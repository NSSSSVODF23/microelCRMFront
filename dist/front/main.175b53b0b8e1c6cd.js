var eZ=Object.defineProperty,tZ=Object.defineProperties,nZ=Object.getOwnPropertyDescriptors,jA=Object.getOwnPropertySymbols,iZ=Object.prototype.hasOwnProperty,oZ=Object.prototype.propertyIsEnumerable,lI=(mn,ht,b)=>ht in mn?eZ(mn,ht,{enumerable:!0,configurable:!0,writable:!0,value:b}):mn[ht]=b,lb=(mn,ht)=>{for(var b in ht||(ht={}))iZ.call(ht,b)&&lI(mn,b,ht[b]);if(jA)for(var b of jA(ht))oZ.call(ht,b)&&lI(mn,b,ht[b]);return mn},cb=(mn,ht)=>tZ(mn,nZ(ht)),Ci=(mn,ht,b)=>(lI(mn,"symbol"!=typeof ht?ht+"":ht,b),b);(self.webpackChunkfront=self.webpackChunkfront||[]).push([[179],{4e3:(mn,ht,b)=>{"use strict";b.d(ht,{Ji:()=>P,PJ:()=>y,S9:()=>a,U1:()=>_,aq:()=>L,ls:()=>f,mo:()=>l,x$:()=>R,zW:()=>g});var e=b(1777);const a=(0,e.X$)("flowInChild",[(0,e.eR)("* => *",[(0,e.IO)(":enter",[(0,e.oB)({opacity:0,transform:"translateY(-2rem)"}),(0,e.EY)(30,(0,e.jt)(".3s",(0,e.oB)({opacity:1,transform:"translateY(0)"})))],{optional:!0})])]),f=(0,e.X$)("flow",[(0,e.eR)(":enter",[(0,e.oB)({opacity:.6,transform:"translateY(.6rem)"}),(0,e.jt)("0.2s",(0,e.oB)({opacity:1,transform:"translateY(0)"}))]),(0,e.eR)(":leave",[(0,e.oB)({opacity:1,transform:"translateY(0)"}),(0,e.jt)("0.2s",(0,e.oB)({opacity:0,transform:"translateY(.6rem)"}))])]),g=(0,e.X$)("flowLeft",[(0,e.eR)(":enter",[(0,e.oB)({opacity:0,transform:"translateX(10rem)"}),(0,e.jt)("0.2s",(0,e.oB)({opacity:1,transform:"translateX(0)"}))]),(0,e.eR)(":leave",[(0,e.oB)({opacity:1,transform:"translateX(0)"}),(0,e.jt)("0.2s",(0,e.oB)({opacity:0,transform:"translateX(10rem)",height:0}))])]),_=(0,e.X$)("fade",[(0,e.eR)(":enter",[(0,e.oB)({opacity:0}),(0,e.jt)("0.2s",(0,e.oB)({opacity:1}))]),(0,e.eR)(":leave",[(0,e.oB)({opacity:1}),(0,e.jt)("0.2s",(0,e.oB)({opacity:0}))])]),P=(0,e.X$)("fadeIn",[(0,e.eR)(":enter",[(0,e.oB)({opacity:0}),(0,e.jt)("0.2s",(0,e.oB)({opacity:1}))])]),y=(0,e.X$)("fadeAlt",[(0,e.SB)("fade",(0,e.oB)({opacity:0})),(0,e.SB)("unfade",(0,e.oB)({opacity:.2})),(0,e.eR)("* => unfade",[(0,e.jt)("0.2s")]),(0,e.eR)("* => fade",[(0,e.jt)("0.2s")])]),l=(0,e.X$)("fadeFullAlt",[(0,e.SB)("fade",(0,e.oB)({opacity:0})),(0,e.SB)("unfade",(0,e.oB)({opacity:1})),(0,e.eR)("* => unfade",[(0,e.jt)("0.2s")]),(0,e.eR)("* => fade",[(0,e.jt)("0.2s")])]),R=(0,e.X$)("swipeChild",[(0,e.eR)("* => *",[(0,e.IO)(":enter",[(0,e.oB)({opacity:0,transform:"translateX(-2rem)"}),(0,e.EY)(85,[(0,e.jt)("250ms",(0,e.oB)({opacity:1,transform:"none"}))])],{optional:!0})])]),L=(0,e.X$)("swipe",[(0,e.SB)("default",(0,e.oB)({opacity:1,transform:"translateX(0)"})),(0,e.SB)("right",(0,e.oB)({opacity:0,transform:"translateX(10%) scale(0.9)",transformOrigin:"center right"})),(0,e.SB)("left",(0,e.oB)({opacity:0,transform:"translateX(-10%) scale(0.9)",transformOrigin:"center left"})),(0,e.eR)("default <=> right",(0,e.jt)("200ms ease-out")),(0,e.eR)("default <=> left",(0,e.jt)("200ms ease-out")),(0,e.eR)("right <=> left",(0,e.jt)("0s"))])},158:(mn,ht,b)=>{"use strict";b.d(ht,{_:()=>_,q:()=>P});var e=b(3470),a=b(5107),f=b(383),g=b(5e3);const _=[{path:"",loadChildren:()=>f.Ke.loadOrDefault("isOffsite",!1)?b.e(31).then(b.bind(b,8031)).then(y=>y.InstallersModule):Promise.resolve().then(b.bind(b,2437)).then(y=>y.MainModule),canActivate:[a.a],canActivateChild:[a.a]},{path:"login",loadChildren:()=>Promise.resolve().then(b.bind(b,975)).then(y=>y.LoginModule)}];let P=(()=>{class y{}return y.\u0275fac=function(R){return new(R||y)},y.\u0275mod=g.oAB({type:y}),y.\u0275inj=g.cJS({imports:[e.Bz.forRoot(_,{}),e.Bz]}),y})()},6081:(mn,ht,b)=>{"use strict";b.d(ht,{G:()=>_t});var e=b(655),a=b(5677),f=b(7579),g=b(9841),_=b(9300),P=b(8372),y=b(1135),l=b(8675),R=b(4004),L=b(3900),J=b(8505),N=b(7384),w=b(2382),x=b(5e3),D=b(8738),S=b(8007),U=b(6768),F=b(9783),ce=b(9808),te=b(1874),V=b(3470),k=b(845),O=b(5315),$=b(1424),ue=b(4500),q=b(8952),Y=b(1828),G=b(6847),he=b(7514),j=b(4383);function Q(et,de){1&et&&(x.ynx(0),x.TgZ(1,"th",28),x._uU(2,"\u041f\u043e\u0440\u0442\u044b "),x._UZ(3,"p-sortIcon",29),x.qZA(),x.BQk())}function K(et,de){1&et&&(x.ynx(0),x.TgZ(1,"th"),x._uU(2,"\u0421\u0442\u0430\u0442\u0443\u0441"),x.qZA(),x.TgZ(3,"th",30),x._uU(4,"\u041b\u043e\u0433\u0438\u043d "),x._UZ(5,"p-sortIcon",31),x.qZA(),x.BQk())}function z(et,de){1&et&&(x.ynx(0),x.TgZ(1,"th"),x._uU(2,"\u0421\u0442\u0430\u0442\u0443\u0441"),x.qZA(),x.BQk())}function oe(et,de){1&et&&(x.TgZ(0,"th"),x._uU(1,"Ping"),x.qZA())}function Te(et,de){if(1&et&&(x.TgZ(0,"tr"),x.YNc(1,Q,4,0,"ng-container",15),x.YNc(2,K,6,0,"ng-container",15),x.YNc(3,z,3,0,"ng-container",15),x.TgZ(4,"th",16),x._uU(5,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f "),x._UZ(6,"p-sortIcon",17),x.qZA(),x.TgZ(7,"th",18),x._uU(8,"\u0412 \u0441\u0435\u0442\u0438 "),x._UZ(9,"p-sortIcon",19),x.qZA(),x.TgZ(10,"th"),x._uU(11,"\u0410\u0434\u0440\u0435\u0441"),x.qZA(),x.TgZ(12,"th",20),x._uU(13,"IP \u0410\u0434\u0440\u0435\u0441 "),x._UZ(14,"p-sortIcon",21),x.qZA(),x.TgZ(15,"th",22),x._uU(16,"MAC \u0410\u0434\u0440\u0435\u0441 "),x._UZ(17,"p-sortIcon",23),x.qZA(),x.TgZ(18,"th",24),x._uU(19,"VLAN "),x._UZ(20,"p-sortIcon",25),x.qZA(),x.TgZ(21,"th",26),x._uU(22,"\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 "),x._UZ(23,"p-sortIcon",27),x.qZA(),x.YNc(24,oe,2,0,"th",15),x.qZA()),2&et){const Je=x.oxw();x.xp6(1),x.Q6J("ngIf","commutator"===Je.filterMode),x.xp6(1),x.Q6J("ngIf","login"!==Je.filterMode),x.xp6(1),x.Q6J("ngIf","login"===Je.filterMode),x.xp6(21),x.Q6J("ngIf",Je.ping)}}function Ae(et,de){if(1&et&&(x.ynx(0),x.TgZ(1,"td")(2,"span"),x._uU(3),x.qZA()(),x.BQk()),2&et){const Je=x.oxw().$implicit;x.xp6(3),x.Oqu(Je.portList)}}function Ke(et,de){if(1&et&&x._UZ(0,"app-colored-tag",41),2&et){const Je=de.ngIf;x.Q6J("caption",Je.statusName)("color",Je.statusColor)}}function be(et,de){1&et&&x.GkF(0)}const Qe=function(){return{width:"65px"}};function X(et,de){if(1&et&&(x.ynx(0),x.YNc(1,be,1,0,"ng-container",42),x.BQk()),2&et){x.oxw(4);const Je=x.MAs(15);x.xp6(1),x.Q6J("ngTemplateOutlet",Je)("ngTemplateOutletContext",x.DdM(2,Qe))}}function xe(et,de){if(1&et&&(x.ynx(0),x.YNc(1,Ke,1,2,"app-colored-tag",40),x.YNc(2,X,2,3,"ng-container",15),x.BQk()),2&et){const Je=x.oxw(2).$implicit,ze=x.oxw();x.xp6(1),x.Q6J("ngIf",ze.bindingsUserBriefs[Je.authName]),x.xp6(1),x.Q6J("ngIf",!ze.bindingsUserBriefs[Je.authName])}}const we=function(et){return["/clients","billing","user",et]};function Oe(et,de){if(1&et&&(x.TgZ(0,"span",43),x._uU(1),x.qZA()),2&et){const Je=x.oxw(2).$implicit;x.Q6J("routerLink",x.VKq(2,we,Je.authName)),x.xp6(1),x.hij(" ",Je.authName," ")}}function dt(et,de){if(1&et&&(x.ynx(0),x.TgZ(1,"td"),x.YNc(2,xe,3,2,"ng-container",36),x.qZA(),x.TgZ(3,"td",38),x.NdJ("click",function(ze){return ze.stopPropagation()}),x.YNc(4,Oe,2,4,"span",39),x.qZA(),x.BQk()),2&et){const Je=x.oxw().$implicit;x.oxw();const ze=x.MAs(17);x.xp6(2),x.Q6J("ngIf",Je.authName)("ngIfElse",ze),x.xp6(2),x.Q6J("ngIf",Je.authName)("ngIfElse",ze)}}function bt(et,de){1&et&&(x.TgZ(0,"span",44),x._uU(1,"\u041e\u043d\u043b\u0430\u0439\u043d"),x.qZA())}function it(et,de){1&et&&(x.TgZ(0,"span",45),x._uU(1,"\u041e\u0444\u043b\u0430\u0439\u043d"),x.qZA())}function Dt(et,de){if(1&et&&(x.ynx(0),x.TgZ(1,"td"),x.YNc(2,bt,2,0,"span",33),x.YNc(3,it,2,0,"span",34),x.qZA(),x.BQk()),2&et){const Je=x.oxw().$implicit;x.xp6(2),x.Q6J("ngIf","ONLINE"===Je.onlineStatus),x.xp6(1),x.Q6J("ngIf","ONLINE"!==Je.onlineStatus)}}function vt(et,de){1&et&&(x.TgZ(0,"span",44),x._uU(1,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),x.qZA())}function Gt(et,de){1&et&&(x.TgZ(0,"span",45),x._uU(1,"\u041d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),x.qZA())}function Ht(et,de){if(1&et&&(x.TgZ(0,"span"),x._uU(1),x.qZA()),2&et){const Je=de.ngIf;x.xp6(1),x.hij(" ",Je.address," ")}}function Ut(et,de){1&et&&x.GkF(0)}const ct=function(){return{width:"105px"}};function at(et,de){if(1&et&&(x.ynx(0),x.YNc(1,Ut,1,0,"ng-container",42),x.BQk()),2&et){x.oxw(3);const Je=x.MAs(15);x.xp6(1),x.Q6J("ngTemplateOutlet",Je)("ngTemplateOutletContext",x.DdM(2,ct))}}function fe(et,de){if(1&et&&(x.ynx(0),x.YNc(1,Ht,2,1,"span",15),x.YNc(2,at,2,3,"ng-container",15),x.BQk()),2&et){const Je=x.oxw().$implicit,ze=x.oxw();x.xp6(1),x.Q6J("ngIf",ze.bindingsUserBriefs[Je.authName]),x.xp6(1),x.Q6J("ngIf",!ze.bindingsUserBriefs[Je.authName])}}function ke(et,de){if(1&et&&(x.TgZ(0,"td"),x._uU(1),x.qZA()),2&et){const Je=x.oxw().$implicit;x.xp6(1),x.Oqu(Je.macaddr)}}function ot(et,de){if(1&et&&(x.TgZ(0,"td"),x._UZ(1,"app-binding-connection-location-view",46),x.qZA()),2&et){const Je=x.oxw().$implicit;x.xp6(1),x.Q6J("binding",Je)}}function Ct(et,de){if(1&et&&(x.ynx(0),x.TgZ(1,"span",0)(2,"span"),x._uU(3),x.ALo(4,"number"),x.qZA(),x.TgZ(5,"span"),x._uU(6),x.ALo(7,"number"),x.qZA()(),x.BQk()),2&et){const Je=de.ngIf;x.xp6(1),x.Q6J("ngClass",Je.styleClass),x.xp6(2),x.hij(" ",999===Je.latency?"- ":x.xi3(4,3,Je.latency,"1.2-2"),"\u043c\u0441 "),x.xp6(3),x.hij(" ",x.xi3(7,6,Je.loss,"1.2-2"),"% ")}}function Ot(et,de){1&et&&x.GkF(0)}const Nt=function(){return{width:"85px"}};function Mt(et,de){if(1&et&&(x.ynx(0),x.YNc(1,Ot,1,0,"ng-container",42),x.BQk()),2&et){x.oxw(4);const Je=x.MAs(15);x.xp6(1),x.Q6J("ngTemplateOutlet",Je)("ngTemplateOutletContext",x.DdM(2,Nt))}}function Ye(et,de){if(1&et&&(x.ynx(0),x.YNc(1,Ct,8,9,"ng-container",15),x.ALo(2,"async"),x.YNc(3,Mt,2,3,"ng-container",15),x.ALo(4,"async"),x.BQk()),2&et){const Je=x.oxw(2).$implicit,ze=x.oxw();x.xp6(1),x.Q6J("ngIf",x.lcZ(2,2,ze.bindingsPings[Je.ipaddr])),x.xp6(2),x.Q6J("ngIf",!x.lcZ(4,4,ze.bindingsPings[Je.ipaddr]))}}function st(et,de){if(1&et&&(x.TgZ(0,"td"),x.YNc(1,Ye,5,6,"ng-container",36),x.qZA()),2&et){const Je=x.oxw().$implicit;x.oxw();const ze=x.MAs(17);x.xp6(1),x.Q6J("ngIf",Je.ipaddr)("ngIfElse",ze)}}function je(et,de){if(1&et){const Je=x.EpF();x.TgZ(0,"tr",32),x.NdJ("click",function(wt){const qt=x.CHM(Je).$implicit,fn=x.oxw(),Jt=x.MAs(6);return x.KtG(fn.selectBinding(wt,qt,Jt))}),x.YNc(1,Ae,4,1,"ng-container",15),x.YNc(2,dt,5,4,"ng-container",15),x.YNc(3,Dt,4,2,"ng-container",15),x.TgZ(4,"td"),x.YNc(5,vt,2,0,"span",33),x.YNc(6,Gt,2,0,"span",34),x.qZA(),x.TgZ(7,"td"),x._UZ(8,"app-time-elapsed",35),x.qZA(),x.TgZ(9,"td"),x.YNc(10,fe,3,2,"ng-container",36),x.qZA(),x.TgZ(11,"td"),x._uU(12),x.qZA(),x.YNc(13,ke,2,1,"td",15),x.YNc(14,ot,2,1,"td",15),x.TgZ(15,"td"),x._uU(16),x.qZA(),x.TgZ(17,"td")(18,"div",37),x._uU(19),x.qZA()(),x.YNc(20,st,2,2,"td",15),x.qZA()}if(2&et){const Je=de.$implicit,ze=x.oxw(),wt=x.MAs(17);x.xp6(1),x.Q6J("ngIf","commutator"===ze.filterMode),x.xp6(1),x.Q6J("ngIf","login"!==ze.filterMode),x.xp6(1),x.Q6J("ngIf","login"===ze.filterMode),x.xp6(2),x.Q6J("ngIf",Je.isAuth),x.xp6(1),x.Q6J("ngIf",!Je.isAuth),x.xp6(2),x.Q6J("startTime",Je.leaseStart),x.xp6(2),x.Q6J("ngIf",Je.authName)("ngIfElse",wt),x.xp6(2),x.Oqu(Je.ipaddr),x.xp6(1),x.Q6J("ngIf","commutator"===ze.filterMode),x.xp6(1),x.Q6J("ngIf","commutator"!==ze.filterMode),x.xp6(2),x.Oqu(Je.vlanid),x.xp6(3),x.hij(" ",Je.dhcpHostname," "),x.xp6(1),x.Q6J("ngIf",ze.ping)}}function It(et,de){if(1&et){const Je=x.EpF();x.TgZ(0,"p-button",47),x.NdJ("onClick",function(){x.CHM(Je);const wt=x.oxw();return x.KtG(wt.bindingsUpdator$.next(!0))}),x.qZA()}if(2&et){const Je=x.oxw();x.Q6J("disabled",Je.bindingsLoadingState!==Je.LoadingState.READY)}}function ne(et,de){1&et&&x._UZ(0,"p-skeleton",48),2&et&&x.Q6J("width",de.width)}function Ne(et,de){1&et&&(x.TgZ(0,"span",49),x._uU(1," - "),x.qZA())}const me=function(et){return{"flex flex-grow-1 overflow-hidden border-round border-1 border-bluegray-100":et}},gt=function(){return[]},un=function(et){return{field:"leaseStart",order:et}},In=function(et){return[et]},en=function(){return[10,25,50,100]};let _t=class{constructor(de,Je,ze,wt){this.api=de,this.rt=Je,this.blockService=ze,this.toast=wt,this.LoadingState=N.Gu,this.inline=!1,this.ping=!0,this.filterId$=new f.x,this.filterMode$=new f.x,this.bindingsStatus$=new f.x,this.filterOptionsChanged$=(0,g.a)([this.filterId$.pipe((0,_.h)(Fe=>!!Fe)),this.filterMode$.pipe((0,_.h)(Fe=>!!Fe))]).pipe((0,P.b)(1)),this.bindingsLoadingState=N.Gu.LOADING,this.bindingsTableOffset=0,this.bindingsPings={},this.bindingsUserBriefs={},this.bindingContextOptions=[],this.userAuthDialogVisible=!1,this.selectBindingForAuth=null,this.authUserForm=new w.cw({login:new w.NI("",[w.kI.required]),macaddr:new w.NI("",[w.kI.required])}),this.bindingsLazyLoad$=new f.x,this.bindingsUpdator$=new y.X(!0),this.filterData$=(0,g.a)([this.bindingsLazyLoad$,this.bindingsStatus$.pipe((0,l.O)(void 0))]).pipe((0,P.b)(1),(0,R.U)(([{first:Fe,rows:qt,multiSortMeta:fn},Jt])=>({page:Fe/qt,filter:{size:qt,status:Jt,sort:fn}}))),this.bindingRTUpdate$=this.filterOptionsChanged$.pipe((0,L.w)(([Fe,qt])=>this.rt.acpDhcpBindingUpdated().pipe((0,_.h)(fn=>"login"===qt?fn.authName===Fe:"vlan"!==qt||fn.vlanid===Number.parseInt(Fe)))),(0,l.O)(null)),this.bindings$=(0,g.a)([this.filterOptionsChanged$,this.filterData$,this.bindingsUpdator$,this.bindingRTUpdate$]).pipe((0,J.b)(()=>this.bindingsLoadingState=N.Gu.LOADING),(0,L.w)(([[Fe,qt],{page:fn,filter:Jt}])=>"login"===qt?this.api.getBindingsByLogin(Fe,fn,Jt):"vlan"===qt?this.api.getBindingsByVlan(Number.parseInt(Fe),fn,Jt):"building-by-login"===qt?this.api.getBindingsFromBuildingByLogin(Fe,fn,Jt):"commutator"===qt?this.api.getBindingsByCommutator(Fe,fn,Jt):this.api.getBindingsByBuildingId(Number.parseInt(Fe),fn,Jt)),(0,J.b)({next:Fe=>{this.bindingsLoadingState=N.Gu.READY,this.bindingsPings={},this.bindingsUserBriefs={};for(const{ipaddr:qt}of Fe.content)qt&&(this.bindingsPings[qt]=this.pingObserver(qt));this.api.getBulkUserBriefInfo(Fe.content.filter(qt=>qt.authName).map(qt=>qt.authName)).subscribe(qt=>this.bindingsUserBriefs=qt)},error:()=>this.bindingsLoadingState=N.Gu.ERROR})),this.bindingsPage=null,this.bindingsPageSub=this.bindings$.subscribe(Fe=>this.bindingsPage=Fe)}ngOnInit(){}selectBinding(de,Je,ze){const{clientX:wt,clientY:Fe}=de,qt=document.createElement("div");qt.className="fixed w-1rem h-1rem pointer-events-none",qt.style.left=wt+"px",qt.style.top=Fe+"px",document.body.appendChild(qt),this.bindingContextOptions=[{icon:"mdi-web",label:"\u0423\u0434\u0430\u043b\u0435\u043d\u043a\u0430",disabled:!Je.ipaddr,command:()=>{this.openWeb(Je.ipaddr)}},{icon:"mdi-password",label:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c",command:()=>{this.selectBindingForAuth=Je,this.userAuthDialogVisible=!0,this.authUserForm.reset({login:this.preparedAuthLogin?this.preparedAuthLogin:"",macaddr:Je.macaddr})}}],ze.show(de),setTimeout(()=>{ze.target=qt,ze.alignOverlay(),document.body.removeChild(qt)})}authUser(){const{login:de,macaddr:Je}=this.authUserForm.value;!de||!Je||(this.blockService.wait({message:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"}),this.api.authDhcpBinding(de,Je).subscribe({next:()=>{this.blockService.unblock(),this.userAuthDialogVisible=!1},error:()=>this.blockService.unblock()}))}openWeb(de){this.blockService.wait({message:"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430"}),this.api.checkRemoteControl(de).subscribe({next:Je=>{this.blockService.unblock(),Je.hasAccess&&Je.webPort?window.open(`http://${de}:${Je.webPort}`,"_blank"):this.toast.add({detail:"\u041d\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430",severity:"dark",key:"darktoast",icon:"mdi-web",closable:!1})},error:()=>{this.blockService.unblock()}})}pingObserver(de){return this.rt.pingMonitoring(de).pipe((0,R.U)(Je=>{const ze=100-Je.reachablePercentage;return{online:Je.isReachable,latency:Je.delayAvg,loss:ze,styleClass:ze>0?"text-red-400":"text-green-400"}}))}};_t.\u0275fac=function(de){return new(de||_t)(x.Y36(D.s),x.Y36(S.U),x.Y36(U.A),x.Y36(F.ez))},_t.\u0275cmp=x.Xpm({type:_t,selectors:[["app-bindings-table"]],inputs:{filterId:"filterId",filterMode:"filterMode",bindingsStatus:"bindingsStatus",inline:"inline",preparedAuthLogin:"preparedAuthLogin",ping:"ping"},decls:18,vars:30,consts:[[3,"ngClass"],["styleClass","p-datatable-sm flex-grow-1","dataKey","id","paginatorDropdownAppendTo","body","currentPageReportTemplate","\u041d\u0430\u0439\u0434\u0435\u043d\u043e {totalRecords} \u0441\u0435\u0441\u0441\u0438\u0439","sortMode","multiple",1,"flex-grow-1",3,"value","totalRecords","showCurrentPageReport","multiSortMeta","rowsPerPageOptions","paginator","first","lazy","rows","firstChange","onLazyLoad"],["pTemplate","header"],["pTemplate","body"],["pTemplate","paginatorright"],["appendTo","body",3,"popup","model"],["bindingContextPanel",""],["header","\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0434 \u043b\u043e\u0433\u0438\u043d\u043e\u043c","appendTo","body","contentStyleClass","flex flex-column gap-3",3,"visible","modal","draggable","dismissableMask","visibleChange"],["userAuthDialog",""],[1,"font-bold","text-bluegray-500"],[1,"flex","gap-3",3,"formGroup"],["pInputText","","placeholder","\u041b\u043e\u0433\u0438\u043d \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438","formControlName","login",1,"flex-grow-1",3,"autofocus"],["pButton","","type","button","label","\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c",1,"p-button-success",3,"disabled","click"],["loadingCellTemplate",""],["emptyCellTemplate",""],[4,"ngIf"],["pSortableColumn","authExpire"],["field","authExpire"],["pSortableColumn","leaseStart"],["field","leaseStart"],["pSortableColumn","ipaddr"],["field","ipaddr"],["pSortableColumn","macaddr"],["field","macaddr"],["pSortableColumn","vlanid"],["field","vlanid"],["pSortableColumn","dhcpHostname"],["field","dhcpHostname"],["pSortableColumn","ports"],["field","ports"],["pSortableColumn","authName"],["field","authName"],[1,"cursor-pointer","hover:bg-bluegray-50",3,"click"],["class","font-bold text-green-400",4,"ngIf"],["class","font-bold text-gray-400",4,"ngIf"],["type","short",3,"startTime"],[4,"ngIf","ngIfElse"],["appTicker","",1,"max-w-10rem","white-space-nowrap","overflow-hidden"],[1,"font-bold","text-primary","hover:text-primary-700","cursor-pointer",3,"click"],[3,"routerLink",4,"ngIf","ngIfElse"],[3,"caption","color",4,"ngIf"],[3,"caption","color"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"routerLink"],[1,"font-bold","text-green-400"],[1,"font-bold","text-gray-400"],[3,"binding"],["type","button","icon","mdi-update","label","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c","styleClass","p-button-text",3,"disabled","onClick"],[3,"width"],[1,"text-bluegray-300","text-xl","font-bold"]],template:function(de,Je){if(1&de&&(x.TgZ(0,"div",0)(1,"p-table",1),x.NdJ("firstChange",function(wt){return Je.bindingsTableOffset=wt})("onLazyLoad",function(wt){return Je.bindingsLazyLoad$.next(wt)}),x.YNc(2,Te,25,4,"ng-template",2),x.YNc(3,je,21,14,"ng-template",3),x.YNc(4,It,1,1,"ng-template",4),x.qZA()(),x._UZ(5,"p-menu",5,6),x.TgZ(7,"p-dialog",7,8),x.NdJ("visibleChange",function(wt){return Je.userAuthDialogVisible=wt}),x.TgZ(9,"span",9),x._uU(10),x.qZA(),x.TgZ(11,"div",10),x._UZ(12,"input",11),x.TgZ(13,"button",12),x.NdJ("click",function(){return Je.authUser()}),x.qZA()()(),x.YNc(14,ne,1,1,"ng-template",null,13,x.W1O),x.YNc(16,Ne,2,0,"ng-template",null,14,x.W1O)),2&de){let ze,wt;x.Q6J("ngClass",x.VKq(22,me,!Je.inline)),x.xp6(1),x.Q6J("value",null!==(ze=null==Je.bindingsPage?null:Je.bindingsPage.content)&&void 0!==ze?ze:x.DdM(24,gt))("totalRecords",null!==(wt=null==Je.bindingsPage?null:Je.bindingsPage.totalElements)&&void 0!==wt?wt:0)("showCurrentPageReport",!0)("multiSortMeta",x.VKq(27,In,x.VKq(25,un,-1)))("rowsPerPageOptions",x.DdM(29,en))("paginator",!0)("first",Je.bindingsTableOffset)("lazy",!0)("rows",10),x.xp6(4),x.Q6J("popup",!0)("model",Je.bindingContextOptions),x.xp6(2),x.Q6J("visible",Je.userAuthDialogVisible)("modal",!0)("draggable",!0)("dismissableMask",!0),x.xp6(3),x.lnq("\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 ",null==Je.selectBindingForAuth?null:Je.selectBindingForAuth.dhcpHostname," ",null==Je.selectBindingForAuth?null:Je.selectBindingForAuth.ipaddr," ",null==Je.selectBindingForAuth?null:Je.selectBindingForAuth.macaddr,""),x.xp6(1),x.Q6J("formGroup",Je.authUserForm),x.xp6(1),x.Q6J("autofocus",!0),x.xp6(1),x.Q6J("disabled",Je.authUserForm.invalid)}},dependencies:[ce.mk,ce.O5,ce.tP,te.v2,V.rH,k.Hq,k.zx,w.Fj,w.JJ,w.JL,F.jx,O.V,$.o,ue.O,w.sg,w.u,q.iA,q.lQ,q.fz,Y.C,G.j,he.x,j.O,ce.Ov,ce.JJ]}),(0,e.gn)([(0,a.bQ)("filterId")],_t.prototype,"filterId$",void 0),(0,e.gn)([(0,a.bQ)("filterMode")],_t.prototype,"filterMode$",void 0),(0,e.gn)([(0,a.bQ)("bindingsStatus")],_t.prototype,"bindingsStatus$",void 0),_t=(0,e.gn)([(0,a.kG)()],_t)},9706:(mn,ht,b)=>{"use strict";b.d(ht,{J:()=>j});var e=b(4004),a=b(2382),f=b(5e3),g=b(8028),_=b(3470),P=b(8738),y=b(9744),l=b(9808),R=b(1874),L=b(845),J=b(4036),N=b(9783),w=b(5315),x=b(85),D=b(3877),S=b(5072),U=b(3460);const F=["menu"];function ce(Q,K){1&Q&&f.GkF(0)}function te(Q,K){if(1&Q){const z=f.EpF();f.ynx(0),f.TgZ(1,"p-button",26),f.NdJ("onClick",function(Te){f.CHM(z),f.oxw(2);const Ae=f.MAs(19);return f.KtG(Ae.toggle(Te))}),f.qZA(),f.YNc(2,ce,1,0,"ng-container",27),f.BQk()}if(2&Q){const z=f.oxw(2),oe=f.MAs(23),Te=f.MAs(21);f.xp6(2),f.Q6J("ngIf",z.notifyService.isHasUnread)("ngIfThen",oe)("ngIfElse",Te)}}function V(Q,K){if(1&Q&&(f.ynx(0),f._UZ(1,"app-avatar",21),f.TgZ(2,"div",22)(3,"span",23),f._uU(4),f.qZA(),f.TgZ(5,"span",24),f._uU(6),f.qZA()(),f.YNc(7,te,3,3,"ng-container",25),f.BQk()),2&Q){const z=K.ngIf;f.oxw();const oe=f.MAs(25);f.xp6(1),f.Q6J("name",z.fullName)("size",3)("src",z.avatar),f.xp6(3),f.Oqu(z.fullName),f.xp6(2),f.Oqu(null==z.position?null:z.position.name),f.xp6(1),f.Q6J("ngIf",!z.offsite)("ngIfElse",oe)}}function k(Q,K){1&Q&&(f.TgZ(0,"div",28),f._UZ(1,"i",29),f.qZA())}function O(Q,K){if(1&Q&&f._UZ(0,"img",30),2&Q){const z=f.oxw();f.Q6J("src",z.croppedImage,f.LSH)}}const $=function(){return[]};function ue(Q,K){if(1&Q){const z=f.EpF();f._UZ(0,"p-dropdown",31),f.ALo(1,"async"),f.TgZ(2,"p-button",32),f.NdJ("onClick",function(){f.CHM(z);const Te=f.oxw();return f.KtG(Te.bindPhone())}),f.qZA()}if(2&Q){const z=f.oxw();let oe;f.Q6J("options",null!==(oe=f.lcZ(1,4,z.phones$))&&void 0!==oe?oe:f.DdM(6,$))("formControl",z.phyPhoneControl)("disabled",z.isPhyPhoneIsBinding),f.xp6(2),f.Q6J("loading",z.isPhyPhoneIsBinding)}}function q(Q,K){if(1&Q){const z=f.EpF();f.TgZ(0,"p-button",33),f.NdJ("onClick",function(){f.CHM(z);const Te=f.oxw();return f.KtG(Te.notifyService.showSideBar())}),f.qZA()}}function Y(Q,K){if(1&Q){const z=f.EpF();f.TgZ(0,"span",34)(1,"p-button",35),f.NdJ("onClick",function(){f.CHM(z);const Te=f.oxw();return f.KtG(Te.notifyService.showSideBar())}),f.qZA()()}if(2&Q){const z=f.oxw();f.Q6J("value",z.notifyService.unreadCount.toString())}}function G(Q,K){if(1&Q){const z=f.EpF();f.TgZ(0,"p-button",36),f.NdJ("onClick",function(){f.CHM(z);const Te=f.oxw();return f.KtG(Te.exitFromAccount())}),f.qZA()}}const he=function(){return{maxWidth:"40vw",minWidth:"15rem",height:"fit-content"}};let j=(()=>{class Q{constructor(z,oe,Te,Ae){this.personality=z,this.router=oe,this.api=Te,this.notifyService=Ae,this.avatarChangeDialogVisible=!1,this.phyPhoneSelectionDialogVisible=!1,this.phyPhoneControl=new a.NI(null),this.isPhyPhoneIsBinding=!1,this.controls=[{label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",command:()=>this.avatarChangeDialogVisible=!0},{label:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0435\u043b\u0435\u0444\u043e\u043d",command:()=>this.openPhyPhoneSelectionDialog()},{label:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",command:this.exitFromAccount.bind(this)}],this.imageChangedEvent="",this.croppedImage="",this.avatarUpload=!1,this.phones$=this.api.getPhyPhoneList().pipe((0,e.U)(Ke=>[{label:"\u0411\u0435\u0437 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",value:null},...Ke]))}ngOnInit(){}exitFromAccount(){this.api.signOut().subscribe(()=>{this.router.navigate(["/login"]).then()})}openPhyPhoneSelectionDialog(){var z,oe;this.personality.me&&this.phyPhoneControl.setValue(null!==(oe=null===(z=this.personality.me.phyPhoneInfo)||void 0===z?void 0:z.phyPhoneInfoId)&&void 0!==oe?oe:null),this.phyPhoneSelectionDialogVisible=!0}imageCropped(z){this.croppedImage=z.base64}imageLoaded(z){}cropperReady(){}loadImageFailed(){}saveAvatar(){!this.croppedImage||(this.avatarUpload=!0,this.api.setAvatar(this.croppedImage).subscribe({next:()=>{this.avatarUpload=!1,this.avatarChangeDialogVisible=!1,this.imageChangedEvent=void 0},error:()=>{this.avatarUpload=!1}}))}selectFile(z){z.click()}bindPhone(){this.isPhyPhoneIsBinding=!0,this.api.setPhyPhoneBind(this.phyPhoneControl.value).subscribe({next:()=>{this.isPhyPhoneIsBinding=!1,this.phyPhoneSelectionDialogVisible=!1},error:()=>{this.isPhyPhoneIsBinding=!1}})}ngOnDestroy(){}}return Q.\u0275fac=function(z){return new(z||Q)(f.Y36(g.F),f.Y36(_.F0),f.Y36(P.s),f.Y36(y.T))},Q.\u0275cmp=f.Xpm({type:Q,selectors:[["app-account-panel"]],viewQuery:function(z,oe){if(1&z&&f.Gf(F,5),2&z){let Te;f.iGM(Te=f.CRH())&&(oe.accountPanelMenu=Te.first)}},decls:26,vars:31,consts:[[1,"flexed","hcenter","gap5","wrapper"],[4,"ngIf"],["appendTo","body","header","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",3,"visible","draggable","modal","resizable","dismissableMask","visibleChange"],[1,"avatar-change-content"],[1,"flexed","gap10","p5","hcenter","vcenter"],[1,"preview-wrapper"],["class","preview unselect",4,"ngIf"],["class","preview","alt","",3,"src",4,"ngIf"],[1,"flexed","column","gap5"],["label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","icon","mdi-image","styleClass","p-button-text p-button-secondary",3,"disabled","onClick"],["label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","icon","mdi-upload",3,"loading","disabled","onClick"],["type","file","accept","image/jpeg, image/png, image/jpg, image/bmp",3,"change"],["fileInput",""],["format","png",3,"aspectRatio","cropperMinWidth","cropperMinHeight","imageChangedEvent","maintainAspectRatio","cropperReady","imageCropped","imageLoaded","loadImageFailed"],["appendTo","body","header","\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c \u0442\u0435\u043b\u0435\u0444\u043e\u043d","contentStyleClass","flex gap-3 align-items-center pt-1",3,"visible","draggable","modal","resizable","dismissableMask","visibleChange"],["pTemplate","content"],["appendTo","body","appCloseIfScroll","",3,"model","popup","baseZIndex","isVisible","alignFn"],["menu",""],["emptyNoti",""],["fullNoti",""],["logoutButtonTemp",""],[3,"name","size","src"],[1,"flexed","column","account"],[1,"account-name"],[1,"account-position"],[4,"ngIf","ngIfElse"],["icon","mdi-more_vert","styleClass","p-button-text p-button-icon p-button-rounded",3,"onClick"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"preview","unselect"],[1,"mdi-image"],["alt","",1,"preview",3,"src"],["appendTo","body",3,"options","formControl","disabled"],["label","\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c",3,"loading","onClick"],["icon","mdi-notifications_none","styleClass","p-button-text p-button-icon p-button-rounded",3,"onClick"],["pBadge","","severity","warning",3,"value"],["icon","mdi-notifications_active","styleClass","p-button-text p-button-icon p-button-rounded",3,"onClick"],["label","\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430","icon","mdi-logout","styleClass","p-button-text p-button-secondary",3,"onClick"]],template:function(z,oe){if(1&z){const Te=f.EpF();f.TgZ(0,"div",0),f.YNc(1,V,8,7,"ng-container",1),f.qZA(),f.TgZ(2,"p-dialog",2),f.NdJ("visibleChange",function(Ke){return oe.avatarChangeDialogVisible=Ke}),f.TgZ(3,"div",3)(4,"div",4)(5,"div",5),f.YNc(6,k,2,0,"div",6),f.YNc(7,O,1,1,"img",7),f.TgZ(8,"span"),f._uU(9," \u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 "),f.qZA()(),f.TgZ(10,"div",8)(11,"p-button",9),f.NdJ("onClick",function(){f.CHM(Te);const Ke=f.MAs(14);return f.KtG(oe.selectFile(Ke))}),f.qZA(),f.TgZ(12,"p-button",10),f.NdJ("onClick",function(){return oe.saveAvatar()}),f.qZA()(),f.TgZ(13,"input",11,12),f.NdJ("change",function(Ke){return oe.imageChangedEvent=Ke}),f.qZA()(),f.TgZ(15,"image-cropper",13),f.NdJ("cropperReady",function(){return oe.cropperReady()})("imageCropped",function(Ke){return oe.imageCropped(Ke)})("imageLoaded",function(Ke){return oe.imageLoaded(Ke)})("loadImageFailed",function(){return oe.loadImageFailed()}),f.qZA()()(),f.TgZ(16,"p-dialog",14),f.NdJ("visibleChange",function(Ke){return oe.phyPhoneSelectionDialogVisible=Ke}),f.YNc(17,ue,3,7,"ng-template",15),f.qZA(),f._UZ(18,"p-menu",16,17),f.YNc(20,q,1,0,"ng-template",null,18,f.W1O),f.YNc(22,Y,2,1,"ng-template",null,19,f.W1O),f.YNc(24,G,1,0,"ng-template",null,20,f.W1O)}if(2&z){const Te=f.MAs(19);f.xp6(1),f.Q6J("ngIf",oe.personality.me),f.xp6(1),f.Q6J("visible",oe.avatarChangeDialogVisible)("draggable",!1)("modal",!0)("resizable",!1)("dismissableMask",!0),f.xp6(4),f.Q6J("ngIf",!oe.croppedImage),f.xp6(1),f.Q6J("ngIf",oe.croppedImage),f.xp6(4),f.Q6J("disabled",oe.avatarUpload),f.xp6(1),f.Q6J("loading",oe.avatarUpload)("disabled",!oe.croppedImage),f.xp6(1),f.Udp("display","none"),f.xp6(2),f.Akn(f.DdM(30,he)),f.Q6J("aspectRatio",1)("cropperMinWidth",64)("cropperMinHeight",64)("imageChangedEvent",oe.imageChangedEvent)("maintainAspectRatio",!0),f.xp6(1),f.Q6J("visible",oe.phyPhoneSelectionDialogVisible)("draggable",!0)("modal",!0)("resizable",!1)("dismissableMask",!0),f.xp6(2),f.Q6J("model",oe.controls)("popup",!0)("baseZIndex",2e3)("isVisible",Te.visible)("alignFn",Te.alignOverlay.bind(Te))}},dependencies:[l.O5,R.v2,L.zx,a.JJ,J.Lt,N.jx,w.V,x.lM,D.ap,a.oH,S.A,U.j,l.Ov],styles:[".avatar-change-content[_ngcontent-%COMP%]{display:grid;grid:min-content 1fr/1fr}.avatar-change-content[_ngcontent-%COMP%]   .avatar-change-buttons[_ngcontent-%COMP%]{display:grid;gap:1rem}.avatar-change-content[_ngcontent-%COMP%]   .avatar-change-buttons[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.preview-wrapper[_ngcontent-%COMP%]{display:grid;gap:.5rem;background-color:var(--bgc-100);border-radius:1rem;color:var(--tc-600);justify-items:center;padding:1rem;font-weight:700}.preview-wrapper[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:6rem;height:6rem;border-radius:50%;object-fit:cover;object-position:center}.preview-wrapper[_ngcontent-%COMP%]   .preview.unselect[_ngcontent-%COMP%]{background-color:var(--bgc-400);border:1px solid var(--bgc-500);color:#fff;font-size:1.5rem;position:relative}.preview-wrapper[_ngcontent-%COMP%]   .preview.unselect[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;transform-origin:center;top:50%;left:50%;transform:translate(-50%,-50%)}.account-name[_ngcontent-%COMP%]{color:var(--tc-700);font-size:1.1rem;white-space:nowrap}.account-position[_ngcontent-%COMP%]{color:var(--tc-500);font-size:.9rem}.cropper-style[_ngcontent-%COMP%]{min-width:20rem;min-height:20rem;max-width:50vw;max-height:50vh;border:1px solid var(--bgc-300);border-radius:.5rem;overflow:hidden}.avatar-preview[_ngcontent-%COMP%]{width:10rem;height:10rem;margin-top:.5rem;overflow:hidden;border-radius:50%;display:grid;grid:1fr/1fr;outline:var(--bgc-300) solid 2px;outline-offset:1px}.avatar-preview[_ngcontent-%COMP%] > .ph[_ngcontent-%COMP%]{background-color:var(--bgc-500);color:#fff;font-weight:500}.avatar-preview[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-area:1/1/2/2;width:inherit;height:inherit}.avatar-preview-image[_ngcontent-%COMP%]{width:inherit;height:inherit;z-index:1}.noti[_ngcontent-%COMP%]{margin:0}"]}),Q})()},9138:(mn,ht,b)=>{"use strict";b.d(ht,{N:()=>w});var e=b(5e3),a=b(2382),f=b(7579),g=b(8372),_=b(3900),P=b(599),y=b(4782),l=b(383),R=b(8738),L=b(2145),J=b(9808);const N=function(){return[]};let w=(()=>{class x{constructor(S){this.api=S,this.control=new a.NI(null),this.queryInput=new f.x,this.suggestions$=this.queryInput.pipe((0,g.b)(500),(0,_.w)(U=>this.api.getBuildings(U)),(0,P.r)(),(0,y.d)(1)),this.subscriptions=new l.xf,this.onChange=U=>{},this.onTouched=()=>{}}ngOnInit(){this.subscriptions.addSubscription("chng",this.control.valueChanges.subscribe(S=>{this.onChange(S)}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(S){this.onChange=S}registerOnTouched(S){this.onTouched=S}setDisabledState(S){S?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}writeValue(S){this.control.patchValue(S)}}return x.\u0275fac=function(S){return new(S||x)(e.Y36(R.s))},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-acp-house-input"]],features:[e._Bn([{provide:a.JU,useExisting:(0,e.Gpc)(()=>x),multi:!0}])],decls:2,vars:9,consts:[["emptyMessage","\u0410\u0434\u0440\u0435\u0441\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b","field","fullName","placeholder","\u0410\u0434\u0440\u0435\u0441...","appendTo","body",3,"formControl","showClear","showEmptyMessage","suggestions","forceSelection","completeOnFocus","onClear","onBlur","completeMethod"]],template:function(S,U){if(1&S&&(e.TgZ(0,"p-autoComplete",0),e.NdJ("onClear",function(){return U.control.patchValue(null)})("onBlur",function(){return U.onTouched()})("completeMethod",function(ce){return U.queryInput.next(ce.query)}),e.ALo(1,"async"),e.qZA()),2&S){let F;e.Q6J("formControl",U.control)("showClear",!0)("showEmptyMessage",!0)("suggestions",null!==(F=e.lcZ(1,6,U.suggestions$))&&void 0!==F?F:e.DdM(8,N))("forceSelection",!0)("completeOnFocus",!0)}},dependencies:[a.JJ,a.oH,L.Qc,J.Ov]}),x})()},1179:(mn,ht,b)=>{"use strict";b.d(ht,{r:()=>ue});var e=b(7579),a=b(8372),f=b(3900),g=b(4782),_=b(2529),P=b(9841),y=b(4004),l=b(4464),R=b(590),L=b(2382),J=b(5e3),N=b(8738),w=b(9808),x=b(845),D=b(8050),S=b(7010),U=b(5315),F=b(2537),ce=b(2145),te=b(242),V=b(9138);const k=["houseControl"],O=function(){return[]};function $(q,Y){if(1&q){const G=J.EpF();J.TgZ(0,"p-autoComplete",19,20),J.NdJ("ngModelChange",function(j){J.CHM(G);const Q=J.oxw();return J.KtG(Q.selectedAddress=j)})("ngModelChange",function(j){J.CHM(G);const Q=J.oxw();return J.KtG(Q.onChange(j))})("completeMethod",function(j){J.CHM(G);const Q=J.oxw();return J.KtG(Q.addressSearch(j.query))}),J.ALo(2,"async"),J.qZA()}if(2&q){const G=J.oxw();let he;J.Q6J("ngClass",G.inputClasses)("ngModel",G.selectedAddress)("suggestions",null!==(he=J.lcZ(2,7,G.addressSuggestions$))&&void 0!==he?he:J.DdM(9,O))("showClear",!0)("size",16)("forceSelection",!0)("autoHighlight",!0)}}let ue=(()=>{class q{constructor(G){this.api=G,this.isAcpConnected=null,this.isHouseOnly=!1,this.inputClasses={},this.searchStreetSubject=new e.x,this.searchStreetChange$=this.searchStreetSubject.pipe((0,a.b)(500)),this.streetSuggestions$=this.searchStreetChange$.pipe((0,f.w)(he=>this.api.getStreetSuggestions(he))),this.selectedStreet=null,this.searchAddressSubject=new e.x,this.searchAddressChange$=this.searchAddressSubject.pipe((0,a.b)(500),(0,g.d)(1)),this.addressSuggestions$=this.searchAddressChange$.pipe((0,_.o)(()=>!!this.selectedStreet),(0,f.w)(he=>this.api.getAddressSuggestionsAlt(this.selectedStreet.streetId,he,this.isAcpConnected,this.isHouseOnly))),this.isEmptyAddressSuggestions$=(0,P.a)([this.addressSuggestions$,this.searchAddressChange$]).pipe((0,y.U)(([he,j])=>0===he.length&&j.length>0&&!this.selectedAddress)),this.selectedAddress=null,this.isDisabled=!1,this.createHouseVisible=!1,this.isHouseCreating=!1,this.createHouseForm=new L.cw({houseNum:new L.NI(null,[L.kI.required,L.kI.min(1),L.kI.max(999999)]),letter:new L.NI(null,[L.kI.maxLength(1)]),fraction:new L.NI(null,[L.kI.min(1),L.kI.max(999)]),build:new L.NI(null,[L.kI.min(1),L.kI.max(99)]),isApartmentHouse:new L.NI(!1),acpHouseBind:new L.NI(null)}),this.onChange=he=>{},this.onTouched=()=>{},this.createHouseResponseHandler={next:he=>{this.createHouseVisible=!1,this.isHouseCreating=!1,this.searchAddressSubject.next(""),this.selectedAddress=he},error:()=>{this.isHouseCreating=!1}}}writeValue(G){if(G&&"city"in G&&"street"in G&&"houseNum"in G)return this.selectedAddress=G,void(this.selectedStreet={streetId:G.street.streetId,name:G.streetNamePart,cityId:G.city.cityId});this.selectedStreet=null,this.selectedAddress=null}registerOnChange(G){this.onChange=G}registerOnTouched(G){this.onTouched=G}setDisabledState(G){this.isDisabled=G}ngOnInit(){}streetSearch(G){this.searchStreetSubject.next(G)}addressSearch(G){this.searchAddressSubject.next(G)}streetChange(){this.selectedAddress=null,this.onChange(null)}focusHouseControl(){return new Promise(G=>{setTimeout(()=>{this.houseControl.focusInput(),G(this.houseControl)})})}showCreateHouseDialog(){const G=new RegExp("^(?<houseNum>\\d{1,6})(\\/(?<fraction>\\d{1,3}))?(?<letter>[\u0430-\u044f]{1})?((_| \u0441\u0442?\u0440?\\.?)(?<build>\\d{1,2}))?");(0,l.n)(this.searchAddressChange$.pipe((0,R.P)())).then(he=>{var j,Q;const K=null===(j=G.exec(he))||void 0===j?void 0:j.groups;this.createHouseForm.setValue(K?{houseNum:K.houseNum?parseInt(K.houseNum):null,letter:null!==(Q=K.letter)&&void 0!==Q?Q:null,fraction:K.fraction?parseInt(K.fraction):null,build:K.build?parseInt(K.build):null,isApartmentHouse:!1,acpHouseBind:null}:{houseNum:null,letter:null,fraction:null,build:null,isApartmentHouse:!1,acpHouseBind:null})}).catch(()=>{this.createHouseForm.setValue({houseNum:null,letter:null,fraction:null,build:null,isApartmentHouse:!1,acpHouseBind:null})}),this.createHouseVisible=!0}createHouse(){this.selectedStreet&&(this.isHouseCreating=!0,this.api.createHouse(this.selectedStreet.streetId,this.createHouseForm.value).subscribe(this.createHouseResponseHandler))}}return q.\u0275fac=function(G){return new(G||q)(J.Y36(N.s))},q.\u0275cmp=J.Xpm({type:q,selectors:[["app-address-input-alt"]],viewQuery:function(G,he){if(1&G&&J.Gf(k,5),2&G){let j;J.iGM(j=J.CRH())&&(he.houseControl=j.first)}},inputs:{isAcpConnected:"isAcpConnected",isHouseOnly:"isHouseOnly",inputClasses:"inputClasses"},features:[J._Bn([{provide:L.JU,useExisting:q,multi:!0}])],decls:37,vars:26,consts:[[1,"flex","align-items-center","gap-1",3,"focusin"],["appendTo","body","placeholder","\u0423\u043b\u0438\u0446\u0430","field","name","emptyMessage","\u0423\u043b\u0438\u0446 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",3,"ngModel","ngClass","suggestions","size","showClear","showEmptyMessage","forceSelection","autoHighlight","ngModelChange","onSelect","completeMethod"],["class","flipleft animation-duration-150","appendTo","body","placeholder","\u0414\u043e\u043c \u041a\u0432.","field","tailPart",3,"ngClass","ngModel","suggestions","showClear","size","forceSelection","autoHighlight","ngModelChange","completeMethod",4,"ngIf"],["appendTo","body",3,"visible"],[1,"bg-white","border-round","flex","flex-column","gap-1","shadow-1","p-3","w-fit"],[1,"text-orange-500","font-bold"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c","styleClass","p-button-success p-button-sm w-full",3,"onClick"],["appendTo","body","header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u043c",3,"modal","resizable","draggable","dismissableMask","visible","visibleChange"],[1,"flex","flex-column","gap-3",3,"formGroup"],[1,"input-label-wrapper"],[1,"caption","size-small","wt-bold","f-color-500"],["formControlName","houseNum"],["formControlName","fraction",3,"min","max"],["formControlName","letter","mask","a","characterPattern","[\u0430-\u044f]"],["formControlName","build",3,"min","max"],["formControlName","isApartmentHouse"],[1,"flex","gap-1","flex-column"],["formControlName","acpHouseBind"],["label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success","icon","mdi-add",1,"align-self-end",3,"disabled","onClick"],["appendTo","body","placeholder","\u0414\u043e\u043c \u041a\u0432.","field","tailPart",1,"flipleft","animation-duration-150",3,"ngClass","ngModel","suggestions","showClear","size","forceSelection","autoHighlight","ngModelChange","completeMethod"],["houseControl",""]],template:function(G,he){if(1&G&&(J.TgZ(0,"div",0),J.NdJ("focusin",function(){return he.onTouched()}),J.TgZ(1,"p-autoComplete",1),J.NdJ("ngModelChange",function(Q){return he.selectedStreet=Q})("onSelect",function(){return he.focusHouseControl()})("ngModelChange",function(){return he.streetChange()})("completeMethod",function(Q){return he.streetSearch(Q.query)}),J.ALo(2,"async"),J.qZA(),J.YNc(3,$,3,10,"p-autoComplete",2),J.TgZ(4,"p-overlay",3),J.ALo(5,"async"),J.TgZ(6,"div",4)(7,"span",5),J._uU(8,"\u0414\u043e\u043c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),J.qZA(),J.TgZ(9,"p-button",6),J.NdJ("onClick",function(){return he.showCreateHouseDialog()}),J.qZA()()()(),J.TgZ(10,"p-dialog",7),J.NdJ("visibleChange",function(Q){return he.createHouseVisible=Q}),J.TgZ(11,"div",8)(12,"div",9)(13,"label",10),J._uU(14,"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430"),J.qZA(),J._UZ(15,"p-inputNumber",11),J.qZA(),J.TgZ(16,"div",9)(17,"label",10),J._uU(18,"\u0414\u0440\u043e\u0431\u044c (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),J.qZA(),J._UZ(19,"p-inputNumber",12),J.qZA(),J.TgZ(20,"div",9)(21,"label",10),J._uU(22,"\u041b\u0438\u0442\u0435\u0440\u0430 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),J.qZA(),J._UZ(23,"p-inputMask",13),J.qZA(),J.TgZ(24,"div",9)(25,"label",10),J._uU(26,"\u0421\u0442\u0440\u043e\u0435\u043d\u0438\u0435 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),J.qZA(),J._UZ(27,"p-inputNumber",14),J.qZA(),J.TgZ(28,"div",9)(29,"label",10),J._uU(30,"\u041c\u043d\u043e\u0433\u043e\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u043d\u044b\u0439 \u0434\u043e\u043c?"),J.qZA(),J._UZ(31,"p-inputSwitch",15),J.qZA(),J.TgZ(32,"div",16)(33,"label",10),J._uU(34,"\u041f\u0440\u0438\u0432\u044f\u0437\u043a\u0430 \u043a ACP"),J.qZA(),J._UZ(35,"app-acp-house-input",17),J.qZA(),J.TgZ(36,"p-button",18),J.NdJ("onClick",function(){return he.createHouse()}),J.qZA()()()),2&G){let j,Q;J.xp6(1),J.Q6J("ngModel",he.selectedStreet)("ngClass",he.inputClasses)("suggestions",null!==(j=J.lcZ(2,21,he.streetSuggestions$))&&void 0!==j?j:J.DdM(25,O))("size",30)("showClear",!0)("showEmptyMessage",!0)("forceSelection",!0)("autoHighlight",!0),J.xp6(2),J.Q6J("ngIf",he.selectedStreet),J.xp6(1),J.Q6J("visible",null!==(Q=J.lcZ(5,23,he.isEmptyAddressSuggestions$))&&void 0!==Q&&Q),J.xp6(6),J.Q6J("modal",!0)("resizable",!1)("draggable",!1)("dismissableMask",!0)("visible",he.createHouseVisible),J.xp6(1),J.Q6J("formGroup",he.createHouseForm),J.xp6(8),J.Q6J("min",1)("max",999),J.xp6(8),J.Q6J("min",1)("max",99),J.xp6(9),J.Q6J("disabled",!he.createHouseForm.valid)}},dependencies:[w.mk,w.O5,x.zx,L.JJ,L.JL,L.On,D.aV,S.Rn,U.V,F.vy,L.sg,L.u,ce.Qc,te.Ql,V.N,w.Ov]}),q})()},7092:(mn,ht,b)=>{"use strict";b.d(ht,{_:()=>g});var e=b(5e3),a=b(8738);function f(_,P){1&_&&e._UZ(0,"app-employee-label",1),2&_&&e.Q6J("employee",P.$implicit)("inline",!0)}let g=(()=>{class _{constructor(y){this.api=y,this.workLog={}}set logId(y){this.api.getWorkLog(y,!0).subscribe(l=>{this.workLog=l})}ngOnInit(){}static createElement(y){const l=document.createElement("appointed-installers-element");return l.logId=y,l}}return _.\u0275fac=function(y){return new(y||_)(e.Y36(a.s))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-appointed-installers"]],inputs:{logId:"logId"},decls:1,vars:1,consts:[[3,"employee","inline",4,"ngFor","ngForOf"],[3,"employee","inline"]],template:function(y,l){1&y&&e.YNc(0,f,1,2,"app-employee-label",0),2&y&&e.Q6J("ngForOf",l.workLog.employees)},styles:["[_nghost-%COMP%]{display:inline-flex;flex-wrap:wrap;gap:.5rem}"]}),_})()},7231:(mn,ht,b)=>{"use strict";b.d(ht,{D:()=>D});var e=b(1135),a=b(8372),f=b(383),g=b(5e3),_=b(3064),P=b(9808),y=b(3640),l=b(7514);const R=["overlayPanelEl"];function L(S,U){1&S&&g.GkF(0)}function J(S,U){if(1&S&&(g.TgZ(0,"a",6),g.YNc(1,L,1,0,"ng-container",7),g.qZA()),2&S){const F=g.oxw(),ce=g.MAs(3);g.Q6J("download",F.download())("href",F.url(),g.LSH),g.xp6(1),g.Q6J("ngTemplateOutlet",ce)}}function N(S,U){1&S&&g.GkF(0)}function w(S,U){if(1&S){const F=g.EpF();g.TgZ(0,"div",8),g.NdJ("click",function(){g.CHM(F);const te=g.oxw();return g.KtG(te.attachmentOpen())})("mouseenter",function(te){g.CHM(F);const V=g.oxw();return g.KtG(V.showPreview(te))})("mouseleave",function(){g.CHM(F);const te=g.oxw();return g.KtG(te.hidePreview())}),g.YNc(1,N,1,0,"ng-container",7),g.qZA()}if(2&S){g.oxw();const F=g.MAs(3);g.xp6(1),g.Q6J("ngTemplateOutlet",F)}}function x(S,U){if(1&S&&(g.TgZ(0,"span",9),g._uU(1),g.qZA(),g.TgZ(2,"span",10),g._uU(3),g.qZA(),g.TgZ(4,"span",11),g._uU(5),g.qZA()),2&S){const F=g.oxw();let ce;g.Udp("font-size","1.4rem"),g.xp6(1),g.hij(" ",F.attachmentIconName()," "),g.xp6(2),g.hij(" ",null==F.attachment?null:F.attachment.name," "),g.xp6(2),g.hij(" ",((null!==(ce=null==F.attachment?null:F.attachment.size)&&void 0!==ce?ce:0)/1048576).toFixed(2)," \u041c\u0431\u0430\u0439\u0442 ")}}let D=(()=>{class S{constructor(F){this.mediaViewer=F,this.previewVisibleSubject=new e.X(null),this.previewVisible$=this.previewVisibleSubject.pipe((0,a.b)(300)),this.previewLoading=!1,this.subscriptions=new f.xf}get previewSrcUrl(){return this.attachment?"workLogTargetFileId"in this.attachment?"/api/private/work-log/thumbnail/"+this.attachment.workLogTargetFileId:"/api/private/thumbnail/"+this.attachment.name:""}ngOnInit(){this.subscriptions.addSubscription("previewVisible",this.previewVisible$.subscribe(F=>{var ce,te;F?null===(te=this.overlayPanelEl)||void 0===te||te.show(F):(this.previewLoading=!1,null===(ce=this.overlayPanelEl)||void 0===ce||ce.hide())}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}attachmentIconName(){var F;switch(null===(F=this.attachment)||void 0===F?void 0:F.type){case"PHOTO":return"image";case"VIDEO":return"movie";case"AUDIO":return"music_note";case"DOCUMENT":return"picture_as_pdf";case"FILE":return"description";default:return"question_mark"}}url(){var F;return"FILE"==(null===(F=this.attachment)||void 0===F?void 0:F.type)?"/api/private/attachment/":""}download(){var F;return"FILE"==(null===(F=this.attachment)||void 0===F?void 0:F.type)?this.attachment.name:""}attachmentOpen(){var F;switch(null===(F=this.attachment)||void 0===F?void 0:F.type){case"PHOTO":case"VIDEO":case"AUDIO":this.mediaViewer.showMedia(this.attachment);break;case"DOCUMENT":window.open("/api/private/attachment/"+this.attachment.name,"_blank")}this.previewLoading=!1}showPreview(F){var ce,te;("PHOTO"===(null===(ce=this.attachment)||void 0===ce?void 0:ce.type)||"VIDEO"===(null===(te=this.attachment)||void 0===te?void 0:te.type))&&this.previewVisibleSubject.next(F)}hidePreview(){this.previewVisibleSubject.next(null)}align(F){setTimeout(()=>{F.overlayVisible&&F.align()},100)}}return S.\u0275fac=function(F){return new(F||S)(g.Y36(_.E))},S.\u0275cmp=g.Xpm({type:S,selectors:[["app-attachment-link"]],viewQuery:function(F,ce){if(1&F&&g.Gf(R,5),2&F){let te;g.iGM(te=g.CRH())&&(ce.overlayPanelEl=te.first)}},inputs:{attachment:"attachment"},decls:7,vars:3,consts:[["class","attachment-wrapper",3,"download","href",4,"ngIf"],["class","attachment-wrapper",3,"click","mouseenter","mouseleave",4,"ngIf"],["content",""],["appendTo","body","styleClass","overlay-panel-unpadding"],["overlayPanelEl",""],[1,"preview-image",3,"src","load"],[1,"attachment-wrapper",3,"download","href"],[4,"ngTemplateOutlet"],[1,"attachment-wrapper",3,"click","mouseenter","mouseleave"],[1,"material-icons-round"],["appTicker","",1,"max-w-10rem","white-space-nowrap","overflow-hidden"],[1,"caption","size-small","wt-bold","f-color-500"]],template:function(F,ce){if(1&F){const te=g.EpF();g.YNc(0,J,2,3,"a",0),g.YNc(1,w,2,1,"div",1),g.YNc(2,x,6,5,"ng-template",null,2,g.W1O),g.TgZ(4,"p-overlayPanel",3,4)(6,"img",5),g.NdJ("load",function(){g.CHM(te);const k=g.MAs(5);return g.KtG(ce.align(k))}),g.qZA()()}2&F&&(g.Q6J("ngIf","FILE"===(null==ce.attachment?null:ce.attachment.type)),g.xp6(1),g.Q6J("ngIf","FILE"!==(null==ce.attachment?null:ce.attachment.type)),g.xp6(5),g.Q6J("src",ce.previewSrcUrl,g.LSH))},dependencies:[P.O5,P.tP,y.T,l.x],styles:[".attachment-wrapper[_ngcontent-%COMP%]{display:flex;gap:.3rem;align-items:center;color:var(--tc-600);font-weight:500;font-size:.9rem;cursor:pointer;transition:color .2s ease-out;text-decoration:none!important;width:max-content}.attachment-wrapper[_ngcontent-%COMP%]:hover{color:var(--tc-800)}.photo-preview-panel[_ngcontent-%COMP%]{position:absolute;display:grid;grid:1fr/1fr;padding:.7rem;border-radius:.5rem;background-color:#fff;box-shadow:0 0 2px #0003,0 4px 8px #0000000d;width:max-content;height:max-content;max-width:21rem;min-width:8rem;min-height:8rem;align-items:center;justify-content:center;z-index:3;overflow:hidden;transform:translate(100%,-50%)}.preview-image[_ngcontent-%COMP%]{border-radius:.4rem;width:100%;height:100%;min-width:5rem;min-height:5rem;max-height:21rem}.preview-loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;grid-area:1/1/2/2;width:100%;height:100%}"]}),S})()},5072:(mn,ht,b)=>{"use strict";b.d(ht,{A:()=>J});var e=b(383),a=b(7384),f=b(5e3),g=b(9808);const _=["wrapperEl"],P=["captionEl"];function y(N,w){1&N&&f._UZ(0,"i",8)}function l(N,w){if(1&N&&(f.TgZ(0,"span"),f._uU(1),f.qZA()),2&N){const x=f.oxw();f.xp6(1),f.Oqu(x.getInitials())}}function R(N,w){if(1&N){const x=f.EpF();f.TgZ(0,"img",9),f.NdJ("load",function(){f.CHM(x);const S=f.oxw();return f.KtG(S.isLoad=!0)}),f.qZA()}if(2&N){const x=f.oxw();f.Q6J("src","api/private/avatar/"+x.src,f.LSH)}}function L(N,w){if(1&N&&f._UZ(0,"div",10),2&N){const x=f.oxw();f.Akn(x.indicatorStyle)}}let J=(()=>{class N{constructor(){this.size=3.5,this.deleted=!1,this.shape="circle",this.isLoad=!1}get captionStyle(){return{}}get wrapperStyle(){return{borderRadius:"circle"===this.shape?"999px":"25%",width:this.size+"rem",height:this.size+"rem",fontSize:this.size+"rem",background:this.isLoad?"transparent":this.deleted?"var(--bgc-500)":this.colorize()}}get indicatorStyle(){const x={};switch("square"===this.shape&&(x.transform="translate(25%, -25%)"),this.status){case a.LE.ONLINE:x.backgroundColor="#36ff3b";break;case a.LE.AWAY:x.backgroundColor="#ffc107";break;case a.LE.OFFLINE:x.backgroundColor="#d5dde1"}return x}ngOnInit(){}getInitials(){if(this.name){const x=this.name.trim();return(x.charAt(0)+(x.indexOf(" ")>=0?x.charAt(x.indexOf(" ")+1):"")).toUpperCase()}return"?"}colorize(){var x;return e.cQ.stringToGradient(null!==(x=this.name)&&void 0!==x?x:"?")}ngOnChanges(x){this.isLoad=!1}}return N.\u0275fac=function(x){return new(x||N)},N.\u0275cmp=f.Xpm({type:N,selectors:[["app-avatar"]],viewQuery:function(x,D){if(1&x&&(f.Gf(_,5),f.Gf(P,5)),2&x){let S;f.iGM(S=f.CRH())&&(D.wrapperEl=S.first),f.iGM(S=f.CRH())&&(D.captionEl=S.first)}},inputs:{size:"size",deleted:"deleted",src:"src",name:"name",status:"status",shape:"shape"},features:[f.TTD],decls:8,vars:8,consts:[[1,"avatar","select-none"],["wrapperEl",""],[1,"avatar-caption"],["captionEl",""],["class","mdi-person_off",4,"ngIf"],[4,"ngIf"],["alt","avatar","class","avatar-image",3,"src","load",4,"ngIf"],["class","status-indicator",3,"style",4,"ngIf"],[1,"mdi-person_off"],["alt","avatar",1,"avatar-image",3,"src","load"],[1,"status-indicator"]],template:function(x,D){1&x&&(f.TgZ(0,"div",0,1)(2,"div",2,3),f.YNc(4,y,1,0,"i",4),f.YNc(5,l,2,1,"span",5),f.qZA(),f.YNc(6,R,1,1,"img",6),f.YNc(7,L,1,2,"div",7),f.qZA()),2&x&&(f.Akn(D.wrapperStyle),f.xp6(2),f.Akn(D.captionStyle),f.xp6(2),f.Q6J("ngIf",D.deleted),f.xp6(1),f.Q6J("ngIf",!D.deleted),f.xp6(1),f.Q6J("ngIf",null!=D.src),f.xp6(1),f.Q6J("ngIf",D.status))},dependencies:[g.O5],styles:["[_nghost-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content}.avatar[_ngcontent-%COMP%]{position:relative;aspect-ratio:1;border-radius:50%;overflow:hidden}.avatar-caption[_ngcontent-%COMP%]{display:inline-block;position:absolute;top:50%;left:50%;transform:translate(-47%,-47%);transform-origin:center;text-transform:uppercase;color:#fff;font-size:.38em}.avatar-image[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;object-fit:cover;top:0;left:0}.status-indicator[_ngcontent-%COMP%]{width:30%;aspect-ratio:1;border-radius:999px;background-color:#1aff12;box-shadow:0 0 1px 1px #00000040,0 1px 10px #00000020;position:absolute;top:0;right:0}"]}),N})()},446:(mn,ht,b)=>{"use strict";b.d(ht,{r:()=>L});var e=b(5e3),a=b(9808),f=b(845),g=b(9783);function _(J,N){if(1&J&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&J){const w=e.oxw(3);e.xp6(1),e.Oqu(w.icon)}}function P(J,N){if(1&J&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&J){const w=e.oxw(3);e.xp6(1),e.Oqu(w.icon)}}function y(J,N){if(1&J&&(e.TgZ(0,"div",5),e.YNc(1,_,2,1,"span",6),e._uU(2),e.YNc(3,P,2,1,"span",7),e.qZA()),2&J){const w=e.oxw(2);e.xp6(1),e.Q6J("ngIf",w.icon&&"left"===w.iconPos),e.xp6(1),e.hij(" ",w.label," "),e.xp6(1),e.Q6J("ngIf",w.icon&&"right"===w.iconPos)}}function l(J,N){if(1&J&&(e.TgZ(0,"div",10)(1,"div",11),e._UZ(2,"div"),e.qZA()()),2&J){const w=e.oxw(2);e.xp6(2),e.Tol("loading-indicator__spinner "+w.model)}}function R(J,N){if(1&J&&(e.YNc(0,y,4,3,"div",3),e.YNc(1,l,3,2,"div",4)),2&J){const w=e.oxw();e.Q6J("ngIf",!w.loading),e.xp6(1),e.Q6J("ngIf",w.loading)}}let L=(()=>{class J{constructor(){this.disabled=!1,this.iconPos="left",this.onClick=new e.vpe,this.loading=!1}ngOnInit(){}}return J.\u0275fac=function(w){return new(w||J)},J.\u0275cmp=e.Xpm({type:J,selectors:[["app-button"]],inputs:{model:"model",icon:"icon",label:"label",disabled:"disabled",iconPos:"iconPos",loading:"loading"},outputs:{onClick:"onClick"},decls:3,vars:2,consts:[[3,"styleClass","disabled","onClick"],["button",""],["pTemplate","content"],["class","flexed hcenter gap1 button-content",4,"ngIf"],["class","flexed hcenter vcenter",4,"ngIf"],[1,"flexed","hcenter","gap1","button-content"],["class","material-icons-round left",4,"ngIf"],["class","material-icons-round right",4,"ngIf"],[1,"material-icons-round","left"],[1,"material-icons-round","right"],[1,"flexed","hcenter","vcenter"],[1,"loading-indicator"]],template:function(w,x){1&w&&(e.TgZ(0,"p-button",0,1),e.NdJ("onClick",function(S){return!x.loading&&x.onClick.emit(S)}),e.YNc(2,R,2,2,"ng-template",2),e.qZA()),2&w&&e.Q6J("styleClass","button "+x.model)("disabled",x.disabled)},dependencies:[a.O5,f.zx,g.jx],styles:[".button-content[_ngcontent-%COMP%]{font-size:1.1rem;white-space:nowrap}.button-content[_ngcontent-%COMP%] > span.left[_ngcontent-%COMP%]{font-size:1.35rem!important;transform:translate(-.3rem)}.button-content[_ngcontent-%COMP%] > span.right[_ngcontent-%COMP%]{font-size:1.35rem!important;transform:translate(.3rem)}.loading-indicator[_ngcontent-%COMP%]{width:20px;height:20px;display:flex;align-items:center;justify-content:center}.loading-indicator__spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(0,0,0,0);border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite}.loading-indicator__spinner.p-button-text.p-button-primary[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-primary[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-primary[_ngcontent-%COMP%]{border-top-color:var(--mc-500)}.loading-indicator__spinner.p-button-text.p-button-success[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-success[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-success[_ngcontent-%COMP%]{border-top-color:#22c55e}.loading-indicator__spinner.p-button-text.p-button-secondary[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-secondary[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-secondary[_ngcontent-%COMP%]{border-top-color:#64748b}.loading-indicator__spinner.p-button-text.p-button-info[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-info[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-info[_ngcontent-%COMP%]{border-top-color:#3b82f6}.loading-indicator__spinner.p-button-text.p-button-danger[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-danger[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-danger[_ngcontent-%COMP%]{border-top-color:#ef4444}.loading-indicator__spinner.p-button-text.p-button-warning[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-warning[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-warning[_ngcontent-%COMP%]{border-top-color:#f59e0b}.loading-indicator__spinner.p-button-text.p-button-help[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-help[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-help[_ngcontent-%COMP%]{border-top-color:#a855f7}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),J})()},6890:(mn,ht,b)=>{"use strict";b.d(ht,{K:()=>R});var e=b(7384),a=b(5e3),f=b(8738),g=b(9014),_=b(9808);function P(L,J){if(1&L){const N=a.EpF();a.TgZ(0,"span",4),a.NdJ("click",function(){a.CHM(N);const x=a.oxw();return a.KtG(x.openChat())}),a._uU(1),a.qZA()}if(2&L){const N=a.oxw();a.xp6(1),a.Oqu(null==N.chat?null:N.chat.title)}}function y(L,J){1&L&&(a.TgZ(0,"span",5),a._uU(1,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),a.qZA())}function l(L,J){1&L&&(a.TgZ(0,"span",6),a._uU(1,"\u041e\u0448\u0438\u0431\u043a\u0430"),a.qZA())}let R=(()=>{class L{constructor(N,w){this.api=N,this.chatService=w,this.loadingState=e.Gu.LOADING}set chatId(N){this.loadingState=e.Gu.LOADING,this.api.getChat(N).subscribe({next:w=>{this._chat=w,this.loadingState=e.Gu.READY},error:()=>this.loadingState=e.Gu.ERROR})}get chat(){return this._chat}ngOnInit(){}static createElement(N){const w=document.createElement("chat-link-element");return w.chatId=N,w}openChat(){this.chat&&this.chatService.open.emit(this.chat.chatId)}}return L.\u0275fac=function(N){return new(N||L)(a.Y36(f.s),a.Y36(g.a))},L.\u0275cmp=a.Xpm({type:L,selectors:[["app-chat-link"]],inputs:{chatId:"chatId"},decls:4,vars:4,consts:[[3,"ngSwitch"],["class","text-primary cursor-pointer hover:text-primary-600",3,"click",4,"ngSwitchCase"],["class","text-primary",4,"ngSwitchCase"],["class","text-red-400",4,"ngSwitchCase"],[1,"text-primary","cursor-pointer","hover:text-primary-600",3,"click"],[1,"text-primary"],[1,"text-red-400"]],template:function(N,w){1&N&&(a.ynx(0,0),a.YNc(1,P,2,1,"span",1),a.YNc(2,y,2,0,"span",2),a.YNc(3,l,2,0,"span",3),a.BQk()),2&N&&(a.Q6J("ngSwitch",w.loadingState),a.xp6(1),a.Q6J("ngSwitchCase","READY"),a.xp6(1),a.Q6J("ngSwitchCase","LOADING"),a.xp6(1),a.Q6J("ngSwitchCase","ERROR"))},dependencies:[_.RF,_.n9]}),L})()},1828:(mn,ht,b)=>{"use strict";b.d(ht,{C:()=>g});var e=b(383),a=b(5e3);const f=["wrapper"];let g=(()=>{class _{constructor(){}ngAfterViewInit(){this.colorize()}ngOnInit(){}colorize(){!this.wrapper||(this.color?this.wrapper.nativeElement.style.background=this.color:this.captionForColor?this.wrapper.nativeElement.style.background=e.cQ.stringToGradient(this.captionForColor):this.caption&&(this.wrapper.nativeElement.style.background=e.cQ.stringToGradient(this.caption)))}ngOnChanges(y){this.colorize()}}return _.\u0275fac=function(y){return new(y||_)},_.\u0275cmp=a.Xpm({type:_,selectors:[["app-colored-tag"]],viewQuery:function(y,l){if(1&y&&a.Gf(f,5),2&y){let R;a.iGM(R=a.CRH())&&(l.wrapper=R.first)}},inputs:{caption:"caption",captionForColor:"captionForColor",color:"color"},features:[a.TTD],decls:3,vars:1,consts:[[1,"tag"],["wrapper",""]],template:function(y,l){1&y&&(a.TgZ(0,"span",0,1),a._uU(2),a.qZA()),2&y&&(a.xp6(2),a.hij(" ",l.caption,"\n"))},styles:[".tag[_ngcontent-%COMP%]{display:inline-block;color:#fff;text-align:center;min-width:2rem;font-size:.85rem;font-weight:700;padding:.15rem .4rem;border-radius:999px;line-height:normal}"]}),_})()},7805:(mn,ht,b)=>{"use strict";b.d(ht,{y:()=>D});var e=b(5e3),a=b(8738);const f=["preview"];function g(S,U){1&S&&e.GkF(0)}function _(S,U){1&S&&e.GkF(0)}function P(S,U){if(1&S&&(e.ynx(0),e._uU(1),e.BQk()),2&S){const F=e.oxw(2);e.xp6(1),e.hij("$",F._departmentId,"")}}function y(S,U){if(1&S&&(e.TgZ(0,"span",7),e.YNc(1,g,1,0,"ng-container",8),e.YNc(2,_,1,0,"ng-container",8),e.YNc(3,P,2,1,"ng-container",1),e.qZA()),2&S){const F=e.oxw(),ce=e.MAs(5),te=e.MAs(3);e.xp6(1),e.Q6J("ngIf",F.department&&(null==F.department?null:F.department.departmentId))("ngIfThen",ce),e.xp6(1),e.Q6J("ngIf",!(F.department&&null!=F.department&&F.department.departmentId||F.failed))("ngIfThen",te),e.xp6(1),e.Q6J("ngIf",F.failed)}}function l(S,U){if(1&S){const F=e.EpF();e.TgZ(0,"span",11),e.NdJ("mouseenter",function(te){e.CHM(F);const V=e.oxw(2);return e.KtG(V.showPreview(te))})("mouseleave",function(){e.CHM(F);const te=e.oxw(2);return e.KtG(te.hidePreview())}),e._uU(1),e.qZA()}if(2&S){const F=e.oxw(2);e.xp6(1),e.Oqu(F.department.name)}}function R(S,U){if(1&S&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&S){const F=e.oxw(2);e.xp6(1),e.hij(" ",F._departmentId," ")}}function L(S,U){1&S&&e._UZ(0,"p-skeleton",12)}function J(S,U){if(1&S&&(e.ynx(0),e.YNc(1,l,2,1,"span",9),e.YNc(2,R,2,1,"span",1),e.YNc(3,L,1,0,"p-skeleton",10),e.BQk()),2&S){const F=e.oxw();e.xp6(1),e.Q6J("ngIf",F.department&&(null==F.department?null:F.department.name)),e.xp6(1),e.Q6J("ngIf",F.failed),e.xp6(1),e.Q6J("ngIf",!(F.department&&null!=F.department&&F.department.name||F.failed))}}function N(S,U){if(1&S&&e._UZ(0,"p-skeleton",13)(1,"p-skeleton",14),2&S){const F=e.oxw();e.Q6J("shape",F.inline?"square":"circle")}}function w(S,U){if(1&S&&(e._UZ(0,"app-avatar",15),e.TgZ(1,"span",16),e._uU(2),e.qZA()),2&S){const F=e.oxw();e.Q6J("name",null==F.department?null:F.department.name)("size",F.size)("shape",F.inline?"square":"circle"),e.xp6(2),e.hij(" ",null==F.department?null:F.department.name," ")}}function x(S,U){if(1&S&&(e.TgZ(0,"div",17),e._UZ(1,"app-avatar",18),e.TgZ(2,"div",19),e._uU(3),e.qZA(),e.TgZ(4,"div",20),e._uU(5),e.qZA()()),2&S){const F=e.oxw();e.xp6(1),e.Q6J("size",6)("deleted",null==F.department?null:F.department.deleted)("name",null==F.department?null:F.department.name),e.xp6(2),e.hij(" ",null==F.department?null:F.department.name," "),e.xp6(2),e.Oqu(null==F.department?null:F.department.description)}}let D=(()=>{class S{constructor(F){this.api=F,this.department={},this.size=1.7,this.inline=!1,this.failed=!1}set departmentId(F){this._departmentId=F,this.api.getDepartment(F,!0).subscribe({next:ce=>this.department=ce,error:()=>this.failed=!0})}static createElement(F,ce){const te=document.createElement("department-label-element");return te.departmentId=F,te.inline=ce,te}ngOnInit(){}showPreview(F){this.preview&&this.preview.show(F)}hidePreview(){setTimeout(()=>{this.preview&&this.preview.hide()})}}return S.\u0275fac=function(F){return new(F||S)(e.Y36(a.s))},S.\u0275cmp=e.Xpm({type:S,selectors:[["app-department-label"]],viewQuery:function(F,ce){if(1&F&&e.Gf(f,5),2&F){let te;e.iGM(te=e.CRH())&&(ce.preview=te.first)}},inputs:{department:"department",size:"size",inline:"inline",departmentId:"departmentId"},decls:9,vars:2,consts:[["class","flexed gap2 one-line hcenter",4,"ngIf"],[4,"ngIf"],["loading",""],["info",""],["appendTo","body","showTransitionOptions","0ms","hideTransitionOptions","0ms"],["preview",""],["pTemplate","content"],[1,"flexed","gap2","one-line","hcenter"],[4,"ngIf","ngIfThen"],["class","like-link",3,"mouseenter","mouseleave",4,"ngIf"],["height",".9rem","width","5rem",4,"ngIf"],[1,"like-link",3,"mouseenter","mouseleave"],["height",".9rem","width","5rem"],["size","1.7rem",3,"shape"],["width","8rem","height",".8rem"],[3,"name","size","shape"],[1,"caption","size-small"],[1,"department-preview"],["shape","square",1,"avatar",3,"size","deleted","name"],[1,"name","caption","size-big"],[1,"description","caption","size-small","f-color-500"]],template:function(F,ce){1&F&&(e.YNc(0,y,4,5,"span",0),e.YNc(1,J,4,3,"ng-container",1),e.YNc(2,N,2,1,"ng-template",null,2,e.W1O),e.YNc(4,w,3,4,"ng-template",null,3,e.W1O),e.TgZ(6,"p-overlayPanel",4,5),e.YNc(8,x,6,5,"ng-template",6),e.qZA()),2&F&&(e.Q6J("ngIf",!ce.inline),e.xp6(1),e.Q6J("ngIf",ce.inline))},styles:['.department-preview[_ngcontent-%COMP%]{display:grid;grid:min-content 1fr/repeat(2,max-content);grid-template-areas:"avatar name" "avatar description";column-gap:1rem}.department-preview[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{grid-area:avatar}.department-preview[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{grid-area:name}.department-preview[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{grid-area:description;max-width:20rem;display:-webkit-box;overflow:hidden;-webkit-line-clamp:3;-webkit-box-orient:vertical}']}),S})()},4304:(mn,ht,b)=>{"use strict";b.d(ht,{h:()=>L});var e=b(5e3),a=b(9808),f=b(2382),g=b(9618),_=b(5651);function P(J,N){if(1&J&&(e.ynx(0),e._uU(1),e.BQk()),2&J){const w=e.oxw();e.xp6(1),e.Oqu(w.caption)}}function y(J,N){if(1&J){const w=e.EpF();e.TgZ(0,"input",5),e.NdJ("blur",function(){e.CHM(w);const D=e.oxw();return e.KtG(D.stopEditing())})("keyup",function(D){e.CHM(w);const S=e.oxw();return e.KtG(S.stopEditing(D))})("ngModelChange",function(D){e.CHM(w);const S=e.oxw();return e.KtG(S.captionChange.emit(D))})("ngModelChange",function(D){e.CHM(w);const S=e.oxw();return e.KtG(S.caption=D)}),e.qZA()}if(2&J){const w=e.oxw();e.Q6J("ngModel",w.caption)("autofocus",!0)}}function l(J,N){if(1&J){const w=e.EpF();e.TgZ(0,"app-icon-button",6),e.NdJ("click",function(){e.CHM(w);const D=e.oxw();return e.KtG(D.editing=!0)}),e.qZA()}2&J&&e.Q6J("size",1.2)}function R(J,N){if(1&J){const w=e.EpF();e.TgZ(0,"app-icon-button",7),e.NdJ("click",function(){e.CHM(w);const D=e.oxw();return e.KtG(D.stopEditing())}),e.qZA()}2&J&&e.Q6J("size",1.2)}let L=(()=>{class J{constructor(){this.editing=!1,this.caption="",this.captionChange=new e.vpe,this.onStopEditing=new e.vpe}ngOnInit(){}stopEditing(w){if(!w)return this.editing=!1,void this.onStopEditing.emit(this.caption);("Enter"===w.key||"Escape"===w.key)&&(this.editing=!1,this.onStopEditing.emit(this.caption))}}return J.\u0275fac=function(w){return new(w||J)},J.\u0275cmp=e.Xpm({type:J,selectors:[["app-editing-caption"]],inputs:{caption:"caption"},outputs:{captionChange:"captionChange",onStopEditing:"onStopEditing"},decls:6,vars:4,consts:[[1,"flexed","hcenter","gap2"],[4,"ngIf"],["class","caption-input","pAutoFocus","","type","text",3,"ngModel","autofocus","blur","keyup","ngModelChange",4,"ngIf"],["icon","edit",3,"size","click",4,"ngIf"],["icon","check",3,"size","click",4,"ngIf"],["pAutoFocus","","type","text",1,"caption-input",3,"ngModel","autofocus","blur","keyup","ngModelChange"],["icon","edit",3,"size","click"],["icon","check",3,"size","click"]],template:function(w,x){1&w&&(e.TgZ(0,"div",0)(1,"span"),e.YNc(2,P,2,1,"ng-container",1),e.YNc(3,y,1,2,"input",2),e.qZA(),e.YNc(4,l,1,1,"app-icon-button",3),e.YNc(5,R,1,1,"app-icon-button",4),e.qZA()),2&w&&(e.xp6(2),e.Q6J("ngIf",!x.editing),e.xp6(1),e.Q6J("ngIf",x.editing),e.xp6(1),e.Q6J("ngIf",!x.editing),e.xp6(1),e.Q6J("ngIf",x.editing))},dependencies:[a.O5,f.Fj,f.JJ,f.On,g.P,_.r],styles:[".caption-input[_ngcontent-%COMP%]{outline:0;border:0}"]}),J})()},1110:(mn,ht,b)=>{"use strict";b.d(ht,{x:()=>k});var e=b(7384),a=b(417),f=b(5e3),g=b(8738),_=b(8007);const P=["preview"];function y(O,$){if(1&O&&f._UZ(0,"app-avatar",11),2&O){const ue=f.oxw(3);let q;f.Q6J("deleted",null==ue._employee?null:ue._employee.deleted)("name",null!==(q=null==ue._employee?null:ue._employee.fullName)&&void 0!==q?q:"")("shape","circle")("size",ue.size)("src",null==ue._employee?null:ue._employee.avatar)("status",null==ue._employee?null:ue._employee.status)}}function l(O,$){if(1&O&&f._UZ(0,"app-avatar",12),2&O){const ue=f.oxw(3);let q;f.Q6J("deleted",null==ue._employee?null:ue._employee.deleted)("name",null!==(q=null==ue._employee?null:ue._employee.fullName)&&void 0!==q?q:"")("shape","circle")("size",ue.size)("src",null==ue._employee?null:ue._employee.avatar)}}function R(O,$){if(1&O&&(f.ynx(0),f.YNc(1,y,1,6,"app-avatar",8),f.YNc(2,l,1,5,"app-avatar",9),f.TgZ(3,"span",10),f._uU(4),f.qZA(),f.BQk()),2&O){const ue=f.oxw(2);f.xp6(1),f.Q6J("ngIf",ue.showStatus),f.xp6(1),f.Q6J("ngIf",!ue.showStatus),f.xp6(2),f.hij(" ",null==ue._employee?null:ue._employee.fullName," ")}}function L(O,$){if(1&O&&(f.ynx(0),f._UZ(1,"p-skeleton",13)(2,"p-skeleton",14),f.BQk()),2&O){const ue=f.oxw(2);f.xp6(1),f.Q6J("shape","circle")("size",ue.size+"rem")}}function J(O,$){1&O&&(f.ynx(0),f.TgZ(1,"span",15),f._uU(2,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),f.qZA(),f.BQk())}function N(O,$){1&O&&f.GkF(0)}function w(O,$){if(1&O&&(f.TgZ(0,"span",5),f.ynx(1,6),f.YNc(2,R,5,3,"ng-container",7),f.YNc(3,L,3,2,"ng-container",7),f.YNc(4,J,3,0,"ng-container",7),f.YNc(5,N,1,0,"ng-container",7),f.BQk(),f.qZA()),2&O){const ue=f.oxw();f.xp6(1),f.Q6J("ngSwitch",ue.loadStatus),f.xp6(1),f.Q6J("ngSwitchCase","ready"),f.xp6(1),f.Q6J("ngSwitchCase","loading"),f.xp6(1),f.Q6J("ngSwitchCase","error"),f.xp6(1),f.Q6J("ngSwitchCase","empty")}}function x(O,$){if(1&O){const ue=f.EpF();f.ynx(0),f.TgZ(1,"span",16),f.NdJ("mouseenter",function(Y){f.CHM(ue);const G=f.oxw(2);return f.KtG(G.showPreview(Y))})("mouseleave",function(){f.CHM(ue);const Y=f.oxw(2);return f.KtG(Y.hidePreview())}),f._uU(2),f.qZA(),f.BQk()}if(2&O){const ue=f.oxw(2);f.xp6(2),f.Oqu(null==ue._employee?null:ue._employee.fullName)}}function D(O,$){1&O&&(f.ynx(0),f._UZ(1,"p-skeleton",17),f.BQk()),2&O&&(f.xp6(1),f.Udp("display","inline-block"))}function S(O,$){1&O&&(f.ynx(0),f.TgZ(1,"span",15),f._uU(2,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),f.qZA(),f.BQk())}function U(O,$){1&O&&f.GkF(0)}function F(O,$){if(1&O&&(f.ynx(0)(1,6),f.YNc(2,x,3,1,"ng-container",7),f.YNc(3,D,2,2,"ng-container",7),f.YNc(4,S,3,0,"ng-container",7),f.YNc(5,U,1,0,"ng-container",7),f.BQk()()),2&O){const ue=f.oxw();f.xp6(1),f.Q6J("ngSwitch",ue.loadStatus),f.xp6(1),f.Q6J("ngSwitchCase","ready"),f.xp6(1),f.Q6J("ngSwitchCase","loading"),f.xp6(1),f.Q6J("ngSwitchCase","error"),f.xp6(1),f.Q6J("ngSwitchCase","empty")}}function ce(O,$){if(1&O&&(f.TgZ(0,"span",26),f._uU(1),f.qZA()),2&O){const ue=f.oxw(2);f.Akn(ue.statusStyle),f.xp6(1),f.Oqu(ue.status)}}function te(O,$){1&O&&(f.TgZ(0,"span",27),f._uU(1,"(\u0443\u0434\u0430\u043b\u0435\u043d)"),f.qZA())}function V(O,$){if(1&O&&(f.TgZ(0,"div",18),f._UZ(1,"app-avatar",19),f.TgZ(2,"div",20),f._uU(3),f.qZA(),f.TgZ(4,"div",21),f.YNc(5,ce,2,3,"span",22),f.YNc(6,te,2,0,"span",23),f.qZA(),f.TgZ(7,"div",24),f._uU(8),f.qZA(),f.TgZ(9,"div",25),f._uU(10),f.qZA()()),2&O){const ue=f.oxw();let q;f.xp6(1),f.Q6J("size",6)("deleted",null==ue._employee?null:ue._employee.deleted)("src",null==ue._employee?null:ue._employee.avatar)("name",null!==(q=null==ue._employee?null:ue._employee.fullName)&&void 0!==q?q:"")("status",null==ue._employee?null:ue._employee.status),f.xp6(2),f.hij(" ",null==ue._employee?null:ue._employee.fullName," "),f.xp6(2),f.Q6J("ngIf",ue.status),f.xp6(1),f.Q6J("ngIf",null==ue._employee?null:ue._employee.deleted),f.xp6(2),f.Oqu(null==ue._employee||null==ue._employee.department?null:ue._employee.department.name),f.xp6(2),f.Oqu(null==ue._employee||null==ue._employee.position?null:ue._employee.position.name)}}let k=(()=>{class O{constructor(ue,q){this.api=ue,this.rt=q,this.size=1.7,this.inline=!1,this.showStatus=!1,this.loadStatus="loading"}get statusStyle(){var ue;const q={};switch(null===(ue=this._employee)||void 0===ue?void 0:ue.status){case e.LE.ONLINE:q.color="#36ff3b";break;case e.LE.AWAY:q.color="#ffc107";break;case e.LE.OFFLINE:q.color="#d5dde1"}return q}get status(){var ue,q;switch(null===(ue=this._employee)||void 0===ue?void 0:ue.status){case e.LE.ONLINE:return"\u0412 \u0441\u0435\u0442\u0438";case e.LE.AWAY:return"\u041e\u0442\u043e\u0448\u0435\u043b";case e.LE.OFFLINE:return(new a.t).transform(null===(q=this._employee)||void 0===q?void 0:q.lastSeen,"\u0411\u044b\u043b(\u0430) \u0432 \u0441\u0435\u0442\u0438 "," \u043d\u0430\u0437\u0430\u0434");default:return""}}static createElement(ue,q){const Y=document.createElement("employee-label-element");return Y.employee=ue,Y.inline=q,Y}ngOnInit(){this.loadingEmployee()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}showPreview(ue){this.preview&&this.preview.show(ue)}hidePreview(){setTimeout(()=>{this.preview&&this.preview.hide()})}ngOnChanges(ue){const q=ue.employee;q&&q.currentValue&&this.loadingEmployee()}loadingEmployee(){this.employee?"string"==typeof this.employee?this.api.getEmployee(this.employee,!0).subscribe({next:ue=>{this._employee=ue,this.sub=this.rt.employeeUpdated(this._employee.login).subscribe(q=>{this._employee=q}),this.loadStatus="ready"},error:()=>{this.loadStatus="error"}}):(this._employee=this.employee,this.loadStatus="ready",this.sub=this.rt.employeeUpdated(this._employee.login).subscribe(ue=>{this._employee=ue})):this.loadStatus="empty"}}return O.\u0275fac=function(ue){return new(ue||O)(f.Y36(g.s),f.Y36(_.U))},O.\u0275cmp=f.Xpm({type:O,selectors:[["app-employee-label"]],viewQuery:function(ue,q){if(1&ue&&f.Gf(P,5),2&ue){let Y;f.iGM(Y=f.CRH())&&(q.preview=Y.first)}},inputs:{size:"size",inline:"inline",showStatus:"showStatus",employee:"employee"},features:[f.TTD],decls:5,vars:2,consts:[["class","flexed gap4 hcenter",4,"ngIf"],[4,"ngIf"],["appendTo","body","showTransitionOptions","0ms","hideTransitionOptions","0ms"],["preview",""],["pTemplate","content"],[1,"flexed","gap4","hcenter"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"deleted","name","shape","size","src","status",4,"ngIf"],[3,"deleted","name","shape","size","src",4,"ngIf"],[1,"caption","size-small","one-line"],[3,"deleted","name","shape","size","src","status"],[3,"deleted","name","shape","size","src"],[3,"shape","size"],["height",".8rem","width","8rem"],[1,""],[1,"like-link",3,"mouseenter","mouseleave"],["height",".8rem","width","5rem"],[1,"employee-preview"],["shape","square",1,"avatar",3,"size","deleted","src","name","status"],[1,"name","caption","size-big"],[1,"status"],["class","caption size-small wt-bold f-color-500",3,"style",4,"ngIf"],["class","caption size-small",4,"ngIf"],[1,"department","caption","size-small","f-color-500"],[1,"position","caption","size-small","f-color-500"],[1,"caption","size-small","wt-bold","f-color-500"],[1,"caption","size-small"]],template:function(ue,q){1&ue&&(f.YNc(0,w,6,5,"span",0),f.YNc(1,F,6,5,"ng-container",1),f.TgZ(2,"p-overlayPanel",2,3),f.YNc(4,V,11,10,"ng-template",4),f.qZA()),2&ue&&(f.Q6J("ngIf",!q.inline),f.xp6(1),f.Q6J("ngIf",q.inline))},styles:['.employee-preview[_ngcontent-%COMP%]{display:grid;grid:repeat(3,min-content) 1fr/repeat(2,max-content);grid-template-areas:"avatar name" "avatar status" "avatar department" "avatar position";column-gap:1rem}.employee-preview[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{grid-area:avatar}.employee-preview[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{grid-area:name}.employee-preview[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{grid-area:status}.employee-preview[_ngcontent-%COMP%]   .department[_ngcontent-%COMP%]{grid-area:department}.employee-preview[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{grid-area:position}']}),O})()},6288:(mn,ht,b)=>{"use strict";b.d(ht,{Y:()=>w});var e=b(5e3),a=b(2382),f=b(9783),g=b(9808),_=b(1874),P=b(4119),y=b(845),l=b(85);const R=["fileManager"],L=function(){return{fontSize:".65rem",minWidth:"1.2rem",height:"1.2rem"}};function J(x,D){if(1&x&&e._UZ(0,"p-badge",7),2&x){const S=e.oxw();e.Akn(e.DdM(3,L)),e.Q6J("value",S.filesLoaded.toString())}}let w=(()=>{class x{constructor(S){this.toast=S,this.files=[],this.short=!1,this.filesChange=new e.vpe,this.filesCatching=0,this.filesLoaded=0,this.loading=!1,this.disabled=!1,this.menuItems=[{label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",icon:"mdi-edit",command:this.openFileManager.bind(this)},{label:"\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c",icon:"mdi-highlight_off",command:this.clear.bind(this)}],this.onChange=U=>{},this.onTouched=()=>{}}get hasFiles(){return this.files.length>0}get style(){return this.short?"p-button-text p-button-icon p-button-rounded"+(this.hasFiles?" p-button-info":" p-button-secondary"):"p-button-text"+(this.hasFiles?" p-button-info":" p-button-secondary")}get label(){return this.short?"":"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c"}ngOnInit(){}openFileManager(){this.clear(),this.fileManager.nativeElement.click()}clear(){this.filesCatching=0,this.filesLoaded=0,this.files=[],this.filesChange.emit([]),this.onChange([]),this.fileManager.nativeElement.value=""}catchFiles(S){var U;if(0===S.target.files.length)return;this.loading=!0,this.filesCatching=0,this.filesLoaded=0;const F=Object.values(null!==(U=this.fileManager.nativeElement.files)&&void 0!==U?U:{});this.loadFiles(F)}appendFiles(S){if(!S.clipboardData)return;this.loading=!0,this.filesCatching+=S.clipboardData.files.length;const U=[];for(let F=0;F<S.clipboardData.files.length;F++)U.push(S.clipboardData.files[F]);this.loadFiles(U)}loadFiles(S){this.filesCatching=S.length+this.files.length;for(const U of S){if(U.size>20971520){this.toast.add({severity:"warn",summary:"\u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d \u0440\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430",detail:`\u0424\u0430\u0439\u043b ${U.name} \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c ${(U.size/1048576).toFixed(2)} \u041c\u0431\u0430\u0439\u0442 \u043f\u0440\u0435\u0432\u044b\u0441\u0438\u043b \u043b\u0438\u043c\u0438\u0442 \u0432 ${20..toFixed(2)} \u041c\u0431\u0430\u0439\u0442`}),this.filesCatching--,this.filesLoaded===this.filesCatching&&(this.loading=!1);continue}const F=new FileReader;F.onload=ce=>{var te;const V=null===(te=ce.target)||void 0===te?void 0:te.result;V instanceof ArrayBuffer&&(Array.isArray(this.files)||(this.files=[]),this.files.push({name:U.name,modified:U.lastModified,data:Object.values(new Uint8Array(V)),type:U.type}),this.lastFileName=U.name,this.filesLoaded=this.files.length,this.filesChange.emit(this.files),this.onChange(this.files),this.filesLoaded===this.filesCatching&&(this.loading=!1))},F.onerror=ce=>{this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0447\u0442\u0435\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u0430",detail:ce.type}),this.filesCatching--,this.filesLoaded===this.filesCatching&&(this.loading=!1)},F.readAsArrayBuffer(U)}}ngOnDestroy(){}registerOnChange(S){this.onChange=S}registerOnTouched(S){this.onTouched=S}setDisabledState(S){this.disabled=S}writeValue(S){this.files=S,this.filesChange.emit(this.files)}}return x.\u0275fac=function(S){return new(S||x)(e.Y36(f.ez))},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-file-input"]],viewQuery:function(S,U){if(1&S&&e.Gf(R,5),2&S){let F;e.iGM(F=e.CRH())&&(U.fileManager=F.first)}},inputs:{files:"files",short:"short",disabled:"disabled"},outputs:{filesChange:"filesChange"},features:[e._Bn([{provide:a.JU,useExisting:x,multi:!0}])],decls:7,vars:11,consts:[["tooltipPosition","left",1,"button-wrapper",3,"pTooltip","tooltipDisabled"],["icon","mdi-attach_file",3,"disabled","label","styleClass","onClick"],["class","ur-badge",3,"style","value",4,"ngIf"],["appendTo","body",3,"model","popup"],["menu",""],["type","file",3,"multiple","change"],["fileManager",""],[1,"ur-badge",3,"value"]],template:function(S,U){if(1&S){const F=e.EpF();e.TgZ(0,"div",0)(1,"p-button",1),e.NdJ("onClick",function(te){e.CHM(F);const V=e.MAs(4);return e.KtG(U.hasFiles?V.toggle(te):U.openFileManager())}),e.qZA(),e.YNc(2,J,1,4,"p-badge",2),e._UZ(3,"p-menu",3,4),e.qZA(),e.TgZ(5,"input",5,6),e.NdJ("change",function(te){return U.catchFiles(te)}),e.qZA()}2&S&&(e.Q6J("pTooltip","\u0424\u0430\u0439\u043b\u043e\u0432 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e "+U.filesLoaded+"/"+U.filesCatching+"\n\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0439: \n"+U.lastFileName)("tooltipDisabled",!U.hasFiles),e.xp6(1),e.Q6J("disabled",U.disabled||U.loading)("label",U.label)("styleClass",U.style),e.xp6(1),e.Q6J("ngIf",U.hasFiles),e.xp6(1),e.Q6J("model",U.menuItems)("popup",!0),e.xp6(2),e.Udp("display","none"),e.Q6J("multiple",!0))},dependencies:[g.O5,_.v2,P.u,y.zx,l.Ct],styles:[".button-wrapper[_ngcontent-%COMP%]{position:relative}"]}),x})()},5651:(mn,ht,b)=>{"use strict";b.d(ht,{r:()=>P});var e=b(5e3),a=b(9808);function f(y,l){if(1&y&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&y){const R=e.oxw();e.Udp("font-size",R.size+"rem"),e.xp6(1),e.Oqu(R.icon)}}function g(y,l){if(1&y&&(e.TgZ(0,"div",4)(1,"div",5),e._UZ(2,"div"),e.qZA()()),2&y){const R=e.oxw();e.xp6(2),e.Tol("loading-indicator__spinner "+R.model)}}const _=function(y){return{disabled:y}};let P=(()=>{class y{constructor(){this.icon="",this.size=1.9,this.disabled=!1,this.onClick=new e.vpe,this.model="primary",this.loading=!1}ngOnInit(){}clickHandler(R){this.disabled||this.onClick.emit(R)}}return y.\u0275fac=function(R){return new(R||y)},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-icon-button"]],inputs:{icon:"icon",size:"size",disabled:"disabled",model:"model",loading:"loading"},outputs:{onClick:"onClick"},decls:3,vars:7,consts:[[3,"ngClass","click"],["class","material-icons-round",3,"font-size",4,"ngIf"],["class","flexed hcenter vcenter",4,"ngIf"],[1,"material-icons-round"],[1,"flexed","hcenter","vcenter"],[1,"loading-indicator"]],template:function(R,L){1&R&&(e.TgZ(0,"div",0),e.NdJ("click",function(N){return L.clickHandler(N)}),e.YNc(1,f,2,3,"span",1),e.YNc(2,g,3,2,"div",2),e.qZA()),2&R&&(e.Tol("button "+L.model),e.Q6J("ngClass",e.VKq(5,_,L.disabled)),e.xp6(1),e.Q6J("ngIf",!L.loading),e.xp6(1),e.Q6J("ngIf",L.loading))},dependencies:[a.mk,a.O5],styles:[".button[_ngcontent-%COMP%]{display:flex;padding:.2rem;-webkit-user-select:none;user-select:none;cursor:pointer;border-radius:.4rem;transition:color .2s ease-out}.button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{line-height:normal!important}.button.primary[_ngcontent-%COMP%]{color:var(--mc-500)}.button.primary[_ngcontent-%COMP%]:hover{color:#2542a4}.button.danger[_ngcontent-%COMP%]{color:#ef4444}.button.danger[_ngcontent-%COMP%]:hover{color:#b73030}.button.success[_ngcontent-%COMP%]{color:#22c55e}.button.success[_ngcontent-%COMP%]:hover{color:#1ba94f}.button.secondary[_ngcontent-%COMP%]{color:#64748b}.button.secondary[_ngcontent-%COMP%]:hover{color:#4d5a6c}.button.info[_ngcontent-%COMP%]{color:#3b82f6}.button.info[_ngcontent-%COMP%]:hover{color:#2c61b7}.button.warning[_ngcontent-%COMP%]{color:#f59e0b}.button.warning[_ngcontent-%COMP%]:hover{color:#c07d09}.button.help[_ngcontent-%COMP%]{color:#a855f7}.button.help[_ngcontent-%COMP%]:hover{color:#7b3db6}.button.light[_ngcontent-%COMP%]{color:var(--tc-100)}.button.light[_ngcontent-%COMP%]:hover{color:var(--tc-300)}.disabled[_ngcontent-%COMP%]{color:var(--bgc-300)!important;cursor:default}.loading-indicator[_ngcontent-%COMP%]{width:20px;height:20px;display:flex;align-items:center;justify-content:center}.loading-indicator__spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(0,0,0,0);border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite}.loading-indicator__spinner.primary[_ngcontent-%COMP%]{border-top-color:var(--mc-500)}.loading-indicator__spinner.success[_ngcontent-%COMP%]{border-top-color:#22c55e}.loading-indicator__spinner.secondary[_ngcontent-%COMP%]{border-top-color:#64748b}.loading-indicator__spinner.info[_ngcontent-%COMP%]{border-top-color:#3b82f6}.loading-indicator__spinner.danger[_ngcontent-%COMP%]{border-top-color:#ef4444}.loading-indicator__spinner.warning[_ngcontent-%COMP%]{border-top-color:#f59e0b}.loading-indicator__spinner.help[_ngcontent-%COMP%]{border-top-color:#a855f7}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),y})()},1560:(mn,ht,b)=>{"use strict";b.d(ht,{_:()=>g});var e=b(5e3),a=b(9808);const f=["*"];let g=(()=>{class _{constructor(){this.label=""}ngOnInit(){}}return _.\u0275fac=function(y){return new(y||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-label"]],inputs:{label:"label",styleClass:"styleClass"},ngContentSelectors:f,decls:4,vars:2,consts:[[1,"input-label-wrapper"],[3,"ngClass"]],template:function(y,l){1&y&&(e.F$t(),e.TgZ(0,"span",0)(1,"label",1),e._uU(2),e.qZA(),e.Hsn(3),e.qZA()),2&y&&(e.xp6(1),e.Q6J("ngClass",l.styleClass),e.xp6(1),e.Oqu(l.label))},dependencies:[a.mk]}),_})()},1004:(mn,ht,b)=>{"use strict";b.d(ht,{a:()=>x});var e=b(5e3),a=b(7579),f=b(8372),g=b(5577),_=b(4004),P=b(2382),y=b(8738),l=b(9808),R=b(9783),L=b(2145);function J(D,S){if(1&D&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&D){const U=S.$implicit;e.xp6(1),e.Oqu(U.label)}}function N(D,S){if(1&D&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&D){const U=S.$implicit;e.xp6(1),e.hij(" ",U.label," ")}}const w=function(){return[]};let x=(()=>{class D{constructor(U){this.api=U,this.control=new P.NI([]),this.connectionServicesSuggestions=new a.x,this.connectionServices$=this.connectionServicesSuggestions.pipe((0,f.b)(500),(0,g.z)(F=>F?this.api.getConnectionServicesSuggestionsList(F):this.api.getConnectionServicesList())),this.isDisabled=!1,this.inputClasses={},this.changeIsDisabled=new e.vpe,this.onBlur=new e.vpe,this.onChange=F=>{},this.onTouched=()=>{}}ngOnInit(){this.changeValueSubscription=this.control.valueChanges.pipe((0,_.U)(U=>U?U.map(F=>({connectionService:F.value})):[])).subscribe(U=>this.onChange(U))}ngOnDestroy(){var U;null===(U=this.changeValueSubscription)||void 0===U||U.unsubscribe()}registerOnChange(U){this.onChange=U}registerOnTouched(U){this.onTouched=U}setDisabledState(U){this.isDisabled=U}writeValue(U){this.api.getConnectionServicesList().pipe((0,_.U)(F=>U?U.map(ce=>F.find(te=>te.value===ce.connectionService)).filter(ce=>void 0!==ce):[])).subscribe(F=>{this.control.setValue(F)})}}return D.\u0275fac=function(U){return new(U||D)(e.Y36(y.s))},D.\u0275cmp=e.Xpm({type:D,selectors:[["app-connection-services-input"]],inputs:{isDisabled:"isDisabled",inputClasses:"inputClasses"},outputs:{changeIsDisabled:"changeIsDisabled",onBlur:"onBlur"},features:[e._Bn([{provide:P.JU,useExisting:(0,e.Gpc)(()=>D),multi:!0}])],decls:4,vars:8,consts:[["placeholder","\u0423\u0441\u043b\u0443\u0433\u0438","styleClass","w-full block transparent-ac-token","inputStyleClass","w-5rem","appendTo","body",3,"ngClass","suggestions","formControl","multiple","completeOnFocus","onBlur","completeMethod"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"px-2","py-1","bg-primary-50","text-primary-400","border-round-md","font-bold","text-xs"]],template:function(U,F){if(1&U&&(e.TgZ(0,"p-autoComplete",0),e.NdJ("onBlur",function(){return F.onTouched(),F.onBlur.emit()})("completeMethod",function(te){return F.connectionServicesSuggestions.next(te.query)}),e.ALo(1,"async"),e.YNc(2,J,2,1,"ng-template",1),e.YNc(3,N,2,1,"ng-template",2),e.qZA()),2&U){let ce;e.Q6J("ngClass",F.inputClasses)("suggestions",null!==(ce=e.lcZ(1,5,F.connectionServices$))&&void 0!==ce?ce:e.DdM(7,w))("formControl",F.control)("multiple",!0)("completeOnFocus",!0)}},dependencies:[l.mk,P.JJ,R.jx,P.oH,L.Qc,l.Ov]}),D})()},8508:(mn,ht,b)=>{"use strict";b.d(ht,{Z:()=>P});var e=b(5e3),a=b(2382),f=b(4004),g=b(9808);let _=(()=>{class y{constructor(R){this.el=R,this.dfPlaceholder="",this.itemToMeasure=document.createElement("span")}set update(R){this.adjust(this.el.nativeElement)}onInput(R){this.adjust(R.target)}onBlur(R){setTimeout(()=>this.adjust(R.target))}onFocus(R){this.adjust(R.target)}ngOnInit(){const R=getComputedStyle(this.el.nativeElement);this.itemToMeasure.style.fontSize=R.fontSize,this.itemToMeasure.style.fontFamily=R.fontFamily,this.itemToMeasure.style.fontWeight=R.fontWeight,this.itemToMeasure.style.fontStyle=R.fontStyle,this.itemToMeasure.style.visibility="hidden",this.itemToMeasure.style.position="fixed",this.itemToMeasure.style.whiteSpace="nowrap",this.el.nativeElement.style.transition="width .2s ease-in-out",this.el.nativeElement.style.boxSizing="content-box",this.el.nativeElement.placeholder=this.dfPlaceholder,document.body.append(this.itemToMeasure),this.adjust(this.el.nativeElement)}ngOnDestroy(){document.body.removeChild(this.itemToMeasure)}ngOnChanges(R){R.dfPlaceholder&&(this.itemToMeasure.innerText=R.dfPlaceholder.currentValue,this.el.nativeElement.placeholder=R.dfPlaceholder.currentValue),this.adjust(this.el.nativeElement)}adjust(R){this.itemToMeasure.innerText=R.value?R.value:this.dfPlaceholder;const{width:L}=this.itemToMeasure.getBoundingClientRect();R.style.width=`${L}px`}}return y.\u0275fac=function(R){return new(R||y)(e.Y36(e.SBq))},y.\u0275dir=e.lG2({type:y,selectors:[["","appAdjustInputWidth",""]],hostBindings:function(R,L){1&R&&e.NdJ("input",function(N){return L.onInput(N)})("blur",function(N){return L.onBlur(N)})("focus",function(N){return L.onFocus(N)})},inputs:{dfPlaceholder:"dfPlaceholder",update:"update"},features:[e.TTD]}),y})(),P=(()=>{class y{constructor(){this.inputClasses={},this.onBlur=new e.vpe,this.control1=new a.NI(0),this.control2=new a.NI(0),this.control3=new a.NI(0),this.control4=new a.NI(0),this.formGroup=new a.cw({octets:new a.Oe([this.control1,this.control2,this.control3,this.control4])}),this.updateValue="",this.onChange=R=>{},this.onTouch=()=>{}}setDisabledState(R){R?this.formGroup.disable({emitEvent:!1}):this.formGroup.enable({emitEvent:!1})}parseString(R){return R?R.trim().split(".").map(L=>{let J=parseInt(L.replace(/\D/g,""));return isNaN(J)?0:J}).slice(0,4):[0,0,0,0]}registerOnChange(R){this.onChange=R}registerOnTouched(R){this.onTouch=R}writeValue(R){R&&("string"==typeof R&&(R=this.parseString(R)),4!==R.length&&(R=[0,0,0,0]),this.formGroup.patchValue({octets:this.mapOctets(R)}),this.updateValue=R.join("."))}mapOctets(R){return R.map(L=>"number"!=typeof(L=parseInt(L))||isNaN(L)?0:Math.min(Math.max(0,L),255))}octetFocus(R){R.target.select()}ngOnInit(){this.subscription=this.formGroup.valueChanges.pipe((0,f.U)(R=>{let L=R.octets;return void 0===L?(this.formGroup.patchValue({octets:[0,0,0,0]},{emitEvent:!1}),"0.0.0.0"):(L=this.mapOctets(L),this.formGroup.patchValue({octets:L},{emitEvent:!1,onlySelf:!0}),L.join("."))})).subscribe(R=>{this.onChange("0.0.0.0"===R?null:R)})}ngOnDestroy(){var R;null===(R=this.subscription)||void 0===R||R.unsubscribe()}focusNext(R,L){3===R.target.value.length&&L.focus()}}return y.\u0275fac=function(R){return new(R||y)},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-ip-input"]],inputs:{inputClasses:"inputClasses"},outputs:{onBlur:"onBlur"},features:[e._Bn([{provide:a.JU,useExisting:(0,e.Gpc)(()=>y),multi:!0}])],decls:15,vars:12,consts:[[1,"flex","gap-1","p-component","p-inputtext","p-element","error-border",3,"ngClass","formGroup","click"],["appAdjustInputWidth","",1,"octet-input","text-bluegray-600",3,"formControl","update","click","focus","blur","input"],["octOne",""],["octTwo",""],["octThree",""],["appAdjustInputWidth","",1,"octet-input","text-bluegray-600",3,"formControl","update","click","focus","blur"],["octFour",""]],template:function(R,L){if(1&R){const J=e.EpF();e.TgZ(0,"div",0),e.NdJ("click",function(){e.CHM(J);const w=e.MAs(2);return e.KtG(w.focus())}),e.TgZ(1,"input",1,2),e.NdJ("click",function(w){return w.stopPropagation()})("focus",function(w){return L.octetFocus(w)})("blur",function(){return L.onBlur.emit(),L.onTouch()})("input",function(w){e.CHM(J);const x=e.MAs(6);return e.KtG(L.focusNext(w,x))}),e.qZA(),e.TgZ(3,"span"),e._uU(4,"."),e.qZA(),e.TgZ(5,"input",1,3),e.NdJ("click",function(w){return w.stopPropagation()})("focus",function(w){return L.octetFocus(w)})("blur",function(){return L.onBlur.emit(),L.onTouch()})("input",function(w){e.CHM(J);const x=e.MAs(10);return e.KtG(L.focusNext(w,x))}),e.qZA(),e.TgZ(7,"span"),e._uU(8,"."),e.qZA(),e.TgZ(9,"input",1,4),e.NdJ("click",function(w){return w.stopPropagation()})("focus",function(w){return L.octetFocus(w)})("blur",function(){return L.onBlur.emit(),L.onTouch()})("input",function(w){e.CHM(J);const x=e.MAs(14);return e.KtG(L.focusNext(w,x))}),e.qZA(),e.TgZ(11,"span"),e._uU(12,"."),e.qZA(),e.TgZ(13,"input",5,6),e.NdJ("click",function(w){return w.stopPropagation()})("focus",function(w){return L.octetFocus(w)})("blur",function(){return L.onBlur.emit(),L.onTouch()}),e.qZA()()}2&R&&(e.Udp("cursor","text"),e.Q6J("ngClass",L.inputClasses)("formGroup",L.formGroup),e.xp6(1),e.Q6J("formControl",L.control1)("update",L.updateValue),e.xp6(4),e.Q6J("formControl",L.control2)("update",L.updateValue),e.xp6(4),e.Q6J("formControl",L.control3)("update",L.updateValue),e.xp6(4),e.Q6J("formControl",L.control4)("update",L.updateValue))},dependencies:[g.mk,a.Fj,a.JJ,a.JL,a.oH,a.sg,_],styles:[".octet-input[_ngcontent-%COMP%]{padding:0;border:none;outline:none;width:3rem;text-align:center;font-size:1.1rem}"]}),y})()},2777:(mn,ht,b)=>{"use strict";b.d(ht,{U:()=>w});var e=b(1135),a=b(8372),f=b(5e3),g=b(8738);const _=["previewConnectedTask"],P=function(x){return["/task",x]};function y(x,D){if(1&x){const S=f.EpF();f.TgZ(0,"span",6),f.NdJ("click",function(){f.CHM(S);const F=f.oxw();return f.KtG(F.panelShowSubject.next(null))})("mouseenter",function(F){f.CHM(S);const ce=f.oxw();return f.KtG(ce.panelShowSubject.next(F))})("mouseleave",function(){f.CHM(S);const F=f.oxw();return f.KtG(F.panelShowSubject.next(null))}),f._uU(1),f.qZA()}if(2&x){const S=f.oxw();f.Q6J("routerLink",f.VKq(2,P,null==S.task?null:S.task.taskId)),f.xp6(1),f.hij("#",null==S.task?null:S.task.taskId,"")}}function l(x,D){1&x&&f._UZ(0,"p-skeleton",7),2&x&&f.Udp("display","inline-block")}function R(x,D){if(1&x&&(f.TgZ(0,"span"),f._uU(1),f.qZA()),2&x){const S=f.oxw();f.xp6(1),f.hij("#",S._taskId,"")}}const L=function(){return{width:"40vw",minWidth:"min-content"}};function J(x,D){if(1&x&&f._UZ(0,"app-task-list-element",9),2&x){const S=f.oxw(2);f.Akn(f.DdM(5,L)),f.Q6J("isHover",!1)("item",S.task)("inlined",!0)}}function N(x,D){if(1&x&&f.YNc(0,J,1,6,"app-task-list-element",8),2&x){const S=f.oxw();f.Q6J("ngIf",null==S.task?null:S.task.taskId)}}let w=(()=>{class x{constructor(S){this.api=S,this.failed=!1,this.panelShowSubject=new e.X(null),this.panelShow$=this.panelShowSubject.pipe((0,a.b)(500))}set taskId(S){0!==S&&(this._taskId=S,this.api.getTask(this._taskId,!0).subscribe({next:U=>this.task=U,error:()=>this.failed=!0}))}static createElement(S){const U=document.createElement("task-link-element");return U.taskId=S,U}ngOnInit(){this.panelShowSub=this.panelShow$.subscribe(S=>{S?this.showPreview(S):this.hidePreview()})}ngOnDestroy(){var S;null===(S=this.panelShowSub)||void 0===S||S.unsubscribe()}showPreview(S){this.previewConnectedTask&&this.previewConnectedTask.show(S)}hidePreview(){setTimeout(()=>{this.previewConnectedTask&&this.previewConnectedTask.hide()})}}return x.\u0275fac=function(S){return new(S||x)(f.Y36(g.s))},x.\u0275cmp=f.Xpm({type:x,selectors:[["app-task-link"]],viewQuery:function(S,U){if(1&S&&f.Gf(_,5),2&S){let F;f.iGM(F=f.CRH())&&(U.previewConnectedTask=F.first)}},inputs:{task:"task",taskId:"taskId"},decls:6,vars:3,consts:[["class","like-link",3,"routerLink","click","mouseenter","mouseleave",4,"ngIf"],["width","4rem","height",".8rem",3,"display",4,"ngIf"],[4,"ngIf"],["appendTo","body"],["previewConnectedTask",""],["pTemplate","content"],[1,"like-link",3,"routerLink","click","mouseenter","mouseleave"],["width","4rem","height",".8rem"],[3,"isHover","item","inlined","style",4,"ngIf"],[3,"isHover","item","inlined"]],template:function(S,U){1&S&&(f.YNc(0,y,2,4,"span",0),f.YNc(1,l,1,2,"p-skeleton",1),f.YNc(2,R,2,1,"span",2),f.TgZ(3,"p-overlayPanel",3,4),f.YNc(5,N,1,1,"ng-template",5),f.qZA()),2&S&&(f.Q6J("ngIf",0!==(null==U.task?null:U.task.taskId)),f.xp6(1),f.Q6J("ngIf",0===(null==U.task?null:U.task.taskId)&&!U.failed),f.xp6(1),f.Q6J("ngIf",U.failed))}}),x})()},1403:(mn,ht,b)=>{"use strict";b.d(ht,{a:()=>O});var e=b(5e3),a=b(2382),f=b(1135),g=b(9841),_=b(4004),P=b(8738),y=b(9808),l=b(9783),R=b(3640),L=b(5055),J=b(7433);function N($,ue){if(1&$){const q=e.EpF();e.TgZ(0,"span",13),e.NdJ("click",function(){e.CHM(q);const G=e.oxw().$implicit,he=e.oxw(2);return e.KtG(he.removeTag(G))}),e.qZA()}}function w($,ue){if(1&$&&(e.TgZ(0,"div",10)(1,"div",11),e._uU(2),e.qZA(),e.YNc(3,N,1,0,"span",12),e.qZA()),2&$){const q=ue.$implicit,Y=e.oxw(2);e.Udp("background-color",q.color),e.xp6(2),e.hij(" ",q.name," "),e.xp6(1),e.Q6J("ngIf",Y.isEdit)}}function x($,ue){1&$&&(e.TgZ(0,"div",14),e._uU(1," \u041d\u0435\u0442 \u0442\u0435\u0433\u043e\u0432 "),e.qZA())}function D($,ue){if(1&$){const q=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(G){e.CHM(q);const he=e.oxw(2),j=e.MAs(4);return e.KtG(he.editTags(G,j,he.element.nativeElement))}),e.TgZ(1,"span",16),e._uU(2,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),e.qZA()()}}const S=function(){return{"z-index":2101}};function U($,ue){if(1&$){const q=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(G){return G.stopPropagation()})("mouseenter",function(){e.CHM(q);const G=e.oxw();return e.KtG(G.isWrapperHovered=!0)})("mouseleave",function(){e.CHM(q);const G=e.oxw();return e.KtG(G.isWrapperHovered=!1)}),e.YNc(1,w,4,4,"div",7),e.YNc(2,x,2,0,"div",8),e.YNc(3,D,3,0,"div",9),e.qZA()}if(2&$){const q=e.oxw();e.Akn(q.isEdit?e.DdM(5,S):null),e.xp6(1),e.Q6J("ngForOf",q.tags),e.xp6(1),e.Q6J("ngIf",0===q.tags.length),e.xp6(1),e.Q6J("ngIf",!q.isEdit&&q.isWrapperHovered)}}function F($,ue){if(1&$){const q=e.EpF();e.TgZ(0,"div",17),e.NdJ("click",function(G){e.CHM(q);const he=e.oxw(),j=e.MAs(4);return e.KtG(he.editTags(G,j,he.element.nativeElement))}),e._uU(1," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0433\u0438 "),e.qZA()}}function ce($,ue){if(1&$&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&$){const q=ue.$implicit;e.Udp("color",q.value.color),e.xp6(1),e.Oqu(q.label)}}const te=function(){return[]},V=function(){return{"max-height":"35vh"}};function k($,ue){if(1&$){const q=e.EpF();e.TgZ(0,"p-listbox",18),e.NdJ("onChange",function(G){e.CHM(q);const he=e.oxw();return e.KtG(he.appendTag(G.value))}),e.ALo(1,"async"),e.YNc(2,ce,2,3,"ng-template",19),e.qZA()}if(2&$){const q=e.oxw();let Y;e.Q6J("options",null!==(Y=e.lcZ(1,3,q.loadedTags$))&&void 0!==Y?Y:e.DdM(5,te))("filter",!0)("listStyle",e.DdM(6,V))}}let O=(()=>{class ${constructor(q,Y){this.api=q,this.element=Y,this.isEdit=!1,this.isDisabled=!1,this.isWrapperHovered=!1,this.tags=[],this.selectedTagsSubject=new f.X(this.tags),this.alreadySelected$=this.selectedTagsSubject.asObservable(),this.loadedTags$=(0,g.a)([this.api.getTaskTags(null,!1),this.alreadySelected$]).pipe((0,_.U)(([G,he])=>G.filter(j=>!he.find(Q=>Q.taskTagId===j.taskTagId)).map(j=>({label:j.name,value:j})))),this.initialTags=[],this.onShow=new e.vpe,this.onHide=new e.vpe,this.onChange=G=>{},this.onTouched=()=>{}}ngOnInit(){}ngOnDestroy(){}registerOnChange(q){this.onChange=q}registerOnTouched(q){this.onTouched=q}setDisabledState(q){this.isDisabled=q}writeValue(q){if(!q)return this.tags=[],void this.selectedTagsSubject.next(this.tags);this.tags=q,this.selectedTagsSubject.next(this.tags)}appendTag(q){!q||(this.tags.push(q),this.selectedTagsSubject.next(this.tags))}removeTag(q){this.tags.splice(this.tags.indexOf(q),1),this.selectedTagsSubject.next(this.tags)}initializeTags(){this.initialTags=[...this.tags]}isHasChanges(){return!(this.tags.length===this.initialTags.length&&!this.tags.some(q=>this.initialTags.every(Y=>Y.taskTagId!==q.taskTagId))&&!this.initialTags.some(q=>this.tags.every(Y=>q.taskTagId!==Y.taskTagId)))}changeTags(){this.isEdit=!1,this.onHide.emit(),this.isHasChanges()&&this.onChange(this.tags)}editTags(q,Y,G){q.stopPropagation(),this.isEdit=!0,this.initializeTags(),Y.toggle(q,G),this.onShow.emit()}}return $.\u0275fac=function(q){return new(q||$)(e.Y36(P.s),e.Y36(e.SBq))},$.\u0275cmp=e.Xpm({type:$,selectors:[["app-task-tag-inline-selector"]],outputs:{onShow:"onShow",onHide:"onHide"},features:[e._Bn([{provide:a.JU,multi:!0,useExisting:$}])],decls:7,vars:5,consts:[["class","flex gap-2 align-items-center flex-wrap user-select-none relative w-fit",3,"style","click","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["emptyTagsTemplate",""],["appendTo","body","styleClass","overlay-panel-unpadding",3,"onHide"],["appendTagPanel",""],["pTemplate","content"],[3,"blocked","autoZIndex","baseZIndex"],[1,"flex","gap-2","align-items-center","flex-wrap","user-select-none","relative","w-fit",3,"click","mouseenter","mouseleave"],["class","flex align-items-center px-3 py-2 text-white flex border-round-3xl gap-1 cursor-default",3,"background-color",4,"ngFor","ngForOf"],["class","text-bluegray-300 font-bold px-2 py-1",4,"ngIf"],["class","absolute flex min-w-max w-full h-full align-items-center justify-content-center cursor-pointer\n          border-round-xl py-2 px-4 back-blured border-1 border-orange-500",3,"click",4,"ngIf"],[1,"flex","align-items-center","px-3","py-2","text-white","flex","border-round-3xl","gap-1","cursor-default"],[1,"white-space-nowrap"],["class","mdi-cancel cursor-pointer hover:text-red-100",3,"click",4,"ngIf"],[1,"mdi-cancel","cursor-pointer","hover:text-red-100",3,"click"],[1,"text-bluegray-300","font-bold","px-2","py-1"],[1,"absolute","flex","min-w-max","w-full","h-full","align-items-center","justify-content-center","cursor-pointer","border-round-xl","py-2","px-4","back-blured","border-1","border-orange-500",3,"click"],[1,"text-orange-500"],[1,"text-primary","px-3","py-2","border-round-3xl","border-1","border-primary","w-fit","hover:bg-primary","hover:text-white","cursor-pointer",3,"click"],["filterBy","name",3,"options","filter","listStyle","onChange"],["pTemplate","item"]],template:function(q,Y){if(1&q&&(e.YNc(0,U,4,6,"div",0),e.YNc(1,F,2,0,"ng-template",null,1,e.W1O),e.TgZ(3,"p-overlayPanel",2,3),e.NdJ("onHide",function(){return Y.changeTags()}),e.YNc(5,k,3,7,"ng-template",4),e.qZA(),e._UZ(6,"p-blockUI",5)),2&q){const G=e.MAs(2);e.Q6J("ngIf",Y.tags.length>0||Y.isEdit)("ngIfElse",G),e.xp6(6),e.Q6J("blocked",Y.isEdit)("autoZIndex",!1)("baseZIndex",1101)}},dependencies:[y.sg,y.O5,l.jx,R.T,L.Ri,J.b,y.Ov]}),$})()},6502:(mn,ht,b)=>{"use strict";b.d(ht,{o:()=>Gt});var e=b(5e3),a=b(7384),f=b(2382),g=b(8738);function _(Ht,Ut){1&Ht&&e.GkF(0)}const P=function(){return{label:"\u0414\u0430",value:!0}},y=function(){return{label:"\u041d\u0435\u0442",value:!1}},l=function(){return{label:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",value:null}},R=function(Ht,Ut,ct){return[Ht,Ut,ct]};function L(Ht,Ut){if(1&Ht){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,_,1,0,"ng-container",7),e.TgZ(2,"p-dropdown",8),e.NdJ("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.onChange(fe))})("onBlur",function(){e.CHM(ct);const fe=e.oxw();return e.KtG(fe.onTouched())})("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.controlValue=fe)}),e.qZA()()}if(2&Ht){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("ngModel",ct.controlValue)("ngClass",ct.classes)("options",e.kEZ(8,R,e.DdM(5,P),e.DdM(6,y),e.DdM(7,l)))("disabled",ct.disable)}}function J(Ht,Ut){1&Ht&&e.GkF(0)}function N(Ht,Ut){if(1&Ht){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,J,1,0,"ng-container",7),e.TgZ(2,"input",9),e.NdJ("blur",function(){e.CHM(ct);const fe=e.oxw();return e.KtG(fe.onTouched())})("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.onChange(fe))})("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.controlValue=fe)}),e.qZA()()}if(2&Ht){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("disabled",ct.disable)("ngClass",ct.classes)("ngModel",ct.controlValue)}}function w(Ht,Ut){1&Ht&&e.GkF(0)}function x(Ht,Ut){if(1&Ht){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,w,1,0,"ng-container",7),e.TgZ(2,"textarea",10),e.NdJ("blur",function(){e.CHM(ct);const fe=e.oxw();return e.KtG(fe.onTouched())})("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.onChange(fe))})("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.controlValue=fe)}),e.qZA()()}if(2&Ht){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("ngModel",ct.controlValue)("autoResize",!0)("disabled",ct.disable)("ngClass",ct.classes)("rows",7)}}function D(Ht,Ut){1&Ht&&e.GkF(0)}function S(Ht,Ut){if(1&Ht){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,D,1,0,"ng-container",7),e.TgZ(2,"app-counting-lives-input",11),e.NdJ("onBlur",function(){e.CHM(ct);const fe=e.oxw();return e.KtG(fe.onTouched())})("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.onChange(fe))})("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.controlValue=fe)}),e.qZA()()}if(2&Ht){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("inputClasses",ct.classes)("ngModel",ct.controlValue)("disabled",ct.disable)}}function U(Ht,Ut){1&Ht&&e.GkF(0)}function F(Ht,Ut){if(1&Ht){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,U,1,0,"ng-container",7),e.TgZ(2,"p-inputNumber",12),e.NdJ("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.onChange(fe))})("onBlur",function(){e.CHM(ct);const fe=e.oxw();return e.KtG(fe.onTouched())})("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.controlValue=fe)}),e.qZA()()}if(2&Ht){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("disabled",ct.disable)("ngClass",ct.classes)("ngModel",ct.controlValue)}}function ce(Ht,Ut){1&Ht&&e.GkF(0)}function te(Ht,Ut){if(1&Ht){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,ce,1,0,"ng-container",7),e.TgZ(2,"p-inputNumber",13),e.NdJ("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.onChange(fe))})("onBlur",function(){e.CHM(ct);const fe=e.oxw();return e.KtG(fe.onTouched())})("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.controlValue=fe)}),e.qZA()()}if(2&Ht){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("ngModel",ct.controlValue)("ngClass",ct.classes)("disabled",ct.disable)("minFractionDigits",1)}}function V(Ht,Ut){1&Ht&&e.GkF(0)}function k(Ht,Ut){if(1&Ht){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,V,1,0,"ng-container",7),e.TgZ(2,"app-address-input-alt",14),e.NdJ("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.onChange(fe))})("focusin",function(){e.CHM(ct);const fe=e.oxw();return e.KtG(fe.onTouched())})("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.controlValue=fe)}),e.qZA()()}if(2&Ht){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("inputClasses",ct.classes)("disabled",ct.disable)("ngModel",ct.controlValue)}}function O(Ht,Ut){1&Ht&&e.GkF(0)}function $(Ht,Ut){if(1&Ht&&e._UZ(0,"p-contextMenu",18),2&Ht){e.oxw();const ct=e.MAs(3),at=e.oxw();e.Q6J("target",ct)("model",at.loginInputContextMenuModel)}}function ue(Ht,Ut){if(1&Ht){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,O,1,0,"ng-container",7),e.TgZ(2,"input",15,16),e.NdJ("blur",function(){e.CHM(ct);const fe=e.oxw();return e.KtG(fe.onTouched())})("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.onChange(fe))})("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.controlValue=fe)}),e.qZA(),e.YNc(4,$,1,2,"p-contextMenu",17),e.qZA()}if(2&Ht){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("ngModel",ct.controlValue)("disabled",ct.disable)("ngClass",ct.classes),e.xp6(2),e.Q6J("ngIf",ct.isHasModelItemId&&!ct.controlValue)}}function q(Ht,Ut){1&Ht&&e.GkF(0)}const Y=function(){return[]};function G(Ht,Ut){if(1&Ht){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,q,1,0,"ng-container",7),e.TgZ(2,"p-dropdown",19),e.NdJ("onBlur",function(){e.CHM(ct);const fe=e.oxw();return e.KtG(fe.onTouched())})("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.onChange(fe))})("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.controlValue=fe)}),e.ALo(3,"async"),e.qZA()()}if(2&Ht){const ct=e.oxw(),at=e.MAs(23);let fe;e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("ngModel",ct.controlValue)("disabled",ct.disable)("options",null!==(fe=e.lcZ(3,5,ct.adSources$))&&void 0!==fe?fe:e.DdM(7,Y))("ngClass",ct.classes)}}function he(Ht,Ut){1&Ht&&e.GkF(0)}function j(Ht,Ut){if(1&Ht){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,he,1,0,"ng-container",7),e.TgZ(2,"input",15),e.NdJ("blur",function(){e.CHM(ct);const fe=e.oxw();return e.KtG(fe.onTouched())})("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.onChange(fe))})("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.controlValue=fe)}),e.qZA()()}if(2&Ht){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("ngModel",ct.controlValue)("disabled",ct.disable)("ngClass",ct.classes)}}function Q(Ht,Ut){1&Ht&&e.GkF(0)}function K(Ht,Ut){if(1&Ht){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,Q,1,0,"ng-container",7),e.TgZ(2,"app-ip-input",20),e.NdJ("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.onChange(fe))})("onBlur",function(){e.CHM(ct);const fe=e.oxw();return e.KtG(fe.onTouched())})("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.controlValue=fe)}),e.qZA()()}if(2&Ht){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("inputClasses",ct.classes)("disabled",ct.disable)("ngModel",ct.controlValue)}}function z(Ht,Ut){1&Ht&&e.GkF(0)}function oe(Ht,Ut){if(1&Ht){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,z,1,0,"ng-container",7),e.TgZ(2,"app-client-equipment-list-input",21),e.NdJ("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.onChange(fe))})("onBlur",function(){e.CHM(ct);const fe=e.oxw();return e.KtG(fe.onTouched())})("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.controlValue=fe)}),e.qZA()()}if(2&Ht){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("disabled",ct.disable)("ngModel",ct.controlValue)("inputClasses",ct.classes)}}function Te(Ht,Ut){1&Ht&&e.GkF(0)}function Ae(Ht,Ut){if(1&Ht){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,Te,1,0,"ng-container",7),e.TgZ(2,"app-connection-services-input",22),e.NdJ("onBlur",function(){e.CHM(ct);const fe=e.oxw();return e.KtG(fe.onTouched())})("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.onChange(fe))})("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.controlValue=fe)}),e.qZA()()}if(2&Ht){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("isDisabled",ct.disable)("ngModel",ct.controlValue)("inputClasses",ct.classes)}}function Ke(Ht,Ut){1&Ht&&e.GkF(0)}function be(Ht,Ut){if(1&Ht){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,Ke,1,0,"ng-container",7),e.TgZ(2,"p-dropdown",23),e.NdJ("onBlur",function(){e.CHM(ct);const fe=e.oxw();return e.KtG(fe.onTouched())})("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.onChange(fe))})("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.controlValue=fe)}),e.ALo(3,"async"),e.qZA()()}if(2&Ht){const ct=e.oxw(),at=e.MAs(23);let fe;e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("ngModel",ct.controlValue)("disabled",ct.disable)("options",null!==(fe=e.lcZ(3,5,ct.connectionTypes$))&&void 0!==fe?fe:e.DdM(7,Y))("ngClass",ct.classes)}}function Qe(Ht,Ut){1&Ht&&e.GkF(0)}function X(Ht,Ut){if(1&Ht){const ct=e.EpF();e.TgZ(0,"div",6)(1,"fieldset",24)(2,"legend"),e.YNc(3,Qe,1,0,"ng-container",7),e.qZA(),e.TgZ(4,"app-phone-list-input",25),e.NdJ("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.onChange(fe))})("onBlur",function(){e.CHM(ct);const fe=e.oxw();return e.KtG(fe.onTouched())})("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.controlValue=fe)}),e.qZA()()()}if(2&Ht){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngClass",ct.classes),e.xp6(2),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("disabled",ct.disable)("ngModel",ct.controlValue)}}function xe(Ht,Ut){1&Ht&&e.GkF(0)}function we(Ht,Ut){if(1&Ht){const ct=e.EpF();e.TgZ(0,"div",6)(1,"fieldset",24)(2,"legend"),e.YNc(3,xe,1,0,"ng-container",7),e.qZA(),e.TgZ(4,"app-passport-details-input",26),e.NdJ("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.onChange(fe))})("ngModelChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.controlValue=fe)})("onBlur",function(){e.CHM(ct);const fe=e.oxw();return e.KtG(fe.onTouched())}),e.qZA()()()}if(2&Ht){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngClass",ct.classes),e.xp6(2),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("ngModel",ct.controlValue)}}function Oe(Ht,Ut){1&Ht&&e._UZ(0,"div"),2&Ht&&e.Udp("background-color","red")}function dt(Ht,Ut){if(1&Ht){const ct=e.EpF();e.TgZ(0,"label",27)(1,"app-editing-caption",28),e.NdJ("captionChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.setName(fe))}),e.qZA(),e.TgZ(2,"app-input-variation-selector",29),e.NdJ("valueChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.currentVariation=fe)}),e.qZA(),e.TgZ(3,"app-input-variation-selector",29),e.NdJ("valueChange",function(fe){e.CHM(ct);const ke=e.oxw();return e.KtG(ke.currentDisplayType=fe)}),e.ALo(4,"async"),e.qZA()()}if(2&Ht){const ct=e.oxw();let at;e.xp6(1),e.Q6J("caption",null==ct.field?null:ct.field.name),e.xp6(1),e.Q6J("variationList",ct.currentVariationsList)("value",ct.currentVariation),e.xp6(1),e.Q6J("variationList",null!==(at=e.lcZ(4,5,ct.displayTypeOptions$))&&void 0!==at?at:e.DdM(7,Y))("value",ct.currentDisplayType)}}function bt(Ht,Ut){1&Ht&&(e.TgZ(0,"span",31),e._uU(1,"*"),e.qZA())}function it(Ht,Ut){if(1&Ht&&(e.TgZ(0,"label"),e._uU(1),e.YNc(2,bt,2,0,"span",30),e.qZA()),2&Ht){const ct=e.oxw();e.xp6(1),e.hij(" ",null==ct.field?null:ct.field.name," "),e.xp6(1),e.Q6J("ngIf","OPTIONAL"!==ct.currentVariation)}}function Dt(Ht,Ut){1&Ht&&e.GkF(0)}function vt(Ht,Ut){if(1&Ht&&e.YNc(0,Dt,1,0,"ng-container",32),2&Ht){const ct=e.oxw(),at=e.MAs(19),fe=e.MAs(21);e.Q6J("ngIf",ct.isExample)("ngIfThen",at)("ngIfElse",fe)}}let Gt=(()=>{class Ht{constructor(ct,at){this.api=ct,this.el=at,this.isExample=!1,this.disable=!1,this.connectionTypes$=this.api.getConnectionTypesList(),this.adSources$=this.api.getAdSourcesList(),this.displayTypeOptions$=this.api.getFieldDisplayTypes(),this.onChange=fe=>{},this.onTouched=()=>{},this.loginInputContextMenuModel=[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043b\u043e\u0433\u0438\u043d",command:()=>{this.field&&"modelItemId"in this.field&&this.field.modelItemId&&this.api.createUserInBilling(this.field.modelItemId).subscribe()}},{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c BIZ \u043b\u043e\u0433\u0438\u043d",command:()=>{this.field&&"modelItemId"in this.field&&this.field.modelItemId&&this.api.createUserInBilling(this.field.modelItemId,!0).subscribe()}}]}get classes(){const ct=this.el.nativeElement;return{"ng-dirty":ct.classList.contains("ng-touched"),"ng-invalid":ct.classList.contains("ng-invalid")}}get type(){return this.field?"type"in this.field?this.field.type:"wireframeFieldType"in this.field?this.field.wireframeFieldType:"":""}get currentVariationsList(){if(!this.field)return[];if("type"in this.field)switch(this.field.type){case a._r.SMALL_TEXT:case a._r.LARGE_TEXT:case a._r.BOOLEAN:case a._r.INTEGER:case a._r.FLOAT:case a._r.LOGIN:case a._r.IP:case a._r.CONNECTION_TYPE:case a._r.CONNECTION_SERVICES:case a._r.EQUIPMENTS:case a._r.PHONE_ARRAY:case a._r.AD_SOURCE:case a._r.REQUEST_INITIATOR:case a._r.COUNTING_LIVES:case a._r.PASSPORT_DETAILS:return[{value:"MANDATORY",label:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"},{value:"OPTIONAL",label:"\u041d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}];case a._r.ADDRESS:return[{value:"ALL",label:"\u0412\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"},{value:"APARTMENT_ONLY",label:"\u0422\u043e\u043b\u044c\u043a\u043e \u043d\u043e\u043c\u0435\u0440 \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u044b"},{value:"HOUSE_ONLY",label:"\u0422\u043e\u043b\u044c\u043a\u043e \u043d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430"},{value:"OPTIONAL",label:"\u041d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}];default:return[]}return[]}get currentVariation(){var ct;return this.field&&"variation"in this.field&&null!==(ct=this.field.variation)&&void 0!==ct?ct:""}set currentVariation(ct){!this.field||"type"in this.field&&(this.field.variation=ct)}get currentDisplayType(){var ct;return this.field?"displayType"in this.field?null!==(ct=this.field.displayType)&&void 0!==ct?ct:"LIST_AND_TELEGRAM":"":"LIST_AND_TELEGRAM"}set currentDisplayType(ct){!this.field||"displayType"in this.field&&(this.field.displayType=ct)}get isHasModelItemId(){return this.field&&"modelItemId"in this.field&&this.field.modelItemId}registerOnChange(ct){this.onChange=ct}registerOnTouched(ct){this.onTouched=ct}writeValue(ct){this.controlValue=ct}setDisabledState(ct){this.disable=ct}ngOnInit(){}isName(ct){return"name"in ct}setName(ct){this.field&&"name"in this.field&&(this.field.name=ct)}}return Ht.\u0275fac=function(ct){return new(ct||Ht)(e.Y36(g.s),e.Y36(e.SBq))},Ht.\u0275cmp=e.Xpm({type:Ht,selectors:[["app-task-template-input"]],inputs:{field:"field",isExample:"isExample"},features:[e._Bn([{provide:f.JU,useExisting:(0,e.Gpc)(()=>Ht),multi:!0}])],decls:24,vars:17,consts:[[3,"ngSwitch"],["class","input-label-wrapper",4,"ngSwitchCase"],[3,"background-color",4,"ngSwitchDefault"],["editedLabel",""],["staticLabel",""],["label",""],[1,"input-label-wrapper"],[4,"ngTemplateOutlet"],[3,"ngModel","ngClass","options","disabled","ngModelChange","onBlur"],["pInputText","",3,"disabled","ngClass","ngModel","blur","ngModelChange"],["pInputTextarea","",3,"ngModel","autoResize","disabled","ngClass","rows","blur","ngModelChange"],[3,"inputClasses","ngModel","disabled","onBlur","ngModelChange"],[3,"disabled","ngClass","ngModel","ngModelChange","onBlur"],[3,"ngModel","ngClass","disabled","minFractionDigits","ngModelChange","onBlur"],[3,"inputClasses","disabled","ngModel","ngModelChange","focusin"],["appRegexPatternChecker","","pInputText","","patternRx","^[\\dA-z_]+$",3,"ngModel","disabled","ngClass","blur","ngModelChange"],["loginInput",""],["appendTo","body",3,"target","model",4,"ngIf"],["appendTo","body",3,"target","model"],["placeholder","\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a","appendTo","body",3,"ngModel","disabled","options","ngClass","onBlur","ngModelChange"],[3,"inputClasses","disabled","ngModel","ngModelChange","onBlur"],[3,"disabled","ngModel","inputClasses","ngModelChange","onBlur"],[3,"isDisabled","ngModel","inputClasses","onBlur","ngModelChange"],["placeholder","\u0422\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f","appendTo","body",3,"ngModel","disabled","options","ngClass","onBlur","ngModelChange"],[1,"node","flexed","gap5","column",3,"ngClass"],[3,"disabled","ngModel","ngModelChange","onBlur"],[3,"ngModel","ngModelChange","onBlur"],[1,"flexed","hcenter","gap5"],[3,"caption","captionChange"],[3,"variationList","value","valueChange"],["class","text-red-400 text-xs",4,"ngIf"],[1,"text-red-400","text-xs"],[4,"ngIf","ngIfThen","ngIfElse"]],template:function(ct,at){1&ct&&(e.ynx(0,0),e.YNc(1,L,3,12,"div",1),e.YNc(2,N,3,4,"div",1),e.YNc(3,x,3,6,"div",1),e.YNc(4,S,3,4,"div",1),e.YNc(5,F,3,4,"div",1),e.YNc(6,te,3,5,"div",1),e.YNc(7,k,3,4,"div",1),e.YNc(8,ue,5,5,"div",1),e.YNc(9,G,4,8,"div",1),e.YNc(10,j,3,4,"div",1),e.YNc(11,K,3,4,"div",1),e.YNc(12,oe,3,4,"div",1),e.YNc(13,Ae,3,4,"div",1),e.YNc(14,be,4,8,"div",1),e.YNc(15,X,5,4,"div",1),e.YNc(16,we,5,3,"div",1),e.YNc(17,Oe,1,2,"div",2),e.BQk(),e.YNc(18,dt,5,8,"ng-template",null,3,e.W1O),e.YNc(20,it,3,2,"ng-template",null,4,e.W1O),e.YNc(22,vt,1,3,"ng-template",null,5,e.W1O)),2&ct&&(e.Q6J("ngSwitch",at.type),e.xp6(1),e.Q6J("ngSwitchCase","BOOLEAN"),e.xp6(1),e.Q6J("ngSwitchCase","SMALL_TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","LARGE_TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","COUNTING_LIVES"),e.xp6(1),e.Q6J("ngSwitchCase","INTEGER"),e.xp6(1),e.Q6J("ngSwitchCase","FLOAT"),e.xp6(1),e.Q6J("ngSwitchCase","ADDRESS"),e.xp6(1),e.Q6J("ngSwitchCase","LOGIN"),e.xp6(1),e.Q6J("ngSwitchCase","AD_SOURCE"),e.xp6(1),e.Q6J("ngSwitchCase","REQUEST_INITIATOR"),e.xp6(1),e.Q6J("ngSwitchCase","IP"),e.xp6(1),e.Q6J("ngSwitchCase","EQUIPMENTS"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_SERVICES"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_TYPE"),e.xp6(1),e.Q6J("ngSwitchCase","PHONE_ARRAY"),e.xp6(1),e.Q6J("ngSwitchCase","PASSPORT_DETAILS"))}}),Ht})()},6847:(mn,ht,b)=>{"use strict";b.d(ht,{j:()=>g});var e=b(383),a=b(7445),f=b(5e3);let g=(()=>{class _{constructor(){this.type="long",this.value="-- \u0441\u0435\u043a\u0443\u043d\u0434",this.subscriptions=new e.xf}set timePeriod(y){this.startTime=y?Date.now()-1e3*y:void 0}ngOnInit(){this.subscriptions.addSubscription("time",(0,a.F)(100).subscribe(this.updateTime.bind(this)))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}updateTime(){if(!this.startTime)return void(this.value="-- \u0441\u0435\u043a\u0443\u043d\u0434");let y=0;y=this.startTime instanceof Date?this.startTime.getTime():"string"==typeof this.startTime?new Date(this.startTime).getTime():this.startTime;const l=(new Date).getTime()-y,R=Math.floor(l/1e3)%60,L=e.cQ.declineOfNumber(R,["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"]),J=Math.floor(l/6e4)%60,N=e.cQ.declineOfNumber(J,["\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"]),w=Math.floor(l/36e5)%24,x=e.cQ.declineOfNumber(w,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"]),D=Math.floor(l/864e5),S=e.cQ.declineOfNumber(D,["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"]);if(D||w||J||R)switch(this.type){case"short":D>0?this.value=`${D} ${S}`:w>0?this.value=`${w} ${x}`:J>0?this.value=`${J} ${N}`:R>0&&(this.value=`${R} ${L}`);break;case"long":this.value="",D>0&&(this.value+=`${D} ${S}`),w>0&&(D>0&&(this.value+=" "),this.value+=`${w} ${x}`),J>0&&((w>0||D>0)&&(this.value+=" "),this.value+=`${J} ${N}`),R>0&&0===D&&0===w&&0===J&&((J>0||w>0||D>0)&&(this.value+=" "),this.value+=`${R} ${L}`)}else this.value="-- \u0441\u0435\u043a\u0443\u043d\u0434"}}return _.\u0275fac=function(y){return new(y||_)},_.\u0275cmp=f.Xpm({type:_,selectors:[["app-time-elapsed"]],inputs:{type:"type",startTime:"startTime",timePeriod:"timePeriod"},decls:2,vars:1,template:function(y,l){1&y&&(f.TgZ(0,"span"),f._uU(1),f.qZA()),2&y&&(f.xp6(1),f.hij(" ",l.value,"\n"))}}),_})()},3078:(mn,ht,b)=>{"use strict";b.d(ht,{g:()=>P});var e=b(5e3),a=b(9808);function f(y,l){if(1&y&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&y){const R=e.oxw();e.xp6(1),e.Oqu(R.icon)}}function g(y,l){if(1&y&&(e.TgZ(0,"span",4),e._uU(1),e.qZA()),2&y){const R=e.oxw();e.xp6(1),e.Oqu(R.label)}}const _=function(y,l){return{disabled:y,iconed:l}};let P=(()=>{class y{constructor(){this.disabled=!1,this.size=1,this.model="primary",this.onClick=new e.vpe}ngOnInit(){}clickHandler(R){this.disabled||this.onClick.emit(R)}}return y.\u0275fac=function(R){return new(R||y)},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-tiny-button"]],inputs:{icon:"icon",label:"label",disabled:"disabled",size:"size",model:"model"},outputs:{onClick:"onClick"},decls:3,vars:10,consts:[[3,"ngClass","click"],["class","material-icons-round t-button-icon",4,"ngIf"],["class","t-button-label",4,"ngIf"],[1,"material-icons-round","t-button-icon"],[1,"t-button-label"]],template:function(R,L){1&R&&(e.TgZ(0,"div",0),e.NdJ("click",function(N){return L.clickHandler(N)}),e.YNc(1,f,2,1,"span",1),e.YNc(2,g,2,1,"span",2),e.qZA()),2&R&&(e.Tol("t-button "+L.model),e.Udp("font-size",L.size+"rem"),e.Q6J("ngClass",e.WLB(7,_,L.disabled,L.icon&&L.label)),e.xp6(1),e.Q6J("ngIf",L.icon),e.xp6(1),e.Q6J("ngIf",L.label))},dependencies:[a.mk,a.O5],styles:[".t-button[_ngcontent-%COMP%]{display:flex;gap:.2rem;align-items:center;padding:.3rem;transition:background-color .2s ease-in;cursor:pointer;color:var(--mc-500);font-weight:700;border-radius:.3rem}.t-button.disabled[_ngcontent-%COMP%]{cursor:default;background-color:var(--bgc-200)!important;color:var(--tc-400)!important}.t-button.iconed[_ngcontent-%COMP%]{padding-right:.6rem}.t-button.primary[_ngcontent-%COMP%]{color:var(--mc-500)}.t-button.primary[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--mc-0)}.t-button.secondary[_ngcontent-%COMP%]{color:var(--text-color-secondary)}.t-button.secondary[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--mc-0)}.t-button.success[_ngcontent-%COMP%]{color:var(--green-500)}.t-button.success[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--green-100)}.t-button.danger[_ngcontent-%COMP%]{color:#ef4444}.t-button.danger[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--red-100)}.t-button.warn[_ngcontent-%COMP%]{color:#f59e0b}.t-button.warn[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--yellow-100)}.t-button.info[_ngcontent-%COMP%]{color:var(--blue-500)}.t-button.info[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--blue-100)}.t-button[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--mc-0)}.t-button-icon[_ngcontent-%COMP%]{color:inherit;font-size:1.3em}.t-button-label[_ngcontent-%COMP%]{color:inherit;font-size:inherit;line-height:normal;white-space:nowrap}"]}),y})()},1787:(mn,ht,b)=>{"use strict";b.d(ht,{k:()=>x});var e=b(383),a=b(1135),f=b(8372),g=b(5e3),_=b(9808),P=b(8050),y=b(9783),l=b(5072),R=b(1110);function L(D,S){if(1&D&&g._UZ(0,"app-avatar",5),2&D){const U=S.$implicit,F=S.index,ce=g.oxw();g.Akn(ce.avatarStyle(F)),g.Q6J("deleted",U.deleted)("name",U.fullName)("size",ce.size)("src",U.avatar)}}function J(D,S){if(1&D&&(g.TgZ(0,"span"),g._uU(1),g.qZA()),2&D){const U=g.oxw();g.xp6(1),g.hij(" +",U.numberOfOverflowed," ")}}function N(D,S){1&D&&g._UZ(0,"app-employee-label",8),2&D&&g.Q6J("employee",S.$implicit)}function w(D,S){if(1&D&&(g.TgZ(0,"div",6),g.YNc(1,N,1,1,"app-employee-label",7),g.qZA()),2&D){const U=g.oxw();g.xp6(1),g.Q6J("ngForOf",U.employees)("ngForTrackBy",U.trackByEmployee)}}let x=(()=>{class D{constructor(){this.employees=[],this.size=2,this.vertical=!1,this.visibleSubject=new a.X(!1),this.visible$=this.visibleSubject.pipe((0,f.b)(300)),this.subscriptions=new e.xf}avatarStyle(U){const F={mask:U<this.sliced.length-1?this.mask:"",webkitMask:U<this.sliced.length-1?this.mask:""};return this.vertical?F.marginBottom=U>0?this.margin+"rem":"":F.marginRight=this.margin+"rem",F}get margin(){return-2*(.2+this.shift())}get mask(){return this.vertical?`radial-gradient(circle at 50% ${this.size-(this.size+this.size/2+this.margin)}rem, transparent ${this.size/2+.1}rem, white ${this.size/2+.2}rem)`:`radial-gradient(circle at ${this.size+this.size/2+this.margin}rem, transparent ${this.size/2+.1}rem, white ${this.size/2+.2}rem)`}get sliced(){return this.employees.slice(0,6)}get numberOfOverflowed(){let U=this.employees.length-6;return U<0&&(U=0),U}trackByEmployee(U,F){return F.login}ngOnInit(){}ngAfterViewInit(){}ngOnDestroy(){this.subscriptions.unsubscribeAll()}shift(){let U=.05*this.sliced.length;return U>.3&&(U=.3),U}}return D.\u0275fac=function(U){return new(U||D)},D.\u0275cmp=g.Xpm({type:D,selectors:[["app-avatar-list"]],inputs:{employees:"employees",size:"size",vertical:"vertical"},decls:6,vars:9,consts:[[1,"avatars",3,"ngClass","mouseenter","mouseleave"],[3,"deleted","name","size","src","style",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["appendTo","body",3,"visible","autoZIndex","baseZIndex"],["pTemplate","content"],[3,"deleted","name","size","src"],[1,"employees-overlay-list"],[3,"employee",4,"ngFor","ngForOf","ngForTrackBy"],[3,"employee"]],template:function(U,F){if(1&U&&(g.TgZ(0,"div",0),g.NdJ("mouseenter",function(){return F.visibleSubject.next(!0)})("mouseleave",function(){return F.visibleSubject.next(!1)}),g.YNc(1,L,1,6,"app-avatar",1),g.YNc(2,J,2,1,"span",2),g.qZA(),g.TgZ(3,"p-overlay",3),g.ALo(4,"async"),g.YNc(5,w,2,2,"ng-template",4),g.qZA()),2&U){let ce;g.Q6J("ngClass",F.vertical?"flex-column-reverse":""),g.xp6(1),g.Q6J("ngForOf",F.sliced)("ngForTrackBy",F.trackByEmployee),g.xp6(1),g.Q6J("ngIf",F.numberOfOverflowed>0),g.xp6(1),g.Q6J("visible",null!==(ce=g.lcZ(4,7,F.visible$))&&void 0!==ce&&ce)("autoZIndex",!1)("baseZIndex",3500)}},dependencies:[_.mk,_.sg,_.O5,P.aV,y.jx,l.A,R.x,_.Ov],styles:[".avatars[_ngcontent-%COMP%]{display:flex;position:relative;align-items:center;cursor:default;-webkit-user-select:none;user-select:none;padding:.1rem}.avatars[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--tc-500);margin-left:.2rem}.employees-overlay-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;border-radius:.5rem;background-color:#fff;padding:.7rem;height:max-content;width:-moz-fit-content;width:fit-content;box-shadow:0 .2px .7px #00000006,0 .6px 1.9px #00000009,0 1.5px 4.5px #0000000c,0 5px 15px #00000012}"]}),D})()},4383:(mn,ht,b)=>{"use strict";b.d(ht,{O:()=>S});var e=b(1135),a=b(8372),f=b(5e3),g=b(8738),_=b(9808),P=b(4119),y=b(8050),l=b(6198),R=b(6847);function L(U,F){if(1&U&&f._UZ(0,"span",10),2&U){const ce=f.oxw();f.Q6J("ngClass",ce.binding.lastConnectionLocation.isHasLink?"text-green-400":"text-red-400")}}function J(U,F){if(1&U){const ce=f.EpF();f.TgZ(0,"span",11),f.NdJ("click",function(V){f.CHM(ce);const k=f.oxw();return f.KtG(k.refreshConnectionLocation(V,null==k.binding?null:k.binding.vlanid))}),f.qZA()}}function N(U,F){1&U&&f._UZ(0,"p-progressSpinner",12)}function w(U,F){if(1&U&&(f.TgZ(0,"div",13)(1,"div",14)(2,"span",15),f._uU(3),f.qZA(),f.TgZ(4,"span",15),f._uU(5),f.qZA(),f.TgZ(6,"span",16),f._uU(7),f.qZA()(),f.TgZ(8,"div",14)(9,"span"),f._uU(10),f.qZA(),f.TgZ(11,"span"),f._uU(12),f.qZA()(),f.TgZ(13,"div",17)(14,"span"),f._uU(15,"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d:"),f.qZA(),f._UZ(16,"app-time-elapsed",18),f.TgZ(17,"span"),f._uU(18,"\u043d\u0430\u0437\u0430\u0434"),f.qZA()()()),2&U){const ce=f.oxw();let te;f.xp6(3),f.Oqu(ce.binding.lastConnectionLocation.commutatorName),f.xp6(2),f.hij("",ce.binding.lastConnectionLocation.portName," \u043f\u043e\u0440\u0442"),f.xp6(1),f.Q6J("ngClass",ce.binding.lastConnectionLocation.isHasLink?"text-green-400":"text-red-400"),f.xp6(1),f.Oqu(ce.binding.lastConnectionLocation.isHasLink?"\u0415\u0441\u0442\u044c \u043b\u0438\u043d\u043a":"\u041d\u0435\u0442 \u043b\u0438\u043d\u043a\u0430"),f.xp6(3),f.hij("IP: ",ce.binding.lastConnectionLocation.commutatorIp,""),f.xp6(2),f.hij("\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c: ",null!==(te=ce.binding.lastConnectionLocation.portSpeed)&&void 0!==te?te:"-",""),f.xp6(4),f.Q6J("startTime",ce.binding.lastConnectionLocation.lastPortCheck)}}function x(U,F){1&U&&f._UZ(0,"span",19)}function D(U,F){1&U&&(f.TgZ(0,"div",20),f._UZ(1,"span",21),f.TgZ(2,"span",22),f._uU(3," \u041d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043c\u0435\u0441\u0442\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c "),f.qZA()()),2&U&&(f.xp6(1),f.Udp("font-size","3rem"))}let S=(()=>{class U{constructor(ce){this.api=ce,this.overlayVisibleChange=new e.X(!1),this.overlayVisible=this.overlayVisibleChange.pipe((0,a.b)(200)),this.isLocationRefreshing=!1}ngOnInit(){}refreshConnectionLocation(ce,te){ce.stopPropagation(),te&&(this.isLocationRefreshing=!0,this.api.commutatorRemoteUpdateByVlan(te).subscribe({next:()=>this.isLocationRefreshing=!1,error:()=>this.isLocationRefreshing=!1}))}}return U.\u0275fac=function(ce){return new(ce||U)(f.Y36(g.s))},U.\u0275cmp=f.Xpm({type:U,selectors:[["app-binding-connection-location-view"]],inputs:{binding:"binding"},decls:14,vars:13,consts:[[1,"flex","align-items-center","font-bold","text-bluegray-400","w-fit","border-1","border-bluegray-100","bg-white","border-round-md",3,"mouseenter","mouseleave"],["class","mdi-dns text-sm p-2 terminator-right",3,"ngClass",4,"ngIf","ngIfElse"],[1,"px-2","border-right-1","border-bluegray-100","text-sm"],[3,"ngSwitch"],["class","mdi-refresh text-sm p-2 cursor-pointer text-primary-400 hover:text-primary","pTooltip","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",3,"click",4,"ngSwitchCase"],["class","custom-spinner custom-spinner-primary custom-spinner-sm m-2","strokeWidth","2",4,"ngSwitchCase"],["appendTo","body","contentStyleClass","overlay",3,"visible"],["class","p-3 flex flex-column gap-2 text-sm text-bluegray-400 fit-content",4,"ngIf","ngIfElse"],["notFinded",""],["notFindedOverlay",""],[1,"mdi-dns","text-sm","p-2","terminator-right",3,"ngClass"],["pTooltip","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",1,"mdi-refresh","text-sm","p-2","cursor-pointer","text-primary-400","hover:text-primary",3,"click"],["strokeWidth","2",1,"custom-spinner","custom-spinner-primary","custom-spinner-sm","m-2"],[1,"p-3","flex","flex-column","gap-2","text-sm","text-bluegray-400","fit-content"],[1,"flex","align-items-center","gap-2"],[1,"font-bold"],[1,"font-bold",3,"ngClass"],[1,"flex","align-items-center","gap-1","justify-content-end","text-xs","text-bluegray-300"],["type","short",3,"startTime"],[1,"mdi-check_box_outline_blank","text-sm","p-2","terminator-right"],[1,"text-sm","text-bluegray-300","font-bold","flex","flex-column","align-items-center","justify-content-center","p-3"],[1,"mds-dns"],[1,"text-center","max-w-20rem"]],template:function(ce,te){if(1&ce&&(f.TgZ(0,"div",0),f.NdJ("mouseenter",function(){return te.overlayVisibleChange.next(!0)})("mouseleave",function(){return te.overlayVisibleChange.next(!1)}),f.YNc(1,L,1,1,"span",1),f.TgZ(2,"span",2),f._uU(3),f.qZA(),f.ynx(4,3),f.YNc(5,J,1,0,"span",4),f.YNc(6,N,1,0,"p-progressSpinner",5),f.BQk(),f.qZA(),f.TgZ(7,"p-overlay",6),f.ALo(8,"async"),f.YNc(9,w,19,7,"div",7),f.qZA(),f.YNc(10,x,1,0,"ng-template",null,8,f.W1O),f.YNc(12,D,4,2,"ng-template",null,9,f.W1O)),2&ce){const V=f.MAs(11),k=f.MAs(13);let O;f.Udp("cursor","default"),f.xp6(1),f.Q6J("ngIf",te.binding&&te.binding.lastConnectionLocation)("ngIfElse",V),f.xp6(2),f.hij(" ",null==te.binding?null:te.binding.macaddr," "),f.xp6(1),f.Q6J("ngSwitch",te.isLocationRefreshing),f.xp6(1),f.Q6J("ngSwitchCase",!1),f.xp6(1),f.Q6J("ngSwitchCase",!0),f.xp6(1),f.Q6J("visible",null!==(O=f.lcZ(8,11,te.overlayVisible))&&void 0!==O&&O),f.xp6(2),f.Q6J("ngIf",te.binding&&te.binding.lastConnectionLocation)("ngIfElse",k)}},dependencies:[_.mk,_.O5,_.RF,_.n9,P.u,y.aV,l.G,R.j,_.Ov]}),U})()},8322:(mn,ht,b)=>{"use strict";b.d(ht,{S:()=>Qe});var e=b(7384),a=b(1135),f=b(8505),g=b(3900),_=b(9646),P=b(5625),y=b(5e3),l=b(8738);const R=["macPanel"],L=function(X){return{"border-2 border-primary-400":X}};function J(X,xe){if(1&X){const we=y.EpF();y.TgZ(0,"div",25),y.NdJ("click",function(){const bt=y.CHM(we).$implicit,it=y.oxw(5);return y.KtG(it.selectPort(bt))}),y.ALo(1,"async"),y.TgZ(2,"span",26),y._uU(3),y.qZA(),y.TgZ(4,"span",26),y._uU(5),y.qZA()()}if(2&X){const we=xe.$implicit,Oe=y.oxw(5);let dt;y.Tol("w-3rem h-2rem border-round-lg cursor-pointer user-select-none flex flex-column align-items-center justify-content-center "+Oe.portStatusStyle(we)),y.Q6J("ngClass",y.VKq(7,L,(null==(dt=y.lcZ(1,5,Oe.selectPortChange$))?null:dt.portInfoId)===we.portInfoId)),y.xp6(3),y.Oqu(we.name),y.xp6(2),y.Oqu(Oe.portSpeedName(we))}}const N=function(){return[]};function w(X,xe){if(1&X&&(y.TgZ(0,"div",23),y.YNc(1,J,6,9,"div",24),y.qZA()),2&X){const we=y.oxw(4);let Oe;y.xp6(1),y.Q6J("ngForOf",null!==(Oe=we.commutator.additionalInfo.ports)&&void 0!==Oe?Oe:y.DdM(1,N))}}function x(X,xe){1&X&&(y.TgZ(0,"tr")(1,"th"),y._uU(2,"MAC-\u0430\u0434\u0440\u0435\u0441"),y.qZA(),y.TgZ(3,"th"),y._uU(4,"VID"),y.qZA(),y.TgZ(5,"th"),y._uU(6,"\u0418\u043c\u044f vlan"),y.qZA(),y.TgZ(7,"th"),y._uU(8,"\u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439"),y.qZA(),y.TgZ(9,"th"),y._uU(10,"\u0421\u0435\u0441\u0441\u0438\u044f"),y.qZA()())}function D(X,xe){if(1&X&&(y.TgZ(0,"tr")(1,"td"),y._uU(2),y.qZA(),y.TgZ(3,"td"),y._uU(4),y.qZA(),y.TgZ(5,"td"),y._uU(6),y.qZA(),y.TgZ(7,"td"),y._uU(8),y.qZA(),y.TgZ(9,"td"),y._uU(10),y.qZA()()),2&X){const we=xe.$implicit;y.xp6(2),y.Oqu(we.mac),y.xp6(2),y.Oqu(we.vid),y.xp6(2),y.Oqu(we.vlanName),y.xp6(2),y.Oqu(we.dynamic),y.xp6(2),y.Oqu(null==we.dhcpBinding?null:we.dhcpBinding.authName)}}function S(X,xe){1&X&&(y.TgZ(0,"div",33),y._UZ(1,"span",34),y.TgZ(2,"span"),y._uU(3,"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 MAC-\u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u043f\u0443\u0441\u0442\u0430"),y.qZA()())}function U(X,xe){1&X&&(y.TgZ(0,"div",35),y._UZ(1,"span",36),y.TgZ(2,"span"),y._uU(3,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b MAC-\u0430\u0434\u0440\u0435\u0441\u043e\u0432"),y.qZA()())}function F(X,xe){if(1&X&&(y.TgZ(0,"div")(1,"p-table",27),y.ALo(2,"async"),y.YNc(3,x,11,0,"ng-template",28),y.YNc(4,D,11,5,"ng-template",29),y.qZA(),y.ynx(5,30),y.YNc(6,S,4,0,"div",31),y.YNc(7,U,4,0,"div",32),y.BQk(),y.qZA()),2&X){const we=y.oxw(4);let Oe;y.xp6(1),y.Q6J("hidden","EMPTY"==we.fdbTableLoadingState||"ERROR"==we.fdbTableLoadingState)("loading","LOADING"===we.fdbTableLoadingState)("scrollable",!0)("value",null!==(Oe=y.lcZ(2,7,we.fdbTable$))&&void 0!==Oe?Oe:y.DdM(9,N)),y.xp6(4),y.Q6J("ngSwitch",we.fdbTableLoadingState),y.xp6(1),y.Q6J("ngSwitchCase","EMPTY"),y.xp6(1),y.Q6J("ngSwitchCase","ERROR")}}function ce(X,xe){if(1&X){const we=y.EpF();y.ynx(0),y.TgZ(1,"div",14)(2,"span"),y._uU(3," \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d: "),y.qZA(),y._UZ(4,"app-time-elapsed",15),y.TgZ(5,"app-tiny-button",16),y.NdJ("onClick",function(){y.CHM(we);const dt=y.oxw(3);return y.KtG(dt.refresh())}),y.qZA()(),y.TgZ(6,"div",17)(7,"div",18)(8,"span"),y._uU(9),y.qZA(),y.TgZ(10,"span",19),y._uU(11),y.qZA(),y.TgZ(12,"span",20)(13,"span"),y._uU(14,"\u0410\u043f\u0442\u0430\u0439\u043c"),y.qZA(),y._UZ(15,"app-time-elapsed",15),y.qZA()(),y.YNc(16,w,2,2,"div",21),y.qZA(),y.YNc(17,F,8,10,"div",13),y.ALo(18,"async"),y._UZ(19,"app-bindings-table",22),y.BQk()}if(2&X){const we=y.oxw(3);y.xp6(4),y.Q6J("startTime",we.commutator.additionalInfo.systemInfo.lastUpdate),y.xp6(1),y.Q6J("disabled",we.isUpdating),y.xp6(4),y.AsE(" ",we.commutator.additionalInfo.systemInfo.device," ",we.commutator.additionalInfo.systemInfo.hwVersion," "),y.xp6(2),y.hij(" FW: ",we.commutator.additionalInfo.systemInfo.fwVersion," "),y.xp6(4),y.Q6J("startTime",we.uptime),y.xp6(1),y.Q6J("ngIf",we.commutator.additionalInfo),y.xp6(1),y.Q6J("ngIf",y.lcZ(18,10,we.selectPortChange$)),y.xp6(2),y.Q6J("filterId",we.commutator.id)("ping",!1)}}function te(X,xe){if(1&X&&(y.TgZ(0,"div",12),y.YNc(1,ce,20,12,"ng-container",13),y.qZA()),2&X){const we=y.oxw(2);y.xp6(1),y.Q6J("ngIf",we.commutator.additionalInfo)}}function V(X,xe){if(1&X&&(y.TgZ(0,"div",39)(1,"span",40),y._uU(2),y.qZA(),y.TgZ(3,"span",41),y._uU(4),y.ALo(5,"date"),y.qZA()()),2&X){const we=xe.$implicit;y.xp6(1),y.Q6J("ngClass",we.isError?"text-red-400":"text-green-400"),y.xp6(1),y.hij(" ",we.message," "),y.xp6(2),y.hij(" ",y.xi3(5,3,we.timestamp,"dd.MM.yyyy HH:mm:ss")," ")}}function k(X,xe){if(1&X&&(y.TgZ(0,"div",37),y.YNc(1,V,6,6,"div",38),y.qZA()),2&X){const we=y.oxw(2);y.Udp("overscroll-behavior","contain"),y.xp6(1),y.Q6J("ngForOf",null==we.commutator||null==we.commutator.additionalInfo?null:we.commutator.additionalInfo.remoteUpdateLogs)("ngForTrackBy",we.trackByLog)}}function O(X,xe){if(1&X&&(y.TgZ(0,"p-tabView",7)(1,"p-tabPanel",8),y.YNc(2,te,2,1,"div",9),y.qZA(),y.TgZ(3,"p-tabPanel",10),y.YNc(4,k,2,4,"div",11),y.qZA()()),2&X){const we=y.oxw(),Oe=y.MAs(8),dt=y.MAs(6);y.xp6(2),y.Q6J("ngIf",we.commutator&&we.commutator.additionalInfo&&we.commutator.additionalInfo.systemInfo)("ngIfElse",Oe),y.xp6(2),y.Q6J("ngIf",null==we.commutator||null==we.commutator.additionalInfo||null==we.commutator.additionalInfo.remoteUpdateLogs?null:we.commutator.additionalInfo.remoteUpdateLogs.length)("ngIfElse",dt)}}const $=function(X){return[X,"","",!1,!0]};function ue(X,xe){if(1&X&&(y._UZ(0,"span",51),y.ALo(1,"elapsedTime")),2&X){const we=y.oxw(2);y.Q6J("pTooltip",y.G7q(1,1,y.VKq(7,$,we.uptime)))}}const q=function(){return{fontSize:"0.5rem"}};function Y(X,xe){if(1&X){const we=y.EpF();y.TgZ(0,"div",25),y.NdJ("click",function(dt){const it=y.CHM(we).$implicit,Dt=y.oxw(3),vt=y.MAs(3);return Dt.selectPortChange$.next(it),y.KtG(vt.show(dt))}),y.ALo(1,"async"),y.TgZ(2,"span",53),y._uU(3),y.qZA()()}if(2&X){const we=xe.$implicit,Oe=y.oxw(3);let dt;y.Tol("w-2rem h-1rem border-round-lg cursor-pointer user-select-none flex flex-column align-items-center justify-content-center "+Oe.portStatusStyle(we)),y.Q6J("ngClass",y.VKq(8,L,(null==(dt=y.lcZ(1,6,Oe.selectPortChange$))?null:dt.portInfoId)===we.portInfoId)),y.xp6(2),y.Akn(y.DdM(10,q)),y.xp6(1),y.Oqu(we.name)}}function G(X,xe){if(1&X&&(y.TgZ(0,"div",52),y.YNc(1,Y,4,11,"div",24),y.qZA()),2&X){const we=y.oxw(2);let Oe;y.xp6(1),y.Q6J("ngForOf",null!==(Oe=null==we.commutator||null==we.commutator.additionalInfo?null:we.commutator.additionalInfo.ports)&&void 0!==Oe?Oe:y.DdM(1,N))}}function he(X,xe){if(1&X&&y._UZ(0,"span",54),2&X){const we=y.oxw(2);let Oe;y.Q6J("pTooltip",null!==(Oe=null==we.commutator||null==we.commutator.additionalInfo?null:we.commutator.additionalInfo.lastErrorMessage)&&void 0!==Oe?Oe:"")}}function j(X,xe){if(1&X){const we=y.EpF();y.TgZ(0,"div",42)(1,"div",18)(2,"span",19),y._uU(3),y.qZA(),y.TgZ(4,"div",43),y.YNc(5,ue,2,9,"span",44),y.TgZ(6,"span",45),y._uU(7),y.qZA(),y.TgZ(8,"span",46),y._uU(9),y.qZA()()(),y.YNc(10,G,2,2,"div",47),y._UZ(11,"div",48),y.YNc(12,he,1,1,"span",49),y.TgZ(13,"app-tiny-button",50),y.NdJ("onClick",function(){y.CHM(we);const dt=y.oxw();return y.KtG(dt.refresh())}),y.ALo(14,"titlecase"),y.ALo(15,"date"),y.qZA()()}if(2&X){const we=y.oxw();let Oe;y.xp6(3),y.hij(" ",null==we.commutator?null:we.commutator.name," "),y.xp6(2),y.Q6J("ngIf",(null==we.commutator||null==we.commutator.additionalInfo?null:we.commutator.additionalInfo.available)&&(null==we.commutator||null==we.commutator.additionalInfo||null==we.commutator.additionalInfo.systemInfo?null:we.commutator.additionalInfo.systemInfo.uptime)),y.xp6(1),y.Q6J("ngClass",null!=we.commutator&&null!=we.commutator.additionalInfo&&we.commutator.additionalInfo.available?"text-green-400":"text-red-400"),y.xp6(1),y.hij(" ",null!=we.commutator&&null!=we.commutator.additionalInfo&&we.commutator.additionalInfo.available?"\u0412 \u0441\u0435\u0442\u0438":"\u041d\u0435 \u0432 \u0441\u0435\u0442\u0438"," "),y.xp6(2),y.hij(" ",null==we.commutator?null:we.commutator.ipaddr," "),y.xp6(1),y.Q6J("ngIf",null==we.commutator?null:we.commutator.additionalInfo),y.xp6(2),y.Q6J("ngIf",null==we.commutator||null==we.commutator.additionalInfo?null:we.commutator.additionalInfo.isLastUpdateError),y.xp6(1),y.Q6J("disabled",we.isUpdating)("pTooltip",null!==(Oe=y.lcZ(14,9,y.xi3(15,11,null==we.commutator||null==we.commutator.additionalInfo||null==we.commutator.additionalInfo.systemInfo?null:we.commutator.additionalInfo.systemInfo.lastUpdate,"dd MMMM yyyy HH:mm")))&&void 0!==Oe?Oe:"")}}function Q(X,xe){1&X&&(y.TgZ(0,"tr")(1,"th"),y._uU(2,"MAC-\u0430\u0434\u0440\u0435\u0441"),y.qZA(),y.TgZ(3,"th"),y._uU(4,"VID"),y.qZA(),y.TgZ(5,"th"),y._uU(6,"\u0418\u043c\u044f vlan"),y.qZA(),y.TgZ(7,"th"),y._uU(8,"\u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439"),y.qZA(),y.TgZ(9,"th"),y._uU(10,"\u0421\u0435\u0441\u0441\u0438\u044f"),y.qZA()())}function K(X,xe){if(1&X&&(y.TgZ(0,"tr")(1,"td"),y._uU(2),y.qZA(),y.TgZ(3,"td"),y._uU(4),y.qZA(),y.TgZ(5,"td"),y._uU(6),y.qZA(),y.TgZ(7,"td"),y._uU(8),y.qZA(),y.TgZ(9,"td"),y._uU(10),y.qZA()()),2&X){const we=xe.$implicit;y.xp6(2),y.Oqu(we.mac),y.xp6(2),y.Oqu(we.vid),y.xp6(2),y.Oqu(we.vlanName),y.xp6(2),y.Oqu(we.dynamic),y.xp6(2),y.Oqu(null==we.dhcpBinding?null:we.dhcpBinding.authName)}}function z(X,xe){1&X&&(y.TgZ(0,"tr")(1,"td",58),y._uU(2,"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 MAC-\u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u043f\u0443\u0441\u0442\u0430"),y.qZA()()),2&X&&(y.xp6(1),y.uIk("colspan",5))}function oe(X,xe){if(1&X&&(y.TgZ(0,"p-table",56),y.YNc(1,Q,11,0,"ng-template",28),y.YNc(2,K,11,5,"ng-template",29),y.YNc(3,z,3,1,"ng-template",57),y.qZA()),2&X){const we=y.oxw().ngIf,Oe=y.oxw(2);y.Q6J("loading","LOADING"===Oe.fdbTableLoadingState)("scrollable",!0)("value",we)}}function Te(X,xe){if(1&X&&(y.ynx(0),y.YNc(1,oe,4,3,"p-table",55),y.BQk()),2&X){const we=y.oxw(2);y.xp6(1),y.Q6J("ngIf","ERROR"!==we.fdbTableLoadingState)}}function Ae(X,xe){if(1&X&&(y.YNc(0,Te,2,1,"ng-container",13),y.ALo(1,"async")),2&X){const we=y.oxw();y.Q6J("ngIf",y.lcZ(1,1,we.fdbTable$))}}function Ke(X,xe){1&X&&(y.TgZ(0,"div",59),y._UZ(1,"span",60),y.TgZ(2,"span"),y._uU(3,"\u041d\u0435\u0442 \u043b\u043e\u0433\u043e\u0432"),y.qZA()())}function be(X,xe){if(1&X){const we=y.EpF();y.TgZ(0,"div",61),y._UZ(1,"span",62),y.TgZ(2,"span"),y._uU(3,"\u041d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438"),y.qZA(),y.TgZ(4,"p-button",63),y.NdJ("onClick",function(){y.CHM(we);const dt=y.oxw();return y.KtG(dt.refresh())}),y.qZA()()}if(2&X){const we=y.oxw();y.xp6(4),y.Q6J("disabled",we.isUpdating)}}let Qe=(()=>{class X{constructor(we){this.api=we,this.tiny=!1,this.isUpdating=!1,this.lastSelectedPortId=null,this.selectPortChange$=new a.X(null),this.fdbTableLoadingState=e.Gu.LOADING,this.fdbTable$=this.selectPortChange$.pipe((0,f.b)(()=>this.fdbTableLoadingState=e.Gu.LOADING),(0,g.w)(Oe=>Oe?this.api.fdbTableByPort(Oe.portInfoId):(0,_.of)(null)),(0,f.b)({next:Oe=>{this.fdbTableLoadingState=Oe&&Oe.length>0?e.Gu.READY:e.Gu.EMPTY},error:Oe=>{var dt;this.fdbTableLoadingState=e.Gu.ERROR,null===(dt=this.macPanel)||void 0===dt||dt.hide()}}),(0,P.X)()),this.changeMacPanelVisible$=new a.X([null,null]),this.overlayPanelPort=null,this.trackByLog=(Oe,dt)=>dt.remoteUpdateLogId}get uptime(){return this.commutator&&this.commutator.additionalInfo&&this.commutator.additionalInfo.systemInfo&&this.commutator.additionalInfo.systemInfo.uptime?new Date(this.commutator.additionalInfo.systemInfo.lastUpdate).getTime()-1e3*this.commutator.additionalInfo.systemInfo.uptime:0}ngOnInit(){this.fdbTable$.subscribe(()=>{setTimeout(()=>{var we;null!==(we=this.macPanel)&&void 0!==we&&we.overlayVisible&&this.macPanel.align()},100)})}portSpeedName(we){switch(null==we?void 0:we.speed){case"HALF10":return"10H";case"FULL10":return"10F";case"HALF100":return"100H";case"FULL100":return"100F";case"HALF1000":return"1000H";case"FULL1000":return"1000F"}return""}portStatusStyle(we){if(!we)return"";switch(we.status){case"UP":return"bg-green-400";case"DOWN":return"bg-bluegray-100";case"ADMIN_DOWN":return"bg-red-400";case"PREPARE":return"bg-yellow-400"}return""}refresh(){!this.commutator||(this.isUpdating=!0,this.api.commutatorRemoteUpdate(this.commutator.id).subscribe({next:()=>this.isUpdating=!1,error:()=>this.isUpdating=!1}))}selectPort(we){if(we.portInfoId===this.lastSelectedPortId)return this.lastSelectedPortId=null,void this.selectPortChange$.next(null);this.lastSelectedPortId=we.portInfoId,this.selectPortChange$.next(we)}loadingFdbTable(){this.selectPortChange$.next(this.overlayPanelPort)}}return X.\u0275fac=function(we){return new(we||X)(y.Y36(l.s))},X.\u0275cmp=y.Xpm({type:X,selectors:[["app-commutator-view"]],viewQuery:function(we,Oe){if(1&we&&y.Gf(R,5),2&we){let dt;y.iGM(dt=y.CRH())&&(Oe.macPanel=dt.first)}},inputs:{commutator:"commutator",tiny:"tiny"},decls:9,vars:2,consts:[["styleClass","border-round-lg border-bluegray-100 border-1 overflow-hidden",4,"ngIf"],["class","flex align-items-center gap-2 p-2 border-1 border-bluegray-100 border-round-md",4,"ngIf"],["appendTo","body",3,"onHide"],["macPanel",""],["pTemplate","content"],["notags",""],["noinfo",""],["styleClass","border-round-lg border-bluegray-100 border-1 overflow-hidden"],["header","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"],["class","flex flex-column gap-2",4,"ngIf","ngIfElse"],["header","\u041b\u043e\u0433\u0438"],["class","flex flex-column-reverse overflow-y-auto max-h-20rem",3,"overscroll-behavior",4,"ngIf","ngIfElse"],[1,"flex","flex-column","gap-2"],[4,"ngIf"],[1,"flex","gap-1","align-items-center","text-xs","text-bluegray-300","font-bold","justify-content-end"],[3,"startTime"],["icon","refresh",3,"disabled","onClick"],[1,"flex","gap-3"],[1,"flex","flex-column","text-bluegray-400"],[1,"text-sm"],[1,"text-xs","font-bold","text-bluegray-300"],["class","port-grille",4,"ngIf"],["filterMode","commutator",3,"filterId","ping"],[1,"port-grille"],[3,"class","ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[1,"text-white","text-xs","font-bold"],["scrollHeight","30rem","styleClass","p-datatable-sm border-1 border-round-md border-bluegray-100 overflow-hidden",3,"hidden","loading","scrollable","value"],["pTemplate","header"],["pTemplate","body"],[3,"ngSwitch"],["class","flex flex-column align-items-center justify-content-center p-3 text-bluegray-300 font-bold",4,"ngSwitchCase"],["class","flex flex-column align-items-center justify-content-center p-3 text-red-400 font-bold",4,"ngSwitchCase"],[1,"flex","flex-column","align-items-center","justify-content-center","p-3","text-bluegray-300","font-bold"],[1,"mds-dns"],[1,"flex","flex-column","align-items-center","justify-content-center","p-3","text-red-400","font-bold"],[1,"mds-error"],[1,"flex","flex-column-reverse","overflow-y-auto","max-h-20rem"],["class","flex flex-column p-2 text-xs split-line",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-column","p-2","text-xs","split-line"],[1,"font-bold",3,"ngClass"],[1,"align-self-end","text-bluegray-300"],[1,"flex","align-items-center","gap-2","p-2","border-1","border-bluegray-100","border-round-md"],[1,"flex","align-items-center","gap-1"],["class","mdi-schedule text-green-400 text-sm",3,"pTooltip",4,"ngIf"],[1,"text-xs","font-bold",3,"ngClass"],[1,"text-xs","font-bold","text-bluegray-400"],["class","port-grille-tiny",4,"ngIf"],[1,"flex-grow-1"],["class","mdi-warning text-red-400",3,"pTooltip",4,"ngIf"],["icon","refresh",3,"disabled","pTooltip","onClick"],[1,"mdi-schedule","text-green-400","text-sm",3,"pTooltip"],[1,"port-grille-tiny"],[1,"text-white","font-bold"],[1,"mdi-warning","text-red-400",3,"pTooltip"],["scrollHeight","30rem","styleClass","p-datatable-sm border-1 border-round-md border-bluegray-100 overflow-hidden",3,"loading","scrollable","value",4,"ngIf"],["scrollHeight","30rem","styleClass","p-datatable-sm border-1 border-round-md border-bluegray-100 overflow-hidden",3,"loading","scrollable","value"],["pTemplate","emptymessage"],[1,"text-center","font-bold","text-bluegray-300"],[1,"flex","flex-column","align-items-center","justify-content-center","text-bluegray-300","font-bold","text-sm"],[1,"mds-list"],[1,"flex","flex-column","align-items-center","text-bluegray-300","font-bold","text-sm"],[1,"mds-visibility_off"],["icon","mdi-refresh","label","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c","styleClass","p-button-outlined p-button-warning mt-3",3,"disabled","onClick"]],template:function(we,Oe){1&we&&(y.YNc(0,O,5,4,"p-tabView",0),y.YNc(1,j,16,14,"div",1),y.TgZ(2,"p-overlayPanel",2,3),y.NdJ("onHide",function(){return Oe.selectPortChange$.next(null)}),y.YNc(4,Ae,2,3,"ng-template",4),y.qZA(),y.YNc(5,Ke,4,0,"ng-template",null,5,y.W1O),y.YNc(7,be,5,1,"ng-template",null,6,y.W1O)),2&we&&(y.Q6J("ngIf",!Oe.tiny),y.xp6(1),y.Q6J("ngIf",Oe.tiny))},styles:[".port-grille[_ngcontent-%COMP%]{display:grid;grid:2rem 2rem/auto-flow 3rem;gap:.5rem}.port-grille-tiny[_ngcontent-%COMP%]{display:grid;grid:1rem 1rem/auto-flow 2rem;gap:.2rem}"]}),X})()},5948:(mn,ht,b)=>{"use strict";b.d(ht,{h:()=>gn});var e=b(4004),a=b(4782),f=b(9814),g=b(6309),_=b(5e3),P=b(8738),y=b(3470),l=b(8028);function R(Zt,an){1&Zt&&_.GkF(0)}function L(Zt,an){if(1&Zt&&(_.ynx(0),_.YNc(1,R,1,0,"ng-container",14),_.BQk()),2&Zt){_.oxw();const pn=_.MAs(13);_.xp6(1),_.Q6J("ngTemplateOutlet",pn)}}function J(Zt,an){1&Zt&&_.GkF(0)}function N(Zt,an){if(1&Zt&&(_.ynx(0),_.YNc(1,J,1,0,"ng-container",14),_.BQk()),2&Zt){_.oxw();const pn=_.MAs(15);_.xp6(1),_.Q6J("ngTemplateOutlet",pn)}}function w(Zt,an){1&Zt&&_.GkF(0)}function x(Zt,an){if(1&Zt&&(_.ynx(0),_.YNc(1,w,1,0,"ng-container",14),_.BQk()),2&Zt){_.oxw();const pn=_.MAs(17);_.xp6(1),_.Q6J("ngTemplateOutlet",pn)}}function D(Zt,an){1&Zt&&_.GkF(0)}function S(Zt,an){if(1&Zt&&(_.ynx(0),_.YNc(1,D,1,0,"ng-container",14),_.BQk()),2&Zt){_.oxw();const pn=_.MAs(25);_.xp6(1),_.Q6J("ngTemplateOutlet",pn)}}function U(Zt,an){1&Zt&&_.GkF(0)}function F(Zt,an){if(1&Zt&&(_.ynx(0),_.YNc(1,U,1,0,"ng-container",14),_.BQk()),2&Zt){_.oxw();const pn=_.MAs(27);_.xp6(1),_.Q6J("ngTemplateOutlet",pn)}}function ce(Zt,an){1&Zt&&_.GkF(0)}function te(Zt,an){if(1&Zt&&(_.ynx(0),_.YNc(1,ce,1,0,"ng-container",14),_.BQk()),2&Zt){_.oxw();const pn=_.MAs(29);_.xp6(1),_.Q6J("ngTemplateOutlet",pn)}}function V(Zt,an){1&Zt&&_.GkF(0)}function k(Zt,an){if(1&Zt&&(_.ynx(0),_.YNc(1,V,1,0,"ng-container",14),_.BQk()),2&Zt){_.oxw();const pn=_.MAs(19);_.xp6(1),_.Q6J("ngTemplateOutlet",pn)}}function O(Zt,an){1&Zt&&_.GkF(0)}function $(Zt,an){if(1&Zt&&(_.ynx(0),_.YNc(1,O,1,0,"ng-container",14),_.BQk()),2&Zt){_.oxw();const pn=_.MAs(21);_.xp6(1),_.Q6J("ngTemplateOutlet",pn)}}function ue(Zt,an){1&Zt&&_.GkF(0)}function q(Zt,an){if(1&Zt&&(_.ynx(0),_.YNc(1,ue,1,0,"ng-container",14),_.BQk()),2&Zt){_.oxw();const pn=_.MAs(23);_.xp6(1),_.Q6J("ngTemplateOutlet",pn)}}function Y(Zt,an){1&Zt&&_.GkF(0)}function G(Zt,an){if(1&Zt&&(_.ynx(0),_.YNc(1,Y,1,0,"ng-container",14),_.BQk()),2&Zt){_.oxw();const pn=_.MAs(13);_.xp6(1),_.Q6J("ngTemplateOutlet",pn)}}const he=function(){return["/clients","billing","search"]};function j(Zt,an){1&Zt&&_._UZ(0,"app-extended-menu-item",25),2&Zt&&_.Q6J("link",_.DdM(1,he))}const Q=function(){return["/addresses","list"]};function K(Zt,an){1&Zt&&_._UZ(0,"app-extended-menu-item",26),2&Zt&&_.Q6J("link",_.DdM(1,Q))}const z=function(){return["/topology","houses"]};function oe(Zt,an){1&Zt&&_._UZ(0,"app-extended-menu-item",27),2&Zt&&_.Q6J("link",_.DdM(1,z))}const Te=function(){return["/employees"]};function Ae(Zt,an){1&Zt&&_._UZ(0,"app-extended-menu-item",28),2&Zt&&_.Q6J("link",_.DdM(1,Te))}const Ke=function(){return["/salary","table"]};function be(Zt,an){1&Zt&&_._UZ(0,"app-extended-menu-item",29),2&Zt&&_.Q6J("link",_.DdM(1,Ke))}const Qe=function(){return["/contracts","inspection"]};function X(Zt,an){1&Zt&&_._UZ(0,"app-extended-menu-item",30),2&Zt&&_.Q6J("link",_.DdM(1,Qe))}const xe=function(){return["/statistics","employee-works"]};function we(Zt,an){1&Zt&&_._UZ(0,"app-extended-menu-item",31),2&Zt&&_.Q6J("link",_.DdM(1,xe))}const Oe=function(){return["/files"]};function dt(Zt,an){1&Zt&&_._UZ(0,"app-extended-menu-item",32),2&Zt&&_.Q6J("link",_.DdM(1,Oe))}const bt=function(){return["/system","billing"]};function it(Zt,an){1&Zt&&_._UZ(0,"app-extended-menu-item",33),2&Zt&&_.Q6J("link",_.DdM(1,bt))}const Dt=function(){return["/tasks","catalog"]};function vt(Zt,an){if(1&Zt&&(_._UZ(0,"app-extended-menu-item",15),_.ALo(1,"async"),_.YNc(2,j,1,2,"app-extended-menu-item",16),_.YNc(3,K,1,2,"app-extended-menu-item",17),_.YNc(4,oe,1,2,"app-extended-menu-item",18),_.YNc(5,Ae,1,2,"app-extended-menu-item",19),_.YNc(6,be,1,2,"app-extended-menu-item",20),_.YNc(7,X,1,2,"app-extended-menu-item",21),_.YNc(8,we,1,2,"app-extended-menu-item",22),_.YNc(9,dt,1,2,"app-extended-menu-item",23),_.YNc(10,it,1,2,"app-extended-menu-item",24)),2&Zt){const pn=_.oxw();let zn;_.Q6J("link",null!==(zn=_.lcZ(1,10,pn.lastCatalogRoute$))&&void 0!==zn?zn:_.DdM(12,Dt)),_.xp6(2),_.Q6J("ngIf",pn.personality.isHasAccess(pn.AccessFlag.BILLING)),_.xp6(1),_.Q6J("ngIf",pn.personality.isHasAccess(pn.AccessFlag.EDIT_ADDRESS_BOOK,pn.AccessFlag.EDIT_HOUSE_ADDRESS_BOOK)),_.xp6(1),_.Q6J("ngIf",pn.personality.isHasAccess(pn.AccessFlag.VIEW_SWITCH,pn.AccessFlag.EDIT_SWITCH)),_.xp6(1),_.Q6J("ngIf",pn.personality.isHasAccess(pn.AccessFlag.MANAGE_EMPLOYEES,pn.AccessFlag.MANAGE_DEPARTMENTS,pn.AccessFlag.MANAGE_POSITIONS)),_.xp6(1),_.Q6J("ngIf",pn.personality.isHasAccess(pn.AccessFlag.COUNT_SALARY,pn.AccessFlag.EDIT_PRICE)),_.xp6(1),_.Q6J("ngIf",pn.personality.isHasAccess(pn.AccessFlag.MANAGE_CONTRACTS_TYPES,pn.AccessFlag.VIEW_CONTRACTS)),_.xp6(1),_.Q6J("ngIf",pn.personality.isHasAccess(pn.AccessFlag.VIEW_STATISTICS)),_.xp6(1),_.Q6J("ngIf",pn.personality.isHasAccess(pn.AccessFlag.READ_WRITE_FILES)),_.xp6(1),_.Q6J("ngIf",pn.personality.isHasAccess(pn.AccessFlag.MANAGE_SYSTEM_SETTINGS))}}function Gt(Zt,an){1&Zt&&_.GkF(0)}const Ht=function(){return["/tasks","templates"]};function Ut(Zt,an){1&Zt&&_._UZ(0,"app-extended-menu-item",38),2&Zt&&_.Q6J("link",_.DdM(1,Ht))}const ct=function(){return{name:"\u0417\u0430\u0434\u0430\u0447\u0438"}},at=function(){return["/tasks","calendar"]};function fe(Zt,an){if(1&Zt&&(_.YNc(0,Gt,1,0,"ng-container",34),_._UZ(1,"app-extended-menu-item",35),_.ALo(2,"async"),_._UZ(3,"app-extended-menu-item",36),_.YNc(4,Ut,1,2,"app-extended-menu-item",37)),2&Zt){const pn=_.oxw(),zn=_.MAs(31);let qn;_.Q6J("ngTemplateOutlet",zn)("ngTemplateOutletContext",_.DdM(7,ct)),_.xp6(1),_.Q6J("link",null!==(qn=_.lcZ(2,5,pn.lastCatalogRoute$))&&void 0!==qn?qn:_.DdM(8,Dt)),_.xp6(2),_.Q6J("link",_.DdM(9,at)),_.xp6(1),_.Q6J("ngIf",pn.personality.isHasAccess(pn.AccessFlag.EDIT_TASK_TEMPLATES,pn.AccessFlag.EDIT_TASK_TAGS,pn.AccessFlag.EDIT_DEVICES))}}function ke(Zt,an){1&Zt&&_.GkF(0)}function ot(Zt,an){1&Zt&&_._UZ(0,"app-extended-menu-item",44),2&Zt&&_.Q6J("link",_.DdM(1,Ke))}const Ct=function(){return["/salary","estimation"]};function Ot(Zt,an){1&Zt&&_._UZ(0,"app-extended-menu-item",45),2&Zt&&_.Q6J("link",_.DdM(2,Ct))("exact",!0)}const Nt=function(){return["/salary","estimation","bypass"]};function Mt(Zt,an){1&Zt&&_._UZ(0,"app-extended-menu-item",46),2&Zt&&_.Q6J("link",_.DdM(1,Nt))}const Ye=function(){return["/salary","works"]};function st(Zt,an){1&Zt&&_._UZ(0,"app-extended-menu-item",47),2&Zt&&_.Q6J("link",_.DdM(1,Ye))}const je=function(){return["/salary","paid-actions"]};function It(Zt,an){1&Zt&&_._UZ(0,"app-extended-menu-item",48),2&Zt&&_.Q6J("link",_.DdM(1,je))}const ne=function(){return{name:"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430"}};function Ne(Zt,an){if(1&Zt&&(_.YNc(0,ke,1,0,"ng-container",34),_.YNc(1,ot,1,2,"app-extended-menu-item",39),_.YNc(2,Ot,1,3,"app-extended-menu-item",40),_.YNc(3,Mt,1,2,"app-extended-menu-item",41),_.YNc(4,st,1,2,"app-extended-menu-item",42),_.YNc(5,It,1,2,"app-extended-menu-item",43)),2&Zt){const pn=_.oxw(),zn=_.MAs(31);_.Q6J("ngTemplateOutlet",zn)("ngTemplateOutletContext",_.DdM(7,ne)),_.xp6(1),_.Q6J("ngIf",pn.personality.isHasAccess(pn.AccessFlag.COUNT_SALARY)),_.xp6(1),_.Q6J("ngIf",pn.personality.isHasAccess(pn.AccessFlag.COUNT_SALARY)),_.xp6(1),_.Q6J("ngIf",pn.personality.isHasAccess(pn.AccessFlag.COUNT_SALARY)),_.xp6(1),_.Q6J("ngIf",pn.personality.isHasAccess(pn.AccessFlag.EDIT_PRICE)),_.xp6(1),_.Q6J("ngIf",pn.personality.isHasAccess(pn.AccessFlag.EDIT_PRICE))}}function me(Zt,an){1&Zt&&_.GkF(0)}const gt=function(){return{name:"\u0410\u0431\u043e\u043d\u0435\u043d\u0442\u044b"}},un=function(){return["/clients","sessions"]};function In(Zt,an){if(1&Zt&&(_.YNc(0,me,1,0,"ng-container",34),_._UZ(1,"app-extended-menu-item",49)(2,"app-extended-menu-item",50)),2&Zt){_.oxw();const pn=_.MAs(31);_.Q6J("ngTemplateOutlet",pn)("ngTemplateOutletContext",_.DdM(4,gt)),_.xp6(1),_.Q6J("link",_.DdM(5,he)),_.xp6(1),_.Q6J("link",_.DdM(6,un))}}function en(Zt,an){1&Zt&&_.GkF(0)}function _t(Zt,an){1&Zt&&_._UZ(0,"app-extended-menu-item",53),2&Zt&&_.Q6J("link",_.DdM(1,Qe))}const et=function(){return["/contracts","types"]};function de(Zt,an){1&Zt&&_._UZ(0,"app-extended-menu-item",54),2&Zt&&_.Q6J("link",_.DdM(1,et))}const Je=function(){return{name:"\u0414\u043e\u0433\u043e\u0432\u043e\u0440\u044b"}};function ze(Zt,an){if(1&Zt&&(_.YNc(0,en,1,0,"ng-container",34),_.YNc(1,_t,1,2,"app-extended-menu-item",51),_.YNc(2,de,1,2,"app-extended-menu-item",52)),2&Zt){const pn=_.oxw(),zn=_.MAs(31);_.Q6J("ngTemplateOutlet",zn)("ngTemplateOutletContext",_.DdM(4,Je)),_.xp6(1),_.Q6J("ngIf",pn.personality.isHasAccess(pn.AccessFlag.VIEW_CONTRACTS)),_.xp6(1),_.Q6J("ngIf",pn.personality.isHasAccess(pn.AccessFlag.MANAGE_CONTRACTS_TYPES))}}function wt(Zt,an){1&Zt&&_.GkF(0)}const Fe=function(){return{name:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"}};function qt(Zt,an){if(1&Zt&&(_.YNc(0,wt,1,0,"ng-container",34),_._UZ(1,"app-extended-menu-item",55)),2&Zt){_.oxw();const pn=_.MAs(31);_.Q6J("ngTemplateOutlet",pn)("ngTemplateOutletContext",_.DdM(3,Fe)),_.xp6(1),_.Q6J("link",_.DdM(4,xe))}}function fn(Zt,an){1&Zt&&_.GkF(0)}const Jt=function(){return{name:"\u0410\u0434\u0440\u0435\u0441\u0430"}},Dn=function(){return["/addresses","schemes"]};function Rt(Zt,an){if(1&Zt&&(_.YNc(0,fn,1,0,"ng-container",34),_._UZ(1,"app-extended-menu-item",56)(2,"app-extended-menu-item",57)),2&Zt){_.oxw();const pn=_.MAs(31);_.Q6J("ngTemplateOutlet",pn)("ngTemplateOutletContext",_.DdM(4,Jt)),_.xp6(1),_.Q6J("link",_.DdM(5,Q)),_.xp6(1),_.Q6J("link",_.DdM(6,Dn))}}function rn(Zt,an){1&Zt&&_.GkF(0)}const Fn=function(){return{name:"\u0422\u043e\u043f\u043e\u043b\u043e\u0433\u0438\u044f"}},Un=function(){return["/topology","commutators"]},ri=function(){return["/topology","nets"]},vi=function(){return["/topology","sessions"]};function Ni(Zt,an){if(1&Zt&&(_.YNc(0,rn,1,0,"ng-container",34),_._UZ(1,"app-extended-menu-item",58)(2,"app-extended-menu-item",59)(3,"app-extended-menu-item",60)(4,"app-extended-menu-item",50)),2&Zt){_.oxw();const pn=_.MAs(31);_.Q6J("ngTemplateOutlet",pn)("ngTemplateOutletContext",_.DdM(6,Fn)),_.xp6(1),_.Q6J("link",_.DdM(7,z)),_.xp6(1),_.Q6J("link",_.DdM(8,Un)),_.xp6(1),_.Q6J("link",_.DdM(9,ri)),_.xp6(1),_.Q6J("link",_.DdM(10,vi))}}function oo(Zt,an){1&Zt&&_.GkF(0)}const Uo=function(){return{name:"\u0421\u0438\u0441\u0442\u0435\u043c\u0430"}},Bt=function(){return["/system","telegram"]},Ve=function(){return["/system","acp"]};function ye(Zt,an){if(1&Zt&&(_.YNc(0,oo,1,0,"ng-container",34),_._UZ(1,"app-extended-menu-item",61)(2,"app-extended-menu-item",62)(3,"app-extended-menu-item",63)),2&Zt){_.oxw();const pn=_.MAs(31);_.Q6J("ngTemplateOutlet",pn)("ngTemplateOutletContext",_.DdM(5,Uo)),_.xp6(1),_.Q6J("link",_.DdM(6,bt)),_.xp6(1),_.Q6J("link",_.DdM(7,Bt)),_.xp6(1),_.Q6J("link",_.DdM(8,Ve))}}const Ue=function(){return["/"]};function ut(Zt,an){if(1&Zt&&(_.TgZ(0,"div")(1,"div",64),_._UZ(2,"span",65),_.TgZ(3,"span"),_._uU(4),_.qZA()(),_._UZ(5,"div",66),_.qZA()),2&Zt){const pn=an.name;_.xp6(1),_.Q6J("routerLink",_.DdM(4,Ue)),_.xp6(3),_.Oqu(pn),_.xp6(1),_.Udp("margin",".7rem 1rem 1rem 1rem")}}let gn=(()=>{class Zt{constructor(pn,zn,qn,ai){this.api=pn,this.route=zn,this.personality=qn,this.taskCatalogCache=ai,this.AccessFlag=g.j,this.stagesMenuItems=[],this.stageMenuExtended=!1,this.stagesLoaded=!1,this.category="main",this.incomingCount$=this.api.getCountIncomingTasks().pipe((0,e.U)(pi=>pi.toString()),(0,a.d)(1)),this.lastCatalogRoute$=this.taskCatalogCache.lastRoute$.pipe((0,e.U)(pi=>f.d.convertToPath(pi,!0)),(0,e.U)(pi=>["/tasks","catalog",...pi]))}ngOnInit(){this.route.url.pipe((0,e.U)(pn=>pn.map(zn=>zn.path))).subscribe(pn=>{this.category=pn[0],this.stagesLoaded||this.api.getWireframesNames().subscribe(zn=>{zn.forEach(qn=>{const ai=["/tasks/stages",qn.wireframeId.toString()];this.stagesMenuItems=[...this.stagesMenuItems,{label:qn.name,link:ai,extended:!1}],"/"+pn.join("/")===ai.join("/")&&(this.stageMenuExtended=!0)}),this.stagesLoaded=!0})})}}return Zt.\u0275fac=function(pn){return new(pn||Zt)(_.Y36(P.s),_.Y36(y.gz),_.Y36(l.F),_.Y36(f.d))},Zt.\u0275cmp=_.Xpm({type:Zt,selectors:[["app-main-menu-panel"]],decls:32,vars:10,consts:[[1,"menu-panel"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["main",""],["tasks",""],["salary",""],["clients",""],["contracts",""],["statistics",""],["addresses",""],["topology",""],["system",""],["backButton",""],[4,"ngTemplateOutlet"],["caption","\u0417\u0430\u0434\u0430\u0447\u0438","icon","mdi-task",3,"link"],["caption","\u0410\u0431\u043e\u043d\u0435\u043d\u0442\u044b","icon","mdi-group",3,"link",4,"ngIf"],["caption","\u0410\u0434\u0440\u0435\u0441\u0430","icon","mdi-home_work",3,"link",4,"ngIf"],["caption","\u0422\u043e\u043f\u043e\u043b\u043e\u0433\u0438\u044f","icon","mdi-hub",3,"link",4,"ngIf"],["caption","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438","icon","mdi-account_circle",3,"link",4,"ngIf"],["caption","\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430","icon","mdi-currency_ruble",3,"link",4,"ngIf"],["caption","\u0414\u043e\u0433\u043e\u0432\u043e\u0440\u044b","icon","mdi-description",3,"link",4,"ngIf"],["caption","\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430","icon","mdi-analytics",3,"link",4,"ngIf"],["caption","\u0424\u0430\u0439\u043b\u044b","icon","mdi-insert_drive_file",3,"link",4,"ngIf"],["caption","\u0421\u0438\u0441\u0442\u0435\u043c\u0430","icon","mdi-settings",3,"link",4,"ngIf"],["caption","\u0410\u0431\u043e\u043d\u0435\u043d\u0442\u044b","icon","mdi-group",3,"link"],["caption","\u0410\u0434\u0440\u0435\u0441\u0430","icon","mdi-home_work",3,"link"],["caption","\u0422\u043e\u043f\u043e\u043b\u043e\u0433\u0438\u044f","icon","mdi-hub",3,"link"],["caption","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438","icon","mdi-account_circle",3,"link"],["caption","\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430","icon","mdi-currency_ruble",3,"link"],["caption","\u0414\u043e\u0433\u043e\u0432\u043e\u0440\u044b","icon","mdi-description",3,"link"],["caption","\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430","icon","mdi-analytics",3,"link"],["caption","\u0424\u0430\u0439\u043b\u044b","icon","mdi-insert_drive_file",3,"link"],["caption","\u0421\u0438\u0441\u0442\u0435\u043c\u0430","icon","mdi-settings",3,"link"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["caption","\u041a\u0430\u0442\u0430\u043b\u043e\u0433","icon","mdi-inventory_2",3,"link"],["caption","\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c","icon","mdi-calendar_month",3,"link"],["caption","\u0422\u0435\u0433\u0438/\u0428\u0430\u0431\u043b\u043e\u043d\u044b","icon","mdi-ballot",3,"link",4,"ngIf"],["caption","\u0422\u0435\u0433\u0438/\u0428\u0430\u0431\u043b\u043e\u043d\u044b","icon","mdi-ballot",3,"link"],["caption","\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430","icon","mdi-table_chart",3,"link",4,"ngIf"],["caption","\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0440\u0430\u0431\u043e\u0442","icon","mdi-exposure_plus_2",3,"link","exact",4,"ngIf"],["caption","\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0440\u0430\u0431\u043e\u0442 (\u0430\u043b\u044c\u0442.)","icon","mdi-auto_awesome",3,"link",4,"ngIf"],["caption","\u0421\u043f\u0438\u0441\u043e\u043a \u0440\u0430\u0431\u043e\u0442","icon","mdi-construction",3,"link",4,"ngIf"],["caption","\u041f\u043b\u0430\u0442\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f","icon","mdi-toc",3,"link",4,"ngIf"],["caption","\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430","icon","mdi-table_chart",3,"link"],["caption","\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0440\u0430\u0431\u043e\u0442","icon","mdi-exposure_plus_2",3,"link","exact"],["caption","\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0440\u0430\u0431\u043e\u0442 (\u0430\u043b\u044c\u0442.)","icon","mdi-auto_awesome",3,"link"],["caption","\u0421\u043f\u0438\u0441\u043e\u043a \u0440\u0430\u0431\u043e\u0442","icon","mdi-construction",3,"link"],["caption","\u041f\u043b\u0430\u0442\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f","icon","mdi-toc",3,"link"],["caption","\u0411\u0438\u043b\u043b\u0438\u043d\u0433","icon","mdi-manage_accounts",3,"link"],["caption","\u0421\u0435\u0441\u0441\u0438\u0438","icon","mdi-stream",3,"link"],["caption","\u041f\u0440\u0438\u0435\u043c\u043a\u0430","icon","mdi-verified",3,"link",4,"ngIf"],["caption","\u0422\u0438\u043f\u044b \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432","icon","mdi-plagiarism",3,"link",4,"ngIf"],["caption","\u041f\u0440\u0438\u0435\u043c\u043a\u0430","icon","mdi-verified",3,"link"],["caption","\u0422\u0438\u043f\u044b \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432","icon","mdi-plagiarism",3,"link"],["caption","\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a/\u0420\u0430\u0431\u043e\u0442\u0430","icon","mdi-work_history",3,"link"],["caption","\u0421\u043f\u0438\u0441\u043e\u043a","icon","mdi-view_list",3,"link"],["caption","\u0421\u0445\u0435\u043c\u044b \u0434\u043e\u043c\u043e\u0432","icon","mdi-schema",3,"link"],["caption","\u0414\u043e\u043c\u0430","icon","mdi-maps_home_work",3,"link"],["caption","\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u044b","icon","mdi-dns",3,"link"],["caption","\u0421\u0435\u0442\u0438","icon","mdi-lan",3,"link"],["caption","\u0411\u0438\u043b\u043b\u0438\u043d\u0433","icon","mdi-person_search",3,"link"],["caption","Telegram","icon","pi pi-telegram text-2xl",3,"link"],["caption","ACP","icon","mdi-developer_board",3,"link"],[1,"back-button",3,"routerLink"],[1,"mdi-navigate_before"],[1,"border-bottom-1","border-bluegray-100"]],template:function(pn,zn){1&pn&&(_.TgZ(0,"div",0),_.ynx(1,1),_.YNc(2,L,2,1,"ng-container",2),_.YNc(3,N,2,1,"ng-container",2),_.YNc(4,x,2,1,"ng-container",2),_.YNc(5,S,2,1,"ng-container",2),_.YNc(6,F,2,1,"ng-container",2),_.YNc(7,te,2,1,"ng-container",2),_.YNc(8,k,2,1,"ng-container",2),_.YNc(9,$,2,1,"ng-container",2),_.YNc(10,q,2,1,"ng-container",2),_.YNc(11,G,2,1,"ng-container",3),_.BQk(),_.qZA(),_.YNc(12,vt,11,13,"ng-template",null,4,_.W1O),_.YNc(14,fe,5,10,"ng-template",null,5,_.W1O),_.YNc(16,Ne,6,8,"ng-template",null,6,_.W1O),_.YNc(18,In,3,7,"ng-template",null,7,_.W1O),_.YNc(20,ze,3,5,"ng-template",null,8,_.W1O),_.YNc(22,qt,2,5,"ng-template",null,9,_.W1O),_.YNc(24,Rt,3,7,"ng-template",null,10,_.W1O),_.YNc(26,Ni,5,11,"ng-template",null,11,_.W1O),_.YNc(28,ye,4,9,"ng-template",null,12,_.W1O),_.YNc(30,ut,6,5,"ng-template",null,13,_.W1O)),2&pn&&(_.xp6(1),_.Q6J("ngSwitch",zn.category),_.xp6(1),_.Q6J("ngSwitchCase","main"),_.xp6(1),_.Q6J("ngSwitchCase","tasks"),_.xp6(1),_.Q6J("ngSwitchCase","salary"),_.xp6(1),_.Q6J("ngSwitchCase","addresses"),_.xp6(1),_.Q6J("ngSwitchCase","topology"),_.xp6(1),_.Q6J("ngSwitchCase","system"),_.xp6(1),_.Q6J("ngSwitchCase","clients"),_.xp6(1),_.Q6J("ngSwitchCase","contracts"),_.xp6(1),_.Q6J("ngSwitchCase","statistics"))},styles:[".menu-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-shadow:var(--shadow-0);background-color:#fff;border-radius:var(--br-200);height:-moz-fit-content;height:fit-content;min-width:20rem;padding:1rem;gap:1rem;position:sticky;top:calc(var(--top-panel-height) + 1.5rem)}.back-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;padding:.5rem;border-radius:.5rem;color:var(--tc-800);font-size:1.2rem;transition:color .15s ease-out,background-color .15s ease-out;outline:none}.back-button[_ngcontent-%COMP%]:hover{color:var(--mc-400)}.back-button[_ngcontent-%COMP%]:active{color:var(--mc-0);background-color:var(--mc-300)}"]}),Zt})()},4881:(mn,ht,b)=>{"use strict";b.d(ht,{E:()=>In});var e=b(5e3),a=b(7384),f=b(383),g=b(2382),_=b(4004),P=b(4488),y=b(8738),l=b(8007),R=b(963);const L=["tagsPreview"],J=["typeChangePanel"],N=["categoryChangePanel"],w=["contextMenuPanel"];function x(en,_t){if(1&en){const et=e.EpF();e.TgZ(0,"p-checkbox",43),e.NdJ("click",function(Je){return Je.stopPropagation()})("ngModelChange",function(Je){e.CHM(et);const ze=e.oxw();return e.KtG(ze.checkChange.emit(Je))})("ngModelChange",function(Je){e.CHM(et);const ze=e.oxw();return e.KtG(ze.check=Je)}),e.qZA()}if(2&en){const et=e.oxw();e.Q6J("ngModel",et.check)("name",et.checkGroup)("value",null==et.item?null:et.item.taskId)}}function D(en,_t){1&en&&e.GkF(0)}function S(en,_t){1&en&&e.GkF(0)}function U(en,_t){1&en&&e.GkF(0)}const F=function(en){return{label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",value:en}};function ce(en,_t){if(1&en){const et=e.EpF();e.TgZ(0,"div",44),e.NdJ("click",function(Je){e.CHM(et),e.oxw();const ze=e.MAs(48),wt=e.MAs(45);return Je.stopPropagation(),ze.toggle(Je),e.KtG(wt.hide())}),e.YNc(1,U,1,0,"ng-container",5),e.qZA()}if(2&en){const et=e.oxw(),de=e.MAs(39);let Je;e.xp6(1),e.Q6J("ngTemplateOutlet",de)("ngTemplateOutletContext",e.VKq(2,F,null!==(Je=null==et.item||null==et.item.currentDirectory?null:et.item.currentDirectory.name)&&void 0!==Je?Je:"\u0411\u0435\u0437 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"))}}function te(en,_t){1&en&&e.GkF(0)}const V=function(en){return{label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430",value:en}};function k(en,_t){if(1&en&&(e.ynx(0),e.YNc(1,te,1,0,"ng-container",5),e.ALo(2,"date"),e.BQk()),2&en){const et=e.oxw(2),de=e.MAs(39);e.xp6(1),e.Q6J("ngTemplateOutlet",de)("ngTemplateOutletContext",e.VKq(5,V,e.xi3(2,2,null==et.item?null:et.item.actualFrom,"dd/MM/yyyy HH:mm")))}}function O(en,_t){1&en&&e.GkF(0)}const $=function(en,_t){return{label:en,value:_t}};function ue(en,_t){if(1&en&&(e.ynx(0),e.YNc(1,O,1,0,"ng-container",5),e.ALo(2,"date"),e.BQk()),2&en){const et=e.oxw(2),de=e.MAs(39);e.xp6(1),e.Q6J("ngTemplateOutlet",de)("ngTemplateOutletContext",e.WLB(5,$,et.isExpired?"\u041f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d\u0430":"\u0421\u0440\u043e\u043a",e.xi3(2,2,null==et.item?null:et.item.actualTo,"dd/MM/yyyy HH:mm")))}}function q(en,_t){if(1&en&&(e.ynx(0),e.YNc(1,k,3,7,"ng-container",8),e.YNc(2,ue,3,8,"ng-container",8),e.BQk()),2&en){const et=e.oxw();e.xp6(1),e.Q6J("ngIf",null==et.item?null:et.item.actualFrom),e.xp6(1),e.Q6J("ngIf",(null==et.item?null:et.item.actualTo)&&!(null!=et.item&&et.item.actualFrom))}}function Y(en,_t){if(1&en){const et=e.EpF();e.TgZ(0,"app-task-tag-inline-selector",45),e.NdJ("onShow",function(){e.CHM(et);const Je=e.oxw();return e.KtG(Je.onStartEdit.emit(Je.item))})("onHide",function(){e.CHM(et);const Je=e.oxw();return e.KtG(Je.onStopEdit.emit(Je.item))}),e.qZA()}if(2&en){const et=e.oxw();e.Q6J("formControl",et.tagsControl)}}function G(en,_t){1&en&&e.GkF(0)}function he(en,_t){1&en&&e.GkF(0)}const j=function(en){return{$implicit:en}};function Q(en,_t){if(1&en&&(e.ynx(0),e.YNc(1,he,1,0,"ng-container",5),e.BQk()),2&en){const et=_t.$implicit;e.oxw(2);const de=e.MAs(28);e.xp6(1),e.Q6J("ngTemplateOutlet",de)("ngTemplateOutletContext",e.VKq(2,j,et))}}function K(en,_t){if(1&en&&(e.TgZ(0,"div",46),e.YNc(1,Q,2,4,"ng-container",47),e.qZA()),2&en){const et=e.oxw();e.xp6(1),e.Q6J("ngForOf",et.item.lastComments)}}function z(en,_t){if(1&en){const et=e.EpF();e.TgZ(0,"div",48),e.NdJ("dragstart",function(Je){return Je.stopPropagation(),Je.preventDefault()}),e.TgZ(1,"textarea",49),e.NdJ("keydown.control.enter",function(){e.CHM(et);const Je=e.oxw();return e.KtG(Je.sendComment())})("focus",function(){e.CHM(et);const Je=e.oxw();return e.KtG(Je.onStartEdit.emit(Je.item))})("blur",function(){e.CHM(et);const Je=e.oxw();return e.KtG(Je.onStopEdit.emit(Je.item))})("click",function(Je){return Je.stopPropagation()}),e.qZA(),e.TgZ(2,"p-button",50),e.NdJ("onClick",function(Je){e.CHM(et);const ze=e.oxw();return Je.stopPropagation(),e.KtG(ze.sendComment())}),e.qZA()()}if(2&en){const et=e.oxw();e.Q6J("draggable",!0),e.xp6(1),e.Q6J("autoResize",!0)("rows",1)("formControl",et.commentInputControl)("readonly",et.commentSending),e.xp6(1),e.Q6J("loading",et.commentSending)}}function oe(en,_t){if(1&en){const et=e.EpF();e.TgZ(0,"div",51),e.NdJ("click",function(Je){e.CHM(et);const ze=e.oxw();return Je.stopPropagation(),e.KtG(ze.openTaskInOldTracker(null==ze.item?null:ze.item.oldTrackerTaskId))}),e._UZ(1,"span",52),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&en){const et=e.oxw();e.xp6(3),e.Oqu(null==et.item?null:et.item.oldTrackerTaskId)}}const Te=function(){return{whiteSpace:"pre-wrap",wordWrap:"break-word",textAlign:"left"}};function Ae(en,_t){if(1&en&&(e.TgZ(0,"div",53)(1,"span",54),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"span",55),e._uU(5),e.qZA(),e.TgZ(6,"div",56),e._uU(7),e.qZA()()),2&en){const et=_t.$implicit;e.xp6(2),e.hij(" ",e.xi3(3,5,et.created,"dd-MM-yyyy HH:mm")," "),e.xp6(3),e.hij(" ",null==et.creator?null:et.creator.fullName,": "),e.xp6(1),e.Akn(e.DdM(8,Te)),e.xp6(1),e.hij(" ",et.simpleText," ")}}function Ke(en,_t){if(1&en&&(e.TgZ(0,"div",60),e._uU(1),e.qZA()),2&en){const et=_t.$implicit;e.Udp("background-color",et.color),e.xp6(1),e.Oqu(et.name)}}function be(en,_t){if(1&en){const et=e.EpF();e.TgZ(0,"div",61),e.NdJ("mouseenter",function(Je){e.CHM(et);const ze=e.oxw(2);return e.KtG(ze.tagsPreviewShow(Je))})("mouseleave",function(){e.CHM(et);const Je=e.oxw(2);return e.KtG(Je.tagsPreviewHide())}),e._uU(1),e.qZA()}if(2&en){const et=e.oxw(2);e.xp6(1),e.hij("",et.remainingNumberOfTags,"+ ")}}function Qe(en,_t){if(1&en&&(e.TgZ(0,"div",57),e.YNc(1,Ke,2,3,"div",58),e.ALo(2,"slice"),e.YNc(3,be,2,1,"div",59),e.qZA()),2&en){const et=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.Dn7(2,3,null==et.item?null:et.item.tags,0,4))("ngForTrackBy",et.trackByTag),e.xp6(2),e.Q6J("ngIf",et.isMoreTags)}}function X(en,_t){if(1&en&&(e.TgZ(0,"div",62),e._uU(1),e.qZA()),2&en){const et=_t.$implicit;e.Udp("background-color",et.color),e.xp6(1),e.Oqu(et.name)}}function xe(en,_t){if(1&en&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&en){const et=e.oxw().$implicit;e.xp6(1),e.Oqu(null==et?null:et.textRepresentation)}}function we(en,_t){if(1&en&&(e.ynx(0),e.YNc(1,xe,2,1,"span",8),e.BQk()),2&en){const et=_t.index,de=e.oxw(3);e.xp6(1),e.Q6J("ngIf",et<de.fieldCountArray.length)}}function Oe(en,_t){if(1&en&&(e.ynx(0),e.YNc(1,we,2,1,"ng-container",64),e.BQk()),2&en){const et=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",null==et.item?null:et.item.listItemFields)("ngForTrackBy",et.trackByField)}}function dt(en,_t){if(1&en){const et=e.EpF();e.ynx(0),e.TgZ(1,"app-select-field-to-view-button",65),e.NdJ("selectView",function(Je){e.CHM(et);const ze=e.oxw(3);return e.KtG(ze.selectFieldToView.emit(Je))}),e.qZA(),e.BQk()}if(2&en){const et=_t.$implicit,de=e.oxw(3);e.xp6(1),e.Q6J("fields",de.wireframeFieldsList)("index",et)}}function bt(en,_t){if(1&en&&(e.ynx(0),e.YNc(1,dt,2,2,"ng-container",64),e.BQk()),2&en){const et=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",et.fieldCountArray)("ngForTrackBy",et.trackByIndex)}}function it(en,_t){if(1&en&&(e.TgZ(0,"div",63),e.YNc(1,Oe,2,2,"ng-container",8),e.YNc(2,bt,2,2,"ng-container",8),e.qZA()),2&en){const et=e.oxw();e.Q6J("ngClass",null==et.item||null==et.item.modelWireframe?null:et.item.modelWireframe.listViewType),e.xp6(1),e.Q6J("ngIf",!et.viewExample),e.xp6(1),e.Q6J("ngIf",et.viewExample)}}function Dt(en,_t){if(1&en&&(e.TgZ(0,"span",66)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span",67),e._uU(4),e.qZA()()),2&en){const et=_t.label,de=_t.value,Je=e.oxw();e.xp6(2),e.Oqu(et),e.xp6(1),e.Q6J("ngClass",Je.statusColor),e.xp6(1),e.Oqu(de)}}function vt(en,_t){1&en&&e.GkF(0)}const Gt=function(en){return{label:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439",value:en}};function Ht(en,_t){if(1&en&&(e.ynx(0),e.YNc(1,vt,1,0,"ng-container",5),e.BQk()),2&en){const et=e.oxw(2),de=e.MAs(39);e.xp6(1),e.Q6J("ngTemplateOutlet",de)("ngTemplateOutletContext",e.VKq(2,Gt,null==et.item||null==et.item.responsible?null:et.item.responsible.fullName))}}function Ut(en,_t){if(1&en&&e.YNc(0,Ht,2,4,"ng-container",8),2&en){const et=e.oxw();e.Q6J("ngIf",null==et.item?null:et.item.responsible)}}function ct(en,_t){1&en&&e.GkF(0)}const at=function(en){return{label:"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438",value:en}};function fe(en,_t){if(1&en&&(e.ynx(0),e.YNc(1,ct,1,0,"ng-container",5),e.BQk()),2&en){const et=e.oxw(2),de=e.MAs(39);e.xp6(1),e.Q6J("ngTemplateOutlet",de)("ngTemplateOutletContext",e.VKq(2,at,et.actualWorkLogWorkers))}}function ke(en,_t){if(1&en&&e.YNc(0,fe,2,4,"ng-container",8),2&en){const et=e.oxw();e.Q6J("ngIf",et.actualWorkLogWorkers)}}function ot(en,_t){if(1&en&&(e.ynx(0),e._UZ(1,"p-menu",69),e.BQk()),2&en){const et=e.oxw().ngIf;e.xp6(1),e.Q6J("model",et)}}function Ct(en,_t){1&en&&(e.ynx(0),e.TgZ(1,"div",70),e._uU(2,"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432"),e.qZA(),e.BQk())}function Ot(en,_t){if(1&en&&(e.ynx(0),e.YNc(1,ot,2,1,"ng-container",8),e.YNc(2,Ct,3,0,"ng-container",8),e.BQk()),2&en){const et=_t.ngIf;e.xp6(1),e.Q6J("ngIf",et&&et.length>0),e.xp6(1),e.Q6J("ngIf",et&&0===et.length)}}function Nt(en,_t){if(1&en&&(e.YNc(0,Ot,3,2,"ng-container",68),e.ALo(1,"async")),2&en){const et=e.oxw(),de=e.MAs(59);e.Q6J("ngIf",e.lcZ(1,2,et.typesMenuModel$))("ngIfElse",de)}}function Mt(en,_t){if(1&en&&(e.ynx(0),e._UZ(1,"p-menu",69),e.BQk()),2&en){const et=e.oxw().ngIf;e.xp6(1),e.Q6J("model",et)}}function Ye(en,_t){1&en&&(e.ynx(0),e.TgZ(1,"div",70),e._uU(2,"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439"),e.qZA(),e.BQk())}function st(en,_t){if(1&en&&(e.ynx(0),e.YNc(1,Mt,2,1,"ng-container",8),e.YNc(2,Ye,3,0,"ng-container",8),e.BQk()),2&en){const et=_t.ngIf;e.xp6(1),e.Q6J("ngIf",et&&et.length>0),e.xp6(1),e.Q6J("ngIf",et&&0===et.length)}}function je(en,_t){if(1&en&&(e.YNc(0,st,3,2,"ng-container",68),e.ALo(1,"async")),2&en){const et=e.oxw(),de=e.MAs(59);e.Q6J("ngIf",e.lcZ(1,2,et.categoryMenuModel$))("ngIfElse",de)}}function It(en,_t){if(1&en&&e._UZ(0,"p-menu",69),2&en){const et=e.oxw();e.Q6J("model",et.contextMenuModel)}}function ne(en,_t){1&en&&e._UZ(0,"p-progressSpinner",71)}const Ne=function(en,_t,et){return{processing:en,inlined:_t,hovered:et}},me=function(en){return["/task",en]},gt=function(en){return{label:"\u041a\u043b\u0430\u0441\u0441",value:en}},un=function(en){return{label:"\u0422\u0438\u043f",value:en}};let In=(()=>{class en{constructor(et,de,Je,ze){this.taskService=et,this.api=de,this.rt=Je,this.commentCachingService=ze,this.viewExample=!1,this.wireframeFieldsList=[],this.checkChange=new e.vpe,this.checkGroup="task",this.selectFieldToView=new e.vpe,this.isHover=!0,this.inlined=!1,this.onClick=new e.vpe,this.customClickHandler=!1,this.isCommentInput=!1,this.onStartEdit=new e.vpe,this.onStopEdit=new e.vpe,this.isWide$=(0,f.cy)("(min-width: 1024px)"),this.statusClass={},this.itemClass={},this.commentInputControl=new g.NI(""),this.commentSending=!1,this.dotAnimation=f.xn,this.tagsControl=new g.NI([]),this.isBlockBackground=!1,this.contextMenuModel=[],this.contextMenuTargetX=0,this.contextMenuTargetY=0,this.isAppointInstallersDialogVisible=!1,this.isShowEditTaskDialogVisible=!1,this.isShowTaskSchedulingDialogVisible=!1,this.taskSchedulingType="from",this.subscription=new f.xf}get contextMenuTargetStyle(){return{top:this.contextMenuTargetY+"px",left:this.contextMenuTargetX+"px"}}get fieldCountArray(){var et,de;switch(null===(de=null===(et=this.item)||void 0===et?void 0:et.modelWireframe)||void 0===de?void 0:de.listViewType){case"SIMPLE":return[1];case"COMPOSITE":return[1,2];case"DETAILED":return[1,2,3];default:return[]}}get statusColor(){var et,de,Je;return{"text-primary":(null===(et=this.item)||void 0===et?void 0:et.taskStatus)===a.hY.ACTIVE,"text-orange-400":(null===(de=this.item)||void 0===de?void 0:de.taskStatus)===a.hY.PROCESSING,"text-bluegray-200":(null===(Je=this.item)||void 0===Je?void 0:Je.taskStatus)===a.hY.CLOSE}}get isExpired(){let et=!1;return this.item&&this.item.actualTo&&(et=new Date(this.item.actualTo).getTime()<(new Date).getTime()),et}get statusBgColor(){if(this.item){const{taskStatus:et}=this.item;return{"bg-red-500":et===a.hY.ACTIVE&&this.isExpired,"bg-primary":et===a.hY.ACTIVE&&!this.isExpired,"bg-orange-500":et===a.hY.PROCESSING,"bg-bluegray-200":et===a.hY.CLOSE}}return null}get taskFields(){var et,de,Je,ze,wt,Fe;const qt=["LARGE_TEXT","COUNTING_LIVES"];return{inline:null!==(Je=null===(de=null===(et=this.item)||void 0===et?void 0:et.fields)||void 0===de?void 0:de.filter(fn=>!qt.includes(fn.wireframeFieldType)))&&void 0!==Je?Je:[],block:null!==(Fe=null===(wt=null===(ze=this.item)||void 0===ze?void 0:ze.fields)||void 0===wt?void 0:wt.filter(fn=>qt.includes(fn.wireframeFieldType)))&&void 0!==Fe?Fe:[]}}get isMoreTags(){var et;return!(null===(et=this.item)||void 0===et||!et.tags)&&this.item.tags.length>4}get remainingNumberOfTags(){var et;return null!==(et=this.item)&&void 0!==et&&et.tags?this.item.tags.length-2:0}get bodyClass(){var et,de,Je,ze,wt,Fe;return{simple:"SIMPLE"===(null===(de=null===(et=this.item)||void 0===et?void 0:et.modelWireframe)||void 0===de?void 0:de.listViewType),composite:"COMPOSITE"===(null===(ze=null===(Je=this.item)||void 0===Je?void 0:Je.modelWireframe)||void 0===ze?void 0:ze.listViewType),detailed:"DETAILED"===(null===(Fe=null===(wt=this.item)||void 0===wt?void 0:wt.modelWireframe)||void 0===Fe?void 0:Fe.listViewType)}}get actualWorkLogWorkers(){var et,de;return null!==(de=null===(et=this.actualWorkLog)||void 0===et?void 0:et.employees.map(Je=>Je.fullName).join(", "))&&void 0!==de?de:""}trackByIndex(et,de){return et}trackByTag(et,de){return de.taskTagId+de.name+de.color}trackByField(et,de){return de?de.id+de.name+de.textRepresentation:""}ngOnInit(){var et,de,Je;!(null===(et=this.item)||void 0===et)&&et.taskStatus&&(this.statusClass={active:this.item.taskStatus===a.hY.ACTIVE,processed:this.item.taskStatus===a.hY.PROCESSING,close:this.item.taskStatus===a.hY.CLOSE}),this.updateActualWorkLog(),this.itemClass=Object.assign({"view-example":this.viewExample,hovered:this.isHover,selected:this.check},this.statusClass),!(null===(de=this.item)||void 0===de)&&de.taskId&&this.commentInputControl.setValue(this.commentCachingService.read(null===(Je=this.item)||void 0===Je?void 0:Je.taskId)),this.subscription.addSubscription("comInp",this.commentInputControl.valueChanges.subscribe(ze=>{var wt;null!==(wt=this.item)&&void 0!==wt&&wt.taskId&&this.commentCachingService.write(this.item.taskId,null!=ze?ze:"")}))}tagsPreviewShow(et){var de;null===(de=this.tagsPreview)||void 0===de||de.show(et)}tagsPreviewHide(){setTimeout(()=>{var et;null===(et=this.tagsPreview)||void 0===et||et.hide()})}getFieldValue(et){return this.item&&null!=this.item.listItemFields[et]?this.item.listItemFields[et].textRepresentation:""}ngOnChanges(et){const{item:de,externalUpdater:Je}=et;de&&de.currentValue&&(this.tagsControl.setValue(de.currentValue.tags,{emitEvent:!1}),this.typesMenuModel$=this.api.getAvailableTaskTypesToChange(de.currentValue.taskId).pipe((0,_.U)(ze=>ze.map(wt=>({label:wt.label,command:()=>{var Fe;this.api.changeTaskStage(de.currentValue.taskId,wt.stageId).subscribe(),null===(Fe=this.typeChangePanel)||void 0===Fe||Fe.hide()}})))),this.categoryMenuModel$=this.api.getAvailableDirectoriesToChange(de.currentValue.taskId).pipe((0,_.U)(ze=>ze.map(wt=>({label:wt.name,command:()=>{var Fe;this.api.moveTaskToDirectory([de.currentValue.taskId],wt.taskTypeDirectoryId).subscribe(),null===(Fe=this.categoryChangePanel)||void 0===Fe||Fe.hide()}})))),this.contextMenuModel=[{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",disabled:de.currentValue.taskStatus!==a.hY.ACTIVE,command:()=>{var ze;this.isShowEditTaskDialogVisible=!0,null===(ze=this.contextMenuPanel)||void 0===ze||ze.hide()}},{label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-event_available",disabled:de.currentValue.taskStatus!==a.hY.ACTIVE,command:()=>{var ze;this.isShowTaskSchedulingDialogVisible=!0,this.taskSchedulingType="from",null===(ze=this.contextMenuPanel)||void 0===ze||ze.hide()}},{label:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0440\u043e\u043a",icon:"mdi-event_available",disabled:de.currentValue.taskStatus!==a.hY.ACTIVE,command:()=>{var ze;this.isShowTaskSchedulingDialogVisible=!0,this.taskSchedulingType="to",null===(ze=this.contextMenuPanel)||void 0===ze||ze.hide()}},{label:"\u041e\u0442\u0434\u0430\u0442\u044c \u0432 \u0440\u0430\u0431\u043e\u0442\u0443",icon:"mdi-how_to_reg",disabled:de.currentValue.taskStatus!==a.hY.ACTIVE,command:()=>{var ze;this.isAppointInstallersDialogVisible=!0,null===(ze=this.contextMenuPanel)||void 0===ze||ze.hide()}}],this.updateActualWorkLog(),this.subscription.addSubscription("updateObs",Je&&Je.currentValue?Je.currentValue.subscribe(wt=>this.item=wt):this.rt.taskUpdated(de.currentValue.taskId).subscribe(ze=>this.item=ze)),this.subscription.addSubscription("chTags",this.tagsControl.valueChanges.subscribe(ze=>this.api.setTaskTags(de.currentValue.taskId,null!=ze?ze:[]).subscribe())))}ngOnDestroy(){this.subscription.unsubscribeAll()}sendComment(){var et,de;null===(et=this.item)||void 0===et||!et.taskId||""===this.commentInputControl.value||(this.commentSending=!0,this.api.createComment(this.commentInputControl.value,null===(de=this.item)||void 0===de?void 0:de.taskId,null).subscribe({next:()=>{var Je,ze;this.commentSending=!1,this.commentInputControl.setValue(""),null!==(Je=this.item)&&void 0!==Je&&Je.taskId&&this.commentCachingService.flush(null===(ze=this.item)||void 0===ze?void 0:ze.taskId)},error:()=>this.commentSending=!1}))}callToPhone(et){this.api.callToPhone(et.value).subscribe({})}openTaskInOldTracker(et){et&&window.open(`http://tracker.vdonsk.ru/main.php?mode=show_obji&obji=${et}&from_cat=1`,"_blank")}positioningContextMenuTarget(et){et.preventDefault(),this.contextMenuTargetX=et.clientX,this.contextMenuTargetY=et.clientY}startEdit(){this.isBlockBackground=!0,this.onStartEdit.emit(this.item)}stopEdit(){this.isBlockBackground=!1,!this.isAppointInstallersDialogVisible&&!this.isShowEditTaskDialogVisible&&!this.isShowTaskSchedulingDialogVisible&&this.onStopEdit.emit(this.item)}updateActualWorkLog(){var et;(null===(et=this.item)||void 0===et?void 0:et.taskStatus)===a.hY.PROCESSING&&this.api.getActiveWorkLogByTaskId(this.item.taskId).subscribe({next:de=>{this.actualWorkLog=de}})}}return en.\u0275fac=function(et){return new(et||en)(e.Y36(P.U),e.Y36(y.s),e.Y36(l.U),e.Y36(R.f))},en.\u0275cmp=e.Xpm({type:en,selectors:[["app-task-list-element"]],viewQuery:function(et,de){if(1&et&&(e.Gf(L,5),e.Gf(J,5),e.Gf(N,5),e.Gf(w,5)),2&et){let Je;e.iGM(Je=e.CRH())&&(de.tagsPreview=Je.first),e.iGM(Je=e.CRH())&&(de.typeChangePanel=Je.first),e.iGM(Je=e.CRH())&&(de.categoryChangePanel=Je.first),e.iGM(Je=e.CRH())&&(de.contextMenuPanel=Je.first)}},inputs:{item:"item",viewExample:"viewExample",wireframeFieldsList:"wireframeFieldsList",check:"check",checkGroup:"checkGroup",isHover:"isHover",inlined:"inlined",customClickHandler:"customClickHandler",isCommentInput:"isCommentInput",externalUpdater:"externalUpdater"},outputs:{checkChange:"checkChange",selectFieldToView:"selectFieldToView",onClick:"onClick",onStartEdit:"onStartEdit",onStopEdit:"onStopEdit"},features:[e.TTD],decls:62,vars:60,consts:[[1,"flex","flex-column","bg-white","outline-none","cursor-pointer","hover:bg-gray-50","relative","pl-1",3,"ngClass","routerLink","click","contextmenu"],["taskWrapper",""],[1,"absolute","top-0","left-0","h-full","opacity-50",3,"ngClass"],[1,"flex","gap-3","p-3","border-bottom-1","border-bluegray-50","align-items-center"],[3,"ngModel","name","value","click","ngModelChange",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click"],["class","hover:text-orange-500",3,"click",4,"ngIf"],[4,"ngIf"],[3,"formControl","onShow","onHide",4,"ngIf"],[1,"stretched"],[4,"ngIf","ngIfThen","ngIfElse"],[3,"task","isTaskBody"],["class","border-top-1 border-bottom-1 border-bluegray-100 p-3 gap-1 flex flex-column",4,"ngIf"],["class","flex relative",3,"draggable","dragstart",4,"ngIf"],[1,"flex","p-3","gap-2"],["class","flex align-items-center gap-1 text-bluegray-400 hover:text-primary text-sm",3,"click",4,"ngIf"],[1,"flex-grow-1"],[1,"text-bluegray-500","text-sm","font-semibold"],[1,"font-semibold","text-sm",3,"ngClass"],["lastCommentTemplate",""],["statusTags",""],["hideTransitionOptions","0ms","showTransitionOptions","0ms",3,"appendTo"],["tagsPreview",""],[1,"tags-view","wrap","max"],["class","tags-view-item",3,"background-color",4,"ngFor","ngForOf","ngForTrackBy"],["bodyView",""],["headerItem",""],["responsibleEmployee",""],["workersEmployee",""],["appendTo","body","styleClass","overlay-panel-unpadding",3,"onShow","onHide"],["typeChangePanel",""],["pTemplate","content"],["categoryChangePanel",""],[1,"fixed","max-w-0","max-h-0","pointer-events-none"],["contextMenuTarget",""],[3,"visible","taskId","visibleChange"],[3,"visible","task","visibleChange"],[3,"visible","schedulingType","taskId","visibleChange"],["contextMenuPanel",""],["loadingTemplate",""],[3,"blocked","baseZIndex","autoZIndex"],[1,"w-full","h-full",3,"contextmenu"],[3,"ngModel","name","value","click","ngModelChange"],[1,"hover:text-orange-500",3,"click"],[3,"formControl","onShow","onHide"],[1,"border-top-1","border-bottom-1","border-bluegray-100","p-3","gap-1","flex","flex-column"],[4,"ngFor","ngForOf"],[1,"flex","relative",3,"draggable","dragstart"],["pInputTextarea","","placeholder","\u041d\u043e\u0432\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",1,"mt-2","mx-3","flex-grow-1",3,"autoResize","rows","formControl","readonly","keydown.control.enter","focus","blur","click"],["icon","mdi-send","styleClass","p-button-text p-button-icon",1,"absolute","bottom-0","right-0","mr-3",3,"loading","onClick"],[1,"flex","align-items-center","gap-1","text-bluegray-400","hover:text-primary","text-sm",3,"click"],[1,"mdi-sync"],[1,"flex","gap-2"],[1,"text-sm","white-space-nowrap","text-bluegray-400","line-height-4"],[1,"text-sm","white-space-nowrap","text-primary-600","line-height-4"],[1,"text-bluegray-500"],[1,"tags-view"],["class","tags-view-item small",3,"background-color",4,"ngFor","ngForOf","ngForTrackBy"],["class","tags-view-item small",3,"mouseenter","mouseleave",4,"ngIf"],[1,"tags-view-item","small"],[1,"tags-view-item","small",3,"mouseenter","mouseleave"],[1,"tags-view-item"],[1,"task-item-body",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"fields","index","selectView"],[1,"flex","flex-column","text-sm"],[1,"font-semibold",3,"ngClass"],[4,"ngIf","ngIfElse"],[3,"model"],[1,"p-4","text-bluegray-300","font-bold"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"]],template:function(et,de){if(1&et){const Je=e.EpF();e.TgZ(0,"div",0,1),e.NdJ("click",function(){return de.onClick.emit(de.item)})("contextmenu",function(wt){e.CHM(Je);const Fe=e.MAs(51),qt=e.MAs(56);return de.positioningContextMenuTarget(wt),e.KtG(qt.toggle(wt,Fe))}),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.YNc(4,x,1,3,"p-checkbox",4),e.YNc(5,D,1,0,"ng-container",5),e.TgZ(6,"div",6),e.NdJ("click",function(wt){e.CHM(Je);const Fe=e.MAs(45),qt=e.MAs(48);return wt.stopPropagation(),"CLOSE"!==(null==de.item?null:de.item.taskStatus)&&Fe.toggle(wt),e.KtG(qt.hide())}),e.YNc(7,S,1,0,"ng-container",5),e.qZA(),e.YNc(8,ce,2,4,"div",7),e.YNc(9,q,3,2,"ng-container",8),e.YNc(10,Y,1,1,"app-task-tag-inline-selector",9),e._UZ(11,"div",10),e.YNc(12,G,1,0,"ng-container",11),e.qZA(),e._UZ(13,"app-task-fields-table-view",12),e.YNc(14,K,2,1,"div",13),e.YNc(15,z,3,6,"div",14),e.TgZ(16,"div",15),e.YNc(17,oe,4,1,"div",16),e._UZ(18,"div",17),e.TgZ(19,"span",18),e._uU(20),e.qZA(),e.TgZ(21,"span",19),e._uU(22),e.ALo(23,"taskStatus"),e.qZA(),e.TgZ(24,"span",18),e._uU(25),e.ALo(26,"date"),e.qZA()()(),e.YNc(27,Ae,8,9,"ng-template",null,20,e.W1O),e.YNc(29,Qe,4,7,"ng-template",null,21,e.W1O),e.TgZ(31,"p-overlayPanel",22,23)(33,"div",24),e.YNc(34,X,2,3,"div",25),e.ALo(35,"slice"),e.qZA()(),e.YNc(36,it,3,3,"ng-template",null,26,e.W1O),e.YNc(38,Dt,5,3,"ng-template",null,27,e.W1O),e.YNc(40,Ut,1,1,"ng-template",null,28,e.W1O),e.YNc(42,ke,1,1,"ng-template",null,29,e.W1O),e.TgZ(44,"p-overlayPanel",30,31),e.NdJ("onShow",function(){return de.startEdit()})("onHide",function(){return de.stopEdit()}),e.YNc(46,Nt,2,4,"ng-template",32),e.qZA(),e.TgZ(47,"p-overlayPanel",30,33),e.NdJ("onShow",function(){return de.startEdit()})("onHide",function(){return de.stopEdit()}),e.YNc(49,je,2,4,"ng-template",32),e.qZA(),e._UZ(50,"div",34,35),e.TgZ(52,"app-appoint-installers-dialog",36),e.NdJ("visibleChange",function(wt){return de.isAppointInstallersDialogVisible=wt})("visibleChange",function(wt){return!wt&&de.stopEdit()}),e.qZA(),e.TgZ(53,"app-edit-task-dialog",37),e.NdJ("visibleChange",function(wt){return de.isShowEditTaskDialogVisible=wt})("visibleChange",function(wt){return!wt&&de.stopEdit()}),e.qZA(),e.TgZ(54,"app-task-scheduling-dialog",38),e.NdJ("visibleChange",function(wt){return de.isShowTaskSchedulingDialogVisible=wt})("visibleChange",function(wt){return!wt&&de.stopEdit()}),e.qZA(),e.TgZ(55,"p-overlayPanel",30,39),e.NdJ("onShow",function(){return de.startEdit()})("onHide",function(){return de.stopEdit()}),e.YNc(57,It,1,1,"ng-template",32),e.qZA(),e.YNc(58,ne,1,0,"ng-template",null,40,e.W1O),e.TgZ(60,"p-blockUI",41)(61,"div",42),e.NdJ("contextmenu",function(wt){return wt.stopPropagation(),wt.preventDefault()}),e.qZA()()}if(2&et){const Je=e.MAs(39),ze=e.MAs(41),wt=e.MAs(43);e.Q6J("ngClass",e.kEZ(50,Ne,"PROCESSING"===(null==de.item?null:de.item.taskStatus),de.inlined,de.isHover))("routerLink",de.viewExample||de.customClickHandler?null:e.VKq(54,me,null==de.item?null:de.item.taskId)),e.xp6(2),e.Udp("width",".3rem"),e.Q6J("ngClass",de.statusBgColor),e.xp6(2),e.Q6J("ngIf",de.check),e.xp6(1),e.Q6J("ngTemplateOutlet",Je)("ngTemplateOutletContext",e.VKq(56,gt,null==de.item||null==de.item.modelWireframe?null:de.item.modelWireframe.name)),e.xp6(1),e.Tol("CLOSE"!==(null==de.item?null:de.item.taskStatus)?"hover:text-orange-500":null),e.xp6(1),e.Q6J("ngTemplateOutlet",Je)("ngTemplateOutletContext",e.VKq(58,un,null==de.item||null==de.item.currentStage?null:de.item.currentStage.label)),e.xp6(1),e.Q6J("ngIf","ACTIVE"===(null==de.item?null:de.item.taskStatus)),e.xp6(1),e.Q6J("ngIf",(null==de.item?null:de.item.actualFrom)||(null==de.item?null:de.item.actualTo)),e.xp6(1),e.Q6J("ngIf",!de.inlined),e.xp6(2),e.Q6J("ngIf","PROCESSING"===(null==de.item?null:de.item.taskStatus))("ngIfThen",wt)("ngIfElse",ze),e.xp6(1),e.Q6J("task",de.item)("isTaskBody",!1),e.xp6(1),e.Q6J("ngIf",de.item&&de.item.lastComments&&de.item.lastComments.length>0&&!de.inlined),e.xp6(1),e.Q6J("ngIf",de.isCommentInput&&"CLOSE"!==(null==de.item?null:de.item.taskStatus)),e.xp6(2),e.Q6J("ngIf",null==de.item?null:de.item.oldTrackerTaskId),e.xp6(3),e.hij("\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c: ",null==de.item||null==de.item.creator?null:de.item.creator.fullName,""),e.xp6(1),e.Q6J("ngClass",de.statusColor),e.xp6(1),e.Oqu(e.lcZ(23,42,de.item)),e.xp6(3),e.Oqu(e.xi3(26,44,null==de.item?null:de.item.created,"dd-MM-yyyy HH:mm")),e.xp6(6),e.Q6J("appendTo","body"),e.xp6(3),e.Q6J("ngForOf",e.xi3(35,47,null==de.item?null:de.item.tags,2))("ngForTrackBy",de.trackByTag),e.xp6(16),e.Akn(de.contextMenuTargetStyle),e.xp6(2),e.Q6J("visible",de.isAppointInstallersDialogVisible)("taskId",null==de.item?null:de.item.taskId),e.xp6(1),e.Q6J("visible",de.isShowEditTaskDialogVisible)("task",de.item),e.xp6(1),e.Q6J("visible",de.isShowTaskSchedulingDialogVisible)("schedulingType",de.taskSchedulingType)("taskId",null==de.item?null:de.item.taskId),e.xp6(6),e.Q6J("blocked",de.isBlockBackground)("baseZIndex",1101)("autoZIndex",!1)}},styles:["[_nghost-%COMP%]{width:100%;display:block;text-align:initial}.task-item[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;padding:1rem;gap:.5rem;transition:box-shadow .1s ease-in-out;cursor:pointer;background-color:#fff;outline-offset:-1px}.task-item[_ngcontent-%COMP%]:not(.inlined){border:1px solid var(--bgc-300);border-radius:var(--br-200)}.task-item.inlined[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-300)}.task-item.checking[_ngcontent-%COMP%]{grid:auto-flow/min-content 1fr}.task-item.hovered[_ngcontent-%COMP%]:not(.inlined):hover{box-shadow:0 0 .3rem var(--mc-200)}.task-item.hovered.inlined[_ngcontent-%COMP%]:hover{outline:1px solid var(--mc-200)}.task-item[_ngcontent-%COMP%]:active{background-color:var(--bgc-001)}.task-item.processing[_ngcontent-%COMP%]{border:1px solid var(--warm-400)}.task-item-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:1rem;padding:.5rem;border-bottom:1px solid var(--bgc-200)}.task-item-header[_ngcontent-%COMP%]   .status-caption[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600}.task-item-header[_ngcontent-%COMP%]   .status-caption.active[_ngcontent-%COMP%]{color:var(--mc-400)}.task-item-header[_ngcontent-%COMP%]   .status-caption.processing[_ngcontent-%COMP%]{color:var(--warm-400)}.task-item-header[_ngcontent-%COMP%]   .status-caption.close[_ngcontent-%COMP%]{color:var(--tc-400)}.task-item-body[_ngcontent-%COMP%]{row-gap:.3rem;column-gap:.8rem;font-size:.9rem;color:var(--tc-700);margin:0 1rem}.task-item-body.SIMPLE[_ngcontent-%COMP%]{display:flex}.task-item-body.COMPOSITE[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/1fr}.task-item-body.COMPOSITE[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:3}.task-item-body.DETAILED[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/fit-content(50%) 1fr}.task-item-body.DETAILED[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:not(:last-child){display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2}.task-item-body.DETAILED[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:last-child{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:3;grid-area:2/1/3/3}.task-item-last-comment[_ngcontent-%COMP%]{display:flex;align-items:flex-start;padding:.4rem .8rem;gap:.5rem;font-size:.9rem;color:var(--tc-600);margin:0 1rem;border-radius:.8rem;background-color:var(--bgc-200)}.task-item-last-comment[_ngcontent-%COMP%] > .autor[_ngcontent-%COMP%]{color:var(--tc-500);white-space:nowrap}.task-item-last-comment[_ngcontent-%COMP%] > .comment[_ngcontent-%COMP%]{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2}.task-item-footer[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.with-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:-moz-fit-content;width:fit-content;height:min-content;font-size:.9rem;font-weight:600;color:var(--tc-600)}.with-label[_ngcontent-%COMP%] > .label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.2rem}.with-label[_ngcontent-%COMP%] > .value[_ngcontent-%COMP%]{margin-left:1.5rem;color:var(--tc-700)}"]}),en})()},1819:(mn,ht,b)=>{"use strict";b.d(ht,{g:()=>y});var e=b(5e3),a=b(9808),f=b(1874);const g=["menu"];function _(l,R){if(1&l){const L=e.EpF();e.TgZ(0,"span",4),e.NdJ("click",function(N){e.CHM(L);const w=e.oxw();return e.KtG(w.openContextMenu(N))}),e._uU(1," \u0412\u044b\u0431\u0440\u0430\u0442\u044c\n"),e.qZA()}}function P(l,R){if(1&l){const L=e.EpF();e.TgZ(0,"span",5),e.NdJ("click",function(N){e.CHM(L);const w=e.oxw();return e.KtG(w.openContextMenu(N))}),e._uU(1),e.qZA()}if(2&l){const L=e.oxw();e.Tol(L.classes+" highlight"),e.xp6(1),e.hij(" ",L.selectedField.label,"\n")}}let y=(()=>{class l{constructor(){this.selectView=new e.vpe}openContextMenu(L){this.fields=this.fields.map(J=>(J.command=()=>{this.selectedField=J,J.listViewIndex=this.index,this.selectView.emit({id:J.id,index:this.index})},J)),this.selectingField(),this.menu.toggle(L)}ngOnInit(){this.selectingField()}ngAfterViewInit(){}selectingField(){var L;null===(L=this.fields)||void 0===L||L.forEach(J=>{J.listViewIndex&&J.listViewIndex===this.index&&(this.selectedField=J)})}}return l.\u0275fac=function(L){return new(L||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-select-field-to-view-button"]],viewQuery:function(L,J){if(1&L&&e.Gf(g,5),2&L){let N;e.iGM(N=e.CRH())&&(J.menu=N.first)}},inputs:{classes:"classes",index:"index",fields:"fields"},outputs:{selectView:"selectView"},decls:4,vars:4,consts:[["class","caption highlight",3,"click",4,"ngIf"],[3,"class","click",4,"ngIf"],[3,"model","popup"],["menu",""],[1,"caption","highlight",3,"click"],[3,"click"]],template:function(L,J){1&L&&(e.YNc(0,_,2,0,"span",0),e.YNc(1,P,2,3,"span",1),e._UZ(2,"p-menu",2,3)),2&L&&(e.Q6J("ngIf",!J.selectedField),e.xp6(1),e.Q6J("ngIf",J.selectedField),e.xp6(1),e.Q6J("model",J.fields)("popup",!0))},dependencies:[a.O5,f.v2],styles:[".highlight[_ngcontent-%COMP%]{cursor:pointer;transition:color .2s ease-out}.highlight[_ngcontent-%COMP%]:hover{color:var(--mc-500)}"]}),l})()},6501:(mn,ht,b)=>{"use strict";b.d(ht,{g:()=>it});var e=b(5e3),a=b(8738),f=b(2382),g=b(4036),_=b(9783),P=b(3407),y=b(5315),l=b(1208),R=b(5132),L=b(446),J=b(6288),N=b(1110),w=b(7579),x=b(8372),D=b(3900),S=b(4782),U=b(1135),F=b(9808),ce=b(3640),te=b(2145);const V=["photoPreviewPanel"];function k(Dt,vt){1&Dt&&e.GkF(0)}const O=function(Dt){return{$implicit:Dt}};function $(Dt,vt){if(1&Dt&&e.YNc(0,k,1,0,"ng-container",9),2&Dt){const Gt=vt.$implicit;e.oxw();const Ht=e.MAs(5);e.Q6J("ngTemplateOutlet",Ht)("ngTemplateOutletContext",e.VKq(2,O,Gt))}}function ue(Dt,vt){1&Dt&&e.GkF(0)}function q(Dt,vt){if(1&Dt&&e.YNc(0,ue,1,0,"ng-container",9),2&Dt){const Gt=vt.$implicit;e.oxw();const Ht=e.MAs(7);e.Q6J("ngTemplateOutlet",Ht)("ngTemplateOutletContext",e.VKq(2,O,Gt))}}function Y(Dt,vt){1&Dt&&e.GkF(0)}function G(Dt,vt){if(1&Dt){const Gt=e.EpF();e.TgZ(0,"div",10),e.NdJ("mouseenter",function(Ut){const at=e.CHM(Gt).$implicit,fe=e.oxw();return e.KtG(fe.preview(at,Ut))})("mouseleave",function(){e.CHM(Gt);const Ut=e.oxw();return e.KtG(Ut.hidePreview())}),e.YNc(1,Y,1,0,"ng-container",9),e.TgZ(2,"span",11),e._uU(3),e.qZA()()}if(2&Dt){const Gt=vt.$implicit;e.oxw();const Ht=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",Ht)("ngTemplateOutletContext",e.VKq(3,O,Gt.type)),e.xp6(2),e.hij(" ",Gt.name," ")}}function he(Dt,vt){1&Dt&&e.GkF(0)}function j(Dt,vt){if(1&Dt&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&Dt){const Gt=e.oxw().$implicit;e.xp6(1),e.hij(" ",Gt.path," ")}}function Q(Dt,vt){if(1&Dt){const Gt=e.EpF();e.TgZ(0,"div",10),e.NdJ("mouseenter",function(Ut){const at=e.CHM(Gt).$implicit,fe=e.oxw();return e.KtG(fe.preview(at,Ut))})("mouseleave",function(){e.CHM(Gt);const Ut=e.oxw();return e.KtG(Ut.hidePreview())}),e.YNc(1,he,1,0,"ng-container",9),e.TgZ(2,"div",12),e.YNc(3,j,2,1,"span",13),e.TgZ(4,"span",11),e._uU(5),e.qZA()()()}if(2&Dt){const Gt=vt.$implicit;e.oxw();const Ht=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",Ht)("ngTemplateOutletContext",e.VKq(4,O,Gt.type)),e.xp6(2),e.Q6J("ngIf",Gt.path),e.xp6(2),e.hij(" ",Gt.name," ")}}function K(Dt,vt){1&Dt&&e._UZ(0,"span",20)}function z(Dt,vt){1&Dt&&e._UZ(0,"span",21)}function oe(Dt,vt){1&Dt&&e._UZ(0,"span",22)}function Te(Dt,vt){1&Dt&&e._UZ(0,"span",23)}function Ae(Dt,vt){1&Dt&&e._UZ(0,"span",24)}function Ke(Dt,vt){1&Dt&&(e.ynx(0,14),e.YNc(1,K,1,0,"span",15),e.YNc(2,z,1,0,"span",16),e.YNc(3,oe,1,0,"span",17),e.YNc(4,Te,1,0,"span",18),e.YNc(5,Ae,1,0,"span",19),e.BQk()),2&Dt&&(e.Q6J("ngSwitch",vt.$implicit),e.xp6(1),e.Q6J("ngSwitchCase","PHOTO"),e.xp6(1),e.Q6J("ngSwitchCase","VIDEO"),e.xp6(1),e.Q6J("ngSwitchCase","AUDIO"),e.xp6(1),e.Q6J("ngSwitchCase","DOCUMENT"))}const be=function(){return[]};let Qe=(()=>{class Dt{constructor(Gt){this.api=Gt,this.control=new f.NI([]),this.controlChange$=this.control.valueChanges,this.onChange=Ht=>{},this.onTouched=()=>{},this.isDisabled=!1,this.querySubject=new w.x,this.queryChange$=this.querySubject.pipe((0,x.b)(1e3)),this.suggestions$=this.queryChange$.pipe((0,D.w)(Ht=>this.api.getFilesSuggestions(Ht)),(0,S.d)(1)),this.previewVisibleSubject=new U.X(null),this.previewVisible$=this.previewVisibleSubject.pipe((0,x.b)(300)),this.previewUrl="",this.imageLoaded=!1}writeValue(Gt){this.control.setValue(Gt||[])}registerOnChange(Gt){this.onChange=Gt}registerOnTouched(Gt){this.onTouched=Gt}setDisabledState(Gt){this.isDisabled=Gt}ngOnInit(){this.previewSubscription=this.previewVisible$.subscribe(Gt=>{Gt?this.photoPreviewPanel.overlayVisible?(this.photoPreviewPanel.target=Gt.target,this.photoPreviewPanel.align()):this.photoPreviewPanel.show(Gt):this.photoPreviewPanel.hide()}),this.controlChangeSubscription=this.controlChange$.subscribe(Gt=>{this.onChange(null!=Gt?Gt:[])})}ngOnDestroy(){var Gt,Ht;null===(Gt=this.previewSubscription)||void 0===Gt||Gt.unsubscribe(),null===(Ht=this.controlChangeSubscription)||void 0===Ht||Ht.unsubscribe()}preview(Gt,Ht){"PHOTO"===Gt.type?(this.previewUrl="/api/private/file-thumbnail/"+Gt.id,this.imageLoaded=!1,this.previewVisibleSubject.next(Ht)):(this.previewUrl="",this.imageLoaded=!1,this.previewVisibleSubject.next(null))}hidePreview(){this.previewUrl="",this.imageLoaded=!1,this.previewVisibleSubject.next(null)}}return Dt.\u0275fac=function(Gt){return new(Gt||Dt)(e.Y36(a.s))},Dt.\u0275cmp=e.Xpm({type:Dt,selectors:[["app-server-documents-input"]],viewQuery:function(Gt,Ht){if(1&Gt&&e.Gf(V,5),2&Gt){let Ut;e.iGM(Ut=e.CRH())&&(Ht.photoPreviewPanel=Ut.first)}},features:[e._Bn([{provide:f.JU,useExisting:Dt,multi:!0}])],decls:13,vars:7,consts:[["placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u0430...","appendTo","body",3,"formControl","multiple","suggestions","completeMethod"],["pTemplate","selectedItem"],["pTemplate","item"],["documentTemplate",""],["suggestionTemplate",""],["fileIcon",""],["appendTo","body","styleClass","overlay-panel-unpadding"],["photoPreviewPanel",""],["alt","",1,"max-w-20rem","border-round","absolute",3,"src"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","gap-1","align-items-center","text-bluegray-500",3,"mouseenter","mouseleave"],[1,"text-sm"],[1,"flex"],["class","text-sm",4,"ngIf"],[3,"ngSwitch"],["class","mdi-image",4,"ngSwitchCase"],["class","mdi-videocam",4,"ngSwitchCase"],["class","mdi-audiotrack",4,"ngSwitchCase"],["class","mdi-picture_as_pdf",4,"ngSwitchCase"],["class","mdi-insert_drive_file",4,"ngSwitchDefault"],[1,"mdi-image"],[1,"mdi-videocam"],[1,"mdi-audiotrack"],[1,"mdi-picture_as_pdf"],[1,"mdi-insert_drive_file"]],template:function(Gt,Ht){if(1&Gt&&(e.TgZ(0,"p-autoComplete",0),e.NdJ("completeMethod",function(ct){return Ht.querySubject.next(ct.query)}),e.ALo(1,"async"),e.YNc(2,$,1,4,"ng-template",1),e.YNc(3,q,1,4,"ng-template",2),e.qZA(),e.YNc(4,G,4,5,"ng-template",2,3,e.W1O),e.YNc(6,Q,6,6,"ng-template",2,4,e.W1O),e.YNc(8,Ke,6,5,"ng-template",null,5,e.W1O),e.TgZ(10,"p-overlayPanel",6,7),e._UZ(12,"img",8),e.qZA()),2&Gt){let Ut;e.Q6J("formControl",Ht.control)("multiple",!0)("suggestions",null!==(Ut=e.lcZ(1,4,Ht.suggestions$))&&void 0!==Ut?Ut:e.DdM(6,be)),e.xp6(12),e.Q6J("src",Ht.previewUrl,e.LSH)}},dependencies:[F.O5,F.tP,F.RF,F.n9,F.ED,f.JJ,_.jx,ce.T,f.oH,te.Qc,F.Ov]}),Dt})();function X(Dt,vt){if(1&Dt&&(e.TgZ(0,"div",19),e._UZ(1,"app-employee-label",20),e.qZA()),2&Dt){const Gt=vt.$implicit;e.xp6(1),e.Q6J("employee",Gt)("size",1.9)}}const xe=function(){return{height:"40vh",maxHeight:"15rem"}},we=function(){return{minHeight:"8rem"}};function Oe(Dt,vt){if(1&Dt){const Gt=e.EpF();e.TgZ(0,"p-pickList",2),e.NdJ("onMoveAllToSource",function(){e.CHM(Gt);const Ut=e.oxw();return e.KtG(Ut.updateGangLeaders())})("onMoveAllToTarget",function(){e.CHM(Gt);const Ut=e.oxw();return e.KtG(Ut.updateGangLeaders())})("onMoveToSource",function(){e.CHM(Gt);const Ut=e.oxw();return e.KtG(Ut.updateGangLeaders())})("onMoveToTarget",function(){e.CHM(Gt);const Ut=e.oxw();return e.KtG(Ut.updateGangLeaders())}),e.YNc(1,X,2,2,"ng-template",3),e.qZA(),e.TgZ(2,"div",4)(3,"div",5)(4,"div",6),e._uU(5,"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0446\u0435\u043b\u044c (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)"),e.qZA(),e.TgZ(6,"textarea",7),e.NdJ("ngModelChange",function(Ut){e.CHM(Gt);const ct=e.oxw();return e.KtG(ct.targetDescription=Ut)})("paste",function(Ut){e.CHM(Gt);const ct=e.MAs(10);return e.KtG(ct.appendFiles(Ut))}),e.qZA()(),e.TgZ(7,"div",8)(8,"app-server-documents-input",9),e.NdJ("ngModelChange",function(Ut){e.CHM(Gt);const ct=e.oxw();return e.KtG(ct.serverFiles=Ut)}),e.qZA(),e.TgZ(9,"app-file-input",10,11),e.NdJ("filesChange",function(Ut){e.CHM(Gt);const ct=e.oxw();return e.KtG(ct.loadingFiles=Ut)}),e.qZA()()(),e.TgZ(11,"div",12)(12,"div",13)(13,"label"),e._uU(14,"\u0411\u0440\u0438\u0433\u0430\u0434\u0438\u0440"),e.qZA(),e.TgZ(15,"p-dropdown",14),e.NdJ("ngModelChange",function(Ut){e.CHM(Gt);const ct=e.oxw();return e.KtG(ct.gangLeader=Ut)}),e.qZA()(),e.TgZ(16,"div",15)(17,"span"),e._uU(18,"\u041e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0439 \u043e\u0442\u0447\u0435\u0442"),e.qZA(),e.TgZ(19,"p-checkbox",16),e.NdJ("ngModelChange",function(Ut){e.CHM(Gt);const ct=e.oxw();return e.KtG(ct.deferredReport=Ut)}),e.qZA()(),e.TgZ(20,"app-button",17),e.NdJ("onClick",function(){e.CHM(Gt);const Ut=e.oxw();return e.KtG(Ut.resetListAppointedInstallers())}),e.qZA(),e.TgZ(21,"app-button",18),e.NdJ("onClick",function(){e.CHM(Gt);const Ut=e.oxw();return e.KtG(Ut.sendListAppointedInstallers())}),e.qZA()()}if(2&Dt){const Gt=e.oxw();e.Q6J("dragdrop",!0)("showSourceControls",!1)("showTargetControls",!1)("sourceStyle",e.DdM(21,xe))("source",Gt.sourceInstallers)("targetStyle",e.DdM(22,xe))("target",Gt.targetInstallers),e.xp6(2),e.Akn(e.DdM(23,we)),e.xp6(4),e.Q6J("ngModel",Gt.targetDescription)("autoResize",!0)("rows",3),e.xp6(2),e.Q6J("ngModel",Gt.serverFiles),e.xp6(1),e.Q6J("files",Gt.loadingFiles),e.xp6(6),e.Q6J("ngModel",Gt.gangLeader)("options",Gt.gangLeaders),e.xp6(4),e.Q6J("ngModel",Gt.deferredReport)("binary",!0),e.xp6(1),e.Q6J("disabled",0===Gt.targetInstallers.length||Gt.appointmentRequested),e.xp6(1),e.Q6J("disabled",0===Gt.targetInstallers.length)("loading",Gt.appointmentRequested)}}const dt=function(){return{width:"50vw"}},bt=function(){return{"960px":"75vw","640px":"100vw"}};let it=(()=>{class Dt{constructor(Gt){this.api=Gt,this.visible=!1,this.visibleChange=new e.vpe,this.sourceInstallers=[],this.targetInstallers=[],this.targetDescription="",this.deferredReport=!1,this.gangLeaders=[{label:"\u0411\u0435\u0437 \u0431\u0440\u0438\u0433\u0430\u0434\u0438\u0440\u0430",value:null}],this.appointmentRequested=!1,this.loadingFiles=[],this.serverFiles=[]}ngOnInit(){}setVisible(Gt=!1){this.visible=Gt,this.visibleChange.emit(Gt)}loadAppointInstallers(){this.api.getInstallersEmployees().subscribe(Gt=>{this.sourceInstallers=Gt,this.targetInstallers=[]})}updateGangLeaders(){setTimeout(()=>{this.gangLeaders=this.targetInstallers.length>1?[{label:"\u0411\u0435\u0437 \u0431\u0440\u0438\u0433\u0430\u0434\u0438\u0440\u0430",value:null},...this.targetInstallers.map(Gt=>{var Ht;return{label:null!==(Ht=Gt.fullName)&&void 0!==Ht?Ht:Gt.login,value:Gt.login}})]:[{label:"\u0411\u0435\u0437 \u0431\u0440\u0438\u0433\u0430\u0434\u0438\u0440\u0430",value:null}]})}resetListAppointedInstallers(){this.sourceInstallers=[...this.sourceInstallers,...this.targetInstallers],this.targetInstallers=[]}clearAppointInstallers(){this.targetDescription="",this.targetInstallers=[],this.gangLeader=void 0,this.deferredReport=!1}sendListAppointedInstallers(){!this.taskId||(this.appointmentRequested=!0,this.api.assignInstallersToTask(this.taskId,{installers:this.targetInstallers,description:this.targetDescription,gangLeader:this.gangLeader,deferredReport:this.deferredReport,files:this.loadingFiles,serverFiles:this.serverFiles}).subscribe({next:()=>{this.appointmentRequested=!1,this.setVisible(!1)},error:()=>this.appointmentRequested=!1}))}}return Dt.\u0275fac=function(Gt){return new(Gt||Dt)(e.Y36(a.s))},Dt.\u0275cmp=e.Xpm({type:Dt,selectors:[["app-appoint-installers-dialog"]],inputs:{taskId:"taskId",visible:"visible"},outputs:{visibleChange:"visibleChange"},decls:2,vars:12,consts:[["appendTo","body","contentStyleClass","flex flex-column gap-3","header","\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432",3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","autoZIndex","baseZIndex","onHide","visibleChange","onShow"],["pTemplate","content"],["sourceHeader","\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435","targetHeader","\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044b\u0435",3,"dragdrop","showSourceControls","showTargetControls","sourceStyle","source","targetStyle","target","onMoveAllToSource","onMoveAllToTarget","onMoveToSource","onMoveToTarget"],["pTemplate","item"],[1,"flex","flex-column","gap-2"],[1,"flex","flex-column"],[1,"text-bluegray-500","text-sm"],["pInputTextarea","",1,"stretched",3,"ngModel","autoResize","rows","ngModelChange","paste"],[1,"flex","gap-2","align-items-center","justify-content-end"],[3,"ngModel","ngModelChange"],[3,"files","filesChange"],["fileInputComponent",""],[1,"flex","gap-3","align-items-end","justify-content-end"],[1,"input-label-wrapper"],["appendTo","body",3,"ngModel","options","ngModelChange"],[1,"flex","gap-2","text-bluegray-500","font-bold","align-items-center","h-3rem"],[3,"ngModel","binary","ngModelChange"],["icon","delete","label","\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c","model","p-button-text p-button-secondary",3,"disabled","onClick"],["icon","assignment","label","\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",3,"disabled","loading","onClick"],[1,"flex","align-items-center","gap-2"],[3,"employee","size"]],template:function(Gt,Ht){1&Gt&&(e.TgZ(0,"p-dialog",0),e.NdJ("onHide",function(){return Ht.clearAppointInstallers()})("visibleChange",function(ct){return Ht.visible=ct})("visibleChange",function(ct){return Ht.visibleChange.emit(ct)})("onShow",function(){return Ht.loadAppointInstallers()}),e.YNc(1,Oe,22,24,"ng-template",1),e.qZA()),2&Gt&&(e.Akn(e.DdM(10,dt)),e.Q6J("visible",Ht.visible)("breakpoints",e.DdM(11,bt))("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1)("autoZIndex",!1)("baseZIndex",2101))},dependencies:[f.Fj,f.JJ,f.On,g.Lt,_.jx,P.g,y.V,l.XZ,R.G,L.r,J.Y,N.x,Qe]}),Dt})()},1318:(mn,ht,b)=>{"use strict";b.d(ht,{s:()=>w});var e=b(5e3),a=b(2382),f=b(383),g=b(4280),_=b(8738),P=b(9808),y=b(5315),l=b(446),R=b(6502);function L(x,D){if(1&x&&e._UZ(0,"app-task-template-input",7),2&x){const S=D.$implicit;e.Q6J("field",S)("formControlName",S.modelItemId)}}const J=function(){return{width:"50vw",maxHeight:"70vh"}},N=function(){return{"960px":"75vw","640px":"100vw"}};let w=(()=>{class x{constructor(S){this.api=S,this.visible=!1,this.visibleChange=new e.vpe,this.editTaskForm=new a.cw({}),this.editBlocked=!1}setVisible(S){this.visible=S,this.visibleChange.emit(S)}get taskFields(){var S,U;return this.visible&&null!==(U=null===(S=this.task)||void 0===S?void 0:S.fields)&&void 0!==U?U:[]}ngOnInit(){}ngOnChanges(S){const U=S.task;U&&U.currentValue&&this.showEditTaskDialog()}doEditTask(){var S,U;if(null!==(S=this.task)&&void 0!==S&&S.modelWireframe){if(!this.editTaskForm.valid)return void this.editTaskForm.markAllAsTouched();this.editBlocked=!0,this.api.editTask(this.task.taskId,f.PU.editExisting(this.editTaskForm.getRawValue(),null!==(U=this.task.fields)&&void 0!==U?U:[])).subscribe({next:()=>{this.editBlocked=!1,this.setVisible(!1)},error:()=>{this.editBlocked=!1}})}}showEditTaskDialog(){var S;this.editTaskForm=new a.cw(null!==(S=this.task)&&void 0!==S&&S.fields?this.task.fields.reduce((U,F)=>Object.assign(Object.assign({},U),{[F.modelItemId]:new a.NI(f.cQ.getValueFromModelItem(F),g.d.taskInput(F.wireframeFieldType,F.variation))}),{}):{})}}return x.\u0275fac=function(S){return new(S||x)(e.Y36(_.s))},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-edit-task-dialog"]],inputs:{task:"task",visible:"visible"},outputs:{visibleChange:"visibleChange"},features:[e.TTD],decls:7,vars:15,consts:[["appendTo","body","header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435",3,"visible","breakpoints","autoZIndex","baseZIndex","dismissableMask","draggable","modal","resizable","visibleChange"],[1,"flex","flex-column","gap-3"],[1,"flex","flex-column","gap-2",3,"formGroup"],["class","flex-grow-1",3,"field","formControlName",4,"ngFor","ngForOf"],[1,"flex-grow-1"],[1,"flexed","vend","hcenter","sticky","bottom0"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","model","p-button-success",3,"loading","onClick"],[1,"flex-grow-1",3,"field","formControlName"]],template:function(S,U){1&S&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(ce){return U.visible=ce})("visibleChange",function(ce){return U.visibleChange.emit(ce)}),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,L,1,2,"app-task-template-input",3),e.qZA(),e._UZ(4,"div",4),e.TgZ(5,"div",5)(6,"app-button",6),e.NdJ("onClick",function(){return U.doEditTask()}),e.qZA()()()()),2&S&&(e.Akn(e.DdM(13,J)),e.Q6J("visible",U.visible)("breakpoints",e.DdM(14,N))("autoZIndex",!1)("baseZIndex",2101)("dismissableMask",!0)("draggable",!0)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("formGroup",U.editTaskForm),e.xp6(1),e.Q6J("ngForOf",U.taskFields),e.xp6(3),e.Q6J("loading",U.editBlocked))},dependencies:[P.sg,a.JJ,a.JL,y.V,a.sg,a.u,l.r,R.o]}),x})()},6083:(mn,ht,b)=>{"use strict";b.d(ht,{j:()=>L});var e=b(5e3),a=b(8738),f=b(845),g=b(2382),_=b(9783),P=b(3407),y=b(5315);function l(J,N){if(1&J){const w=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"label"),e._uU(3,"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f"),e.qZA(),e.TgZ(4,"textarea",4),e.NdJ("ngModelChange",function(D){e.CHM(w);const S=e.oxw();return e.KtG(S.reason=D)}),e.qZA()(),e.TgZ(5,"div",5)(6,"p-button",6),e.NdJ("onClick",function(){e.CHM(w);const D=e.oxw();return D.setVisible(!1),e.KtG(D.reason="")}),e.qZA(),e.TgZ(7,"p-button",7),e.NdJ("onClick",function(){e.CHM(w);const D=e.oxw();return e.KtG(D.forceCloseWorkLog())}),e.qZA()()()}if(2&J){const w=e.oxw();e.xp6(4),e.Q6J("ngModel",w.reason)("autoResize",!0)("rows",5),e.xp6(2),e.Q6J("disabled",w.requestRunning),e.xp6(1),e.Q6J("disabled",!w.reason)("loading",w.requestRunning)}}const R=function(){return{width:"50vw",minWidth:"fit-content"}};let L=(()=>{class J{constructor(w){this.api=w,this.visible=!1,this.visibleChange=new e.vpe,this.reason="",this.requestRunning=!1}ngOnInit(){}setVisible(w){this.visible=w,this.visibleChange.emit(w)}forceCloseWorkLog(){!this.taskId||this.api.forceCloseWorkLog(this.taskId,this.reason).subscribe({next:()=>{this.setVisible(!1),this.reason="",this.requestRunning=!1},error:()=>this.requestRunning=!1})}}return J.\u0275fac=function(w){return new(w||J)(e.Y36(a.s))},J.\u0275cmp=e.Xpm({type:J,selectors:[["app-force-close-dialog"]],inputs:{visible:"visible",taskId:"taskId"},outputs:{visibleChange:"visibleChange"},decls:2,vars:8,consts:[["header","\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u0436\u0443\u0440\u043d\u0430\u043b \u0440\u0430\u0431\u043e\u0442?","appendTo","body",3,"visible","dismissableMask","draggable","modal","resizable","visibleChange"],["pTemplate","content"],[1,"flexed","column","gap10"],[1,"input-label-wrapper"],["pInputTextarea","",1,"stretched",3,"ngModel","autoResize","rows","ngModelChange"],[1,"flexed","hcenter","vend","gap10"],["icon","mdi-close","label","\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-secondary p-button-text",3,"disabled","onClick"],["icon","mdi-check","label","\u0417\u0430\u043a\u0440\u044b\u0442\u044c","styleClass","p-button-danger",3,"disabled","loading","onClick"]],template:function(w,x){1&w&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(S){return x.visibleChange.emit(S)}),e.YNc(1,l,8,6,"ng-template",1),e.qZA()),2&w&&(e.Akn(e.DdM(7,R)),e.Q6J("visible",x.visible)("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1))},dependencies:[f.zx,g.Fj,g.JJ,g.On,_.jx,P.g,y.V]}),J})()},3435:(mn,ht,b)=>{"use strict";b.d(ht,{M:()=>R});var e=b(655),a=b(5e3),f=b(2382),g=b(5677),_=b(8675),P=b(8505),y=b(8738);function l(L,J){if(1&L){const N=a.EpF();a._UZ(0,"span")(1,"p-calendar",2)(2,"app-time-picker",3),a.TgZ(3,"app-button",4),a.NdJ("onClick",function(){a.CHM(N);const x=a.oxw();return a.KtG(x.setDateTimeOfTaskRelevance())}),a.ALo(4,"date"),a.qZA()}if(2&L){const N=a.oxw();a.xp6(1),a.Q6J("firstDayOfWeek",1)("formControl",N.dateControl)("inline",!0)("selectOtherMonths",!0),a.xp6(1),a.Q6J("formControl",N.dateTimeControl),a.xp6(1),a.Q6J("loading",N.changingTaskDateTime)("label",N.buttonLabel+a.xi3(4,7,N.dateTimeControl.value,"dd-MM-yyyy HH:mm"))}}let R=class{constructor(J){this.api=J,this.visible=!1,this.visibleChange=new a.vpe,this.schedulingType="from",this.dateControl=new f.NI(new Date),this.dateTimeControl=new f.NI(new Date),this.dateTimeUpdateSub=this.dateControl.valueChanges.pipe((0,_.O)(new Date),(0,P.b)(N=>{if(0===(null==N?void 0:N.getHours()))null==N||N.setHours(8,0,0,0);else{const w=((null==N?void 0:N.getMinutes())||0)%10;let x=(null==N?void 0:N.getHours())||0,D=(null==N?void 0:N.getMinutes())||0;w>0&&(D+=10-w),null==N||N.setHours(x+1,D,0,0)}})).subscribe(N=>this.dateTimeControl.setValue(N)),this.changingTaskDateTime=!1}get title(){return"from"===this.schedulingType?"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0440\u043e\u043a \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f"}get buttonLabel(){return"from"===this.schedulingType?"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c c ":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0440\u043e\u043a \u0434\u043e "}ngOnInit(){}setVisible(J){this.visible=J,this.visibleChange.emit(J)}setDateTimeOfTaskRelevance(){!this.taskId||null==this.dateControl.value||(this.changingTaskDateTime=!0,"from"===this.schedulingType?this.changeTaskActualFrom():"to"===this.schedulingType&&this.changeTaskActualTo())}resetDate(){this.dateControl.reset(new Date)}changeTaskActualFrom(){!this.taskId||null==this.dateTimeControl.value||this.api.changeTaskActualFrom(this.taskId,this.dateTimeControl.value).subscribe({next:()=>{this.changingTaskDateTime=!1,this.setVisible(!1)},error:()=>{this.changingTaskDateTime=!1}})}changeTaskActualTo(){!this.taskId||null==this.dateTimeControl.value||this.api.changeTaskActualTo(this.taskId,this.dateTimeControl.value).subscribe({next:()=>{this.changingTaskDateTime=!1,this.setVisible(!1)},error:()=>{this.changingTaskDateTime=!1}})}};R.\u0275fac=function(J){return new(J||R)(a.Y36(y.s))},R.\u0275cmp=a.Xpm({type:R,selectors:[["app-task-scheduling-dialog"]],inputs:{visible:"visible",schedulingType:"schedulingType",taskId:"taskId"},outputs:{visibleChange:"visibleChange"},decls:2,vars:6,consts:[["appendTo","body","contentStyleClass","flex flex-column gap-3 pt-1",3,"visible","dismissableMask","draggable","modal","resizable","header","visibleChange","onHide"],["pTemplate","content"],[1,"w-fit","align-self-center",3,"firstDayOfWeek","formControl","inline","selectOtherMonths"],[3,"formControl"],[3,"loading","label","onClick"]],template:function(J,N){1&J&&(a.TgZ(0,"p-dialog",0),a.NdJ("visibleChange",function(x){return N.visible=x})("visibleChange",function(x){return N.visibleChange.emit(x)})("onHide",function(){return N.resetDate()}),a.YNc(1,l,5,10,"ng-template",1),a.qZA()),2&J&&a.Q6J("visible",N.visible)("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1)("header",N.title)}}),R=(0,e.gn)([(0,g.kG)()],R)},3868:(mn,ht,b)=>{"use strict";b.d(ht,{C:()=>Y});var e=b(383),a=b(5e3),f=b(9783),g=b(9808),_=b(4119),P=b(8738);function y(G,he){1&G&&a.GkF(0)}function l(G,he){1&G&&a.GkF(0)}function R(G,he){if(1&G&&a.YNc(0,l,1,0,"ng-container",0),2&G){const j=a.oxw(),Q=a.MAs(4),K=a.MAs(6);a.Q6J("ngIf",j.phone)("ngIfThen",Q)("ngIfElse",K)}}function L(G,he){if(1&G){const j=a.EpF();a.TgZ(0,"span",5),a.NdJ("click",function(K){a.CHM(j);const z=a.oxw();return K.stopPropagation(),a.KtG(z.callToPhone())}),a._uU(1),a.qZA()}if(2&G){const j=a.oxw();a.xp6(1),a.hij(" ",j.phone," ")}}function J(G,he){1&G&&(a.TgZ(0,"span",6),a._uU(1," \u041d\u0435\u0442 \u043d\u043e\u043c\u0435\u0440\u0430 "),a.qZA())}function N(G,he){1&G&&(a.TgZ(0,"span",7),a._UZ(1,"span",8),a.TgZ(2,"span"),a._uU(3,"\u041d\u0430\u0431\u043e\u0440"),a.qZA()())}let w=(()=>{class G{constructor(j){this.api=j,this.isCalling=!1,this.dotAnimation=e.xn}ngOnInit(){}callToPhone(){this.phone&&(this.isCalling=!0,this.api.callToPhone(this.phone).subscribe({next:()=>{setTimeout(()=>{this.isCalling=!1},2e3)},error:()=>{this.isCalling=!1}}))}}return G.\u0275fac=function(j){return new(j||G)(a.Y36(P.s))},G.\u0275cmp=a.Xpm({type:G,selectors:[["app-dial-button"]],inputs:{phone:"phone"},decls:9,vars:3,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["phoneTemp",""],["fullNumber",""],["emptyNumber",""],["callingTemp",""],[1,"text-primary","font-semibold","cursor-pointer","hover:text-primary-700",3,"click"],[1,"text-bluegray-300","font-semibold"],[1,"text-green-500","font-semibold","flex","align-items-center","gap-1"],[1,"mdi-phone","phone"]],template:function(j,Q){if(1&j&&(a.YNc(0,y,1,0,"ng-container",0),a.YNc(1,R,1,3,"ng-template",null,1,a.W1O),a.YNc(3,L,2,1,"ng-template",null,2,a.W1O),a.YNc(5,J,2,0,"ng-template",null,3,a.W1O),a.YNc(7,N,4,0,"ng-template",null,4,a.W1O)),2&j){const K=a.MAs(2),z=a.MAs(8);a.Q6J("ngIf",Q.isCalling)("ngIfThen",z)("ngIfElse",K)}},dependencies:[g.O5],styles:[".phone[_ngcontent-%COMP%]{animation:callAnimate 2s ease 0s infinite normal forwards}@keyframes callAnimate{0%,to{transform:rotate(0);transform-origin:50% 50%}10%{transform:rotate(8deg)}20%,40%,60%{transform:rotate(-10deg)}30%,50%,70%{transform:rotate(10deg)}80%{transform:rotate(-8deg)}90%{transform:rotate(8deg)}}"]}),G})();function x(G,he){1&G&&a._UZ(0,"app-dial-button",2),2&G&&a.Q6J("phone",he.$implicit)}let D=(()=>{class G{constructor(){}get phones(){return this.phoneData?Object.values(this.phoneData):[]}ngOnInit(){}}return G.\u0275fac=function(j){return new(j||G)},G.\u0275cmp=a.Xpm({type:G,selectors:[["app-dial-buttons-list"]],inputs:{phoneData:"phoneData"},decls:2,vars:1,consts:[[1,"flex","flex-column"],[3,"phone",4,"ngFor","ngForOf"],[3,"phone"]],template:function(j,Q){1&j&&(a.TgZ(0,"div",0),a.YNc(1,x,1,1,"app-dial-button",1),a.qZA()),2&j&&(a.xp6(1),a.Q6J("ngForOf",Q.phones))},dependencies:[g.sg,w]}),G})();var S=b(3470);const U=function(G){return["/clients","billing","user",G]};let F=(()=>{class G{constructor(){}ngOnInit(){}}return G.\u0275fac=function(j){return new(j||G)},G.\u0275cmp=a.Xpm({type:G,selectors:[["app-billing-login"]],inputs:{loginData:"loginData"},decls:2,vars:4,consts:[[3,"routerLink","click"]],template:function(j,Q){1&j&&(a.TgZ(0,"a",0),a.NdJ("click",function(z){return z.stopPropagation()}),a._uU(1),a.qZA()),2&j&&(a.Q6J("routerLink",a.VKq(2,U,Q.loginData)),a.xp6(1),a.Oqu(Q.loginData))},dependencies:[S.yS]}),G})();function ce(G,he){if(1&G&&a._UZ(0,"app-billing-login",12),2&G){const j=a.oxw().$implicit;a.Q6J("loginData",j.stringData)}}function te(G,he){if(1&G&&(a.TgZ(0,"span",13),a._UZ(1,"app-dial-buttons-list",14),a.qZA()),2&G){const j=a.oxw().$implicit;a.xp6(1),a.Q6J("phoneData",j.phoneData)}}function V(G,he){if(1&G&&(a.TgZ(0,"span",15),a._uU(1),a.qZA()),2&G){const j=a.oxw().$implicit;a.xp6(1),a.hij(" ",j.textRepresentation," ")}}function k(G,he){if(1&G&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&G){const j=a.oxw().$implicit;a.xp6(1),a.Oqu(j.textRepresentation)}}function O(G,he){if(1&G){const j=a.EpF();a.TgZ(0,"div",4)(1,"span",5),a.NdJ("click",function(K){const oe=a.CHM(j).$implicit,Te=a.oxw(2);return K.stopPropagation(),a.KtG(Te.copyField(oe))}),a._uU(2),a.qZA(),a.TgZ(3,"span",6),a.ynx(4,7),a.YNc(5,ce,1,1,"app-billing-login",8),a.YNc(6,te,2,1,"span",9),a.YNc(7,V,2,1,"span",10),a.YNc(8,k,2,1,"span",11),a.BQk(),a.qZA()()}if(2&G){const j=he.$implicit;a.xp6(1),a.Q6J("pTooltip","\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c "+j.name),a.xp6(1),a.Oqu(j.name),a.xp6(2),a.Q6J("ngSwitch",j.wireframeFieldType),a.xp6(1),a.Q6J("ngSwitchCase","LOGIN"),a.xp6(1),a.Q6J("ngSwitchCase","PHONE_ARRAY"),a.xp6(1),a.Q6J("ngSwitchCase","ADDRESS")}}function $(G,he){if(1&G&&(a.ynx(0),a.TgZ(1,"div",2),a.YNc(2,O,9,6,"div",3),a.qZA(),a.BQk()),2&G){const j=a.oxw();a.xp6(2),a.Q6J("ngForOf",j.taskFields.inline)("ngForTrackBy",j.trackByField)}}function ue(G,he){if(1&G){const j=a.EpF();a.TgZ(0,"div",4)(1,"span",5),a.NdJ("click",function(K){const oe=a.CHM(j).$implicit,Te=a.oxw(2);return K.stopPropagation(),a.KtG(Te.copyField(oe))}),a._uU(2),a.qZA(),a.TgZ(3,"span",6)(4,"span"),a._uU(5),a.qZA()()()}if(2&G){const j=he.$implicit;a.xp6(1),a.Q6J("pTooltip","\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c "+j.name),a.xp6(1),a.Oqu(j.name),a.xp6(3),a.Oqu(null==j?null:j.textRepresentation)}}function q(G,he){if(1&G&&(a.ynx(0),a.TgZ(1,"div",16),a.YNc(2,ue,6,3,"div",3),a.qZA(),a.BQk()),2&G){const j=a.oxw();a.xp6(2),a.Q6J("ngForOf",j.taskFields.block)("ngForTrackBy",j.trackByField)}}let Y=(()=>{class G{constructor(j){this.toast=j,this.isTaskBody=!0}get taskFields(){var j,Q,K,z,oe;const{fields:Te,modelWireframe:Ae}=null!==(j=this.task)&&void 0!==j?j:{};if(!Te||!Ae)return{inline:[],block:[]};const Ke=["LARGE_TEXT","COUNTING_LIVES"],be=["LIST_ONLY","LIST_AND_TELEGRAM",null,void 0];return this.isTaskBody?{inline:null!==(Q=Te.filter(Qe=>!Ke.includes(Qe.wireframeFieldType)))&&void 0!==Q?Q:[],block:null!==(K=Te.filter(Qe=>Ke.includes(Qe.wireframeFieldType)))&&void 0!==K?K:[]}:{inline:null!==(z=Te.filter(Qe=>be.includes(this.getDisplayType(Qe.id))).filter(Qe=>!Ke.includes(Qe.wireframeFieldType)))&&void 0!==z?z:[],block:null!==(oe=Te.filter(Qe=>be.includes(this.getDisplayType(Qe.id))).filter(Qe=>Ke.includes(Qe.wireframeFieldType)))&&void 0!==oe?oe:[]}}getDisplayType(j){var Q,K,z,oe,Te;return null!==(Te=null===(oe=null===(z=null===(K=null===(Q=this.task)||void 0===Q?void 0:Q.modelWireframe)||void 0===K?void 0:K.allFields)||void 0===z?void 0:z.find(Ae=>Ae.id===j))||void 0===oe?void 0:oe.displayType)&&void 0!==Te?Te:null}trackByField(j,Q){return Q?Q.id+Q.name+Q.textRepresentation:""}ngOnInit(){}copyField(j){var Q;e.cQ.copyToClipboard(null!==(Q=j.textRepresentation)&&void 0!==Q?Q:"",this.toast,"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430","\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c "+j.name)}}return G.\u0275fac=function(j){return new(j||G)(a.Y36(f.ez))},G.\u0275cmp=a.Xpm({type:G,selectors:[["app-task-fields-table-view"]],inputs:{task:"task",isTaskBody:"isTaskBody"},decls:3,vars:2,consts:[[1,"p-3","flex","flex-column","gap-2"],[4,"ngIf"],[1,"flex","flex-wrap","gap-4"],["class","flex flex-column gap-1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-column","gap-1"],["tooltipPosition","bottom",1,"text-bluegray-500","font-bold","hover:text-primary","w-fit",3,"pTooltip","click"],[1,"text-bluegray-600","text-xl"],[3,"ngSwitch"],[3,"loginData",4,"ngSwitchCase"],["class","flex flex-column",4,"ngSwitchCase"],["class","font-bold",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"loginData"],[1,"flex","flex-column"],[3,"phoneData"],[1,"font-bold"],[1,"flex","flex-column","gap-2"]],template:function(j,Q){1&j&&(a.TgZ(0,"div",0),a.YNc(1,$,3,2,"ng-container",1),a.YNc(2,q,3,2,"ng-container",1),a.qZA()),2&j&&(a.xp6(1),a.Q6J("ngIf",Q.taskFields.inline.length>0),a.xp6(1),a.Q6J("ngIf",Q.taskFields.block.length>0))},dependencies:[g.sg,g.O5,g.RF,g.n9,g.ED,_.u,D,F]}),G})()},4280:(mn,ht,b)=>{"use strict";b.d(ht,{d:()=>a});var e=b(7384);class a{static taskInput(g,_){if("OPTIONAL"===_)return null;switch(g){case e._r.BOOLEAN:return P=>a.isValueEmpty(P.value)?{required:!0}:!0===P.value||!1===P.value?null:{required:!0};case e._r.IP:return P=>a.isValueEmpty(P.value)||"0.0.0.0"===P.value?{required:!0}:null;case e._r.AD_SOURCE:case e._r.FLOAT:case e._r.INTEGER:case e._r.LOGIN:case e._r.LARGE_TEXT:case e._r.CONNECTION_TYPE:case e._r.COUNTING_LIVES:case e._r.REQUEST_INITIATOR:case e._r.SMALL_TEXT:return P=>a.isValueEmpty(P.value)?{required:!0}:null;case e._r.CONNECTION_SERVICES:case e._r.EQUIPMENTS:return P=>a.isValueEmpty(P.value)?{required:!0}:Array.isArray(P.value)&&0!==P.value.length?null:{required:!0};case e._r.PHONE_ARRAY:return P=>a.isValueEmpty(P.value)||Array.isArray(P.value)&&0===P.value.length||Object.keys(P.value).some(y=>!a.isValidUUID(y))||Object.values(P.value).some(y=>!a.isValidPhone(y))?{required:!0}:null;case e._r.ADDRESS:return P=>{var y,l,R,L,J,N;const w=P.value;if(a.isValueEmpty(w))return{required:!0};switch(_){case"APARTMENT_ONLY":if(a.isValueEmpty(null===(y=w.city)||void 0===y?void 0:y.cityId)||a.isValueEmpty(null===(l=w.street)||void 0===l?void 0:l.streetId)||a.isValueEmpty(w.houseNum)||a.isValueEmpty(w.apartmentNum))return{required:!0};break;case"HOUSE_ONLY":if(a.isValueEmpty(null===(R=w.city)||void 0===R?void 0:R.cityId)||a.isValueEmpty(null===(L=w.street)||void 0===L?void 0:L.streetId)||a.isValueEmpty(w.houseNum))return{required:!0};break;case"ALL":if(a.isValueEmpty(null===(J=w.city)||void 0===J?void 0:J.cityId)||a.isValueEmpty(null===(N=w.street)||void 0===N?void 0:N.streetId)||a.isValueEmpty(w.houseNum)||a.isValueEmpty(w.entrance)||a.isValueEmpty(w.floor)||a.isValueEmpty(w.apartmentNum))return{required:!0};break;default:return null}return null};case e._r.PASSPORT_DETAILS:return P=>{const y=P.value;return y?a.isValueEmpty(y.passportSeries)||a.isValueEmpty(y.passportNumber)||a.isValueEmpty(y.passportIssuedBy)||a.isValueEmpty(y.passportIssuedDate)?{required:!0}:null:{required:!0}};default:return P=>a.isValueEmpty(P.value)?{required:!0}:null}}static notEmpty(g){return a.isValueEmpty(g.value)||Array.isArray(g.value)&&0===g.value.length?{required:!0}:null}static isValueEmpty(g){return null==g||""===g}static isValidUUID(g){return"string"==typeof g&&/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(g)}static isValidPhone(g){return"string"==typeof g&&/^8 \(\d{3}\) \d{3}-\d{2}-\d{2}$/.test(g)}static typeIsSwitchWithAddress(){return g=>!g||"commutator"in g.value&&g.value.commutator?null:{typized:!0}}}},5677:(mn,ht,b)=>{"use strict";b.d(ht,{GU:()=>L,Hw:()=>R,_P:()=>l,bQ:()=>J,kG:()=>N,v4:()=>y});var e=b(7579),a=b(4968),f=b(9300),g=b(4004),_=b(1884),P=b(727);function y(w,x){return function(D,S){const U=D.ngAfterViewInit?D.ngAfterViewInit:()=>{},F=D.ngOnDestroy?D.ngOnDestroy:()=>{},ce=new e.x;let te;Object.defineProperty(D,S,{value:ce.asObservable()}),D.ngAfterViewInit=function(){const V=document.getElementById(w);if(!V)throw new Error(`Element with id ${w} not found`);te=(0,a.R)(V,x).subscribe(ce),U.apply(this,arguments)},D.ngOnDestroy=function(){null==te||te.unsubscribe(),F.apply(this,arguments)}}}function l(w){return function(x,D,S){const U=x.ngAfterViewInit?x.ngAfterViewInit:()=>{};x.ngAfterViewInit=function(){const F=document.getElementById(w);F&&S.value.call(this,F),U.apply(this,arguments)}}}function R(w){return function(x,D){const S=x.ngAfterViewInit?x.ngAfterViewInit:()=>{};x.ngAfterViewInit=function(){this.route.params.pipe((0,f.h)(U=>void 0!==U[w||D]),(0,g.U)(U=>U[w||D]),(0,_.x)()).subscribe(this[D]),S.apply(this,arguments)}}}function L(w){return function(x,D,S){const U=x.ngOnChanges?x.ngOnChanges:()=>{};x.ngOnChanges=function(F){F[w]&&S.value.call(this,F[w].currentValue),U.apply(this,arguments)}}}function J(w){return function(x,D){const S=x.ngOnChanges?x.ngOnChanges:()=>{};x.ngOnChanges=function(U){U[w]&&this[D].next(U[w].currentValue),S.apply(this,arguments)}}}function N(){return function(w){const x=w.prototype.ngOnDestroy?w.prototype.ngOnDestroy:()=>{};w.prototype.ngOnDestroy=function(){for(let D in this)this[D]instanceof P.w0&&this[D].unsubscribe();x.apply(this,arguments)}}}},3460:(mn,ht,b)=>{"use strict";b.d(ht,{j:()=>a});var e=b(5e3);let a=(()=>{class f{constructor(){this.isVisible=!1}onScrollEvent(_){this.isVisible&&this.alignFn&&this.alignFn()}}return f.\u0275fac=function(_){return new(_||f)},f.\u0275dir=e.lG2({type:f,selectors:[["","appCloseIfScroll",""]],hostBindings:function(_,P){1&_&&e.NdJ("scroll",function(l){return P.onScrollEvent(l)},!1,e.Jf7)},inputs:{isVisible:"isVisible",alignFn:"alignFn"}}),f})()},1886:(mn,ht,b)=>{"use strict";b.d(ht,{k:()=>a});var e=b(5e3);let a=(()=>{class f{constructor(){}letterChange(_){!_.ctrlKey&&this.patternRx&&!new RegExp(this.patternRx).test(_.target.value+_.key)&&!["Enter","Space","Tab","Backspace"].some(l=>l===_.key)&&_.preventDefault()}}return f.\u0275fac=function(_){return new(_||f)},f.\u0275dir=e.lG2({type:f,selectors:[["","appRegexPatternChecker",""]],hostBindings:function(_,P){1&_&&e.NdJ("keydown",function(l){return P.letterChange(l)})},inputs:{patternRx:"patternRx"}}),f})()},2716:(mn,ht,b)=>{"use strict";b.d(ht,{J:()=>y});var e=b(2777),a=b(1110),f=b(7805),g=b(7092),_=b(6890),P=b(5e3);let y=(()=>{class l{constructor(L,J,N){this.element=L,this.viewContainerRef=J,this.componentFactoryResolver=N,this.arrayOfSubstitutions=[],this.loaded=!1}set value(L){!this.loaded||(this.findTagsAndReplaceToPlaceholders(),this.replacePlaceholdersToComponents())}ngAfterViewInit(){this.findTagsAndReplaceToPlaceholders(),this.replacePlaceholdersToComponents(),this.loaded=!0}ngOnInit(){}findTagsAndReplaceToPlaceholders(){const L=this.element.nativeElement;L.innerHTML=L.innerHTML.replaceAll(/\B#(\d+)/g,(S,U)=>(this.arrayOfSubstitutions.push({data:parseInt(U),type:"task"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i> `)),L.innerHTML=L.innerHTML.replaceAll(/\B@([A-z\d.\-_]+)/g,(S,U)=>(this.arrayOfSubstitutions.push({data:U,type:"employee"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i> `)),L.innerHTML=L.innerHTML.replaceAll(/\B\$(\d+)/g,(S,U)=>(this.arrayOfSubstitutions.push({data:parseInt(U),type:"department"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i> `)),L.innerHTML=L.innerHTML.replaceAll(/\B\^\((\d+)\)/g,(S,U)=>(this.arrayOfSubstitutions.push({data:parseInt(U),type:"appointedInstallers"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i>`)),L.innerHTML=L.innerHTML.replaceAll(/#CHAT\((\d+)\)/g,(S,U)=>(this.arrayOfSubstitutions.push({data:parseInt(U),type:"chat"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i>`))}replacePlaceholdersToComponents(){this.arrayOfSubstitutions.forEach((L,J)=>{const w=this.element.nativeElement.querySelector(`#replace${J}`);switch(L.type){case"task":w.replaceWith(e.U.createElement(parseInt(L.data)));break;case"employee":w.replaceWith(a.x.createElement(L.data,!0));break;case"department":w.replaceWith(f.y.createElement(L.data,!0));break;case"appointedInstallers":w.replaceWith(g._.createElement(L.data));break;case"chat":w.replaceWith(_.K.createElement(L.data))}})}}return l.\u0275fac=function(L){return new(L||l)(P.Y36(P.SBq),P.Y36(P.s_b),P.Y36(P._Vd))},l.\u0275dir=P.lG2({type:l,selectors:[["","appTextRevival",""]],inputs:{value:"value"}}),l})()},7514:(mn,ht,b)=>{"use strict";b.d(ht,{x:()=>w});var e=b(7445),a=b(2529),f=b(8505),g=b(2035),_=b(9646),P=b(4326),y=b(4482),l=b(5403),L=b(3900),J=b(599),N=b(5e3);let w=(()=>{class x{constructor(S){this.elementRef=S}ngOnInit(){const S=this.elementRef.nativeElement,U=(0,e.F)(60).pipe((0,a.o)(()=>S.scrollWidth>S.scrollLeft+S.clientWidth),(0,f.b)(()=>{let F=Math.floor((S.scrollWidth-S.clientWidth)/55);F<1&&(F=1),S.scrollBy({left:F})}),(0,g.h)(1));this.subscription=(0,_.of)(null).pipe((0,P.g)(1e3),function R(x){return(0,y.e)((D,S)=>{let U=!1,F=0;D.subscribe(new l.Q(S,ce=>(U||(U=!x(ce,F++)))&&S.next(ce)))})}(()=>S.scrollWidth<=S.clientWidth),(0,L.w)(()=>U),(0,P.g)(1e3),(0,f.b)(()=>S.scrollTo({left:0})),(0,J.r)()).subscribe()}ngOnDestroy(){var S;null===(S=this.subscription)||void 0===S||S.unsubscribe()}}return x.\u0275fac=function(S){return new(S||x)(N.Y36(N.SBq))},x.\u0275dir=N.lG2({type:x,selectors:[["","appTicker",""]]}),x})()},5107:(mn,ht,b)=>{"use strict";b.d(ht,{a:()=>y});var e=b(3470),a=b(262),f=b(9646),g=b(4004),_=b(5e3),P=b(8738);let y=(()=>{class l{constructor(L,J){this.api=L,this.router=J}canActivate(L,J){return this.api.authCheckout().pipe((0,a.K)((N,w)=>(0,f.of)(this.router.createUrlTree(["/login"]))),(0,g.U)(N=>!(N instanceof e.lo)||N))}canActivateChild(L,J){return this.api.authCheckout().pipe((0,a.K)((N,w)=>(0,f.of)(this.router.createUrlTree(["/login"]))),(0,g.U)(N=>!(N instanceof e.lo)||N))}}return l.\u0275fac=function(L){return new(L||l)(_.LFG(P.s),_.LFG(e.F0))},l.\u0275prov=_.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},1923:(mn,ht,b)=>{"use strict";b.d(ht,{U:()=>Tc});var e=b(9808),a=b(9706),f=b(5072),g=b(446),_=b(4304),P=b(655),y=b(5677),l=b(5e3),R=b(3470);const L=["titleElem"],J=["wrapperElem"],N=["childElem"];function w(Pe,Qt){if(1&Pe&&l._UZ(0,"app-colored-tag",9),2&Pe){const ie=l.oxw();l.Q6J("caption",ie.badge)}}const x=function(Pe){return{rotated:Pe}};function D(Pe,Qt){if(1&Pe&&(l.TgZ(0,"span",10),l._uU(1,"expand_more"),l.qZA()),2&Pe){const ie=l.oxw();l.Q6J("ngClass",l.VKq(1,x,ie._isExtended))}}function S(Pe,Qt){if(1&Pe&&l._UZ(0,"app-sub-extended-menu-item",11),2&Pe){const ie=Qt.$implicit;l.Q6J("caption",ie.label)("children",ie.children)("isExtended",ie.extended)("link",ie.link)("nLevel",ie.nestingLevel)}}const U=function(Pe){return{exact:Pe}};class F{constructor(Qt){this.route=Qt,this.extendable=!1,this.icon="",this.caption="",this.elements=[],this.exact=!1,this._isExtended=!1,this.contextOptions=[]}set isExtended(Qt){this.extendable&&(this._isExtended=Qt,this.extending())}linkChanged(Qt){this.contextOptions=Qt&&Qt.length>0?[{label:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0432 \u043d\u043e\u0432\u043e\u0439 \u0432\u043a\u043b\u0430\u0434\u043a\u0435",icon:"mdi-open_in_new",command:()=>window.open(Qt.join("/"),"_blank")},{label:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0432 \u043d\u043e\u0432\u043e\u043c \u043e\u043a\u043d\u0435",icon:"mdi-web_asset",command:()=>window.open(Qt.join("/"),"_blank","popup")}]:[]}ngAfterViewInit(){this.extendable&&this.extending()}ngOnInit(){}toggle(){!this.hasChild()||(this.isExtended=!this._isExtended)}hasChild(){return this.elements&&this.elements.length>0}extending(){!this.wrapperElem||!this.titleElem||(this._isExtended?(this.wrapperElem.nativeElement.style.height=this.wrapperElem.nativeElement.scrollHeight+"px",this.animationTimer=setTimeout(()=>{this._isExtended&&(this.wrapperElem.nativeElement.style.height="auto"),this.animationTimer=void 0},200)):(this.animationTimer&&clearTimeout(this.animationTimer),this.wrapperElem.nativeElement.style.height=this.wrapperElem.nativeElement.scrollHeight+"px",setTimeout(()=>{this.wrapperElem.nativeElement.style.height=this.titleElem.nativeElement.offsetHeight+"px"})))}}F.\u0275fac=function(Qt){return new(Qt||F)(l.Y36(R.gz))},F.\u0275cmp=l.Xpm({type:F,selectors:[["app-extended-menu-item"]],viewQuery:function(Qt,ie){if(1&Qt&&(l.Gf(L,5),l.Gf(J,5),l.Gf(N,5)),2&Qt){let tt;l.iGM(tt=l.CRH())&&(ie.titleElem=tt.first),l.iGM(tt=l.CRH())&&(ie.wrapperElem=tt.first),l.iGM(tt=l.CRH())&&(ie.childElem=tt.first)}},inputs:{extendable:"extendable",icon:"icon",caption:"caption",elements:"elements",link:"link",badge:"badge",exact:"exact",isExtended:"isExtended"},decls:11,vars:12,consts:[[1,"flexed","column","wrapper"],["wrapperElem",""],["routerLinkActive","active",1,"title","flexed","gap6","hcenter",3,"routerLink","routerLinkActiveOptions","click"],["titleElem",""],[1,"stretched"],["color","var(--mc-500)",3,"caption",4,"ngIf"],["class","material-icons-round title-expanded-icon",3,"ngClass",4,"ngIf"],[3,"caption","children","isExtended","link","nLevel",4,"ngFor","ngForOf"],["appendTo","body",3,"model","target"],["color","var(--mc-500)",3,"caption"],[1,"material-icons-round","title-expanded-icon",3,"ngClass"],[3,"caption","children","isExtended","link","nLevel"]],template:function(Qt,ie){if(1&Qt&&(l.TgZ(0,"div",0,1)(2,"div",2,3),l.NdJ("click",function(){return ie.toggle()}),l._UZ(4,"span"),l._uU(5),l._UZ(6,"div",4),l.YNc(7,w,1,1,"app-colored-tag",5),l.YNc(8,D,2,3,"span",6),l.qZA(),l.YNc(9,S,1,5,"app-sub-extended-menu-item",7),l.qZA(),l._UZ(10,"p-contextMenu",8)),2&Qt){const tt=l.MAs(1);l.xp6(2),l.Q6J("routerLink",ie.link)("routerLinkActiveOptions",l.VKq(10,U,ie.exact)),l.xp6(2),l.Tol(ie.icon),l.xp6(1),l.hij(" ",ie.caption," "),l.xp6(2),l.Q6J("ngIf",ie.badge),l.xp6(1),l.Q6J("ngIf",ie.hasChild()),l.xp6(1),l.Q6J("ngForOf",ie.elements),l.xp6(1),l.Q6J("model",ie.contextOptions)("target",tt)}},styles:[".wrapper[_ngcontent-%COMP%]{overflow:hidden;transition:height .2s ease-out;border-radius:.5rem}.title[_ngcontent-%COMP%]{padding:.7rem;font-size:1.2rem;color:var(--tc-700);cursor:pointer;-webkit-user-select:none;user-select:none;transition:color .15s ease-out,background-color .15s ease-out;outline:none}.title.active[_ngcontent-%COMP%]{color:var(--mc-0);background-color:var(--mc-500);cursor:default}.title[_ngcontent-%COMP%]:not(.active):hover{color:var(--mc-500)}.title[_ngcontent-%COMP%]:not(.active):active{color:var(--mc-500);background-color:var(--mc-0)}.title-icon[_ngcontent-%COMP%]{font-size:1.5rem}.title-expanded-icon[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(1,-.6,0,1.65)}.title-expanded-icon.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}"]}),(0,P.gn)([(0,y.GU)("link")],F.prototype,"linkChanged",null);const ce=["parentWrapper"],te=["titleElement"],V=function(Pe){return{rotated:Pe}};function k(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"span",8),l.NdJ("click",function(){l.CHM(ie);const on=l.oxw();return l.KtG(on.toggleExtend())}),l._uU(1,"expand_more"),l.qZA()}if(2&Pe){const ie=l.oxw();l.Q6J("ngClass",l.VKq(1,V,ie._isExtended))}}function O(Pe,Qt){if(1&Pe&&l._UZ(0,"app-sub-extended-menu-item",9),2&Pe){const ie=Qt.$implicit;let tt;l.Q6J("caption",ie.label)("link",ie.link)("children",ie.children)("nLevel",(null!==(tt=ie.nestingLevel)&&void 0!==tt?tt:0)+1)}}const $=function(Pe){return{"can-extend":Pe}},ue=function(Pe){return{show:Pe}},q=function(){return[]};let Y=(()=>{class Pe{constructor(ie){this.route=ie,this.caption="",this._isExtended=!1}set isExtended(ie){this._isExtended=ie,this.extending()}ngOnInit(){}ngAfterViewInit(){!this.hasElements()||this.extending()}toggleExtend(){!this.hasElements()||(this.isExtended=!this._isExtended)}extending(){var ie;null===(ie=this.parentWrapper)||void 0===ie||!ie.nativeElement||(this._isExtended?(this.parentWrapper.nativeElement.style.height=this.parentWrapper.nativeElement.scrollHeight+"px",this.animationTimer=setTimeout(()=>{this._isExtended&&(this.parentWrapper.nativeElement.style.height="auto"),this.animationTimer=void 0},200)):(this.animationTimer&&clearTimeout(this.animationTimer),this.parentWrapper.nativeElement.style.height=this.parentWrapper.nativeElement.scrollHeight+"px",setTimeout(()=>{this.parentWrapper.nativeElement.style.height=this.titleElement.nativeElement.offsetHeight+"px"})))}hasElements(){return this.parentWrapper&&this.titleElement}}return Pe.\u0275fac=function(ie){return new(ie||Pe)(l.Y36(R.gz))},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["app-sub-extended-menu-item"]],viewQuery:function(ie,tt){if(1&ie&&(l.Gf(ce,5),l.Gf(te,5)),2&ie){let on;l.iGM(on=l.CRH())&&(tt.parentWrapper=on.first),l.iGM(on=l.CRH())&&(tt.titleElement=on.first)}},inputs:{caption:"caption",link:"link",children:"children",nLevel:"nLevel",isExtended:"isExtended"},decls:9,vars:11,consts:[[1,"parent-wrapper"],["parentWrapper",""],[1,"flexed","title",3,"ngClass"],["class","material-icons-round title-expanded-icon",3,"ngClass","click",4,"ngIf"],["routerLinkActive","active",1,"item",3,"routerLink"],["titleElement",""],[1,"child-wrapper",3,"ngClass"],[3,"caption","link","children","nLevel",4,"ngFor","ngForOf"],[1,"material-icons-round","title-expanded-icon",3,"ngClass","click"],[3,"caption","link","children","nLevel"]],template:function(ie,tt){if(1&ie&&(l.TgZ(0,"div",0,1)(2,"div",2),l.YNc(3,k,2,3,"span",3),l.TgZ(4,"div",4,5),l._uU(6),l.qZA()(),l.TgZ(7,"div",6),l.YNc(8,O,1,4,"app-sub-extended-menu-item",7),l.qZA()()),2&ie){let on;l.xp6(2),l.Q6J("ngClass",l.VKq(6,$,tt.children)),l.xp6(1),l.Q6J("ngIf",tt.children),l.xp6(1),l.Q6J("routerLink",tt.link),l.xp6(2),l.hij(" ",tt.caption," "),l.xp6(1),l.Q6J("ngClass",l.VKq(8,ue,tt._isExtended)),l.xp6(1),l.Q6J("ngForOf",null!==(on=tt.children)&&void 0!==on?on:l.DdM(10,q))}},dependencies:[e.mk,e.sg,e.O5,R.rH,R.Od,Pe],styles:[".item[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--tc-500);padding:.2rem 0;transition:color .2s ease-out;cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center}.item.active[_ngcontent-%COMP%]{color:var(--mc-500)}.item.can-extend[_ngcontent-%COMP%]{transform:translate(-.8rem)}.title-expanded-icon[_ngcontent-%COMP%]{color:var(--bgc-400);cursor:pointer;-webkit-user-select:none;user-select:none;transition:transform .3s cubic-bezier(1,-.6,0,1.65),color .2s ease-out;transform:rotate(270deg)}.title-expanded-icon.rotated[_ngcontent-%COMP%]{transform:rotate(0);color:var(--mc-500)}.title-expanded-icon[_ngcontent-%COMP%]:hover{color:var(--bgc-600)}.item[_ngcontent-%COMP%]:hover{color:var(--tc-700)}.parent-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:2rem;overflow:hidden;padding-left:1.5rem;transition:height .2s ease-out}.child-wrapper[_ngcontent-%COMP%]{padding-left:2rem;opacity:0;transition:opacity .3s ease-out}.child-wrapper.show[_ngcontent-%COMP%]{opacity:1}"]}),Pe})();var G=b(6502),he=b(5948),j=b(4e3),Q=b(3064),K=b(6198),z=b(9936);function oe(Pe,Qt){1&Pe&&l.GkF(0)}function Te(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",4),l.NdJ("click",function(on){l.CHM(ie);const En=l.oxw();return l.KtG(En.hide(on))}),l.YNc(1,oe,1,0,"ng-container",5),l.qZA()}if(2&Pe){l.oxw();const ie=l.MAs(2);l.xp6(1),l.Q6J("ngTemplateOutlet",ie)}}function Ae(Pe,Qt){1&Pe&&(l.TgZ(0,"div",13),l._UZ(1,"p-progressSpinner",14),l.qZA())}function Ke(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",15),l.NdJ("mouseenter",function(){l.CHM(ie);const on=l.oxw(3);return l.KtG(on.showNavigation="unfade")})("mouseleave",function(){l.CHM(ie);const on=l.oxw(3);return l.KtG(on.showNavigation="fade")}),l.TgZ(1,"div",16),l.NdJ("click",function(){l.CHM(ie);const on=l.oxw(3);return l.KtG(on.goPrev())}),l.TgZ(2,"span",17),l._uU(3,"arrow_back_ios"),l.qZA()(),l.TgZ(4,"div",18),l._uU(5),l.qZA(),l.TgZ(6,"div",19),l.NdJ("click",function(){l.CHM(ie);const on=l.oxw(3);return l.KtG(on.goNext())}),l.TgZ(7,"span",17),l._uU(8,"arrow_forward_ios"),l.qZA()()()}if(2&Pe){const ie=l.oxw(3);l.xp6(1),l.Q6J("@fadeAlt",ie.showNavigation),l.xp6(3),l.Q6J("@fadeFullAlt",ie.showNavigation),l.xp6(1),l.AsE(" ",ie.albumIndex+1," / ",ie.mediaAlbum.length," "),l.xp6(1),l.Q6J("@fadeAlt",ie.showNavigation)}}function be(Pe,Qt){1&Pe&&l._UZ(0,"ng-component")}function Qe(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",9),l.YNc(1,Ae,2,0,"div",10),l.TgZ(2,"img",11),l.NdJ("error",function(on){l.CHM(ie);const En=l.oxw(2);return l.KtG(En.imageLoadError(on))})("load",function(on){l.CHM(ie);const En=l.oxw(2);return l.KtG(En.imageLoad(on))}),l.qZA(),l.YNc(3,Ke,9,5,"div",12),l.YNc(4,be,1,0,"ng-component",5),l.qZA()}if(2&Pe){const ie=l.oxw(2),tt=l.MAs(4);l.xp6(1),l.Q6J("ngIf",ie.imageLoadingIndicator),l.xp6(1),l.Q6J("src",ie.url,l.LSH),l.xp6(1),l.Q6J("ngIf",ie.mediaAlbum&&ie.mediaAlbum.length>1),l.xp6(1),l.Q6J("ngTemplateOutlet",tt)}}function X(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",24)(1,"div",25),l.NdJ("click",function(){l.CHM(ie);const on=l.oxw(3);return l.KtG(on.goPrev())}),l.TgZ(2,"span",17),l._uU(3,"arrow_back_ios"),l.qZA()(),l.TgZ(4,"div",26),l._uU(5),l.qZA(),l.TgZ(6,"div",27),l.NdJ("click",function(){l.CHM(ie);const on=l.oxw(3);return l.KtG(on.goNext())}),l.TgZ(7,"span",17),l._uU(8,"arrow_forward_ios"),l.qZA()()()}if(2&Pe){const ie=l.oxw(3);l.xp6(5),l.AsE(" ",ie.albumIndex+1," / ",ie.mediaAlbum.length," ")}}function xe(Pe,Qt){1&Pe&&l._UZ(0,"ng-component")}const we=function(Pe){return{"controls-out":Pe}};function Oe(Pe,Qt){if(1&Pe&&(l.TgZ(0,"div",20)(1,"div",21),l._UZ(2,"video",22),l.YNc(3,X,9,2,"div",23),l.qZA(),l.YNc(4,xe,1,0,"ng-component",5),l.qZA()),2&Pe){const ie=l.oxw(2),tt=l.MAs(4);l.xp6(2),l.Q6J("ngClass",l.VKq(5,we,!(ie.mediaAlbum&&ie.mediaAlbum.length>1)))("controls",!0)("src",ie.url,l.LSH),l.xp6(1),l.Q6J("ngIf",ie.mediaAlbum&&ie.mediaAlbum.length>1),l.xp6(1),l.Q6J("ngTemplateOutlet",tt)}}function dt(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",31)(1,"div",32),l.NdJ("click",function(){l.CHM(ie);const on=l.oxw(3);return l.KtG(on.goPrev())}),l.TgZ(2,"span",17),l._uU(3,"arrow_back_ios"),l.qZA()(),l.TgZ(4,"div",33),l._uU(5),l.qZA(),l.TgZ(6,"div",34),l.NdJ("click",function(){l.CHM(ie);const on=l.oxw(3);return l.KtG(on.goNext())}),l.TgZ(7,"span",17),l._uU(8,"arrow_forward_ios"),l.qZA()()()}if(2&Pe){const ie=l.oxw(3);l.xp6(5),l.AsE(" ",ie.albumIndex+1," / ",ie.mediaAlbum.length," ")}}function bt(Pe,Qt){1&Pe&&l._UZ(0,"ng-component")}function it(Pe,Qt){if(1&Pe&&(l.TgZ(0,"div",28),l._UZ(1,"audio",29),l.YNc(2,dt,9,2,"div",30),l.YNc(3,bt,1,0,"ng-component",5),l.qZA()),2&Pe){const ie=l.oxw(2),tt=l.MAs(4);l.xp6(1),l.Q6J("controls",!0)("src",ie.url,l.LSH),l.xp6(1),l.Q6J("ngIf",ie.mediaAlbum&&ie.mediaAlbum.length>1),l.xp6(1),l.Q6J("ngTemplateOutlet",tt)}}function Dt(Pe,Qt){1&Pe&&(l.YNc(0,Qe,5,4,"div",6),l.YNc(1,Oe,5,7,"div",7),l.YNc(2,it,4,4,"div",8)),2&Pe&&(l.Q6J("ngSwitchCase","PHOTO"),l.xp6(1),l.Q6J("ngSwitchCase","VIDEO"),l.xp6(1),l.Q6J("ngSwitchCase","AUDIO"))}function vt(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",35)(1,"span",36),l._uU(2,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0444\u0430\u0439\u043b\u0435"),l.qZA(),l.TgZ(3,"div",37)(4,"div",38)(5,"span",39),l._uU(6,"\u0418\u043c\u044f"),l.qZA(),l.TgZ(7,"span",40),l._uU(8),l.qZA()(),l.TgZ(9,"div",38)(10,"span",39),l._uU(11,"\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430"),l.qZA(),l.TgZ(12,"span",40),l._uU(13),l.qZA()(),l.TgZ(14,"div",38)(15,"span",39),l._uU(16,"\u0414\u0430\u0442\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f"),l.qZA(),l.TgZ(17,"span",40),l._uU(18),l.ALo(19,"date"),l.qZA()()(),l._UZ(20,"div",41),l.TgZ(21,"app-button",42),l.NdJ("onClick",function(){l.CHM(ie);const on=l.MAs(23);return l.KtG(on.click())}),l.qZA(),l._UZ(22,"a",43,44),l.qZA()}if(2&Pe){const ie=l.oxw();let tt;l.xp6(8),l.Oqu(null==ie.media?null:ie.media.name),l.xp6(5),l.hij("",((null!==(tt=null==ie.media?null:ie.media.size)&&void 0!==tt?tt:0)/1048576).toFixed(2)," \u041c\u0431\u0430\u0439\u0442"),l.xp6(5),l.Oqu(l.lcZ(19,7,null==ie.media?null:ie.media.createdAt)),l.xp6(4),l.Udp("display","none"),l.Q6J("download",null==ie.media?null:ie.media.name)("href",ie.url,l.LSH)}}let Gt=(()=>{class Pe{constructor(ie){this.service=ie,this.showFullscreen=!1,this.albumIndex=0,this.showNavigation="fade",this.imageLoadingIndicator=!0}get url(){return this.media?"fileSystemItemId"in this.media?"/api/private/file/"+this.media.fileSystemItemId:"workLogTargetFileId"in this.media?"/api/private/work-log/target-file/"+this.media.workLogTargetFileId:"/api/private/attachment/"+this.media.name:null}ngOnInit(){this.service.media().subscribe({next:ie=>{this.imageLoadingIndicator=!0,this.showFullscreen=!0,this.media=ie,this.albumIndex=0,this.mediaAlbum=void 0}}),this.service.mediaAlbum().subscribe({next:ie=>{this.imageLoadingIndicator=!0,this.showFullscreen=!0,this.albumIndex=ie.index,this.mediaAlbum=ie.album,this.media=this.mediaAlbum[this.albumIndex]}})}hide(ie){ie.target===ie.currentTarget&&(this.showFullscreen=!1)}imageLoad(ie){this.imageLoadingIndicator=!1}imageLoadError(ie){}goPrev(){this.mediaAlbum&&this.mediaAlbum.length>0&&(this.albumIndex>0?this.media=this.mediaAlbum[--this.albumIndex]:(this.albumIndex=this.mediaAlbum.length-1,this.media=this.mediaAlbum[this.albumIndex]))}goNext(){this.mediaAlbum&&this.mediaAlbum.length>0&&(this.albumIndex<this.mediaAlbum.length-1?this.media=this.mediaAlbum[++this.albumIndex]:(this.albumIndex=0,this.media=this.mediaAlbum[this.albumIndex]))}}return Pe.\u0275fac=function(ie){return new(ie||Pe)(l.Y36(Q.E))},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["app-media-viewer"]],decls:5,vars:2,consts:[["class","page-cover",3,"click",4,"ngIf"],[3,"ngSwitch"],["content",""],["metadata",""],[1,"page-cover",3,"click"],[4,"ngTemplateOutlet"],["class","photo-view",4,"ngSwitchCase"],["class","video-view",4,"ngSwitchCase"],["class","audio-view",4,"ngSwitchCase"],[1,"photo-view"],["class","image-loading-indicator",4,"ngIf"],[3,"src","error","load"],["class","navigation",3,"mouseenter","mouseleave",4,"ngIf"],[1,"image-loading-indicator"],[1,"white-spinner"],[1,"navigation",3,"mouseenter","mouseleave"],[1,"navigation-button","back",3,"click"],[1,"material-icons-round"],[1,"navigation-counter"],[1,"navigation-button","forward",3,"click"],[1,"video-view"],[1,"video-wrapper"],[3,"ngClass","controls","src"],["class","video-navigation",4,"ngIf"],[1,"video-navigation"],[1,"video-navigation-button","back",3,"click"],[1,"video-navigation-counter"],[1,"video-navigation-button","forward",3,"click"],[1,"audio-view"],[3,"controls","src"],["class","audio-navigation",4,"ngIf"],[1,"audio-navigation"],[1,"audio-navigation-button","back",3,"click"],[1,"audio-navigation-counter"],[1,"audio-navigation-button","forward",3,"click"],[1,"metadata"],[1,"caption","size-big"],[1,"flexed","column","gap3","p5"],[1,"flexed","hcenter","gap3"],[1,"caption","size-small","wt-bold","f-color-500"],[1,"caption","size-small","f-inline"],[1,"stretched"],["icon","download","label","\u0421\u043a\u0430\u0447\u0430\u0442\u044c","model","p-button-success",3,"onClick"],[3,"download","href"],["downloadLink",""]],template:function(ie,tt){1&ie&&(l.YNc(0,Te,2,1,"div",0),l.YNc(1,Dt,3,3,"ng-template",1,2,l.W1O),l.YNc(3,vt,24,9,"ng-template",null,3,l.W1O)),2&ie&&(l.Q6J("ngIf",tt.showFullscreen),l.xp6(1),l.Q6J("ngSwitch",null==tt.media?null:tt.media.type))},dependencies:[e.mk,e.O5,e.tP,e.RF,e.n9,R.fw,K.G,g.r,z.h,e.uU],styles:[".page-cover[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000b3;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);display:flex;align-items:center;justify-content:center;z-index:4201}.page-cover[_ngcontent-%COMP%]   .photo-view[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr;grid-template-columns:1fr 20rem;margin:3rem;align-items:center;justify-content:center;width:max-content;height:max-content;max-width:90vw;max-height:90vh;min-height:20rem;overflow:hidden}.page-cover[_ngcontent-%COMP%]   .photo-view[_ngcontent-%COMP%]   .image-loading-indicator[_ngcontent-%COMP%]{min-width:50vw;min-height:40vh;width:100%;height:100%;background-color:var(--bgc-200);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:2rem;grid-area:1/1/2/2;border-radius:.5rem 0 0 .5rem}.page-cover[_ngcontent-%COMP%]   .photo-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{grid-area:1/1/2/2;width:100%;height:100%;border-radius:.5rem 0 0 .5rem;min-width:5rem;min-height:5rem;max-height:93vh;object-fit:cover;object-position:center}.page-cover[_ngcontent-%COMP%]   .photo-view[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]{height:100%;min-width:20rem;border-radius:0 .5rem .5rem 0;background-color:#fff;display:flex;flex-direction:column;gap:.5rem;padding:1rem}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr;grid-template-columns:1fr 20rem;margin:3rem;align-items:center;justify-content:center;width:max-content;height:max-content;max-width:90vw;max-height:90vh;min-height:20rem;overflow:hidden}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-area:1/1/2/2;width:100%;height:100%;border-radius:.5rem 0 0 .5rem;min-width:5rem;min-height:5rem;max-height:93vh;overflow:hidden}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:calc(100% - 4rem);background-color:#000}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   video.controls-out[_ngcontent-%COMP%]{height:100%!important}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;height:4rem;background-color:#fff}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-counter[_ngcontent-%COMP%]{color:var(--tc-600);width:max-content;height:max-content;font-size:1.2rem;font-weight:500}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-button[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;padding:1rem;display:flex;align-items:center;flex:1;color:var(--tc-600);transition:color .2s ease-out}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-button[_ngcontent-%COMP%]:hover{color:var(--tc-800)}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-button.forward[_ngcontent-%COMP%]{justify-content:flex-end}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-button.back[_ngcontent-%COMP%]{justify-content:flex-start}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]{height:100%;min-width:20rem;border-radius:0 .5rem .5rem 0;background-color:#fff;display:flex;flex-direction:column;gap:.5rem;padding:1rem}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]{display:flex;padding-top:1rem;gap:.5rem;flex-direction:column;align-items:center;width:max-content;height:max-content;background-color:#fff;border-radius:1rem;overflow:hidden}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation[_ngcontent-%COMP%]{display:flex;flex:1;padding:.5rem;align-self:stretch;align-items:center}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-counter[_ngcontent-%COMP%]{color:var(--tc-600);width:max-content;height:max-content;font-size:1.2rem;font-weight:500}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-button[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;display:flex;align-items:center;flex:1;color:var(--tc-600);transition:color .2s ease-out}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-button[_ngcontent-%COMP%]:hover{color:var(--tc-800)}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-button.forward[_ngcontent-%COMP%]{justify-content:flex-end}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-button.back[_ngcontent-%COMP%]{justify-content:flex-start}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]{height:100%;min-width:20rem;background-color:#fff;display:flex;flex-direction:column;gap:.5rem;padding:1rem}.navigation[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;grid-area:1/1/2/2}.navigation-counter[_ngcontent-%COMP%]{color:var(--tc-100);width:max-content;height:max-content;align-self:flex-end;margin-bottom:2rem;font-size:1.2rem;font-weight:500;text-shadow:0 0 4px rgba(0,0,0,.3)}.navigation-button[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;padding:1rem;display:flex;align-items:center;flex:1;opacity:.2;transition:opacity .2s ease-out;color:var(--tc-100)}.navigation-button[_ngcontent-%COMP%]:hover{opacity:1!important}.navigation-button.forward[_ngcontent-%COMP%]{justify-content:flex-end;background:linear-gradient(90deg,rgba(0,0,0,0),rgba(0,0,0,.15))}.navigation-button.back[_ngcontent-%COMP%]{justify-content:flex-start;background:linear-gradient(270deg,rgba(0,0,0,0),rgba(0,0,0,.15))}"],data:{animation:[j.PJ,j.mo]}}),Pe})();var Ht=b(4881),Ut=b(1819),ct=b(1874),at=b(845),fe=b(2382),ke=b(4036),ot=b(7010),Ct=b(3407),Ot=b(5315),Nt=b(3725),Mt=b(85),Ye=b(7773),st=b(1424),je=b(2537),It=b(9925),ne=b(3877),Ne=b(4500),me=b(1886),gt=b(8508),un=b(1828),In=b(1208),en=b(9354),_t=b(3640),et=b(6073),de=b(2340);function ze(){const Pe=new et.f;return Pe.configure((()=>{var Pe;return{brokerURL:de.N.wsHost,connectHeaders:{passcode:"guest",login:null!==(Pe=localStorage.getItem("token"))&&void 0!==Pe?Pe:""},heartbeatIncoming:0,heartbeatOutgoing:2e4,reconnectDelay:200,debug:Qt=>{}}})()),Pe.activate(),Pe}var wt=b(3078),Fe=b(2777),qt=b(6526),fn=b(7307),Jt=b(6888),Dn=b(9618),Rt=b(1588);let rn=(()=>{class Pe{constructor(ie){this.hostElement=ie,this.focusAfterInit=!0}ngAfterViewInit(){this.focusAfterInit&&setTimeout(()=>this.hostElement.focus())}}return Pe.\u0275fac=function(ie){return new(ie||Pe)(l.Y36(je.vy))},Pe.\u0275dir=l.lG2({type:Pe,selectors:[["","focusAfterInit",""]],inputs:{focusAfterInit:"focusAfterInit"}}),Pe})();const Fn=function(){return{width:"100%"}};function Un(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",3)(1,"p-inputMask",4),l.NdJ("ngModelChange",function(on){const $n=l.CHM(ie).$implicit,Hi=l.oxw();return l.KtG(Hi.controlValue[$n.key]=on)})("ngModelChange",function(on){const $n=l.CHM(ie).$implicit,Hi=l.oxw();return Hi.controlValue[$n.key]=on,l.KtG(Hi.onChange(Hi.controlValue))})("onBlur",function(){l.CHM(ie);const on=l.oxw();return l.KtG(on.onBlur.emit())}),l.qZA(),l.TgZ(2,"button",5),l.NdJ("click",function(){const En=l.CHM(ie).$implicit,$n=l.oxw();return l.KtG($n.removePhone(En.key))}),l.qZA()()}if(2&Pe){const ie=Qt.$implicit,tt=l.oxw();l.xp6(1),l.Akn(l.DdM(6,Fn)),l.Q6J("ngModel",tt.controlValue[ie.key])("focusAfterInit",!0)("disabled",tt.disable),l.xp6(1),l.Q6J("disabled",tt.count<2||tt.disable)}}let ri=(()=>{class Pe{constructor(){this.controlValue={},this.disable=!1,this.autoFocusFlag=!1,this.inputClasses={},this.onBlur=new l.vpe,this.onChange=ie=>{},this.onTouched=()=>{}}get count(){return this.controlValue?Object.keys(this.controlValue).length:0}setDisabledState(ie){this.disable=ie}ngAfterViewInit(){}ngOnInit(){}registerOnChange(ie){this.onChange=ie}registerOnTouched(ie){this.onTouched=ie}writeValue(ie){this.controlValue=ie}appendPhone(){this.controlValue||(this.controlValue={});const ie=(0,Rt.Z)();this.controlValue[ie]="",this.onChange(this.controlValue)}removePhone(ie){!this.controlValue||(delete this.controlValue[ie],this.onChange(this.controlValue))}valuesTrack(ie,tt){return tt.key}}return Pe.\u0275fac=function(ie){return new(ie||Pe)},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["app-phone-list-input"]],inputs:{inputClasses:"inputClasses"},outputs:{onBlur:"onBlur"},features:[l._Bn([{provide:fe.JU,useExisting:(0,l.Gpc)(()=>Pe),multi:!0}])],decls:4,vars:5,consts:[[1,"flexed","gap5","column"],["class","p-inputgroup",4,"ngFor","ngForOf","ngForTrackBy"],["icon","add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u043c\u0435\u0440",3,"disabled","onClick"],[1,"p-inputgroup"],["mask","8 (999) 999-99-99",3,"ngModel","focusAfterInit","disabled","ngModelChange","onBlur"],["icon","pi pi-trash","pButton","","type","button",1,"p-button-danger",3,"disabled","click"]],template:function(ie,tt){1&ie&&(l.TgZ(0,"div",0),l.YNc(1,Un,3,7,"div",1),l.ALo(2,"keyvalue"),l.TgZ(3,"app-button",2),l.NdJ("onClick",function(){return tt.appendPhone()}),l.qZA()()),2&ie&&(l.xp6(1),l.Q6J("ngForOf",l.lcZ(2,3,tt.controlValue))("ngForTrackBy",tt.valuesTrack),l.xp6(2),l.Q6J("disabled",tt.disable))},dependencies:[e.sg,at.Hq,fe.JJ,fe.On,je.vy,g.r,rn,e.Nd]}),Pe})();var vi=b(1110),Ni=b(5787);let oi=(()=>{class Pe{}return Pe.\u0275fac=function(ie){return new(ie||Pe)},Pe.\u0275mod=l.oAB({type:Pe}),Pe.\u0275inj=l.cJS({imports:[e.ez,Ni.T]}),Pe})();var ki=b(9744),$i=b(2716);const Do=function(Pe){return{unread:Pe}};let ci=(()=>{class Pe{constructor(ie){this.notifyService=ie,this.notification={}}ngOnInit(){}getIcon(ie){return this.notifyService.icons[ie]+" icon header"}getTitle(ie){return this.notifyService.titles[ie]}}return Pe.\u0275fac=function(ie){return new(ie||Pe)(l.Y36(ki.T))},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["app-notification-item"]],inputs:{notification:"notification"},decls:9,vars:11,consts:[[1,"notification",3,"ngClass"],[1,"title","header"],["appTextRevival","",1,"description","indent05"],[1,"timestamp"]],template:function(ie,tt){1&ie&&(l.TgZ(0,"div",0),l._UZ(1,"i"),l.TgZ(2,"span",1),l._uU(3),l.qZA(),l.TgZ(4,"div",2),l._uU(5),l.qZA(),l.TgZ(6,"span",3),l._uU(7),l.ALo(8,"date"),l.qZA()()),2&ie&&(l.Q6J("ngClass",l.VKq(9,Do,tt.notification.unread)),l.xp6(1),l.Tol(tt.getIcon(tt.notification.type)),l.xp6(2),l.hij(" ",tt.getTitle(tt.notification.type)," "),l.xp6(2),l.hij(" ",tt.notification.message," "),l.xp6(2),l.hij(" ",l.xi3(8,6,tt.notification.created,"dd MMMM yyyy HH:mm")," "))},dependencies:[e.mk,$i.J,e.uU],styles:['[_nghost-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-100)}[_nghost-%COMP%]{flex:1}.notification[_ngcontent-%COMP%]{display:grid;gap:.3rem;padding:.5rem;align-items:center;opacity:.5;transition:opacity .2s ease-in-out;cursor:default;grid:repeat(3,min-content)/repeat(2,min-content);grid-template-areas:"icon title title" ". description description" "timestamp timestamp timestamp"}.notification[_ngcontent-%COMP%]:hover, .notification.unread[_ngcontent-%COMP%]{opacity:1}.notification.unread[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{color:var(--mc-400)}.notification[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{grid-area:icon}.notification[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{grid-area:title}.notification[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{grid-area:description;font-weight:500;font-size:.9rem;color:var(--tc-700);white-space:pre-line}.notification[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{grid-area:timestamp;font-size:.8rem;font-weight:700;place-self:flex-end;color:var(--tc-300)}.header[_ngcontent-%COMP%]{color:var(--tc-600)}.header.icon[_ngcontent-%COMP%]{font-size:1.4rem}.header.title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:400}']}),Pe})();var vo=b(8913),Ko=b(3460),Go=b(9955),Ao=b(7805),Xi=b(7092),Xo=b(4132),as=b(5055),os=b(5652),ho=b(7433),so=b(1777),Fi=b(5730),Mo=b(9783),es=b(5921);function bo(Pe,Qt){1&Pe&&l.GkF(0)}function qo(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"button",8),l.NdJ("click",function(on){l.CHM(ie);const En=l.oxw(2);return l.KtG(En.close(on))})("keydown.enter",function(on){l.CHM(ie);const En=l.oxw(2);return l.KtG(En.close(on))}),l._UZ(1,"span",9),l.qZA()}if(2&Pe){const ie=l.oxw(2);l.uIk("aria-label",ie.ariaCloseLabel)}}function Ls(Pe,Qt){1&Pe&&l.GkF(0)}function Is(Pe,Qt){1&Pe&&l.GkF(0)}const Rs=function(Pe,Qt,ie,tt,on,En){return{"p-sidebar":!0,"p-sidebar-active":Pe,"p-sidebar-left":Qt,"p-sidebar-right":ie,"p-sidebar-top":tt,"p-sidebar-bottom":on,"p-sidebar-full":En}},hs=function(Pe,Qt){return{transform:Pe,transition:Qt}},Er=function(Pe){return{value:"visible",params:Pe}};function ga(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",1,2),l.NdJ("@panelState.start",function(on){l.CHM(ie);const En=l.oxw();return l.KtG(En.onAnimationStart(on))})("@panelState.done",function(on){l.CHM(ie);const En=l.oxw();return l.KtG(En.onAnimationEnd(on))}),l.TgZ(2,"div",3),l.YNc(3,bo,1,0,"ng-container",4),l.YNc(4,qo,2,1,"button",5),l.qZA(),l.TgZ(5,"div",6),l.Hsn(6),l.YNc(7,Ls,1,0,"ng-container",4),l.qZA(),l.TgZ(8,"div",7),l.YNc(9,Is,1,0,"ng-container",4),l.qZA()()}if(2&Pe){const ie=l.oxw();l.Tol(ie.styleClass),l.Q6J("ngClass",l.HTZ(10,Rs,ie.visible,"left"===ie.position&&!ie.fullScreen,"right"===ie.position&&!ie.fullScreen,"top"===ie.position&&!ie.fullScreen,"bottom"===ie.position&&!ie.fullScreen,ie.fullScreen))("@panelState",l.VKq(20,Er,l.WLB(17,hs,ie.transformOptions,ie.transitionOptions)))("ngStyle",ie.style),l.uIk("aria-modal",ie.modal),l.xp6(3),l.Q6J("ngTemplateOutlet",ie.headerTemplate),l.xp6(1),l.Q6J("ngIf",ie.showCloseIcon),l.xp6(3),l.Q6J("ngTemplateOutlet",ie.contentTemplate),l.xp6(2),l.Q6J("ngTemplateOutlet",ie.footerTemplate)}}const Cr=["*"],Sr=(0,so.oQ)([(0,so.oB)({transform:"{{transform}}",opacity:0}),(0,so.jt)("{{transition}}")]),Ea=(0,so.oQ)([(0,so.jt)("{{transition}}",(0,so.oB)({transform:"{{transform}}",opacity:0}))]);let gs=(()=>{class Pe{constructor(ie,tt,on,En){this.el=ie,this.renderer=tt,this.cd=on,this.config=En,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.modal=!0,this.dismissible=!0,this.showCloseIcon=!0,this.closeOnEscape=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.onShow=new l.vpe,this.onHide=new l.vpe,this.visibleChange=new l.vpe,this._position="left",this._fullScreen=!1,this.transformOptions="translate3d(-100%, 0px, 0px)"}ngAfterViewInit(){this.initialized=!0}ngAfterContentInit(){this.templates.forEach(ie=>{switch(ie.getType()){case"content":default:this.contentTemplate=ie.template;break;case"header":this.headerTemplate=ie.template;break;case"footer":this.footerTemplate=ie.template}})}get visible(){return this._visible}set visible(ie){this._visible=ie}get position(){return this._position}set position(ie){switch(this._position=ie,ie){case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)"}}get fullScreen(){return this._fullScreen}set fullScreen(ie){this._fullScreen=ie,ie&&(this.transformOptions="none")}show(){this.autoZIndex&&es.P9.set("modal",this.container,this.baseZIndex||this.config.zIndex.modal),this.modal&&this.enableModality(),this.onShow.emit({}),this.visibleChange.emit(!0)}hide(){this.onHide.emit({}),this.modal&&this.disableModality()}close(ie){this.hide(),this.visibleChange.emit(!1),ie.preventDefault()}enableModality(){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(this.container.style.zIndex)-1),Fi.p.addMultipleClasses(this.mask,"p-component-overlay p-sidebar-mask p-component-overlay p-component-overlay-enter"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",ie=>{this.dismissible&&this.close(ie)})),document.body.appendChild(this.mask),this.blockScroll&&Fi.p.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(Fi.p.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyModal.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyModal(){this.unbindMaskClickListener(),this.mask&&document.body.removeChild(this.mask),this.blockScroll&&Fi.p.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.mask=null}onAnimationStart(ie){"visible"===ie.toState&&(this.container=ie.element,this.appendContainer(),this.show(),this.closeOnEscape&&this.bindDocumentEscapeListener())}onAnimationEnd(ie){"void"===ie.toState&&(this.hide(),es.P9.clear(this.container),this.unbindGlobalListeners())}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):Fi.p.appendChild(this.container,this.appendTo))}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",tt=>{27==tt.which&&parseInt(this.container.style.zIndex)===es.P9.get(this.container)&&this.close(tt)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindGlobalListeners(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}ngOnDestroy(){this.initialized=!1,this.visible&&this.modal&&this.destroyModal(),this.appendTo&&this.container&&this.el.nativeElement.appendChild(this.container),this.container&&this.autoZIndex&&es.P9.clear(this.container),this.container=null,this.unbindGlobalListeners(),this.unbindAnimationEndListener()}}return Pe.\u0275fac=function(ie){return new(ie||Pe)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(Mo.b4))},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["p-sidebar"]],contentQueries:function(ie,tt,on){if(1&ie&&l.Suo(on,Mo.jx,4),2&ie){let En;l.iGM(En=l.CRH())&&(tt.templates=En)}},hostAttrs:[1,"p-element"],inputs:{appendTo:"appendTo",blockScroll:"blockScroll",style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",modal:"modal",dismissible:"dismissible",showCloseIcon:"showCloseIcon",closeOnEscape:"closeOnEscape",transitionOptions:"transitionOptions",visible:"visible",position:"position",fullScreen:"fullScreen"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},ngContentSelectors:Cr,decls:1,vars:1,consts:[["role","complementary",3,"ngClass","ngStyle","class",4,"ngIf"],["role","complementary",3,"ngClass","ngStyle"],["container",""],[1,"p-sidebar-header"],[4,"ngTemplateOutlet"],["type","button","class","p-sidebar-close p-sidebar-icon p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[1,"p-sidebar-content"],[1,"p-sidebar-footer"],["type","button","pRipple","",1,"p-sidebar-close","p-sidebar-icon","p-link",3,"click","keydown.enter"],[1,"p-sidebar-close-icon","pi","pi-times"]],template:function(ie,tt){1&ie&&(l.F$t(),l.YNc(0,ga,10,22,"div",0)),2&ie&&l.Q6J("ngIf",tt.visible)},dependencies:[e.mk,e.O5,e.tP,e.PC,Ni.H],styles:[".p-sidebar{position:fixed;transition:transform .3s;display:flex;flex-direction:column}.p-sidebar-content{position:relative;overflow-y:auto}.p-sidebar-header{display:flex;align-items:center}.p-sidebar-icon{display:flex;align-items:center;justify-content:center;margin-left:auto}.p-sidebar-left{top:0;left:0;width:20rem;height:100%}.p-sidebar-right{top:0;right:0;width:20rem;height:100%}.p-sidebar-top{top:0;left:0;width:100%;height:10rem}.p-sidebar-bottom{bottom:0;left:0;width:100%;height:10rem}.p-sidebar-full{width:100%;height:100%;top:0;left:0;transition:none}.p-sidebar-left.p-sidebar-sm,.p-sidebar-right.p-sidebar-sm{width:20rem}.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-md{width:40rem}.p-sidebar-left.p-sidebar-lg,.p-sidebar-right.p-sidebar-lg{width:60rem}.p-sidebar-top.p-sidebar-sm,.p-sidebar-bottom.p-sidebar-sm{height:10rem}.p-sidebar-top.p-sidebar-md,.p-sidebar-bottom.p-sidebar-md{height:20rem}.p-sidebar-top.p-sidebar-lg,.p-sidebar-bottom.p-sidebar-lg{height:30rem}@media screen and (max-width: 64em){.p-sidebar-left.p-sidebar-lg,.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-lg,.p-sidebar-right.p-sidebar-md{width:20rem}}\n"],encapsulation:2,data:{animation:[(0,so.X$)("panelState",[(0,so.eR)("void => visible",[(0,so._7)(Sr)]),(0,so.eR)("visible => void",[(0,so._7)(Ea)])])]},changeDetection:0}),Pe})(),la=(()=>{class Pe{}return Pe.\u0275fac=function(ie){return new(ie||Pe)},Pe.\u0275mod=l.oAB({type:Pe}),Pe.\u0275inj=l.cJS({imports:[e.ez,Ni.T]}),Pe})(),Ns=(()=>{class Pe{constructor(){this.onScrollToBottom=new l.vpe}onScroll(ie){ie.target.scrollHeight-Math.abs(ie.target.scrollTop)-ie.target.clientHeight<25&&this.onScrollToBottom.emit()}}return Pe.\u0275fac=function(ie){return new(ie||Pe)},Pe.\u0275dir=l.lG2({type:Pe,selectors:[["","appScrollToBottomEmitter",""]],hostBindings:function(ie,tt){1&ie&&l.NdJ("scroll",function(En){return tt.onScroll(En)})},outputs:{onScrollToBottom:"onScrollToBottom"}}),Pe})();function ea(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",1),l.NdJ("mouseleave",function(){const En=l.CHM(ie).$implicit,$n=l.oxw();return l.KtG($n.notifyService.resumeClosure(En.notificationId))})("mouseenter",function(){const En=l.CHM(ie).$implicit,$n=l.oxw();return l.KtG($n.notifyService.suspendClosing(En.notificationId))}),l._UZ(1,"app-notification-item",2),l.TgZ(2,"div",3),l.NdJ("click",function(){const En=l.CHM(ie).$implicit,$n=l.oxw();return l.KtG($n.notifyService.close(En.notificationId))}),l.qZA()()}if(2&Pe){const ie=Qt.$implicit;l.Q6J("@flowLeft",void 0),l.xp6(1),l.Q6J("notification",ie)}}let $s=(()=>{class Pe{constructor(ie){this.notifyService=ie}ngOnInit(){}}return Pe.\u0275fac=function(ie){return new(ie||Pe)(l.Y36(ki.T))},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["app-notifications-popup-panel"]],decls:1,vars:1,consts:[["class","notification-wrapper",3,"mouseleave","mouseenter",4,"ngFor","ngForOf"],[1,"notification-wrapper",3,"mouseleave","mouseenter"],[3,"notification"],[1,"close-button","mdi-close",3,"click"]],template:function(ie,tt){1&ie&&l.YNc(0,ea,3,2,"div",0),2&ie&&l.Q6J("ngForOf",tt.notifyService.receivedNotifications)},dependencies:[e.sg,ci],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:max-content;min-width:25rem;max-width:30vw;height:auto;max-height:70vh;position:fixed;top:100px;right:1rem;z-index:1010;gap:1rem;transition:all .5s ease-in-out}.notification-wrapper[_ngcontent-%COMP%]{display:flex;background-color:#fff;box-shadow:0 0 1px 1px #0000001a,0 .1rem 1rem #0000000d;border-radius:.5rem;padding:.3rem .6rem;position:relative}.close-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:.7rem;cursor:pointer;transition:all .2s ease-in-out;color:var(--tc-500)}.close-button[_ngcontent-%COMP%]:hover{color:var(--mc-500)}"],data:{animation:[j.zW]}}),Pe})();var qi=b(383),hi=b(8050);const Ii=["contextMenu"];function Ws(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",4),l.NdJ("click",function(){const En=l.CHM(ie).$implicit;l.oxw();const $n=l.MAs(1);return En.command(),l.KtG($n.hide())}),l._UZ(1,"i"),l.TgZ(2,"span"),l._uU(3),l.qZA()()}if(2&Pe){const ie=Qt.$implicit;l.Tol("context-button "+ie.style),l.xp6(1),l.Tol(ie.icon),l.xp6(2),l.Oqu(ie.label)}}const vr=function(){return{minWidth:"max-content",transform:"translate(1rem, .3rem)"}};var ss=(()=>((ss||(ss={})).DANGER="danger",ss))();let kr=(()=>{class Pe{constructor(){this.contextMenuVisible=!1,this.contextButtons=[],this.onShow=new l.vpe,this.onHide=new l.vpe}ngOnInit(){}show(ie,tt){!this.contextMenu||(ie.preventDefault(),this.contextButtons=tt,this.contextMenu.target=ie.target,this.contextMenuVisible?this.contextMenu.alignOverlay():setTimeout(()=>{!this.contextMenu||this.contextMenu.show()}))}onScrollEvent(ie){!this.contextMenu||this.contextMenu.visible&&this.contextMenu.alignOverlay()}}return Pe.\u0275fac=function(ie){return new(ie||Pe)},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["app-context-menu"]],viewQuery:function(ie,tt){if(1&ie&&l.Gf(Ii,5),2&ie){let on;l.iGM(on=l.CRH())&&(tt.contextMenu=on.first)}},hostBindings:function(ie,tt){1&ie&&l.NdJ("scroll",function(En){return tt.onScrollEvent(En)},!1,l.Jf7)},outputs:{onShow:"onShow",onHide:"onHide"},decls:4,vars:5,consts:[["appendTo","body",3,"visible","visibleChange","onShow","onHide"],["contextMenu",""],[1,"context-body"],["pRipple","",3,"class","click",4,"ngFor","ngForOf"],["pRipple","",3,"click"]],template:function(ie,tt){1&ie&&(l.TgZ(0,"p-overlay",0,1),l.NdJ("visibleChange",function(En){return tt.contextMenuVisible=En})("onShow",function(){return tt.onShow.emit()})("onHide",function(){return tt.onHide.emit()}),l.TgZ(2,"div",2),l.YNc(3,Ws,4,5,"div",3),l.qZA()()),2&ie&&(l.Akn(l.DdM(4,vr)),l.Q6J("visible",tt.contextMenuVisible),l.xp6(3),l.Q6J("ngForOf",tt.contextButtons))},dependencies:[e.sg,hi.aV,Ni.H],styles:[".context-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:.5rem;background-color:#fff;overflow:hidden;box-shadow:0 0 .8px #00000006,0 0 2.1px #00000009,0 0 5.1px #0000000c,0 0 17px #00000012}.context-body[_ngcontent-%COMP%]   .context-button[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:min-content;padding:.7rem 1.4rem .7rem 1.2rem;cursor:pointer;gap:.3rem;transition:all .15s ease-in-out;font-size:1rem;color:var(--tc-600);-webkit-user-select:none;user-select:none}.context-body[_ngcontent-%COMP%]   .context-button[_ngcontent-%COMP%]:hover{background-color:var(--mc-0);color:var(--mc-500)}.context-body[_ngcontent-%COMP%]   .context-button.danger[_ngcontent-%COMP%]{color:var(--danger-500)}.context-body[_ngcontent-%COMP%]   .context-button.danger[_ngcontent-%COMP%]:hover{background-color:var(--danger-100);color:var(--danger-800)}"]}),Pe})();var Bi=b(8505),Ys=b(8372),Ts=b(8028),Fs=b(8738),Xs=b(9014),Bs=b(8007),fo=b(4968),As=b(4482),ls=b(5403),Cs=b(8421),ms=b(5032);function ws(Pe){return(0,As.e)((Qt,ie)=>{let tt=!1;const on=new ls.Q(ie,()=>{null==on||on.unsubscribe(),tt=!0},ms.Z);(0,Cs.Xf)(Pe).subscribe(on),Qt.subscribe(new ls.Q(ie,En=>tt&&ie.next(En)))})}var br=b(2722),Dr=b(599),Mr=b(8185),ir=b(4776);let vs=(()=>{class Pe{transform(ie){return null!=ie||null!=ie?Math.floor("string"==typeof ie?parseFloat(ie):ie):null}}return Pe.\u0275fac=function(ie){return new(ie||Pe)},Pe.\u0275pipe=l.Yjl({name:"floor",type:Pe,pure:!0}),Pe})();const ts=["player"],yr=["volumeOverlay"],St=["durationControl"],hn=["timeOverlay"];function se(Pe,Qt){1&Pe&&l._UZ(0,"i",28)}function Ge(Pe,Qt){1&Pe&&l._UZ(0,"i",29)}function xt(Pe,Qt){1&Pe&&l._UZ(0,"i",30)}function zt(Pe,Qt){1&Pe&&l._UZ(0,"i",31)}function Nn(Pe,Qt){if(1&Pe&&l._UZ(0,"div",32),2&Pe){const ie=l.oxw();l.Udp("left",ie.markerPosition+"px")}}function Wn(Pe,Qt){1&Pe&&l._UZ(0,"i",33)}function si(Pe,Qt){1&Pe&&l._UZ(0,"i",34)}function Wi(Pe,Qt){1&Pe&&l._UZ(0,"i",35)}function Zi(Pe,Qt){1&Pe&&l._UZ(0,"i",36)}const go=function(Pe){return{disabled:Pe}},Li=function(){return{height:".7rem"}},Jr=function(){return{transform:"translate(-25%, 1rem)"}};var Fo=(()=>{return(Pe=Fo||(Fo={})).Paused="Paused",Pe.Playing="Playing",Pe.Loading="Loading",Pe.Error="Error",Fo;var Pe})();let Qr=(()=>{class Pe{constructor(){this.playerState=Fo.Loading,this.currentTime=0,this.totalTime=0,this.subscriptions=new qi.xf,this.showVolumeLevel=!1,this.showTimeMarker=!1}get markerPosition(){return this.totalTime&&this.durationControl?this.currentTime/this.totalTime*this.durationControl.nativeElement.clientWidth:0}get totalMinutes(){return Math.floor(this.totalTime/60).toString().padStart(2,"0")}get totalSeconds(){return Math.floor(this.totalTime%60).toString().padStart(2,"0")}get currentMinutes(){return Math.floor(this.currentTime/60).toString().padStart(2,"0")}get currentSeconds(){return Math.floor(this.currentTime%60).toString().padStart(2,"0")}ngOnInit(){}ngAfterViewInit(){if(this.player){const ie=this.player.nativeElement;this.subscriptions.addSubscription("onLoad",(0,fo.R)(ie,"loadeddata",{capture:!0}).subscribe(()=>{this.playerState=Fo.Paused})),this.subscriptions.addSubscription("onPlay",(0,fo.R)(ie,"play",{capture:!0}).subscribe(()=>{this.playerState=Fo.Playing})),this.subscriptions.addSubscription("onPause",(0,fo.R)(ie,"pause",{capture:!0}).subscribe(()=>{this.playerState=Fo.Paused})),this.subscriptions.addSubscription("onAbort",(0,fo.R)(ie,"abort",{capture:!0}).subscribe(()=>{this.playerState=Fo.Error})),this.subscriptions.addSubscription("onError",(0,fo.R)(ie,"error",{capture:!0}).subscribe(()=>{this.playerState=Fo.Error})),this.subscriptions.addSubscription("onEmptied",(0,fo.R)(ie,"emptied",{capture:!0}).subscribe(()=>{this.playerState=Fo.Error})),this.subscriptions.addSubscription("onTimeupdate",(0,fo.R)(ie,"timeupdate",{capture:!0}).subscribe(()=>{this.currentTime=ie.currentTime})),this.subscriptions.addSubscription("onDurationchange",(0,fo.R)(ie,"durationchange",{capture:!0}).subscribe(()=>{this.totalTime=ie.duration}))}if(this.player&&this.durationControl){const ie=this.player.nativeElement,tt=this.durationControl.nativeElement,on=(0,fo.R)(document,"mousemove"),En=(0,fo.R)(tt,"mousedown").pipe((0,Bi.b)(()=>{ie.pause(),this.showTimeMarker=!0})),$n=(0,fo.R)(document,"mouseup").pipe(ws(En),(0,Bi.b)(this.calculateTime.bind(this)),(0,Bi.b)(()=>{this.playerState=Fo.Loading}),(0,Bi.b)(this.changeTime.bind(this))),Hi=on.pipe(ws(En),(0,br.R)($n),(0,Dr.r)()).subscribe(this.calculateTime.bind(this));this.subscriptions.addSubscription("mouseMove",Hi)}}ngOnDestroy(){this.subscriptions.unsubscribeAll()}calculateTime(ie){var tt;if(this.player&&this.durationControl){const En=this.durationControl.nativeElement,$n=this.player.nativeElement;let Ma=(ie.clientX-En.getBoundingClientRect().left)/En.clientWidth;Ma<0?Ma=0:Ma>1&&(Ma=1),this.currentTime=Ma*$n.duration,null===(tt=this.timeOverlay)||void 0===tt||tt.alignOverlay()}}changeTime(ie){if(this.showTimeMarker=!1,this.player){const tt=this.player.nativeElement;tt.currentTime=this.currentTime,tt.play()}}playerButtonClick(){var ie,tt;switch(this.playerState){case Fo.Playing:null===(ie=this.player)||void 0===ie||ie.nativeElement.pause();break;case Fo.Paused:null===(tt=this.player)||void 0===tt||tt.nativeElement.play()}}changeVolume(ie){this.player&&(this.player.nativeElement.volume=ie.value)}openVolumeOverlay(){this.showVolumeLevel=!0}}return Pe.\u0275fac=function(ie){return new(ie||Pe)},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["app-audio-player"]],viewQuery:function(ie,tt){if(1&ie&&(l.Gf(ts,5),l.Gf(yr,5),l.Gf(St,5),l.Gf(hn,5)),2&ie){let on;l.iGM(on=l.CRH())&&(tt.player=on.first),l.iGM(on=l.CRH())&&(tt.volumeOverlay=on.first),l.iGM(on=l.CRH())&&(tt.durationControl=on.first),l.iGM(on=l.CRH())&&(tt.timeOverlay=on.first)}},inputs:{url:"url"},decls:33,vars:39,consts:[[1,"flexed","hend","full-width","gap5"],[1,"play-button",3,"ngClass","click"],[3,"ngSwitch"],["class","mdi-play_arrow",4,"ngSwitchCase"],["class","mdi-pause",4,"ngSwitchCase"],["class","mdi-downloading",4,"ngSwitchCase"],["class","mdi-warning",4,"ngSwitchCase"],[1,"flexed","column","stretched","gap3"],[1,"timeline"],["durationControl",""],[3,"showValue","value"],["class","timeline-marker",3,"left",4,"ngIf"],["appendTo","body",3,"visible"],["timeOverlay",""],[1,"time-overlay"],[1,"flexed","hcenter","gap10"],[1,"duration"],[1,"volume-button",3,"click"],["class","mdi-volume_up",4,"ngIf"],["class","mdi-volume_down",4,"ngIf"],["class","mdi-volume_mute",4,"ngIf"],["class","mdi-volume_off",4,"ngIf"],["appendTo","body",3,"visible","visibleChange"],[1,"volume-level"],["volumeOverlay",""],["orientation","vertical",3,"min","max","step","ngModel","onChange"],[3,"src"],["player",""],[1,"mdi-play_arrow"],[1,"mdi-pause"],[1,"mdi-downloading"],[1,"mdi-warning"],[1,"timeline-marker"],[1,"mdi-volume_up"],[1,"mdi-volume_down"],[1,"mdi-volume_mute"],[1,"mdi-volume_off"]],template:function(ie,tt){if(1&ie&&(l.TgZ(0,"div",0)(1,"div",1),l.NdJ("click",function(){return tt.playerButtonClick()}),l.ynx(2,2),l.YNc(3,se,1,0,"i",3),l.YNc(4,Ge,1,0,"i",4),l.YNc(5,xt,1,0,"i",5),l.YNc(6,zt,1,0,"i",6),l.BQk(),l.qZA(),l.TgZ(7,"div",7)(8,"div",8,9),l._UZ(10,"p-progressBar",10),l.YNc(11,Nn,1,2,"div",11),l.TgZ(12,"p-overlay",12,13)(14,"div",14),l._uU(15),l.qZA()()(),l.TgZ(16,"div",15)(17,"span",16),l._uU(18),l.qZA(),l.TgZ(19,"div",17),l.NdJ("click",function(){return tt.openVolumeOverlay()}),l.YNc(20,Wn,1,0,"i",18),l.YNc(21,si,1,0,"i",19),l.YNc(22,Wi,1,0,"i",20),l.YNc(23,Zi,1,0,"i",21),l.qZA(),l.TgZ(24,"p-overlay",22),l.NdJ("visibleChange",function(En){return tt.showVolumeLevel=En}),l.TgZ(25,"div",23,24)(27,"p-slider",25),l.NdJ("onChange",function(En){return tt.changeVolume(En)}),l.qZA(),l.TgZ(28,"div"),l._uU(29),l.ALo(30,"floor"),l.qZA()()()()()(),l._UZ(31,"audio",26,27)),2&ie){const on=l.MAs(32);l.Udp("user-select","none"),l.xp6(1),l.Q6J("ngClass",l.VKq(35,go,!tt.url||"Loading"===tt.playerState||"Error"===tt.playerState)),l.xp6(1),l.Q6J("ngSwitch",tt.playerState),l.xp6(1),l.Q6J("ngSwitchCase","Paused"),l.xp6(1),l.Q6J("ngSwitchCase","Playing"),l.xp6(1),l.Q6J("ngSwitchCase","Loading"),l.xp6(1),l.Q6J("ngSwitchCase","Error"),l.xp6(4),l.Akn(l.DdM(37,Li)),l.Q6J("showValue",!1)("value",tt.currentTime/tt.totalTime*100),l.xp6(1),l.Q6J("ngIf",tt.showTimeMarker),l.xp6(1),l.Akn(l.DdM(38,Jr)),l.Q6J("visible",tt.showTimeMarker),l.xp6(3),l.AsE(" ",tt.currentMinutes,":",tt.currentSeconds," "),l.xp6(3),l.HOy("",tt.currentMinutes,":",tt.currentSeconds," / ",tt.totalMinutes,":",tt.totalSeconds,""),l.xp6(2),l.Q6J("ngIf",on.volume>.8),l.xp6(1),l.Q6J("ngIf",on.volume<=.8&&on.volume>.5),l.xp6(1),l.Q6J("ngIf",on.volume<=.5&&on.volume>0),l.xp6(1),l.Q6J("ngIf",0===on.volume),l.xp6(1),l.Q6J("visible",tt.showVolumeLevel),l.xp6(3),l.Q6J("min",0)("max",1)("step",.05)("ngModel",on.volume),l.xp6(2),l.hij("",l.lcZ(30,33,100*on.volume),"%"),l.xp6(2),l.Q6J("src",tt.url,l.LSH)}},dependencies:[e.mk,e.O5,e.RF,e.n9,fe.JJ,fe.On,hi.aV,Mr.k,ir.iR,vs],styles:[".play-button[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;background-color:var(--mc-500);display:flex;justify-content:center;align-items:center;color:#fff;font-size:1.5rem;cursor:pointer;transition:all .3s}.play-button.disabled[_ngcontent-%COMP%]{background-color:var(--tc-300);cursor:default}.play-button[_ngcontent-%COMP%]:not(.disabled):hover{background-color:var(--mc-600)}.volume-button[_ngcontent-%COMP%]{color:var(--tc-500);cursor:pointer;display:flex;align-items:center;justify-content:center;position:relative}.volume-level[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;padding:1.2rem .7rem .5rem;box-shadow:0 .4px .4px #00000005,0 1px 1px #00000007,0 1.9px 1.9px #00000009,0 3.4px 3.4px #0000000b,0 6.3px 6.3px #0000000d,0 15px 15px #00000012}.volume-level[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;color:var(--tc-500)}.timeline[_ngcontent-%COMP%]{position:relative}.timeline-marker[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transform:translate(-50%,-.25rem);width:1.2rem;height:1.2rem;border-radius:50%;background-color:var(--mc-300);box-shadow:0 0 .4px #00000005,0 0 1px #00000007,0 0 1.9px #00000009,0 0 3.4px #0000000b,0 0 6.3px #0000000d,0 0 15px #00000012}.time-overlay[_ngcontent-%COMP%]{border-radius:.3rem;padding:.5rem;background-color:#fff;box-shadow:0 0 .4px #00000005,0 0 1px #00000007,0 0 1.9px #00000009,0 0 3.4px #0000000b,0 0 6.3px #0000000d,0 0 15px #00000012}"]}),Pe})(),Io=(()=>{class Pe{constructor(ie){this.element=ie}ngAfterViewInit(){const ie=this.element.nativeElement;ie.innerHTML=ie.innerHTML.replace(new RegExp(/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/,"g"),'<span class="emoji">$&</span>')}}return Pe.\u0275fac=function(ie){return new(ie||Pe)(l.Y36(l.SBq))},Pe.\u0275dir=l.lG2({type:Pe,selectors:[["","appEmojiStyleApply",""]]}),Pe})();function So(Pe,Qt){1&Pe&&l._UZ(0,"i",10)}function Es(Pe,Qt){1&Pe&&l._UZ(0,"i",11)}function Di(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",6),l.NdJ("click",function(on){l.CHM(ie);const En=l.oxw();return l.KtG(En.open(on))}),l.ynx(1,7),l.YNc(2,So,1,0,"i",8),l.YNc(3,Es,1,0,"i",9),l.BQk(),l.qZA()}if(2&Pe){const ie=l.oxw();l.xp6(1),l.Q6J("ngSwitch",ie.attachmentType),l.xp6(1),l.Q6J("ngSwitchCase","DOCUMENT"),l.xp6(1),l.Q6J("ngSwitchCase","FILE")}}function $o(Pe,Qt){1&Pe&&(l.TgZ(0,"div",12),l._UZ(1,"i",13),l.qZA())}let Wo=(()=>{class Pe{constructor(ie){this.router=ie,this.baseUrl="/api/private/attachment/"}get hasAttachment(){return!!this.attachment}get attachmentType(){var ie,tt;return null!==(tt=null===(ie=this.attachment)||void 0===ie?void 0:ie.type)&&void 0!==tt?tt:"unknown"}get name(){var ie,tt;return null!==(tt=null===(ie=this.attachment)||void 0===ie?void 0:ie.name)&&void 0!==tt?tt:"\u041d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d"}get size(){return this.attachment&&this.attachment.size?this.attachment.size>1e6?(this.attachment.size/1e6).toFixed(2)+" MByte":this.attachment.size>1e3?(this.attachment.size/1e3).toFixed(2)+" KByte":this.attachment.size+" byte":"-- byte"}ngOnInit(){}open(ie){this.attachment&&window.open(this.baseUrl+this.attachment.name,"_blank")}}return Pe.\u0275fac=function(ie){return new(ie||Pe)(l.Y36(R.F0))},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["app-file-attachment"]],inputs:{attachment:"attachment"},decls:8,vars:6,consts:[[1,"flexed","hend","full-width","gap5"],["class","file-button",3,"click",4,"ngIf"],["class","file-button disabled",4,"ngIf"],[1,"flexed","column","stretched","gap3"],[1,"caption","one-line"],[1,"caption","size-small","f-color-500"],[1,"file-button",3,"click"],[3,"ngSwitch"],["class","mdi-description",4,"ngSwitchCase"],["class","mdi-insert_drive_file",4,"ngSwitchCase"],[1,"mdi-description"],[1,"mdi-insert_drive_file"],[1,"file-button","disabled"],[1,"mdi-warning"]],template:function(ie,tt){1&ie&&(l.TgZ(0,"div",0),l.YNc(1,Di,4,3,"div",1),l.YNc(2,$o,2,0,"div",2),l.TgZ(3,"div",3)(4,"span",4),l._uU(5),l.qZA(),l.TgZ(6,"span",5),l._uU(7),l.qZA()()()),2&ie&&(l.Udp("user-select","none"),l.xp6(1),l.Q6J("ngIf",tt.hasAttachment),l.xp6(1),l.Q6J("ngIf",!tt.hasAttachment),l.xp6(3),l.Oqu(tt.name),l.xp6(2),l.Oqu(tt.size))},dependencies:[e.O5,e.RF,e.n9],styles:[".file-button[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;background-color:var(--mc-500);display:flex;justify-content:center;align-items:center;color:#fff;font-size:1rem;cursor:pointer;transition:all .3s}.file-button.disabled[_ngcontent-%COMP%]{background-color:var(--tc-300);cursor:default}.file-button[_ngcontent-%COMP%]:not(.disabled):hover{background-color:var(--mc-600)}"]}),Pe})();var or=b(1787);const Ho=["messageInput"],wo=["contextMenu"],Ri=function(){return[]};function sr(Pe,Qt){if(1&Pe&&(l.TgZ(0,"div",7)(1,"span",8),l._UZ(2,"i",9),l._uU(3),l.qZA(),l._UZ(4,"app-avatar-list",10),l.qZA()),2&Pe){const ie=l.oxw();let tt;l.xp6(3),l.hij(" ",null==ie.currentChat?null:ie.currentChat.title,""),l.xp6(1),l.Q6J("employees",null!==(tt=null==ie.currentChat?null:ie.currentChat.members)&&void 0!==tt?tt:l.DdM(2,Ri))}}function ma(Pe,Qt){1&Pe&&l.GkF(0)}const Qn=function(Pe){return{shaded:Pe}},Mi=function(Pe){return{$implicit:Pe}};function rr(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",21),l.NdJ("contextmenu",function(on){const $n=l.CHM(ie).$implicit,Hi=l.oxw(3);return l.KtG(Hi.showContext(on,$n))}),l._UZ(1,"app-avatar",22),l.YNc(2,ma,1,0,"ng-container",23),l.qZA()}if(2&Pe){const ie=Qt.$implicit,tt=l.oxw(3),on=l.MAs(6);l.Q6J("@fade",void 0)("ngClass",l.VKq(9,Qn,tt.messageContexted===ie.superMessageId)),l.uIk("data-msg",tt.getMessagesIds(ie)),l.xp6(1),l.Q6J("deleted",ie.author.deleted)("name",ie.author.fullName)("size",2.3)("src",ie.author.avatar),l.xp6(1),l.Q6J("ngTemplateOutlet",on)("ngTemplateOutletContext",l.VKq(11,Mi,ie))}}function Gr(Pe,Qt){1&Pe&&(l.TgZ(0,"div",25),l._UZ(1,"p-skeleton",26)(2,"p-skeleton",27),l.qZA())}function eo(Pe,Qt){if(1&Pe&&(l.ynx(0),l.YNc(1,Gr,3,0,"div",24),l.BQk()),2&Pe){const ie=l.oxw(3);l.xp6(1),l.Q6J("ngForOf",ie.loadingsStubs)}}function ta(Pe,Qt){if(1&Pe&&l._UZ(0,"div",28),2&Pe){l.oxw();const ie=l.MAs(1);l.Udp("transform","translateY("+ie.scrollTop+"px)"),l.Q6J("@fade",void 0)}}const ar=function(){return{fontSize:".65rem",minWidth:"1.2rem",height:"1.2rem"}};function Ss(Pe,Qt){if(1&Pe&&l._UZ(0,"p-badge",32),2&Pe){const ie=l.oxw(4);l.Akn(l.DdM(3,ar)),l.Q6J("value",ie.unreadCount.toString())}}function ca(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",29),l.NdJ("click",function(){l.CHM(ie),l.oxw();const on=l.MAs(1);return l.KtG(on.scrollTo({top:0,behavior:"smooth"}))}),l.YNc(1,Ss,1,4,"p-badge",30),l._UZ(2,"i",31),l.qZA()}if(2&Pe){l.oxw();const ie=l.MAs(1),tt=l.oxw(2);l.Udp("transform","translateY("+ie.scrollTop+"px)"),l.Q6J("@fade",void 0),l.xp6(1),l.Q6J("ngIf",tt.unreadCount>0)}}const fs=function(Pe){return{unread:Pe}};function Zs(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",13,14),l.NdJ("onScrollToBottom",function(){l.CHM(ie);const on=l.oxw(2);return l.KtG(on.loadMessages())})("scroll",function(){l.CHM(ie);const on=l.oxw(2);return l.KtG(on.startButtonVisibleEmitter.emit())}),l.YNc(2,rr,3,13,"div",15),l.YNc(3,eo,2,1,"ng-container",16),l.YNc(4,ta,1,3,"div",17),l.TgZ(5,"app-context-menu",18,19),l.NdJ("onHide",function(){l.CHM(ie);const on=l.oxw(2);return l.KtG(on.shaderVisible=!1)})("onShow",function(){l.CHM(ie);const on=l.oxw(2);return l.KtG(on.shaderVisible=!0)}),l.qZA(),l.YNc(7,ca,3,4,"div",20),l.qZA()}if(2&Pe){const ie=l.MAs(1),tt=l.oxw(2);l.Udp("overflow",tt.shaderVisible?"hidden":""),l.Q6J("ngClass",l.VKq(8,fs,tt.unreadCount>0)),l.xp6(2),l.Q6J("ngForOf",tt.messages)("ngForTrackBy",tt.trackMessages),l.xp6(1),l.Q6J("ngIf",tt.isLoading),l.xp6(1),l.Q6J("ngIf",tt.shaderVisible),l.xp6(3),l.Q6J("ngIf",ie.scrollTop<-100&&tt.startButtonVisible&&!tt.shaderVisible)}}function Wr(Pe,Qt){1&Pe&&(l.TgZ(0,"div",33),l._UZ(1,"i",9),l.TgZ(2,"span"),l._uU(3," \u0427\u0430\u0442 \u043f\u0443\u0441\u0442 "),l.qZA()())}function nt(Pe,Qt){if(1&Pe&&(l.YNc(0,Zs,8,10,"div",11),l.YNc(1,Wr,4,0,"div",12)),2&Pe){const ie=l.oxw();l.Q6J("ngIf",ie.isLoading||ie.messages.length>0),l.xp6(1),l.Q6J("ngIf",!ie.isLoading&&0===ie.messages.length)}}function Be(Pe,Qt){if(1&Pe&&(l.TgZ(0,"div",34),l._UZ(1,"app-avatar",35),l.TgZ(2,"span",36),l._uU(3),l.qZA(),l.TgZ(4,"span",37),l._uU(5),l.qZA()()),2&Pe){const ie=Qt.$implicit;l.xp6(1),l.Q6J("name",ie.author.fullName)("size",1.7)("src",ie.author.avatar),l.xp6(2),l.Oqu(ie.author.fullName),l.xp6(2),l.Oqu(ie.text)}}function Ee(Pe,Qt){1&Pe&&l.GkF(0)}function kt(Pe,Qt){if(1&Pe&&(l.ynx(0),l.YNc(1,Ee,1,0,"ng-container",23),l.BQk()),2&Pe){const ie=l.oxw(2).$implicit;l.oxw();const tt=l.MAs(8);l.xp6(1),l.Q6J("ngTemplateOutlet",tt)("ngTemplateOutletContext",l.VKq(2,Mi,ie.replyTo))}}function On(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",49),l.NdJ("click",function(){l.CHM(ie);const on=l.oxw().$implicit,En=l.oxw(5);return l.KtG(En.mediaViewer.showMedia(on))}),l._UZ(1,"img",50),l.qZA()}if(2&Pe){const ie=l.oxw().$implicit,tt=l.oxw(5);l.xp6(1),l.Q6J("src",tt.thumbnailUrl+ie.name,l.LSH)}}function mi(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",51),l.NdJ("click",function(){l.CHM(ie);const on=l.oxw().$implicit,En=l.oxw(5);return l.KtG(En.mediaViewer.showMedia(on))}),l._UZ(1,"img",50),l.TgZ(2,"div",52),l._UZ(3,"i",53),l.qZA()()}if(2&Pe){const ie=l.oxw().$implicit,tt=l.oxw(5);l.xp6(1),l.Q6J("src",tt.thumbnailUrl+ie.name,l.LSH)}}function Qi(Pe,Qt){if(1&Pe&&(l.TgZ(0,"div",43),l.YNc(1,On,2,1,"div",47),l.YNc(2,mi,4,1,"div",48),l.qZA()),2&Pe){const ie=Qt.$implicit;l.Tol("media-item i"+Qt.index),l.Q6J("ngSwitch",ie.type),l.xp6(1),l.Q6J("ngSwitchCase","PHOTO"),l.xp6(1),l.Q6J("ngSwitchCase","VIDEO")}}function yo(Pe,Qt){if(1&Pe&&(l.TgZ(0,"div"),l.YNc(1,Qi,3,5,"div",46),l.qZA()),2&Pe){const ie=l.oxw(3).$implicit,tt=l.oxw();l.Tol("media-grid g"+ie.attachments.length),l.xp6(1),l.Q6J("ngForOf",ie.attachments)("ngForTrackBy",tt.trackAttachment)}}function Oo(Pe,Qt){if(1&Pe&&l._UZ(0,"app-audio-player",56),2&Pe){const ie=Qt.$implicit,tt=l.oxw(5);l.Q6J("url",tt.fileUrl+ie.name)}}function cs(Pe,Qt){if(1&Pe&&(l.TgZ(0,"div",54),l.YNc(1,Oo,1,1,"app-audio-player",55),l.qZA()),2&Pe){const ie=l.oxw(3).$implicit;l.xp6(1),l.Q6J("ngForOf",ie.attachments)}}function js(Pe,Qt){1&Pe&&l._UZ(0,"app-file-attachment",58),2&Pe&&l.Q6J("attachment",Qt.$implicit)}function lr(Pe,Qt){if(1&Pe&&(l.TgZ(0,"div",54),l.YNc(1,js,1,1,"app-file-attachment",57),l.qZA()),2&Pe){const ie=l.oxw(3).$implicit;l.xp6(1),l.Q6J("ngForOf",ie.attachments)}}function xr(Pe,Qt){if(1&Pe&&(l.ynx(0,43),l.YNc(1,yo,2,4,"div",44),l.YNc(2,cs,2,1,"div",45),l.YNc(3,lr,2,1,"div",45),l.BQk()),2&Pe){const ie=l.oxw(2).$implicit;l.Q6J("ngSwitch",ie.attachmentType),l.xp6(1),l.Q6J("ngSwitchCase","VISUAL"),l.xp6(1),l.Q6J("ngSwitchCase","AUDIO"),l.xp6(1),l.Q6J("ngSwitchCase","FILE")}}const Ir=function(Pe,Qt){return{my:Pe,reply:Qt}};function Or(Pe,Qt){if(1&Pe&&(l.ynx(0),l.TgZ(1,"div",38),l.YNc(2,kt,2,4,"ng-container",16),l.TgZ(3,"div",39),l._uU(4),l.qZA(),l.YNc(5,xr,4,4,"ng-container",40),l.TgZ(6,"div",37)(7,"span",41),l._uU(8),l.qZA(),l.TgZ(9,"div",42)(10,"span"),l._uU(11),l.ALo(12,"date"),l.qZA()()()(),l.BQk()),2&Pe){const ie=l.oxw().$implicit,tt=l.oxw();l.xp6(1),l.Q6J("ngClass",l.WLB(9,Ir,tt.isMy(ie.author),ie.replyTo)),l.xp6(1),l.Q6J("ngIf",ie.replyTo),l.xp6(2),l.hij(" ",ie.author.fullName," "),l.xp6(1),l.Q6J("ngIf",ie.mediaGroup),l.xp6(3),l.Oqu(ie.text),l.xp6(3),l.Oqu(l.xi3(12,6,ie.sendAt,"HH:mm"))}}function er(Pe,Qt){1&Pe&&l.GkF(0)}function Pr(Pe,Qt){if(1&Pe&&(l.ynx(0),l.YNc(1,er,1,0,"ng-container",23),l.BQk()),2&Pe){const ie=l.oxw(2).$implicit;l.oxw();const tt=l.MAs(8);l.xp6(1),l.Q6J("ngTemplateOutlet",tt)("ngTemplateOutletContext",l.VKq(2,Mi,ie.replyTo))}}function cr(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",49),l.NdJ("click",function(){l.CHM(ie);const on=l.oxw(2).$implicit,En=l.oxw();return l.KtG(En.mediaViewer.showMedia(on.attachments[0]))}),l._UZ(1,"img",50),l.qZA()}if(2&Pe){const ie=l.oxw(2).$implicit,tt=l.oxw();l.xp6(1),l.Q6J("src",tt.thumbnailUrl+ie.attachments[0].name,l.LSH)}}function fa(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",51),l.NdJ("click",function(){l.CHM(ie);const on=l.oxw(2).$implicit,En=l.oxw();return l.KtG(En.mediaViewer.showMedia(on.attachments[0]))}),l._UZ(1,"img",50),l.TgZ(2,"div",52),l._UZ(3,"i",53),l.qZA()()}if(2&Pe){const ie=l.oxw(2).$implicit,tt=l.oxw();l.xp6(1),l.Q6J("src",tt.thumbnailUrl+ie.attachments[0].name,l.LSH)}}function Na(Pe,Qt){if(1&Pe&&(l.TgZ(0,"div",62),l._UZ(1,"app-audio-player",56),l.qZA()),2&Pe){const ie=l.oxw(2).$implicit,tt=l.oxw();l.xp6(1),l.Q6J("url",tt.fileUrl+ie.attachments[0].name)}}function Ya(Pe,Qt){if(1&Pe&&(l.TgZ(0,"div",63),l._UZ(1,"app-file-attachment",58),l.qZA()),2&Pe){const ie=l.oxw(2).$implicit;l.xp6(1),l.Q6J("attachment",ie.attachments[0])}}function Me(Pe,Qt){if(1&Pe&&(l.ynx(0),l.TgZ(1,"div",59),l.YNc(2,Pr,2,4,"ng-container",16),l.TgZ(3,"div",39),l._uU(4),l.qZA(),l.ynx(5,43),l.YNc(6,cr,2,1,"div",47),l.YNc(7,fa,4,1,"div",48),l.YNc(8,Na,2,1,"div",60),l.YNc(9,Ya,2,1,"div",61),l.BQk(),l.TgZ(10,"div",37)(11,"span",41),l._uU(12),l.qZA(),l.TgZ(13,"div",42)(14,"span"),l._uU(15),l.ALo(16,"date"),l.qZA()()()(),l.BQk()),2&Pe){const ie=l.oxw().$implicit,tt=l.oxw();l.xp6(1),l.Q6J("ngClass",l.WLB(12,Ir,tt.isMy(ie.author),ie.replyTo)),l.xp6(1),l.Q6J("ngIf",ie.replyTo),l.xp6(2),l.hij(" ",ie.author.fullName," "),l.xp6(1),l.Q6J("ngSwitch",ie.attachments[0].type),l.xp6(1),l.Q6J("ngSwitchCase","PHOTO"),l.xp6(1),l.Q6J("ngSwitchCase","VIDEO"),l.xp6(1),l.Q6J("ngSwitchCase","AUDIO"),l.xp6(4),l.Oqu(ie.text),l.xp6(3),l.Oqu(l.xi3(16,9,ie.sendAt,"HH:mm"))}}function pt(Pe,Qt){1&Pe&&l.GkF(0)}function He(Pe,Qt){if(1&Pe&&(l.ynx(0),l.YNc(1,pt,1,0,"ng-container",23),l.BQk()),2&Pe){const ie=l.oxw(2).$implicit;l.oxw();const tt=l.MAs(8);l.xp6(1),l.Q6J("ngTemplateOutlet",tt)("ngTemplateOutletContext",l.VKq(2,Mi,ie.replyTo))}}function Et(Pe,Qt){if(1&Pe&&(l.ynx(0),l.TgZ(1,"div",64),l.YNc(2,He,2,4,"ng-container",16),l.TgZ(3,"div",39),l._uU(4),l.qZA(),l.TgZ(5,"div",37)(6,"span",41),l._uU(7),l.qZA(),l.TgZ(8,"div",42)(9,"span"),l._uU(10),l.ALo(11,"date"),l.qZA()()()(),l.BQk()),2&Pe){const ie=l.oxw().$implicit,tt=l.oxw();l.xp6(1),l.Q6J("ngClass",l.WLB(8,Ir,tt.isMy(ie.author),ie.replyTo)),l.xp6(1),l.Q6J("ngIf",ie.replyTo),l.xp6(2),l.hij(" ",ie.author.fullName," "),l.xp6(3),l.Oqu(ie.text),l.xp6(3),l.Oqu(l.xi3(11,5,ie.sendAt,"HH:mm"))}}function nn(Pe,Qt){if(1&Pe&&(l.YNc(0,Or,13,12,"ng-container",16),l.YNc(1,Me,17,15,"ng-container",16),l.YNc(2,Et,12,11,"ng-container",16)),2&Pe){const ie=Qt.$implicit;l.Q6J("ngIf",ie.attachments.length>1),l.xp6(1),l.Q6J("ngIf",1===ie.attachments.length),l.xp6(1),l.Q6J("ngIf",0===ie.attachments.length)}}function kn(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",49),l.NdJ("click",function(){l.CHM(ie);const on=l.oxw(2).$implicit,En=l.oxw();return l.KtG(En.mediaViewer.showMedia(on.attachments[0]))}),l._UZ(1,"img",50),l.qZA()}if(2&Pe){const ie=l.oxw(2).$implicit,tt=l.oxw();l.xp6(1),l.Q6J("src",tt.thumbnailUrl+ie.attachments[0].name,l.LSH)}}function Ln(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",51),l.NdJ("click",function(){l.CHM(ie);const on=l.oxw(2).$implicit,En=l.oxw();return l.KtG(En.mediaViewer.showMedia(on.attachments[0]))}),l._UZ(1,"video",66),l.TgZ(2,"div",52),l._UZ(3,"i",53),l.qZA()()}if(2&Pe){const ie=l.oxw(2).$implicit,tt=l.oxw();l.xp6(1),l.Q6J("controls",!1)("src",tt.thumbnailUrl+ie.attachments[0].name,l.LSH)}}function ui(Pe,Qt){if(1&Pe&&(l.TgZ(0,"div",62),l._UZ(1,"app-audio-player",56),l.qZA()),2&Pe){const ie=l.oxw(2).$implicit,tt=l.oxw();l.xp6(1),l.Q6J("url",tt.fileUrl+ie.attachments[0].name)}}function to(Pe,Qt){if(1&Pe&&(l.TgZ(0,"div",63),l._UZ(1,"app-file-attachment",58),l.qZA()),2&Pe){const ie=l.oxw(2).$implicit;l.xp6(1),l.Q6J("attachment",ie.attachments[0])}}function uo(Pe,Qt){if(1&Pe&&(l.ynx(0)(1,43),l.YNc(2,kn,2,1,"div",47),l.YNc(3,Ln,4,2,"div",48),l.YNc(4,ui,2,1,"div",60),l.YNc(5,to,2,1,"div",61),l.BQk()()),2&Pe){const ie=l.oxw().$implicit;l.xp6(1),l.Q6J("ngSwitch",ie.attachments[0].type),l.xp6(1),l.Q6J("ngSwitchCase","PHOTO"),l.xp6(1),l.Q6J("ngSwitchCase","VIDEO"),l.xp6(1),l.Q6J("ngSwitchCase","AUDIO")}}function _o(Pe,Qt){if(1&Pe&&(l.TgZ(0,"div",65)(1,"div",39),l._uU(2),l.qZA(),l.YNc(3,uo,6,4,"ng-container",16),l.TgZ(4,"div",37)(5,"span",41),l._uU(6),l.qZA()()()),2&Pe){const ie=Qt.$implicit;l.xp6(2),l.hij(" ",ie.author.fullName," "),l.xp6(1),l.Q6J("ngIf",ie.attachments&&1===ie.attachments.length),l.xp6(3),l.Oqu(ie.text)}}function Yi(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"span",67),l._uU(1),l.qZA(),l.TgZ(2,"textarea",68),l.NdJ("ngModelChange",function(on){l.CHM(ie);const En=l.oxw();return l.KtG(En.attDescription=on)}),l.qZA(),l.TgZ(3,"div",69)(4,"p-button",70),l.NdJ("onClick",function(){l.CHM(ie);const on=l.oxw();return l.KtG(on.sendATT())}),l.qZA()()}if(2&Pe){const ie=l.oxw();l.xp6(1),l.hij("\u0412 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 \u043a \u0437\u0430\u0434\u0430\u0447\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043e ",ie.attFilesCount," \u0444\u0430\u0439\u043b\u043e\u0432"),l.xp6(1),l.Q6J("autoResize",!0)("cols",50)("rows",4)("ngModel",ie.attDescription),l.xp6(2),l.Q6J("loading",ie.attRequestBegin)}}const Co=function(){return{width:"min-content",height:"50vh",minWidth:"27rem",minHeight:"15rem",maxWidth:"70vw",maxHeight:"90vh"}},bi=function(){return{display:"grid",padding:"0",height:"100%",grid:"1fr min-content / 1fr"}};let Yo=(()=>{class Pe{constructor(ie,tt,on,En,$n){this.personality=ie,this.api=tt,this.mediaViewer=on,this.chatService=En,this.rt=$n,this.chatId=0,this.isShow=!1,this.thumbnailUrl="/api/private/thumbnail/",this.fileUrl="/api/private/attachment/",this.messages=[],this.first=0,this.totalMessages=0,this.sendingText="",this.sendingFiles=[],this.unreadCount=0,this.isBeginSending=!1,this.isLoading=!1,this.isEnd=!1,this.shaderVisible=!1,this.messageContexted=-1,this.startButtonVisibleEmitter=new l.vpe,this.startButtonVisible=!0,this.loadingsStubs=Array(5).fill(null),this.subscriptions=new qi.xf,this.attDialogVisible=!1,this.attDescription="",this.attRequestBegin=!1,this.attFilesCount=0,this.attMessageId=null}get isNotReady(){return 0===this.sendingText.trim().length&&0===this.sendingFiles.length}trackAttachment(ie,tt){return tt.name}isMy(ie){var tt;return(null===(tt=this.personality.me)||void 0===tt?void 0:tt.login)===ie.login}ngOnInit(){}ngAfterViewInit(){const ie=this.startButtonVisibleEmitter.pipe((0,Bi.b)(()=>this.startButtonVisible=!1),(0,Ys.b)(300));this.subscriptions.addSubscription("startButton",ie.subscribe(()=>this.startButtonVisible=!0))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}show(ie){const tt=this.chatId!==ie;if(this.chatId=ie,this.isShow&&tt)return this.isShow=!1,void setTimeout(()=>{this.isShow=!0},500);this.isShow=!0}trackMessages(ie,tt){return tt.superMessageId+tt.text}loadChat(){this.api.getChat(this.chatId).subscribe({next:ie=>{this.currentChat=ie,this.chatService.currentOpenChat=ie.chatId}}),this.api.getCountOfUnreadMessages(this.chatId).subscribe(ie=>this.unreadCount=ie),this.subscriptions.addSubscription("chatUpd",this.rt.chatUpdated().subscribe(this.updateChat.bind(this)))}loadMessages(){!this.isEnd&&!this.isLoading&&(this.isLoading=!0,this.api.getChatMessages(this.chatId,this.first,25).subscribe({next:ie=>{this.first=this.first+ie.size,this.totalMessages=ie.totalElements,this.isEnd=ie.last,this.isLoading=!1,this.messages=[...this.messages,...ie.content]},error:()=>{this.isLoading=!1}}))}sendMessage(){var ie;this.isBeginSending=!0,this.editMessage?this.api.editChatMessage(this.editMessage.superMessageId,this.sendingText).subscribe({next:()=>{this.isBeginSending=!1,this.sendingText="",this.sendingFiles=[],this.editMessage=void 0,setTimeout(()=>{var tt;null===(tt=this.messageInput)||void 0===tt||tt.nativeElement.focus()})},error:()=>{this.isBeginSending=!1,setTimeout(()=>{var tt;null===(tt=this.messageInput)||void 0===tt||tt.nativeElement.focus()})}}):this.api.sendChatMessage(this.chatId,this.sendingText,this.sendingFiles,null===(ie=this.replyMessage)||void 0===ie?void 0:ie.superMessageId).subscribe({next:()=>{this.isBeginSending=!1,this.sendingText="",this.sendingFiles=[],this.replyMessage=void 0,setTimeout(()=>{var tt;null===(tt=this.messageInput)||void 0===tt||tt.nativeElement.focus()})},error:()=>{this.isBeginSending=!1,setTimeout(()=>{var tt;null===(tt=this.messageInput)||void 0===tt||tt.nativeElement.focus()})}})}messageInputKeyDown(ie){var tt,on;if("Enter"===ie.key)if(ie.ctrlKey||this.isNotReady){const En=ie.target,$n=En.selectionStart,Hi=En.selectionEnd;En.value=En.value.substring(0,null!=$n?$n:-1)+"\n"+En.value.substring(null!=Hi?Hi:-1),this.sendingText=En.value,En.selectionStart=null!==(tt=$n+1)&&void 0!==tt?tt:0,En.selectionEnd=null!==(on=$n+1)&&void 0!==on?on:0}else ie.preventDefault(),this.sendMessage()}insertEmoji(ie){var tt,on,En;if(null===(tt=this.messageInput)||void 0===tt||!tt.nativeElement)return;const $n=this.messageInput.nativeElement;$n.focus();const Hi=$n.selectionStart,Ur=$n.selectionEnd;$n.value=$n.value.substring(0,null!=Hi?Hi:-1)+ie+$n.value.substring(null!=Ur?Ur:-1),$n.selectionStart=null!==(on=Hi+1)&&void 0!==on?on:0,$n.selectionEnd=null!==(En=Hi+1)&&void 0!==En?En:0,this.sendingText=$n.value}whenOpenPanel(){var ie,tt;this.loadChat(),this.loadMessages(),this.subscriptions.addSubscription("msgCr",this.rt.chatMessageCreatedByChat(this.chatId).subscribe(this.createMessage.bind(this))),this.subscriptions.addSubscription("msgUpd",this.rt.chatMessageUpdated(this.chatId).subscribe(this.updateMessage.bind(this))),this.subscriptions.addSubscription("msgDel",this.rt.chatMessageDeleted(this.chatId).subscribe(this.deleteMessage.bind(this))),this.subscriptions.addSubscription("unreadCount",this.rt.updateCountUnreadMessages(null!==(tt=null===(ie=this.personality.me)||void 0===ie?void 0:ie.login)&&void 0!==tt?tt:"").subscribe(on=>{this.chatId===on.chatId&&(this.unreadCount=on.count)}))}flushMessages(){this.messages=[],this.first=0,this.totalMessages=0,this.sendingText="",this.sendingFiles=[],this.replyMessage=void 0,this.isBeginSending=!1,this.isLoading=!1,this.isEnd=!1,this.chatService.currentOpenChat=void 0,this.subscriptions.unsubscribeAll()}getMessagesIds(ie){return ie.includedMessages?JSON.stringify(ie.includedMessages):"[]"}showContext(ie,tt){if(!this.contextMenu)return;this.messageContexted=tt.superMessageId;const on=[{label:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c",icon:"mdi-reply",command:()=>{var En;this.replyMessage=tt,null===(En=this.messageInput)||void 0===En||En.nativeElement.focus()}}];tt.attachments.length>0&&on.push({label:"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043a \u0437\u0430\u0434\u0430\u0447\u0435",icon:"mdi-add_link",command:()=>{this.attFilesCount=tt.attachments.length,this.attDialogVisible=!0,this.attMessageId=tt.superMessageId}}),this.isMy(tt.author)&&on.push({label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",command:()=>{var En;this.editMessage=tt,this.sendingText=tt.text,null===(En=this.messageInput)||void 0===En||En.nativeElement.focus()}},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"mdi-delete",style:ss.DANGER,command:()=>{this.api.deleteChatMessage(this.chatId,tt.superMessageId).subscribe()}}),this.contextMenu.show(ie,on)}clearReplyMessage(){this.replyMessage=void 0}clearEditMessage(){this.editMessage=void 0,this.sendingText=""}sendATT(){this.attMessageId&&(this.attRequestBegin=!0,this.api.attachToTask(this.attMessageId,this.chatId,this.attDescription).subscribe({next:()=>this.clearATT(),error:()=>this.attRequestBegin=!1}))}clearATT(){this.attRequestBegin=!1,this.attDialogVisible=!1,this.attDescription="",this.attMessageId=null,this.attFilesCount=0}createMessage(ie){this.messages=[ie,...this.messages],this.first++,this.totalMessages++}updateMessage(ie){const tt=this.messages.findIndex(on=>on.superMessageId===ie.superMessageId);-1!=tt&&this.messages.splice(tt,1,ie)}deleteMessage(ie){this.messages=this.messages.filter(tt=>tt.superMessageId!==ie.superMessageId)}updateChat(ie){ie.chatId===this.chatId&&(this.currentChat=ie)}}return Pe.\u0275fac=function(ie){return new(ie||Pe)(l.Y36(Ts.F),l.Y36(Fs.s),l.Y36(Q.E),l.Y36(Xs.a),l.Y36(Bs.U))},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["app-chat-panel"]],viewQuery:function(ie,tt){if(1&ie&&(l.Gf(Ho,5),l.Gf(wo,5)),2&ie){let on;l.iGM(on=l.CRH())&&(tt.messageInput=on.first),l.iGM(on=l.CRH())&&(tt.contextMenu=on.first)}},decls:11,vars:12,consts:[["appendTo","body","position","bottom-right",3,"visible","contentStyle","dismissableMask","onHide","onShow","visibleChange"],["pTemplate","header"],["pTemplate","content"],["editMessagePreview",""],["messageBody",""],["replyMessageTemp",""],["appendTo","body","contentStyleClass","flex flex-column gap-2",3,"header","dismissableMask","visible","modal","draggable","visibleChange","onHide"],[1,"flexed","hcenter","gap5"],[1,"caption","size-small","f-color-500","flexed","hcenter","gap3"],[1,"mdi-chat"],[3,"employees"],["appScrollToBottomEmitter","","class","chat-view",3,"ngClass","overflow","onScrollToBottom","scroll",4,"ngIf"],["class","chat-view empty caption size-big wt-bold f-color-500",4,"ngIf"],["appScrollToBottomEmitter","",1,"chat-view",3,"ngClass","onScrollToBottom","scroll"],["list",""],["class","message-wrapper",3,"ngClass","contextmenu",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["class","shader",3,"transform",4,"ngIf"],[3,"onHide","onShow"],["contextMenu",""],["class","scroll-to-start-button",3,"transform","click",4,"ngIf"],[1,"message-wrapper",3,"ngClass","contextmenu"],[3,"deleted","name","size","src"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","message-wrapper",4,"ngFor","ngForOf"],[1,"message-wrapper"],["size","2.3rem","shape","circle"],["width","15rem","height","5rem","borderRadius","1rem 1rem 1rem .3rem"],[1,"shader"],[1,"scroll-to-start-button",3,"click"],["class","ur-badge","severity","warning",3,"style","value",4,"ngIf"],[1,"mdi-arrow_downward"],["severity","warning",1,"ur-badge",3,"value"],[1,"chat-view","empty","caption","size-big","wt-bold","f-color-500"],[1,"message-preview"],["shape","square",1,"avatar",3,"name","size","src"],[1,"author-name"],[1,"message-text"],[1,"chat-message","media-group",3,"ngClass"],[1,"message-header"],[3,"ngSwitch",4,"ngIf"],["appEmojiStyleApply","",1,"content"],[1,"message-footer"],[3,"ngSwitch"],[3,"class",4,"ngSwitchCase"],["class","flexed column gap5",4,"ngSwitchCase"],[3,"class","ngSwitch",4,"ngFor","ngForOf","ngForTrackBy"],["class","img-container",3,"click",4,"ngSwitchCase"],["class","vid-container",3,"click",4,"ngSwitchCase"],[1,"img-container",3,"click"],["alt","",3,"src"],[1,"vid-container",3,"click"],[1,"play-icon"],[1,"mdi-play_arrow"],[1,"flexed","column","gap5"],[3,"url",4,"ngFor","ngForOf"],[3,"url"],[3,"attachment",4,"ngFor","ngForOf"],[3,"attachment"],[1,"chat-message","single-media",3,"ngClass"],["class","aud-container",4,"ngSwitchCase"],["class","file-container",4,"ngSwitchDefault"],[1,"aud-container"],[1,"file-container"],[1,"chat-message",3,"ngClass"],[1,"reply-message"],[3,"controls","src"],[1,"text-lg","font-semibold","text-bluegray-400"],["pInputTextarea","","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0444\u0430\u0439\u043b\u0430\u043c...",3,"autoResize","cols","rows","ngModel","ngModelChange"],[1,"flex","gap-3","justify-content-end"],["label","\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c","icon","mdi-add_link",3,"loading","onClick"]],template:function(ie,tt){1&ie&&(l.TgZ(0,"p-dialog",0),l.NdJ("onHide",function(){return tt.flushMessages()})("onShow",function(){return tt.whenOpenPanel()})("visibleChange",function(En){return tt.isShow=En}),l.YNc(1,sr,5,3,"ng-template",1),l.YNc(2,nt,2,2,"ng-template",2),l.qZA(),l.YNc(3,Be,6,5,"ng-template",null,3,l.W1O),l.YNc(5,nn,3,3,"ng-template",null,4,l.W1O),l.YNc(7,_o,7,3,"ng-template",null,5,l.W1O),l.TgZ(9,"p-dialog",6),l.NdJ("visibleChange",function(En){return tt.attDialogVisible=En})("onHide",function(){return tt.clearATT()}),l.YNc(10,Yi,5,6,"ng-template",2),l.qZA()),2&ie&&(l.Akn(l.DdM(10,Co)),l.Q6J("visible",tt.isShow)("contentStyle",l.DdM(11,bi))("dismissableMask",!0),l.xp6(9),l.Q6J("header","\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043a \u0437\u0430\u0434\u0430\u0447\u0435")("dismissableMask",!0)("visible",tt.attDialogVisible)("modal",!0)("draggable",!1))},dependencies:[e.mk,e.sg,e.O5,e.tP,e.RF,e.n9,e.ED,at.zx,fe.Fj,fe.JJ,fe.On,Mo.jx,Ct.g,Ot.V,Mt.Ct,Ne.O,f.A,Ns,Qr,Io,Wo,or.k,kr,e.uU],styles:['.chat-view[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column-reverse;position:relative;gap:.5rem;overflow-y:auto;overflow-x:hidden;padding:.5rem 1rem 1.5rem;overscroll-behavior-y:none;background-color:var(--bgc-001);border-top:1px solid var(--bgc-200)}.chat-view.empty[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.5rem;align-items:center;justify-content:center;height:100%;width:100%}.chat-view.unread[_ngcontent-%COMP%]{box-shadow:inset 0 0 2px var(--warm-500)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]{display:grid;grid:100%/min-content 1fr;gap:.5rem;width:100%;align-items:flex-end;cursor:pointer}.chat-view[_ngcontent-%COMP%]   .message-wrapper.shaded[_ngcontent-%COMP%]{z-index:1}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]{display:grid;grid:min-content 1fr/1fr;padding:.7rem 1rem;background-color:var(--bgc-200);box-shadow:0 0 1px 1px var(--tc-300);border-radius:1rem 1rem 1rem .3rem;width:-moz-fit-content;width:fit-content;max-width:100%}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.reply[_ngcontent-%COMP%]{grid:min-content min-content 1fr/1fr}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.my[_ngcontent-%COMP%]{background-color:var(--mc-0);box-shadow:0 0 1px 1px var(--mc-300)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.my[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{color:var(--mc-400)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.my[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:var(--mc-500)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.my[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .message-footer[_ngcontent-%COMP%]{color:var(--mc-300)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.unread[_ngcontent-%COMP%]{background-color:var(--warm-100);box-shadow:0 0 1px 1px var(--warm-300)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.unread[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{color:var(--warm-500)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.unread[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:var(--warm-700)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.unread[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .message-footer[_ngcontent-%COMP%]{color:var(--warm-500)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]{overflow:hidden}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]{padding:.4rem;display:grid;gap:.3rem;width:100%;height:100%;max-width:20rem;top:0;left:0}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g[_ngcontent-%COMP%]{width:100%;height:100%}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g2[_ngcontent-%COMP%]{grid-template-areas:"a b"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g3[_ngcontent-%COMP%]{grid-template-areas:"a a" "b c"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g4[_ngcontent-%COMP%]{grid-template-areas:"a a a" "b c d"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g5[_ngcontent-%COMP%]{grid-template-areas:"a a" "b c" "d e"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g6[_ngcontent-%COMP%]{grid-template-areas:"a a a" "b b c" "d e f"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g7[_ngcontent-%COMP%]{grid-template-areas:"a b c" "d d d" "e f g"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g8[_ngcontent-%COMP%]{grid-template-areas:"a b" "c d" "e f" "g h"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g9[_ngcontent-%COMP%]{grid-template-areas:"a a b" "c d e" "f g g" "h h i"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g10[_ngcontent-%COMP%]{grid-template-areas:"a b c" "d d e" "f g h" "i j j"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:.3rem;cursor:pointer}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i0[_ngcontent-%COMP%]{grid-area:a}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i1[_ngcontent-%COMP%]{grid-area:b}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i2[_ngcontent-%COMP%]{grid-area:c}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i3[_ngcontent-%COMP%]{grid-area:d}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i4[_ngcontent-%COMP%]{grid-area:e}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i5[_ngcontent-%COMP%]{grid-area:f}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i6[_ngcontent-%COMP%]{grid-area:g}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i7[_ngcontent-%COMP%]{grid-area:h}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i8[_ngcontent-%COMP%]{grid-area:i}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i9[_ngcontent-%COMP%]{grid-area:j}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden;filter:brightness(.9);cursor:pointer;transition:filter .2s ease-in-out}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:100%;height:100%;border-radius:.3rem}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]:hover, .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]:hover{filter:brightness(1)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]{padding:.4rem;position:relative;width:100%;height:100%;max-width:20rem;min-width:5rem;aspect-ratio:1;overflow:hidden;filter:brightness(.9);cursor:pointer;transition:filter .2s ease-in-out}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:100%;height:100%;border-radius:.3rem}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]:hover, .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]:hover{filter:brightness(1)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .aud-container[_ngcontent-%COMP%]{padding:.4rem}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{color:var(--tc-600);font-size:.85rem;font-weight:700;margin-bottom:.2rem}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:var(--tc-700);font-size:1rem;display:flex;flex-wrap:wrap;justify-content:flex-end;overflow-wrap:break-word;white-space:pre-wrap;overflow:hidden}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0;max-width:100%}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .message-footer[_ngcontent-%COMP%]{display:flex;transform:translateY(.3rem);align-items:flex-end;color:var(--tc-400);font-size:.8rem;font-weight:700;margin-left:.5rem}.scroll-to-start-button[_ngcontent-%COMP%]{position:absolute;bottom:1rem;right:.5rem;z-index:1;cursor:pointer;color:#fff;background-color:var(--bgc-400);width:3rem;height:3rem;border-radius:50%;display:flex;align-items:center;justify-content:center;opacity:.7;font-size:1.2rem;box-shadow:0 0 .7px #00000006,0 0 1.9px #00000009,0 0 4.5px #0000000c,0 0 15px #00000012;transition:all .2s ease-in-out}.scroll-to-start-button[_ngcontent-%COMP%]:hover{opacity:1}.message-preview[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/min-content 1fr;grid-template-areas:"avatar name" "avatar message";height:max-content;row-gap:0;column-gap:.5rem;flex:1;margin-left:.7rem}.message-preview[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{grid-area:avatar}.message-preview[_ngcontent-%COMP%]   .author-name[_ngcontent-%COMP%]{grid-area:name;font-size:.8rem;font-weight:700;color:var(--tc-600)}.message-preview[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{grid-area:message;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;color:var(--tc-700);font-size:.9rem;font-weight:500}.chat-input[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/100%;height:max-content;z-index:1;box-shadow:0 0 .3px #00000005,0 0 .8px #00000007,0 0 1.5px #00000009,0 0 2.7px #0000000b,0 0 5px #0000000d,0 0 12px #00000012}.chat-input[_ngcontent-%COMP%]   .preview-message-wrapper[_ngcontent-%COMP%]{display:grid;gap:.3rem;padding:.5rem;border-bottom:1px solid var(--bgc-200)}.chat-input[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:.3rem;height:max-content}.chat-input.unread[_ngcontent-%COMP%]{box-shadow:0 0 .3px #ff961f05,0 0 .8px #ff961f07,0 0 1.5px #ff961f09,0 0 2.7px #ff961f0b,0 0 5px #ff961f0d,0 0 12px #ff961f12}.chat-input[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem}.shader[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;pointer-events:none}.play-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#00000080;border-radius:50%;width:2rem;height:2rem;font-size:1rem;display:flex;justify-content:center;align-items:center;color:#fff}.reply-message[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/100%;border-left:2px solid var(--mc-300);padding:.1rem .5rem;border-radius:.2rem;margin-bottom:.4rem}'],data:{animation:[j.U1]}}),Pe})();var Us=b(9114);let We=(()=>{class Pe{}return Pe.\u0275fac=function(ie){return new(ie||Pe)},Pe.\u0275mod=l.oAB({type:Pe}),Pe.\u0275inj=l.cJS({}),Pe})();var yt=b(6954),Vt=b(6847);function dn(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"span",4),l.NdJ("click",function(on){l.CHM(ie),l.oxw();const En=l.MAs(2);return l.KtG(En.toggle(on))}),l.TgZ(1,"span"),l._uU(2),l.qZA(),l._UZ(3,"i",5),l.qZA()}if(2&Pe){const ie=l.oxw();l.xp6(2),l.Oqu(ie.currentName)}}function vn(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",7),l.NdJ("click",function(){const En=l.CHM(ie).$implicit,$n=l.oxw(2),Hi=l.MAs(2);return $n.onChange(En.value),l.KtG(Hi.hide())}),l._uU(1),l.qZA()}if(2&Pe){const ie=Qt.$implicit;l.xp6(1),l.hij(" ",ie.label," ")}}function wn(Pe,Qt){if(1&Pe&&l.YNc(0,vn,2,1,"div",6),2&Pe){const ie=l.oxw();l.Q6J("ngForOf",ie.variationList)("ngForTrackBy",ie.trackByVariation)}}let Hn=(()=>{class Pe{constructor(){this.variationList=[],this.value="",this.valueChange=new l.vpe}get currentName(){var ie,tt;return this.value&&null!==(tt=null===(ie=this.variationList.find(on=>on.value===this.value))||void 0===ie?void 0:ie.label)&&void 0!==tt?tt:""}trackByVariation(ie,tt){return tt.value}ngOnInit(){}ngOnChanges(ie){const tt=ie.value;tt&&!tt.currentValue&&this.variationList&&this.variationList.length&&this.onChange(this.variationList[0].value)}onChange(ie){this.value=ie,this.valueChange.emit(ie)}}return Pe.\u0275fac=function(ie){return new(ie||Pe)},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["app-input-variation-selector"]],inputs:{variationList:"variationList",value:"value"},outputs:{valueChange:"valueChange"},features:[l.TTD],decls:4,vars:1,consts:[["class","caption size-small wt-bold f-color-primary flexed hstart input-field",3,"click",4,"ngIf"],["styleClass","no-paddings"],["overlayPanelEl",""],["pTemplate","content"],[1,"caption","size-small","wt-bold","f-color-primary","flexed","hstart","input-field",3,"click"],[1,"mdi-arrow_drop_down"],["pRipple","","class","list-item",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["pRipple","",1,"list-item",3,"click"]],template:function(ie,tt){1&ie&&(l.YNc(0,dn,4,1,"span",0),l.TgZ(1,"p-overlayPanel",1,2),l.YNc(3,wn,1,2,"ng-template",3),l.qZA()),2&ie&&l.Q6J("ngIf",tt.variationList&&tt.variationList.length)},dependencies:[e.sg,e.O5,Mo.jx,_t.T,Ni.H],styles:[".input-field[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:opacity .15s ease-in-out}.input-field[_ngcontent-%COMP%]:hover{opacity:.8}.list-item[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .15s ease-in-out;color:var(--tc-600);padding:.5rem .9rem}.list-item[_ngcontent-%COMP%]:hover{background-color:var(--mc-0);color:var(--mc-500)}"]}),Pe})();var Yt=b(7102),Re=b(2145),Ze=b(8952),ft=b(4496),Lt=b(9873),ln=b(7575),Tn=b(1004),Mn=b(7384),Xn=b(7579),ti=b(8675),Ai=b(1884),ji=b(4004),Vo=b(4782),zo=b(9300),mo=b(1135),Jo=b(3900),Po=b(590);let dr=(()=>{class Pe{constructor(){this.control=new fe.NI(0),this.onZero=new l.vpe,this.subscriptions=new qi.xf,this.onChange=ie=>{},this.onTouched=()=>{}}add(ie=1){var tt;this.control.setValue((null!==(tt=this.control.value)&&void 0!==tt?tt:0)+ie)}remove(ie=1){var tt;this.control.setValue((null!==(tt=this.control.value)&&void 0!==tt?tt:0)-ie)}ngOnInit(){this.subscriptions.addSubscription("cgVl",this.control.valueChanges.pipe((0,ji.U)(ie=>"number"==typeof ie&&!isNaN(ie)&&ie>=0?ie:(this.control.setValue(0,{emitEvent:!1}),0)),(0,Bi.b)(ie=>0===ie&&this.onZero.emit())).subscribe(ie=>this.onChange(ie)))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(ie){this.onChange=ie}registerOnTouched(ie){this.onTouched=ie}setDisabledState(ie){ie?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}writeValue(ie){null==ie||"number"!=typeof ie||isNaN(ie)?this.control.setValue(0,{emitEvent:!1}):this.control.setValue(ie,{emitEvent:!1})}}return Pe.\u0275fac=function(ie){return new(ie||Pe)},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["app-count-input"]],outputs:{onZero:"onZero"},features:[l._Bn([{provide:fe.JU,useExisting:(0,l.Gpc)(()=>Pe),multi:!0}])],decls:4,vars:1,consts:[[1,"flex","align-items-center","border-1","border-round-md","border-bluegray-100","text-xs","overflow-hidden"],[1,"mdi-remove","p-1","cursor-pointer","hover:text-red-400","hover:bg-red-50",3,"click"],[1,"block","appearance-none","border-x-1","border-y-none","border-bluegray-100","outline-none","w-2rem","text-sm","text-center",3,"formControl"],[1,"mdi-add","p-1","cursor-pointer","hover:text-green-400","hover:bg-green-50",3,"click"]],template:function(ie,tt){1&ie&&(l.TgZ(0,"span",0)(1,"span",1),l.NdJ("click",function(){return tt.remove()}),l.qZA(),l._UZ(2,"input",2),l.TgZ(3,"span",3),l.NdJ("click",function(){return tt.add()}),l.qZA()()),2&ie&&(l.xp6(2),l.Q6J("formControl",tt.control))},dependencies:[fe.Fj,fe.JJ,fe.oH]}),Pe})();const Yr=["overlayPanel"];function Lr(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",8)(1,"span",9),l._uU(2),l.qZA(),l.TgZ(3,"app-count-input",10),l.NdJ("onZero",function(){const En=l.CHM(ie).index,$n=l.oxw();return l.KtG($n.removeEquipment.next(En))}),l.qZA()()}if(2&Pe){const ie=Qt.$implicit;l.Q6J("formGroup",ie),l.xp6(2),l.Oqu(null==ie.value.equipment?null:ie.value.equipment.name)}}function Hs(Pe,Qt){1&Pe&&(l.TgZ(0,"div",21),l._UZ(1,"span",22),l.TgZ(2,"span"),l._uU(3,"\u041f\u0443\u0441\u0442\u043e"),l.qZA()())}function Sa(Pe,Qt){1&Pe&&(l.TgZ(0,"div",23),l._UZ(1,"span",24),l.TgZ(2,"span"),l._uU(3,"\u041e\u0448\u0438\u0431\u043a\u0430"),l.qZA()())}function xi(Pe,Qt){1&Pe&&(l.TgZ(0,"div",25),l._UZ(1,"p-progressSpinner",26),l.qZA())}const wi=function(Pe){return{"bg-primary-50":Pe}};function Oi(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",28),l.NdJ("mouseenter",function(){const En=l.CHM(ie).index,$n=l.oxw(4);return l.KtG($n.selectedAvailableEquipmentsIndex.next(En))})("mouseleave",function(){l.CHM(ie);const on=l.oxw(4);return l.KtG(on.selectedAvailableEquipmentsIndex.next(-1))})("click",function(){const En=l.CHM(ie).index,$n=l.oxw(4);return l.KtG($n.selectAvailableEquipment.next(En))}),l.ALo(1,"async"),l.TgZ(2,"span",29),l.ALo(3,"async"),l._uU(4),l.qZA(),l.TgZ(5,"span",30),l.ALo(6,"async"),l._uU(7),l.qZA()()}if(2&Pe){const ie=Qt.$implicit,tt=Qt.index,on=l.oxw(4);l.Q6J("ngClass",l.VKq(11,wi,l.lcZ(1,5,on.selectedAvailableEquipments$)===tt)),l.xp6(2),l.Q6J("ngClass",l.lcZ(3,7,on.selectedAvailableEquipments$)===tt?"text-primary-400":"text-bluegray-600"),l.xp6(2),l.hij(" ",ie.name," "),l.xp6(1),l.Q6J("ngClass",l.lcZ(6,9,on.selectedAvailableEquipments$)===tt?"text-primary-400":"text-bluegray-400"),l.xp6(2),l.hij(" ",ie.price," \u0440\u0443\u0431. ")}}function no(Pe,Qt){if(1&Pe&&(l.ynx(0),l.YNc(1,Oi,8,13,"div",27),l.BQk()),2&Pe){const ie=l.oxw().ngIf;l.xp6(1),l.Q6J("ngForOf",ie.value)}}function Qo(Pe,Qt){if(1&Pe&&(l.TgZ(0,"div",16),l.YNc(1,Hs,4,0,"div",17),l.YNc(2,Sa,4,0,"div",18),l.YNc(3,xi,2,0,"div",19),l.YNc(4,no,2,1,"ng-container",20),l.qZA()),2&Pe){const ie=Qt.ngIf,tt=l.oxw(2);l.Udp("max-height","20rem"),l.Q6J("ngSwitch",ie.loadingState),l.xp6(1),l.Q6J("ngSwitchCase",tt.LoadingState.EMPTY),l.xp6(1),l.Q6J("ngSwitchCase",tt.LoadingState.ERROR),l.xp6(1),l.Q6J("ngSwitchCase",tt.LoadingState.LOADING),l.xp6(1),l.Q6J("ngSwitchCase",tt.LoadingState.READY)}}function Lo(Pe,Qt){if(1&Pe&&(l.TgZ(0,"div",11)(1,"span",12),l._UZ(2,"i",13)(3,"input",14),l.qZA(),l.YNc(4,Qo,5,7,"div",15),l.ALo(5,"async"),l.qZA()),2&Pe){const ie=l.oxw();l.xp6(3),l.Q6J("formControl",ie.queryFilterControl),l.xp6(1),l.Q6J("ngIf",l.lcZ(5,2,ie.equipments$))}}let ks=(()=>{class Pe{constructor(ie){this.api=ie,this.equipmentsList=new fe.Oe([]),this.availableEquipmentsLoadingState=Mn.Gu.LOADING,this.queryFilterControl=new fe.NI(""),this.openAvailableEquipmentsView=new Xn.x,this.openAvailableEquipmentsView$=this.openAvailableEquipmentsView.pipe((0,Bi.b)(()=>{this.availableEquipmentsLoadingState=Mn.Gu.LOADING,this.selectedAvailableEquipmentsIndex.next(-1)})),this.closeAvailableEquipmentsView$=new Xn.x,this.filterChange$=this.queryFilterControl.valueChanges.pipe((0,ti.O)(""),(0,Ys.b)(500),(0,Ai.x)(),(0,ji.U)(tt=>[tt])),this.LoadingState=Mn.Gu,this.selectAvailableEquipment=new Xn.x,this.removeEquipment=new Xn.x,this.equipments$=qi.aN.ofAltAll(this.filterChange$,this.api.getClientEquipments.bind(this.api),[this.selectAvailableEquipment.asObservable(),this.removeEquipment.asObservable()]).pipe((0,ji.U)(tt=>(tt.value=tt.value.filter(on=>this.equipmentsList.value.map(En=>En.equipment).every(En=>(null==En?void 0:En.clientEquipmentId)!==on.clientEquipmentId)),tt)),(0,Vo.d)(1)),this.keysControl$=(0,fo.R)(document.body,"keydown").pipe(ws(this.openAvailableEquipmentsView$),(0,zo.h)(tt=>["ArrowDown","ArrowUp","Enter"].includes(tt.key)),(0,ji.U)(tt=>(tt.preventDefault(),tt.stopPropagation(),tt.key)),(0,br.R)(this.closeAvailableEquipmentsView$),(0,Dr.r)()),this.selectedAvailableEquipmentsIndex=new mo.X(-1),this.selectedAvailableEquipments$=this.selectedAvailableEquipmentsIndex.pipe((0,Jo.w)(tt=>this.equipments$.pipe((0,ji.U)(on=>-2===tt?on.value.length-1:tt>on.value.length-1?-1:Math.min(on.value.length-1,Math.max(-1,tt))))),(0,Vo.d)(1)),this.selectAvailableEquipment$=this.selectAvailableEquipment.pipe((0,Jo.w)(tt=>this.equipments$.pipe((0,Po.P)(),(0,ji.U)(on=>-1===tt?null:on.value[tt]))),(0,zo.h)(tt=>null!==tt),(0,ji.U)(tt=>new fe.cw({equipment:new fe.NI(tt),count:new fe.NI(1)})),(0,Bi.b)(()=>{var tt;return null===(tt=this.overlayPanel)||void 0===tt?void 0:tt.hide()})),this.subscriptions=new qi.xf,this.onChange=tt=>{},this.onTouch=()=>{},this.isDisabled=!1,this.inputClasses={},this.onBlur=new l.vpe}ngOnInit(){this.subscriptions.addSubscription("kctrl",this.keysControl$.pipe((0,Jo.w)(ie=>this.selectedAvailableEquipments$.pipe((0,Po.P)(),(0,ji.U)(tt=>({key:ie,index:tt}))))).subscribe(({key:ie,index:tt})=>{switch(ie){case"ArrowDown":this.selectedAvailableEquipmentsIndex.next(tt+1);break;case"ArrowUp":this.selectedAvailableEquipmentsIndex.next(tt-1);break;case"Enter":this.selectAvailableEquipment.next(tt)}})),this.subscriptions.addSubscription("slctrl",this.selectAvailableEquipment$.subscribe(ie=>this.equipmentsList.push(ie))),this.subscriptions.addSubscription("chng",this.equipmentsList.valueChanges.subscribe(ie=>this.onChange(ie))),this.subscriptions.addSubscription("removeEq",this.removeEquipment.subscribe(ie=>{this.equipmentsList.removeAt(ie),this.onTouch(),this.onBlur.emit()}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(ie){this.onChange=ie}registerOnTouched(ie){this.onTouch=ie}setDisabledState(ie){this.isDisabled=ie,ie?this.equipmentsList.disable({emitEvent:!1}):this.equipmentsList.enable({emitEvent:!1})}writeValue(ie){if(null!=ie)for(let tt of ie)null===tt.equipment||null===tt.count||this.equipmentsList.push(new fe.cw({equipment:new fe.NI(tt.equipment),count:new fe.NI(tt.count)}));else this.equipmentsList.clear()}}return Pe.\u0275fac=function(ie){return new(ie||Pe)(l.Y36(Fs.s))},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["app-client-equipment-list-input"]],viewQuery:function(ie,tt){if(1&ie&&l.Gf(Yr,5),2&ie){let on;l.iGM(on=l.CRH())&&(tt.overlayPanel=on.first)}},inputs:{inputClasses:"inputClasses"},outputs:{onBlur:"onBlur"},features:[l._Bn([{provide:fe.JU,useExisting:(0,l.Gpc)(()=>Pe),multi:!0}])],decls:8,vars:3,consts:[[1,"flex","flex-column","border-1","border-round-md","border-bluegray-100","overflow-x-auto","bg-white","w-fit","error-border",3,"ngClass","blur"],[1,"flex","flex-column","flex-grow-1"],["class","flex align-items-center gap-2 p-3 split-line",3,"formGroup",4,"ngFor","ngForOf"],[1,"flex","p-3"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435","icon","mdi-add",3,"disabled","onClick"],[3,"onHide","onShow"],["overlayPanel",""],["pTemplate","content"],[1,"flex","align-items-center","gap-2","p-3","split-line",3,"formGroup"],[1,"flex-grow-1"],["formControlName","count",3,"onZero"],[1,"flex","flex-column","gap-3"],[1,"p-input-icon-left"],[1,"mdi-search"],["pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a...",3,"formControl"],["class","flex flex-column border-1 border-bluegray-50 border-round-md overflow-y-auto overflow-x-hidden",3,"max-height","ngSwitch",4,"ngIf"],[1,"flex","flex-column","border-1","border-bluegray-50","border-round-md","overflow-y-auto","overflow-x-hidden",3,"ngSwitch"],["class","flex flex-column py-8 align-items-center text-bluegray-600",4,"ngSwitchCase"],["class","flex flex-column py-8 align-items-center text-red-600",4,"ngSwitchCase"],["class","flex py-8 justify-content-center",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"flex","flex-column","py-8","align-items-center","text-bluegray-600"],[1,"mds-router"],[1,"flex","flex-column","py-8","align-items-center","text-red-600"],[1,"mds-error"],[1,"flex","py-8","justify-content-center"],["strokeWidth","1",1,"custom-spinner","custom-spinner-gray","custom-spinner-6xl"],["class","flex align-items-baseline gap-2 p-2 split-line cursor-pointer user-select-none",3,"ngClass","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],[1,"flex","align-items-baseline","gap-2","p-2","split-line","cursor-pointer","user-select-none",3,"ngClass","mouseenter","mouseleave","click"],[3,"ngClass"],[1,"text-xs","font-bold",3,"ngClass"]],template:function(ie,tt){if(1&ie){const on=l.EpF();l.TgZ(0,"div",0),l.NdJ("blur",function(){return tt.onBlur.emit()}),l.TgZ(1,"div",1),l.YNc(2,Lr,4,2,"div",2),l.qZA(),l.TgZ(3,"div",3)(4,"p-button",4),l.NdJ("onClick",function($n){return l.CHM(on),l.MAs(6).show($n),tt.onTouch(),l.KtG(tt.onBlur.emit())}),l.qZA()()(),l.TgZ(5,"p-overlayPanel",5,6),l.NdJ("onHide",function(){return tt.closeAvailableEquipmentsView$.next(null)})("onShow",function(){return tt.openAvailableEquipmentsView.next(tt.queryFilterControl.value)}),l.YNc(7,Lo,6,4,"ng-template",7),l.qZA()}2&ie&&(l.Q6J("ngClass",tt.inputClasses),l.xp6(2),l.Q6J("ngForOf",tt.equipmentsList.controls),l.xp6(2),l.Q6J("disabled",tt.isDisabled))},dependencies:[e.mk,e.sg,e.O5,e.RF,e.n9,at.zx,fe.Fj,fe.JJ,fe.JL,Mo.jx,K.G,st.o,_t.T,fe.oH,fe.sg,fe.u,dr,e.Ov]}),Pe})();var pr=b(8322),To=b(657),jr=b(1179);let al=(()=>{class Pe{constructor(ie){this.api=ie,this.addressCounterLivesForm=new fe.cw({address:new fe.NI(null,fe.kI.required),startApart:new fe.NI(null,fe.kI.required),endApart:new fe.NI(null,fe.kI.required)}),this.control=new fe.NI(""),this.isDisabled=!1,this.isLoading=!1,this.inputClasses={},this.onBlur=new l.vpe,this.subscriptions=new qi.xf,this.onChange=tt=>{},this.onTouched=()=>{}}ngOnInit(){this.subscriptions.addSubscription("chng",this.control.valueChanges.subscribe(ie=>{this.onChange(null!=ie?ie:""),this.onTouched()}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(ie){this.onChange=ie}registerOnTouched(ie){this.onTouched=ie}setDisabledState(ie){this.isDisabled=ie}writeValue(ie){!ie||this.control.setValue(ie)}getCalculation(){this.addressCounterLivesForm.invalid||(this.isLoading=!0,this.api.getCountingLivesCalculation(this.addressCounterLivesForm.value).subscribe({next:ie=>{this.isLoading=!1,this.control.setValue(this.control.value+" "+ie.result)},error:()=>{this.isLoading=!1}}))}}return Pe.\u0275fac=function(ie){return new(ie||Pe)(l.Y36(Fs.s))},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["app-counting-lives-input"]],inputs:{inputClasses:"inputClasses"},outputs:{onBlur:"onBlur"},features:[l._Bn([{provide:fe.JU,useExisting:(0,l.Gpc)(()=>Pe),multi:!0}])],decls:7,vars:17,consts:[[1,"flex","flex-column","gap-1"],[1,"flex","gap-1",3,"formGroup"],["formControlName","address",3,"isHouseOnly"],["placeholder","\u0421 \u043a\u0432.","formControlName","startApart",3,"useGrouping","min","max","size","keyup.enter"],["placeholder","\u041f\u043e \u043a\u0432.","formControlName","endApart",3,"useGrouping","min","max","size","keyup.enter"],["icon","mdi-people","styleClass","p-button-icon",3,"disabled","loading","onClick"],["pInputTextarea","",3,"formControl","autoResize","disabled","ngClass","rows","blur","ngModelChange"]],template:function(ie,tt){1&ie&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"app-address-input-alt",2),l.TgZ(3,"p-inputNumber",3),l.NdJ("keyup.enter",function(){return!tt.isLoading&&tt.getCalculation()}),l.qZA(),l.TgZ(4,"p-inputNumber",4),l.NdJ("keyup.enter",function(){return!tt.isLoading&&tt.getCalculation()}),l.qZA(),l.TgZ(5,"p-button",5),l.NdJ("onClick",function(){return tt.getCalculation()}),l.qZA()(),l.TgZ(6,"textarea",6),l.NdJ("blur",function(){return tt.onTouched(),tt.onBlur.emit()})("ngModelChange",function(En){return tt.onChange(En)}),l.qZA()()),2&ie&&(l.xp6(1),l.Q6J("formGroup",tt.addressCounterLivesForm),l.xp6(1),l.Q6J("isHouseOnly",!0),l.xp6(1),l.Q6J("useGrouping",!1)("min",0)("max",999)("size",4),l.xp6(1),l.Q6J("useGrouping",!1)("min",0)("max",999)("size",4),l.xp6(1),l.Q6J("disabled",tt.isDisabled)("loading",tt.isLoading),l.xp6(1),l.Q6J("formControl",tt.control)("autoResize",!0)("disabled",tt.isDisabled)("ngClass",tt.inputClasses)("rows",5))},dependencies:[e.mk,at.zx,fe.Fj,fe.JJ,fe.JL,ot.Rn,Ct.g,fe.oH,fe.sg,fe.u,jr.r]}),Pe})();var Ro=b(2629),Rr=b(7658),Vs=b(7172),_a=b(3868);let ka=(()=>{class Pe{constructor(){this.inputClasses={},this.onBlur=new l.vpe,this.dataForm=new fe.cw({passportSeries:new fe.NI(""),passportNumber:new fe.NI(""),passportIssuedDate:new fe.NI(null),passportIssuedBy:new fe.NI(""),departmentCode:new fe.NI(""),registrationAddress:new fe.NI("")}),this.disabled=!1,this.onChange=ie=>{},this.onTouched=()=>{}}ngOnInit(){this.changeSubscription=this.dataForm.valueChanges.subscribe(ie=>this.onChange(ie))}ngOnDestroy(){var ie;null===(ie=this.changeSubscription)||void 0===ie||ie.unsubscribe()}registerOnChange(ie){this.onChange=ie}registerOnTouched(ie){this.onTouched=ie}setDisabledState(ie){this.disabled=ie}writeValue(ie){var tt,on,En,$n,Hi;this.dataForm.patchValue(ie?{passportSeries:null!==(tt=ie.passportSeries)&&void 0!==tt?tt:"",passportNumber:null!==(on=ie.passportNumber)&&void 0!==on?on:"",passportIssuedBy:null!==(En=ie.passportIssuedBy)&&void 0!==En?En:"",passportIssuedDate:ie.passportIssuedDate?new Date(ie.passportIssuedDate):null,departmentCode:null!==($n=ie.departmentCode)&&void 0!==$n?$n:"",registrationAddress:null!==(Hi=ie.registrationAddress)&&void 0!==Hi?Hi:""}:{passportSeries:"",passportNumber:"",passportIssuedBy:"",passportIssuedDate:null,departmentCode:"",registrationAddress:""})}}return Pe.\u0275fac=function(ie){return new(ie||Pe)},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["app-passport-details-input"]],inputs:{inputClasses:"inputClasses"},outputs:{onBlur:"onBlur"},features:[l._Bn([{provide:fe.JU,useExisting:Pe,multi:!0}])],decls:10,vars:14,consts:[[1,"flex","flex-column","gap-2",3,"formGroup","ngClass"],["pInputText","","formControlName","passportSeries","placeholder","0000","pKeyFilter","pint",3,"maxlength","disabled","size","blur"],["pInputText","","formControlName","passportNumber","placeholder","000000","pKeyFilter","pint",3,"maxlength","disabled","size","blur"],["pInputText","","formControlName","passportIssuedBy","placeholder","\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d",3,"disabled","blur"],[1,"flex","gap-2"],["formControlName","passportIssuedDate","placeholder","\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438",3,"disabled","firstDayOfWeek","blur"],["formControlName","departmentCode","placeholder","\u041a\u043e\u0434 \u043f\u043e\u0434\u0440.","mask","999-999",3,"disabled","size","blur"],["pInputText","","formControlName","registrationAddress","placeholder","\u0410\u0434\u0440\u0435\u0441 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",3,"disabled","blur"]],template:function(ie,tt){1&ie&&(l.TgZ(0,"div",0)(1,"div")(2,"input",1),l.NdJ("blur",function(){return tt.onTouched(),tt.onBlur.emit()}),l.qZA(),l._uU(3," - "),l.TgZ(4,"input",2),l.NdJ("blur",function(){return tt.onTouched(),tt.onBlur.emit()}),l.qZA()(),l.TgZ(5,"input",3),l.NdJ("blur",function(){return tt.onTouched(),tt.onBlur.emit()}),l.qZA(),l.TgZ(6,"div",4)(7,"p-calendar",5),l.NdJ("blur",function(){return tt.onTouched(),tt.onBlur.emit()}),l.qZA(),l.TgZ(8,"p-inputMask",6),l.NdJ("blur",function(){return tt.onTouched(),tt.onBlur.emit()}),l.qZA()(),l.TgZ(9,"input",7),l.NdJ("blur",function(){return tt.onTouched(),tt.onBlur.emit()}),l.qZA()()),2&ie&&(l.Q6J("formGroup",tt.dataForm)("ngClass",tt.inputClasses),l.xp6(2),l.Q6J("maxlength",4)("disabled",tt.disabled)("size",4),l.xp6(2),l.Q6J("maxlength",6)("disabled",tt.disabled)("size",6),l.xp6(1),l.Q6J("disabled",tt.disabled),l.xp6(2),l.Q6J("disabled",tt.disabled)("firstDayOfWeek",1),l.xp6(1),l.Q6J("disabled",tt.disabled)("size",7),l.xp6(1),l.Q6J("disabled",tt.disabled))},dependencies:[e.mk,fe.Fj,fe.JJ,fe.JL,fe.nD,st.o,je.vy,fe.sg,fe.u,os.f,To.Fr]}),Pe})();var Fa=b(1403),Sl=b(6501),hr=b(5132),Ba=b(1318),Da=b(3435),Za=b(242),na=b(330);let ja=(()=>{class Pe{constructor(ie,tt,on,En){this.api=ie,this.rt=tt,this.router=on,this.personality=En,this.afterWorks$=this.personality.userLogin$.pipe((0,Jo.w)($n=>qi.aN.of(this.api.getAfterWorkList(),"workLogId",this.rt.afterWorksAppend($n),null,this.rt.afterWorksRemoved($n).pipe((0,ji.U)(Hi=>({workLogId:Hi})))))),this._isEmpty=!0,this.afterWorks$.subscribe($n=>this._isEmpty=!$n.value||0===$n.value.length)}get isEmpty(){return this._isEmpty}markAsCompleted(ie,tt){return this.api.markWorkLogAsCompleted(ie.workLogId,null!=tt?tt:void 0)}markAsUncompleted(ie,tt=!1){this.api.markWorkLogAsUncompleted(ie.workLogId).subscribe(()=>{tt&&this.openTask(ie)})}closeAndMarkAsUncompleted(ie){this.api.markWorkLogAsUncompletedAndClose(ie.workLogId).subscribe()}openTask(ie){this.router.navigate(["/task",ie.task.taskId])}}return Pe.\u0275fac=function(ie){return new(ie||Pe)(l.LFG(Fs.s),l.LFG(Bs.U),l.LFG(R.F0),l.LFG(Ts.F))},Pe.\u0275prov=l.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})(),kl=(()=>{class Pe{constructor(ie,tt){this.api=ie,this.rt=tt,this._isEmpty=!0,this.employeeWorkLogs$=qi.aN.ofAll(this.api.getEmployeeWorkLogs(),[this.rt.workLogCreated(),this.rt.workLogClosed(),this.rt.workLogUpdated()]).pipe((0,Bi.b)({next:on=>{this._isEmpty=!(on.value.length>0)},error:()=>{this._isEmpty=!0}}),(0,Vo.d)(1))}get isEmpty(){return this._isEmpty}}return Pe.\u0275fac=function(ie){return new(ie||Pe)(l.LFG(Fs.s),l.LFG(Bs.U))},Pe.\u0275prov=l.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})(),vc=(()=>{class Pe{constructor(ie,tt){this.elementRef=ie,this.document=tt,this.subscriptions=[]}ngOnInit(){this.element=this.elementRef.nativeElement,this.initDrag()}initDrag(){const ie=(0,fo.R)(this.dragHandle?this.dragHandle:this.element,"mousedown"),tt=(0,fo.R)(this.document,"mouseup"),on=(0,fo.R)(this.document,"mousemove").pipe((0,br.R)(tt));let En,$n,Ma,Hi=0,Ur=0;const Hr=ie.subscribe(Uu=>{En=Uu.clientX-Hi,$n=Uu.clientY-Ur,this.element.classList.add("free-dragging"),Ma=on.subscribe(Hu=>{Hu.preventDefault(),Hi=Hu.clientX-En,Ur=Hu.clientY-$n,this.element.style.transform="translate3d("+Hi+"px, "+Ur+"px, 0)"})}),rc=tt.subscribe(()=>{En=Hi,$n=Ur,this.element.classList.remove("free-dragging"),Ma&&Ma.unsubscribe()});this.subscriptions.push.apply(this.subscriptions,[Hr,Ma,rc])}ngOnDestroy(){this.subscriptions.forEach(ie=>null==ie?void 0:ie.unsubscribe())}}return Pe.\u0275fac=function(ie){return new(ie||Pe)(l.Y36(l.SBq),l.Y36(e.K0))},Pe.\u0275dir=l.lG2({type:Pe,selectors:[["","appFreeDrag",""]],inputs:{dragHandle:"dragHandle"}}),Pe})();var No=b(7231),ec=b(1560),Gc=b(6083);function Lu(Pe,Qt){if(1&Pe&&l._UZ(0,"p-badge",12),2&Pe){const ie=l.oxw().$implicit;l.Q6J("value",ie.unactive.length+"")}}function bc(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",9)(1,"app-avatar",10),l.NdJ("click",function(on){const $n=l.CHM(ie).$implicit,Hi=l.oxw(),Ur=l.MAs(3);return l.KtG(Hi.openPanel(on,Ur,$n))}),l.qZA(),l.YNc(2,Lu,1,1,"p-badge",11),l.qZA()}if(2&Pe){const ie=Qt.$implicit;l.xp6(1),l.Q6J("name",ie.employees[0].fullName)("size",3)("src",ie.employees[0].avatar),l.xp6(1),l.Q6J("ngIf",!ie.active)}}function Dl(Pe,Qt){1&Pe&&l.GkF(0)}const Ru=function(Pe){return{activeWorkLog:Pe}};function Ua(Pe,Qt){if(1&Pe&&(l.TgZ(0,"div",14)(1,"span",15),l._uU(2,"\u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f "),l._UZ(3,"app-time-elapsed",16),l.qZA(),l.YNc(4,Dl,1,0,"ng-container",17),l.qZA()),2&Pe){const ie=l.oxw(2),tt=l.MAs(6);l.xp6(3),l.Q6J("startTime",ie.activeWorkLog.lastAcceptedTimestamp),l.xp6(1),l.Q6J("ngTemplateOutlet",tt)("ngTemplateOutletContext",l.VKq(3,Ru,ie.activeWorkLog))}}function Ml(Pe,Qt){1&Pe&&l.GkF(0)}const tc=function(Pe){return{workLog:Pe}};function Nu(Pe,Qt){if(1&Pe&&(l.ynx(0),l.YNc(1,Ml,1,0,"ng-container",17),l.BQk()),2&Pe){const ie=Qt.$implicit;l.oxw(3);const tt=l.MAs(8);l.xp6(1),l.Q6J("ngTemplateOutlet",tt)("ngTemplateOutletContext",l.VKq(2,tc,ie))}}function Ds(Pe,Qt){if(1&Pe&&(l.TgZ(0,"div",14)(1,"span",18),l._uU(2,"\u041d\u0435 \u043f\u0440\u0438\u043d\u044f\u0442\u044b\u0435"),l.qZA(),l.TgZ(3,"div",0),l.YNc(4,Nu,2,4,"ng-container",19),l.qZA()()),2&Pe){const ie=l.oxw(2);l.xp6(4),l.Q6J("ngForOf",ie.unactiveWorkLogs)("ngForTrackBy",ie.trackByWorkLog)}}function Ol(Pe,Qt){if(1&Pe&&(l.YNc(0,Ua,5,5,"div",13),l.YNc(1,Ds,5,2,"div",13)),2&Pe){const ie=l.oxw();l.Q6J("ngIf",ie.activeWorkLog),l.xp6(1),l.Q6J("ngIf",ie.unactiveWorkLogs.length>0)}}function Ka(Pe,Qt){1&Pe&&l.GkF(0)}function Fu(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",20)(1,"div",21),l._UZ(2,"app-task-link",22),l.TgZ(3,"app-label",23),l._UZ(4,"app-avatar-list",24),l.qZA(),l.TgZ(5,"app-label",25)(6,"span"),l._uU(7),l.ALo(8,"date"),l.qZA()()(),l.YNc(9,Ka,1,0,"ng-container",17),l._UZ(10,"div",26),l.TgZ(11,"p-button",27),l.NdJ("onClick",function(){const En=l.CHM(ie).activeWorkLog,$n=l.oxw();return l.KtG($n.forceCloseWorkLog(En.task.taskId))}),l.qZA()()}if(2&Pe){const ie=Qt.activeWorkLog;l.oxw();const tt=l.MAs(10);l.xp6(2),l.Q6J("task",ie.task),l.xp6(2),l.Q6J("employees",ie.employees)("size",2),l.xp6(3),l.Oqu(l.xi3(8,6,ie.created,"dd-MM-yyyy HH:mm")),l.xp6(2),l.Q6J("ngTemplateOutlet",tt)("ngTemplateOutletContext",l.VKq(9,tc,ie))}}function Wc(Pe,Qt){1&Pe&&l.GkF(0)}function Nr(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",20)(1,"div",21),l._UZ(2,"app-task-link",22),l.TgZ(3,"app-label",23),l._UZ(4,"app-avatar-list",24),l.qZA(),l.TgZ(5,"app-label",25)(6,"span"),l._uU(7),l.ALo(8,"date"),l.qZA()()(),l.YNc(9,Wc,1,0,"ng-container",17),l._UZ(10,"div",26),l.TgZ(11,"p-button",27),l.NdJ("onClick",function(){const En=l.CHM(ie).workLog,$n=l.oxw();return l.KtG($n.forceCloseWorkLog(En.task.taskId))}),l.qZA()()}if(2&Pe){const ie=Qt.workLog;l.oxw();const tt=l.MAs(10);l.xp6(2),l.Q6J("task",ie.task),l.xp6(2),l.Q6J("employees",ie.employees)("size",2),l.xp6(3),l.Oqu(l.xi3(8,6,ie.created,"dd-MM-yyyy HH:mm")),l.xp6(2),l.Q6J("ngTemplateOutlet",tt)("ngTemplateOutletContext",l.VKq(9,tc,ie))}}function Fr(Pe,Qt){1&Pe&&l._UZ(0,"app-attachment-link",32),2&Pe&&l.Q6J("attachment",Qt.$implicit)}function qa(Pe,Qt){if(1&Pe&&(l.TgZ(0,"app-label",29)(1,"div",30)(2,"span"),l._uU(3),l.qZA(),l.TgZ(4,"div",14),l.YNc(5,Fr,1,1,"app-attachment-link",31),l.qZA()()()),2&Pe){const ie=l.oxw().workLog;l.xp6(3),l.Oqu(ie.targetDescription),l.xp6(2),l.Q6J("ngForOf",ie.targetImages)}}function ll(Pe,Qt){if(1&Pe&&l.YNc(0,qa,6,2,"app-label",28),2&Pe){const ie=Qt.workLog;l.Q6J("ngIf",ie.targetDescription||ie.targetImages.length>0)}}let Ms=(()=>{class Pe{constructor(ie){this.service=ie,this.workLogs=[],this.unactiveWorkLogs=[],this.forceCloseDialogVisible=!1}ngOnInit(){}ngOnDestroy(){}trackByWorkLog(ie,tt){return tt.workLogId+JSON.stringify(tt.whoAccepted)+JSON.stringify(tt.workReports)}openPanel(ie,tt,on){tt.toggle(ie),this.activeWorkLog=on.active,this.unactiveWorkLogs=on.unactive}forceCloseWorkLog(ie){this.targetTaskId=ie,this.forceCloseDialogVisible=!0}}return Pe.\u0275fac=function(ie){return new(ie||Pe)(l.Y36(kl))},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["app-active-work-logs-panel"]],inputs:{workLogs:"workLogs"},decls:12,vars:4,consts:[[1,"flex","flex-column","gap-3"],["class","relative w-fit p-overlay-badge",4,"ngFor","ngForOf"],["appendTo","body","styleClass","flex flex-column gap-2",3,"baseZIndex"],["overlayPanelEl",""],["pTemplate","content"],["activeWorkLogTemplate",""],["unactiveWorkLogTemplate",""],["targetDescriptionTemplate",""],[3,"taskId","visible","visibleChange"],[1,"relative","w-fit","p-overlay-badge"],[1,"cursor-pointer",3,"name","size","src","click"],["severity","danger",3,"value",4,"ngIf"],["severity","danger",3,"value"],["class","flex flex-column",4,"ngIf"],[1,"flex","flex-column"],[1,"font-bold","text-orange-400","text-lg"],[3,"startTime"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"font-bold","text-bluegray-400","text-lg"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","terminated","p-3"],[1,"flex","flex-column","gap-2"],[3,"task"],["label","\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438","styleClass","translate-x-0"],[3,"employees","size"],["label","\u041e\u0442\u0434\u0430\u043d\u0430","styleClass","translate-x-0"],[1,"flex-grow-1"],["label","\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u0431\u0440\u0430\u0442\u044c","styleClass","p-button-danger p-button-outlined",1,"ml-3",3,"onClick"],["label","\u0426\u0435\u043b\u044c \u0437\u0430\u0434\u0430\u0447\u0438","class","ml-3","styleClass","translate-x-0",4,"ngIf"],["label","\u0426\u0435\u043b\u044c \u0437\u0430\u0434\u0430\u0447\u0438","styleClass","translate-x-0",1,"ml-3"],[1,"max-w-30rem","flex","flex-column","gap-2"],[3,"attachment",4,"ngFor","ngForOf"],[3,"attachment"]],template:function(ie,tt){1&ie&&(l.TgZ(0,"div",0),l.YNc(1,bc,3,4,"div",1),l.qZA(),l.TgZ(2,"p-overlayPanel",2,3),l.YNc(4,Ol,2,2,"ng-template",4),l.qZA(),l.YNc(5,Fu,12,11,"ng-template",null,5,l.W1O),l.YNc(7,Nr,12,11,"ng-template",null,6,l.W1O),l.YNc(9,ll,1,1,"ng-template",null,7,l.W1O),l.TgZ(11,"app-force-close-dialog",8),l.NdJ("visibleChange",function(En){return tt.forceCloseDialogVisible=En}),l.qZA()),2&ie&&(l.xp6(1),l.Q6J("ngForOf",tt.workLogs),l.xp6(1),l.Q6J("baseZIndex",2e3),l.xp6(9),l.Q6J("taskId",tt.targetTaskId)("visible",tt.forceCloseDialogVisible))},dependencies:[e.sg,e.O5,e.tP,at.zx,Mo.jx,Mt.Ct,_t.T,No.D,f.A,Fe.U,or.k,Vt.j,ec._,Gc.j,e.uU],styles:[".title[_ngcontent-%COMP%]{padding-bottom:.3rem;border-bottom:1px solid var(--bgc-200)}.work-log-item[_ngcontent-%COMP%]{display:grid;grid:min-content/max-content max-content 1fr;gap:.5rem;padding:.5rem;align-items:center}.work-log-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-200)}"]}),Pe})();var _e=b(4326);const ve=function(){return[]};let le=(()=>{class Pe{constructor(ie){this.api=ie,this.querySubject=new Xn.x,this.typesOfContracts$=this.querySubject.pipe((0,Jo.w)(tt=>this.api.getContractTypesSuggestionList(tt))),this.control=new fe.NI([]),this.isDisabled=!1,this.subscriptions=new qi.xf,this.onAfterChange=new l.vpe,this.onChange=tt=>{},this.onTouched=()=>{}}ngOnInit(){this.subscriptions.addSubscription("ch",this.control.valueChanges.subscribe(ie=>this.onChange(null!=ie?ie:[]))),this.subscriptions.addSubscription("ach",this.control.valueChanges.pipe((0,_e.g)(100)).subscribe(ie=>this.onAfterChange.emit(null!=ie?ie:[])))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(ie){this.onChange=ie}registerOnTouched(ie){this.onTouched=ie}setDisabledState(ie){this.isDisabled=ie}writeValue(ie){Array.isArray(ie)?this.control.setValue(ie||[]):this.control.setValue([])}}return Pe.\u0275fac=function(ie){return new(ie||Pe)(l.Y36(Fs.s))},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["app-types-contracts-multi-selector"]],outputs:{onAfterChange:"onAfterChange"},features:[l._Bn([{provide:fe.JU,useExisting:Pe,multi:!0}])],decls:2,vars:12,consts:[["appendTo","body","dataKey","value","field","label","emptyMessage","\u0422\u0438\u043f\u043e\u0432 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430...",3,"autoHighlight","forceSelection","formControl","unique","dropdown","multiple","showEmptyMessage","suggestions","delay","completeMethod"]],template:function(ie,tt){if(1&ie&&(l.TgZ(0,"p-autoComplete",0),l.NdJ("completeMethod",function(En){return tt.querySubject.next(En.query)}),l.ALo(1,"async"),l.qZA()),2&ie){let on;l.Q6J("autoHighlight",!0)("forceSelection",!0)("formControl",tt.control)("unique",!1)("dropdown",!0)("multiple",!0)("showEmptyMessage",!0)("suggestions",null!==(on=l.lcZ(1,9,tt.typesOfContracts$))&&void 0!==on?on:l.DdM(11,ve))("delay",500)}},dependencies:[fe.JJ,fe.oH,Re.Qc,e.Ov]}),Pe})();function Se(Pe,Qt){1&Pe&&l.GkF(0)}const $e=function(Pe){return{workLog:Pe}};function At(Pe,Qt){if(1&Pe&&(l.ynx(0),l.YNc(1,Se,1,0,"ng-container",21),l.BQk()),2&Pe){const ie=Qt.$implicit;l.oxw();const tt=l.MAs(12);l.xp6(1),l.Q6J("ngTemplateOutlet",tt)("ngTemplateOutletContext",l.VKq(2,$e,ie))}}function Xt(Pe,Qt){if(1&Pe&&(l.TgZ(0,"div",22),l._uU(1),l.qZA()),2&Pe){const ie=l.oxw();l.Udp("translate","-100% -25%")("min-width","1.8rem"),l.xp6(1),l.hij(" ",ie.afterWorks.length," ")}}function sn(Pe,Qt){1&Pe&&(l.TgZ(0,"div",36),l._UZ(1,"span",37),l.TgZ(2,"span"),l._uU(3,"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e"),l.qZA()())}function An(Pe,Qt){1&Pe&&l.GkF(0)}function ni(Pe,Qt){if(1&Pe&&(l.ynx(0),l.YNc(1,An,1,0,"ng-container",21),l.BQk()),2&Pe){const ie=l.oxw().workLog;l.oxw();const tt=l.MAs(16);l.xp6(1),l.Q6J("ngTemplateOutlet",tt)("ngTemplateOutletContext",l.VKq(2,$e,ie))}}function yi(Pe,Qt){1&Pe&&l.GkF(0)}function di(Pe,Qt){if(1&Pe&&(l.ynx(0),l.YNc(1,yi,1,0,"ng-container",21),l.BQk()),2&Pe){const ie=l.oxw().workLog;l.oxw();const tt=l.MAs(14);l.xp6(1),l.Q6J("ngTemplateOutlet",tt)("ngTemplateOutletContext",l.VKq(2,$e,ie))}}function Ki(Pe,Qt){if(1&Pe&&(l.TgZ(0,"div",23)(1,"div",24)(2,"div",25),l._UZ(3,"app-task-link",26)(4,"app-avatar-list",27),l.TgZ(5,"app-label",28)(6,"div",29)(7,"span",30),l._uU(8),l.ALo(9,"date"),l.qZA(),l.TgZ(10,"span"),l._uU(11,"-"),l.qZA(),l.TgZ(12,"span",30),l._uU(13),l.ALo(14,"date"),l.qZA()()()(),l.YNc(15,sn,4,0,"div",31),l.TgZ(16,"app-label",32)(17,"span"),l._uU(18),l.qZA()()(),l._UZ(19,"div",33),l.TgZ(20,"div",34),l.YNc(21,ni,2,4,"ng-container",35),l.YNc(22,di,2,4,"ng-container",35),l.qZA()()),2&Pe){const ie=Qt.workLog;l.xp6(3),l.Q6J("task",ie.task),l.xp6(1),l.Q6J("employees",ie.employees),l.xp6(4),l.Oqu(l.xi3(9,8,ie.created,"dd-MM-yyyy HH:mm")),l.xp6(5),l.Oqu(l.xi3(14,11,ie.closed,"dd-MM-yyyy HH:mm")),l.xp6(2),l.Q6J("ngIf",ie.isForceClosed),l.xp6(3),l.Oqu(ie.report),l.xp6(3),l.Q6J("ngIf",ie.isForceClosed),l.xp6(1),l.Q6J("ngIf",!ie.isForceClosed)}}function ao(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"p-button",38),l.NdJ("onClick",function(on){const $n=l.CHM(ie).workLog,Hi=l.oxw();return l.MAs(18).toggle(on),l.KtG(Hi.targetWorkLog=$n)}),l.qZA(),l.TgZ(1,"p-button",39),l.NdJ("onClick",function(){const En=l.CHM(ie).workLog,$n=l.oxw();return l.KtG($n.afterWorkService.markAsUncompleted(En,!0))}),l.qZA()}}function zs(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"p-button",40),l.NdJ("onClick",function(){const En=l.CHM(ie).workLog,$n=l.oxw();return l.KtG($n.afterWorkService.markAsUncompleted(En))}),l.qZA(),l.TgZ(1,"p-button",41),l.NdJ("onClick",function(on){const $n=l.CHM(ie).workLog,Hi=l.oxw();return l.MAs(18).toggle(on),l.KtG(Hi.targetWorkLog=$n)}),l.qZA(),l.TgZ(2,"p-button",42),l.NdJ("onClick",function(){const En=l.CHM(ie).workLog,$n=l.oxw();return l.KtG($n.afterWorkService.closeAndMarkAsUncompleted(En))}),l.qZA()}}let Br=(()=>{class Pe{constructor(ie){this.afterWorkService=ie,this.afterWorks=[],this.panelVisible=!1,this.concludedContractsControl=new fe.NI([],[fe.kI.required]),this.isRequestInProcess=!1}ngOnInit(){}toggle(){this.panelVisible=!this.panelVisible}markAsCompleted(ie){!this.targetWorkLog||(this.isRequestInProcess=!0,this.afterWorkService.markAsCompleted(this.targetWorkLog,this.concludedContractsControl.value).subscribe(()=>ie.hide()))}}return Pe.\u0275fac=function(ie){return new(ie||Pe)(l.Y36(ja))},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["app-after-work-panel"]],inputs:{afterWorks:"afterWorks"},decls:27,vars:10,consts:[["pRipple","",1,"bg-white","text-primary","border-circle","shadow-3","p-3","flex","relative","cursor-pointer","transition-colors","transition-duration-150","hover:bg-primary","hover:text-white",3,"click"],[1,"mds-work","text-4xl"],["appendTo","body","styleClass","overlay-panel-unpadding",3,"dismissable","showCloseIcon"],["workPanel",""],[1,"p-4","surface-overlay","shadow-2","border-round","flex","flex-column","gap-3"],[1,"text-bluegray-500","font-bold"],[1,"flex","flex-column","overflow-y-auto","overflow-x-hidden","max-h-30rem","w-fit","overscroll-none"],[4,"ngFor","ngForOf"],["class","absolute flex justify-content-center bg-primary border-round-3xl p-2 line-height-1 text-xs font-semibold top-0 left-100 pointer-events-none",3,"translate","min-width",4,"ngIf"],["workLogItemTemplate",""],["normalButtonsTemplate",""],["forceClosedButtonsTemplate",""],["styleClass","flex flex-column gap-3",3,"dismissable","onShow"],["contractsOverlay",""],[1,"flex","flex-column","gap-4","max-w-30rem",3,"click"],[1,"text-bluegray-500","text-lg","font-semibold"],[1,"flex","flex-column","gap-2"],[3,"formControl","onAfterChange"],[1,"flex","gap-3"],["label","\u041f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0435\u043d\u043d\u044b\u0435","styleClass","p-button-success w-full",1,"flex-grow-1",3,"disabled","onClick"],["label","\u0411\u0435\u0437 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432","styleClass","p-button-info w-full",1,"flex-grow-1",3,"disabled","onClick"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"absolute","flex","justify-content-center","bg-primary","border-round-3xl","p-2","line-height-1","text-xs","font-semibold","top-0","left-100","pointer-events-none"],[1,"flex","align-items-center","gap-1","terminated","p-3"],[1,"flex","flex-column","gap-2","w-min"],[1,"flex","justify-content-between","align-items-center","gap-3"],[3,"task"],[3,"employees"],["label","\u041e\u0442\u0434\u0430\u043d\u0430/\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430","styleClass","font-bold translate-x-0"],[1,"flex","align-items-center","gap-1","white-space-nowrap"],[1,"white-space-nowrap"],["class","flex align-items-center gap-1 text-orange-400 font-bold",4,"ngIf"],["label","\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430 \u0441 \u043e\u0442\u0447\u0435\u0442\u043e\u043c","styleClass","font-bold translate-x-0"],[1,"flex-grow-1"],[1,"flex","flex-column","gap-3"],[4,"ngIf"],[1,"flex","align-items-center","gap-1","text-orange-400","font-bold"],[1,"mdi-warning"],["label","\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u0443\u044e","styleClass","p-button-sm",3,"onClick"],["label","\u041f\u0435\u0440\u0435\u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0438 \u043f\u0435\u0440\u0435\u0439\u0442\u0438","styleClass","p-button-sm p-button-secondary p-button-outlined",3,"onClick"],["label","\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u043d\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u0443\u044e","styleClass","p-button-sm",3,"onClick"],["label","\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u043a \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u0443\u044e","styleClass","p-button-sm p-button-warning p-button-outlined",3,"onClick"],["label","\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u043a \u043d\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u0443\u044e","styleClass","p-button-sm p-button-secondary p-button-outlined",3,"onClick"]],template:function(ie,tt){if(1&ie){const on=l.EpF();l.TgZ(0,"div",0),l.NdJ("click",function($n){l.CHM(on);const Hi=l.MAs(3);return l.KtG(Hi.toggle($n))}),l._UZ(1,"span",1),l.qZA(),l.TgZ(2,"p-overlayPanel",2,3)(4,"div",4)(5,"span",5),l._uU(6,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442"),l.qZA(),l.TgZ(7,"div",6),l.YNc(8,At,2,4,"ng-container",7),l.qZA()()(),l.ynx(9),l.YNc(10,Xt,2,5,"div",8),l.BQk(),l.YNc(11,Ki,23,14,"ng-template",null,9,l.W1O),l.YNc(13,ao,2,0,"ng-template",null,10,l.W1O),l.YNc(15,zs,3,0,"ng-template",null,11,l.W1O),l.TgZ(17,"p-overlayPanel",12,13),l.NdJ("onShow",function(){return tt.concludedContractsControl.reset([])}),l.TgZ(19,"div",14),l.NdJ("click",function($n){return $n.stopPropagation()}),l.TgZ(20,"span",15),l._uU(21,"\u041a\u0430\u043a\u0438\u0435 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u044b \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u0434\u0430\u0442\u044c \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a?"),l.qZA(),l.TgZ(22,"div",16)(23,"app-types-contracts-multi-selector",17),l.NdJ("onAfterChange",function(){l.CHM(on);const $n=l.MAs(18);return l.KtG($n.overlayVisible&&$n.align())}),l.qZA(),l.TgZ(24,"div",18)(25,"p-button",19),l.NdJ("onClick",function(){l.CHM(on);const $n=l.MAs(18);return l.KtG(tt.markAsCompleted($n))}),l.qZA(),l.TgZ(26,"p-button",20),l.NdJ("onClick",function(){l.CHM(on);const $n=l.MAs(18);return l.KtG(tt.markAsCompleted($n))}),l.qZA()()()()()}2&ie&&(l.xp6(2),l.Q6J("dismissable",!1)("showCloseIcon",!0),l.xp6(5),l.Udp("max-width","60vw"),l.xp6(1),l.Q6J("ngForOf",tt.afterWorks),l.xp6(2),l.Q6J("ngIf",tt.afterWorks.length>0),l.xp6(7),l.Q6J("dismissable",!0),l.xp6(6),l.Q6J("formControl",tt.concludedContractsControl),l.xp6(2),l.Q6J("disabled",tt.concludedContractsControl.invalid),l.xp6(1),l.Q6J("disabled",!tt.concludedContractsControl.invalid))},dependencies:[e.sg,e.O5,e.tP,at.zx,fe.JJ,_t.T,fe.oH,Ni.H,Fe.U,or.k,ec._,le,e.uU],styles:["[_nghost-%COMP%]{display:flex;position:relative}"]}),Pe})();function ia(Pe,Qt){if(1&Pe&&l._UZ(0,"app-active-work-logs-panel",8),2&Pe){const ie=l.oxw().ngIf;l.Q6J("workLogs",ie.value)}}function oa(Pe,Qt){if(1&Pe&&(l.ynx(0),l.YNc(1,ia,1,1,"app-active-work-logs-panel",7),l.BQk()),2&Pe){const ie=l.oxw(2);l.xp6(1),l.Q6J("ngIf",!ie.isActiveWorkEmpty)}}function ua(Pe,Qt){if(1&Pe&&l._UZ(0,"app-after-work-panel",10),2&Pe){const ie=l.oxw().ngIf;l.Q6J("afterWorks",ie.value)}}function nc(Pe,Qt){if(1&Pe&&(l.ynx(0),l.YNc(1,ua,1,1,"app-after-work-panel",9),l.BQk()),2&Pe){const ie=l.oxw(2);l.xp6(1),l.Q6J("ngIf",!ie.isAfterWorkEmpty)}}function gr(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",1),l.NdJ("mouseenter",function(){l.CHM(ie);const on=l.oxw();return l.KtG(on.dockPanelHover())})("mouseleave",function(){l.CHM(ie);const on=l.oxw();return l.KtG(on.dockPanelUnhover())}),l._UZ(1,"div",2)(2,"span",3,4),l.TgZ(4,"div",5),l.YNc(5,oa,2,1,"ng-container",6),l.ALo(6,"async"),l.YNc(7,nc,2,1,"ng-container",6),l.ALo(8,"async"),l.qZA()()}if(2&Pe){const ie=l.MAs(3),tt=l.oxw();l.Q6J("dragHandle",ie),l.xp6(1),l.Udp("opacity",tt.dockPanelHovered?"1":"0"),l.xp6(1),l.Udp("opacity",tt.dockPanelHovered?"1":".1"),l.xp6(2),l.Udp("opacity",tt.dockPanelHovered?"1":".5"),l.xp6(1),l.Q6J("ngIf",l.lcZ(6,9,tt.activeWorkLogService.employeeWorkLogs$)),l.xp6(2),l.Q6J("ngIf",l.lcZ(8,11,tt.afterWorkService.afterWorks$))}}let ic=(()=>{class Pe{constructor(ie,tt){this.afterWorkService=ie,this.activeWorkLogService=tt,this.dockPanelHovered=!1}get isActiveWorkEmpty(){return this.activeWorkLogService.isEmpty}get isAfterWorkEmpty(){return this.afterWorkService.isEmpty}get isAllEmpty(){return this.isAfterWorkEmpty&&this.isActiveWorkEmpty}ngOnInit(){}dockPanelHover(){this.dockPanelHovered=!0}dockPanelUnhover(){this.dockPanelHovered=!1}}return Pe.\u0275fac=function(ie){return new(ie||Pe)(l.Y36(ja),l.Y36(kl))},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["app-float-dock-panel"]],decls:1,vars:1,consts:[["class","fixed bottom-0 right-0 mb-8 mr-5 p-3 flex flex-column gap-3 border-round-xl","appFreeDrag","",3,"dragHandle","mouseenter","mouseleave",4,"ngIf"],["appFreeDrag","",1,"fixed","bottom-0","right-0","mb-8","mr-5","p-3","flex","flex-column","gap-3","border-round-xl",3,"dragHandle","mouseenter","mouseleave"],[1,"absolute","top-0","left-0","w-full","h-full","border-round-xl","border-1","border-bluegray-300","transition-all","transition-duration-150"],[1,"mdi-drag_indicator","align-self-end","cursor-move","border-bluegray-300","transition-all","transition-duration-150","z-1"],["draghandle",""],[1,"flex","flex-column","gap-3","transition-all","transition-duration-150","align-items-center"],[4,"ngIf"],[3,"workLogs",4,"ngIf"],[3,"workLogs"],[3,"afterWorks",4,"ngIf"],[3,"afterWorks"]],template:function(ie,tt){1&ie&&l.YNc(0,gr,9,13,"div",0),2&ie&&l.Q6J("ngIf",!tt.isAllEmpty)},dependencies:[e.O5,vc,Ms,Br,e.Ov]}),Pe})();class mr{constructor(){this.initialDate=new Date,this.timeOffset=0,this.value=0,this.thumbStyle={},this.isDisabled=!1,this.onChange=Qt=>{},this.onTouched=()=>{}}get time(){const Qt=Math.floor(this.value/36e5),ie=Math.floor((this.value-36e5*Qt)/6e4);return`${Qt<10?"0"+Qt:Qt}:${ie<10?"0"+ie:ie}`}writeValue(Qt){this.initialDate=Qt||new Date,this.updateDate()}registerOnChange(Qt){this.onChange=Qt}registerOnTouched(Qt){this.onTouched=Qt}setDisabledState(Qt){this.isDisabled=Qt}ngOnInit(){}wrapperInit(Qt){this.wrapper=Qt,this.updateThumbStyle(this.value)}changeValue(Qt){const ie=this.value%6e5;ie>0&&(this.value+=6e5-ie),this.changeTime()}updateDate(){this.timeOffset=this.initialDate.getTime()%864e5,this.value=this.timeOffset+108e5,this.changeTime()}changeTime(){this.onChange(new Date(this.initialDate.getTime()-(this.timeOffset+108e5)+this.value)),this.updateThumbStyle(this.value)}updateThumbStyle(Qt){if(!this.wrapper)return;const{width:ie}=this.wrapper.getBoundingClientRect();this.thumbStyle={bottom:"1rem",left:Qt/8634e4*ie+"px",transform:"translateX(-50%)"}}}mr.\u0275fac=function(Qt){return new(Qt||mr)},mr.\u0275cmp=l.Xpm({type:mr,selectors:[["app-time-picker"]],features:[l._Bn([{provide:fe.JU,useExisting:mr,multi:!0}])],decls:5,vars:7,consts:[["id","wrapper",1,"flex","flex-column","gap-2","w-25rem","pt-6","relative"],["wrapper",""],[1,"font-semibold","absolute","bg-primary","text-white","border-round-2xl","shadow-1","p-2"],["styleClass","h-1rme",3,"ngModel","disabled","max","step","ngModelChange","onChange"]],template:function(Qt,ie){1&Qt&&(l.TgZ(0,"div",0,1)(2,"span",2),l._uU(3),l.qZA(),l.TgZ(4,"p-slider",3),l.NdJ("ngModelChange",function(on){return ie.value=on})("onChange",function(on){return ie.changeValue(on.value)}),l.qZA()()),2&Qt&&(l.xp6(2),l.Akn(ie.thumbStyle),l.xp6(1),l.Oqu(ie.time),l.xp6(1),l.Q6J("ngModel",ie.value)("disabled",ie.isDisabled)("max",8634e4)("step",6e5))},dependencies:[fe.JJ,fe.On,ir.iR]}),(0,P.gn)([(0,y._P)("wrapper")],mr.prototype,"wrapperInit",null);var Bu=b(6451),Qd=b(9664);function Zu(Pe,Qt){1&Pe&&l.GkF(0)}const bs=function(Pe){return{session:Pe}};function Zr(Pe,Qt){if(1&Pe&&(l.ynx(0),l.YNc(1,Zu,1,0,"ng-container",4),l.BQk()),2&Pe){const ie=Qt.$implicit;l.oxw();const tt=l.MAs(4);l.xp6(1),l.Q6J("ngTemplateOutlet",tt)("ngTemplateOutletContext",l.VKq(2,bs,ie))}}function yc(Pe,Qt){if(1&Pe){const ie=l.EpF();l.TgZ(0,"div",5),l.NdJ("click",function(){const En=l.CHM(ie).session,$n=l.oxw();return l.KtG($n.service.openTerminalDialog(En))}),l.TgZ(1,"span",6),l._uU(2),l.qZA(),l.TgZ(3,"span",7),l.NdJ("click",function(on){const $n=l.CHM(ie).session,Hi=l.oxw();return on.stopPropagation(),l.KtG(Hi.service.removeSession($n.sessionId))}),l.qZA()()}if(2&Pe){const ie=Qt.session,tt=l.oxw();l.Q6J("ngClass",tt.service.isDialogOpen(ie.sessionId)?"border-primary text-white bg-primary cursor-default":"border-bluegray-500 cursor-pointer hover:bg-bluegray-50"),l.xp6(2),l.hij(" ",ie.name," ")}}const Js=function(Pe,Qt){return{flex:Pe,hidden:Qt}};let Ca=class{constructor(Qt){this.service=Qt,this.panelPosition={transform:"translate(-50%, 75%)",opacity:"0.5"},this.panelSub=(0,Bu.T)(this.panelMouseEnter$.pipe((0,ji.U)(()=>!0)),(0,Bu.T)(this.panelMouseEnter$.pipe((0,ji.U)(()=>!0)),this.panelMouseLeave$.pipe((0,ji.U)(()=>!1))).pipe((0,Ys.b)(1e3),(0,zo.h)(ie=>!ie))).pipe().subscribe(ie=>{ie?(this.panelPosition.transform="translate(-50%, 0%)",this.panelPosition.opacity="1"):(this.panelPosition.transform="translate(-50%, 75%)",this.panelPosition.opacity="0.5")})}ngOnInit(){}};Ca.\u0275fac=function(Qt){return new(Qt||Ca)(l.Y36(Qd.M))},Ca.\u0275cmp=l.Xpm({type:Ca,selectors:[["app-terminal-float-panel"]],decls:5,vars:6,consts:[["id","wrapper-panel",1,"flex","p-2","gap-2","bg-white","border-1","border-primary-300","border-round-top-lg","shadow-2","w-fit","align-items-center","fixed","bottom-0","left-50","text-bluegray-500","transition-all","transition-duration-300",3,"ngClass","ngStyle"],[1,"mds-terminal","text-5xl"],[4,"ngFor","ngForOf"],["panelItemTemplate",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","gap-2","px-2","py-1","border-round-lg","border-1","align-items-center","select-none",3,"ngClass","click"],[1,"font-bold"],[1,"mdi-close","text-lg","hover:text-primary-700","cursor-pointer",3,"click"]],template:function(Qt,ie){1&Qt&&(l.TgZ(0,"div",0),l._UZ(1,"span",1),l.YNc(2,Zr,2,4,"ng-container",2),l.qZA(),l.YNc(3,yc,4,2,"ng-template",null,3,l.W1O)),2&Qt&&(l.Q6J("ngClass",l.WLB(3,Js,ie.service.sessions.length>0,0===ie.service.sessions.length))("ngStyle",ie.panelPosition),l.xp6(2),l.Q6J("ngForOf",ie.service.sessions))},dependencies:[e.mk,e.sg,e.tP,e.PC]}),(0,P.gn)([(0,y.v4)("wrapper-panel","mouseenter")],Ca.prototype,"panelMouseEnter$",void 0),(0,P.gn)([(0,y.v4)("wrapper-panel","mouseleave")],Ca.prototype,"panelMouseLeave$",void 0),Ca=(0,P.gn)([(0,y.kG)()],Ca);var xc=b(5330),Ic=b(430),cl=b(6081),Gd=b(7728),Wd=b(4119),sc=b(417);let Tc=(()=>{class Pe{}return Pe.\u0275fac=function(ie){return new(ie||Pe)},Pe.\u0275mod=l.oAB({type:Pe}),Pe.\u0275inj=l.cJS({providers:[{provide:et.f,useFactory:ze},xc.xA],imports:[It.z,e.ez,ct.$9,at.hJ,fe.u5,ke.kW,ot.L$,Ct.A,Ot.S,Nt.LU,Mt.TX,K.L,Ye.EV,st.j,je.zz,ne.QG,Ne.m,In.nD,en.JP,_t.y,qt.q4,fn.n,Jt.e4,Dn.E,fe.UX,oi,vo.qH,Go.l,Xo.U,as.ON,os._8,ho.u,la,Us.D,Mr.q,ir.JH,We,Ni.T,yt.x,Yt.Qy,Re.WN,Ze.U$,ft.ce,Lt._t,ln.S,To.kK,Ro.xc,Rr.w,Vs.W6,hr.f,Za.Iu,na.vI,xc.DL,Ic.qZ]}),Pe})();l.B6R(F,[e.mk,e.sg,e.O5,R.rH,R.Od,na.xV,Y,un.C],[]),l.B6R(G.o,[e.mk,e.O5,e.tP,e.RF,e.n9,e.ED,fe.Fj,fe.JJ,fe.On,ke.Lt,ot.Rn,Ct.g,st.o,na.xV,_.h,me.k,gt.Z,ri,Hn,Tn.a,ks,al,ka,jr.r],[e.Ov]),l.B6R(he.h,[e.O5,e.tP,e.RF,e.n9,e.ED,R.rH,F],[e.Ov]),l.B6R(Ht.E,[e.mk,e.sg,e.O5,e.tP,ct.v2,R.rH,at.zx,fe.Fj,fe.JJ,fe.On,Mo.jx,Ct.g,K.G,In.XZ,_t.T,fe.oH,ho.b,Ut.g,_a.C,Fa.a,Sl.g,Ba.s,Da.M],[Gd.A,e.Ov,e.OU,e.uU]),l.B6R(z.h,[e.mk,e.sg,e.O5,e.tP,R.lC,R.rH,at.zx,hi.aV,Mo.jx,Mt.Ct,K.G,Ye.FN,ho.b,gs,Us.Q,a.J,g.r,Gt,ci,Ko.j,Ns,$s,Yo,ic,Ca],[e.Ov]),l.B6R(Fe.U,[e.O5,R.rH,Mo.jx,Ne.O,_t.T,Ht.E],[]),l.B6R(vi.x,[e.O5,e.RF,e.n9,Mo.jx,Ne.O,_t.T,f.A],[]),l.B6R(Ao.y,[e.O5,Mo.jx,Ne.O,_t.T,f.A],[]),l.B6R(Xi._,[e.sg,vi.x],[]),l.B6R(pr.S,[e.mk,e.sg,e.O5,e.RF,e.n9,Wd.u,at.zx,Mo.jx,Nt.xf,Nt.x4,_t.T,Ze.iA,wt.g,Vt.j,cl.G],[sc.t,e.Ov,e.rS,e.uU]),l.B6R(Da.M,[fe.JJ,Mo.jx,Ot.V,fe.oH,os.f,g.r,mr],[e.uU])},9925:(mn,ht,b)=>{"use strict";b.d(ht,{z:()=>f});var e=b(9808),a=b(5e3);let f=(()=>{class g{}return g.\u0275fac=function(P){return new(P||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({imports:[e.ez]}),g})()},975:(mn,ht,b)=>{"use strict";b.r(ht),b.d(ht,{LoginModule:()=>Ke});var e=b(3470),a=b(2382),f=b(4e3),g=b(158),_=b(5e3),P=b(8738),y=b(8028),l=b(1424),R=b(9808),L=b(845);function J(be,Qe){1&be&&(_.TgZ(0,"span",9),_._uU(1,"\u041b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0432\u0435\u0440\u043d\u044b"),_.qZA()),2&be&&_.Q6J("@fade",void 0)}const w=[{path:"",component:(()=>{class be{constructor(X,xe,we){this.api=X,this.personalityService=xe,this.router=we,this.loginForm=new a.cw({login:new a.NI("",a.kI.required),password:new a.NI("",a.kI.required)}),this.isWrongCredentials=!1,this.isLogining=!1}ngOnInit(){}setWrongCredentials(){this.wrongCredentialsTimer&&clearTimeout(this.wrongCredentialsTimer),this.isWrongCredentials=!0,this.wrongCredentialsTimer=setTimeout(()=>this.isWrongCredentials=!1,3e3)}signIn(){!this.loginForm.valid||(this.isLogining=!0,this.api.signIn(this.loginForm.getRawValue()).subscribe({next:X=>{this.personalityService.updateMe().subscribe(),this.router.resetConfig(g._),setTimeout(()=>this.router.navigate(["/"]).then(()=>this.isLogining=!1),100)},error:X=>{this.setWrongCredentials(),this.isLogining=!1}}))}}return be.\u0275fac=function(X){return new(X||be)(_.Y36(P.s),_.Y36(y.F),_.Y36(e.F0))},be.\u0275cmp=_.Xpm({type:be,selectors:[["ng-component"]],decls:15,vars:5,consts:[[1,"page-wrapper"],[1,"login-panel",3,"formGroup","keyup.enter"],[1,"caption"],["src","assets/logo-dark.svg"],[1,"input-label-wrapper","full-width"],["formControlName","login","pInputText","",3,"autocomplete"],["formControlName","password","pInputText","","type","password",3,"autocomplete"],["styleClass","b-stretched p-button-outlined","icon","mdi-login","label","\u0412\u043e\u0439\u0442\u0438",3,"loading","onClick"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(X,xe){1&X&&(_.TgZ(0,"div",0)(1,"form",1),_.NdJ("keyup.enter",function(){return xe.signIn()}),_.TgZ(2,"span",2),_._UZ(3,"img",3),_.qZA(),_.TgZ(4,"span",4)(5,"label"),_._uU(6,"\u041b\u043e\u0433\u0438\u043d"),_.qZA(),_._UZ(7,"input",5),_.qZA(),_.TgZ(8,"span",4)(9,"label"),_._uU(10,"\u041f\u0430\u0440\u043e\u043b\u044c"),_.qZA(),_._UZ(11,"input",6),_.qZA(),_._UZ(12,"span"),_.TgZ(13,"p-button",7),_.NdJ("onClick",function(){return xe.signIn()}),_.qZA()(),_.YNc(14,J,2,1,"span",8),_.qZA()),2&X&&(_.xp6(1),_.Q6J("formGroup",xe.loginForm),_.xp6(6),_.Q6J("autocomplete","off"),_.xp6(4),_.Q6J("autocomplete","off"),_.xp6(2),_.Q6J("loading",xe.isLogining),_.xp6(1),_.Q6J("ngIf",xe.isWrongCredentials))},dependencies:[l.o,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,R.O5,L.zx],styles:[".page-wrapper[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center}.page-wrapper[_ngcontent-%COMP%]   .login-panel[_ngcontent-%COMP%]{width:max-content;height:max-content;min-width:27rem;display:flex;flex-direction:column;gap:1rem;padding:2rem;border-radius:1rem;background-color:#fff;box-shadow:var(--shadow-200)}.error-message[_ngcontent-%COMP%]{position:absolute;background-color:#f56262;color:#fff;border-radius:.5rem;padding:.7rem 1rem;font-size:.9rem;font-weight:700;bottom:10%}"],data:{animation:[f.U1]}}),be})()}];let x=(()=>{class be{}return be.\u0275fac=function(X){return new(X||be)},be.\u0275mod=_.oAB({type:be}),be.\u0275inj=_.cJS({imports:[e.Bz.forChild(w),e.Bz]}),be})();var D=b(1777),S=b(5730),U=b(9783),F=b(5921);const ce=["input"];function te(be,Qe){if(1&be){const X=_.EpF();_.TgZ(0,"i",5),_.NdJ("click",function(){_.CHM(X);const we=_.oxw();return _.KtG(we.clear())}),_.qZA()}}function V(be,Qe){if(1&be){const X=_.EpF();_.TgZ(0,"i",6),_.NdJ("click",function(){_.CHM(X);const we=_.oxw();return _.KtG(we.onMaskToggle())}),_.ALo(1,"mapper"),_.qZA()}if(2&be){const X=_.oxw();_.Q6J("ngClass",_.xi3(1,1,X.unmasked,X.toggleIconClass))}}function k(be,Qe){1&be&&_.GkF(0)}function O(be,Qe){1&be&&_.GkF(0)}function $(be,Qe){if(1&be&&(_.ynx(0),_.YNc(1,O,1,0,"ng-container",8),_.BQk()),2&be){const X=_.oxw(2);_.xp6(1),_.Q6J("ngTemplateOutlet",X.contentTemplate)}}const ue=function(be){return{width:be}};function q(be,Qe){if(1&be&&(_.TgZ(0,"div",11),_._UZ(1,"div",0),_.ALo(2,"mapper"),_.qZA(),_.TgZ(3,"div",12),_._uU(4),_.qZA()),2&be){const X=_.oxw(2);_.xp6(1),_.Q6J("ngClass",_.xi3(2,3,X.meter,X.strengthClass))("ngStyle",_.VKq(6,ue,X.meter?X.meter.width:"")),_.xp6(3),_.Oqu(X.infoText)}}function Y(be,Qe){1&be&&_.GkF(0)}const G=function(be,Qe){return{showTransitionParams:be,hideTransitionParams:Qe}},he=function(be){return{value:"visible",params:be}};function j(be,Qe){if(1&be){const X=_.EpF();_.TgZ(0,"div",6,7),_.NdJ("click",function(we){_.CHM(X);const Oe=_.oxw();return _.KtG(Oe.onOverlayClick(we))})("@overlayAnimation.start",function(we){_.CHM(X);const Oe=_.oxw();return _.KtG(Oe.onAnimationStart(we))})("@overlayAnimation.done",function(we){_.CHM(X);const Oe=_.oxw();return _.KtG(Oe.onAnimationEnd(we))}),_.YNc(2,k,1,0,"ng-container",8),_.YNc(3,$,2,1,"ng-container",9),_.YNc(4,q,5,8,"ng-template",null,10,_.W1O),_.YNc(6,Y,1,0,"ng-container",8),_.qZA()}if(2&be){const X=_.MAs(5),xe=_.oxw();_.Q6J("ngClass","p-password-panel p-component")("@overlayAnimation",_.VKq(9,he,_.WLB(6,G,xe.showTransitionOptions,xe.hideTransitionOptions))),_.xp6(2),_.Q6J("ngTemplateOutlet",xe.headerTemplate),_.xp6(1),_.Q6J("ngIf",xe.contentTemplate)("ngIfElse",X),_.xp6(3),_.Q6J("ngTemplateOutlet",xe.footerTemplate)}}let K=(()=>{class be{transform(X,xe,...we){return xe(X,...we)}}return be.\u0275fac=function(X){return new(X||be)},be.\u0275pipe=_.Yjl({name:"mapper",type:be,pure:!0}),be})();const z={provide:a.JU,useExisting:(0,_.Gpc)(()=>oe),multi:!0};let oe=(()=>{class be{constructor(X,xe,we,Oe){this.cd=X,this.config=xe,this.el=we,this.overlayService=Oe,this.mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})",this.strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})",this.feedback=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.showClear=!1,this.onFocus=new _.vpe,this.onBlur=new _.vpe,this.onClear=new _.vpe,this.overlayVisible=!1,this.focused=!1,this.unmasked=!1,this.value=null,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(X=>{switch(X.getType()){case"content":default:this.contentTemplate=X.template;break;case"header":this.headerTemplate=X.template;break;case"footer":this.footerTemplate=X.template}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(X){switch(X.toState){case"visible":this.overlay=X.element,F.P9.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null}}onAnimationEnd(X){"void"===X.toState&&F.P9.clear(X.element)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=S.p.getOuterWidth(this.input.nativeElement)+"px",S.p.absolutePosition(this.overlay,this.input.nativeElement)):S.p.relativePosition(this.overlay,this.input.nativeElement)}onInput(X){this.value=X.target.value,this.onModelChange(this.value),this.onModelTouched()}onInputFocus(X){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(X)}onInputBlur(X){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onBlur.emit(X)}onKeyDown(X){"Escape"===X.key&&(this.overlayVisible=!1)}onKeyUp(X){this.feedback&&(this.updateUI(X.target.value),this.overlayVisible||(this.overlayVisible=!0))}updateUI(X){let xe=null,we=null;switch(this.testStrength(X)){case 1:xe=this.weakText(),we={strength:"weak",width:"33.33%"};break;case 2:xe=this.mediumText(),we={strength:"medium",width:"66.66%"};break;case 3:xe=this.strongText(),we={strength:"strong",width:"100%"};break;default:xe=this.promptText(),we=null}this.meter=we,this.infoText=xe}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(X){this.overlayService.add({originalEvent:X,target:this.el.nativeElement})}testStrength(X){let xe=0;return this.strongCheckRegExp.test(X)?xe=3:this.mediumCheckRegExp.test(X)?xe=2:X.length&&(xe=1),xe}writeValue(X){this.value=void 0===X?null:X,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(X){this.onModelChange=X}registerOnTouched(X){this.onModelTouched=X}setDisabledState(X){this.disabled=X}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new S.V(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()}bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!S.p.isTouchDevice()&&(this.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}containerClass(X){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":X}}inputFieldClass(X){return{"p-password-input":!0,"p-disabled":X}}toggleIconClass(X){return X?"pi pi-eye-slash":"pi pi-eye"}strengthClass(X){return`p-password-strength ${X?X.strength:""}`}filled(){return null!=this.value&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(U.ws.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(U.ws.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(U.ws.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(U.ws.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&("body"===this.appendTo?document.body.removeChild(this.overlay):document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(X){return X?"text":"password"}getTranslation(X){return this.config.getTranslation(X)}clear(){this.value=null,this.onModelChange(this.value),this.writeValue(this.value),this.onClear.emit()}ngOnDestroy(){this.overlay&&(F.P9.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}}return be.\u0275fac=function(X){return new(X||be)(_.Y36(_.sBO),_.Y36(U.b4),_.Y36(_.SBq),_.Y36(U.F0))},be.\u0275cmp=_.Xpm({type:be,selectors:[["p-password"]],contentQueries:function(X,xe,we){if(1&X&&_.Suo(we,U.jx,4),2&X){let Oe;_.iGM(Oe=_.CRH())&&(xe.templates=Oe)}},viewQuery:function(X,xe){if(1&X&&_.Gf(ce,5),2&X){let we;_.iGM(we=_.CRH())&&(xe.input=we.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:8,hostBindings:function(X,xe){2&X&&_.ekj("p-inputwrapper-filled",xe.filled())("p-inputwrapper-focus",xe.focused)("p-password-clearable",xe.showClear)("p-password-mask",xe.toggleMask)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",label:"label",disabled:"disabled",promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",strongLabel:"strongLabel",inputId:"inputId",feedback:"feedback",appendTo:"appendTo",toggleMask:"toggleMask",inputStyleClass:"inputStyleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",placeholder:"placeholder",showClear:"showClear"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClear:"onClear"},features:[_._Bn([z])],decls:9,vars:27,consts:[[3,"ngClass","ngStyle"],["pInputText","",3,"ngClass","ngStyle","value","input","focus","blur","keyup","keydown"],["input",""],["class","p-password-clear-icon pi pi-times",3,"click",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[1,"p-password-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","click"],["overlay",""],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["content",""],[1,"p-password-meter"],["className","p-password-info"]],template:function(X,xe){1&X&&(_.TgZ(0,"div",0),_.ALo(1,"mapper"),_.TgZ(2,"input",1,2),_.NdJ("input",function(Oe){return xe.onInput(Oe)})("focus",function(Oe){return xe.onInputFocus(Oe)})("blur",function(Oe){return xe.onInputBlur(Oe)})("keyup",function(Oe){return xe.onKeyUp(Oe)})("keydown",function(Oe){return xe.onKeyDown(Oe)}),_.ALo(4,"mapper"),_.ALo(5,"mapper"),_.qZA(),_.YNc(6,te,1,0,"i",3),_.YNc(7,V,2,4,"i",4),_.YNc(8,j,7,11,"div",4),_.qZA()),2&X&&(_.Tol(xe.styleClass),_.Q6J("ngClass",_.xi3(1,18,xe.toggleMask,xe.containerClass))("ngStyle",xe.style),_.xp6(2),_.Tol(xe.inputStyleClass),_.Q6J("ngClass",_.xi3(4,21,xe.disabled,xe.inputFieldClass))("ngStyle",xe.inputStyle)("value",xe.value),_.uIk("label",xe.label)("aria-label",xe.ariaLabel)("aria-labelledBy",xe.ariaLabelledBy)("id",xe.inputId)("type",_.xi3(5,24,xe.unmasked,xe.inputType))("placeholder",xe.placeholder),_.xp6(4),_.Q6J("ngIf",xe.showClear&&null!=xe.value),_.xp6(1),_.Q6J("ngIf",xe.toggleMask),_.xp6(1),_.Q6J("ngIf",xe.overlayVisible))},dependencies:[R.mk,R.O5,R.tP,R.PC,l.o,K],styles:[".p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0%;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}.p-password-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-password-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,D.X$)("overlayAnimation",[(0,D.eR)(":enter",[(0,D.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,D.jt)("{{showTransitionParams}}")]),(0,D.eR)(":leave",[(0,D.jt)("{{hideTransitionParams}}",(0,D.oB)({opacity:0}))])])]},changeDetection:0}),be})(),Te=(()=>{class be{}return be.\u0275fac=function(X){return new(X||be)},be.\u0275mod=_.oAB({type:be}),be.\u0275inj=_.cJS({imports:[R.ez,l.j,U.m8]}),be})();var Ae=b(1923);let Ke=(()=>{class be{}return be.\u0275fac=function(X){return new(X||be)},be.\u0275mod=_.oAB({type:be}),be.\u0275inj=_.cJS({imports:[x,l.j,Te,Ae.U,a.UX,L.hJ]}),be})()},2437:(mn,ht,b)=>{"use strict";b.r(ht),b.d(ht,{MainModule:()=>$B});var e=b(5e3),a=b(3470),f=b(4e3),g=b(2382),_=b(383),P=b(4280),y=b(4968),l=b(9300),R=b(3900),L=b(8738),J=b(8028),N=b(9783),w=b(2248),x=b(5072),D=b(446),S=b(6502);let U=(()=>{class n{constructor(t){this.host=t,this.limited=!1,this.shift=0,"complete"===document.readyState&&setTimeout(this.onResize.bind(this),0)}onLoad(){}onResize(){const{y:t}=this.host.element.nativeElement.getBoundingClientRect(),i=window.innerHeight;this.limited||(this.host.element.nativeElement.style.minHeight=i-(t<0?0:t)-this.shift+"px"),this.limited&&(this.host.element.nativeElement.style.height=i-(t<0?0:t)-this.shift+"px")}onScroll(t){this.onResize()}ngAfterViewInit(){this.onResize()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.s_b))},n.\u0275dir=e.lG2({type:n,selectors:[["","appExtendPageHeight",""]],hostBindings:function(t,i){1&t&&e.NdJ("load",function(){return i.onLoad()},!1,e.Jf7)("resize",function(){return i.onResize()},!1,e.Jf7)("scroll",function(d){return i.onScroll(d)},!1,e.Jf7)},inputs:{limited:"limited",shift:"shift"}}),n})();var F=b(2145);function ce(n,o){if(1&n&&(e.TgZ(0,"div",3),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}function te(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}let V=(()=>{class n{constructor(t){this.api=t,this.control=new g.NI([]),this.suggestions=[],this.onChange=i=>{},this.onTouched=()=>{}}ngOnInit(){this.subscription=this.control.valueChanges.subscribe(t=>{this.onChange(null!=t?t:[])})}search(t){this.api.getAvailableObserversSuggestions(t.query).subscribe(i=>{this.suggestions=i})}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}setDisabledState(t){t?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.control.setValue(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-observer-selector-input"]],features:[e._Bn([{provide:g.JU,useExisting:n,multi:!0}])],decls:3,vars:7,consts:[["emptyMessage","\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b","styleClass","w-full block transparent-ac-token","inputStyleClass","w-7rem","field","name","placeholder","\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438","appendTo","body",3,"formControl","showClear","showEmptyMessage","suggestions","forceSelection","completeOnFocus","multiple","onBlur","completeMethod"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"text-xs","text-primary-400","px-2","py-1","bg-primary-50","border-round-md","font-bold"]],template:function(t,i){1&t&&(e.TgZ(0,"p-autoComplete",0),e.NdJ("onBlur",function(){return i.onTouched()})("completeMethod",function(d){return i.search(d)}),e.YNc(1,ce,2,1,"ng-template",1),e.YNc(2,te,2,1,"ng-template",2),e.qZA()),2&t&&e.Q6J("formControl",i.control)("showClear",!0)("showEmptyMessage",!0)("suggestions",i.suggestions)("forceSelection",!0)("completeOnFocus",!0)("multiple",!0)},dependencies:[g.JJ,N.jx,g.oH,F.Qc],styles:["[_nghost-%COMP%]{display:flex}"]}),n})();var k=b(9808),O=b(845),$=b(8050);const ue=["inputEl"];function q(n,o){1&n&&(e.TgZ(0,"span",7),e._uU(1,"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0435\u0433\u0438..."),e.qZA())}function Y(n,o){if(1&n&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.Oqu(t.name)}}function G(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",9),e.NdJ("mouseenter",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.extraPreviewVisible=!0)})("mouseleave",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.extraPreviewVisible=!1)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.hij(" +",t.control.value.length-2," ")}}function he(n,o){if(1&n&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.Oqu(t.name)}}const j=function(n){return{disabled:n}};function Q(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.focusing())}),e.YNc(1,q,2,0,"span",3),e.YNc(2,Y,2,3,"span",4),e.ALo(3,"slice"),e.YNc(4,G,2,1,"span",5),e.TgZ(5,"p-overlay",6),e.NdJ("visibleChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.extraPreviewVisible=s)}),e.YNc(6,he,2,3,"span",4),e.ALo(7,"slice"),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(15,j,t.control.disabled)),e.xp6(1),e.Q6J("ngIf",0===(null==t.control.value?null:t.control.value.length)),e.xp6(1),e.Q6J("ngForOf",e.Dn7(3,8,t.control.value,0,2))("ngForTrackBy",t.trackByTaskTag),e.xp6(2),e.Q6J("ngIf",t.control.value&&t.control.value.length>2),e.xp6(1),e.Q6J("visible",t.extraPreviewVisible),e.xp6(1),e.Q6J("ngForOf",e.xi3(7,12,t.control.value,2))("ngForTrackBy",t.trackByTaskTag)}}function K(n,o){if(1&n&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.Oqu(t.name)}}function z(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("color",t.color),e.xp6(1),e.hij(" ",t.name," ")}}function oe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.accept())}),e.qZA()}}function Te(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"p-autoComplete",11,12),e.NdJ("completeMethod",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.search(s))}),e.YNc(3,K,2,3,"ng-template",13),e.YNc(4,z,2,3,"ng-template",14),e.qZA(),e.YNc(5,oe,1,0,"button",15),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formControl",t.control)("suggestions",t.suggestions)("multiple",!0)("completeOnFocus",!0),e.xp6(4),e.Q6J("ngIf",!t.autoAccept)}}let Ae=(()=>{class n{constructor(t){this.api=t,this._autoAccept=!1,this.control=new g.NI([]),this.suggestions=[],this.focused=!1,this.extraPreviewVisible=!1,this.previousVariableValue="",this.onChange=i=>{},this.onTouched=()=>{}}set autoAccept(t){var i;this._autoAccept=t,t&&(null===(i=this.changeSubscription)||void 0===i||i.unsubscribe(),this.changeSubscription=this.control.valueChanges.subscribe(s=>{this.onChange(s)}))}get autoAccept(){return this._autoAccept}search(t){this.api.getTaskTags(t.query).subscribe(i=>{this.suggestions=i.filter(s=>{var d;return!(null!==(d=this.control.value)&&void 0!==d&&d.some(T=>s.taskTagId===T.taskTagId))})})}trackByTaskTag(t,i){return i.taskTagId+i.name+i.color}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?(this.control.disable({emitEvent:!1}),this.focused=!1):this.control.enable({emitEvent:!1})}writeValue(t){this.control.setValue(t),this.previousVariableValue=JSON.stringify(t)}ngOnInit(){}ngOnDestroy(){var t;null===(t=this.changeSubscription)||void 0===t||t.unsubscribe()}accept(){JSON.stringify(this.control.value)!==this.previousVariableValue&&this.onChange(this.control.value),this.focused=!1}focusing(){this.control.disabled||(this.previousVariableValue=JSON.stringify(this.control.value),this.focused=!0,this.onTouched(),setTimeout(()=>{var t,i;null===(i=null===(t=this.inputEl)||void 0===t?void 0:t.multiInputEL)||void 0===i||i.nativeElement.focus()}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-tag-selector"]],viewQuery:function(t,i){if(1&t&&e.Gf(ue,5),2&t){let s;e.iGM(s=e.CRH())&&(i.inputEl=s.first)}},inputs:{autoAccept:"autoAccept"},features:[e._Bn([{provide:g.JU,multi:!0,useExisting:n}])],decls:2,vars:2,consts:[["class","p-component p-inputtext wrapper",3,"ngClass","click",4,"ngIf"],["class","p-inputgroup",4,"ngIf"],[1,"p-component","p-inputtext","wrapper",3,"ngClass","click"],["class","placeholder-text",4,"ngIf"],["class","tags-view-item",3,"background-color",4,"ngFor","ngForOf","ngForTrackBy"],["class","tags-view-item",3,"mouseenter","mouseleave",4,"ngIf"],["contentStyleClass","overlay flexed wrapped p10 gap5","showTransitionOptions","0ms","hideTransitionOptions","0ms","appendTo","body",3,"visible","visibleChange"],[1,"placeholder-text"],[1,"tags-view-item"],[1,"tags-view-item",3,"mouseenter","mouseleave"],[1,"p-inputgroup"],["styleClass","transparent-ac-token w-full","inputStyleClass","w-full","appendTo","body",3,"formControl","suggestions","multiple","completeOnFocus","completeMethod"],["inputEl",""],["pTemplate","selectedItem"],["pTemplate","item"],["pButton","","icon","mdi-save",3,"click",4,"ngIf"],["pButton","","icon","mdi-save",3,"click"]],template:function(t,i){1&t&&(e.YNc(0,Q,8,17,"div",0),e.YNc(1,Te,6,5,"div",1)),2&t&&(e.Q6J("ngIf",!(i.focused||0===(null==i.control.value?null:i.control.value.length)&&i.control.disabled)),e.xp6(1),e.Q6J("ngIf",i.focused))},dependencies:[k.mk,k.sg,k.O5,O.Hq,g.JJ,$.aV,N.jx,g.oH,F.Qc,k.OU],styles:[".placeholder-text[_ngcontent-%COMP%]{color:var(--tc-400)}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;cursor:text}.wrapper.disabled[_ngcontent-%COMP%]{cursor:default}.wrapper[_ngcontent-%COMP%]:not(.disabled):hover{border-color:var(--mc-500)}"]}),n})();var Ke=b(4036),be=b(5787);const Qe=function(n,o){return{"p-button-icon":!0,"p-button-icon-left":n,"p-button-icon-right":o}};function X(n,o){if(1&n&&e._UZ(0,"span",3),2&n){const t=e.oxw();e.Tol(t.checked?t.onIcon:t.offIcon),e.Q6J("ngClass",e.WLB(3,Qe,"left"===t.iconPos,"right"===t.iconPos))}}const xe=function(n,o,t){return{"p-button p-togglebutton p-component":!0,"p-button-icon-only":n,"p-highlight":o,"p-disabled":t}},we={provide:g.JU,useExisting:(0,e.Gpc)(()=>Oe),multi:!0};let Oe=(()=>{class n{constructor(t){this.cd=t,this.iconPos="left",this.onChange=new e.vpe,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}toggle(t){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:t,checked:this.checked}),this.cd.markForCheck())}onBlur(){this.onModelTouched()}writeValue(t){this.checked=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-toggleButton"]],hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:"tabindex",iconPos:"iconPos"},outputs:{onChange:"onChange"},features:[e._Bn([we])],decls:4,vars:12,consts:[["role","checkbox","pRipple","",3,"ngClass","ngStyle","click","keydown.enter"],[3,"class","ngClass",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(d){return i.toggle(d)})("keydown.enter",function(d){return i.toggle(d)}),e.YNc(1,X,1,6,"span",1),e.TgZ(2,"span",2),e._uU(3),e.qZA()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass",e.kEZ(8,xe,i.onIcon&&i.offIcon&&!i.hasOnLabel&&!i.hasOffLabel,i.checked,i.disabled))("ngStyle",i.style),e.uIk("tabindex",i.disabled?null:"0")("aria-checked",i.checked),e.xp6(1),e.Q6J("ngIf",i.onIcon||i.offIcon),e.xp6(2),e.Oqu(i.checked?i.hasOnLabel?i.onLabel:"":i.hasOffLabel?i.offLabel:""))},dependencies:[k.mk,k.O5,k.PC,be.H],styles:['.p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child){border-right:0 none}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus{position:relative;z-index:1}'],changeDetection:0}),n})(),dt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[k.ez,be.T]}),n})();var bt=b(3407),it=b(6198);function Dt(n,o){1&n&&e.GkF(0)}function vt(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Dt,1,0,"ng-container",7),e.BQk()),2&n){const t=e.oxw(),i=e.MAs(8),s=e.MAs(6);e.xp6(1),e.Q6J("ngIf",t.isTemplateSelected)("ngIfThen",i)("ngIfElse",s)}}function Gt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-template-input",23),e.NdJ("focusin",function(){const d=e.CHM(t).index,T=e.oxw(2);return e.KtG(T.currentFieldFocus=d)})("focusout",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.currentFieldFocus=void 0)}),e.qZA()}if(2&n){const t=o.$implicit;e.Q6J("formControlName",t.id)("field",t)}}function Ht(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"span",17),e._uU(2,"\u0422\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.TgZ(3,"p-dropdown",24),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.type=s)})("ngModelChange",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.changeTaskType(s))}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("options",t.types)("ngModel",t.type)}}function Ut(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"span",17),e._uU(2,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"),e.qZA(),e.TgZ(3,"p-dropdown",25),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.directory=s)}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("options",t.directories)("ngModel",t.directory)}}function ct(n,o){1&n&&(e.TgZ(0,"span",26),e._UZ(1,"span",27),e.TgZ(2,"span"),e._uU(3," \u0414\u043b\u044f \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0443 \u0432\u0430\u0441 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430 \u0432 \u0441\u0442\u0430\u0440\u044b\u0438\u0306 \u0442\u0440\u0435\u043a\u0435\u0440 "),e.qZA()())}function at(n,o){if(1&n&&e._UZ(0,"app-avatar",28),2&n){const t=e.oxw(2);e.Q6J("name",t.personality.me.fullName)("src",t.personality.me.avatar)("size",3)}}function fe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9),e.YNc(2,Gt,1,2,"app-task-template-input",10),e.qZA(),e.TgZ(3,"div",11)(4,"div",12),e.YNc(5,Ht,4,2,"div",13),e.YNc(6,Ut,4,2,"div",13),e.TgZ(7,"p-toggleButton",14),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.isDuplicateInOldTracker=s)}),e.qZA(),e.YNc(8,ct,4,0,"span",15),e.qZA(),e.TgZ(9,"div",16)(10,"span",17),e._uU(11,"\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438"),e.qZA(),e.TgZ(12,"app-observer-selector-input",18),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.initialObservers=s)}),e.qZA()(),e.TgZ(13,"div",16)(14,"span",17),e._uU(15,"\u0422\u0435\u0433\u0438"),e.qZA(),e.TgZ(16,"app-task-tag-selector",19),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.initialTags=s)}),e.qZA()(),e.TgZ(17,"div",16)(18,"span",17),e._uU(19,"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),e.qZA(),e.TgZ(20,"div",20),e.YNc(21,at,1,3,"app-avatar",21),e.TgZ(22,"textarea",22),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.initialComment=s)}),e.qZA()()()()()}if(2&n){const t=e.oxw();e.Q6J("@flow",void 0),e.xp6(1),e.Q6J("@swipeChild",t.currentStepFields.length)("formGroup",t.currentStepForm),e.xp6(1),e.Q6J("ngForOf",t.currentStepFields),e.xp6(3),e.Q6J("ngIf",t.types.length>0),e.xp6(1),e.Q6J("ngIf",t.directories.length>0),e.xp6(1),e.Q6J("ngModel",t.isDuplicateInOldTracker)("disabled",!t.isCurrentTypeHasBind||!t.isUserHasOldTrackerCredentials),e.xp6(1),e.Q6J("ngIf",!t.isUserHasOldTrackerCredentials),e.xp6(4),e.Q6J("ngModel",t.initialObservers),e.xp6(4),e.Q6J("autoAccept",!0)("ngModel",t.initialTags),e.xp6(5),e.Q6J("ngIf",t.personality.me),e.xp6(1),e.Q6J("autoResize",!0)("rows",5)("ngModel",t.initialComment)}}function ke(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31),e._UZ(1,"div",32),e.TgZ(2,"app-button",33),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.changeCreationStep(1))}),e.qZA()()}if(2&n){const t=e.oxw(2);let i;e.xp6(2),e.Q6J("label",null!==(i=t.nextStepName)&&void 0!==i?i:"\u0414\u0430\u043b\u0435\u0435")}}function ot(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"app-button",34),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.changeCreationStep(-1))}),e.qZA(),e._UZ(2,"div",32),e.TgZ(3,"app-button",33),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.changeCreationStep(1))}),e.qZA()()}if(2&n){const t=e.oxw(2);let i,s;e.xp6(1),e.Q6J("label",null!==(i=t.prevStepName)&&void 0!==i?i:"\u041d\u0430\u0437\u0430\u0434"),e.xp6(2),e.Q6J("label",null!==(s=t.nextStepName)&&void 0!==s?s:"\u0414\u0430\u043b\u0435\u0435")}}function Ct(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"app-button",34),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.changeCreationStep(-1))}),e.qZA(),e._UZ(2,"div",32),e.TgZ(3,"p-button",35),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createTaskAndClose())}),e.qZA(),e.TgZ(4,"p-button",36),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createTask())}),e.qZA()()}if(2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("label",null!==(i=t.prevStepName)&&void 0!==i?i:"\u041d\u0430\u0437\u0430\u0434")}}function Ot(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31),e._UZ(1,"div",32),e.TgZ(2,"p-button",35),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createTaskAndClose())}),e.qZA(),e.TgZ(3,"p-button",36),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createTask())}),e.qZA()()}}function Nt(n,o){if(1&n&&(e.ynx(0,29),e.YNc(1,ke,3,1,"div",30),e.YNc(2,ot,4,2,"div",30),e.YNc(3,Ct,5,1,"div",30),e.YNc(4,Ot,4,0,"div",30),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.controlsType()),e.xp6(1),e.Q6J("ngSwitchCase","NEXT_ONLY"),e.xp6(1),e.Q6J("ngSwitchCase","BOTH"),e.xp6(1),e.Q6J("ngSwitchCase","PREV_FIN"),e.xp6(1),e.Q6J("ngSwitchCase","FIN_ONLY")}}const Mt=function(){return[]};function Ye(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",37)(1,"span",38),e._uU(2,"\u041a\u043b\u0430\u0441\u0441 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.TgZ(3,"div",39)(4,"p-dropdown",40),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.selectedTemplate=s)}),e.ALo(5,"async"),e.qZA(),e.TgZ(6,"app-button",41),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.selectTemplateForTask())}),e.qZA()()()}if(2&n){const t=e.oxw();let i;e.xp6(4),e.Q6J("ngModel",t.selectedTemplate)("disabled",t.isTemplateSelected)("options",null!==(i=e.lcZ(5,4,t.templateOptionsList$))&&void 0!==i?i:e.DdM(6,Mt)),e.xp6(2),e.Q6J("disabled",t.isTemplateSelected)}}function st(n,o){1&n&&e.GkF(0)}function je(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"div",43)(2,"span",44),e._uU(3,"\u041a\u043b\u0430\u0441\u0441"),e.qZA(),e.TgZ(4,"span",45),e._uU(5),e.qZA()(),e.TgZ(6,"app-button",46),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.unselectTemplateForTask())}),e.qZA(),e._UZ(7,"div",47),e.YNc(8,st,1,0,"ng-container",48),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(4);e.xp6(5),e.Oqu(null==t.selectedTemplate?null:t.selectedTemplate.name),e.xp6(1),e.Q6J("disabled",!t.isTemplateSelected),e.xp6(2),e.Q6J("ngTemplateOutlet",i)}}function It(n,o){1&n&&(e.TgZ(0,"div",49),e._UZ(1,"p-progressSpinner",50),e.qZA())}var ne=(()=>{return(n=ne||(ne={})).NEXT_ONLY="NEXT_ONLY",n.BOTH="BOTH",n.PREV_FIN="PREV_FIN",n.FIN_ONLY="FIN_ONLY",n.NONE="NONE",ne;var n})();let Ne=(()=>{class n{constructor(t,i,s,d,T){this.api=t,this.route=i,this.personality=s,this.toast=d,this.taskCreation=T,this.templateOptionsList$=this.api.getWireframes(),this.isTemplateSelected=!1,this.currentStep=0,this.isCreatedTask=!1,this.taskCreationForm=new g.Oe([]),this.openMode="standard",this.subscriptions=new _.xf,this.initialObservers=[],this.initialTags=[],this.types=[],this.directories=[],this.isDuplicateInOldTracker=!0,this.enterPressed$=(0,y.R)(document.body,"keydown").pipe((0,l.h)(W=>"Tab"===W.key),(0,l.h)(()=>this.controlsType()===ne.NEXT_ONLY||this.controlsType()===ne.BOTH),(0,l.h)(()=>this.isValidCurrentStep),(0,l.h)(()=>this.currentStepFields.length-1===this.currentFieldFocus)),this._selectedTemplate=null,this.openBillingCreationWindowHandle={next:W=>{this.selectedTemplate=W,this.selectTemplateForTask()},error:()=>{window.close()}},document.body.classList.add("whited")}get selectedTemplate(){return this._selectedTemplate}set selectedTemplate(t){var i,s;this._selectedTemplate=t,null!=t&&t.stages?(this.types=null!==(i=t.stages.sort((d,T)=>d.orderIndex-T.orderIndex))&&void 0!==i?i:[],this.type=this.types[0].stageId,this.directories=this.types[0].directories?this.types[0].directories:[],this.directory=null===(s=this.directories[0])||void 0===s?void 0:s.taskTypeDirectoryId,this.isDuplicateInOldTracker=!!this.types[0].oldTrackerBind&&this.isUserHasOldTrackerCredentials):(this.types=[],this.type=void 0,this.directories=[],this.directory=void 0,this.isDuplicateInOldTracker=!1)}get nextStepName(){var t,i;return null===(i=null===(t=this.selectedTemplate)||void 0===t?void 0:t.steps[this.currentStep+1])||void 0===i?void 0:i.name}get prevStepName(){var t,i;return null===(i=null===(t=this.selectedTemplate)||void 0===t?void 0:t.steps[this.currentStep-1])||void 0===i?void 0:i.name}changeTaskType(t){t||(this.isDuplicateInOldTracker=!1);const i=this.types.find(s=>s.stageId===t);if(i)return this.isDuplicateInOldTracker=!!i.oldTrackerBind&&this.isUserHasOldTrackerCredentials,void(this.directories=i.directories);this.directories=[],this.isDuplicateInOldTracker=!1}get isUserHasOldTrackerCredentials(){var t;const i=null===(t=this.personality.me)||void 0===t?void 0:t.oldTrackerCredentials;return!!i&&!!i.username&&!!i.password}get currentStepFields(){var t,i;return this.isTemplateSelected&&null!==(i=null===(t=this.selectedTemplate)||void 0===t?void 0:t.steps[this.currentStep].fields)&&void 0!==i?i:[]}get currentStepForm(){return this.taskCreationForm.at(this.currentStep)}get isValidCurrentStep(){return this.currentStepForm.valid}get taskCreationBody(){if(!this.selectedTemplate)return null;const t=this.taskCreationForm.getRawValue().reduce((i,s)=>Object.assign(Object.assign({},i),s),{});return{wireframeId:this.selectedTemplate.wireframeId,childId:this.childId,parentId:this.parentId,fields:_.PU.convert(t,this.selectedTemplate),initialComment:this.initialComment,tags:this.initialTags,observers:this.initialObservers,type:this.type,directory:this.directory,isDuplicateInOldTracker:this.isDuplicateInOldTracker}}ngOnInit(){this.subscriptions.addSubscription("nextStep",this.enterPressed$.subscribe(()=>this.changeCreationStep(1))),window.addEventListener("message",t=>{const i=t.data;switch(this.openMode=i.mode,i.mode){case"standard":break;case"parent":this.parentId=i.dependencyIdentifier;break;case"child":this.childId=i.dependencyIdentifier;break;case"billing":i.wireframeId?(this.defaultValues=i.billingInfo,this.api.getWireframe(i.wireframeId).subscribe(this.openBillingCreationWindowHandle)):window.close()}},!1)}ngOnDestroy(){this.subscriptions.unsubscribeAll()}selectTemplateForTask(){var t;!this.selectedTemplate||(this.isTemplateSelected=!0,this.initialObservers=null!==(t=this.selectedTemplate.defaultObservers)&&void 0!==t?t:[],this.taskCreationForm=new g.Oe(this.selectedTemplate.steps.map(i=>new g.cw(i.fields.reduce((s,d)=>{let T=null;if(this.defaultValues)switch(d.name.toLowerCase()){case"\u043b\u043e\u0433\u0438\u043d":T=this.defaultValues.login;break;case"\u0430\u0434\u0440\u0435\u0441":T=this.defaultValues.address}return Object.assign(Object.assign({},s),{[d.id]:new g.NI(T,P.d.taskInput(d.type,d.variation))})},{})))))}unselectTemplateForTask(){this.selectedTemplate=null,this.isTemplateSelected=!1,this.currentStep=0,this.isTemplateSelected=!1}changeCreationStep(t=0){!this.isValidCurrentStep&&t>0?this.currentStepForm.markAllAsTouched():this.currentStep+=t}controlsType(){return this.selectedTemplate?0===this.currentStep?this.selectedTemplate.steps.length>1?ne.NEXT_ONLY:ne.FIN_ONLY:this.selectedTemplate.steps.length-1===this.currentStep?ne.PREV_FIN:ne.BOTH:ne.NONE}get isCurrentTypeHasBind(){if(!this.type)return!1;const t=this.types.find(i=>i.stageId===this.type);return!!t&&!!t.oldTrackerBind}createTask(){this.taskCreationBody?this.taskCreationForm.valid?(this.isCreatedTask=!0,this.api.createTask(this.taskCreationBody).subscribe({next:()=>{this.isCreatedTask=!1,window.close()},error:()=>{this.isCreatedTask=!1}})):this.taskCreationForm.markAllAsTouched():this.toast.add({severity:"danger",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d \u0448\u0430\u0431\u043b\u043e\u043d \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438"})}createTaskAndClose(){this.taskCreationBody?this.taskCreationForm.valid?(this.isCreatedTask=!0,this.api.createTask(this.taskCreationBody).pipe((0,R.w)(t=>this.api.closeTask(t.taskId))).subscribe({next:t=>{this.isCreatedTask=!1,window.close()},error:()=>{this.isCreatedTask=!1}})):this.taskCreationForm.markAllAsTouched():this.toast.add({severity:"danger",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d \u0448\u0430\u0431\u043b\u043e\u043d \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(a.gz),e.Y36(J.F),e.Y36(N.ez),e.Y36(w.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:10,vars:6,consts:[["appExtendPageHeight","",1,"flexed","gap10","column"],[4,"ngIf","ngIfElse"],["class","stage-view",4,"ngIf"],["controls",""],["unselectedTemplatePanel",""],["selectedTemplatePanel",""],["class","stub-when-creating-a-task",4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"stage-view"],[1,"flex","flex-column","p-3","gap-3",3,"formGroup"],["class","flex-grow-1",3,"formControlName","field","focusin","focusout",4,"ngFor","ngForOf"],[1,"flex","flex-column","gap-3","mt-3"],[1,"flex","flex-wrap","gap-3","align-items-end"],["class","flex flex-column gap-1",4,"ngIf"],["onLabel","\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0441\u0442\u0430\u0440\u044b\u0439 \u0442\u0440\u0435\u043a\u0435\u0440","offLabel","\u041d\u0435 \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0441\u0442\u0430\u0440\u044b\u0439 \u0442\u0440\u0435\u043a\u0435\u0440","styleClass","white-space-nowrap",3,"ngModel","disabled","ngModelChange"],["class","font-bold text-sm text-orange-400 flex gap-2 align-items-center",4,"ngIf"],[1,"flex","flex-column","gap-1"],[1,"font-semibold","text-lg","text-bluegray-400"],[3,"ngModel","ngModelChange"],[3,"autoAccept","ngModel","ngModelChange"],[1,"flex","gap-2"],[3,"name","src","size",4,"ngIf"],["pInputTextarea","","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",1,"flex-grow-1",3,"autoResize","rows","ngModel","ngModelChange"],[1,"flex-grow-1",3,"formControlName","field","focusin","focusout"],["optionValue","stageId",3,"options","ngModel","ngModelChange"],["placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u0430\u0442\u0430\u043b\u043e\u0433","optionLabel","name","optionValue","taskTypeDirectoryId",3,"options","ngModel","ngModelChange"],[1,"font-bold","text-sm","text-orange-400","flex","gap-2","align-items-center"],[1,"mdi-warning"],[3,"name","src","size"],[3,"ngSwitch"],["class","flex gap-3",4,"ngSwitchCase"],[1,"flex","gap-3"],[1,"stretched"],["icon","navigate_next","iconPos","right",3,"label","onClick"],["icon","navigate_before","model","p-button-text p-button-secondary",3,"label","onClick"],["icon","mdi-add_circle_outline","styleClass","p-button-secondary p-button-outlined","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0438 \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",3,"onClick"],["icon","mdi-add_circle_outline","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"onClick"],[1,"flexed","gap10","column"],[1,"header400"],[1,"flexed","gap5","hcenter"],["optionLabel","name","placeholder","\u041a\u043b\u0430\u0441\u0441\u044b \u0437\u0430\u0434\u0430\u0447",3,"ngModel","disabled","options","ngModelChange"],["icon","done","label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","model","fit-content p-button-success",3,"disabled","onClick"],[1,"flex","align-items-center","gap-2"],[1,"flex","flex-column"],[1,"text-bluegray-500"],[1,"text-bluegray-500","text-lg","font-bold"],["icon","published_with_changes","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u044b\u0431\u043e\u0440","model","p-button-text p-button-danger fit-content",3,"disabled","onClick"],[1,"flex-grow-1"],[4,"ngTemplateOutlet"],[1,"stub-when-creating-a-task"],[1,"white-spinner"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,vt,2,3,"ng-container",1),e.YNc(2,fe,23,16,"div",2),e.qZA(),e.YNc(3,Nt,5,5,"ng-template",null,3,e.W1O),e.YNc(5,Ye,7,7,"ng-template",null,4,e.W1O),e.YNc(7,je,9,3,"ng-template",null,5,e.W1O),e.YNc(9,It,2,0,"div",6)),2&t){const s=e.MAs(8);e.Udp("padding","0 2rem 2rem 2rem"),e.xp6(1),e.Q6J("ngIf","billing"!=i.openMode)("ngIfElse",s),e.xp6(1),e.Q6J("ngIf",i.isTemplateSelected),e.xp6(7),e.Q6J("ngIf",i.isCreatedTask)}},dependencies:[x.A,D.r,S.o,U,V,Ae,g.Fj,g.JJ,g.JL,g.On,k.sg,g.sg,g.u,Ke.Lt,Oe,k.O5,bt.g,O.zx,k.tP,k.RF,k.n9,it.G,k.Ov],styles:[".stage-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:0 2rem;width:100%;max-width:54rem;align-self:center}.stub-when-creating-a-task[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;z-index:10000;display:flex;justify-content:center;align-items:center;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}"],data:{animation:[f.U1,f.ls,f.x$]}}),n})();var me=b(7384),gt=b(4004),un=b(4782),In=b(9646),en=b(4326),_t=b(9014),et=b(1514),de=b(8007),Je=b(963);const ze=["filesInput"],wt=["taskActualDateSetPanel"],Fe=["commentEditor"],qt=["taskLinkingDialog"],fn=["workLogsDialogEl"],Jt=["fileInput"],Dn=["oldTrackerPanel"];function Rt(n,o){1&n&&(e.ynx(0),e._UZ(1,"p-progressSpinner",49),e.BQk())}function rn(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",50)(2,"div",51),e._UZ(3,"span",52),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"p-button",53),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.customNav.backOrDefault(["/tasks","catalog"]))}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(5),e.hij(" \u0417\u0430\u0434\u0430\u0447\u0438 #",t.taskId," \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 ")}}function Fn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",78)(1,"p-button",79),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.customNav.backOrDefault(["/tasks","catalog"]))}),e.qZA(),e.TgZ(2,"div",80)(3,"span",81),e._uU(4),e.qZA(),e.TgZ(5,"div",82)(6,"span"),e._uU(7,"\u0422\u0438\u043f:"),e.qZA(),e.TgZ(8,"app-tiny-button",83),e.NdJ("onClick",function(s){e.CHM(t),e.oxw(2);const d=e.MAs(57);return e.KtG(d.toggle(s))}),e.qZA()()()()}if(2&n){const t=e.oxw(2);let i,s;e.xp6(4),e.Oqu(null!==(i=null==t.currentTask||null==t.currentTask.modelWireframe?null:t.currentTask.modelWireframe.name)&&void 0!==i?i:""),e.xp6(4),e.Q6J("disabled",!(null!=t.currentTask&&t.currentTask.currentStage)||"CLOSE"===(null==t.currentTask?null:t.currentTask.taskStatus))("label",null!==(s=null==t.currentTask||null==t.currentTask.currentStage?null:t.currentTask.currentStage.label)&&void 0!==s?s:"\u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430")("size",.9)}}function Un(n,o){1&n&&e.GkF(0)}function ri(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Un,1,0,"ng-container",85),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw(3),i=e.MAs(62),s=e.MAs(64);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,t.isBeforeActualFrom$))("ngIfThen",i)("ngIfElse",s)}}function vi(n,o){if(1&n&&(e.YNc(0,ri,3,5,"ng-container",84),e.ALo(1,"async")),2&n){const t=e.oxw(2);e.Q6J("ngIf",(null==t.currentTask?null:t.currentTask.actualTo)||(null==t.currentTask?null:t.currentTask.actualFrom)&&e.lcZ(1,1,t.isBeforeActualFrom$))}}function Ni(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",89),e._UZ(1,"i",90),e.TgZ(2,"div",80),e._UZ(3,"app-employee-label",91),e.TgZ(4,"div",92),e._uU(5),e.qZA()(),e._UZ(6,"div",93),e.TgZ(7,"p-button",94),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.replyComment=void 0)}),e.qZA()()}if(2&n){const t=e.oxw(3);e.Udp("padding","1rem 1.5rem"),e.xp6(3),e.Q6J("employee",t.replyComment.creator)("size",2),e.xp6(2),e.hij(" ",t.replyComment.simpleText," "),e.xp6(2),e.Q6J("disabled",t.commentInputForm.disabled)}}function oo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",89),e._UZ(1,"i",95),e.TgZ(2,"div",96)(3,"span"),e._uU(4,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(5,"div",97),e._uU(6),e.qZA()(),e._UZ(7,"div",93),e.TgZ(8,"p-button",94),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(3);return s.editComment=void 0,e.KtG(s.commentInputForm.reset({text:"",files:[]}))}),e.qZA()()}if(2&n){const t=e.oxw(3);e.Udp("padding","1rem 1.5rem"),e.xp6(6),e.hij(" ",t.editComment.simpleText," "),e.xp6(2),e.Q6J("disabled",t.commentInputForm.disabled)}}function Uo(n,o){1&n&&e._UZ(0,"app-file-input",103,104),2&n&&e.Q6J("short",!0)}function Bt(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",98)(2,"p-button",99),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(4);return e.KtG(s.commentEditorMode="extended")}),e.qZA(),e.TgZ(3,"textarea",100),e.NdJ("keydown",function(s){e.CHM(t);const d=e.oxw(4);return e.KtG(d.sendCommentByEnter(s))})("paste",function(s){e.CHM(t);const d=e.oxw(4);return e.KtG(d.pasteFiles(s))}),e.qZA(),e.YNc(4,Uo,2,1,"app-file-input",101),e.TgZ(5,"p-button",102),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(4);return e.KtG(s.sendComment())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(4);e.xp6(1),e.Udp("padding",".5rem 1rem"),e.Q6J("@fadeIn",void 0),e.xp6(1),e.Q6J("disabled",t.commentInputForm.disabled),e.xp6(1),e.Q6J("disabled",t.isTaskClose()),e.xp6(1),e.Q6J("ngIf",!t.editComment),e.xp6(1),e.Q6J("disabled",t.commentInputForm.disabled)}}function Ve(n,o){1&n&&e._UZ(0,"app-file-input",112,104)}const ye=function(){return{maxHeight:"30vh",minHeight:"10rem",overflow:"auto"}};function Ue(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",105)(2,"span",106)(3,"p-button",107),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(4);return s.commentEditorMode="simple",e.KtG(s.clearCommentText())}),e.qZA(),e._UZ(4,"div",93),e.YNc(5,Ve,2,0,"app-file-input",108),e.TgZ(6,"p-button",109),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(4);return e.KtG(s.sendComment())}),e.qZA()(),e.TgZ(7,"quill-editor",110,111),e.NdJ("keydown",function(s){e.CHM(t);const d=e.oxw(4);return e.KtG(d.sendCommentByEnter(s))})("onContentChanged",function(s){e.CHM(t),e.oxw(4);const d=e.MAs(60);return e.KtG(d.setQuillEvent(s))})("paste",function(s){e.CHM(t);const d=e.oxw(4);return e.KtG(d.pasteFiles(s))}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(4);e.xp6(1),e.Udp("padding","1rem 1rem"),e.Q6J("@fadeIn",void 0),e.xp6(2),e.Q6J("disabled",t.commentInputForm.disabled),e.xp6(2),e.Q6J("ngIf",!t.editComment),e.xp6(1),e.Q6J("disabled",t.commentInputForm.disabled),e.xp6(1),e.Q6J("disabled",t.isTaskClose())("formats",t.quillFormats)("modules",t.quillModules)("styles",e.DdM(10,ye))}}function ut(n,o){if(1&n&&(e.ynx(0,1),e.YNc(1,Bt,6,7,"ng-container",2),e.YNc(2,Ue,9,11,"ng-container",2),e.BQk()),2&n){const t=e.oxw(3);e.Q6J("ngSwitch",t.commentEditorMode),e.xp6(1),e.Q6J("ngSwitchCase","simple"),e.xp6(1),e.Q6J("ngSwitchCase","extended")}}function gn(n,o){if(1&n&&(e.TgZ(0,"div",86),e.YNc(1,Ni,8,6,"div",87),e.YNc(2,oo,9,4,"div",87),e.YNc(3,ut,3,3,"ng-container",88),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("formGroup",t.commentInputForm),e.xp6(1),e.Q6J("ngIf",t.replyComment),e.xp6(1),e.Q6J("ngIf",t.editComment),e.xp6(1),e.Q6J("ngIf",!t.isTaskClose())}}function Zt(n,o){if(1&n&&(e.TgZ(0,"div",69)(1,"div",70),e._UZ(2,"span",72),e.TgZ(3,"span"),e._uU(4," \u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 "),e.qZA()(),e.TgZ(5,"span"),e._UZ(6,"app-employee-label",73),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("employee",null==t.currentTask?null:t.currentTask.responsible)}}function an(n,o){1&n&&e._UZ(0,"app-employee-label",73),2&n&&e.Q6J("employee",o.$implicit)}function pn(n,o){if(1&n&&(e.TgZ(0,"div",113)(1,"div",70),e._UZ(2,"span",114),e.TgZ(3,"span"),e._uU(4," \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438 "),e.qZA()(),e.TgZ(5,"span",115),e.YNc(6,an,1,1,"app-employee-label",116),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",t.activeWorkLog.employees)}}function zn(n,o){1&n&&e._UZ(0,"app-department-label",118),2&n&&e.Q6J("department",o.$implicit)}function qn(n,o){1&n&&e._UZ(0,"app-employee-label",73),2&n&&e.Q6J("employee",o.$implicit)}function ai(n,o){if(1&n&&(e.TgZ(0,"div",113)(1,"div",70),e._UZ(2,"span",114),e.TgZ(3,"span"),e._uU(4," \u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438 "),e.qZA()(),e.TgZ(5,"span",115),e.YNc(6,zn,1,1,"app-department-label",117),e.YNc(7,qn,1,1,"app-employee-label",116),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",null==t.currentTask?null:t.currentTask.departmentsObservers),e.xp6(1),e.Q6J("ngForOf",null==t.currentTask?null:t.currentTask.employeesObservers)}}function pi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-tiny-button",128),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(4);return e.KtG(s.unlinkParentTask())}),e.qZA()}}function oi(n,o){if(1&n&&(e.TgZ(0,"div",124)(1,"span",125),e._uU(2,"\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f:"),e.qZA(),e._UZ(3,"app-task-link",126),e.YNc(4,pi,1,0,"app-tiny-button",127),e.qZA()),2&n){const t=e.oxw(3);let i;e.xp6(3),e.Q6J("taskId",null!==(i=null==t.currentTask?null:t.currentTask.parent)&&void 0!==i?i:0),e.xp6(1),e.Q6J("ngIf",!(null==t.currentTask||!t.currentTask.parent))}}function ki(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",131),e._UZ(1,"app-task-link",61),e.TgZ(2,"app-tiny-button",128),e.NdJ("onClick",function(){const d=e.CHM(t).$implicit,T=e.oxw(4);return e.KtG(T.unlinkParentTask(d.taskId))}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Q6J("task",t)}}function $i(n,o){if(1&n&&(e.TgZ(0,"div",129)(1,"span"),e._uU(2,"\u0414\u043e\u0447\u0435\u0440\u043d\u0438\u0435:"),e.qZA(),e.TgZ(3,"div",96),e.YNc(4,ki,3,1,"span",130),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("ngForOf",null==t.currentTask?null:t.currentTask.children)}}function Do(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",113)(1,"div",70),e._UZ(2,"span",119),e.TgZ(3,"span"),e._uU(4," \u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 "),e.qZA(),e.TgZ(5,"app-tiny-button",120),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openTaskChainDialog())}),e.qZA()(),e.TgZ(6,"span",121),e.YNc(7,oi,5,2,"div",122),e.YNc(8,$i,5,1,"div",123),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("ngIf",t.isTaskHasParent()),e.xp6(1),e.Q6J("ngIf",t.isTaskHasChilds())}}const ci=function(){return{border:"none"}};function vo(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",54)(2,"p-menubar",55),e.YNc(3,Fn,9,4,"ng-template",56),e.YNc(4,vi,2,3,"ng-template",57),e.qZA(),e.TgZ(5,"div",58)(6,"div",54)(7,"div",59)(8,"label"),e._uU(9,"\u0422\u0435\u0433\u0438"),e.qZA(),e._UZ(10,"app-task-tag-inline-selector",60),e.qZA(),e._UZ(11,"app-task-fields-table-view",61),e.qZA()(),e.TgZ(12,"div",62)(13,"span",63)(14,"span"),e._uU(15," \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 "),e.qZA(),e.TgZ(16,"p-dropdown",64),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.taskJournalSorting=s)}),e.qZA(),e.TgZ(17,"p-toggleButton",65),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.taskEventsVisible=s)}),e.qZA()(),e.TgZ(18,"app-task-journal",66),e.NdJ("editCommentChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.editCommentChanged(s))})("onFirstLoad",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.journalVisible=s)})("editCommentChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.editComment=s)})("replyCommentChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.replyComment=s)}),e.qZA()(),e.YNc(19,gn,4,4,"div",67),e.qZA(),e.TgZ(20,"div",68)(21,"div",69)(22,"div",70),e._UZ(23,"span",71),e.TgZ(24,"span"),e._uU(25," \u0421\u0442\u0430\u0442\u0443\u0441 "),e.qZA()(),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"taskStatus"),e.qZA()(),e.TgZ(29,"div",69)(30,"div",70),e._UZ(31,"span",72),e.TgZ(32,"span"),e._uU(33," \u0410\u0432\u0442\u043e\u0440 "),e.qZA()(),e.TgZ(34,"span"),e._UZ(35,"app-employee-label",73),e.qZA()(),e.TgZ(36,"div",69)(37,"div",70),e._UZ(38,"span",74),e.TgZ(39,"span"),e._uU(40," \u0421\u043e\u0437\u0434\u0430\u043d\u0430 "),e.qZA()(),e.TgZ(41,"span",75),e._uU(42),e.ALo(43,"titlecase"),e.ALo(44,"date"),e.qZA()(),e.YNc(45,Zt,7,1,"div",76),e.YNc(46,pn,7,1,"div",77),e.YNc(47,ai,8,2,"div",77),e.YNc(48,Do,9,2,"div",77),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(2),e.Akn(e.DdM(33,ci)),e.Q6J("model",t.managementMenu),e.xp6(8),e.Q6J("formControl",t.installedTags),e.xp6(1),e.Q6J("task",t.currentTask),e.xp6(1),e.Q6J("hidden",!t.journalVisible),e.xp6(4),e.Q6J("ngModel",t.taskJournalSorting)("options",t.taskJournalSortingOptions),e.xp6(1),e.Q6J("ngModel",t.taskEventsVisible),e.xp6(1),e.Q6J("editComment",t.editComment)("replyComment",t.replyComment)("showEvents",t.taskEventsVisible)("sortingType",t.taskJournalSorting)("taskId",t.taskId),e.xp6(1),e.Q6J("ngIf",!t.isTaskClose()),e.xp6(1),e.Udp("top","10rem"),e.xp6(6),e.Tol(t.taskStatusColor),e.xp6(1),e.hij(" ",e.lcZ(28,26,t.currentTask)," "),e.xp6(8),e.Q6J("employee",null==t.currentTask?null:t.currentTask.creator),e.xp6(7),e.hij(" ",e.lcZ(43,28,e.xi3(44,30,null==t.currentTask?null:t.currentTask.created,"dd MMM yyyy HH:mm"))," "),e.xp6(3),e.Q6J("ngIf",null==t.currentTask?null:t.currentTask.responsible),e.xp6(1),e.Q6J("ngIf",t.activeWorkLog),e.xp6(1),e.Q6J("ngIf",t.isTaskHasObservers()),e.xp6(1),e.Q6J("ngIf",t.isTaskHasParent()||t.isTaskHasChilds())}}function Ko(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",132)(1,"p-checkbox",133),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.selectedDepartmentObservers=s)}),e.qZA(),e.TgZ(2,"span",134),e._uU(3),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngModel",i.selectedDepartmentObservers)("value",t.departmentId),e.xp6(2),e.Oqu(t.name)}}function Go(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",132)(1,"p-checkbox",135),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.selectedEmployeeObservers=s)}),e.qZA(),e._UZ(2,"app-employee-label",91),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngModel",i.selectedEmployeeObservers)("value",t.login),e.xp6(1),e.Q6J("employee",t)("size",2.3)}}function Ao(n,o){1&n&&(e.TgZ(0,"span",140),e._uU(1,"(\u0412\u044b\u0431\u0440\u0430\u043d)"),e.qZA())}const Xi=function(n){return{selected:n}};function Xo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",136),e.NdJ("click",function(){const d=e.CHM(t).$implicit,T=e.oxw();return e.KtG(T.selectedEmployeeAsResponsible=d)}),e._UZ(1,"app-avatar",137),e.TgZ(2,"div",80)(3,"span",97),e._uU(4),e.qZA(),e.TgZ(5,"span",138),e._uU(6),e.qZA()(),e.YNc(7,Ao,2,0,"span",139),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngClass",e.VKq(7,Xi,(null==i.selectedEmployeeAsResponsible?null:i.selectedEmployeeAsResponsible.login)===t.login)),e.xp6(1),e.Q6J("name",t.fullName)("size",2.3)("src",t.avatar),e.xp6(3),e.Oqu(t.fullName),e.xp6(2),e.Oqu(null==t.department?null:t.department.name),e.xp6(1),e.Q6J("ngIf",(null==i.selectedEmployeeAsResponsible?null:i.selectedEmployeeAsResponsible.login)===t.login)}}const as=function(){return{maxWidth:"45rem",minWidth:"35rem"}};function os(n,o){if(1&n&&e._UZ(0,"app-task-list-element",141),2&n){const t=o.$implicit;e.Akn(e.DdM(3,as)),e.Q6J("item",t.data)}}function ho(n,o){if(1&n&&(e.TgZ(0,"div",142)(1,"span",124),e._uU(2," \u0412\u0440\u0435\u043c\u044f: "),e.TgZ(3,"span",143),e._uU(4),e.ALo(5,"date"),e.qZA()(),e.TgZ(6,"span",144),e._uU(7," \u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440: "),e._UZ(8,"app-employee-label",73),e.qZA(),e.TgZ(9,"span",143),e._uU(10),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.hij(" ",e.xi3(5,4,t.editTaskSnapshots[t.indexEditSnapshot].whenEdited,"dd MMMM yyyy HH:mm")," "),e.xp6(4),e.Q6J("employee",t.editTaskSnapshots[t.indexEditSnapshot].whoEdited),e.xp6(2),e.AsE(" \u0421\u043d\u0438\u043c\u043e\u043a ",t.indexEditSnapshot+1," \u0438\u0437 ",t.editTaskSnapshots.length," ")}}function so(n,o){1&n&&(e.TgZ(0,"span",147),e._uU(1,"keyboard_double_arrow_right"),e.qZA())}function Fi(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td")(2,"span",145),e._uU(3),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e.YNc(7,so,2,0,"span",146),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA()()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(3),e.hij(" ",t.before.name," "),e.xp6(2),e.hij(" ",t.before.textRepresentation," "),e.xp6(2),e.Q6J("ngIf",!i.areFieldsEqual(t.before,t.after)),e.xp6(2),e.hij(" ",t.after.textRepresentation," ")}}function Mo(n,o){if(1&n&&(e.TgZ(0,"div",148),e.ALo(1,"date"),e._UZ(2,"i",149),e.TgZ(3,"span"),e._uU(4," \u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0447\u0435\u0440\u0435\u0437 "),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"async"),e.qZA()()),2&n){const t=e.oxw();let i;e.Udp("color","#f7ce2a"),e.Q6J("pTooltip",null!==(i=e.xi3(1,4,null==t.currentTask?null:t.currentTask.actualFrom,"dd MMMM yyyy HH:mm"))&&void 0!==i?i:""),e.xp6(6),e.hij(" ",e.lcZ(7,7,t.actualFromTime$)," ")}}function es(n,o){if(1&n&&(e.TgZ(0,"div",148),e.ALo(1,"date"),e._UZ(2,"i",149),e.TgZ(3,"span"),e._uU(4," \u0421\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f "),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"async"),e.qZA()()),2&n){const t=e.oxw();let i;e.Udp("color","#ff512a"),e.Q6J("pTooltip",null!==(i=e.xi3(1,4,null==t.currentTask?null:t.currentTask.actualTo,"dd MMMM yyyy HH:mm"))&&void 0!==i?i:""),e.xp6(6),e.hij(" ",e.lcZ(7,7,t.actualToTime$)," ")}}function bo(n,o){if(1&n&&(e.TgZ(0,"div",158)(1,"span",159),e._uU(2,"\u041a\u043b\u0430\u0441\u0441 \u0437\u0430\u0434\u0430\u0447 \u0432 \u0441\u0442\u0430\u0440\u043e\u043c \u0442\u0440\u0435\u043a\u0435\u0440\u0435"),e.qZA(),e.TgZ(3,"span",160),e._uU(4),e.qZA()()),2&n){const t=o.ngIf;e.xp6(4),e.Oqu(t.name)}}function qo(n,o){if(1&n&&(e.TgZ(0,"span",161),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("@fadeIn",void 0),e.xp6(1),e.hij(" ",t.oldTrackerBindInfoForm.controls.id.errors.error," ")}}function Ls(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",162),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.bindTaskToTask())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("@fadeIn",void 0)("disabled",t.oldTrackerBindInfoForm.controls.id.invalid||t.oldTrackerBindInfoForm.controls.id.pending)("loading",t.isTaskInConnectionProcess)}}function Is(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",163),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.changeTaskStageInOldTracker())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("@fadeIn",void 0)("loading",t.isTaskInStageChangeProcess)}}const Rs=function(){return[]};function hs(n,o){if(1&n&&(e.TgZ(0,"div",150),e.YNc(1,bo,5,1,"div",151),e.ALo(2,"async"),e.TgZ(3,"div",152)(4,"label"),e._uU(5,"ID \u0417\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(6,"input",153),e.YNc(7,qo,2,2,"span",154),e.qZA(),e.YNc(8,Ls,1,3,"p-button",155),e.TgZ(9,"div",152)(10,"label"),e._uU(11,"\u042d\u0442\u0430\u043f \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(12,"p-dropdown",156),e.ALo(13,"async"),e.qZA(),e.YNc(14,Is,1,2,"p-button",157),e.qZA()),2&n){const t=e.oxw();let i;e.Q6J("formGroup",t.oldTrackerBindInfoForm),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,7,t.currentOldTrackerClass$)),e.xp6(5),e.Q6J("readonly",t.isChangeOldTrackerBindDisabled),e.xp6(1),e.Q6J("ngIf",t.oldTrackerBindInfoForm.controls.id.errors),e.xp6(1),e.Q6J("ngIf",t.oldTrackerBindInfoForm.controls.id.dirty&&t.oldTrackerBindInfoForm.value.id&&!t.isChangeOldTrackerBindDisabled),e.xp6(4),e.Q6J("options",null!==(i=e.lcZ(13,9,t.oldTrackerStageOptions$))&&void 0!==i?i:e.DdM(11,Rs)),e.xp6(2),e.Q6J("ngIf",t.oldTrackerBindInfoForm.controls.taskStageId.dirty&&t.oldTrackerBindInfoForm.value.taskStageId&&t.isChangeOldTrackerBindDisabled)}}function Er(n,o){1&n&&(e.TgZ(0,"div",164),e._UZ(1,"span",165),e.TgZ(2,"span"),e._uU(3," \u0414\u043b\u044f \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0437\u0430\u0434\u0430\u0447\u0438 \u0441\u043e \u0441\u0442\u0430\u0440\u044b\u043c \u0442\u0440\u0435\u043a\u0435\u0440\u043e\u043c \u043d\u0443\u0436\u043d\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043f\u0440\u0438\u0432\u044f\u0437\u043a\u0443 \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 "),e.qZA()())}const ga=function(){return{width:"50vw"}},Cr=function(){return{"960px":"75vw","640px":"100vw"}},Sr=function(){return{width:"35rem",height:"50vh"}},Ea=function(){return{"960px":"50vw","640px":"100vw"}},gs=function(){return{width:"60vw"}},la=function(){return{overflow:"auto",minHeight:"100%"}},Ns=function(){return{width:"75vw",maxHeight:"70vh"}},ea=function(){return{"960px":"85vw","640px":"100vw"}};let $s=(()=>{class n{constructor(t,i,s,d,T,W,Ce,qe,Xe){this.api=t,this.route=i,this.chatService=s,this.confirmation=d,this.toast=T,this.customNav=W,this.rt=Ce,this.taskCreator=qe,this.commentCachingService=Xe,this.loadingState=me.Gu.LOADING,this.commentSending=!1,this.quillModules=_.tg,this.attachedFiles=[],this.countAllAttachments=0,this.showFilesHistory=!1,this.stageMenuItems=[],this.showAppointInstallersMenu=!1,this.showChangeObserversDialog=!1,this.showTaskLinkingDialog=!1,this.taskLinkingType="parent",this.isLinkingBegin=!1,this.listOfChildTaskLinking=[],this.departmentList=[],this.employeeList=[],this.selectedDepartmentObservers=[],this.selectedEmployeeObservers=[],this.changingTaskObservers=!1,this.employees$=this.api.getEmployeesOptionsList(),this.linkingTaskSkeletonArray=Array.from({length:50}),this.subscriptions=new _.xf,this.taskChain=[],this.showTaskChainDialog=!1,this.listOfExistingTasksToLink=[],this.totalExistingTasksToLink=0,this.loadingExistingTasksToLink=!1,this.globalTaskSearchString="",this.taskCreationDateFilterForLinking=[],this.taskAuthorEmployeeFilter="",this.showChangeResponsibleDialog=!1,this.selectingResponsible=!1,this.schedulingTaskDialogVisible=!1,this.schedulingTaskType="from",this.showChatHistory=!1,this.isShowEditTaskDialog=!1,this.isShowEditHistoryDialog=!1,this.editTaskSnapshots=[],this.indexEditSnapshot=0,this.managementMenu=[],this.forceCloseWorkLogDialogVisible=!1,this.isForceClosingWorkLog=!1,this.commentInputForm=new g.cw({text:new g.NI(""),files:new g.NI([])}),this.commentEditorMode="simple",this.taskEventsVisible=!0,this.journalVisible=!1,this.installedTags=new g.NI([]),this.actualFromDurationCounter=new _.pd,this.actualFromTime$=this.actualFromDurationCounter.observer.pipe((0,gt.U)($t=>$t.actualLabel)),this.isBeforeActualFrom$=this.actualFromDurationCounter.observer.pipe((0,gt.U)($t=>"before"==$t.mode)),this.actualToDurationCounter=new _.pd,this.actualToTime$=this.actualToDurationCounter.observer.pipe((0,gt.U)($t=>"after"===$t.mode?"-"+$t.actualLabel:$t.actualLabel)),this.oldTrackerBindInfoForm=new g.cw({id:new g.NI(null,[],[this.compatibilityTaskValidator()]),taskClassId:new g.NI(null),taskStageId:new g.NI(null)}),this.oldTrackerClassOptions$=this.api.getOldTrackerClasses().pipe((0,un.d)(1)),this.currentOldTrackerClass$=this.oldTrackerClassOptions$.pipe((0,gt.U)($t=>$t.find(jt=>{var Wt,_n,Pn;return jt.id===(null===(Pn=null===(_n=null===(Wt=this.currentTask)||void 0===Wt?void 0:Wt.currentStage)||void 0===_n?void 0:_n.oldTrackerBind)||void 0===Pn?void 0:Pn.classId)}))),this.oldTrackerStageOptions$=this.oldTrackerBindInfoForm.controls.taskClassId.valueChanges.pipe((0,R.w)($t=>this.oldTrackerClassOptions$.pipe((0,gt.U)(jt=>{var Wt,_n;return null!==(_n=null===(Wt=jt.find(Pn=>Pn.id===$t))||void 0===Wt?void 0:Wt.stages)&&void 0!==_n?_n:[]}))),(0,un.d)(1)),this.isChangeOldTrackerBindDisabled=!1,this.isTaskInConnectionProcess=!1,this.isTaskInStageChangeProcess=!1,this._taskId=0,this.quillFormats=["background","bold","color","font","code","italic","link","size","strike","script","underline","blockquote","header","indent","list","align","direction","code-block","formula"],this.taskJournalSorting=_.Ke.loadOrDefault("taskJournalSortingType",me.Rh.CREATE_DATE_DESC),this.taskJournalSortingOptions=[{label:"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u043e\u0432\u044b\u0435",value:me.Rh.CREATE_DATE_DESC},{label:"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0442\u0430\u0440\u044b\u0435",value:me.Rh.CREATE_DATE_ASC}]}compatibilityTaskValidator(){return t=>this._taskId&&t.value?(0,In.of)(t.value).pipe((0,en.g)(1500),(0,R.w)(i=>this.api.checkCompatibility(this._taskId,i))):(0,In.of)({})}get taskStatusColor(){if(this.currentTask)switch(this.currentTask.taskStatus){case"ACTIVE":return"text-primary";case"PROCESSING":return"text-orange-400";case"CLOSE":return"text-bluegray-300"}return""}get taskId(){return this._taskId}set taskId(t){this._taskId=t,this.api.getTask(this._taskId).subscribe({next:i=>{var s;this.currentTask=i,this.loadingState=i.deleted?me.Gu.ERROR:me.Gu.READY,this.installedTags.setValue(null!==(s=i.tags)&&void 0!==s?s:[],{emitEvent:!1}),this.isTaskClose()?this.installedTags.disable({emitEvent:!1}):this.installedTags.enable({emitEvent:!1}),this.subscriptions.addSubscription("edTaskTg",this.installedTags.valueChanges.subscribe(d=>{!d||this.api.setTaskTags(i.taskId,d).subscribe()})),this.api.getActiveWorkLogByTaskId(i.taskId).subscribe(d=>{this.activeWorkLog=d}),this.orderFields(),this.stageMenuItems=this.getStageMenuItems(),this.subscriptions.addSubscription("taskUpd",this.rt.taskUpdated(t).subscribe(d=>{var T;this.currentTask=d,this.installedTags.setValue(null!==(T=d.tags)&&void 0!==T?T:[],{emitEvent:!1}),this.isTaskClose()?this.installedTags.disable({emitEvent:!1}):this.installedTags.enable({emitEvent:!1}),this.stageMenuItems=this.getStageMenuItems(),this.orderFields(),this.managementMenu=this.taskManagementMenu(),this.updateTaskActualTimers()})),this.managementMenu=this.taskManagementMenu(),this.updateTaskActualTimers()},error:()=>{this.loadingState=me.Gu.ERROR}})}get excludedTasks(){if(!this.currentTask)return[];const t=[];return this.currentTask.children&&this.currentTask.children.forEach(i=>t.push(i.taskId)),this.currentTask.parent&&t.push(this.currentTask.parent),t.push(this._taskId),t}trackSnapshotPair(t,i){return i.before.modelItemId}snapshotFieldPairs(t){if(!t)return[];const i=[];return t.beforeEditing.forEach(s=>{const d=t.afterEditing.find(T=>T.id===s.id);d&&i.push({before:s,after:d})}),i}areFieldsEqual(t,i){return JSON.stringify(t)===JSON.stringify(i)}ngOnInit(){this.route.params.subscribe(t=>{this.taskId=parseInt(t.id),this.api.getCountAllTaskAttachments(this._taskId).subscribe(i=>this.countAllAttachments=i),this.updateObservableList()}),this.commentInputForm.patchValue({text:this.commentCachingService.read(this.taskId)}),this.subscriptions.addSubscription("wlCrd",this.rt.workLogCreated().subscribe(this.workLogCreated.bind(this))),this.subscriptions.addSubscription("wlCls",this.rt.workLogClosed().subscribe(this.workLogClosed.bind(this))),this.subscriptions.addSubscription("comCh",this.commentInputForm.controls.text.valueChanges.subscribe(t=>{this.commentCachingService.write(this.taskId,null!=t?t:"")}))}updateObservableList(){this.api.getDepartments().subscribe(t=>{var i,s,d;this.departmentList=t,this.selectedDepartmentObservers=[];for(const T of t)T.departmentId&&null!==(d=null===(s=null===(i=this.currentTask)||void 0===i?void 0:i.departmentsObservers)||void 0===s?void 0:s.some(W=>W.departmentId===T.departmentId))&&void 0!==d&&d&&this.selectedDepartmentObservers.push(T.departmentId)}),this.api.getEmployees(void 0,!1,!1).subscribe(t=>{var i,s,d;this.employeeList=t,this.selectedEmployeeObservers=[];for(const T of t)T.login&&null!==(d=null===(s=null===(i=this.currentTask)||void 0===i?void 0:i.employeesObservers)||void 0===s?void 0:s.some(W=>W.login===T.login))&&void 0!==d&&d&&this.selectedEmployeeObservers.push(T.login)})}sendComment(){var t,i,s;const d=this.commentInputForm.getRawValue();if(0!==(null===(t=d.text)||void 0===t?void 0:t.trim().length)||0!==(null===(i=d.files)||void 0===i?void 0:i.length)){if(this.commentInputForm.disable({emitEvent:!1}),this.editComment){if(null===d.text||0===d.text.trim().length||d.text===this.editComment.message)return;return this.editComment.message=d.text,void this.api.updateComment(this.editComment).subscribe({complete:()=>{this.commentInputForm.enable({emitEvent:!1}),this.commentInputForm.reset({text:"",files:[]}),this.editComment=void 0},error:()=>this.commentInputForm.enable({emitEvent:!1})})}this.api.createComment(d.text,this._taskId,d.files,null===(s=this.replyComment)||void 0===s?void 0:s.commentId).subscribe({complete:()=>{this.commentInputForm.enable({emitEvent:!1}),this.commentInputForm.reset({text:"",files:[]}),this.replyComment=void 0,this.commentCachingService.flush(this.taskId)},error:()=>this.commentInputForm.enable({emitEvent:!1})})}}sendCommentByEnter(t){"Enter"===t.key&&t.ctrlKey&&this.sendComment()}deleteTask(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u0437\u0430\u0434\u0430\u0447\u0443?",accept:()=>this.api.deleteTask(this._taskId).subscribe()})}getStageMenuItems(){var t,i;return null!==(i=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)&&void 0!==i&&i.stages?this.currentTask.modelWireframe.stages.sort((s,d)=>s.orderIndex-d.orderIndex).map(s=>{var d,T,W,Ce;return s.stageId==(null===(T=null===(d=this.currentTask)||void 0===d?void 0:d.currentStage)||void 0===T?void 0:T.stageId)?{label:null!==(W=`${s.label}`)&&void 0!==W?W:"",disabled:!0,icon:"pi pi-fw pi-check"}:{label:null!==(Ce=s.label)&&void 0!==Ce?Ce:"",command:()=>this.api.changeTaskStage(this.taskId,s.stageId).subscribe(),icon:"pi pi-fw pi-chevron-circle-right"}}):[]}moveToNextStage(){var t,i;if(null===(i=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)||void 0===i||!i.stages)return;const s=this.currentTask.modelWireframe.stages.sort((T,W)=>T.orderIndex-W.orderIndex),d=s.findIndex(T=>{var W,Ce;return T.stageId===(null===(Ce=null===(W=this.currentTask)||void 0===W?void 0:W.currentStage)||void 0===Ce?void 0:Ce.stageId)});d<s.length-1&&this.api.changeTaskStage(this.taskId,s[d+1].stageId).subscribe()}isLastStage(){var t,i;if(null===(i=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)||void 0===i||!i.stages)return;const s=this.currentTask.modelWireframe.stages.sort((T,W)=>T.orderIndex-W.orderIndex);return s.findIndex(T=>{var W,Ce;return T.stageId===(null===(Ce=null===(W=this.currentTask)||void 0===W?void 0:W.currentStage)||void 0===Ce?void 0:Ce.stageId)})===s.length-1}editCommentChanged(t){this.commentInputForm.patchValue({text:t.message})}ngOnDestroy(){this.subscriptions.unsubscribeAll()}sendObservableList(){this.changingTaskObservers=!0,this.api.changeTaskObservers(this._taskId,this.selectedDepartmentObservers,this.selectedEmployeeObservers).subscribe({next:()=>{this.showChangeObserversDialog=!1,this.changingTaskObservers=!1},error:()=>{this.changingTaskObservers=!1}})}createLinkedTask(t){window.open(`/task/create?${t}=${this._taskId}`,"_blank",`popup=yes,width=800,height=800,left=${screen.width/2-400},top=${screen.height/2-400}`)}unlinkParentTask(t){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u041e\u0442\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443?",accept:()=>{this.api.unlinkParentTask(t||this._taskId).subscribe()}})}openTaskChainDialog(){var t,i;this.taskChain=[],null!==(t=this.currentTask)&&void 0!==t&&t.taskId&&this.api.getRootTask(null===(i=this.currentTask)||void 0===i?void 0:i.taskId).subscribe(s=>{this.taskChain=[{data:s,expanded:!0,type:"task",children:this.recursivelyCreatingChainOfTasks(s)}],this.showTaskChainDialog=!0})}changeTaskListPageToLink(t){var i,s,d,T;this.loadingExistingTasksToLink=!0;const W=[this._taskId,...null!==(d=null===(s=null===(i=this.currentTask)||void 0===i?void 0:i.children)||void 0===s?void 0:s.map(Ce=>Ce.taskId))&&void 0!==d?d:[]];!(null===(T=this.currentTask)||void 0===T)&&T.parent&&W.push(this.currentTask.parent),this.api.getPageOfTasks(t.page,{status:[me.hY.ACTIVE,me.hY.PROCESSING,me.hY.CLOSE],searchPhrase:this.globalTaskSearchString,author:this.taskAuthorEmployeeFilter,exclusionIds:W}).subscribe({next:Ce=>{this.applyPageOfTasks(Ce),this.loadingExistingTasksToLink=!1},error:()=>{this.loadingExistingTasksToLink=!1}})}applyPageOfTasks(t){this.listOfExistingTasksToLink=t.content,this.totalExistingTasksToLink=t.totalElements}filteringTasksToLink(){setTimeout(()=>{this.changeTaskListPageToLink({page:0})})}openChangeResponsibleDialog(){var t;this.showChangeResponsibleDialog=!0,this.selectedEmployeeAsResponsible=null===(t=this.currentTask)||void 0===t?void 0:t.responsible}changeResponsible(){!this.selectedEmployeeAsResponsible||(this.selectingResponsible=!0,this.api.changeTaskResponsible(this._taskId,this.selectedEmployeeAsResponsible).subscribe({next:()=>{this.showChangeResponsibleDialog=!1,this.selectingResponsible=!1},error:()=>{this.selectingResponsible=!1}}))}confirmUnbindResponsible(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0431\u0440\u0430\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e?",accept:()=>{this.api.unbindResponsible(this._taskId).subscribe()}})}openChangeObserversDialog(){this.showChangeObserversDialog=!0,this.updateObservableList()}removeActualFromDate(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0430\u0442\u0443 \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0430?",accept:()=>{this.api.clearActualFromDate(this._taskId).subscribe()}})}removeActualToDate(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0430\u0442\u0443 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0437\u0430\u0434\u0430\u0447\u0438?",accept:()=>{this.api.clearActualToDate(this._taskId).subscribe()}})}closeTask(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443?",accept:()=>{this.api.closeTask(this._taskId).subscribe()}})}isTaskActive(){var t,i;return!(null===(t=this.currentTask)||void 0===t||!t.taskStatus)&&(null===(i=this.currentTask)||void 0===i?void 0:i.taskStatus)===me.hY.ACTIVE}isTaskProcessing(){var t,i;return!(null===(t=this.currentTask)||void 0===t||!t.taskStatus)&&(null===(i=this.currentTask)||void 0===i?void 0:i.taskStatus)===me.hY.PROCESSING}isTaskClose(){var t,i;return!(null===(t=this.currentTask)||void 0===t||!t.taskStatus)&&(null===(i=this.currentTask)||void 0===i?void 0:i.taskStatus)===me.hY.CLOSE}reopenTask(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u043d\u043e\u0432\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0434\u0430\u043d\u043d\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443?",accept:()=>{this.api.reopenTask(this._taskId).subscribe()}})}showEditHistoryDialog(){this.api.getEditTaskSnapshots(this._taskId).subscribe(t=>{this.editTaskSnapshots=t,this.indexEditSnapshot=0,this.isShowEditHistoryDialog=!0})}changeCurrentSnapshot(t){this.indexEditSnapshot+=t,this.indexEditSnapshot>this.editTaskSnapshots.length-1?this.indexEditSnapshot=0:this.indexEditSnapshot<0&&(this.indexEditSnapshot=this.editTaskSnapshots.length-1)}isTaskHasParent(){var t;return"number"==typeof(null===(t=this.currentTask)||void 0===t?void 0:t.parent)}isTaskHasChilds(){var t,i;return(null===(t=this.currentTask)||void 0===t?void 0:t.children)&&(null===(i=this.currentTask)||void 0===i?void 0:i.children.length)>0}isTaskHasObservers(){var t,i,s,d;return(null===(t=this.currentTask)||void 0===t?void 0:t.employeesObservers)&&(null===(i=this.currentTask)||void 0===i?void 0:i.employeesObservers.length)>0||(null===(s=this.currentTask)||void 0===s?void 0:s.departmentsObservers)&&(null===(d=this.currentTask)||void 0===d?void 0:d.departmentsObservers.length)>0}insertEmployeeToCommentEditor(t){setTimeout(()=>{var i,s;const d=null===(i=this.commentEditor)||void 0===i?void 0:i.quillEditor;if(!d)return;const T=d.getSelection(!0),W=null!==(s=t.login+" ")&&void 0!==s?s:"";d.insertText(T.index,W,"user"),d.setSelection(T.index+W.length,0)},100)}forceFocusCommentInput(){var t;null===(t=this.commentEditor)||void 0===t||t.quillEditor.focus()}linkToParentTask(t){!t||this.api.changeLinkToParentTask(this._taskId,t).subscribe({next:()=>{},error:()=>{}})}linkToChildTasks(t){!t||0===t.length||this.api.appendLinksToChildrenTasks(this._taskId,t).subscribe({next:()=>{},error:()=>{}})}clearCommentText(){let t=this.commentInputForm.value.text;t&&(t=t.replace(/<\/?[^>]+(>|$)/g,"")),this.commentInputForm.patchValue({text:t})}workLogCreated(t){t.task.taskId===this._taskId&&(this.activeWorkLog=t)}workLogClosed(t){t.task.taskId===this._taskId&&(this.activeWorkLog=void 0)}openWorkLogsDialog(){!this.workLogsDialogEl||this.workLogsDialogEl.open(this._taskId)}taskManagementMenu(){var t,i,s,d;const T=null!==(d=null===(s=null===(i=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)||void 0===i?void 0:i.documentTemplates)||void 0===s?void 0:s.map(W=>({label:W.name,command:()=>{var Ce;window.open(`api/private/document-template?taskId=${null===(Ce=this.currentTask)||void 0===Ce?void 0:Ce.taskId}&documentTemplateId=${W.documentTemplateId}`)}})))&&void 0!==d?d:[];return[{icon:"mdi-task",label:"\u0417\u0430\u0434\u0430\u0447\u0430",items:[{label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439",icon:"mdi-history",command:this.showEditHistoryDialog.bind(this)},{label:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b",icon:"mdi-document_scanner",disabled:0===T.length,items:T},{label:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439",icon:"mdi-person",items:[{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",icon:"mdi-edit",command:this.openChangeResponsibleDialog.bind(this)},{label:"\u0423\u0431\u0440\u0430\u0442\u044c",icon:"mdi-close",command:this.confirmUnbindResponsible.bind(this)}],disabled:this.isTaskClose()},{label:"\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438",icon:"mdi-groups",items:[{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",command:this.openChangeObserversDialog.bind(this)}],disabled:this.isTaskClose()},{label:"\u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",icon:"mdi-link",items:[{label:"\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f",icon:"mdi-call_merge",items:[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",icon:"mdi-add",command:()=>this.taskCreator.dependency("child",this._taskId)},{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",icon:"mdi-edit",command:()=>{var W;null===(W=this.taskLinkingDialog)||void 0===W||W.open("single")}}]},{label:"\u0414\u043e\u0447\u0435\u0440\u043d\u0438\u0435",icon:"mdi-call_split",items:[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",icon:"mdi-add",command:()=>this.taskCreator.dependency("parent",this._taskId)},{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",icon:"mdi-edit",command:()=>{var W;null===(W=this.taskLinkingDialog)||void 0===W||W.open("multiply")}}]}]},{label:"\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",icon:"mdi-schedule",items:[{label:"\u041d\u0430\u0447\u0430\u043b\u043e",icon:"mdi-pending_actions",items:[{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",command:()=>{this.schedulingTaskDialogVisible=!0,this.schedulingTaskType="from"}},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",command:()=>this.confirmUnbindDate("from")}]},{label:"\u041a\u043e\u043d\u0435\u0446",icon:"mdi-today",items:[{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",command:()=>{this.schedulingTaskDialogVisible=!0,this.schedulingTaskType="to"}},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",command:()=>this.confirmUnbindDate("to")}]}],disabled:this.isTaskClose()},{label:"\u041f\u0435\u0440\u0435\u043e\u0442\u043a\u0440\u044b\u0442\u044c",icon:"mdi-swipe_up_alt",command:this.reopenTask.bind(this),visible:this.isTaskClose()},{label:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",icon:"mdi-swipe_down_alt",command:this.closeTask.bind(this),visible:this.isTaskActive()},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"mdi-delete",command:this.deleteTask.bind(this),disabled:!this.isTaskActive()}]},{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",icon:"mdi-edit",command:()=>this.isShowEditTaskDialog=!0,disabled:this.isTaskClose()},{icon:"mdi-engineering",label:"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438",items:[{label:"\u041e\u0442\u0434\u0430\u0442\u044c \u0432 \u0440\u0430\u0431\u043e\u0442\u0443",icon:"mdi-how_to_reg",command:()=>this.showAppointInstallersMenu=!0,visible:this.isTaskActive()},{label:"\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u0431\u0440\u0430\u0442\u044c",icon:"mdi-assignment_return",command:()=>this.forceCloseWorkLogDialogVisible=!0,visible:this.isTaskProcessing()},{label:"\u041e\u0442\u0447\u0435\u0442\u044b",icon:"mdi-history_edu",command:this.openWorkLogsDialog.bind(this)}]},{icon:"mdi-inventory_2",label:"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b",command:()=>this.showFilesHistory=!0},{icon:"mdi-sync",label:"\u0421\u0442\u0430\u0440\u044b\u0439 \u0442\u0440\u0435\u043a\u0435\u0440",command:W=>{this.openOldTrackerDialog(W.originalEvent)}}]}updateTaskActualTimers(){var t,i;this.actualFromDurationCounter.setTime(null===(t=this.currentTask)||void 0===t?void 0:t.actualFrom),this.actualToDurationCounter.setTime(null===(i=this.currentTask)||void 0===i?void 0:i.actualTo)}orderFields(){var t,i,s,d;const T=[];null===(i=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)||void 0===i||i.steps.forEach(W=>W.fields.forEach(Ce=>T.push(Ce))),null===(d=null===(s=this.currentTask)||void 0===s?void 0:s.fields)||void 0===d||d.sort((W,Ce)=>{var qe,Xe,$t,jt;return(null!==(Xe=null===(qe=T.find(Pn=>Pn.id===W.id))||void 0===qe?void 0:qe.orderPosition)&&void 0!==Xe?Xe:0)-(null!==(jt=null===($t=T.find(Pn=>Pn.id===Ce.id))||void 0===$t?void 0:$t.orderPosition)&&void 0!==jt?jt:0)})}recursivelyCreatingChainOfTasks(t){var i,s;return t&&null!==(s=null===(i=t.children)||void 0===i?void 0:i.map(d=>({data:d,expanded:!0,type:"task",children:this.recursivelyCreatingChainOfTasks(d)})))&&void 0!==s?s:[]}confirmUnbindDate(t){this.confirmation.confirm("from"===t?{header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0443\u044e \u0434\u0430\u0442\u0443?",accept:()=>this.api.clearActualFromDate(this.taskId).subscribe()}:{header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f?",accept:()=>this.api.clearActualToDate(this.taskId).subscribe()})}pasteFiles(t){var i;null===(i=this.fileInput)||void 0===i||i.appendFiles(t)}openOldTrackerDialog(t){var i,s,d;this.oldTrackerPanel&&this.currentTask&&(this.isChangeOldTrackerBindDisabled=!!this.currentTask.oldTrackerTaskId,this.isChangeOldTrackerBindDisabled&&this.oldTrackerBindInfoForm.setValue({id:null!==(i=this.currentTask.oldTrackerTaskId)&&void 0!==i?i:null,taskClassId:null!==(s=this.currentTask.oldTrackerTaskClassId)&&void 0!==s?s:null,taskStageId:null!==(d=this.currentTask.oldTrackerCurrentStageId)&&void 0!==d?d:null}),this.oldTrackerPanel.show(t))}bindTaskToTask(){this.currentTask&&this.oldTrackerBindInfoForm.value.id&&this.oldTrackerBindInfoForm.controls.id.valid&&!this.oldTrackerBindInfoForm.controls.id.pending&&(this.isTaskInConnectionProcess=!0,this.api.connectToOldTracker(this.currentTask.taskId,this.oldTrackerBindInfoForm.value.id).subscribe({next:()=>{var t;this.isTaskInConnectionProcess=!1,null===(t=this.oldTrackerPanel)||void 0===t||t.hide()},error:()=>{this.isTaskInConnectionProcess=!1}}))}changeTaskStageInOldTracker(){this.currentTask&&this.oldTrackerBindInfoForm.value.taskStageId&&(this.isTaskInStageChangeProcess=!0,this.api.changeTaskStageInOldTracker(this.currentTask.taskId,this.oldTrackerBindInfoForm.value.taskStageId).subscribe({next:()=>{var t;this.isTaskInStageChangeProcess=!1,null===(t=this.oldTrackerPanel)||void 0===t||t.hide()},error:()=>{this.isTaskInStageChangeProcess=!1}}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(a.gz),e.Y36(_t.a),e.Y36(N.YP),e.Y36(N.ez),e.Y36(et.r),e.Y36(de.U),e.Y36(w.e),e.Y36(Je.f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ze,5),e.Gf(wt,5),e.Gf(Fe,5),e.Gf(qt,5),e.Gf(fn,5),e.Gf(Jt,5),e.Gf(Dn,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.filesInput=s.first),e.iGM(s=e.CRH())&&(i.taskActualDateSetPanel=s.first),e.iGM(s=e.CRH())&&(i.commentEditor=s.first),e.iGM(s=e.CRH())&&(i.taskLinkingDialog=s.first),e.iGM(s=e.CRH())&&(i.workLogsDialogEl=s.first),e.iGM(s=e.CRH())&&(i.fileInput=s.first),e.iGM(s=e.CRH())&&(i.oldTrackerPanel=s.first)}},decls:70,vars:79,consts:[["appExtendPageHeight","",1,"flex","gap-5","px-5"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"show","taskId","showChange"],[3,"visible","taskId","visibleChange"],["header","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445",3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","visibleChange"],["header","\u041e\u0442\u0434\u0435\u043b\u044b"],[1,"list-view"],["class","list-view-item bordered flexed hcenter gap10",4,"ngFor","ngForOf"],["header","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"],[1,"flexed","gap10","hcenter","vend"],["icon","cancel","label","\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c","model","p-button-text p-button-secondary",3,"onClick"],["icon","assignment","label","\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c","model","p-button-success",3,"loading","onClick"],["header","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e",3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","visibleChange"],[1,"flexed","column","gap10","full-height"],[1,"list-view","stretched","p5","gap5"],["class","list-view-item hovered bordered flexed hcenter gap10",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flexed","vend","hcenter","gap10"],["icon","check","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",3,"disabled","loading","onClick"],["header","\u0421\u0432\u044f\u0437\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0438",3,"excludedTasks","onMultiplySelected","onSelected"],["taskLinkingDialog",""],["header","\u0426\u0435\u043f\u043e\u0447\u043a\u0430 \u0437\u0430\u0434\u0430\u0447",3,"visible","breakpoints","dismissableMask","draggable","maximizable","modal","resizable","visibleChange"],["appDragScrolling",""],[3,"value"],["pTemplate","task"],[3,"visible","task","visibleChange"],["header","\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438",3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","visibleChange"],[1,"flexed","column","gap10"],[1,"flexed","hcenter","vcenter","gap20","p5"],["icon","chevron_left","label","\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439","model","p-button-text",3,"onClick"],["class","flexed column hcenter vcenter gap5",4,"ngIf"],["icon","chevron_right","iconPos","right","label","\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439","model","p-button-text",3,"onClick"],[1,"change-comparison-table"],[1,"one-line"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"visible","schedulingType","taskId","visibleChange"],[3,"taskId","visible","visibleChange"],["workLogsDialogEl",""],["appendTo","body",3,"model","popup"],["stageMenu",""],["key","popup"],[3,"onReturnFocus","onSelect"],["empInsertPanel",""],["actualFromLabel",""],["actualToLabel",""],["appendTo","body",3,"dismissable"],["oldTrackerPanel",""],["class","flex flex-column gap-3",3,"formGroup",4,"ngIf","ngIfElse"],["oldTrackerBindWarningTemp",""],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary","center-of-page"],[1,"panel","flexed","column","hcenter","vcenter","gap15","p20","caption","size-big","wt-bold","f-color-danger","responsive-wrapper"],[1,"flexed","column","hcenter"],[1,"mds-error"],["icon","mdi-chevron_left","label","\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430\u0437\u0430\u0434","styleClass","p-button-outlined",3,"onClick"],[1,"flex","flex-column","flex-grow-1","gap-3"],["styleClass","bg-transparent p-0",3,"model"],["pTemplate","start"],["pTemplate","end"],[1,"flex","gap-3"],[1,"input-label-wrapper","w","max-fit"],[3,"formControl"],[3,"task"],[1,"flex","flex-column","gap-4","mb-8",3,"hidden"],[1,"text-bluegray-400","text-3xl","font-semibold","flex","gap-3","align-items-center"],[3,"ngModel","options","ngModelChange"],["offIcon","mdi-visibility_off","offLabel","C\u043e\u0431\u044b\u0442\u0438\u044f","onIcon","mdi-visibility","onLabel","C\u043e\u0431\u044b\u0442\u0438\u044f",3,"ngModel","ngModelChange"],[1,"indent1",3,"editComment","replyComment","showEvents","sortingType","taskId","editCommentChange","onFirstLoad","replyCommentChange"],["class","fixed left-0 bottom-0 flex flex-column gap-3 justify-content-center w-full",3,"formGroup",4,"ngIf"],[1,"flex","flex-column","gap-3","text-bluegray-500","font-bold","sticky","h-fit"],[1,"flex","align-items-center","gap-2"],[1,"flex","align-items-center"],[1,"mdi-flag"],[1,"mdi-person"],[3,"employee"],[1,"mdi-event"],[1,"white-space-nowrap"],["class","flex align-items-center gap-2",4,"ngIf"],["class","flex flex-column gap-2",4,"ngIf"],[1,"flexed","gap10","p5","indent1","hcenter"],["icon","mdi-arrow_back","pTooltip","\u041d\u0430\u0437\u0430\u0434","styleClass","p-button-icon p-button-text","tooltipPosition","bottom",3,"onClick"],[1,"flexed","column"],[1,"header400"],[1,"flex","align-items-baseline","gap-2","text-bluegray-500"],["pTooltip","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","tooltipPosition","bottom",3,"disabled","label","size","onClick"],[4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"fixed","left-0","bottom-0","flex","flex-column","gap-3","justify-content-center","w-full",3,"formGroup"],["class","flexed hcenter gap15 panel caption size-small wt-bold f-color-primary mx-3",3,"padding",4,"ngIf"],[3,"ngSwitch",4,"ngIf"],[1,"flexed","hcenter","gap15","panel","caption","size-small","wt-bold","f-color-primary","mx-3"],[1,"mdi-reply"],[3,"employee","size"],[1,"caption","indent2"],[1,"stretched"],["icon","mdi-cancel","styleClass","p-button-icon p-button-text",3,"disabled","onClick"],[1,"mdi-edit"],[1,"flexed","column","gap3"],[1,"caption"],[1,"flex","align-items-center","gap-2","shadow-1","bg-white"],["icon","mdi-text_fields","pTooltip","\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0439 \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440","styleClass","p-button-icon p-button-text",3,"disabled","onClick"],["appTextareaAutoresize","","formControlName","text","placeholder","\u041d\u043e\u0432\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",1,"borderless-text-field","stretched",3,"disabled","keydown","paste"],["formControlName","files",3,"short",4,"ngIf"],["icon","mdi-send","styleClass","p-button-icon p-button-text p-button-rounded",3,"disabled","onClick"],["formControlName","files",3,"short"],["fileInput",""],[1,"flex","flex-column","gap-2","shadow-1","bg-white"],[1,"flexed","hcenter","gap5"],["icon","mdi-short_text","label","\u0421\u0442\u0440\u043e\u043a\u0430 \u0432\u0432\u043e\u0434\u0430","pTooltip","\u0421\u0442\u0440\u043e\u043a\u0430 \u0432\u0432\u043e\u0434\u0430","styleClass","p-button-icon p-button-text",3,"disabled","onClick"],["formControlName","files",4,"ngIf"],["icon","mdi-send","label","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","styleClass"," p-button-text",3,"disabled","onClick"],["formControlName","text","placeholder","\u041d\u043e\u0432\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",1,"input",3,"disabled","formats","modules","styles","keydown","onContentChanged","paste"],["commentEditor",""],["formControlName","files"],[1,"flex","flex-column","gap-2"],[1,"mdi-groups"],[1,"ml-4","flex","flex-column","gap-2"],[3,"employee",4,"ngFor","ngForOf"],[3,"department",4,"ngFor","ngForOf"],[3,"department"],[1,"mdi-account_tree"],["icon","account_tree","pTooltip","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0445\u0435\u043c\u0443","tooltipPosition","bottom",3,"onClick"],[1,"ml-4"],["class","flexed hcenter gap3",4,"ngIf"],["class","flexed gap5 caption size-small f-color-500",4,"ngIf"],[1,"flexed","hcenter","gap3"],[1,"caption","size-small","f-color-500"],[3,"taskId"],["icon","link_off","model","danger","pTooltip","\u041e\u0442\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","tooltipPosition","bottom",3,"onClick",4,"ngIf"],["icon","link_off","model","danger","pTooltip","\u041e\u0442\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","tooltipPosition","bottom",3,"onClick"],[1,"flexed","gap5","caption","size-small","f-color-500"],["class","flexed gap3 hcenter",4,"ngFor","ngForOf"],[1,"flexed","gap3","hcenter"],[1,"list-view-item","bordered","flexed","hcenter","gap10"],["name","dep",3,"ngModel","value","ngModelChange"],["appColorize","",1,"caption"],["name","emp",3,"ngModel","value","ngModelChange"],[1,"list-view-item","hovered","bordered","flexed","hcenter","gap10",3,"ngClass","click"],[3,"name","size","src"],[1,"caption","size-small","wt-bold","f-color-500"],["class","caption size-small wt-bold f-color-primary",4,"ngIf"],[1,"caption","size-small","wt-bold","f-color-primary"],[3,"item"],[1,"flexed","column","hcenter","vcenter","gap5"],[1,"caption","size-small"],[1,"flexed","hcenter","gap6"],[1,"caption","size-big","one-line"],["class","material-icons-round caption size-small wt-bold f-color-primary",4,"ngIf"],[1,"material-icons-round","caption","size-small","wt-bold","f-color-primary"],["tooltipPosition","bottom",1,"flexed","gap3","caption","hcenter","p10",3,"pTooltip"],[1,"mdi-today","parent-inherit"],[1,"flex","flex-column","gap-3",3,"formGroup"],["class","flex flex-column gap-1",4,"ngIf"],[1,"input-label-wrapper"],["formControlName","id","pInputText","","pKeyFilter","pint",3,"readonly"],["class","text-red-400 text-xs font-bold w-15rem",4,"ngIf"],["icon","mdi-add_link","label","\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c","styleClass","p-button-success w-full",3,"disabled","loading","onClick",4,"ngIf"],["appendTo","body","formControlName","taskStageId","optionLabel","name","optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c",3,"options"],["icon","mdi-redo","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u044d\u0442\u0430\u043f","styleClass","p-button-success w-full",3,"loading","onClick",4,"ngIf"],[1,"flex","flex-column","gap-1"],[1,"text-bluegray-400","text-sm","font-bold"],[1,"text-primary"],[1,"text-red-400","text-xs","font-bold","w-15rem"],["icon","mdi-add_link","label","\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c","styleClass","p-button-success w-full",3,"disabled","loading","onClick"],["icon","mdi-redo","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u044d\u0442\u0430\u043f","styleClass","p-button-success w-full",3,"loading","onClick"],[1,"flex","gap-2","align-items-center","text-orange-400","font-bold","w-20rem"],[1,"mdi-warning"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e.ynx(1,1),e.YNc(2,Rt,2,0,"ng-container",2),e.YNc(3,rn,7,1,"ng-container",2),e.YNc(4,vo,49,34,"ng-container",2),e.BQk(),e.qZA(),e.TgZ(5,"app-attachments-history-dialog",3),e.NdJ("showChange",function(d){return i.showFilesHistory=d}),e.qZA(),e.TgZ(6,"app-appoint-installers-dialog",4),e.NdJ("visibleChange",function(d){return i.showAppointInstallersMenu=d}),e.qZA(),e.TgZ(7,"p-dialog",5),e.NdJ("visibleChange",function(d){return i.showChangeObserversDialog=d}),e.TgZ(8,"p-tabView")(9,"p-tabPanel",6)(10,"div",7),e.YNc(11,Ko,4,3,"div",8),e.qZA()(),e.TgZ(12,"p-tabPanel",9)(13,"div",7),e.YNc(14,Go,3,4,"div",8),e.qZA()()(),e.TgZ(15,"div",10)(16,"app-button",11),e.NdJ("onClick",function(){return i.updateObservableList()}),e.qZA(),e.TgZ(17,"app-button",12),e.NdJ("onClick",function(){return i.sendObservableList()}),e.qZA()()(),e.TgZ(18,"p-dialog",13),e.NdJ("visibleChange",function(d){return i.showChangeResponsibleDialog=d}),e.TgZ(19,"div",14)(20,"div",15),e.YNc(21,Xo,8,9,"div",16),e.qZA(),e.TgZ(22,"div",17)(23,"app-button",18),e.NdJ("onClick",function(){return i.changeResponsible()}),e.qZA()()()(),e.TgZ(24,"app-task-selecting-dialog",19,20),e.NdJ("onMultiplySelected",function(d){return i.linkToChildTasks(d)})("onSelected",function(d){return i.linkToParentTask(d)}),e.qZA(),e.TgZ(26,"p-dialog",21),e.NdJ("visibleChange",function(d){return i.showTaskChainDialog=d}),e.TgZ(27,"div",22)(28,"p-organizationChart",23),e.YNc(29,os,1,4,"ng-template",24),e.qZA()()(),e.TgZ(30,"app-edit-task-dialog",25),e.NdJ("visibleChange",function(d){return i.isShowEditTaskDialog=d}),e.qZA(),e.TgZ(31,"p-dialog",26),e.NdJ("visibleChange",function(d){return i.isShowEditHistoryDialog=d}),e.TgZ(32,"div",27)(33,"div",28)(34,"app-button",29),e.NdJ("onClick",function(){return i.changeCurrentSnapshot(-1)}),e.qZA(),e.YNc(35,ho,11,7,"div",30),e.TgZ(36,"app-button",31),e.NdJ("onClick",function(){return i.changeCurrentSnapshot(1)}),e.qZA()(),e.TgZ(37,"table",32)(38,"thead")(39,"tr")(40,"th")(41,"span",33),e._uU(42," \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044f "),e.qZA()(),e.TgZ(43,"th")(44,"span",33),e._uU(45," \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e "),e.qZA()(),e._UZ(46,"th"),e.TgZ(47,"th")(48,"span",33),e._uU(49," \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0435 "),e.qZA()()()(),e.TgZ(50,"tbody"),e.YNc(51,Fi,10,4,"tr",34),e.qZA()()()(),e.TgZ(52,"app-task-scheduling-dialog",35),e.NdJ("visibleChange",function(d){return i.schedulingTaskDialogVisible=d}),e.qZA(),e.TgZ(53,"app-force-close-dialog",36),e.NdJ("visibleChange",function(d){return i.forceCloseWorkLogDialogVisible=d}),e.qZA(),e._UZ(54,"app-work-logs-dialog",null,37)(56,"p-menu",38,39)(58,"p-confirmPopup",40),e.TgZ(59,"app-employee-insert-panel",41,42),e.NdJ("onReturnFocus",function(){return i.forceFocusCommentInput()})("onSelect",function(d){return i.insertEmployeeToCommentEditor(d)}),e.qZA(),e.YNc(61,Mo,8,9,"ng-template",null,43,e.W1O),e.YNc(63,es,8,9,"ng-template",null,44,e.W1O),e.TgZ(65,"p-overlayPanel",45,46),e.YNc(67,hs,15,12,"div",47),e.qZA(),e.YNc(68,Er,4,0,"ng-template",null,48,e.W1O)),2&t){const s=e.MAs(69);e.xp6(1),e.Q6J("ngSwitch",i.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("show",i.showFilesHistory)("taskId",i.taskId),e.xp6(1),e.Q6J("visible",i.showAppointInstallersMenu)("taskId",i.taskId),e.xp6(1),e.Akn(e.DdM(70,ga)),e.Q6J("visible",i.showChangeObserversDialog)("breakpoints",e.DdM(71,Cr))("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1),e.xp6(3),e.Udp("max-height","50vh"),e.xp6(1),e.Q6J("ngForOf",i.departmentList),e.xp6(2),e.Udp("max-height","50vh"),e.xp6(1),e.Q6J("ngForOf",i.employeeList),e.xp6(3),e.Q6J("loading",i.changingTaskObservers),e.xp6(1),e.Akn(e.DdM(72,Sr)),e.Q6J("visible",i.showChangeResponsibleDialog)("breakpoints",e.DdM(73,Ea))("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1),e.xp6(3),e.Q6J("ngForOf",i.employeeList),e.xp6(2),e.Q6J("disabled",!i.selectedEmployeeAsResponsible)("loading",i.selectingResponsible),e.xp6(1),e.Q6J("excludedTasks",i.excludedTasks),e.xp6(2),e.Akn(e.DdM(74,gs)),e.Q6J("visible",i.showTaskChainDialog)("breakpoints",e.DdM(75,Cr))("dismissableMask",!0)("draggable",!1)("maximizable",!0)("modal",!0)("resizable",!1),e.xp6(1),e.Akn(e.DdM(76,la)),e.xp6(1),e.Q6J("value",i.taskChain),e.xp6(2),e.Q6J("visible",i.isShowEditTaskDialog)("task",i.currentTask),e.xp6(1),e.Akn(e.DdM(77,Ns)),e.Q6J("visible",i.isShowEditHistoryDialog)("breakpoints",e.DdM(78,ea))("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1),e.xp6(4),e.Q6J("ngIf",null==i.editTaskSnapshots?null:i.editTaskSnapshots.length),e.xp6(16),e.Q6J("ngForOf",i.snapshotFieldPairs(i.editTaskSnapshots[i.indexEditSnapshot]))("ngForTrackBy",i.trackSnapshotPair),e.xp6(1),e.Q6J("visible",i.schedulingTaskDialogVisible)("schedulingType",i.schedulingTaskType)("taskId",i.taskId),e.xp6(1),e.Q6J("taskId",i.taskId)("visible",i.forceCloseWorkLogDialogVisible),e.xp6(3),e.Q6J("model",i.stageMenuItems)("popup",!0),e.xp6(9),e.Q6J("dismissable",!0),e.xp6(2),e.Q6J("ngIf",!(null==i.currentTask||null==i.currentTask.currentStage||!i.currentTask.currentStage.oldTrackerBind))("ngIfElse",s)}},styles:['.comment-panel[_ngcontent-%COMP%]{margin:.5rem 0}.status.ACTIVE[_ngcontent-%COMP%]{color:var(--mc-400)}.status.PROCESSING[_ngcontent-%COMP%]{color:var(--warm-400)}.status.CLOSE[_ngcontent-%COMP%]{color:var(--tc-400)}.stage-button[_ngcontent-%COMP%]{color:var(--mc-500);cursor:pointer;-webkit-user-select:none;user-select:none;transition:color .2s ease-out}.stage-button[_ngcontent-%COMP%]:hover{color:var(--mc-500)}.next-stage-button[_ngcontent-%COMP%]{color:var(--green-400);cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;font-size:.85rem;font-weight:700;transition:color .2s ease-out}.next-stage-button[_ngcontent-%COMP%] > .material-icons-round[_ngcontent-%COMP%]{font-size:.95rem!important}.next-stage-button[_ngcontent-%COMP%]:hover{color:var(--green-600)}.text-preview[_ngcontent-%COMP%]{padding:1rem;background-color:var(--bgc-100)}.task-control-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.task-control-panel-item[_ngcontent-%COMP%]{display:flex;align-items:center;width:max-content;gap:.2rem}.task-control-panel-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6rem;color:var(--tc-600);line-height:normal}.task-control-panel-item-name[_ngcontent-%COMP%]{font-size:.9rem;color:var(--tc-600);line-height:normal;font-weight:700}.task-control-panel-item-value[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;margin-left:.5rem;font-size:1.1rem;color:var(--tc-700);line-height:normal}.dedicated-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.dedicated-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1;gap:.2rem}.dedicated-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6rem;color:var(--tc-600);line-height:normal}.dedicated-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:.9rem;color:var(--tc-600);line-height:normal;font-weight:700;flex:1}.dedicated-panel[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.2rem;margin-left:2rem}.reply-comment-preview[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/min-content 1fr;grid-template-areas:"icon name cancel" "icon message cancel";column-gap:1rem;row-gap:.3rem;align-items:center;padding:1rem 1.2rem;border:1px solid var(--bgc-300);border-bottom:none}.reply-comment-preview[_ngcontent-%COMP%]   .preview-icon[_ngcontent-%COMP%]{grid-area:icon;color:var(--bgc-600);font-size:2.5rem;line-height:normal}.reply-comment-preview[_ngcontent-%COMP%]   .whose-comment[_ngcontent-%COMP%]{grid-area:name;color:var(--tc-800);font-size:1.1rem;line-height:normal;font-weight:600}.reply-comment-preview[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]{grid-area:message;color:var(--tc-700);font-size:1rem;line-height:normal;font-weight:400}.reply-comment-preview[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{grid-area:cancel}.comment-input-wrapper[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;gap:1rem}.flow-button[_ngcontent-%COMP%]{position:absolute;transform:translateY(-110%);right:0}.global-filters[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;justify-content:center;position:sticky;top:0;padding:1rem 0;z-index:1;background-color:#ffffff80;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.linked-tasks-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;flex:1;height:60vh;overflow-y:auto}.linked-task-skeleton[_ngcontent-%COMP%]:not(:last-child){display:block;margin-bottom:1rem}.tasks-loading-panel[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;grid-area:1/1/-1/-1;display:flex;align-items:center;justify-content:center;background-color:#00000030;z-index:2}.change-comparison-table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:.5rem 1rem}'],data:{animation:[f.U1,f.Ji]}}),n})();var qi=b(6451),hi=b(8505),Ii=b(6309);function Ws(n,o){1&n&&e.GkF(0)}function vr(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",27),e._UZ(2,"p-progressSpinner",28),e.qZA(),e.BQk())}function ss(n,o){1&n&&e.GkF(0)}const kr=function(n){return{$implicit:n}};function Bi(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ss,1,0,"ng-container",30),e.BQk()),2&n){const t=o.$implicit;e.oxw(4);const i=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,kr,t))}}function Ys(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Bi,2,4,"ng-container",29),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.templateItems)("ngForTrackBy",t.trackByTemplate)}}function Ts(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",31),e._UZ(2,"i",32),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432"),e.qZA()(),e.BQk())}function Fs(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",33),e._UZ(2,"i",32),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435\u0442 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432"),e.qZA()(),e.BQk())}const Xs=function(){return["constructor"]};function Bs(n,o){if(1&n&&(e.TgZ(0,"p-tabPanel",21)(1,"div",22),e._UZ(2,"p-button",23)(3,"p-toggleButton",24),e.qZA(),e.ynx(4,25),e.YNc(5,vr,3,0,"ng-container",26),e.YNc(6,Ys,2,2,"ng-container",26),e.YNc(7,Ts,5,0,"ng-container",26),e.YNc(8,Fs,5,0,"ng-container",26),e.BQk(),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Udp("padding-bottom","1rem"),e.xp6(1),e.Q6J("routerLink",e.DdM(9,Xs)),e.xp6(1),e.Q6J("formControl",t.deletedTemplatesSwitcher),e.xp6(1),e.Q6J("ngSwitch",t.templateLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function fo(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",27),e._UZ(2,"p-progressSpinner",28),e.qZA(),e.BQk())}function As(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-tag-list-item",38),e.NdJ("onEditTag",function(s){e.CHM(t);const d=e.oxw(4);return e.KtG(d.openEditTagDialog(s))}),e.qZA()}2&n&&e.Q6J("tag",o.$implicit)}function ls(n,o){if(1&n&&(e.ynx(0),e.YNc(1,As,1,1,"app-task-tag-list-item",37),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.availableTags)("ngForTrackBy",t.trackByTag)}}function Cs(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",31),e._UZ(2,"i",32),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0442\u0435\u0433\u043e\u0432"),e.qZA()(),e.BQk())}function ms(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",33),e._UZ(2,"i",32),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435\u0442 \u0442\u0435\u0433\u043e\u0432"),e.qZA()(),e.BQk())}function ws(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-tabPanel",34)(1,"div",35)(2,"p-button",36),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openCreateTagDialog())}),e.qZA(),e._UZ(3,"p-toggleButton",24),e.qZA(),e.ynx(4,25),e.YNc(5,fo,3,0,"ng-container",26),e.YNc(6,ls,2,2,"ng-container",26),e.YNc(7,Cs,5,0,"ng-container",26),e.YNc(8,ms,5,0,"ng-container",26),e.BQk(),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("formControl",t.deletedTagsSwitcher),e.xp6(1),e.Q6J("ngSwitch",t.tagLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function br(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",46),e._UZ(2,"p-progressSpinner",28),e.qZA(),e.BQk())}function Dr(n,o){1&n&&e._UZ(0,"span",55)}function Mr(n,o){if(1&n&&(e.TgZ(0,"span",56),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.description)}}function ir(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",57)(1,"p-button",58),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw().$implicit,d=e.oxw(5);return e.KtG(d.openEditEquipmentDialog(s))}),e.qZA(),e.TgZ(2,"p-button",59),e.NdJ("onClick",function(s){e.CHM(t);const d=e.oxw().$implicit,T=e.oxw(5);return e.KtG(T.confirmDeleteEquipment(s,d))}),e.qZA()()}}function vs(n,o){1&n&&e._UZ(0,"div")}const ts=function(n){return{"opacity-80":n}};function yr(n,o){if(1&n&&(e.TgZ(0,"div",48)(1,"div",49)(2,"div",50),e.YNc(3,Dr,1,0,"span",51),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"span",52),e._uU(7),e.qZA()(),e.YNc(8,Mr,2,1,"span",53),e.qZA(),e.YNc(9,ir,3,0,"div",54),e.YNc(10,vs,1,0,"div",45),e.qZA()),2&n){const t=o.$implicit;e.Q6J("ngClass",e.VKq(9,ts,t.deleted)),e.xp6(3),e.Q6J("ngIf",t.deleted),e.xp6(1),e.Tol(t.deleted?"text-bluegray-300":"text-bluegray-600"),e.xp6(1),e.Oqu(t.name),e.xp6(2),e.hij("",t.price,"\u0440\u0443\u0431."),e.xp6(1),e.Q6J("ngIf",t.description),e.xp6(1),e.Q6J("ngIf",!t.deleted),e.xp6(1),e.Q6J("ngIf",t.deleted)}}function St(n,o){if(1&n&&(e.ynx(0),e.YNc(1,yr,11,11,"div",47),e.BQk()),2&n){const t=e.oxw().ngIf,i=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",i.trackByClientEquipment)}}function hn(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",60),e._UZ(2,"i",61),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u0433\u043e \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f"),e.qZA()(),e.BQk())}function se(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",62),e._UZ(2,"i",63),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u0433\u043e \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f"),e.qZA()(),e.BQk())}function Ge(n,o){if(1&n&&(e.ynx(0)(1,25),e.YNc(2,br,3,0,"ng-container",26),e.YNc(3,St,2,2,"ng-container",26),e.YNc(4,hn,5,0,"ng-container",26),e.YNc(5,se,5,0,"ng-container",26),e.BQk()()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngSwitch",t.equipmentLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function xt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-tabPanel",39)(1,"div",35)(2,"p-button",36),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openCreateEquipmentDialog())}),e.qZA(),e.ynx(3,40),e._UZ(4,"p-toggleButton",41),e.TgZ(5,"span",42),e._UZ(6,"i",43)(7,"input",44),e.qZA(),e.BQk(),e.qZA(),e.YNc(8,Ge,6,5,"ng-container",45),e.ALo(9,"async"),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("formGroup",t.equipmentsFilterForm),e.xp6(5),e.Q6J("ngIf",e.lcZ(9,2,t.equipments$))}}function zt(n,o){if(1&n&&(e.TgZ(0,"p-tabView"),e.YNc(1,Bs,9,10,"p-tabPanel",18),e.YNc(2,ws,9,6,"p-tabPanel",19),e.YNc(3,xt,10,4,"p-tabPanel",20),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.EDIT_TASK_TEMPLATES)),e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.EDIT_TASK_TAGS)),e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.EDIT_DEVICES))}}function Nn(n,o){1&n&&e._UZ(0,"i",72)}function Wn(n,o){if(1&n&&(e.TgZ(0,"span",73),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.description," ")}}const si=function(n){return{editingId:n}};function Wi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",64)(1,"div",65)(2,"span",66),e.YNc(3,Nn,1,0,"i",67),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"span",68),e._uU(7),e.ALo(8,"date"),e.qZA()(),e.YNc(9,Wn,2,1,"span",69),e.qZA(),e._UZ(10,"p-button",70),e.TgZ(11,"p-button",71),e.NdJ("onClick",function(s){const T=e.CHM(t).$implicit,W=e.oxw();return e.KtG(W.confirmDeleteWireframe(s,T.wireframeId))}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Udp("opacity",t.deleted?.5:1),e.xp6(1),e.Q6J("ngIf",t.deleted),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" \u0421\u043e\u0437\u0434\u0430\u043d\u0430: ",e.xi3(8,10,t.created,"dd MMMM yyyy HH:mm")," "),e.xp6(2),e.Q6J("ngIf",t.description),e.xp6(1),e.Q6J("disabled",t.deleted)("queryParams",e.VKq(13,si,t.wireframeId))("routerLink",e.DdM(15,Xs)),e.xp6(1),e.Q6J("disabled",t.deleted)}}function Zi(n,o){1&n&&e.GkF(0)}function go(n,o){if(1&n){const t=e.EpF();e.YNc(0,Zi,1,0,"ng-container",3),e.TgZ(1,"app-button",74),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.createTag())}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(30);e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("disabled",t.tagDialogForm.invalid)("loading",t.isTagSaving)}}function Li(n,o){1&n&&e.GkF(0)}function Jr(n,o){if(1&n){const t=e.EpF();e.YNc(0,Li,1,0,"ng-container",3),e.TgZ(1,"app-button",75),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.editTag())}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(30);e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("disabled",t.tagDialogForm.invalid)("loading",t.isTagSaving)}}function Fo(n,o){if(1&n&&(e.TgZ(0,"div",76)(1,"span",11)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0433\u0430"),e.qZA(),e._UZ(4,"input",77),e.qZA(),e.TgZ(5,"span",11)(6,"label"),e._uU(7,"\u0424\u043e\u043d \u0442\u0435\u0433\u0430"),e.qZA(),e._UZ(8,"p-colorPicker",78),e.qZA(),e.TgZ(9,"span",11)(10,"label"),e._uU(11,"\u041e\u0442\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f"),e.qZA(),e._UZ(12,"p-inputSwitch",79),e.qZA()()),2&n){const t=e.oxw();e.Q6J("formGroup",t.tagDialogForm)}}const Qr=function(){return{width:"max-content"}},Io=function(){return{"960px":"75vw"}},So=function(){return{width:"450px"}},Es=function(){return{"960px":"450px"}};let Di=(()=>{class n{constructor(t,i,s,d){this.api=t,this.rt=i,this.personality=s,this.confirmation=d,this.AccessFlag=Ii.j,this.templateItems=[],this.availableTags=[],this.createTagDialogVisible=!1,this.editTagDialogVisible=!1,this.tagDialogForm=new g.cw({id:new g.NI(null),name:new g.NI("",g.kI.required),color:new g.NI("",g.kI.required),unbindAfterClose:new g.NI(!1)}),this.isTagSaving=!1,this.subscription=new _.xf,this.deletedTemplatesSwitcher=new g.NI(!1),this.deletedTagsSwitcher=new g.NI(!1),this.templateLoadingState=me.Gu.LOADING,this.tagLoadingState=me.Gu.LOADING,this.equipmentLoadingState=me.Gu.LOADING,this.templateLoadingHandler={next:T=>{this.templateLoadingState=T.length>0?me.Gu.READY:me.Gu.EMPTY,this.templateItems=T},error:()=>{this.templateLoadingState=me.Gu.ERROR}},this.tagLoadingHandler={next:T=>{this.tagLoadingState=T.length>0?me.Gu.READY:me.Gu.EMPTY,this.availableTags=T},error:()=>{this.tagLoadingState=me.Gu.ERROR}},this.equipmentsFilterForm=new g.cw({query:new g.NI(""),isDeleted:new g.NI(!1)}),this.changeEquipmentFilters$=this.equipmentsFilterForm.valueChanges.pipe((0,un.d)(1)),this.equipmentsLoading$=(0,qi.T)(this.changeEquipmentFilters$,(0,In.of)({query:"",isDeleted:!1})).pipe((0,hi.b)(()=>this.equipmentLoadingState=me.Gu.LOADING),(0,R.w)(T=>this.api.getClientEquipments(T.query,T.isDeleted)),(0,hi.b)({next:T=>this.equipmentLoadingState=T.length>0?me.Gu.READY:me.Gu.EMPTY,error:()=>this.equipmentLoadingState=me.Gu.ERROR}),(0,un.d)(1)),this.equipmentsCreating$=this.rt.clientEquipmentsCreated().pipe((0,R.w)(T=>this.equipmentsLoading$.pipe((0,gt.U)(W=>(-1===W.findIndex(qe=>qe.clientEquipmentId===T.clientEquipmentId)&&W.unshift(T),W))))),this.equipmentsUpdating$=this.rt.clientEquipmentsUpdated().pipe((0,R.w)(T=>this.equipmentsLoading$.pipe((0,gt.U)(W=>{const Ce=W.findIndex(qe=>qe.clientEquipmentId===T.clientEquipmentId);return-1!==Ce&&(W[Ce]=T),W})))),this.equipmentDeleting$=this.rt.clientEquipmentsDeleted().pipe((0,R.w)(T=>this.equipmentsLoading$.pipe((0,gt.U)(W=>{const Ce=W.findIndex(qe=>qe.clientEquipmentId===T.clientEquipmentId);return this.equipmentsFilterForm.value.isDeleted?W[Ce]=T:-1!==Ce&&W.splice(Ce,1),W})))),this.equipments$=(0,qi.T)(this.equipmentsLoading$,this.equipmentsCreating$,this.equipmentsUpdating$,this.equipmentDeleting$).pipe((0,un.d)(1)),this.showEquipmentDialog=!1,this.isEquipmentCreating=!1,this.equipmentForm=new g.cw({name:new g.NI("",[g.kI.required]),description:new g.NI(""),price:new g.NI(0,[g.kI.required])})}ngOnInit(){this.subscription.addSubscription("crTag",this.rt.taskTagCreated().subscribe(this.tagCreated.bind(this))),this.subscription.addSubscription("updTag",this.rt.taskTagUpdated().subscribe(this.tagUpdated.bind(this))),this.subscription.addSubscription("delTag",this.rt.taskTagDeleted().subscribe(this.tagDeleted.bind(this))),this.subscription.addSubscription("crTemp",this.rt.wireframeCreated().subscribe(this.templateCreated.bind(this))),this.subscription.addSubscription("updTemp",this.rt.wireframeUpdated().subscribe(this.templateUpdated.bind(this))),this.subscription.addSubscription("delTemp",this.rt.wireframeDeleted().subscribe(this.templateDeleted.bind(this))),this.api.getWireframes(!1).subscribe(this.templateLoadingHandler),this.subscription.addSubscription("swDelTemp",this.deletedTemplatesSwitcher.valueChanges.subscribe(t=>{this.templateLoadingState=me.Gu.LOADING,this.api.getWireframes(null!=t&&t).subscribe(this.templateLoadingHandler)})),this.api.getTaskTags().subscribe(this.tagLoadingHandler),this.subscription.addSubscription("swDelTag",this.deletedTagsSwitcher.valueChanges.subscribe(t=>{this.tagLoadingState=me.Gu.LOADING,this.api.getTaskTags(null,null!=t&&t).subscribe(this.tagLoadingHandler)}))}ngOnDestroy(){this.subscription.unsubscribeAll()}tagCreated(t){this.availableTags.some(i=>i.taskTagId===t.taskTagId)||this.availableTags.unshift(t)}tagUpdated(t){const i=this.availableTags.findIndex(s=>s.taskTagId===t.taskTagId);i>=0&&(this.availableTags[i]=t)}tagDeleted(t){const i=this.availableTags.findIndex(s=>s.taskTagId===t.taskTagId);if(i>=0){if(t.deleted&&this.deletedTagsSwitcher.value)return void(this.availableTags[i].deleted=!0);this.availableTags.splice(i,1)}}templateCreated(t){this.templateItems.some(i=>i.wireframeId===t.wireframeId)||this.templateItems.unshift(t)}templateUpdated(t){const i=this.templateItems.findIndex(s=>s.wireframeId===t.wireframeId);i>=0&&(this.templateItems[i]=t)}templateDeleted(t){const i=this.templateItems.findIndex(s=>s.wireframeId===t.wireframeId);if(i>=0){if(t.deleted&&this.deletedTemplatesSwitcher.value)return void(this.templateItems[i].deleted=!0);this.templateItems.splice(i,1)}}createTag(){this.isTagSaving=!0,this.api.createTaskTag(this.tagDialogForm.value).subscribe({next:()=>{this.isTagSaving=!1,this.createTagDialogVisible=!1},error:()=>{this.isTagSaving=!1}})}editTag(){this.isTagSaving=!0,this.api.modifyTaskTag(this.tagDialogForm.value).subscribe({next:()=>{this.isTagSaving=!1,this.editTagDialogVisible=!1},error:()=>{this.isTagSaving=!1}})}openCreateTagDialog(){this.tagDialogForm.setValue({id:null,name:"",color:this.generateRandomHslColor(),unbindAfterClose:!1}),this.createTagDialogVisible=!0,this.isTagSaving=!1}openEditTagDialog(t){this.tagDialogForm.setValue({id:t.taskTagId,name:t.name,color:t.color,unbindAfterClose:t.unbindAfterClose}),this.editTagDialogVisible=!0,this.isTagSaving=!1}openCreateEquipmentDialog(){this.equipmentForm.reset(),this.showEquipmentDialog=!0,this.editionEquipmentId=void 0}openEditEquipmentDialog(t){this.equipmentForm.patchValue(t),this.showEquipmentDialog=!0,this.editionEquipmentId=t.clientEquipmentId}confirmDeleteWireframe(t,i){t.stopPropagation(),this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d?",accept:()=>this.api.deleteWireframe(i).subscribe()})}trackByTemplate(t,i){return i.wireframeId+i.name+i.description}trackByTag(t,i){return i.taskTagId+i.name+i.color}trackByClientEquipment(t,i){return i.clientEquipmentId+i.name+i.description+i.price}createEquipment(){this.isEquipmentCreating=!0,this.api.createClientEquipment(this.equipmentForm.value).subscribe({next:()=>{this.isEquipmentCreating=!1,this.showEquipmentDialog=!1},error:()=>{this.isEquipmentCreating=!1}})}editEquipment(){!this.editionEquipmentId||(this.isEquipmentCreating=!0,this.api.editClientEquipment(this.editionEquipmentId,this.equipmentForm.value).subscribe({next:()=>{this.isEquipmentCreating=!1,this.showEquipmentDialog=!1},error:()=>{this.isEquipmentCreating=!1}}))}confirmDeleteEquipment(t,i){t.stopPropagation(),this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435?",accept:()=>this.api.deleteClientEquipment(i.clientEquipmentId).subscribe()})}hslToHex(t,i,s){let d,T,W;if(t/=360,s/=100,0==(i/=100))d=T=W=s;else{const qe=(jt,Wt,_n)=>(_n<0&&(_n+=1),_n>1&&(_n-=1),_n<.16666666666666666?jt+6*(Wt-jt)*_n:_n<.5?Wt:_n<.6666666666666666?jt+(Wt-jt)*(.6666666666666666-_n)*6:jt),Xe=s<.5?s*(1+i):s+i-s*i,$t=2*s-Xe;d=qe($t,Xe,t+1/3),T=qe($t,Xe,t),W=qe($t,Xe,t-1/3)}const Ce=qe=>{const Xe=Math.round(255*qe).toString(16);return 1===Xe.length?"0"+Xe:Xe};return`#${Ce(d)}${Ce(T)}${Ce(W)}`}generateRandomHslColor(t=50,i=60,s=50,d=60){let T=Math.floor(360*Math.random()),W=Math.floor(Math.random()*(i-t)+t),Ce=Math.floor(Math.random()*(d-s)+s);return this.hslToHex(T,W,Ce)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(J.F),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:31,vars:41,consts:[["appExtendPageHeight","",1,"flex","justify-content-center"],[1,"responsive-wrapper","flex","gap-3"],[1,"flex","flex-column","flex-grow-1","gap-3","shadow-1","overflow-hidden"],[4,"ngTemplateOutlet"],["tabview",""],["templateItem",""],["header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u0433","contentStyleClass","flex flex-column gap-3 pt-1",3,"visible","breakpoints","draggable","modal","resizable","dismissableMask","visibleChange"],["pTemplate","content"],["header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0435\u0433","contentStyleClass","flex flex-column gap-3 pt-1",3,"visible","breakpoints","draggable","modal","resizable","dismissableMask","visibleChange"],[3,"visible","breakpoints","draggable","dismissableMask","header","modal","resizable","visibleChange"],[1,"flex","flex-column","gap-3","p-1",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","name","pInputText",""],["formControlName","description","pInputTextarea","",3,"autoResize"],["currency","RUB","formControlName","price","locale","ru-RU","mode","currency"],[1,"flex","justify-content-end"],["icon","mdi-add","styleClass","p-button-success",3,"disabled","label","loading","onClick"],["tagFormTemplate",""],["header","\u0428\u0430\u0431\u043b\u043e\u043d\u044b","leftIcon","mdi-list_alt",4,"ngIf"],["header","\u0422\u0435\u0433\u0438","leftIcon","mdi-local_offer",4,"ngIf"],["header","\u0410\u0431\u043e\u043d. \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435","leftIcon","mdi-router",4,"ngIf"],["header","\u0428\u0430\u0431\u043b\u043e\u043d\u044b","leftIcon","mdi-list_alt"],[1,"flex","gap-3"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-outlined p-button-success",3,"routerLink"],["offLabel","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435","onLabel","\u0421\u043a\u0440\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435",3,"formControl"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"flex","align-items-center","justify-content-center","p-5"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","align-items-center","justify-content-center","p-5","text-5xl","font-bold","text-red-400"],[1,"mdi-alert"],[1,"flex","align-items-center","justify-content-center","p-5","text-5xl","font-bold","text-bluegray-300"],["header","\u0422\u0435\u0433\u0438","leftIcon","mdi-local_offer"],[1,"flex","gap-3","pb-3"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-outlined p-button-success",3,"click"],[3,"tag","onEditTag",4,"ngFor","ngForOf","ngForTrackBy"],[3,"tag","onEditTag"],["header","\u0410\u0431\u043e\u043d. \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435","leftIcon","mdi-router"],[3,"formGroup"],["formControlName","isDeleted","offLabel","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435","onLabel","\u0421\u043a\u0440\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435"],[1,"p-input-icon-left"],[1,"mdi-search"],["formControlName","query","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e..."],[4,"ngIf"],[1,"flex","align-items-center","justify-content-center","py-8"],["class","flex p-3 gap-3 split-line",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","p-3","gap-3","split-line",3,"ngClass"],[1,"flex","flex-column","justify-content-center","gap-1","flex-grow-1"],[1,"flex","gap-2","align-items-baseline"],["class","mdi-not_interested text-bluegray-300 text-sm",4,"ngIf"],[1,"text-primary-400","text-sm"],["class","text-bluegray-300 text-sm font-bold",4,"ngIf"],["class","flex",4,"ngIf"],[1,"mdi-not_interested","text-bluegray-300","text-sm"],[1,"text-bluegray-300","text-sm","font-bold"],[1,"flex"],["icon","mdi-edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","styleClass","p-button-warning p-button-text",3,"onClick"],["icon","mdi-delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","styleClass","p-button-danger p-button-text",3,"onClick"],[1,"flex","flex-column","py-8","align-items-center","font-bold","text-red-400","text-lg"],[1,"mds-error"],[1,"flex","flex-column","py-8","align-items-center","font-bold","text-bluegray-400","text-lg"],[1,"mds-router"],[1,"template-item","flex","align-items-center","gap-2"],[1,"flex","flex-column","gap-2","flex-grow-1"],[1,"flex","align-items-center","flex-grow-1","gap-1"],["class","mdi-not_interested",4,"ngIf"],[1,"caption","size-tiny","wt-bold","f-color-500","indent1"],["class","caption size-small wt-bold f-color-500",4,"ngIf"],["icon","mdi-edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","styleClass","p-button-warning p-button-text",3,"disabled","queryParams","routerLink"],["icon","mdi-delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","styleClass","p-button-danger p-button-text",3,"disabled","onClick"],[1,"mdi-not_interested"],[1,"caption","size-small","wt-bold","f-color-500"],["icon","check","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"disabled","loading","onClick"],["icon","check","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"disabled","loading","onClick"],[1,"flex","flex-column","gap-2",3,"formGroup"],["formControlName","name","pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435...","type","text"],["formControlName","color","appendTo","body"],["formControlName","unbindAfterClose",1,"w-fit","h-fit"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.YNc(4,Ws,1,0,"ng-container",3),e.qZA()()(),e.YNc(5,zt,4,3,"ng-template",null,4,e.W1O),e.YNc(7,Wi,12,16,"ng-template",null,5,e.W1O),e.TgZ(9,"p-dialog",6),e.NdJ("visibleChange",function(d){return i.createTagDialogVisible=d}),e.YNc(10,go,2,3,"ng-template",7),e.qZA(),e.TgZ(11,"p-dialog",8),e.NdJ("visibleChange",function(d){return i.editTagDialogVisible=d}),e.YNc(12,Jr,2,3,"ng-template",7),e.qZA(),e.TgZ(13,"p-dialog",9),e.NdJ("visibleChange",function(d){return i.showEquipmentDialog=d}),e.TgZ(14,"div",10)(15,"div",11)(16,"label"),e._uU(17,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(18,"input",12),e.qZA(),e.TgZ(19,"div",11)(20,"label"),e._uU(21,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(22,"textarea",13),e.qZA(),e.TgZ(23,"div",11)(24,"label"),e._uU(25,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),e.qZA(),e._UZ(26,"p-inputNumber",14),e.qZA(),e.TgZ(27,"div",15)(28,"p-button",16),e.NdJ("onClick",function(){return i.editionEquipmentId?i.editEquipment():i.createEquipment()}),e.qZA()()()(),e.YNc(29,Fo,13,1,"ng-template",null,17,e.W1O)),2&t){const s=e.MAs(6);e.xp6(3),e.Udp("margin-bottom","1rem"),e.xp6(1),e.Q6J("ngTemplateOutlet",s),e.xp6(5),e.Akn(e.DdM(35,Qr)),e.Q6J("visible",i.createTagDialogVisible)("breakpoints",e.DdM(36,Io))("draggable",!1)("modal",!0)("resizable",!1)("dismissableMask",!0),e.xp6(2),e.Akn(e.DdM(37,Qr)),e.Q6J("visible",i.editTagDialogVisible)("breakpoints",e.DdM(38,Io))("draggable",!1)("modal",!0)("resizable",!1)("dismissableMask",!0),e.xp6(2),e.Akn(e.DdM(39,So)),e.Q6J("visible",i.showEquipmentDialog)("breakpoints",e.DdM(40,Es))("draggable",!1)("dismissableMask",!0)("header",i.editionEquipmentId?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435")("modal",!0)("resizable",!1),e.xp6(1),e.Q6J("formGroup",i.equipmentForm),e.xp6(8),e.Udp("min-height","5rem"),e.Q6J("autoResize",!0),e.xp6(6),e.Q6J("disabled",!i.equipmentForm.valid)("label",i.editionEquipmentId?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")("loading",i.isEquipmentCreating)}},styles:[".templates-scroller[_ngcontent-%COMP%]{height:100%}.template-item[_ngcontent-%COMP%]{padding:.8rem .8rem 1.1rem 1.1rem;font-size:1.2rem;color:var(--tc-700);transition:background-color .2s ease-out}.template-item-main-info-description[_ngcontent-%COMP%]{font-size:.9rem;color:var(--tc-500)}.template-item-created-date[_ngcontent-%COMP%]{font-size:.8rem;color:var(--tc-500);display:flex;flex-direction:column;align-items:flex-end}.title[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:300;color:var(--tc-600)}.task-tags-list[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;overflow-y:auto}.append-tag-button[_ngcontent-%COMP%]{background-color:#fff;color:var(--tc-500);font-size:1rem;font-weight:700;padding:1rem;display:flex;align-items:center;justify-content:center;cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .1s ease-out}.append-tag-button[_ngcontent-%COMP%]:hover{background-color:var(--mc-0);color:var(--mc-500)}.template-create-button[_ngcontent-%COMP%]{background-color:#fff;color:var(--tc-500);font-size:1.2rem;font-weight:700;padding:2rem 1rem;display:flex;align-items:center;justify-content:center;cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .2s ease-out}.template-create-button[_ngcontent-%COMP%]:hover{background-color:var(--mc-0);color:var(--mc-500)}"]}),n})();var $o=b(1588),Wo=b(9841),or=b(4304),Ho=b(1819),wo=b(5315),Ri=b(1777);function sr(n,o){if(1&n&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.uIk("id",t.id+"_header"),e.xp6(1),e.Oqu(t.header)}}function ma(n,o){1&n&&e.GkF(0)}function Qn(n,o){}function Mi(n,o){1&n&&e.YNc(0,Qn,0,0,"ng-template")}function rr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.onIconClick(s))})("keydown.enter",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.onIconClick(s))}),e._UZ(1,"span"),e.qZA()}if(2&n){const t=e.oxw(2);e.uIk("aria-label","collapse button")("id",t.id+"-label")("aria-controls",t.id+"-content")("aria-expanded",!t.collapsed),e.xp6(1),e.Tol(t.collapsed?t.expandIcon:t.collapseIcon)}}const Gr=function(n,o,t){return{"p-panel-icons-start":n,"p-panel-icons-end":o,"p-panel-icons-center":t}};function eo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.onHeaderClick(s))}),e.YNc(1,sr,2,2,"span",7),e.Hsn(2,1),e.YNc(3,ma,1,0,"ng-container",4),e.TgZ(4,"div",8),e.YNc(5,Mi,1,0,null,4),e.YNc(6,rr,2,6,"button",9),e.qZA()()}if(2&n){const t=e.oxw();e.uIk("id",t.id+"-titlebar"),e.xp6(1),e.Q6J("ngIf",t.header),e.xp6(2),e.Q6J("ngTemplateOutlet",t.headerTemplate),e.xp6(1),e.Q6J("ngClass",e.kEZ(6,Gr,"start"===t.iconPos,"end"===t.iconPos,"center"===t.iconPos)),e.xp6(1),e.Q6J("ngTemplateOutlet",t.iconTemplate),e.xp6(1),e.Q6J("ngIf",t.toggleable)}}function ta(n,o){1&n&&e.GkF(0)}function ar(n,o){1&n&&e.GkF(0)}function Ss(n,o){if(1&n&&(e.TgZ(0,"div",12),e.Hsn(1,2),e.YNc(2,ar,1,0,"ng-container",4),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}const ca=["*",[["p-header"]],[["p-footer"]]],fs=function(n,o){return{"p-panel p-component":!0,"p-panel-toggleable":n,"p-panel-expanded":o}},Zs=function(n){return{transitionParams:n,height:"0",opacity:"0"}},Wr=function(n){return{value:"hidden",params:n}},nt=function(n){return{transitionParams:n,height:"*",opacity:"1"}},Be=function(n){return{value:"visible",params:n}},Ee=["*","p-header","p-footer"];let kt=0,On=(()=>{class n{constructor(t){this.el=t,this.collapsed=!1,this.iconPos="end",this.expandIcon="pi pi-plus",this.collapseIcon="pi pi-minus",this.showHeader=!0,this.toggler="icon",this.collapsedChange=new e.vpe,this.onBeforeToggle=new e.vpe,this.onAfterToggle=new e.vpe,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-panel-"+kt++}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"icons":this.iconTemplate=t.template}})}onHeaderClick(t){"header"===this.toggler&&this.toggle(t)}onIconClick(t){"icon"===this.toggler&&this.toggle(t)}toggle(t){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:t,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand(t):this.collapse(t)),t.preventDefault()}expand(t){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(t){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onToggleDone(t){this.animating=!1,this.onAfterToggle.emit({originalEvent:t,collapsed:this.collapsed})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-panel"]],contentQueries:function(t,i,s){if(1&t&&(e.Suo(s,N.$_,5),e.Suo(s,N.jx,4)),2&t){let d;e.iGM(d=e.CRH())&&(i.footerFacet=d.first),e.iGM(d=e.CRH())&&(i.templates=d)}},hostAttrs:[1,"p-element"],inputs:{toggleable:"toggleable",header:"header",collapsed:"collapsed",style:"style",styleClass:"styleClass",iconPos:"iconPos",expandIcon:"expandIcon",collapseIcon:"collapseIcon",showHeader:"showHeader",toggler:"toggler",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:Ee,decls:7,vars:23,consts:[[3,"ngClass","ngStyle"],["class","p-panel-header",3,"click",4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-panel-content"],[4,"ngTemplateOutlet"],["class","p-panel-footer",4,"ngIf"],[1,"p-panel-header",3,"click"],["class","p-panel-title",4,"ngIf"],["role","tablist",1,"p-panel-icons",3,"ngClass"],["type","button","class","p-panel-header-icon p-panel-toggler p-link","pRipple","","role","tab",3,"click","keydown.enter",4,"ngIf"],[1,"p-panel-title"],["type","button","pRipple","","role","tab",1,"p-panel-header-icon","p-panel-toggler","p-link",3,"click","keydown.enter"],[1,"p-panel-footer"]],template:function(t,i){1&t&&(e.F$t(ca),e.TgZ(0,"div",0),e.YNc(1,eo,7,10,"div",1),e.TgZ(2,"div",2),e.NdJ("@panelContent.done",function(d){return i.onToggleDone(d)}),e.TgZ(3,"div",3),e.Hsn(4),e.YNc(5,ta,1,0,"ng-container",4),e.qZA(),e.YNc(6,Ss,3,1,"div",5),e.qZA()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass",e.WLB(12,fs,i.toggleable,!i.collapsed&&i.toggleable))("ngStyle",i.style),e.uIk("id",i.id),e.xp6(1),e.Q6J("ngIf",i.showHeader),e.xp6(1),e.Q6J("@panelContent",i.collapsed?e.VKq(17,Wr,e.VKq(15,Zs,i.animating?i.transitionOptions:"0ms")):e.VKq(21,Be,e.VKq(19,nt,i.animating?i.transitionOptions:"0ms"))),e.uIk("id",i.id+"-content")("aria-hidden",i.collapsed)("aria-labelledby",i.id+"-titlebar"),e.xp6(3),e.Q6J("ngTemplateOutlet",i.contentTemplate),e.xp6(1),e.Q6J("ngIf",i.footerFacet||i.footerTemplate))},dependencies:[k.mk,k.O5,k.tP,k.PC,be.H],styles:[".p-panel-header{display:flex;align-items:center}.p-panel-title{line-height:1;order:1}.p-panel-header-icon{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-panel-toggleable.p-panel-expanded .p-toggleable-content:not(.ng-animating){overflow:visible}.p-panel-toggleable .p-toggleable-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[(0,Ri.X$)("panelContent",[(0,Ri.SB)("hidden",(0,Ri.oB)({height:"0"})),(0,Ri.SB)("void",(0,Ri.oB)({height:"{{height}}"}),{params:{height:"0"}}),(0,Ri.SB)("visible",(0,Ri.oB)({height:"*"})),(0,Ri.eR)("visible <=> hidden",[(0,Ri.jt)("{{transitionParams}}")]),(0,Ri.eR)("void => hidden",(0,Ri.jt)("{{transitionParams}}")),(0,Ri.eR)("void => visible",(0,Ri.jt)("{{transitionParams}}"))])]},changeDetection:0}),n})(),mi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[k.ez,N.m8,be.T,N.m8]}),n})();var Qi=b(4119),yo=b(5730),Oo=b(5921),cs=b(5573);const js=["listelement"],lr=["filter"];function xr(n,o){if(1&n&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.header)}}function Ir(n,o){1&n&&e.GkF(0)}function Or(n,o){if(1&n&&(e.TgZ(0,"div",13),e.YNc(1,xr,2,1,"div",14),e.YNc(2,Ir,1,0,"ng-container",15),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.headerTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.headerTemplate)}}function er(n,o){1&n&&e.GkF(0)}const Pr=function(n){return{options:n}};function cr(n,o){if(1&n&&(e.ynx(0),e.YNc(1,er,1,0,"ng-container",20),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.filterTemplate)("ngTemplateOutletContext",e.VKq(2,Pr,t.filterOptions))}}function fa(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"input",22,23),e.NdJ("keyup",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.onFilterKeyup(s))}),e.qZA(),e._UZ(3,"span",24),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.disabled),e.uIk("placeholder",t.filterPlaceholder)("aria-label",t.ariaFilterLabel)}}function Na(n,o){if(1&n&&(e.TgZ(0,"div",17),e.YNc(1,cr,2,4,"ng-container",18),e.YNc(2,fa,4,3,"ng-template",null,19,e.W1O),e.qZA()),2&n){const t=e.MAs(3),i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.filterTemplate)("ngIfElse",t)}}function Ya(n,o){1&n&&e.GkF(0)}const Me=function(n,o){return{"p-highlight":n,"p-disabled":o}},pt=function(n,o){return{$implicit:n,index:o}};function He(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",26),e.NdJ("click",function(s){e.CHM(t);const d=e.oxw(),T=d.$implicit,W=d.index,Ce=e.oxw();return e.KtG(Ce.onItemClick(s,T,W))})("touchend",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onItemTouchEnd())})("keydown",function(s){e.CHM(t);const d=e.oxw(),T=d.$implicit,W=d.index,Ce=e.oxw();return e.KtG(Ce.onItemKeydown(s,T,W))}),e.YNc(1,Ya,1,0,"ng-container",20),e.qZA()}if(2&n){const t=e.oxw(),i=t.$implicit,s=t.index,d=e.oxw();e.Q6J("ngClass",e.WLB(6,Me,d.isSelected(i),d.disabled))("cdkDragData",i)("cdkDragDisabled",!d.dragdrop),e.uIk("aria-selected",d.isSelected(i)),e.xp6(1),e.Q6J("ngTemplateOutlet",d.itemTemplate)("ngTemplateOutletContext",e.WLB(9,pt,i,s))}}function Et(n,o){if(1&n&&e.YNc(0,He,2,12,"li",25),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngIf",i.isItemVisible(t))}}function nn(n,o){1&n&&e.GkF(0)}function kn(n,o){if(1&n&&(e.TgZ(0,"li",28),e.YNc(1,nn,1,0,"ng-container",15),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyMessageTemplate)}}function Ln(n,o){1&n&&e.GkF(0)}function ui(n,o){if(1&n&&(e.TgZ(0,"li",28),e.YNc(1,Ln,1,0,"ng-container",15),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyFilterMessageTemplate)}}function to(n,o){if(1&n&&(e.ynx(0),e.YNc(1,kn,2,1,"li",27),e.YNc(2,ui,2,1,"li",27),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.filterValue||!t.emptyFilterMessageTemplate),e.xp6(1),e.Q6J("ngIf",t.filterValue)}}const uo=function(n,o,t){return{"p-orderlist p-component":!0,"p-orderlist-striped":n,"p-orderlist-controls-left":o,"p-orderlist-controls-right":t}};let _o=(()=>{class n{constructor(t,i,s){this.el=t,this.cd=i,this.filterService=s,this.metaKeySelection=!0,this.dragdrop=!1,this.controlsPosition="left",this.filterMatchMode="contains",this.breakpoint="960px",this.disabled=!1,this.selectionChange=new e.vpe,this.trackBy=(d,T)=>T,this.onReorder=new e.vpe,this.onSelectionChange=new e.vpe,this.onFilterEvent=new e.vpe,this._selection=[],this.id=(0,Oo.Th)()}get selection(){return this._selection}set selection(t){this._selection=t}ngOnInit(){this.responsive&&this.createStyle(),this.filterBy&&(this.filterOptions={filter:t=>this.onFilterKeyup(t),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"empty":this.emptyMessageTemplate=t.template;break;case"emptyfilter":this.emptyFilterMessageTemplate=t.template;break;case"filter":this.filterTemplate=t.template;break;case"header":this.headerTemplate=t.template}})}ngAfterViewChecked(){if(this.movedUp||this.movedDown){let i,t=yo.p.find(this.listViewChild.nativeElement,"li.p-highlight");t.length>0&&(i=this.movedUp?t[0]:t[t.length-1],yo.p.scrollInView(this.listViewChild.nativeElement,i)),this.movedUp=!1,this.movedDown=!1}}get value(){return this._value}set value(t){this._value=t,this.filterValue&&this.filter()}onItemClick(t,i,s){this.itemTouched=!1;let d=Oo.gb.findIndexInList(i,this.selection),T=-1!=d;if(!this.itemTouched&&this.metaKeySelection){let Ce=t.metaKey||t.ctrlKey||t.shiftKey;T&&Ce?this._selection=this._selection.filter((qe,Xe)=>Xe!==d):(this._selection=Ce&&this._selection?[...this._selection]:[],Oo.gb.insertIntoOrderedArray(i,s,this._selection,this.value))}else T?this._selection=this._selection.filter((Ce,qe)=>qe!==d):(this._selection=this._selection?[...this._selection]:[],Oo.gb.insertIntoOrderedArray(i,s,this._selection,this.value));this.selectionChange.emit(this._selection),this.onSelectionChange.emit({originalEvent:t,value:this._selection})}onFilterKeyup(t){this.filterValue=t.target.value.trim().toLocaleLowerCase(this.filterLocale),this.filter(),this.onFilterEvent.emit({originalEvent:t,value:this.visibleOptions})}filter(){let t=this.filterBy.split(",");this.visibleOptions=this.filterService.filter(this.value,t,this.filterValue,this.filterMatchMode,this.filterLocale)}resetFilter(){this.filterValue=null,this.filterViewChild&&(this.filterViewChild.nativeElement.value="")}isItemVisible(t){if(!this.filterValue||!this.filterValue.trim().length)return!0;for(let i=0;i<this.visibleOptions.length;i++)if(t==this.visibleOptions[i])return!0}onItemTouchEnd(){this.itemTouched=!0}isSelected(t){return-1!=Oo.gb.findIndexInList(t,this.selection)}isEmpty(){return this.filterValue?!this.visibleOptions||0===this.visibleOptions.length:!this.value||0===this.value.length}moveUp(){if(this.selection){for(let t=0;t<this.selection.length;t++){let s=Oo.gb.findIndexInList(this.selection[t],this.value);if(0==s)break;{let T=this.value[s-1];this.value[s-1]=this.value[s],this.value[s]=T}}this.dragdrop&&this.filterValue&&this.filter(),this.movedUp=!0,this.onReorder.emit(this.selection)}}moveTop(){if(this.selection){for(let t=this.selection.length-1;t>=0;t--){let s=Oo.gb.findIndexInList(this.selection[t],this.value);if(0==s)break;{let d=this.value.splice(s,1)[0];this.value.unshift(d)}}this.dragdrop&&this.filterValue&&this.filter(),this.onReorder.emit(this.selection),this.listViewChild.nativeElement.scrollTop=0}}moveDown(){if(this.selection){for(let t=this.selection.length-1;t>=0;t--){let s=Oo.gb.findIndexInList(this.selection[t],this.value);if(s==this.value.length-1)break;{let T=this.value[s+1];this.value[s+1]=this.value[s],this.value[s]=T}}this.dragdrop&&this.filterValue&&this.filter(),this.movedDown=!0,this.onReorder.emit(this.selection)}}moveBottom(){if(this.selection){for(let t=0;t<this.selection.length;t++){let s=Oo.gb.findIndexInList(this.selection[t],this.value);if(s==this.value.length-1)break;{let d=this.value.splice(s,1)[0];this.value.push(d)}}this.dragdrop&&this.filterValue&&this.filter(),this.onReorder.emit(this.selection),this.listViewChild.nativeElement.scrollTop=this.listViewChild.nativeElement.scrollHeight}}onDrop(t){let i=t.previousIndex,s=t.currentIndex;i!==s&&(this.visibleOptions&&(this.filterValue&&(i=Oo.gb.findIndexInList(t.item.data,this.value),s=Oo.gb.findIndexInList(this.visibleOptions[s],this.value)),(0,cs.bA)(this.visibleOptions,t.previousIndex,t.currentIndex)),(0,cs.bA)(this.value,i,s),this.onReorder.emit([t.item.data]))}onItemKeydown(t,i,s){let d=t.currentTarget;switch(t.which){case 40:var T=this.findNextItem(d);T&&T.focus(),t.preventDefault();break;case 38:var W=this.findPrevItem(d);W&&W.focus(),t.preventDefault();break;case 13:this.onItemClick(t,i,s),t.preventDefault()}}findNextItem(t){let i=t.nextElementSibling;return i?!yo.p.hasClass(i,"p-orderlist-item")||yo.p.isHidden(i)?this.findNextItem(i):i:null}findPrevItem(t){let i=t.previousElementSibling;return i?!yo.p.hasClass(i,"p-orderlist-item")||yo.p.isHidden(i)?this.findPrevItem(i):i:null}moveDisabled(){if(this.disabled||!this.selection.length)return!0}createStyle(){this.styleElement||(this.el.nativeElement.children[0].setAttribute(this.id,""),this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement),this.styleElement.innerHTML=`\n                @media screen and (max-width: ${this.breakpoint}) {\n                    .p-orderlist[${this.id}] {\n                        flex-direction: column;\n                    }\n\n                    .p-orderlist[${this.id}] .p-orderlist-controls {\n                        padding: var(--content-padding);\n                        flex-direction: row;\n                    }\n\n                    .p-orderlist[${this.id}] .p-orderlist-controls .p-button {\n                        margin-right: var(--inline-spacing);\n                        margin-bottom: 0;\n                    }\n\n                    .p-orderlist[${this.id}] .p-orderlist-controls .p-button:last-child {\n                        margin-right: 0;\n                    }\n                }\n            `)}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.destroyStyle()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(N.iZ))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-orderList"]],contentQueries:function(t,i,s){if(1&t&&e.Suo(s,N.jx,4),2&t){let d;e.iGM(d=e.CRH())&&(i.templates=d)}},viewQuery:function(t,i){if(1&t&&(e.Gf(js,5),e.Gf(lr,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.listViewChild=s.first),e.iGM(s=e.CRH())&&(i.filterViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",style:"style",styleClass:"styleClass",listStyle:"listStyle",responsive:"responsive",filterBy:"filterBy",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",metaKeySelection:"metaKeySelection",dragdrop:"dragdrop",controlsPosition:"controlsPosition",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",breakpoint:"breakpoint",stripedRows:"stripedRows",disabled:"disabled",trackBy:"trackBy",selection:"selection",value:"value"},outputs:{selectionChange:"selectionChange",onReorder:"onReorder",onSelectionChange:"onSelectionChange",onFilterEvent:"onFilterEvent"},decls:13,vars:18,consts:[[3,"ngClass","ngStyle"],[1,"p-orderlist-controls"],["type","button","pButton","","pRipple","","icon","pi pi-angle-up",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-up",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-down",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-down",3,"disabled","click"],[1,"p-orderlist-list-container"],["class","p-orderlist-header",4,"ngIf"],["class","p-orderlist-filter-container",4,"ngIf"],["cdkDropList","",1,"p-orderlist-list",3,"ngStyle","cdkDropListDropped"],["listelement",""],["ngFor","",3,"ngForTrackBy","ngForOf"],[4,"ngIf"],[1,"p-orderlist-header"],["class","p-orderlist-title",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"p-orderlist-title"],[1,"p-orderlist-filter-container"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-orderlist-filter"],["type","text","role","textbox",1,"p-orderlist-filter-input","p-inputtext","p-component",3,"disabled","keyup"],["filter",""],[1,"p-orderlist-filter-icon","pi","pi-search"],["class","p-orderlist-item","tabindex","0","cdkDrag","","pRipple","","role","option",3,"ngClass","cdkDragData","cdkDragDisabled","click","touchend","keydown",4,"ngIf"],["tabindex","0","cdkDrag","","pRipple","","role","option",1,"p-orderlist-item",3,"ngClass","cdkDragData","cdkDragDisabled","click","touchend","keydown"],["class","p-orderlist-empty-message",4,"ngIf"],[1,"p-orderlist-empty-message"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return i.moveUp()}),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){return i.moveTop()}),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){return i.moveDown()}),e.qZA(),e.TgZ(5,"button",5),e.NdJ("click",function(){return i.moveBottom()}),e.qZA()(),e.TgZ(6,"div",6),e.YNc(7,Or,3,2,"div",7),e.YNc(8,Na,4,2,"div",8),e.TgZ(9,"ul",9,10),e.NdJ("cdkDropListDropped",function(d){return i.onDrop(d)}),e.YNc(11,Et,1,1,"ng-template",11),e.YNc(12,to,3,2,"ng-container",12),e.qZA()()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass",e.kEZ(14,uo,i.stripedRows,"left"===i.controlsPosition,"right"===i.controlsPosition))("ngStyle",i.style),e.xp6(2),e.Q6J("disabled",i.moveDisabled()),e.xp6(1),e.Q6J("disabled",i.moveDisabled()),e.xp6(1),e.Q6J("disabled",i.moveDisabled()),e.xp6(1),e.Q6J("disabled",i.moveDisabled()),e.xp6(2),e.Q6J("ngIf",i.header||i.headerTemplate),e.xp6(1),e.Q6J("ngIf",i.filterBy),e.xp6(1),e.Q6J("ngStyle",i.listStyle),e.xp6(2),e.Q6J("ngForTrackBy",i.trackBy)("ngForOf",i.value),e.xp6(1),e.Q6J("ngIf",i.isEmpty()&&(i.emptyMessageTemplate||i.emptyFilterMessageTemplate)))},dependencies:[k.mk,k.sg,k.O5,k.tP,k.PC,O.Hq,be.H,cs.Wj,cs.Zt],styles:[".p-orderlist{display:flex}.p-orderlist-controls{display:flex;flex-direction:column;justify-content:center}.p-orderlist-list-container{flex:1 1 auto}.p-orderlist-list{list-style-type:none;margin:0;padding:0;overflow:auto;min-height:12rem}.p-orderlist-item{display:block;cursor:pointer;overflow:hidden;position:relative}.p-orderlist-item:not(.cdk-drag-disabled){cursor:move}.p-orderlist-item.cdk-drag-placeholder{opacity:0}.p-orderlist-item.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.p-orderlist.p-state-disabled .p-orderlist-item,.p-orderlist.p-state-disabled .p-button{cursor:default}.p-orderlist.p-state-disabled .p-orderlist-list{overflow:hidden}.p-orderlist-filter{position:relative}.p-orderlist-filter-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-orderlist-filter-input{width:100%}.p-orderlist-controls-right .p-orderlist-controls{order:2}.p-orderlist-controls-right .p-orderlist-list-container{order:1}.p-orderlist-list.cdk-drop-list-dragging .p-orderlist-item:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}\n"],encapsulation:2,changeDetection:0}),n})(),Yi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[k.ez,O.hJ,N.m8,be.T,cs._t,N.m8,cs._t]}),n})();var Co=b(1874),bi=b(1424),xo=b(5055),Yo=b(9873);const Us=["stepsContextMenuElem"];function us(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",55),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().index,d=e.oxw(2);return e.KtG(d.removeStep(s))}),e.qZA()}}const ur=function(n,o){return{"cursor-pointer hover:text-primary-400":n,"cursor-default font-bold":o}},mt=function(n){return{"bg-primary":n}};function ae(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",50),e.NdJ("click",function(){const d=e.CHM(t).index,T=e.oxw(2);return e.KtG(T.activeStepIndex!==d&&(T.activeStepIndex=d))}),e.TgZ(1,"div",51),e._uU(2),e.qZA(),e.TgZ(3,"div",52)(4,"span"),e._uU(5),e.qZA(),e.YNc(6,us,1,0,"span",53),e.qZA(),e.TgZ(7,"div",54),e.NdJ("onDragEnter",function(s){const T=e.CHM(t).index,W=e.oxw(2);return e.KtG(W.dragEnterStage(s,T))})("onDragLeave",function(s){const T=e.CHM(t).index,W=e.oxw(2);return e.KtG(W.dragLeaveStage(s,T))})("onDrop",function(s){const T=e.CHM(t).index,W=e.oxw(2);return e.KtG(W.dropToStage(s,T))}),e.qZA()()}if(2&n){const t=o.$implicit,i=o.index,s=e.oxw(2);e.Q6J("ngClass",e.WLB(5,ur,s.activeStepIndex!==i,s.activeStepIndex===i)),e.xp6(2),e.Oqu(i+1),e.xp6(3),e.Oqu(t.label),e.xp6(1),e.Q6J("ngIf",i>0),e.xp6(1),e.Q6J("ngClass",e.VKq(8,mt,s.stageHoverTarget===i))}}const pe=function(n){return{"pointer-events-none":n}};function We(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",62),e.NdJ("onDrop",function(s){e.CHM(t);const d=e.oxw().index,T=e.oxw(2);return e.KtG(T.drop(s,d,"up"))})("onDragEnter",function(s){e.CHM(t);const d=e.oxw().index,T=e.oxw(2);return e.KtG(T.dragEnter(s,d,"top"))})("onDragLeave",function(s){e.CHM(t);const d=e.oxw().index,T=e.oxw(2);return e.KtG(T.dragLeave(s,d,"top"))}),e.qZA()}if(2&n){const t=e.oxw(3);e.Udp("height","50%"),e.Q6J("ngClass",e.VKq(3,pe,!t.draggedField))}}function yt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",63),e.NdJ("onDrop",function(s){e.CHM(t);const d=e.oxw().index,T=e.oxw(2);return e.KtG(T.drop(s,d,"down"))})("onDragEnter",function(s){e.CHM(t);const d=e.oxw().index,T=e.oxw(2);return e.KtG(T.dragEnter(s,d,"bottom"))})("onDragLeave",function(s){e.CHM(t);const d=e.oxw().index,T=e.oxw(2);return e.KtG(T.dragLeave(s,d,"bottom"))}),e.qZA()}if(2&n){const t=e.oxw(3);e.Udp("height","50%"),e.Q6J("ngClass",e.VKq(3,pe,!t.draggedField))}}const Vt=function(n){return{"opacity-50":n}};function dn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",56),e.NdJ("onDragStart",function(s){const T=e.CHM(t).$implicit,W=e.oxw(2);return e.KtG(W.dragStart(s,T))})("onDrag",function(s){const T=e.CHM(t).$implicit,W=e.oxw(2);return e.KtG(W.drag(s,T))})("onDragEnd",function(s){const T=e.CHM(t).$implicit,W=e.oxw(2);return e.KtG(W.dragEnd(s,T))}),e.YNc(1,We,1,5,"div",57),e._UZ(2,"span",58)(3,"app-task-template-input",59),e.TgZ(4,"p-button",60),e.NdJ("click",function(){const d=e.CHM(t).$implicit,T=e.oxw(2);return e.KtG(T.deleteField(d.id))}),e.qZA(),e.YNc(5,yt,1,5,"div",61),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("ngClass",e.VKq(5,Vt,i.draggedField===t)),e.xp6(1),e.Q6J("ngIf",i.draggedField!==t),e.xp6(2),e.Q6J("field",t)("isExample",!0),e.xp6(2),e.Q6J("ngIf",i.draggedField!==t)}}function vn(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",28)(2,"div",29)(3,"p-button",30),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.nav.backOrDefault(["/"]))}),e.qZA(),e.TgZ(4,"p-button",31),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.changeStagesSettingsStep())}),e.qZA()(),e.TgZ(5,"div",32)(6,"div",33)(7,"label"),e._uU(8,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.TgZ(9,"input",34),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.wireframe.name=s)}),e.qZA()()(),e.TgZ(10,"div",33)(11,"label"),e._uU(12,"\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"),e.qZA(),e.TgZ(13,"app-observer-selector-input",35),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.wireframe.defaultObservers=s)}),e.qZA()(),e.TgZ(14,"div",36)(15,"div",37)(16,"label"),e._uU(17,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.TgZ(18,"textarea",38),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.wireframe.description=s)}),e.qZA()()(),e.TgZ(19,"p-button",39),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.createStep())}),e.qZA(),e.TgZ(20,"div",40),e.YNc(21,ae,8,10,"div",41),e.qZA()(),e.TgZ(22,"div",42)(23,"div",43)(24,"div",44)(25,"span",45),e._uU(26),e.qZA(),e.TgZ(27,"app-editing-caption",46),e.NdJ("captionChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.stepsPanelCaptionUpdate(s))})("onStopEditing",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.fillingEmptyStepName())})("captionChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.wireframe.steps[d.activeStepIndex].name=s)}),e.qZA()(),e.TgZ(28,"div",47),e.YNc(29,dn,6,7,"div",48),e.TgZ(30,"app-button",49),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.chooseFieldTypeDialogVisible=!0)}),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("disabled",!t.wireframe.name),e.xp6(5),e.Q6J("ngModel",t.wireframe.name)("disabled",void 0!==t.editingId),e.xp6(4),e.Q6J("ngModel",t.wireframe.defaultObservers),e.xp6(5),e.Q6J("ngModel",t.wireframe.description)("autoResize",!0),e.xp6(3),e.Q6J("ngForOf",t.stepsArray)("ngForTrackBy",t.trackByStep),e.xp6(2),e.Udp("min-width","40rem"),e.xp6(3),e.hij("\u042d\u0442\u0430\u043f ",t.activeStepIndex+1,":"),e.xp6(1),e.Q6J("caption",t.wireframe.steps[t.activeStepIndex].name),e.xp6(2),e.Q6J("ngForOf",t.wireframe.steps[t.activeStepIndex].fields)}}function wn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",73)(1,"span",74),e._uU(2,"drag_indicator"),e.qZA(),e.TgZ(3,"span",75),e._uU(4),e.qZA(),e.TgZ(5,"input",76,77),e.NdJ("mousedown",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.mouseDown(s))})("focus",function(){e.CHM(t);const s=e.MAs(6);return e.KtG(s.select())})("ngModelChange",function(s){const T=e.CHM(t).$implicit;return e.KtG(T.label=s)}),e.qZA(),e._UZ(7,"div",78),e.TgZ(8,"p-button",79),e.NdJ("onClick",function(){const d=e.CHM(t).$implicit,T=e.oxw(2);return e.KtG(T.openTaskTypeDirectoriesDialog(d))})("mousedown",function(s){return s.stopPropagation()}),e.qZA(),e.TgZ(9,"p-button",80),e.NdJ("onClick",function(){const d=e.CHM(t).$implicit,T=e.oxw(2);return e.KtG(T.openOldTrackerStageBind(d))})("mousedown",function(s){return s.stopPropagation()}),e.qZA(),e.TgZ(10,"p-button",81),e.NdJ("onClick",function(){const d=e.CHM(t).$implicit,T=e.oxw(2);return e.KtG(T.removeStage(d.stageId))})("mousedown",function(s){return s.stopPropagation()}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(4),e.hij("",t.orderIndex+1,"."),e.xp6(1),e.Q6J("ngModel",t.label)}}const Hn=function(){return[]};function Yt(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",64)(2,"div",65)(3,"app-button",66),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.constructStage="FIELDS")}),e.qZA(),e.TgZ(4,"app-button",67),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.changeViewSettingsStep())}),e.qZA()()(),e.TgZ(5,"div",68)(6,"p-panel",69)(7,"div",64)(8,"app-button",70),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.createStage())}),e.qZA(),e.TgZ(9,"p-orderList",71),e.NdJ("onReorder",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.reorderStages())}),e.YNc(10,wn,11,2,"ng-template",72),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw();let i;e.xp6(3),e.Q6J("disabled",!t.wireframe.name),e.xp6(1),e.Q6J("disabled",!t.wireframe.name),e.xp6(5),e.Q6J("dragdrop",!0)("value",null!==(i=t.wireframe.stages)&&void 0!==i?i:e.DdM(4,Hn))}}function Re(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",92),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createWireframe())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",!t.wireframe.name)}}function Ze(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",93),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.updateWireframe())}),e.qZA()}}function ft(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.label," ")}}function Lt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",94),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openAppendDocumentDialog())}),e.qZA()}}function ln(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",95)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"p-button",96),e.NdJ("mousedown",function(s){return s.stopPropagation()})("onClick",function(s){const T=e.CHM(t).index,W=e.oxw(2);return s.stopPropagation(),e.KtG(W.deleteDocumentTemplate(T))}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.name)}}function Tn(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"\u041d\u0435\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432"),e.qZA())}function Mn(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",82)(2,"div",83)(3,"app-button",66),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.constructStage="STAGES")}),e.qZA(),e.YNc(4,Re,1,1,"app-button",84),e.YNc(5,Ze,1,0,"app-button",85),e.qZA(),e.TgZ(6,"div",86)(7,"span",87),e._uU(8," \u041f\u043e\u0440\u044f\u0434\u043e\u043a \u043f\u043e\u043b\u0435\u0439 "),e.qZA(),e.TgZ(9,"div",88)(10,"p-orderList",71),e.NdJ("onReorder",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.reorderFields())}),e.YNc(11,ft,2,1,"ng-template",72),e.qZA()()(),e.TgZ(12,"div",86)(13,"span",87),e._uU(14," \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f "),e.qZA(),e.TgZ(15,"div",88)(16,"p-listbox",89),e.NdJ("onClick",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.openEditDocumentDialog(s.option))}),e.YNc(17,Lt,1,0,"ng-template",90),e.YNc(18,ln,4,1,"ng-template",72),e.YNc(19,Tn,2,0,"ng-template",91),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw();let i;e.xp6(3),e.Q6J("disabled",!t.wireframe.name),e.xp6(1),e.Q6J("ngIf",void 0===t.editingId),e.xp6(1),e.Q6J("ngIf",void 0!==t.editingId),e.xp6(5),e.Q6J("dragdrop",!0)("value",t.wireframeFieldsList),e.xp6(6),e.Q6J("options",null!==(i=t.wireframe.documentTemplates)&&void 0!==i?i:e.DdM(6,Hn))}}function Xn(n,o){1&n&&e.GkF(0)}const ti=function(n){return{$implicit:n}};function Ai(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Xn,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw(2),i=e.MAs(11);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ti,t.documentDialogForm))}}function ji(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",102),e._UZ(2,"span",103),e.TgZ(3,"span"),e._uU(4,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"),e.qZA()(),e.BQk())}function Vo(n,o){1&n&&e.GkF(0)}function zo(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Vo,1,0,"ng-container",104),e.BQk()),2&n){const t=e.oxw(2),i=e.MAs(7),s=e.MAs(9);e.xp6(1),e.Q6J("ngIf","new"===t.documentDialogMode)("ngIfThen",i)("ngIfElse",s)}}function mo(n,o){if(1&n&&(e.TgZ(0,"div",33)(1,"label"),e._uU(2,"\u0422\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"),e.qZA(),e._UZ(3,"p-dropdown",97),e.ALo(4,"async"),e.qZA(),e.ynx(5,98),e.YNc(6,Ai,2,4,"ng-container",1),e.YNc(7,ji,5,0,"ng-container",99),e.YNc(8,zo,2,3,"ng-container",100),e.BQk()),2&n){const t=e.oxw();let i;e.xp6(3),e.Q6J("options",null!==(i=e.lcZ(4,5,t.documentTypesOptions$))&&void 0!==i?i:e.DdM(7,Hn))("disabled","edit"===t.documentDialogMode),e.xp6(2),e.Q6J("ngSwitch",t.documentDialogForm.value.type),e.xp6(1),e.Q6J("ngSwitchCase","ConnectionAgreementTemplate"),e.xp6(2),e.Q6J("ngIf",t.documentDialogForm.value.type)}}function Jo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",105),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.createDocumentTemplate())}),e.qZA()}}function Po(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",106),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.editDocumentTemplate())}),e.qZA()}}function dr(n,o){if(1&n&&(e.TgZ(0,"div",107)(1,"div",108)(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u043b\u043e\u0433\u0438\u043d\u0430"),e.qZA(),e._UZ(5,"p-dropdown",109),e.qZA(),e.TgZ(6,"div",33)(7,"label"),e._uU(8,"\u041f\u043e\u043b\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"),e.qZA(),e._UZ(9,"p-dropdown",110),e.qZA(),e.TgZ(10,"div",33)(11,"label"),e._uU(12,"\u041f\u043e\u043b\u0435 \u0424\u0418\u041e"),e.qZA(),e._UZ(13,"p-dropdown",111),e.qZA(),e.TgZ(14,"div",33)(15,"label"),e._uU(16,"\u041f\u043e\u043b\u0435 \u0434\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),e.qZA(),e._UZ(17,"p-dropdown",112),e.qZA(),e.TgZ(18,"div",33)(19,"label"),e._uU(20,"\u041f\u043e\u043b\u0435 \u0440\u0435\u0433\u0438\u043e\u043d \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),e.qZA(),e._UZ(21,"p-dropdown",113),e.qZA()(),e.TgZ(22,"div",108)(23,"div",33)(24,"label"),e._uU(25,"\u041f\u043e\u043b\u0435 \u0433\u043e\u0440\u043e\u0434 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),e.qZA(),e._UZ(26,"p-dropdown",114),e.qZA(),e.TgZ(27,"div",33)(28,"label"),e._uU(29,"\u041f\u043e\u043b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430"),e.qZA(),e._UZ(30,"p-dropdown",115),e.qZA(),e.TgZ(31,"div",33)(32,"label"),e._uU(33,"\u041f\u043e\u043b\u0435 \u0430\u0434\u0440\u0435\u0441 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),e.qZA(),e._UZ(34,"p-dropdown",116),e.qZA(),e.TgZ(35,"div",33)(36,"label"),e._uU(37,"\u041f\u043e\u043b\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d"),e.qZA(),e._UZ(38,"p-dropdown",117),e.qZA(),e.TgZ(39,"div",33)(40,"label"),e._uU(41,"\u041f\u043e\u043b\u0435 \u0442\u0430\u0440\u0438\u0444"),e.qZA(),e._UZ(42,"p-dropdown",118),e.qZA()()()),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("formGroup",t),e.xp6(5),e.Q6J("options",i.wireframeFieldsList),e.xp6(4),e.Q6J("options",i.wireframeFieldsList),e.xp6(4),e.Q6J("options",i.wireframeFieldsList),e.xp6(4),e.Q6J("options",i.wireframeFieldsList),e.xp6(4),e.Q6J("options",i.wireframeFieldsList),e.xp6(5),e.Q6J("options",i.wireframeFieldsList),e.xp6(4),e.Q6J("options",i.wireframeFieldsList),e.xp6(4),e.Q6J("options",i.wireframeFieldsList),e.xp6(4),e.Q6J("options",i.wireframeFieldsList),e.xp6(4),e.Q6J("options",i.wireframeFieldsList)}}function Yr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",119)(1,"p-dropdown",120),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.createFieldType=s)}),e.ALo(2,"async"),e.qZA(),e.TgZ(3,"app-button",121),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.createField(s.createFieldType))}),e.qZA()()}if(2&n){const t=e.oxw();let i;e.xp6(1),e.Q6J("ngModel",t.createFieldType)("options",null!==(i=e.lcZ(2,2,t.fieldTypeOptions))&&void 0!==i?i:e.DdM(4,Hn))}}function Lr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",123)(1,"app-select-field-to-view-button",124),e.NdJ("selectView",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.selectFieldToView(s))}),e.qZA(),e._UZ(2,"div",78),e.TgZ(3,"div",29),e._UZ(4,"app-avatar",125),e.TgZ(5,"span",126),e._uU(6,"Creator"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("fields",t.wireframeFieldsList)("index",1),e.xp6(3),e.Q6J("size",1.8)}}function Hs(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",123)(1,"div",127)(2,"app-select-field-to-view-button",124),e.NdJ("selectView",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.selectFieldToView(s))}),e.qZA(),e.TgZ(3,"app-select-field-to-view-button",128),e.NdJ("selectView",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.selectFieldToView(s))}),e.qZA()(),e._UZ(4,"div",78),e.TgZ(5,"div",29),e._UZ(6,"app-avatar",125),e.TgZ(7,"span",126),e._uU(8,"Creator"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("fields",t.wireframeFieldsList)("index",1),e.xp6(1),e.Q6J("fields",t.wireframeFieldsList)("index",2),e.xp6(3),e.Q6J("size",1.8)}}function Sa(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",123)(1,"div",127)(2,"div",129)(3,"app-select-field-to-view-button",124),e.NdJ("selectView",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.selectFieldToView(s))}),e.qZA(),e.TgZ(4,"span",126),e._uU(5,"-"),e.qZA(),e.TgZ(6,"app-select-field-to-view-button",130),e.NdJ("selectView",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.selectFieldToView(s))}),e.qZA()(),e.TgZ(7,"app-select-field-to-view-button",128),e.NdJ("selectView",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.selectFieldToView(s))}),e.qZA()(),e._UZ(8,"div",78),e.TgZ(9,"div",29),e._UZ(10,"app-avatar",125),e.TgZ(11,"span",126),e._uU(12,"Creator"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("fields",t.wireframeFieldsList)("index",1),e.xp6(3),e.Q6J("fields",t.wireframeFieldsList)("index",2),e.xp6(1),e.Q6J("fields",t.wireframeFieldsList)("index",3),e.xp6(3),e.Q6J("size",1.8)}}function xi(n,o){if(1&n&&(e.ynx(0,98),e.YNc(1,Lr,7,3,"div",122),e.YNc(2,Hs,9,5,"div",122),e.YNc(3,Sa,13,7,"div",122),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.wireframe.listViewType),e.xp6(1),e.Q6J("ngSwitchCase","SIMPLE"),e.xp6(1),e.Q6J("ngSwitchCase","COMPOSITE"),e.xp6(1),e.Q6J("ngSwitchCase","DETAILED")}}function wi(n,o){1&n&&e.GkF(0)}function Oi(n,o){if(1&n&&(e.TgZ(0,"div",133),e._UZ(1,"span",134),e.TgZ(2,"span",135),e._uU(3,"\u041d\u0435\u0442 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438\u0306 \u0432 \u044d\u0442\u043e\u043c \u0442\u0438\u043f\u0435 \u0437\u0430\u0434\u0430\u0447"),e.qZA(),e.YNc(4,wi,1,0,"ng-container",136),e.qZA()),2&n){e.oxw(2);const t=e.MAs(23);e.xp6(4),e.Q6J("ngTemplateOutlet",t)}}function no(n,o){}function Qo(n,o){1&n&&e.YNc(0,no,0,0,"ng-template")}function Lo(n,o){1&n&&e.GkF(0)}function ks(n,o){if(1&n&&e.YNc(0,Lo,1,0,"ng-container",101),2&n){const t=o.$implicit;e.oxw(3);const i=e.MAs(21);e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ti,t))}}const pr=function(){return{"max-height":"35rem"}};function To(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.YNc(1,Qo,1,0,null,136),e.TgZ(2,"p-orderList",137),e.NdJ("onReorder",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.reorderTaskTypeDirectories())}),e.YNc(3,ks,1,4,"ng-template",72),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2),i=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("value",t.taskTypeDirectoriesList)("dragdrop",!0)("trackBy",t.trackByTaskTypeDirectories)("listStyle",e.DdM(5,pr))}}function jr(n,o){if(1&n){const t=e.EpF();e.YNc(0,Oi,5,1,"div",131),e.YNc(1,To,4,6,"ng-container",100),e.TgZ(2,"p-button",132),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.saveTaskTypeDirectories())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngIf",0===t.taskTypeDirectoriesFormArray.controls.length),e.xp6(1),e.Q6J("ngIf",t.taskTypeDirectoriesFormArray.controls.length>0),e.xp6(1),e.Q6J("disabled",t.taskTypeDirectoriesFormArray.invalid||!t.taskTypeDirectoriesFormArray.dirty)}}function al(n,o){1&n&&e.GkF(0)}function Ro(n,o){if(1&n&&(e.TgZ(0,"div",138)(1,"div",139)(2,"div",33)(3,"label"),e._uU(4,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438"),e.qZA(),e._UZ(5,"input",140),e.qZA(),e.YNc(6,al,1,0,"ng-container",101),e.qZA(),e.TgZ(7,"div",33)(8,"label"),e._uU(9,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(10,"textarea",141),e.qZA()()),2&n){const t=o.$implicit;e.oxw();const i=e.MAs(25);e.Q6J("formGroup",t),e.xp6(5),e.Q6J("size",32),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(7,ti,t.value.taskTypeDirectoryId)),e.xp6(4),e.Q6J("autoResize",!0)("rows",3)("cols",60)}}function Rr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",142),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.addTaskTypeDirectory())}),e.qZA()}}function Vs(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",143),e.NdJ("onClick",function(){const d=e.CHM(t).$implicit,T=e.oxw();return e.KtG(T.removeTaskTypeDirectory(d))})("mousedown",function(s){return s.stopPropagation()}),e.qZA()}}function _a(n,o){1&n&&e.GkF(0)}function ka(n,o){if(1&n&&(e.ynx(0),e.YNc(1,_a,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const i=e.MAs(37);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ti,t))}}function Fa(n,o){1&n&&e.GkF(0)}function Sl(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Fa,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const i=e.MAs(39);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ti,t))}}function hr(n,o){1&n&&e.GkF(0)}function Ba(n,o){if(1&n&&(e.ynx(0),e.YNc(1,hr,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const i=e.MAs(43);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ti,t))}}function Da(n,o){1&n&&e.GkF(0)}function Za(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Da,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const i=e.MAs(45);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ti,t))}}function na(n,o){1&n&&e.GkF(0)}function ja(n,o){if(1&n&&(e.ynx(0),e.YNc(1,na,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const i=e.MAs(47);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ti,t))}}function kl(n,o){1&n&&e.GkF(0)}function vc(n,o){if(1&n&&(e.ynx(0),e.YNc(1,kl,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const i=e.MAs(49);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ti,t))}}function No(n,o){1&n&&e.GkF(0)}function ec(n,o){1&n&&e.GkF(0)}function Gc(n,o){1&n&&e.GkF(0)}function Lu(n,o){1&n&&e.GkF(0)}function bc(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Lu,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const i=e.MAs(35);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ti,t))}}function Dl(n,o){1&n&&e.GkF(0)}function Ru(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Dl,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const i=e.MAs(41);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ti,t))}}function Ua(n,o){1&n&&(e.ynx(0,98),e.YNc(1,ka,2,4,"ng-container",1),e.YNc(2,Sl,2,4,"ng-container",1),e.YNc(3,Ba,2,4,"ng-container",1),e.YNc(4,Za,2,4,"ng-container",1),e.YNc(5,ja,2,4,"ng-container",1),e.YNc(6,vc,2,4,"ng-container",1),e.YNc(7,No,1,0,"ng-container",1),e.YNc(8,ec,1,0,"ng-container",1),e.YNc(9,Gc,1,0,"ng-container",1),e.YNc(10,bc,2,4,"ng-container",1),e.YNc(11,Ru,2,4,"ng-container",1),e.BQk()),2&n&&(e.Q6J("ngSwitch",o.$implicit.value.type),e.xp6(1),e.Q6J("ngSwitchCase","AddressFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","PassportDetailsFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","AdSourceFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","ConnectionTypeFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","DateFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","DateTimeFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","DefaultFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","InstallersHardAssignFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","InstallersSimpleAssignFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","TextFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","FullNameFieldDataBind"))}function Ml(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",108)(2,"div",33)(3,"label"),e._uU(4,"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 \u044d\u0442\u0430\u043f \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(5,"p-dropdown",145),e.qZA(),e.TgZ(6,"div",33)(7,"label"),e._uU(8,"\u042d\u0442\u0430\u043f \u0437\u0430\u0434\u0430\u0447\u0438 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435"),e.qZA(),e._UZ(9,"p-dropdown",146),e.qZA(),e.TgZ(10,"div",33)(11,"label"),e._uU(12,"\u042d\u0442\u0430\u043f \u0437\u0430\u0434\u0430\u0447\u0438 \u0437\u0430\u043a\u0440\u044b\u0442 \u0432 \u0440\u0443\u0447\u043d\u0443\u044e"),e.qZA(),e._UZ(13,"p-dropdown",147),e.qZA(),e.TgZ(14,"div",33)(15,"label"),e._uU(16,"\u042d\u0442\u0430\u043f \u0437\u0430\u0434\u0430\u0447\u0438 \u0437\u0430\u043a\u0440\u044b\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438"),e.qZA(),e._UZ(17,"p-dropdown",148),e.qZA()(),e.TgZ(18,"div",149)(19,"p-button",150),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openAppendBindToIntegrationDialog())}),e.qZA(),e.TgZ(20,"div",64),e.YNc(21,Ua,12,12,"ng-container",151),e.qZA()(),e.TgZ(22,"p-button",152),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.saveOldTrackerIntegration())}),e.qZA(),e.BQk()}if(2&n){const t=o.ngIf,i=e.oxw(2);e.xp6(5),e.Q6J("options",t.stages),e.xp6(4),e.Q6J("options",t.stages),e.xp6(4),e.Q6J("options",t.stages),e.xp6(4),e.Q6J("options",t.stages),e.xp6(4),e.Q6J("ngForOf",i.oldTrackerIntegrationForm.controls.fieldDataBinds.controls)}}function tc(n,o){if(1&n&&(e.TgZ(0,"div",33)(1,"label"),e._uU(2,"\u0426\u0435\u043b\u0435\u0432\u043e\u0439 \u043a\u043b\u0430\u0441\u0441 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(3,"p-dropdown",144),e.ALo(4,"async"),e.qZA(),e.YNc(5,Ml,23,5,"ng-container",100),e.ALo(6,"async")),2&n){const t=e.oxw();let i;e.xp6(3),e.Q6J("options",null!==(i=e.lcZ(4,2,t.oldTrackerTaskClasses$))&&void 0!==i?i:e.DdM(6,Hn)),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,4,t.selectedTaskClass$))}}function Nu(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",153),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.selectedDataBind=s)}),e.qZA(),e.TgZ(1,"p-button",154),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.appendBindToIntegration())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("options",t.dataBindFieldOptions)("ngModel",t.selectedDataBind)}}function Ds(n,o){if(1&n&&(e.TgZ(0,"div",155)(1,"label"),e._uU(2,"\u041f\u043e\u043b\u0435 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435"),e.qZA(),e._UZ(3,"p-dropdown",156),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("formGroup",t),e.xp6(3),e.Q6J("options",i.wireframeFieldsList)}}function Ol(n,o){if(1&n){const t=e.EpF();e._UZ(0,"div",157),e.TgZ(1,"p-button",158),e.NdJ("onClick",function(){const d=e.CHM(t).$implicit,T=e.oxw();return e.KtG(T.removeBind(d))}),e.qZA()}}function Ka(n,o){1&n&&e.GkF(0)}function Fu(n,o){1&n&&e.GkF(0)}function Wc(n,o){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,Ka,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435 \u0442\u0440\u0435\u043a\u0435\u0440\u0430"),e.qZA(),e._UZ(5,"p-dropdown",161),e.qZA(),e.YNc(6,Fu,1,0,"ng-container",101),e.qZA()),2&n){const t=o.ngIf,i=e.oxw().$implicit;e.oxw();const s=e.MAs(31),d=e.MAs(33);e.Q6J("formGroup",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(6,ti,i)),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",e.VKq(8,ti,i))}}function Nr(n,o){if(1&n&&(e.YNc(0,Wc,7,10,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function Fr(n,o){1&n&&e.GkF(0)}function qa(n,o){1&n&&e.GkF(0)}function ll(n,o){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,Fr,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0443\u043b\u0438\u0446\u044b"),e.qZA(),e._UZ(5,"p-dropdown",162),e.qZA(),e.TgZ(6,"div",33)(7,"label"),e._uU(8,"\u041f\u043e\u043b\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u0434\u043e\u043c\u0430"),e.qZA(),e._UZ(9,"p-dropdown",163),e.qZA(),e.TgZ(10,"div",33)(11,"label"),e._uU(12,"\u041f\u043e\u043b\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u044b"),e.qZA(),e._UZ(13,"p-dropdown",164),e.qZA(),e.TgZ(14,"div",33)(15,"label"),e._uU(16,"\u041f\u043e\u043b\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u043f\u043e\u0434\u044a\u0435\u0437\u0434\u0430"),e.qZA(),e._UZ(17,"p-dropdown",165),e.qZA(),e.TgZ(18,"div",33)(19,"label"),e._uU(20,"\u041f\u043e\u043b\u0435 \u044d\u0442\u0430\u0436\u0430"),e.qZA(),e._UZ(21,"p-dropdown",166),e.qZA(),e.TgZ(22,"div",33)(23,"label"),e._uU(24,"\u0417\u0430\u043f\u0430\u0441\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),e.qZA(),e._UZ(25,"p-dropdown",167),e.qZA(),e.YNc(26,qa,1,0,"ng-container",101),e.qZA()),2&n){const t=o.ngIf,i=e.oxw().$implicit;e.oxw();const s=e.MAs(31),d=e.MAs(33);e.Q6J("formGroup",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(11,ti,i)),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",e.VKq(13,ti,i))}}function Ms(n,o){if(1&n&&(e.YNc(0,ll,27,15,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function _e(n,o){1&n&&e.GkF(0)}function ve(n,o){1&n&&e.GkF(0)}function le(n,o){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,_e,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0441\u0435\u0440\u0438\u0438 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430"),e.qZA(),e._UZ(5,"p-dropdown",168),e.qZA(),e.TgZ(6,"div",33)(7,"label"),e._uU(8,"\u041f\u043e\u043b\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430"),e.qZA(),e._UZ(9,"p-dropdown",169),e.qZA(),e.TgZ(10,"div",33)(11,"label"),e._uU(12,"\u041f\u043e\u043b\u0435 \u043a\u0435\u043c \u0432\u044b\u0434\u0430\u043d \u043f\u0430\u0441\u043f\u043e\u0440\u0442"),e.qZA(),e._UZ(13,"p-dropdown",170),e.qZA(),e.TgZ(14,"div",33)(15,"label"),e._uU(16,"\u041f\u043e\u043b\u0435 \u0434\u0430\u0442\u044b \u0432\u044b\u0434\u0430\u0447\u0438 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430"),e.qZA(),e._UZ(17,"p-dropdown",171),e.qZA(),e.TgZ(18,"div",33)(19,"label"),e._uU(20,"\u041f\u043e\u043b\u0435 \u0430\u0434\u0440\u0435\u0441\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"),e.qZA(),e._UZ(21,"p-dropdown",172),e.qZA(),e.YNc(22,ve,1,0,"ng-container",101),e.qZA()),2&n){const t=o.ngIf,i=e.oxw().$implicit;e.oxw();const s=e.MAs(31),d=e.MAs(33);e.Q6J("formGroup",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(10,ti,i)),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",e.VKq(12,ti,i))}}function Se(n,o){if(1&n&&(e.YNc(0,le,23,14,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function $e(n,o){1&n&&e.GkF(0)}function At(n,o){1&n&&e.GkF(0)}function Xt(n,o){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,$e,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u0438"),e.qZA(),e._UZ(5,"p-dropdown",173),e.qZA(),e.TgZ(6,"div",33)(7,"label"),e._uU(8,"\u041f\u043e\u043b\u0435 \u0438\u043c\u0435\u043d\u0438"),e.qZA(),e._UZ(9,"p-dropdown",174),e.qZA(),e.TgZ(10,"div",33)(11,"label"),e._uU(12,"\u041f\u043e\u043b\u0435 \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u0430"),e.qZA(),e._UZ(13,"p-dropdown",175),e.qZA(),e.YNc(14,At,1,0,"ng-container",101),e.qZA()),2&n){const t=o.ngIf,i=e.oxw().$implicit;e.oxw();const s=e.MAs(31),d=e.MAs(33);e.Q6J("formGroup",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(8,ti,i)),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",e.VKq(10,ti,i))}}function sn(n,o){if(1&n&&(e.YNc(0,Xt,15,12,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function An(n,o){1&n&&e.GkF(0)}function ni(n,o){1&n&&e.GkF(0)}function yi(n,o){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,An,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0440\u0435\u043a\u043b\u0430\u043c\u043d\u043e\u0433\u043e \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430"),e.qZA(),e._UZ(5,"p-dropdown",176),e.qZA(),e.YNc(6,ni,1,0,"ng-container",101),e.qZA()),2&n){const t=o.ngIf,i=e.oxw().$implicit;e.oxw();const s=e.MAs(31),d=e.MAs(33);e.Q6J("formGroup",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(6,ti,i)),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",e.VKq(8,ti,i))}}function di(n,o){if(1&n&&(e.YNc(0,yi,7,10,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function Ki(n,o){1&n&&e.GkF(0)}function ao(n,o){1&n&&e.GkF(0)}function zs(n,o){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,Ki,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432"),e.qZA(),e._UZ(5,"p-dropdown",177),e.qZA(),e.TgZ(6,"div",33)(7,"label"),e._uU(8,"\u041f\u043e\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0442\u0438\u043f\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),e.qZA(),e._UZ(9,"p-dropdown",178),e.qZA(),e.YNc(10,ao,1,0,"ng-container",101),e.qZA()),2&n){const t=o.ngIf,i=e.oxw().$implicit,s=e.oxw(),d=e.MAs(31),T=e.MAs(33);e.Q6J("formGroup",i),e.xp6(1),e.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",e.VKq(7,ti,i)),e.xp6(4),e.Q6J("options",s.wireframeFieldsList),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",T)("ngTemplateOutletContext",e.VKq(9,ti,i))}}function Br(n,o){if(1&n&&(e.YNc(0,zs,11,11,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function ia(n,o){1&n&&e.GkF(0)}function oa(n,o){1&n&&e.GkF(0)}function ua(n,o){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,ia,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0434\u0430\u0442\u044b"),e.qZA(),e._UZ(5,"p-dropdown",179),e.qZA(),e.YNc(6,oa,1,0,"ng-container",101),e.qZA()),2&n){const t=o.ngIf,i=e.oxw().$implicit;e.oxw();const s=e.MAs(31),d=e.MAs(33);e.Q6J("formGroup",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(6,ti,i)),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",e.VKq(8,ti,i))}}function nc(n,o){if(1&n&&(e.YNc(0,ua,7,10,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function gr(n,o){1&n&&e.GkF(0)}function ic(n,o){1&n&&e.GkF(0)}function oc(n,o){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,gr,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0434\u0430\u0442\u044b \u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u0438"),e.qZA(),e._UZ(5,"p-dropdown",180),e.qZA(),e.YNc(6,ic,1,0,"ng-container",101),e.qZA()),2&n){const t=o.ngIf,i=e.oxw().$implicit;e.oxw();const s=e.MAs(31),d=e.MAs(33);e.Q6J("formGroup",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(6,ti,i)),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",e.VKq(8,ti,i))}}function mr(n,o){if(1&n&&(e.YNc(0,oc,7,10,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}const Bu=function(){return{width:"30vw"}},Qd={id:0,name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",fields:[]};let Zu=(()=>{class n{constructor(t,i,s){this.api=t,this.route=i,this.nav=s,this.activeStepIndex=0,this.stepsArray=[{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",command:()=>this.selectStep(0)}],this.wireframeFieldsList=[],this.stepsContextMenu=[],this.chooseFieldTypeDialogVisible=!1,this.fieldTypeOptions=this.api.getWireframeFieldTypesList(),this.createFieldType=me._r.SMALL_TEXT,this.constructStage="FIELDS",this.listItemViewOptions=[{label:"\u041f\u0440\u043e\u0441\u0442\u043e\u0439",value:"SIMPLE"},{label:"\u0421\u043e\u0441\u0442\u0430\u0432\u043d\u043e\u0439",value:"COMPOSITE"},{label:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0439",value:"DETAILED"}],this.stageHoverTarget=null,this.oldTrackerIntegrationDialogVisible=!1,this.oldTrackerTaskClasses$=this.api.getOldTrackerClasses(),this.oldTrackerIntegrationForm=new g.cw({classId:new g.NI(null,[g.kI.required]),initialStageId:new g.NI(null,[g.kI.required]),processingStageId:new g.NI(null,[g.kI.required]),manualCloseStageId:new g.NI(null,[g.kI.required]),autoCloseStageId:new g.NI(null,[g.kI.required]),fieldDataBinds:new g.Oe([])}),this.taskTypeDirectoriesDialogVisible=!1,this.taskTypeDirectoriesFormArray=new g.Oe([]),this.taskTypeDirectoriesList=[],this.selectedTaskClass$=(0,Wo.a)([this.oldTrackerIntegrationForm.controls.classId.valueChanges,this.oldTrackerTaskClasses$]).pipe((0,hi.b)(console.log),(0,gt.U)(([d,T])=>{var W;return null!==(W=null==T?void 0:T.find(Ce=>Ce.id===d))&&void 0!==W?W:null}),(0,un.d)(1)),this.selectedClassFields$=this.selectedTaskClass$.pipe((0,gt.U)(d=>{var T;return[{label:"\u041d\u0435\u0442",value:null},...null!==(T=null==d?void 0:d.fields.map(W=>({label:W.name,value:W.id})))&&void 0!==T?T:[]]}),(0,un.d)(1)),this.appendBindToIntegrationDialogVisible=!1,this.dataBindFieldOptions=[{label:"\u041f\u0440\u043e\u0441\u0442\u043e\u0439 \u0442\u0435\u043a\u0441\u0442",value:this.simpleTextFieldFormGroup},{label:"\u0424\u0418\u041e",value:this.fullNameFieldFormGroup},{label:"\u0410\u0434\u0440\u0435\u0441",value:this.addressFieldFormGroup},{label:"\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a",value:this.adSourceFieldFormGroup},{label:"\u0422\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f",value:this.connectionTypeFieldFormGroup},{label:"\u0414\u0430\u0442\u0430",value:this.dateFieldFormGroup},{label:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f",value:this.dateTimeFieldFormGroup},{label:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",value:this.passportFieldFormGroup}],this.documentDialogVisible=!1,this.documentDialogMode="new",this.documentTypesOptions$=this.api.getDocumentTemplateTypes().pipe((0,un.d)(1)),this.documentDialogForm=new g.cw({temporalId:new g.NI(null),documentTemplateId:new g.NI(null),type:new g.NI(null,[g.kI.required]),name:new g.NI(""),loginFieldId:new g.NI(null),fullNameFieldId:new g.NI(null),dateOfBirthFieldId:new g.NI(null),regionOfBirthFieldId:new g.NI(null),cityOfBirthFieldId:new g.NI(null),passportDetailsFieldId:new g.NI(null),addressFieldId:new g.NI(null),phoneFieldId:new g.NI(null),passwordFieldId:new g.NI(null),tariffFieldId:new g.NI(null)}),this.subscriptions=new _.xf,this._wireframe={wireframeId:0,created:"",deleted:!1,name:"",description:"",creator:{login:"admin"},wireframeType:me.Ez.MODEL,steps:[Qd],defaultObservers:[],stages:[{label:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u0442\u0438\u043f",stageId:(0,$o.Z)(),orderIndex:0,directories:[]}],listViewType:"SIMPLE"},this.trackByStep=(d,T)=>{var W;return d+(null!==(W=T.label)&&void 0!==W?W:"")}}get documentDialogHeader(){return"new"===this.documentDialogMode?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"}get wireframe(){return this._wireframe}set wireframe(t){this._wireframe=t,this.wireframeFieldsList=this.fieldsLabelsList()}getTaskTypeDirectoryFormTemplate(t,i,s,d){return new g.cw({taskTypeDirectoryId:new g.NI(t||(0,$o.Z)()),name:new g.NI(null!=i?i:"",[g.kI.required,g.kI.minLength(3)]),description:new g.NI(null!=s?s:""),orderIndex:new g.NI(d)})}addTaskTypeDirectory(){this.taskTypeDirectoriesFormArray.push(this.getTaskTypeDirectoryFormTemplate(void 0,void 0,void 0,this.taskTypeDirectoriesFormArray.controls.length)),this.taskTypeDirectoriesList=[...this.taskTypeDirectoriesFormArray.controls]}removeTaskTypeDirectory(t){this.taskTypeDirectoriesFormArray.removeAt(this.taskTypeDirectoriesFormArray.controls.findIndex(i=>i.value.taskTypeDirectoryId===t)),this.taskTypeDirectoriesList=[...this.taskTypeDirectoriesFormArray.controls]}reorderTaskTypeDirectories(){this.taskTypeDirectoriesFormArray.markAsDirty(),this.taskTypeDirectoriesList.forEach((t,i)=>t.patchValue({orderIndex:i}))}trackByTaskTypeDirectories(t,i){return i.value.taskTypeDirectoryId}simpleTextFieldFormGroup(){return new g.cw({type:new g.NI("TextFieldDataBind"),fieldDataBindId:new g.NI(null),fieldItemId:new g.NI(null,[g.kI.required]),textFieldId:new g.NI(null,[g.kI.required])})}fullNameFieldFormGroup(){return new g.cw({type:new g.NI("FullNameFieldDataBind"),fieldDataBindId:new g.NI(null),fieldItemId:new g.NI(null,[g.kI.required]),lastNameFieldId:new g.NI(null,[g.kI.required]),firstNameFieldId:new g.NI(null,[g.kI.required]),patronymicFieldId:new g.NI(null,[g.kI.required])})}addressFieldFormGroup(){return new g.cw({type:new g.NI("AddressFieldDataBind"),fieldDataBindId:new g.NI(null),fieldItemId:new g.NI(null,[g.kI.required]),streetFieldId:new g.NI(null,[g.kI.required]),houseFieldId:new g.NI(null),apartmentFieldId:new g.NI(null),entranceFieldId:new g.NI(null),floorFieldId:new g.NI(null),backupFieldId:new g.NI(null)})}adSourceFieldFormGroup(){return new g.cw({type:new g.NI("AdSourceFieldDataBind"),fieldDataBindId:new g.NI(null),fieldItemId:new g.NI(null,[g.kI.required]),adSourceFieldId:new g.NI(null,[g.kI.required])})}connectionTypeFieldFormGroup(){return new g.cw({type:new g.NI("ConnectionTypeFieldDataBind"),fieldDataBindId:new g.NI(null),fieldItemId:new g.NI(null,[g.kI.required]),connectionServicesInnerFieldId:new g.NI(null,[g.kI.required]),ctFieldDataBindId:new g.NI(null,[g.kI.required])})}dateFieldFormGroup(){return new g.cw({type:new g.NI("DateFieldDataBind"),fieldDataBindId:new g.NI(null),fieldItemId:new g.NI(null,[g.kI.required]),dateFieldDataBind:new g.NI(null,[g.kI.required])})}dateTimeFieldFormGroup(){return new g.cw({type:new g.NI("DateTimeFieldDataBind"),fieldDataBindId:new g.NI(null),fieldItemId:new g.NI(null,[g.kI.required]),dateTimeFieldDataBind:new g.NI(null,[g.kI.required])})}passportFieldFormGroup(){return new g.cw({type:new g.NI("PassportDetailsFieldDataBind"),fieldDataBindId:new g.NI(null),fieldItemId:new g.NI(null,[g.kI.required]),passportSeriesFieldId:new g.NI(null),passportNumberFieldId:new g.NI(null),passportIssuedByFieldId:new g.NI(null),passportIssuedDateFieldId:new g.NI(null),registrationAddressFieldId:new g.NI(null)})}ngOnInit(){this.route.queryParams.subscribe(t=>{t.editingId&&(this.editingId=t.editingId,this.api.getWireframe(t.editingId).subscribe(i=>{var s;this.wireframe=i,this.fillingSteps(i.steps),null===(s=this.wireframe.stages)||void 0===s||s.sort((d,T)=>d.orderIndex-T.orderIndex),this.wireframe=this.wireframe}))}),this.subscriptions.addSubscription("docNameUpd",this.documentDialogForm.controls.type.valueChanges.pipe((0,R.w)(t=>this.documentTypesOptions$.pipe((0,gt.U)(i=>{var s,d;return null!==(d=null===(s=i.find(T=>T.value===t))||void 0===s?void 0:s.label)&&void 0!==d?d:""})))).subscribe(t=>this.documentDialogForm.controls.name.setValue(t)))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}createDocumentTemplate(){this.documentDialogForm.valid&&(this.wireframe.documentTemplates||(this.wireframe.documentTemplates=[]),this.wireframe.documentTemplates.push(this.documentDialogForm.value),this.wireframe.documentTemplates=[...this.wireframe.documentTemplates],this.documentDialogVisible=!1)}editDocumentTemplate(){if(this.documentDialogForm.valid&&this.wireframe.documentTemplates){const t=this.wireframe.documentTemplates.findIndex(i=>i.temporalId===this.documentDialogForm.value.temporalId);t>-1&&(this.wireframe.documentTemplates[t]=this.documentDialogForm.value,this.wireframe.documentTemplates=[...this.wireframe.documentTemplates]),this.documentDialogVisible=!1}}deleteDocumentTemplate(t){var i;null===(i=this.wireframe.documentTemplates)||void 0===i||i.splice(t,1)}createField(t){const i=(0,$o.Z)(),s=this.wireframe.steps.find(d=>d.id===this.activeStepIndex);s?s.fields.push({name:"\u0418\u043c\u044f \u043f\u043e\u043b\u044f",id:i,type:t,variation:"MANDATORY",displayType:"LIST_AND_TELEGRAM"}):console.error("\u042d\u0442\u0430\u043f \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")}deleteField(t){const i=this.wireframe.steps.find(s=>s.id===this.activeStepIndex);i&&(i.fields=i.fields.filter(s=>s.id!==t))}createStep(){const t=this.stepsArray.length;this.stepsArray.push({label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",command:i=>this.openStepContextMenu(t,i.originalEvent)}),this.wireframe.steps.push({name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",fields:[],id:t}),this.selectStep(t)}selectStep(t){this.activeStepIndex=t}removeStep(t){this.activeStepIndex>=t&&this.selectStep(this.activeStepIndex-1),this.stepsArray.splice(t,1),this.wireframe.steps.splice(t,1),this.wireframe.steps=this.wireframe.steps.map((i,s)=>(i.id=s,i))}openStepContextMenu(t,i){this.stepsContextMenu=[{label:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",command:this.selectStep.bind(this,t)},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",command:this.removeStep.bind(this,t)}],this.stepsContextMenuElem&&this.stepsContextMenuElem.toggle(i)}stepsPanelCaptionUpdate(t){this.stepsArray[this.activeStepIndex].label=t,this.stepsArray=[...this.stepsArray]}fillingEmptyStepName(){this.wireframe.steps[this.activeStepIndex]&&""===this.wireframe.steps[this.activeStepIndex].name&&(this.wireframe.steps[this.activeStepIndex].name="\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",this.stepsArray[this.activeStepIndex].label="\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",this.stepsArray=[...this.stepsArray])}createWireframe(){this.api.createWireframe(this.wireframe).subscribe(()=>{this.nav.backOrDefault(["/"])})}fillingSteps(t){this.stepsArray=t.map((i,s)=>({label:i.name,command:0===s?()=>this.selectStep(i.id):d=>this.openStepContextMenu(i.id,d.originalEvent)}))}updateWireframe(){this.api.updateWireframe(this.wireframe.wireframeId,this.wireframe).subscribe(()=>{this.nav.backOrDefault(["/"])})}fieldsLabelsList(){const t=[];return this.wireframe.steps.forEach(i=>{i.fields.forEach(s=>{t.push({label:s.name,id:s.id,listViewIndex:s.listViewIndex,orderPosition:s.orderPosition})})}),t.sort((i,s)=>i.orderPosition-s.orderPosition),t}selectFieldToView(t){this._wireframe.steps.forEach(i=>{i.fields.forEach(s=>{s.id===t.id?s.listViewIndex=t.index:s.listViewIndex===t.index&&(s.listViewIndex=void 0)})})}reorderFields(){this.wireframeFieldsList.forEach((t,i)=>{this.wireframe.steps.forEach(s=>{s.fields.forEach(d=>{d.id===t.id&&(d.orderPosition=i)})})})}changeStagesSettingsStep(){this.constructStage="STAGES",this.wireframe=this.wireframe,this.reorderFields()}changeViewSettingsStep(){this.constructStage="VIEW"}taskItemForView(){return{taskId:0,modelWireframe:this.wireframe,listItemFields:[],allEmployeesObservers:[]}}createStage(){var t,i,s;this.wireframe.stages=[...null!==(t=this.wireframe.stages)&&void 0!==t?t:[],{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0437\u0430\u0434\u0430\u0447\u0438",stageId:(0,$o.Z)(),orderIndex:null!==(s=null===(i=this.wireframe.stages)||void 0===i?void 0:i.length)&&void 0!==s?s:0,directories:[]}]}removeStage(t){var i;this.wireframe.stages=null===(i=this.wireframe.stages)||void 0===i?void 0:i.filter(s=>s.stageId!==t).map((s,d)=>(s.orderIndex=d,s))}mouseDown(t){t.stopPropagation()}reorderStages(){var t;this.wireframe.stages=null===(t=this.wireframe.stages)||void 0===t?void 0:t.map((i,s)=>(i.orderIndex=s,i))}dragStart(t,i){this.draggedField=i}drag(t,i){}dragEnd(t,i){this.draggedField=void 0}drop(t,i,s){if(t.target.classList.remove("border-top-2","border-bottom-2","border-primary"),this.draggedField){const T=this.wireframe.steps[this.activeStepIndex].fields,W=T.findIndex(Ce=>Ce===this.draggedField);W<i&&"up"===s?i--:W>i&&"down"===s&&i++,T.splice(W,1),T.splice(i,0,this.draggedField)}}dragEnter(t,i,s){t.target.classList.add("border-"+s+"-2","border-primary")}dragLeave(t,i,s){t.target.classList.remove("border-"+s+"-2","border-primary")}dropToStage(t,i){if(this.stageHoverTarget=null,i!==this.activeStepIndex){const s=this.wireframe.steps.find(T=>T.id===this.activeStepIndex),d=this.wireframe.steps.find(T=>T.id===i);s&&d&&this.draggedField&&(s.fields.splice(s.fields.findIndex(T=>T===this.draggedField),1),d.fields.unshift(this.draggedField),this.draggedField=void 0)}}dragEnterStage(t,i){i!==this.activeStepIndex&&(this.stageHoverTarget=i)}dragLeaveStage(t,i){this.stageHoverTarget=null}openOldTrackerStageBind(t){this.oldTrackerIntegrationDialogVisible=!0,this.selectedStageForIntegration=t,setTimeout(()=>{var i,s,d,T,W,Ce,qe,Xe,$t,jt,Wt;this.oldTrackerIntegrationForm.patchValue({classId:null!==(s=null===(i=t.oldTrackerBind)||void 0===i?void 0:i.classId)&&void 0!==s?s:null,initialStageId:null!==(T=null===(d=t.oldTrackerBind)||void 0===d?void 0:d.initialStageId)&&void 0!==T?T:null,processingStageId:null!==(Ce=null===(W=t.oldTrackerBind)||void 0===W?void 0:W.processingStageId)&&void 0!==Ce?Ce:null,manualCloseStageId:null!==(Xe=null===(qe=t.oldTrackerBind)||void 0===qe?void 0:qe.manualCloseStageId)&&void 0!==Xe?Xe:null,autoCloseStageId:null!==(jt=null===($t=t.oldTrackerBind)||void 0===$t?void 0:$t.autoCloseStageId)&&void 0!==jt?jt:null}),this.oldTrackerIntegrationForm.controls.fieldDataBinds.clear(),null===(Wt=t.oldTrackerBind)||void 0===Wt||Wt.fieldDataBinds.forEach(_n=>this.oldTrackerIntegrationForm.controls.fieldDataBinds.push(new g.cw({type:new g.NI(_n.type),fieldDataBindId:new g.NI(_n.fieldDataBindId),fieldItemId:new g.NI(_n.fieldItemId),streetFieldId:new g.NI(_n.streetFieldId),houseFieldId:new g.NI(_n.houseFieldId),apartmentFieldId:new g.NI(_n.apartmentFieldId),entranceFieldId:new g.NI(_n.entranceFieldId),floorFieldId:new g.NI(_n.floorFieldId),adSourceFieldId:new g.NI(_n.adSourceFieldId),connectionServicesInnerFieldId:new g.NI(_n.connectionServicesInnerFieldId),ctFieldDataBind:new g.NI(_n.ctFieldDataBind),dateFieldDataBind:new g.NI(_n.dateFieldDataBind),dateTimeFieldDataBind:new g.NI(_n.dateTimeFieldDataBind),defaultFieldId:new g.NI(_n.defaultFieldId),hardAssignTimeFieldId:new g.NI(_n.hardAssignTimeFieldId),hardAssignNamesFieldId:new g.NI(_n.hardAssignNamesFieldId),simpleAssignFieldId:new g.NI(_n.simpleAssignFieldId),textFieldId:new g.NI(_n.textFieldId),lastNameFieldId:new g.NI(_n.lastNameFieldId),firstNameFieldId:new g.NI(_n.firstNameFieldId),patronymicFieldId:new g.NI(_n.patronymicFieldId),backupFieldId:new g.NI(_n.backupFieldId),passportSeriesFieldId:new g.NI(_n.passportSeriesFieldId),passportNumberFieldId:new g.NI(_n.passportNumberFieldId),passportIssuedByFieldId:new g.NI(_n.passportIssuedByFieldId),passportIssuedDateFieldId:new g.NI(_n.passportIssuedDateFieldId),registrationAddressFieldId:new g.NI(_n.registrationAddressFieldId)})))},100)}openTaskTypeDirectoriesDialog(t){var i;this.taskTypeDirectoriesDialogVisible=!0,this.selectedStageForDirectoriesSetup=t,this.taskTypeDirectoriesFormArray.clear(),null===(i=t.directories)||void 0===i||i.sort((s,d)=>{var T,W;return(null!==(T=s.orderIndex)&&void 0!==T?T:0)-(null!==(W=d.orderIndex)&&void 0!==W?W:0)}).forEach((s,d)=>{var T;this.taskTypeDirectoriesFormArray.push(this.getTaskTypeDirectoryFormTemplate(s.taskTypeDirectoryId,s.name,s.description,null!==(T=s.orderIndex)&&void 0!==T?T:d))}),this.taskTypeDirectoriesList=[...this.taskTypeDirectoriesFormArray.controls]}saveTaskTypeDirectories(){this.selectedStageForDirectoriesSetup&&this.taskTypeDirectoriesFormArray.valid&&(this.selectedStageForDirectoriesSetup.directories=this.taskTypeDirectoriesFormArray.controls.map(({value:t})=>("string"==typeof t.taskTypeDirectoryId&&(t.taskTypeDirectoryId=null),t)),this.taskTypeDirectoriesDialogVisible=!1)}appendBindToIntegration(){this.selectedDataBind&&(this.oldTrackerIntegrationForm.controls.fieldDataBinds.push(this.selectedDataBind()),this.appendBindToIntegrationDialogVisible=!1)}openAppendBindToIntegrationDialog(){this.appendBindToIntegrationDialogVisible=!0}saveOldTrackerIntegration(){this.selectedStageForIntegration&&(this.selectedStageForIntegration.oldTrackerBind=this.oldTrackerIntegrationForm.value)}removeBind(t){this.oldTrackerIntegrationForm.controls.fieldDataBinds.removeAt(this.oldTrackerIntegrationForm.controls.fieldDataBinds.controls.indexOf(t))}openAppendDocumentDialog(){this.clearDocumentDialogForm(),this.documentDialogVisible=!0,this.documentDialogMode="new"}openEditDocumentDialog(t){this.clearDocumentDialogForm(),this.documentDialogVisible=!0,this.documentDialogMode="edit",this.documentDialogForm.patchValue(t)}clearDocumentDialogForm(){this.documentDialogForm.reset({temporalId:(0,$o.Z)(),documentTemplateId:null,name:"",type:null,addressFieldId:null,regionOfBirthFieldId:null,cityOfBirthFieldId:null,dateOfBirthFieldId:null,fullNameFieldId:null,loginFieldId:null,passportDetailsFieldId:null,passwordFieldId:null,phoneFieldId:null,tariffFieldId:null})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(a.gz),e.Y36(et.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-wireframe-constructor-page"]],viewQuery:function(t,i){if(1&t&&e.Gf(Us,5),2&t){let s;e.iGM(s=e.CRH())&&(i.stepsContextMenuElem=s.first)}},decls:50,vars:30,consts:[["appExtendPageHeight","",1,"flex","flex-column","align-items-center","gap-4",3,"ngSwitch"],[4,"ngSwitchCase"],["contentStyleClass","flex flex-column gap-3 pt-1",3,"visible","modal","dismissableMask","header","visibleChange"],["pTemplate","content",3,"formGroup"],["createDocumentButtonTemplate",""],["editDocumentButtonTemplate",""],["connectionAgreementFieldsTemplate",""],[3,"model","popup"],["stepsContextMenuElem",""],["header","\u0412\u044b\u0431\u043e\u0440 \u0442\u0438\u043f\u0430 \u0434\u0430\u043d\u043d\u044b\u0445",3,"visible","modal","dismissableMask","visibleChange"],["pTemplate","content"],["listElementTemplate",""],["contentStyleClass","flex flex-column gap-3 pt-2","header","\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 \u0437\u0430\u0434\u0430\u0447","appendTo","body",3,"visible","modal","dismissableMask","autoZIndex","visibleChange"],["taskTypeDirectoryTemplate",""],["appendDirectoryButtonTemplate",""],["removeDirectoryButtonTemplate",""],["contentStyleClass","flex flex-column gap-3 pt-1","header","\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044e \u0441\u043e \u0441\u0442\u0430\u0440\u044b\u043c \u0442\u0440\u0435\u043a\u0435\u0440\u043e\u043c",3,"visible","modal","dismissableMask","visibleChange"],["contentStyleClass","flex flex-column gap-3 pt-1","header","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435",3,"visible","modal","dismissableMask","visibleChange"],["fieldSelectorTemp",""],["removeButtonTemp",""],["simpleTextBindTemp",""],["addressBindTemp",""],["passportBindTemp",""],["fullNameBindTemp",""],["adSourceBindTemp",""],["connectionTypeBindTemp",""],["dateBindTemp",""],["dateTimeBindTemp",""],[1,"flexed","column","gap10","panel","p10"],[1,"flexed","gap5"],["label","\u0412\u044b\u0439\u0442\u0438","icon","mdi-close","styleClass","p-button-secondary p-button-text",3,"onClick"],["label","\u0414\u0430\u043b\u0435\u0435: \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0441\u0442\u0430\u0434\u0438\u0439 \u0437\u0430\u0434\u0430\u0447\u0438","icon","mdi-navigate_next",3,"disabled","onClick"],[1,"gap10","flexed","hend"],[1,"input-label-wrapper"],["pInputText","",3,"ngModel","disabled","ngModelChange"],[3,"ngModel","ngModelChange"],[1,"flexed"],[1,"input-label-wrapper","stretched"],["pInputTextarea","",3,"ngModel","autoResize","ngModelChange"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u0430\u043f","icon","mdi-add","styleClass","p-button-success",1,"self-center",3,"onClick"],[1,"flex","justify-content-around","align-items-center","gap-3"],["class","flex flex-column align-items-center justify-content-center gap-1 relative p-2 border-round-lg overflow-hidden",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-column","align-items-center","flex-grow-1","bg-white"],[1,"w-max","border-round-lg","shadow-5"],[1,"flex","p-3","gap-2","align-items-center","border-bottom-1","border-bluegray-100"],[1,"font-bold","text-bluegray-400"],[1,"font-bold","text-bluegray-400",3,"caption","captionChange","onStopEditing"],[1,"flex","flex-column","px-3","pt-1","pb-3"],["class","flex gap-2 align-items-center relative py-2","pDraggable","field","dragHandle",".dg","dragEffect","linkMove",3,"ngClass","onDragStart","onDrag","onDragEnd",4,"ngFor","ngForOf"],["icon","add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u0435","model","p-button-success",1,"pt-2",3,"onClick"],[1,"flex","flex-column","align-items-center","justify-content-center","gap-1","relative","p-2","border-round-lg","overflow-hidden",3,"ngClass","click"],[1,"flex","align-items-center","justify-content-center","border-circle","border-1","border-bluegray-100","text-lg","w-2rem","h-2rem"],[1,"flex","align-items-center","gap-1"],["class","mdi-close text-red-400 hover:text-red-600 cursor-pointer text-lg z-1",3,"click",4,"ngIf"],["pDroppable","field",1,"opacity-25","absolute","top-0","left-0","w-full","h-full",3,"ngClass","onDragEnter","onDragLeave","onDrop"],[1,"mdi-close","text-red-400","hover:text-red-600","cursor-pointer","text-lg","z-1",3,"click"],["pDraggable","field","dragHandle",".dg","dragEffect","linkMove",1,"flex","gap-2","align-items-center","relative","py-2",3,"ngClass","onDragStart","onDrag","onDragEnd"],["class","absolute w-full top-0 z-1","pDroppable","field",3,"ngClass","height","onDrop","onDragEnter","onDragLeave",4,"ngIf"],[1,"mdi-drag_indicator","text-4xl","text-bluegray-400","mt-4","dg","cursor-move"],[1,"stretched",3,"field","isExample"],["styleClass","p-button-text p-button-danger mt-4","icon","mdi-delete",3,"click"],["class","absolute w-full bottom-0 z-1","pDroppable","field",3,"ngClass","height","onDrop","onDragEnter","onDragLeave",4,"ngIf"],["pDroppable","field",1,"absolute","w-full","top-0","z-1",3,"ngClass","onDrop","onDragEnter","onDragLeave"],["pDroppable","field",1,"absolute","w-full","bottom-0","z-1",3,"ngClass","onDrop","onDragEnter","onDragLeave"],[1,"flex","flex-column","gap-3"],[1,"gap15","flexed","hend","panel","p10"],["icon","arrow_back_ios","label","\u041d\u0430\u0437\u0430\u0434","model","p-button-secondary p-button-text",3,"disabled","onClick"],["icon","navigate_next","label","\u0414\u0430\u043b\u0435\u0435: \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f",3,"disabled","onClick"],[1,"flex","flex-column","flex-grow-1","align-items-center"],["header","\u0422\u0438\u043f\u044b \u0437\u0430\u0434\u0430\u0447\u0438",1,"stage-list-panel"],["icon","add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0438\u043f","model","p-button-success",3,"onClick"],[3,"dragdrop","value","onReorder"],["pTemplate","item"],[1,"flex","align-items-center","gap-2","text-bluegray-500"],[1,"material-icons-round","drag-icon"],[1,"caption","size-small","f-color-500"],[1,"inline-input",3,"ngModel","mousedown","focus","ngModelChange"],["taskTypeInput",""],[1,"stretched"],["icon","mdi-folder","styleClass","p-button-warning p-button-icon p-button-text","pTooltip","\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438",3,"onClick","mousedown"],["icon","mdi-link","styleClass","p-button-warning p-button-icon p-button-text","pTooltip","\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044e \u0441\u043e \u0441\u0442\u0430\u0440\u044b\u043c \u0442\u0440\u0435\u043a\u0435\u0440\u043e\u043c",3,"onClick","mousedown"],["icon","mdi-delete","styleClass","p-button-danger p-button-icon p-button-text","pTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438",3,"onClick","mousedown"],[1,"flexed","column","gap20","panel","p10"],[1,"gap15","flexed","hend","vend"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u0434\u0430\u0447\u0438",3,"disabled","onClick",4,"ngIf"],["icon","edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u0434\u0430\u0447\u0438",3,"onClick",4,"ngIf"],[1,"flex","flex-column","p-3","gap-2"],[1,"header400"],[1,"flex","flex-column","overflow-hidden","gap-2"],["dataKey","temporalId",3,"options","onClick"],["pTemplate","header"],["pTemplate","empty"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u0434\u0430\u0447\u0438",3,"disabled","onClick"],["icon","edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u0434\u0430\u0447\u0438",3,"onClick"],["icon","mdi-add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c","styleClass","p-button-success",3,"onClick"],[1,"flex","justify-content-between","align-items-center","w-full"],["icon","mdi-delete","styleClass","p-button-icon p-button-text p-button-danger",3,"mousedown","onClick"],["placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","formControlName","type","appendTo","body",3,"options","disabled"],[3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"w-30rem","h-20rem","flex","flex-column","align-items-center","justify-content-center","text-3xl","text-bluegray-300","font-bold"],[1,"mds-check_circle"],[4,"ngIf","ngIfThen","ngIfElse"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",1,"align-self-end",3,"onClick"],["label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",1,"align-self-end",3,"onClick"],[1,"flex","flex-column","gap-3","px-3",3,"formGroup"],[1,"flex","gap-3"],["appendTo","body","formControlName","loginFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","passwordFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","fullNameFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","dateOfBirthFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","regionOfBirthFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","cityOfBirthFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","passportDetailsFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","addressFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","phoneFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","tariffFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],[1,"flexed","column","p10","gap10"],["appendTo","body","styleClass","full-width",3,"ngModel","options","ngModelChange"],["icon","add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",3,"onClick"],["class","flexed p8 hcenter item-example",4,"ngSwitchCase"],[1,"flexed","p8","hcenter","item-example"],["classes","caption",3,"fields","index","selectView"],[3,"size"],[1,"caption"],[1,"flexed","column","gap5"],["classes","caption size-small wt-bold f-color-500",3,"fields","index","selectView"],[1,"flexed","gap5","hcenter"],["classes","caption size-small",3,"fields","index","selectView"],["class","flex flex-column align-items-center justify-content-center text-bluegray-400 text-2xl w-full h-full p-8",4,"ngIf"],["label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","icon","mdi-save",1,"align-self-end",3,"disabled","onClick"],[1,"flex","flex-column","align-items-center","justify-content-center","text-bluegray-400","text-2xl","w-full","h-full","p-8"],[1,"mds-folder_open"],[1,"mb-3"],[4,"ngTemplateOutlet"],[3,"value","dragdrop","trackBy","listStyle","onReorder"],[1,"flex","flex-column","gap-2",3,"formGroup"],[1,"flex","flex","gap-2","align-items-end"],["type","text","pInputText","","formControlName","name",3,"size"],["pInputTextarea","","formControlName","description",3,"autoResize","rows","cols"],["icon","mdi-add","styleClass","p-button-success p-button-outlined","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",3,"onClick"],["icon","mdi-delete","styleClass","p-button-danger p-button-outlined","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",3,"onClick","mousedown"],["formControlName","classId","optionLabel","name","optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"options"],["formControlName","initialStageId","optionLabel","name","optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"options"],["formControlName","processingStageId","optionLabel","name","optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"options"],["formControlName","manualCloseStageId","optionLabel","name","optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"options"],["formControlName","autoCloseStageId","optionLabel","name","optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"options"],[1,"flex","flex-column","gap-2","px-3"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435","styleClass","p-button-success p-button-outlined","icon","mdi-add",1,"align-self-center",3,"onClick"],[3,"ngSwitch",4,"ngFor","ngForOf"],["label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","icon","mdi-save",1,"align-self-end",3,"onClick"],["appendTo","body",3,"options","ngModel","ngModelChange"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",3,"onClick"],[1,"input-label-wrapper",3,"formGroup"],["appendTo","body","formControlName","fieldItemId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],[1,"flex-grow-1"],["icon","mdi-delete","styleClass","p-button-danger p-button-outlined p-button-icon",1,"align-self-end",3,"onClick"],["class","flex gap-3",3,"formGroup",4,"ngIf"],[1,"flex","gap-3",3,"formGroup"],["appendTo","body","formControlName","textFieldId",3,"options"],["appendTo","body","formControlName","streetFieldId",3,"options"],["appendTo","body","formControlName","houseFieldId",3,"options"],["appendTo","body","formControlName","apartmentFieldId",3,"options"],["appendTo","body","formControlName","entranceFieldId",3,"options"],["appendTo","body","formControlName","floorFieldId",3,"options"],["appendTo","body","formControlName","backupFieldId",3,"options"],["appendTo","body","formControlName","passportSeriesFieldId",3,"options"],["appendTo","body","formControlName","passportNumberFieldId",3,"options"],["appendTo","body","formControlName","passportIssuedByFieldId",3,"options"],["appendTo","body","formControlName","passportIssuedDateFieldId",3,"options"],["appendTo","body","formControlName","registrationAddressFieldId",3,"options"],["appendTo","body","formControlName","lastNameFieldId",3,"options"],["appendTo","body","formControlName","firstNameFieldId",3,"options"],["appendTo","body","formControlName","patronymicFieldId",3,"options"],["appendTo","body","formControlName","adSourceFieldId",3,"options"],["appendTo","body","formControlName","connectionServicesInnerFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","ctFieldDataBind",3,"options"],["appendTo","body","formControlName","dateFieldDataBind",3,"options"],["appendTo","body","formControlName","dateTimeFieldDataBind",3,"options"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,vn,31,13,"ng-container",1),e.YNc(2,Yt,11,5,"ng-container",1),e.YNc(3,Mn,20,7,"ng-container",1),e.qZA(),e.TgZ(4,"p-dialog",2),e.NdJ("visibleChange",function(d){return i.documentDialogVisible=d}),e.YNc(5,mo,9,8,"ng-template",3),e.qZA(),e.YNc(6,Jo,1,0,"ng-template",null,4,e.W1O),e.YNc(8,Po,1,0,"ng-template",null,5,e.W1O),e.YNc(10,dr,43,11,"ng-template",null,6,e.W1O),e._UZ(12,"p-menu",7,8),e.TgZ(14,"p-dialog",9),e.NdJ("visibleChange",function(d){return i.chooseFieldTypeDialogVisible=d}),e.YNc(15,Yr,4,5,"ng-template",10),e.qZA(),e.YNc(16,xi,4,4,"ng-template",null,11,e.W1O),e.TgZ(18,"p-dialog",12),e.NdJ("visibleChange",function(d){return i.taskTypeDirectoriesDialogVisible=d}),e.YNc(19,jr,3,3,"ng-template",10),e.qZA(),e.YNc(20,Ro,11,9,"ng-template",null,13,e.W1O),e.YNc(22,Rr,1,0,"ng-template",null,14,e.W1O),e.YNc(24,Vs,1,0,"ng-template",null,15,e.W1O),e.TgZ(26,"p-dialog",16),e.NdJ("visibleChange",function(d){return i.oldTrackerIntegrationDialogVisible=d}),e.YNc(27,tc,7,7,"ng-template",3),e.qZA(),e.TgZ(28,"p-dialog",17),e.NdJ("visibleChange",function(d){return i.appendBindToIntegrationDialogVisible=d}),e.YNc(29,Nu,2,2,"ng-template",10),e.qZA(),e.YNc(30,Ds,4,2,"ng-template",null,18,e.W1O),e.YNc(32,Ol,2,0,"ng-template",null,19,e.W1O),e.YNc(34,Nr,2,3,"ng-template",null,20,e.W1O),e.YNc(36,Ms,2,3,"ng-template",null,21,e.W1O),e.YNc(38,Se,2,3,"ng-template",null,22,e.W1O),e.YNc(40,sn,2,3,"ng-template",null,23,e.W1O),e.YNc(42,di,2,3,"ng-template",null,24,e.W1O),e.YNc(44,Br,2,3,"ng-template",null,25,e.W1O),e.YNc(46,nc,2,3,"ng-template",null,26,e.W1O),e.YNc(48,mr,2,3,"ng-template",null,27,e.W1O)),2&t&&(e.Udp("padding-bottom","2rem"),e.Q6J("ngSwitch",i.constructStage),e.xp6(1),e.Q6J("ngSwitchCase","FIELDS"),e.xp6(1),e.Q6J("ngSwitchCase","STAGES"),e.xp6(1),e.Q6J("ngSwitchCase","VIEW"),e.xp6(1),e.Q6J("visible",i.documentDialogVisible)("modal",!0)("dismissableMask",!0)("header",i.documentDialogHeader),e.xp6(1),e.Q6J("formGroup",i.documentDialogForm),e.xp6(7),e.Q6J("model",i.stepsContextMenu)("popup",!0),e.xp6(2),e.Akn(e.DdM(29,Bu)),e.Q6J("visible",i.chooseFieldTypeDialogVisible)("modal",!0)("dismissableMask",!0),e.xp6(4),e.Q6J("visible",i.taskTypeDirectoriesDialogVisible)("modal",!0)("dismissableMask",!0)("autoZIndex",!1),e.xp6(8),e.Q6J("visible",i.oldTrackerIntegrationDialogVisible)("modal",!0)("dismissableMask",!0),e.xp6(1),e.Q6J("formGroup",i.oldTrackerIntegrationForm),e.xp6(1),e.Q6J("visible",i.appendBindToIntegrationDialogVisible)("modal",!0)("dismissableMask",!0))},dependencies:[x.A,D.r,or.h,S.o,Ho.g,U,V,g.Fj,g.JJ,g.JL,g.On,N.jx,k.sg,wo.V,g.sg,g.u,Ke.Lt,On,k.O5,bt.g,O.zx,k.tP,k.RF,k.n9,k.ED,Qi.u,_o,Co.v2,bi.o,k.mk,xo.Ri,Yo._l,Yo.bK,k.Ov],styles:[".item-example[_ngcontent-%COMP%]{box-shadow:0 0 2px #0003,0 .5rem 1rem #0000001a}.step-enumerator-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:min-content;min-width:40rem}.stage-list-panel[_ngcontent-%COMP%]{min-width:30rem}.inline-input[_ngcontent-%COMP%]{border:0;outline:0;background-color:transparent;color:var(--tc-600);transition:color .2s ease-in-out}.inline-input[_ngcontent-%COMP%]:hover{color:var(--tc-900)}.drag-icon[_ngcontent-%COMP%]{color:var(--tc-300)}"]}),n})();var bs=b(8372),Zr=b(1884);function yc(n,o){1&n&&(e.TgZ(0,"div",23),e._UZ(1,"i",24),e.TgZ(2,"span"),e._uU(3," \u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 "),e.qZA()())}function Js(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",25),e._UZ(1,"app-avatar",26),e.TgZ(2,"div",13)(3,"span",27),e._uU(4),e.qZA(),e.TgZ(5,"div",28)(6,"span",29),e._uU(7),e.qZA(),e.TgZ(8,"span",29),e._uU(9),e.qZA()()(),e._UZ(10,"div",30),e.TgZ(11,"p-button",31),e.NdJ("onClick",function(){const d=e.CHM(t).$implicit,T=e.oxw(2);return e.KtG(T.openEmployeeEditor(d.login))}),e.qZA(),e.TgZ(12,"p-button",32),e.NdJ("onClick",function(){const d=e.CHM(t).$implicit,T=e.oxw(2);return e.KtG(T.employeeDeleteConfirm(d))}),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw(2);let s,d,T;e.xp6(1),e.Q6J("deleted",null!==(s=t.deleted)&&void 0!==s&&s)("name",t.fullName)("size",2.5)("src",t.avatar),e.xp6(3),e.Oqu(t.fullName),e.xp6(3),e.hij(" ",null==t.department?null:t.department.name," "),e.xp6(2),e.hij(" ",null==t.position?null:t.position.name," "),e.xp6(2),e.Q6J("disabled",null!==(d=t.deleted)&&void 0!==d&&d),e.xp6(1),e.Q6J("disabled",null!==(T=t.deleted)&&void 0!==T&&T)("loading",!!t.login&&i.isBeingDeleteEmployee[t.login])}}const Ca=function(){return{lineHeight:"0"}};function xc(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-tabPanel"),e.YNc(1,yc,4,0,"ng-template",12),e.TgZ(2,"div",13)(3,"div",14)(4,"span",15),e._UZ(5,"i",16)(6,"input",17),e.qZA(),e.TgZ(7,"span",18),e._UZ(8,"p-inputSwitch",19),e._uU(9," \u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435? "),e.qZA(),e.TgZ(10,"span")(11,"app-button",20),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openEmployeeCreator())}),e.qZA()()(),e.TgZ(12,"div",21),e.YNc(13,Js,13,10,"div",22),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.employeeFiltrationForm),e.xp6(5),e.Q6J("falseValue",!1)("ngStyle",e.DdM(6,Ca))("trueValue",!0),e.xp6(5),e.Q6J("ngForOf",t.employees)("ngForTrackBy",t.trackByEmployee)}}function Ic(n,o){1&n&&(e.TgZ(0,"div",23),e._UZ(1,"i",37),e.TgZ(2,"span"),e._uU(3," \u041e\u0442\u0434\u0435\u043b\u044b "),e.qZA()())}const cl=function(){return{maxWidth:"20rem",marginLeft:".5rem"}};function Gd(n,o){if(1&n&&(e.TgZ(0,"div",43),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Akn(e.DdM(3,cl)),e.xp6(1),e.hij(" ",t.description," ")}}function Wd(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"span",40),e._uU(3),e.qZA(),e.YNc(4,Gd,2,4,"div",41),e.qZA(),e._UZ(5,"div",30),e.TgZ(6,"p-button",31),e.NdJ("onClick",function(){const d=e.CHM(t).$implicit,T=e.oxw(2);let W;return e.KtG(T.openDepartmentEditor(d.name,null!==(W=d.description)&&void 0!==W?W:"",d.departmentId))}),e.qZA(),e.TgZ(7,"p-button",42),e.NdJ("onClick",function(){const d=e.CHM(t).$implicit,T=e.oxw(2);return e.KtG(T.departmentDeleteConfirm(d))}),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw(2);let s;e.xp6(3),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.description),e.xp6(2),e.Q6J("disabled",null!==(s=t.deleted)&&void 0!==s&&s),e.xp6(1),e.Q6J("loading",!!t.departmentId&&i.isBeginDeleteDepartment[t.departmentId])}}function sc(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-tabPanel"),e.YNc(1,Ic,4,0,"ng-template",12),e.TgZ(2,"div",33)(3,"div")(4,"app-button",34),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openDepartmentCreator())}),e.qZA()(),e.TgZ(5,"div",35),e.YNc(6,Wd,8,4,"div",36),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("ngForOf",t.departments)("ngForTrackBy",t.trackByDepartment)}}function Tc(n,o){1&n&&(e.TgZ(0,"div",23),e._UZ(1,"i",45),e.TgZ(2,"span"),e._uU(3," \u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438 "),e.qZA()())}function Pe(n,o){if(1&n&&(e.TgZ(0,"div",43),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Akn(e.DdM(3,cl)),e.xp6(1),e.hij(" ",t.description," ")}}function Qt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"span",40),e._uU(3),e.qZA(),e.YNc(4,Pe,2,4,"div",41),e.qZA(),e._UZ(5,"div",30),e.TgZ(6,"p-button",31),e.NdJ("onClick",function(){const d=e.CHM(t).$implicit,T=e.oxw(2);let W;return e.KtG(T.openPositionEditor(d.name,null!==(W=d.description)&&void 0!==W?W:"",null!==(W=d.access)&&void 0!==W?W:0,d.positionId))}),e.qZA(),e.TgZ(7,"p-button",42),e.NdJ("onClick",function(){const d=e.CHM(t).$implicit,T=e.oxw(2);return e.KtG(T.positionDeleteConfirm(d))}),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw(2);let s;e.xp6(3),e.hij(" ",null==t?null:t.name," "),e.xp6(1),e.Q6J("ngIf",t.description),e.xp6(2),e.Q6J("disabled",null!==(s=t.deleted)&&void 0!==s&&s),e.xp6(1),e.Q6J("loading",!!t.positionId&&i.isBeginDeletePosition[t.positionId])}}function ie(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-tabPanel"),e.YNc(1,Tc,4,0,"ng-template",12),e.TgZ(2,"div",44)(3,"app-button",34),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openPositionCreator())}),e.qZA(),e.TgZ(4,"div",35),e.YNc(5,Qt,8,4,"div",36),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.positions)("ngForTrackBy",t.trackByPosition)}}function tt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",46)(1,"span",47)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(4,"input",48),e.qZA(),e.TgZ(5,"span",47)(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(8,"textarea",49),e.qZA(),e.TgZ(9,"app-button",50),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.departmentCreate())}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.departmentForm),e.xp6(8),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(1),e.Q6J("disabled",!t.departmentForm.valid)("loading",t.isBeginCreatingDepartment)}}function on(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",46)(1,"span",47)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(4,"input",48),e.qZA(),e.TgZ(5,"span",47)(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(8,"textarea",49),e.qZA(),e.TgZ(9,"app-button",51),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.departmentEdit())}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.departmentForm),e.xp6(8),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(1),e.Q6J("disabled",!t.departmentForm.valid)("loading",t.isBeginEditingDepartment)}}function En(n,o){if(1&n&&e._UZ(0,"p-checkbox",57),2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("label",t.name)("value",t.value)("formControl",i.positionForm.controls.access)}}function $n(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",52)(1,"span",47)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(4,"input",48),e.qZA(),e.TgZ(5,"span",47)(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(8,"textarea",49),e.qZA(),e.TgZ(9,"p-panel",53)(10,"p-toggleButton",54),e.NdJ("onChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.checkAllAccessPosition(s))}),e.qZA(),e.TgZ(11,"div",55),e.YNc(12,En,1,3,"p-checkbox",56),e.qZA()(),e.TgZ(13,"app-button",50),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.positionCreate())}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("max-width","40rem"),e.Q6J("formGroup",t.positionForm),e.xp6(8),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(4),e.Q6J("ngForOf",t.accessFlags())("ngForTrackBy",t.AccessFlag.trackByFlag),e.xp6(1),e.Q6J("disabled",!t.positionForm.valid)("loading",t.isBeginCreatingPosition)}}function Hi(n,o){if(1&n&&e._UZ(0,"p-checkbox",57),2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("label",t.name)("value",t.value)("formControl",i.positionForm.controls.access)}}function Ur(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",52)(1,"span",47)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(4,"input",48),e.qZA(),e.TgZ(5,"span",47)(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(8,"textarea",49),e.qZA(),e.TgZ(9,"p-panel",53)(10,"p-toggleButton",54),e.NdJ("onChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.checkAllAccessPosition(s))}),e.qZA(),e.TgZ(11,"div",55),e.YNc(12,Hi,1,3,"p-checkbox",56),e.qZA()(),e.TgZ(13,"app-button",51),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.positionEdit())}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("max-width","40rem"),e.Q6J("formGroup",t.positionForm),e.xp6(8),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(4),e.Q6J("ngForOf",t.accessFlags())("ngForTrackBy",t.AccessFlag.trackByFlag),e.xp6(1),e.Q6J("disabled",!t.positionForm.valid)("loading",t.isBeginEditingPosition)}}function Ma(n,o){1&n&&e.GkF(0)}function Hr(n,o){if(1&n){const t=e.EpF();e.YNc(0,Ma,1,0,"ng-container",58),e.TgZ(1,"app-button",59),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.employeeCreate())}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(20);e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("disabled",!t.employeeForm.valid)("loading",t.isBeingCreatingEmployee)}}function rc(n,o){1&n&&e.GkF(0)}function Uu(n,o){if(1&n){const t=e.EpF();e.YNc(0,rc,1,0,"ng-container",58),e.TgZ(1,"app-button",51),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.employeeEdit())}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(20);e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("disabled",!t.employeeForm.valid)("loading",t.isBeingEditingEmployee)}}function Hu(n,o){if(1&n&&(e.TgZ(0,"div",93),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("colorString",t.name),e.xp6(1),e.Oqu(t.name)}}function ch(n,o){if(1&n&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}function nm(n,o){if(1&n&&(e.TgZ(0,"div",93),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("colorString",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function uh(n,o){if(1&n&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function im(n,o){if(1&n&&(e.TgZ(0,"span",61)(1,"label"),e._uU(2,"ID \u0420\u0430\u0431\u043e\u0447\u0435\u0439 \u0433\u0440\u0443\u043f\u043f\u044b"),e.qZA(),e._UZ(3,"input",94),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee)}}function om(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"app-label",82),e._UZ(2,"input",83),e.qZA(),e.TgZ(3,"app-label",84),e._UZ(4,"input",85),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(2),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee)}}function dh(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"app-label",95),e._UZ(2,"input",96),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee)}}function Vu(n,o){if(1&n&&e._UZ(0,"p-checkbox",98),2&n){const t=o.$implicit,i=e.oxw(3);e.Q6J("label",t.name)("value",t.value)("disabled",i.isBeingCreatingEmployee||i.isBeingEditingEmployee)("formControl",i.employeeForm.controls.access)}}function zu(n,o){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,Vu,1,4,"p-checkbox",97),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.accessFlags())("ngForTrackBy",t.AccessFlag.trackByFlag)}}const Yd=function(){return{standalone:!0}};function ph(n,o){if(1&n&&e._UZ(0,"p-checkbox",100),2&n){const t=o.$implicit,i=e.oxw(3);e.Q6J("disabled",i.isBeingCreatingEmployee||i.isBeingEditingEmployee||!0)("label",t.name)("ngModelOptions",e.DdM(5,Yd))("ngModel",i.accessOfSelectedPosition)("value",t.value)}}function $_(n,o){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,ph,1,6,"p-checkbox",99),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.accessFlags())("ngForTrackBy",t.AccessFlag.trackByFlag)}}function jd(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",52)(1,"div",60)(2,"span",61)(3,"label"),e._uU(4,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),e.qZA(),e._UZ(5,"input",62),e.qZA(),e.TgZ(6,"span",61)(7,"label"),e._uU(8,"\u0418\u043c\u044f"),e.qZA(),e._UZ(9,"input",63),e.qZA(),e.TgZ(10,"span",61)(11,"label"),e._uU(12,"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"),e.qZA(),e._UZ(13,"input",64),e.qZA()(),e.TgZ(14,"div",60)(15,"span",61)(16,"label"),e._uU(17,"\u041b\u043e\u0433\u0438\u043d"),e.qZA(),e._UZ(18,"input",65),e.qZA(),e.TgZ(19,"span",61)(20,"label"),e._uU(21,"\u041f\u0430\u0440\u043e\u043b\u044c"),e.qZA(),e._UZ(22,"input",66),e.qZA()(),e.TgZ(23,"div",60)(24,"span",61)(25,"label"),e._uU(26,"\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"),e.qZA(),e._UZ(27,"input",67),e.qZA(),e.TgZ(28,"span",61)(29,"label"),e._uU(30,"Telegram ID"),e.qZA(),e._UZ(31,"input",68),e.qZA()(),e.TgZ(32,"div",60)(33,"span",47)(34,"label"),e._uU(35,"\u041e\u0442\u0434\u0435\u043b"),e.qZA(),e.TgZ(36,"p-dropdown",69),e.YNc(37,Hu,2,2,"ng-template",70),e.YNc(38,ch,2,1,"ng-template",71),e.qZA()(),e.TgZ(39,"span",47)(40,"label"),e._uU(41,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),e.qZA(),e.TgZ(42,"p-dropdown",72),e.NdJ("onChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.positionSelecting(s))}),e.YNc(43,nm,2,2,"ng-template",70),e.YNc(44,uh,2,1,"ng-template",71),e.qZA()(),e.TgZ(45,"span",73)(46,"label"),e._uU(47,"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a?"),e.qZA(),e._UZ(48,"p-inputSwitch",74),e.qZA(),e.YNc(49,im,4,1,"span",75),e.qZA(),e.TgZ(50,"p-panel",76)(51,"div",77)(52,"div",78)(53,"span",79),e._uU(54,"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043e\u0442 \u0441\u0442\u0430\u0440\u043e\u0433\u043e \u0442\u0440\u0435\u043a\u0435\u0440\u0430"),e.qZA(),e.TgZ(55,"div",80),e.YNc(56,om,5,2,"ng-container",3),e.YNc(57,dh,3,1,"ng-container",3),e.qZA()(),e.TgZ(58,"div",78)(59,"span",79),e._uU(60,"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0430 1785"),e.qZA(),e.TgZ(61,"div",81)(62,"app-label",82),e._UZ(63,"input",83),e.qZA(),e.TgZ(64,"app-label",84),e._UZ(65,"input",85),e.qZA()()(),e.TgZ(66,"div",78)(67,"span",79),e._uU(68,"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0430 781"),e.qZA(),e.TgZ(69,"div",86)(70,"app-label",82),e._UZ(71,"input",83),e.qZA(),e.TgZ(72,"app-label",84),e._UZ(73,"input",85),e.qZA()()(),e.TgZ(74,"div",78)(75,"span",79),e._uU(76,"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0430 1783"),e.qZA(),e.TgZ(77,"div",87)(78,"app-label",82),e._UZ(79,"input",83),e.qZA(),e.TgZ(80,"app-label",84),e._UZ(81,"input",85),e.qZA()()()()(),e.TgZ(82,"p-panel",88)(83,"div",89)(84,"div",60)(85,"p-toggleButton",90),e.NdJ("onChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.checkAllAccessEmployee(s))}),e.qZA(),e.TgZ(86,"p-toggleButton",91),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.accessOverrideChange(s))})("ngModelChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.isAccessOverride=s)}),e.qZA()(),e.YNc(87,zu,2,2,"div",92),e.YNc(88,$_,2,2,"div",92),e.qZA()()()}if(2&n){const t=e.oxw();e.Udp("max-width","55rem"),e.Q6J("formGroup",t.employeeForm),e.xp6(5),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(4),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(4),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(5),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee||t.showEditEmployeeDialog),e.xp6(4),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(5),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(4),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(5),e.Q6J("options",t.departments)("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(6),e.Q6J("options",t.positions)("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(6),e.Q6J("falseValue",!1)("ngStyle",e.DdM(37,Ca))("trueValue",!0)("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(1),e.Q6J("ngIf",t.employeeForm.value.offsite),e.xp6(1),e.Q6J("toggleable",!0)("collapsed",!0),e.xp6(6),e.Q6J("ngIf",!t.employeeForm.value.offsite),e.xp6(1),e.Q6J("ngIf",t.employeeForm.value.offsite),e.xp6(6),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(2),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(6),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(2),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(6),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(2),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(1),e.Q6J("toggleable",!0)("collapsed",!0),e.xp6(3),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee||!t.isAccessOverride),e.xp6(1),e.Q6J("ngModel",t.isAccessOverride)("ngModelOptions",e.DdM(38,Yd))("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(1),e.Q6J("ngIf",t.isAccessOverride),e.xp6(1),e.Q6J("ngIf",!t.isAccessOverride)}}let hh=(()=>{class n{constructor(t,i,s,d){this.api=t,this.confirm=i,this.personality=s,this.rt=d,this.AccessFlag=Ii.j,this.employees=[],this.departments=[],this.positions=[],this.showCreateDepartmentDialog=!1,this.showEditDepartmentDialog=!1,this.isBeginCreatingDepartment=!1,this.isBeginEditingDepartment=!1,this.isBeginDeleteDepartment={},this.departmentForm=new g.cw({id:new g.NI(null),name:new g.NI("",g.kI.required),description:new g.NI("")}),this.positionForm=new g.cw({id:new g.NI(null),name:new g.NI("",g.kI.required),description:new g.NI(""),access:new g.NI([])}),this.showCreatePositionDialog=!1,this.showEditPositionDialog=!1,this.isBeginCreatingPosition=!1,this.isBeginEditingPosition=!1,this.isBeginDeletePosition={},this.showCreateEmployeeDialog=!1,this.showEditEmployeeDialog=!1,this.employeeFiltrationForm=new g.cw({query:new g.NI(""),showDeleted:new g.NI(!1)}),this.employeeForm=new g.cw({lastName:new g.NI(""),firstName:new g.NI("",g.kI.required),secondName:new g.NI(""),internalPhoneNumber:new g.NI(null),access:new g.NI([]),login:new g.NI("",[g.kI.required,g.kI.minLength(4)]),password:new g.NI("",g.kI.required),telegramUserId:new g.NI(""),telegramGroupChatId:new g.NI(null),department:new g.NI(null,g.kI.required),position:new g.NI(null,g.kI.required),offsite:new g.NI(!1),oldTrackerCredentials:new g.cw({username:new g.NI(""),password:new g.NI(""),installerId:new g.NI("")}),base1785Credentials:new g.cw({username:new g.NI(""),password:new g.NI("")}),base781Credentials:new g.cw({username:new g.NI(""),password:new g.NI("")}),base1783Credentials:new g.cw({username:new g.NI(""),password:new g.NI("")})}),this.isAccessOverride=!1,this.accessOfSelectedPosition=[],this.isBeingDeleteEmployee={},this.isBeingCreatingEmployee=!1,this.isBeingEditingEmployee=!1,this.subscriptions=new _.xf}trackByEmployee(t,i){return i.login+i.fullName+JSON.stringify(i.position)+JSON.stringify(i.department)+i.deleted+i.avatar+i.deleted}trackByPosition(t,i){return i.positionId+i.name+i.description+i.deleted}trackByDepartment(t,i){return i.departmentId+i.name+i.description+i.deleted}ngOnDestroy(){this.subscriptions.unsubscribeAll()}ngOnInit(){this.api.getEmployees(void 0,!1).subscribe(t=>this.employees=t),this.api.getDepartments().subscribe(t=>this.departments=t),this.api.getPositions().subscribe(t=>this.positions=t),this.subscriptions.addSubscription("empUpd",this.rt.employeeUpdated().subscribe(t=>{const i=this.employees.findIndex(s=>s.login===t.login);i>=0&&(this.employees[i]=t)})),this.subscriptions.addSubscription("empCr",this.rt.employeeCreated().subscribe(t=>{this.employees.push(t)})),this.subscriptions.addSubscription("empDel",this.rt.employeeDeleted().subscribe(t=>{const i=this.employees.findIndex(s=>s.login===t.login);i>=0&&this.employees.splice(i,1)})),this.subscriptions.addSubscription("depUpd",this.rt.departmentUpdated().subscribe(t=>{const i=this.departments.findIndex(s=>s.departmentId===t.departmentId);i>=0&&(this.departments[i]=t),this.employees.filter(s=>{var d;return(null===(d=s.department)||void 0===d?void 0:d.departmentId)===t.departmentId}).forEach(s=>{s.department=t})})),this.subscriptions.addSubscription("depCr",this.rt.departmentCreated().subscribe(t=>{this.departments.push(t)})),this.subscriptions.addSubscription("depDel",this.rt.departmentDeleted().subscribe(t=>{const i=this.departments.findIndex(s=>s.departmentId===t.departmentId);i>=0&&this.departments.splice(i,1)})),this.subscriptions.addSubscription("posUpd",this.rt.positionUpdated().subscribe(t=>{const i=this.positions.findIndex(s=>s.positionId===t.positionId);i>=0&&(this.positions[i]=t),this.employees.filter(s=>{var d;return(null===(d=s.position)||void 0===d?void 0:d.positionId)===t.positionId}).forEach(s=>{s.position=t})})),this.subscriptions.addSubscription("posCr",this.rt.positionCreated().subscribe(t=>{this.positions.push(t)})),this.subscriptions.addSubscription("posDel",this.rt.positionDeleted().subscribe(t=>{const i=this.positions.findIndex(s=>s.positionId===t.positionId);i>=0&&this.positions.splice(i,1)})),this.subscriptions.addSubscription("empSearch",this.employeeFiltrationForm.valueChanges.pipe((0,bs.b)(1e3),(0,Zr.x)()).subscribe(t=>{var i,s;this.employeeFiltrationForm.disable({emitEvent:!1}),this.api.getEmployees(null!==(i=t.query)&&void 0!==i?i:void 0,null!==(s=t.showDeleted)&&void 0!==s?s:void 0).subscribe({next:d=>{this.employees=d,this.employeeFiltrationForm.enable({emitEvent:!1})},error:()=>this.employeeFiltrationForm.enable({emitEvent:!1})})}))}departmentCreate(){this.isBeginCreatingDepartment=!0,this.api.createDepartment(this.departmentForm.getRawValue()).subscribe({complete:()=>{this.isBeginCreatingDepartment=!1,this.showCreateDepartmentDialog=!1},error:()=>{this.isBeginCreatingDepartment=!1}})}departmentDelete(t){"number"==typeof t&&(this.isBeginDeleteDepartment[t]=!0,this.api.deleteDepartment(t).subscribe({complete:()=>{delete this.isBeginDeleteDepartment[t]},error:()=>{delete this.isBeginDeleteDepartment[t]}}))}departmentDeleteConfirm(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0442\u0434\u0435\u043b: "+t.name+"?",accept:()=>{this.departmentDelete(t.departmentId)}})}departmentEdit(){const t=this.departmentForm.value.id;"number"==typeof t&&(this.isBeginEditingDepartment=!0,this.api.editDepartment(this.departmentForm.getRawValue(),t).subscribe({complete:()=>{this.isBeginEditingDepartment=!1,this.showEditDepartmentDialog=!1},error:()=>{this.isBeginEditingDepartment=!1}}))}openDepartmentEditor(t,i,s){"number"==typeof s&&(this.showEditDepartmentDialog=!0,this.departmentForm.setValue({id:s,name:t,description:i}))}openDepartmentCreator(){this.showCreateDepartmentDialog=!0,this.departmentForm.reset()}openPositionCreator(){this.showCreatePositionDialog=!0,this.positionForm.reset()}openPositionEditor(t,i,s,d){"number"==typeof d&&(this.showEditPositionDialog=!0,this.positionForm.setValue({id:d,name:t,description:i,access:Ii.j.read(s)}))}accessFlags(){return Ii.j.flagList()}positionCreate(){var t,i;this.isBeginCreatingPosition=!0;const s={name:this.positionForm.value.name,description:this.positionForm.value.description,access:null!==(i=null===(t=this.positionForm.value.access)||void 0===t?void 0:t.reduce((d,T)=>d+T,0))&&void 0!==i?i:0};this.api.createPosition(s).subscribe({complete:()=>{this.isBeginCreatingPosition=!1,this.showCreatePositionDialog=!1},error:()=>{this.isBeginCreatingPosition=!1}})}positionEdit(){var t,i;if("number"!=typeof this.positionForm.value.id)return;this.isBeginEditingPosition=!0;const s={name:this.positionForm.value.name,description:this.positionForm.value.description,access:null!==(i=null===(t=this.positionForm.value.access)||void 0===t?void 0:t.reduce((d,T)=>d+T,0))&&void 0!==i?i:0};this.api.editPosition(s,this.positionForm.value.id).subscribe({complete:()=>{this.isBeginEditingPosition=!1,this.showEditPositionDialog=!1},error:()=>{this.isBeginEditingPosition=!1}})}positionDelete(t){"number"==typeof t&&(this.isBeginDeletePosition[t]=!0,this.api.deletePosition(t).subscribe({complete:()=>{delete this.isBeginDeletePosition[t]},error:()=>{delete this.isBeginDeletePosition[t]}}))}positionDeleteConfirm(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c: "+t.name+"?",accept:()=>{this.positionDelete(t.positionId)}})}openEmployeeCreator(){this.showCreateEmployeeDialog=!0,this.employeeForm.reset({login:"",password:"",access:[],department:null,position:null,secondName:"",firstName:"",lastName:"",internalPhoneNumber:"",telegramUserId:"",offsite:!1})}accessOverrideChange(t){t||this.employeeForm.patchValue({access:[]})}positionSelecting(t){const i=this.positions.find(s=>s.positionId===t.value);i&&i.access&&(this.accessOfSelectedPosition=Ii.j.read(i.access))}checkAllAccessEmployee(t){const{checked:i}=t;this.employeeForm.patchValue(i?{access:Ii.j.array()}:{access:[]})}checkAllAccessPosition(t){const{checked:i}=t;this.positionForm.patchValue(i?{access:Ii.j.array()}:{access:[]})}employeeCreate(){const t=this.employeeForm.getRawValue();this.isBeingCreatingEmployee=!0;let i=0;Array.isArray(t.access)&&(i=t.access.reduce((s,d)=>s+d,0)),this.api.createEmployee(Object.assign(Object.assign({},t),{access:i})).subscribe({complete:()=>{this.isBeingCreatingEmployee=!1,this.showCreateEmployeeDialog=!1},error:()=>{this.isBeingCreatingEmployee=!1}})}employeeDeleteConfirm(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430: "+t.login+"?",accept:()=>{this.employeeDelete(t.login)}})}employeeDelete(t){"string"==typeof t&&(this.isBeingDeleteEmployee[t]=!0,this.api.deleteEmployee(t).subscribe({complete:()=>{delete this.isBeingDeleteEmployee[t]},error:()=>{delete this.isBeingDeleteEmployee[t]}}))}employeeEdit(){const t=this.employeeForm.getRawValue();if("string"!=typeof t.login)return;this.isBeingEditingEmployee=!0;let i=0;Array.isArray(t.access)&&(i=t.access.reduce((s,d)=>s+d,0)),this.api.editEmployee(Object.assign(Object.assign({},t),{access:i}),t.login).subscribe({complete:()=>{this.isBeingEditingEmployee=!1,this.showEditEmployeeDialog=!1},error:()=>{this.isBeingEditingEmployee=!1}})}openEmployeeEditor(t){"string"==typeof t&&this.api.getEmployee(t).subscribe({next:i=>{var s,d,T,W,Ce,qe,Xe,$t,jt,Wt,_n,Pn,Rn,jn,Ti,io,Ji,Eo,ps,Ps,ko,Xl;this.employeeForm.patchValue({login:i.login,password:"password",access:Ii.j.read(null!==(s=i.access)&&void 0!==s?s:0),department:null===(d=i.department)||void 0===d?void 0:d.departmentId,position:null===(T=i.position)||void 0===T?void 0:T.positionId,secondName:i.secondName,firstName:i.firstName,lastName:i.lastName,internalPhoneNumber:i.internalPhoneNumber,telegramUserId:i.telegramUserId,telegramGroupChatId:i.telegramGroupChatId,offsite:i.offsite,oldTrackerCredentials:{username:null!==(Ce=null===(W=i.oldTrackerCredentials)||void 0===W?void 0:W.username)&&void 0!==Ce?Ce:"",password:null!==(Xe=null===(qe=i.oldTrackerCredentials)||void 0===qe?void 0:qe.password)&&void 0!==Xe?Xe:"",installerId:null!==(jt=null===($t=i.oldTrackerCredentials)||void 0===$t?void 0:$t.installerId)&&void 0!==jt?jt:""},base1785Credentials:{username:null!==(_n=null===(Wt=i.base1785Credentials)||void 0===Wt?void 0:Wt.username)&&void 0!==_n?_n:"",password:null!==(Rn=null===(Pn=i.base1785Credentials)||void 0===Pn?void 0:Pn.password)&&void 0!==Rn?Rn:""},base781Credentials:{username:null!==(Ti=null===(jn=i.base781Credentials)||void 0===jn?void 0:jn.username)&&void 0!==Ti?Ti:"",password:null!==(Ji=null===(io=i.base781Credentials)||void 0===io?void 0:io.password)&&void 0!==Ji?Ji:""},base1783Credentials:{username:null!==(ps=null===(Eo=i.base1783Credentials)||void 0===Eo?void 0:Eo.username)&&void 0!==ps?ps:"",password:null!==(ko=null===(Ps=i.base1783Credentials)||void 0===Ps?void 0:Ps.password)&&void 0!==ko?ko:""}}),this.positionSelecting({value:null===(Xl=i.position)||void 0===Xl?void 0:Xl.positionId}),this.showEditEmployeeDialog=!0},error:()=>{}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(N.YP),e.Y36(J.F),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:21,vars:29,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"stretched","panel","overflow"],[4,"ngIf"],["header","\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u0442\u0434\u0435\u043b\u0430",3,"visible","modal","dismissableMask","resizable","visibleChange"],["pTemplate","content"],["header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0434\u0435\u043b\u0430",3,"visible","modal","dismissableMask","resizable","visibleChange"],["header","\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",3,"visible","modal","dismissableMask","resizable","visibleChange"],["header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",3,"visible","modal","dismissableMask","resizable","visibleChange"],["contentStyleClass","flex flex-column gap-3","header","\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",3,"visible","modal","dismissableMask","resizable","visibleChange"],["contentStyleClass","flex flex-column gap-3","header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",3,"visible","modal","dismissableMask","resizable","visibleChange"],["employeeFormTemplate",""],["pTemplate","header"],[1,"flexed","column"],[1,"flexed","gap10","vcenter","hcenter",3,"formGroup"],[1,"p-input-icon-left"],[1,"mdi-search"],["formControlName","query","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a...","type","text"],[1,"caption","size-small","f-color-500","flexed","column","hcenter"],["formControlName","showDeleted",3,"falseValue","ngStyle","trueValue"],["icon","person_add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","model","p-button-text p-button-success",3,"onClick"],[1,"employee-list"],["class","employee-list-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","gap3","hcenter"],[1,"mdi-person"],[1,"employee-list-item"],[3,"deleted","name","size","src"],[1,"caption"],[1,"flexed","gap5","hcenter"],["appColorize",""],[1,"stretched"],["icon","mdi-edit","styleClass","p-button-text p-button-warning","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",3,"disabled","onClick"],["icon","mdi-delete","styleClass","p-button-text p-button-danger","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",3,"disabled","loading","onClick"],[1,"flexed","column","gap10"],["icon","add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","model","p-button-success",3,"onClick"],[1,"list-view"],["class","list-view-item bordered",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mdi-groups"],[1,"list-view-item","bordered"],[1,"flexed","column","gap5"],["appColorize","",1,"caption","size-small","f-color-500"],["class","caption size-small",3,"style",4,"ngIf"],["icon","mdi-delete","styleClass","p-button-text p-button-danger","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",3,"loading","onClick"],[1,"caption","size-small"],[1,"flexed","gap10","column"],[1,"mdi-badge"],[1,"flexed","column","gap5",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","name","pInputText","","type","text"],["formControlName","description","pInputTextarea","",3,"autoResize","cols","rows"],["icon","add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"disabled","loading","onClick"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"disabled","loading","onClick"],[1,"flex","flex-column","gap-2",3,"formGroup"],["header","\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043e\u0441\u0442\u0443\u043f\u0430"],["offLabel","\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0441\u0451","onLabel","\u0421\u043d\u044f\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435",3,"onChange"],[1,"flex","gap-3","flex-wrap","max-h-15rem","p-2","overflow-y-auto"],["name","access",3,"label","value","formControl",4,"ngFor","ngForOf","ngForTrackBy"],["name","access",3,"label","value","formControl"],[4,"ngTemplateOutlet"],["icon","person_add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"disabled","loading","onClick"],[1,"flex","gap-3","align-items-center"],[1,"input-label-wrapper","full-width"],["appRegexPatternChecker","","patternRx","^[\u0410-\u044f]+$","formControlName","lastName","pInputText","","type","text",3,"disabled"],["appRegexPatternChecker","","formControlName","firstName","pInputText","","patternRx","^[\u0410-\u044f]+$","type","text",3,"disabled"],["appRegexPatternChecker","","formControlName","secondName","pInputText","","patternRx","^[\u0410-\u044f]+$","type","text",3,"disabled"],["appRegexPatternChecker","","formControlName","login","pInputText","","patternRx","^[\\w\\.]+$$","type","text",3,"disabled"],["appRegexPatternChecker","","formControlName","password","pInputText","","patternRx","^[\\w\\.]+$$","type","password",3,"disabled"],["appRegexPatternChecker","","formControlName","internalPhoneNumber","pInputText","","patternRx","^\\d+$","type","text",3,"disabled"],["appRegexPatternChecker","","formControlName","telegramUserId","pInputText","","patternRx","^\\d+$","type","text",3,"disabled"],["formControlName","department","optionLabel","name","optionValue","departmentId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c",3,"options","disabled"],["pTemplate","selectedItem"],["pTemplate","item"],["formControlName","position","optionLabel","name","optionValue","positionId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c",3,"options","disabled","onChange"],[1,"input-label-wrapper","flexed","vcenter"],["formControlName","offsite",3,"falseValue","ngStyle","trueValue","disabled"],["class","input-label-wrapper full-width",4,"ngIf"],["header","\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438",3,"toggleable","collapsed"],[1,"flex","flex-column","gap-2"],[1,"flex","flex-column"],[1,"text-bluegray-400","font-bold"],["formGroupName","oldTrackerCredentials",1,"flex","gap-3","align-items-center"],["formGroupName","base1785Credentials",1,"flex","gap-3","align-items-center"],["label","\u041b\u043e\u0433\u0438\u043d"],["appRegexPatternChecker","","formControlName","username","pInputText","","patternRx","^[\\w\\.]+$","type","text",3,"disabled"],["label","\u041f\u0430\u0440\u043e\u043b\u044c"],["appRegexPatternChecker","","formControlName","password","pInputText","","patternRx","^[\\w\\.]+$","type","text",3,"disabled"],["formGroupName","base781Credentials",1,"flex","gap-3","align-items-center"],["formGroupName","base1783Credentials",1,"flex","gap-3","align-items-center"],["header","\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043e\u0441\u0442\u0443\u043f\u0430",3,"toggleable","collapsed"],[1,"flex","gap-3","flex-column"],["offLabel","\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0441\u0451","onLabel","\u0421\u043d\u044f\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435",3,"disabled","onChange"],["offLabel","\u041f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c","onLabel","\u0418\u0437 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",3,"ngModel","ngModelOptions","disabled","ngModelChange"],["class","flex gap-3 flex-wrap max-h-15rem p-2 overflow-y-auto",4,"ngIf"],["appColorize","",3,"colorString"],["appRegexPatternChecker","","formControlName","telegramGroupChatId","pInputText","","patternRx","^\\d+$","type","text",3,"disabled"],["label","ID \u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0430 \u0432 \u0442\u0440\u0435\u043a\u0435\u0440\u0435"],["appRegexPatternChecker","","formControlName","installerId","pInputText","","patternRx","^[\\d]+$","type","text",3,"disabled"],["name","access",3,"label","value","disabled","formControl",4,"ngFor","ngForOf","ngForTrackBy"],["name","access",3,"label","value","disabled","formControl"],["name","accessPosition",3,"disabled","label","ngModelOptions","ngModel","value",4,"ngFor","ngForOf","ngForTrackBy"],["name","accessPosition",3,"disabled","label","ngModelOptions","ngModel","value"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"p-tabView",2),e.YNc(4,xc,14,7,"p-tabPanel",3),e.YNc(5,sc,7,2,"p-tabPanel",3),e.YNc(6,ie,6,2,"p-tabPanel",3),e.qZA()()(),e.TgZ(7,"p-dialog",4),e.NdJ("visibleChange",function(d){return i.showCreateDepartmentDialog=d}),e.YNc(8,tt,10,6,"ng-template",5),e.qZA(),e.TgZ(9,"p-dialog",6),e.NdJ("visibleChange",function(d){return i.showEditDepartmentDialog=d}),e.YNc(10,on,10,6,"ng-template",5),e.qZA(),e.TgZ(11,"p-dialog",7),e.NdJ("visibleChange",function(d){return i.showCreatePositionDialog=d}),e.YNc(12,$n,14,10,"ng-template",5),e.qZA(),e.TgZ(13,"p-dialog",8),e.NdJ("visibleChange",function(d){return i.showEditPositionDialog=d}),e.YNc(14,Ur,14,10,"ng-template",5),e.qZA(),e.TgZ(15,"p-dialog",9),e.NdJ("visibleChange",function(d){return i.showCreateEmployeeDialog=d}),e.YNc(16,Hr,2,3,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",10),e.NdJ("visibleChange",function(d){return i.showEditEmployeeDialog=d}),e.YNc(18,Uu,2,3,"ng-template",5),e.qZA(),e.YNc(19,jd,89,39,"ng-template",null,11,e.W1O)),2&t&&(e.xp6(1),e.Udp("padding-bottom","2rem"),e.xp6(3),e.Q6J("ngIf",i.personality.isHasAccess(i.AccessFlag.MANAGE_EMPLOYEES)),e.xp6(1),e.Q6J("ngIf",i.personality.isHasAccess(i.AccessFlag.MANAGE_DEPARTMENTS)),e.xp6(1),e.Q6J("ngIf",i.personality.isHasAccess(i.AccessFlag.MANAGE_POSITIONS)),e.xp6(1),e.Q6J("visible",i.showCreateDepartmentDialog)("modal",!0)("dismissableMask",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showEditDepartmentDialog)("modal",!0)("dismissableMask",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showCreatePositionDialog)("modal",!0)("dismissableMask",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showEditPositionDialog)("modal",!0)("dismissableMask",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showCreateEmployeeDialog)("modal",!0)("dismissableMask",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showEditEmployeeDialog)("modal",!0)("dismissableMask",!0)("resizable",!1))},styles:[".employee-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem}.employee-list-item[_ngcontent-%COMP%]{display:flex;cursor:pointer;padding:1rem;gap:1rem;align-items:center;transition:background-color .2s ease-out}.employee-list-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-100)}.department-menu[_ngcontent-%COMP%]{border-left:1px solid var(--bgc-300)}"]}),n})();var sm=b(9936);function gh(n,o){1&n&&e._UZ(0,"app-dashboard-task-statistic-panel",6),2&n&&e.Q6J("wireframe",o.$implicit)}function Ju(n,o){if(1&n&&(e.ynx(0),e.YNc(1,gh,1,1,"app-dashboard-task-statistic-panel",5),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function Kd(n,o){1&n&&(e.TgZ(0,"div",7),e._UZ(1,"span",8),e.TgZ(2,"span"),e._uU(3,"\u041d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u0437\u0430\u0434\u0430\u0447"),e.qZA()())}let Yc=(()=>{class n{constructor(t){this.api=t,this.wireframes$=this.api.getWireframes()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:8,vars:4,consts:[["appExtendPageHeight","",1,"flex","justify-content-center"],[1,"responsive-wrapper","flex","gap-3"],[1,"grid","h-fit","w-full"],[4,"ngIf","ngIfElse"],["empty",""],["class","col-4",3,"wireframe",4,"ngFor","ngForOf"],[1,"col-4",3,"wireframe"],[1,"flex","flex-column","flex-grow-1","w-full","align-items-center","justify-content-center","p-5","text-bluegray-400","text-4xl","font-light"],[1,"mds-frame_source"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.YNc(4,Ju,2,1,"ng-container",3),e.ALo(5,"async"),e.qZA()()(),e.YNc(6,Kd,4,0,"ng-template",null,4,e.W1O)),2&t){const s=e.MAs(7);e.xp6(4),e.Q6J("ngIf",e.lcZ(5,2,i.wireframes$))("ngIfElse",s)}}}),n})();var jc=b(9751),rm=b(515),e0=b(727),t0=b(4482),n0=b(5403),mh=b(8737),qd=b(4986),Qu=b(3269),$d=b(9672),Ac=b(430);let Ha=(()=>{class n{constructor(t,i,s){this.api=t,this.rt=i,this.personality=s,this.items=[],this.AccessFlag=Ii.j,this.fields=[{name:"\u0411\u0443\u043b\u0435\u0432\u043e",id:(0,$o.Z)(),type:me._r.BOOLEAN,orderPosition:1,listViewIndex:1},{name:"\u0418\u043d\u0442\u0435\u0433\u0435\u0440",id:(0,$o.Z)(),type:me._r.INTEGER,orderPosition:1,listViewIndex:1},{name:"\u0424\u043b\u043e\u0430\u0442",id:(0,$o.Z)(),type:me._r.FLOAT,orderPosition:1,listViewIndex:1},{name:"\u0422\u0435\u043a\u0441\u0442",id:(0,$o.Z)(),type:me._r.LARGE_TEXT,orderPosition:1,listViewIndex:1},{name:"\u0421\u0442\u0440\u043e\u043a\u0430",id:(0,$o.Z)(),type:me._r.SMALL_TEXT,orderPosition:1,listViewIndex:1},{name:"\u0410\u0434\u0440\u0435\u0441",id:(0,$o.Z)(),type:me._r.ADDRESS,orderPosition:1,listViewIndex:1},{name:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",id:(0,$o.Z)(),type:me._r.PHONE_ARRAY,orderPosition:1,listViewIndex:1}],this.ips$=function X_(n,o,t){if(null==o&&(o=n,n=0),o<=0)return rm.E;const i=o+n;return new jc.y(t?s=>{let d=n;return t.schedule(function(){d<i?(s.next(d++),this.schedule()):s.complete()})}:s=>{let d=n;for(;d<i&&!s.closed;)s.next(d++);s.complete()})}(1,150).pipe((0,gt.U)(d=>`10.163.35.${d}`),function Xd(n,...o){var t,i;const s=null!==(t=(0,Qu.yG)(o))&&void 0!==t?t:qd.z,d=null!==(i=o[0])&&void 0!==i?i:null,T=o[1]||1/0;return(0,t0.e)((W,Ce)=>{let qe=[],Xe=!1;const $t=_n=>{const{buffer:Pn,subs:Rn}=_n;Rn.unsubscribe(),(0,mh.P)(qe,_n),Ce.next(Pn),Xe&&jt()},jt=()=>{if(qe){const _n=new e0.w0;Ce.add(_n);const Rn={buffer:[],subs:_n};qe.push(Rn),(0,$d.f)(_n,s,()=>$t(Rn),n)}};null!==d&&d>=0?(0,$d.f)(Ce,s,jt,d,!0):Xe=!0,jt();const Wt=new n0.Q(Ce,_n=>{const Pn=qe.slice();for(const Rn of Pn){const{buffer:jn}=Rn;jn.push(_n),T<=jn.length&&$t(Rn)}},()=>{for(;null!=qe&&qe.length;)Ce.next(qe.shift().buffer);null==Wt||Wt.unsubscribe(),Ce.complete(),Ce.unsubscribe()},void 0,()=>qe=null);W.subscribe(Wt)})}(1e3)),this.form=new g.cw({}),this.employees$=this.api.getEmployees(),this.users=[],this.filterForm=new g.cw({mode:new g.NI("login"),query:new g.NI("")}),this.filterChange$=this.filterForm.valueChanges.pipe((0,bs.b)(1e3),(0,Zr.x)(),(0,R.w)(d=>{if(!d.query)return(0,In.of)([]);switch(d.mode){case"login":return this.api.getBillingUsersByLogin(d.query,!0);case"fio":return this.api.getBillingUsersByFio(d.query,!0);case"address":return this.api.getBillingUsersByAddress(d.query,!0)}return(0,In.of)([])})),this.filterModeItems=[{label:"\u041b\u043e\u0433\u0438\u043d",value:"login"},{label:"\u0424\u0418\u041e",value:"fio"},{label:"\u0410\u0434\u0440\u0435\u0441",value:"address"}],this.usersHandler={next:d=>{this.users=d}},this.ips=["10.163.35.26"],this.workPickerControl=new g.NI(null),this.unsub=!0,this.control=new g.NI([{equipment:{clientEquipmentId:2,name:"\u0420\u043e\u0443\u0442\u0435\u0440 5",description:"\u041d\u0435\u043e\u0431\u044b\u0447\u043d\u044b\u0439 \u0440\u043e\u0443\u0442\u0435\u0440",price:2e3,created:"2023-08-16T07:12:42.701+00:00",creator:{login:"admin",department:{departmentId:1,name:"\u0422\u041f",description:null,deleted:!1,created:"2023-05-02T13:35:15.746+00:00"},position:{positionId:1,name:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430\u044f",description:null,access:0,created:"2023-05-02T13:40:51.279+00:00",deleted:!1},avatar:"9599810d-5d86-4aba-b71b-83fa120ace9c.png",secondName:"\u0410\u043d\u0434\u0440\u0435\u0435\u0432\u0438\u0447",firstName:"\u041c\u0430\u043a\u0441\u0438\u043c",lastName:"\u0423\u0448\u0430\u043a\u043e\u0432",internalPhoneNumber:"",access:0,created:"2023-05-01T15:53:59.919+00:00",telegramUserId:"",offsite:!1,deleted:!1,status:"ONLINE",lastSeen:"2023-08-16T13:08:43.102+00:00",fullName:"\u041c\u0430\u043a\u0441\u0438\u043c \u0423\u0448\u0430\u043a\u043e\u0432"},editedBy:[],deleted:!1,lastEdit:null},count:1}]),this.ctrl$=this.control.valueChanges.pipe((0,un.d)(1)),this.value=new Date,this.testControl=new g.NI(null,P.d.taskInput(me._r.ADDRESS,"APARTMENT_ONLY")),this.sessionId=(0,$o.Z)(),this.telnetCon$=this.rt.remoteTelnetConnection("10.100.164.62",this.sessionId).pipe((0,gt.U)(d=>d.data))}telnetSendData(t){"\x7f"!==t?this.api.sendDataToTelnetSession(this.sessionId,t).subscribe():this.api.sendDataToTelnetSession(this.sessionId,"\b").subscribe()}ngOnInit(){for(let t=0;t<1e4;t++)this.generateRandomString();for(const t of this.fields)this.form.addControl(t.id,new g.NI(null));this.filterChange$.subscribe(this.usersHandler)}valueChange(t){}generateRandomString(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let i="";const s=t.length;for(let d=0;d<5;d++)i+=t.charAt(Math.floor(Math.random()*s));this.items.push(i)}loadDocument(){}ngAfterContentInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(J.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:2,vars:3,consts:[["appExtendPageHeight","",1,"flex","flex-column","p-3","w-full","align-items-center","justify-content-center"],[3,"dataSource","cols","rows","keyInput"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"ng-terminal",1),e.NdJ("keyInput",function(d){return i.telnetSendData(d)}),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("dataSource",i.telnetCon$)("cols",80)("rows",24))},dependencies:[U,Ac.Eo],styles:[".hovered[_ngcontent-%COMP%]{background-color:#fff;transition:background-color .2s ease-in-out;cursor:pointer}.hovered[_ngcontent-%COMP%]:hover{background-color:#00f}"]}),n})();var Kc,Pi,fh,ul,ac,_h,Ch,Pl,lc={},vh=[],sa=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ra(n,o){for(var t in o)n[t]=o[t];return n}function Gu(n){var o=n.parentNode;o&&o.removeChild(n)}function cn(n,o,t){var i,s,d,T={};for(d in o)"key"==d?i=o[d]:"ref"==d?s=o[d]:T[d]=o[d];if(arguments.length>2&&(T.children=arguments.length>3?Kc.call(arguments,2):t),"function"==typeof n&&null!=n.defaultProps)for(d in n.defaultProps)void 0===T[d]&&(T[d]=n.defaultProps[d]);return tr(n,T,i,s,null)}function tr(n,o,t,i,s){var d={type:n,props:o,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==s?++fh:s};return null==s&&null!=Pi.vnode&&Pi.vnode(d),d}function jo(n){return n.children}function Wu(n,o,t){"-"===o[0]?n.setProperty(o,null==t?"":t):n[o]=null==t?"":"number"!=typeof t||sa.test(o)?t:t+"px"}function qc(n,o,t,i,s){var d;e:if("style"===o)if("string"==typeof t)n.style.cssText=t;else{if("string"==typeof i&&(n.style.cssText=i=""),i)for(o in i)t&&o in t||Wu(n.style,o,"");if(t)for(o in t)i&&t[o]===i[o]||Wu(n.style,o,t[o])}else if("o"===o[0]&&"n"===o[1])d=o!==(o=o.replace(/Capture$/,"")),o=o.toLowerCase()in n?o.toLowerCase().slice(2):o.slice(2),n.l||(n.l={}),n.l[o+d]=t,t?i||n.addEventListener(o,d?ep:bh,d):n.removeEventListener(o,d?ep:bh,d);else if("dangerouslySetInnerHTML"!==o){if(s)o=o.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==o&&"height"!==o&&"href"!==o&&"list"!==o&&"form"!==o&&"tabIndex"!==o&&"download"!==o&&o in n)try{n[o]=null==t?"":t;break e}catch(T){}"function"==typeof t||(null==t||!1===t&&-1==o.indexOf("-")?n.removeAttribute(o):n.setAttribute(o,t))}}function bh(n){ul=!0;try{return this.l[n.type+!1](Pi.event?Pi.event(n):n)}finally{ul=!1}}function ep(n){ul=!0;try{return this.l[n.type+!0](Pi.event?Pi.event(n):n)}finally{ul=!1}}function da(n,o){this.props=n,this.context=o}function wc(n,o){if(null==o)return n.__?wc(n.__,n.__.__k.indexOf(n)+1):null;for(var t;o<n.__k.length;o++)if(null!=(t=n.__k[o])&&null!=t.__e)return t.__e;return"function"==typeof n.type?wc(n):null}function dl(n){var o,t;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,o=0;o<n.__k.length;o++)if(null!=(t=n.__k[o])&&null!=t.__e){n.__e=n.__c.base=t.__e;break}return dl(n)}}function yh(n){ul?setTimeout(n):Ch(n)}function Ll(n){(!n.__d&&(n.__d=!0)&&ac.push(n)&&!cc.__r++||_h!==Pi.debounceRendering)&&((_h=Pi.debounceRendering)||yh)(cc)}function cc(){var n,o,t,i,s,d,T,W;for(ac.sort(function(Ce,qe){return Ce.__v.__b-qe.__v.__b});n=ac.shift();)n.__d&&(o=ac.length,i=void 0,s=void 0,T=(d=(t=n).__v).__e,(W=t.__P)&&(i=[],(s=ra({},d)).__v=d.__v+1,np(W,d,s,t.__n,void 0!==W.ownerSVGElement,null!=d.__h?[T]:null,i,null==T?wc(d):T,d.__h),ju(i,d),d.__e!=T&&dl(d)),ac.length>o&&ac.sort(function(Ce,qe){return Ce.__v.__b-qe.__v.__b}));cc.__r=0}function pl(n,o,t,i,s,d,T,W,Ce,qe){var Xe,$t,jt,Wt,_n,Pn,Rn,jn=i&&i.__k||vh,Ti=jn.length;for(t.__k=[],Xe=0;Xe<o.length;Xe++)if(null!=(Wt=t.__k[Xe]=null==(Wt=o[Xe])||"boolean"==typeof Wt?null:"string"==typeof Wt||"number"==typeof Wt||"bigint"==typeof Wt?tr(null,Wt,null,null,Wt):Array.isArray(Wt)?tr(jo,{children:Wt},null,null,null):Wt.__b>0?tr(Wt.type,Wt.props,Wt.key,Wt.ref?Wt.ref:null,Wt.__v):Wt)){if(Wt.__=t,Wt.__b=t.__b+1,null===(jt=jn[Xe])||jt&&Wt.key==jt.key&&Wt.type===jt.type)jn[Xe]=void 0;else for($t=0;$t<Ti;$t++){if((jt=jn[$t])&&Wt.key==jt.key&&Wt.type===jt.type){jn[$t]=void 0;break}jt=null}np(n,Wt,jt=jt||lc,s,d,T,W,Ce,qe),_n=Wt.__e,($t=Wt.ref)&&jt.ref!=$t&&(Rn||(Rn=[]),jt.ref&&Rn.push(jt.ref,null,Wt),Rn.push($t,Wt.__c||_n,Wt)),null!=_n?(null==Pn&&(Pn=_n),"function"==typeof Wt.type&&Wt.__k===jt.__k?Wt.__d=Ce=tp(Wt,Ce,n):Ce=Ec(n,Wt,jt,jn,_n,Ce),"function"==typeof t.type&&(t.__d=Ce)):Ce&&jt.__e==Ce&&Ce.parentNode!=n&&(Ce=wc(jt))}for(t.__e=Pn,Xe=Ti;Xe--;)null!=jn[Xe]&&("function"==typeof t.type&&null!=jn[Xe].__e&&jn[Xe].__e==t.__d&&(t.__d=Yu(i).nextSibling),lm(jn[Xe],jn[Xe]));if(Rn)for(Xe=0;Xe<Rn.length;Xe++)Sc(Rn[Xe],Rn[++Xe],Rn[++Xe])}function tp(n,o,t){for(var i,s=n.__k,d=0;s&&d<s.length;d++)(i=s[d])&&(i.__=n,o="function"==typeof i.type?tp(i,o,t):Ec(t,i,i,s,i.__e,o));return o}function hl(n,o){return o=o||[],null==n||"boolean"==typeof n||(Array.isArray(n)?n.some(function(t){hl(t,o)}):o.push(n)),o}function Ec(n,o,t,i,s,d){var T,W,Ce;if(void 0!==o.__d)T=o.__d,o.__d=void 0;else if(null==t||s!=d||null==s.parentNode)e:if(null==d||d.parentNode!==n)n.appendChild(s),T=null;else{for(W=d,Ce=0;(W=W.nextSibling)&&Ce<i.length;Ce+=1)if(W==s)break e;n.insertBefore(s,d),T=d}return void 0!==T?T:s.nextSibling}function Yu(n){var o,t,i;if(null==n.type||"string"==typeof n.type)return n.__e;if(n.__k)for(o=n.__k.length-1;o>=0;o--)if((t=n.__k[o])&&(i=Yu(t)))return i;return null}function np(n,o,t,i,s,d,T,W,Ce){var qe,Xe,$t,jt,Wt,_n,Pn,Rn,jn,Ti,io,Ji,Eo,ps,Ps,ko=o.type;if(void 0!==o.constructor)return null;null!=t.__h&&(Ce=t.__h,W=o.__e=t.__e,o.__h=null,d=[W]),(qe=Pi.__b)&&qe(o);try{e:if("function"==typeof ko){if(Rn=o.props,jn=(qe=ko.contextType)&&i[qe.__c],Ti=qe?jn?jn.props.value:qe.__:i,t.__c?Pn=(Xe=o.__c=t.__c).__=Xe.__E:("prototype"in ko&&ko.prototype.render?o.__c=Xe=new ko(Rn,Ti):(o.__c=Xe=new da(Rn,Ti),Xe.constructor=ko,Xe.render=Rl),jn&&jn.sub(Xe),Xe.props=Rn,Xe.state||(Xe.state={}),Xe.context=Ti,Xe.__n=i,$t=Xe.__d=!0,Xe.__h=[],Xe._sb=[]),null==Xe.__s&&(Xe.__s=Xe.state),null!=ko.getDerivedStateFromProps&&(Xe.__s==Xe.state&&(Xe.__s=ra({},Xe.__s)),ra(Xe.__s,ko.getDerivedStateFromProps(Rn,Xe.__s))),jt=Xe.props,Wt=Xe.state,Xe.__v=o,$t)null==ko.getDerivedStateFromProps&&null!=Xe.componentWillMount&&Xe.componentWillMount(),null!=Xe.componentDidMount&&Xe.__h.push(Xe.componentDidMount);else{if(null==ko.getDerivedStateFromProps&&Rn!==jt&&null!=Xe.componentWillReceiveProps&&Xe.componentWillReceiveProps(Rn,Ti),!Xe.__e&&null!=Xe.shouldComponentUpdate&&!1===Xe.shouldComponentUpdate(Rn,Xe.__s,Ti)||o.__v===t.__v){for(o.__v!==t.__v&&(Xe.props=Rn,Xe.state=Xe.__s,Xe.__d=!1),o.__e=t.__e,o.__k=t.__k,o.__k.forEach(function(Xl){Xl&&(Xl.__=o)}),io=0;io<Xe._sb.length;io++)Xe.__h.push(Xe._sb[io]);Xe._sb=[],Xe.__h.length&&T.push(Xe);break e}null!=Xe.componentWillUpdate&&Xe.componentWillUpdate(Rn,Xe.__s,Ti),null!=Xe.componentDidUpdate&&Xe.__h.push(function(){Xe.componentDidUpdate(jt,Wt,_n)})}if(Xe.context=Ti,Xe.props=Rn,Xe.__P=n,Ji=Pi.__r,Eo=0,"prototype"in ko&&ko.prototype.render){for(Xe.state=Xe.__s,Xe.__d=!1,Ji&&Ji(o),qe=Xe.render(Xe.props,Xe.state,Xe.context),ps=0;ps<Xe._sb.length;ps++)Xe.__h.push(Xe._sb[ps]);Xe._sb=[]}else do{Xe.__d=!1,Ji&&Ji(o),qe=Xe.render(Xe.props,Xe.state,Xe.context),Xe.state=Xe.__s}while(Xe.__d&&++Eo<25);Xe.state=Xe.__s,null!=Xe.getChildContext&&(i=ra(ra({},i),Xe.getChildContext())),$t||null==Xe.getSnapshotBeforeUpdate||(_n=Xe.getSnapshotBeforeUpdate(jt,Wt)),Ps=null!=qe&&qe.type===jo&&null==qe.key?qe.props.children:qe,pl(n,Array.isArray(Ps)?Ps:[Ps],o,t,i,s,d,T,W,Ce),Xe.base=o.__e,o.__h=null,Xe.__h.length&&T.push(Xe),Pn&&(Xe.__E=Xe.__=null),Xe.__e=!1}else null==d&&o.__v===t.__v?(o.__k=t.__k,o.__e=t.__e):o.__e=function $c(n,o,t,i,s,d,T,W){var Ce,qe,Xe,$t=t.props,jt=o.props,Wt=o.type,_n=0;if("svg"===Wt&&(s=!0),null!=d)for(;_n<d.length;_n++)if((Ce=d[_n])&&"setAttribute"in Ce==!!Wt&&(Wt?Ce.localName===Wt:3===Ce.nodeType)){n=Ce,d[_n]=null;break}if(null==n){if(null===Wt)return document.createTextNode(jt);n=s?document.createElementNS("http://www.w3.org/2000/svg",Wt):document.createElement(Wt,jt.is&&jt),d=null,W=!1}if(null===Wt)$t===jt||W&&n.data===jt||(n.data=jt);else{if(d=d&&Kc.call(n.childNodes),qe=($t=t.props||lc).dangerouslySetInnerHTML,Xe=jt.dangerouslySetInnerHTML,!W){if(null!=d)for($t={},_n=0;_n<n.attributes.length;_n++)$t[n.attributes[_n].name]=n.attributes[_n].value;(Xe||qe)&&(Xe&&(qe&&Xe.__html==qe.__html||Xe.__html===n.innerHTML)||(n.innerHTML=Xe&&Xe.__html||""))}if(function am(n,o,t,i,s){var d;for(d in t)"children"===d||"key"===d||d in o||qc(n,d,null,t[d],i);for(d in o)s&&"function"!=typeof o[d]||"children"===d||"key"===d||"value"===d||"checked"===d||t[d]===o[d]||qc(n,d,o[d],t[d],i)}(n,jt,$t,s,W),Xe)o.__k=[];else if(_n=o.props.children,pl(n,Array.isArray(_n)?_n:[_n],o,t,i,s&&"foreignObject"!==Wt,d,T,d?d[0]:t.__k&&wc(t,0),W),null!=d)for(_n=d.length;_n--;)null!=d[_n]&&Gu(d[_n]);W||("value"in jt&&void 0!==(_n=jt.value)&&(_n!==n.value||"progress"===Wt&&!_n||"option"===Wt&&_n!==$t.value)&&qc(n,"value",_n,$t.value,!1),"checked"in jt&&void 0!==(_n=jt.checked)&&_n!==n.checked&&qc(n,"checked",_n,$t.checked,!1))}return n}(t.__e,o,t,i,s,d,T,Ce);(qe=Pi.diffed)&&qe(o)}catch(Xl){o.__v=null,(Ce||null!=d)&&(o.__e=W,o.__h=!!Ce,d[d.indexOf(W)]=null),Pi.__e(Xl,o,t)}}function ju(n,o){Pi.__c&&Pi.__c(o,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(i){i.call(t)})}catch(i){Pi.__e(i,t.__v)}})}function Sc(n,o,t){try{"function"==typeof n?n(o):n.current=o}catch(i){Pi.__e(i,t)}}function lm(n,o,t){var i,s;if(Pi.unmount&&Pi.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||Sc(i,null,o)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(d){Pi.__e(d,o)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(s=0;s<i.length;s++)i[s]&&lm(i[s],o,t||"function"!=typeof n.type);t||null==n.__e||Gu(n.__e),n.__=n.__e=n.__d=void 0}function Rl(n,o,t){return this.constructor(n,t)}function Va(n,o,t){var i,s,d;Pi.__&&Pi.__(n,o),s=(i="function"==typeof t)?null:t&&t.__k||o.__k,d=[],np(o,n=(!i&&t||o).__k=cn(jo,null,[n]),s||lc,lc,void 0!==o.ownerSVGElement,!i&&t?[t]:s?null:o.firstChild?Kc.call(o.childNodes):null,d,!i&&t?t:s?s.__e:o.firstChild,i),ju(d,n)}Kc=vh.slice,Pi={__e:function(n,o,t,i){for(var s,d,T;o=o.__;)if((s=o.__c)&&!s.__)try{if((d=s.constructor)&&null!=d.getDerivedStateFromError&&(s.setState(d.getDerivedStateFromError(n)),T=s.__d),null!=s.componentDidCatch&&(s.componentDidCatch(n,i||{}),T=s.__d),T)return s.__E=s}catch(W){n=W}throw n}},fh=0,ul=!1,da.prototype.setState=function(n,o){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=ra({},this.state),"function"==typeof n&&(n=n(ra({},t),this.props)),n&&ra(t,n),null!=n&&this.__v&&(o&&this._sb.push(o),Ll(this))},da.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Ll(this))},da.prototype.render=jo,ac=[],Ch="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,cc.__r=0,Pl=0;var _s,ip,op,Ih=[],Xc=[],$u=Pi.__b,Xu=Pi.__r,eu=Pi.diffed,Th=Pi.__c,Ah=Pi.unmount;function kh(){for(var n;n=Ih.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(iu),n.__H.__h.forEach(Pc),n.__H.__h=[]}catch(o){n.__H.__h=[],Pi.__e(o,n.__v)}}Pi.__b=function(n){_s=null,$u&&$u(n)},Pi.__r=function(n){Xu&&Xu(n);var o=(_s=n.__c).__H;o&&(ip===_s?(o.__h=[],_s.__h=[],o.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=Xc,t.__N=t.i=void 0})):(o.__h.forEach(iu),o.__h.forEach(Pc),o.__h=[])),ip=_s},Pi.diffed=function(n){eu&&eu(n);var o=n.__c;o&&o.__H&&(o.__H.__h.length&&(1!==Ih.push(o)&&op===Pi.requestAnimationFrame||((op=Pi.requestAnimationFrame)||ed)(kh)),o.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==Xc&&(t.__=t.__V),t.i=void 0,t.__V=Xc})),ip=_s=null},Pi.__c=function(n,o){o.some(function(t){try{t.__h.forEach(iu),t.__h=t.__h.filter(function(i){return!i.__||Pc(i)})}catch(i){o.some(function(s){s.__h&&(s.__h=[])}),o=[],Pi.__e(i,t.__v)}}),Th&&Th(n,o)},Pi.unmount=function(n){Ah&&Ah(n);var o,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{iu(i)}catch(s){o=s}}),t.__H=void 0,o&&Pi.__e(o,t.__v))};var nu="function"==typeof requestAnimationFrame;function ed(n){var o,t=function(){clearTimeout(i),nu&&cancelAnimationFrame(o),setTimeout(n)},i=setTimeout(t,100);nu&&(o=requestAnimationFrame(t))}function iu(n){var o=_s,t=n.__c;"function"==typeof t&&(n.__c=void 0,t()),_s=o}function Pc(n){var o=_s;n.__c=n.__(),_s=o}function rp(n,o){for(var t in n)if("__source"!==t&&!(t in o))return!0;for(var i in o)if("__source"!==i&&n[i]!==o[i])return!0;return!1}function su(n){this.props=n}(su.prototype=new da).isPureReactComponent=!0,su.prototype.shouldComponentUpdate=function(n,o){return rp(this.props,n)||rp(this.state,o)};var id=Pi.__b;Pi.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),id&&id(n)},"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var Dh=Pi.__e;Pi.__e=function(n,o,t,i){if(n.then)for(var s,d=o;d=d.__;)if((s=d.__c)&&s.__c)return null==o.__e&&(o.__e=t.__e,o.__k=t.__k),s.__c(n,o);Dh(n,o,t,i)};var Mh=Pi.unmount;function Oh(n,o,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(i){"function"==typeof i.__c&&i.__c()}),n.__c.__H=null),null!=(n=function Lc(n,o){for(var t in o)n[t]=o[t];return n}({},n)).__c&&(n.__c.__P===t&&(n.__c.__P=o),n.__c=null),n.__k=n.__k&&n.__k.map(function(i){return Oh(i,o,t)})),n}function Ph(n,o,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(i){return Ph(i,o,t)}),n.__c&&n.__c.__P===o&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function Rc(){this.__u=0,this.t=null,this.__b=null}function Lh(n){var o=n.__.__c;return o&&o.__a&&o.__a(n)}function Zl(){this.u=null,this.o=null}Pi.unmount=function(n){var o=n.__c;o&&o.__R&&o.__R(),o&&!0===n.__h&&(n.type=null),Mh&&Mh(n)},(Rc.prototype=new da).__c=function(n,o){var t=o.__c,i=this;null==i.t&&(i.t=[]),i.t.push(t);var s=Lh(i.__v),d=!1,T=function(){d||(d=!0,t.__R=null,s?s(W):W())};t.__R=T;var W=function(){if(!--i.__u){if(i.state.__a){var qe=i.state.__a;i.__v.__k[0]=Ph(qe,qe.__c.__P,qe.__c.__O)}var Xe;for(i.setState({__a:i.__b=null});Xe=i.t.pop();)Xe.forceUpdate()}},Ce=!0===o.__h;i.__u++||Ce||i.setState({__a:i.__b=i.__v.__k[0]}),n.then(T,T)},Rc.prototype.componentWillUnmount=function(){this.t=[]},Rc.prototype.render=function(n,o){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=Oh(this.__b,t,i.__O=i.__P)}this.__b=null}var s=o.__a&&cn(jo,null,n.fallback);return s&&(s.__h=null),[cn(jo,null,o.__a?null:n.children),s]};var rd=function(n,o,t){if(++t[1]===t[0]&&n.o.delete(o),n.props.revealOrder&&("t"!==n.props.revealOrder[0]||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function ad(n){return this.getChildContext=function(){return n.context},n.children}function Rh(n){var o=this,t=n.i;o.componentWillUnmount=function(){Va(null,o.l),o.l=null,o.i=null},o.i&&o.i!==t&&o.componentWillUnmount(),n.__v?(o.l||(o.i=t,o.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(i){this.childNodes.push(i),o.i.appendChild(i)},insertBefore:function(i,s){this.childNodes.push(i),o.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),o.i.removeChild(i)}}),Va(cn(ad,{context:o.context},n.__v),o.l)):o.l&&o.componentWillUnmount()}(Zl.prototype=new da).__a=function(n){var o=this,t=Lh(o.__v),i=o.o.get(n);return i[0]++,function(s){var d=function(){o.props.revealOrder?(i.push(s),rd(o,n,i)):s()};t?t(d):d()}},Zl.prototype.render=function(n){this.u=null,this.o=new Map;var o=hl(n.children);n.revealOrder&&"b"===n.revealOrder[0]&&o.reverse();for(var t=o.length;t--;)this.o.set(o[t],this.u=[1,0,this.u]);return n.children},Zl.prototype.componentDidUpdate=Zl.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(o,t){rd(n,t,o)})};var za="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,hm=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,au="undefined"!=typeof document,Xa=function(n){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};da.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(da.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(o){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:o})}})});var Ja=Pi.event;function Nc(){}function mm(){return this.cancelBubble}function fm(){return this.defaultPrevented}Pi.event=function(n){return Ja&&(n=Ja(n)),n.persist=Nc,n.isPropagationStopped=mm,n.isDefaultPrevented=fm,n.nativeEvent=n};var Nh={configurable:!0,get:function(){return this.class}},Fh=Pi.vnode;Pi.vnode=function(n){var o=n.type,t=n.props,i=t;if("string"==typeof o){var s=-1===o.indexOf("-");for(var d in i={},t){var T=t[d];au&&"children"===d&&"noscript"===o||"value"===d&&"defaultValue"in t&&null==T||("defaultValue"===d&&"value"in t&&null==t.value?d="value":"download"===d&&!0===T?T="":/ondoubleclick/i.test(d)?d="ondblclick":/^onchange(textarea|input)/i.test(d+o)&&!Xa(t.type)?d="oninput":/^onfocus$/i.test(d)?d="onfocusin":/^onblur$/i.test(d)?d="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(d)?d=d.toLowerCase():s&&hm.test(d)?d=d.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===T&&(T=void 0),/^oninput$/i.test(d)&&(d=d.toLowerCase(),i[d]&&(d="oninputCapture")),i[d]=T)}"select"==o&&i.multiple&&Array.isArray(i.value)&&(i.value=hl(t.children).forEach(function(W){W.props.selected=-1!=i.value.indexOf(W.props.value)})),"select"==o&&null!=i.defaultValue&&(i.value=hl(t.children).forEach(function(W){W.props.selected=i.multiple?-1!=i.defaultValue.indexOf(W.props.value):i.defaultValue==W.props.value})),n.props=i,t.class!=t.className&&(Nh.enumerable="className"in t,null!=t.className&&(i.class=t.className),Object.defineProperty(i,"className",Nh))}n.$$typeof=za,Fh&&Fh(n)};var up=Pi.__r;Pi.__r=function(n){up&&up(n)};const ld=[],cd=new Map,dc=" fullcalendar styles ";function el(n){ld.push(n),cd.forEach(o=>{fp(n,o)})}function mp(n,o=n,t=o.firstChild){if(!cd.has(n)){const i=document.createComment(dc),s=document.createComment(` END${dc}`);o.insertBefore(s,t),o.insertBefore(i,s),cd.set(n,s),function bm(n){for(const o of ld)fp(o,n)}(s)}}function fp(n,o){const t=document.createElement("style"),i=function ud(){return void 0===Ul&&(Ul=function _p(){const n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");const o=document.querySelector("script[nonce]");return o&&o.nonce||""}()),Ul}();i&&(t.nonce=i),t.innerText=n,o.parentNode.insertBefore(t,o)}let Ul;function Os(n){n.parentNode&&n.parentNode.removeChild(n)}function zr(n,o){if(n.closest)return n.closest(o);if(!document.documentElement.contains(n))return null;do{if(Jh(n,o))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null}function Jh(n,o){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,o)}"undefined"!=typeof document&&mp(document,document.head,document.head.querySelector("script,link,style")),el(':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{border-style:none;padding:0}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}');const xm=/(top|left|right|bottom|width|height)$/i;function uu(n,o){for(let t in o)Qh(n,t,o[t])}function Qh(n,o,t){n.style[o]=null==t?"":"number"==typeof t&&xm.test(o)?`${t}px`:t}function Gh(n){var o,t;return null!==(t=null===(o=n.composedPath)||void 0===o?void 0:o.call(n)[0])&&void 0!==t?t:n.target}let Wh=0;function Hl(){return Wh+=1,"fc-dom-"+Wh}function vp(n){n.preventDefault()}function Vl(n,o,t,i){let s=function du(n,o){return t=>{let i=zr(t.target,n);i&&o.call(i,t,i)}}(t,i);return n.addEventListener(o,s),()=>{n.removeEventListener(o,s)}}const Kr=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function yp(n){return Object.assign({onClick:n},dd(n))}function dd(n){return{tabIndex:0,onKeyDown(o){("Enter"===o.key||" "===o.key)&&(n(o),o.preventDefault())}}}let xp=0;function ml(){return xp+=1,String(xp)}function Ip(){document.body.classList.add("fc-not-allowed")}function Tp(){document.body.classList.remove("fc-not-allowed")}function hd(n,o,t){return t.func?t.func(n,o):function Tm(n,o){return n||o?null==o?-1:null==n?1:"string"==typeof n||"string"==typeof o?String(n).localeCompare(String(o)):n-o:0}(n[t.field],o[t.field])*(t.order||1)}function zl(n,o){let t=String(n);return"000".substr(0,o-t.length)+t}function m(n,o,t){return"function"==typeof n?n(...o):"string"==typeof n?o.reduce((i,s,d)=>i.replace("$"+d,s||""),n):t}function u(n,o){return n-o}function h(n){return n%1==0}function C(n){let o=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!o)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-o.getBoundingClientRect().width+t.getBoundingClientRect().width}const I=["years","months","days","milliseconds"],M=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function H(n,o){return"string"==typeof n?function ee(n){let o=M.exec(n);if(o){let t=o[1]?-1:1;return{years:0,months:0,days:t*(o[2]?parseInt(o[2],10):0),milliseconds:t*(60*(o[3]?parseInt(o[3],10):0)*60*1e3+60*(o[4]?parseInt(o[4],10):0)*1e3+1e3*(o[5]?parseInt(o[5],10):0)+(o[6]?parseInt(o[6],10):0))}}return null}(n):"object"==typeof n&&n?ge(n):"number"==typeof n?ge({[o||"milliseconds"]:n}):null}function ge(n){let o={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:60*(n.hours||n.hour||0)*60*1e3+60*(n.minutes||n.minute||0)*1e3+1e3*(n.seconds||n.second||0)+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(o.days+=7*t,o.specifiedWeeks=!0),o}function Tt(n,o){return{years:n.years+o.years,months:n.months+o.months,days:n.days+o.days,milliseconds:n.milliseconds+o.milliseconds}}function xn(n){return Yn(n)/864e5}function Yn(n){return 31536e6*n.years+2592e6*n.months+864e5*n.days+n.milliseconds}function ei(n,o){let t=null;for(let i=0;i<I.length;i+=1){let s=I[i];if(o[s]){let d=n[s]/o[s];if(!h(d)||null!==t&&t!==d)return null;t=d}else if(n[s])return null}return t}function Gn(n){let o=n.milliseconds;if(o){if(o%1e3!=0)return{unit:"millisecond",value:o};if(o%6e4!=0)return{unit:"second",value:o/1e3};if(o%36e5!=0)return{unit:"minute",value:o/6e4};if(o)return{unit:"hour",value:o/36e5}}return n.days?n.specifiedWeeks&&n.days%7==0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}const{hasOwnProperty:li}=Object.prototype;function fi(n,o){let t={};if(o)for(let i in o)if(o[i]===Jl){let s=[];for(let d=n.length-1;d>=0;d-=1){let T=n[d][i];if("object"==typeof T&&T)s.unshift(T);else if(void 0!==T){t[i]=T;break}}s.length&&(t[i]=fi(s))}for(let i=n.length-1;i>=0;i-=1){let s=n[i];for(let d in s)d in t||(t[d]=s[d])}return t}function gi(n,o){let t={};for(let i in n)o(n[i],i)&&(t[i]=n[i]);return t}function Si(n,o){let t={};for(let i in n)t[i]=o(n[i],i);return t}function po(n){let o={};for(let t of n)o[t]=!0;return o}function lo(n){let o=[];for(let t in n)o.push(n[t]);return o}function ro(n,o){if(n===o)return!0;for(let t in n)if(li.call(n,t)&&!(t in o))return!1;for(let t in o)if(li.call(o,t)&&n[t]!==o[t])return!1;return!0}const Tr=/^on[A-Z]/;function Bo(n,o){let t=[];for(let i in n)li.call(n,i)&&(i in o||t.push(i));for(let i in o)li.call(o,i)&&n[i]!==o[i]&&t.push(i);return t}function ns(n,o,t={}){if(n===o)return!0;for(let i in o)if(!(i in n)||!qs(n[i],o[i],t[i]))return!1;for(let i in n)if(!(i in o))return!1;return!0}function qs(n,o,t){return n===o||!0===t||!!t&&t(n,o)}function aa(n,o,t){if(n===o)return!0;let s,i=n.length;if(i!==o.length)return!1;for(s=0;s<i;s+=1)if(!(t?t(n[s],o[s]):n[s]===o[s]))return!1;return!0}const gu=["sun","mon","tue","wed","thu","fri","sat"];function pc(n,o){let t=qr(n);return t[2]+=7*o,Pa(t)}function Qs(n,o){let t=qr(n);return t[2]+=o,Pa(t)}function ya(n,o){let t=qr(n);return t[6]+=o,Pa(t)}function Oa(n,o){return(o.valueOf()-n.valueOf())/864e5}function Am(n,o){return Zc(n)===Zc(o)?Math.round(Oa(n,o)):null}function ds(n){return Pa([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function wm(n,o,t,i){let s=Pa([o,0,1+a0(o,t,i)]),d=ds(n),T=Math.round(Oa(s,d));return Math.floor(T/7)+1}function a0(n,o,t){let i=7+o-t;return-(7+Pa([n,0,i]).getUTCDay()-o)%7+i-1}function l0(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function c0(n){return new Date(n[0],n[1]||0,null==n[2]?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function qr(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function Pa(n){return 1===n.length&&(n=n.concat([0])),new Date(Date.UTC(...n))}function Em(n){return!isNaN(n.valueOf())}function Zc(n){return 1e3*n.getUTCHours()*60*60+1e3*n.getUTCMinutes()*60+1e3*n.getUTCSeconds()+n.getUTCMilliseconds()}function u0(n,o,t=!1){let i=n.toISOString();return i=i.replace(".000",""),t&&(i=i.replace("T00:00:00Z","")),i.length>10&&(null==o?i=i.replace("Z",""):0!==o&&(i=i.replace("Z",Sm(o,!0)))),i}function wp(n){return n.toISOString().replace(/T.*$/,"")}function d0(n){return zl(n.getUTCHours(),2)+":"+zl(n.getUTCMinutes(),2)+":"+zl(n.getUTCSeconds(),2)}function Sm(n,o=!1){let t=n<0?"-":"+",i=Math.abs(n),s=Math.floor(i/60),d=Math.round(i%60);return o?`${t+zl(s,2)}:${zl(d,2)}`:`GMT${t}${s}${d?`:${zl(d,2)}`:""}`}function Vi(n,o,t){let i,s;return function(...d){if(i){if(!aa(i,d)){t&&t(s);let T=n.apply(this,d);(!o||!o(T,s))&&(s=T)}}else s=n.apply(this,d);return i=d,s}}function Yh(n,o,t){let i,s;return d=>{if(i){if(!ro(i,d)){t&&t(s);let T=n.call(this,d);(!o||!o(T,s))&&(s=T)}}else s=n.call(this,d);return i=d,s}}const km={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Ep={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},jh=/\s*([ap])\.?m\.?/i,gb=/,/g,p0=/\s+/g,mb=/\u200e/g,h0=/UTC|GMT/;class fb{constructor(o){let t={},i={},s=0;for(let d in o)d in km?(i[d]=o[d],s=Math.max(km[d],s)):(t[d]=o[d],d in Ep&&(s=Math.max(Ep[d],s)));this.standardDateProps=t,this.extendedSettings=i,this.severity=s,this.buildFormattingFunc=Vi(g0)}format(o,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(o)}formatRange(o,t,i,s){let{standardDateProps:d,extendedSettings:T}=this,W=function Dm(n,o,t){return t.getMarkerYear(n)!==t.getMarkerYear(o)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(o)?4:t.getMarkerDay(n)!==t.getMarkerDay(o)?2:Zc(n)!==Zc(o)?1:0}(o.marker,t.marker,i.calendarSystem);if(!W)return this.format(o,i);let Ce=W;Ce>1&&("numeric"===d.year||"2-digit"===d.year)&&("numeric"===d.month||"2-digit"===d.month)&&("numeric"===d.day||"2-digit"===d.day)&&(Ce=1);let qe=this.format(o,i),Xe=this.format(t,i);if(qe===Xe)return qe;let $t=function Mm(n,o){let t={};for(let i in n)(!(i in Ep)||Ep[i]<=o)&&(t[i]=n[i]);return t}(d,Ce),jt=g0($t,T,i),Wt=jt(o),_n=jt(t),Pn=function Cb(n,o,t,i){let s=0;for(;s<n.length;){let d=n.indexOf(o,s);if(-1===d)break;let T=n.substr(0,d);s=d+o.length;let W=n.substr(s),Ce=0;for(;Ce<t.length;){let qe=t.indexOf(i,Ce);if(-1===qe)break;let Xe=t.substr(0,qe);Ce=qe+i.length;let $t=t.substr(Ce);if(T===Xe&&W===$t)return{before:T,after:W}}}return null}(qe,Wt,Xe,_n),Rn=T.separator||s||i.defaultSeparator||"";return Pn?Pn.before+Wt+Rn+_n+Pn.after:qe+Rn+Xe}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function g0(n,o,t){let i=Object.keys(n).length;return 1===i&&"short"===n.timeZoneName?s=>Sm(s.timeZoneOffset):0===i&&o.week?s=>function _b(n,o,t,i,s){let d=[];return"long"===s?d.push(t):("short"===s||"narrow"===s)&&d.push(o),("long"===s||"short"===s)&&d.push(" "),d.push(i.simpleNumberFormat.format(n)),"rtl"===i.options.direction&&d.reverse(),d.join("")}(t.computeWeekNumber(s.marker),t.weekText,t.weekTextLong,t.locale,o.week):function pI(n,o,t){n=Object.assign({},n),o=Object.assign({},o),function m0(n,o){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),"long"===n.timeZoneName&&(n.timeZoneName="short"),o.omitZeroMinute&&(n.second||n.millisecond)&&delete o.omitZeroMinute}(n,o),n.timeZone="UTC";let s,i=new Intl.DateTimeFormat(t.locale.codes,n);if(o.omitZeroMinute){let d=Object.assign({},n);delete d.minute,s=new Intl.DateTimeFormat(t.locale.codes,d)}return d=>{let W,{marker:T}=d;return W=s&&!T.getUTCMinutes()?s:i,function f0(n,o,t,i,s){return n=n.replace(mb,""),"short"===t.timeZoneName&&(n=function mu(n,o){let t=!1;return n=n.replace(h0,()=>(t=!0,o)),t||(n+=` ${o}`),n}(n,"UTC"===s.timeZone||null==o.timeZoneOffset?"UTC":Sm(o.timeZoneOffset))),i.omitCommas&&(n=n.replace(gb,"").trim()),i.omitZeroMinute&&(n=n.replace(":00","")),!1===i.meridiem?n=n.replace(jh,"").trim():"narrow"===i.meridiem?n=n.replace(jh,(d,T)=>T.toLocaleLowerCase()):"short"===i.meridiem?n=n.replace(jh,(d,T)=>`${T.toLocaleLowerCase()}m`):"lowercase"===i.meridiem&&(n=n.replace(jh,d=>d.toLocaleLowerCase())),(n=n.replace(p0," ")).trim()}(W.format(T),d,n,o,t)}}(n,o,t)}function vb(n,o){let t=o.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function Om(n,o,t,i){let s=vb(n,t.calendarSystem);return{date:s,start:s,end:o?vb(o,t.calendarSystem):null,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:i||t.defaultSeparator}}class hI{constructor(o){this.cmdStr=o}format(o,t,i){return t.cmdFormatter(this.cmdStr,Om(o,null,t,i))}formatRange(o,t,i,s){return i.cmdFormatter(this.cmdStr,Om(o,t,i,s))}}class bb{constructor(o){this.func=o}format(o,t,i){return this.func(Om(o,null,t,i))}formatRange(o,t,i,s){return this.func(Om(o,t,i,s))}}function ys(n){return"object"==typeof n&&n?new fb(n):"string"==typeof n?new hI(n):"function"==typeof n?new bb(n):null}const yb={navLinkDayClick:Zn,navLinkWeekClick:Zn,duration:H,bootstrapFontAwesome:Zn,buttonIcons:Zn,customButtons:Zn,defaultAllDayEventDuration:H,defaultTimedEventDuration:H,nextDayThreshold:H,scrollTime:H,scrollTimeReset:Boolean,slotMinTime:H,slotMaxTime:H,dayPopoverFormat:ys,slotDuration:H,snapDuration:H,headerToolbar:Zn,footerToolbar:Zn,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:ys,dayHeaderClassNames:Zn,dayHeaderContent:Zn,dayHeaderDidMount:Zn,dayHeaderWillUnmount:Zn,dayCellClassNames:Zn,dayCellContent:Zn,dayCellDidMount:Zn,dayCellWillUnmount:Zn,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Zn,weekNumbers:Boolean,weekNumberClassNames:Zn,weekNumberContent:Zn,weekNumberDidMount:Zn,weekNumberWillUnmount:Zn,editable:Boolean,viewClassNames:Zn,viewDidMount:Zn,viewWillUnmount:Zn,nowIndicator:Boolean,nowIndicatorClassNames:Zn,nowIndicatorContent:Zn,nowIndicatorDidMount:Zn,nowIndicatorWillUnmount:Zn,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Zn,locale:Zn,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Zn,eventOrder:function Im(n){let i,s,o=[],t=[];for("string"==typeof n?t=n.split(/\s*,\s*/):"function"==typeof n?t=[n]:Array.isArray(n)&&(t=n),i=0;i<t.length;i+=1)s=t[i],"string"==typeof s?o.push("-"===s.charAt(0)?{field:s.substring(1),order:-1}:{field:s,order:1}):"function"==typeof s&&o.push({func:s});return o},eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Zn,contentHeight:Zn,direction:String,weekNumberFormat:ys,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Zn,initialDate:Zn,now:Zn,eventDataTransform:Zn,stickyHeaderDates:Zn,stickyFooterScrollbar:Zn,viewHeight:Zn,defaultAllDay:Boolean,eventSourceFailure:Zn,eventSourceSuccess:Zn,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Zn,eventConstraint:Zn,eventAllow:Zn,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Zn,eventContent:Zn,eventDidMount:Zn,eventWillUnmount:Zn,selectConstraint:Zn,selectOverlap:Zn,selectAllow:Zn,droppable:Boolean,unselectCancel:String,slotLabelFormat:Zn,slotLaneClassNames:Zn,slotLaneContent:Zn,slotLaneDidMount:Zn,slotLaneWillUnmount:Zn,slotLabelClassNames:Zn,slotLabelContent:Zn,slotLabelDidMount:Zn,slotLabelWillUnmount:Zn,dayMaxEvents:Zn,dayMaxEventRows:Zn,dayMinWidth:Number,slotLabelInterval:H,allDayText:String,allDayClassNames:Zn,allDayContent:Zn,allDayDidMount:Zn,allDayWillUnmount:Zn,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:ys,rerenderDelay:Number,moreLinkText:Zn,moreLinkHint:Zn,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Zn,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:H,hiddenDays:Zn,fixedWeekCount:Boolean,validRange:Zn,visibleRange:Zn,titleFormat:Zn,eventInteractive:Boolean,noEventsText:String,viewHint:Zn,navLinkHint:Zn,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Zn,moreLinkClassNames:Zn,moreLinkContent:Zn,moreLinkDidMount:Zn,moreLinkWillUnmount:Zn,monthStartFormat:ys,handleCustomRendering:Zn,customRenderingMetaMap:Zn,customRenderingReplacesEl:Boolean},Sp={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},fu={datesSet:Zn,eventsSet:Zn,eventAdd:Zn,eventChange:Zn,eventRemove:Zn,windowResize:Zn,eventClick:Zn,eventMouseEnter:Zn,eventMouseLeave:Zn,select:Zn,unselect:Zn,loading:Zn,_unmount:Zn,_beforeprint:Zn,_afterprint:Zn,_noEventDrop:Zn,_noEventResize:Zn,_resize:Zn,_scrollRequest:Zn},_0={buttonText:Zn,buttonHints:Zn,views:Zn,plugins:Zn,initialEvents:Zn,events:Zn,eventSources:Zn},Uc={headerToolbar:Jl,footerToolbar:Jl,buttonText:Jl,buttonHints:Jl,buttonIcons:Jl,dateIncrement:Jl,plugins:Kh,events:Kh,eventSources:Kh,resources:Kh};function Jl(n,o){return"object"==typeof n&&"object"==typeof o&&n&&o?ro(n,o):n===o}function Kh(n,o){return Array.isArray(n)&&Array.isArray(o)?aa(n,o):n===o}const C0={type:String,component:Zn,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Zn,usesMinMaxTime:Boolean,classNames:Zn,content:Zn,didMount:Zn,willUnmount:Zn};function Pm(n){return fi(n,Uc)}function qh(n,o){let t={},i={};for(let s in o)s in n&&(t[s]=o[s](n[s]));for(let s in n)s in o||(i[s]=n[s]);return{refined:t,extra:i}}function Zn(n){return n}function Lm(n,o,t,i){return{instanceId:ml(),defId:n,range:o,forcedStartTzo:null==t?null:t,forcedEndTzo:null==i?null:i}}function Hc(n,o,t){let{dateEnv:i,pluginHooks:s,options:d}=t,{defs:T,instances:W}=n;W=gi(W,Ce=>!T[Ce.defId].recurringDef);for(let Ce in T){let qe=T[Ce];if(qe.recurringDef){let{duration:Xe}=qe.recurringDef;Xe||(Xe=qe.allDay?d.defaultAllDayEventDuration:d.defaultTimedEventDuration);let $t=Ib(qe,Xe,o,i,s.recurringTypes);for(let jt of $t){let Wt=Lm(Ce,{start:jt,end:i.add(jt,Xe)});W[Wt.instanceId]=Wt}}}return{defs:T,instances:W}}function Ib(n,o,t,i,s){let T=s[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:i.subtract(t.start,o),end:t.end},i);return n.allDay&&(T=T.map(ds)),T}function md(n,o,t,i,s,d){let T={defs:{},instances:{}},W=tg(t);for(let Ce of n){let qe=eg(Ce,o,t,i,W,s,d);qe&&$h(qe,T)}return T}function $h(n,o={defs:{},instances:{}}){return o.defs[n.def.defId]=n.def,n.instance&&(o.instances[n.instance.instanceId]=n.instance),o}function kp(n,o){let t=n.instances[o];if(t){let i=n.defs[t.defId],s=Nm(n,d=>function gI(n,o){return Boolean(n.groupId&&n.groupId===o.groupId)}(i,d));return s.defs[i.defId]=i,s.instances[t.instanceId]=t,s}return{defs:{},instances:{}}}function Rm(n,o){return{defs:Object.assign(Object.assign({},n.defs),o.defs),instances:Object.assign(Object.assign({},n.instances),o.instances)}}function Nm(n,o){let t=gi(n.defs,o),i=gi(n.instances,s=>t[s.defId]);return{defs:t,instances:i}}function Fm(n){return Array.isArray(n)?n:"string"==typeof n?n.split(/\s+/):[]}const _u={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Zn,overlap:Zn,allow:Zn,className:Fm,classNames:Fm,color:String,backgroundColor:String,borderColor:String,textColor:String},_l={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Dp(n,o){let t=function v0(n,o){return Array.isArray(n)?md(n,null,o,!0):"object"==typeof n&&n?md([n],null,o,!0):null!=n?String(n):null}(n.constraint,o);return{display:n.display||null,startEditable:null!=n.startEditable?n.startEditable:n.editable,durationEditable:null!=n.durationEditable?n.durationEditable:n.editable,constraints:null!=t?[t]:[],overlap:null!=n.overlap?n.overlap:null,allows:null!=n.allow?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function b0(n){return n.reduce(Bm,_l)}function Bm(n,o){return{display:null!=o.display?o.display:n.display,startEditable:null!=o.startEditable?o.startEditable:n.startEditable,durationEditable:null!=o.durationEditable?o.durationEditable:n.durationEditable,constraints:n.constraints.concat(o.constraints),overlap:"boolean"==typeof o.overlap?o.overlap:n.overlap,allows:n.allows.concat(o.allows),backgroundColor:o.backgroundColor||n.backgroundColor,borderColor:o.borderColor||n.borderColor,textColor:o.textColor||n.textColor,classNames:n.classNames.concat(o.classNames)}}const tl={id:String,groupId:String,title:String,url:String,interactive:Boolean},Xh={start:Zn,end:Zn,date:Zn,allDay:Boolean},y0=Object.assign(Object.assign(Object.assign({},tl),Xh),{extendedProps:Zn});function eg(n,o,t,i,s=tg(t),d,T){let{refined:W,extra:Ce}=Tb(n,t,s),qe=function ig(n,o){let t=null;return n&&(t=n.defaultAllDay),null==t&&(t=o.options.defaultAllDay),t}(o,t),Xe=function xb(n,o,t,i){for(let s=0;s<i.length;s+=1){let d=i[s].parse(n,t);if(d){let{allDay:T}=n;return null==T&&(T=o,null==T&&(T=d.allDayGuess,null==T&&(T=!1))),{allDay:T,duration:d.duration,typeData:d.typeData,typeId:s}}}return null}(W,qe,t.dateEnv,t.pluginHooks.recurringTypes);if(Xe){let jt=x0(W,Ce,o?o.sourceId:"",Xe.allDay,Boolean(Xe.duration),t,d);return jt.recurringDef={typeId:Xe.typeId,typeData:Xe.typeData,duration:Xe.duration},{def:jt,instance:null}}let $t=function ng(n,o,t,i){let d,Ce,{allDay:s}=n,T=null,W=!1,qe=null;if(d=t.dateEnv.createMarkerMeta(null!=n.start?n.start:n.date),d)T=d.marker;else if(!i)return null;return null!=n.end&&(Ce=t.dateEnv.createMarkerMeta(n.end)),null==s&&(s=null!=o?o:(!d||d.isTimeUnspecified)&&(!Ce||Ce.isTimeUnspecified)),s&&T&&(T=ds(T)),Ce&&(qe=Ce.marker,s&&(qe=ds(qe)),T&&qe<=T&&(qe=null)),qe?W=!0:i||(W=t.options.forceEventDuration||!1,qe=t.dateEnv.add(T,s?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:s,hasEnd:W,range:{start:T,end:qe},forcedStartTzo:d?d.forcedTzo:null,forcedEndTzo:Ce?Ce.forcedTzo:null}}(W,qe,t,i);if($t){let jt=x0(W,Ce,o?o.sourceId:"",$t.allDay,$t.hasEnd,t,d),Wt=Lm(jt.defId,$t.range,$t.forcedStartTzo,$t.forcedEndTzo);return T&&jt.publicId&&T[jt.publicId]&&(Wt.instanceId=T[jt.publicId]),{def:jt,instance:Wt}}return null}function Tb(n,o,t=tg(o)){return qh(n,t)}function tg(n){return Object.assign(Object.assign(Object.assign({},_u),y0),n.pluginHooks.eventRefiners)}function x0(n,o,t,i,s,d,T){let W={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(T&&n.id?T[n.id]:"")||ml(),sourceId:t,allDay:i,hasEnd:s,interactive:n.interactive,ui:Dp(n,d),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),o)};for(let Ce of d.pluginHooks.eventDefMemberAdders)Object.assign(W,Ce(n));return Object.freeze(W.ui.classNames),Object.freeze(W.extendedProps),W}const Zm={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Ab(n){let o=Math.floor(Oa(n.start,n.end))||1,t=ds(n.start);return{start:t,end:Qs(t,o)}}function Vm(n,o=H(0)){let t=null,i=null;if(n.end){i=ds(n.end);let s=n.end.valueOf()-i.valueOf();s&&s>=Yn(o)&&(i=Qs(i,1))}return n.start&&(t=ds(n.start),i&&i<=t&&(i=Qs(t,1))),{start:t,end:i}}function _d(n,o,t,i){return"year"===i?H(t.diffWholeYears(n,o),"year"):"month"===i?H(t.diffWholeMonths(n,o),"month"):function db(n,o){let t=ds(n),i=ds(o);return{years:0,months:0,days:Math.round(Oa(t,i)),milliseconds:o.valueOf()-i.valueOf()-(n.valueOf()-t.valueOf())}}(n,o)}function Eb(n,o){return n.left>=o.left&&n.left<o.right&&n.top>=o.top&&n.top<o.bottom}function zm(n,o){let t={left:Math.max(n.left,o.left),right:Math.min(n.right,o.right),top:Math.max(n.top,o.top),bottom:Math.min(n.bottom,o.bottom)};return t.left<t.right&&t.top<t.bottom&&t}let og;function T0(){return null==og&&(og=function Jm(){if("undefined"==typeof document)return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}()),og}const A0={defs:{},instances:{}};function _I(n,o,t){let i=[];n&&i.push(n),o&&i.push(o);let s={"":b0(i)};return t&&Object.assign(s,t),s}function kb(n,o){let s,d,t=[],{start:i}=o;for(n.sort(vI),s=0;s<n.length;s+=1)d=n[s],d.start>i&&t.push({start:i,end:d.start}),d.end>i&&(i=d.end);return i<o.end&&t.push({start:i,end:o.end}),t}function vI(n,o){return n.start.valueOf()-o.start.valueOf()}function Cu(n,o){let{start:t,end:i}=n,s=null;return null!==o.start&&(t=null===t?o.start:new Date(Math.max(t.valueOf(),o.start.valueOf()))),null!=o.end&&(i=null===i?o.end:new Date(Math.min(i.valueOf(),o.end.valueOf()))),(null===t||null===i||t<i)&&(s={start:t,end:i}),s}function w0(n,o){return(null===n.end||null===o.start||n.end>o.start)&&(null===n.start||null===o.end||n.start<o.end)}function Qm(n,o){return(null===n.start||null!==o.start&&o.start>=n.start)&&(null===n.end||null!==o.end&&o.end<=n.end)}function pa(n,o){return(null===n.start||o>=n.start)&&(null===n.end||o<n.end)}function Wm(n,o,t,i){return{dow:n.getUTCDay(),isDisabled:Boolean(i&&!pa(i.activeRange,n)),isOther:Boolean(i&&!pa(i.currentRange,n)),isToday:Boolean(o&&pa(o,n)),isPast:Boolean(t?n<t:!!o&&n<o.start),isFuture:Boolean(t?n>t:!!o&&n>=o.end)}}function Mp(n,o){let t=["fc-day",`fc-day-${gu[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(o.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}const S0=ys({year:"numeric",month:"long",day:"numeric"}),Ym=ys({week:"long"});function Cd(n,o,t="day",i=!0){const{dateEnv:s,options:d,calendarApi:T}=n;let W=s.format(o,"week"===t?Ym:S0);if(d.navLinks){let Ce=s.toDate(o);const qe=Xe=>{let $t="day"===t?d.navLinkDayClick:"week"===t?d.navLinkWeekClick:null;"function"==typeof $t?$t.call(T,s.toDate(o),Xe):("string"==typeof $t&&(t=$t),T.zoomTo(o,t))};return Object.assign({title:m(d.navLinkHint,[W,Ce],W),"data-navlink":""},i?yp(qe):{onClick:qe})}return{"aria-label":W}}let jm,Ql=null;function M0(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function vd(n,o=!1,t){let i=t?n.getBoundingClientRect():Op(n),s=function sg(n,o=!1){let t=window.getComputedStyle(n),i=parseInt(t.borderLeftWidth,10)||0,s=parseInt(t.borderRightWidth,10)||0,d=parseInt(t.borderTopWidth,10)||0,T=parseInt(t.borderBottomWidth,10)||0,W=M0(n),Ce=W.y-i-s,Xe={borderLeft:i,borderRight:s,borderTop:d,borderBottom:T,scrollbarBottom:W.x-d-T,scrollbarLeft:0,scrollbarRight:0};return function k0(){return null===Ql&&(Ql=function Db(){let n=document.createElement("div");uu(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return Os(n),t}()),Ql}()&&"rtl"===t.direction?Xe.scrollbarLeft=Ce:Xe.scrollbarRight=Ce,o&&(Xe.paddingLeft=parseInt(t.paddingLeft,10)||0,Xe.paddingRight=parseInt(t.paddingRight,10)||0,Xe.paddingTop=parseInt(t.paddingTop,10)||0,Xe.paddingBottom=parseInt(t.paddingBottom,10)||0),Xe}(n,o),d={left:i.left+s.borderLeft+s.scrollbarLeft,right:i.right-s.borderRight-s.scrollbarRight,top:i.top+s.borderTop,bottom:i.bottom-s.borderBottom-s.scrollbarBottom};return o&&(d.left+=s.paddingLeft,d.right-=s.paddingRight,d.top+=s.paddingTop,d.bottom-=s.paddingBottom),d}function Op(n){let o=n.getBoundingClientRect();return{left:o.left+window.pageXOffset,top:o.top+window.pageYOffset,right:o.right+window.pageXOffset,bottom:o.bottom+window.pageYOffset}}function rg(n){let o=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if("fixed"===t.position)break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&o.push(n),n=n.parentNode}return o}class Pp{constructor(){this.handlers={},this.thisContext=null}setThisContext(o){this.thisContext=o}setOptions(o){this.options=o}on(o,t){!function O0(n,o,t){(n[o]||(n[o]=[])).push(t)}(this.handlers,o,t)}off(o,t){!function Km(n,o,t){t?n[o]&&(n[o]=n[o].filter(i=>i!==t)):delete n[o]}(this.handlers,o,t)}trigger(o,...t){let d=[].concat(this.options&&this.options[o]||[],this.handlers[o]||[]);for(let T of d)T.apply(this.thisContext,t)}hasHandlers(o){return Boolean(this.handlers[o]&&this.handlers[o].length||this.options&&this.options[o])}}class Vc{constructor(o,t,i,s){this.els=t;let d=this.originClientRect=o.getBoundingClientRect();i&&this.buildElHorizontals(d.left),s&&this.buildElVerticals(d.top)}buildElHorizontals(o){let t=[],i=[];for(let s of this.els){let d=s.getBoundingClientRect();t.push(d.left-o),i.push(d.right-o)}this.lefts=t,this.rights=i}buildElVerticals(o){let t=[],i=[];for(let s of this.els){let d=s.getBoundingClientRect();t.push(d.top-o),i.push(d.bottom-o)}this.tops=t,this.bottoms=i}leftToIndex(o){let d,{lefts:t,rights:i}=this,s=t.length;for(d=0;d<s;d+=1)if(o>=t[d]&&o<i[d])return d}topToIndex(o){let d,{tops:t,bottoms:i}=this,s=t.length;for(d=0;d<s;d+=1)if(o>=t[d]&&o<i[d])return d}getWidth(o){return this.rights[o]-this.lefts[o]}getHeight(o){return this.bottoms[o]-this.tops[o]}similarTo(o){return Lp(this.tops||[],o.tops||[])&&Lp(this.bottoms||[],o.bottoms||[])&&Lp(this.lefts||[],o.lefts||[])&&Lp(this.rights||[],o.rights||[])}}function Lp(n,o){const t=n.length;if(t!==o.length)return!1;for(let i=0;i<t;i++)if(Math.round(n[i])!==Math.round(o[i]))return!1;return!0}class Rp{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class Ob extends Rp{constructor(o){super(),this.el=o}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(o){this.el.scrollTop=o}setScrollLeft(o){this.el.scrollLeft=o}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class yI extends Rp{getScrollTop(){return window.pageYOffset}getScrollLeft(){return window.pageXOffset}setScrollTop(o){window.scroll(window.pageXOffset,o)}setScrollLeft(o){window.scroll(o,window.pageYOffset)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Np{constructor(o){this.iconOverrideOption&&this.setIconOverride(o[this.iconOverrideOption])}setIconOverride(o){let t,i;if("object"==typeof o&&o){for(i in t=Object.assign({},this.iconClasses),o)t[i]=this.applyIconOverridePrefix(o[i]);this.iconClasses=t}else!1===o&&(this.iconClasses={})}applyIconOverridePrefix(o){let t=this.iconOverridePrefix;return t&&0!==o.indexOf(t)&&(o=t+o),o}getClass(o){return this.classes[o]||""}getIconClass(o,t){let i;return i=t&&this.rtlIconClasses&&this.rtlIconClasses[o]||this.iconClasses[o],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(o){let t;return this.iconOverrideCustomButtonOption&&(t=o[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}function qm(n){n();let o=Pi.debounceRendering,t=[];for(Pi.debounceRendering=function i(s){t.push(s)},Va(cn(Pb,{}),document.createElement("div"));t.length;)t.shift()();Pi.debounceRendering=o}Np.prototype.classes={},Np.prototype.iconClasses={},Np.prototype.baseIconClass="",Np.prototype.iconOverridePrefix="";class Pb extends da{render(){return cn("div",{})}componentDidMount(){this.setState({})}}function $m(n){let o=function qu(n,o){var t={__c:o="__cC"+Pl++,__:n,Consumer:function(i,s){return i.children(s)},Provider:function(i){var s,d;return this.getChildContext||(s=[],(d={})[o]=this,this.getChildContext=function(){return d},this.shouldComponentUpdate=function(T){this.props.value!==T.value&&s.some(function(W){W.__e=!0,Ll(W)})},this.sub=function(T){s.push(T);var W=T.componentWillUnmount;T.componentWillUnmount=function(){s.splice(s.indexOf(T),1),W&&W.call(T)}}),i.children}};return t.Provider.__=t.Consumer.contextType=t}(n),t=o.Provider;return o.Provider=function(){let i=!this.getChildContext,s=t.apply(this,arguments);if(i){let d=[];this.shouldComponentUpdate=T=>{this.props.value!==T.value&&d.forEach(W=>{W.context=T.value,W.forceUpdate()})},this.sub=T=>{d.push(T);let W=T.componentWillUnmount;T.componentWillUnmount=()=>{d.splice(d.indexOf(T),1),W&&W.call(T)}}}return s},o}class P0{constructor(o,t,i,s){this.execFunc=o,this.emitter=t,this.scrollTime=i,this.scrollTimeReset=s,this.handleScrollRequest=d=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},d),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(o){o&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const gc=$m({});function Ga(n,o,t,i,s,d,T,W,Ce,qe,Xe,$t,jt){return{dateEnv:s,options:t,pluginHooks:T,emitter:qe,dispatch:W,getCurrentData:Ce,calendarApi:Xe,viewSpec:n,viewApi:o,dateProfileGenerator:i,theme:d,isRtl:"rtl"===t.direction,addResizeHandler(Wt){qe.on("_resize",Wt)},removeResizeHandler(Wt){qe.off("_resize",Wt)},createScrollResponder:Wt=>new P0(Wt,qe,H(t.scrollTime),t.scrollTimeReset),registerInteractiveComponent:$t,unregisterInteractiveComponent:jt}}let Fp=(()=>{class n extends da{shouldComponentUpdate(t,i){return this.debug&&console.log(Bo(t,this.props),Bo(i,this.state)),!ns(this.props,t,this.propEquality)||!ns(this.state,i,this.stateEquality)}safeSetState(t){ns(this.state,Object.assign(Object.assign({},this.state),t),this.stateEquality)||this.setState(t)}}return n.addPropsEquality=xI,n.addStateEquality=Lb,n.contextType=gc,n})();Fp.prototype.propEquality={},Fp.prototype.stateEquality={};let is=(()=>{class n extends Fp{}return n.contextType=gc,n})();function xI(n){let o=Object.create(this.prototype.propEquality);Object.assign(o,n),this.prototype.propEquality=o}function Lb(n){let o=Object.create(this.prototype.stateEquality);Object.assign(o,n),this.prototype.stateEquality=o}function Cl(n,o){"function"==typeof n?n(o):n&&(n.current=o)}class nl extends is{constructor(){super(...arguments),this.uid=ml()}prepareHits(){}queryHit(o,t,i,s){return null}isValidSegDownEl(o){return!this.props.eventDrag&&!this.props.eventResize&&!zr(o,".fc-event-mirror")}isValidDateDownEl(o){return!(zr(o,".fc-event:not(.fc-bg-event)")||zr(o,".fc-more-link")||zr(o,"a[data-navlink]")||zr(o,".fc-popover"))}}function Bp(n,o){return"function"==typeof n&&(n=n()),null==n?o.createNowMarker():o.createMarker(n)}class Xm{constructor(o){this.props=o,this.nowDate=Bp(o.nowInput,o.dateEnv),this.initHiddenDays()}buildPrev(o,t,i){let{dateEnv:s}=this.props,d=s.subtract(s.startOf(t,o.currentRangeUnit),o.dateIncrement);return this.build(d,-1,i)}buildNext(o,t,i){let{dateEnv:s}=this.props,d=s.add(s.startOf(t,o.currentRangeUnit),o.dateIncrement);return this.build(d,1,i)}build(o,t,i=!0){let d,T,W,Ce,qe,Xe,{props:s}=this;return d=this.buildValidRange(),d=this.trimHiddenDays(d),i&&(o=function Gm(n,o){return null!=o.start&&n<o.start?o.start:null!=o.end&&n>=o.end?new Date(o.end.valueOf()-1):n}(o,d)),T=this.buildCurrentRangeInfo(o,t),W=/^(year|month|week|day)$/.test(T.unit),Ce=this.buildRenderRange(this.trimHiddenDays(T.range),T.unit,W),Ce=this.trimHiddenDays(Ce),qe=Ce,s.showNonCurrentDates||(qe=Cu(qe,T.range)),qe=this.adjustActiveRange(qe),qe=Cu(qe,d),Xe=w0(T.range,d),pa(Ce,o)||(o=Ce.start),{currentDate:o,validRange:d,currentRange:T.range,currentRangeUnit:T.unit,isRangeAllDay:W,activeRange:qe,renderRange:Ce,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,isValid:Xe,dateIncrement:this.buildDateIncrement(T.duration)}}buildValidRange(){let o=this.props.validRangeInput,t="function"==typeof o?o.call(this.props.calendarApi,this.nowDate):o;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(o,t){let W,{props:i}=this,s=null,d=null,T=null;return i.duration?(s=i.duration,d=i.durationUnit,T=this.buildRangeFromDuration(o,t,s,d)):(W=this.props.dayCount)?(d="day",T=this.buildRangeFromDayCount(o,t,W)):(T=this.buildCustomVisibleRange(o))?d=i.dateEnv.greatestWholeUnit(T.start,T.end).unit:(s=this.getFallbackDuration(),d=Gn(s).unit,T=this.buildRangeFromDuration(o,t,s,d)),{duration:s,unit:d,range:T}}getFallbackDuration(){return H({day:1})}adjustActiveRange(o){let{dateEnv:t,usesMinMaxTime:i,slotMinTime:s,slotMaxTime:d}=this.props,{start:T,end:W}=o;return i&&(xn(s)<0&&(T=ds(T),T=t.add(T,s)),xn(d)>1&&(W=ds(W),W=Qs(W,-1),W=t.add(W,d))),{start:T,end:W}}buildRangeFromDuration(o,t,i,s){let W,Ce,qe,{dateEnv:d,dateAlignment:T}=this.props;if(!T){let{dateIncrement:$t}=this.props;T=$t&&Yn($t)<Yn(i)?Gn($t).unit:s}function Xe(){W=d.startOf(o,T),Ce=d.add(W,i),qe={start:W,end:Ce}}return xn(i)<=1&&this.isHiddenDay(W)&&(W=this.skipHiddenDays(W,t),W=ds(W)),Xe(),this.trimHiddenDays(qe)||(o=this.skipHiddenDays(o,t),Xe()),qe}buildRangeFromDayCount(o,t,i){let Ce,{dateEnv:s,dateAlignment:d}=this.props,T=0,W=o;d&&(W=s.startOf(W,d)),W=ds(W),W=this.skipHiddenDays(W,t),Ce=W;do{Ce=Qs(Ce,1),this.isHiddenDay(Ce)||(T+=1)}while(T<i);return{start:W,end:Ce}}buildCustomVisibleRange(o){let{props:t}=this,i=t.visibleRangeInput,s="function"==typeof i?i.call(t.calendarApi,t.dateEnv.toDate(o)):i,d=this.refineRange(s);return!d||null!=d.start&&null!=d.end?d:null}buildRenderRange(o,t,i){return o}buildDateIncrement(o){let i,{dateIncrement:t}=this.props;return t||((i=this.props.dateAlignment)?H(1,i):o||H({days:1}))}refineRange(o){if(o){let t=function CI(n,o){let t=null,i=null;return n.start&&(t=o.createMarker(n.start)),n.end&&(i=o.createMarker(n.end)),!t&&!i||t&&i&&i<t?null:{start:t,end:i}}(o,this.props.dateEnv);return t&&(t=Vm(t)),t}return null}initHiddenDays(){let s,o=this.props.hiddenDays||[],t=[],i=0;for(!1===this.props.weekends&&o.push(0,6),s=0;s<7;s+=1)(t[s]=-1!==o.indexOf(s))||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(o){let{start:t,end:i}=o;return t&&(t=this.skipHiddenDays(t)),i&&(i=this.skipHiddenDays(i,-1,!0)),null==t||null==i||t<i?{start:t,end:i}:null}isHiddenDay(o){return o instanceof Date&&(o=o.getUTCDay()),this.isHiddenDayHash[o]}skipHiddenDays(o,t=1,i=!1){for(;this.isHiddenDayHash[(o.getUTCDay()+(i?t:0)+7)%7];)o=Qs(o,t);return o}}function L0(n,o,t){t.emitter.trigger("select",Object.assign(Object.assign({},ef(n,t)),{jsEvent:o?o.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function ef(n,o){let t={};for(let i of o.pluginHooks.dateSpanTransforms)Object.assign(t,i(n,o));return Object.assign(t,function fg(n,o){return Object.assign(Object.assign({},J0(n.range,o,n.allDay)),{allDay:n.allDay})}(n,o.dateEnv)),t}function N0(n,o,t){let{dateEnv:i,options:s}=t,d=o;return n?(d=ds(d),d=i.add(d,s.defaultAllDayEventDuration)):d=i.add(d,s.defaultTimedEventDuration),d}function lg(n,o,t,i){let s=cg(n.defs,o),d={defs:{},instances:{}};for(let T in n.defs)d.defs[T]=F0(n.defs[T],s[T],t,i);for(let T in n.instances){let W=n.instances[T];d.instances[T]=Fb(W,d.defs[W.defId],s[W.defId],t,i)}return d}function F0(n,o,t,i){let s=t.standardProps||{};null==s.hasEnd&&o.durationEditable&&(t.startDelta||t.endDelta)&&(s.hasEnd=!0);let d=Object.assign(Object.assign(Object.assign({},n),s),{ui:Object.assign(Object.assign({},n.ui),s.ui)});t.extendedProps&&(d.extendedProps=Object.assign(Object.assign({},d.extendedProps),t.extendedProps));for(let T of i.pluginHooks.eventDefMutationAppliers)T(d,t,i);return!d.hasEnd&&i.options.forceEventDuration&&(d.hasEnd=!0),d}function Fb(n,o,t,i,s){let{dateEnv:d}=s,T=i.standardProps&&!0===i.standardProps.allDay,W=i.standardProps&&!1===i.standardProps.hasEnd,Ce=Object.assign({},n);return T&&(Ce.range=Ab(Ce.range)),i.datesDelta&&t.startEditable&&(Ce.range={start:d.add(Ce.range.start,i.datesDelta),end:d.add(Ce.range.end,i.datesDelta)}),i.startDelta&&t.durationEditable&&(Ce.range={start:d.add(Ce.range.start,i.startDelta),end:Ce.range.end}),i.endDelta&&t.durationEditable&&(Ce.range={start:Ce.range.start,end:d.add(Ce.range.end,i.endDelta)}),W&&(Ce.range={start:Ce.range.start,end:N0(o.allDay,Ce.range.start,s)}),o.allDay&&(Ce.range={start:ds(Ce.range.start),end:ds(Ce.range.end)}),Ce.range.end<Ce.range.start&&(Ce.range.end=N0(o.allDay,Ce.range.start,s)),Ce}class Ia{constructor(o,t){this.context=o,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class xs{constructor(o,t,i){this._context=o,this._def=t,this._instance=i||null}setProp(o,t){if(o in Xh)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===o)t=tl[o](t),this.mutate({standardProps:{publicId:t}});else if(o in tl)t=tl[o](t),this.mutate({standardProps:{[o]:t}});else if(o in _u){let i=_u[o](t);i="color"===o?{backgroundColor:t,borderColor:t}:"editable"===o?{startEditable:t,durationEditable:t}:{[o]:t},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${o}'. Use setExtendedProp instead.`)}setExtendedProp(o,t){this.mutate({extendedProps:{[o]:t}})}setStart(o,t={}){let{dateEnv:i}=this._context,s=i.createMarker(o);if(s&&this._instance){let T=_d(this._instance.range.start,s,i,t.granularity);this.mutate(t.maintainDuration?{datesDelta:T}:{startDelta:T})}}setEnd(o,t={}){let s,{dateEnv:i}=this._context;if((null==o||(s=i.createMarker(o),s))&&this._instance)if(s){let d=_d(this._instance.range.end,s,i,t.granularity);this.mutate({endDelta:d})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(o,t,i={}){let W,{dateEnv:s}=this._context,d={allDay:i.allDay},T=s.createMarker(o);if(T&&(null==t||(W=s.createMarker(t),W))&&this._instance){let Ce=this._instance.range;!0===i.allDay&&(Ce=Ab(Ce));let qe=_d(Ce.start,T,s,i.granularity);if(W){let Xe=_d(Ce.end,W,s,i.granularity);!function De(n,o){return n.years===o.years&&n.months===o.months&&n.days===o.days&&n.milliseconds===o.milliseconds}(qe,Xe)?this.mutate({startDelta:qe,endDelta:Xe,standardProps:d}):this.mutate({datesDelta:qe,standardProps:d})}else d.hasEnd=!1,this.mutate({datesDelta:qe,standardProps:d})}}moveStart(o){let t=H(o);t&&this.mutate({startDelta:t})}moveEnd(o){let t=H(o);t&&this.mutate({endDelta:t})}moveDates(o){let t=H(o);t&&this.mutate({datesDelta:t})}setAllDay(o,t={}){let i={allDay:o},{maintainDuration:s}=t;null==s&&(s=this._context.options.allDayMaintainDuration),this._def.allDay!==o&&(i.hasEnd=s),this.mutate({standardProps:i})}formatRange(o){let{dateEnv:t}=this._context,i=this._instance,s=ys(o);return this._def.hasEnd?t.formatRange(i.range.start,i.range.end,s,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):t.format(i.range.start,s,{forcedTzo:i.forcedStartTzo})}mutate(o){let t=this._instance;if(t){let i=this._def,s=this._context,{eventStore:d}=s.getCurrentData(),T=kp(d,t.instanceId);T=lg(T,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},o,s);let Ce=new xs(s,i,t);this._def=T.defs[i.defId],this._instance=T.instances[t.instanceId],s.dispatch({type:"MERGE_EVENTS",eventStore:T}),s.emitter.trigger("eventChange",{oldEvent:Ce,event:this,relatedEvents:vu(T,s,t),revert(){s.dispatch({type:"RESET_EVENTS",eventStore:d})}})}}remove(){let o=this._context,t=B0(this);o.dispatch({type:"REMOVE_EVENTS",eventStore:t}),o.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:o}=this._def;return o?new Ia(this._context,this._context.getCurrentData().eventSources[o]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let o=this._instance;return o?this._context.dateEnv.formatIso(o.range.start,{omitTime:this._def.allDay,forcedTzo:o.forcedStartTzo}):""}get endStr(){let o=this._instance;return o&&this._def.hasEnd?this._context.dateEnv.formatIso(o.range.end,{omitTime:this._def.allDay,forcedTzo:o.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(o={}){let t=this._def,{ui:i}=t,{startStr:s,endStr:d}=this,T={allDay:t.allDay};return t.title&&(T.title=t.title),s&&(T.start=s),d&&(T.end=d),t.publicId&&(T.id=t.publicId),t.groupId&&(T.groupId=t.groupId),t.url&&(T.url=t.url),i.display&&"auto"!==i.display&&(T.display=i.display),o.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?T.color=i.backgroundColor:(i.backgroundColor&&(T.backgroundColor=i.backgroundColor),i.borderColor&&(T.borderColor=i.borderColor)),i.textColor&&(T.textColor=i.textColor),i.classNames.length&&(T.classNames=i.classNames),Object.keys(t.extendedProps).length&&(o.collapseExtendedProps?Object.assign(T,t.extendedProps):T.extendedProps=t.extendedProps),T}toJSON(){return this.toPlainObject()}}function B0(n){let o=n._def,t=n._instance;return{defs:{[o.defId]:o},instances:t?{[t.instanceId]:t}:{}}}function vu(n,o,t){let{defs:i,instances:s}=n,d=[],T=t?t.instanceId:"";for(let W in s){let Ce=s[W],qe=i[Ce.defId];Ce.instanceId!==T&&d.push(new xs(o,qe,Ce))}return d}function Z0(n,o,t,i){let s={},d={},T={},W=[],Ce=[],qe=cg(n.defs,o);for(let Xe in n.defs){let $t=n.defs[Xe];"inverse-background"===qe[$t.defId].display&&($t.groupId?(s[$t.groupId]=[],T[$t.groupId]||(T[$t.groupId]=$t)):d[Xe]=[])}for(let Xe in n.instances){let $t=n.instances[Xe],jt=n.defs[$t.defId],Wt=qe[jt.defId],_n=$t.range,Pn=!jt.allDay&&i?Vm(_n,i):_n,Rn=Cu(Pn,t);Rn&&("inverse-background"===Wt.display?jt.groupId?s[jt.groupId].push(Rn):d[$t.defId].push(Rn):"none"!==Wt.display&&("background"===Wt.display?W:Ce).push({def:jt,ui:Wt,instance:$t,range:Rn,isStart:Pn.start&&Pn.start.valueOf()===Rn.start.valueOf(),isEnd:Pn.end&&Pn.end.valueOf()===Rn.end.valueOf()}))}for(let Xe in s){let jt=kb(s[Xe],t);for(let Wt of jt){let _n=T[Xe];W.push({def:_n,ui:qe[_n.defId],instance:null,range:Wt,isStart:!1,isEnd:!1})}}for(let Xe in d){let jt=kb(d[Xe],t);for(let Wt of jt)W.push({def:n.defs[Xe],ui:qe[Xe],instance:null,range:Wt,isStart:!1,isEnd:!1})}return{bg:W,fg:Ce}}function H0(n,o){n.fcSeg=o}function yd(n){return n.fcSeg||n.parentNode.fcSeg||null}function cg(n,o){return Si(n,t=>ug(t,o))}function ug(n,o){let t=[];return o[""]&&t.push(o[""]),o[n.defId]&&t.push(o[n.defId]),t.push(n.ui),b0(t)}function tf(n,o){let t=n.map(Bb);return t.sort((i,s)=>function Ap(n,o,t){let i,s;for(i=0;i<t.length;i+=1)if(s=hd(n,o,t[i]),s)return s;return 0}(i,s,o)),t.map(i=>i._seg)}function Bb(n){let{eventRange:o}=n,t=o.def,i=o.instance?o.instance.range:o.range,s=i.start?i.start.valueOf():0,d=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:s,end:d,duration:d-s,allDay:Number(t.allDay),_seg:n})}function dg(n,o){let{pluginHooks:t}=o,i=t.isDraggableTransformers,{def:s,ui:d}=n.eventRange,T=d.startEditable;for(let W of i)T=W(T,s,d,o);return T}function nf(n,o){return n.isStart&&n.eventRange.ui.durationEditable&&o.options.eventResizableFromStart}function hg(n,o,t,i,s,d,T){let{dateEnv:W,options:Ce}=t,{displayEventTime:qe,displayEventEnd:Xe}=Ce,$t=n.eventRange.def,jt=n.eventRange.instance;null==qe&&(qe=!1!==i),null==Xe&&(Xe=!1!==s);let Wt=jt.range.start,_n=jt.range.end,Pn=d||n.start||n.eventRange.range.start,Rn=T||n.end||n.eventRange.range.end,jn=ds(Wt).valueOf()===ds(Pn).valueOf(),Ti=ds(ya(_n,-1)).valueOf()===ds(ya(Rn,-1)).valueOf();return qe&&!$t.allDay&&(jn||Ti)?(Pn=jn?Wt:Pn,Rn=Ti?_n:Rn,Xe&&$t.hasEnd?W.formatRange(Pn,Rn,o,{forcedStartTzo:d?null:jt.forcedStartTzo,forcedEndTzo:T?null:jt.forcedEndTzo}):W.format(Pn,o,{forcedTzo:d?null:jt.forcedStartTzo})):""}function vl(n,o,t){let i=n.eventRange.range;return{isPast:i.end<(t||o.start),isFuture:i.start>=(t||o.end),isToday:o&&pa(o,i.start)}}function II(n){let o=["fc-event"];return n.isMirror&&o.push("fc-event-mirror"),n.isDraggable&&o.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&o.push("fc-event-resizable"),n.isDragging&&o.push("fc-event-dragging"),n.isResizing&&o.push("fc-event-resizing"),n.isSelected&&o.push("fc-event-selected"),n.isStart&&o.push("fc-event-start"),n.isEnd&&o.push("fc-event-end"),n.isPast&&o.push("fc-event-past"),n.isToday&&o.push("fc-event-today"),n.isFuture&&o.push("fc-event-future"),o}function sf(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function gg(n,o){let{def:t,instance:i}=n.eventRange,{url:s}=t;if(s)return{href:s};let{emitter:d,options:T}=o,{eventInteractive:W}=T;return null==W&&(W=t.interactive,null==W&&(W=Boolean(d.hasHandlers("eventClick")))),W?dd(Ce=>{d.trigger("eventClick",{el:Ce.target,event:new xs(o,t,i),jsEvent:Ce,view:o.viewApi})}):{}}const V0={start:Zn,end:Zn,allDay:Boolean};function xd(n,o,t){return Object.assign(Object.assign({},J0(n,o,t)),{timeZone:o.timeZone})}function J0(n,o,t){return{start:o.toDate(n.start),end:o.toDate(n.end),startStr:o.formatIso(n.start,{omitTime:t}),endStr:o.formatIso(n.end,{omitTime:t})}}let lf={};!function Zb(n,o){lf[n]=o}("gregory",class Zp{getMarkerYear(o){return o.getUTCFullYear()}getMarkerMonth(o){return o.getUTCMonth()}getMarkerDay(o){return o.getUTCDate()}arrayToMarker(o){return Pa(o)}markerToArray(o){return qr(o)}});const Hb=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;class Vb{constructor(o){let t=this.timeZone=o.timeZone,i="local"!==t&&"UTC"!==t;o.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new o.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!i||this.namedTimeZoneImpl),this.calendarSystem=function Ub(n){return new lf[n]}(o.calendarSystem),this.locale=o.locale,this.weekDow=o.locale.week.dow,this.weekDoy=o.locale.week.doy,"ISO"===o.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof o.firstDay&&(this.weekDow=o.firstDay),"function"==typeof o.weekNumberCalculation&&(this.weekNumberFunc=o.weekNumberCalculation),this.weekText=null!=o.weekText?o.weekText:o.locale.options.weekText,this.weekTextLong=(null!=o.weekTextLong?o.weekTextLong:o.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=o.cmdFormatter,this.defaultSeparator=o.defaultSeparator}createMarker(o){let t=this.createMarkerMeta(o);return null===t?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):Pa(l0(new Date))}createMarkerMeta(o){if("string"==typeof o)return this.parse(o);let t=null;return"number"==typeof o?t=this.timestampToMarker(o):o instanceof Date?(o=o.valueOf(),isNaN(o)||(t=this.timestampToMarker(o))):Array.isArray(o)&&(t=Pa(o)),null!==t&&Em(t)?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null}parse(o){let t=function TI(n){let o=Hb.exec(n);if(o){let t=new Date(Date.UTC(Number(o[1]),o[3]?Number(o[3])-1:0,Number(o[5]||1),Number(o[7]||0),Number(o[8]||0),Number(o[10]||0),o[12]?1e3*Number(`0.${o[12]}`):0));if(Em(t)){let i=null;return o[13]&&(i=("-"===o[15]?-1:1)*(60*Number(o[16]||0)+Number(o[18]||0))),{marker:t,isTimeUnspecified:!o[6],timeZoneOffset:i}}}return null}(o);if(null===t)return null;let{marker:i}=t,s=null;return null!==t.timeZoneOffset&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-60*t.timeZoneOffset*1e3):s=t.timeZoneOffset),{marker:i,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:s}}getYear(o){return this.calendarSystem.getMarkerYear(o)}getMonth(o){return this.calendarSystem.getMarkerMonth(o)}getDay(o){return this.calendarSystem.getMarkerDay(o)}add(o,t){let i=this.calendarSystem.markerToArray(o);return i[0]+=t.years,i[1]+=t.months,i[2]+=t.days,i[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(o,t){let i=this.calendarSystem.markerToArray(o);return i[0]-=t.years,i[1]-=t.months,i[2]-=t.days,i[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(o,t){let i=this.calendarSystem.markerToArray(o);return i[0]+=t,this.calendarSystem.arrayToMarker(i)}addMonths(o,t){let i=this.calendarSystem.markerToArray(o);return i[1]+=t,this.calendarSystem.arrayToMarker(i)}diffWholeYears(o,t){let{calendarSystem:i}=this;return Zc(o)===Zc(t)&&i.getMarkerDay(o)===i.getMarkerDay(t)&&i.getMarkerMonth(o)===i.getMarkerMonth(t)?i.getMarkerYear(t)-i.getMarkerYear(o):null}diffWholeMonths(o,t){let{calendarSystem:i}=this;return Zc(o)===Zc(t)&&i.getMarkerDay(o)===i.getMarkerDay(t)?i.getMarkerMonth(t)-i.getMarkerMonth(o)+12*(i.getMarkerYear(t)-i.getMarkerYear(o)):null}greatestWholeUnit(o,t){let i=this.diffWholeYears(o,t);return null!==i?{unit:"year",value:i}:(i=this.diffWholeMonths(o,t),null!==i?{unit:"month",value:i}:(i=function cI(n,o){let t=Am(n,o);return null!==t&&t%7==0?t/7:null}(o,t),null!==i?{unit:"week",value:i}:(i=Am(o,t),null!==i?{unit:"day",value:i}:(i=function gd(n,o){return(o.valueOf()-n.valueOf())/36e5}(o,t),h(i)?{unit:"hour",value:i}:(i=function hc(n,o){return(o.valueOf()-n.valueOf())/6e4}(o,t),h(i)?{unit:"minute",value:i}:(i=function ub(n,o){return(o.valueOf()-n.valueOf())/1e3}(o,t),h(i)?{unit:"second",value:i}:{unit:"millisecond",value:t.valueOf()-o.valueOf()}))))))}countDurationsBetween(o,t,i){let s;return i.years&&(s=this.diffWholeYears(o,t),null!==s)?s/function Cn(n){return xn(n)/365}(i):i.months&&(s=this.diffWholeMonths(o,t),null!==s)?s/function yn(n){return xn(n)/30}(i):i.days&&(s=Am(o,t),null!==s)?s/xn(i):(t.valueOf()-o.valueOf())/Yn(i)}startOf(o,t){return"year"===t?this.startOfYear(o):"month"===t?this.startOfMonth(o):"week"===t?this.startOfWeek(o):"day"===t?ds(o):"hour"===t?function uI(n){return Pa([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}(o):"minute"===t?function s0(n){return Pa([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}(o):"second"===t?function dI(n){return Pa([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}(o):null}startOfYear(o){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(o)])}startOfMonth(o){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(o),this.calendarSystem.getMarkerMonth(o)])}startOfWeek(o){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(o),this.calendarSystem.getMarkerMonth(o),o.getUTCDate()-(o.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(o){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(o)):function r0(n,o,t){let i=n.getUTCFullYear(),s=wm(n,i,o,t);if(s<1)return wm(n,i-1,o,t);let d=wm(n,i+1,o,t);return d>=1?Math.min(s,d):s}(o,this.weekDow,this.weekDoy)}format(o,t,i={}){return t.format({marker:o,timeZoneOffset:null!=i.forcedTzo?i.forcedTzo:this.offsetForMarker(o)},this)}formatRange(o,t,i,s={}){return s.isEndExclusive&&(t=ya(t,-1)),i.formatRange({marker:o,timeZoneOffset:null!=s.forcedStartTzo?s.forcedStartTzo:this.offsetForMarker(o)},{marker:t,timeZoneOffset:null!=s.forcedEndTzo?s.forcedEndTzo:this.offsetForMarker(t)},this,s.defaultSeparator)}formatIso(o,t={}){let i=null;return t.omitTimeZoneOffset||(i=null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(o)),u0(o,i,t.omitTime)}timestampToMarker(o){return"local"===this.timeZone?Pa(l0(new Date(o))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?Pa(this.namedTimeZoneImpl.timestampToArray(o)):new Date(o)}offsetForMarker(o){return"local"===this.timeZone?-c0(qr(o)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(qr(o)):null}toDate(o,t){return"local"===this.timeZone?c0(qr(o)):"UTC"===this.timeZone?new Date(o.valueOf()):this.namedTimeZoneImpl?new Date(o.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(qr(o))*60):new Date(o.valueOf()-(t||0))}}class Q0{constructor(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(o){let t=[];for(let i of o)this.insertEntry(i,t);return t}insertEntry(o,t){let i=this.findInsertion(o);return this.isInsertionValid(i,o)?(this.insertEntryAt(o,i),1):this.handleInvalidInsertion(i,o,t)}isInsertionValid(o,t){return(-1===this.maxCoord||o.levelCoord+t.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||o.stackCnt<this.maxStackCnt)}handleInvalidInsertion(o,t,i){return this.allowReslicing&&o.touchingEntry?this.splitEntry(t,o.touchingEntry,i):(i.push(t),0)}splitEntry(o,t,i){let s=0,d=[],T=o.span,W=t.span;return T.start<W.start&&(s+=this.insertEntry({index:o.index,thickness:o.thickness,span:{start:T.start,end:W.start}},d)),T.end>W.end&&(s+=this.insertEntry({index:o.index,thickness:o.thickness,span:{start:W.end,end:T.end}},d)),s?(i.push({index:o.index,thickness:o.thickness,span:df(W,T)},...d),s):(i.push(o),0)}insertEntryAt(o,t){let{entriesByLevel:i,levelCoords:s}=this;-1===t.lateral?(Up(s,t.level,t.levelCoord),Up(i,t.level,[o])):Up(i[t.level],t.lateral,o),this.stackCnts[bu(o)]=t.stackCnt}findInsertion(o){let{levelCoords:t,entriesByLevel:i,strictOrder:s,stackCnts:d}=this,T=t.length,W=0,Ce=-1,qe=-1,Xe=null,$t=0;for(let _n=0;_n<T;_n+=1){let Pn=t[_n];if(!s&&Pn>=W+o.thickness)break;let jn,Rn=i[_n],Ti=pf(Rn,o.span.start,cf),io=Ti[0]+Ti[1];for(;(jn=Rn[io])&&jn.span.start<o.span.end;){let Ji=Pn+jn.thickness;Ji>W&&(W=Ji,Xe=jn,Ce=_n,qe=io),Ji===W&&($t=Math.max($t,d[bu(jn)]+1)),io+=1}}let jt=0;if(Xe)for(jt=Ce+1;jt<T&&t[jt]<W;)jt+=1;let Wt=-1;return jt<T&&t[jt]===W&&(Wt=pf(i[jt],o.span.end,cf)[0]),{touchingLevel:Ce,touchingLateral:qe,touchingEntry:Xe,stackCnt:$t,levelCoord:W,level:jt,lateral:Wt}}toRects(){let{entriesByLevel:o,levelCoords:t}=this,i=o.length,s=[];for(let d=0;d<i;d+=1){let T=o[d],W=t[d];for(let Ce of T)s.push(Object.assign(Object.assign({},Ce),{levelCoord:W}))}return s}}function cf(n){return n.span.end}function bu(n){return n.index+":"+n.span.start}function uf(n,o){return{start:Math.min(n.start,o.start),end:Math.max(n.end,o.end)}}function df(n,o){let t=Math.max(n.start,o.start),i=Math.min(n.end,o.end);return t<i?{start:t,end:i}:null}function Up(n,o,t){n.splice(o,0,t)}function pf(n,o,t){let i=0,s=n.length;if(!s||o<t(n[i]))return[0,0];if(o>t(n[s-1]))return[s,0];for(;i<s;){let d=Math.floor(i+(s-i)/2),T=t(n[d]);if(o<T)s=d;else{if(!(o>T))return[d,1];i=d+1}}return[i,0]}class Id{constructor(o){this.component=o.component,this.isHitComboAllowed=o.isHitComboAllowed||null}destroy(){}}function hf(n){return{[n.component.uid]:n}}const gf={},Td={};Boolean;class Hp extends is{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{this.setState({forPrint:!0})},this.handleAfterPrint=()=>{this.setState({forPrint:!1})}}render(){let{props:o}=this,{options:t}=o,{forPrint:i}=this.state,s=i||"auto"===t.height||"auto"===t.contentHeight,d=s||null==t.height?"":t.height,T=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,o.theme.getClass("root")];return T0()||T.push("fc-liquid-hack"),o.children(T,d,s,i)}componentDidMount(){let{emitter:o}=this.props;o.on("_beforeprint",this.handleBeforePrint),o.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:o}=this.props;o.off("_beforeprint",this.handleBeforePrint),o.off("_afterprint",this.handleAfterPrint)}}const W0="fc-col-header-cell";function _g(n){return n.text}class mf extends is{constructor(){super(...arguments),this.id=ml(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=o=>{this.props.elRef&&Cl(this.props.elRef,o)}}render(){const{props:o,context:t}=this,{options:i}=t,{customGenerator:s,defaultGenerator:d,renderProps:T}=o,W=Ad(o);let qe,$t,Ce=!1,Xe=[];if(null!=s){const jt="function"==typeof s?s(T,cn):s;if(!0===jt)Ce=!0;else{const Wt=jt&&"object"==typeof jt;Wt&&"html"in jt?W.dangerouslySetInnerHTML={__html:jt.html}:Wt&&"domNodes"in jt?Xe=Array.prototype.slice.call(jt.domNodes):Wt||"function"==typeof jt?$t=jt:qe=jt}}else Ce=!bl(o.generatorName,i);return Ce&&d&&(qe=d(T)),this.queuedDomNodes=Xe,this.currentGeneratorMeta=$t,cn(o.elTag,W,qe)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(o){var t;const{props:i,context:s}=this,{handleCustomRendering:d,customRenderingMetaMap:T}=s.options;if(d){const W=null!==(t=this.currentGeneratorMeta)&&void 0!==t?t:null==T?void 0:T[i.generatorName];W&&d(Object.assign(Object.assign({id:this.id,isActive:o,containerEl:this.base,reportNewContainerEl:this.handleEl,generatorMeta:W},i),{elClasses:(i.elClasses||[]).filter(ha)}))}}applyQueueudDomNodes(){const{queuedDomNodes:o,currentDomNodes:t}=this,i=this.base;if(!aa(o,t)){t.forEach(Os);for(let s of o)i.appendChild(s);this.currentDomNodes=o}}}function bl(n,o){var t;return Boolean(o.handleCustomRendering&&n&&(null===(t=o.customRenderingMetaMap)||void 0===t?void 0:t[n]))}function Ad(n,o){const t=Object.assign(Object.assign({},n.elAttrs),{ref:n.elRef});return(n.elClasses||o)&&(t.className=(n.elClasses||[]).concat(o||[]).concat(t.className||[]).filter(Boolean).join(" ")),n.elStyle&&(t.style=n.elStyle),t}function ha(n){return Boolean(n)}mf.addPropsEquality({elClasses:aa,elStyle:ro,elAttrs:function va(n,o){const t=Bo(n,o);for(let i of t)if(!Tr.test(i))return!1;return!0},renderProps:ro});const zc=$m(0);let $r=(()=>{class n extends da{constructor(){super(...arguments),this.InnerContent=il.bind(void 0,this),this.handleRootEl=t=>{this.rootEl=t,this.props.elRef&&Cl(this.props.elRef,t)}}render(){const{props:t}=this,i=function ff(n,o){const t="function"==typeof n?n(o):n||[];return"string"==typeof t?[t]:t}(t.classNameGenerator,t.renderProps);if(t.children){const s=Ad(t,i),d=t.children(this.InnerContent,t.renderProps,s);return t.elTag?cn(t.elTag,s,d):d}return cn(mf,Object.assign(Object.assign({},t),{elRef:this.handleRootEl,elTag:t.elTag||"div",elClasses:(t.elClasses||[]).concat(i),renderId:this.context}))}componentDidMount(){var t,i;null===(i=(t=this.props).didMount)||void 0===i||i.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.rootEl||this.base}))}componentWillUnmount(){var t,i;null===(i=(t=this.props).willUnmount)||void 0===i||i.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.rootEl||this.base}))}}return n.contextType=zc,n})();function il(n,o){const t=n.props;return cn(mf,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},o))}class wd extends is{render(){let{dateEnv:o,options:t,theme:i,viewApi:s}=this.context,{props:d}=this,{date:T,dateProfile:W}=d,Ce=Wm(T,d.todayRange,null,W),qe=[W0].concat(Mp(Ce,i)),Xe=o.format(T,d.dayHeaderFormat),$t=!Ce.isDisabled&&d.colCnt>1?Cd(this.context,T):{},jt=Object.assign(Object.assign(Object.assign({date:o.toDate(T),view:s},d.extraRenderProps),{text:Xe}),Ce);return cn($r,{elTag:"th",elClasses:qe,elAttrs:Object.assign({role:"columnheader",colSpan:d.colSpan,"data-date":Ce.isDisabled?void 0:wp(T)},d.extraDataAttrs),renderProps:jt,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:_g,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},Wt=>cn("div",{className:"fc-scrollgrid-sync-inner"},!Ce.isDisabled&&cn(Wt,{elTag:"a",elAttrs:$t,elClasses:["fc-col-header-cell-cushion",d.isSticky&&"fc-sticky"]})))}}const Ed=ys({weekday:"long"});class Sd extends is{render(){let{props:o}=this,{dateEnv:t,theme:i,viewApi:s,options:d}=this.context,T=Qs(new Date(2592e5),o.dow),W={dow:o.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},Ce=t.format(T,o.dayHeaderFormat),qe=Object.assign(Object.assign(Object.assign(Object.assign({date:T},W),{view:s}),o.extraRenderProps),{text:Ce});return cn($r,{elTag:"th",elClasses:[W0,...Mp(W,i),...o.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:o.colSpan},o.extraDataAttrs),renderProps:qe,generatorName:"dayHeaderContent",customGenerator:d.dayHeaderContent,defaultGenerator:_g,classNameGenerator:d.dayHeaderClassNames,didMount:d.dayHeaderDidMount,willUnmount:d.dayHeaderWillUnmount},Xe=>cn("div",{className:"fc-scrollgrid-sync-inner"},cn(Xe,{elTag:"a",elClasses:["fc-col-header-cell-cushion",o.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(T,Ed)}})))}}let Gl=(()=>{class n extends da{constructor(t,i){super(t,i),this.initialNowDate=Bp(i.options.now,i.dateEnv),this.initialNowQueriedMs=(new Date).valueOf(),this.state=this.computeTiming().currentState}render(){let{props:t,state:i}=this;return t.children(i.nowDate,i.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:t,context:i}=this,s=ya(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),d=i.dateEnv.startOf(s,t.unit),T=i.dateEnv.add(d,H(1,t.unit)),W=T.valueOf()-s.valueOf();return W=Math.min(864e5,W),{currentState:{nowDate:d,todayRange:xu(d)},nextState:{nowDate:T,todayRange:xu(T)},waitMs:W}}setTimeout(){let{nextState:t,waitMs:i}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(t,()=>{this.setTimeout()})},i)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}return n.contextType=gc,n})();function xu(n){let o=ds(n);return{start:o,end:Qs(o,1)}}class Iu extends is{constructor(){super(...arguments),this.createDayHeaderFormatter=Vi(kd)}render(){let{context:o}=this,{dates:t,dateProfile:i,datesRepDistinctDays:s,renderIntro:d}=this.props,T=this.createDayHeaderFormatter(o.options.dayHeaderFormat,s,t.length);return cn(Gl,{unit:"day"},(W,Ce)=>cn("tr",{role:"row"},d&&d("day"),t.map(qe=>s?cn(wd,{key:qe.toISOString(),date:qe,dateProfile:i,todayRange:Ce,colCnt:t.length,dayHeaderFormat:T}):cn(Sd,{key:qe.getUTCDay(),dow:qe.getUTCDay(),dayHeaderFormat:T}))))}}function kd(n,o,t){return n||function Qb(n,o){return ys(!n||o>10?{weekday:"short"}:o>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}(o,t)}class Tu{constructor(o,t){let i=o.start,{end:s}=o,d=[],T=[],W=-1;for(;i<s;)t.isHiddenDay(i)?d.push(W+.5):(W+=1,d.push(W),T.push(i)),i=Qs(i,1);this.dates=T,this.indices=d,this.cnt=T.length}sliceRange(o){let t=this.getDateDayIndex(o.start),i=this.getDateDayIndex(Qs(o.end,-1)),s=Math.max(0,t),d=Math.min(this.cnt-1,i);return s=Math.ceil(s),d=Math.floor(d),s<=d?{firstIndex:s,lastIndex:d,isStart:t===s,isEnd:i===d}:null}getDateDayIndex(o){let{indices:t}=this,i=Math.floor(Oa(this.dates[0],o));return i<0?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]}}class Au{constructor(o,t){let s,d,T,{dates:i}=o;if(t){for(d=i[0].getUTCDay(),s=1;s<i.length&&i[s].getUTCDay()!==d;s+=1);T=Math.ceil(i.length/s)}else T=1,s=i.length;this.rowCnt=T,this.colCnt=s,this.daySeries=o,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let o=[];for(let t=0;t<this.rowCnt;t+=1){let i=[];for(let s=0;s<this.colCnt;s+=1)i.push(this.buildCell(t,s));o.push(i)}return o}buildCell(o,t){let i=this.daySeries.dates[o*this.colCnt+t];return{key:i.toISOString(),date:i}}buildHeaderDates(){let o=[];for(let t=0;t<this.colCnt;t+=1)o.push(this.cells[0][t].date);return o}sliceRange(o){let{colCnt:t}=this,i=this.daySeries.sliceRange(o),s=[];if(i){let{firstIndex:d,lastIndex:T}=i,W=d;for(;W<=T;){let Ce=Math.floor(W/t),qe=Math.min((Ce+1)*t,T+1);s.push({row:Ce,firstCol:W%t,lastCol:(qe-1)%t,isStart:i.isStart&&W===d,isEnd:i.isEnd&&qe-1===T}),W=qe}}return s}}class _f{constructor(){this.sliceBusinessHours=Vi(this._sliceBusinessHours),this.sliceDateSelection=Vi(this._sliceDateSpan),this.sliceEventStore=Vi(this._sliceEventStore),this.sliceEventDrag=Vi(this._sliceInteraction),this.sliceEventResize=Vi(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(o,t,i,s,...d){let{eventUiBases:T}=o,W=this.sliceEventStore(o.eventStore,T,t,i,...d);return{dateSelectionSegs:this.sliceDateSelection(o.dateSelection,t,i,T,s,...d),businessHourSegs:this.sliceBusinessHours(o.businessHours,t,i,s,...d),fgEventSegs:W.fg,bgEventSegs:W.bg,eventDrag:this.sliceEventDrag(o.eventDrag,T,t,i,...d),eventResize:this.sliceEventResize(o.eventResize,T,t,i,...d),eventSelection:o.eventSelection}}sliceNowDate(o,t,i,s,...d){return this._sliceDateSpan({range:{start:o,end:ya(o,1)},allDay:!1},t,i,{},s,...d)}_sliceBusinessHours(o,t,i,s,...d){return o?this._sliceEventStore(Hc(o,Vp(t,Boolean(i)),s),{},t,i,...d).bg:[]}_sliceEventStore(o,t,i,s,...d){if(o){let T=Z0(o,t,Vp(i,Boolean(s)),s);return{bg:this.sliceEventRanges(T.bg,d),fg:this.sliceEventRanges(T.fg,d)}}return{bg:[],fg:[]}}_sliceInteraction(o,t,i,s,...d){if(!o)return null;let T=Z0(o.mutatedEvents,t,Vp(i,Boolean(s)),s);return{segs:this.sliceEventRanges(T.fg,d),affectedInstances:o.affectedEvents.instances,isEvent:o.isEvent}}_sliceDateSpan(o,t,i,s,d,...T){if(!o)return[];let W=Vp(t,Boolean(i)),Ce=Cu(o.range,W);if(Ce){let qe=function af(n,o,t){let i=Tb({editable:!1},t),s=x0(i.refined,i.extra,"",n.allDay,!0,t);return{def:s,ui:ug(s,o),instance:Lm(s.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}(o=Object.assign(Object.assign({},o),{range:Ce}),s,d),Xe=this.sliceRange(o.range,...T);for(let $t of Xe)$t.eventRange=qe;return Xe}return[]}sliceEventRanges(o,t){let i=[];for(let s of o)i.push(...this.sliceEventRange(s,t));return i}sliceEventRange(o,t){let i=o.range;this.forceDayIfListItem&&"list-item"===o.ui.display&&(i={start:i.start,end:Qs(i.start,1)});let s=this.sliceRange(i,...t);for(let d of s)d.eventRange=o,d.isStart=o.isStart&&d.isStart,d.isEnd=o.isEnd&&d.isEnd;return s}}function Vp(n,o){let t=n.activeRange;return o?t:{start:ya(t.start,n.slotMinTime.milliseconds),end:ya(t.end,n.slotMaxTime.milliseconds-864e5)}}function Cf(n,o,t){let i=t.options.eventDataTransform,s=o?o.eventDataTransform:null;return s&&(n=vf(n,s)),i&&(n=vf(n,i)),n}function vf(n,o){let t;if(o){t=[];for(let i of n){let s=o(i);s?t.push(s):null==s&&t.push(i)}}else t=n;return t}function bf(n,o,t){let{defs:i}=n,s=Si(n.instances,d=>i[d.defId].allDay?d:Object.assign(Object.assign({},d),{range:{start:t.createMarker(o.toDate(d.range.start,d.forcedStartTzo)),end:t.createMarker(o.toDate(d.range.end,d.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:d.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:d.forcedEndTzo}));return{defs:i,instances:s}}function $0(n,o){return Nm(n,t=>t.sourceId!==o)}function eC(n,o,t){let{instances:i}=n.mutatedEvents;for(let s in i)if(!Qm(o.validRange,i[s].range))return!1;return Cg({eventDrag:n},t)}function Cg(n,o){let t=o.getCurrentData(),i=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(o.pluginHooks.isPropsValid||yf)(i,o)}function yf(n,o,t={},i){return!(n.eventDrag&&!function Wb(n,o,t,i){let s=o.getCurrentData(),d=n.eventDrag,T=d.mutatedEvents,W=T.defs,Ce=T.instances,qe=cg(W,d.isEvent?n.eventUiBases:{"":s.selectionConfig});i&&(qe=Si(qe,i));let Xe=function Gb(n,o){return{defs:n.defs,instances:gi(n.instances,t=>!o[t.instanceId])}}(n.eventStore,d.affectedEvents.instances),$t=Xe.defs,jt=Xe.instances,Wt=cg($t,n.eventUiBases);for(let _n in Ce){let Pn=Ce[_n],Rn=Pn.range,jn=qe[Pn.defId],Ti=W[Pn.defId];if(!zp(jn.constraints,Rn,Xe,n.businessHours,o))return!1;let{eventOverlap:io}=o.options,Ji="function"==typeof io?io:null;for(let ps in jt){let Ps=jt[ps];if(w0(Rn,Ps.range)&&(!1===Wt[Ps.defId].overlap&&d.isEvent||!1===jn.overlap||Ji&&!Ji(new xs(o,$t[Ps.defId],Ps),new xs(o,Ti,Pn))))return!1}let Eo=s.eventStore;for(let ps of jn.allows){let q_,Ps=Object.assign(Object.assign({},t),{range:Pn.range,allDay:Ti.allDay}),ko=Eo.defs[Ti.defId],Xl=Eo.instances[_n];if(q_=ko?new xs(o,ko,Xl):new xs(o,Ti),!ps(ef(Ps,o),q_))return!1}}return!0}(n,o,t,i)||n.dateSelection&&!function vg(n,o,t,i){let s=n.eventStore,d=s.defs,T=s.instances,W=n.dateSelection,Ce=W.range,{selectionConfig:qe}=o.getCurrentData();if(i&&(qe=i(qe)),!zp(qe.constraints,Ce,s,n.businessHours,o))return!1;let{selectOverlap:Xe}=o.options,$t="function"==typeof Xe?Xe:null;for(let jt in T){let Wt=T[jt];if(w0(Ce,Wt.range)&&(!1===qe.overlap||$t&&!$t(new xs(o,d[Wt.defId],Wt),null)))return!1}for(let jt of qe.allows)if(!jt(ef(Object.assign(Object.assign({},t),W),o),null))return!1;return!0}(n,o,t,i))}function zp(n,o,t,i,s){for(let d of n)if(!bg(xf(d,o,t,i,s),o))return!1;return!0}function xf(n,o,t,i,s){return"businessHours"===n?If(Hc(i,o,s)):"string"==typeof n?If(Nm(t,d=>d.groupId===n)):"object"==typeof n&&n?If(Hc(n,o,s)):[]}function If(n){let{instances:o}=n,t=[];for(let i in o)t.push(o[i].range);return t}function bg(n,o){for(let t of n)if(Qm(t,o))return!0;return!1}class Jp extends Error{constructor(o,t){super(o),this.response=t}}class yg{constructor(o){this.drainedOption=o,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(o){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==o?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),o))}pause(o=""){let{pauseDepths:t}=this;t[o]=(t[o]||0)+1,this.clearTimeout()}resume(o="",t){let{pauseDepths:i}=this;o in i&&(t?delete i[o]:(i[o]-=1,i[o]<=0&&delete i[o]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}const Dd=/^(visible|hidden)$/;class Af extends is{constructor(){super(...arguments),this.handleEl=o=>{this.el=o,Cl(this.props.elRef,o)}}render(){let{props:o}=this,{liquid:t,liquidIsAbsolute:i}=o,s=t&&i,d=["fc-scroller"];return t&&d.push(i?"fc-scroller-liquid-absolute":"fc-scroller-liquid"),cn("div",{ref:this.handleEl,className:d.join(" "),style:{overflowX:o.overflowX,overflowY:o.overflowY,left:s&&-(o.overcomeLeft||0)||"",right:s&&-(o.overcomeRight||0)||"",bottom:s&&-(o.overcomeBottom||0)||"",marginLeft:!s&&-(o.overcomeLeft||0)||"",marginRight:!s&&-(o.overcomeRight||0)||"",marginBottom:!s&&-(o.overcomeBottom||0)||"",maxHeight:o.maxHeight||""}},o.children)}needsXScrolling(){if(Dd.test(this.props.overflowX))return!1;let{el:o}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=o;for(let s=0;s<i.length;s+=1)if(i[s].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(Dd.test(this.props.overflowY))return!1;let{el:o}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=o;for(let s=0;s<i.length;s+=1)if(i[s].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return Dd.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Dd.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Wl{constructor(o){this.masterCallback=o,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,i)=>{let{depths:s,currentMap:d}=this,T=!1,W=!1;null!==t?(T=i in d,d[i]=t,s[i]=(s[i]||0)+1,W=!0):(s[i]-=1,s[i]||(delete d[i],delete this.callbackMap[i],T=!0)),this.masterCallback&&(T&&this.masterCallback(null,String(i)),W&&this.masterCallback(t,String(i)))}}createRef(o){let t=this.callbackMap[o];return t||(t=this.callbackMap[o]=i=>{this.handleValue(i,String(o))}),t}collect(o,t,i){return function ba(n,o=0,t,i=1){let s=[];null==t&&(t=Object.keys(n).length);for(let d=o;d<t;d+=i){let T=n[d];void 0!==T&&s.push(T)}return s}(this.currentMap,o,t,i)}getAll(){return lo(this.currentMap)}}function Ef(n,o){return n.liquid&&o.liquid}function iC(n,o){return aa(n,o,ro)}function oC(n,o){let t=[];for(let i of n){let s=i.span||1;for(let d=0;d<s;d+=1)t.push(cn("col",{style:{width:"shrink"===i.width?sC(o):i.width||"",minWidth:i.minWidth||""}}))}return cn("colgroup",{},...t)}function sC(n){return null==n?4:n}function aC(n,o){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return o&&n.liquid&&null==n.maxHeight&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function xg(n){return cn("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function Md(n){let{stickyHeaderDates:o}=n;return(null==o||"auto"===o)&&(o="auto"===n.height||"auto"===n.viewHeight),o}function Sf(n){let{stickyFooterScrollbar:o}=n;return(null==o||"auto"===o)&&(o="auto"===n.height||"auto"===n.viewHeight),o}class Ig extends is{constructor(){super(...arguments),this.processCols=Vi(o=>o,iC),this.renderMicroColGroup=Vi(oC),this.scrollerRefs=new Wl,this.scrollerElRefs=new Wl(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:o,state:t,context:i}=this,s=o.sections||[],d=this.processCols(o.cols),T=this.renderMicroColGroup(d,t.shrinkWidth),W=function rC(n,o){let t=["fc-scrollgrid",o.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}(o.liquid,i);o.collapsibleWidth&&W.push("fc-scrollgrid-collapsible");let Xe,Ce=s.length,qe=0,$t=[],jt=[],Wt=[];for(;qe<Ce&&"header"===(Xe=s[qe]).type;)$t.push(this.renderSection(Xe,T,!0)),qe+=1;for(;qe<Ce&&"body"===(Xe=s[qe]).type;)jt.push(this.renderSection(Xe,T,!1)),qe+=1;for(;qe<Ce&&"footer"===(Xe=s[qe]).type;)Wt.push(this.renderSection(Xe,T,!0)),qe+=1;let _n=!T0();const Pn={role:"rowgroup"};return cn("table",{role:"grid",className:W.join(" "),style:{height:o.height}},Boolean(!_n&&$t.length)&&cn("thead",Pn,...$t),Boolean(!_n&&jt.length)&&cn("tbody",Pn,...jt),Boolean(!_n&&Wt.length)&&cn("tfoot",Pn,...Wt),_n&&cn("tbody",Pn,...$t,...jt,...Wt))}renderSection(o,t,i){return"outerContent"in o?cn(jo,{key:o.key},o.outerContent):cn("tr",{key:o.key,role:"presentation",className:aC(o,this.props.liquid).join(" ")},this.renderChunkTd(o,t,o.chunk,i))}renderChunkTd(o,t,i,s){if("outerContent"in i)return i.outerContent;let{props:d}=this,{forceYScrollbars:T,scrollerClientWidths:W,scrollerClientHeights:Ce}=this.state,qe=function Yb(n,o){return null!=o.maxHeight||Ef(n,o)}(d,o),Xe=Ef(d,o),$t=d.liquid?T?"scroll":qe?"auto":"hidden":"visible",jt=o.key,Wt=function nC(n,o,t,i){let{expandRows:s}=t;return"function"==typeof o.content?o.content(t):cn("table",{role:"presentation",className:[o.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:s?t.clientHeight:""}},t.tableColGroupNode,cn(i?"thead":"tbody",{role:"presentation"},"function"==typeof o.rowContent?o.rowContent(t):o.rowContent))}(o,i,{tableColGroupNode:t,tableMinWidth:"",clientWidth:d.collapsibleWidth||void 0===W[jt]?null:W[jt],clientHeight:void 0!==Ce[jt]?Ce[jt]:null,expandRows:o.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},s);return cn(s?"th":"td",{ref:i.elRef,role:"presentation"},cn("div",{className:"fc-scroller-harness"+(Xe?" fc-scroller-harness-liquid":"")},cn(Af,{ref:this.scrollerRefs.createRef(jt),elRef:this.scrollerElRefs.createRef(jt),overflowY:$t,overflowX:d.liquid?"hidden":"visible",maxHeight:o.maxHeight,liquid:Xe,liquidIsAbsolute:!0},Wt)))}_handleScrollerEl(o,t){let i=function lC(n,o){for(let t of n)if(t.key===o)return t;return null}(this.props.sections,t);i&&Cl(i.chunk.scrollerElRef,o)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return function jb(n){for(let o of n)if("shrink"===o.width)return!0;return!1}(this.props.cols)?function wf(n){let o=function Cp(n,o){let t=n instanceof HTMLElement?[n]:n,i=[];for(let s=0;s<t.length;s+=1){let d=t[s].querySelectorAll(o);for(let T=0;T<d.length;T+=1)i.push(d[T])}return i}(n,".fc-scrollgrid-shrink"),t=0;for(let i of o)t=Math.max(t,C(i));return Math.ceil(t)}(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let o=function D0(){return jm||(jm=function Mb(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let o=M0(n);return document.body.removeChild(n),o}()),jm}(),{scrollerRefs:t,scrollerElRefs:i}=this,s=!1,d={},T={};for(let W in t.currentMap){let Ce=t.currentMap[W];if(Ce&&Ce.needsYScrolling()){s=!0;break}}for(let W of this.props.sections){let Ce=W.key,qe=i.currentMap[Ce];if(qe){let Xe=qe.parentNode;d[Ce]=Math.floor(Xe.getBoundingClientRect().width-(s?o.y:0)),T[Ce]=Math.floor(Xe.getBoundingClientRect().height)}}return{forceYScrollbars:s,scrollerClientWidths:d,scrollerClientHeights:T}}}Ig.addStateEquality({scrollerClientWidths:ro,scrollerClientHeights:ro});class Qp extends is{constructor(){super(...arguments),this.handleEl=o=>{this.el=o,o&&H0(o,this.props.seg)}}render(){const{props:o,context:t}=this,{options:i}=t,{seg:s}=o,{eventRange:d}=s,{ui:T}=d,W={event:new xs(t,d.def,d.instance),view:t.viewApi,timeText:o.timeText,textColor:T.textColor,backgroundColor:T.backgroundColor,borderColor:T.borderColor,isDraggable:!o.disableDragging&&dg(s,t),isStartResizable:!o.disableResizing&&nf(s,t),isEndResizable:!o.disableResizing&&(n=s,n.isEnd&&n.eventRange.ui.durationEditable),isMirror:Boolean(o.isDragging||o.isResizing||o.isDateSelecting),isStart:Boolean(s.isStart),isEnd:Boolean(s.isEnd),isPast:Boolean(o.isPast),isFuture:Boolean(o.isFuture),isToday:Boolean(o.isToday),isSelected:Boolean(o.isSelected),isDragging:Boolean(o.isDragging),isResizing:Boolean(o.isResizing)};var n;return cn($r,Object.assign({},o,{elRef:this.handleEl,elClasses:[...II(W),...s.eventRange.ui.classNames,...o.elClasses||[]],renderProps:W,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:o.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount}))}componentDidUpdate(o){this.el&&this.props.seg!==o.seg&&H0(this.el,this.props.seg)}}class kf extends is{render(){let{props:o,context:t}=this,{options:i}=t,{seg:s}=o,{ui:d}=s.eventRange,W=hg(s,i.eventTimeFormat||o.defaultTimeFormat,t,o.defaultDisplayEventTime,o.defaultDisplayEventEnd);return cn(Qp,Object.assign({},o,{elTag:"a",elStyle:{borderColor:d.borderColor,backgroundColor:d.backgroundColor},elAttrs:gg(s,t),defaultGenerator:cC,timeText:W}),(Ce,qe)=>cn(jo,null,cn(Ce,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:qe.textColor}}),Boolean(qe.isStartResizable)&&cn("div",{className:"fc-event-resizer fc-event-resizer-start"}),Boolean(qe.isEndResizable)&&cn("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function cC(n){return cn("div",{className:"fc-event-main-frame"},n.timeText&&cn("div",{className:"fc-event-time"},n.timeText),cn("div",{className:"fc-event-title-container"},cn("div",{className:"fc-event-title fc-sticky"},n.event.title||cn(jo,null,"\xa0"))))}const Tg=n=>cn(gc.Consumer,null,o=>{let{options:t}=o,i={isAxis:n.isAxis,date:o.dateEnv.toDate(n.date),view:o.viewApi};return cn($r,Object.assign({},n,{elTag:n.elTag||"div",renderProps:i,generatorName:"nowIndicatorContent",customGenerator:t.nowIndicatorContent,classNameGenerator:t.nowIndicatorClassNames,didMount:t.nowIndicatorDidMount,willUnmount:t.nowIndicatorWillUnmount}))}),uC=ys({day:"numeric"});class dC extends is{constructor(){super(...arguments),this.refineRenderProps=Yh(Kb)}render(){let{props:o,context:t}=this,{options:i}=t,s=this.refineRenderProps({date:o.date,dateProfile:o.dateProfile,todayRange:o.todayRange,isMonthStart:o.isMonthStart||!1,showDayNumber:o.showDayNumber,extraRenderProps:o.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:i.monthStartFormat});return cn($r,Object.assign({},o,{elClasses:[...Mp(s,t.theme),...o.elClasses||[]],elAttrs:Object.assign(Object.assign({},o.elAttrs),s.isDisabled?{}:{"data-date":wp(o.date)}),renderProps:s,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:o.defaultGenerator,classNameGenerator:s.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount}))}}function Df(n){return Boolean(n.dayCellContent||bl("dayCellContent",n))}function Kb(n){let{date:o,dateEnv:t,dateProfile:i,isMonthStart:s}=n,d=Wm(o,n.todayRange,null,i),T=n.showDayNumber?t.format(o,s?n.monthStartFormat:uC):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(o),view:n.viewApi},d),{isMonthStart:s,dayNumberText:T}),n.extraRenderProps)}class Mf extends is{render(){let{props:o}=this,{seg:t}=o;return cn(Qp,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:qb,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:o.isPast,isFuture:o.isFuture,isToday:o.isToday,disableDragging:!0,disableResizing:!0})}}function qb(n){let{title:o}=n.event;return o&&cn("div",{className:"fc-event-title"},n.event.title)}function Ar(n){return cn("div",{className:`fc-${n}`})}const Of=n=>cn(gc.Consumer,null,o=>{let{dateEnv:t,options:i}=o,{date:s}=n,d=i.weekNumberFormat||n.defaultFormat,T=t.computeWeekNumber(s),W=t.format(s,d);return cn($r,Object.assign({},n,{renderProps:{num:T,text:W,date:s},generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:$b,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount}))});function $b(n){return n.text}class pC extends is{constructor(){super(...arguments),this.state={titleId:Hl()},this.handleRootEl=o=>{this.rootEl=o,this.props.elRef&&Cl(this.props.elRef,o)},this.handleDocumentMouseDown=o=>{const t=Gh(o);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=o=>{"Escape"===o.key&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:o}=this.props;o&&o()}}render(){let{theme:o,options:t}=this.context,{props:i,state:s}=this,d=["fc-popover",o.getClass("popover")].concat(i.extraClassNames||[]);return function lp(n,o){var t=cn(Rh,{__v:n,i:o});return t.containerInfo=o,t}(cn("div",Object.assign({},i.extraAttrs,{id:i.id,className:d.join(" "),"aria-labelledby":s.titleId,ref:this.handleRootEl}),cn("div",{className:"fc-popover-header "+o.getClass("popoverHeader")},cn("span",{className:"fc-popover-title",id:s.titleId},i.title),cn("span",{className:"fc-popover-close "+o.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),cn("div",{className:"fc-popover-body "+o.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:o}=this.context,{alignmentEl:t,alignGridTop:i}=this.props,{rootEl:s}=this,d=function bd(n){let o=rg(n),t=n.getBoundingClientRect();for(let i of o){let s=zm(t,i.getBoundingClientRect());if(!s)return null;t=s}return t}(t);if(d){let T=s.getBoundingClientRect(),W=i?zr(t,".fc-scrollgrid").getBoundingClientRect().top:d.top,Ce=o?d.right-T.width:d.left;W=Math.max(W,10),Ce=Math.min(Ce,document.documentElement.clientWidth-10-T.width),Ce=Math.max(Ce,10);let qe=s.offsetParent.getBoundingClientRect();uu(s,{top:W-qe.top,left:Ce-qe.left})}}}class Xb extends nl{constructor(){super(...arguments),this.handleRootEl=o=>{this.rootEl=o,o?this.context.registerInteractiveComponent(this,{el:o,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:o,dateEnv:t}=this.context,{props:i}=this,{startDate:s,todayRange:d,dateProfile:T}=i,W=t.format(s,o.dayPopoverFormat);return cn(dC,{elRef:this.handleRootEl,date:s,dateProfile:T,todayRange:d},(Ce,qe,Xe)=>cn(pC,{elRef:Xe.ref,id:i.id,title:W,extraClassNames:["fc-more-popover"].concat(Xe.className||[]),extraAttrs:Xe,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},Df(o)&&cn(Ce,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(o,t,i,s){let{rootEl:d,props:T}=this;return o>=0&&o<i&&t>=0&&t<s?{dateProfile:T.dateProfile,dateSpan:Object.assign({allDay:!T.forceTimed,range:{start:T.startDate,end:T.endDate}},T.extraDateSpan),dayEl:d,rect:{left:0,top:0,right:i,bottom:s},layer:1}:null}}class Lf extends is{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Hl()},this.handleLinkEl=o=>{this.linkEl=o,this.props.elRef&&Cl(this.props.elRef,o)},this.handleClick=o=>{let{props:t,context:i}=this,{moreLinkClick:s}=i.options,d=wu(t).start;function T(W){let{def:Ce,instance:qe,range:Xe}=W.eventRange;return{event:new xs(i,Ce,qe),start:i.dateEnv.toDate(Xe.start),end:i.dateEnv.toDate(Xe.end),isStart:W.isStart,isEnd:W.isEnd}}"function"==typeof s&&(s=s({date:d,allDay:Boolean(t.allDayDate),allSegs:t.allSegs.map(T),hiddenSegs:t.hiddenSegs.map(T),jsEvent:o,view:i.viewApi})),s&&"popover"!==s?"string"==typeof s&&i.calendarApi.zoomTo(d,s):this.setState({isPopoverOpen:!0})},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:o,state:t}=this;return cn(gc.Consumer,null,i=>{let{viewApi:s,options:d,calendarApi:T}=i,{moreLinkText:W}=d,{moreCnt:Ce}=o,qe=wu(o),Xe="function"==typeof W?W.call(T,Ce):`+${Ce} ${W}`,$t=m(d.moreLinkHint,[Ce],Xe),jt={num:Ce,shortText:`+${Ce}`,text:Xe,view:s};return cn(jo,null,Boolean(o.moreCnt)&&cn($r,{elTag:o.elTag||"a",elRef:this.handleLinkEl,elClasses:[...o.elClasses||[],"fc-more-link"],elStyle:o.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},o.elAttrs),yp(this.handleClick)),{title:$t,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:jt,generatorName:"moreLinkContent",customGenerator:d.moreLinkContent,defaultGenerator:o.defaultGenerator||hC,classNameGenerator:d.moreLinkClassNames,didMount:d.moreLinkDidMount,willUnmount:d.moreLinkWillUnmount},o.children),t.isPopoverOpen&&cn(Xb,{id:t.popoverId,startDate:qe.start,endDate:qe.end,dateProfile:o.dateProfile,todayRange:o.todayRange,extraDateSpan:o.extraDateSpan,parentEl:this.parentEl,alignmentEl:o.alignmentElRef?o.alignmentElRef.current:this.linkEl,alignGridTop:o.alignGridTop,forceTimed:o.forceTimed,onClose:this.handlePopoverClose},o.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=zr(this.linkEl,".fc-view-harness"))}}function hC(n){return n.text}function wu(n){if(n.allDayDate)return{start:n.allDayDate,end:Qs(n.allDayDate,1)};let{hiddenSegs:o}=n;return{start:gC(o),end:mC(o)}}function gC(n){return n.reduce(ey).eventRange.range.start}function ey(n,o){return n.eventRange.range.start<o.eventRange.range.start?n:o}function mC(n){return n.reduce(ty).eventRange.range.end}function ty(n,o){return n.eventRange.range.end>o.eventRange.range.end?n:o}class Od extends is{render(){let{props:o,context:t}=this,{options:i}=t,s={view:t.viewApi};return cn($r,Object.assign({},o,{elTag:o.elTag||"div",elClasses:[...ny(o.viewSpec),...o.elClasses||[]],renderProps:s,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount}),()=>o.children)}}function ny(n){return[`fc-${n.type}-view`,"fc-view"]}const Rf={id:String,defaultAllDay:Boolean,url:String,format:String,events:Zn,eventDataTransform:Zn,success:Zn,failure:Zn};function Ag(n,o,t=ol(o)){let i;if("string"==typeof n?i={url:n}:"function"==typeof n||Array.isArray(n)?i={events:n}:"object"==typeof n&&n&&(i=n),i){let{refined:s,extra:d}=qh(i,t),T=function iy(n,o){let t=o.pluginHooks.eventSourceDefs;for(let i=t.length-1;i>=0;i-=1){let d=t[i].parseMeta(n);if(d)return{sourceDefId:i,meta:d}}return null}(s,o);if(T)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:s.defaultAllDay,eventDataTransform:s.eventDataTransform,success:s.success,failure:s.failure,publicId:s.id||"",sourceId:ml(),sourceDefId:T.sourceDefId,meta:T.meta,ui:Dp(s,o),extendedProps:d}}return null}function ol(n){return Object.assign(Object.assign(Object.assign({},_u),Rf),n.pluginHooks.eventSourceRefiners)}class yl extends class Yl{constructor(){this.handlers=[]}set(o){this.currentValue=o;for(let t of this.handlers)t(o)}subscribe(o){this.handlers.push(o),void 0!==this.currentValue&&o(this.currentValue)}}{constructor(){super(...arguments),this.map=new Map}handle(o){const{map:t}=this;let i=!1;o.isActive?(t.set(o.id,o),i=!0):t.has(o.id)&&(t.delete(o.id),i=!0),i&&this.set(t)}}const xl=[],Nf={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},Ff=Object.assign(Object.assign({},Nf),{buttonHints:{prev:"Previous $0",next:"Next $0",today:(n,o)=>"day"===o?"Today":`This ${n}`},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:n=>`Show ${n} more event${1===n?"":"s"}`});function _C(n){let o=n.length>0?n[0].code:"en",t=xl.concat(n),i={en:Ff};for(let s of t)i[s.code]=s;return{map:i,defaultCode:o}}function Bf(n,o){return"object"!=typeof n||Array.isArray(n)?function oy(n,o){let t=[].concat(n||[]),i=function sy(n,o){for(let t=0;t<n.length;t+=1){let i=n[t].toLocaleLowerCase().split("-");for(let s=i.length;s>0;s-=1){let d=i.slice(0,s).join("-");if(o[d])return o[d]}}return null}(t,o)||Ff;return wg(n,t,i)}(n,o):wg(n.code,[n.code],n)}function wg(n,o,t){let i=fi([Nf,t],["buttonText"]);delete i.code;let{week:s}=i;return delete i.week,{codeArg:n,codes:o,week:s,simpleNumberFormat:new Intl.NumberFormat(n),options:i}}function La(n){return{id:ml(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function ay(n,o){return{premiumReleaseDate:vC(n.premiumReleaseDate,o.premiumReleaseDate),reducers:n.reducers.concat(o.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(o.isLoadingFuncs),contextInit:n.contextInit.concat(o.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),o.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(o.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),o.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(o.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(o.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(o.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(o.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(o.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(o.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),o.views),viewPropsTransformers:n.viewPropsTransformers.concat(o.viewPropsTransformers),isPropsValid:o.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(o.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(o.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(o.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(o.calendarInteractions),componentInteractions:n.componentInteractions.concat(o.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),o.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(o.eventSourceDefs),cmdFormatter:o.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(o.recurringTypes),namedTimeZonedImpl:o.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||o.initialView,elementDraggingImpl:n.elementDraggingImpl||o.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),o.optionChangeHandlers),scrollGridImpl:o.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),o.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),o.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),o.propSetHandlers)}}function vC(n,o){return void 0===n?o:void 0===o?n:new Date(Math.max(n.valueOf(),o.valueOf()))}class fc extends Np{}function Zf(n,o,t,i){if(o[n])return o[n];let s=function bC(n,o,t,i){let s=t[n],d=i[n],T=Xe=>s&&null!==s[Xe]?s[Xe]:d&&null!==d[Xe]?d[Xe]:null,W=T("component"),Ce=T("superType"),qe=null;if(Ce){if(Ce===n)throw new Error("Can't have a custom view type that references itself");qe=Zf(Ce,o,t,i)}return!W&&qe&&(W=qe.component),W?{type:n,component:W,defaults:Object.assign(Object.assign({},qe?qe.defaults:{}),s?s.rawOptions:{}),overrides:Object.assign(Object.assign({},qe?qe.overrides:{}),d?d.rawOptions:{})}:null}(n,o,t,i);return s&&(o[n]=s),s}function Uf(n){return Si(n,Hf)}function Hf(n){let o="function"==typeof n?{component:n}:n,{component:t}=o;return o.content&&(t=function Sg(n){return o=>cn(gc.Consumer,null,t=>cn($r,{elTag:"div",elClasses:ny(t.viewSpec),renderProps:Object.assign(Object.assign({},o),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}(o)),{superType:o.type,component:t,rawOptions:o}}function Vf(n,o,t,i){let s=Uf(n),d=Uf(o.views),T=function Eg(n,o){let i,t={};for(i in n)Zf(i,t,n,o);for(i in o)Zf(i,t,n,o);return t}(s,d);return Si(T,W=>function zf(n,o,t,i,s){let d=n.overrides.duration||n.defaults.duration||i.duration||t.duration,T=null,W="",Ce="",qe={};if(d&&(T=function yC(n){let o=JSON.stringify(n),t=kg[o];return void 0===t&&(t=H(n),kg[o]=t),t}(d),T)){let jt=Gn(T);W=jt.unit,1===jt.value&&(Ce=W,qe=o[W]?o[W].rawOptions:{})}let Xe=jt=>{let Wt=jt.buttonText||{},_n=n.defaults.buttonTextKey;return null!=_n&&null!=Wt[_n]?Wt[_n]:null!=Wt[n.type]?Wt[n.type]:null!=Wt[Ce]?Wt[Ce]:null},$t=jt=>{let Wt=jt.buttonHints||{},_n=n.defaults.buttonTextKey;return null!=_n&&null!=Wt[_n]?Wt[_n]:null!=Wt[n.type]?Wt[n.type]:null!=Wt[Ce]?Wt[Ce]:null};return{type:n.type,component:n.component,duration:T,durationUnit:W,singleUnit:Ce,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},qe),n.overrides),buttonTextOverride:Xe(i)||Xe(t)||n.overrides.buttonText,buttonTextDefault:Xe(s)||n.defaults.buttonText||Xe(Sp)||n.type,buttonTitleOverride:$t(i)||$t(t)||n.overrides.buttonHint,buttonTitleDefault:$t(s)||n.defaults.buttonHint||$t(Sp)}}(W,d,o,t,i))}fc.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},fc.prototype.baseIconClass="fc-icon",fc.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},fc.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},fc.prototype.iconOverrideOption="buttonIcons",fc.prototype.iconOverrideCustomButtonOption="icon",fc.prototype.iconOverridePrefix="fc-icon-";let kg={};function wC(n){for(let o in n)if(n[o].isFetching)return!0;return!1}function EC(n,o,t,i){let s={};for(let d of o)s[d.sourceId]=d;return t&&(s=SC(s,t,i)),Object.assign(Object.assign({},n),s)}function SC(n,o,t){return Jf(n,gi(n,i=>function dy(n,o,t){return DC(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||o.start<n.fetchRange.start||o.end>n.fetchRange.end:!n.latestFetchId}(i,o,t)),o,!1,t)}function Jf(n,o,t,i,s){let d={};for(let T in n){let W=n[T];d[T]=o[T]?py(W,t,i,s):W}return d}function py(n,o,t,i){let{options:s,calendarApi:d}=i,T=i.pluginHooks.eventSourceDefs[n.sourceDefId],W=ml();return T.fetch({eventSource:n,range:o,isRefetch:t,context:i},Ce=>{let{rawEvents:qe}=Ce;s.eventSourceSuccess&&(qe=s.eventSourceSuccess.call(d,qe,Ce.response)||qe),n.success&&(qe=n.success.call(d,qe,Ce.response)||qe),i.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:W,fetchRange:o,rawEvents:qe})},Ce=>{let qe=!1;s.eventSourceFailure&&(s.eventSourceFailure.call(d,Ce),qe=!0),n.failure&&(n.failure(Ce),qe=!0),qe||console.warn(Ce.message,Ce),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:W,fetchRange:o,error:Ce})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:W})}function kC(n,o){return gi(n,t=>DC(t,o))}function DC(n,o){return!o.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function my(n,o){switch(o.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return o.selection;default:return n}}function fy(n,o){switch(o.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return o.eventInstanceId;default:return n}}function _y(n,o){let t;switch(o.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=o.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function Cy(n,o){let t;switch(o.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=o.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function vy(n,o,t,i,s){return{header:n.headerToolbar?Qf(n.headerToolbar,n,o,t,i,s):null,footer:n.footerToolbar?Qf(n.footerToolbar,n,o,t,i,s):null}}function Qf(n,o,t,i,s,d){let T={},W=[],Ce=!1;for(let qe in n){let $t=MC(n[qe],o,t,i,s,d);T[qe]=$t.widgets,W.push(...$t.viewsWithButtons),Ce=Ce||$t.hasTitle}return{sectionWidgets:T,viewsWithButtons:W,hasTitle:Ce}}function MC(n,o,t,i,s,d){let T="rtl"===o.direction,W=o.customButtons||{},Ce=t.buttonText||{},qe=o.buttonText||{},Xe=t.buttonHints||{},$t=o.buttonHints||{},jt=n?n.split(" "):[],Wt=[],_n=!1;return{widgets:jt.map(Rn=>Rn.split(",").map(jn=>{if("title"===jn)return _n=!0,{buttonName:jn};let Ti,io,Ji,Eo,ps,Ps;if(Ti=W[jn])Ji=ko=>{Ti.click&&Ti.click.call(ko.target,ko,ko.target)},(Eo=i.getCustomButtonIconClass(Ti))||(Eo=i.getIconClass(jn,T))||(ps=Ti.text),Ps=Ti.hint||Ti.text;else if(io=s[jn]){Wt.push(jn),Ji=()=>{d.changeView(jn)},(ps=io.buttonTextOverride)||(Eo=i.getIconClass(jn,T))||(ps=io.buttonTextDefault);let ko=io.buttonTextOverride||io.buttonTextDefault;Ps=m(io.buttonTitleOverride||io.buttonTitleDefault||o.viewHint,[ko,jn],ko)}else if(d[jn])if(Ji=()=>{d[jn]()},(ps=Ce[jn])||(Eo=i.getIconClass(jn,T))||(ps=qe[jn]),"prevYear"===jn||"nextYear"===jn){let ko="prevYear"===jn?"prev":"next";Ps=m(Xe[ko]||$t[ko],[qe.year||"year","year"],qe[jn])}else Ps=ko=>m(Xe[jn]||$t[jn],[qe[ko]||ko,ko],qe[jn]);return{buttonName:jn,buttonClick:Ji,buttonIcon:Eo,buttonText:ps,buttonHint:Ps}})),viewsWithButtons:Wt,hasTitle:_n}}class OC{constructor(o,t,i){this.type=o,this.getCurrentData=t,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(o){return this.getCurrentData().options[o]}}function Dg(n,o){let t=lo(o.getCurrentData().eventSources);if(1===t.length&&1===n.length&&Array.isArray(t[0]._raw)&&Array.isArray(n[0]))return void o.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});let i=[];for(let s of n){let d=!1;for(let T=0;T<t.length;T+=1)if(t[T]._raw===s){t.splice(T,1),d=!0;break}d||i.push(s)}for(let s of t)o.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:s.sourceId});for(let s of i)o.calendarApi.addEventSource(s)}const BC=[La({name:"array-event-source",eventSourceDefs:[{ignoreRange:!0,parseMeta:n=>Array.isArray(n.events)?n.events:null,fetch(n,o){o({rawEvents:n.eventSource.meta})}}]}),La({name:"func-event-source",eventSourceDefs:[{parseMeta:n=>"function"==typeof n.events?n.events:null,fetch(n,o,t){const{dateEnv:i}=n.context;!function ag(n,o,t){let i=!1,s=function(W){i||(i=!0,o(W))},d=function(W){i||(i=!0,t(W))},T=n(s,d);T&&"function"==typeof T.then&&T.then(s,d)}(n.eventSource.meta.bind(null,xd(n.range,i)),d=>o({rawEvents:d}),t)}}]}),La({name:"json-event-source",eventSourceRefiners:{method:String,extraParams:Zn,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:n=>!n.url||"json"!==n.format&&n.format?null:{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam},fetch(n,o,t){const{meta:i}=n.eventSource,s=function NC(n,o,t){let d,T,W,Ce,{dateEnv:i,options:s}=t,qe={};return d=n.startParam,null==d&&(d=s.startParam),T=n.endParam,null==T&&(T=s.endParam),W=n.timeZoneParam,null==W&&(W=s.timeZoneParam),Ce="function"==typeof n.extraParams?n.extraParams():n.extraParams||{},Object.assign(qe,Ce),qe[d]=i.formatIso(o.start),qe[T]=i.formatIso(o.end),"local"!==i.timeZone&&(qe[W]=i.timeZone),qe}(i,n.range,n.context);(function Tf(n,o,t){const i={method:n=n.toUpperCase()};return"GET"===n?o+=(-1===o.indexOf("?")?"?":"&")+new URLSearchParams(t):(i.body=new URLSearchParams(t),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(o,i).then(s=>{if(s.ok)return s.json().then(d=>[d,s],()=>{throw new Jp("Failure parsing JSON",s)});throw new Jp("Request failed",s)})})(i.method,i.url,s).then(([d,T])=>{o({rawEvents:d,response:T})},t)}}]}),La({name:"simple-recurring-event",recurringTypes:[{parse(n,o){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let i,t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?o.createMarker(n.startRecur):null,endRecur:n.endRecur?o.createMarker(n.endRecur):null};return n.duration&&(i=n.duration),!i&&n.startTime&&n.endTime&&(i=function Ft(n,o){return{years:n.years-o.years,months:n.months-o.months,days:n.days-o.days,milliseconds:n.milliseconds-o.milliseconds}}(n.endTime,n.startTime)),{allDayGuess:Boolean(!n.startTime&&!n.endTime),duration:i,typeData:t}}return null},expand(n,o,t){let i=Cu(o,{start:n.startRecur,end:n.endRecur});return i?function Ld(n,o,t,i){let s=n?po(n):null,d=ds(t.start),T=t.end,W=[];for(;d<T;){let Ce;(!s||s[d.getUTCDay()])&&(Ce=o?i.add(d,o):d,W.push(Ce)),d=Qs(d,1)}return W}(n.daysOfWeek,n.startTime,i,t):[]}}],eventRefiners:{daysOfWeek:Zn,startTime:H,endTime:H,duration:H,startRecur:Zn,endRecur:Zn}}),La({name:"change-handler",optionChangeHandlers:{events(n,o){Dg([n],o)},eventSources:Dg}}),La({name:"misc",isLoadingFuncs:[n=>wC(n.eventSources)],propSetHandlers:{dateProfile:function wI(n,o){o.emitter.trigger("datesSet",Object.assign(Object.assign({},xd(n.activeRange,o.dateEnv)),{view:o.viewApi}))},eventStore:function FC(n,o){let{emitter:t}=o;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",vu(n,o))}}})];class EI{constructor(o,t){this.runTaskOption=o,this.drainedOption=t,this.queue=[],this.delayedRunner=new yg(this.drain.bind(this))}request(o,t){this.queue.push(o),this.delayedRunner.request(t)}pause(o){this.delayedRunner.pause(o)}resume(o,t){this.delayedRunner.resume(o,t)}drain(){let{queue:o}=this;for(;o.length;){let i,t=[];for(;i=o.shift();)this.runTask(i),t.push(i);this.drained(t)}}runTask(o){this.runTaskOption&&this.runTaskOption(o)}drained(o){this.drainedOption&&this.drainedOption(o)}}function zi(n,o,t){let i;return i=/^(year|month)$/.test(n.currentRangeUnit)?n.currentRange:n.activeRange,t.formatRange(i.start,i.end,ys(o.titleFormat||function wy(n){let{currentRangeUnit:o}=n;if("year"===o)return{year:"numeric"};if("month"===o)return{year:"numeric",month:"long"};let t=Am(n.currentRange.start,n.currentRange.end);return null!==t&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:o.titleRangeSeparator})}class Ey{constructor(o){this.computeCurrentViewData=Vi(this._computeCurrentViewData),this.organizeRawLocales=Vi(_C),this.buildLocale=Vi(Bf),this.buildPluginHooks=function CC(){let t,n=[],o=[];return(i,s)=>((!t||!aa(i,n)||!aa(s,o))&&(t=function ry(n,o){let t={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function s(d){for(let T of d){const W=T.name,Ce=t[W];void 0===Ce?(t[W]=T.id,s(T.deps),i=ay(i,T)):Ce!==T.id&&console.warn(`Duplicate plugin '${W}'`)}}return n&&s(n),s(o),i}(i,s)),n=i,o=s,t)}(),this.buildDateEnv=Vi(Sy),this.buildTheme=Vi(Rd),this.parseToolbars=Vi(vy),this.buildViewSpecs=Vi(Vf),this.buildDateProfileGenerator=Yh(ky),this.buildViewApi=Vi(Mg),this.buildViewUiProps=Yh(SI),this.buildEventUiBySource=Vi(Og,ro),this.buildEventUiBases=Vi(nr),this.parseContextBusinessHours=Yh(ZC),this.buildTitle=Vi(zi),this.emitter=new Pp,this.actionRunner=new EI(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=jt=>{this.actionRunner.request(jt)},this.props=o,this.actionRunner.pause();let t={},i=this.computeOptionsData(o.optionOverrides,t,o.calendarApi),s=i.calendarOptions.initialView||i.pluginHooks.initialView,d=this.computeCurrentViewData(s,i,o.optionOverrides,t);o.calendarApi.currentDataManager=this,this.emitter.setThisContext(o.calendarApi),this.emitter.setOptions(d.options);let T=function Nb(n,o){let t=n.initialDate;return null!=t?o.createMarker(t):Bp(n.now,o)}(i.calendarOptions,i.dateEnv),W=d.dateProfileGenerator.build(T);pa(W.activeRange,T)||(T=W.currentRange.start);let Ce={dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:o.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let jt of i.pluginHooks.contextInit)jt(Ce);let qe=function AC(n,o,t){let i=o?o.activeRange:null;return EC({},function gy(n,o){let t=ol(o),i=[].concat(n.eventSources||[]),s=[];n.initialEvents&&i.unshift(n.initialEvents),n.events&&i.unshift(n.events);for(let d of i){let T=Ag(d,o,t);T&&s.push(T)}return s}(n,t),i,t)}(i.calendarOptions,W,Ce),Xe={dynamicOptionOverrides:t,currentViewType:s,currentDate:T,dateProfile:W,businessHours:this.parseContextBusinessHours(Ce),eventSources:qe,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(Ce).selectionConfig},$t=Object.assign(Object.assign({},Ce),Xe);for(let jt of i.pluginHooks.reducers)Object.assign(Xe,jt(null,null,$t));Pg(Xe,Ce)&&this.emitter.trigger("loading",!0),this.state=Xe,this.updateData(),this.actionRunner.resume()}resetOptions(o,t){let{props:i}=this;void 0===t?i.optionOverrides=o:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),o),this.optionsForRefining.push(...t)),(void 0===t||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(o){let{props:t,state:i,emitter:s}=this,d=function IC(n,o){return"SET_OPTION"===o.type?Object.assign(Object.assign({},n),{[o.optionName]:o.rawOptionValue}):n}(i.dynamicOptionOverrides,o),T=this.computeOptionsData(t.optionOverrides,d,t.calendarApi),W=function xC(n,o){return"CHANGE_VIEW_TYPE"===o.type&&(n=o.viewType),n}(i.currentViewType,o),Ce=this.computeCurrentViewData(W,T,t.optionOverrides,d);t.calendarApi.currentDataManager=this,s.setThisContext(t.calendarApi),s.setOptions(Ce.options);let qe={dateEnv:T.dateEnv,options:T.calendarOptions,pluginHooks:T.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:s,getCurrentData:this.getCurrentData},{currentDate:Xe,dateProfile:$t}=i;this.data&&this.data.dateProfileGenerator!==Ce.dateProfileGenerator&&($t=Ce.dateProfileGenerator.build(Xe)),Xe=function Rb(n,o){return"CHANGE_DATE"===o.type?o.dateMarker:n}(Xe,o),$t=function TC(n,o,t,i){let s;switch(o.type){case"CHANGE_VIEW_TYPE":return i.build(o.dateMarker||t);case"CHANGE_DATE":return i.build(o.dateMarker);case"PREV":if(s=i.buildPrev(n,t),s.isValid)return s;break;case"NEXT":if(s=i.buildNext(n,t),s.isValid)return s}return n}($t,o,Xe,Ce.dateProfileGenerator),("PREV"===o.type||"NEXT"===o.type||!pa($t.currentRange,Xe))&&(Xe=$t.currentRange.start);let jt=function ly(n,o,t,i){let s=t?t.activeRange:null;switch(o.type){case"ADD_EVENT_SOURCES":return EC(n,o.sources,s,i);case"REMOVE_EVENT_SOURCE":return function uy(n,o){return gi(n,t=>t.sourceId!==o)}(n,o.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?SC(n,s,i):n;case"FETCH_EVENT_SOURCES":return Jf(n,o.sourceIds?po(o.sourceIds):kC(n,i),s,o.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function hy(n,o,t,i){let s=n[o];return s&&t===s.latestFetchId?Object.assign(Object.assign({},n),{[o]:Object.assign(Object.assign({},s),{isFetching:!1,fetchRange:i})}):n}(n,o.sourceId,o.fetchId,o.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}(i.eventSources,o,$t,qe),Wt=function Y0(n,o,t,i,s){switch(o.type){case"RECEIVE_EVENTS":return function j0(n,o,t,i,s,d){if(o&&t===o.latestFetchId){let T=md(Cf(s,o,d),o,d);return i&&(T=Hc(T,i,d)),Rm($0(n,o.sourceId),T)}return n}(n,t[o.sourceId],o.fetchId,o.fetchRange,o.rawEvents,s);case"RESET_RAW_EVENTS":return function K0(n,o,t,i,s){const{defIdMap:d,instanceIdMap:T}=function X0(n){const{defs:o,instances:t}=n,i={},s={};for(let d in o){const T=o[d],{publicId:W}=T;W&&(i[W]=d)}for(let d in t){const W=o[t[d].defId],{publicId:Ce}=W;Ce&&(s[Ce]=d)}return{defIdMap:i,instanceIdMap:s}}(n);return Hc(md(Cf(t,o,s),o,s,!1,d,T),i,s)}(n,t[o.sourceId],o.rawEvents,i.activeRange,s);case"ADD_EVENTS":return function q0(n,o,t,i){return t&&(o=Hc(o,t,i)),Rm(n,o)}(n,o.eventStore,i?i.activeRange:null,s);case"RESET_EVENTS":return o.eventStore;case"MERGE_EVENTS":return Rm(n,o.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?Hc(n,i.activeRange,s):n;case"REMOVE_EVENTS":return function fd(n,o){let{defs:t,instances:i}=n,s={},d={};for(let T in t)o.defs[T]||(s[T]=t[T]);for(let T in i)!o.instances[T]&&s[i[T].defId]&&(d[T]=i[T]);return{defs:s,instances:d}}(n,o.eventStore);case"REMOVE_EVENT_SOURCE":return $0(n,o.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Nm(n,d=>!d.sourceId);case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return n}}(i.eventStore,o,jt,$t,qe),Pn=wC(jt)&&!Ce.options.progressiveEventRendering&&i.renderableEventStore||Wt,{eventUiSingleBase:Rn,selectionConfig:jn}=this.buildViewUiProps(qe),Ti=this.buildEventUiBySource(jt),Ji={dynamicOptionOverrides:d,currentViewType:W,currentDate:Xe,dateProfile:$t,eventSources:jt,eventStore:Wt,renderableEventStore:Pn,selectionConfig:jn,eventUiBases:this.buildEventUiBases(Pn.defs,Rn,Ti),businessHours:this.parseContextBusinessHours(qe),dateSelection:my(i.dateSelection,o),eventSelection:fy(i.eventSelection,o),eventDrag:_y(i.eventDrag,o),eventResize:Cy(i.eventResize,o)},Eo=Object.assign(Object.assign({},qe),Ji);for(let ko of T.pluginHooks.reducers)Object.assign(Ji,ko(i,o,Eo));let ps=Pg(i,qe),Ps=Pg(Ji,qe);!ps&&Ps?s.trigger("loading",!0):ps&&!Ps&&s.trigger("loading",!1),this.state=Ji,t.onAction&&t.onAction(o)}updateData(){let{props:o,state:t}=this,i=this.data,s=this.computeOptionsData(o.optionOverrides,t.dynamicOptionOverrides,o.calendarApi),d=this.computeCurrentViewData(t.currentViewType,s,o.optionOverrides,t.dynamicOptionOverrides),T=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,d.options,s.dateEnv),calendarApi:o.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},s),d),t),W=s.pluginHooks.optionChangeHandlers,Ce=i&&i.calendarOptions,qe=s.calendarOptions;if(Ce&&Ce!==qe){Ce.timeZone!==qe.timeZone&&(t.eventSources=T.eventSources=function cy(n,o,t){let i=o?o.activeRange:null;return Jf(n,kC(n,t),i,!0,t)}(T.eventSources,t.dateProfile,T),t.eventStore=T.eventStore=bf(T.eventStore,i.dateEnv,T.dateEnv),t.renderableEventStore=T.renderableEventStore=bf(T.renderableEventStore,i.dateEnv,T.dateEnv));for(let Xe in W)(-1!==this.optionsForHandling.indexOf(Xe)||Ce[Xe]!==qe[Xe])&&W[Xe](qe[Xe],T)}this.optionsForHandling=[],o.onData&&o.onData(T)}computeOptionsData(o,t,i){if(!this.optionsForRefining.length&&o===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:s,pluginHooks:d,localeDefaults:T,availableLocaleData:W,extra:Ce}=this.processRawCalendarOptions(o,t);UC(Ce);let qe=this.buildDateEnv(s.timeZone,s.locale,s.weekNumberCalculation,s.firstDay,s.weekText,d,W,s.defaultRangeSeparator),Xe=this.buildViewSpecs(d.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,T),$t=this.buildTheme(s,d),jt=this.parseToolbars(s,this.stableOptionOverrides,$t,Xe,i);return this.stableCalendarOptionsData={calendarOptions:s,pluginHooks:d,dateEnv:qe,viewSpecs:Xe,theme:$t,toolbarConfig:jt,localeDefaults:T,availableRawLocales:W.map}}processRawCalendarOptions(o,t){let{locales:i,locale:s}=Pm([Sp,o,t]),d=this.organizeRawLocales(i),W=this.buildLocale(s||d.defaultCode,d.map).options,Ce=this.buildPluginHooks(o.plugins||[],BC),qe=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},yb),fu),_0),Ce.listenerRefiners),Ce.optionRefiners),Xe={},$t=Pm([Sp,W,o,t]),jt={},Wt=this.currentCalendarOptionsInput,_n=this.currentCalendarOptionsRefined,Pn=!1;for(let Rn in $t)-1===this.optionsForRefining.indexOf(Rn)&&($t[Rn]===Wt[Rn]||Uc[Rn]&&Rn in Wt&&Uc[Rn](Wt[Rn],$t[Rn]))?jt[Rn]=_n[Rn]:qe[Rn]?(jt[Rn]=qe[Rn]($t[Rn]),Pn=!0):Xe[Rn]=Wt[Rn];return Pn&&(this.currentCalendarOptionsInput=$t,this.currentCalendarOptionsRefined=jt,this.stableOptionOverrides=o,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:Ce,availableLocaleData:d,localeDefaults:W,extra:Xe}}_computeCurrentViewData(o,t,i,s){let d=t.viewSpecs[o];if(!d)throw new Error(`viewType "${o}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:T,extra:W}=this.processRawViewOptions(d,t.pluginHooks,t.localeDefaults,i,s);return UC(W),{viewSpec:d,options:T,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:d.optionDefaults.dateProfileGeneratorClass,duration:d.duration,durationUnit:d.durationUnit,usesMinMaxTime:d.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:T.slotMinTime,slotMaxTime:T.slotMaxTime,showNonCurrentDates:T.showNonCurrentDates,dayCount:T.dayCount,dateAlignment:T.dateAlignment,dateIncrement:T.dateIncrement,hiddenDays:T.hiddenDays,weekends:T.weekends,nowInput:T.now,validRangeInput:T.validRange,visibleRangeInput:T.visibleRange,fixedWeekCount:T.fixedWeekCount}),viewApi:this.buildViewApi(o,this.getCurrentData,t.dateEnv)}}processRawViewOptions(o,t,i,s,d){let T=Pm([Sp,o.optionDefaults,i,s,o.optionOverrides,d]),W=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},yb),fu),_0),C0),t.listenerRefiners),t.optionRefiners),Ce={},qe=this.currentViewOptionsInput,Xe=this.currentViewOptionsRefined,$t=!1,jt={};for(let Wt in T)T[Wt]===qe[Wt]||Uc[Wt]&&Uc[Wt](T[Wt],qe[Wt])?Ce[Wt]=Xe[Wt]:(T[Wt]===this.currentCalendarOptionsInput[Wt]||Uc[Wt]&&Uc[Wt](T[Wt],this.currentCalendarOptionsInput[Wt])?Wt in this.currentCalendarOptionsRefined&&(Ce[Wt]=this.currentCalendarOptionsRefined[Wt]):W[Wt]?Ce[Wt]=W[Wt](T[Wt]):jt[Wt]=T[Wt],$t=!0);return $t&&(this.currentViewOptionsInput=T,this.currentViewOptionsRefined=Ce),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:jt}}}function Sy(n,o,t,i,s,d,T,W){let Ce=Bf(o||T.defaultCode,T.map);return new Vb({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:d.namedTimeZonedImpl,locale:Ce,weekNumberCalculation:t,firstDay:i,weekText:s,cmdFormatter:d.cmdFormatter,defaultSeparator:W})}function Rd(n,o){return new(o.themeClasses[n.themeSystem]||fc)(n)}function ky(n){return new(n.dateProfileGeneratorClass||Xm)(n)}function Mg(n,o,t){return new OC(n,o,t)}function Og(n){return Si(n,o=>o.ui)}function nr(n,o,t){let i={"":o};for(let s in n){let d=n[s];d.sourceId&&t[d.sourceId]&&(i[s]=t[d.sourceId])}return i}function SI(n){let{options:o}=n;return{eventUiSingleBase:Dp({display:o.eventDisplay,editable:o.editable,startEditable:o.eventStartEditable,durationEditable:o.eventDurationEditable,constraint:o.eventConstraint,overlap:"boolean"==typeof o.eventOverlap?o.eventOverlap:void 0,allow:o.eventAllow,backgroundColor:o.eventBackgroundColor,borderColor:o.eventBorderColor,textColor:o.eventTextColor,color:o.eventColor},n),selectionConfig:Dp({constraint:o.selectConstraint,overlap:"boolean"==typeof o.selectOverlap?o.selectOverlap:void 0,allow:o.selectAllow},n)}}function Pg(n,o){for(let t of o.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function ZC(n){return function Um(n,o){return md(function Hm(n){let o;return o=!0===n?[{}]:Array.isArray(n)?n.filter(t=>t.daysOfWeek):"object"==typeof n&&n?[n]:[],o=o.map(t=>Object.assign(Object.assign({},Zm),t)),o}(n),null,o)}(n.options.businessHours,n)}function UC(n,o){for(let t in n)console.warn(`Unknown option '${t}'`+(o?` for view '${o}'`:""))}class HC extends is{render(){return cn("div",{className:"fc-toolbar-chunk"},...this.props.widgetGroups.map(t=>this.renderWidgetGroup(t)))}renderWidgetGroup(o){let{props:t}=this,{theme:i}=this.context,s=[],d=!0;for(let T of o){let{buttonName:W,buttonClick:Ce,buttonText:qe,buttonIcon:Xe,buttonHint:$t}=T;if("title"===W)d=!1,s.push(cn("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let jt=W===t.activeButton,Wt=!t.isTodayEnabled&&"today"===W||!t.isPrevEnabled&&"prev"===W||!t.isNextEnabled&&"next"===W,_n=[`fc-${W}-button`,i.getClass("button")];jt&&_n.push(i.getClass("buttonActive")),s.push(cn("button",{type:"button",title:"function"==typeof $t?$t(t.navUnit):$t,disabled:Wt,"aria-pressed":jt,className:_n.join(" "),onClick:Ce},qe||(Xe?cn("span",{className:Xe}):"")))}}return s.length>1?cn("div",{className:d&&i.getClass("buttonGroup")||""},...s):s[0]}}class Gf extends is{render(){let s,d,{model:o,extraClassName:t}=this.props,i=!1,T=o.sectionWidgets,W=T.center;return T.left?(i=!0,s=T.left):s=T.start,T.right?(i=!0,d=T.right):d=T.end,cn("div",{className:[t||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",s||[]),this.renderSection("center",W||[]),this.renderSection("end",d||[]))}renderSection(o,t){let{props:i}=this;return cn(HC,{key:o,widgetGroups:t,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}}class VC extends is{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=o=>{this.el=o,Cl(this.props.elRef,o),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:o,state:t}=this,{aspectRatio:i}=o,d="",T="";return i?null!==t.availableWidth?d=t.availableWidth/i:T=1/i*100+"%":d=o.height||"",cn("div",{"aria-labelledby":o.labeledById,ref:this.handleEl,className:["fc-view-harness",i||o.liquid||o.height?"fc-view-harness-active":"fc-view-harness-passive"].join(" "),style:{height:d,paddingBottom:T}},o.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class zC extends Id{constructor(o){super(o),this.handleSegClick=(t,i)=>{let{component:s}=this,{context:d}=s,T=yd(i);if(T&&s.isValidSegDownEl(t.target)){let W=zr(t.target,".fc-event-forced-url"),Ce=W?W.querySelector("a[href]").href:"";d.emitter.trigger("eventClick",{el:i,event:new xs(s.context,T.eventRange.def,T.eventRange.instance),jsEvent:t,view:d.viewApi}),Ce&&!t.defaultPrevented&&(window.location.href=Ce)}},this.destroy=Vl(o.el,"click",".fc-event",this.handleSegClick)}}class Dy extends Id{constructor(o){super(o),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,i)=>{yd(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",t,i))},this.handleSegLeave=(t,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,i))},this.removeHoverListeners=function pu(n,o,t,i){let s;return Vl(n,"mouseover",o,(d,T)=>{if(T!==s){s=T,t(d,T);let W=Ce=>{s=null,i(Ce,T),T.removeEventListener("mouseleave",W)};T.addEventListener("mouseleave",W)}})}(o.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(o,t,i){let{component:s}=this,{context:d}=s,T=yd(i);(!t||s.isValidSegDownEl(t.target))&&d.emitter.trigger(o,{el:i,event:new xs(d,T.eventRange.def,T.eventRange.instance),jsEvent:t,view:d.viewApi})}}class My extends Fp{constructor(){super(...arguments),this.buildViewContext=Vi(Ga),this.buildViewPropTransformers=Vi(Gp),this.buildToolbarProps=Vi(Oy),this.headerRef={current:null},this.footerRef={current:null},this.interactionsStore={},this.state={viewLabelId:Hl()},this.registerInteractiveComponent=(o,t)=>{let i=function zb(n,o){return{component:n,el:o.el,useEventCenter:null==o.useEventCenter||o.useEventCenter,isHitComboAllowed:o.isHitComboAllowed||null}}(o,t),T=[zC,Dy].concat(this.props.pluginHooks.componentInteractions).map(W=>new W(i));this.interactionsStore[o.uid]=T,gf[o.uid]=i},this.unregisterInteractiveComponent=o=>{let t=this.interactionsStore[o.uid];if(t){for(let i of t)i.destroy();delete this.interactionsStore[o.uid]}delete gf[o.uid]},this.resizeRunner=new yg(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=o=>{let{options:t}=this.props;t.handleWindowResize&&o.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let W,{props:o}=this,{toolbarConfig:t,options:i}=o,s=this.buildToolbarProps(o.viewSpec,o.dateProfile,o.dateProfileGenerator,o.currentDate,Bp(o.options.now,o.dateEnv),o.viewTitle),d=!1,T="";o.isHeightAuto||o.forPrint?T="":null!=i.height?d=!0:null!=i.contentHeight?T=i.contentHeight:W=Math.max(i.aspectRatio,.5);let Ce=this.buildViewContext(o.viewSpec,o.viewApi,o.options,o.dateProfileGenerator,o.dateEnv,o.theme,o.pluginHooks,o.dispatch,o.getCurrentData,o.emitter,o.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),qe=t.header&&t.header.hasTitle?this.state.viewLabelId:"";return cn(gc.Provider,{value:Ce},t.header&&cn(Gf,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:qe},s)),cn(VC,{liquid:d,height:T,aspectRatio:W,labeledById:qe},this.renderView(o),this.buildAppendContent()),t.footer&&cn(Gf,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},s)))}componentDidMount(){let{props:o}=this;this.calendarInteractions=o.pluginHooks.calendarInteractions.map(i=>new i(o)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=o.pluginHooks;for(let i in t)t[i](o[i],o)}componentDidUpdate(o){let{props:t}=this,{propSetHandlers:i}=t.pluginHooks;for(let s in i)t[s]!==o[s]&&i[s](t[s],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let o of this.calendarInteractions)o.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:o}=this;return cn(jo,{},...o.pluginHooks.viewContainerAppends.map(i=>i(o)))}renderView(o){let{pluginHooks:t}=o,{viewSpec:i}=o,s={dateProfile:o.dateProfile,businessHours:o.businessHours,eventStore:o.renderableEventStore,eventUiBases:o.eventUiBases,dateSelection:o.dateSelection,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,isHeightAuto:o.isHeightAuto,forPrint:o.forPrint},d=this.buildViewPropTransformers(t.viewPropsTransformers);for(let W of d)Object.assign(s,W.transform(s,o));return cn(i.component,Object.assign({},s))}}function Oy(n,o,t,i,s,d){let T=t.build(s,void 0,!1),W=t.buildPrev(o,i,!1),Ce=t.buildNext(o,i,!1);return{title:d,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:T.isValid&&!pa(o.currentRange,s),isPrevEnabled:W.isValid,isNextEnabled:Ce.isValid}}function Gp(n){return n.map(o=>new o)}class Py extends class fC{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(o){this.currentDataManager.dispatch(o)}get view(){return this.getCurrentData().viewApi}batchRendering(o){o()}updateSize(){this.trigger("_resize",!0)}setOption(o,t){this.dispatch({type:"SET_OPTION",optionName:o,rawOptionValue:t})}getOption(o){return this.currentDataManager.currentCalendarOptionsInput[o]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(o,t){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[o]?i.emitter.on(o,t):console.warn(`Unknown listener name '${o}'`)}off(o,t){this.currentDataManager.emitter.off(o,t)}trigger(o,...t){this.currentDataManager.emitter.trigger(o,...t)}changeView(o,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:o}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:o,dateMarker:i.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:o})})}zoomTo(o,t){let s;s=this.getCurrentData().viewSpecs[t=t||"day"]||this.getUnitViewSpec(t),this.unselect(),this.dispatch(s?{type:"CHANGE_VIEW_TYPE",viewType:s.type,dateMarker:o}:{type:"CHANGE_DATE",dateMarker:o})}getUnitViewSpec(o){let d,T,{viewSpecs:t,toolbarConfig:i}=this.getCurrentData(),s=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]);for(let W in t)s.push(W);for(d=0;d<s.length;d+=1)if(T=t[s[d]],T&&T.singleUnit===o)return T;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let o=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:o.dateEnv.addYears(o.currentDate,-1)})}nextYear(){let o=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:o.dateEnv.addYears(o.currentDate,1)})}today(){let o=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Bp(o.calendarOptions.now,o.dateEnv)})}gotoDate(o){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(o)})}incrementDate(o){let t=this.getCurrentData(),i=H(o);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,i)}))}getDate(){let o=this.getCurrentData();return o.dateEnv.toDate(o.currentDate)}formatDate(o,t){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(o),ys(t))}formatRange(o,t,i){let{dateEnv:s}=this.getCurrentData();return s.formatRange(s.createMarker(o),s.createMarker(t),ys(i),i)}formatIso(o,t){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(o),{omitTime:t})}select(o,t){let i;i=null==t?null!=o.start?o:{start:o,end:null}:{start:o,end:t};let s=this.getCurrentData(),d=function z0(n,o,t){let i=function rf(n,o){let{refined:t,extra:i}=qh(n,V0),s=t.start?o.createMarkerMeta(t.start):null,d=t.end?o.createMarkerMeta(t.end):null,{allDay:T}=t;return null==T&&(T=s&&s.isTimeUnspecified&&(!d||d.isTimeUnspecified)),Object.assign({range:{start:s?s.marker:null,end:d?d.marker:null},allDay:T},i)}(n,o),{range:s}=i;if(!s.start)return null;if(!s.end){if(null==t)return null;s.end=o.add(s.start,t)}return i}(i,s.dateEnv,H({days:1}));d&&(this.dispatch({type:"SELECT_DATES",selection:d}),L0(d,null,s))}unselect(o){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function R0(n,o){o.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:o.viewApi||o.calendarApi.view})}(o,t))}addEvent(o,t){if(o instanceof xs){let T=o._def,W=o._instance;return this.getCurrentData().eventStore.defs[T.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:$h({def:T,instance:W})}),this.triggerEventAdd(o)),o}let s,i=this.getCurrentData();if(t instanceof Ia)s=t.internalEventSource;else if("boolean"==typeof t)t&&([s]=lo(i.eventSources));else if(null!=t){let T=this.getEventSourceById(t);if(!T)return console.warn(`Could not find an event source with ID "${t}"`),null;s=T.internalEventSource}let d=eg(o,s,i,!1);if(d){let T=new xs(i,d.def,d.def.recurringDef?null:d.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:$h(d)}),this.triggerEventAdd(T),T}return null}triggerEventAdd(o){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:o,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:B0(o)})}})}getEventById(o){let t=this.getCurrentData(),{defs:i,instances:s}=t.eventStore;o=String(o);for(let d in i){let T=i[d];if(T.publicId===o){if(T.recurringDef)return new xs(t,T,null);for(let W in s){let Ce=s[W];if(Ce.defId===T.defId)return new xs(t,T,Ce)}}}return null}getEvents(){let o=this.getCurrentData();return vu(o.eventStore,o)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let o=this.getCurrentData(),t=o.eventSources,i=[];for(let s in t)i.push(new Ia(o,t[s]));return i}getEventSourceById(o){let t=this.getCurrentData(),i=t.eventSources;o=String(o);for(let s in i)if(i[s].publicId===o)return new Ia(t,i[s]);return null}addEventSource(o){let t=this.getCurrentData();if(o instanceof Ia)return t.eventSources[o.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[o.internalEventSource]}),o;let i=Ag(o,t);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new Ia(t,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(o){let t=H(o);t&&this.trigger("_scrollRequest",{time:t})}}{constructor(o,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;qm(()=>{Va(cn(Hp,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(s,d,T,W)=>(this.setClassNames(s),this.setHeight(d),cn(zc.Provider,{value:this.customContentRenderId},cn(My,Object.assign({isHeightAuto:T,forPrint:W},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Va(null,this.el),this.setClassNames([]),this.setHeight(""))},function Vh(n){mp(n.getRootNode())}(o),this.el=o,this.renderRunner=new yg(this.handleRenderRequest),new Ey({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let o=this.isRendering;o?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),o&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){qm(()=>{super.updateSize()})}batchRendering(o){this.renderRunner.pause("batchRendering"),o(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(o,t){this.currentDataManager.resetOptions(o,t)}setClassNames(o){if(!aa(o,this.currentClassNames)){let{classList:t}=this.el;for(let i of this.currentClassNames)t.remove(i);for(let i of o)t.add(i);this.currentClassNames=o}}setHeight(o){Qh(this.el,"height",o)}}function Lg(n,o){let t=[];for(let i=0;i<o;i+=1)t[i]=[];for(let i of n)t[i.row].push(i);return t}function Jc(n,o){let t=[];for(let i=0;i<o;i+=1)t[i]=[];for(let i of n)t[i.firstCol].push(i);return t}function Nd(n,o){let t=[];if(n){for(let i=0;i<o;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.row].segs.push(i)}else for(let i=0;i<o;i+=1)t[i]=null;return t}el(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');const QC=ys({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function GC(n){let{display:o}=n.eventRange.ui;return"list-item"===o||"auto"===o&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}class WC extends is{render(){let{props:o}=this;return cn(kf,Object.assign({},o,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:QC,defaultDisplayEventEnd:o.defaultDisplayEventEnd,disableResizing:!o.seg.eventRange.def.allDay}))}}class Wf extends is{render(){let{props:o,context:t}=this,{options:i}=t,{seg:s}=o,T=hg(s,i.eventTimeFormat||QC,t,!0,o.defaultDisplayEventEnd);return cn(Qp,Object.assign({},o,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:gg(o.seg,t),defaultGenerator:YC,timeText:T,isResizing:!1,isDateSelecting:!1}))}}function YC(n){return cn(jo,null,cn("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&cn("div",{className:"fc-event-time"},n.timeText),cn("div",{className:"fc-event-title"},n.event.title||cn(jo,null,"\xa0")))}class jC extends is{constructor(){super(...arguments),this.compileSegs=Vi(Ny)}render(){let{props:o}=this,{allSegs:t,invisibleSegs:i}=this.compileSegs(o.singlePlacements);return cn(Lf,{elClasses:["fc-daygrid-more-link"],dateProfile:o.dateProfile,todayRange:o.todayRange,allDayDate:o.allDayDate,moreCnt:o.moreCnt,allSegs:t,hiddenSegs:i,alignmentElRef:o.alignmentElRef,alignGridTop:o.alignGridTop,extraDateSpan:o.extraDateSpan,popoverContent:()=>{let s=(o.eventDrag?o.eventDrag.affectedInstances:null)||(o.eventResize?o.eventResize.affectedInstances:null)||{};return cn(jo,null,t.map(d=>{let T=d.eventRange.instance.instanceId;return cn("div",{className:"fc-daygrid-event-harness",key:T,style:{visibility:s[T]?"hidden":""}},GC(d)?cn(Wf,Object.assign({seg:d,isDragging:!1,isSelected:T===o.eventSelection,defaultDisplayEventEnd:!1},vl(d,o.todayRange))):cn(WC,Object.assign({seg:d,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:T===o.eventSelection,defaultDisplayEventEnd:!1},vl(d,o.todayRange))))}))}})}}function Ny(n){let o=[],t=[];for(let i of n)o.push(i.seg),i.isVisible||t.push(i.seg);return{allSegs:o,invisibleSegs:t}}const KC=ys({week:"narrow"});class Fy extends nl{constructor(){super(...arguments),this.rootElRef={current:null},this.state={dayNumberId:Hl()},this.handleRootEl=o=>{Cl(this.rootElRef,o),Cl(this.props.elRef,o)}}render(){let{context:o,props:t,state:i,rootElRef:s}=this,{options:d,dateEnv:T}=o,{date:W,dateProfile:Ce}=t;const qe=t.showDayNumber&&function MI(n,o,t){const{start:i,end:s}=o,d=ya(s,-1),T=t.getYear(i),W=t.getMonth(i),Ce=t.getYear(d),qe=t.getMonth(d);return!(T===Ce&&W===qe)&&Boolean(n.valueOf()===i.valueOf()||1===t.getDay(n)&&n.valueOf()<s.valueOf())}(W,Ce.currentRange,T);return cn(dC,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:By,date:W,dateProfile:Ce,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:qe,extraRenderProps:t.extraRenderProps},(Xe,$t)=>cn("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&cn(Of,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Cd(o,W,"week"),date:W,defaultFormat:KC}),!$t.isDisabled&&(t.showDayNumber||Df(d)||t.forceDayTop)?cn("div",{className:"fc-daygrid-day-top"},cn(Xe,{elTag:"a",elClasses:["fc-daygrid-day-number",qe&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Cd(o,W)),{id:i.dayNumberId})})):t.showDayNumber?cn("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},cn("a",{className:"fc-daygrid-day-number"},"\xa0")):void 0,cn("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,cn("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},cn(jC,{allDayDate:W,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:s,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),cn("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function By(n){return n.dayNumberText||cn(jo,null,"\xa0")}function Eu(n,o,t,i){if(n.firstCol===o&&n.lastCol===t-1)return n;let s=n.eventRange,d=s.range,T=Cu(d,{start:i[o].date,end:Qs(i[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:o,lastCol:t-1,eventRange:{def:s.def,ui:Object.assign(Object.assign({},s.ui),{durationEditable:!1}),instance:s.instance,range:T},isStart:n.isStart&&T.start.valueOf()===d.start.valueOf(),isEnd:n.isEnd&&T.end.valueOf()===d.end.valueOf()})}class Rg extends Q0{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(o){const t=super.addSegs(o),{entriesByLevel:i}=this,s=d=>!this.forceHidden[bu(d)];for(let d=0;d<i.length;d+=1)i[d]=i[d].filter(s);return t}handleInvalidInsertion(o,t,i){const{entriesByLevel:s,forceHidden:d}=this,{touchingEntry:T,touchingLevel:W,touchingLateral:Ce}=o;if(this.hiddenConsumes&&T){const qe=bu(T);if(!d[qe])if(this.allowReslicing){const Xe=Object.assign(Object.assign({},T),{span:df(T.span,t.span)});d[bu(Xe)]=!0,s[W][Ce]=Xe,this.splitEntry(T,t,i)}else d[qe]=!0,i.push(T)}return super.handleInvalidInsertion(o,t,i)}}class qC extends nl{constructor(){super(...arguments),this.cellElRefs=new Wl,this.frameElRefs=new Wl,this.fgElRefs=new Wl,this.segHarnessRefs=new Wl,this.rootElRef={current:null},this.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},this.handleResize=o=>{o&&this.updateSizing(!0)}}render(){let{props:o,state:t,context:i}=this,{options:s}=i,d=o.cells.length,T=Jc(o.businessHourSegs,d),W=Jc(o.bgEventSegs,d),Ce=Jc(this.getHighlightSegs(),d),qe=Jc(this.getMirrorSegs(),d),{singleColPlacements:Xe,multiColPlacements:$t,moreCnts:jt,moreMarginTops:Wt}=function OI(n,o,t,i,s,d,T){let W=new Rg;W.allowReslicing=!0,W.strictOrder=i,!0===o||!0===t?(W.maxCoord=d,W.hiddenConsumes=!0):"number"==typeof o?W.maxStackCnt=o:"number"==typeof t&&(W.maxStackCnt=t,W.hiddenConsumes=!0);let Ce=[],qe=[];for(let jn=0;jn<n.length;jn+=1){let Ti=n[jn],{instanceId:io}=Ti.eventRange.instance,Ji=s[io];null!=Ji?Ce.push({index:jn,thickness:Ji,span:{start:Ti.firstCol,end:Ti.lastCol+1}}):qe.push(Ti)}let Xe=W.addSegs(Ce),$t=W.toRects(),{singleColPlacements:jt,multiColPlacements:Wt,leftoverMargins:_n}=function PI(n,o,t){let i=function LI(n,o){let t=[];for(let i=0;i<o;i+=1)t.push([]);for(let i of n)for(let s=i.span.start;s<i.span.end;s+=1)t[s].push(i);return t}(n,t.length),s=[],d=[],T=[];for(let W=0;W<t.length;W+=1){let Ce=i[W],qe=[],Xe=0,$t=0;for(let Wt of Ce)qe.push({seg:Eu(o[Wt.index],W,W+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:Wt.levelCoord,marginTop:Wt.levelCoord-Xe}),Xe=Wt.levelCoord+Wt.thickness;let jt=[];Xe=0,$t=0;for(let Wt of Ce){let _n=o[Wt.index],Rn=Wt.span.start===W;$t+=Wt.levelCoord-Xe,Xe=Wt.levelCoord+Wt.thickness,Wt.span.end-Wt.span.start>1?($t+=Wt.thickness,Rn&&jt.push({seg:Eu(_n,Wt.span.start,Wt.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:Wt.levelCoord,marginTop:0})):Rn&&(jt.push({seg:Eu(_n,Wt.span.start,Wt.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:Wt.levelCoord,marginTop:$t}),$t=0)}s.push(qe),d.push(jt),T.push($t)}return{singleColPlacements:s,multiColPlacements:d,leftoverMargins:T}}($t,n,T),Pn=[],Rn=[];for(let jn of qe){Wt[jn.firstCol].push({seg:jn,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let Ti=jn.firstCol;Ti<=jn.lastCol;Ti+=1)jt[Ti].push({seg:Eu(jn,Ti,Ti+1,T),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let jn=0;jn<T.length;jn+=1)Pn.push(0);for(let jn of Xe){let Ti=n[jn.index],io=jn.span;Wt[io.start].push({seg:Eu(Ti,io.start,io.end,T),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let Ji=io.start;Ji<io.end;Ji+=1)Pn[Ji]+=1,jt[Ji].push({seg:Eu(Ti,Ji,Ji+1,T),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let jn=0;jn<T.length;jn+=1)Rn.push(_n[jn]);return{singleColPlacements:jt,multiColPlacements:Wt,moreCnts:Pn,moreMarginTops:Rn}}(tf(o.fgEventSegs,s.eventOrder),o.dayMaxEvents,o.dayMaxEventRows,s.eventOrderStrict,t.eventInstanceHeights,t.maxContentHeight,o.cells),_n=o.eventDrag&&o.eventDrag.affectedInstances||o.eventResize&&o.eventResize.affectedInstances||{};return cn("tr",{ref:this.rootElRef,role:"row"},o.renderIntro&&o.renderIntro(),o.cells.map((Pn,Rn)=>{let jn=this.renderFgSegs(Rn,o.forPrint?Xe[Rn]:$t[Rn],o.todayRange,_n),Ti=this.renderFgSegs(Rn,function Zy(n,o){if(!n.length)return[];let t=function $C(n){let o={};for(let t of n)for(let i of t)o[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return o}(o);return n.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:t[i.eventRange.instance.instanceId],marginTop:0}))}(qe[Rn],$t),o.todayRange,{},Boolean(o.eventDrag),Boolean(o.eventResize),!1);return cn(Fy,{key:Pn.key,elRef:this.cellElRefs.createRef(Pn.key),innerElRef:this.frameElRefs.createRef(Pn.key),dateProfile:o.dateProfile,date:Pn.date,showDayNumber:o.showDayNumbers,showWeekNumber:o.showWeekNumbers&&0===Rn,forceDayTop:o.showWeekNumbers,todayRange:o.todayRange,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,extraRenderProps:Pn.extraRenderProps,extraDataAttrs:Pn.extraDataAttrs,extraClassNames:Pn.extraClassNames,extraDateSpan:Pn.extraDateSpan,moreCnt:jt[Rn],moreMarginTop:Wt[Rn],singlePlacements:Xe[Rn],fgContentElRef:this.fgElRefs.createRef(Pn.key),fgContent:cn(jo,null,cn(jo,null,jn),cn(jo,null,Ti)),bgContent:cn(jo,null,this.renderFillSegs(Ce[Rn],"highlight"),this.renderFillSegs(T[Rn],"non-business"),this.renderFillSegs(W[Rn],"bg-event")),minHeight:o.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(o,t){this.updateSizing(!ro(o,this.props))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:o}=this;return o.eventDrag&&o.eventDrag.segs.length?o.eventDrag.segs:o.eventResize&&o.eventResize.segs.length?o.eventResize.segs:o.dateSelectionSegs}getMirrorSegs(){let{props:o}=this;return o.eventResize&&o.eventResize.segs.length?o.eventResize.segs:[]}renderFgSegs(o,t,i,s,d,T,W){let{context:Ce}=this,{eventSelection:qe}=this.props,{framePositions:Xe}=this.state,$t=1===this.props.cells.length,jt=d||T||W,Wt=[];if(Xe)for(let _n of t){let{seg:Pn}=_n,{instanceId:Rn}=Pn.eventRange.instance,jn=Rn+":"+o,Ti=_n.isVisible&&!s[Rn],io=_n.isAbsolute,Ji="",Eo="";io&&(Ce.isRtl?(Eo=0,Ji=Xe.lefts[Pn.lastCol]-Xe.lefts[Pn.firstCol]):(Ji=0,Eo=Xe.rights[Pn.firstCol]-Xe.rights[Pn.lastCol])),Wt.push(cn("div",{className:"fc-daygrid-event-harness"+(io?" fc-daygrid-event-harness-abs":""),key:jn,ref:jt?null:this.segHarnessRefs.createRef(jn),style:{visibility:Ti?"":"hidden",marginTop:io?"":_n.marginTop,top:io?_n.absoluteTop:"",left:Ji,right:Eo}},GC(Pn)?cn(Wf,Object.assign({seg:Pn,isDragging:d,isSelected:Rn===qe,defaultDisplayEventEnd:$t},vl(Pn,i))):cn(WC,Object.assign({seg:Pn,isDragging:d,isResizing:T,isDateSelecting:W,isSelected:Rn===qe,defaultDisplayEventEnd:$t},vl(Pn,i)))))}return Wt}renderFillSegs(o,t){let{isRtl:i}=this.context,{todayRange:s}=this.props,{framePositions:d}=this.state,T=[];if(d)for(let W of o){let Ce=i?{right:0,left:d.lefts[W.lastCol]-d.lefts[W.firstCol]}:{left:0,right:d.rights[W.firstCol]-d.rights[W.lastCol]};T.push(cn("div",{key:sf(W.eventRange),className:"fc-daygrid-bg-harness",style:Ce},"bg-event"===t?cn(Mf,Object.assign({seg:W},vl(W,s))):Ar(t)))}return cn(jo,{},...T)}updateSizing(o){let{props:t,state:i,frameElRefs:s}=this;if(!t.forPrint&&null!==t.clientWidth){if(o){let Ce=t.cells.map(qe=>s.currentMap[qe.key]);if(Ce.length){let qe=this.rootElRef.current,Xe=new Vc(qe,Ce,!0,!1);(!i.framePositions||!i.framePositions.similarTo(Xe))&&this.setState({framePositions:new Vc(qe,Ce,!0,!1)})}}const d=this.state.eventInstanceHeights,T=this.queryEventInstanceHeights(),W=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.safeSetState({eventInstanceHeights:Object.assign(Object.assign({},d),T),maxContentHeight:W?this.computeMaxContentHeight():null})}}queryEventInstanceHeights(){let o=this.segHarnessRefs.currentMap,t={};for(let i in o){let s=Math.round(o[i].getBoundingClientRect().height),d=i.split(":")[0];t[d]=Math.max(t[d]||0,s)}return t}computeMaxContentHeight(){let o=this.props.cells[0].key,i=this.fgElRefs.currentMap[o];return this.cellElRefs.currentMap[o].getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let o=this.cellElRefs.currentMap;return this.props.cells.map(t=>o[t.key])}}qC.addStateEquality({eventInstanceHeights:ro});class Yp extends nl{constructor(){super(...arguments),this.splitBusinessHourSegs=Vi(Lg),this.splitBgEventSegs=Vi(Lg),this.splitFgEventSegs=Vi(Lg),this.splitDateSelectionSegs=Vi(Lg),this.splitEventDrag=Vi(Nd),this.splitEventResize=Vi(Nd),this.rowRefs=new Wl}render(){let{props:o,context:t}=this,i=o.cells.length,s=this.splitBusinessHourSegs(o.businessHourSegs,i),d=this.splitBgEventSegs(o.bgEventSegs,i),T=this.splitFgEventSegs(o.fgEventSegs,i),W=this.splitDateSelectionSegs(o.dateSelectionSegs,i),Ce=this.splitEventDrag(o.eventDrag,i),qe=this.splitEventResize(o.eventResize,i),Xe=i>=7&&o.clientWidth?o.clientWidth/t.options.aspectRatio/6:null;return cn(Gl,{unit:"day"},($t,jt)=>cn(jo,null,o.cells.map((Wt,_n)=>cn(qC,{ref:this.rowRefs.createRef(_n),key:Wt.length?Wt[0].date.toISOString():_n,showDayNumbers:i>1,showWeekNumbers:o.showWeekNumbers,todayRange:jt,dateProfile:o.dateProfile,cells:Wt,renderIntro:o.renderRowIntro,businessHourSegs:s[_n],eventSelection:o.eventSelection,bgEventSegs:d[_n].filter(Uy),fgEventSegs:T[_n],dateSelectionSegs:W[_n],eventDrag:Ce[_n],eventResize:qe[_n],dayMaxEvents:o.dayMaxEvents,dayMaxEventRows:o.dayMaxEventRows,clientWidth:o.clientWidth,clientHeight:o.clientHeight,cellMinHeight:Xe,forPrint:o.forPrint}))))}componentDidMount(){const o=this.rowRefs.currentMap[0].getCellEls()[0];this.rootEl=o?o.closest(".fc-daygrid-body"):null,this.rootEl&&this.context.registerInteractiveComponent(this,{el:this.rootEl,isHitComboAllowed:this.props.isHitComboAllowed})}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Vc(this.rootEl,this.rowRefs.collect().map(o=>o.getCellEls()[0]),!1,!0),this.colPositions=new Vc(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(o,t){let{colPositions:i,rowPositions:s}=this,d=i.leftToIndex(o),T=s.topToIndex(t);if(null!=T&&null!=d){let W=this.props.cells[T][d];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(T,d),allDay:!0},W.extraDateSpan),dayEl:this.getCellEl(T,d),rect:{left:i.lefts[d],right:i.rights[d],top:s.tops[T],bottom:s.bottoms[T]},layer:0}}return null}getCellEl(o,t){return this.rowRefs.currentMap[o].getCellEls()[t]}getCellRange(o,t){let i=this.props.cells[o][t].date;return{start:i,end:Qs(i,1)}}}function Uy(n){return n.eventRange.def.allDay}class Hy extends nl{constructor(){super(...arguments),this.elRef={current:null},this.needsScrollReset=!1}render(){let{props:o}=this,{dayMaxEventRows:t,dayMaxEvents:i,expandRows:s}=o,d=!0===i||!0===t;return d&&!s&&(d=!1,t=null,i=null),cn("div",{ref:this.elRef,className:["fc-daygrid-body",d?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",s?"":"fc-daygrid-body-natural"].join(" "),style:{width:o.clientWidth,minWidth:o.tableMinWidth}},cn("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:o.clientWidth,minWidth:o.tableMinWidth,height:s?o.clientHeight:""}},o.colGroupNode,cn("tbody",{role:"presentation"},cn(Yp,{dateProfile:o.dateProfile,cells:o.cells,renderRowIntro:o.renderRowIntro,showWeekNumbers:o.showWeekNumbers,clientWidth:o.clientWidth,clientHeight:o.clientHeight,businessHourSegs:o.businessHourSegs,bgEventSegs:o.bgEventSegs,fgEventSegs:o.fgEventSegs,dateSelectionSegs:o.dateSelectionSegs,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,dayMaxEvents:i,dayMaxEventRows:t,forPrint:o.forPrint,isHitComboAllowed:o.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(o){o.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const o=function Vy(n,o){let t;return o.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${function pb(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}(o.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${wp(o.currentDate)}"]`)),t}(this.elRef.current,this.props.dateProfile);if(o){const t=o.closest(".fc-daygrid-body"),i=t.closest(".fc-scroller"),s=o.getBoundingClientRect().top-t.getBoundingClientRect().top;i.scrollTop=s?s+1:0}this.needsScrollReset=!1}}}class zy extends _f{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(o,t){return t.sliceRange(o)}}class XC extends nl{constructor(){super(...arguments),this.slicer=new zy,this.tableRef={current:null}}render(){let{props:o,context:t}=this;return cn(Hy,Object.assign({ref:this.tableRef},this.slicer.sliceProps(o,o.dateProfile,o.nextDayThreshold,t,o.dayTableModel),{dateProfile:o.dateProfile,cells:o.dayTableModel.cells,colGroupNode:o.colGroupNode,tableMinWidth:o.tableMinWidth,renderRowIntro:o.renderRowIntro,dayMaxEvents:o.dayMaxEvents,dayMaxEventRows:o.dayMaxEventRows,showWeekNumbers:o.showWeekNumbers,expandRows:o.expandRows,headerAlignElRef:o.headerAlignElRef,clientWidth:o.clientWidth,clientHeight:o.clientHeight,forPrint:o.forPrint}))}}class Qy extends nl{constructor(){super(...arguments),this.headerElRef={current:null}}renderSimpleLayout(o,t){let{props:i,context:s}=this,d=[],T=Md(s.options);return o&&d.push({type:"header",key:"header",isSticky:T,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:o}}),d.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),cn(Od,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},cn(Ig,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:d}))}renderHScrollLayout(o,t,i,s){let d=this.context.pluginHooks.scrollGridImpl;if(!d)throw new Error("No ScrollGrid implementation");let{props:T,context:W}=this,Ce=!T.forPrint&&Md(W.options),qe=!T.forPrint&&Sf(W.options),Xe=[];return o&&Xe.push({type:"header",key:"header",isSticky:Ce,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:o}]}),Xe.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),qe&&Xe.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:xg}]}),cn(Od,{elClasses:["fc-daygrid"],viewSpec:W.viewSpec},cn(d,{liquid:!T.isHeightAuto&&!T.forPrint,forPrint:T.forPrint,collapsibleWidth:T.forPrint,colGroups:[{cols:[{span:i,minWidth:s}]}],sections:Xe}))}}function Gy(n,o){let t=new Tu(n.renderRange,o);return new Au(t,/year|month|week/.test(n.currentRangeUnit))}var tv=La({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:class jp extends Qy{constructor(){super(...arguments),this.buildDayTableModel=Vi(Gy),this.headerRef={current:null},this.tableRef={current:null}}render(){let{options:o,dateProfileGenerator:t}=this.context,{props:i}=this,s=this.buildDayTableModel(i.dateProfile,t),d=o.dayHeaders&&cn(Iu,{ref:this.headerRef,dateProfile:i.dateProfile,dates:s.headerDates,datesRepDistinctDays:1===s.rowCnt}),T=W=>cn(XC,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:s,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:o.nextDayThreshold,colGroupNode:W.tableColGroupNode,tableMinWidth:W.tableMinWidth,dayMaxEvents:o.dayMaxEvents,dayMaxEventRows:o.dayMaxEventRows,showWeekNumbers:o.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:W.clientWidth,clientHeight:W.clientHeight,forPrint:i.forPrint});return o.dayMinWidth?this.renderHScrollLayout(d,T,s.colCnt,o.dayMinWidth):this.renderSimpleLayout(d,T)}},dateProfileGeneratorClass:class ev extends Xm{buildRenderRange(o,t,i){let s=super.buildRenderRange(o,t,i),{props:d}=this;return function Jy(n){let d,{dateEnv:o,currentRange:t}=n,{start:i,end:s}=t;if(n.snapToWeek&&(i=o.startOfWeek(i),d=o.startOfWeek(s),d.valueOf()!==s.valueOf()&&(s=pc(d,1))),n.fixedWeekCount){let T=o.startOfWeek(o.startOfMonth(Qs(t.end,-1))),W=Math.ceil(function Bc(n,o){return Oa(n,o)/7}(T,s));s=pc(s,6-W)}return{start:i,end:s}}({currentRange:s,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:d.fixedWeekCount,dateEnv:d.dateEnv})}}},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class Wy extends class fI{constructor(){this.getKeysForEventDefs=Vi(this._getKeysForEventDefs),this.splitDateSelection=Vi(this._splitDateSpan),this.splitEventStore=Vi(this._splitEventStore),this.splitIndividualUi=Vi(this._splitIndividualUi),this.splitEventDrag=Vi(this._splitInteraction),this.splitEventResize=Vi(this._splitInteraction),this.eventUiBuilders={}}splitProps(o){let t=this.getKeyInfo(o),i=this.getKeysForEventDefs(o.eventStore),s=this.splitDateSelection(o.dateSelection),d=this.splitIndividualUi(o.eventUiBases,i),T=this.splitEventStore(o.eventStore,i),W=this.splitEventDrag(o.eventDrag),Ce=this.splitEventResize(o.eventResize),qe={};this.eventUiBuilders=Si(t,(Xe,$t)=>this.eventUiBuilders[$t]||Vi(_I));for(let Xe in t){let $t=t[Xe],jt=T[Xe]||A0;qe[Xe]={businessHours:$t.businessHours||o.businessHours,dateSelection:s[Xe]||null,eventStore:jt,eventUiBases:(0,this.eventUiBuilders[Xe])(o.eventUiBases[""],$t.ui,d[Xe]),eventSelection:jt.instances[o.eventSelection]?o.eventSelection:"",eventDrag:W[Xe]||null,eventResize:Ce[Xe]||null}}return qe}_splitDateSpan(o){let t={};if(o){let i=this.getKeysForDateSpan(o);for(let s of i)t[s]=o}return t}_getKeysForEventDefs(o){return Si(o.defs,t=>this.getKeysForEventDef(t))}_splitEventStore(o,t){let{defs:i,instances:s}=o,d={};for(let T in i)for(let W of t[T])d[W]||(d[W]={defs:{},instances:{}}),d[W].defs[T]=i[T];for(let T in s){let W=s[T];for(let Ce of t[W.defId])d[Ce]&&(d[Ce].instances[T]=W)}return d}_splitIndividualUi(o,t){let i={};for(let s in o)if(s)for(let d of t[s])i[d]||(i[d]={}),i[d][s]=o[s];return i}_splitInteraction(o){let t={};if(o){let i=this._splitEventStore(o.affectedEvents,this._getKeysForEventDefs(o.affectedEvents)),s=this._getKeysForEventDefs(o.mutatedEvents),d=this._splitEventStore(o.mutatedEvents,s),T=W=>{t[W]||(t[W]={affectedEvents:i[W]||A0,mutatedEvents:d[W]||A0,isEvent:o.isEvent})};for(let W in i)T(W);for(let W in d)T(W)}return t}}{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(o){return o.allDay?["allDay"]:["timed"]}getKeysForEventDef(o){return o.allDay?function U0(n){return"background"===n.ui.display||"inverse-background"===n.ui.display}(o)?["timed","allDay"]:["allDay"]:["timed"]}}const nv=ys({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function iv(n){let o=["fc-timegrid-slot","fc-timegrid-slot-label",n.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return cn(gc.Consumer,null,t=>{if(!n.isLabeled)return cn("td",{className:o.join(" "),"data-time":n.isoTimeStr});let{dateEnv:i,options:s,viewApi:d}=t,T=null==s.slotLabelFormat?nv:Array.isArray(s.slotLabelFormat)?ys(s.slotLabelFormat[0]):ys(s.slotLabelFormat),W={level:0,time:n.time,date:i.toDate(n.date),view:d,text:i.format(n.date,T)};return cn($r,{elTag:"td",elClasses:o,elAttrs:{"data-time":n.isoTimeStr},renderProps:W,generatorName:"slotLabelContent",customGenerator:s.slotLabelContent,defaultGenerator:ov,classNameGenerator:s.slotLabelClassNames,didMount:s.slotLabelDidMount,willUnmount:s.slotLabelWillUnmount},Ce=>cn("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},cn(Ce,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function ov(n){return n.text}class Yy extends is{render(){return this.props.slatMetas.map(o=>cn("tr",{key:o.key},cn(iv,Object.assign({},o))))}}const Yf=ys({week:"short"});class sv extends nl{constructor(){super(...arguments),this.allDaySplitter=new Wy,this.headerElRef={current:null},this.rootElRef={current:null},this.scrollerElRef={current:null},this.state={slatCoords:null},this.handleScrollTopRequest=o=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=o)},this.renderHeadAxis=(o,t="")=>{let{options:i}=this.context,{dateProfile:s}=this.props,d=s.renderRange,W=1===Oa(d.start,d.end)?Cd(this.context,d.start,"week"):{};return i.weekNumbers&&"day"===o?cn(Of,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:d.start,defaultFormat:Yf},Ce=>cn("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},cn(Ce,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:W}))):cn("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},cn("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=o=>{let{options:t,viewApi:i}=this.context;return cn($r,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:{text:t.allDayText,view:i},generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:rv,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},d=>cn("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",null==o?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:o}},cn(d,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=o=>{this.setState({slatCoords:o})}}renderSimpleLayout(o,t,i){let{context:s,props:d}=this,T=[],W=Md(s.options);return o&&T.push({type:"header",key:"header",isSticky:W,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:o}}),t&&(T.push({type:"body",key:"all-day",chunk:{content:t}}),T.push({type:"body",key:"all-day-divider",outerContent:cn("tr",{role:"presentation",className:"fc-scrollgrid-section"},cn("td",{className:"fc-timegrid-divider "+s.theme.getClass("tableCellShaded")}))})),T.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(s.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:i}}),cn(Od,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:s.viewSpec},cn(Ig,{liquid:!d.isHeightAuto&&!d.forPrint,collapsibleWidth:d.forPrint,cols:[{width:"shrink"}],sections:T}))}renderHScrollLayout(o,t,i,s,d,T,W){let Ce=this.context.pluginHooks.scrollGridImpl;if(!Ce)throw new Error("No ScrollGrid implementation");let{context:qe,props:Xe}=this,$t=!Xe.forPrint&&Md(qe.options),jt=!Xe.forPrint&&Sf(qe.options),Wt=[];o&&Wt.push({type:"header",key:"header",isSticky:$t,syncRowHeights:!0,chunks:[{key:"axis",rowContent:Pn=>cn("tr",{role:"presentation"},this.renderHeadAxis("day",Pn.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:o}]}),t&&(Wt.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:Pn=>cn("tr",{role:"presentation"},this.renderTableRowAxis(Pn.rowSyncHeights[0]))},{key:"cols",content:t}]}),Wt.push({key:"all-day-divider",type:"body",outerContent:cn("tr",{role:"presentation",className:"fc-scrollgrid-section"},cn("td",{colSpan:2,className:"fc-timegrid-divider "+qe.theme.getClass("tableCellShaded")}))}));let _n=qe.options.nowIndicator;return Wt.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(qe.options.expandRows),chunks:[{key:"axis",content:Pn=>cn("div",{className:"fc-timegrid-axis-chunk"},cn("table",{"aria-hidden":!0,style:{height:Pn.expandRows?Pn.clientHeight:""}},Pn.tableColGroupNode,cn("tbody",null,cn(Yy,{slatMetas:T}))),cn("div",{className:"fc-timegrid-now-indicator-container"},cn(Gl,{unit:_n?"minute":"day"},Rn=>{let jn=_n&&W&&W.safeComputeTop(Rn);return"number"==typeof jn?cn(Tg,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:jn},isAxis:!0,date:Rn}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),jt&&Wt.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:xg},{key:"cols",content:xg}]}),cn(Od,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:qe.viewSpec},cn(Ce,{liquid:!Xe.isHeightAuto&&!Xe.forPrint,forPrint:Xe.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:s,minWidth:d}]}],sections:Wt}))}getAllDayMaxEventProps(){let{dayMaxEvents:o,dayMaxEventRows:t}=this.context.options;return(!0===o||!0===t)&&(o=void 0,t=5),{dayMaxEvents:o,dayMaxEventRows:t}}}function rv(n){return n.text}class Ky{constructor(o,t,i){this.positions=o,this.dateProfile=t,this.slotDuration=i}safeComputeTop(o){let{dateProfile:t}=this;if(pa(t.currentRange,o)){let i=ds(o),s=o.valueOf()-i.valueOf();if(s>=Yn(t.slotMinTime)&&s<Yn(t.slotMaxTime))return this.computeTimeTop(H(s))}return null}computeDateTop(o,t){return t||(t=ds(o)),this.computeTimeTop(H(o.valueOf()-t.valueOf()))}computeTimeTop(o){let T,W,{positions:t,dateProfile:i}=this,s=t.els.length,d=(o.milliseconds-Yn(i.slotMinTime))/Yn(this.slotDuration);return d=Math.max(0,d),d=Math.min(s,d),T=Math.floor(d),T=Math.min(T,s-1),W=d-T,t.tops[T]+t.getHeight(T)*W}}class qy extends is{render(){let{props:o,context:t}=this,{options:i}=t,{slatElRefs:s}=o;return cn("tbody",null,o.slatMetas.map((d,T)=>{let W={time:d.time,date:t.dateEnv.toDate(d.date),view:t.viewApi};return cn("tr",{key:d.key,ref:s.createRef(d.key)},o.axis&&cn(iv,Object.assign({},d)),cn($r,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!d.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":d.isoTimeStr},renderProps:W,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount}))}))}}class $y extends is{constructor(){super(...arguments),this.rootElRef={current:null},this.slatElRefs=new Wl}render(){let{props:o,context:t}=this;return cn("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},cn("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:o.tableMinWidth,width:o.clientWidth,height:o.minHeight}},o.tableColGroupNode,cn(qy,{slatElRefs:this.slatElRefs,axis:o.axis,slatMetas:o.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:o,props:t}=this;t.onCoords&&null!==t.clientWidth&&this.rootElRef.current.offsetHeight&&t.onCoords(new Ky(new Vc(this.rootElRef.current,function jf(n,o){return o.map(t=>n[t.key])}(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,o.options.slotDuration))}}function Kp(n,o){let i,t=[];for(i=0;i<o;i+=1)t.push([]);if(n)for(i=0;i<n.length;i+=1)t[n[i].col].push(n[i]);return t}function Kf(n,o){let t=[];if(n){for(let i=0;i<o;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.col].segs.push(i)}else for(let i=0;i<o;i+=1)t[i]=null;return t}class Xy extends is{render(){let{props:o}=this;return cn(Lf,{elClasses:["fc-timegrid-more-link"],elStyle:{top:o.top,bottom:o.bottom},allDayDate:null,moreCnt:o.hiddenSegs.length,allSegs:o.hiddenSegs,hiddenSegs:o.hiddenSegs,extraDateSpan:o.extraDateSpan,dateProfile:o.dateProfile,todayRange:o.todayRange,popoverContent:()=>Ng(o.hiddenSegs,o),defaultGenerator:e4,forceTimed:!0},t=>cn(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function e4(n){return n.shortText}function av(n,o){if(!n)return[[],0];let{level:t,lateralStart:i,lateralEnd:s}=n,d=i,T=[];for(;d<s;)T.push(o(t,d)),d+=1;return T.sort(o4),[T.map(s4),T[0][1]]}function o4(n,o){return o[1]-n[1]}function s4(n){return n[0]}function cv(n){let o=[];const t=qf((s,d,T)=>bu(s),(s,d,T)=>{let W=Object.assign(Object.assign({},s),{levelCoord:d,stackDepth:T,stackForward:0});return o.push(W),W.stackForward=i(s.nextLevelNodes,d+s.thickness,T+1)+1});function i(s,d,T){let W=0;for(let Ce of s)W=Math.max(t(Ce,d,T),W);return W}return i(n,0,0),o}function qf(n,o){const t={};return(...i)=>{let s=n(...i);return s in t?t[s]:t[s]=o(...i)}}function uv(n,o,t=null,i=0){let s=[];if(t)for(let d=0;d<n.length;d+=1){let T=n[d],W=t.computeDateTop(T.start,o),Ce=Math.max(W+(i||0),t.computeDateTop(T.end,o));s.push({start:Math.round(W),end:Math.round(Ce)})}return s}const a4=ys({hour:"numeric",minute:"2-digit",meridiem:!1});class pv extends is{render(){return cn(kf,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:a4}))}}class l4 extends is{constructor(){super(...arguments),this.sortEventSegs=Vi(tf)}render(){let{props:o,context:t}=this,{options:i}=t,s=i.selectMirror,d=o.eventDrag&&o.eventDrag.segs||o.eventResize&&o.eventResize.segs||s&&o.dateSelectionSegs||[],T=o.eventDrag&&o.eventDrag.affectedInstances||o.eventResize&&o.eventResize.affectedInstances||{},W=this.sortEventSegs(o.fgEventSegs,i.eventOrder);return cn(dC,{elTag:"td",elRef:o.elRef,elClasses:["fc-timegrid-col",...o.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},o.extraDataAttrs),date:o.date,dateProfile:o.dateProfile,todayRange:o.todayRange,extraRenderProps:o.extraRenderProps},Ce=>cn("div",{className:"fc-timegrid-col-frame"},cn("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(o.businessHourSegs,"non-business"),this.renderFillSegs(o.bgEventSegs,"bg-event"),this.renderFillSegs(o.dateSelectionSegs,"highlight")),cn("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(W,T,!1,!1,!1)),cn("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(d,{},Boolean(o.eventDrag),Boolean(o.eventResize),Boolean(s))),cn("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(o.nowIndicatorSegs)),Df(i)&&cn(Ce,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(o,t,i,s,d){let{props:T}=this;return T.forPrint?Ng(o,T):this.renderPositionedFgSegs(o,t,i,s,d)}renderPositionedFgSegs(o,t,i,s,d){let{eventMaxStack:T,eventShortHeight:W,eventOrderStrict:Ce,eventMinHeight:qe}=this.context.options,{date:Xe,slatCoords:$t,eventSelection:jt,todayRange:Wt,nowDate:_n}=this.props,Pn=i||s||d,Rn=uv(o,Xe,$t,qe),{segPlacements:jn,hiddenGroups:Ti}=function dv(n,o,t,i){let s=[],d=[];for(let qe=0;qe<n.length;qe+=1){let Xe=o[qe];Xe?s.push({index:qe,thickness:1,span:Xe}):d.push(n[qe])}let{segRects:T,hiddenGroups:W}=function t4(n,o,t){let i=new Q0;null!=o&&(i.strictOrder=o),null!=t&&(i.maxStackCnt=t);let d=function G0(n){let o=[];for(let t of n){let i=[],s={span:t.span,entries:[t]};for(let d of o)df(d.span,s.span)?s={entries:d.entries.concat(s.entries),span:uf(d.span,s.span)}:i.push(d);i.push(s),o=i}return o}(i.addSegs(n)),T=function n4(n){const{entriesByLevel:o}=n,t=qf((i,s)=>i+":"+s,(i,s)=>{let d=function r4(n,o,t){let{levelCoords:i,entriesByLevel:s}=n,d=s[o][t],T=i[o]+d.thickness,W=i.length,Ce=o;for(;Ce<W&&i[Ce]<T;Ce+=1);for(;Ce<W;Ce+=1){let Xe,qe=s[Ce],$t=pf(qe,d.span.start,cf),jt=$t[0]+$t[1],Wt=jt;for(;(Xe=qe[Wt])&&Xe.span.start<d.span.end;)Wt+=1;if(jt<Wt)return{level:Ce,lateralStart:jt,lateralEnd:Wt}}return null}(n,i,s),T=av(d,t),W=o[i][s];return[Object.assign(Object.assign({},W),{nextLevelNodes:T[0]}),W.thickness+T[1]]});return av(o.length?{level:0,lateralStart:0,lateralEnd:o[0].length}:null,t)[0]}(i);return T=function lv(n,o){const t=qf((i,s,d)=>bu(i),(i,s,d)=>{let Xe,{nextLevelNodes:T,thickness:W}=i,Ce=W+d,qe=W/Ce,$t=[];if(T.length)for(let Wt of T)if(void 0===Xe){let _n=t(Wt,s,Ce);Xe=_n[0],$t.push(_n[1])}else{let _n=t(Wt,Xe,0);$t.push(_n[1])}else Xe=o;let jt=(Xe-s)*qe;return[Xe-jt,Object.assign(Object.assign({},i),{thickness:jt,nextLevelNodes:$t})]});return n.map(i=>t(i,0,0)[1])}(T,1),{segRects:cv(T),hiddenGroups:d}}(s,t,i),Ce=[];for(let qe of T)Ce.push({seg:n[qe.index],rect:qe});for(let qe of d)Ce.push({seg:qe,rect:null});return{segPlacements:Ce,hiddenGroups:W}}(o,Rn,Ce,T);return cn(jo,null,this.renderHiddenGroups(Ti,o),jn.map(io=>{let{seg:Ji,rect:Eo}=io,ps=Ji.eventRange.instance.instanceId,Ps=Pn||Boolean(!t[ps]&&Eo),ko=qp(Eo&&Eo.span),Xl=!Pn&&Eo?this.computeSegHStyle(Eo):{left:0,right:0},q_=Boolean(Eo)&&Eo.stackForward>0,XB=Boolean(Eo)&&Eo.span.end-Eo.span.start<W;return cn("div",{className:"fc-timegrid-event-harness"+(q_?" fc-timegrid-event-harness-inset":""),key:ps,style:Object.assign(Object.assign({visibility:Ps?"":"hidden"},ko),Xl)},cn(pv,Object.assign({seg:Ji,isDragging:i,isResizing:s,isDateSelecting:d,isSelected:ps===jt,isShort:XB},vl(Ji,Wt,_n))))}))}renderHiddenGroups(o,t){let{extraDateSpan:i,dateProfile:s,todayRange:d,nowDate:T,eventSelection:W,eventDrag:Ce,eventResize:qe}=this.props;return cn(jo,null,o.map(Xe=>{let $t=qp(Xe.span),jt=function hv(n,o){return n.map(t=>o[t.index])}(Xe.entries,t);return cn(Xy,{key:u0(gC(jt)),hiddenSegs:jt,top:$t.top,bottom:$t.bottom,extraDateSpan:i,dateProfile:s,todayRange:d,nowDate:T,eventSelection:W,eventDrag:Ce,eventResize:qe})}))}renderFillSegs(o,t){let{props:i,context:s}=this,T=uv(o,i.date,i.slatCoords,s.options.eventMinHeight).map((W,Ce)=>{let qe=o[Ce];return cn("div",{key:sf(qe.eventRange),className:"fc-timegrid-bg-harness",style:qp(W)},"bg-event"===t?cn(Mf,Object.assign({seg:qe},vl(qe,i.todayRange,i.nowDate))):Ar(t))});return cn(jo,null,T)}renderNowIndicator(o){let{slatCoords:t,date:i}=this.props;return t?o.map((s,d)=>cn(Tg,{key:d,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(s.start,i)},isAxis:!1,date:i})):null}computeSegHStyle(o){let W,Ce,{isRtl:t,options:i}=this.context,s=i.slotEventOverlap,d=o.levelCoord,T=o.levelCoord+o.thickness;s&&(T=Math.min(1,d+2*(T-d))),t?(W=1-T,Ce=d):(W=d,Ce=1-T);let qe={zIndex:o.stackDepth+1,left:100*W+"%",right:100*Ce+"%"};return s&&!o.stackForward&&(qe[t?"marginLeft":"marginRight"]=20),qe}}function Ng(n,{todayRange:o,nowDate:t,eventSelection:i,eventDrag:s,eventResize:d}){let T=(s?s.affectedInstances:null)||(d?d.affectedInstances:null)||{};return cn(jo,null,n.map(W=>{let Ce=W.eventRange.instance.instanceId;return cn("div",{key:Ce,style:{visibility:T[Ce]?"hidden":""}},cn(pv,Object.assign({seg:W,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:Ce===i,isShort:!1},vl(W,o,t))))}))}function qp(n){return n?{top:n.start,bottom:-n.end}:{top:"",bottom:""}}class $f extends is{constructor(){super(...arguments),this.splitFgEventSegs=Vi(Kp),this.splitBgEventSegs=Vi(Kp),this.splitBusinessHourSegs=Vi(Kp),this.splitNowIndicatorSegs=Vi(Kp),this.splitDateSelectionSegs=Vi(Kp),this.splitEventDrag=Vi(Kf),this.splitEventResize=Vi(Kf),this.rootElRef={current:null},this.cellElRefs=new Wl}render(){let{props:o,context:t}=this,i=t.options.nowIndicator&&o.slatCoords&&o.slatCoords.safeComputeTop(o.nowDate),s=o.cells.length,d=this.splitFgEventSegs(o.fgEventSegs,s),T=this.splitBgEventSegs(o.bgEventSegs,s),W=this.splitBusinessHourSegs(o.businessHourSegs,s),Ce=this.splitNowIndicatorSegs(o.nowIndicatorSegs,s),qe=this.splitDateSelectionSegs(o.dateSelectionSegs,s),Xe=this.splitEventDrag(o.eventDrag,s),$t=this.splitEventResize(o.eventResize,s);return cn("div",{className:"fc-timegrid-cols",ref:this.rootElRef},cn("table",{role:"presentation",style:{minWidth:o.tableMinWidth,width:o.clientWidth}},o.tableColGroupNode,cn("tbody",{role:"presentation"},cn("tr",{role:"row"},o.axis&&cn("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},cn("div",{className:"fc-timegrid-col-frame"},cn("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof i&&cn(Tg,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:i},isAxis:!0,date:o.nowDate})))),o.cells.map((jt,Wt)=>cn(l4,{key:jt.key,elRef:this.cellElRefs.createRef(jt.key),dateProfile:o.dateProfile,date:jt.date,nowDate:o.nowDate,todayRange:o.todayRange,extraRenderProps:jt.extraRenderProps,extraDataAttrs:jt.extraDataAttrs,extraClassNames:jt.extraClassNames,extraDateSpan:jt.extraDateSpan,fgEventSegs:d[Wt],bgEventSegs:T[Wt],businessHourSegs:W[Wt],nowIndicatorSegs:Ce[Wt],dateSelectionSegs:qe[Wt],eventDrag:Xe[Wt],eventResize:$t[Wt],slatCoords:o.slatCoords,eventSelection:o.eventSelection,forPrint:o.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:o}=this;o.onColCoords&&null!==o.clientWidth&&o.onColCoords(new Vc(this.rootElRef.current,function c4(n,o){return o.map(t=>n[t.key])}(this.cellElRefs.currentMap,o.cells),!0,!1))}}class u4 extends nl{constructor(){super(...arguments),this.processSlotOptions=Vi(Xf),this.state={slatCoords:null},this.handleRootEl=o=>{o?this.context.registerInteractiveComponent(this,{el:o,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=o=>{let{onScrollTopRequest:t}=this.props,{slatCoords:i}=this.state;if(t&&i){if(o.time){let s=i.computeTimeTop(o.time);s=Math.ceil(s),s&&(s+=1),t(s)}return!0}return!1},this.handleColCoords=o=>{this.colCoords=o},this.handleSlatCoords=o=>{this.setState({slatCoords:o}),this.props.onSlatCoords&&this.props.onSlatCoords(o)}}render(){let{props:o,state:t}=this;return cn("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:o.clientWidth,minWidth:o.tableMinWidth}},cn($y,{axis:o.axis,dateProfile:o.dateProfile,slatMetas:o.slatMetas,clientWidth:o.clientWidth,minHeight:o.expandRows?o.clientHeight:"",tableMinWidth:o.tableMinWidth,tableColGroupNode:o.axis?o.tableColGroupNode:null,onCoords:this.handleSlatCoords}),cn($f,{cells:o.cells,axis:o.axis,dateProfile:o.dateProfile,businessHourSegs:o.businessHourSegs,bgEventSegs:o.bgEventSegs,fgEventSegs:o.fgEventSegs,dateSelectionSegs:o.dateSelectionSegs,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,todayRange:o.todayRange,nowDate:o.nowDate,nowIndicatorSegs:o.nowIndicatorSegs,clientWidth:o.clientWidth,tableMinWidth:o.tableMinWidth,tableColGroupNode:o.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:o.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(o){this.scrollResponder.update(o.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(o,t){let{dateEnv:i,options:s}=this.context,{colCoords:d}=this,{dateProfile:T}=this.props,{slatCoords:W}=this.state,{snapDuration:Ce,snapsPerSlot:qe}=this.processSlotOptions(this.props.slotDuration,s.snapDuration),Xe=d.leftToIndex(o),$t=W.positions.topToIndex(t);if(null!=Xe&&null!=$t){let jt=this.props.cells[Xe],Wt=W.positions.tops[$t],_n=W.positions.getHeight($t),Rn=Math.floor((t-Wt)/_n*qe),Ti=this.props.cells[Xe].date,io=Tt(T.slotMinTime,function tn(n,o){return{years:n.years*o,months:n.months*o,days:n.days*o,milliseconds:n.milliseconds*o}}(Ce,$t*qe+Rn)),Ji=i.add(Ti,io),Eo=i.add(Ji,Ce);return{dateProfile:T,dateSpan:Object.assign({range:{start:Ji,end:Eo},allDay:!1},jt.extraDateSpan),dayEl:d.els[Xe],rect:{left:d.lefts[Xe],right:d.rights[Xe],top:Wt,bottom:Wt+_n},layer:0}}return null}}function Xf(n,o){let t=o||n,i=ei(n,t);return null===i&&(t=n,i=1),{snapDuration:t,snapsPerSlot:i}}class d4 extends _f{sliceRange(o,t){let i=[];for(let s=0;s<t.length;s+=1){let d=Cu(o,t[s]);d&&i.push({start:d.start,end:d.end,isStart:d.start.valueOf()===o.start.valueOf(),isEnd:d.end.valueOf()===o.end.valueOf(),col:s})}return i}}class gv extends nl{constructor(){super(...arguments),this.buildDayRanges=Vi(Fd),this.slicer=new d4,this.timeColsRef={current:null}}render(){let{props:o,context:t}=this,{dateProfile:i,dayTableModel:s}=o,{nowIndicator:d,nextDayThreshold:T}=t.options,W=this.buildDayRanges(s,i,t.dateEnv);return cn(Gl,{unit:d?"minute":"day"},(Ce,qe)=>cn(u4,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(o,i,null,t,W),{forPrint:o.forPrint,axis:o.axis,dateProfile:i,slatMetas:o.slatMetas,slotDuration:o.slotDuration,cells:s.cells[0],tableColGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,clientWidth:o.clientWidth,clientHeight:o.clientHeight,expandRows:o.expandRows,nowDate:Ce,nowIndicatorSegs:d&&this.slicer.sliceNowDate(Ce,i,T,t,W),todayRange:qe,onScrollTopRequest:o.onScrollTopRequest,onSlatCoords:o.onSlatCoords})))}}function Fd(n,o,t){let i=[];for(let s of n.headerDates)i.push({start:t.add(s,o.slotMinTime),end:t.add(s,o.slotMaxTime)});return i}const e_=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function p4(n,o,t,i,s){let d=new Date(0),T=n,W=H(0),Ce=t||function RI(n){let o,t,i;for(o=e_.length-1;o>=0;o-=1)if(t=H(e_[o]),i=ei(t,n),null!==i&&i>1)return t;return n}(i),qe=[];for(;Yn(T)<Yn(o);){let Xe=s.add(d,T),$t=null!==ei(W,Ce);qe.push({date:Xe,time:T,key:Xe.toISOString(),isoTimeStr:d0(Xe),isLabeled:$t}),T=Tt(T,i),W=Tt(W,i)}return qe}function t_(n,o){let t=new Tu(n.renderRange,o);return new Au(t,!1)}el('.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}');var g4=La({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:{allDaySlot:Boolean},views:{timeGrid:{component:class mv extends sv{constructor(){super(...arguments),this.buildTimeColsModel=Vi(t_),this.buildSlatMetas=Vi(p4)}render(){let{options:o,dateEnv:t,dateProfileGenerator:i}=this.context,{props:s}=this,{dateProfile:d}=s,T=this.buildTimeColsModel(d,i),W=this.allDaySplitter.splitProps(s),Ce=this.buildSlatMetas(d.slotMinTime,d.slotMaxTime,o.slotLabelInterval,o.slotDuration,t),{dayMinWidth:qe}=o,Xe=!qe,$t=qe,jt=o.dayHeaders&&cn(Iu,{dates:T.headerDates,dateProfile:d,datesRepDistinctDays:!0,renderIntro:Xe?this.renderHeadAxis:null}),Wt=!1!==o.allDaySlot&&(Pn=>cn(XC,Object.assign({},W.allDay,{dateProfile:d,dayTableModel:T,nextDayThreshold:o.nextDayThreshold,tableMinWidth:Pn.tableMinWidth,colGroupNode:Pn.tableColGroupNode,renderRowIntro:Xe?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:Pn.clientWidth,clientHeight:Pn.clientHeight,forPrint:s.forPrint},this.getAllDayMaxEventProps()))),_n=Pn=>cn(gv,Object.assign({},W.timed,{dayTableModel:T,dateProfile:d,axis:Xe,slotDuration:o.slotDuration,slatMetas:Ce,forPrint:s.forPrint,tableColGroupNode:Pn.tableColGroupNode,tableMinWidth:Pn.tableMinWidth,clientWidth:Pn.clientWidth,clientHeight:Pn.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:Pn.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return $t?this.renderHScrollLayout(jt,Wt,_n,T.colCnt,qe,Ce,this.state.slatCoords):this.renderSimpleLayout(jt,Wt,_n)}},usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});class _v extends is{constructor(){super(...arguments),this.state={textId:Hl()}}render(){let{theme:o,dateEnv:t,options:i,viewApi:s}=this.context,{cellId:d,dayDate:T,todayRange:W}=this.props,{textId:Ce}=this.state,qe=Wm(T,W),Xe=i.listDayFormat?t.format(T,i.listDayFormat):"",$t=i.listDaySideFormat?t.format(T,i.listDaySideFormat):"",jt=Object.assign({date:t.toDate(T),view:s,textId:Ce,text:Xe,sideText:$t,navLinkAttrs:Cd(this.context,T),sideNavLinkAttrs:Cd(this.context,T,"day",!1)},qe);return cn($r,{elTag:"tr",elClasses:["fc-list-day",...Mp(qe,o)],elAttrs:{"data-date":wp(T)},renderProps:jt,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:n_,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},Wt=>cn("th",{scope:"colgroup",colSpan:3,id:d,"aria-labelledby":Ce},cn(Wt,{elTag:"div",elClasses:["fc-list-day-cushion",o.getClass("tableCellShaded")]})))}}function n_(n){return cn(jo,null,n.text&&cn("a",Object.assign({id:n.textId,className:"fc-list-day-text"},n.navLinkAttrs),n.text),n.sideText&&cn("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},n.sideNavLinkAttrs),n.sideText))}const Cv=ys({hour:"numeric",minute:"2-digit",meridiem:"short"});class vv extends is{render(){let{props:o,context:t}=this,{options:i}=t,{seg:s,timeHeaderId:d,eventHeaderId:T,dateHeaderId:W}=o,Ce=i.eventTimeFormat||Cv;return cn(Qp,Object.assign({},o,{elTag:"tr",elClasses:["fc-list-event",s.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>function bv(n,o){let t=gg(n,o);return cn("a",Object.assign({},t),n.eventRange.def.title)}(s,t),seg:s,timeText:"",disableDragging:!0,disableResizing:!0}),(qe,Xe)=>cn(jo,null,function yv(n,o,t,i,s){let{options:d}=t;if(!1!==d.displayEventTime){let qe,W=n.eventRange.instance,Ce=!1;return n.eventRange.def.allDay?Ce=!0:function wb(n){let o=Vm(n);return Oa(o.start,o.end)>1}(n.eventRange.range)?n.isStart?qe=hg(n,o,t,null,null,W.range.start,n.end):n.isEnd?qe=hg(n,o,t,null,null,n.start,W.range.end):Ce=!0:qe=hg(n,o,t),Ce?cn($r,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${i} ${s}`},renderProps:{text:t.options.allDayText,view:t.viewApi},generatorName:"allDayContent",customGenerator:d.allDayContent,defaultGenerator:m4,classNameGenerator:d.allDayClassNames,didMount:d.allDayDidMount,willUnmount:d.allDayWillUnmount}):cn("td",{className:"fc-list-event-time"},qe)}return null}(s,Ce,t,d,W),cn("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},cn("span",{className:"fc-list-event-dot",style:{borderColor:Xe.borderColor||Xe.backgroundColor}})),cn(qe,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${T} ${W}`}})))}}function m4(n){return n.text}function _4(n){return n.text}function C4(n){let o=ds(n.renderRange.start),t=n.renderRange.end,i=[],s=[];for(;o<t;)i.push(o),s.push({start:o,end:Qs(o,1)}),o=Qs(o,1);return{dayDates:i,dayRanges:s}}function Tv(n){return!1===n?null:ys(n)}el(':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}');var v4=La({name:"@fullcalendar/list",optionRefiners:{listDayFormat:Tv,listDaySideFormat:Tv,noEventsClassNames:Zn,noEventsContent:Zn,noEventsDidMount:Zn,noEventsWillUnmount:Zn},views:{list:{component:class f4 extends nl{constructor(){super(...arguments),this.computeDateVars=Vi(C4),this.eventStoreToSegs=Vi(this._eventStoreToSegs),this.state={timeHeaderId:Hl(),eventHeaderId:Hl(),dateHeaderIdRoot:Hl()},this.setRootEl=o=>{o?this.context.registerInteractiveComponent(this,{el:o}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:o,context:t}=this,{dayDates:i,dayRanges:s}=this.computeDateVars(o.dateProfile),d=this.eventStoreToSegs(o.eventStore,o.eventUiBases,s);return cn(Od,{elRef:this.setRootEl,elClasses:["fc-list",t.theme.getClass("table"),!1!==t.options.stickyHeaderDates?"fc-list-sticky":""],viewSpec:t.viewSpec},cn(Af,{liquid:!o.isHeightAuto,overflowX:o.isHeightAuto?"visible":"hidden",overflowY:o.isHeightAuto?"visible":"auto"},d.length>0?this.renderSegList(d,i):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:o,viewApi:t}=this.context;return cn($r,{elTag:"div",elClasses:["fc-list-empty"],renderProps:{text:o.noEventsText,view:t},generatorName:"noEventsContent",customGenerator:o.noEventsContent,defaultGenerator:_4,classNameGenerator:o.noEventsClassNames,didMount:o.noEventsDidMount,willUnmount:o.noEventsWillUnmount},s=>cn(s,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(o,t){let{theme:i,options:s}=this.context,{timeHeaderId:d,eventHeaderId:T,dateHeaderIdRoot:W}=this.state,Ce=function xv(n){let t,i,o=[];for(t=0;t<n.length;t+=1)i=n[t],(o[i.dayIndex]||(o[i.dayIndex]=[])).push(i);return o}(o);return cn(Gl,{unit:"day"},(qe,Xe)=>{let $t=[];for(let jt=0;jt<Ce.length;jt+=1){let Wt=Ce[jt];if(Wt){let _n=wp(t[jt]),Pn=W+"-"+_n;$t.push(cn(_v,{key:_n,cellId:Pn,dayDate:t[jt],todayRange:Xe})),Wt=tf(Wt,s.eventOrder);for(let Rn of Wt)$t.push(cn(vv,Object.assign({key:_n+":"+Rn.eventRange.instance.instanceId,seg:Rn,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:d,eventHeaderId:T,dateHeaderId:Pn},vl(Rn,Xe,qe))))}}return cn("table",{className:"fc-list-table "+i.getClass("table")},cn("thead",null,cn("tr",null,cn("th",{scope:"col",id:d},s.timeHint),cn("th",{scope:"col","aria-hidden":!0}),cn("th",{scope:"col",id:T},s.eventHint))),cn("tbody",null,$t))})}_eventStoreToSegs(o,t,i){return this.eventRangesToSegs(Z0(o,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,i)}eventRangesToSegs(o,t){let i=[];for(let s of o)i.push(...this.eventRangeToSegs(s,t));return i}eventRangeToSegs(o,t){let W,Ce,qe,{dateEnv:i}=this.context,{nextDayThreshold:s}=this.context.options,d=o.range,T=o.def.allDay,Xe=[];for(W=0;W<t.length;W+=1)if(Ce=Cu(d,t[W]),Ce&&(qe={component:this,eventRange:o,start:Ce.start,end:Ce.end,isStart:o.isStart&&Ce.start.valueOf()===d.start.valueOf(),isEnd:o.isEnd&&Ce.end.valueOf()===d.end.valueOf(),dayIndex:W},Xe.push(qe),!qe.isEnd&&!T&&W+1<t.length&&d.end<i.add(t[W+1].start,s))){qe.end=d.end,qe.isEnd=!0;break}return Xe}},buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});Td.touchMouseIgnoreWait=500;let Av=0,i_=0,o_=!1;class s_{constructor(o){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&function wv(n){return 0===n.button&&!n.ctrlKey}(t)&&this.tryStart(t)){let i=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let i=this.createEventFromMouse(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let i=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let s=t.target;this.shouldIgnoreMove||s.addEventListener("touchmove",this.handleTouchMove),s.addEventListener("touchend",this.handleTouchEnd),s.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let i=this.createEventFromTouch(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=t=>{if(this.isDragging){let i=t.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,function Ev(){Av+=1,setTimeout(()=>{Av-=1},Td.touchMouseIgnoreWait)}()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let i=window.pageXOffset-this.prevScrollX+this.prevPageX,s=window.pageYOffset-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:i-this.origPageX,deltaY:s-this.origPageY})}},this.containerEl=o,this.emitter=new Pp,o.addEventListener("mousedown",this.handleMouseDown),o.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),function Sv(){i_+=1,1===i_&&window.addEventListener("touchmove",r_,{passive:!1})}()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),function kv(){i_-=1,i_||window.removeEventListener("touchmove",r_,{passive:!1})}()}tryStart(o){let t=this.querySubjectEl(o);return!(!t||this.handleSelector&&!zr(o.target,this.handleSelector)||(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,0))}cleanup(){o_=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(o){return this.selector?zr(o.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Av||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(o_=!0)}initScrollWatch(o){this.shouldWatchScroll&&(this.recordCoords(o),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(o){this.shouldWatchScroll&&(this.prevPageX=o.pageX,this.prevPageY=o.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(o,t){let i=0,s=0;return t?(this.origPageX=o.pageX,this.origPageY=o.pageY):(i=o.pageX-this.origPageX,s=o.pageY-this.origPageY),{origEvent:o,isTouch:!1,subjectEl:this.subjectEl,pageX:o.pageX,pageY:o.pageY,deltaX:i,deltaY:s}}createEventFromTouch(o,t){let s,d,i=o.touches,T=0,W=0;return i&&i.length?(s=i[0].pageX,d=i[0].pageY):(s=o.pageX,d=o.pageY),t?(this.origPageX=s,this.origPageY=d):(T=s-this.origPageX,W=d-this.origPageY),{origEvent:o,isTouch:!0,subjectEl:this.subjectEl,pageX:s,pageY:d,deltaX:T,deltaY:W}}}function r_(n){o_&&n.preventDefault()}class Dv{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(o,t,i){this.sourceEl=o,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=i-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(o,t){this.deltaX=o-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()}setIsVisible(o){o?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=o,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=o)}stop(o,t){let i=()=>{this.cleanup(),t()};o&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(o,t){let i=this.mirrorEl,s=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",uu(i,{left:s.left,top:s.top}),function bp(n,o){let t=i=>{o(i),Kr.forEach(s=>{n.removeEventListener(s,t)})};Kr.forEach(i=>{n.addEventListener(i,t)})}(i,()=>{i.style.transition="",o()})}cleanup(){this.mirrorEl&&(Os(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&uu(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let o=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.classList.add("fc-event-dragging"),uu(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:o.right-o.left,height:o.bottom-o.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class a_ extends Rp{constructor(o,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=o,this.doesListening=t,this.scrollTop=this.origScrollTop=o.getScrollTop(),this.scrollLeft=this.origScrollLeft=o.getScrollLeft(),this.scrollWidth=o.getScrollWidth(),this.scrollHeight=o.getScrollHeight(),this.clientWidth=o.getClientWidth(),this.clientHeight=o.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(o){this.scrollController.setScrollTop(o),this.doesListening||(this.scrollTop=Math.max(Math.min(o,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(o){this.scrollController.setScrollLeft(o),this.doesListening||(this.scrollLeft=Math.max(Math.min(o,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class l_ extends a_{constructor(o,t){super(new Ob(o),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return vd(this.scrollController.el)}}class b4 extends a_{constructor(o){super(new yI,o)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const c_="function"==typeof performance?performance.now:Date.now;class $p{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let o=this.computeBestEdge(this.pointerScreenX+window.pageXOffset,this.pointerScreenY+window.pageYOffset);if(o){let t=c_();this.handleSide(o,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(o,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(o,t))}handleMove(o,t){if(this.isEnabled){let i=o-window.pageXOffset,s=t-window.pageYOffset,d=null===this.pointerScreenY?0:s-this.pointerScreenY,T=null===this.pointerScreenX?0:i-this.pointerScreenX;d<0?this.everMovedUp=!0:d>0&&(this.everMovedDown=!0),T<0?this.everMovedLeft=!0:T>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=s,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(c_()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let o of this.scrollCaches)o.destroy();this.scrollCaches=null}}requestAnimation(o){this.msSinceRequest=o,requestAnimationFrame(this.animate)}handleSide(o,t){let{scrollCache:i}=o,{edgeThreshold:s}=this,d=s-o.distance,T=d*d/(s*s)*this.maxVelocity*t,W=1;switch(o.name){case"left":W=-1;case"right":i.setScrollLeft(i.getScrollLeft()+T*W);break;case"top":W=-1;case"bottom":i.setScrollTop(i.getScrollTop()+T*W)}}computeBestEdge(o,t){let{edgeThreshold:i}=this,s=null,d=this.scrollCaches||[];for(let T of d){let W=T.clientRect,Ce=o-W.left,qe=W.right-o,Xe=t-W.top,$t=W.bottom-t;Ce>=0&&qe>=0&&Xe>=0&&$t>=0&&(Xe<=i&&this.everMovedUp&&T.canScrollUp()&&(!s||s.distance>Xe)&&(s={scrollCache:T,name:"top",distance:Xe}),$t<=i&&this.everMovedDown&&T.canScrollDown()&&(!s||s.distance>$t)&&(s={scrollCache:T,name:"bottom",distance:$t}),Ce<=i&&this.everMovedLeft&&T.canScrollLeft()&&(!s||s.distance>Ce)&&(s={scrollCache:T,name:"left",distance:Ce}),qe<=i&&this.everMovedRight&&T.canScrollRight()&&(!s||s.distance>qe)&&(s={scrollCache:T,name:"right",distance:qe}))}return s}buildCaches(o){return this.queryScrollEls(o).map(t=>t===window?new b4(!1):new l_(t,!1))}queryScrollEls(o){let t=[];for(let i of this.scrollQuery)"object"==typeof i?t.push(i):t.push(...Array.prototype.slice.call(o.getRootNode().querySelectorAll(i)));return t}}class Su extends class Jb{constructor(o,t){this.emitter=new Pp}destroy(){}setMirrorIsVisible(o){}setMirrorNeedsRevert(o){}setAutoScrollEnabled(o){}}{constructor(o,t){super(o),this.containerEl=o,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=s=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,function pd(n){n.style.userSelect="none",n.addEventListener("selectstart",vp)}(document.body),function hu(n){n.addEventListener("contextmenu",vp)}(document.body),s.isTouch||s.origEvent.preventDefault(),this.emitter.trigger("pointerdown",s),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(s.subjectEl,s.pageX,s.pageY),this.startDelay(s),this.minDistance||this.handleDistanceSurpassed(s)))},this.onPointerMove=s=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",s),!this.isDistanceSurpassed){let T,d=this.minDistance,{deltaX:W,deltaY:Ce}=s;T=W*W+Ce*Ce,T>=d*d&&this.handleDistanceSurpassed(s)}this.isDragging&&("scroll"!==s.origEvent.type&&(this.mirror.handleMove(s.pageX,s.pageY),this.autoScroller.handleMove(s.pageX,s.pageY)),this.emitter.trigger("dragmove",s))}},this.onPointerUp=s=>{this.isInteracting&&(this.isInteracting=!1,function Fc(n){n.style.userSelect="",n.removeEventListener("selectstart",vp)}(document.body),function fl(n){n.removeEventListener("contextmenu",vp)}(document.body),this.emitter.trigger("pointerup",s),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(s)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new s_(o);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),t&&(i.selector=t),this.mirror=new Dv,this.autoScroller=new $p}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(o){"number"==typeof this.delay?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(o)},this.delay):this.handleDelayEnd(o)}handleDelayEnd(o){this.isDelayEnded=!0,this.tryStartDrag(o)}handleDistanceSurpassed(o){this.isDistanceSurpassed=!0,this.tryStartDrag(o)}tryStartDrag(o){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(o.pageX,o.pageY,this.containerEl),this.emitter.trigger("dragstart",o),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())}tryStopDrag(o){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,o))}stopDrag(o){this.isDragging=!1,this.emitter.trigger("dragend",o)}setIgnoreMove(o){this.pointer.shouldIgnoreMove=o}setMirrorIsVisible(o){this.mirror.setIsVisible(o)}setMirrorNeedsRevert(o){this.mirrorNeedsRevert=o}setAutoScrollEnabled(o){this.autoScroller.isEnabled=o}}class Mv{constructor(o){this.origRect=Op(o),this.scrollCaches=rg(o).map(t=>new l_(t,!0))}destroy(){for(let o of this.scrollCaches)o.destroy()}computeLeft(){let o=this.origRect.left;for(let t of this.scrollCaches)o+=t.origScrollLeft-t.getScrollLeft();return o}computeTop(){let o=this.origRect.top;for(let t of this.scrollCaches)o+=t.origScrollTop-t.getScrollTop();return o}isWithinClipping(o,t){let i={left:o,top:t};for(let s of this.scrollCaches)if(!Ov(s.getEventTarget())&&!Eb(i,s.clientRect))return!1;return!0}}function Ov(n){let o=n.tagName;return"HTML"===o||"BODY"===o}class Bd{constructor(o,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:s}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(s.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):s.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=t,o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("dragmove",this.handleDragMove),o.emitter.on("pointerup",this.handlePointerUp),o.emitter.on("dragend",this.handleDragEnd),this.dragging=o,this.emitter=new Pp}processFirstCoord(o){let d,t={left:o.pageX,top:o.pageY},i=t,s=o.subjectEl;s instanceof HTMLElement&&(d=Op(s),i=function Sb(n,o){return{left:Math.min(Math.max(n.left,o.left),o.right),top:Math.min(Math.max(n.top,o.top),o.bottom)}}(i,d));let T=this.initialHit=this.queryHitForOffset(i.left,i.top);if(T){if(this.useSubjectCenter&&d){let W=zm(d,T.rect);W&&(i=function mI(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}(W))}this.coordAdjust=function I0(n,o){return{left:n.left-o.left,top:n.top-o.top}}(i,t)}else this.coordAdjust={left:0,top:0}}handleMove(o,t){let i=this.queryHitForOffset(o.pageX+this.coordAdjust.left,o.pageY+this.coordAdjust.top);(t||!Xp(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,o))}prepareHits(){this.offsetTrackers=Si(this.droppableStore,o=>(o.component.prepareHits(),new Mv(o.el)))}releaseHits(){let{offsetTrackers:o}=this;for(let t in o)o[t].destroy();this.offsetTrackers={}}queryHitForOffset(o,t){let{droppableStore:i,offsetTrackers:s}=this,d=null;for(let T in i){let W=i[T].component,Ce=s[T];if(Ce&&Ce.isWithinClipping(o,t)){let qe=Ce.computeLeft(),Xe=Ce.computeTop(),$t=o-qe,jt=t-Xe,{origRect:Wt}=Ce,_n=Wt.right-Wt.left,Pn=Wt.bottom-Wt.top;if($t>=0&&$t<_n&&jt>=0&&jt<Pn){let Rn=W.queryHit($t,jt,_n,Pn);Rn&&Qm(Rn.dateProfile.activeRange,Rn.dateSpan.range)&&(!d||Rn.layer>d.layer)&&(Rn.componentId=T,Rn.context=W.context,Rn.rect.left+=qe,Rn.rect.right+=qe,Rn.rect.top+=Xe,Rn.rect.bottom+=Xe,d=Rn)}}}return d}}function Xp(n,o){return!n&&!o||Boolean(n)===Boolean(o)&&function mc(n,o){return function bI(n,o){return(null===n.start?null:n.start.valueOf())===(null===o.start?null:o.start.valueOf())&&(null===n.end?null:n.end.valueOf())===(null===o.end?null:o.end.valueOf())}(n.range,o.range)&&n.allDay===o.allDay&&function mg(n,o){for(let t in o)if("range"!==t&&"allDay"!==t&&n[t]!==o[t])return!1;for(let t in n)if(!(t in o))return!1;return!0}(n,o)}(n.dateSpan,o.dateSpan)}function Fg(n,o){let t={};for(let i of o.pluginHooks.datePointTransforms)Object.assign(t,i(n,o));return Object.assign(t,function y4(n,o){return{date:o.toDate(n.range.start),dateStr:o.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}(n,o.dateEnv)),t}let u_=(()=>{class n extends Id{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=W=>{let Ce=W.origEvent.target,{component:qe,dragging:Xe}=this,{mirror:$t}=Xe,{options:jt}=qe.context,Wt=qe.context;this.subjectEl=W.subjectEl;let _n=this.subjectSeg=yd(W.subjectEl),Rn=(this.eventRange=_n.eventRange).instance.instanceId;this.relevantEvents=kp(Wt.getCurrentData().eventStore,Rn),Xe.minDistance=W.isTouch?0:jt.eventDragMinDistance,Xe.delay=W.isTouch&&Rn!==qe.props.eventSelection?function eh(n){let{options:o}=n.context,t=o.eventLongPressDelay;return null==t&&(t=o.longPressDelay),t}(qe):null,$t.parentNode=jt.fixedMirrorParent?jt.fixedMirrorParent:zr(Ce,".fc"),$t.revertDuration=jt.dragRevertDuration;let jn=qe.isValidSegDownEl(Ce)&&!zr(Ce,".fc-event-resizer");Xe.setIgnoreMove(!jn),this.isDragging=jn&&W.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=W=>{let Ce=this.component.context,qe=this.eventRange,Xe=qe.instance.instanceId;W.isTouch?Xe!==this.component.props.eventSelection&&Ce.dispatch({type:"SELECT_EVENT",eventInstanceId:Xe}):Ce.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(Ce.calendarApi.unselect(W),Ce.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new xs(Ce,qe.def,qe.instance),jsEvent:W.origEvent,view:Ce.viewApi}))},this.handleHitUpdate=(W,Ce)=>{if(!this.isDragging)return;let qe=this.relevantEvents,Xe=this.hitDragging.initialHit,$t=this.component.context,jt=null,Wt=null,_n=null,Pn=!1,Rn={affectedEvents:qe,mutatedEvents:{defs:{},instances:{}},isEvent:!0};if(W){jt=W.context;let jn=jt.options;$t===jt||jn.editable&&jn.droppable?(Wt=function Nv(n,o,t){let i=n.dateSpan,s=o.dateSpan,d=i.range.start,T=s.range.start,W={};i.allDay!==s.allDay&&(W.allDay=s.allDay,W.hasEnd=o.context.options.allDayMaintainDuration,s.allDay&&(d=ds(d)));let Ce=_d(d,T,n.context.dateEnv,n.componentId===o.componentId?n.largeUnit:null);Ce.milliseconds&&(W.allDay=!1);let qe={datesDelta:Ce,standardProps:W};for(let Xe of t)Xe(qe,n,o);return qe}(Xe,W,jt.getCurrentData().pluginHooks.eventDragMutationMassagers),Wt&&(_n=lg(qe,jt.getCurrentData().eventUiBases,Wt,jt),Rn.mutatedEvents=_n,eC(Rn,W.dateProfile,jt)||(Pn=!0,Wt=null,_n=null,Rn.mutatedEvents={defs:{},instances:{}}))):jt=null}this.displayDrag(jt,Rn),Pn?Ip():Tp(),Ce||($t===jt&&Xp(Xe,W)&&(Wt=null),this.dragging.setMirrorNeedsRevert(!Wt),this.dragging.setMirrorIsVisible(!W||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=jt,this.validMutation=Wt,this.mutatedRelevantEvents=_n)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=W=>{if(this.isDragging){let Ce=this.component.context,qe=Ce.viewApi,{receivingContext:Xe,validMutation:$t}=this,jt=this.eventRange.def,Wt=this.eventRange.instance,_n=new xs(Ce,jt,Wt),Pn=this.relevantEvents,Rn=this.mutatedRelevantEvents,{finalHit:jn}=this.hitDragging;if(this.clearDrag(),Ce.emitter.trigger("eventDragStop",{el:this.subjectEl,event:_n,jsEvent:W.origEvent,view:qe}),$t){if(Xe===Ce){let Ti=new xs(Ce,Rn.defs[jt.defId],Wt?Rn.instances[Wt.instanceId]:null);Ce.dispatch({type:"MERGE_EVENTS",eventStore:Rn});let io={oldEvent:_n,event:Ti,relatedEvents:vu(Rn,Ce,Wt),revert(){Ce.dispatch({type:"MERGE_EVENTS",eventStore:Pn})}},Ji={};for(let Eo of Ce.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(Ji,Eo($t,Ce));Ce.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},io),Ji),{el:W.subjectEl,delta:$t.datesDelta,jsEvent:W.origEvent,view:qe})),Ce.emitter.trigger("eventChange",io)}else if(Xe){let Ti={event:_n,relatedEvents:vu(Pn,Ce,Wt),revert(){Ce.dispatch({type:"MERGE_EVENTS",eventStore:Pn})}};Ce.emitter.trigger("eventLeave",Object.assign(Object.assign({},Ti),{draggedEl:W.subjectEl,view:qe})),Ce.dispatch({type:"REMOVE_EVENTS",eventStore:Pn}),Ce.emitter.trigger("eventRemove",Ti);let Ji=Rn.instances[Wt.instanceId],Eo=new xs(Xe,Rn.defs[jt.defId],Ji);Xe.dispatch({type:"MERGE_EVENTS",eventStore:Rn});let ps={event:Eo,relatedEvents:vu(Rn,Xe,Ji),revert(){Xe.dispatch({type:"REMOVE_EVENTS",eventStore:Rn})}};Xe.emitter.trigger("eventAdd",ps),W.isTouch&&Xe.dispatch({type:"SELECT_EVENT",eventInstanceId:Wt.instanceId}),Xe.emitter.trigger("drop",Object.assign(Object.assign({},Fg(jn.dateSpan,Xe)),{draggedEl:W.subjectEl,jsEvent:W.origEvent,view:jn.context.viewApi})),Xe.emitter.trigger("eventReceive",Object.assign(Object.assign({},ps),{draggedEl:W.subjectEl,view:jn.context.viewApi}))}}else Ce.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:i}=this,{options:s}=i.context,d=this.dragging=new Su(t.el);d.pointer.selector=n.SELECTOR,d.touchScrollAllowed=!1,d.autoScroller.isEnabled=s.dragScroll;let T=this.hitDragging=new Bd(this.dragging,gf);T.useSubjectCenter=t.useEventCenter,T.emitter.on("pointerdown",this.handlePointerDown),T.emitter.on("dragstart",this.handleDragStart),T.emitter.on("hitupdate",this.handleHitUpdate),T.emitter.on("pointerup",this.handlePointerUp),T.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,i){let d=this.receivingContext;d&&d!==t&&d.dispatch(d===this.component.context?{type:"SET_EVENT_DRAG",state:{affectedEvents:i.affectedEvents,mutatedEvents:{defs:{},instances:{}},isEvent:!0}}:{type:"UNSET_EVENT_DRAG"}),t&&t.dispatch({type:"SET_EVENT_DRAG",state:i})}clearDrag(){let t=this.component.context,{receivingContext:i}=this;i&&i.dispatch({type:"UNSET_EVENT_DRAG"}),t!==i&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}return n.SELECTOR=".fc-event-draggable, .fc-event-resizable",n})();const I4={fixedMirrorParent:Zn},p_={dateClick:Zn,eventDragStart:Zn,eventDragStop:Zn,eventDrop:Zn,eventResizeStart:Zn,eventResizeStop:Zn,eventResize:Zn,drop:Zn,eventReceive:Zn,eventLeave:Zn};Td.dataAttrPrefix="";var E4=La({name:"@fullcalendar/interaction",componentInteractions:[class FI extends Id{constructor(o){super(o),this.handlePointerDown=i=>{let{dragging:s}=this;s.setIgnoreMove(!this.component.isValidDateDownEl(i.origEvent.target))},this.handleDragEnd=i=>{let{component:s}=this,{pointer:d}=this.dragging;if(!d.wasTouchScroll){let{initialHit:T,finalHit:W}=this.hitDragging;if(T&&W&&Xp(T,W)){let{context:Ce}=s,qe=Object.assign(Object.assign({},Fg(T.dateSpan,Ce)),{dayEl:T.dayEl,jsEvent:i.origEvent,view:Ce.viewApi||Ce.calendarApi.view});Ce.emitter.trigger("dateClick",qe)}}},this.dragging=new Su(o.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new Bd(this.dragging,hf(o));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},class Pv extends Id{constructor(o){super(o),this.dragSelection=null,this.handlePointerDown=T=>{let{component:W,dragging:Ce}=this,{options:qe}=W.context,Xe=qe.selectable&&W.isValidDateDownEl(T.origEvent.target);Ce.setIgnoreMove(!Xe),Ce.delay=T.isTouch?function Lv(n){let{options:o}=n.context,t=o.selectLongPressDelay;return null==t&&(t=o.longPressDelay),t}(W):null},this.handleDragStart=T=>{this.component.context.calendarApi.unselect(T)},this.handleHitUpdate=(T,W)=>{let{context:Ce}=this.component,qe=null,Xe=!1;if(T){let $t=this.hitDragging.initialHit;T.componentId===$t.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed($t,T)||(qe=function Rv(n,o,t){let i=n.dateSpan,s=o.dateSpan,d=[i.range.start,i.range.end,s.range.start,s.range.end];d.sort(u);let T={};for(let W of t){let Ce=W(n,o);if(!1===Ce)return null;Ce&&Object.assign(T,Ce)}return T.range={start:d[0],end:d[3]},T.allDay=i.allDay,T}($t,T,Ce.pluginHooks.dateSelectionTransformers)),(!qe||!function tC(n,o,t){return!!Qm(o.validRange,n.range)&&Cg({dateSelection:n},t)}(qe,T.dateProfile,Ce))&&(Xe=!0,qe=null)}qe?Ce.dispatch({type:"SELECT_DATES",selection:qe}):W||Ce.dispatch({type:"UNSELECT_DATES"}),Xe?Ip():Tp(),W||(this.dragSelection=qe)},this.handlePointerUp=T=>{this.dragSelection&&(L0(this.dragSelection,T,this.component.context),this.dragSelection=null)};let{component:t}=o,{options:i}=t.context,s=this.dragging=new Su(o.el);s.touchScrollAllowed=!1,s.minDistance=i.selectMinDistance||0,s.autoScroller.isEnabled=i.dragScroll;let d=this.hitDragging=new Bd(this.dragging,hf(o));d.emitter.on("pointerdown",this.handlePointerDown),d.emitter.on("dragstart",this.handleDragStart),d.emitter.on("hitupdate",this.handleHitUpdate),d.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}},u_,class x4 extends Id{constructor(o){super(o),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=d=>{let{component:T}=this,Ce=yd(this.querySegEl(d)),qe=this.eventRange=Ce.eventRange;this.dragging.minDistance=T.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(d.origEvent.target)||d.isTouch&&this.component.props.eventSelection!==qe.instance.instanceId)},this.handleDragStart=d=>{let{context:T}=this.component,W=this.eventRange;this.relevantEvents=kp(T.getCurrentData().eventStore,this.eventRange.instance.instanceId);let Ce=this.querySegEl(d);this.draggingSegEl=Ce,this.draggingSeg=yd(Ce),T.calendarApi.unselect(),T.emitter.trigger("eventResizeStart",{el:Ce,event:new xs(T,W.def,W.instance),jsEvent:d.origEvent,view:T.viewApi})},this.handleHitUpdate=(d,T,W)=>{let{context:Ce}=this.component,qe=this.relevantEvents,Xe=this.hitDragging.initialHit,$t=this.eventRange.instance,jt=null,Wt=null,_n=!1,Pn={affectedEvents:qe,mutatedEvents:{defs:{},instances:{}},isEvent:!0};d&&(d.componentId===Xe.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(Xe,d)||(jt=function d_(n,o,t,i){let s=n.context.dateEnv,W=_d(n.dateSpan.range.start,o.dateSpan.range.start,s,n.largeUnit);if(t){if(s.add(i.start,W)<i.end)return{startDelta:W}}else if(s.add(i.end,W)>i.start)return{endDelta:W};return null}(Xe,d,W.subjectEl.classList.contains("fc-event-resizer-start"),$t.range))),jt&&(Wt=lg(qe,Ce.getCurrentData().eventUiBases,jt,Ce),Pn.mutatedEvents=Wt,eC(Pn,d.dateProfile,Ce)||(_n=!0,jt=null,Wt=null,Pn.mutatedEvents=null)),Ce.dispatch(Wt?{type:"SET_EVENT_RESIZE",state:Pn}:{type:"UNSET_EVENT_RESIZE"}),_n?Ip():Tp(),T||(jt&&Xp(Xe,d)&&(jt=null),this.validMutation=jt,this.mutatedRelevantEvents=Wt)},this.handleDragEnd=d=>{let{context:T}=this.component,W=this.eventRange.def,Ce=this.eventRange.instance,qe=new xs(T,W,Ce),Xe=this.relevantEvents,$t=this.mutatedRelevantEvents;if(T.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:qe,jsEvent:d.origEvent,view:T.viewApi}),this.validMutation){let jt=new xs(T,$t.defs[W.defId],Ce?$t.instances[Ce.instanceId]:null);T.dispatch({type:"MERGE_EVENTS",eventStore:$t});let Wt={oldEvent:qe,event:jt,relatedEvents:vu($t,T,Ce),revert(){T.dispatch({type:"MERGE_EVENTS",eventStore:Xe})}};T.emitter.trigger("eventResize",Object.assign(Object.assign({},Wt),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||H(0),endDelta:this.validMutation.endDelta||H(0),jsEvent:d.origEvent,view:T.viewApi})),T.emitter.trigger("eventChange",Wt)}else T.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=o,i=this.dragging=new Su(o.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=t.context.options.dragScroll;let s=this.hitDragging=new Bd(this.dragging,hf(o));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(o){return zr(o.subjectEl,".fc-event")}}],calendarInteractions:[class jl{constructor(o){this.context=o,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let s=this.context.options.unselectCancel,d=Gh(i.origEvent);this.matchesCancel=!!zr(d,s),this.matchesEvent=!!zr(d,u_.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:s}=this,{documentPointer:d}=this,T=s.getCurrentData();if(!d.wasTouchScroll){if(T.dateSelection&&!this.isRecentPointerDateSelect){let W=s.options.unselectAuto;W&&(!W||!this.matchesCancel)&&s.calendarApi.unselect(i)}T.eventSelection&&!this.matchesEvent&&s.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new s_(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),o.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}],elementDraggingImpl:Su,optionRefiners:I4,listenerRefiners:p_});const Fv=["taskPanel"],Bv=["eventMenu"],g_=["scheduleTaskDialog"];function Zv(n,o){1&n&&e.GkF(0)}function S4(n,o){if(1&n&&(e.TgZ(0,"div",12),e._UZ(1,"full-calendar",13),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("events",t.taskEvent)("options",t.calendarOptions)}}const k4=function(){return{width:"40vw",minWidth:"min-content"}};function ZI(n,o){if(1&n&&(e._UZ(0,"app-task-list-element",14),e.ALo(1,"async")),2&n){const t=e.oxw();let i;e.Akn(e.DdM(6,k4)),e.Q6J("isHover",!1)("item",null!==(i=e.lcZ(1,4,t.api.getTask(t.hoveredTask,!0)))&&void 0!==i?i:void 0)}}var Ta=(()=>{return(n=Ta||(Ta={})).RANGE="RANGE",n.START="START",n.END="END",Ta;var n})();let Zg=(()=>{class n{constructor(t,i,s,d){this.api=t,this.rt=i,this.router=s,this.confirmation=d,this.taskEvent=[],this.hoveredTask=0,this.subscriptionsHolder=new _.xf,this.eventMenuModel=[],this.currentCalendarRange={start:0,end:0},this.calendarOptions={initialView:"dayGridMonth",locale:"ru",aspectRatio:1.5,selectable:!0,nowIndicator:!0,slotEventOverlap:!1,plugins:[tv,g4,v4,E4],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,listWeek,timeGridDay"},editable:!0,eventMouseEnter:this.openPreviewTaskPanel.bind(this),eventMouseLeave:this.hidePreviewTaskPanel.bind(this),eventDrop:this.scheduleMove.bind(this),eventResize:this.scheduleResizing.bind(this),eventClick:this.openContextOfTask.bind(this),select:this.openContextOfSelectDate.bind(this),datesSet:T=>{this.currentCalendarRange.start=T.start.getTime(),this.currentCalendarRange.end=T.end.getTime(),this.api.getScheduledTask(_.cQ.dateFormatTS(T.start),_.cQ.dateFormatTS(T.end)).pipe((0,gt.U)(this.tasksToEvents.bind(this))).subscribe(W=>this.taskEvent=W)},firstDay:1,buttonText:{today:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",month:"\u041c\u0435\u0441\u044f\u0446",week:"\u041d\u0435\u0434\u0435\u043b\u044f",day:"\u0414\u0435\u043d\u044c"},allDayText:"\u0412\u0435\u0441\u044c \u0434\u0435\u043d\u044c",weekText:"\u041d\u0435\u0434\u0435\u043b\u044f",moreLinkText:"\u0411\u043e\u043b\u044c\u0448\u0435",noEventsText:"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435\u0442",navLinks:!0},this.scheduleType=Ta.RANGE}unscheduleTask(t){this.api.clearActualFromDate(t).subscribe(),this.api.clearActualToDate(t).subscribe()}ngOnInit(){this.subscriptionsHolder.addSubscription("updTsk",this.rt.taskUpdated().subscribe(this.updateCalendar.bind(this))),this.subscriptionsHolder.addSubscription("hidePv",(0,y.R)(window,"mousedown").subscribe(this.hidePreviewTaskPanel.bind(this)))}ngOnDestroy(){this.subscriptionsHolder.unsubscribeAll()}openContextOfTask(t){this.eventMenuModel=[{label:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",icon:"mdi-open_in_new",command:this.openTask.bind(this,t)},{label:"\u0423\u0431\u0440\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",icon:"mdi-event_busy",command:this.confirmUnschedulingTask.bind(this,t)}],setTimeout(()=>{var i;null===(i=this.eventMenu)||void 0===i||i.show(t.jsEvent)})}openContextOfSelectDate(t){this.eventMenuModel=[{label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d",icon:"mdi-date_range",command:this.openSelectTaskDialog.bind(this,t,Ta.RANGE)},{label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0447\u0430\u043b\u043e",icon:"mdi-today",command:this.openSelectTaskDialog.bind(this,t,Ta.START)},{label:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0440\u043e\u043a",icon:"mdi-free_cancellation",command:this.openSelectTaskDialog.bind(this,t,Ta.END)}],setTimeout(()=>{var i;t.jsEvent&&(null===(i=this.eventMenu)||void 0===i||i.show(t.jsEvent))})}confirmUnschedulingTask(t){if(!t.event.id)return;const i=parseInt(t.event.id);this.confirmation.confirm({header:"\u0423\u0431\u0440\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 \u0438\u0437 \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044f",message:`\u0423\u0431\u0440\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 #${t.event.id}?`,accept:this.unscheduleTask.bind(this,i)})}openSelectTaskDialog(t,i){var s;this.scheduleType=i,this.scheduleDate=t,null===(s=this.scheduleTaskDialog)||void 0===s||s.open("single")}confirmScheduleTask(t){if(!this.scheduleDate)return;let i="";switch(this.scheduleType){case Ta.RANGE:i=`\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 #${t} \u0441 ${_.cQ.dateFormatTS(this.scheduleDate.start)} \u043f\u043e ${_.cQ.dateFormatTS(this.scheduleDate.end)}`;break;case Ta.START:i=`\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 #${t} \u0441 ${_.cQ.dateFormatTS(this.scheduleDate.start)}`;break;case Ta.END:i=`\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0440\u043e\u043a \u0437\u0430\u0434\u0430\u0447\u0438 #${t} \u043f\u043e ${_.cQ.dateFormatTS(this.scheduleDate.end)}`}this.confirmation.confirm({header:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",message:i,accept:this.scheduleTask.bind(this,t)})}scheduleTask(t){var i,s,d,T;if(this.scheduleDate)switch(this.scheduleType){case Ta.RANGE:this.api.changeTaskActualFrom(t,null===(i=this.scheduleDate)||void 0===i?void 0:i.start).subscribe(),this.api.changeTaskActualTo(t,null===(s=this.scheduleDate)||void 0===s?void 0:s.end).subscribe();break;case Ta.START:this.api.changeTaskActualFrom(t,null===(d=this.scheduleDate)||void 0===d?void 0:d.start).subscribe();break;case Ta.END:this.api.changeTaskActualTo(t,null===(T=this.scheduleDate)||void 0===T?void 0:T.end).subscribe()}}taskToEvent(t){var i,s,d,T,W;const Ce={id:t.taskId.toString(),title:(null===(i=t.modelWireframe)||void 0===i?void 0:i.name)+" #"+t.taskId,start:t.actualFrom,end:t.actualTo,backgroundColor:_.cQ.stringToColor(null!==(d=null===(s=t.modelWireframe)||void 0===s?void 0:s.name)&&void 0!==d?d:"",70,95,70,90),borderColor:_.cQ.stringToColor(null!==(W=null===(T=t.modelWireframe)||void 0===T?void 0:T.name)&&void 0!==W?W:"",80,100,30,80)};return t.actualFrom||(Ce.start=t.actualTo,Ce.borderColor="#ff0000"),Ce}tasksToEvents(t){return t.map(this.taskToEvent.bind(this))}openPreviewTaskPanel(t){var i;this.hideTimer&&clearTimeout(this.hideTimer),this.hoveredTask=parseInt(t.event.id),null===(i=this.taskPanel)||void 0===i||i.show(t.jsEvent,t.el)}hidePreviewTaskPanel(){this.hideTimer=setTimeout(()=>{var t;null===(t=this.taskPanel)||void 0===t||t.hide()})}scheduleMove(t){this.api.moveScheduledTask(parseInt(t.event.id),t.delta).subscribe()}scheduleResizing(t){}updateCalendar(t){let i=this.taskEvent.findIndex(T=>parseInt(T.id)===t.taskId),s=!1,d=!1;if(t.actualFrom){const T=new Date(t.actualFrom).getTime();s=this.currentCalendarRange.start<=T&&T<=this.currentCalendarRange.end}if(t.actualTo){const T=new Date(t.actualTo).getTime();d=this.currentCalendarRange.start<=T&&T<=this.currentCalendarRange.end}(s||d)&&-1!==i?(this.taskEvent[i]=this.taskToEvent(t),this.taskEvent=[...this.taskEvent]):(s||d)&&-1===i?this.taskEvent=[...this.taskEvent,this.taskToEvent(t)]:!s&&!d&&-1!==i&&(this.taskEvent.splice(i,1),this.taskEvent=[...this.taskEvent])}openTask(t){this.router.navigate(["/task",t.event.id]).then()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(a.F0),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Fv,5),e.Gf(Bv,5),e.Gf(g_,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.taskPanel=s.first),e.iGM(s=e.CRH())&&(i.eventMenu=s.first),e.iGM(s=e.CRH())&&(i.scheduleTaskDialog=s.first)}},decls:14,vars:5,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"flexed","gap10","stretched"],[4,"ngTemplateOutlet"],["calendar",""],["showTransitionOptions","0ms","hideTransitionOptions","0ms","appendTo","body",3,"dismissable"],["taskPanel",""],[3,"style","isHover","item",4,"ngIf"],["appendTo","body",3,"model"],["eventMenu",""],["header","\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",3,"onlyMy","onSelected"],["scheduleTaskDialog",""],[1,"stretched"],[3,"events","options"],[3,"isHover","item"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.YNc(4,Zv,1,0,"ng-container",3),e.qZA()()(),e.YNc(5,S4,2,2,"ng-template",null,4,e.W1O),e.TgZ(7,"p-overlayPanel",5,6),e.YNc(9,ZI,2,7,"app-task-list-element",7),e.qZA(),e._UZ(10,"p-contextMenu",8,9),e.TgZ(12,"app-task-selecting-dialog",10,11),e.NdJ("onSelected",function(d){return i.confirmScheduleTask(d)}),e.qZA()),2&t){const s=e.MAs(6);e.xp6(4),e.Q6J("ngTemplateOutlet",s),e.xp6(3),e.Q6J("dismissable",!0),e.xp6(2),e.Q6J("ngIf",i.hoveredTask),e.xp6(1),e.Q6J("model",i.eventMenuModel),e.xp6(2),e.Q6J("onlyMy",!0)}}}),n})();const Uv=function(){return[]};function m_(n,o){if(1&n&&(e._UZ(0,"p-dropdown",4),e.ALo(1,"async")),2&n){const t=o.$implicit,i=e.oxw();let s;e.Q6J("formControlName",t.name)("options",null!==(s=e.lcZ(1,3,i.templates$))&&void 0!==s?s:e.DdM(5,Uv))("placeholder",t.name)}}const f_=function(){return{}};function D4(n,o){if(1&n&&(e._UZ(0,"p-dropdown",7),e.ALo(1,"async")),2&n){const t=o.$implicit,i=e.oxw().$implicit,s=e.oxw();let d;e.Q6J("formControlName",t)("options",s.fieldOfWireframe((null!==(d=e.lcZ(1,3,s.templateBinds$))&&void 0!==d?d:e.DdM(5,f_))[i.name]))("placeholder",t)}}function M4(n,o){if(1&n&&(e.TgZ(0,"fieldset",5)(1,"legend"),e._uU(2),e.qZA(),e.YNc(3,D4,2,6,"p-dropdown",6),e.qZA()),2&n){const t=o.$implicit;e.Q6J("formGroupName",t.name),e.xp6(2),e.hij("\u0428\u0430\u0431\u043b\u043e\u043d: ",t.name,""),e.xp6(1),e.Q6J("ngForOf",t.fields)}}let O4=(()=>{class n{constructor(t){this.api=t,this.controls=[{name:"accident",fields:["description","address","login","phone","workReport"]},{name:"connection",fields:["address","login","phone","advertisingSource","fullName","password","takenFrom","techInfo","type"]},{name:"privateSectorRM",fields:["address","advertisingSource","name","phone","gardening"]},{name:"privateSectorVD",fields:["name","address","advertisingSource","phone","district"]}],this.selectionBindsMap={},this.templatesBindingsMap={},this.templates$=this.api.getWireframes(),this.templateLinkToBindsForm=new g.cw({accident:new g.NI(null),connection:new g.NI(null),privateSectorRM:new g.NI(null),privateSectorVD:new g.NI(null)}),this.bindingsForm=new g.cw({accident:new g.cw({description:new g.NI(""),address:new g.NI(""),login:new g.NI(""),phone:new g.NI(""),workReport:new g.NI(""),wireframe:new g.NI(null)}),connection:new g.cw({address:new g.NI(""),login:new g.NI(""),phone:new g.NI(""),advertisingSource:new g.NI(""),fullName:new g.NI(""),password:new g.NI(""),takenFrom:new g.NI(""),techInfo:new g.NI(""),type:new g.NI(""),wireframe:new g.NI(null)}),privateSectorRM:new g.cw({address:new g.NI(""),advertisingSource:new g.NI(""),name:new g.NI(""),phone:new g.NI(""),gardening:new g.NI(""),wireframe:new g.NI(null)}),privateSectorVD:new g.cw({name:new g.NI(""),address:new g.NI(""),advertisingSource:new g.NI(""),phone:new g.NI(""),district:new g.NI(""),wireframe:new g.NI(null)})}),this.templateBinds$=this.templateLinkToBindsForm.valueChanges.pipe((0,hi.b)(i=>{const s={};Object.entries(i).forEach(d=>{s[d[0]]={},s[d[0]].wireframe=d[1]}),this.bindingsForm.patchValue(s)}),(0,gt.U)(i=>Object.assign({},i))),this.onChange=i=>{},this.onTouched=()=>{}}get setOfFieldsForSelectingTemplates(){return Object.keys(this.controls)}bindEntries(t){return Object.keys(this.controls[t])}fieldOfWireframe(t){return t?t.steps.reduce((i,s)=>i.concat(s.fields),[]):[]}bindMapTrack(t,i){return i.key}ngOnInit(){this.bindingsForm.valueChanges.subscribe(t=>{this.onChange(t)})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){t&&this.bindingsForm.patchValue(t)}changeTemplateSelection(t,i){this.selectionBindsMap[t]={binds:this.bindEntries(t),wireframe:i.value}}ngOnDestroy(){var t;null===(t=this.formSubscribtion)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tracker-bindings-input"]],features:[e._Bn([{provide:g.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:8,vars:4,consts:[[1,"flexed","column","gap5",3,"formGroup"],[1,"node","flexed","gap5","column"],["appendTo","body","optionLabel","name",3,"formControlName","options","placeholder",4,"ngFor","ngForOf"],["class","node flexed gap5 column",3,"formGroupName",4,"ngFor","ngForOf"],["appendTo","body","optionLabel","name",3,"formControlName","options","placeholder"],[1,"node","flexed","gap5","column",3,"formGroupName"],["appendTo","body","optionLabel","name","optionValue","id",3,"formControlName","options","placeholder",4,"ngFor","ngForOf"],["appendTo","body","optionLabel","name","optionValue","id",3,"formControlName","options","placeholder"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"fieldset",1)(2,"legend"),e._uU(3,"\u0412\u044b\u0431\u043e\u0440 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u043f\u043e\u0434 \u0442\u0438\u043f\u044b \u0437\u0430\u0434\u0430\u0447"),e.qZA(),e.YNc(4,m_,2,6,"p-dropdown",2),e.qZA()(),e.TgZ(5,"div",0),e.ynx(6),e.YNc(7,M4,4,3,"fieldset",3),e.BQk(),e.qZA()),2&t&&(e.Q6J("formGroup",i.templateLinkToBindsForm),e.xp6(4),e.Q6J("ngForOf",i.controls),e.xp6(1),e.Q6J("formGroup",i.bindingsForm),e.xp6(2),e.Q6J("ngForOf",i.controls))},dependencies:[k.sg,g.JJ,g.JL,Ke.Lt,g.sg,g.u,g.x0,k.Ov]}),n})();var Ug=b(1179),Ud=b(5871);const __=["scroller"];function Hv(n,o){1&n&&e.GkF(0)}function Vv(n,o){if(1&n&&(e.TgZ(0,"div",8),e.Hsn(1),e.YNc(2,Hv,1,0,"ng-container",9),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",t.headerTemplate)}}function zv(n,o){1&n&&e.GkF(0)}const C_=function(n){return{height:n}},P4=function(n,o){return{$implicit:n,options:o}};function Jv(n,o){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,zv,1,0,"ng-container",11),e.qZA()),2&n){const t=o.$implicit,i=o.options,s=e.oxw();e.Q6J("ngStyle",e.VKq(3,C_,s.itemSize+"px")),e.xp6(1),e.Q6J("ngTemplateOutlet",t?s.itemTemplate:s.loadingItemTemplate)("ngTemplateOutletContext",e.WLB(5,P4,t,i))}}function Qv(n,o){1&n&&e.GkF(0)}function L4(n,o){if(1&n&&(e.TgZ(0,"div",12),e.Hsn(1,1),e.YNc(2,Qv,1,0,"ng-container",9),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}const Gv=[[["p-header"]],[["p-footer"]]],Wv=["p-header","p-footer"];let Aa=(()=>{class n{constructor(t,i){this.el=t,this.cd=i,this.delay=250,this.onLazyLoad=new e.vpe}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"loadingItem":this.loadingItemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template}})}onLazyItemLoad(t){this.virtualScrollTimeout&&clearTimeout(this.virtualScrollTimeout),this.virtualScrollTimeout=setTimeout(()=>{this.onLazyLoad.emit(Object.assign(Object.assign({},t),{rows:t.last-t.first,forceUpdate:()=>this.cd.detectChanges()}))},this.delay)}getBlockableElement(){return this.el.nativeElement.children[0]}scrollToIndex(t,i){var s;null===(s=this.scroller)||void 0===s||s.scrollToIndex(t,i)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-virtualScroller"]],contentQueries:function(t,i,s){if(1&t&&(e.Suo(s,N.h4,5),e.Suo(s,N.$_,5),e.Suo(s,N.jx,4)),2&t){let d;e.iGM(d=e.CRH())&&(i.header=d.first),e.iGM(d=e.CRH())&&(i.footer=d.first),e.iGM(d=e.CRH())&&(i.templates=d)}},viewQuery:function(t,i){if(1&t&&e.Gf(__,5),2&t){let s;e.iGM(s=e.CRH())&&(i.scroller=s.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",itemSize:"itemSize",style:"style",styleClass:"styleClass",scrollHeight:"scrollHeight",lazy:"lazy",options:"options",delay:"delay"},outputs:{onLazyLoad:"onLazyLoad"},ngContentSelectors:Wv,decls:8,vars:14,consts:[[3,"ngClass","ngStyle"],["class","p-virtualscroller-header",4,"ngIf"],[1,"p-virtualscroller-content"],["content",""],["styleClass","p-virtualscroller-list",3,"items","itemSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","item"],["class","p-virtualscroller-footer",4,"ngIf"],[1,"p-virtualscroller-header"],[4,"ngTemplateOutlet"],[1,"p-virtualscroller-item",3,"ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-virtualscroller-footer"]],template:function(t,i){1&t&&(e.F$t(Gv),e.TgZ(0,"div",0),e.YNc(1,Vv,3,1,"div",1),e.TgZ(2,"div",2,3)(4,"p-scroller",4,5),e.NdJ("onLazyLoad",function(d){return i.onLazyItemLoad(d)}),e.YNc(6,Jv,2,8,"ng-template",6),e.qZA()(),e.YNc(7,L4,3,1,"div",7),e.qZA()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass","p-virtualscroller p-component")("ngStyle",i.style),e.xp6(1),e.Q6J("ngIf",i.header||i.headerTemplate),e.xp6(3),e.Akn(e.VKq(12,C_,i.scrollHeight)),e.Q6J("items",i.value)("itemSize",i.itemSize)("lazy",i.lazy)("options",i.options),e.xp6(3),e.Q6J("ngIf",i.footer||i.footerTemplate))},dependencies:[k.mk,k.O5,k.tP,k.PC,N.jx,Ud.T],encapsulation:2}),n})(),ku=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[k.ez,N.m8,Ud.v,N.m8,Ud.v]}),n})();var Ra=b(7010),Yv=b(8185),v_=b(417);const UI=["vs"];function jv(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.Tol(i.messageClass(t)),e.xp6(1),e.hij(" ",t.message," ")}}function Kv(n,o){if(1&n&&(e.TgZ(0,"span",20),e._uU(1),e.ALo(2,"elapsedTime"),e.ALo(3,"elapsedTime"),e.ALo(4,"elapsedTime"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.lnq(" ",e.gM2(2,3,null==t.parserState?null:t.parserState.elapsedTime,"\u041f\u0440\u043e\u0448\u043b\u043e ","",!0)," / ",e.gM2(3,8,null==t.parserState?null:t.parserState.averageTimePerTask,"\u041d\u0430 \u0437\u0430\u0434\u0430\u0447\u0443 ","",!0)," / ",e.gM2(4,13,null==t.parserState?null:t.parserState.remainingTime,"\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c ","",!0)," ")}}function th(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",21),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.startParsing())}),e.qZA()}}function R4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",22),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.stopParsing())}),e.qZA()}}function b_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA(),e.TgZ(5,"app-address-input-alt",26),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.currentCorrectingStreetAddress=s)}),e.qZA(),e.TgZ(6,"p-button",27),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.correctStreet(s.streetToCorrect))}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("width","max-content"),e.xp6(2),e.Oqu(t.streetToCorrect[0]),e.xp6(2),e.lnq("",null==t.streetToCorrect[1]?null:t.streetToCorrect[1].streetRaw," ",null==t.streetToCorrect[1]?null:t.streetToCorrect[1].houseRaw," ",null==t.streetToCorrect[1]?null:t.streetToCorrect[1].apartRaw,""),e.xp6(1),e.Q6J("ngModel",null==t.streetToCorrect[1]?null:t.streetToCorrect[1].address)}}function N4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA(),e.TgZ(5,"app-address-input-alt",26),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.currentCorrectingHouseAddress=s)}),e.qZA(),e.TgZ(6,"p-button",27),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.correctHouse(s.houseToCorrect))}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("width","max-content"),e.xp6(2),e.Oqu(t.houseToCorrect[0]),e.xp6(2),e.lnq("",null==t.houseToCorrect[1]?null:t.houseToCorrect[1].streetRaw," ",null==t.houseToCorrect[1]?null:t.houseToCorrect[1].houseRaw," ",null==t.houseToCorrect[1]?null:t.houseToCorrect[1].apartRaw,""),e.xp6(1),e.Q6J("ngModel",null==t.houseToCorrect[1]?null:t.houseToCorrect[1].address)}}function qv(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA(),e.TgZ(5,"app-address-input-alt",26),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.currentCorrectingApartAddress=s)}),e.qZA(),e.TgZ(6,"p-button",27),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.correctApart(s.apartmentToCorrect))}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("width","max-content"),e.xp6(2),e.Oqu(t.apartmentToCorrect[0]),e.xp6(2),e.lnq("",null==t.apartmentToCorrect[1]?null:t.apartmentToCorrect[1].streetRaw," ",null==t.apartmentToCorrect[1]?null:t.apartmentToCorrect[1].houseRaw," ",null==t.apartmentToCorrect[1]?null:t.apartmentToCorrect[1].apartRaw,""),e.xp6(1),e.Q6J("ngModel",null==t.apartmentToCorrect[1]?null:t.apartmentToCorrect[1].address)}}let F4=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this.settingsForm=new g.cw({startId:new g.NI(0,[g.kI.required]),endId:new g.NI(0,[g.kI.required]),trackerLogin:new g.NI("",[g.kI.required]),trackerPassword:new g.NI("",[g.kI.required]),trackerUrl:new g.NI("",[g.kI.required]),bindings:new g.NI({})}),this.messages=[],this.subscribes=new _.xf,this.currentCorrectingStreetAddress={},this.currentCorrectingHouseAddress={},this.currentCorrectingApartAddress={},this.listOfCorrectedStreets=[],this.listOfCorrectedHouses=[],this.listOfCorrectedApartments=[],this.streetToCorrect=[null,null],this.houseToCorrect=[null,null],this.apartmentToCorrect=[null,null]}get progress(){if(this.parserState){const{startId:t,endId:i}=this.parserState.settings,{currentTask:s}=this.parserState;if(s){const d=(s-t)/(i-t)*100;return d>100?100:parseFloat(d.toFixed(2))}}return 0}ngOnInit(){this.api.getTrackerParserState().subscribe(this.setCurrentTrackerParserState.bind(this)),this.subscribes.addSubscription("updState",this.rt.updateTrackerParserState().subscribe(this.setCurrentTrackerParserState.bind(this))),this.subscribes.addSubscription("updMessages",this.rt.parserMessageReceived().subscribe(t=>{this.messages=[...this.messages,t],this.vs&&this.vs.scrollToIndex(this.messages.length,"auto")})),this.settingsForm.valueChanges.subscribe(),this.api.getAddressCorrectingPool().subscribe(t=>{this.addressCorrectingPool=t,this.updateStreetToCorrect(),this.updateHouseToCorrect(),this.updateApartmentToCorrect()})}ngOnDestroy(){this.subscribes.unsubscribeAll()}submitSaveSettings(){this.api.saveTrackerParserSettings(this.settingsForm.getRawValue()).subscribe()}startParsing(){this.api.startTrackerParser().subscribe()}stopParsing(){this.api.stopTrackerParser().subscribe(),this.api.getAddressCorrectingPool().subscribe(t=>{this.addressCorrectingPool=t,this.updateStreetToCorrect(),this.updateHouseToCorrect(),this.updateApartmentToCorrect()})}messageClass(t){return"simple-message "+t.severity.toLowerCase()}correctStreet(t){null==t[0]||null==t[1]||!this.addressCorrectingPool||!this.addressCorrectingPool[t[0]]||(Object.entries(this.addressCorrectingPool).forEach(i=>{const[s,d]=i;null==t[0]||null==t[1]||d.streetRaw===t[1].streetRaw&&(this.addressCorrectingPool&&this.currentCorrectingStreetAddress.street&&(this.addressCorrectingPool[s].address.street=Object.assign({},this.currentCorrectingStreetAddress.street)),this.listOfCorrectedStreets=[...this.listOfCorrectedStreets,s])}),this.sendCorrectedAddress(),this.updateStreetToCorrect())}updateStreetToCorrect(){var t;this.addressCorrectingPool&&(this.streetToCorrect=null!==(t=Object.entries(this.addressCorrectingPool).filter(i=>{const[s,d]=i;return d.types.includes("STREET")&&!this.listOfCorrectedStreets.includes(s)})[0])&&void 0!==t?t:[null,null])}updateHouseToCorrect(){var t;this.addressCorrectingPool&&(this.houseToCorrect=null!==(t=Object.entries(this.addressCorrectingPool).filter(i=>{const[s,d]=i;return d.types.includes("HOUSE")&&!this.listOfCorrectedHouses.includes(s)})[0])&&void 0!==t?t:[null,null])}updateApartmentToCorrect(){var t;this.addressCorrectingPool&&(this.apartmentToCorrect=null!==(t=Object.entries(this.addressCorrectingPool).filter(i=>{const[s,d]=i;return d.types.includes("APART")&&!this.listOfCorrectedApartments.includes(s)})[0])&&void 0!==t?t:[null,null])}setCurrentTrackerParserState(t){this.parserState=t,this.settingsForm.setValue(t.settings)}correctHouse(t){null==t[0]||null==t[1]||!this.addressCorrectingPool||!this.addressCorrectingPool[t[0]]||(this.addressCorrectingPool[t[0]].address.houseNum=this.currentCorrectingHouseAddress.houseNum,this.addressCorrectingPool[t[0]].address.fraction=this.currentCorrectingHouseAddress.fraction,this.addressCorrectingPool[t[0]].address.build=this.currentCorrectingHouseAddress.build,this.addressCorrectingPool[t[0]].address.letter=this.currentCorrectingHouseAddress.letter,this.listOfCorrectedHouses=[...this.listOfCorrectedHouses,t[0]],this.sendCorrectedAddress(),this.updateHouseToCorrect())}correctApart(t){null==t[0]||null==t[1]||!this.addressCorrectingPool||!this.addressCorrectingPool[t[0]]||(this.addressCorrectingPool[t[0]].address.entrance=this.currentCorrectingApartAddress.entrance,this.addressCorrectingPool[t[0]].address.floor=this.currentCorrectingApartAddress.floor,this.addressCorrectingPool[t[0]].address.apartmentNum=this.currentCorrectingApartAddress.apartmentNum,this.addressCorrectingPool[t[0]].address.apartmentMod=this.currentCorrectingApartAddress.apartmentMod,this.listOfCorrectedApartments=[...this.listOfCorrectedApartments,t[0]],this.sendCorrectedAddress(),this.updateApartmentToCorrect())}gettingFullCorrectedAddress(){return this.addressCorrectingPool?Object.entries(this.addressCorrectingPool).filter(t=>{let i=!0,s=!0,d=!0;const[T,W]=t;return W.types.includes("STREET")&&!this.listOfCorrectedStreets.includes(T)&&(i=!1),W.types.includes("HOUSE")&&!this.listOfCorrectedHouses.includes(T)&&(s=!1),W.types.includes("APART")&&!this.listOfCorrectedApartments.includes(T)&&(d=!1),i&&s&&d}).reduce((t,i)=>{const[s,d]=i;return t[s]=d,t},{}):{}}sendCorrectedAddress(){const t=this.gettingFullCorrectedAddress();this.api.sendCorrectedAddress(t).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(UI,5),2&t){let s;e.iGM(s=e.CRH())&&(i.vs=s.first)}},decls:24,vars:12,consts:[["appExtendPageHeight","",1,"flexed","gap10","p20"],[1,"flexed","column","gap10",3,"formGroup"],["formControlName","trackerUrl","pInputText","","placeholder","Url \u0422\u0440\u0435\u043a\u0435\u0440\u0430","type","text"],["formControlName","trackerLogin","pInputText","","placeholder","\u041b\u043e\u0433\u0438\u043d","type","text"],["formControlName","trackerPassword","pInputText","","placeholder","\u041f\u0430\u0440\u043e\u043b\u044c","type","text"],["formControlName","startId","placeholder","\u0421\u0442\u0430\u0440\u0442\u043e\u0432\u044b\u0439 id"],["formControlName","endId","placeholder","\u041a\u043e\u043d\u0435\u0447\u043d\u044b\u0439 id"],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"disabled","onClick"],["formControlName","bindings"],[1,"flexed","column","stretched","gap10"],[1,"console",3,"value","itemSize","scrollHeight"],["vs",""],["pTemplate","item"],[1,"flexed","gap10"],[1,"stretched","flexed","column","gap3","vcenter"],["class","caption size-small wt-bold f-color-primary",4,"ngIf"],[1,"full-width",3,"value"],["label","\u0421\u0442\u0430\u0440\u0442",3,"onClick",4,"ngIf"],["label","\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c","styleClass","p-button-text p-button-secondary",3,"onClick",4,"ngIf"],["class","flexed column gap5",3,"width",4,"ngIf"],[1,"caption","size-small","wt-bold","f-color-primary"],["label","\u0421\u0442\u0430\u0440\u0442",3,"onClick"],["label","\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c","styleClass","p-button-text p-button-secondary",3,"onClick"],[1,"flexed","column","gap5"],[1,"flexed","hcenter","vcenter","caption","size-big"],[1,"flexed","hcenter","vcenter","caption","size-small","wt-bold","f-color-primary"],[3,"ngModel","ngModelChange"],["label","\u041e\u0442\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",3,"onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"input",2)(3,"input",3)(4,"input",4)(5,"p-inputNumber",5)(6,"p-inputNumber",6),e.TgZ(7,"p-button",7),e.NdJ("onClick",function(){return i.submitSaveSettings()}),e.qZA(),e._UZ(8,"app-tracker-bindings-input",8),e.qZA(),e.TgZ(9,"div",9)(10,"p-virtualScroller",10,11),e.YNc(12,jv,2,3,"ng-template",12),e.qZA(),e.TgZ(13,"div",13)(14,"div",14),e.YNc(15,Kv,5,18,"span",15),e._UZ(16,"p-progressBar",16),e.qZA(),e.TgZ(17,"span"),e.YNc(18,th,1,0,"p-button",17),e.YNc(19,R4,1,0,"p-button",18),e.qZA()(),e.TgZ(20,"div",13),e.YNc(21,b_,7,7,"div",19),e.YNc(22,N4,7,7,"div",19),e.YNc(23,qv,7,7,"div",19),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",i.settingsForm),e.xp6(6),e.Q6J("disabled",!!i.parserState&&i.parserState.isRunning),e.xp6(3),e.Q6J("value",i.messages)("itemSize",29)("scrollHeight","715px"),e.xp6(5),e.Q6J("ngIf",null==i.parserState?null:i.parserState.remainingTime),e.xp6(1),e.Q6J("value",i.progress),e.xp6(2),e.Q6J("ngIf",i.parserState&&!i.parserState.isRunning),e.xp6(1),e.Q6J("ngIf",i.parserState&&i.parserState.isRunning),e.xp6(2),e.Q6J("ngIf",i.streetToCorrect[0]),e.xp6(1),e.Q6J("ngIf",i.houseToCorrect[0]),e.xp6(1),e.Q6J("ngIf",i.apartmentToCorrect[0]))},dependencies:[U,O4,Ug.r,g.Fj,g.JJ,g.JL,g.On,N.jx,g.sg,g.u,k.O5,O.zx,Aa,bi.o,Ra.Rn,Yv.k,v_.t],styles:[".console[_ngcontent-%COMP%]{border-radius:.3rem;border:1px solid var(--bgc-200)}"]}),n})();const B4=["messageListEl"];function Z4(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Tol(i.messageClass(t)),e.xp6(1),e.hij(" ",t.message," ")}}let y_=(()=>{class n{constructor(t,i){this.rt=t,this.api=i,this.messages=[]}ngOnInit(){this.subscription=this.rt.parserMessageReceived().subscribe(t=>{var i;this.messages.push(t),null!==(i=this.messageListEl)&&void 0!==i&&i.nativeElement&&(this.messageListEl.nativeElement.scrollTop=this.messageListEl.nativeElement.scrollHeight-this.messageListEl.nativeElement.clientHeight)})}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}messageClass(t){return"simple-message "+t.severity.toLowerCase()}startParse(){this.api.startAddressParse().subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(de.U),e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(B4,5),2&t){let s;e.iGM(s=e.CRH())&&(i.messageListEl=s.first)}},decls:6,vars:2,consts:[["appExtendPageHeight","",1,"flexed","column",3,"limited"],[1,"list-view","p20"],["messageListEl",""],[4,"ngFor","ngForOf"],[1,"flexed","vend","p10"],["styleClass","p-button-success","label","\u0421\u043e\u0431\u0440\u0430\u0442\u044c \u0430\u0434\u0440\u0435\u0441\u0430",3,"onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1,2),e.YNc(3,Z4,3,3,"div",3),e.qZA(),e.TgZ(4,"div",4)(5,"p-button",5),e.NdJ("onClick",function(){return i.startParse()}),e.qZA()()()),2&t&&(e.Q6J("limited",!0),e.xp6(3),e.Q6J("ngForOf",i.messages))},dependencies:[U,k.sg,O.zx]}),n})();var nh=b(590),wr=b(7579),Kl=b(5577);let x_=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this.filtrationForm=new g.cw({date:new g.NI(new Date),position:new g.NI(null)}),this.accountingMenuItems$=this.filtrationForm.valueChanges.pipe((0,gt.U)(s=>{var d;return[{label:"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432",url:"/api/private/accounting/monthly-salary-report-table?date="+(null===(d=s.date)||void 0===d?void 0:d.getTime())}]})),this.subscriptions=new _.xf,this.tableLoadingState=me.Gu.LOADING,this.tableLoad$=this.filtrationForm.valueChanges.pipe((0,hi.b)(()=>{this.tableLoadingState=me.Gu.LOADING,this.selectDay(null)}),(0,R.w)(s=>this.api.getSalaryTable(s).pipe((0,gt.U)(d=>({table:d,update:null})))),(0,hi.b)({next:()=>this.tableLoadingState=me.Gu.READY,error:()=>this.tableLoadingState=me.Gu.ERROR}),(0,un.d)(1)),this.tableUpdate$=this.rt.salaryTableUpdated().pipe((0,R.w)(s=>this.tableLoad$.pipe((0,gt.U)(d=>({table:d.table,update:s}))))),this.salaryTable$=(0,qi.T)(this.tableLoad$,this.tableUpdate$).pipe((0,gt.U)(s=>{if(s.update){for(let[d,T]of s.update.employees.entries()){const W=s.table.employees.findIndex(Ce=>Ce.login===T.login);-1!==W&&(s.table.employees[W]=T,s.table.payload[W]=s.update.payload[d],s.table.totalSum[W]=s.update.totalSum[d],s.table.totalSumAllEmployees=s.update.totalSumAllEmployees)}this.selectedDay$.pipe((0,nh.P)()).subscribe(d=>{if(null===d)return;const T=s.update.employees.findIndex(W=>W.login===d.employee.login);if(-1!==T){const W=s.update.payload[T].find(Ce=>Ce.date===d.date);W&&this.updateDaySubject.next(W)}})}return s.table}),(0,un.d)(1)),this.ndflSwitch=new g.NI(!1),this.ndflValue$=this.ndflSwitch.valueChanges.pipe((0,un.d)(1)),this.positions$=this.api.getPositions().pipe((0,gt.U)(s=>[{label:"\u0412\u0441\u0435",value:null},...s.map(({name:d,positionId:T})=>({label:d,value:T}))])),this.selectDaySubject=new wr.x,this.updateDaySubject=new wr.x,this.selectedDay$=(0,qi.T)(this.selectDaySubject.asObservable(),this.updateDaySubject.asObservable()).pipe((0,un.d)(1)),this.calculatedLoadingState=me.Gu.LOADING,this.workingDay$=this.selectedDay$.pipe((0,gt.U)(s=>s?[new Date(s.date),s.employee.login]:null),(0,hi.b)(()=>this.calculatedLoadingState=me.Gu.LOADING),(0,Kl.z)(s=>s?this.api.getWorkingDay(s[0],s[1]):(0,In.of)(null)),(0,hi.b)(()=>{setTimeout(()=>window.scrollTo({top:document.body.scrollHeight}))}),(0,hi.b)({next:s=>this.calculatedLoadingState=null===s?me.Gu.EMPTY:me.Gu.READY,error:()=>this.calculatedLoadingState=me.Gu.ERROR})),setTimeout(()=>{this.filtrationForm.patchValue(this.filtrationForm.value)})}trackByCell(t,i){return null==i?void 0:i.date}selectDay(t,i,s){this.selectDaySubject.next(t),this.highlightedDay=void 0===i||void 0===s?void 0:{row:i,col:s}}getReport(t,i){var s;return t.isForceClosed?t.forceClosedReason:null===(s=t.workReports.find(d=>d.author.login===i))||void 0===s?void 0:s.description}isSelected(t,i){var s,d;return(null===(s=this.highlightedDay)||void 0===s?void 0:s.row)===t&&(null===(d=this.highlightedDay)||void 0===d?void 0:d.col)===i}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(L.s),e.LFG(de.U))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HI(n,o){if(1&n&&(e.TgZ(0,"div",19)(1,"span",20),e._UZ(2,"i",21),e.TgZ(3,"span"),e._uU(4,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),e.qZA()(),e._UZ(5,"p-dropdown",22),e.qZA()),2&n){const t=o.ngIf;e.xp6(5),e.Q6J("options",t)}}function $v(n,o){if(1&n&&(e.TgZ(0,"th",28),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=o.index,s=e.oxw().$implicit;e.Q6J("frozen",0===i||i===s.length-1)("alignFrozen",i===s.length-1?"right":""),e.xp6(1),e.hij(" ",t," ")}}function U4(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,$v,2,3,"th",27),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}const Xv=function(n,o){return{"text-bluegray-200":n,"text-primary-400 bg-blue-50":o}};function Hd(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",33),e.NdJ("click",function(){const s=e.CHM(t),d=s.$implicit,T=s.index,W=e.oxw().rowIndex,Ce=e.oxw(3);return e.KtG(Ce.cache.selectDay(d,W,T))}),e._uU(1),e.ALo(2,"number"),e.ALo(3,"async"),e.qZA()}if(2&n){const t=o.$implicit,i=o.index,s=e.oxw().rowIndex,d=e.oxw(3);e.Q6J("ngClass",e.WLB(7,Xv,0===t.sumWithNDFL,d.cache.isSelected(s,i))),e.xp6(1),e.hij(" ",e.xi3(2,2,e.lcZ(3,5,d.cache.ndflValue$)?t.sumWithNDFL:t.sumWithoutNDFL,"1.0-2")," ")}}function H4(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td",29),e._UZ(2,"app-employee-label",30),e.qZA(),e.YNc(3,Hd,4,10,"td",31),e.TgZ(4,"td",32),e._uU(5),e.ALo(6,"async"),e.qZA()()),2&n){const t=o.rowIndex,i=o.$implicit,s=e.oxw(2).ngIf,d=e.oxw();e.xp6(2),e.Q6J("employee",s.employees[t]),e.xp6(1),e.Q6J("ngForOf",i)("ngForTrackBy",d.cache.trackByCell),e.xp6(2),e.hij(" ",e.lcZ(6,4,d.cache.ndflValue$)?s.totalSum[t].sumWithNDFL:s.totalSum[t].sumWithoutNDFL," ")}}function e1(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"p-table",23),e.YNc(2,U4,2,1,"ng-template",24),e.YNc(3,H4,7,6,"ng-template",25),e.qZA(),e.TgZ(4,"div",26)(5,"span"),e._uU(6,"\u0418\u0442\u043e\u0433:"),e.qZA(),e.TgZ(7,"span"),e._uU(8),e.ALo(9,"async"),e.qZA()(),e.BQk()),2&n){const t=e.oxw().ngIf,i=e.oxw();e.xp6(1),e.Q6J("columns",t.headers)("value",t.payload)("scrollable",!0),e.xp6(7),e.hij("",e.lcZ(9,4,i.cache.ndflValue$)?t.totalSumAllEmployees.sumWithNDFL:t.totalSumAllEmployees.sumWithoutNDFL," \u0440\u0443\u0431.")}}function I_(n,o){if(1&n&&(e.ynx(0),e.YNc(1,e1,10,6,"ng-container",16),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","READY"===t.cache.tableLoadingState)}}function VI(n,o){1&n&&(e.TgZ(0,"div",36),e._UZ(1,"p-progressSpinner",37),e.qZA()),2&n&&e.Udp("width","64rem")}function V4(n,o){if(1&n&&(e.ynx(0,34),e.YNc(1,VI,2,2,"div",35),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.cache.tableLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING")}}function zI(n,o){1&n&&(e.TgZ(0,"tr",47),e._UZ(1,"th"),e.TgZ(2,"th"),e._uU(3," \u0418\u0414 "),e.qZA(),e.TgZ(4,"th"),e._uU(5," \u0417\u0430\u0434\u0430\u0447\u0430 "),e.qZA(),e.TgZ(6,"th"),e._uU(7," \u041e\u0442\u0447\u0451\u0442 "),e.qZA(),e.TgZ(8,"th"),e._uU(9," \u0414\u043e\u043b\u044f "),e.qZA(),e.TgZ(10,"th"),e._uU(11," \u0421\u0447\u0438\u0442\u0430\u043b "),e.qZA(),e.TgZ(12,"th"),e._uU(13," \u041f\u043b\u0430\u0442\u043d\u0430\u044f? "),e.qZA(),e.TgZ(14,"th"),e._uU(15," \u0421\u0443\u043c\u043c\u0430 "),e.qZA(),e.TgZ(16,"th"),e._uU(17," \u0421\u0443\u043c\u043c\u0430 \u0431\u0435\u0437 \u041d\u0414\u0424\u041b "),e.qZA(),e.TgZ(18,"th"),e._uU(19," \u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c "),e.qZA()())}function z4(n,o){if(1&n&&e._UZ(0,"button",54),2&n){const t=e.oxw(),s=t.$implicit;e.Q6J("icon",t.expanded?"pi pi-chevron-down":"pi pi-chevron-right")("pRowToggler",s)}}function J4(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"number"),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.amountOfMoneyTaken,"1.0-2"),"\u0440\u0443\u0431. ")}}function Q4(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"number"),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.sum,"1.0-2"),"\u0440\u0443\u0431. ")}}function t1(n,o){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.sumWithoutNDFL,"1.0-2"),"\u0440\u0443\u0431. ")}}const n1=function(n){return{workLogId:n}},G4=function(){return["/salary","estimation"]};function o1(n,o){if(1&n&&(e.TgZ(0,"tr",48)(1,"td"),e.YNc(2,z4,1,2,"button",49),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"app-task-link",50),e.qZA(),e.TgZ(7,"td")(8,"span",51),e._uU(9),e.qZA()(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"number"),e.qZA(),e.TgZ(13,"td"),e._UZ(14,"app-employee-label",30),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td",52),e.YNc(18,J4,3,4,"ng-container",16),e.YNc(19,Q4,3,4,"ng-container",16),e.qZA(),e.YNc(20,t1,3,4,"td",16),e.TgZ(21,"td"),e._UZ(22,"p-button",53),e.qZA()()),2&n){const t=o.$implicit,i=e.oxw(3).ngIf,s=e.oxw();e.xp6(2),e.Q6J("ngIf",t.lastEdit),e.xp6(2),e.hij(" ",t.workCalculationId," "),e.xp6(2),e.Q6J("task",t.workLog.task),e.xp6(2),e.Udp("max-width","20rem"),e.xp6(1),e.hij(" ",s.cache.getReport(t.workLog,i.employee.login)," "),e.xp6(2),e.hij(" ",e.xi3(12,17,100*t.ratio,"1.2-2"),"% "),e.xp6(3),e.Q6J("employee",t.lastEdit?t.lastEdit.employee:t.creator),e.xp6(2),e.hij(" ",t.isPaidWork?"\u0414\u0430":"\u041d\u0435\u0442"," "),e.xp6(1),e.Udp("text-align",t.isPaidWork?"center":""),e.Q6J("colSpan",t.isPaidWork?2:1),e.xp6(1),e.Q6J("ngIf",t.isPaidWork),e.xp6(1),e.Q6J("ngIf",!t.isPaidWork),e.xp6(1),e.Q6J("ngIf",!t.isPaidWork),e.xp6(2),e.Q6J("queryParams",e.VKq(20,n1,t.workLog.workLogId))("routerLink",e.DdM(22,G4))}}function s1(n,o){if(1&n&&(e.TgZ(0,"div",58)(1,"div",59)(2,"div",60),e._UZ(3,"span",61),e.TgZ(4,"span"),e._uU(5,"\u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u043d"),e.qZA()(),e.TgZ(6,"span",62),e._uU(7),e.qZA()(),e.TgZ(8,"div",63),e._UZ(9,"app-employee-label",30),e.TgZ(10,"span",64),e._uU(11),e.ALo(12,"titlecase"),e.ALo(13,"date"),e.qZA()()()),2&n){const t=o.$implicit;e.xp6(6),e.Udp("max-width","50rem"),e.xp6(1),e.Oqu(t.description),e.xp6(2),e.Q6J("employee",t.employee),e.xp6(2),e.Oqu(e.lcZ(12,5,e.xi3(13,7,t.timestamp,"EEEE, dd MMMM yyyy HH:mm")))}}function W4(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td",55)(2,"div",56),e.YNc(3,s1,14,10,"div",57),e.qZA()()()),2&n){const t=o.$implicit;e.xp6(3),e.Q6J("ngForOf",t.editedBy)}}function Y4(n,o){if(1&n&&(e.TgZ(0,"p-table",45),e.YNc(1,zI,20,0,"ng-template",24),e.YNc(2,o1,23,23,"ng-template",25),e.YNc(3,W4,4,1,"ng-template",46),e.qZA()),2&n){const t=e.oxw().ngIf;e.Q6J("value",t.calculations)}}function r1(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Y4,4,1,"p-table",44),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","READY"===t.cache.calculatedLoadingState)}}function j4(n,o){1&n&&e._UZ(0,"p-progressSpinner",37)}function a1(n,o){1&n&&(e.TgZ(0,"div",69),e._UZ(1,"span",70),e.TgZ(2,"span"),e._uU(3,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()())}function l1(n,o){1&n&&(e.TgZ(0,"div",71),e._UZ(1,"span",70),e.TgZ(2,"span"),e._uU(3,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),e.qZA()())}function c1(n,o){if(1&n&&(e.TgZ(0,"div",65),e.ynx(1,34),e.YNc(2,j4,1,0,"p-progressSpinner",66),e.YNc(3,a1,4,0,"div",67),e.YNc(4,l1,4,0,"div",68),e.BQk(),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngSwitch",t.cache.calculatedLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function u1(n,o){if(1&n&&(e.TgZ(0,"div",38)(1,"div",39),e._UZ(2,"app-employee-label",30),e.TgZ(3,"span",40),e._uU(4),e.ALo(5,"titlecase"),e.ALo(6,"date"),e.qZA()(),e.TgZ(7,"div",41)(8,"span",42),e._uU(9,"\u041f\u043e\u0434\u0441\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b"),e.qZA(),e.YNc(10,r1,2,1,"ng-container",16),e.ALo(11,"async"),e.YNc(12,c1,5,4,"div",43),e.qZA()()),2&n){const t=o.ngIf,i=e.oxw();e.xp6(2),e.Q6J("employee",t.employee),e.xp6(2),e.Oqu(e.lcZ(5,4,e.xi3(6,6,t.date,"EEEE, dd MMMM yyyy"))),e.xp6(6),e.Q6J("ngIf",e.lcZ(11,9,i.cache.workingDay$)),e.xp6(2),e.Q6J("ngIf","READY"!==i.cache.calculatedLoadingState)}}const K4=function(){return{display:"grid",grid:"1fr / min-content 1fr"}},q4=function(){return[]};let $4=(()=>{class n{constructor(t){this.cache=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x_))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:23,vars:22,consts:[["appExtendPageHeight","",1,"flex"],[1,"px-3","mb-3","flex-grow-1"],[1,"pt-1"],[1,"flex","flex-column","gap-3","flex-grow-1","p-3","pt-1","overflow-hidden"],[1,"flex","flex-column","panel","overflow-hidden"],[1,"flex","gap-3","p-2",3,"formGroup"],[1,"p-inputgroup","w-max"],[1,"p-inputgroup-addon"],[1,"mdi-calendar_month"],["appendTo","body","dateFormat","MM yy","formControlName","date","inputStyleClass","border-noround-left","view","month",3,"readonlyInput","firstDayOfWeek"],["class","flex gap-2 align-items-center",4,"ngIf"],[1,"flex-grow-1"],["appendTo","body",3,"popup","model"],["otchetMenu",""],["type","button","pButton","","label","\u041e\u0442\u0447\u0435\u0442\u044b \u0437\u0430 \u043c\u0435\u0441\u044f\u0446",3,"click"],["offLabel","\u0411\u0415\u0417 \u041d\u0414\u0424\u041b","onLabel","\u0421 \u041d\u0414\u0424\u041b",3,"formControl"],[4,"ngIf"],[3,"ngSwitch",4,"ngIf"],["class","flex flex-column panel p-3 gap-3",4,"ngIf"],[1,"flex","gap-2","align-items-center"],[1,"caption","wt-black","f-color-500","size-small","with-icon"],[1,"mdi-group"],["appendTo","body","formControlName","position","placeholder","\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",3,"options"],["scrollHeight","50rem","scrollDirection","horizontal","styleClass","p-datatable-sm",3,"columns","value","scrollable"],["pTemplate","header"],["pTemplate","body"],[1,"flexed","gap5","vend","caption","size-big","wt-tiny","p10"],["class","caption size-tiny","pFrozenColumn","",3,"frozen","alignFrozen",4,"ngFor","ngForOf"],["pFrozenColumn","",1,"caption","size-tiny",3,"frozen","alignFrozen"],["pFrozenColumn",""],[3,"employee"],["class","caption size-tiny f-inline cursor-pointer hover:text-primary-400",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["pFrozenColumn","","alignFrozen","right",1,"caption","size-tiny"],[1,"caption","size-tiny","f-inline","cursor-pointer","hover:text-primary-400",3,"ngClass","click"],[3,"ngSwitch"],["class","flex align-items-center justify-content-center p-3",3,"width",4,"ngSwitchCase"],[1,"flex","align-items-center","justify-content-center","p-3"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flex","flex-column","panel","p-3","gap-3"],[1,"flex","align-items-center","gap-3"],[1,"caption","text-sm","text-bluegray-400"],[1,"flex","flex-column","gap-1"],[1,"text-bluegray-400","text-lg","font-semibold"],["class","flex align-items-center justify-content-center p-3 border-round-md border-1 border-bluegray-100 overflow-hidden",4,"ngIf"],["dataKey","workCalculationId","styleClass","border-round-md border-1 border-bluegray-100 overflow-hidden",3,"value",4,"ngIf"],["dataKey","workCalculationId","styleClass","border-round-md border-1 border-bluegray-100 overflow-hidden",3,"value"],["pTemplate","rowexpansion"],[1,"text-sm"],[1,"text-bluegray-500"],["class","p-button-text p-button-rounded p-button-plain","pButton","","pRipple","","type","button",3,"icon","pRowToggler",4,"ngIf"],[3,"task"],["appTooltip","",1,"text-max-lines-3","text-sm"],[3,"colSpan"],["icon","mdi-edit","styleClass","p-button-icon p-button-warning p-button-text",3,"queryParams","routerLink"],["pButton","","pRipple","","type","button",1,"p-button-text","p-button-rounded","p-button-plain",3,"icon","pRowToggler"],["colspan","9"],[1,"flex","flex-column"],["class","grid split-line py-3",4,"ngFor","ngForOf"],[1,"grid","split-line","py-3"],[1,"col-10","gap-2","flex","flex-column"],[1,"flex","align-items-center","font-bold","text-bluegray-500"],[1,"mdi-autorenew"],[1,"text-sm","text-primary-400","ml-3"],[1,"col-2"],[1,"text-xs","text-bluegray-400","font-semibold"],[1,"flex","align-items-center","justify-content-center","p-3","border-round-md","border-1","border-bluegray-100","overflow-hidden"],["class","custom-spinner custom-spinner-8xl custom-spinner-primary","strokeWidth","1",4,"ngSwitchCase"],["class","flex flex-column text-danger align-items-center text-xl",4,"ngSwitchCase"],["class","flex flex-column text-bluegray-400 align-items-center text-xl",4,"ngSwitchCase"],[1,"flex","flex-column","text-danger","align-items-center","text-xl"],[1,"mds-error"],[1,"flex","flex-column","text-bluegray-400","align-items-center","text-xl"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel",2),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"span",7),e._UZ(8,"i",8),e.qZA(),e._UZ(9,"p-calendar",9),e.qZA(),e.YNc(10,HI,6,1,"div",10),e.ALo(11,"async"),e._UZ(12,"div",11)(13,"p-menu",12,13),e.ALo(15,"async"),e.TgZ(16,"button",14),e.NdJ("click",function(T){e.CHM(s);const W=e.MAs(14);return e.KtG(W.toggle(T))}),e.qZA(),e._UZ(17,"p-toggleButton",15),e.qZA(),e.YNc(18,I_,2,1,"ng-container",16),e.ALo(19,"async"),e.YNc(20,V4,2,2,"ng-container",17),e.qZA(),e.YNc(21,u1,13,11,"div",18),e.ALo(22,"async"),e.qZA()()()}if(2&t){let s;e.xp6(1),e.Akn(e.DdM(20,K4)),e.xp6(4),e.Q6J("formGroup",i.cache.filtrationForm),e.xp6(4),e.Q6J("readonlyInput",!0)("firstDayOfWeek",1),e.xp6(1),e.Q6J("ngIf",e.lcZ(11,12,i.cache.positions$)),e.xp6(3),e.Q6J("popup",!0)("model",null!==(s=e.lcZ(15,14,i.cache.accountingMenuItems$))&&void 0!==s?s:e.DdM(21,q4)),e.xp6(4),e.Q6J("formControl",i.cache.ndflSwitch),e.xp6(1),e.Q6J("ngIf",e.lcZ(19,16,i.cache.salaryTable$)),e.xp6(2),e.Q6J("ngIf","READY"!==i.cache.tableLoadingState),e.xp6(1),e.Q6J("ngIf",e.lcZ(22,18,i.cache.selectedDay$))}}}),n})();function d1(n,o){1&n&&(e.TgZ(0,"span",28),e._uU(1," (\u0443\u0434\u0430\u043b\u0435\u043d) "),e.qZA())}function JI(n,o){if(1&n&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function QI(n,o){1&n&&(e.TgZ(0,"span",28),e._uU(1," \u0411\u0435\u0437 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f "),e.qZA())}function GI(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"p-button",31),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw().$implicit,d=e.oxw(2);return e.KtG(d.openCreationDialog(s))}),e.qZA(),e.TgZ(2,"p-button",32),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw().$implicit,d=e.oxw(2);return e.KtG(d.deletePaidAction(s.paidActionId))}),e.qZA()()}}function WI(n,o){if(1&n&&(e.TgZ(0,"div",17)(1,"div",18)(2,"span",19)(3,"span"),e._uU(4),e.qZA(),e.YNc(5,d1,2,0,"span",20),e.qZA(),e.YNc(6,JI,2,1,"span",21),e.YNc(7,QI,2,0,"span",20),e.qZA(),e.YNc(8,GI,3,0,"div",22),e.TgZ(9,"div",23)(10,"span",24),e._uU(11),e.ALo(12,"currency"),e.ALo(13,"unitName"),e.qZA(),e._UZ(14,"app-employee-label",25)(15,"div",26),e.TgZ(16,"span",27),e._uU(17),e.ALo(18,"date"),e.qZA()()()),2&n){const t=o.$implicit;e.xp6(4),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.deleted),e.xp6(1),e.Q6J("ngIf",t.description),e.xp6(1),e.Q6J("ngIf",!t.description),e.xp6(1),e.Q6J("ngIf",!t.deleted),e.xp6(3),e.AsE(" ",e.xi3(12,9,t.cost,"RUB"),"/",e.lcZ(13,12,t.unit)," "),e.xp6(3),e.Q6J("employee",t.creator),e.xp6(3),e.hij(" ",e.xi3(18,14,t.created,"dd MMMM yyyy HH:mm")," ")}}function YI(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",15),e.YNc(2,WI,19,17,"div",16),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",null==t.paidActionsPage?null:t.paidActionsPage.content)("ngForTrackBy",t.trackByPaidAction)}}function jI(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",33),e._UZ(2,"p-progressSpinner",34),e.qZA(),e.BQk())}function KI(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",35),e._UZ(2,"span",36),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()(),e.BQk())}function qI(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",37),e._UZ(2,"span",38),e.TgZ(3,"span"),e._uU(4,"\u041f\u043b\u0430\u0442\u043d\u044b\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439 \u043d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043d\u043e"),e.qZA()(),e.BQk())}function Hg(n,o){if(1&n&&(e.TgZ(0,"span",48),e._uU(1),e.ALo(2,"currency"),e.ALo(3,"unitName"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" \u0411\u0435\u0437 \u041d\u0414\u0424\u041b: ",e.xi3(2,2,t.withoutNDFL,"RUB"),"/",e.lcZ(3,5,t.createForm.value.unit)," ")}}function $I(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",49),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createPaidAction())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Udp("place-self","flex-end"),e.Q6J("loading",t.beginCreate)}}function p1(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",50),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.editPaidAction())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Udp("place-self","flex-end"),e.Q6J("loading",t.beginCreate)}}function Vg(n,o){if(1&n&&(e.TgZ(0,"div",39),e._UZ(1,"input",40)(2,"textarea",41)(3,"p-inputNumber",42)(4,"p-dropdown",43),e.TgZ(5,"div",44),e.YNc(6,Hg,4,7,"span",45),e._UZ(7,"div",26),e.YNc(8,$I,1,3,"p-button",46),e.YNc(9,p1,1,3,"p-button",47),e.qZA()()),2&n){const t=e.oxw();e.Udp("margin-top",".2rem"),e.Q6J("formGroup",t.createForm),e.xp6(2),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(1),e.Q6J("maxFractionDigits",1),e.xp6(1),e.Q6J("options",t.typeOptions),e.xp6(1),e.Q6J("ngSwitch",t.createDialogMode),e.xp6(1),e.Q6J("ngIf",t.withoutNDFL>0&&t.createForm.value.unit),e.xp6(2),e.Q6J("ngSwitchCase","create"),e.xp6(1),e.Q6J("ngSwitchCase","edit")}}const h1=function(){return{grid:"1fr min-content/1fr"}},g1=function(){return{width:"40rem"}};let X4=(()=>{class n{constructor(t,i,s,d,T){this.api=t,this.rt=i,this.route=s,this.router=d,this.confirm=T,this.loadingState=me.Gu.LOADING,this.subscriptions=new _.xf,this.filterForm=new g.cw({nameQuery:new g.NI(""),includeDeleted:new g.NI(!1)}),this.page=0,this.createDialogVisible=!1,this.createDialogMode="create",this.createForm=new g.cw({name:new g.NI("",[g.kI.required]),description:new g.NI(""),cost:new g.NI(0,[g.kI.required]),unit:new g.NI("",[g.kI.required])}),this.typeOptions=[{label:"\u0417\u0430 \u0448\u0442\u0443\u043a\u0443",value:me.b9.AMOUNT},{label:"\u0417\u0430 \u043c\u0435\u0442\u0440",value:me.b9.METRES},{label:"\u0417\u0430 \u043a\u0438\u043b\u043e\u0433\u0440\u0430\u043c\u043c",value:me.b9.KILOGRAMS}],this.beginCreate=!1}get withoutNDFL(){return this.createForm.value.cost?Math.round(this.createForm.value.cost-.13*this.createForm.value.cost):0}unitName(t){switch(t){case me.b9.AMOUNT:return"\u0448\u0442.";case me.b9.METRES:return"\u043c\u0435\u0442\u0440";case me.b9.KILOGRAMS:return"\u043a\u0433."}}get createDialogHeader(){return"create"===this.createDialogMode?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u043d\u043e\u0433\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u043d\u043e\u0433\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}trackByPaidAction(t,i){return i.paidActionId+i.name+i.description+i.cost+i.unit}ngOnInit(){this.filterForm.valueChanges.pipe((0,bs.b)(1e3),(0,Zr.x)()).pipe((0,gt.U)(s=>{let d={includeDeleted:s.includeDeleted};return s.nameQuery&&(d.nameQuery=s.nameQuery),this.page=0,d})).subscribe(s=>{this.router.navigate(["."],{relativeTo:this.route,queryParams:s}).then()});const t=this.route.params.pipe((0,Zr.x)()),i=this.route.queryParams.pipe((0,Zr.x)());(0,Wo.a)([t,i]).subscribe(([s,d])=>{var T;this.loadingState=me.Gu.LOADING,this.filterForm.patchValue({nameQuery:null!==(T=d.nameQuery)&&void 0!==T?T:"",includeDeleted:"true"===d.includeDeleted}),this.api.getPageOfPaidActions(s.page-1,d).subscribe({next:W=>{this.loadingState=W.totalElements>0?me.Gu.READY:me.Gu.EMPTY,this.paidActionsPage=W},error:()=>this.loadingState=me.Gu.ERROR,complete:()=>{this.page=s.page||0}})}),this.subscriptions.addSubscription("paCr",this.rt.paidActionCreated().subscribe(s=>{var d,T,W;null!==(d=this.paidActionsPage)&&void 0!==d&&d.content.find(qe=>qe.identifier===s.identifier)||(null===(T=this.paidActionsPage)||void 0===T||T.content.unshift(s),this.paidActionsPage&&this.paidActionsPage.content.length>25&&(null===(W=this.paidActionsPage)||void 0===W||W.content.pop()))})),this.subscriptions.addSubscription("paEd",this.rt.paidActionUpdated().subscribe(s=>{if(!this.paidActionsPage)return;const d=this.paidActionsPage.content.findIndex(T=>T.identifier===s.identifier);-1!==d&&(this.paidActionsPage.content[d]=s)})),this.subscriptions.addSubscription("paDe",this.rt.paidActionDeleted().subscribe(s=>{if(!this.paidActionsPage)return;const d=this.paidActionsPage.content.findIndex(T=>T.identifier===s.identifier);-1!==d&&(this.paidActionsPage.content.splice(d,1),this.paidActionsPage.totalElements--)}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}changePage(t){this.router.navigate(["/salary","paid-actions",t+1],{queryParamsHandling:"merge"})}openCreationDialog(t){var i;this.createForm.reset(),this.createDialogMode=t?"edit":"create",this.editingPaidActionId=null==t?void 0:t.paidActionId,t&&this.createForm.setValue({name:t.name,description:null!==(i=t.description)&&void 0!==i?i:"",cost:t.cost,unit:t.unit}),this.createDialogVisible=!0}createPaidAction(){this.createForm.valid&&(this.createForm.disable({emitEvent:!1}),this.beginCreate=!0,this.api.createPaidAction(this.createForm.value).subscribe({next:()=>{this.createForm.enable({emitEvent:!1}),this.createDialogVisible=!1,this.beginCreate=!1},error:()=>{this.createForm.enable({emitEvent:!1}),this.beginCreate=!1}}))}editPaidAction(){this.createForm.valid&&this.editingPaidActionId&&(this.createForm.disable({emitEvent:!1}),this.beginCreate=!0,this.api.editPaidAction(this.editingPaidActionId,this.createForm.value).subscribe({next:()=>{this.createForm.enable({emitEvent:!1}),this.createDialogVisible=!1,this.beginCreate=!1},error:()=>{this.createForm.enable({emitEvent:!1}),this.beginCreate=!1}}))}deletePaidAction(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043b\u0430\u0442\u043d\u043e\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435?",accept:()=>{this.api.deletePaidAction(t).subscribe()}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(a.gz),e.Y36(a.F0),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:19,vars:23,consts:[["appExtendPageHeight","",1,"flex"],[1,"flex","gap-3","flex-grow-1","px-3","mb-3"],[1,"grided","gap10","stretched"],[1,"flexed","gap10","panel","p10","vcenter",3,"formGroup"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"mdi-search"],["formControlName","nameQuery","pInputText","","placeholder","\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435...","type","text"],["formControlName","includeDeleted","offIcon","mdi-visibility","offLabel","\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435","onIcon","mdi-visibility_off","onLabel","\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success",3,"onClick"],[1,"grided","panel","p10",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"first","rows","totalRecords","onPageChange"],["appendTo","body",3,"visible","draggable","dismissableMask","header","modal","resizable","visibleChange"],["pTemplate","content"],[1,"flexed","column"],["class","flexed p10 gap10 h-fit split-line",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","p10","gap10","h-fit","split-line"],[1,"flexed","column","stretched"],[1,"caption","size-big","flexed","hcenter","gap3"],["class","caption size-small f-color-500",4,"ngIf"],["class","caption size-small",4,"ngIf"],["class","flexed column gap5",4,"ngIf"],[1,"flexed","column","gap5","vend","hstart"],[1,"caption"],[3,"employee"],[1,"stretched"],[1,"caption","size-tiny","wt-bold","f-color-500"],[1,"caption","size-small","f-color-500"],[1,"caption","size-small"],[1,"flexed","column","gap5"],["icon","mdi-edit","styleClass","p-button-warning p-button-icon p-button-outlined",3,"onClick"],["icon","mdi-delete","styleClass","p-button-danger p-button-icon p-button-outlined",3,"onClick"],[1,"grided","vcenter","hcenter"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"caption","size-big","wt-bold","f-color-danger","grided","vcenter","hcenter"],[1,"mds-error"],[1,"caption","size-big","wt-bold","f-color-500","grided","vcenter","hcenter"],[1,"mds-search_off"],[1,"grided","gap10",3,"formGroup"],["formControlName","name","pInputText","","placeholder","\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435...","type","text"],["formControlName","description","pInputTextarea","","placeholder","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435...",3,"autoResize","cols","rows"],["currency","RUB","formControlName","cost","locale","ru-RU","mode","currency","placeholder","\u0421\u0443\u043c\u043c\u0430...",3,"maxFractionDigits"],["appendTo","body","formControlName","unit","placeholder","\u0422\u0438\u043f",3,"options"],[1,"flexed","hcenter",3,"ngSwitch"],["class","caption size-big f-color-500",4,"ngIf"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success",3,"loading","place-self","onClick",4,"ngSwitchCase"],["icon","mdi-pencil","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-success",3,"loading","place-self","onClick",4,"ngSwitchCase"],[1,"caption","size-big","f-color-500"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success",3,"loading","onClick"],["icon","mdi-pencil","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-success",3,"loading","onClick"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2)(4,"div",3)(5,"span",4)(6,"span",5),e._UZ(7,"i",6),e.qZA(),e._UZ(8,"input",7),e.qZA(),e._UZ(9,"p-toggleButton",8),e.TgZ(10,"p-button",9),e.NdJ("onClick",function(){return i.openCreationDialog()}),e.qZA()(),e.TgZ(11,"div",10),e.YNc(12,YI,3,2,"ng-container",11),e.YNc(13,jI,3,0,"ng-container",11),e.YNc(14,KI,5,0,"ng-container",11),e.YNc(15,qI,5,0,"ng-container",11),e.TgZ(16,"p-paginator",12),e.NdJ("onPageChange",function(d){return i.changePage(d.page)}),e.qZA()()()()(),e.TgZ(17,"p-dialog",13),e.NdJ("visibleChange",function(d){return i.createDialogVisible=d}),e.YNc(18,Vg,10,12,"ng-template",14),e.qZA()),2&t){let s;e.xp6(3),e.Udp("grid","min-content 1fr/1fr"),e.xp6(1),e.Q6J("formGroup",i.filterForm),e.xp6(7),e.Akn(e.DdM(21,h1)),e.Q6J("ngSwitch",i.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("first",25*(i.page-1))("rows",25)("totalRecords",null!==(s=null==i.paidActionsPage?null:i.paidActionsPage.totalElements)&&void 0!==s?s:0),e.xp6(1),e.Akn(e.DdM(22,g1)),e.Q6J("visible",i.createDialogVisible)("draggable",!1)("dismissableMask",!0)("header",i.createDialogHeader)("modal",!0)("resizable",!1)}}}),n})();var ih=b(2629);const m1=function(){return{padding:"0 0 0 1rem"}};function ex(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"span",26),e._uU(2,"\u0421\u043f\u0438\u0441\u043e\u043a \u0440\u0430\u0431\u043e\u0442"),e.qZA(),e._UZ(3,"div",27),e.TgZ(4,"p-button",28),e.NdJ("onClick",function(s){e.CHM(t),e.oxw();const d=e.MAs(17);return e.KtG(d.toggle(s))}),e.qZA()()}2&n&&e.Akn(e.DdM(2,m1))}function f1(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",29)(1,"p-button",30),e.NdJ("onClick",function(s){e.CHM(t),e.oxw();const d=e.MAs(19);return e.KtG(d.toggle(s))}),e.qZA()()}}function XI(n,o){1&n&&e.GkF(0)}function tx(n,o){if(1&n&&(e.ynx(0),e.YNc(1,XI,1,0,"ng-container",31),e.BQk()),2&n){e.oxw();const t=e.MAs(29);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function nx(n,o){1&n&&e.GkF(0)}function ix(n,o){1&n&&e.GkF(0)}function zg(n,o){1&n&&e.GkF(0)}function ox(n,o){1&n&&e.GkF(0)}const oh=function(n){return{$implicit:n}};function eT(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ox,1,0,"ng-container",37),e.BQk()),2&n){const t=o.$implicit;e.oxw(4);const i=e.MAs(37);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,oh,t))}}function tT(n,o){1&n&&e.GkF(0)}function sx(n,o){if(1&n&&(e.TgZ(0,"div",41)(1,"span",42),e._uU(2," \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: "),e.qZA(),e.TgZ(3,"span",43),e._uU(4),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(4),e.hij(" ",t.selectedNodeInTree.data.description," ")}}const _1=function(){return{alignContent:"flex-start"}};function rx(n,o){if(1&n&&(e.TgZ(0,"div",36),e.YNc(1,ix,1,0,"ng-container",37),e.TgZ(2,"div",38),e.YNc(3,zg,1,0,"ng-container",31),e.YNc(4,eT,2,4,"ng-container",39),e.YNc(5,tT,1,0,"ng-container",31),e.qZA(),e.YNc(6,sx,5,1,"div",40),e.qZA()),2&n){const t=e.oxw(3),i=e.MAs(27),s=e.MAs(33),d=e.MAs(35);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(10,oh,t.selectedNodeInTree)),e.xp6(1),e.Akn(e.DdM(12,_1)),e.Q6J("@flowInChild",void 0),e.xp6(1),e.Q6J("ngTemplateOutlet",s),e.xp6(1),e.Q6J("ngForOf",null==t.selectedNodeInTree?null:t.selectedNodeInTree.children)("ngForTrackBy",t.trackByNode),e.xp6(1),e.Q6J("ngTemplateOutlet",d),e.xp6(1),e.Q6J("ngIf",null==t.selectedNodeInTree?null:t.selectedNodeInTree.data.description)}}function nT(n,o){1&n&&e.GkF(0)}function ax(n,o){1&n&&e.GkF(0)}function C1(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ax,1,0,"ng-container",31),e.BQk()),2&n){e.oxw(4);const t=e.MAs(29);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function v1(n,o){1&n&&e.GkF(0)}function iT(n,o){if(1&n&&(e.ynx(0),e.YNc(1,v1,1,0,"ng-container",31),e.BQk()),2&n){e.oxw(4);const t=e.MAs(31);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Il(n,o){if(1&n&&(e.TgZ(0,"div",47)(1,"span",48),e._uU(2,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(3,"span",51),e._uU(4),e.qZA()()),2&n){const t=e.oxw(5);e.xp6(4),e.Oqu(null==t.currentWork?null:t.currentWork.description)}}function lx(n,o){1&n&&e.GkF(0)}function T_(n,o){if(1&n&&(e.ynx(0),e.YNc(1,lx,1,0,"ng-container",37),e.BQk()),2&n){const t=o.$implicit;e.oxw(5);const i=e.MAs(25);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,oh,t))}}function cx(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",45),e.YNc(2,Il,5,1,"div",46),e.TgZ(3,"div",47)(4,"span",48),e._uU(5," \u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f "),e.qZA(),e.TgZ(6,"div",47),e.YNc(7,T_,2,4,"ng-container",39),e.qZA(),e._UZ(8,"div",49),e.TgZ(9,"div",50)(10,"span"),e._uU(11,"\u0412\u0441\u0435\u0433\u043e"),e.qZA(),e.TgZ(12,"span"),e._uU(13),e.qZA()()()(),e.BQk()),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("ngIf",null==t.currentWork?null:t.currentWork.description),e.xp6(5),e.Q6J("ngForOf",null==t.currentWork?null:t.currentWork.actions)("ngForTrackBy",t.trackByAction),e.xp6(6),e.hij("",t.currentWorkActionsSum," \u0440\u0443\u0431")}}function sl(n,o){if(1&n&&(e.TgZ(0,"div",44),e.YNc(1,nT,1,0,"ng-container",37),e.ynx(2,8),e.YNc(3,C1,2,1,"ng-container",9),e.YNc(4,iT,2,1,"ng-container",9),e.YNc(5,cx,14,4,"ng-container",9),e.BQk(),e.qZA()),2&n){const t=e.oxw(3),i=e.MAs(27);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(6,oh,t.selectedNodeInTree)),e.xp6(1),e.Q6J("ngSwitch",t.workLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY")}}function ux(n,o){if(1&n&&(e.ynx(0,8),e.YNc(1,rx,7,13,"div",34),e.YNc(2,sl,6,8,"div",35),e.BQk()),2&n){const t=e.oxw(2);e.Q6J("ngSwitch",t.selectedNodeInTree.type),e.xp6(1),e.Q6J("ngSwitchCase","group"),e.xp6(1),e.Q6J("ngSwitchCase","work")}}function A_(n,o){1&n&&e.GkF(0)}function dx(n,o){if(1&n&&(e.ynx(0),e.YNc(1,A_,1,0,"ng-container",37),e.BQk()),2&n){const t=o.$implicit;e.oxw(3);const i=e.MAs(37);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,oh,t))}}function px(n,o){1&n&&e.GkF(0)}function w_(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",52)(2,"div",53),e.YNc(3,dx,2,4,"ng-container",39),e.YNc(4,px,1,0,"ng-container",31),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2),i=e.MAs(35);e.xp6(2),e.Akn(e.DdM(6,_1)),e.Q6J("@flowInChild",void 0),e.xp6(1),e.Q6J("ngForOf",t.treeMenuItems)("ngForTrackBy",t.trackByNode),e.xp6(1),e.Q6J("ngTemplateOutlet",i)}}function b1(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ux,3,3,"ng-container",32),e.YNc(2,w_,5,7,"ng-container",33),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selectedNodeInTree),e.xp6(1),e.Q6J("ngIf",!t.selectedNodeInTree)}}function y1(n,o){1&n&&e.GkF(0)}function hx(n,o){1&n&&e.GkF(0)}function x1(n,o){1&n&&e.GkF(0)}function I1(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",54),e.YNc(2,y1,1,0,"ng-container",37),e.TgZ(3,"div",53),e.YNc(4,hx,1,0,"ng-container",31),e.YNc(5,x1,1,0,"ng-container",31),e.TgZ(6,"div",55),e._UZ(7,"span",56),e.TgZ(8,"span"),e._uU(9,"\u041d\u0435\u0442 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"),e.qZA()()()(),e.BQk()),2&n){const t=e.oxw(),i=e.MAs(27),s=e.MAs(33),d=e.MAs(35);e.xp6(2),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(4,oh,t.selectedNodeInTree)),e.xp6(2),e.Q6J("ngTemplateOutlet",s),e.xp6(1),e.Q6J("ngTemplateOutlet",d)}}function gx(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",62),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createGroup())}),e.qZA()}2&n&&e.Udp("place-self","flex-end")}function T1(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",63),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.updateGroup())}),e.qZA()}2&n&&e.Udp("place-self","flex-end")}const A1=function(){return{maxWidth:"15rem"}};function sh(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",57),e.NdJ("keyup.enter",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.enterButtonPress())}),e._UZ(1,"input",58)(2,"textarea",59),e.ynx(3,8),e.YNc(4,gx,1,2,"p-button",60),e.YNc(5,T1,1,2,"p-button",61),e.BQk(),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.createGroupForm),e.xp6(1),e.Akn(e.DdM(7,A1)),e.xp6(1),e.Q6J("autoResize",!0),e.xp6(1),e.Q6J("ngSwitch",t.createGroupDialogMode),e.xp6(1),e.Q6J("ngSwitchCase","create"),e.xp6(1),e.Q6J("ngSwitchCase","edit")}}function ql(n,o){if(1&n&&(e.TgZ(0,"div",74)(1,"p-inputNumber",75),e.NdJ("mousedown",function(i){return i.stopPropagation()})("dblclick",function(i){return i.stopPropagation()}),e.qZA()()),2&n){const t=e.oxw().$implicit;e.Q6J("formGroup",t.control),e.xp6(1),e.Q6J("size",4)("min",.01)("minFractionDigits",0)("maxFractionDigits",2)("max",99999)("allowEmpty",!1)}}function w1(n,o){if(1&n&&(e.TgZ(0,"div",69)(1,"div",70)(2,"span",71),e._uU(3),e.qZA(),e.TgZ(4,"span",72),e._uU(5),e.ALo(6,"unitName"),e.qZA()(),e.YNc(7,ql,2,7,"div",73),e.qZA()),2&n){const t=o.$implicit;e.xp6(2),e.Udp("max-width","15rem"),e.xp6(1),e.hij(" ",t.name," "),e.xp6(2),e.AsE(" ",t.cost," \u0440\u0443\u0431./",e.lcZ(6,6,t.unit)," "),e.xp6(2),e.Q6J("ngIf","select"===t.mode)}}function E_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",62),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createWork())}),e.qZA()}2&n&&e.Udp("place-self","flex-end")}function _c(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",63),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.updateWork())}),e.qZA()}2&n&&e.Udp("place-self","flex-end")}const E1=function(){return{height:"30rem"}};function oT(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",64),e._UZ(1,"input",65)(2,"textarea",66),e.TgZ(3,"p-pickList",67),e.NdJ("onMoveToSource",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.unselectPaidAction(s))})("onMoveToTarget",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.selectPaidAction(s))}),e.YNc(4,w1,8,8,"ng-template",68),e.qZA(),e.ynx(5,8),e.YNc(6,E_,1,2,"p-button",60),e.YNc(7,_c,1,2,"p-button",61),e.BQk(),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.createWorkForm),e.xp6(1),e.Akn(e.DdM(14,A1)),e.xp6(1),e.Q6J("autoResize",!0),e.xp6(1),e.Q6J("dragdrop",!0)("showSourceControls",!1)("showTargetControls",!1)("source",t.availablePaidActions)("sourceStyle",e.DdM(15,E1))("targetStyle",e.DdM(16,E1))("target",t.selectedPaidActions),e.xp6(2),e.Q6J("ngSwitch",t.createWorkDialogMode),e.xp6(1),e.Q6J("ngSwitchCase","create"),e.xp6(1),e.Q6J("ngSwitchCase","edit")}}function mx(n,o){if(1&n&&(e.TgZ(0,"div",76)(1,"div",47)(2,"span",77),e._uU(3),e.qZA(),e.TgZ(4,"span",78),e._UZ(5,"span",79),e.TgZ(6,"span"),e._uU(7),e.ALo(8,"unitName"),e.qZA()()(),e._UZ(9,"div",27),e.TgZ(10,"span",80),e._uU(11),e.ALo(12,"unitName"),e.qZA(),e.TgZ(13,"span",81),e._uU(14),e.qZA()()),2&n){const t=o.$implicit;e.xp6(3),e.hij(" ",t.action.name," "),e.xp6(4),e.AsE(" ",t.action.cost," \u0440\u0443\u0431/",e.lcZ(8,6,t.action.unit)," "),e.xp6(4),e.AsE(" \u041a\u043e\u043b-\u0432\u043e: ",t.count," ",e.lcZ(12,8,t.action.unit)," "),e.xp6(3),e.hij(" \u0421\u0442\u043e\u0439\u043c\u043e\u0441\u0442\u044c: ",t.action.cost*t.count," \u0440\u0443\u0431 ")}}function fx(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",82)(2,"span"),e._uU(3),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(3),e.hij(" ",t.data.name," ")}}function _x(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",83)(2,"p-button",84),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.back())}),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA(),e._UZ(5,"div",27),e.TgZ(6,"p-button",85),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2).$implicit,d=e.oxw();return d.editingWorkId=s.data.id,e.KtG(d.openEditWorkDialog())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(4),e.hij(" ",t.data.name," ")}}function Cx(n,o){if(1&n&&(e.ynx(0,8),e.YNc(1,fx,4,1,"ng-container",9),e.YNc(2,_x,7,1,"ng-container",9),e.BQk()),2&n){const t=e.oxw().$implicit;e.Q6J("ngSwitch",t.type),e.xp6(1),e.Q6J("ngSwitchCase","group"),e.xp6(1),e.Q6J("ngSwitchCase","work")}}function S1(n,o){1&n&&e.YNc(0,Cx,3,3,"ng-container",32),2&n&&e.Q6J("ngIf",o.$implicit)}function sT(n,o){1&n&&(e.TgZ(0,"div",86),e._UZ(1,"p-progressSpinner",87),e.qZA())}function k1(n,o){1&n&&(e.TgZ(0,"div",86)(1,"div",88),e._UZ(2,"span",89),e.TgZ(3,"span"),e._uU(4," \u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 "),e.qZA()()())}function vx(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",91),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.back())}),e._UZ(1,"span",92),e.TgZ(2,"span",93),e._uU(3,"\u041d\u0430\u0437\u0430\u0434"),e.qZA()()}}function D1(n,o){if(1&n&&e.YNc(0,vx,4,0,"div",90),2&n){const t=e.oxw();e.Q6J("ngIf",t.selectedNodeInTree)}}function rT(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",91),e.NdJ("click",function(s){e.CHM(t),e.oxw();const d=e.MAs(19);return e.KtG(d.toggle(s))}),e._UZ(1,"span",94),e.TgZ(2,"span",93),e._uU(3,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),e.qZA()()}}function S_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",91),e.NdJ("click",function(){const d=e.CHM(t).$implicit,T=e.oxw();return e.KtG(T.selectGroupInView(d))}),e._UZ(1,"span"),e.TgZ(2,"span",95),e._uU(3),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Tol("group"===t.type?"mds-folder":"mds-construction"),e.xp6(2),e.Oqu(t.data.name)}}const M1=function(){return{padding:"0"}};let k_=(()=>{class n{constructor(t,i,s){this.api=t,this.rt=i,this.confirmation=s,this.rootContextMenuItems=[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443",icon:"mdi-folder",command:()=>this.openCreateGroupDialog()},{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443",icon:"mdi-construction",command:()=>this.openCreateWorkDialog()}],this.treeMenuItems=[],this.createGroupDialogVisible=!1,this.createGroupDialogMode="create",this.createGroupForm=new g.cw({name:new g.NI("",[g.kI.required]),description:new g.NI(""),parentGroupId:new g.NI(null)}),this.treeContextMenuItems=[],this.subscriptions=new _.xf,this.createWorkDialogVisible=!1,this.createWorkDialogMode="create",this.createWorkForm=new g.cw({name:new g.NI("",[g.kI.required]),description:new g.NI(""),parentGroupId:new g.NI(null),actions:new g.Oe([],[P.d.notEmpty])}),this.breadcrumbHome={icon:"mdi-home",command:()=>{this.selectedNodeInTree=void 0,this.changeBreadcrumbs()}},this.breadcrumb=[],this.availablePaidActions=[],this.selectedPaidActions=[],this.loadingTreeState=me.Gu.LOADING,this.workLoadingState=me.Gu.LOADING,this.inViewContextMenuItems=[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443",icon:"mdi-folder",command:()=>this.openCreateGroupDialog(this.selectedNodeInTree?this.selectedNodeInTree.key:void 0)},{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443",icon:"mdi-construction",command:()=>this.openCreateWorkDialog(this.selectedNodeInTree?this.selectedNodeInTree.key:void 0)}],ih.mp.prototype.isNodeLeaf=d=>d.leaf}get currentWorkActionsSum(){return this.currentWork?this.currentWork.actions.reduce((t,i)=>t+i.count*i.action.cost,0):0}trackByAction(t,i){return i.paidActionTemplateId+i.count}trackByNode(t,i){var s,d;return null!==(d=null!==(s=i.key)&&void 0!==s?s:""+i.leaf)&&void 0!==d?d:""+i.label+JSON.stringify(i.data)}selectPaidAction(t){t.items.forEach(i=>{i.mode="select",i.controlIndex=this.createWorkForm.controls.actions.length,i.control=new g.cw({actionId:new g.NI(i.paidActionId),count:new g.NI(1)}),this.createWorkForm.controls.actions.push(i.control)})}unselectPaidAction(t){t.items.forEach(i=>{i.mode=void 0,i.control=void 0,this.createWorkForm.controls.actions.removeAt(i.controlIndex)})}unitName(t){switch(t){case me.b9.AMOUNT:return"\u0448\u0442.";case me.b9.METRES:return"\u043c.";case me.b9.KILOGRAMS:return"\u043a\u0433."}}changeContextMenuItems(){var t,i,s;if(this.selectedNodeInTree)switch(this.selectedNodeInTree.type){case"group":this.treeContextMenuItems=[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",icon:"mdi-add",items:[{label:"\u0413\u0440\u0443\u043f\u043f\u0443",icon:"mdi-folder",command:()=>this.openCreateGroupDialog(this.selectedNodeInTree?this.selectedNodeInTree.key:void 0)},{label:"\u0420\u0430\u0431\u043e\u0442\u0443",icon:"mdi-construction",command:()=>this.openCreateWorkDialog(this.selectedNodeInTree?this.selectedNodeInTree.key:void 0)}]},{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",command:()=>this.openEditGroupDialog()},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"mdi-delete",command:()=>this.deleteGroup()}];break;case"work":this.treeContextMenuItems=[{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",command:()=>this.openEditWorkDialog()},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"mdi-delete",command:()=>this.deleteWork()}]}"group"===(null===(t=this.selectedNodeInTree)||void 0===t?void 0:t.type)?this.loadOfGroup({node:this.selectedNodeInTree},()=>this.changeBreadcrumbs()):"work"===(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.type)&&null!==(s=this.selectedNodeInTree)&&void 0!==s&&s.key&&this.loadWork(this.selectedNodeInTree.key)}changeBreadcrumbs(){if(this.selectedNodeInTree){let t=this.selectedNodeInTree;const i=[];for(;t;){let s=t.key;i.push({label:t.label,key:s,command:()=>{var d;if((null===(d=this.selectedNodeInTree)||void 0===d?void 0:d.key)===s)return;let T;const W=[];for(let Ce of this.breadcrumb)if(void 0===T?T=this.treeMenuItems.find(qe=>qe.key===Ce.key):T.children&&(T=T.children.find(qe=>qe.key===Ce.key)),W.push(Ce),T&&T.key===s)break;this.selectedNodeInTree=T,this.breadcrumb=W}}),t=t.parent}this.breadcrumb=i.reverse()}else this.breadcrumb=[]}openCreateGroupDialog(t){this.createGroupForm.reset(),this.createGroupDialogMode="create",this.createGroupDialogVisible=!0,this.createGroupForm.patchValue({parentGroupId:t?parseInt(t.substring(1)):null})}openEditGroupDialog(){var t,i,s,d,T,W,Ce,qe,Xe,$t;null===(t=this.selectedNodeInTree)||void 0===t||!t.key||(this.createGroupForm.reset(),this.editingGroupId=parseInt(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.key.substring(1)),this.createGroupDialogMode="edit",this.createGroupDialogVisible=!0,this.createGroupForm.setValue({name:null!==(d=null===(s=this.selectedNodeInTree)||void 0===s?void 0:s.label)&&void 0!==d?d:"",description:null!==(W=null===(T=this.selectedNodeInTree)||void 0===T?void 0:T.data.description)&&void 0!==W?W:"",parentGroupId:null!==(qe=null===(Ce=this.selectedNodeInTree)||void 0===Ce?void 0:Ce.parent)&&void 0!==qe&&qe.key?parseInt(null===($t=null===(Xe=this.selectedNodeInTree)||void 0===Xe?void 0:Xe.parent)||void 0===$t?void 0:$t.key):null}))}openCreateWorkDialog(t){this.createWorkForm.reset(),this.createWorkDialogMode="create",this.createWorkDialogVisible=!0,this.createWorkForm.controls.actions.clear(),this.createWorkForm.patchValue({parentGroupId:t?parseInt(t.substring(1)):null}),this.selectedPaidActions=[],this.api.getListAvailablePaidActions().subscribe({next:i=>this.availablePaidActions=i})}openEditWorkDialog(){var t,i,s,d,T,W,Ce,qe,Xe,$t;null===(t=this.selectedNodeInTree)||void 0===t||!t.key||(this.createWorkForm.reset(),this.editingWorkId=parseInt(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.key.substring(1)),this.createWorkDialogMode="edit",this.createWorkDialogVisible=!0,this.createWorkForm.patchValue({name:null!==(d=null===(s=this.selectedNodeInTree)||void 0===s?void 0:s.label)&&void 0!==d?d:"",description:null!==(W=null===(T=this.selectedNodeInTree)||void 0===T?void 0:T.data.description)&&void 0!==W?W:"",parentGroupId:null!==(qe=null===(Ce=this.selectedNodeInTree)||void 0===Ce?void 0:Ce.parent)&&void 0!==qe&&qe.key?parseInt(null===($t=null===(Xe=this.selectedNodeInTree)||void 0===Xe?void 0:Xe.parent)||void 0===$t?void 0:$t.key):null}),this.selectedPaidActions=[],this.createWorkForm.controls.actions.clear(),this.api.getListAvailablePaidActions().subscribe({next:jt=>{var Wt;!(null===(Wt=this.selectedNodeInTree)||void 0===Wt)&&Wt.data.actions&&this.selectedNodeInTree.data.actions.forEach(_n=>{let Pn=structuredClone(_n.action);Pn.mode="select",Pn.controlIndex=this.createWorkForm.controls.actions.length,Pn.control=new g.cw({actionId:new g.NI(Pn.paidActionId),count:new g.NI(_n.count)}),this.selectedPaidActions.push(Pn),this.createWorkForm.controls.actions.push(Pn.control)}),this.availablePaidActions=jt.filter(_n=>-1===this.selectedPaidActions.findIndex(Pn=>Pn.paidActionId===_n.paidActionId))}}))}ngOnInit(){this.api.getRootTreeOfWorks().subscribe({next:t=>{this.treeMenuItems=t,this.loadingTreeState=t.length>0?me.Gu.READY:me.Gu.EMPTY},error:()=>{this.loadingTreeState=me.Gu.ERROR}}),this.subscriptions.addSubscription("trMove",this.rt.paidWorksTreeMoved().subscribe(t=>{const i=this.foundNodeByPath(t.sourcePath),s=this.foundNodeByPath(t.targetPath);if(i){if(i.children){const d=i.children.findIndex(T=>T.key===t.object.key&&T.type===t.object.type);d>-1&&i.children.splice(d,1),0===i.children.length&&(i.leaf=!0)}}else{const d=this.treeMenuItems.findIndex(T=>T.key===t.object.key&&T.type===t.object.type);d>-1&&this.treeMenuItems.splice(d,1)}s?(s.children?-1===s.children.findIndex(T=>T.key===t.object.key&&T.type===t.object.type)&&s.children.push(t.object):(s.children=[],s.children.push(t.object)),s.leaf=!1):-1===this.treeMenuItems.findIndex(T=>T.key===t.object.key&&T.type===t.object.type)&&this.treeMenuItems.push(t.object)})),this.subscriptions.addSubscription("trUpd",this.rt.paidWorksTreeUpdated().subscribe(t=>{var i,s;const d=this.foundNodeByPath(t.path);if(d&&d.children){const T=null===(i=d.children)||void 0===i?void 0:i.findIndex(W=>W.key===t.object.key&&W.type===t.object.type);T>-1&&(d.children[T]=t.object)}else if(!d){const T=this.treeMenuItems.findIndex(W=>W.key===t.object.key&&W.type===t.object.type);T>-1&&(this.treeMenuItems[T]=t.object)}(null===(s=this.selectedNodeInTree)||void 0===s?void 0:s.key)===t.object.key&&(this.selectedNodeInTree=t.object)})),this.subscriptions.addSubscription("trCr",this.rt.paidWorksTreeCreated().subscribe(t=>{const i=this.foundNodeByPath(t.path);i?(i.children||(i.children=[]),i.children.push(t.object),i.children.sort((s,d)=>s.position-d.position),i.leaf=!1):(this.treeMenuItems.push(t.object),this.treeMenuItems.sort((s,d)=>s.position-d.position))})),this.subscriptions.addSubscription("trDel",this.rt.paidWorksTreeDeleted().subscribe(t=>{var i;const s=this.foundNodeByPath(t.path);if(s&&s.children){const d=s.children.findIndex(T=>T.key===t.object.key);this.selectedNodeInTree===s.children[d]&&(this.selectedNodeInTree=void 0),d>-1&&(null===(i=s.children)||void 0===i||i.splice(d,1))}else if(!s){const d=this.treeMenuItems.findIndex(T=>T.key===t.object.key);this.selectedNodeInTree===this.treeMenuItems[d]&&(this.selectedNodeInTree=void 0),d>-1&&this.treeMenuItems.splice(d,1)}})),this.subscriptions.addSubscription("workUp",this.rt.paidWorkUpdated().subscribe({next:t=>{var i;(null===(i=this.currentWork)||void 0===i?void 0:i.paidWorkId)===t.paidWorkId&&(this.currentWork=t)}})),this.subscriptions.addSubscription("sort",this.rt.worksTreeReposition().subscribe(t=>{t.forEach(i=>{const s="group"===i.type?"g":"w";if(i.path&&i.path.length>0){const d=this.foundNodeByPath(i.path);d&&d.children&&(d.children.find(W=>W.key===s+i.id).position=i.position,d.children.sort((W,Ce)=>W.position-Ce.position))}else this.treeMenuItems.find(T=>T.key===s+i.id).position=i.position,this.treeMenuItems.sort((T,W)=>T.position-W.position)})}))}foundNodeByPath(t){var i;if(!t||0===t.length)return null;let s=null,d=this.treeMenuItems;for(let T of t){if(!d)return null;if(s=null!==(i=d.find(W=>W.key==="g"+T))&&void 0!==i?i:null,!s)return null;d=s.children}return s}ngOnDestroy(){this.subscriptions.unsubscribeAll()}createGroup(){this.createGroupForm.valid&&this.api.createPaidWorkGroup(this.createGroupForm.value).subscribe(()=>{this.createGroupDialogVisible=!1})}updateGroup(){this.editingGroupId&&this.createGroupForm.valid&&this.api.editPaidWorkGroup(this.editingGroupId,this.createGroupForm.value).subscribe(()=>{this.createGroupDialogVisible=!1})}nodeDrop(t){this.api.treeWorksDragDrop(new me.AE(t)).subscribe(),this.api.paidWorkTreeReposition(this.getPositions(t)).subscribe(()=>this.changeBreadcrumbs())}getPositions(t){const i=t.dragNode.parent,s=t.dropNode.parent;let d=[];return i||s?i?s?i===s&&(d=[...i.children.map((T,W)=>({id:T.key.substring(1),type:T.type,position:W}))]):d=[...i.children.map((T,W)=>({id:T.key.substring(1),type:T.type,position:W})),...this.treeMenuItems.map((T,W)=>({id:T.key.substring(1),type:T.type,position:W}))]:d=[...this.treeMenuItems.map((T,W)=>({id:T.key.substring(1),type:T.type,position:W})),...s.children.map((T,W)=>({id:T.key.substring(1),type:T.type,position:W}))]:d=this.treeMenuItems.map((T,W)=>({id:T.key.substring(1),type:T.type,position:W})),d}loadOfGroup(t,i=(()=>{})){"group"!==t.node.type||t.node.children&&t.node.children.length>0?"group"===t.node.type&&(this.loadingTreeState=me.Gu.READY,i()):(this.loadingTreeState=me.Gu.LOADING,this.api.getWorksOfGroup(t.node.key.substring(1)).subscribe({next:s=>{t.node.children=s,this.loadingTreeState=s.length>0?me.Gu.READY:me.Gu.EMPTY,i()},error:()=>{this.loadingTreeState=me.Gu.ERROR}}))}createWork(){this.createWorkForm.valid&&this.api.createPaidWork(this.createWorkForm.value).subscribe({next:()=>{this.createWorkDialogVisible=!1},error:()=>{}})}updateWork(){this.editingWorkId&&this.createWorkForm.valid&&this.api.editPaidWork(this.editingWorkId,this.createWorkForm.value).subscribe(()=>{this.createWorkDialogVisible=!1})}selectNode(t){var i;"group"===t.node.type?this.loadOfGroup(t,()=>this.changeBreadcrumbs()):null!==(i=this.selectedNodeInTree)&&void 0!==i&&i.key&&this.loadWork(this.selectedNodeInTree.key)}selectGroupInView(t){setTimeout(()=>{var i,s;this.selectedNodeInTree&&!this.selectedNodeInTree.leaf&&(this.selectedNodeInTree.expanded=!0),this.selectedNodeInTree=t,"group"===(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.type)?this.loadOfGroup({node:t},()=>this.changeBreadcrumbs()):null!==(s=this.selectedNodeInTree)&&void 0!==s&&s.key&&this.loadWork(this.selectedNodeInTree.key)},200)}loadWork(t){this.loadingTreeState=me.Gu.READY,this.workLoadingState=me.Gu.LOADING,this.api.getPaidWorkById(parseInt(t.substring(1))).subscribe({next:i=>{this.currentWork=i,this.workLoadingState=me.Gu.READY,this.changeBreadcrumbs()},error:()=>{this.workLoadingState=me.Gu.ERROR}})}back(){var t;this.loadingTreeState=me.Gu.READY,this.selectedNodeInTree&&(this.selectedNodeInTree.expanded=!1),this.selectedNodeInTree=null===(t=this.selectedNodeInTree)||void 0===t?void 0:t.parent,this.changeBreadcrumbs()}deleteGroup(){var t,i;null===(t=this.selectedNodeInTree)||void 0===t||!t.key||(this.editingGroupId=parseInt(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.key.substring(1)),this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443 \u0440\u0430\u0431\u043e\u0442? (\u0420\u0430\u0431\u043e\u0442\u044b \u0432 \u0433\u0440\u0443\u043f\u043f\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u044b \u043d\u0435 \u0431\u0443\u0434\u0443\u0442)",accept:()=>{!this.editingGroupId||this.api.deletePaidWorkGroup(this.editingGroupId).subscribe(()=>{})}}))}deleteWork(){var t,i;null===(t=this.selectedNodeInTree)||void 0===t||!t.key||(this.editingWorkId=parseInt(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.key.substring(1)),this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443?",accept:()=>{!this.editingWorkId||this.api.deletePaidWork(this.editingWorkId).subscribe(()=>{})}}))}enterButtonPress(){"create"===this.createGroupDialogMode?this.createGroup():"edit"===this.createGroupDialogMode&&this.updateGroup()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e._Bn([N.Y])],decls:38,vars:32,consts:[["appExtendPageHeight","",1,"flex"],[1,"flex","gap-3","flex-grow-1","mb-3","px-3"],[1,"flexed","column","gap10","stretched","panel","p10"],[3,"home","model"],[1,"flexed","gap10","stretched"],["styleClass","work-tree","draggableScope","self","droppableScope","self","selectionMode","single",3,"selection","contextMenu","draggableNodes","droppableNodes","lazy","loading","value","onNodeContextMenuSelect","onNodeDrop","onNodeExpand","onNodeSelect","onNodeUnselect","selectionChange"],["pTemplate","header"],["pTemplate","empty"],[3,"ngSwitch"],[4,"ngSwitchCase"],["appendTo","body",3,"model"],["treeContextMenu",""],[3,"model","popup"],["rootTreeMenu",""],["inViewContextMenu",""],["appendTo","body",3,"visible","dismissableMask","header","resizable","visibleChange"],["pTemplate","content"],[3,"visible","dismissableMask","autoZIndex","baseZIndex","header","resizable","visibleChange"],["workEntryRef",""],["nodeTitleRef",""],["loadingRef",""],["errorRef",""],["backButtonRef",""],["createButtonRef",""],["nodeRef",""],[1,"flexed","hcenter","gap10"],[1,"caption","size-big","f-inline"],[1,"stretched"],["icon","mdi-more_vert","styleClass","p-button-secondary p-button-text p-button-icon",3,"onClick"],[1,"flexed","p10","w-full","vcenter"],["label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","icon","mdi-add","styleClass","p-button-secondary p-button-text",3,"onClick"],[4,"ngTemplateOutlet"],[3,"ngSwitch",4,"ngIf"],[4,"ngIf"],["class","flexed column gap10 stretched",4,"ngSwitchCase"],["class","flexed column stretched",4,"ngSwitchCase"],[1,"flexed","column","gap10","stretched"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flexed","wrapped","gap10","stretched"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","group-description",4,"ngIf"],[1,"group-description"],[1,"caption","size-small","f-inline"],[1,"caption"],[1,"flexed","column","stretched"],[1,"flexed","column","gap10","p10"],["class","flexed column",4,"ngIf"],[1,"flexed","column"],[1,"caption","wt-bold","size-big","f-color-500"],[1,"terminator-bottom"],[1,"flexed","gap5","vend","hcenter","caption","wt-tiny","f-color-primary","size-big","p10"],[1,"caption","indent1"],[1,"flexed","column","gap10"],[1,"flexed","wrapped","gap10"],[1,"flexed","column","gap10","relative","stretched"],[1,"center-of-content","flexed","column","vcenter","caption","size-big","wt-bold","f-color-500"],[1,"mds-receipt_long"],[1,"flexed","column","gap10","p1",3,"formGroup","keyup.enter"],["formControlName","name","pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b...","autofocus",""],["cols","50","formControlName","description","pInputTextarea","","placeholder","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b...","rows","5",3,"autoResize"],["icon","mdi-plus","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"place-self","onClick",4,"ngSwitchCase"],["icon","mdi-edit","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",3,"place-self","onClick",4,"ngSwitchCase"],["icon","mdi-plus","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"onClick"],["icon","mdi-edit","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",3,"onClick"],[1,"flexed","column","gap10","p1",3,"formGroup"],["formControlName","name","pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b...","autofocus",""],["cols","70","formControlName","description","pInputTextarea","","placeholder","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b...","rows","5",3,"autoResize"],["filterBy","name","sourceHeader","\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f","targetHeader","\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f",3,"dragdrop","showSourceControls","showTargetControls","source","sourceStyle","targetStyle","target","onMoveToSource","onMoveToTarget"],["pTemplate","item"],[1,"flexed","gap5"],[1,"flexed","column","gap5","stretched"],["appTicker","",1,"caption","white-space-nowrap","overflow-hidden"],[1,"caption","size-small","f-color-500"],["class","w-min z-5",3,"formGroup",4,"ngIf"],[1,"w-min","z-5",3,"formGroup"],["formControlName","count",3,"size","min","minFractionDigits","maxFractionDigits","max","allowEmpty","mousedown","dblclick"],[1,"flexed","gap5","hcenter","p10","split-line"],[1,"caption","size-big","f-color-600"],[1,"caption","with-icon","size-small","f-color-500","wt-black"],[1,"mdi-payments"],[1,"caption","size-big","wt-tiny"],[1,"caption","size-big","f-color-primary","wt-tiny"],[1,"caption","size-huge","f-color-500","wt-bold","f-inline"],[1,"flexed","hcenter","gap5","p3","caption","size-huge","f-color-500","wt-bold","f-inline"],["styleClass","p-button-text p-button-secondary p-button-icon","icon","mdi-arrow_back",3,"onClick"],["styleClass","p-button-text p-button-warning","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","icon","mdi-edit",3,"onClick"],[1,"relative","stretched"],[1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary","center-of-content"],[1,"flexed","hcenter","column","caption","size-big","wt-bold","f-color-danger","center-of-content"],[1,"mds-error"],["class","group-list-el primary","pRipple","",3,"click",4,"ngIf"],["pRipple","",1,"group-list-el","primary",3,"click"],[1,"mds-arrow_top_left"],[1,"name"],[1,"mds-add"],["appTicker","",1,"name"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e._UZ(4,"p-breadcrumb",3),e.TgZ(5,"div",4)(6,"p-tree",5),e.NdJ("onNodeContextMenuSelect",function(){return i.changeContextMenuItems()})("onNodeDrop",function(d){return i.nodeDrop(d)})("onNodeExpand",function(d){return i.loadOfGroup(d)})("onNodeSelect",function(d){return i.selectNode(d)})("onNodeUnselect",function(){return i.changeBreadcrumbs()})("selectionChange",function(d){return i.selectedNodeInTree=d}),e.YNc(7,ex,5,3,"ng-template",6),e.YNc(8,f1,2,0,"ng-template",7),e.qZA(),e.ynx(9,8),e.YNc(10,tx,2,1,"ng-container",9),e.YNc(11,nx,1,0,"ng-container",9),e.YNc(12,b1,3,2,"ng-container",9),e.YNc(13,I1,10,6,"ng-container",9),e.BQk(),e.qZA()()()(),e._UZ(14,"p-contextMenu",10,11)(16,"p-menu",12,13)(18,"p-menu",12,14),e.TgZ(20,"p-dialog",15),e.NdJ("visibleChange",function(d){return i.createGroupDialogVisible=d}),e.YNc(21,sh,6,8,"ng-template",16),e.qZA(),e.TgZ(22,"p-dialog",17),e.NdJ("visibleChange",function(d){return i.createWorkDialogVisible=d}),e.YNc(23,oT,8,17,"ng-template",16),e.qZA(),e.YNc(24,mx,15,10,"ng-template",null,18,e.W1O),e.YNc(26,S1,1,1,"ng-template",null,19,e.W1O),e.YNc(28,sT,2,0,"ng-template",null,20,e.W1O),e.YNc(30,k1,5,0,"ng-template",null,21,e.W1O),e.YNc(32,D1,1,1,"ng-template",null,22,e.W1O),e.YNc(34,rT,4,0,"ng-template",null,23,e.W1O),e.YNc(36,S_,4,3,"ng-template",null,24,e.W1O)),2&t){const s=e.MAs(15);e.xp6(4),e.Q6J("home",i.breadcrumbHome)("model",i.breadcrumb),e.xp6(2),e.Akn(e.DdM(31,M1)),e.Q6J("selection",i.selectedNodeInTree)("contextMenu",s)("draggableNodes",!0)("droppableNodes",!0)("lazy",!0)("loading","LOADING"===i.loadingTreeState)("value",i.treeMenuItems),e.xp6(3),e.Q6J("ngSwitch",i.loadingTreeState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("model",i.treeContextMenuItems),e.xp6(2),e.Q6J("model",i.rootContextMenuItems)("popup",!0),e.xp6(2),e.Q6J("model",i.inViewContextMenuItems)("popup",!0),e.xp6(2),e.Q6J("visible",i.createGroupDialogVisible)("dismissableMask",!0)("header","create"===i.createGroupDialogMode?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b")("resizable",!1),e.xp6(2),e.Q6J("visible",i.createWorkDialogVisible)("dismissableMask",!0)("autoZIndex",!1)("baseZIndex",4400)("header","create"===i.createWorkDialogMode?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b")("resizable",!1)}},styles:[".group-list-el[_ngcontent-%COMP%]{cursor:pointer;display:grid;align-items:center;justify-content:center;justify-items:center;padding:.2rem 1rem 1rem;border-radius:.5rem;border:1px solid var(--bgc-200);font-size:.85rem;font-weight:700;color:var(--tc-600);width:min-content;transition:all .1s ease-in-out}.group-list-el[_ngcontent-%COMP%] > .name[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;width:100%;text-align:center}.group-list-el[_ngcontent-%COMP%]:hover{border-color:var(--mc-100);color:var(--mc-400)}.empty-message[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.group-description[_ngcontent-%COMP%]{display:grid;border-top:1px solid var(--bgc-200);padding-top:.5rem}"],data:{animation:[f.S9]}}),n})();function O1(n,o){1&n&&e.GkF(0)}function P1(n,o){if(1&n&&(e.ynx(0),e.YNc(1,O1,1,0,"ng-container",10),e.BQk()),2&n){e.oxw();const t=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function L1(n,o){1&n&&e.GkF(0)}function Jg(n,o){if(1&n&&(e.ynx(0),e.YNc(1,L1,1,0,"ng-container",10),e.BQk()),2&n){e.oxw();const t=e.MAs(11);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Qg(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",17)(2,"span",18),e._uU(3," \u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c "),e.qZA(),e.TgZ(4,"p-button",19),e.NdJ("onClick",function(){e.CHM(t);const s=e.MAs(6);return e.KtG(null==s?null:s.equalize())}),e.qZA()(),e.TgZ(5,"app-employee-sum-distribution",20,21),e.NdJ("onRemoveFactorAction",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.onRemoveFactorAction(s))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("actionPicker",t.worksPickerForm$)("employees",t.selectedWorkLog.employees)("formControl",t.employeeRatioForm)}}function R1(n,o){1&n&&e._UZ(0,"p-inputNumber",22)}function bx(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",25),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.sendCalculation())}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("loading",t.isSendingCalculation)}}function N1(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",26),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.openRecalculationConformationDialog())}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("loading",t.isSendingCalculation)}}function F1(n,o){if(1&n&&(e.ynx(0),e.YNc(1,bx,1,1,"p-button",23),e.YNc(2,N1,1,1,"p-button",24),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf","CALCULATE"===t),e.xp6(1),e.Q6J("ngIf","RECALCULATE"===t)}}function yx(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",11),e.YNc(2,Qg,7,3,"ng-container",4),e.ALo(3,"async"),e.TgZ(4,"div",12)(5,"div",13)(6,"span",14),e._uU(7,"\u041f\u043b\u0430\u0442\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430"),e.qZA(),e._UZ(8,"p-inputSwitch",15),e.YNc(9,R1,1,0,"p-inputNumber",16),e.qZA(),e.YNc(10,F1,3,2,"ng-container",4),e.ALo(11,"async"),e.qZA()(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,t.worksPickerForm$)),e.xp6(3),e.Q6J("formGroup",t.paidWorkForm),e.xp6(4),e.Q6J("ngIf",t.paidWorkForm.value.isPaidWork),e.xp6(1),e.Q6J("ngIf",e.lcZ(11,6,t.recalculate$))}}function xx(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",30),e._UZ(2,"p-progressSpinner",31),e.qZA(),e.BQk())}function aT(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",30)(2,"div",32),e._UZ(3,"span",33),e.TgZ(4,"span"),e._uU(5,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()()(),e.BQk())}function lT(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.author.fullName," ")}}function B1(n,o){if(1&n&&(e.ynx(0),e.YNc(1,lT,2,1,"ng-container",4),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.awaitingWriting)}}function Ix(n,o){if(1&n&&(e.TgZ(0,"span",48),e._uU(1," \u041d\u0435 \u043d\u0430\u043f\u0438\u0441\u0430\u043b\u0438 \u043e\u0442\u0447\u0435\u0442\u044b: "),e.YNc(2,B1,2,1,"ng-container",49),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngForOf",t.workReports)}}function Tx(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",36)(1,"div",37)(2,"div",38)(3,"span",39),e._uU(4),e.qZA(),e.TgZ(5,"span",40),e._uU(6,"\u0420\u0430\u0431\u043e\u0442\u0430 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435 "),e._UZ(7,"app-task-link",41),e.qZA()(),e.TgZ(8,"div",38)(9,"span",39),e._uU(10),e.ALo(11,"titlecase"),e.ALo(12,"date"),e.qZA(),e._UZ(13,"app-employee-label",42),e.qZA(),e.TgZ(14,"div",38)(15,"span",39),e._uU(16),e.ALo(17,"titlecase"),e.ALo(18,"date"),e.qZA(),e._UZ(19,"app-avatar-list",43),e.qZA()(),e._UZ(20,"div",44),e.TgZ(21,"div",45),e.YNc(22,Ix,3,1,"span",46),e.TgZ(23,"p-button",47),e.NdJ("onClick",function(){const d=e.CHM(t).$implicit,T=e.oxw(3);return e.KtG(T.selectWork(d))}),e.qZA()()()}if(2&n){const t=o.$implicit;e.xp6(4),e.hij("#",t.workLogId,""),e.xp6(3),e.Q6J("task",t.task),e.xp6(3),e.hij("\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430: ",e.lcZ(11,10,e.xi3(12,12,t.created,"EEEE, dd MMMM yyyy HH:mm")),""),e.xp6(3),e.Q6J("employee",t.creator)("size",1.2),e.xp6(3),e.hij("\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430: ",e.lcZ(17,15,e.xi3(18,17,t.closed,"EEEE, dd MMMM yyyy HH:mm")),""),e.xp6(3),e.Q6J("employees",t.employees)("size",1.2),e.xp6(3),e.Q6J("ngIf",t.isReportsUncompleted),e.xp6(1),e.Q6J("disabled",t.isReportsUncompleted)}}function Ax(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",34),e.YNc(2,Tx,24,20,"div",35),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.uncalculatedWorkLogs)("ngForTrackBy",t.trackByWorkLog)}}function cT(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",30)(2,"div",50),e._UZ(3,"span",51),e.TgZ(4,"span"),e._uU(5,"\u041f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0440\u0430\u0431\u043e\u0442"),e.qZA()()(),e.BQk())}function uT(n,o){if(1&n&&(e.TgZ(0,"div",27),e._uU(1,"\u0421\u043f\u0438\u0441\u043e\u043a \u043d\u0435 \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0445"),e.qZA(),e.ynx(2,28),e.YNc(3,xx,3,0,"ng-container",29),e.YNc(4,aT,6,0,"ng-container",29),e.YNc(5,Ax,3,2,"ng-container",29),e.YNc(6,cT,6,0,"ng-container",29),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function dT(n,o){1&n&&(e.TgZ(0,"span",70),e._uU(1,"(\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u0430)"),e.qZA())}function pT(n,o){1&n&&(e.TgZ(0,"div",60),e._UZ(1,"span",71),e.TgZ(2,"span"),e._uU(3," \u0426\u0435\u043b\u044c "),e.qZA()())}function hT(n,o){if(1&n&&(e.TgZ(0,"div",72),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.selectedWorkLog?null:t.selectedWorkLog.targetDescription," ")}}function wx(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",52)(1,"p-button",53),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.unselectWork())}),e.qZA(),e.TgZ(2,"span",54),e._uU(3),e.qZA(),e.YNc(4,dT,2,0,"span",55),e.qZA(),e.TgZ(5,"div",56),e._UZ(6,"app-task-fields-table-view",57),e.TgZ(7,"div",37),e.YNc(8,pT,4,0,"div",58),e.YNc(9,hT,2,1,"div",59),e.qZA(),e.TgZ(10,"div",37)(11,"div",60),e._UZ(12,"span",61),e.TgZ(13,"span"),e._uU(14),e.qZA()(),e.TgZ(15,"div",62),e._uU(16),e.qZA()(),e.TgZ(17,"div",63)(18,"app-label",64),e._UZ(19,"app-employee-label",65),e.qZA(),e.TgZ(20,"app-label",66),e._UZ(21,"app-duration",67),e.qZA()(),e._UZ(22,"div",68)(23,"app-works-picker",69),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.isSendingCalculation),e.xp6(2),e.hij("\u0420\u0430\u0431\u043e\u0442\u0430 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435 #",null==t.selectedWorkLog||null==t.selectedWorkLog.task?null:t.selectedWorkLog.task.taskId,""),e.xp6(1),e.Q6J("ngIf",null==t.selectedWorkLog?null:t.selectedWorkLog.isForceClosed),e.xp6(2),e.Q6J("task",null==t.selectedWorkLog?null:t.selectedWorkLog.task)("isTaskBody",!1),e.xp6(2),e.Q6J("ngIf",null==t.selectedWorkLog?null:t.selectedWorkLog.targetDescription),e.xp6(1),e.Q6J("ngIf",null==t.selectedWorkLog?null:t.selectedWorkLog.targetDescription),e.xp6(5),e.hij(" ",null!=t.selectedWorkLog&&t.selectedWorkLog.isForceClosed?"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f":"\u041e\u0442\u0447\u0435\u0442"," "),e.xp6(2),e.hij(" ",null==t.selectedWorkLog?null:t.selectedWorkLog.report," "),e.xp6(3),e.Q6J("employee",null==t.selectedWorkLog?null:t.selectedWorkLog.creator),e.xp6(2),e.Q6J("short",!1)("ms",null==t.selectedWorkLog?null:t.selectedWorkLog.leadTime),e.xp6(2),e.Q6J("employees",null==t.selectedWorkLog?null:t.selectedWorkLog.employees)("formControl",t.worksPickerForm)}}function Gg(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",73)(1,"div",74)(2,"label"),e._uU(3,"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u043e\u0433\u043e \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u0440\u0430\u0431\u043e\u0442\u044b"),e.qZA(),e.TgZ(4,"textarea",75),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.emptyCalculationDescription=s)}),e.qZA()(),e.TgZ(5,"div",76)(6,"p-button",77),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return s.emptyCalculationConformationDialogVisible=!1,e.KtG(s.emptyCalculationDescription="")}),e.qZA(),e.TgZ(7,"p-button",78),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.sendEmptyCalculation())}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.emptyCalculationDescription)("autoResize",!0)("rows",5),e.xp6(2),e.Q6J("disabled",t.isSendingCalculation),e.xp6(1),e.Q6J("disabled",!t.emptyCalculationDescription)("loading",t.isSendingCalculation)}}function Ex(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",73)(1,"div",74)(2,"label"),e._uU(3,"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043f\u0435\u0440\u0435\u0441\u0447\u0435\u0442\u0430 \u0440\u0430\u0431\u043e\u0442\u044b"),e.qZA(),e.TgZ(4,"textarea",75),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.recalculationDescription=s)}),e.qZA()(),e.TgZ(5,"div",76)(6,"p-button",77),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return s.recalculationConformationDialogVisible=!1,e.KtG(s.recalculationDescription="")}),e.qZA(),e.TgZ(7,"p-button",79),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.sendRecalculation())}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.recalculationDescription)("autoResize",!0)("rows",5),e.xp6(2),e.Q6J("disabled",t.isSendingCalculation),e.xp6(1),e.Q6J("disabled",!t.recalculationDescription)("loading",t.isSendingCalculation)}}const Z1=function(){return{width:"50vw",minWidth:"fit-content"}};let D_=(()=>{class n{constructor(t,i,s,d,T,W){this.api=t,this.confirmation=i,this.rt=s,this.router=d,this.route=T,this.nav=W,this.uncalculatedWorkLogs=[],this.loadingState=me.Gu.LOADING,this.actionsTaken=[],this.employeeRatioForm=new g.NI({}),this.factorsActions=[],this.emptyCalculationConformationDialogVisible=!1,this.emptyCalculationDescription="",this.recalculationConformationDialogVisible=!1,this.recalculationDescription="",this.isSendingCalculation=!1,this.subscriptions=new _.xf,this.removeWorkLogFromListHandler={next:Ce=>{this.uncalculatedWorkLogs=this.uncalculatedWorkLogs.filter(qe=>qe.workLogId!==Ce.workLogId)}},this.addWorkLogToListHandler={next:Ce=>{this.uncalculatedWorkLogs.unshift(Ce)}},this.sendingCalculationHandlers={next:()=>{this.isSendingCalculation=!1,this.emptyCalculationConformationDialogVisible=!1,this.emptyCalculationDescription="",this.recalculationConformationDialogVisible=!1,this.recalculationDescription="",this.resetCalculation(),this.selectedWorkLog&&(this.uncalculatedWorkLogs=this.uncalculatedWorkLogs.filter(Ce=>{var qe;return Ce.workLogId!==(null===(qe=this.selectedWorkLog)||void 0===qe?void 0:qe.workLogId)}),this.uncalculatedWorkLogs.length>0&&this.selectWork(this.uncalculatedWorkLogs[0]))},error:()=>{this.isSendingCalculation=!1}},this.worksPickerForm=new g.NI(null),this.worksPickerForm$=this.worksPickerForm.valueChanges.pipe((0,un.d)(1)),this.workLogId$=this.route.queryParams.pipe((0,gt.U)(Ce=>Ce.workLogId)),this.selectedWorkLog$=this.workLogId$.pipe((0,R.w)(Ce=>Ce?this.api.getWorkLog(Ce,!0):(0,In.of)(void 0))),this.setupFormValues$=this.selectedWorkLog$.pipe((0,R.w)(Ce=>Ce?this.api.getAlreadyCalculatedWorkForm(null==Ce?void 0:Ce.workLogId):(0,In.of)(null))),this.recalculate$=this.setupFormValues$.pipe((0,gt.U)(Ce=>Ce?"RECALCULATE":"CALCULATE")),this.paidWorkForm=new g.cw({isPaidWork:new g.NI(!1),amountOfMoneyTaken:new g.NI(null,[g.kI.min(0),g.kI.required])})}get totalCostOfWork(){return this.actionsTaken.reduce((t,i)=>t+i.cost,0)}trackByField(t,i){return i.name+i.textRepresentation+i.modelItemId}trackByEmployee(t,i){return i.login+i.fullName+i.avatar}trackByWorkLog(t,i){return i.workLogId}ngOnInit(){this.loadUncalculatedWorkLogs(),this.subscriptions.addSubscription("wp",this.worksPickerForm.valueChanges.subscribe(t=>{var i;!t||(this.actionsTaken=t.actionsTaken,this.factorsActions=null!==(i=t.factorsActions)&&void 0!==i?i:[])})),this.subscriptions.addSubscription("wlUpd",this.rt.workLogUpdated().subscribe(()=>this.api.getUncalculatedWorkLogs().subscribe({next:t=>{this.uncalculatedWorkLogs=t,this.loadingState=t.length>0?me.Gu.READY:me.Gu.EMPTY},error:t=>{this.loadingState=me.Gu.ERROR}}))),this.subscriptions.addSubscription("chQue",this.selectedWorkLog$.subscribe(t=>this.selectedWorkLog=t)),this.subscriptions.addSubscription("setupForm",this.setupFormValues$.subscribe(t=>{var i,s;t?(this.worksPickerForm.setValue({actionsTaken:t.actions,factorsActions:t.factorsActions}),this.employeeRatioForm.setValue(t.employeesRatio),this.paidWorkForm.setValue({isPaidWork:null!==(i=t.isPaidWork)&&void 0!==i&&i,amountOfMoneyTaken:null!==(s=t.amountOfMoneyTaken)&&void 0!==s?s:null})):(this.worksPickerForm.reset(),this.employeeRatioForm.reset(),this.paidWorkForm.reset())}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}loadUncalculatedWorkLogs(){this.loadingState=me.Gu.LOADING,this.api.getUncalculatedWorkLogs().subscribe({next:t=>{this.uncalculatedWorkLogs=t,this.loadingState=t.length>0?me.Gu.READY:me.Gu.EMPTY},error:t=>{this.loadingState=me.Gu.ERROR}}),this.subscriptions.addSubscription("wlUpd",this.rt.workLogUpdated().pipe((0,l.h)(t=>t.calculated)).subscribe(this.removeWorkLogFromListHandler)),this.subscriptions.addSubscription("wlCr",this.rt.workLogClosed().pipe((0,l.h)(t=>!t.calculated)).subscribe(this.addWorkLogToListHandler))}selectWork(t){this.router.navigate(["."],{relativeTo:this.route,queryParams:{workLogId:t.workLogId}}).then()}unselectWork(){this.nav.backOrDefault(["/salary","estimation"]),this.resetCalculation()}resetCalculation(){this.worksPickerForm.reset(),this.employeeRatioForm.reset()}sendCalculation(){if(this.paidWorkForm.markAllAsTouched(),!this.paidWorkForm.value.isPaidWork||!this.paidWorkForm.invalid){if(0===this.actionsTaken.length)return void(this.emptyCalculationConformationDialogVisible=!0);this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0441\u0447\u0435\u0442?",accept:()=>{!this.selectedWorkLog||(this.isSendingCalculation=!0,this.api.sendWorkCalculation({workLogId:this.selectedWorkLog.workLogId,actions:this.actionsTaken.map(t=>({workId:t.workId,actionId:t.actionId,count:t.count,uuid:t.uuid})),spreading:this.selectedWorkLog.employees.map(t=>({login:t.login,ratio:this.employeeRatioForm.value?this.employeeRatioForm.value[t.login].ratio:0,factorsActions:this.getFactorsActions(t.login).filter(i=>i).map(i=>({factor:i.factor,name:i.name,actionUuids:i.actionUuids}))})),isPaidWork:this.paidWorkForm.value.isPaidWork,amountOfMoneyTaken:this.paidWorkForm.value.amountOfMoneyTaken}).subscribe(this.sendingCalculationHandlers))}})}}openRecalculationConformationDialog(){this.recalculationConformationDialogVisible=!0}sendRecalculation(){this.paidWorkForm.markAllAsTouched(),(!this.paidWorkForm.value.isPaidWork||!this.paidWorkForm.invalid)&&(!this.selectedWorkLog||(this.isSendingCalculation=!0,this.api.sendWorkCalculation({workLogId:this.selectedWorkLog.workLogId,actions:this.actionsTaken.map(t=>({workId:t.workId,actionId:t.actionId,count:t.count,uuid:t.uuid})),emptyDescription:0===this.actionsTaken.length?this.recalculationDescription:null,editingDescription:this.recalculationDescription,spreading:this.selectedWorkLog.employees.map(t=>({login:t.login,ratio:this.employeeRatioForm.value?this.employeeRatioForm.value[t.login].ratio:0,factorsActions:this.getFactorsActions(t.login).filter(i=>i).map(i=>({factor:i.factor,name:i.name,actionUuids:i.actionUuids}))})),isPaidWork:this.paidWorkForm.value.isPaidWork,amountOfMoneyTaken:this.paidWorkForm.value.amountOfMoneyTaken}).subscribe(this.sendingCalculationHandlers)))}sendEmptyCalculation(){this.paidWorkForm.value.isPaidWork&&this.paidWorkForm.invalid||!this.selectedWorkLog||(this.isSendingCalculation=!0,this.api.sendWorkCalculation({workLogId:this.selectedWorkLog.workLogId,emptyDescription:this.emptyCalculationDescription,actions:this.actionsTaken.map(t=>({workId:t.workId,actionId:t.actionId,count:t.count,uuid:t.uuid})),spreading:this.selectedWorkLog.employees.map(t=>({login:t.login,ratio:this.employeeRatioForm.value?this.employeeRatioForm.value[t.login].ratio:0,factorsActions:this.getFactorsActions(t.login).filter(i=>i).map(i=>({factor:i.factor,name:i.name,actionUuids:i.actionUuids}))})),isPaidWork:this.paidWorkForm.value.isPaidWork,amountOfMoneyTaken:this.paidWorkForm.value.amountOfMoneyTaken}).subscribe(this.sendingCalculationHandlers))}getFactorsActions(t){return this.factorsActions.filter(i=>i.login===t)}removeWorkActionRatio(t){this.factorsActions=this.factorsActions.filter(i=>i.uuid!==t)}hasWorkActionRatio(t){return this.factorsActions.find(i=>i.login===t)}onRemoveFactorAction(t){this.worksPickerForm.value&&this.worksPickerForm.setValue({actionsTaken:this.worksPickerForm.value.actionsTaken,factorsActions:t})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(N.YP),e.Y36(de.U),e.Y36(a.F0),e.Y36(a.gz),e.Y36(et.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e._Bn([N.Y])],decls:16,vars:19,consts:[["appExtendPageHeight","",1,"flex"],[1,"flex","gap-3","flex-grow-1","px-3","mb-3"],[1,"flexed","column","gap10","stretched"],[1,"flexed","column","gap10","stretched","panel","p10"],[4,"ngIf"],["uncalculatedListTemp",""],["selectedWorkTemp",""],["header","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u0443\u0441\u0442\u043e\u0439 \u0440\u0430\u0441\u0447\u0435\u0442?",3,"visible","dismissableMask","draggable","modal","resizable","visibleChange"],["pTemplate","content"],["header","\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043f\u0435\u0440\u0435\u0441\u0447\u0435\u0442\u0430 \u0440\u0430\u0431\u043e\u0442?",3,"visible","dismissableMask","draggable","modal","resizable","visibleChange"],[4,"ngTemplateOutlet"],[1,"flexed","column","gap15","stretched","panel","p20"],[1,"flex","gap-3","align-items-center","align-self-end"],[1,"flex","gap-2","align-items-center",3,"formGroup"],[1,"text-sm","text-bluegray-400","font-bold","white-space-nowrap"],["formControlName","isPaidWork",1,"line-height-0"],["formControlName","amountOfMoneyTaken","class","touched-error","placeholder","\u0421\u0443\u043c\u043c\u0430","mode","currency","currency","RUB",4,"ngIf"],[1,"flexed","gap10","hcenter","spbtw"],[1,"caption","size-huge"],["icon","mdi-equalizer","label","\u0420\u0430\u0432\u043d\u044b\u0435 \u0434\u043e\u043b\u0438","styleClass","p-button-text p-button-secondary",3,"onClick"],[3,"actionPicker","employees","formControl","onRemoveFactorAction"],["sumDistr",""],["formControlName","amountOfMoneyTaken","placeholder","\u0421\u0443\u043c\u043c\u0430","mode","currency","currency","RUB",1,"touched-error"],["icon","mdi-currency_exchange","label","\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"loading","onClick",4,"ngIf"],["icon","mdi-currency_exchange","label","\u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"loading","onClick",4,"ngIf"],["icon","mdi-currency_exchange","label","\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"loading","onClick"],["icon","mdi-currency_exchange","label","\u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"loading","onClick"],[1,"caption","size-huge","wt-tiny","f-color-600"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"stretched","relative"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary","center-of-content"],[1,"flexed","column","vcenter","center-of-content","caption","size-huge","f-color-danger","wt-bold"],[1,"mds-error"],[1,"flexed","column"],["class","flexed gap3 p10 split-line",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","gap3","p10","split-line"],[1,"flexed","column","gap3"],[1,"flexed","gap5","hcenter"],[1,"caption","size-small","wt-bold","f-color-600"],[1,"caption"],[3,"task"],[3,"employee","size"],[3,"employees","size"],[1,"stretched"],[1,"flex","gap-3","align-items-center"],["class","text-red-400 text-sm font-bold",4,"ngIf"],["label","\u0420\u0430\u0441c\u0447\u0438\u0442\u0430\u0442\u044c","styleClass","p-button-outlined p-button-success",3,"disabled","onClick"],[1,"text-red-400","text-sm","font-bold"],[4,"ngFor","ngForOf"],[1,"flexed","column","vcenter","center-of-content","caption","size-huge","f-color-400","wt-bold"],[1,"mds-release_alert"],[1,"flexed","hcenter","gap10"],["icon","mdi-arrow_back","styleClass","p-button-text p-button-icon",3,"disabled","onClick"],[1,"caption","wt-tiny","f-color-600","size-huge"],["class","caption f-color-danger wt-bold size-big",4,"ngIf"],[1,"flexed","column","p-sides-20","gap10"],[3,"task","isTaskBody"],["class","caption f-color-700 size-big with-icon",4,"ngIf"],["class","flexed column p-sides-20",4,"ngIf"],[1,"caption","f-color-700","size-big","with-icon"],[1,"mdi-feed"],[1,"caption","prewrap","p-sides-20"],[1,"flex","flex-column","gap-2"],["label","\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u043b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432","styleClass","translate-x-0"],[3,"employee"],["label","\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f","styleClass","translate-x-0"],[3,"short","ms"],[1,"terminator-bottom"],[1,"mb-4",3,"employees","formControl"],[1,"caption","f-color-danger","wt-bold","size-big"],[1,"mdi-radar"],[1,"flexed","column","p-sides-20"],[1,"flexed","column","gap10"],[1,"input-label-wrapper"],["pInputTextarea","",1,"stretched",3,"ngModel","autoResize","rows","ngModelChange"],[1,"flexed","hcenter","vend","gap10"],["icon","mdi-close","label","\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-secondary p-button-text",3,"disabled","onClick"],["icon","mdi-check","label","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","styleClass","p-button-danger",3,"disabled","loading","onClick"],["icon","mdi-check","label","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","styleClass","p-button-success",3,"disabled","loading","onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2)(4,"div",3),e.YNc(5,P1,2,1,"ng-container",4),e.YNc(6,Jg,2,1,"ng-container",4),e.qZA(),e.YNc(7,yx,12,8,"ng-container",4),e.qZA()()(),e.YNc(8,uT,7,5,"ng-template",null,5,e.W1O),e.YNc(10,wx,24,14,"ng-template",null,6,e.W1O),e.TgZ(12,"p-dialog",7),e.NdJ("visibleChange",function(d){return i.emptyCalculationConformationDialogVisible=d}),e.YNc(13,Gg,8,6,"ng-template",8),e.qZA(),e.TgZ(14,"p-dialog",9),e.NdJ("visibleChange",function(d){return i.recalculationConformationDialogVisible=d}),e.YNc(15,Ex,8,6,"ng-template",8),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngIf",!i.selectedWorkLog),e.xp6(1),e.Q6J("ngIf",i.selectedWorkLog),e.xp6(1),e.Q6J("ngIf",i.selectedWorkLog),e.xp6(5),e.Akn(e.DdM(17,Z1)),e.Q6J("visible",i.emptyCalculationConformationDialogVisible)("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1),e.xp6(2),e.Akn(e.DdM(18,Z1)),e.Q6J("visible",i.recalculationConformationDialogVisible)("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1))},styles:[".table-wrapper[_ngcontent-%COMP%]{border:1px solid var(--bgc-300);border-radius:var(--br-200);overflow:hidden}"]}),n})();var rs=b(8675),U1=b(262);let M_=(()=>{class n{constructor(t){this.api=t,this.users=[],this.page=[],this.first=0,this.PAGE_SIZE=10,this.userLoadingState=me.Gu.EMPTY,this.filtrationForm=new g.cw({mode:new g.NI("address"),query:new g.NI(""),isActive:new g.NI(!1)}),this.changeUsersSubject=new wr.x,this.changeUsers$=this.changeUsersSubject.asObservable(),this.enterSearch=new wr.x,this.enterDown$=this.enterSearch.pipe((0,rs.O)(!0)),this.modeChange$=this.filtrationForm.controls.mode.valueChanges.pipe((0,rs.O)("address")),this.activeChange$=this.filtrationForm.controls.isActive.valueChanges.pipe((0,rs.O)(!1)),this.enterSearch$=(0,Wo.a)([this.enterDown$,this.modeChange$,this.activeChange$]).pipe((0,bs.b)(100),(0,gt.U)(()=>this.filtrationForm.value),(0,gt.U)(i=>(i.query&&(i.query=i.query.trim()),i))),this.users$=this.enterSearch$.pipe((0,hi.b)(i=>{this.userLoadingState=me.Gu.LOADING}),(0,R.w)(i=>{if(!i.query)return(0,In.of)([]);switch(i.mode){case"login":return this.api.getBillingUsersByLogin(i.query,!i.isActive);case"fio":return this.api.getBillingUsersByFio(i.query,!i.isActive);case"address":return this.api.getBillingUsersByAddress(i.query,!i.isActive)}return(0,In.of)([])}),(0,U1.K)((i,s)=>(this.userLoadingState=me.Gu.ERROR,this.users=[],(0,In.of)([])))),this.usersHandler={next:i=>{this.userLoadingState=i&&0!==i.length?me.Gu.READY:me.Gu.EMPTY,this.users=i&&0!==i.length?i.sort((s,d)=>s.addr<d.addr?-1:s.addr>d.addr?1:0):[],this.first=1,this.page=this.users.slice(0,this.PAGE_SIZE)}},this.users$.subscribe(i=>this.changeUsersSubject.next(i)),this.changeUsers$.subscribe(this.usersHandler)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(L.s))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function O_(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",18),e._UZ(2,"p-progressSpinner",19),e.qZA(),e.BQk())}function Sx(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",18)(2,"div",20),e._UZ(3,"span",21),e.TgZ(4,"span"),e._uU(5,"\u041f\u0443\u0441\u0442\u043e"),e.qZA()()(),e.BQk())}function P_(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",18)(2,"div",22),e._UZ(3,"span",23),e.TgZ(4,"span"),e._uU(5,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e.qZA()()(),e.BQk())}function L_(n,o){1&n&&e._UZ(0,"app-colored-tag",39)}function Wg(n,o){if(1&n&&(e.TgZ(0,"span")(1,"span",35),e._uU(2," \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439: "),e.qZA(),e.TgZ(3,"span",40),e._uU(4),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",t.coment," ")}}const gT=function(n){return["/clients","billing","user",n]},mT=function(n){return{"f-color-danger":n}};function fT(n,o){if(1&n&&(e.TgZ(0,"div",28)(1,"span",29)(2,"span",30),e._uU(3),e.qZA(),e.TgZ(4,"span",31),e._uU(5),e.qZA(),e._UZ(6,"app-colored-tag",32),e.YNc(7,L_,1,0,"app-colored-tag",33),e._UZ(8,"div",34),e.TgZ(9,"span")(10,"span",35),e._uU(11," \u0422\u0435\u043b\u0435\u0444\u043e\u043d: "),e.qZA(),e.TgZ(12,"span",36),e._uU(13),e.qZA()()(),e.TgZ(14,"span",29)(15,"span")(16,"span",35),e._uU(17," \u0424\u0418\u041e: "),e.qZA(),e.TgZ(18,"span",36),e._uU(19),e.qZA()(),e.TgZ(20,"span")(21,"span",35),e._uU(22," \u0422\u0430\u0440\u0438\u0444: "),e.qZA(),e.TgZ(23,"span",37),e._uU(24),e.qZA()()(),e.YNc(25,Wg,5,1,"span",38),e.qZA()),2&n){const t=o.$implicit;e.Q6J("routerLink",e.VKq(11,gT,t.uname)),e.xp6(3),e.Oqu(t.uname),e.xp6(2),e.Oqu(t.addr),e.xp6(1),e.Q6J("caption",t.stateName)("color",t.stateColor),e.xp6(1),e.Q6J("ngIf","11"===t.utype),e.xp6(6),e.hij(" ",t.phone," "),e.xp6(6),e.hij(" ",t.fio," "),e.xp6(4),e.Q6J("ngClass",e.VKq(13,mT,!t.tarif)),e.xp6(1),e.hij(" ",t.tarif?t.tarif:"\u041d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d"," "),e.xp6(1),e.Q6J("ngIf",t.coment)}}function _T(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",24)(2,"div",25),e.YNc(3,fT,26,15,"div",26),e.qZA(),e.TgZ(4,"p-paginator",27),e.NdJ("onPageChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.pageChange(s))}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("@flowInChild",void 0),e.xp6(1),e.Q6J("ngForOf",t.busService.page),e.xp6(1),e.Q6J("first",t.busService.first)("rows",t.busService.PAGE_SIZE)("totalRecords",t.busService.users.length)}}const H1=function(){return{marginBottom:"1rem"}};let V1=(()=>{class n{constructor(t){this.busService=t,this.filterModeItems=[{label:"\u0410\u0434\u0440\u0435\u0441",value:"address"},{label:"\u041b\u043e\u0433\u0438\u043d",value:"login"},{label:"\u0424\u0418\u041e",value:"fio"}]}ngOnInit(){}pageChange(t){this.busService.first=t.first,this.busService.page=this.busService.users.slice(t.first,t.first+t.rows)}clearSearchQuery(){this.busService.filtrationForm.patchValue({query:""})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(M_))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:28,vars:12,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"flexed","column","gap10","stretched"],[1,"flexed","column","gap10","panel","p10"],[1,"caption","size-big","f-color-500"],[1,"flex","flex-column","gap-1",3,"formGroup"],[1,"flex","gap-3","align-items-end"],[1,"input-label-wrapper"],["formControlName","mode",3,"options"],["formControlName","isActive","offLabel","\u0422\u043e\u043b\u044c\u043a\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435","onLabel","\u0412\u0441\u0435"],[1,"input-label-wrapper","stretched"],[1,"p-inputgroup"],["formControlName","query","pInputText","","type","text",3,"appPreventInput","keydown.enter","focus"],["mainInput",""],["icon","mdi-search","pButton","","pRipple","","type","button",3,"click"],["icon","mdi-cancel","label","\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c","styleClass","p-button-outlined p-button-secondary",3,"disabled","onClick"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"flexed","vcenter","hcenter","gap10","stretched","panel","p10"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flexed","column","vcenter","caption","f-color-500","size-huge","wt-tiny"],[1,"mds-person_search"],[1,"flexed","column","vcenter","caption","f-color-danger","size-huge","wt-tiny"],[1,"mds-error"],[1,"flexed","column","gap5","stretched","panel","p10"],[1,"flexed","column","stretched"],["class","subscriber-item split-line",3,"routerLink",4,"ngFor","ngForOf"],[3,"first","rows","totalRecords","onPageChange"],[1,"subscriber-item","split-line",3,"routerLink"],[1,"flexed","gap5","hcenter"],[1,"caption","wt-bold","f-color-600"],[1,"caption","f-color-600"],[3,"caption","color"],["caption","\u0411\u0438\u0437\u043d\u0435\u0441","color","var(--warm-600)",4,"ngIf"],[1,"stretched"],[1,"caption","wt-black","size-small","f-color-500"],[1,"caption"],[1,"caption",3,"ngClass"],[4,"ngIf"],["caption","\u0411\u0438\u0437\u043d\u0435\u0441","color","var(--warm-600)"],[1,"caption","size-small"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2)(4,"div",3)(5,"span",4),e._uU(6,"\u041f\u043e\u0438\u0441\u043a \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u043e\u0432"),e.qZA(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"label"),e._uU(11,"\u0420\u0435\u0436\u0438\u043c \u043f\u043e\u0438\u0441\u043a\u0430"),e.qZA(),e._UZ(12,"p-selectButton",8),e.qZA(),e._UZ(13,"p-toggleButton",9),e.qZA(),e.TgZ(14,"div",6)(15,"div",10)(16,"label"),e._uU(17,"\u0417\u0430\u043f\u0440\u043e\u0441"),e.qZA(),e.TgZ(18,"div",11)(19,"input",12,13),e.NdJ("keydown.enter",function(){return i.busService.enterSearch.next(!0)})("focus",function(){e.CHM(s);const T=e.MAs(20);return e.KtG(T.select())}),e.qZA(),e.TgZ(21,"button",14),e.NdJ("click",function(){return i.busService.enterSearch.next(!0)}),e.qZA()()(),e.TgZ(22,"p-button",15),e.NdJ("onClick",function(){return i.clearSearchQuery()}),e.qZA()()()(),e.ynx(23,16),e.YNc(24,O_,3,0,"ng-container",17),e.YNc(25,Sx,6,0,"ng-container",17),e.YNc(26,P_,6,0,"ng-container",17),e.YNc(27,_T,5,5,"ng-container",17),e.BQk(),e.qZA()()()}2&t&&(e.xp6(1),e.Akn(e.DdM(11,H1)),e.xp6(6),e.Q6J("formGroup",i.busService.filtrationForm),e.xp6(5),e.Q6J("options",i.filterModeItems),e.xp6(7),e.Q6J("appPreventInput","LOADING"===i.busService.userLoadingState),e.xp6(3),e.Q6J("disabled","LOADING"===i.busService.userLoadingState),e.xp6(1),e.Q6J("ngSwitch",i.busService.userLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"))},styles:[".subscriber-item[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;gap:.5rem;padding:1rem;cursor:pointer;transition:background-color .1s ease-in-out,color .1s ease-in-out}.subscriber-item[_ngcontent-%COMP%]:hover{background-color:var(--mc-0)}.subscriber-item[_ngcontent-%COMP%]:hover   .caption[_ngcontent-%COMP%]{color:var(--mc-500)}"],data:{animation:[f.S9]}}),n})();var rl=b(655),Wa=b(1135),Tl=b(5677),Yg=b(6768);function z1(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",50),e._UZ(2,"p-progressSpinner",51),e.qZA(),e.BQk())}function J1(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",50)(2,"div",52),e._UZ(3,"span",53),e.TgZ(4,"span"),e._uU(5,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e.qZA()()(),e.BQk())}function kx(n,o){1&n&&e.GkF(0)}function Dx(n,o){if(1&n&&(e.ynx(0),e.YNc(1,kx,1,0,"ng-container",54),e.BQk()),2&n){e.oxw();const t=e.MAs(7);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Q1(n,o){1&n&&e.GkF(0)}function R_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",77),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.update$.next(s.currentLogin))}),e.qZA()}}function CT(n,o){1&n&&e.GkF(0)}function G1(n,o){1&n&&e.GkF(0)}function N_(n,o){1&n&&e.GkF(0)}function Mx(n,o){1&n&&e.GkF(0)}function Ox(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"titlecase"),e.ALo(3,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,e.xi3(3,3,t.state.date,"dd MMMM yyyy")))}}function vT(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"),e.qZA())}function bT(n,o){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,Ox,4,6,"span",36),e.YNc(2,vT,2,0,"span",36),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!i.isToday(t.state.date)),e.xp6(1),e.Q6J("ngIf",i.isToday(t.state.date))}}function Px(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("-",e.xi3(2,1,t.state.startTime,"HH:mm"),"")}}function Lx(n,o){1&n&&e._UZ(0,"span",82)}function Rx(n,o){if(1&n&&(e.TgZ(0,"span",83),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Udp("color",t.state.color),e.xp6(1),e.Oqu(t.state.numbers)}}function yT(n,o){if(1&n&&(e.TgZ(0,"div",79)(1,"span")(2,"span"),e._uU(3),e.ALo(4,"date"),e.qZA(),e.YNc(5,Px,3,4,"span",36),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA(),e.YNc(8,Lx,1,0,"span",80),e.YNc(9,Rx,2,3,"span",81),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.state.color),e.xp6(3),e.Oqu(e.xi3(4,7,t.state.endTime,"HH:mm")),e.xp6(2),e.Q6J("ngIf",t.state.startTime!==t.state.endTime),e.xp6(2),e.Oqu(t.state.description),e.xp6(1),e.Q6J("ngIf",t.state.numbers>1),e.xp6(1),e.Q6J("ngIf",t.state.numbers>1)}}function xT(n,o){1&n&&(e.TgZ(0,"div",84)(1,"span"),e._uU(2,"\u041d\u0435\u0442 \u043b\u043e\u0433\u043e\u0432"),e.qZA()())}function IT(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",85),e.NdJ("onClick",function(s){e.CHM(t),e.oxw(2);const d=e.MAs(75);return e.KtG(d.toggle(s))}),e.qZA()}}function TT(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",86),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openPaymentDialog())}),e.qZA()}}function AT(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",87),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openRecalculationDialog())}),e.qZA()}}function Nx(n,o){if(1&n&&(e.TgZ(0,"span",88),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&n){const t=e.oxw(2);e.Udp("letter-spacing","2px"),e.xp6(1),e.hij(" \u041a\u0440\u0435\u0434\u0438\u0442: ",e.xi3(2,3,t.creditAmount,"RUB")," ")}}function wT(n,o){if(1&n&&(e.TgZ(0,"span",96),e._uU(1),e.ALo(2,"decline"),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.AsE(" \u041d\u0430\u0439\u0434\u0435\u043d\u043e: ",t.totalElements," ",e.gM2(2,2,t.totalElements,"\u0437\u0430\u0434\u0430\u0447\u0430","\u0437\u0430\u0434\u0430\u0447\u0438","\u0437\u0430\u0434\u0430\u0447")," ")}}function ET(n,o){if(1&n&&e._UZ(0,"app-task-list-element",100),2&n){const t=o.$implicit;e.Q6J("inlined",!0)("item",t)}}function ST(n,o){if(1&n&&(e.TgZ(0,"div",97)(1,"div",98),e.YNc(2,ET,1,2,"app-task-list-element",99),e.qZA()()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Udp("max-height","30rem"),e.xp6(1),e.Q6J("ngForOf",t.value)}}function kT(n,o){1&n&&(e.TgZ(0,"div",101),e._UZ(1,"p-progressSpinner",51),e.qZA()),2&n&&e.Udp("height","30rem")}function DT(n,o){1&n&&(e.TgZ(0,"div",102)(1,"div",103),e._UZ(2,"span",104),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043d\u043e \u0437\u0430\u0434\u0430\u0447"),e.qZA()()())}function MT(n,o){1&n&&(e.TgZ(0,"div",102)(1,"div",105),e._UZ(2,"span",53),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()()())}function r(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-paginator",106),e.NdJ("onPageChange",function(s){e.CHM(t);const d=e.oxw(3);return e.KtG(d.changeTaskHistoryPage.next(s.page))}),e.qZA()}if(2&n){const t=e.oxw().ngIf;e.Q6J("first",5*t.pageNumber)("rows",5)("totalRecords",t.totalElements)}}function c(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",55)(2,"div",89),e._UZ(3,"span",90),e.TgZ(4,"span",82),e._uU(5,"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u0434\u0430\u0447"),e.qZA(),e.YNc(6,wT,3,7,"span",91),e.qZA(),e.ynx(7,2),e.YNc(8,ST,3,3,"div",92),e.YNc(9,kT,2,2,"div",93),e.YNc(10,DT,5,0,"div",94),e.YNc(11,MT,5,0,"div",94),e.BQk(),e.YNc(12,r,1,3,"p-paginator",95),e.qZA(),e.BQk()),2&n){const t=o.ngIf;e.xp6(6),e.Q6J("ngIf",t.totalElements>0),e.xp6(1),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngIf","READY"===t.loadingState)}}const p=function(){return{"max-height":"250px"}},v=function(n,o){return{"f-color-primary":n,"f-color-danger":o}};function E(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",55)(1,"div",56)(2,"p-button",57),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.customNav.backOrDefault(["/clients","billing","search"]))}),e.qZA(),e.TgZ(3,"span",58),e._UZ(4,"span",59),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e.YNc(7,Q1,1,0,"ng-container",54),e._UZ(8,"div",60),e.TgZ(9,"span",61),e._uU(10,"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e "),e._UZ(11,"app-time-elapsed",62),e._uU(12," \u043d\u0430\u0437\u0430\u0434"),e.qZA(),e.YNc(13,R_,1,0,"p-button",63),e.qZA(),e.TgZ(14,"div",64)(15,"div",65),e.YNc(16,CT,1,0,"ng-container",54),e.YNc(17,G1,1,0,"ng-container",54),e.YNc(18,N_,1,0,"ng-container",54),e.qZA(),e.TgZ(19,"div",66),e.YNc(20,Mx,1,0,"ng-container",54),e.TgZ(21,"p-listbox",67),e.NdJ("onClick",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.copyMacAddress(s))})("onScrollDown",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.logsLoad(s.currentLogin))}),e.YNc(22,bT,3,2,"ng-template",68),e.YNc(23,yT,10,10,"ng-template",46),e.YNc(24,xT,3,0,"ng-template",69),e.qZA()()(),e.TgZ(25,"div",70)(26,"p-button",71),e.NdJ("onClick",function(s){e.CHM(t),e.oxw();const d=e.MAs(35);return e.KtG(d.toggle(s))}),e.qZA(),e.YNc(27,IT,1,0,"p-button",72),e.YNc(28,TT,1,0,"p-button",73),e.YNc(29,AT,1,0,"p-button",74),e._UZ(30,"div",60),e.YNc(31,Nx,3,6,"span",75),e.TgZ(32,"span",76),e._uU(33),e.ALo(34,"currency"),e.qZA()()(),e.YNc(35,c,13,7,"ng-container",36),e.ALo(36,"async")}if(2&n){const t=e.oxw(),i=e.MAs(9),s=e.MAs(11),d=e.MAs(13),T=e.MAs(15),W=e.MAs(33);e.xp6(6),e.hij(" ",null==t.userInfo?null:t.userInfo.uname," "),e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(4),e.Q6J("startTime",t.loadingTimestamp),e.xp6(2),e.Q6J("ngIf",t.currentLogin),e.xp6(3),e.Q6J("ngTemplateOutlet",s),e.xp6(1),e.Q6J("ngTemplateOutlet",d),e.xp6(1),e.Q6J("ngTemplateOutlet",T),e.xp6(2),e.Q6J("ngTemplateOutlet",W),e.xp6(1),e.Q6J("group",!0)("listStyle",e.DdM(25,p))("options",t.dhcpLogsGroupedList),e.xp6(6),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.MANAGE_SUBSCRIBERS)),e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.MANAGE_CASH)),e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.MANAGE_RECALCULATION)),e.xp6(2),e.Q6J("ngIf",t.creditAmount),e.xp6(1),e.Udp("letter-spacing","2px"),e.Q6J("ngClass",e.WLB(26,v,t.moneyAmount>=0,t.moneyAmount<0)),e.xp6(1),e.hij(" \u0411\u0430\u043b\u0430\u043d\u0441: ",e.xi3(34,20,t.moneyAmount,"RUB")," "),e.xp6(2),e.Q6J("ngIf",e.lcZ(36,23,t.tasks$))}}function B(n,o){1&n&&e._UZ(0,"app-colored-tag",110)}function re(n,o){if(1&n&&(e.TgZ(0,"div",107),e._UZ(1,"app-colored-tag",108),e.YNc(2,B,1,0,"app-colored-tag",109),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("caption",null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.userStatusName)("color",null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.userStatusColor),e.xp6(1),e.Q6J("ngIf",t.hasCredit)}}function Ie(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",118)(1,"div",119),e._UZ(2,"span",120),e.TgZ(3,"span",121),e._uU(4," \u041b\u043e\u0433\u0438\u043d \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d, \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u041b\u041a \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d "),e.qZA()(),e.TgZ(5,"p-button",122),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.enableLogin())}),e.qZA()()}}function Le(n,o){1&n&&e.GkF(0)}function lt(n,o){1&n&&e.GkF(0)}function Pt(n,o){1&n&&e.GkF(0)}function Kt(n,o){1&n&&e.GkF(0)}function bn(n,o){1&n&&e.GkF(0)}const Sn=function(n){return{label:"\u0410\u0434\u0440\u0435\u0441",value:n}},Jn=function(n){return{label:"\u0424\u0418\u041e",value:n}},ii=function(n){return{label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",value:n}},_i=function(n){return{label:"\u0414\u043e\u0433\u043e\u0432\u043e\u0440 \u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d",value:n}},Ei=function(n){return{label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",value:n}};function Ui(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",111)(1,"div",112)(2,"span",113),e._uU(3," \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c "),e.qZA(),e.TgZ(4,"button",114),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openEditUserDialog())}),e.qZA()(),e.TgZ(5,"div",115),e.YNc(6,Ie,6,0,"div",116),e.YNc(7,Le,1,0,"ng-container",117),e.YNc(8,lt,1,0,"ng-container",117),e.YNc(9,Pt,1,0,"ng-container",117),e.YNc(10,Kt,1,0,"ng-container",117),e.ALo(11,"titlecase"),e.ALo(12,"date"),e.YNc(13,bn,1,0,"ng-container",117),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(17);e.xp6(6),e.Q6J("ngIf",!t.isLoginEnable),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(16,Sn,null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.addr)),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(18,Jn,null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.fio)),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(20,ii,null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.phone)),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(22,_i,e.lcZ(11,11,e.xi3(12,13,null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.ddog,"EEEE dd-MM-yyyy")))),e.xp6(3),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(24,Ei,null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.coment))}}function Kn(n,o){if(1&n&&(e.TgZ(0,"span",125),e._UZ(1,"span",120),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&n){const t=o.ngIf;e.xp6(3),e.hij(" ",t," ")}}function Gi(n,o){1&n&&e.GkF(0)}function Zo(n,o){1&n&&e.GkF(0)}function Gs(n,o){1&n&&e.GkF(0)}function Du(n,o){1&n&&e.GkF(0)}const F_=function(n,o){return{label:"\u0421\u0442\u0430\u0442\u0443\u0441",value:n,valueClass:o}},B_=function(n){return{label:"\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435",value:n}},Z_=function(n){return{label:"IP",value:n}},H_=function(n){return{label:"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c",value:n,help:"\u041c\u043e\u043c\u0435\u043d\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438, \u043a\u043e\u0433\u0434\u0430 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u043e \u0437\u0430\u043f\u0440\u043e\u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0443."}};function V_(n,o){if(1&n&&(e.TgZ(0,"div",127),e.YNc(1,Gi,1,0,"ng-container",117),e.YNc(2,Zo,1,0,"ng-container",117),e.YNc(3,Gs,1,0,"ng-container",117),e.YNc(4,Du,1,0,"ng-container",117),e.ALo(5,"titlecase"),e.ALo(6,"date"),e.qZA()),2&n){const t=e.oxw().ngIf;e.oxw(2);const i=e.MAs(17);let s;e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.WLB(13,F_,"ONLINE"===t.onlineStatus?"\u041e\u043d\u043b\u0430\u0439\u043d":"\u041e\u0444\u043b\u0430\u0439\u043d","ONLINE"===t.onlineStatus?"text-green-400":"text-red-400")),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(16,B_,null!==(s=null!==(s=t.dhcpClient)&&void 0!==s?s:""+t.dhcpHostname)&&void 0!==s?s:"")),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(18,Z_,t.ipaddr)),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(20,H_,e.lcZ(5,8,e.xi3(6,10,t.leaseStart,"dd-MM-yyyy HH:mm:ss"))))}}function z_(n,o){if(1&n&&(e.ynx(0),e.YNc(1,V_,7,22,"div",126),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf",t&&t.isAuth)}}function J_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",128),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.isAuthDialogVisible=!0)}),e.qZA()}}function Q_(n,o){if(1&n&&(e.TgZ(0,"div",111)(1,"span",113),e._uU(2," \u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 "),e.qZA(),e.YNc(3,Kn,4,1,"span",123),e.ALo(4,"async"),e.YNc(5,z_,2,1,"ng-container",36),e.ALo(6,"async"),e.YNc(7,J_,1,0,"p-button",124),e.ALo(8,"async"),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",e.lcZ(4,3,t.hardwareEmptyMessage$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,5,t.activeBinding$)),e.xp6(2),e.Q6J("ngIf",!e.lcZ(8,7,t.activeBinding$))}}function ew(n,o){1&n&&e.GkF(0)}function tw(n,o){1&n&&e.GkF(0)}const nw=function(n){return{label:"\u0421\u0435\u0440\u0432\u0438\u0441\u044b",template:n}};function iw(n,o){if(1&n&&(e.ynx(0),e.YNc(1,tw,1,0,"ng-container",117),e.BQk()),2&n){e.oxw(2);const t=e.MAs(19),i=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.VKq(2,nw,i))}}function ow(n,o){1&n&&e.GkF(0)}function sw(n,o){1&n&&e.GkF(0)}function rw(n,o){1&n&&e.GkF(0)}function aw(n,o){1&n&&e.GkF(0)}function lw(n,o){1&n&&e.GkF(0)}const cw=function(n){return{label:"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439",template:n}},uw=function(n){return{label:"\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",value:n}},dw=function(n){return{label:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c",template:n}},pw=function(n){return{label:"\u041f\u0435\u0440\u0438\u043e\u0434 \u0442\u0430\u0440\u0438\u0444\u0430",value:n}},hw=function(n){return[n,"","",!1,!0]},gw=function(n){return{label:"\u0421\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0447\u0435\u0440\u0435\u0437",value:n}},fw=function(n){return{label:"\u0418\u0437\u043c. \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f",value:n,help:"\u041c\u043e\u043c\u0435\u043d\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438, \u043a\u043e\u0433\u0434\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0439\u0434\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430. (\u041f\u0440\u0438\u043c. \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u0441\u044f \u043e\u0442\u043b. \u043f\u043b\u0430\u0442\u0435\u0436)"}};function _w(n,o){if(1&n&&(e.TgZ(0,"div",111)(1,"span",113),e._uU(2," \u0422\u0430\u0440\u0438\u0444\u044b "),e.qZA(),e.TgZ(3,"div",127),e.YNc(4,ew,1,0,"ng-container",117),e.YNc(5,iw,2,4,"ng-container",129),e.YNc(6,ow,1,0,"ng-container",117),e.YNc(7,sw,1,0,"ng-container",117),e.YNc(8,rw,1,0,"ng-container",117),e.ALo(9,"titlecase"),e.ALo(10,"date"),e.ALo(11,"titlecase"),e.ALo(12,"date"),e.YNc(13,aw,1,0,"ng-container",117),e.ALo(14,"elapsedTime"),e.YNc(15,lw,1,0,"ng-container",117),e.ALo(16,"titlecase"),e.ALo(17,"date"),e.qZA()()),2&n){const t=e.oxw(),i=e.MAs(19),s=e.MAs(21),d=e.MAs(27),T=e.MAs(17),W=e.MAs(31);e.xp6(4),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(35,cw,s)),e.xp6(1),e.Q6J("ngIf",t.services.length>0)("ngIfElse",d),e.xp6(1),e.Q6J("ngTemplateOutlet",T)("ngTemplateOutletContext",e.VKq(37,uw,t.totalCost+" \u0440\u0443\u0431/\u043f\u0435\u0440\u0438\u043e\u0434")),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(39,dw,W)),e.xp6(1),e.Q6J("ngTemplateOutlet",T)("ngTemplateOutletContext",e.VKq(41,pw,e.lcZ(9,14,e.xi3(10,16,null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.hdate,"dd-MM-yyyy HH:mm"))+" \u0434\u043e "+e.lcZ(11,19,e.xi3(12,21,null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.edate,"dd-MM-yyyy HH:mm")))),e.xp6(5),e.Q6J("ngTemplateOutlet",T)("ngTemplateOutletContext",e.VKq(45,gw,e.G7q(14,24,e.VKq(43,hw,null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.edate)))),e.xp6(2),e.Q6J("ngTemplateOutlet",T)("ngTemplateOutletContext",e.VKq(47,fw,e.lcZ(16,30,e.xi3(17,32,null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.endstate,"dd-MM-yyyy HH:mm"))))}}function Cw(n,o){if(1&n&&e._UZ(0,"span",134),2&n){const t=e.oxw().help;e.Q6J("pTooltip",t)}}function vw(n,o){if(1&n&&(e.TgZ(0,"span",130)(1,"span",131),e._uU(2),e.qZA(),e.TgZ(3,"span",132),e._uU(4),e.qZA(),e.YNc(5,Cw,1,1,"span",133),e.qZA()),2&n){const t=o.help,i=o.label,s=o.value,d=o.valueClass;let T;e.xp6(2),e.hij(" ",i,": "),e.xp6(1),e.Q6J("ngClass",d),e.xp6(1),e.hij(" ",null!==(T=s)&&void 0!==T?T:"-"," "),e.xp6(1),e.Q6J("ngIf",t)}}function bw(n,o){1&n&&e.GkF(0)}function yw(n,o){if(1&n&&(e.TgZ(0,"span",135)(1,"span",131),e._uU(2),e.qZA(),e.TgZ(3,"span",136),e.YNc(4,bw,1,0,"ng-container",54),e.qZA()()),2&n){const t=o.label,i=o.template;e.xp6(2),e.hij(" ",t,": "),e.xp6(2),e.Q6J("ngTemplateOutlet",i)}}function xw(n,o){if(1&n&&(e.TgZ(0,"span",140),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.mainTariff?null:t.mainTariff.price," \u0440\u0443\u0431/\u043f\u0435\u0440\u0438\u043e\u0434 ")}}function Iw(n,o){1&n&&e.GkF(0)}const OT=function(){return["text-bluegray-400","hover:text-green-400"]},Tw=function(n){return{icon:"mdi-edit",label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",btnClass:n}};function Aw(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",141),e.NdJ("click",function(s){e.CHM(t);const d=e.oxw(2),T=e.MAs(67);return e.KtG(d.getTariffList(s,T))}),e.YNc(1,Iw,1,0,"ng-container",117),e.qZA()}if(2&n){e.oxw(2);const t=e.MAs(29);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.VKq(3,Tw,e.DdM(2,OT)))}}function ww(n,o){if(1&n&&(e.TgZ(0,"span",137)(1,"span"),e._uU(2),e.qZA(),e.YNc(3,xw,2,1,"span",138),e.YNc(4,Aw,2,5,"span",139),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",null!=t.mainTariff&&t.mainTariff.service?null==t.mainTariff?null:t.mainTariff.service:"\u041d\u0435\u0442 \u0442\u0430\u0440\u0438\u0444\u0430"," "),e.xp6(1),e.Q6J("ngIf",null==t.mainTariff?null:t.mainTariff.service),e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.MANAGE_SUBSCRIBERS))}}function Ew(n,o){1&n&&e.GkF(0)}const Sw=function(n){return{service:n}};function kw(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Ew,1,0,"ng-container",117),e.BQk()),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(25);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,Sw,t))}}function Dw(n,o){1&n&&e.GkF(0)}function Mw(n,o){if(1&n&&(e.TgZ(0,"div",142),e.YNc(1,kw,2,4,"ng-container",143),e.YNc(2,Dw,1,0,"ng-container",54),e.qZA()),2&n){const t=e.oxw(),i=e.MAs(27);e.xp6(1),e.Q6J("ngForOf",t.services),e.xp6(1),e.Q6J("ngTemplateOutlet",i)}}function Ow(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",146),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().service,d=e.oxw();return e.KtG(d.removeService(s.service))}),e.qZA()}}function Pw(n,o){if(1&n&&(e.TgZ(0,"div",144)(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",140),e._uU(4),e.qZA(),e.YNc(5,Ow,1,0,"div",145),e.qZA()),2&n){const t=o.service,i=e.oxw();e.xp6(2),e.hij(" ",t.service," "),e.xp6(2),e.hij(" ",t.price," \u0440\u0443\u0431/\u043f\u0435\u0440\u0438\u043e\u0434 "),e.xp6(1),e.Q6J("ngIf",i.personality.isHasAccess(i.AccessFlag.MANAGE_SUBSCRIBERS))}}function Lw(n,o){1&n&&e.GkF(0)}const Rw=function(n){return{icon:"mdi-add",label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441",btnClass:n}};function Nw(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Lw,1,0,"ng-container",117),e.BQk()),2&n){e.oxw(3);const t=e.MAs(29);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.VKq(3,Rw,e.DdM(2,OT)))}}function Fw(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",141),e.NdJ("click",function(s){e.CHM(t);const d=e.oxw(2),T=e.MAs(71);return e.KtG(d.getServiceList(s,T))}),e.YNc(1,Nw,2,5,"ng-container",36),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.MANAGE_SUBSCRIBERS))}}function Bw(n,o){if(1&n&&e.YNc(0,Fw,2,1,"span",139),2&n){const t=e.oxw();e.Q6J("ngIf",!(null==t.mainTariff||!t.mainTariff.service))}}function Zw(n,o){if(1&n&&(e.TgZ(0,"span",147),e._UZ(1,"span",148),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&n){const i=o.icon,s=o.label;e.Q6J("ngClass",o.btnClass),e.xp6(1),e.Q6J("ngClass",i),e.xp6(2),e.hij(" ",s," ")}}function Uw(n,o){if(1&n&&(e.TgZ(0,"div",149)(1,"span")(2,"span"),e._uU(3," \u041f\u043e \u0442\u0430\u0440\u0438\u0444\u0443 "),e.qZA(),e.TgZ(4,"span",140),e._uU(5),e.qZA()(),e.TgZ(6,"span")(7,"span"),e._uU(8," \u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f "),e.qZA(),e.TgZ(9,"span",140),e._uU(10),e.qZA()()()),2&n){const t=e.oxw();e.xp6(5),e.hij(" ",null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.tspeed," \u041c\u0431\u0438\u0442/\u0441 "),e.xp6(5),e.hij(" ",null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.speed," \u041c\u0431\u0438\u0442/\u0441 ")}}function Hw(n,o){if(1&n&&e._UZ(0,"app-bindings-table",157),2&n){const t=e.oxw(2).ngIf,i=e.oxw(2);e.Q6J("filterId",t)("inline",!0)("preparedAuthLogin",i.currentLogin)}}function Vw(n,o){1&n&&(e.TgZ(0,"p-tabPanel",156),e.YNc(1,Hw,1,3,"ng-template",21),e.qZA())}function zw(n,o){if(1&n&&e._UZ(0,"app-commutators-table",159),2&n){const t=e.oxw(2).ngIf;e.Q6J("buildId",t)("inline",!0)}}function Jw(n,o){1&n&&(e.TgZ(0,"p-tabPanel",158),e.YNc(1,zw,1,2,"ng-template",21),e.qZA())}function Qw(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Vw,2,0,"p-tabPanel",154),e.YNc(2,Jw,2,0,"p-tabPanel",155),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf",t),e.xp6(1),e.Q6J("ngIf",t)}}function Gw(n,o){if(1&n&&(e.TgZ(0,"div",150)(1,"p-tabView",151)(2,"p-tabPanel",152),e._UZ(3,"app-bindings-table",153),e.ALo(4,"async"),e.qZA(),e.YNc(5,Qw,3,2,"ng-container",36),e.ALo(6,"async"),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("filterId",e.lcZ(4,4,t.login$))("inline",!0)("preparedAuthLogin",t.currentLogin),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,6,t.activeBuildingId$))}}function Ww(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"MAC-\u0430\u0434\u0440\u0435\u0441"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u041b\u043e\u0433\u0438\u043d"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u0410\u0434\u0440\u0435\u0441"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"IP-\u0430\u0434\u0440\u0435\u0441"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"VLAN"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"\u0421\u043c\u0435\u043d\u0430 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f"),e.qZA()(),e.TgZ(17,"tr",168)(18,"th"),e._UZ(19,"input",169),e.qZA(),e.TgZ(20,"th"),e._UZ(21,"input",170),e.qZA(),e._UZ(22,"th")(23,"th"),e.TgZ(24,"th"),e._UZ(25,"app-acp-house-input",171),e.qZA(),e.TgZ(26,"th"),e._UZ(27,"app-ip-input",172),e.qZA(),e.TgZ(28,"th"),e._UZ(29,"p-inputNumber",173),e.qZA(),e._UZ(30,"th"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(17),e.Q6J("formGroup",t.lastBindingsFilterForm),e.xp6(2),e.Q6J("size",14),e.xp6(2),e.Q6J("size",8),e.xp6(8),e.Q6J("max",4096)("size",4)}}function Yw(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.dhcpClient," ")}}function jw(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.dhcpHostname," ")}}function Kw(n,o){1&n&&(e.TgZ(0,"span",179),e._uU(1,"\u041d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),e.qZA())}function qw(n,o){1&n&&(e.TgZ(0,"span",180),e._uU(1,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),e.qZA())}function $w(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",174),e.NdJ("click",function(){const d=e.CHM(t).$implicit,T=e.oxw(3);return e.KtG(T.authConfirm(d))}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"div",175),e.YNc(7,Yw,2,1,"ng-container",36),e.YNc(8,jw,2,1,"ng-container",36),e.qZA()(),e.TgZ(9,"td"),e.ynx(10,2),e.YNc(11,Kw,2,0,"span",176),e.YNc(12,qw,2,0,"span",177),e.BQk(),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._UZ(20,"app-time-elapsed",178),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.macaddr),e.xp6(2),e.Oqu(t.authName),e.xp6(2),e.Udp("max-width","7rem"),e.xp6(1),e.Q6J("ngIf",t.dhcpClient),e.xp6(1),e.Q6J("ngIf",t.dhcpHostname),e.xp6(2),e.Q6J("ngSwitch",t.isAuth),e.xp6(1),e.Q6J("ngSwitchCase",!1),e.xp6(1),e.Q6J("ngSwitchCase",!0),e.xp6(2),e.AsE("",t.streetName," ",t.houseNum,""),e.xp6(2),e.Oqu(t.ipaddr),e.xp6(2),e.Oqu(t.vlanid),e.xp6(2),e.Q6J("startTime",t.leaseStart)}}function Xw(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",160)(2,"div",161),e._uU(3),e.ALo(4,"decline"),e.qZA(),e._UZ(5,"p-toggleButton",162),e.TgZ(6,"p-button",163),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.lastBindingsFilterForm.reset({state:!0}))}),e.qZA()(),e.TgZ(7,"p-table",164),e.YNc(8,Ww,31,5,"ng-template",165),e.YNc(9,$w,21,14,"ng-template",166),e.qZA(),e.TgZ(10,"p-paginator",167),e.NdJ("onPageChange",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.changeLastBindingsPage.next(s.page))}),e.qZA(),e.BQk()}if(2&n){const t=o.ngIf,i=e.oxw(2);e.xp6(1),e.Q6J("formGroup",i.lastBindingsFilterForm),e.xp6(2),e.AsE(" \u041d\u0430\u0439\u0434\u0435\u043d\u043e: ",t.totalElements," ",e.gM2(4,10,t.totalElements,"\u0441\u0435\u0441\u0441\u0438\u044f","\u0441\u0435\u0441\u0441\u0438\u0438","\u0441\u0435\u0441\u0441\u0438\u0439")," "),e.xp6(2),e.Q6J("disabled",i.isLoadingLastBindings),e.xp6(2),e.Q6J("loading",i.isLoadingLastBindings)("scrollable",!0)("value",t.content),e.xp6(3),e.Q6J("first",15*t.number)("rows",15)("totalRecords",t.totalElements)}}function e3(n,o){if(1&n&&(e.YNc(0,Xw,11,15,"ng-container",129),e.ALo(1,"async")),2&n){const t=e.oxw(),i=e.MAs(65);e.Q6J("ngIf",e.lcZ(1,2,t.lastBindingsPage$))("ngIfElse",i)}}const t3=function(){return{width:"20rem",height:"20rem"}};function n3(n,o){1&n&&(e.TgZ(0,"div",182),e._UZ(1,"p-progressSpinner",183),e.qZA()),2&n&&e.Akn(e.DdM(2,t3))}function o3(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0422\u0438\u043f \u043f\u043b\u0430\u0442\u0435\u0436\u0430"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438\u0306"),e.qZA()())}function s3(n,o){1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2," \u041f\u043b\u0430\u0442\u0435\u0436\u0435\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e "),e.qZA()()),2&n&&(e.xp6(1),e.uIk("colspan",5))}function r3(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"currency"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"titlecase"),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA()()),2&n){const t=o.$implicit;e.xp6(1),e.Udp("color",t.ptypeColor),e.xp6(1),e.Oqu(t.ptypeName),e.xp6(2),e.Oqu(e.xi3(5,7,t.bmoney,"RUB")),e.xp6(3),e.Oqu(e.lcZ(8,10,e.xi3(9,12,t.pdate,"EEEE, dd MMMM yyyy HH:mm"))),e.xp6(4),e.Oqu(t.who),e.xp6(2),e.Oqu(t.cmt)}}function a3(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0421\u043e\u0431\u044b\u0442\u0438\u0435"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0421\u0440\u0435\u0434\u0441\u0442\u0432\u0430"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),e.qZA()())}function l3(n,o){1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2," \u0421\u043e\u0431\u044b\u0442\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e "),e.qZA()()),2&n&&(e.xp6(1),e.uIk("colspan",5))}const c3=function(n,o){return{"text-green-400":n,"text-red-400":o}};function u3(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"titlecase"),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"td",189),e._uU(8),e.ALo(9,"currency"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA()()),2&n){const t=o.$implicit;e.xp6(1),e.Udp("color",t.eventColor),e.xp6(1),e.Oqu(t.eventName),e.xp6(2),e.Oqu(e.lcZ(5,8,e.xi3(6,10,t.evTimeStamp,"EEEE, dd MMMM yyyy HH:mm"))),e.xp6(3),e.Q6J("ngClass",e.WLB(16,c3,t.moneyDirection>0,t.moneyDirection<0)),e.xp6(1),e.Oqu(e.xi3(9,13,t.money,"RUB")),e.xp6(3),e.Oqu(t.info),e.xp6(2),e.Oqu(t.coment)}}function d3(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0422\u0430\u0440\u0438\u0444"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u041d\u0430\u0447\u0430\u043b\u043e"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u041e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0435"),e.qZA()())}function p3(n,o){1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2," \u0422\u0430\u0440\u0438\u0444\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e "),e.qZA()()),2&n&&(e.xp6(1),e.uIk("colspan",4))}function h3(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"currency"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"titlecase"),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"titlecase"),e.ALo(13,"date"),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.service),e.xp6(2),e.Oqu(e.xi3(5,4,t.price,"RUB")),e.xp6(3),e.Oqu(e.lcZ(8,7,e.xi3(9,9,t.hdate,"dd MMMM yyyy HH:mm"))),e.xp6(4),e.Oqu(e.lcZ(12,12,e.xi3(13,14,t.edate,"dd MMMM yyyy HH:mm")))}}const W1=function(){return[]};function g3(n,o){if(1&n&&(e.TgZ(0,"p-tabView")(1,"p-tabPanel",184)(2,"p-table",185),e.YNc(3,o3,11,0,"ng-template",165),e.YNc(4,s3,3,1,"ng-template",186),e.YNc(5,r3,14,15,"ng-template",166),e.qZA()(),e.TgZ(6,"p-tabPanel",187)(7,"p-table",185),e.YNc(8,a3,11,0,"ng-template",165),e.YNc(9,l3,3,1,"ng-template",186),e.YNc(10,u3,14,19,"ng-template",166),e.qZA()(),e.TgZ(11,"p-tabPanel",188)(12,"p-table",185),e.YNc(13,d3,9,0,"ng-template",165),e.YNc(14,p3,3,1,"ng-template",186),e.YNc(15,h3,14,17,"ng-template",166),e.qZA()()()),2&n){const t=e.oxw(2);let i,s,d;e.xp6(2),e.Q6J("scrollable",!0)("value",null!==(i=null==t.userEvents?null:t.userEvents.pays)&&void 0!==i?i:e.DdM(6,W1)),e.xp6(5),e.Q6J("scrollable",!0)("value",null!==(s=null==t.userEvents?null:t.userEvents.events)&&void 0!==s?s:e.DdM(7,W1)),e.xp6(5),e.Q6J("scrollable",!0)("value",null!==(d=null==t.userEvents?null:t.userEvents.tarifs)&&void 0!==d?d:e.DdM(8,W1))}}function m3(n,o){if(1&n&&(e.YNc(0,n3,2,3,"div",181),e.YNc(1,g3,16,9,"p-tabView",36)),2&n){const t=e.oxw();e.Q6J("ngIf","LOADING"===t.userEventsLoadingState),e.xp6(1),e.Q6J("ngIf","READY"===t.userEventsLoadingState)}}const f3=function(n,o,t){return{gridArea:n,backgroundColor:o,border:t}};function _3(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"div",192),e.ALo(2,"titlecase"),e.ALo(3,"date"),e.ALo(4,"titlecase"),e.ALo(5,"date"),e.BQk()),2&n){const t=o.$implicit,i=e.oxw().index;e.xp6(1),e.Akn(e.kEZ(13,f3,i+1+"/"+(t.percentStart+2)+"/"+(i+2)+"/"+(t.percentEnd+2),t.color,"1px solid "+t.borderColor)),e.Q6J("pTooltip","\u041d\u0430\u0447\u0430\u043b\u043e: "+e.lcZ(2,3,e.xi3(3,5,t.timeStart,"EEEE dd MMMM yyyy HH:mm"))+" \u041a\u043e\u043d\u0435\u0446: "+e.lcZ(4,8,e.xi3(5,10,t.timeEnd,"EEEE dd MMMM yyyy HH:mm")))}}const C3=function(n){return{gridArea:n}};function v3(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",191),e._uU(2),e.qZA(),e.YNc(3,_3,6,17,"ng-container",143),e.BQk()),2&n){const t=o.$implicit,i=o.index,s=e.oxw(2).ngIf;e.xp6(1),e.Akn(e.VKq(4,C3,i+1+"/1/"+(i+2)+"/2")),e.xp6(1),e.Oqu(t.key),e.xp6(1),e.Q6J("ngForOf",s.nclItems[t.key])}}const b3=function(){return{gridArea:"-1/2/-1/-1"}};function y3(n,o){if(1&n&&(e.ynx(0),e.YNc(1,v3,4,6,"ng-container",143),e.ALo(2,"keyvalue"),e.TgZ(3,"div",190)(4,"span"),e._uU(5),e.ALo(6,"titlecase"),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.ALo(10,"titlecase"),e.ALo(11,"date"),e.qZA()(),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,5,t.nclItems)),e.xp6(2),e.Akn(e.DdM(17,b3)),e.xp6(2),e.Oqu(e.lcZ(6,7,e.xi3(7,9,t.from,"EEEE dd MMMM yyyy HH:mm"))),e.xp6(4),e.Oqu(e.lcZ(10,12,e.xi3(11,14,t.to,"EEEE dd MMMM yyyy HH:mm")))}}const Fx=function(){return{gridAreaColumn:"1/-1"}};function x3(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",193),e._UZ(2,"p-progressSpinner",183),e.TgZ(3,"span",194),e._uU(4,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"),e.qZA()(),e.BQk()),2&n&&(e.xp6(1),e.Akn(e.DdM(2,Fx)))}function I3(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",195),e._UZ(2,"span",53),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"),e.qZA()(),e.BQk()),2&n&&(e.xp6(1),e.Akn(e.DdM(2,Fx)))}function T3(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",196),e._UZ(2,"span",197),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),e.qZA()(),e.BQk()),2&n&&(e.xp6(1),e.Akn(e.DdM(2,Fx)))}function A3(n,o){if(1&n&&(e.ynx(0)(1,2),e.YNc(2,y3,12,18,"ng-container",3),e.YNc(3,x3,5,3,"ng-container",3),e.YNc(4,I3,5,3,"ng-container",3),e.YNc(5,T3,5,3,"ng-container",3),e.BQk()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngSwitch",t.nclHistoryLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function w3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",198)(1,"form",23),e._UZ(2,"p-dropdown",199),e.ALo(3,"async"),e._UZ(4,"p-inputNumber",200)(5,"textarea",201),e.qZA(),e.TgZ(6,"p-button",202),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.sendBalance())}),e.qZA()()}if(2&n){const t=e.oxw();let i;e.xp6(1),e.Q6J("formGroup",t.balanceForm),e.xp6(1),e.Q6J("options",null!==(i=e.lcZ(3,6,t.billingPaymentTypes$))&&void 0!==i?i:e.DdM(8,W1)),e.xp6(3),e.Q6J("autoResize",!0)("cols",40)("rows",3),e.xp6(1),e.Q6J("disabled",!t.balanceForm.valid)}}function E3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",198),e._UZ(1,"textarea",203),e.TgZ(2,"p-button",204),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.sendBalanceReset())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("autoResize",!0)("cols",40)("formControl",t.balanceResetCommentControl)("rows",3),e.xp6(1),e.Q6J("disabled",!t.balanceResetCommentControl.valid)}}function S3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",205),e._UZ(1,"p-selectButton",206)(2,"input",207),e.qZA(),e._UZ(3,"textarea",201),e.TgZ(4,"p-button",208),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.sendPayment())}),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("options",t.paymentModeOptions),e.xp6(1),e.Q6J("size",10),e.xp6(1),e.Q6J("autoResize",!0)("cols",30)("rows",3),e.xp6(1),e.Q6J("disabled",!t.paymentForm.valid)}}function k3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",205),e._UZ(1,"p-selectButton",209)(2,"input",210),e.qZA(),e._UZ(3,"textarea",201),e.TgZ(4,"p-button",211),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.sendRecalculation())}),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("options",t.recalculationModeOptions),e.xp6(1),e.Q6J("placeholder","DAYS"===t.recalculationForm.value.mode?"\u041a\u043e\u043b-\u0432\u043e \u0434\u043d\u0435\u0439":"\u041a\u043e\u043b-\u0432\u043e \u0440\u0443\u0431\u043b\u0435\u0439")("size",12),e.xp6(1),e.Q6J("autoResize",!0)("cols",30)("rows",3),e.xp6(1),e.Q6J("disabled",!t.recalculationForm.valid)}}function D3(n,o){1&n&&(e.TgZ(0,"div",102),e._UZ(1,"p-progressSpinner",212),e.qZA())}function M3(n,o){if(1&n&&(e.TgZ(0,"div",213)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"currency"),e.qZA()()),2&n){const t=o.$implicit;e.Q6J("pTooltip",t.description)("showDelay",500),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",e.xi3(5,4,t.cost,"RUB")," ")}}function O3(n,o){if(1&n&&(e.TgZ(0,"div",213)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"currency"),e.qZA()()),2&n){const t=o.$implicit;e.Q6J("pTooltip",t.description)("showDelay",500),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",e.xi3(5,4,t.cost,"RUB")," ")}}const P3=function(){return{width:"90rem"}},L3=function(){return{display:"grid",alignItems:"center"}};let Vd=class{constructor(o,t,i,s,d,T,W,Ce,qe){this.api=o,this.rt=t,this.route=i,this.customNav=s,this.taskCreation=d,this.toast=T,this.confirm=W,this.blockUiService=Ce,this.personality=qe,this.AccessFlag=Ii.j,this.loadingState=me.Gu.LOADING,this.loadingTimestamp=new Date,this.update$=new wr.x,this.subscriptions=new _.xf,this.userInfoHandler={next:Xe=>{this.userInfo=void 0,setTimeout(()=>{this.userInfo=Xe,this.initControlMenuItems(),this.loadingTimestamp=new Date}),this.loadingState=me.Gu.READY},error:()=>{this.userInfo=void 0,this.loadingState=me.Gu.ERROR}},this.wireframes=[],this.houseBindingsPage=new Wa.X(0),this.houseBindingsPage$=this.houseBindingsPage.pipe((0,rs.O)(0),(0,un.d)(1)),this.houseBindingsLoadingState=me.Gu.LOADING,this.changeTaskHistoryPage=new Wa.X(0),this.bindingContextMenuItems=[],this.isLoadingLastBindings=!0,this.isAuthDialogVisible=!1,this.openAuthDialog=new wr.x,this.changeLastBindingsPage=new Wa.X(0),this.changeLastBindingsPage$=this.changeLastBindingsPage.pipe((0,hi.b)(()=>this.isLoadingLastBindings=!0),(0,un.d)(1)),this.openAuthDialog$=this.openAuthDialog.pipe((0,hi.b)(()=>{this.isAuthDialogVisible=!0,this.isLoadingLastBindings=!0})),this.lastBindingsFilterForm=new g.cw({state:new g.NI(!0),macaddr:new g.NI(null),login:new g.NI(null),ip:new g.NI(null),vlan:new g.NI(null),buildingId:new g.NI(null)}),this.lastBindingsFilter$=this.lastBindingsFilterForm.valueChanges.pipe((0,rs.O)(this.lastBindingsFilterForm.value),(0,bs.b)(1e3),(0,hi.b)(()=>this.isLoadingLastBindings=!0),(0,gt.U)(Xe=>({state:Xe.state?1:0,macaddr:Xe.macaddr,login:Xe.login,ip:Xe.ip,vlan:Xe.vlan,buildingId:Xe.buildingId&&Xe.buildingId.buildingId})),(0,un.d)(1)),this.lastBindingsPage$=(0,Wo.a)([this.openAuthDialog$,this.changeLastBindingsPage$,this.lastBindingsFilter$]).pipe((0,R.w)(([Xe,$t,{state:jt,macaddr:Wt,vlan:_n,login:Pn,ip:Rn,buildingId:jn}])=>this.api.getLastBindings($t,jt,Wt,Pn,Rn,_n,jn)),(0,hi.b)(()=>this.isLoadingLastBindings=!1),(0,un.d)(1)),this.isHistoryDialogVisible=!1,this.isNCLHistoryDialogVisible=!1,this.userEventsLoadingState=me.Gu.LOADING,this.billingPaymentTypes$=this.api.getBillingPaymentTypesList(),this.isBalanceDialogVisible=!1,this.isBalanceResetDialogVisible=!1,this.isPaymentDialogVisible=!1,this.balanceResetCommentControl=new g.NI("",[g.kI.required]),this.paymentModeOptions=[{label:"\u041d\u0430\u043b\u0438\u0447\u043d\u044b\u0435",value:1,icon:"mdi-money"},{label:"\u041a\u0430\u0440\u0442\u0430",value:25,icon:"mdi-credit_card"}],this.isRecalculationDialogVisible=!1,this.recalculationModeOptions=[{label:"\u0412 \u0434\u043d\u044f\u0445",value:"DAYS",icon:"mdi-today"},{label:"\u0412 \u0440\u0443\u0431\u043b\u044f\u0445",value:"MONEY",icon:"mdi-money"}],this.recalculationForm=new g.cw({mode:new g.NI("DAYS",[g.kI.required]),count:new g.NI(null,[g.kI.required]),comment:new g.NI(null,[g.kI.required])}),this.balanceForm=new g.cw({payType:new g.NI(null,[g.kI.required]),sum:new g.NI(null,[g.kI.required]),comment:new g.NI(null,[g.kI.required])}),this.paymentForm=new g.cw({paymentType:new g.NI(1,[g.kI.required]),sum:new g.NI(null,[g.kI.required]),comment:new g.NI(null,[g.kI.required])}),this.controlMenuItems=[],this.pathChange$=this.route.params.pipe((0,hi.b)(Xe=>{this.currentLogin=Xe.login}),(0,gt.U)(Xe=>Xe.login)),this.tasks$=_.aN.ofPage((0,Wo.a)([this.pathChange$,this.changeTaskHistoryPage]),this.api.getTasksByLogin.bind(this.api),"taskId",this.rt.taskCreated().pipe((0,l.h)(Xe=>{var $t,jt;return null!==(jt=null===($t=null==Xe?void 0:Xe.fields)||void 0===$t?void 0:$t.some(Wt=>Wt.stringData===this.currentLogin))&&void 0!==jt&&jt})),this.rt.taskUpdated(),this.rt.taskDeleted()),this.login$=(0,qi.T)(this.pathChange$,this.update$),this.activeBinding$=this.login$.pipe((0,R.w)(Xe=>this.api.getActiveBindingByLogin(Xe))),this.activeBuildingId$=this.activeBinding$.pipe((0,R.w)(Xe=>null!=Xe&&Xe.vlanid?this.api.getBuildingIdByVlan(null==Xe?void 0:Xe.vlanid):(0,In.of)(null))),this.loadUser$=this.login$.pipe((0,R.w)(Xe=>this.api.getBillingUserInfo(Xe))),this.updateUser$=this.login$.pipe((0,R.w)(Xe=>this.rt.billingUserUpdated(Xe))),this.isLoginEnable=!0,this.isLoginEnableSub=(0,qi.T)(this.loadUser$,this.updateUser$).pipe((0,R.w)(Xe=>this.api.isLoginEnable(Xe.uname))).subscribe(Xe=>this.isLoginEnable=Xe),this.loadUserSub=this.loadUser$.subscribe(this.userInfoHandler),this.updateUserSub=this.updateUser$.subscribe(this.userInfoHandler),this.dhcpLogsUpdateSub=this.login$.subscribe(Xe=>{this.dhcpLogsPageNum=0,this.dhcpLogsIsLastPage=!1,this.logsLoad(Xe)}),this.hardwareEmptyMessage$=this.activeBinding$.pipe((0,gt.U)(Xe=>Xe?Xe.isAuth?null:"\u041d\u0435\u0442 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f":"\u041d\u0435\u0442 \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0441\u043a\u043e\u0433\u043e \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f")),this.nclHistory$=new Wa.X(null),this.nclHistoryLoadingState=me.Gu.LOADING,this.nclHistoryViewStyle$=this.nclHistory$.pipe((0,gt.U)(Xe=>{if(Xe)try{const $t=Object.entries(Xe.nclItems).length;return 0===$t?{display:"grid",alignItems:"center"}:{display:"grid",grid:`repeat(${$t}, 1.5rem)/max-content repeat(100,1fr)`,alignItems:"center"}}catch($t){return{display:"grid",alignItems:"center"}}return{display:"grid",alignItems:"center"}})),this.dhcpLogs=[],this.dhcpLogsGroupedList=[],this.dhcpLogsPageNum=0,this.dhcpLogsLoadingState=me.Gu.READY,this.dhcpLogsIsLastPage=!1,this.tariffList=[],this.serviceList=[],this.selectedServices=[],this.isUserEditDialogVisible=!1,this.userEditForm=new g.cw({address:new g.NI("",[g.kI.required]),fullName:new g.NI("",[g.kI.required]),phone:new g.NI("",[g.kI.required]),comment:new g.NI("")}),this.logsLoadHandler={next:Xe=>{this.dhcpLogsLoadingState=me.Gu.READY,this.dhcpLogs=0===this.dhcpLogsPageNum?[...Xe.logs]:[...this.dhcpLogs,...Xe.logs],this.dhcpLogsIsLastPage=Xe.isLast,this.dhcpLogsGroupedList=this.dhcpLogs.reduce(($t,jt)=>{var Wt;const _n=new Date(jt.startDatetime).toLocaleDateString(),Pn=$t.find(Rn=>Rn.label===_n);return Pn?null===(Wt=Pn.items)||void 0===Wt||Wt.push({state:{startTime:jt.startDatetime,endTime:jt.endDatetime,color:this.logColor(jt.type),description:jt.description,numbers:jt.numberRepetitions,macAddresses:jt.macAddresses}}):$t.push({label:_n,state:{date:jt.startDatetime},items:[{state:{startTime:jt.startDatetime,endTime:jt.endDatetime,color:this.logColor(jt.type),description:jt.description,numbers:jt.numberRepetitions,macAddresses:jt.macAddresses}}]}),$t},[]),this.dhcpLogsPageNum++},error:()=>{this.dhcpLogsLoadingState=me.Gu.ERROR,this.dhcpLogs=[],this.dhcpLogsGroupedList=[],this.dhcpLogsIsLastPage=!1}}}get isEndTariffDateAfter(){var o,t,i,s;return(null===(t=null===(o=this.userInfo)||void 0===o?void 0:o.newTarif)||void 0===t?void 0:t.edate)&&new Date(null===(s=null===(i=this.userInfo)||void 0===i?void 0:i.newTarif)||void 0===s?void 0:s.edate).getTime()>(new Date).getTime()}get isOnline(){var o,t;return 1===(null===(t=null===(o=this.userInfo)||void 0===o?void 0:o.newTarif)||void 0===t?void 0:t.online)}get hasCredit(){var o,t;return(null===(t=null===(o=this.userInfo)||void 0===o?void 0:o.ibase)||void 0===t?void 0:t.credit)&&this.userInfo.ibase.credit>0}get mainTariff(){var o,t;return null!==(o=this.userInfo)&&void 0!==o&&o.oldTarif[0]?null===(t=this.userInfo)||void 0===t?void 0:t.oldTarif[0]:null}get services(){var o,t,i;return(null===(o=this.userInfo)||void 0===o?void 0:o.oldTarif)&&(null===(t=this.userInfo)||void 0===t?void 0:t.oldTarif.length)>0?null===(i=this.userInfo)||void 0===i?void 0:i.oldTarif.slice(1):[]}get totalCost(){var o,t;return(null===(o=this.userInfo)||void 0===o?void 0:o.oldTarif)&&(null===(t=this.userInfo)||void 0===t?void 0:t.oldTarif.length)>0?this.userInfo.oldTarif.reduce((i,s)=>i+s.price,0):0}get creditAmount(){var o,t,i;return null!==(i=null===(t=null===(o=this.userInfo)||void 0===o?void 0:o.ibase)||void 0===t?void 0:t.credit)&&void 0!==i?i:0}get moneyAmount(){var o,t,i;return null!==(i=null===(t=null===(o=this.userInfo)||void 0===o?void 0:o.ibase)||void 0===t?void 0:t.money)&&void 0!==i?i:0}get paymentTypeName(){switch(this.paymentForm.value.paymentType){case 1:return"\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0445";case 25:return"\u043a\u0430\u0440\u0442\u044b"}return null}get recalculationModeName(){switch(this.recalculationForm.value.mode){case"DAYS":return"\u0432 \u0434\u043d\u044f\u0445";case"MONEY":return"\u0432 \u0440\u0443\u0431\u043b\u044f\u0445"}return null}initControlMenuItems(){var o,t,i,s,d,T,W,Ce;this.controlMenuItems=[{label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439",icon:"mdi-event_note",command:()=>this.openHistoryDialog()},{label:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0439",icon:"mdi-more_time",disabled:!(null!==(t=null===(o=this.userInfo)||void 0===o?void 0:o.newTarif)&&void 0!==t&&t.isPossibleEnableDeferredPayment),styleClass:"warning-menu-button",command:()=>this.confirmEnableDeferredPayment()},{label:"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0431\u0430\u043b\u0430\u043d\u0441\u0430",icon:"mdi-account_balance",command:()=>this.openBalanceDialog()},{label:"\u041e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441",icon:"mdi-exposure_zero",command:()=>this.openBalanceResetDialog()},{label:null!==(s=null===(i=this.userInfo)||void 0===i?void 0:i.newTarif)&&void 0!==s&&s.isServiceSuspended?"\u0412\u043e\u0437\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435":"\u041f\u0440\u0438\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435",icon:null!==(T=null===(d=this.userInfo)||void 0===d?void 0:d.newTarif)&&void 0!==T&&T.isServiceSuspended?"mdi-play_arrow":"mdi-pause",styleClass:null!==(Ce=null===(W=this.userInfo)||void 0===W?void 0:W.newTarif)&&void 0!==Ce&&Ce.isServiceSuspended?"success-menu-button":"danger-menu-button",command:()=>this.confirmSuspendService()}]}confirmSuspendService(){var o,t,i;null===(o=this.userInfo)||void 0===o||!o.newTarif||(null!==(i=null===(t=this.userInfo)||void 0===t?void 0:t.newTarif)&&void 0!==i&&i.isServiceSuspended?this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u043e\u0437\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?",accept:()=>this.currentLogin&&this.api.startUserService(this.currentLogin).subscribe()}):this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u041f\u0440\u0438\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?",accept:()=>this.currentLogin&&this.api.stopUserService(this.currentLogin).subscribe()}))}confirmEnableDeferredPayment(){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436?",accept:()=>{!this.currentLogin||(this.block("\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u043b\u0430\u0442\u0435\u0436\u0430"),this.api.setDeferredPayment(this.currentLogin).subscribe({next:()=>this.unblock(),error:()=>this.unblock()}))}})}trackByDhcpBinding(o,t){var i;return t.vlanid+t.ipaddr+t.state+t.id+t.isAuth+t.authName+t.authExpire+(null===(i=t.lastConnectionLocation)||void 0===i?void 0:i.checkedAt)}ngOnInit(){this.api.getWireframesNames().subscribe(o=>{this.wireframes=o.map(t=>({label:t.name,command:()=>{var i,s;this.api.convertBillingAddress(null===(s=null===(i=this.userInfo)||void 0===i?void 0:i.ibase)||void 0===s?void 0:s.addr).subscribe(d=>{this.currentLogin?this.taskCreation.wireframe(t.wireframeId,{login:this.currentLogin,address:d}):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u043b\u043e\u0433\u0438\u043d \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438"})})}}))})}logsLoad(o){!this.dhcpLogsIsLastPage&&o&&this.dhcpLogsLoadingState===me.Gu.READY&&(this.dhcpLogsLoadingState=me.Gu.LOADING,this.api.getDhcpLogsByLogin(o,this.dhcpLogsPageNum).subscribe(this.logsLoadHandler))}copyMacAddress(o){o.value&&_.cQ.copyToClipboard(o.value.state.macAddresses,this.toast,"MAC \u0430\u0434\u0440\u0435\u0441\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u044b","\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c MAC \u0430\u0434\u0440\u0435\u0441\u0430")}isToday(o){return new Date(o).toDateString()===(new Date).toDateString()}logColor(o){switch(o){case"SIMPLE_ONLINE":return"#16e116";case"SIMPLE_OFFLINE":return"#db21ec";case"REPEATED":return"#e81f1f";case"EMPTY":return"#838383";case"USER_AUTH":return"#16d0e1";case"USER_AUTH_FAIL":return"#2132ec"}}ngOnDestroy(){this.subscriptions.unsubscribeAll()}checkRemoteControl(o){this.api.checkRemoteControl(o).subscribe({next:t=>{},error:t=>{console.log("Error ",t)}})}openBindingContextMenu(o,t,i){this.bindingContextMenuItems=[{label:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c (\u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043b\u043e\u0433\u0438\u043d)",command:()=>this.authCurrentLogin(t.macaddr),disabled:t.isAuth&&t.authName===this.currentLogin},{label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439",command:()=>this.openNCLHistoryDialog(t)}],i.toggle(o)}authCurrentLogin(o){this.currentLogin?this.api.authDhcpBinding(this.currentLogin,o).subscribe(()=>{this.toast.add({detail:"\u041b\u043e\u0433\u0438\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d",severity:"dark",key:"darktoast",icon:"mdi-verified",closable:!1}),this.currentLogin&&this.update$.next(this.currentLogin)}):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u043b\u043e\u0433\u0438\u043d \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"})}authConfirm(o){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c "+o.macaddr+" \u043f\u043e\u0434 \u043b\u043e\u0433\u0438\u043d\u043e\u043c "+this.currentLogin+"?",accept:()=>{this.authCurrentLogin(o.macaddr)}})}getHistory(){!this.currentLogin||(this.userEvents=void 0,this.userEventsLoadingState=me.Gu.LOADING,this.api.getBillingUserEvents(this.currentLogin).subscribe({next:o=>{this.userEvents=o,this.userEventsLoadingState=me.Gu.READY},error:o=>{this.userEventsLoadingState=me.Gu.ERROR}}))}closeHistoryDialog(){this.userEvents=void 0,this.userEventsLoadingState=me.Gu.LOADING}openHistoryDialog(){this.isHistoryDialogVisible=!0}openBalanceDialog(){this.isBalanceDialogVisible=!0}openBalanceResetDialog(){this.isBalanceResetDialogVisible=!0}openPaymentDialog(){this.paymentForm.reset({paymentType:1}),this.isPaymentDialogVisible=!0}openRecalculationDialog(){this.recalculationForm.reset({mode:"DAYS"}),this.isRecalculationDialogVisible=!0}openEditUserDialog(){!this.userInfo||(this.userEditForm.reset({address:this.userInfo.ibase.addr,fullName:this.userInfo.ibase.fio,phone:this.userInfo.ibase.phone,comment:this.userInfo.ibase.coment}),this.isUserEditDialogVisible=!0)}sendBalance(){!this.currentLogin||this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0431\u0430\u043b\u0430\u043d\u0441\u0430 \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin,message:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441 \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin+" \u043d\u0430 "+this.balanceForm.value.sum+" \u0440\u0443\u0431\u043b\u0435\u0439?",accept:()=>{!this.currentLogin||(this.block("\u0418\u0437\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u0431\u0430\u043b\u0430\u043d\u0441"),this.api.updateBalance(this.currentLogin,this.balanceForm.value).subscribe({next:()=>{this.unblock(),this.isBalanceDialogVisible=!1,this.balanceForm.reset()},error:()=>{this.unblock()}}))}})}sendBalanceReset(){!this.currentLogin||this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043e\u0431\u043d\u0443\u043b\u0435\u043d\u0438\u044f \u0431\u0430\u043b\u0430\u043d\u0441\u0430 \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin,message:"\u041e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441 \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin+"?",accept:()=>{!this.currentLogin||!this.balanceResetCommentControl.value||(this.block("\u041e\u0431\u043d\u0443\u043b\u0435\u043d\u0438\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u0430"),this.api.balanceReset(this.currentLogin,this.balanceResetCommentControl.value).subscribe({next:()=>{this.unblock(),this.isBalanceResetDialogVisible=!1,this.balanceResetCommentControl.reset("")},error:()=>{this.unblock()}}))}})}enableLogin(){!this.currentLogin||this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin,message:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043b\u043e\u0433\u0438\u043d "+this.currentLogin+"?",accept:()=>{!this.currentLogin||(this.block("\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043b\u043e\u0433\u0438\u043d\u0430"),this.api.enableLogin(this.currentLogin).subscribe({next:()=>{this.unblock()},error:()=>{this.unblock()}}))}})}sendPayment(){!this.currentLogin||this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u043d\u0430 \u043b\u043e\u0433\u0438\u043d "+this.currentLogin,message:"\u041f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u043e\u043f\u043b\u0430\u0442\u0443 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e "+this.paymentTypeName+" \u043d\u0430 "+this.paymentForm.value.sum+" \u0440\u0443\u0431\u043b\u0435\u0439, \u043d\u0430 \u043b\u043e\u0433\u0438\u043d "+this.currentLogin+"?",accept:()=>{!this.currentLogin||(this.block("\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u043e\u043f\u043b\u0430\u0442\u0430"),this.api.makePayment(this.currentLogin,this.paymentForm.value).subscribe({next:()=>{this.unblock(),this.isPaymentDialogVisible=!1,this.paymentForm.reset({paymentType:1})},error:()=>{this.unblock()}}))}})}sendRecalculation(){!this.currentLogin||this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442\u0430 "+this.currentLogin,message:"\u041f\u0440\u043e\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u043f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442 "+this.recalculationModeName+". \u041a\u043e\u043b-\u0432\u043e: "+this.recalculationForm.value.count+", \u043d\u0430 \u043b\u043e\u0433\u0438\u043d "+this.currentLogin+"?",accept:()=>{!this.currentLogin||(this.block("\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u043f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442"),this.api.makeRecalculation(this.currentLogin,this.recalculationForm.value).subscribe({next:()=>{this.unblock(),this.isRecalculationDialogVisible=!1,this.recalculationForm.reset({mode:"DAYS"})},error:()=>{this.unblock()}}))}})}confirmUserEdit(){!this.currentLogin||this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin,message:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin+"?",accept:()=>{!this.currentLogin||(this.block("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043b\u043e\u0433\u0438\u043d\u0430"),this.api.editUser(this.currentLogin,this.userEditForm.value).subscribe({next:()=>{this.unblock(),this.isUserEditDialogVisible=!1},error:()=>{this.unblock()}}))}})}openNCLHistoryDialog(o){this.isNCLHistoryDialogVisible=!0,this.nclHistoryLoadingState=me.Gu.LOADING,this.api.getNetworkConnectionLocationHistory(o.id).subscribe({next:t=>{this.nclHistory$.next(t),this.nclHistoryLoadingState=Object.entries(t.nclItems).length?me.Gu.READY:me.Gu.EMPTY},error:()=>this.nclHistoryLoadingState=me.Gu.ERROR})}getTariffList(o,t){this.currentLogin&&(t.toggle(o),this.api.getBillingUserTariffs(this.currentLogin).subscribe(i=>{this.tariffList=i,i.filter(s=>{var d;return(null===(d=this.mainTariff)||void 0===d?void 0:d.service)===s.name}).forEach(s=>s.disabled=!0)}))}getServiceList(o,t){this.currentLogin&&(t.toggle(o),this.api.getBillingUserServices(this.currentLogin).subscribe(i=>{this.serviceList=i,i.filter(s=>this.services.some(d=>d.service===s.name)).forEach(s=>s.disabled=!0)}))}appendService(o){this.currentLogin&&this.confirm.confirm({header:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430",message:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 "+o.option.name+" \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0443?",accept:()=>{this.currentLogin&&(this.block("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430"),this.api.appendServiceToBillingUser(o.value,this.currentLogin).subscribe({next:()=>{this.unblock()},error:()=>{this.unblock()}}))}})}removeService(o){this.currentLogin&&this.confirm.confirm({header:"\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430",message:"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 "+o+"?",accept:()=>{this.currentLogin&&(this.block("\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430"),this.api.removeServiceFromBillingUser(o,this.currentLogin).subscribe({next:()=>{this.unblock()},error:()=>{this.unblock()}}))}})}changeTariff(o){this.currentLogin&&this.confirm.confirm({header:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0442\u0430\u0440\u0438\u0444\u0430",message:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0430\u0440\u0438\u0444 \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430 \u043d\u0430 "+o.option.name+"?",accept:()=>{this.currentLogin&&(this.block("\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0442\u0430\u0440\u0438\u0444\u0430"),this.api.changeTariffInBillingUser(o.value,this.currentLogin).subscribe({next:()=>{this.unblock()},error:()=>{this.unblock()}}))}})}block(o=""){this.blockUiService.wait({message:o})}unblock(){this.blockUiService.unblock()}};Vd.\u0275fac=function(o){return new(o||Vd)(e.Y36(L.s),e.Y36(de.U),e.Y36(a.gz),e.Y36(et.r),e.Y36(w.e),e.Y36(N.ez),e.Y36(N.YP),e.Y36(Yg.A),e.Y36(J.F))},Vd.\u0275cmp=e.Xpm({type:Vd,selectors:[["ng-component"]],decls:76,vars:64,consts:[["appExtendPageHeight","",1,"flex","justify-content-center"],[1,"flex","flex-column","flex-grow-1","gap-3","mx-3","mb-3"],[3,"ngSwitch"],[4,"ngSwitchCase"],["infoViewTemp",""],["titleTagsTemp",""],["mainUserInfoTemp",""],["hardwareInfoTemp",""],["tariffInfoTemp",""],["infoRowTemplate",""],["infoRowTemplatedTemplate",""],["mainTariffTemplate",""],["serviceListTemplate",""],["serviceItemTemplate",""],["emptyServicesTemplate",""],["inlineButtonTemplate",""],["speedViewTemplate",""],["acpInfo",""],["appendTo","body",3,"model","popup"],["createTaskMenu",""],["appendTo","body","header","\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f",3,"visible","dismissableMask","resizable","onShow","visibleChange"],["pTemplate","content"],["appendTo","body","header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",3,"visible","dismissableMask","modal","resizable","draggable","visibleChange"],[1,"flex","flex-column","gap-2",3,"formGroup"],["label","\u0410\u0434\u0440\u0435\u0441"],["pInputText","","formControlName","address"],["label","\u0424\u0418\u041e"],["pInputText","","formControlName","fullName"],["label","\u0422\u0435\u043b\u0435\u0444\u043e\u043d"],["pInputText","","formControlName","phone"],["label","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"],["pInputTextarea","","formControlName","comment"],["pButton","","icon","mdi-check","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",1,"mt-2",3,"disabled","click"],["appendTo","body","header","\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u0437\u0430 \u043f\u043e\u043b\u0433\u043e\u0434\u0430",3,"visible","dismissableMask","modal","resizable","onHide","onShow","visibleChange"],["appendTo","body","header","\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043b\u043e\u043a\u0430\u0446\u0438\u0439 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439",3,"visible","dismissableMask","modal","resizable","visibleChange"],[1,"p-3","border-1","border-bluegray-100","border-round-lg"],[4,"ngIf"],["appendTo","body","header","\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0431\u0430\u043b\u0430\u043d\u0441\u0430",3,"visible","dismissableMask","modal","resizable","visibleChange"],["appendTo","body","header","\u041e\u0431\u043d\u0443\u043b\u0435\u043d\u0438\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u0430",3,"visible","dismissableMask","modal","resizable","visibleChange"],["appendTo","body","contentStyleClass","flex flex-column gap-3 pt-2","header","\u041e\u043f\u043b\u0430\u0442\u0430",3,"visible","dismissableMask","modal","resizable","visibleChange"],["pTemplate","content",3,"formGroup"],["appendTo","body","contentStyleClass","flex flex-column gap-3 pt-2","header","\u041f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442",3,"visible","dismissableMask","modal","resizable","visibleChange"],["loading",""],["appendTo","body","styleClass","overlay-panel-unpadding"],["tariffsOverlayPanel",""],["emptyFilterMessage","\u0422\u0430\u0440\u0438\u0444\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e","emptyMessage","\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...","filterBy","name","optionLabel","name","optionValue","id",3,"filter","listStyle","options","onClick"],["pTemplate","item"],["servicesOverlayPanel",""],["emptyFilterMessage","\u0414\u043e\u043f. \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e","emptyMessage","\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...","filterBy","name","optionDisabled","disabled","optionLabel","name","optionValue","id",3,"ngModel","filter","listStyle","options","onClick","ngModelChange"],["controlMenu",""],[1,"flexed","hcenter","vcenter","stretched","panel"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flexed","column","vcenter","caption","f-color-danger","size-huge","wt-tiny"],[1,"mds-error"],[4,"ngTemplateOutlet"],[1,"flex","flex-column","flex-grow-1","h-min","panel"],[1,"flexed","gap10","p10","hcenter","terminator-bottom"],["icon","mdi-arrow_back","styleClass","p-button-secondary p-button-text p-button-icon",3,"onClick"],[1,"caption","size-huge","wt-tiny","f-color-600","with-icon"],[1,"mds-person","caption","size-xlarge"],[1,"stretched"],[1,"caption","size-tiny","wt-black","f-color-300"],[3,"startTime"],["icon","mdi-refresh","styleClass","p-button-text p-button-icon",3,"onClick",4,"ngIf"],[1,"flex","flex-column","gap-3","p-3","terminator-bottom","flex-grow-1","xl:flex-row"],[1,"flex","flex-row","gap-3","xl:flex-column"],[1,"flex","flex-column","flex-grow-1"],["appListElementLazyScroll","","listStyleClass","simple-list",1,"mt-3",3,"group","listStyle","options","onClick","onScrollDown"],["pTemplate","group"],["pTemplate","empty"],[1,"flexed","gap10","p10","hcenter"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","styleClass","p-button-success p-button-text",3,"onClick"],["icon","mdi-menu","label","\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435","styleClass","p-button-info p-button-text",3,"onClick",4,"ngIf"],["icon","mdi-currency_ruble","label","\u041e\u043f\u043b\u0430\u0442\u0430","styleClass","p-button-warning p-button-text",3,"onClick",4,"ngIf"],["icon","mdi-restore","label","\u041f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442","styleClass","p-button-help p-button-text",3,"onClick",4,"ngIf"],["class","text-red-400 text-xl font-bold",3,"letter-spacing",4,"ngIf"],[1,"text-primary","text-xl","font-bold",3,"ngClass"],["icon","mdi-refresh","styleClass","p-button-text p-button-icon",3,"onClick"],[1,"flex","align-items-center","text-sm"],[1,"flex","flex-grow-1","m-1","px-3","py-2","gap-2","border-round","align-items-center","text-white","font-bold","text-sm"],["class","flex-grow-1",4,"ngIf"],["class","bg-white border-round px-2 py-1 text-xs",3,"color",4,"ngIf"],[1,"flex-grow-1"],[1,"bg-white","border-round","px-2","py-1","text-xs"],[1,"flex","align-items-center","justify-content-center","text-lg","font-bold","text-bluegray-400"],["icon","mdi-menu","label","\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435","styleClass","p-button-info p-button-text",3,"onClick"],["icon","mdi-currency_ruble","label","\u041e\u043f\u043b\u0430\u0442\u0430","styleClass","p-button-warning p-button-text",3,"onClick"],["icon","mdi-restore","label","\u041f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442","styleClass","p-button-help p-button-text",3,"onClick"],[1,"text-red-400","text-xl","font-bold"],[1,"flex","align-items-center","p-4","gap-2","border-bluegray-50","border-bottom-1","text-lg","font-light","text-bluegray-400"],[1,"mdi-history"],["class","text-sm text-primary-400 font-bold",4,"ngIf"],["class","flex flex-column p-3",4,"ngSwitchCase"],["class","flex justify-content-center align-items-center p-3",3,"height",4,"ngSwitchCase"],["class","flex align-items-center justify-content-center flex-grow-1 py-5",4,"ngSwitchCase"],["class","p-2",3,"first","rows","totalRecords","onPageChange",4,"ngIf"],[1,"text-sm","text-primary-400","font-bold"],[1,"flex","flex-column","p-3"],[1,"overflow-y-auto"],[3,"inlined","item",4,"ngFor","ngForOf"],[3,"inlined","item"],[1,"flex","justify-content-center","align-items-center","p-3"],[1,"flex","align-items-center","justify-content-center","flex-grow-1","py-5"],[1,"flex","flex-column","align-items-center","text-lg","text-bluegray-400"],[1,"mds-task_alt"],[1,"flex","flex-column","align-items-center","text-lg","text-red-400"],[1,"p-2",3,"first","rows","totalRecords","onPageChange"],[1,"flexed","gap5","hcenter"],[3,"caption","color"],["caption","\u041a\u0440\u0435\u0434\u0438\u0442","color","var(--warm-500)",4,"ngIf"],["caption","\u041a\u0440\u0435\u0434\u0438\u0442","color","var(--warm-500)"],[1,"flex","flex-column"],[1,"flex","align-items-center","gap-2"],[1,"text-lg","font-bold","text-gray-600"],["pButton","","icon","mdi-edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"p-button-sm","p-button-success","p-button-text",3,"click"],[1,"flex","flex-column","gap-2","p-3","pt-1"],["class","flex gap-2 align-items-center text-red-400",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","gap-2","align-items-center","text-red-400"],[1,"flex","gap-2","align-items-center","max-w-16rem"],[1,"mdi-warning"],[1,"font-bold"],["icon","mdi-account_box","label","\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c","styleClass","p-button-success p-button-sm p-button-outlined",3,"onClick"],["class","flex gap-2 p-3 text-orange-400 font-semibold align-items-center",4,"ngIf"],["class","px-3","icon","mdi-check","label","\u041d\u0430\u0439\u0442\u0438 \u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c","styleClass","p-button-warning p-button-outlined",3,"onClick",4,"ngIf"],[1,"flex","gap-2","p-3","text-orange-400","font-semibold","align-items-center"],["class","flex flex-column gap-2 p-3",4,"ngIf"],[1,"flex","flex-column","gap-2","p-3"],["icon","mdi-check","label","\u041d\u0430\u0439\u0442\u0438 \u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c","styleClass","p-button-warning p-button-outlined",1,"px-3",3,"onClick"],[4,"ngIf","ngIfElse"],[1,"flex","align-items-center","gap-1"],[1,"text-bluegray-400","font-bold"],[1,"text-bluegray-500","text-lg","max-w-18rem",3,"ngClass"],["class","mdi-help_outline caption size-big f-color-300",3,"pTooltip",4,"ngIf"],[1,"mdi-help_outline","caption","size-big","f-color-300",3,"pTooltip"],[1,"flex","gap-2","align-items-start"],[1,"flex","flex-column","gap-2"],[1,"text-bluegray-500","text-lg","flex","gap-2","align-items-center"],["class","text-primary text-sm",4,"ngIf"],[3,"click",4,"ngIf"],[1,"text-primary","text-sm"],[3,"click"],[1,"flex","flex-column","gap-1"],[4,"ngFor","ngForOf"],[1,"text-bluegray-500","text-lg","flex","align-items-center","gap-2"],["class","mdi-close text-bluegray-500 hover:text-red-400 text-sm cursor-pointer",3,"click",4,"ngIf"],[1,"mdi-close","text-bluegray-500","hover:text-red-400","text-sm","cursor-pointer",3,"click"],[1,"flex","align-items-center","gap-1","cursor-pointer","w-fit",3,"ngClass"],[1,"text-sm",3,"ngClass"],[1,"flex","flex-column","gap-2","text-bluegray-500","text-lg"],[1,"flex","flex-column","overflow-hidden","border-round-md","border-bluegray-100","border-1"],["styleClass","tabview-unpadding"],["header","\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430"],["filterMode","login",3,"filterId","inline","preparedAuthLogin"],["header","\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0434\u043e\u043c\u0435",4,"ngIf"],["header","\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u044b",4,"ngIf"],["header","\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0434\u043e\u043c\u0435"],["filterMode","building","bindingsStatus","online",3,"filterId","inline","preparedAuthLogin"],["header","\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u044b"],[3,"buildId","inline"],[1,"flex","py-3","gap-3","align-items-end","justify-content-end",3,"formGroup"],[1,"text-primary-400","font-bold"],["formControlName","state","offIcon","mdi-cancel","offLabel","\u041d\u0435 \u0432 \u0441\u0435\u0442\u0438","onIcon","mdi-check_circle","onLabel","\u0412 \u0441\u0435\u0442\u0438",3,"disabled"],["icon","mdi-filter_alt_off","label","\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440","styleClass","p-button-secondary p-button-text",3,"onClick"],["dataKey","id","scrollHeight","500px",3,"loading","scrollable","value"],["pTemplate","header"],["pTemplate","body"],[3,"first","rows","totalRecords","onPageChange"],[3,"formGroup"],["formControlName","macaddr","pInputText","","type","text",3,"size"],["formControlName","login","pInputText","","type","text",3,"size"],["formControlName","buildingId"],["formControlName","ip"],["formControlName","vlan",3,"max","size"],[1,"cursor-pointer","hover:bg-primary-50","hover:text-primary-400",3,"click"],["appTicker","",1,"white-space-nowrap","overflow-hidden"],["class","text-bluegray-300",4,"ngSwitchCase"],["class","text-green-400",4,"ngSwitchCase"],["type","short",3,"startTime"],[1,"text-bluegray-300"],[1,"text-green-400"],["class","flex align-items-center justify-content-center",3,"style",4,"ngIf"],[1,"flex","align-items-center","justify-content-center"],[1,"custom-spinner","custom-spinner-gray","custom-spinner-8xl"],["header","\u041f\u043b\u0430\u0442\u0435\u0436\u0438"],["scrollHeight","30rem","styleClass","p-datatable-sm border-round-lg border-1 border-bluegray-100 overflow-hidden",3,"scrollable","value"],["pTemplate","emptymessage"],["header","\u0421\u043e\u0431\u044b\u0442\u0438\u044f"],["header","\u0422\u0430\u0440\u0438\u0444\u044b"],[3,"ngClass"],[1,"flex","align-items-center","justify-content-between","text-bluegray-400","text-sm","font-bold"],[1,"text-bluegray-400","mr-2","pr-2","border-right-1","border-bluegray-100"],["tooltipPosition","bottom",1,"h-50","mr-1","opacity-70",3,"pTooltip"],[1,"flex","flex-column","align-items-center","justify-content-center"],[1,"text-bluegray-400","font-bold","text-lg"],[1,"flex","flex-column","align-items-center","justify-content-center","text-red-400","font-bold","text-lg"],[1,"flex","flex-column","align-items-center","justify-content-center","text-bluegray-400","font-bold","text-lg"],[1,"mds-radar"],[1,"flex","flex-column","gap-4","mt-1"],["appendTo","body","formControlName","payType","placeholder","\u0422\u0438\u043f \u043f\u043b\u0430\u0442\u0435\u0436\u0430",3,"options"],["formControlName","sum","placeholder","\u0421\u0443\u043c\u043c\u0430"],["formControlName","comment","pInputTextarea","","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438\u0306",3,"autoResize","cols","rows"],["icon","mdi-attach_money","label","\u041e\u043f\u043b\u0430\u0442\u0430","styleClass","p-button-primary",1,"align-self-end",3,"disabled","onClick"],["pInputTextarea","","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438\u0306 \u043a \u043e\u0431\u043d\u0443\u043b\u0435\u043d\u0438\u044e \u0431\u0430\u043b\u0430\u043d\u0441\u0430...",3,"autoResize","cols","formControl","rows"],["icon","mdi-exposure_zero","label","\u041e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441","styleClass","p-button-primary",1,"align-self-end",3,"disabled","onClick"],[1,"flex","gap-3","align-items-center"],["formControlName","paymentType",3,"options"],["formControlName","sum","pInputText","","pKeyFilter","pint","placeholder","\u0421\u0443\u043c\u043c\u0430",3,"size"],["icon","mdi-attach_money","label","\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c",1,"mt-3","align-self-end",3,"disabled","onClick"],["formControlName","mode",3,"options"],["formControlName","count","pInputText","","pKeyFilter","int",3,"placeholder","size"],["icon","mdi-restore","label","\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",1,"mt-3","align-self-end",3,"disabled","onClick"],["strokeWidth","1",1,"custom-spinner","custom-spinner-gray","custom-spinner-8xl"],[1,"flex","align-items-center","justify-content-between","w-full","h-full",3,"pTooltip","showDelay"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e.ynx(2,2),e.YNc(3,z1,3,0,"ng-container",3),e.YNc(4,J1,6,0,"ng-container",3),e.YNc(5,Dx,2,1,"ng-container",3),e.BQk(),e.qZA()(),e.YNc(6,E,37,29,"ng-template",null,4,e.W1O),e.YNc(8,re,3,3,"ng-template",null,5,e.W1O),e.YNc(10,Ui,14,26,"ng-template",null,6,e.W1O),e.YNc(12,Q_,9,9,"ng-template",null,7,e.W1O),e.YNc(14,_w,18,49,"ng-template",null,8,e.W1O),e.YNc(16,vw,6,4,"ng-template",null,9,e.W1O),e.YNc(18,yw,5,2,"ng-template",null,10,e.W1O),e.YNc(20,ww,5,3,"ng-template",null,11,e.W1O),e.YNc(22,Mw,3,2,"ng-template",null,12,e.W1O),e.YNc(24,Pw,6,3,"ng-template",null,13,e.W1O),e.YNc(26,Bw,1,1,"ng-template",null,14,e.W1O),e.YNc(28,Zw,4,3,"ng-template",null,15,e.W1O),e.YNc(30,Uw,11,2,"ng-template",null,16,e.W1O),e.YNc(32,Gw,7,8,"ng-template",null,17,e.W1O),e._UZ(34,"p-menu",18,19),e.TgZ(36,"p-dialog",20),e.NdJ("onShow",function(){return t.openAuthDialog.next(null)})("visibleChange",function(s){return t.isAuthDialogVisible=s}),e.YNc(37,e3,2,4,"ng-template",21),e.qZA(),e.TgZ(38,"p-dialog",22),e.NdJ("visibleChange",function(s){return t.isUserEditDialogVisible=s}),e.TgZ(39,"form",23)(40,"app-label",24),e._UZ(41,"input",25),e.qZA(),e.TgZ(42,"app-label",26),e._UZ(43,"input",27),e.qZA(),e.TgZ(44,"app-label",28),e._UZ(45,"input",29),e.qZA(),e.TgZ(46,"app-label",30),e._UZ(47,"textarea",31),e.qZA(),e.TgZ(48,"button",32),e.NdJ("click",function(){return t.confirmUserEdit()}),e.qZA()()(),e.TgZ(49,"p-dialog",33),e.NdJ("onHide",function(){return t.closeHistoryDialog()})("onShow",function(){return t.getHistory()})("visibleChange",function(s){return t.isHistoryDialogVisible=s}),e.YNc(50,m3,2,2,"ng-template",21),e.qZA(),e.TgZ(51,"p-dialog",34),e.NdJ("visibleChange",function(s){return t.isNCLHistoryDialogVisible=s}),e.TgZ(52,"div",35),e.ALo(53,"async"),e.YNc(54,A3,6,5,"ng-container",36),e.ALo(55,"async"),e.qZA()(),e.TgZ(56,"p-dialog",37),e.NdJ("visibleChange",function(s){return t.isBalanceDialogVisible=s}),e.YNc(57,w3,7,9,"ng-template",21),e.qZA(),e.TgZ(58,"p-dialog",38),e.NdJ("visibleChange",function(s){return t.isBalanceResetDialogVisible=s}),e.YNc(59,E3,3,5,"ng-template",21),e.qZA(),e.TgZ(60,"p-dialog",39),e.NdJ("visibleChange",function(s){return t.isPaymentDialogVisible=s}),e.YNc(61,S3,5,6,"ng-template",40),e.qZA(),e.TgZ(62,"p-dialog",41),e.NdJ("visibleChange",function(s){return t.isRecalculationDialogVisible=s}),e.YNc(63,k3,5,7,"ng-template",40),e.qZA(),e.YNc(64,D3,2,0,"ng-template",null,42,e.W1O),e.TgZ(66,"p-overlayPanel",43,44)(68,"p-listbox",45),e.NdJ("onClick",function(s){return t.changeTariff(s)}),e.YNc(69,M3,6,7,"ng-template",46),e.qZA()(),e.TgZ(70,"p-overlayPanel",43,47)(72,"p-listbox",48),e.NdJ("onClick",function(s){return t.appendService(s)})("ngModelChange",function(s){return t.selectedServices=s}),e.YNc(73,O3,6,7,"ng-template",46),e.qZA()(),e._UZ(74,"p-menu",18,49)),2&o&&(e.xp6(2),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(29),e.Q6J("model",t.wireframes)("popup",!0),e.xp6(2),e.Q6J("visible",t.isAuthDialogVisible)("dismissableMask",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",t.isUserEditDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1)("draggable",!0),e.xp6(1),e.Q6J("formGroup",t.userEditForm),e.xp6(9),e.Q6J("disabled",t.userEditForm.invalid),e.xp6(1),e.Q6J("visible",t.isHistoryDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1),e.xp6(2),e.Akn(e.DdM(60,P3)),e.Q6J("visible",t.isNCLHistoryDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1),e.xp6(1),e.Akn("READY"===t.nclHistoryLoadingState?e.lcZ(53,56,t.nclHistoryViewStyle$):e.DdM(61,L3)),e.xp6(2),e.Q6J("ngIf",e.lcZ(55,58,t.nclHistory$)),e.xp6(2),e.Q6J("visible",t.isBalanceDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",t.isBalanceResetDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",t.isPaymentDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1),e.xp6(1),e.Q6J("formGroup",t.paymentForm),e.xp6(1),e.Q6J("visible",t.isRecalculationDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1),e.xp6(1),e.Q6J("formGroup",t.recalculationForm),e.xp6(5),e.Q6J("filter",!0)("listStyle",e.DdM(62,p))("options",t.tariffList),e.xp6(4),e.Q6J("ngModel",t.selectedServices)("filter",!0)("listStyle",e.DdM(63,p))("options",t.serviceList),e.xp6(2),e.Q6J("model",t.controlMenuItems)("popup",!0))}}),Vd=(0,rl.gn)([(0,Tl.kG)()],Vd);var Bx=b(5376),R3=b(5625);function N3(n,o){1&n&&e.GkF(0)}function F3(n,o){if(1&n&&(e.ynx(0),e.YNc(1,N3,1,0,"ng-container",30),e.BQk()),2&n){e.oxw();const t=e.MAs(17);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function B3(n,o){1&n&&e.GkF(0)}function Z3(n,o){if(1&n&&(e.ynx(0),e.YNc(1,B3,1,0,"ng-container",30),e.BQk()),2&n){e.oxw();const t=e.MAs(19);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function U3(n,o){1&n&&e.GkF(0)}function H3(n,o){if(1&n&&(e.ynx(0),e.YNc(1,U3,1,0,"ng-container",30),e.BQk()),2&n){e.oxw(2);const t=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function V3(n,o){1&n&&e.GkF(0)}function z3(n,o){if(1&n&&(e.ynx(0),e.YNc(1,V3,1,0,"ng-container",30),e.BQk()),2&n){e.oxw(2);const t=e.MAs(11);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function J3(n,o){1&n&&e.GkF(0)}function Q3(n,o){if(1&n&&(e.ynx(0),e.YNc(1,J3,1,0,"ng-container",30),e.BQk()),2&n){e.oxw(2);const t=e.MAs(13);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function G3(n,o){1&n&&e.GkF(0)}function W3(n,o){if(1&n&&(e.ynx(0),e.YNc(1,G3,1,0,"ng-container",30),e.BQk()),2&n){e.oxw(2);const t=e.MAs(15);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Y3(n,o){if(1&n&&(e.ynx(0)(1,3),e.YNc(2,H3,2,1,"ng-container",4),e.YNc(3,z3,2,1,"ng-container",4),e.YNc(4,Q3,2,1,"ng-container",4),e.YNc(5,W3,2,1,"ng-container",4),e.BQk()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngSwitch",t.viewMode),e.xp6(1),e.Q6J("ngSwitchCase","city"),e.xp6(1),e.Q6J("ngSwitchCase","street"),e.xp6(1),e.Q6J("ngSwitchCase","house"),e.xp6(1),e.Q6J("ngSwitchCase","houseView")}}function j3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",43),e.NdJ("click",function(){const d=e.CHM(t).$implicit,T=e.oxw(2);return e.KtG(T.selectCity(d))}),e._UZ(1,"span",44),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(3),e.Oqu(t.name)}}function K3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",32)(2,"div",33)(3,"span",34),e._uU(4," \u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u0443\u043d\u043a\u0442\u044b "),e.qZA(),e._UZ(5,"div",35),e.TgZ(6,"p-button",36),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openDialogCreateCity())}),e.ALo(7,"async"),e.qZA()(),e.TgZ(8,"div",37),e.YNc(9,j3,4,1,"div",38),e.qZA()(),e.TgZ(10,"div",39)(11,"div",40),e._UZ(12,"span",41),e.TgZ(13,"span",42),e._uU(14,"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442"),e.qZA()()()()}if(2&n){const t=e.oxw();let i;e.xp6(6),e.Q6J("loading",null!==(i=e.lcZ(7,4,t.beginRequest$))&&void 0!==i&&i)("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK)),e.xp6(3),e.Q6J("ngForOf",t.cities)("ngForTrackBy",t.trackByCity)}}function q3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",43),e.NdJ("click",function(){const d=e.CHM(t).$implicit,T=e.oxw(2);return e.KtG(T.selectStreet(d))}),e._UZ(1,"span",59),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(3),e.Oqu(t.nameWithPrefix)}}function $3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",60),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.saveCity())}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=e.oxw(2);let i;e.Q6J("loading",null!==(i=e.lcZ(1,2,t.beginRequest$))&&void 0!==i&&i)("disabled",!t.cityEditingForm.valid||t.cityEditingForm.pristine)}}const X3=function(n){return{"cover-element":n}};function eE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",32)(2,"div",45)(3,"p-button",46),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.back())}),e.ALo(4,"async"),e.qZA(),e.TgZ(5,"span",34),e._uU(6," \u0423\u043b\u0438\u0446\u044b "),e.qZA(),e._UZ(7,"div",35),e.TgZ(8,"p-button",36),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openDialogCreateStreet())}),e.ALo(9,"async"),e.qZA()(),e.TgZ(10,"div",47)(11,"div",48)(12,"span",49),e._UZ(13,"span",50),e.qZA(),e._UZ(14,"input",51),e.qZA()(),e.TgZ(15,"div",52),e.YNc(16,q3,4,1,"div",38),e.qZA()(),e.TgZ(17,"div",53)(18,"div",54)(19,"span",34),e._uU(20),e.qZA(),e._UZ(21,"div",55),e.TgZ(22,"p-button",56),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.deleteCity())}),e.ALo(23,"async"),e.qZA()(),e.TgZ(24,"div",57)(25,"div",13)(26,"label",14),e._uU(27,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430"),e.qZA(),e._UZ(28,"input",19),e.qZA(),e.YNc(29,$3,2,4,"p-button",58),e.qZA()()()}if(2&n){const t=e.oxw();let i,s,d;e.xp6(3),e.Q6J("loading",null!==(i=e.lcZ(4,13,t.beginRequest$))&&void 0!==i&&i),e.xp6(5),e.Q6J("loading",null!==(s=e.lcZ(9,15,t.beginRequest$))&&void 0!==s&&s)("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK)),e.xp6(6),e.Q6J("appPreventInput",t.streetFiltering)("formControl",t.filterControl),e.xp6(1),e.Q6J("ngClass",e.VKq(19,X3,t.streetFiltering)),e.xp6(1),e.Q6J("ngForOf",t.streets)("ngForTrackBy",t.trackByStreet),e.xp6(4),e.hij(" \u0413\u043e\u0440\u043e\u0434: ",null==t.selectedCity?null:t.selectedCity.name," "),e.xp6(2),e.Q6J("loading",null!==(d=e.lcZ(23,17,t.beginRequest$))&&void 0!==d&&d)("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK)),e.xp6(2),e.Q6J("formGroup",t.cityEditingForm),e.xp6(5),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK))}}function tE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",43),e.NdJ("click",function(){const d=e.CHM(t).$implicit,T=e.oxw(2);return e.KtG(T.selectHouse(d))}),e._UZ(1,"span",62),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(3),e.Oqu(t.houseName)}}function nE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",60),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.saveStreet())}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=e.oxw(2);let i;e.Q6J("loading",null!==(i=e.lcZ(1,2,t.beginRequest$))&&void 0!==i&&i)("disabled",!t.streetEditingForm.valid||t.streetEditingForm.pristine)}}function iE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",32)(2,"div",45)(3,"p-button",46),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.back())}),e.ALo(4,"async"),e.qZA(),e.TgZ(5,"span",34),e._uU(6," \u0414\u043e\u043c\u0430 "),e.qZA(),e._UZ(7,"div",35),e.TgZ(8,"p-button",36),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openDialogCreateHouse())}),e.ALo(9,"async"),e.qZA()(),e.TgZ(10,"div",37),e.YNc(11,tE,4,1,"div",38),e.qZA()(),e.TgZ(12,"div",53)(13,"div",54)(14,"span",34),e._uU(15),e.qZA(),e._UZ(16,"div",55),e.TgZ(17,"p-button",56),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.deleteStreet())}),e.ALo(18,"async"),e.qZA()(),e.TgZ(19,"div",57)(20,"div",13)(21,"label",14),e._uU(22,"\u0422\u0438\u043f"),e.qZA(),e._UZ(23,"p-dropdown",61),e.qZA(),e.TgZ(24,"div",13)(25,"label",14),e._uU(26,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u043b\u0438\u0446\u044b"),e.qZA(),e._UZ(27,"input",19),e.qZA(),e.TgZ(28,"div",13)(29,"label",14),e._uU(30,"\u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f"),e.qZA(),e._UZ(31,"p-chips",20),e.qZA(),e.TgZ(32,"div",13)(33,"label",14),e._uU(34,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432 \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0435"),e.qZA(),e._UZ(35,"input",21),e.qZA(),e.YNc(36,nE,2,4,"p-button",58),e.qZA()()()}if(2&n){const t=e.oxw();let i,s,d;e.xp6(3),e.Q6J("loading",null!==(i=e.lcZ(4,14,t.beginRequest$))&&void 0!==i&&i),e.xp6(5),e.Q6J("loading",null!==(s=e.lcZ(9,16,t.beginRequest$))&&void 0!==s&&s)("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_HOUSE_ADDRESS_BOOK)),e.xp6(3),e.Q6J("ngForOf",t.houses)("ngForTrackBy",t.trackByHouse),e.xp6(4),e.hij(" \u0423\u043b\u0438\u0446\u0430: ",null==t.selectedStreet?null:t.selectedStreet.streetName," "),e.xp6(2),e.Q6J("loading",null!==(d=e.lcZ(18,18,t.beginRequest$))&&void 0!==d&&d)("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK)),e.xp6(2),e.Q6J("formGroup",t.streetEditingForm),e.xp6(4),e.Q6J("options",t.streetPrefixes),e.xp6(8),e.Q6J("allowDuplicate",!1)("addOnTab",!0)("addOnBlur",!0),e.xp6(5),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK))}}function oE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",60),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.saveHouse())}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=e.oxw(2);let i;e.Q6J("loading",null!==(i=e.lcZ(1,2,t.beginRequest$))&&void 0!==i&&i)("disabled",!t.houseEditingForm.valid||t.houseEditingForm.pristine)}}const sE=function(n,o){return[n,o]};function rE(n,o){if(1&n&&e._UZ(0,"ya-placemark",77),2&n){const t=e.oxw(2);e.Q6J("geometry",e.WLB(1,sE,t.housePlace.latitude,t.housePlace.longitude))}}function aE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",63)(1,"div",64)(2,"p-button",46),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.back())}),e.ALo(3,"async"),e.qZA(),e.TgZ(4,"span",65),e._uU(5),e.qZA(),e.TgZ(6,"p-button",56),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.deleteHouse())}),e.ALo(7,"async"),e.qZA()(),e.TgZ(8,"div",66)(9,"p-button",67),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.manualHouseNavigation$.next(-1))}),e.ALo(10,"async"),e.qZA(),e._UZ(11,"div",35),e.TgZ(12,"p-button",68),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.manualHouseNavigation$.next(1))}),e.ALo(13,"async"),e.qZA()(),e.TgZ(14,"div",69),e.NdJ("@swipe.done",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.animationEnd$.next(!0))}),e.ALo(15,"async"),e.TgZ(16,"div",28)(17,"label",14),e._uU(18,"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430"),e.qZA(),e._UZ(19,"p-inputNumber",23),e.qZA(),e.TgZ(20,"div",28)(21,"label",14),e._uU(22,"\u0414\u0440\u043e\u0431\u044c (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(23,"p-inputNumber",70),e.qZA(),e.TgZ(24,"div",28)(25,"label",14),e._uU(26,"\u041b\u0438\u0442\u0435\u0440\u0430 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(27,"input",71),e.qZA(),e.TgZ(28,"div",28)(29,"label",14),e._uU(30,"\u0421\u0442\u0440\u043e\u0435\u043d\u0438\u0435 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(31,"p-inputNumber",72),e.qZA(),e.TgZ(32,"div",73),e._UZ(33,"p-checkbox",74),e.TgZ(34,"label",14),e._uU(35,"\u041c\u043d\u043e\u0433\u043e\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u043d\u044b\u0439 \u0434\u043e\u043c?"),e.qZA()(),e.TgZ(36,"div",28)(37,"label",14),e._uU(38,"\u041f\u0440\u0438\u0432\u044f\u0437\u043a\u0430 \u043a ACP"),e.qZA(),e._UZ(39,"app-acp-house-input",29),e.qZA(),e.YNc(40,oE,2,4,"p-button",58),e.TgZ(41,"ya-map",75),e.NdJ("yaclick",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.onMapClick(s))}),e.YNc(42,rE,1,4,"ya-placemark",76),e.qZA()()()}if(2&n){const t=e.oxw();let i,s,d,T;e.xp6(2),e.Q6J("loading",null!==(i=e.lcZ(3,14,t.beginRequest$))&&void 0!==i&&i),e.xp6(3),e.hij(" \u0414\u043e\u043c: ",null==t.selectedHouse?null:t.selectedHouse.addressName," "),e.xp6(1),e.Q6J("loading",null!==(s=e.lcZ(7,16,t.beginRequest$))&&void 0!==s&&s)("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK)),e.xp6(3),e.Q6J("loading",null!==(d=e.lcZ(10,18,t.beginRequest$))&&void 0!==d&&d),e.xp6(3),e.Q6J("loading",null!==(T=e.lcZ(13,20,t.beginRequest$))&&void 0!==T&&T),e.xp6(2),e.Q6J("formGroup",t.houseEditingForm)("@swipe",e.lcZ(15,22,t.animationState$)),e.xp6(19),e.Q6J("binary",!0),e.xp6(7),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.EDIT_HOUSE_ADDRESS_BOOK)),e.xp6(1),e.Q6J("center",t.centerOfMap)("zoom",t.zoom)("options",t.mapOptions),e.xp6(1),e.Q6J("ngIf",t.housePlace)}}function lE(n,o){1&n&&(e.TgZ(0,"div",78),e._UZ(1,"p-progressSpinner",79),e.qZA())}function cE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",80)(1,"div",81),e._UZ(2,"span",82),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA(),e.TgZ(5,"p-button",83),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.reload())}),e.qZA()()()}}const uE=function(){return{marginBottom:"1rem"}};let PT=(()=>{class n{constructor(t,i,s,d,T){this.api=t,this.rt=i,this.personality=s,this.toast=d,this.confirmationService=T,this.AccessFlag=Ii.j,this.cities=[],this.streets=[],this.houses=[],this.streetFiltering=!1,this.viewMode="city",this.loadingState=me.Gu.LOADING,this.filterControl=new g.NI(""),this.filterChanged$=this.filterControl.valueChanges.pipe((0,bs.b)(1e3),(0,Zr.x)()),this.cityEditingForm=new g.cw({name:new g.NI("",[g.kI.required,g.kI.minLength(3)])}),this.streetEditingForm=new g.cw({prefix:new g.NI("",[g.kI.required]),name:new g.NI("",[g.kI.required,g.kI.minLength(3),g.kI.maxLength(48)]),altNames:new g.NI([]),billingAlias:new g.NI("")}),this.houseEditingForm=new g.cw({houseNum:new g.NI(null,[g.kI.required,g.kI.min(1),g.kI.max(999)]),letter:new g.NI(null),fraction:new g.NI(null),build:new g.NI(null),isApartmentHouse:new g.NI(!1),acpHouseBind:new g.NI(null)}),this.subscriptions=new _.xf,this.cityLoad$=(0,In.of)(null).pipe((0,R.w)(()=>this.api.getCities()),(0,hi.b)(W=>this.cities=W),(0,hi.b)(()=>{this.subscriptions.unsubscribe("cityCr"),this.subscriptions.unsubscribe("cityUpd"),this.subscriptions.unsubscribe("cityDel"),this.subscriptions.unsubscribe("streetCr"),this.subscriptions.unsubscribe("streetUpd"),this.subscriptions.unsubscribe("streetDel"),this.subscriptions.unsubscribe("houseCr"),this.subscriptions.unsubscribe("houseUpd"),this.subscriptions.unsubscribe("houseDel"),this.subscriptions.addSubscription("cityCr",this.rt.cityCreated().subscribe(W=>{this.cities=[...this.cities,W]})),this.subscriptions.addSubscription("cityUpd",this.rt.cityUpdated().subscribe(W=>{var Ce;this.cities=this.cities.map(qe=>qe.cityId===W.cityId?W:qe),(null===(Ce=this.selectedCity)||void 0===Ce?void 0:Ce.cityId)===W.cityId&&this.selectCity(W)})),this.subscriptions.addSubscription("cityDel",this.rt.cityDeleted().subscribe(W=>{var Ce;this.cities=this.cities.filter(qe=>qe.cityId!==W.cityId),(null===(Ce=this.selectedCity)||void 0===Ce?void 0:Ce.cityId)===W.cityId&&(this.viewMode="city")})),this.subscriptions.addSubscription("streetCr",this.rt.streetCreated().subscribe(W=>{var Ce;W.city.cityId===(null===(Ce=this.selectedCity)||void 0===Ce?void 0:Ce.cityId)&&(this.streets=[...this.streets,W].sort(this.streetSort))})),this.subscriptions.addSubscription("streetUpd",this.rt.streetUpdated().subscribe(W=>{var Ce;this.streets=this.streets.map(qe=>qe.streetId===W.streetId?W:qe).sort(this.streetSort),(null===(Ce=this.selectedStreet)||void 0===Ce?void 0:Ce.streetId)===W.streetId&&this.selectStreet(W)})),this.subscriptions.addSubscription("streetDel",this.rt.streetDeleted().subscribe(W=>{var Ce;this.streets=this.streets.filter(qe=>qe.streetId!==W.streetId),(null===(Ce=this.selectedStreet)||void 0===Ce?void 0:Ce.streetId)===W.streetId&&(this.viewMode="street")})),this.subscriptions.addSubscription("houseCr",this.rt.houseCreated().subscribe(W=>{var Ce;W.streetId===(null===(Ce=this.selectedStreet)||void 0===Ce?void 0:Ce.streetId)&&(this.houses=[...this.houses,W].sort(this.houseSort))})),this.subscriptions.addSubscription("houseUpd",this.rt.houseUpdated().subscribe(W=>{var Ce;this.houses=this.houses.map(qe=>qe.houseId===W.houseId?W:qe).sort(this.houseSort),(null===(Ce=this.selectedHouse)||void 0===Ce?void 0:Ce.houseId)===W.houseId&&this.selectHouse(W)})),this.subscriptions.addSubscription("houseDel",this.rt.houseDeleted().subscribe(W=>{var Ce;this.houses=this.houses.filter(qe=>qe.houseId!==W.houseId),(null===(Ce=this.selectedHouse)||void 0===Ce?void 0:Ce.houseId)===W.houseId&&(this.viewMode="house")}))})),this.streetPrefixes=[{label:"\u0423\u043b\u0438\u0446\u0430",value:"\u0443\u043b"},{label:"\u0410\u043b\u043b\u0435\u044f",value:"\u0430\u043b\u043b\u0435\u044f"},{label:"\u0411\u0443\u043b\u044c\u0432\u0430\u0440",value:"\u0431-\u0440"},{label:"\u041f\u0435\u0440\u0435\u0443\u043b\u043e\u043a",value:"\u043f\u0435\u0440"},{label:"\u041f\u043b\u043e\u0449\u0430\u0434\u044c",value:"\u043f\u043b"},{label:"\u041f\u0440\u043e\u0435\u0437\u0434",value:"\u043f\u0440-\u0434"},{label:"\u041f\u0440\u043e\u0441\u043f\u0435\u043a\u0442",value:"\u043f\u0440-\u043a\u0442"},{label:"\u0428\u043e\u0441\u0441\u0435",value:"\u0448"}],this.loadingStateHandler={next:()=>{this.loadingState=me.Gu.READY},error:()=>{this.loadingState=me.Gu.ERROR}},this.createCityVisible=!1,this.createCityForm=new g.cw({name:new g.NI("",[g.kI.required,g.kI.minLength(3)])}),this.createStreetVisible=!1,this.createStreetForm=new g.cw({prefix:new g.NI("",[g.kI.required]),name:new g.NI("",[g.kI.required,g.kI.minLength(3),g.kI.maxLength(48)]),altNames:new g.NI([]),billingAlias:new g.NI("")}),this.createHouseVisible=!1,this.createHouseForm=new g.cw({houseNum:new g.NI(null,[g.kI.required,g.kI.min(1),g.kI.max(999999)]),letter:new g.NI(null,[g.kI.maxLength(1)]),fraction:new g.NI(null,[g.kI.min(1),g.kI.max(999)]),build:new g.NI(null,[g.kI.min(1),g.kI.max(99)]),isApartmentHouse:new g.NI(!1),acpHouseBind:new g.NI(null)}),this.beginRequest$=new Wa.X(!1),this.houseNavigation$=(0,y.R)(window,"keyup").pipe((0,l.h)(W=>W.altKey&&!!this.selectedHouse),(0,gt.U)(W=>{switch(W.key){case"n":return 1;case"b":return-1}return 0})),this.manualHouseNavigation$=new wr.x,this.animationEnd$=new wr.x,this.houseBeginningNavigate=!1,this.requestStatusHandler={next:()=>{this.beginRequest$.next(!1)},error:()=>{this.beginRequest$.next(!1)}},this.mapOptions={avoidFractionalZoom:!0},this.centerOfMap=[47.519624,42.206329],this.zoom=12,this._houseViewAnimation=new Wa.X([0,0]),this.animationState$=this._houseViewAnimation.pipe((0,R.w)(W=>(0,In.of)(...W)),(0,gt.U)(W=>W>0?"right":W<0?"left":"default"))}updateCenterOfMap(){if(this.housePlace)return this.centerOfMap=[this.housePlace.latitude,this.housePlace.longitude],void(this.zoom=17);this.centerOfMap=[47.519624,42.206329],this.zoom=12}trackByHouse(t,i){return i.houseId+i.addressName}trackByStreet(t,i){return i.streetId+i.nameWithPrefix}trackByCity(t,i){return i.cityId+i.name}streetSort(t,i){return t.name<i.name?-1:t.name>i.name?1:0}houseSort(t,i){var s,d,T,W,Ce,qe;return t.houseNum-i.houseNum||(null===(s=t.letter)||void 0===s?void 0:s.localeCompare(null!==(d=i.letter)&&void 0!==d?d:""))||(null!==(T=t.fraction)&&void 0!==T?T:0)-(null!==(W=i.fraction)&&void 0!==W?W:0)||(null!==(Ce=t.build)&&void 0!==Ce?Ce:0)-(null!==(qe=i.build)&&void 0!==qe?qe:0)}onMapClick(t){const{event:s}=t,[d,T]=s.get("coords");this.housePlace={placeId:0,latitude:d,longitude:T}}ngOnInit(){this.cityLoad$.subscribe(this.loadingStateHandler),this.subscriptions.addSubscription("hsnav",(0,qi.T)(this.houseNavigation$,this.manualHouseNavigation$.asObservable()).pipe((0,l.h)(()=>!this.houseBeginningNavigate),(0,hi.b)(t=>{this.houseBeginningNavigate=!0,this._houseViewAnimation.next([0,t])}),(0,Bx.j)(()=>this.animationEnd$),(0,hi.b)(t=>this._houseViewAnimation.next([t,-t])),(0,Bx.j)(()=>this.animationEnd$),(0,hi.b)(t=>{-1===t?this.previousHouse():1===t&&this.nextHouse(),this._houseViewAnimation.next([t,0])}),(0,Bx.j)(()=>this.animationEnd$),(0,R3.X)()).subscribe({next:t=>{this.houseBeginningNavigate=!1},error:()=>{this.houseBeginningNavigate=!1}})),this.subscriptions.addSubscription("bgreq",this.beginRequest$.subscribe(t=>{t?(this.createCityForm.disable(),this.cityEditingForm.disable(),this.streetEditingForm.disable(),this.createStreetForm.disable(),this.houseEditingForm.disable(),this.createHouseForm.disable()):(this.createCityForm.enable(),this.cityEditingForm.enable(),this.streetEditingForm.enable(),this.createStreetForm.enable(),this.houseEditingForm.enable(),this.createHouseForm.enable())}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}loadStreets$(t,i){return this.api.getStreets(t,null!=i?i:void 0).pipe((0,hi.b)(s=>this.streets=s),(0,hi.b)(()=>this.viewMode="street"),(0,hi.b)(()=>this.streetFiltering=!1))}selectCity(t){let{cityId:i}=t;i?(this.loadingState=me.Gu.LOADING,this.selectedCity=t,this.filterControl.reset(),this.cityEditingForm.setValue({name:t.name}),this.subscriptions.unsubscribe("cityLoad"),this.subscriptions.addSubscription("cityLoad",(0,qi.T)(this.loadStreets$(i),this.filterChanged$.pipe((0,hi.b)(()=>this.streetFiltering=!0),(0,Kl.z)(s=>this.loadStreets$(i,s)))).subscribe(this.loadingStateHandler))):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u0431\u043e\u0440\u0430 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u0443\u043d\u043a\u0442\u0430",detail:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u0443\u043d\u043a\u0442\u0430 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"})}selectStreet(t){var i,s,d;t.streetId?(this.loadingState=me.Gu.LOADING,this.selectedStreet=t,this.streetEditingForm.setValue({prefix:null!==(i=t.prefix)&&void 0!==i?i:null,name:null!==(s=t.name)&&void 0!==s?s:"",altNames:t.altNames?t.altNames.split(","):[],billingAlias:null!==(d=t.billingAlias)&&void 0!==d?d:""}),this.api.getHouses(t.streetId).pipe((0,hi.b)(T=>this.houses=T.sort(this.houseSort)),(0,hi.b)(()=>this.viewMode="house")).subscribe(this.loadingStateHandler)):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u0431\u043e\u0440\u0430 \u0443\u043b\u0438\u0446\u044b",detail:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0443\u043b\u0438\u0446\u044b \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"})}selectHouse(t){var i,s,d;this.viewMode="houseView",this.selectedHouse=t,t.place?(this.housePlace=t.place,this.updateCenterOfMap()):(this.housePlace=void 0,this.updateCenterOfMap()),this.houseEditingForm.setValue({houseNum:t.houseNum,letter:null!==(i=t.letter)&&void 0!==i?i:null,fraction:null!==(s=t.fraction)&&void 0!==s?s:null,build:null!==(d=t.build)&&void 0!==d?d:null,isApartmentHouse:t.isApartmentHouse,acpHouseBind:t.acpHouseBind})}createCity(){this.beginRequest$.next(!0),this.api.createCity(this.createCityForm.value).pipe((0,hi.b)(this.requestStatusHandler)).subscribe(()=>this.createCityVisible=!1)}deleteCity(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0438\u0306 \u043f\u0443\u043d\u043a\u0442?",accept:()=>{this.selectedCity?(this.beginRequest$.next(!0),this.api.deleteCity(this.selectedCity.cityId).pipe((0,hi.b)(this.requestStatusHandler)).subscribe(()=>this.viewMode="city")):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0430\u0441\u0435\u043b\u0451\u043d\u043d\u044b\u0438\u0306 \u043f\u0443\u043d\u043a\u0442"})}})}saveCity(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f?",accept:()=>{this.selectedCity?(this.beginRequest$.next(!0),this.api.editCity(this.selectedCity.cityId,this.cityEditingForm.value).pipe((0,hi.b)(this.requestStatusHandler)).subscribe()):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0430\u0441\u0435\u043b\u0451\u043d\u043d\u044b\u0438\u0306 \u043f\u0443\u043d\u043a\u0442"})}})}createStreet(){this.selectedCity?(this.beginRequest$.next(!0),this.api.createStreet(this.selectedCity.cityId,this.createStreetForm.value).pipe((0,hi.b)(this.requestStatusHandler)).subscribe(()=>this.createStreetVisible=!1)):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0438\u0306 \u043f\u0443\u043d\u043a\u0442"})}deleteStreet(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0443\u043b\u0438\u0446\u0443?",accept:()=>{var t;null!==(t=this.selectedStreet)&&void 0!==t&&t.streetId?(this.beginRequest$.next(!0),this.api.deleteStreet(this.selectedStreet.streetId).pipe((0,hi.b)(this.requestStatusHandler)).subscribe(()=>this.viewMode="street")):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043b\u0438\u0446\u0443"})}})}saveStreet(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f?",accept:()=>{var t;null!==(t=this.selectedStreet)&&void 0!==t&&t.streetId?(this.beginRequest$.next(!0),this.api.editStreet(this.selectedStreet.streetId,this.streetEditingForm.value).pipe((0,hi.b)(this.requestStatusHandler)).subscribe()):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043b\u0438\u0446\u0443"})}})}createHouse(){this.selectedStreet?(this.beginRequest$.next(!0),this.api.createHouse(this.selectedStreet.streetId,this.createHouseForm.value).pipe((0,hi.b)(this.requestStatusHandler)).subscribe(()=>this.createHouseVisible=!1)):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043b\u0438\u0446\u0443"})}deleteHouse(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u043e\u043c?",accept:()=>{var t;null!==(t=this.selectedHouse)&&void 0!==t&&t.houseId?(this.beginRequest$.next(!0),this.api.deleteHouse(this.selectedHouse.houseId).pipe((0,hi.b)(this.requestStatusHandler)).subscribe(()=>this.viewMode="house")):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u043e\u043c"})}})}saveHouse(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f?",accept:()=>{var t;if(null!==(t=this.selectedHouse)&&void 0!==t&&t.houseId){this.beginRequest$.next(!0);const i=this.houseEditingForm.value;this.housePlace&&(i.place=this.housePlace),this.api.editHouse(this.selectedHouse.houseId,i).pipe((0,hi.b)(this.requestStatusHandler)).subscribe()}else this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u043e\u043c"})}})}back(){"houseView"===this.viewMode?(this.viewMode="house",this.selectedHouse=void 0):"house"===this.viewMode?(this.viewMode="street",this.selectedStreet=void 0):"street"===this.viewMode&&(this.viewMode="city",this.selectedCity=void 0)}openDialogCreateHouse(){this.createHouseForm.reset({isApartmentHouse:!1}),this.createHouseVisible=!0}openDialogCreateStreet(){this.createStreetForm.reset(),this.createStreetVisible=!0}openDialogCreateCity(){this.createCityForm.reset(),this.createCityVisible=!0}reload(){this.cities=[],this.streets=[],this.houses=[],this.selectedCity=void 0,this.selectedStreet=void 0,this.selectedHouse=void 0,this.viewMode="city",this.streetFiltering=!1,this.loadingState=me.Gu.LOADING,this.filterControl.reset(),this.cityLoad$.subscribe(this.loadingStateHandler)}houseNavigationHandler(t){-1===t?this.previousHouse():1===t&&this.nextHouse()}previousHouse(){if(this.selectedHouse){const t=this.houses.indexOf(this.selectedHouse);this.selectHouse(t>0?this.houses[t-1]:this.houses[this.houses.length-1])}}nextHouse(){if(this.selectedHouse){const t=this.houses.indexOf(this.selectedHouse);this.selectHouse(t<this.houses.length-1?this.houses[t+1]:this.houses[0])}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(J.F),e.Y36(N.ez),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:73,vars:37,consts:[["appExtendPageHeight","",1,"flexed","vcenter",3,"limited"],[1,"responsive-wrapper","flexed","gap10"],[1,"flex","p-3","flex-grow-1","gap-2","panel","overflow-hidden"],[3,"ngSwitch"],[4,"ngSwitchCase"],["cityList",""],["streetList",""],["houseList",""],["houseView",""],["loadingTemp",""],["errorTemp",""],["appendTo","body","header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442",3,"modal","resizable","dismissableMask","draggable","visible","visibleChange"],[1,"flex","flex-column","gap-3",3,"formGroup"],[1,"input-label-wrapper"],[1,"caption","size-small","wt-bold","f-color-500"],["pInputText","","type","text","formControlName","name"],["label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success","icon","mdi-add",1,"align-self-end",3,"disabled","onClick"],["appendTo","body","header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0443\u043b\u0438\u0446\u0443",3,"modal","resizable","dismissableMask","draggable","visible","visibleChange"],["appendTo","body","formControlName","prefix",3,"options"],["pInputText","","formControlName","name","type","text"],["formControlName","altNames","separator",",",3,"allowDuplicate","addOnTab","addOnBlur"],["pInputText","","formControlName","billingAlias","type","text"],["appendTo","body","header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u043c",3,"modal","resizable","draggable","dismissableMask","visible","visibleChange"],["formControlName","houseNum"],["formControlName","fraction",3,"min","max"],["formControlName","letter","mask","a","characterPattern","[\u0430-\u044f]"],["formControlName","build",3,"min","max"],["formControlName","isApartmentHouse"],[1,"flex","gap-1","flex-column"],["formControlName","acpHouseBind"],[4,"ngTemplateOutlet"],[1,"flex","gap-3","flex-grow-1"],[1,"flex","flex-column","gap-2","terminator-right"],[1,"flex","gap-3","px-3","align-items-center"],[1,"caption","size-big"],[1,"flex-grow-1"],["icon","mdi-add","styleClass","p-button-outlined p-button-success p-button-icon",3,"loading","disabled","onClick"],[1,"list-view","pr-3"],["class","flexed gap5 p10 h-min hcenter caption wt-bold f-color-600 border-round-md active-element","pRipple","",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","p-3","flex-grow-1","align-items-center","justify-content-center"],[1,"flex","flex-column","align-items-center","caption","f-color-500"],[1,"mds-check_circle"],[1,"caption","size-big","f-color-500"],["pRipple","",1,"flexed","gap5","p10","h-min","hcenter","caption","wt-bold","f-color-600","border-round-md","active-element",3,"click"],[1,"mdi-location_city"],[1,"flex","gap-3","pr-3","align-items-center"],["icon","mdi-arrow_back_ios_new","styleClass","p-button-text p-button-secondary p-button-icon",3,"loading","onClick"],[1,"pr-3"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"mdi-search"],["pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u043b\u0438\u0446\u044b...","type","text",3,"appPreventInput","formControl"],[1,"list-view","pr-3",3,"ngClass"],[1,"flexed","column","stretched","gap10"],[1,"flexed","gap5","pb-2","px-2","hcenter","terminator-bottom"],[1,"stretched"],["label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","styleClass","p-button-text p-button-danger","icon","mdi-delete",3,"loading","disabled","onClick"],[1,"flex","flex-column","gap-2","p-3",3,"formGroup"],["label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","class","align-self-end","styleClass","p-button-success","icon","mdi-save",3,"loading","disabled","onClick",4,"ngIf"],[1,"mdi-streetview"],["label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","styleClass","p-button-success","icon","mdi-save",1,"align-self-end",3,"loading","disabled","onClick"],["formControlName","prefix",3,"options"],[1,"mdi-home"],[1,"flex","flex-column","gap-3","flex-grow-1"],[1,"flex","align-items-center","gap-3","terminator-bottom","pb-2"],[1,"caption","size-big","flex-grow-1"],[1,"flex","gap-3"],["label","\u041f\u0440\u0435\u0434. (Alt+B)","icon","mdi-arrow_back","styleClass","p-button-text p-button-info",3,"loading","onClick"],["label","\u0421\u043b\u0435\u0434. (Alt+N)","icon","mdi-arrow_forward","iconPos","right","styleClass","p-button-text p-button-info",3,"loading","onClick"],[1,"flex","flex-column","gap-3","flex-grow-1","p-3",3,"formGroup"],["formControlName","fraction"],["pInputText","","formControlName","letter","type","text"],["formControlName","build"],[1,"flex","gap-1","align-items-center"],["formControlName","isApartmentHouse",3,"binary"],[1,"flex-grow-1",3,"center","zoom","options","yaclick"],[3,"geometry",4,"ngIf"],[3,"geometry"],[1,"flex","align-items-center","justify-content-center","flex-grow-1"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flex","align-items-center","justify-content-center","flex-grow-1","caption","size-big","f-color-danger"],[1,"flex","flex-column","align-items-center"],[1,"mds-error"],["label","\u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c","icon","mdi-refresh","styleClass","p-button-success p-button-outlined",1,"mt-3",3,"onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.ynx(4,3),e.YNc(5,F3,2,1,"ng-container",4),e.YNc(6,Z3,2,1,"ng-container",4),e.YNc(7,Y3,6,5,"ng-container",4),e.BQk(),e.qZA()()(),e.YNc(8,K3,15,6,"ng-template",null,5,e.W1O),e.YNc(10,eE,30,21,"ng-template",null,6,e.W1O),e.YNc(12,iE,37,20,"ng-template",null,7,e.W1O),e.YNc(14,aE,43,24,"ng-template",null,8,e.W1O),e.YNc(16,lE,2,0,"ng-template",null,9,e.W1O),e.YNc(18,cE,6,0,"ng-template",null,10,e.W1O),e.TgZ(20,"p-dialog",11),e.NdJ("visibleChange",function(d){return i.createCityVisible=d}),e.TgZ(21,"div",12)(22,"div",13)(23,"label",14),e._uU(24,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430"),e.qZA(),e._UZ(25,"input",15),e.qZA(),e.TgZ(26,"p-button",16),e.NdJ("onClick",function(){return i.createCity()}),e.qZA()()(),e.TgZ(27,"p-dialog",17),e.NdJ("visibleChange",function(d){return i.createStreetVisible=d}),e.TgZ(28,"div",12)(29,"div",13)(30,"label",14),e._uU(31,"\u0422\u0438\u043f"),e.qZA(),e._UZ(32,"p-dropdown",18),e.qZA(),e.TgZ(33,"div",13)(34,"label",14),e._uU(35,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u043b\u0438\u0446\u044b"),e.qZA(),e._UZ(36,"input",19),e.qZA(),e.TgZ(37,"div",13)(38,"label",14),e._uU(39,"\u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f"),e.qZA(),e._UZ(40,"p-chips",20),e.qZA(),e.TgZ(41,"div",13)(42,"label",14),e._uU(43,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432 \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0435"),e.qZA(),e._UZ(44,"input",21),e.qZA(),e.TgZ(45,"p-button",16),e.NdJ("onClick",function(){return i.createStreet()}),e.qZA()()(),e.TgZ(46,"p-dialog",22),e.NdJ("visibleChange",function(d){return i.createHouseVisible=d}),e.TgZ(47,"div",12)(48,"div",13)(49,"label",14),e._uU(50,"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430"),e.qZA(),e._UZ(51,"p-inputNumber",23),e.qZA(),e.TgZ(52,"div",13)(53,"label",14),e._uU(54,"\u0414\u0440\u043e\u0431\u044c (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(55,"p-inputNumber",24),e.qZA(),e.TgZ(56,"div",13)(57,"label",14),e._uU(58,"\u041b\u0438\u0442\u0435\u0440\u0430 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(59,"p-inputMask",25),e.qZA(),e.TgZ(60,"div",13)(61,"label",14),e._uU(62,"\u0421\u0442\u0440\u043e\u0435\u043d\u0438\u0435 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(63,"p-inputNumber",26),e.qZA(),e.TgZ(64,"div",13)(65,"label",14),e._uU(66,"\u041c\u043d\u043e\u0433\u043e\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u043d\u044b\u0439 \u0434\u043e\u043c?"),e.qZA(),e._UZ(67,"p-inputSwitch",27),e.qZA(),e.TgZ(68,"div",28)(69,"label",14),e._uU(70,"\u041f\u0440\u0438\u0432\u044f\u0437\u043a\u0430 \u043a ACP"),e.qZA(),e._UZ(71,"app-acp-house-input",29),e.qZA(),e.TgZ(72,"p-button",16),e.NdJ("onClick",function(){return i.createHouse()}),e.qZA()()()),2&t&&(e.Q6J("limited",!0),e.xp6(1),e.Akn(e.DdM(36,uE)),e.xp6(3),e.Q6J("ngSwitch",i.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(13),e.Q6J("modal",!0)("resizable",!1)("dismissableMask",!0)("draggable",!1)("visible",i.createCityVisible),e.xp6(1),e.Q6J("formGroup",i.createCityForm),e.xp6(5),e.Q6J("disabled",!i.createCityForm.valid),e.xp6(1),e.Q6J("modal",!0)("resizable",!1)("dismissableMask",!0)("draggable",!1)("visible",i.createStreetVisible),e.xp6(1),e.Q6J("formGroup",i.createStreetForm),e.xp6(4),e.Q6J("options",i.streetPrefixes),e.xp6(8),e.Q6J("allowDuplicate",!1)("addOnTab",!0)("addOnBlur",!0),e.xp6(5),e.Q6J("disabled",!i.createStreetForm.valid),e.xp6(1),e.Q6J("modal",!0)("resizable",!1)("draggable",!1)("dismissableMask",!0)("visible",i.createHouseVisible),e.xp6(1),e.Q6J("formGroup",i.createHouseForm),e.xp6(8),e.Q6J("min",1)("max",999),e.xp6(8),e.Q6J("min",1)("max",99),e.xp6(9),e.Q6J("disabled",!i.createHouseForm.valid))},data:{animation:[f.aq]}}),n})();function dE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-listbox",18),e.NdJ("onChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.selectTemplate(s.value))}),e.qZA()}if(2&n){const t=o.ngIf,i=e.oxw();e.Q6J("disabled","LOADING"===i.templateLoadingState)("hidden","READY"!==i.wireframesLoadingState)("options",t)}}function pE(n,o){1&n&&e.GkF(0)}function hE(n,o){if(1&n&&e._UZ(0,"app-task-template-input",20),2&n){const t=o.$implicit;e.Q6J("field",t)("formControlName",t.id)}}function gE(n,o){if(1&n&&(e.ynx(0),e.YNc(1,hE,1,2,"app-task-template-input",19),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.taskFields)}}function mE(n,o){1&n&&(e.TgZ(0,"div",21)(1,"div",22),e._UZ(2,"span",23),e.TgZ(3,"span"),e._uU(4,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043b\u0430\u0441\u0441 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA()()())}function fE(n,o){1&n&&(e.TgZ(0,"div",21),e._UZ(1,"p-progressSpinner",24),e.qZA())}function _E(n,o){1&n&&e._UZ(0,"app-employee-label",33),2&n&&e.Q6J("employee",o.$implicit)}const CE=function(){return{"max-height":"200px"}};function vE(n,o){if(1&n&&(e.TgZ(0,"section",25)(1,"div",6)(2,"span",7),e._uU(3,"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044b\u0435 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438"),e.qZA(),e.TgZ(4,"p-listbox",26),e.YNc(5,_E,1,1,"ng-template",27),e.qZA()(),e.TgZ(6,"div",28)(7,"div",6)(8,"span",7),e._uU(9,"\u0414\u0430\u0442\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442"),e.qZA(),e._UZ(10,"p-calendar",29),e.qZA(),e.TgZ(11,"div",6)(12,"span",7),e._uU(13,"\u0422\u0435\u0433\u0438 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(14,"app-task-tag-selector",30),e.qZA(),e.TgZ(15,"div",31)(16,"span",7),e._uU(17,"\u041e\u0442\u0447\u0435\u0442 \u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442\u0430\u0445"),e.qZA(),e._UZ(18,"textarea",32),e.qZA()()()),2&n){const t=e.oxw();e.Q6J("formGroup",t.installersReportForm),e.xp6(4),e.Q6J("checkbox",!0)("metaKeySelection",!1)("multiple",!0)("listStyle",e.DdM(12,CE))("options",t.installers),e.xp6(6),e.Q6J("readonlyInput",!0)("selectOtherMonths",!0)("firstDayOfWeek",1),e.xp6(4),e.Q6J("autoAccept",!0),e.xp6(4),e.Q6J("autoResize",!0)("rows",4)}}function bE(n,o){if(1&n&&(e.TgZ(0,"section",5),e._UZ(1,"app-works-picker",34),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("employees",t.installersReportForm.value.installers)("formControl",t.worksPickerForm)}}function yE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"section",5)(1,"app-employee-sum-distribution",35),e.NdJ("onRemoveFactorAction",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.removeFactorActionHandler(s))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formControl",t.employeeRatioForm)("employees",t.installersReportForm.value.installers)("actionPicker",t.worksPickerForm.valueChanges)}}function xE(n,o){1&n&&e._UZ(0,"p-inputNumber",42)}function IE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"section",36)(1,"div",37)(2,"span",38),e._uU(3,"\u041f\u043b\u0430\u0442\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430"),e.qZA(),e._UZ(4,"p-inputSwitch",39),e.YNc(5,xE,1,0,"p-inputNumber",40),e.qZA(),e.TgZ(6,"p-button",41),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.createTaskAndCalculate())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.paidWorkForm),e.xp6(4),e.Q6J("ngIf",t.paidWorkForm.value.isPaidWork),e.xp6(1),e.Q6J("loading",t.isSendingCalculation)}}function TE(n,o){1&n&&(e.TgZ(0,"span",48),e._UZ(1,"span",49),e.TgZ(2,"span"),e._uU(3,"\u041e\u0448\u0438\u0431\u043a\u0430"),e.qZA()())}function AE(n,o){1&n&&(e.TgZ(0,"span",50),e._UZ(1,"span",51),e.TgZ(2,"span"),e._uU(3,"\u041f\u0443\u0441\u0442\u043e"),e.qZA()())}function wE(n,o){1&n&&(e.ynx(0),e._UZ(1,"p-skeleton",52)(2,"p-skeleton",52)(3,"p-skeleton",52),e.BQk())}function EE(n,o){if(1&n&&(e.TgZ(0,"div",44),e.YNc(1,TE,4,0,"span",45),e.YNc(2,AE,4,0,"span",46),e.YNc(3,wE,4,0,"ng-container",47),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("ngSwitch",t.wireframesLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING")}}function SE(n,o){if(1&n&&e.YNc(0,EE,4,4,"div",43),2&n){const t=e.oxw();e.Q6J("ngIf","READY"!==t.wireframesLoadingState)}}let LT=(()=>{class n{constructor(t,i){this.api=t,this.toast=i,this.wireframesLoadingState=me.Gu.LOADING,this.wireframes$=(0,In.of)(null).pipe((0,hi.b)(()=>{this.wireframesLoadingState=me.Gu.LOADING}),(0,R.w)(()=>this.api.getWireframes(!1)),(0,hi.b)({next:s=>{this.wireframesLoadingState=s.length>0?me.Gu.READY:me.Gu.EMPTY},error:()=>{this.wireframesLoadingState=me.Gu.ERROR}}),(0,gt.U)(s=>s.map(d=>({label:d.name,value:d.wireframeId})))),this.templateLoadingState=me.Gu.EMPTY,this.taskFields=[],this.taskInformationForm=new g.cw({}),this.installers=[],this.loadingInstallers$=this.api.getInstallersEmployees().pipe((0,hi.b)({next:s=>{this.installers=s},error:()=>{}})),this.installersReportForm=new g.cw({installers:new g.NI([],[g.kI.required]),report:new g.NI("",[g.kI.required]),tags:new g.NI([]),date:new g.NI(new Date,[g.kI.required])}),this.subscriptions=new _.xf,this.worksPickerForm=new g.NI(null,[this.worksPickerValidator]),this.isSendingCalculation=!1,this.employeeRatioForm=new g.NI({}),this.paidWorkForm=new g.cw({isPaidWork:new g.NI(!1),amountOfMoneyTaken:new g.NI(null)}),this._selectTemplateSubject=new wr.x,this.selectWireframe$=this._selectTemplateSubject.pipe((0,hi.b)(()=>{this.templateLoadingState=me.Gu.LOADING}),(0,R.w)(s=>this.api.getWireframe(s)),(0,hi.b)(()=>this.loadingInstallers$.subscribe()),(0,hi.b)({next:s=>{var d,T,W;this.taskFields=null!==(d=s.allFields)&&void 0!==d?d:[],this.selectedWireframe=s,this.taskInformationForm=new g.cw(null!==(W=null===(T=s.allFields)||void 0===T?void 0:T.reduce((Ce,qe)=>Object.assign(Object.assign({},Ce),{[qe.id]:new g.NI(null,P.d.taskInput(qe.type,qe.variation))}),{}))&&void 0!==W?W:new g.cw({})),this.templateLoadingState=me.Gu.READY},error:()=>{this.templateLoadingState=me.Gu.ERROR}})),this.sendingCalculationHandler={next:()=>{this.isSendingCalculation=!1,this.worksPickerForm.enable(),this.employeeRatioForm.enable(),this.installersReportForm.enable(),this.taskInformationForm.enable(),this.paidWorkForm.enable(),this.worksPickerForm.reset(),this.employeeRatioForm.reset(),this.paidWorkForm.reset(),this.installersReportForm.reset({installers:[],report:"",tags:[],date:new Date}),this.taskInformationForm.reset()},error:()=>{this.isSendingCalculation=!1,this.worksPickerForm.enable(),this.employeeRatioForm.enable(),this.installersReportForm.enable(),this.taskInformationForm.enable(),this.paidWorkForm.enable()}}}worksPickerValidator(t){const i=t.value;return null==i?{required:!0}:"actionsTaken"in i?null==i.actionsTaken||0===i.actionsTaken.length?{required:!0}:null:{required:!0}}ngOnInit(){this.subscriptions.addSubscription("selwf",this.selectWireframe$.subscribe())}ngOnDestroy(){this.subscriptions.unsubscribeAll()}selectTemplate(t){this._selectTemplateSubject.next(t)}getFactorsActions(t){var i,s;return null!==(i=this.worksPickerForm.value)&&void 0!==i&&i.factorsActions?null===(s=this.worksPickerForm.value)||void 0===s?void 0:s.factorsActions.filter(d=>d.login===t):[]}createTaskAndCalculate(){var t;const i=this.installersReportForm.value.installers;this.taskInformationForm.markAllAsTouched(),this.worksPickerForm.markAllAsTouched(),this.installersReportForm.markAllAsTouched(),this.taskInformationForm.invalid?this.toast.add({detail:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0437\u0430\u0434\u0430\u0447\u0435",severity:"red",key:"redtoast",icon:"mdi-cancel",closable:!1}):this.installersReportForm.invalid?this.toast.add({detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0430 \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043e\u0442\u0447\u0435\u0442",severity:"red",key:"redtoast",icon:"mdi-cancel",closable:!1}):this.worksPickerForm.invalid?this.toast.add({detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0435 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0430\u043c\u0438 \u0440\u0430\u0431\u043e\u0442\u044b",severity:"red",key:"redtoast",icon:"mdi-cancel",closable:!1}):!i||null===(t=this.worksPickerForm.value)||void 0===t||!t.actionsTaken||!this.selectedWireframe||this.paidWorkForm.value.isPaidWork&&(!this.paidWorkForm.value.amountOfMoneyTaken||this.paidWorkForm.value.amountOfMoneyTaken<1)||(this.isSendingCalculation=!0,this.worksPickerForm.disable(),this.employeeRatioForm.disable(),this.installersReportForm.disable(),this.taskInformationForm.disable(),this.paidWorkForm.disable(),this.api.sendBypassWorkCalculation({taskInfo:{wireframeId:this.selectedWireframe.wireframeId,fields:_.PU.convert(this.taskInformationForm.value,this.selectedWireframe)},reportInfo:this.installersReportForm.value,actions:this.worksPickerForm.value.actionsTaken.map(s=>({workId:s.workId,actionId:s.actionId,count:s.count,uuid:s.uuid})),spreading:i.map(s=>({login:s.login,ratio:this.employeeRatioForm.value?this.employeeRatioForm.value[s.login].ratio:0,factorsActions:this.getFactorsActions(s.login).filter(d=>d).map(d=>({factor:d.factor,name:d.name,actionUuids:d.actionUuids}))})),isPaidWork:this.paidWorkForm.value.isPaidWork,amountOfMoneyTaken:this.paidWorkForm.value.amountOfMoneyTaken}).subscribe(this.sendingCalculationHandler))}removeFactorActionHandler(t){this.worksPickerForm.value&&this.worksPickerForm.setValue({actionsTaken:this.worksPickerForm.value.actionsTaken,factorsActions:t})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(N.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:28,vars:13,consts:[["appExtendPageHeight","",1,"flex","flex-grow-1","px-4"],[1,"flex","flex-grow-1","gap-3","mb-3"],[1,"flex","flex-column","flex-grow-1","panel"],[1,"caption","size-huge","wt-tiny","f-color-600","p-3","terminator-bottom"],[1,"flex","flex-column","px-4"],[1,"flex","gap-4","p-4","terminator-bottom"],[1,"flex","flex-column","gap-1"],[1,"caption","wt-bold","f-color-500"],[3,"disabled","hidden","options","onChange",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"flex","flex-grow-1","flex-column","gap-2",3,"formGroup"],[4,"ngIf"],[3,"ngSwitch"],["class","flex justify-content-center",4,"ngSwitchCase"],["class","flex gap-4 p-4 terminator-bottom",3,"formGroup",4,"ngIf"],["class","flex gap-4 p-4 terminator-bottom",4,"ngIf"],["class","flex gap-3 w-max align-self-end my-3",4,"ngIf"],["wireframesLoadingTemp",""],[3,"disabled","hidden","options","onChange"],[3,"field","formControlName",4,"ngFor","ngForOf"],[3,"field","formControlName"],[1,"flex","justify-content-center"],[1,"flex","align-items-center","caption","size-big","wt-bold","f-color-400"],[1,"mds-done"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flex","gap-4","p-4","terminator-bottom",3,"formGroup"],["formControlName","installers",3,"checkbox","metaKeySelection","multiple","listStyle","options"],["pTemplate","item"],[1,"flex","flex-column","gap-2","flex-grow-1"],["selectionMode","single","appendTo","body","formControlName","date",3,"readonlyInput","selectOtherMonths","firstDayOfWeek"],["formControlName","tags",3,"autoAccept"],[1,"flex","flex-column","gap-1","flex-grow-1"],["pInputTextarea","","formControlName","report",3,"autoResize","rows"],[3,"employee"],[1,"flex-grow-1",3,"employees","formControl"],[1,"w-full",3,"formControl","employees","actionPicker","onRemoveFactorAction"],[1,"flex","gap-3","w-max","align-self-end","my-3"],[1,"flex","gap-2","align-items-center",3,"formGroup"],[1,"text-sm","text-bluegray-400","font-bold","white-space-nowrap"],["formControlName","isPaidWork",1,"line-height-0"],["formControlName","amountOfMoneyTaken","placeholder","\u0421\u0443\u043c\u043c\u0430","mode","currency","currency","RUB",4,"ngIf"],["icon","mdi-currency_exchange","label","\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"loading","onClick"],["formControlName","amountOfMoneyTaken","placeholder","\u0421\u0443\u043c\u043c\u0430","mode","currency","currency","RUB"],["class","border-round-md border-1 border-solid border-300 p-3 flex flex-column gap-2",3,"ngSwitch",4,"ngIf"],[1,"border-round-md","border-1","border-solid","border-300","p-3","flex","flex-column","gap-2",3,"ngSwitch"],["class","flex flex-grow-1 gap-1 h-10rem align-items-center justify-content-center caption wt-bold f-color-danger",4,"ngSwitchCase"],["class","flex flex-grow-1 gap-1 h-10rem align-items-center justify-content-center caption wt-bold f-color-300",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"flex","flex-grow-1","gap-1","h-10rem","align-items-center","justify-content-center","caption","wt-bold","f-color-danger"],[1,"mdi-error"],[1,"flex","flex-grow-1","gap-1","h-10rem","align-items-center","justify-content-center","caption","wt-bold","f-color-300"],[1,"mdi-backpack"],["width","10rem","height","2.8rem"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2)(4,"span",3),e._uU(5,"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 \u0438 \u043f\u043e\u0434\u0441\u0447\u0435\u0442 \u0440\u0430\u0431\u043e\u0442"),e.qZA(),e.TgZ(6,"div",4)(7,"section",5)(8,"div")(9,"div",6)(10,"span",7),e._uU(11,"\u041a\u043b\u0430\u0441\u0441 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.YNc(12,dE,1,3,"p-listbox",8),e.ALo(13,"async"),e.YNc(14,pE,1,0,"ng-container",9),e.qZA()(),e.TgZ(15,"div",10)(16,"span",7),e._uU(17,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0437\u0430\u0434\u0430\u0447\u0435"),e.qZA(),e.YNc(18,gE,2,1,"ng-container",11),e.ynx(19,12),e.YNc(20,mE,5,0,"div",13),e.YNc(21,fE,2,0,"div",13),e.BQk(),e.qZA()(),e.YNc(22,vE,19,13,"section",14),e.YNc(23,bE,2,2,"section",15),e.YNc(24,yE,2,3,"section",15),e.YNc(25,IE,7,3,"section",16),e.qZA()()()(),e.YNc(26,SE,1,1,"ng-template",null,17,e.W1O)),2&t){const s=e.MAs(27);e.xp6(12),e.Q6J("ngIf",e.lcZ(13,11,i.wireframes$)),e.xp6(2),e.Q6J("ngTemplateOutlet",s),e.xp6(1),e.Q6J("formGroup",i.taskInformationForm),e.xp6(3),e.Q6J("ngIf","READY"===i.templateLoadingState),e.xp6(1),e.Q6J("ngSwitch",i.templateLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngIf","READY"===i.templateLoadingState),e.xp6(1),e.Q6J("ngIf","READY"===i.templateLoadingState),e.xp6(1),e.Q6J("ngIf","READY"===i.templateLoadingState),e.xp6(1),e.Q6J("ngIf","READY"===i.templateLoadingState)}}}),n})();function kE(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",4),e._uU(2,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0443"),e.qZA(),e.TgZ(3,"div",5)(4,"div",6)(5,"label"),e._uU(6,"\u0425\u043e\u0441\u0442"),e.qZA(),e._UZ(7,"input",7),e.qZA(),e.TgZ(8,"div",6)(9,"label"),e._uU(10,"\u041f\u043e\u0440\u0442"),e.qZA(),e._UZ(11,"p-inputNumber",8),e.qZA(),e.TgZ(12,"div",6)(13,"label"),e._uU(14,"\u041b\u043e\u0433\u0438\u043d"),e.qZA(),e._UZ(15,"input",9),e.qZA(),e.TgZ(16,"div",6)(17,"label"),e._uU(18,"\u041f\u0430\u0440\u043e\u043b\u044c"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"div",6)(21,"label"),e._uU(22,"\u0418\u043c\u044f \u0434\u0435\u043c\u043e\u043d\u0430"),e.qZA(),e._UZ(23,"input",11),e.qZA(),e.TgZ(24,"div",6)(25,"label"),e._uU(26,"IP \u041c\u0430\u0448\u0438\u043d\u044b"),e.qZA(),e._UZ(27,"app-ip-input",12),e.qZA()(),e.TgZ(28,"div",13)(29,"p-button",14),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.saveConf())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.billingConfigForm),e.xp6(8),e.Q6J("max",65538)("min",1),e.xp6(18),e.Q6J("loading",t.isSaving)("disabled",!t.billingConfigForm.valid)}}function DE(n,o){1&n&&(e.ynx(0),e.TgZ(1,"span",4),e._uU(2,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0443"),e.qZA(),e.TgZ(3,"div",15)(4,"div",6)(5,"label"),e._uU(6,"\u0425\u043e\u0441\u0442"),e.qZA(),e._UZ(7,"p-skeleton",16),e.qZA(),e.TgZ(8,"div",6)(9,"label"),e._uU(10,"\u041f\u043e\u0440\u0442"),e.qZA(),e._UZ(11,"p-skeleton",17),e.qZA(),e.TgZ(12,"div",6)(13,"label"),e._uU(14,"\u041b\u043e\u0433\u0438\u043d"),e.qZA(),e._UZ(15,"p-skeleton",16),e.qZA(),e.TgZ(16,"div",6)(17,"label"),e._uU(18,"\u041f\u0430\u0440\u043e\u043b\u044c"),e.qZA(),e._UZ(19,"p-skeleton",16),e.qZA(),e.TgZ(20,"div",6)(21,"label"),e._uU(22,"\u0418\u043c\u044f \u0434\u0435\u043c\u043e\u043d\u0430"),e.qZA(),e._UZ(23,"p-skeleton",16),e.qZA(),e.TgZ(24,"div",6)(25,"label"),e._uU(26,"IP \u041c\u0430\u0448\u0438\u043d\u044b"),e.qZA(),e._UZ(27,"p-skeleton",18),e.qZA()(),e.TgZ(28,"div",13),e._UZ(29,"p-skeleton",19),e.qZA(),e.BQk())}let RT=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this.billingConfigForm=new g.cw({host:new g.NI("",[g.kI.required]),port:new g.NI(80,[g.kI.required]),login:new g.NI("",[g.kI.required]),password:new g.NI("",[g.kI.required]),daemonName:new g.NI("",[g.kI.required]),selfIp:new g.NI("",[g.kI.required])}),this.isLoading=!0,this.isSaving=!1}ngOnInit(){this.api.getBillingConfiguration().subscribe(t=>{this.billingConfigForm.patchValue(t),this.isLoading=!1}),this.subscription=this.rt.billingConfigChanged().subscribe(t=>this.billingConfigForm.patchValue(t))}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}saveConf(){this.isSaving=!0,this.billingConfigForm.disable({emitEvent:!1}),this.api.setBillingConfiguration(this.billingConfigForm.value).subscribe({next:()=>{this.isSaving=!1,this.billingConfigForm.enable({emitEvent:!1})},error:()=>{this.isSaving=!1,this.billingConfigForm.enable({emitEvent:!1})}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:6,vars:2,consts:[["appExtendPageHeight","",1,"flex","justify-content-center"],[1,"responsive-wrapper","flex","gap-3"],[1,"flex","flex-column","flex-grow-1","h-fit","gap-3","panel","overflow-hidden","mb-3"],[4,"ngIf"],[1,"text-xl","font-light","text-bluegray-600","p-3"],[1,"flex","flex-column","gap-3","px-5",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","host","pInputText","","type","text"],["formControlName","port",3,"max","min"],["formControlName","login","pInputText","","type","text"],["formControlName","password","pInputText","","type","text"],["formControlName","daemonName","pInputText","","type","text"],["formControlName","selfIp"],[1,"flex","px-5","pb-5","justify-content-end"],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","styleClass","p-button-success",3,"loading","disabled","onClick"],[1,"flex","flex-column","gap-3","px-5"],["height","3rem"],["width","15rem","height","3rem"],["width","16rem","height","3rem"],["height","3rem","width","10rem"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.YNc(4,kE,30,5,"ng-container",3),e.YNc(5,DE,30,0,"ng-container",3),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",!i.isLoading),e.xp6(1),e.Q6J("ngIf",i.isLoading))}}),n})();function ME(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",4),e._uU(2,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 Telegram"),e.qZA(),e.TgZ(3,"div",5)(4,"div",6)(5,"label"),e._uU(6,"\u0422\u043e\u043a\u0435\u043d \u0431\u043e\u0442\u0430"),e.qZA(),e._UZ(7,"input",7),e.qZA(),e.TgZ(8,"div",6)(9,"label"),e._uU(10,"\u0418\u043c\u044f \u0431\u043e\u0442\u0430"),e.qZA(),e._UZ(11,"input",8),e.qZA(),e.TgZ(12,"div",6)(13,"label"),e._uU(14,"Id \u0447\u0430\u0442\u0430 DHCP \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"),e.qZA(),e._UZ(15,"input",9),e.qZA()(),e.TgZ(16,"div",10)(17,"p-button",11),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.saveConf())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.telegramConfigForm),e.xp6(14),e.Q6J("loading",t.isSaving)("disabled",!t.telegramConfigForm.valid)}}function OE(n,o){1&n&&(e.ynx(0),e.TgZ(1,"span",4),e._uU(2,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 Telegram"),e.qZA(),e.TgZ(3,"div",12)(4,"div",6)(5,"label"),e._uU(6,"\u0422\u043e\u043a\u0435\u043d \u0431\u043e\u0442\u0430"),e.qZA(),e._UZ(7,"p-skeleton",13),e.qZA(),e.TgZ(8,"div",6)(9,"label"),e._uU(10,"\u0418\u043c\u044f \u0431\u043e\u0442\u0430"),e.qZA(),e._UZ(11,"p-skeleton",13),e.qZA(),e.TgZ(12,"div",6)(13,"label"),e._uU(14,"Id \u0447\u0430\u0442\u0430 DHCP \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"),e.qZA(),e._UZ(15,"p-skeleton",13),e.qZA()(),e.TgZ(16,"div",10),e._UZ(17,"p-skeleton",14),e.qZA(),e.BQk())}let NT=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this.isLoading=!0,this.isSaving=!1,this.telegramConfigForm=new g.cw({botToken:new g.NI("",[g.kI.required]),botName:new g.NI("",[g.kI.required]),dhcpNotificationChatId:new g.NI("")})}ngOnInit(){this.api.getTelegramConfiguration().subscribe(t=>{this.telegramConfigForm.patchValue(t),this.isLoading=!1}),this.subscription=this.rt.telegramConfigChanged().subscribe(t=>this.telegramConfigForm.patchValue(t))}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}saveConf(){this.isSaving=!0,this.telegramConfigForm.disable({emitEvent:!1}),this.api.setTelegramConfiguration(this.telegramConfigForm.value).subscribe({next:()=>{this.isSaving=!1,this.telegramConfigForm.enable({emitEvent:!1})},error:()=>{this.isSaving=!1,this.telegramConfigForm.enable({emitEvent:!1})}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:6,vars:2,consts:[["appExtendPageHeight","",1,"flex","justify-content-center"],[1,"responsive-wrapper","flex","gap-3"],[1,"flex","flex-column","flex-grow-1","h-fit","gap-3","panel","overflow-hidden","mb-3"],[4,"ngIf"],[1,"text-xl","font-light","text-bluegray-600","p-3"],[1,"flex","flex-column","gap-3","px-5",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","botToken","pInputText","","type","text"],["formControlName","botName","pInputText","","type","text"],["formControlName","dhcpNotificationChatId","pInputText","","type","text"],[1,"flex","px-5","pb-5","justify-content-end"],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","styleClass","p-button-success",3,"loading","disabled","onClick"],[1,"flex","flex-column","gap-3","px-5"],["height","3rem"],["height","3rem","width","10rem"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.YNc(4,ME,18,3,"ng-container",3),e.YNc(5,OE,18,0,"ng-container",3),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",!i.isLoading),e.xp6(1),e.Q6J("ngIf",i.isLoading))}}),n})();function PE(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",4),e._uU(2,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 ACP"),e.qZA(),e.TgZ(3,"div",5)(4,"div",6)(5,"label"),e._uU(6,"Endpoint"),e.qZA(),e._UZ(7,"input",7),e.qZA()(),e.TgZ(8,"div",8)(9,"p-button",9),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.saveConf())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.acpConfigForm),e.xp6(6),e.Q6J("loading",t.isSaving)("disabled",!t.acpConfigForm.valid)}}function LE(n,o){1&n&&(e.ynx(0),e.TgZ(1,"span",4),e._uU(2,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 ACP"),e.qZA(),e.TgZ(3,"div",10)(4,"div",6)(5,"label"),e._uU(6,"Endpoint"),e.qZA(),e._UZ(7,"p-skeleton",11),e.qZA()(),e.TgZ(8,"div",8),e._UZ(9,"p-skeleton",12),e.qZA(),e.BQk())}let FT=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this.isLoading=!0,this.isSaving=!1,this.acpConfigForm=new g.cw({acpFlexConnectorEndpoint:new g.NI("",[g.kI.required])})}ngOnInit(){this.api.getAcpConfiguration().subscribe(t=>{this.acpConfigForm.patchValue(t),this.isLoading=!1}),this.subscription=this.rt.acpConfigChanged().subscribe(t=>this.acpConfigForm.patchValue(t))}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}saveConf(){this.isSaving=!0,this.acpConfigForm.disable({emitEvent:!1}),this.api.setAcpConfiguration(this.acpConfigForm.value).subscribe({next:()=>{this.isSaving=!1,this.acpConfigForm.enable({emitEvent:!1})},error:()=>{this.isSaving=!1,this.acpConfigForm.enable({emitEvent:!1})}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:6,vars:2,consts:[["appExtendPageHeight","",1,"flex","justify-content-center"],[1,"responsive-wrapper","flex","gap-3"],[1,"flex","flex-column","flex-grow-1","gap-3","h-fit","panel","overflow-hidden","mb-3"],[4,"ngIf"],[1,"text-xl","font-light","text-bluegray-600","p-3"],[1,"flex","flex-column","gap-3","px-5",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","acpFlexConnectorEndpoint","pInputText","","type","text"],[1,"flex","px-5","pb-5","justify-content-end"],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","styleClass","p-button-success",3,"loading","disabled","onClick"],[1,"flex","flex-column","gap-3","px-5"],["height","3rem"],["height","3rem","width","10rem"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.YNc(4,PE,10,3,"ng-container",3),e.YNc(5,LE,10,0,"ng-container",3),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",!i.isLoading),e.xp6(1),e.Q6J("ngIf",i.isLoading))}}),n})(),BT=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:3,vars:0,consts:[["appExtendPageHeight","",1,"flex","px-3","gap-3","w-full"],[1,"flex-grow-1"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-main-menu-panel")(2,"app-files-viewer",1),e.qZA())}}),n})();var RE=b(5107);let NE=(()=>{class n{constructor(){}canActivate(t,i){return!_.Ke.loadOrDefault("isOffsite",!1)}canActivateChild(t,i){return!_.Ke.loadOrDefault("isOffsite",!1)}canLoad(t,i){return!_.Ke.loadOrDefault("isOffsite",!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Y1=b(9814);function FE(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"p-breadcrumb",44),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("model",t)}}function BE(n,o){1&n&&e.GkF(0)}function ZE(n,o){1&n&&e.GkF(0)}function UE(n,o){1&n&&e.GkF(0)}function HE(n,o){1&n&&e.GkF(0)}function VE(n,o){1&n&&e.GkF(0)}function zE(n,o){1&n&&e._UZ(0,"div",45)}const Zx=function(n){return{status:"ACTIVE",schedulingType:n}};function JE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-catalog-menu-item",46),e.NdJ("expandChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.cacheService.rootExpandMap.active=s)})("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cacheService.unExpandOtherCatalog("active"))}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(24);e.Q6J("contentTemplate",i)("expand",t.cacheService.rootExpandMap.active)("counter",t.cacheService.getTasksCounter(null,e.VKq(6,Zx,t.SchedulingType.EXCEPT_PLANNED)))("isEmpty",!1)("label","\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435")("link","/tasks/catalog/active")}}const G_=function(n){return{wireframe:n}},QE=function(n,o){return{status:"ACTIVE",cls:n,schedulingType:o}};function GE(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw(3),s=e.MAs(26);let d;e.Q6J("contentTemplateData",e.VKq(6,G_,t))("contentTemplate",s)("counter",i.cacheService.getTasksCounter(null,e.WLB(8,QE,t.wireframeId,i.SchedulingType.EXCEPT_PLANNED)))("isEmpty",0===(null!==(d=null==t.stages?null:t.stages.length)&&void 0!==d?d:0))("label",t.name)("link","/tasks/catalog/active/"+t.wireframeId)}}function WE(n,o){if(1&n&&(e.ynx(0),e.YNc(1,GE,1,11,"app-catalog-menu-item",47),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function YE(n,o){if(1&n&&(e.YNc(0,WE,2,1,"ng-container",4),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}const W_=function(n,o){return{wireframe:n,stage:o}},ZT=function(n,o,t){return{status:"ACTIVE",cls:n,type:o,schedulingType:t}};function jE(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw().wireframe,s=e.oxw(),d=e.MAs(28);e.Q6J("contentTemplateData",e.WLB(6,W_,i,t))("contentTemplate",d)("counter",s.cacheService.getTasksCounter(null,e.kEZ(9,ZT,i.wireframeId,t.stageId,s.SchedulingType.EXCEPT_PLANNED)))("isEmpty",!1)("label",t.label)("link","/tasks/catalog/active/"+i.wireframeId+"/"+t.stageId)}}function KE(n,o){1&n&&e.YNc(0,jE,1,13,"app-catalog-menu-item",47),2&n&&e.Q6J("ngForOf",o.wireframe.stages)}const qE=function(n,o,t){return{wireframe:n,stage:o,directory:t}},UT=function(n,o,t,i){return{status:"ACTIVE",cls:n,type:o,directory:t,schedulingType:i}};function $E(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-catalog-menu-item",50),e.NdJ("onDrop",function(){const d=e.CHM(t).$implicit,T=e.oxw(3);return e.KtG(T.cacheService.moveToDirectory(d))}),e.qZA(),e.BQk()}if(2&n){const t=o.$implicit,i=e.oxw(2),s=i.wireframe,d=i.stage,T=e.oxw(),W=e.MAs(30);e.xp6(1),e.Akn(T.cacheService.catalogHighlight(t.taskTypeDirectoryId)),e.Q6J("autoExpand",!1)("contentTemplateData",e.kEZ(10,qE,s,d,t))("contentTemplate",W)("counter",T.cacheService.getTasksCounter("dir",e.l5B(14,UT,s.wireframeId,d.stageId,t.taskTypeDirectoryId,T.SchedulingType.EXCEPT_PLANNED)))("droppable",d.stageId)("isEmpty",!1)("label",t.name)("link","/tasks/catalog/active/"+s.wireframeId+"/"+d.stageId+"/dir/"+t.taskTypeDirectoryId)}}function XE(n,o){if(1&n&&(e.ynx(0),e.YNc(1,$E,2,19,"ng-container",49),e.BQk()),2&n){const t=e.oxw().stage;e.xp6(1),e.Q6J("ngForOf",t.directories)}}function eS(n,o){1&n&&e.GkF(0)}function tS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,eS,1,0,"ng-container",51),e.BQk()),2&n){const t=e.oxw(),i=t.wireframe,s=t.stage;e.oxw();const d=e.MAs(68);e.xp6(1),e.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",e.WLB(2,W_,i,s))}}function nS(n,o){if(1&n&&(e.YNc(0,XE,2,1,"ng-container",4),e.YNc(1,tS,2,5,"ng-container",4)),2&n){const t=o.stage;e.Q6J("ngIf",t.directories&&t.directories.length>0),e.xp6(1),e.Q6J("ngIf",!(t.directories&&t.directories.length>0))}}function iS(n,o){1&n&&e.GkF(0)}const oS=function(n,o,t,i){return{tag:n,wireframe:o,stage:t,dir:i}};function sS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,iS,1,0,"ng-container",51),e.BQk()),2&n){const t=o.$implicit,i=e.oxw(3),s=i.wireframe,d=i.stage,T=i.directory;e.oxw();const W=e.MAs(70);e.xp6(1),e.Q6J("ngTemplateOutlet",W)("ngTemplateOutletContext",e.l5B(2,oS,t,s,d,T))}}function rS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,sS,2,7,"ng-container",49),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function aS(n,o){if(1&n&&(e.TgZ(0,"div",53),e.YNc(1,rS,2,1,"ng-container",54),e.qZA()),2&n){const t=o.ngIf;e.oxw(2);const i=e.MAs(78);e.xp6(1),e.Q6J("ngIf",null!==t&&t.length>0)("ngIfElse",i)}}function lS(n,o){if(1&n&&(e.YNc(0,aS,2,2,"div",52),e.ALo(1,"async")),2&n){const t=o.directory,i=o.stage,s=o.wireframe,d=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,d.cacheService.getTagsFromCatalog(e.l5B(3,UT,s.wireframeId,i.stageId,t.taskTypeDirectoryId,d.SchedulingType.EXCEPT_PLANNED))))}}const cS=function(n){return{status:"PROCESSING",schedulingType:n}};function uS(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-catalog-menu-item",46),e.NdJ("expandChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.cacheService.rootExpandMap.processing=s)})("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cacheService.unExpandOtherCatalog("processing"))}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(34);e.Q6J("contentTemplate",i)("expand",t.cacheService.rootExpandMap.processing)("counter",t.cacheService.getTasksCounter(null,e.VKq(6,cS,t.SchedulingType.UNSCHEDULED)))("isEmpty",!1)("label","\u0423 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432")("link","/tasks/catalog/processing")}}const dS=function(n,o){return{status:"PROCESSING",cls:n,schedulingType:o}};function pS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw(3),s=e.MAs(36);let d;e.Q6J("contentTemplateData",e.VKq(6,G_,t))("contentTemplate",s)("counter",i.cacheService.getTasksCounter(null,e.WLB(8,dS,t.wireframeId,i.SchedulingType.UNSCHEDULED)))("isEmpty",0===(null!==(d=null==t.stages?null:t.stages.length)&&void 0!==d?d:0))("label",t.name)("link","/tasks/catalog/processing/"+t.wireframeId)}}function hS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,pS,1,11,"app-catalog-menu-item",47),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function gS(n,o){if(1&n&&(e.YNc(0,hS,2,1,"ng-container",4),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}const mS=function(n,o,t){return{status:"PROCESSING",cls:n,type:o,schedulingType:t}};function fS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",56),2&n){const t=o.$implicit,i=e.oxw().wireframe,s=e.oxw();e.Q6J("counter",s.cacheService.getTasksCounter(null,e.kEZ(4,mS,i.wireframeId,t.stageId,s.SchedulingType.UNSCHEDULED)))("isEmpty",!0)("label",t.label)("link","/tasks/catalog/processing/"+i.wireframeId+"/"+t.stageId)}}function _S(n,o){1&n&&e.YNc(0,fS,1,8,"app-catalog-menu-item",55),2&n&&e.Q6J("ngForOf",o.wireframe.stages)}const CS=function(n){return{status:"CLOSE",schedulingType:n}};function vS(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-catalog-menu-item",57),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cacheService.unExpandOtherCatalog("close"))})("expandChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.cacheService.rootExpandMap.close=s)}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(40);e.Q6J("contentTemplate",i)("counter",t.cacheService.getTasksCounter(null,e.VKq(6,CS,t.SchedulingType.UNSCHEDULED)))("isEmpty",!1)("expand",t.cacheService.rootExpandMap.close)("label","\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435")("link","/tasks/catalog/close")}}const bS=function(n,o){return{status:"CLOSE",cls:n,schedulingType:o}};function yS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw(3),s=e.MAs(42);let d;e.Q6J("contentTemplateData",e.VKq(6,G_,t))("contentTemplate",s)("counter",i.cacheService.getTasksCounter(null,e.WLB(8,bS,t.wireframeId,i.SchedulingType.UNSCHEDULED)))("isEmpty",0===(null!==(d=null==t.stages?null:t.stages.length)&&void 0!==d?d:0))("label",t.name)("link","/tasks/catalog/close/"+t.wireframeId)}}function xS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,yS,1,11,"app-catalog-menu-item",47),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function IS(n,o){if(1&n&&(e.YNc(0,xS,2,1,"ng-container",4),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}const TS=function(n,o,t){return{status:"CLOSE",cls:n,type:o,schedulingType:t}};function AS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw().wireframe,s=e.oxw(),d=e.MAs(44);e.Q6J("contentTemplateData",e.WLB(6,W_,i,t))("contentTemplate",d)("counter",s.cacheService.getTasksCounter(null,e.kEZ(9,TS,i.wireframeId,t.stageId,s.SchedulingType.UNSCHEDULED)))("isEmpty",!1)("label",t.label)("link","/tasks/catalog/close/"+i.wireframeId+"/"+t.stageId)}}function wS(n,o){1&n&&e.YNc(0,AS,1,13,"app-catalog-menu-item",47),2&n&&e.Q6J("ngForOf",o.wireframe.stages)}const jg=function(n){return{timeFrame:n}},HT=function(n,o,t,i){return{status:"CLOSE",cls:n,type:o,dateOfClose:t,schedulingType:i}},Ux=function(n,o,t){return{wireframe:n,stage:o,timeFrame:t}};function ES(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",59),2&n){const t=o.$implicit,i=e.oxw(),s=i.wireframe,d=i.stage,T=e.oxw(),W=e.MAs(46);e.Q6J("counter",T.cacheService.getTasksCounter("close-time",e.l5B(9,HT,s.wireframeId,d.stageId,e.VKq(7,jg,t.id),T.SchedulingType.UNSCHEDULED)))("isEmpty",!1)("label",t.name)("autoExpand",!1)("contentTemplate",W)("contentTemplateData",e.kEZ(14,Ux,s,d,t.id))("link","/tasks/catalog/close/"+s.wireframeId+"/"+d.stageId+"/close-time/"+t.id)}}function SS(n,o){if(1&n&&e.YNc(0,ES,1,18,"app-catalog-menu-item",58),2&n){const t=e.oxw();e.Q6J("ngForOf",t.cacheService.beforeTemporaryMap)}}function kS(n,o){1&n&&e.GkF(0)}const Hx=function(n,o,t,i){return{tag:n,wireframe:o,stage:t,timeFrame:i}};function DS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,kS,1,0,"ng-container",51),e.BQk()),2&n){const t=o.$implicit,i=e.oxw(3),s=i.wireframe,d=i.stage,T=i.timeFrame;e.oxw();const W=e.MAs(72);e.xp6(1),e.Q6J("ngTemplateOutlet",W)("ngTemplateOutletContext",e.l5B(2,Hx,t,s,d,T))}}function MS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,DS,2,7,"ng-container",49),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function OS(n,o){if(1&n&&(e.TgZ(0,"div",53),e.YNc(1,MS,2,1,"ng-container",54),e.qZA()),2&n){const t=o.ngIf;e.oxw(2);const i=e.MAs(78);e.xp6(1),e.Q6J("ngIf",null!==t&&t.length>0)("ngIfElse",i)}}function PS(n,o){if(1&n&&(e.YNc(0,OS,2,2,"div",52),e.ALo(1,"async")),2&n){const t=o.stage,i=o.wireframe,s=o.timeFrame,d=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,d.cacheService.getTagsFromCatalog(e.l5B(5,HT,i.wireframeId,t.stageId,e.VKq(3,jg,s),d.SchedulingType.UNSCHEDULED))))}}function LS(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-catalog-menu-item",57),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cacheService.unExpandOtherCatalog("scheduled"))})("expandChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.cacheService.rootExpandMap.scheduled=s)}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(50);e.Q6J("contentTemplate",i)("counter",t.cacheService.getTasksCounter(null,e.VKq(6,Zx,t.SchedulingType.PLANNED)))("isEmpty",!1)("expand",t.cacheService.rootExpandMap.scheduled)("label","\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435")("link","/tasks/catalog/scheduled/active")}}const VT=function(n,o){return{status:"ACTIVE",schedulingType:n,cls:o}};function RS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw(3),s=e.MAs(52);let d;e.Q6J("contentTemplateData",e.VKq(6,G_,t))("contentTemplate",s)("counter",i.cacheService.getTasksCounter(null,e.WLB(8,VT,i.SchedulingType.PLANNED,t.wireframeId)))("isEmpty",0===(null!==(d=null==t.stages?null:t.stages.length)&&void 0!==d?d:0))("label",t.name)("link","/tasks/catalog/scheduled/active/"+t.wireframeId)}}function NS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,RS,1,11,"app-catalog-menu-item",47),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function FS(n,o){if(1&n&&(e.YNc(0,NS,2,1,"ng-container",4),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}const zT=function(n,o,t){return{status:"ACTIVE",schedulingType:n,cls:o,type:t}};function BS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw().wireframe,s=e.oxw(),d=e.MAs(54);e.Q6J("contentTemplateData",e.WLB(6,W_,i,t))("contentTemplate",d)("counter",s.cacheService.getTasksCounter(null,e.kEZ(9,zT,s.SchedulingType.PLANNED,i.wireframeId,t.stageId)))("isEmpty",!1)("label",t.label)("link","/tasks/catalog/scheduled/active/"+i.wireframeId+"/"+t.stageId)}}function ZS(n,o){1&n&&e.YNc(0,BS,1,13,"app-catalog-menu-item",47),2&n&&e.Q6J("ngForOf",o.wireframe.stages)}const JT=function(n,o,t,i){return{status:"ACTIVE",schedulingType:n,cls:o,type:t,actualFrom:i}};function US(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",59),2&n){const t=o.$implicit,i=e.oxw(),s=i.wireframe,d=i.stage,T=e.oxw(),W=e.MAs(56);e.Q6J("counter",T.cacheService.getTasksCounter("actual-time",e.l5B(9,JT,T.SchedulingType.PLANNED,s.wireframeId,d.stageId,e.VKq(7,jg,t.id))))("isEmpty",!1)("label",t.name)("autoExpand",!1)("contentTemplate",W)("contentTemplateData",e.kEZ(14,Ux,s,d,t.id))("link","/tasks/catalog/scheduled/active/"+s.wireframeId+"/"+d.stageId+"/actual-time/"+t.id)}}function HS(n,o){if(1&n&&e.YNc(0,US,1,18,"app-catalog-menu-item",58),2&n){const t=e.oxw();e.Q6J("ngForOf",t.cacheService.afterTemporaryMap)}}function VS(n,o){1&n&&e.GkF(0)}function zS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,VS,1,0,"ng-container",51),e.BQk()),2&n){const t=o.$implicit,i=e.oxw(3),s=i.wireframe,d=i.stage,T=i.timeFrame;e.oxw();const W=e.MAs(74);e.xp6(1),e.Q6J("ngTemplateOutlet",W)("ngTemplateOutletContext",e.l5B(2,Hx,t,s,d,T))}}function JS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,zS,2,7,"ng-container",49),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function QS(n,o){if(1&n&&(e.TgZ(0,"div",53),e.YNc(1,JS,2,1,"ng-container",54),e.qZA()),2&n){const t=o.ngIf;e.oxw(2);const i=e.MAs(78);e.xp6(1),e.Q6J("ngIf",null!==t&&t.length>0)("ngIfElse",i)}}function GS(n,o){if(1&n&&(e.YNc(0,QS,2,2,"div",52),e.ALo(1,"async")),2&n){const t=o.stage,i=o.wireframe,s=o.timeFrame,d=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,d.cacheService.getTagsFromCatalog(e.l5B(5,JT,d.SchedulingType.PLANNED,i.wireframeId,t.stageId,e.VKq(3,jg,s)))))}}function WS(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-catalog-menu-item",57),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cacheService.unExpandOtherCatalog("term"))})("expandChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.cacheService.rootExpandMap.term=s)}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(60);e.Q6J("contentTemplate",i)("counter",t.cacheService.getTasksCounter(null,e.VKq(6,Zx,t.SchedulingType.DEADLINE)))("isEmpty",!1)("expand",t.cacheService.rootExpandMap.term)("label","\u0421\u0440\u043e\u043a")("link","/tasks/catalog/term/active")}}function YS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw(3),s=e.MAs(62);let d;e.Q6J("contentTemplateData",e.VKq(6,G_,t))("contentTemplate",s)("counter",i.cacheService.getTasksCounter(null,e.WLB(8,VT,i.SchedulingType.DEADLINE,t.wireframeId)))("isEmpty",0===(null!==(d=null==t.stages?null:t.stages.length)&&void 0!==d?d:0))("label",t.name)("link","/tasks/catalog/term/active/"+t.wireframeId)}}function jS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,YS,1,11,"app-catalog-menu-item",47),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function KS(n,o){if(1&n&&(e.YNc(0,jS,2,1,"ng-container",4),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}function qS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw().wireframe,s=e.oxw(),d=e.MAs(64);e.Q6J("contentTemplateData",e.WLB(6,W_,i,t))("contentTemplate",d)("counter",s.cacheService.getTasksCounter(null,e.kEZ(9,zT,s.SchedulingType.DEADLINE,i.wireframeId,t.stageId)))("isEmpty",!1)("label",t.label)("link","/tasks/catalog/term/active/"+i.wireframeId+"/"+t.stageId)}}function $S(n,o){1&n&&e.YNc(0,qS,1,13,"app-catalog-menu-item",47),2&n&&e.Q6J("ngForOf",o.wireframe.stages)}const QT=function(n,o,t,i){return{status:"ACTIVE",schedulingType:n,cls:o,type:t,actualTo:i}};function XS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",59),2&n){const t=o.$implicit,i=e.oxw(),s=i.wireframe,d=i.stage,T=e.oxw(),W=e.MAs(66);e.Q6J("counter",T.cacheService.getTasksCounter("term-time",e.l5B(9,QT,T.SchedulingType.DEADLINE,s.wireframeId,d.stageId,e.VKq(7,jg,t.id))))("isEmpty",!1)("label",t.name)("autoExpand",!1)("contentTemplate",W)("contentTemplateData",e.kEZ(14,Ux,s,d,t.id))("link","/tasks/catalog/term/active/"+s.wireframeId+"/"+d.stageId+"/term-time/"+t.id)}}function e2(n,o){if(1&n&&e.YNc(0,XS,1,18,"app-catalog-menu-item",58),2&n){const t=e.oxw();e.Q6J("ngForOf",t.cacheService.afterTemporaryMap)}}function t2(n,o){1&n&&e.GkF(0)}function n2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,t2,1,0,"ng-container",51),e.BQk()),2&n){const t=o.$implicit,i=e.oxw(3),s=i.wireframe,d=i.stage,T=i.timeFrame;e.oxw();const W=e.MAs(76);e.xp6(1),e.Q6J("ngTemplateOutlet",W)("ngTemplateOutletContext",e.l5B(2,Hx,t,s,d,T))}}function o2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,n2,2,7,"ng-container",49),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function s2(n,o){if(1&n&&(e.TgZ(0,"div",53),e.YNc(1,o2,2,1,"ng-container",54),e.qZA()),2&n){const t=o.ngIf;e.oxw(2);const i=e.MAs(78);e.xp6(1),e.Q6J("ngIf",null!==t&&t.length>0)("ngIfElse",i)}}function r2(n,o){if(1&n&&(e.YNc(0,s2,2,2,"div",52),e.ALo(1,"async")),2&n){const t=o.stage,i=o.wireframe,s=o.timeFrame,d=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,d.cacheService.getTagsFromCatalog(e.l5B(5,QT,d.SchedulingType.DEADLINE,i.wireframeId,t.stageId,e.VKq(3,jg,s)))))}}function a2(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",60),2&n){const t=o.stage,i=o.wireframe,s=e.oxw();e.Q6J("autoExpand",!1)("counter",s.cacheService.getTasksCounter(null,e.kEZ(3,ZT,i.wireframeId,t.stageId,s.SchedulingType.EXCEPT_PLANNED)))("link","/tasks/catalog/active/"+i.wireframeId+"/"+t.stageId)}}const j1=function(n,o,t){return{border:n,backgroundColor:o,cursor:t}},zd=function(n){return{color:n}};function l2(n,o){if(1&n&&(e.TgZ(0,"div",61,62)(2,"div",5),e._uU(3),e.qZA(),e.TgZ(4,"div",63),e._uU(5),e.qZA()()),2&n){const t=o.dir,i=o.stage,s=o.tag,d=o.wireframe,T=e.MAs(1);e.Q6J("ngStyle",e.kEZ(9,j1,T.isActive?null:"solid 1px "+s.color,T.isActive?s.color:null,T.isActive?"default":"pointer"))("routerLinkActive","active")("routerLink","/tasks/catalog/active/"+d.wireframeId+"/"+i.stageId+"/dir/"+t.taskTypeDirectoryId+"/"+s.id),e.xp6(2),e.Akn(e.VKq(13,zd,T.isActive?"white":s.color)),e.xp6(1),e.hij(" ",s.name," "),e.xp6(1),e.Akn(e.VKq(15,zd,T.isActive?"white":s.color)),e.xp6(1),e.hij(" ",s.count," ")}}function c2(n,o){if(1&n&&(e.TgZ(0,"div",61,62)(2,"div",5),e._uU(3),e.qZA(),e.TgZ(4,"div",63),e._uU(5),e.qZA()()),2&n){const t=o.stage,i=o.tag,s=o.wireframe,d=o.timeFrame,T=e.MAs(1);e.Q6J("ngStyle",e.kEZ(9,j1,T.isActive?null:"solid 1px "+i.color,T.isActive?i.color:null,T.isActive?"default":"pointer"))("routerLinkActive","active")("routerLink","/tasks/catalog/close/"+s.wireframeId+"/"+t.stageId+"/close-time/"+d+"/"+i.id),e.xp6(2),e.Akn(e.VKq(13,zd,T.isActive?"white":i.color)),e.xp6(1),e.hij(" ",i.name," "),e.xp6(1),e.Akn(e.VKq(15,zd,T.isActive?"white":i.color)),e.xp6(1),e.hij(" ",i.count," ")}}function u2(n,o){if(1&n&&(e.TgZ(0,"div",61,62)(2,"div",5),e._uU(3),e.qZA(),e.TgZ(4,"div",63),e._uU(5),e.qZA()()),2&n){const t=o.stage,i=o.tag,s=o.wireframe,d=o.timeFrame,T=e.MAs(1);e.Q6J("ngStyle",e.kEZ(9,j1,T.isActive?null:"solid 1px "+i.color,T.isActive?i.color:null,T.isActive?"default":"pointer"))("routerLinkActive","active")("routerLink","/tasks/catalog/scheduled/active/"+s.wireframeId+"/"+t.stageId+"/actual-time/"+d+"/"+i.id),e.xp6(2),e.Akn(e.VKq(13,zd,T.isActive?"white":i.color)),e.xp6(1),e.hij(" ",i.name," "),e.xp6(1),e.Akn(e.VKq(15,zd,T.isActive?"white":i.color)),e.xp6(1),e.hij(" ",i.count," ")}}function d2(n,o){if(1&n&&(e.TgZ(0,"div",61,62)(2,"div",5),e._uU(3),e.qZA(),e.TgZ(4,"div",63),e._uU(5),e.qZA()()),2&n){const t=o.stage,i=o.tag,s=o.wireframe,d=o.timeFrame,T=e.MAs(1);e.Q6J("ngStyle",e.kEZ(9,j1,T.isActive?null:"solid 1px "+i.color,T.isActive?i.color:null,T.isActive?"default":"pointer"))("routerLinkActive","active")("routerLink","/tasks/catalog/term/active/"+s.wireframeId+"/"+t.stageId+"/term-time/"+d+"/"+i.id),e.xp6(2),e.Akn(e.VKq(13,zd,T.isActive?"white":i.color)),e.xp6(1),e.hij(" ",i.name," "),e.xp6(1),e.Akn(e.VKq(15,zd,T.isActive?"white":i.color)),e.xp6(1),e.hij(" ",i.count," ")}}function p2(n,o){1&n&&(e.TgZ(0,"div",64),e._uU(1," \u0417\u0430\u0434\u0430\u0447 \u0441 \u0442\u0435\u0433\u0430\u043c\u0438 \u043d\u0435\u0442 "),e.qZA())}const h2=function(){return["/tasks","search"]};let GT=(()=>{class n{constructor(t){this.cacheService=t,this.SchedulingType=me.dH}ngOnInit(){}ngOnDestroy(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Y1.d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:81,vars:12,consts:[["appExtendPageHeight","",1,"flex","px-3","gap-3"],[1,"flex","flex-grow-1","gap-3","mb-3"],[1,"flex","flex-column","flex-grow-1","gap-3"],[1,"flex","bg-white","border-round","border-1","border-bluegray-100","p-2","align-items-center"],[4,"ngIf"],[1,"flex-grow-1"],["label","\u041f\u043e\u0438\u0441\u043a \u0437\u0430\u0434\u0430\u0447","icon","mdi-search","styleClass","p-button-sm",3,"routerLink"],[1,"flex","flex-column","flex-grow-1"],[1,"flex","flex-column","border-round","border-1","bg-white","border-bluegray-100","h-fit","sticky-type-selector"],[1,"text-lg","text-bluegray-600","font-bold","p-3","bg-white","sticky","top-0","z-5"],[1,"flex","flex-column","gap-1","relative","px-3","pb-3"],[4,"ngTemplateOutlet"],["class","absolute top-0 left-0 w-full h-full bg-black-alpha-30",4,"ngIf"],["activeTasksMenuItemTemplate",""],["activeTasksClassItemsTemplate",""],["activeTasksTypesItemsTemplate",""],["activeTasksDirectoryItemsTemplate",""],["activeTasksTagsItemsTemplate",""],["processingTasksMenuItemTemplate",""],["processingTasksClassItemsTemplate",""],["processingTasksTypesItemsTemplate",""],["closeTasksMenuItemTemplate",""],["closeTasksClassItemsTemplate",""],["closeTasksTypesItemsTemplate",""],["closeTasksTemporaryItemsTemplate",""],["closeTasksTagsItemsTemplate",""],["scheduledTasksMenuItemTemplate",""],["scheduledTasksClassItemsTemplate",""],["scheduledTasksTypesItemsTemplate",""],["scheduledTasksTemporaryItemsTemplate",""],["scheduledTasksTagsItemsTemplate",""],["termTasksMenuItemTemplate",""],["termTasksClassItemsTemplate",""],["termTasksTypesItemsTemplate",""],["termTasksTemporaryItemsTemplate",""],["termTasksTagsItemsTemplate",""],["emptyTasksDirectoriesItem",""],["tagItemTemplate",""],["tagCloseTaskItemTemplate",""],["tagScheduleTaskItemTemplate",""],["tagTermTaskItemTemplate",""],["emptyTagsTemplate",""],[3,"blocked"],["strokeWidth","1",1,"custom-spinner","custom-spinner-gray","custom-spinner-8xl"],["styleClass","border-0 py-0 px-2",3,"model"],[1,"absolute","top-0","left-0","w-full","h-full","bg-black-alpha-30"],[3,"contentTemplate","expand","counter","isEmpty","label","link","expandChange","onClick"],[3,"contentTemplateData","contentTemplate","counter","isEmpty","label","link",4,"ngFor","ngForOf"],[3,"contentTemplateData","contentTemplate","counter","isEmpty","label","link"],[4,"ngFor","ngForOf"],[3,"autoExpand","contentTemplateData","contentTemplate","counter","droppable","isEmpty","label","link","onDrop"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","flex flex-column gap-1 pl-3",4,"ngIf"],[1,"flex","flex-column","gap-1","pl-3"],[4,"ngIf","ngIfElse"],[3,"counter","isEmpty","label","link",4,"ngFor","ngForOf"],[3,"counter","isEmpty","label","link"],[3,"contentTemplate","counter","isEmpty","expand","label","link","onClick","expandChange"],[3,"counter","isEmpty","label","autoExpand","contentTemplate","contentTemplateData","link",4,"ngFor","ngForOf"],[3,"counter","isEmpty","label","autoExpand","contentTemplate","contentTemplateData","link"],["label","\u0411\u0435\u0437 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",3,"autoExpand","counter","link"],[1,"border-round-3xl","px-3","py-1","flex","align-items-baseline","font-semibold","user-select-none","gap-2",3,"ngStyle","routerLinkActive","routerLink"],["rla","routerLinkActive"],[1,"text-sm"],[1,"text-bluegray-300","text-sm","font-bold"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-main-menu-panel"),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3),e.YNc(5,FE,2,1,"ng-container",4),e.ALo(6,"async"),e._UZ(7,"div",5)(8,"p-button",6),e.qZA(),e.TgZ(9,"div",7),e._UZ(10,"router-outlet"),e.qZA()(),e.TgZ(11,"div",8)(12,"span",9),e._uU(13,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"),e.qZA(),e.TgZ(14,"div",10),e.YNc(15,BE,1,0,"ng-container",11),e.YNc(16,ZE,1,0,"ng-container",11),e.YNc(17,UE,1,0,"ng-container",11),e.YNc(18,HE,1,0,"ng-container",11),e.YNc(19,VE,1,0,"ng-container",11),e.YNc(20,zE,1,0,"div",12),e.qZA()()()(),e.YNc(21,JE,1,8,"ng-template",null,13,e.W1O),e.YNc(23,YE,2,3,"ng-template",null,14,e.W1O),e.YNc(25,KE,1,1,"ng-template",null,15,e.W1O),e.YNc(27,nS,2,2,"ng-template",null,16,e.W1O),e.YNc(29,lS,2,8,"ng-template",null,17,e.W1O),e.YNc(31,uS,1,8,"ng-template",null,18,e.W1O),e.YNc(33,gS,2,3,"ng-template",null,19,e.W1O),e.YNc(35,_S,1,1,"ng-template",null,20,e.W1O),e.YNc(37,vS,1,8,"ng-template",null,21,e.W1O),e.YNc(39,IS,2,3,"ng-template",null,22,e.W1O),e.YNc(41,wS,1,1,"ng-template",null,23,e.W1O),e.YNc(43,SS,1,1,"ng-template",null,24,e.W1O),e.YNc(45,PS,2,10,"ng-template",null,25,e.W1O),e.YNc(47,LS,1,8,"ng-template",null,26,e.W1O),e.YNc(49,FS,2,3,"ng-template",null,27,e.W1O),e.YNc(51,ZS,1,1,"ng-template",null,28,e.W1O),e.YNc(53,HS,1,1,"ng-template",null,29,e.W1O),e.YNc(55,GS,2,10,"ng-template",null,30,e.W1O),e.YNc(57,WS,1,8,"ng-template",null,31,e.W1O),e.YNc(59,KS,2,3,"ng-template",null,32,e.W1O),e.YNc(61,$S,1,1,"ng-template",null,33,e.W1O),e.YNc(63,e2,1,1,"ng-template",null,34,e.W1O),e.YNc(65,r2,2,10,"ng-template",null,35,e.W1O),e.YNc(67,a2,1,7,"ng-template",null,36,e.W1O),e.YNc(69,l2,6,17,"ng-template",null,37,e.W1O),e.YNc(71,c2,6,17,"ng-template",null,38,e.W1O),e.YNc(73,u2,6,17,"ng-template",null,39,e.W1O),e.YNc(75,d2,6,17,"ng-template",null,40,e.W1O),e.YNc(77,p2,2,0,"ng-template",null,41,e.W1O),e.TgZ(79,"p-blockUI",42),e._UZ(80,"p-progressSpinner",43),e.qZA()),2&t){const s=e.MAs(22),d=e.MAs(32),T=e.MAs(38),W=e.MAs(48),Ce=e.MAs(58);e.xp6(5),e.Q6J("ngIf",e.lcZ(6,9,i.cacheService.breadCrumbsModel$)),e.xp6(3),e.Q6J("routerLink",e.DdM(11,h2)),e.xp6(7),e.Q6J("ngTemplateOutlet",s),e.xp6(1),e.Q6J("ngTemplateOutlet",d),e.xp6(1),e.Q6J("ngTemplateOutlet",T),e.xp6(1),e.Q6J("ngTemplateOutlet",W),e.xp6(1),e.Q6J("ngTemplateOutlet",Ce),e.xp6(1),e.Q6J("ngIf",void 0!==i.cacheService.highlightCatalogs),e.xp6(59),e.Q6J("blocked",i.cacheService.blockVisible)}},styles:[".directory[_ngcontent-%COMP%]   .p-draggable-enter[_ngcontent-%COMP%]{opacity:.3}"]}),n})();var Qc=b(4881),Al=b(4132);function g2(n,o){1&n&&(e.TgZ(0,"div",7),e._UZ(1,"p-progressSpinner",8),e.qZA())}function m2(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e.NdJ("onDragStart",function(){const d=e.CHM(t).$implicit,T=e.oxw(3);return e.KtG(T.cacheService.taskMovingStart(d))}),e.TgZ(1,"app-task-list-element",13),e.NdJ("onStartEdit",function(s){e.CHM(t);const d=e.oxw(3);return e.KtG(d.cacheService.taskEditStart(s))})("onStopEdit",function(s){e.CHM(t);const d=e.oxw(3);return e.KtG(d.cacheService.taskEditStop(s))}),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw(3);let s;e.Q6J("pDraggable",null!==(s=null==t.currentStage?null:t.currentStage.stageId)&&void 0!==s?s:""),e.xp6(1),e.Q6J("externalUpdater",i.cacheService.getTaskUpdater(t.taskId))("isCommentInput",!0)("item",t)}}function f2(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",10),e.YNc(2,m2,2,4,"div",11),e.qZA(),e.BQk()),2&n){const t=o.ngIf;e.xp6(2),e.Q6J("ngForOf",t.content)}}function _2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,f2,3,1,"ng-container",9),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.cacheService.tasks$))}}function C2(n,o){1&n&&(e.TgZ(0,"div",14),e._UZ(1,"i",15),e.TgZ(2,"span"),e._uU(3,"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),e.qZA()())}function v2(n,o){1&n&&(e.TgZ(0,"div",16),e._UZ(1,"i",17),e.TgZ(2,"span"),e._uU(3,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e.qZA()())}function b2(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"p-paginator",19,20),e.NdJ("onPageChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.cacheService.pageControl.setValue(s.page))}),e.qZA()()}if(2&n){const t=o.ngIf,i=e.oxw();let s;e.Q6J("hidden","READY"!==i.cacheService.taskLoadingState),e.xp6(1),e.Q6J("alwaysShow",!0)("rows",15)("showCurrentPageReport",!0)("totalRecords",t.totalElements)("first",15*(null!==(s=i.cacheService.pageControl.value)&&void 0!==s?s:0))}}let wa=(()=>{class n{constructor(t,i){this.route=t,this.cacheService=i,this.subscriptions=new _.xf}ngOnInit(){this.subscriptions.addSubscription("crrRt",(0,Wo.a)([this.route.params,this.route.data]).subscribe(([t,i])=>this.cacheService.updatePath(t,i)))}ngAfterViewInit(){}ngOnDestroy(){this.subscriptions.unsubscribeAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.gz),e.Y36(Y1.d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:8,vars:8,consts:[[3,"ngSwitch"],["class","flexed stretched hcenter vcenter caption size-big wt-bold f-color-500",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","flexed column stretched hcenter vcenter caption size-big wt-bold f-color-500",4,"ngSwitchCase"],["class","flexed stretched hcenter vcenter caption size-big wt-bold f-color-danger",4,"ngSwitchCase"],[1,"flex-grow-1"],["class","sticky bottom1",3,"hidden",4,"ngIf"],[1,"flexed","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-500"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[4,"ngIf"],[1,"flex","flex-column","gap-1","border-round-md","shadow-1","overflow-hidden","bg-bluegray-100","h-fit","mb-3"],["class","flex relative",3,"pDraggable","onDragStart",4,"ngFor","ngForOf"],[1,"flex","relative",3,"pDraggable","onDragStart"],[3,"externalUpdater","isCommentInput","item","onStartEdit","onStopEdit"],[1,"flexed","column","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-500"],[1,"mds-search_off"],[1,"flexed","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-danger"],[1,"mdi-error"],[1,"sticky","bottom1",3,"hidden"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447","styleClass","panel",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","first","onPageChange"],["paginator",""]],template:function(t,i){1&t&&(e.ynx(0,0),e.YNc(1,g2,2,0,"div",1),e.YNc(2,_2,3,3,"ng-container",2),e.YNc(3,C2,4,0,"div",3),e.YNc(4,v2,4,0,"div",4),e.BQk(),e._UZ(5,"div",5),e.YNc(6,b2,3,6,"div",6),e.ALo(7,"async")),2&t&&(e.Q6J("ngSwitch",i.cacheService.taskLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(2),e.Q6J("ngIf",e.lcZ(7,6,i.cacheService.tasks$)))},dependencies:[Qc.E,k.sg,k.O5,k.RF,k.n9,it.G,Al.D,Yo._l,k.Ov],styles:["[_nghost-%COMP%]{flex-grow:1;min-height:100%;display:flex;flex-direction:column}"]}),n})();class y2{constructor(){this.content=[],this.empty=!0,this.first=!0,this.last=!0,this.number=0,this.numberOfElements=0,this.pageable={offset:0,sort:{empty:!0,sorted:!1,unsorted:!0},pageSize:0,pageNumber:0,paged:!0,unpaged:!1},this.size=0,this.sort={empty:!0,sorted:!1,unsorted:!0},this.totalElements=0,this.totalPages=0}}let WT=(()=>{class n{constructor(t){this.api=t,this.searchSubject=new wr.x,this.search$=this.searchSubject.pipe((0,hi.b)(()=>{this.pageControl.setValue(0),this.taskLoadingState=me.Gu.LOADING}),(0,un.d)(1)),this.filterForm=new g.cw({searchPhrase:new g.NI(""),author:new g.NI(null),assignedEmployee:new g.NI(null),dateOfCreation:new g.NI(null),dateOfClose:new g.NI(null),tags:new g.NI(null),fieldFilters:new g.Oe([new g.cw({name:new g.NI("\u0422\u0435\u043a\u0441\u0442 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435"),type:new g.NI(me.nC.TEXT),textValue:new g.NI("")}),new g.cw({name:new g.NI("\u041b\u043e\u0433\u0438\u043d"),type:new g.NI(me.nC.LOGIN),textValue:new g.NI("")}),new g.cw({name:new g.NI("\u0410\u0434\u0440\u0435\u0441"),type:new g.NI(me.nC.ADDRESS),addressValue:new g.NI(null)}),new g.cw({name:new g.NI("\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),type:new g.NI(me.nC.PHONE),textValue:new g.NI("")}),new g.cw({name:new g.NI("\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a"),type:new g.NI(me.nC.AD_SOURCE),adSourceValue:new g.NI(null)}),new g.cw({name:new g.NI("\u0422\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),type:new g.NI(me.nC.CONNECTION_TYPE),connectionTypeValue:new g.NI(null)}),new g.cw({name:new g.NI("\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0430\u044f \u0443\u0441\u043b\u0443\u0433\u0430"),type:new g.NI(me.nC.CONNECTION_SERVICE),connectionServiceValue:new g.NI(null)})])}),this.filtersChange$=this.filterForm.valueChanges.pipe((0,un.d)(1)),this.filtersNames={searchPhrase:"\u0421\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430",author:"\u0410\u0432\u0442\u043e\u0440",dateOfCreation:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",dateOfClose:"\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f",tags:"\u0422\u0435\u0433\u0438"},this.applySearch$=this.search$.pipe((0,gt.U)(()=>this.filterForm.value)),this.applyingFilters$=this.applySearch$.pipe((0,gt.U)(i=>{const s=[];for(const d in i)!i[d]||"fieldFilters"===d||Array.isArray(i[d])&&0===i[d].length||s.push({label:this.filtersNames[d],value:d,type:"unfield"});return s})),this.applyingFieldFilters$=this.applySearch$.pipe((0,gt.U)(i=>{const s=[];for(const d of i.fieldFilters)!d.textValue&&!d.addressValue&&!d.adSourceValue&&!d.connectionTypeValue&&!d.connectionServiceValue||s.push({label:d.name,value:d.name,type:"field"});return s})),this.applyingAllFilters$=(0,Wo.a)([this.applyingFilters$,this.applyingFieldFilters$]).pipe((0,gt.U)(([i,s])=>i.concat(s)),(0,un.d)(1)),this.statusSubject=new Wa.X(null),this.classSubject=new Wa.X(null),this.typeSubject=new Wa.X(null),this.status$=this.statusSubject.asObservable(),this.class$=this.classSubject.asObservable(),this.type$=this.typeSubject.asObservable(),this.pageControl=new g.NI(0),this.taskLoadingState=me.Gu.EMPTY,this.lastRoute$=(0,Wo.a)([this.status$,this.class$,this.type$]).pipe((0,bs.b)(1),(0,Zr.x)((i,s)=>JSON.stringify(i)===JSON.stringify(s)),(0,hi.b)(()=>{this.pageControl.setValue(0)}),(0,un.d)(1)),this.page$=this.pageControl.valueChanges.pipe((0,rs.O)(0),(0,Zr.x)(),(0,hi.b)(()=>{window.scrollTo({top:0})}),(0,un.d)(1)),this.taskCountersMap=new Map,this.taskCountersLoadingMap=new Map,this.wireframes$=this.api.getWireframes().pipe((0,un.d)(1)),this.tasks$=(0,Wo.a)([this.page$,this.search$,this.lastRoute$]).pipe((0,hi.b)(()=>this.taskLoadingState=me.Gu.LOADING),(0,R.w)(([i,s,[d,T,W]])=>{if(n.isFiltersEmpty(s))return(0,In.of)(new y2);const Ce=Object.assign(Object.assign({},s),n.getFilterPath(d,T,W));return this.api.getPageOfTasks(null!=i?i:0,Ce)}),(0,hi.b)({next:i=>this.taskLoadingState=0===i.totalElements?me.Gu.EMPTY:me.Gu.READY,error:()=>this.taskLoadingState=me.Gu.ERROR}),(0,un.d)(1)),this.adSources$=this.api.getAdSourcesList(),this.connectionTypes$=this.api.getConnectionTypesList(),this.connectionServices$=this.api.getConnectionServicesList()}static getFilterPath(t,i,s){const d={};return t&&(d.status=[t.toUpperCase()]),i&&(d.template=[i]),s&&(d.stage=s),d}static isFiltersEmpty(t){for(const i in t)if("fieldFilters"!==i){if(t[i]&&(!Array.isArray(t[i])||0!==t[i].length))return!1}else for(const s of t[i])if(s.textValue||s.addressValue||s.adSourceValue||s.connectionTypeValue||s.connectionServiceValue)return!1;return!0}getTasksLoadingCounter(t,i,s){var d;const T=n.pathKeyGenerate(t,i,s);return this.taskCountersLoadingMap.has(T)?null!==(d=this.taskCountersLoadingMap.get(T))&&void 0!==d&&d:(this.taskCountersLoadingMap.set(T,!1),!1)}setTasksLoadingCounter(t,i){this.taskCountersLoadingMap.set(t,i)}getTasksCounter(t,i,s){const d=n.pathKeyGenerate(t,i,s);if(this.taskCountersMap.has(d))return this.taskCountersMap.get(d);const T=this.search$.pipe((0,hi.b)(()=>this.setTasksLoadingCounter(d,!0)),(0,R.w)(W=>{if(n.isFiltersEmpty(W))return(0,In.of)("0");const Ce=Object.assign(Object.assign({},W),n.getFilterPath(t,i,s));return this.api.getCountTasks(Ce).pipe((0,gt.U)(qe=>qe.toString()))}),(0,rs.O)("0"),(0,hi.b)(()=>this.setTasksLoadingCounter(d,!1)),(0,un.d)(1));return this.taskCountersMap.set(d,T),T}updatePath(t){var i,s;this.statusSubject.next(null!==(i=t.status)&&void 0!==i?i:null),this.classSubject.next(t.class?parseInt(t.class):null),this.typeSubject.next(null!==(s=t.type)&&void 0!==s?s:null)}search(){this.searchSubject.next(this.filterForm.value)}clearFilter(t,i){if("field"===i){const W=this.filterForm.controls.fieldFilters.controls.find(Ce=>Ce.value.name===t);if(!W)return;return W.patchValue({textValue:null,addressValue:null,adSourceValue:null,connectionTypeValue:null,connectionServiceValue:null}),void this.search()}const d=Object.entries(this.filterForm.controls).find(([T,W])=>T===t);!d||(d[1]instanceof g.Oe||d[1].setValue(null),this.search())}static pathKeyGenerate(t,i,s){let d=""+t+i+s;return!t&&!i&&!s&&(d="all"),d}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(L.s))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function x2(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",47),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cacheService.filterForm.controls.searchPhrase.setValue(""))}),e.qZA()}}function I2(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-chip",52),e.NdJ("onRemove",function(){const d=e.CHM(t).$implicit,T=e.oxw(3);return e.KtG(T.cacheService.clearFilter(d.value,d.type))}),e.qZA()}2&n&&e.Q6J("label",o.$implicit.label)("removable",!0)}function T2(n,o){if(1&n&&(e.TgZ(0,"div",49)(1,"span",50),e._uU(2,"\u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b:"),e.qZA(),e.YNc(3,I2,1,2,"p-chip",51),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(3),e.Q6J("ngForOf",t)}}function A2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,T2,4,1,"div",48),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf",t.length>0)}}function w2(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",53)(1,"app-catalog-menu-item",54)(2,"app-catalog-menu-item",55),2&n){const t=e.oxw(),i=e.MAs(25),s=e.MAs(29),d=e.MAs(33);e.Q6J("contentTemplate",i)("isEmpty",!1)("counter",t.cacheService.getTasksCounter("active"))("isCounterLoading",t.cacheService.getTasksLoadingCounter("active"))("link","/tasks/search/active"),e.xp6(1),e.Q6J("contentTemplate",s)("isEmpty",!1)("counter",t.cacheService.getTasksCounter("processing"))("isCounterLoading",t.cacheService.getTasksLoadingCounter("processing"))("link","/tasks/search/processing"),e.xp6(1),e.Q6J("contentTemplate",d)("isEmpty",!1)("counter",t.cacheService.getTasksCounter("close"))("isCounterLoading",t.cacheService.getTasksLoadingCounter("close"))("link","/tasks/search/close")}}const Vx=function(n){return{wireframe:n}};function E2(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",57),2&n){const t=o.$implicit,i=e.oxw(3),s=e.MAs(27);let d;e.Q6J("counter",i.cacheService.getTasksCounter("active",t.wireframeId))("isCounterLoading",i.cacheService.getTasksLoadingCounter("active",t.wireframeId))("contentTemplate",s)("contentTemplateData",e.VKq(7,Vx,t))("isEmpty",0===(null!==(d=null==t.stages?null:t.stages.length)&&void 0!==d?d:0))("label",t.name)("link","/tasks/search/active/"+t.wireframeId)}}function S2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,E2,1,9,"app-catalog-menu-item",56),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function k2(n,o){if(1&n&&(e.YNc(0,S2,2,1,"ng-container",11),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}function D2(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",59),2&n){const t=o.$implicit,i=e.oxw().wireframe,s=e.oxw();e.Q6J("counter",s.cacheService.getTasksCounter("active",i.wireframeId,t.stageId))("isCounterLoading",s.cacheService.getTasksLoadingCounter("active",i.wireframeId,t.stageId))("isEmpty",!0)("label",t.label)("link","/tasks/search/active/"+i.wireframeId+"/"+t.stageId)}}function M2(n,o){1&n&&e.YNc(0,D2,1,5,"app-catalog-menu-item",58),2&n&&e.Q6J("ngForOf",o.wireframe.stages)}function O2(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",57),2&n){const t=o.$implicit,i=e.oxw(3),s=e.MAs(31);let d;e.Q6J("counter",i.cacheService.getTasksCounter("processing",t.wireframeId))("isCounterLoading",i.cacheService.getTasksLoadingCounter("processing",t.wireframeId))("contentTemplate",s)("contentTemplateData",e.VKq(7,Vx,t))("isEmpty",0===(null!==(d=null==t.stages?null:t.stages.length)&&void 0!==d?d:0))("label",t.name)("link","/tasks/search/processing/"+t.wireframeId)}}function P2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,O2,1,9,"app-catalog-menu-item",56),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function L2(n,o){if(1&n&&(e.YNc(0,P2,2,1,"ng-container",11),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}function R2(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",59),2&n){const t=o.$implicit,i=e.oxw().wireframe,s=e.oxw();e.Q6J("counter",s.cacheService.getTasksCounter("processing",i.wireframeId,t.stageId))("isCounterLoading",s.cacheService.getTasksLoadingCounter("processing",i.wireframeId,t.stageId))("isEmpty",!0)("label",t.label)("link","/tasks/search/processing/"+i.wireframeId+"/"+t.stageId)}}function N2(n,o){1&n&&e.YNc(0,R2,1,5,"app-catalog-menu-item",58),2&n&&e.Q6J("ngForOf",o.wireframe.stages)}function F2(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",57),2&n){const t=o.$implicit,i=e.oxw(3),s=e.MAs(35);let d;e.Q6J("counter",i.cacheService.getTasksCounter("close",t.wireframeId))("isCounterLoading",i.cacheService.getTasksLoadingCounter("close",t.wireframeId))("contentTemplate",s)("contentTemplateData",e.VKq(7,Vx,t))("isEmpty",0===(null!==(d=null==t.stages?null:t.stages.length)&&void 0!==d?d:0))("label",t.name)("link","/tasks/search/close/"+t.wireframeId)}}function B2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,F2,1,9,"app-catalog-menu-item",56),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function Z2(n,o){if(1&n&&(e.YNc(0,B2,2,1,"ng-container",11),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}function U2(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",59),2&n){const t=o.$implicit,i=e.oxw().wireframe,s=e.oxw();e.Q6J("counter",s.cacheService.getTasksCounter("close",i.wireframeId,t.stageId))("isCounterLoading",s.cacheService.getTasksLoadingCounter("close",i.wireframeId,t.stageId))("isEmpty",!0)("label",t.label)("link","/tasks/search/close/"+i.wireframeId+"/"+t.stageId)}}function H2(n,o){1&n&&e.YNc(0,U2,1,5,"app-catalog-menu-item",58),2&n&&e.Q6J("ngForOf",o.wireframe.stages)}function V2(n,o){1&n&&e.GkF(0)}const z2=function(n){return{$implicit:n}};function J2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,V2,1,0,"ng-container",60),e.BQk()),2&n){const t=o.$implicit;e.oxw();const i=e.MAs(71);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,z2,t))}}function Q2(n,o){if(1&n&&(e.TgZ(0,"app-label",69),e._UZ(1,"input",70),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("formControl",t.controls.textValue)}}function G2(n,o){if(1&n&&(e.TgZ(0,"app-label",71),e._UZ(1,"input",70),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("formControl",t.controls.textValue)}}function W2(n,o){if(1&n&&(e.TgZ(0,"app-label",72),e._UZ(1,"app-address-input-alt",73),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("formControl",t.controls.addressValue)}}function Y2(n,o){if(1&n&&(e.TgZ(0,"app-label",74),e._UZ(1,"input",70),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("formControl",t.controls.textValue)}}const zx=function(){return[]};function j2(n,o){if(1&n&&(e.TgZ(0,"app-label",75),e._UZ(1,"p-dropdown",76),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();let s;e.xp6(1),e.Q6J("showClear",!0)("options",null!==(s=e.lcZ(2,3,i.cacheService.adSources$))&&void 0!==s?s:e.DdM(5,zx))("formControl",t.controls.adSourceValue)}}function K2(n,o){if(1&n&&(e.TgZ(0,"app-label",77),e._UZ(1,"p-dropdown",76),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();let s;e.xp6(1),e.Q6J("showClear",!0)("options",null!==(s=e.lcZ(2,3,i.cacheService.connectionTypes$))&&void 0!==s?s:e.DdM(5,zx))("formControl",t.controls.connectionTypeValue)}}function q2(n,o){if(1&n&&(e.TgZ(0,"app-label",78),e._UZ(1,"p-dropdown",76),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();let s;e.xp6(1),e.Q6J("showClear",!0)("options",null!==(s=e.lcZ(2,3,i.cacheService.connectionServices$))&&void 0!==s?s:e.DdM(5,zx))("formControl",t.controls.connectionServiceValue)}}function $2(n,o){if(1&n&&(e.ynx(0,61),e.YNc(1,Q2,2,1,"app-label",62),e.YNc(2,G2,2,1,"app-label",63),e.YNc(3,W2,2,1,"app-label",64),e.YNc(4,Y2,2,1,"app-label",65),e.YNc(5,j2,3,6,"app-label",66),e.YNc(6,K2,3,6,"app-label",67),e.YNc(7,q2,3,6,"app-label",68),e.BQk()),2&n){const t=o.$implicit;e.Q6J("ngSwitch",t.value.type)("formGroup",t),e.xp6(1),e.Q6J("ngSwitchCase","TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","LOGIN"),e.xp6(1),e.Q6J("ngSwitchCase","ADDRESS"),e.xp6(1),e.Q6J("ngSwitchCase","PHONE"),e.xp6(1),e.Q6J("ngSwitchCase","AD_SOURCE"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_TYPE"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_SERVICE")}}const X2=function(){return["/tasks","catalog","active"]},ek=function(n){return{width:n}};let YT=(()=>{class n{constructor(t,i,s){this.nav=t,this.cacheService=i,this.catalogService=s,this.isSearchInputFocused=!1,this.catalogCachedRoute$=this.catalogService.lastRoute$.pipe((0,gt.U)(d=>Y1.d.convertToPath(d,!0)),(0,gt.U)(d=>["/tasks","catalog",...d])),this.allFiltersVisible=!1,this.allFiltersPanelWidth=""}ngOnInit(){}resizeFilterPanel(t,i){this.allFiltersPanelWidth=t,setTimeout(()=>{i.align()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(et.r),e.Y36(WT),e.Y36(Y1.d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-catalog-search-page"]],decls:72,vars:21,consts:[["appExtendPageHeight","",1,"flex","px-3","gap-3"],[1,"flex","flex-grow-1","gap-3","mb-3"],[1,"flex","flex-column","flex-grow-1","gap-3"],[1,"flex","bg-white","border-round","border-1","py-2","pr-2","pl-3","gap-2","align-items-center",3,"formGroup","ngClass"],["searchPanelElement",""],["placeholder","\u041f\u043e\u0438\u0441\u043a...","formControlName","searchPhrase",1,"border-0","flex-grow-1","h-full","outline-none","border-none",3,"focus","blur","keydown.enter"],["searchPhraseInput",""],["icon","mdi-close","styleClass","p-button-secondary p-button-icon p-button-text p-button-sm",3,"onClick",4,"ngIf"],["label","\u041d\u0430\u0439\u0442\u0438","icon","mdi-search","styleClass","p-button-sm",3,"onClick"],["label","\u0424\u0438\u043b\u044c\u0442\u0440\u044b","icon","mdi-filter_alt","styleClass","p-button-sm p-button-help",3,"onClick"],["label","\u0417\u0430\u043a\u0440\u044b\u0442\u044c","icon","mdi-close","styleClass","p-button-sm p-button-secondary",3,"routerLink"],[4,"ngIf"],[1,"flex","flex-column","flex-grow-1"],[1,"flex","flex-column","border-round","border-1","bg-white","border-bluegray-100","h-fit","sticky-type-selector"],[1,"text-lg","text-bluegray-600","font-bold","p-3","bg-white","sticky","top-0","z-5"],[1,"flex","flex-column","gap-1","relative","px-3","pb-3"],["label","\u0412\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438","link","/tasks/search",3,"contentTemplate","isEmpty","counter","isCounterLoading"],["tasksStatusItemsTemplate",""],["activeTasksClassItemsTemplate",""],["activeTasksTypeItemsTemplate",""],["processingTasksClassItemsTemplate",""],["processingTasksTypeItemsTemplate",""],["closeTasksClassItemsTemplate",""],["closeTasksTypeItemsTemplate",""],["appendTo","body",3,"dismissable","onShow"],["allFiltersPanel",""],[1,"flex","flex-column","gap-3",3,"formGroup"],[1,"flex","align-items-center","gap-3"],[1,"text-bluegray-500","text-xl"],[1,"flex-grow-1"],["icon","mdi-done","label","\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-sm",3,"onClick"],["icon","mdi-close","label","\u0417\u0430\u043a\u0440\u044b\u0442\u044c","styleClass","p-button-outlined p-button-sm p-button-secondary",3,"onClick"],[1,"flex","flex-column","gap-2","pl-2"],[1,"text-bluegray-500","text-lg"],[1,"flex","flex-wrap","column-gap-3","row-gap-1"],["label","\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"],["formControlName","dateOfCreation"],["label","\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f"],["formControlName","dateOfClose"],["label","\u0410\u0432\u0442\u043e\u0440 \u0437\u0430\u0434\u0430\u0447\u0438"],["formControlName","author"],["label","\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c \u0437\u0430\u0434\u0430\u0447\u0438"],["formControlName","assignedEmployee"],["formControlName","tags"],["formArrayName","fieldFilters",1,"flex","flex-wrap","column-gap-3","row-gap-1"],[4,"ngFor","ngForOf"],["filterFieldTemplate",""],["icon","mdi-close","styleClass","p-button-secondary p-button-icon p-button-text p-button-sm",3,"onClick"],["class","flex flex-wrap gap-2 align-items-center",4,"ngIf"],[1,"flex","flex-wrap","gap-2","align-items-center"],[1,"text-sm","text-bluegray-400","font-bold"],[3,"label","removable","onRemove",4,"ngFor","ngForOf"],[3,"label","removable","onRemove"],["label","\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435",3,"contentTemplate","isEmpty","counter","isCounterLoading","link"],["label","\u0423 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432",3,"contentTemplate","isEmpty","counter","isCounterLoading","link"],["label","\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435",3,"contentTemplate","isEmpty","counter","isCounterLoading","link"],[3,"counter","isCounterLoading","contentTemplate","contentTemplateData","isEmpty","label","link",4,"ngFor","ngForOf"],[3,"counter","isCounterLoading","contentTemplate","contentTemplateData","isEmpty","label","link"],[3,"counter","isCounterLoading","isEmpty","label","link",4,"ngFor","ngForOf"],[3,"counter","isCounterLoading","isEmpty","label","link"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch","formGroup"],["label","\u0422\u0435\u043a\u0441\u0442 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435",4,"ngSwitchCase"],["label","\u041b\u043e\u0433\u0438\u043d",4,"ngSwitchCase"],["label","\u0410\u0434\u0440\u0435\u0441",4,"ngSwitchCase"],["label","\u0422\u0435\u043b\u0435\u0444\u043e\u043d",4,"ngSwitchCase"],["label","\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a",4,"ngSwitchCase"],["label","\u0422\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f",4,"ngSwitchCase"],["label","\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0430\u044f \u0443\u0441\u043b\u0443\u0433\u0438",4,"ngSwitchCase"],["label","\u0422\u0435\u043a\u0441\u0442 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435"],["pInputText","",3,"formControl"],["label","\u041b\u043e\u0433\u0438\u043d"],["label","\u0410\u0434\u0440\u0435\u0441"],[3,"formControl"],["label","\u0422\u0435\u043b\u0435\u0444\u043e\u043d"],["label","\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a"],["placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"showClear","options","formControl"],["label","\u0422\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"],["label","\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0430\u044f \u0443\u0441\u043b\u0443\u0433\u0438"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"div",0),e._UZ(1,"app-main-menu-panel"),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3,4)(6,"input",5,6),e.NdJ("focus",function(){e.CHM(s);const T=e.MAs(7);return i.isSearchInputFocused=!0,e.KtG(T.select())})("blur",function(){return i.isSearchInputFocused=!1})("keydown.enter",function(){return i.cacheService.search()}),e.qZA(),e.YNc(8,x2,1,0,"p-button",7),e.TgZ(9,"p-button",8),e.NdJ("onClick",function(){return i.cacheService.search()}),e.qZA(),e.TgZ(10,"p-button",9),e.NdJ("onClick",function(T){e.CHM(s);const W=e.MAs(5),Ce=e.MAs(37);return e.KtG(Ce.toggle(T,W))}),e.qZA(),e._UZ(11,"p-button",10),e.ALo(12,"async"),e.qZA(),e.YNc(13,A2,2,1,"ng-container",11),e.ALo(14,"async"),e.TgZ(15,"div",12),e._UZ(16,"router-outlet"),e.qZA()(),e.TgZ(17,"div",13)(18,"span",14),e._uU(19,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"),e.qZA(),e.TgZ(20,"div",15),e._UZ(21,"app-catalog-menu-item",16),e.qZA()()()(),e.YNc(22,w2,3,15,"ng-template",null,17,e.W1O),e.YNc(24,k2,2,3,"ng-template",null,18,e.W1O),e.YNc(26,M2,1,1,"ng-template",null,19,e.W1O),e.YNc(28,L2,2,3,"ng-template",null,20,e.W1O),e.YNc(30,N2,1,1,"ng-template",null,21,e.W1O),e.YNc(32,Z2,2,3,"ng-template",null,22,e.W1O),e.YNc(34,H2,1,1,"ng-template",null,23,e.W1O),e.TgZ(36,"p-overlayPanel",24,25),e.NdJ("onShow",function(){e.CHM(s);const T=e.MAs(5),W=e.MAs(37);return e.KtG(i.resizeFilterPanel(T.offsetWidth+"px",W))}),e.TgZ(38,"div",26)(39,"div",27)(40,"span",28),e._uU(41," \u0424\u0438\u043b\u044c\u0442\u0440\u044b "),e.qZA(),e._UZ(42,"div",29),e.TgZ(43,"p-button",30),e.NdJ("onClick",function(){e.CHM(s);const T=e.MAs(37);return i.cacheService.search(),e.KtG(T.hide())}),e.qZA(),e.TgZ(44,"p-button",31),e.NdJ("onClick",function(){e.CHM(s);const T=e.MAs(37);return e.KtG(T.hide())}),e.qZA()(),e.TgZ(45,"div",32)(46,"span",33),e._uU(47," \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435/\u0417\u0430\u043a\u0440\u044b\u0442\u0438\u0435 "),e.qZA(),e.TgZ(48,"div",34)(49,"app-label",35),e._UZ(50,"app-data-range-input",36),e.qZA(),e.TgZ(51,"app-label",37),e._UZ(52,"app-data-range-input",38),e.qZA()()(),e.TgZ(53,"div",32)(54,"span",33),e._uU(55," \u0410\u0432\u0442\u043e\u0440/\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c "),e.qZA(),e.TgZ(56,"div",34)(57,"app-label",39),e._UZ(58,"app-employee-selector",40),e.qZA(),e.TgZ(59,"app-label",41),e._UZ(60,"app-employee-selector",42),e.qZA()()(),e.TgZ(61,"div",32)(62,"span",33),e._uU(63," \u0422\u0435\u0433\u0438 "),e.qZA(),e._UZ(64,"app-task-tag-filter-input",43),e.qZA(),e.TgZ(65,"div",32)(66,"span",33),e._uU(67," \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0432 \u0437\u0430\u0434\u0430\u0447\u0435 "),e.qZA(),e.TgZ(68,"div",44),e.YNc(69,J2,2,4,"ng-container",45),e.qZA()()()(),e.YNc(70,$2,8,9,"ng-template",null,46,e.W1O)}if(2&t){const s=e.MAs(23);let d;e.xp6(4),e.Q6J("formGroup",i.cacheService.filterForm)("ngClass",i.isSearchInputFocused?"border-primary":"border-bluegray-100"),e.xp6(4),e.Q6J("ngIf",i.cacheService.filterForm.controls.searchPhrase.value),e.xp6(3),e.Q6J("routerLink",null!==(d=e.lcZ(12,14,i.catalogCachedRoute$))&&void 0!==d?d:e.DdM(18,X2)),e.xp6(2),e.Q6J("ngIf",e.lcZ(14,16,i.cacheService.applyingAllFilters$)),e.xp6(8),e.Q6J("contentTemplate",s)("isEmpty",!1)("counter",i.cacheService.getTasksCounter())("isCounterLoading",i.cacheService.getTasksLoadingCounter()),e.xp6(15),e.Akn(e.VKq(19,ek,i.allFiltersPanelWidth)),e.Q6J("dismissable",!1),e.xp6(2),e.Q6J("formGroup",i.cacheService.filterForm),e.xp6(31),e.Q6J("ngForOf",i.cacheService.filterForm.controls.fieldFilters.controls)}}}),n})();function tk(n,o){1&n&&e.GkF(0)}function nk(n,o){if(1&n&&(e.TgZ(0,"div",11),e._UZ(1,"app-task-list-element",12),e.qZA()),2&n){const t=o.$implicit;let i;e.Q6J("pDraggable",null!==(i=null==t.currentStage?null:t.currentStage.stageId)&&void 0!==i?i:""),e.xp6(1),e.Q6J("isCommentInput",!0)("item",t)}}function ik(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",9),e.YNc(2,nk,2,3,"div",10),e.qZA(),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(2),e.Q6J("ngForOf",t.content)}}function ok(n,o){if(1&n&&(e.ynx(0),e.YNc(1,tk,1,0,"ng-container",7),e.YNc(2,ik,3,1,"ng-container",8),e.BQk()),2&n){const t=e.oxw(),i=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngIf","READY"===t.cacheService.taskLoadingState)}}function sk(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"p-paginator",14,15),e.NdJ("onPageChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.cacheService.pageControl.setValue(s.page))}),e.qZA()()}if(2&n){const t=o.ngIf,i=e.oxw();let s;e.Q6J("hidden","READY"!==i.cacheService.taskLoadingState),e.xp6(1),e.Q6J("alwaysShow",!0)("rows",15)("showCurrentPageReport",!0)("totalRecords",t.totalElements)("first",15*(null!==(s=i.cacheService.pageControl.value)&&void 0!==s?s:0))}}function rk(n,o){1&n&&e.GkF(0)}function ak(n,o){if(1&n&&(e.ynx(0),e.YNc(1,rk,1,0,"ng-container",7),e.BQk()),2&n){e.oxw(2);const t=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function lk(n,o){1&n&&e.GkF(0)}function ck(n,o){if(1&n&&(e.ynx(0),e.YNc(1,lk,1,0,"ng-container",7),e.BQk()),2&n){e.oxw(2);const t=e.MAs(10);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function uk(n,o){1&n&&e.GkF(0)}function dk(n,o){if(1&n&&(e.ynx(0),e.YNc(1,uk,1,0,"ng-container",7),e.BQk()),2&n){e.oxw(2);const t=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function pk(n,o){if(1&n&&(e.ynx(0,16),e.YNc(1,ak,2,1,"ng-container",17),e.YNc(2,ck,2,1,"ng-container",17),e.YNc(3,dk,2,1,"ng-container",17),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.cacheService.taskLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR")}}function hk(n,o){1&n&&(e.TgZ(0,"div",18),e._UZ(1,"p-progressSpinner",19),e.qZA())}function gk(n,o){1&n&&(e.TgZ(0,"div",20),e._UZ(1,"i",21),e.TgZ(2,"span"),e._uU(3,"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),e.qZA()())}function mk(n,o){1&n&&(e.TgZ(0,"div",22),e._UZ(1,"i",23),e.TgZ(2,"span"),e._uU(3,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e.qZA()())}let K1=(()=>{class n{constructor(t,i){this.route=t,this.cacheService=i,this.subscriptions=new _.xf}ngOnInit(){this.subscriptions.addSubscription("crrRt",(0,Wo.a)([this.route.params]).subscribe(([t])=>this.cacheService.updatePath(t)))}ngAfterViewInit(){}ngOnDestroy(){this.subscriptions.unsubscribeAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.gz),e.Y36(WT))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:13,vars:7,consts:[[4,"ngIf","ngIfElse"],[1,"flex-grow-1"],["class","sticky bottom1",3,"hidden",4,"ngIf"],["statesTemplate",""],["loadingTemplate",""],["emptyTemplate",""],["errorTemplate",""],[4,"ngTemplateOutlet"],[4,"ngIf"],[1,"flex","flex-column","gap-1","border-round-md","shadow-1","overflow-hidden","bg-bluegray-100","h-fit","mb-3"],["class","flex relative",3,"pDraggable",4,"ngFor","ngForOf"],[1,"flex","relative",3,"pDraggable"],[3,"isCommentInput","item"],[1,"sticky","bottom1",3,"hidden"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447","styleClass","panel",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","first","onPageChange"],["paginator",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"flex","flex-grow-1","align-items-center","justify-content-center"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flex","flex-column","flex-grow-1","align-items-center","justify-content-center","text-bluegray-400","text-lg","font-bold"],[1,"mds-search_off"],[1,"flex","flex-column","flex-grow-1","align-items-center","justify-content-center","text-red-400","text-lg","font-bold"],[1,"mdi-error"]],template:function(t,i){if(1&t&&(e.YNc(0,ok,3,2,"ng-container",0),e.ALo(1,"async"),e._UZ(2,"div",1),e.YNc(3,sk,3,6,"div",2),e.ALo(4,"async"),e.YNc(5,pk,4,4,"ng-template",null,3,e.W1O),e.YNc(7,hk,2,0,"ng-template",null,4,e.W1O),e.YNc(9,gk,4,0,"ng-template",null,5,e.W1O),e.YNc(11,mk,4,0,"ng-template",null,6,e.W1O)),2&t){const s=e.MAs(6);e.Q6J("ngIf",e.lcZ(1,3,i.cacheService.tasks$))("ngIfElse",s),e.xp6(3),e.Q6J("ngIf",e.lcZ(4,5,i.cacheService.tasks$))}},dependencies:[Qc.E,k.sg,k.O5,k.tP,k.RF,k.n9,it.G,Al.D,Yo._l,k.Ov],styles:["[_nghost-%COMP%]{flex-grow:1;min-height:100%;display:flex;flex-direction:column}"]}),n})(),fk=(()=>{class n{constructor(t,i){this.personality=t,this.router=i}canActivate(...t){return this.personality.userData$.pipe((0,nh.P)(),(0,gt.U)(i=>this.personality.isHasAccess(...t)||this.router.createUrlTree(["/"])))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(J.F),e.LFG(a.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xr(...n){return(o,t)=>(0,e.f3M)(fk).canActivate(...n)}let jT=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:5,vars:0,consts:[["appExtendPageHeight","",1,"flex","px-3","gap-3","justify-content-center"],[1,"responsive-wrapper","flex","gap-3"],[1,"flex","flex-grow-1","gap-3","mb-3"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e._UZ(4,"router-outlet"),e.qZA()()())}}),n})();var Kg=b(1208),Cc=b(1110);function _k(n,o){1&n&&e._UZ(0,"app-employee-label",10),2&n&&e.Q6J("employee",o.$implicit)}function Ck(n,o){if(1&n&&(e.TgZ(0,"div",11)(1,"span",6),e._uU(2),e.qZA(),e.TgZ(3,"span",12),e._uU(4),e.qZA(),e._UZ(5,"p-checkbox",13),e.qZA()),2&n){const t=o.$implicit;e.Q6J("formGroup",t),e.xp6(2),e.hij(" ",t.value.name," "),e.xp6(2),e.hij(" ",t.value.count," \u0448\u0442. "),e.xp6(1),e.Q6J("binary",!0)("formControl",t.controls.checked)}}function vk(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",14),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.receiveCheck())}),e.qZA()}}function bk(n,o){if(1&n&&(e.TgZ(0,"div",11)(1,"span",6),e._uU(2),e.qZA(),e.TgZ(3,"span",12),e._uU(4),e.qZA(),e._UZ(5,"p-checkbox",13),e.qZA()),2&n){const t=o.$implicit;e.Q6J("formGroup",t),e.xp6(2),e.hij(" ",t.value.name," "),e.xp6(2),e.hij(" ",t.value.count," \u0448\u0442. "),e.xp6(1),e.Q6J("binary",!0)("formControl",t.controls.checked)}}function yk(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",14),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.archiveCheck())}),e.qZA()}}function xk(n,o){if(1&n&&(e.TgZ(0,"div",1),e._UZ(1,"app-task-list-element",2),e.TgZ(2,"div",3)(3,"div",4)(4,"span",5),e._uU(5,"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430:"),e.qZA(),e.TgZ(6,"span",6),e._uU(7),e.ALo(8,"date"),e.qZA()(),e.TgZ(9,"div",4)(10,"span",5),e._uU(11,"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438:"),e.qZA(),e.YNc(12,_k,1,1,"app-employee-label",7),e.qZA(),e.TgZ(13,"div",4)(14,"span",5),e._uU(15,"\u041f\u0440\u0438\u0435\u043c\u043a\u0430:"),e.qZA(),e.YNc(16,Ck,6,5,"div",8),e.YNc(17,vk,1,0,"p-button",9),e.ALo(18,"async"),e.qZA(),e.TgZ(19,"div",4)(20,"span",5),e._uU(21,"\u0410\u0440\u0445\u0438\u0432\u0430\u0446\u0438\u044f:"),e.qZA(),e.YNc(22,bk,6,5,"div",8),e.YNc(23,yk,1,0,"p-button",9),e.ALo(24,"async"),e.qZA()()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("item",t.workLog.task)("inlined",!0),e.xp6(6),e.Oqu(e.xi3(8,8,t.workLog.closed,"dd-MM-yyyy HH:mm")),e.xp6(5),e.Q6J("ngForOf",t.workLog.employees),e.xp6(4),e.Q6J("ngForOf",t.receiveContracts.controls),e.xp6(1),e.Q6J("ngIf",e.lcZ(18,11,t.receiveHasChanged$)),e.xp6(5),e.Q6J("ngForOf",t.archiveContracts.controls),e.xp6(1),e.Q6J("ngIf",e.lcZ(24,13,t.archiveHasChanged$))}}let Ik=(()=>{class n{constructor(t,i,s){this.api=t,this.blockService=i,this.personality=s,this.receiveContracts=new g.Oe([]),this.initialReceiveValues=[],this.archiveContracts=new g.Oe([]),this.initialArchiveValues=[],this.receiveHasChanged$=this.receiveContracts.valueChanges.pipe((0,gt.U)(d=>this.hasChangeForm(d,this.initialReceiveValues))),this.archiveHasChanged$=this.archiveContracts.valueChanges.pipe((0,gt.U)(d=>this.hasChangeForm(d,this.initialArchiveValues)))}ngOnInit(){}ngOnChanges(t){const i=t.workLog;this.receiveContracts.clear(),this.archiveContracts.clear(),i&&i.currentValue&&this.personality.userLogin$.pipe((0,nh.P)()).subscribe(s=>{const{concludedContracts:d}=i.currentValue;this.setupControls(d,s)})}receiveCheck(){this.blockService.wait({message:"\u041f\u0440\u0438\u0435\u043c\u043a\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432"}),this.api.markContractsAsReceived(this.receiveContracts.value.filter(t=>this.hasChange(t,this.initialReceiveValues)).map(t=>t.id)).subscribe({next:()=>{this.blockService.unblock()},error:()=>{this.blockService.unblock()}})}archiveCheck(){this.blockService.wait({message:"\u0410\u0440\u0445\u0438\u0432\u0430\u0446\u0438\u044f \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432"}),this.api.markContractsAsArchived(this.archiveContracts.value.filter(t=>this.hasChange(t,this.initialArchiveValues)).map(t=>t.id)).subscribe({next:()=>{this.blockService.unblock()},error:()=>{this.blockService.unblock()}})}hasChangeForm(t,i){return t.reduce((s,d)=>s||this.hasChange(d,i),!1)}hasChange(t,i){var s;return t.checked!==(null===(s=i.find(d=>d.id===t.id))||void 0===s?void 0:s.checked)}setupControls(t,i){this.receiveContracts.clear(),this.archiveContracts.clear();for(let s of t)this.appendReceiveControls(s,i),this.appendArchiveControls(s,i);this.initialReceiveValues=this.receiveContracts.value,this.initialArchiveValues=this.archiveContracts.value}appendReceiveControls(t,i){const s=new g.cw({name:new g.NI(t.typeOfContract.name),id:new g.NI(t.contractId),checked:new g.NI(!!t.received),count:new g.NI(t.count)});(!!t.received||this.loginIsNotInTheList(i,t.typeOfContract.receivers))&&s.disable(),this.receiveContracts.push(s)}appendArchiveControls(t,i){const s=new g.cw({name:new g.NI(t.typeOfContract.name),id:new g.NI(t.contractId),checked:new g.NI(!!t.archived),count:new g.NI(t.count)});(!t.received||!!t.archived||this.loginIsNotInTheList(i,t.typeOfContract.archivers))&&s.disable(),this.archiveContracts.push(s)}loginIsNotInTheList(t,i){return!i.map(s=>s.login).includes(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(Yg.A),e.Y36(J.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-contract-inspection-item"]],inputs:{workLog:"workLog"},features:[e.TTD],decls:1,vars:1,consts:[["class","bg-white flex flex-column pb-2 border-1 border-bluegray-100",4,"ngIf"],[1,"bg-white","flex","flex-column","pb-2","border-1","border-bluegray-100"],[3,"item","inlined"],[1,"flex","flex-column","gap-2","mx-3","mt-3"],[1,"flex","flex-wrap","gap-2","align-items-center"],[1,"text-bluegray-400","font-bold"],[1,"text-bluegray-500"],[3,"employee",4,"ngFor","ngForOf"],["class","p-2 border-round border-1 border-bluegray-100",3,"formGroup",4,"ngFor","ngForOf"],["icon","mdi-check","label","\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c","styleClass","p-button-sm p-button-outlined p-button-success",3,"onClick",4,"ngIf"],[3,"employee"],[1,"p-2","border-round","border-1","border-bluegray-100",3,"formGroup"],[1,"text-primary"],[3,"binary","formControl"],["icon","mdi-check","label","\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c","styleClass","p-button-sm p-button-outlined p-button-success",3,"onClick"]],template:function(t,i){1&t&&e.YNc(0,xk,25,15,"div",0),2&t&&e.Q6J("ngIf",i.workLog)},dependencies:[k.sg,k.O5,O.zx,g.JJ,g.JL,Kg.XZ,g.oH,g.sg,Qc.E,Cc.x,k.Ov,k.uU]}),n})();function Tk(n,o){1&n&&(e.TgZ(0,"div",12),e._UZ(1,"p-progressSpinner",13),e.qZA())}function Ak(n,o){1&n&&(e.TgZ(0,"div",14),e._UZ(1,"span",15),e.TgZ(2,"span",16),e._uU(3,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()())}function wk(n,o){1&n&&(e.TgZ(0,"div",17),e._UZ(1,"span",18),e.TgZ(2,"span",16),e._uU(3,"\u041d\u0435\u0442 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432 \u0434\u043b\u044f \u043f\u0440\u0438\u0435\u043c\u043a\u0438"),e.qZA()())}function Ek(n,o){1&n&&e._UZ(0,"app-contract-inspection-item",20),2&n&&e.Q6J("workLog",o.$implicit)}function Sk(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Ek,1,1,"app-contract-inspection-item",19),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t.value)}}function kk(n,o){1&n&&e._UZ(0,"div",21)}function Dk(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5),e.YNc(1,Tk,2,0,"div",6),e.YNc(2,Ak,4,0,"div",7),e.YNc(3,wk,4,0,"div",8),e.YNc(4,Sk,2,1,"ng-container",9),e.YNc(5,kk,1,0,"div",10),e.TgZ(6,"p-paginator",11),e.NdJ("onPageChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.pageControl.setValue(s.page))}),e.qZA()()}if(2&n){const t=o.ngIf,i=e.oxw();let s;e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase",i.LoadingState.LOADING),e.xp6(1),e.Q6J("ngSwitchCase",i.LoadingState.ERROR),e.xp6(1),e.Q6J("ngSwitchCase",i.LoadingState.EMPTY),e.xp6(1),e.Q6J("ngSwitchCase",i.LoadingState.READY),e.xp6(1),e.Q6J("ngIf",t.loadingState===i.LoadingState.READY),e.xp6(1),e.Q6J("hidden",t.loadingState!==i.LoadingState.READY)("first",15*(null!==(s=i.pageControl.value)&&void 0!==s?s:0))("totalRecords",t.totalElements)("alwaysShow",!0)("rows",15)}}class Jd{constructor(o,t){this.api=o,this.rt=t,this.LoadingState=me.Gu,this.pageControl=new g.NI(0),this.filterControls=new g.cw({searchQuery:new g.NI("")}),this.enterDown$=this.searchInputKeyDown$.pipe((0,l.h)(i=>"Enter"===i.key),(0,rs.O)(null)),this.search$=this.clickSearchButton$.pipe((0,rs.O)(null)),this.cleared$=this.clickClearButton$.pipe((0,hi.b)(this.clearFilters.bind(this)),(0,rs.O)(null)),this.filterValue$=this.filterControls.valueChanges.pipe((0,un.d)(1)),this.doSearch$=(0,Wo.a)([this.enterDown$,this.search$,this.cleared$]).pipe((0,hi.b)(()=>this.pageControl.setValue(0)),(0,gt.U)(()=>this.filterControls.value)),this.controlsChange$=(0,Wo.a)([this.pageControl.valueChanges.pipe((0,rs.O)(0)),this.doSearch$]).pipe((0,bs.b)(100)),this.workLogs$=_.aN.ofPageAltAll(this.controlsChange$,this.api.getWorkLogsUnconfirmedContracts.bind(this.api),[this.rt.updatingMarkedContracts()])}ngOnInit(){}clearFilters(){this.filterControls.reset({searchQuery:""})}}Jd.\u0275fac=function(o){return new(o||Jd)(e.Y36(L.s),e.Y36(de.U))},Jd.\u0275cmp=e.Xpm({type:Jd,selectors:[["ng-component"]],decls:6,vars:4,consts:[[1,"bg-white","p-3","flex","gap-3","shadow-1","sticky","top-under-panel","border-round","mb-3","z-1",3,"formGroup"],["pInputText","","id","searchInput","formControlName","searchQuery","placeholder","\u041b\u043e\u0433\u0438\u043d / \u0410\u0434\u0440\u0435\u0441 / \u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a...",1,"flex-grow-1"],["pButton","","id","searchButton","icon","mdi-search","label","\u041f\u043e\u0438\u0441\u043a"],["pButton","","id","clearButton","icon","mdi-clear","label","\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c",1,"p-button-secondary","p-button-text"],["class","flex flex-column gap-2 relative h-full",3,"ngSwitch",4,"ngIf"],[1,"flex","flex-column","gap-2","relative","h-full",3,"ngSwitch"],["class","flex align-items-center justify-content-center flex-grow-1",4,"ngSwitchCase"],["class","flex flex-column align-items-center justify-content-center text-red-400 absolute top-50 left-50 -translate-50",4,"ngSwitchCase"],["class","flex flex-column align-items-center justify-content-center text-bluegray-400 absolute top-50 left-50 -translate-50",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","flex-grow-1",4,"ngIf"],["styleClass","shadow-1",1,"sticky","bottom-1rem",3,"hidden","first","totalRecords","alwaysShow","rows","onPageChange"],[1,"flex","align-items-center","justify-content-center","flex-grow-1"],["strokeWidth","2",1,"custom-spinner","custom-spinner-primary","custom-spinner-8xl"],[1,"flex","flex-column","align-items-center","justify-content-center","text-red-400","absolute","top-50","left-50","-translate-50"],[1,"mds-error"],[1,"text-lg","font-bold"],[1,"flex","flex-column","align-items-center","justify-content-center","text-bluegray-400","absolute","top-50","left-50","-translate-50"],[1,"mds-scan_delete"],[3,"workLog",4,"ngFor","ngForOf"],[3,"workLog"],[1,"flex-grow-1"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"input",1)(2,"button",2)(3,"button",3),e.qZA(),e.YNc(4,Dk,7,11,"div",4),e.ALo(5,"async")),2&o&&(e.Q6J("formGroup",t.filterControls),e.xp6(4),e.Q6J("ngIf",e.lcZ(5,2,t.workLogs$)))},dependencies:[Ik,g.Fj,g.JJ,g.JL,k.sg,g.sg,g.u,k.O5,O.Hq,k.RF,k.n9,bi.o,it.G,Al.D,k.Ov],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;flex-grow:1}"]}),(0,rl.gn)([(0,Tl.v4)("searchInput","keydown")],Jd.prototype,"searchInputKeyDown$",void 0),(0,rl.gn)([(0,Tl.v4)("searchButton","click")],Jd.prototype,"clickSearchButton$",void 0),(0,rl.gn)([(0,Tl.v4)("clearButton","click")],Jd.prototype,"clickClearButton$",void 0);var Y_=b(1560);function Mk(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"span",2),e._uU(2),e.qZA(),e._UZ(3,"div",3),e.TgZ(4,"p-button",4),e.NdJ("onClick",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.onEdit.emit({event:s,typeContract:d.typeContract}))}),e.qZA(),e.TgZ(5,"p-button",5),e.NdJ("onClick",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.onDelete.emit({event:s,typeContract:d.typeContract}))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.hij(" ",t.typeContract.name," ")}}let Ok=(()=>{class n{constructor(){this.onEdit=new e.vpe,this.onDelete=new e.vpe}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-contract-item"]],inputs:{typeContract:"typeContract"},outputs:{onEdit:"onEdit",onDelete:"onDelete"},decls:1,vars:1,consts:[["class","flex align-items-center gap-2 p-3",4,"ngIf"],[1,"flex","align-items-center","gap-2","p-3"],[1,"text-bluegray-500","font-bold"],[1,"flex-grow-1"],["icon","mdi-edit","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-sm p-button-outlined p-button-warning",3,"onClick"],["icon","mdi-delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","styleClass","p-button-sm p-button-outlined p-button-danger",3,"onClick"]],template:function(t,i){1&t&&e.YNc(0,Mk,6,1,"div",0),2&t&&e.Q6J("ngIf",i.typeContract)},dependencies:[k.O5,O.zx]}),n})();function Pk(n,o){if(1&n&&e._UZ(0,"app-employee-label",3),2&n){const t=o.$implicit;e.Q6J("size",1.4)("employee",t)}}function Lk(n,o){if(1&n&&e._UZ(0,"app-employee-label",3),2&n){const t=o.$implicit;e.Q6J("size",1.4)("employee",t)}}let Rk=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this._options={},this.employees=[],this.employeesSuggestions=[],this.control=new g.NI([]),this.isDisabled=!1,this.subscriptions=new _.xf,this.onChange=s=>{},this.onTouched=()=>{}}set options(t){this._options=t,this.initEmployeeLoader()}ngOnInit(){this.subscriptions.addSubscription("chg",this.control.valueChanges.subscribe(t=>this.onChange(t||[]))),this.initEmployeeLoader()}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t}writeValue(t){Array.isArray(t)?this.control.setValue(t||[]):this.control.setValue([])}search(t){this.employeesSuggestions=this.employees.filter(i=>{var s;return null===(s=i.fullName)||void 0===s?void 0:s.toLowerCase().includes(t.toLowerCase())})}initEmployeeLoader(){const t=(0,qi.T)(this.rt.employeeCreated(),this.rt.employeeUpdated(),this.rt.employeeDeleted()).pipe((0,rs.O)(null),(0,R.w)(()=>this.api.getEmployees(void 0,this._options.showDeleted,this._options.showOffsite)));this.subscriptions.addSubscription("employees",t.subscribe(i=>this.employees=i))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-multiply-selector"]],inputs:{options:"options"},features:[e._Bn([{provide:g.JU,useExisting:n,multi:!0}])],decls:3,vars:6,consts:[["appendTo","body","dataKey","login","emptyMessage","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e","placeholder","\u0418\u043c\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430...",3,"autoHighlight","forceSelection","formControl","multiple","showEmptyMessage","suggestions","completeMethod"],["pTemplate","item"],["pTemplate","selectedItem"],[3,"size","employee"]],template:function(t,i){1&t&&(e.TgZ(0,"p-autoComplete",0),e.NdJ("completeMethod",function(d){return i.search(d.query)}),e.YNc(1,Pk,1,2,"ng-template",1),e.YNc(2,Lk,1,2,"ng-template",2),e.qZA()),2&t&&e.Q6J("autoHighlight",!0)("forceSelection",!0)("formControl",i.control)("multiple",!0)("showEmptyMessage",!0)("suggestions",i.employeesSuggestions)},dependencies:[g.JJ,N.jx,g.oH,F.Qc,Cc.x]}),n})();function Nk(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-contract-item",15),e.NdJ("onEdit",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.openEditDialog(s))})("onDelete",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.openDeleteDialog(s))}),e.qZA()}2&n&&e.Q6J("typeContract",o.$implicit)}function Fk(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Nk,1,1,"app-contract-item",14),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t.value)}}function Bk(n,o){1&n&&e.GkF(0)}function Zk(n,o){1&n&&e.GkF(0)}const KT=function(){return{showDeleted:!1,showOffsite:!1}};function Uk(n,o){if(1&n&&(e.TgZ(0,"div",16)(1,"app-label",17),e._UZ(2,"input",18),e.qZA(),e.TgZ(3,"app-label",19),e._UZ(4,"textarea",20),e.qZA(),e.TgZ(5,"app-label",21),e._UZ(6,"app-employee-multiply-selector",22),e.qZA(),e.TgZ(7,"app-label",23),e._UZ(8,"app-employee-multiply-selector",24),e.qZA()()),2&n){const t=e.oxw();e.Q6J("formGroup",t.typeContractForm),e.xp6(2),e.Q6J("size",30),e.xp6(2),e.Q6J("autoResize",!0)("rows",4),e.xp6(2),e.Q6J("options",e.DdM(6,KT)),e.xp6(2),e.Q6J("options",e.DdM(7,KT))}}let Hk=(()=>{class n{constructor(t,i,s){this.api=t,this.rt=i,this.confirmService=s,this.typesContracts$=_.aN.of(this.api.getContractTypesList(),"typeOfContractId",this.rt.createTypeOfContract(),this.rt.updateTypeOfContract(),this.rt.deleteTypeOfContract()),this.createDialogVisible=!1,this.editDialogVisible=!1,this.isRequestSending=!1,this.typeContractForm=new g.cw({name:new g.NI("",[g.kI.required,g.kI.minLength(3)]),description:new g.NI(""),receivers:new g.NI([],[g.kI.required,g.kI.minLength(1),g.kI.maxLength(10)]),archivers:new g.NI([],[g.kI.required,g.kI.minLength(1),g.kI.maxLength(10)])})}ngOnInit(){}openCreateDialog(){this.createDialogVisible=!0,this.typeContractForm.reset({name:"",description:"",receivers:[],archivers:[]})}openEditDialog(t){this.editDialogVisible=!0,this.editingContractTypeId=t.typeContract.typeOfContractId,this.typeContractForm.reset({name:t.typeContract.name,description:t.typeContract.description,receivers:t.typeContract.receivers,archivers:t.typeContract.archivers})}openDeleteDialog(t){this.confirmService.confirm({header:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430",message:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0438\u043f \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430?",accept:()=>{this.api.removeContractType(t.typeContract.typeOfContractId).subscribe()}})}createTypeOfContract(){var t,i;this.isRequestSending=!0;const{name:s,description:d,receivers:T,archivers:W}=this.typeContractForm.value;this.api.createContractType({name:null!=s?s:"",description:null!=d?d:"",receivers:null!==(t=null==T?void 0:T.map(Ce=>Ce.login))&&void 0!==t?t:[],archivers:null!==(i=null==W?void 0:W.map(Ce=>Ce.login))&&void 0!==i?i:[]}).subscribe({next:()=>{this.createDialogVisible=!1,this.isRequestSending=!1},error:()=>{this.isRequestSending=!1}})}editTypeOfContract(){var t,i;if(!this.editingContractTypeId)return;this.isRequestSending=!0;const{name:s,description:d,receivers:T,archivers:W}=this.typeContractForm.value;this.api.updateContractType(this.editingContractTypeId,{name:null!=s?s:"",description:null!=d?d:"",receivers:null!==(t=null==T?void 0:T.map(Ce=>Ce.login))&&void 0!==t?t:[],archivers:null!==(i=null==W?void 0:W.map(Ce=>Ce.login))&&void 0!==i?i:[]}).subscribe({next:()=>{this.editDialogVisible=!1,this.isRequestSending=!1},error:()=>{this.isRequestSending=!1}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:19,vars:13,consts:[[1,"flex","flex-column","text-bluegray-500","bg-white","border-round","shadow-1"],[1,"flex","align-items-center","pt-2","pl-3","pr-2","pb-1","select-none"],[1,"text-lg","text-bluegray-600","font-semibold","mr-3","white-space-nowrap"],[1,"flex-grow-1"],["styleClass","p-button-sm p-button-success","icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"onClick"],[1,"flex","flex-column","p-4"],[4,"ngIf"],["appendTo","body","contentStyleClass","flex flex-column gap-3 max-w-30rem","header","\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430",3,"visible","modal","draggable","dismissableMask","visibleChange"],[4,"ngTemplateOutlet"],[1,"flex","justify-content-end"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success",3,"onClick"],["appendTo","body","contentStyleClass","flex flex-column gap-3 max-w-30rem","header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430",3,"visible","modal","draggable","dismissableMask","visibleChange"],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"onClick"],["typeContractFormTemplate",""],["class","terminated",3,"typeContract","onEdit","onDelete",4,"ngFor","ngForOf"],[1,"terminated",3,"typeContract","onEdit","onDelete"],[1,"flex","flex-column","gap-2",3,"formGroup"],["label","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430"],["pInputText","","formControlName","name",3,"size"],["label","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430"],["pInputTextarea","","formControlName","description",3,"autoResize","rows"],["label","\u041f\u0440\u0438\u0435\u043c\u0449\u0438\u043a\u0438"],["formControlName","receivers",3,"options"],["label","\u0410\u0440\u0445\u0438\u0432\u0430\u0442\u043e\u0440\u044b"],["formControlName","archivers",3,"options"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3,"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0438\u043f\u043e\u0432 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432"),e.qZA(),e._UZ(4,"div",3),e.TgZ(5,"p-button",4),e.NdJ("onClick",function(){return i.openCreateDialog()}),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,Fk,2,1,"ng-container",6),e.ALo(8,"async"),e.qZA()(),e.TgZ(9,"p-dialog",7),e.NdJ("visibleChange",function(d){return i.createDialogVisible=d}),e.YNc(10,Bk,1,0,"ng-container",8),e.TgZ(11,"div",9)(12,"p-button",10),e.NdJ("onClick",function(){return i.createTypeOfContract()}),e.qZA()()(),e.TgZ(13,"p-dialog",11),e.NdJ("visibleChange",function(d){return i.editDialogVisible=d}),e.YNc(14,Zk,1,0,"ng-container",8),e.TgZ(15,"div",9)(16,"p-button",12),e.NdJ("onClick",function(){return i.editTypeOfContract()}),e.qZA()()(),e.YNc(17,Uk,9,8,"ng-template",null,13,e.W1O)),2&t){const s=e.MAs(18);e.xp6(7),e.Q6J("ngIf",e.lcZ(8,11,i.typesContracts$)),e.xp6(2),e.Q6J("visible",i.createDialogVisible)("modal",!0)("draggable",!0)("dismissableMask",!0),e.xp6(1),e.Q6J("ngTemplateOutlet",s),e.xp6(3),e.Q6J("visible",i.editDialogVisible)("modal",!0)("draggable",!0)("dismissableMask",!0),e.xp6(1),e.Q6J("ngTemplateOutlet",s)}},dependencies:[Y_._,Ok,Rk,g.Fj,g.JJ,g.JL,k.sg,wo.V,g.sg,g.u,k.O5,bt.g,O.zx,k.tP,bi.o,k.Ov],styles:["[_nghost-%COMP%]{width:100%}"]}),n})(),qT=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:5,vars:0,consts:[["appExtendPageHeight","",1,"flex","px-3","gap-3"],[1,"flex","gap-3","flex-grow-1"],[1,"flex","flex-grow-1","gap-3","mb-3"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e._UZ(4,"router-outlet"),e.qZA()()())}}),n})();function Vk(n,o){1&n&&e.GkF(0)}function zk(n,o){1&n&&e.GkF(0)}function Jk(n,o){1&n&&e.GkF(0)}function Qk(n,o){if(1&n&&(e.TgZ(0,"div",8),e._UZ(1,"span",9),e.TgZ(2,"span",10),e._uU(3," \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u043c \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434 "),e.qZA(),e._UZ(4,"div",11),e.YNc(5,Jk,1,0,"ng-container",1),e.qZA()),2&n){e.oxw();const t=e.MAs(14);e.xp6(5),e.Q6J("ngTemplateOutlet",t)}}function Gk(n,o){1&n&&e.GkF(0)}function Wk(n,o){if(1&n&&(e.TgZ(0,"div",12),e.YNc(1,Gk,1,0,"ng-container",1),e.qZA()),2&n){e.oxw();const t=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Yk(n,o){1&n&&(e.TgZ(0,"tr")(1,"th",23),e._uU(2,"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a"),e.qZA(),e.TgZ(3,"th",24),e._uU(4,"\u0417\u0430\u0434\u0430\u0447\u0430"),e.qZA(),e.TgZ(5,"th",24),e._uU(6,"\u0422\u0430\u0439\u043c\u0438\u043d\u0433\u0438 \u0441\u0440\u0435\u0434\u043d\u0435\u0435"),e.qZA(),e.TgZ(7,"th",25),e._uU(8,"\u0414\u0435\u043d\u044c\u0433\u0438 \u0441\u0440\u0435\u0434\u043d\u0435\u0435"),e.qZA()(),e.TgZ(9,"tr")(10,"th"),e._uU(11,"\u041a\u043b\u0430\u0441\u0441"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"\u0422\u0438\u043f"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"\u041a\u043e\u043b-\u0432\u043e"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"\u0421\u0440. \u0437\u0430 \u0441\u043c\u0435\u043d\u0443"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"\u041e\u0442\u0434./\u041f\u0440\u0438\u043d."),e.qZA(),e.TgZ(20,"th"),e._uU(21,"\u041e\u0442\u0434./\u0417\u0430\u043a\u0440."),e.qZA(),e.TgZ(22,"th"),e._uU(23,"\u041f\u0440\u0438\u043d./\u0417\u0430\u043a\u0440."),e.qZA(),e.TgZ(24,"th"),e._uU(25,"\u0394 \u041c\u0435\u0436\u0434\u0443 \u0437\u0430\u0434\u0430\u0447\u0430\u043c\u0438"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"\u0417\u0430 \u0441\u043c\u0435\u043d\u0443"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"\u0417\u0430 \u0447\u0430\u0441"),e.qZA(),e.TgZ(30,"th"),e._uU(31,"\u0417\u0430 \u0437\u0430\u0434\u0430\u0447\u0443"),e.qZA()())}function jk(n,o){1&n&&e.GkF(0)}const Kk=function(n){return{employeeRow:n}};function qk(n,o){if(1&n&&e.YNc(0,jk,1,0,"ng-container",26),2&n){const t=o.$implicit;e.oxw(3);const i=e.MAs(10);e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,Kk,t))}}function $k(n,o){1&n&&(e.TgZ(0,"tr")(1,"td",27),e._uU(2," \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 \u0437\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043d\u0435\u0442 "),e.qZA()()),2&n&&(e.xp6(1),e.uIk("colspan",10))}function Xk(n,o){if(1&n&&(e.TgZ(0,"div",14)(1,"p-table",15),e.YNc(2,Yk,32,0,"ng-template",16),e.YNc(3,qk,1,4,"ng-template",17),e.YNc(4,$k,3,1,"ng-template",18),e.qZA(),e.TgZ(5,"div",19)(6,"span",20),e._uU(7," \u041a\u043e\u043b-\u0432\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434 "),e.qZA(),e._UZ(8,"p-chart",21),e.qZA(),e.TgZ(9,"div",19)(10,"span",20),e._uU(11," \u0421\u0440\u0435\u0434\u043d\u0438\u0435 \u0442\u0430\u0439\u043c\u0438\u043d\u0433\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434 "),e.qZA(),e._UZ(12,"p-chart",22),e.qZA(),e.TgZ(13,"div",19)(14,"span",20),e._uU(15," \u0421\u0440\u0435\u0434\u043d\u0438\u0435 \u0434\u0435\u043d\u044c\u0433\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434 "),e.qZA(),e._UZ(16,"p-chart",22),e.qZA()()),2&n){const t=o.ngIf,i=e.oxw(2);e.xp6(1),e.Q6J("value",t.rows),e.xp6(7),e.Q6J("data",t.taskCountChart),e.xp6(4),e.Q6J("data",t.timingsChart)("options",i.timingsChartOptions),e.xp6(4),e.Q6J("data",t.moneyChart)("options",i.moneyChartOptions)}}function eD(n,o){if(1&n&&(e.YNc(0,Xk,17,6,"div",13),e.ALo(1,"async")),2&n){const t=e.oxw(),i=e.MAs(12);e.Q6J("ngIf",e.lcZ(1,2,t.statisticsTable$))("ngIfElse",i)}}function tD(n,o){if(1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-employee-label",30),e.qZA()),2&n){const t=e.oxw(2).employeeRow;e.uIk("rowspan",t.employeeRowSpanCount),e.xp6(1),e.Q6J("employee",t.employee)}}function nD(n,o){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).employeeRow;e.uIk("rowspan",t.taskClassRowSpanCount),e.xp6(1),e.Oqu(t.className)}}function iD(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,tD,2,2,"td",28),e.YNc(2,nD,2,2,"td",28),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._UZ(10,"app-duration",29),e.qZA(),e.TgZ(11,"td"),e._UZ(12,"app-duration",29),e.qZA(),e.TgZ(13,"td"),e._UZ(14,"app-duration",29),e.qZA(),e._UZ(15,"td"),e.TgZ(16,"td"),e._uU(17),e.ALo(18,"currency"),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.ALo(21,"currency"),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.ALo(24,"currency"),e.qZA()()),2&n){const t=e.oxw().employeeRow;e.xp6(1),e.Q6J("ngIf",t.employee),e.xp6(1),e.Q6J("ngIf",t.className),e.xp6(2),e.Oqu(t.taskType.name),e.xp6(2),e.Oqu(t.taskType.count),e.xp6(2),e.Oqu(t.taskType.quantityPerShift),e.xp6(2),e.Q6J("ms",t.taskType.timings.givenAndReceived),e.xp6(2),e.Q6J("ms",t.taskType.timings.givenAndClosed),e.xp6(2),e.Q6J("ms",t.taskType.timings.receivedAndClosed),e.xp6(3),e.Oqu(e.xi3(18,11,t.taskType.money.quantityPerShift,"RUB")),e.xp6(3),e.Oqu(e.xi3(21,14,t.taskType.money.quantityPerHour,"RUB")),e.xp6(3),e.Oqu(e.xi3(24,17,t.taskType.money.quantityPerTask,"RUB"))}}function oD(n,o){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).employeeRow;e.xp6(1),e.Oqu(t.className)}}function sD(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,oD,2,1,"td",31),e._UZ(2,"td"),e.TgZ(3,"td",32),e._uU(4),e.qZA(),e.TgZ(5,"td",32),e._uU(6),e.qZA(),e.TgZ(7,"td",32),e._UZ(8,"app-duration",29),e.qZA(),e.TgZ(9,"td",32),e._UZ(10,"app-duration",29),e.qZA(),e.TgZ(11,"td",32),e._UZ(12,"app-duration",29),e.qZA(),e.TgZ(13,"td",32),e._UZ(14,"app-duration",29),e.qZA(),e.TgZ(15,"td",32),e._uU(16),e.ALo(17,"currency"),e.qZA(),e.TgZ(18,"td",32),e._uU(19),e.ALo(20,"currency"),e.qZA(),e.TgZ(21,"td",32),e._uU(22),e.ALo(23,"currency"),e.qZA()()),2&n){const t=e.oxw().employeeRow;e.xp6(1),e.Q6J("ngIf",t.className),e.xp6(3),e.Oqu(t.total.taskCount),e.xp6(2),e.Oqu(t.total.taskQuantityPerShift),e.xp6(2),e.Q6J("ms",t.total.timings.givenAndReceived),e.xp6(2),e.Q6J("ms",t.total.timings.givenAndClosed),e.xp6(2),e.Q6J("ms",t.total.timings.receivedAndClosed),e.xp6(2),e.Q6J("ms",t.total.timings.delayBetween),e.xp6(2),e.Oqu(e.xi3(17,10,t.total.money.quantityPerShift,"RUB")),e.xp6(3),e.Oqu(e.xi3(20,13,t.total.money.quantityPerHour,"RUB")),e.xp6(3),e.Oqu(e.xi3(23,16,t.total.money.quantityPerTask,"RUB"))}}function rD(n,o){if(1&n&&(e.YNc(0,iD,25,20,"tr",28),e.YNc(1,sD,24,19,"tr",28)),2&n){const t=o.employeeRow;e.Q6J("ngIf",t.taskType&&!t.total),e.xp6(1),e.Q6J("ngIf",!t.taskType&&t.total)}}function aD(n,o){1&n&&(e.TgZ(0,"div",33),e._UZ(1,"span",34),e.TgZ(2,"span",35),e._uU(3," \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 "),e.qZA()())}function lD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",36)(1,"app-data-range-input",37),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.statisticsPeriod=s)}),e.qZA(),e._UZ(2,"button",38),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.statisticsPeriod)}}class rh{constructor(o,t){this.api=o,this.blockService=t,this.statisticsPeriod=null,this.statisticsTable$=this.submit$.pipe((0,l.h)(()=>!!this.statisticsPeriod),(0,hi.b)(()=>this.blockService.wait({message:"\u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438"})),(0,R.w)(()=>this.api.getEmployeeWorkStatistics({period:this.statisticsPeriod})),(0,hi.b)({next:()=>this.blockService.unblock(),error:()=>this.blockService.unblock()}),(0,un.d)(1)),this.timingsChartOptions={scales:{y:{ticks:{callback:this.amountTimeMapping}}},plugins:{tooltip:{callbacks:{label:i=>{let s=i.dataset.label||"";return s&&(s+=": "),null!==i.parsed.y&&(s+=this.amountTimeMapping(i.parsed.y)),s}}}}},this.moneyChartOptions={scales:{y:{ticks:{callback:(i,s,d)=>i+" \u0440."}}}}}ngOnInit(){}amountTimeMapping(o){const t=Math.floor(o/36e5),i=Math.floor((o-36e5*t)/6e4),s=Math.floor((o-36e5*t-6e4*i)/1e3);let d="";return t&&(d+=t+" \u0447."),i&&(d+=i+" \u043c\u0438\u043d."),!t&&s&&(d+=s+" \u0441\u0435\u043a."),!t&&!i&&!s&&(d+=o+" \u043c\u0441."),d}}rh.\u0275fac=function(o){return new(o||rh)(e.Y36(L.s),e.Y36(Yg.A))},rh.\u0275cmp=e.Xpm({type:rh,selectors:[["ng-component"]],decls:15,vars:2,consts:[[1,"flex","flex-column","bg-white","border-round","shadow-1","w-full","h-full","text-bluegray-500"],[4,"ngTemplateOutlet"],["titleTemplate",""],["contentTemplate",""],["statisticsTableTemplate",""],["taskStatisticsRowTemplate",""],["emptyTableTemplate",""],["periodStatisticsFormTemplate",""],[1,"flex","align-items-center","pl-4","pt-2","pr-2","pb-2","gap-2","border-bottom-1","border-bluegray-100"],[1,"mdi-work_history"],[1,"text-xl","font-semibold"],[1,"flex-grow-1"],[1,"flex","flex-column","gap-2","flex-grow-1"],["class","flex flex-column gap-3",4,"ngIf","ngIfElse"],[1,"flex","flex-column","gap-3"],[3,"value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"flex","flex-column","p-4","align-self-center"],[1,"font-bold","text-bluegray-500","text-lg"],["type","bar","width","1000px",3,"data"],["type","bar","width","1000px",3,"data","options"],["rowspan","2"],["colspan","4"],["colspan","3"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"text-bluegray-400","text-center","font-bold"],[4,"ngIf"],[3,"ms"],[3,"employee"],["class","font-bold",4,"ngIf"],[1,"font-bold"],[1,"text-bluegray-400","flex","flex-column","align-items-center","justify-content-center","w-full","h-full"],[1,"mds-date_range"],[1,"max-w-20rem","text-2xl","font-semibold","text-center"],[1,"flex","gap-2","p-2","border-round-xl","border-1","border-bluegray-100"],[3,"ngModel","ngModelChange"],["pButton","","label","\u0421\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c","id","submitButton"]],template:function(o,t){if(1&o&&(e.TgZ(0,"div",0),e.YNc(1,Vk,1,0,"ng-container",1),e.YNc(2,zk,1,0,"ng-container",1),e.qZA(),e.YNc(3,Qk,6,1,"ng-template",null,2,e.W1O),e.YNc(5,Wk,2,1,"ng-template",null,3,e.W1O),e.YNc(7,eD,2,4,"ng-template",null,4,e.W1O),e.YNc(9,rD,2,2,"ng-template",null,5,e.W1O),e.YNc(11,aD,4,0,"ng-template",null,6,e.W1O),e.YNc(13,lD,3,1,"ng-template",null,7,e.W1O)),2&o){const i=e.MAs(4),s=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s)}},styles:["[_nghost-%COMP%]{flex-grow:1}"]}),(0,rl.gn)([(0,Tl.v4)("submitButton","click")],rh.prototype,"submit$",void 0);let $T=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:5,vars:0,consts:[["appExtendPageHeight","",1,"flex","px-3","gap-3"],[1,"flex","gap-3","flex-grow-1"],[1,"flex","flex-grow-1","mb-3"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e._UZ(4,"router-outlet"),e.qZA()()())}}),n})();const cD={q:"\u0439",w:"\u0446",e:"\u0443",r:"\u043a",t:"\u0435",y:"\u043d",u:"\u0433",i:"\u0448",o:"\u0449",p:"\u0437","[":"\u0445","]":"\u044a",a:"\u0444",s:"\u044b",d:"\u0432",f:"\u0430",g:"\u043f",h:"\u0440",j:"\u043e",k:"\u043b",l:"\u0434",";":"\u0436","'":"\u044d",z:"\u044f",x:"\u0447",c:"\u0441",v:"\u043c",b:"\u0438",n:"\u0442",m:"\u044c",",":"\u0431",".":"\u044e",Q:"\u0419",W:"\u0426",E:"\u0423",R:"\u041a",T:"\u0415",Y:"\u041d",U:"\u0413",I:"\u0428",O:"\u0429",P:"\u0417","{":"\u0425","}":"\u042a",A:"\u0424",S:"\u042b",D:"\u0412",F:"\u0410",G:"\u041f",H:"\u0420",J:"\u041e",K:"\u041b",L:"\u0414",":":"\u0416",'"':"\u042d",Z:"\u042f",X:"\u0427",C:"\u0421",V:"\u041c",B:"\u0418",N:"\u0422",M:"\u042c","<":"\u0411",">":"\u042e"};class XT{static translate(o){let t="";for(let i=0;i<o.length;i++)t+=cD[o[i]]||o[i];return t}}var $l=b(4500);const uD=function(n){return["/topology","house",n]},dD=function(n,o){return{highlighted:n,"hover:text-primary hover:border-primary cursor-pointer":o}};function pD(n,o){if(1&n&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("routerLink",e.VKq(3,uD,t.buildingId))("ngClass",e.WLB(5,dD,t.highlighted,t.highlighted)),e.xp6(1),e.hij(" ",t.houseNum," ")}}const hD=function(n){return{highlighted:n}};function gD(n,o){if(1&n&&(e.TgZ(0,"div",8)(1,"span",9),e._uU(2),e.qZA(),e.TgZ(3,"div",10),e.YNc(4,pD,2,8,"span",11),e.qZA()()),2&n){const t=o.$implicit;e.Q6J("ngClass",e.VKq(3,hD,t.highlighted)),e.xp6(2),e.hij(" ",t.streetName," "),e.xp6(2),e.Q6J("ngForOf",t.houses)}}function mD(n,o){if(1&n&&(e.TgZ(0,"div",6),e.YNc(1,gD,5,5,"div",7),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function fD(n,o){1&n&&e._UZ(0,"p-skeleton",17)}function _D(n,o){if(1&n&&(e.TgZ(0,"div",14),e._UZ(1,"p-skeleton",15),e.TgZ(2,"div",10),e.YNc(3,fD,1,0,"p-skeleton",16),e.qZA()()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("width",t.stWidth+"px"),e.xp6(2),e.Q6J("ngForOf",t.houses)}}function CD(n,o){if(1&n&&(e.TgZ(0,"div",6),e.YNc(1,_D,4,2,"div",13),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.topologyLoadingSkeleton)}}class qg{constructor(o){this.api=o,this.searchQuery$=this.search$.pipe((0,gt.U)(t=>t.target.value),(0,rs.O)("")),this.topology$=this.api.getTopology().pipe((0,un.d)(1),(0,Kl.z)(t=>this.searchQuery$.pipe((0,gt.U)(i=>{if(!i||0==(i=i.trim().toLowerCase()).length)return t.map(T=>(T.highlighted=!0,T.houses.forEach(W=>W.highlighted=!0),T));const s=(i=XT.translate(i)).split(" "),d=t.map(T=>{const W=T.houses.filter(Ce=>s.some(qe=>Ce.houseNum.toLowerCase().includes(qe)));return T.highlighted=W.length>0&&1===s.length||s.some(Ce=>T.streetName.toLowerCase().includes(Ce)),T.houses.forEach(Ce=>Ce.highlighted=W.some(qe=>qe.buildingId===Ce.buildingId)),T}).sort((T,W)=>T.highlighted?-1:W.highlighted?1:0);return d.filter(T=>T.highlighted&&T.houses.every(W=>!W.highlighted)).forEach(T=>T.houses.forEach(W=>W.highlighted=!0)),d})))),this.topologyLoadingSkeleton=_.mQ}ngOnInit(){}}qg.\u0275fac=function(o){return new(o||qg)(e.Y36(L.s))},qg.\u0275cmp=e.Xpm({type:qg,selectors:[["ng-component"]],decls:9,vars:4,consts:[[1,"flex","flex-column","gap-3"],[1,"flex","gap-3","border-round-2xl","bg-white","shadow-1","align-items-center","py-2","px-3","sticky","top-under-panel"],[1,"text-2xl","text-bluegray-500","font-semibold"],["id","searchInput","pInputText","","placeholder","\u041d\u0430\u0439\u0442\u0438 \u0434\u043e\u043c..."],["class","flex flex-column gap-1 cursor-default p-3 bg-white border-round-2xl shadow-1",4,"ngIf","ngIfElse"],["topologyLoadingTemplate",""],[1,"flex","flex-column","gap-1","cursor-default","p-3","bg-white","border-round-2xl","shadow-1"],["class","flex align-items-center gap-2 text-sm topology",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","align-items-center","gap-2","text-sm","topology",3,"ngClass"],[1,"white-space-nowrap","font-bold"],[1,"flex","flex-wrap","gap-1"],["class","border-1 border-bluegray-100 p-1 border-round topology",3,"routerLink","ngClass",4,"ngFor","ngForOf"],[1,"border-1","border-bluegray-100","p-1","border-round","topology",3,"routerLink","ngClass"],["class","flex align-items-center gap-2 text-sm",4,"ngFor","ngForOf"],[1,"flex","align-items-center","gap-2","text-sm"],[3,"width"],["width","23px","height","1.5rem",4,"ngFor","ngForOf"],["width","23px","height","1.5rem"]],template:function(o,t){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3,"\u0422\u043e\u043f\u043e\u043b\u043e\u0433\u0438\u044f \u0434\u043e\u043c\u043e\u0432"),e.qZA(),e._UZ(4,"input",3),e.qZA(),e.YNc(5,mD,2,1,"div",4),e.ALo(6,"async"),e.qZA(),e.YNc(7,CD,2,1,"ng-template",null,5,e.W1O)),2&o){const i=e.MAs(8);e.xp6(5),e.Q6J("ngIf",e.lcZ(6,2,t.topology$))("ngIfElse",i)}},dependencies:[a.rH,k.sg,k.O5,bi.o,k.mk,$l.O,k.Ov],styles:[".topology[_ngcontent-%COMP%]:not(.highlighted){opacity:.2}"]}),(0,rl.gn)([(0,Tl.v4)("searchInput","input")],qg.prototype,"search$",void 0);var Jx=b(8508);let Qx=(()=>{class n{constructor(){this.appPreventInput=!1}onKeyDown(t){this.appPreventInput&&t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","appPreventInput",""]],hostBindings:function(t,i){1&t&&e.NdJ("keydown",function(d){return i.onKeyDown(d)})},inputs:{appPreventInput:"appPreventInput"}}),n})();var eA=b(8322),ah=b(242),j_=b(7102),K_=b(657);let Gx=(()=>{class n{transform(t,i,s,d){return _.cQ.declineOfNumber(t,[i,s,d])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"decline",type:n,pure:!0}),n})();function vD(n,o){if(1&n&&(e.TgZ(0,"span",26),e._uU(1),e.ALo(2,"decline"),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.AsE("\u041d\u0430\u0439\u0434\u0435\u043d\u043e: ",t.totalElements," ",e.gM2(2,2,t.totalElements,"\u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440","\u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430","\u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u043e\u0432"),"")}}function bD(n,o){1&n&&e.GkF(0)}function yD(n,o){if(1&n&&(e.ynx(0),e.YNc(1,bD,1,0,"ng-container",27),e.BQk()),2&n){e.oxw(2);const t=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}const xD=function(n){return{commutator:n}};function ID(n,o){if(1&n&&e.GkF(0,31),2&n){const t=o.$implicit;e.oxw(3);const i=e.MAs(5);e.Q6J("ngTemplateOutletContext",e.VKq(2,xD,t))("ngTemplateOutlet",i)}}function TD(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",28),e.YNc(2,ID,1,4,"ng-container",29),e.qZA(),e.TgZ(3,"p-paginator",30),e.NdJ("onPageChange",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.changeCommutatorPage.next(s.page))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().ngIf,i=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.value)("ngForTrackBy",i.trackByCommutator),e.xp6(1),e.Q6J("first",15*i.pageNum)("rows",15)("totalRecords",t.totalElements)}}function AD(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",32),e._UZ(2,"span",33),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()(),e.BQk())}function wD(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",34),e._UZ(2,"span",35),e.TgZ(3,"span"),e._uU(4,"\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u043e\u0432 \u043d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043d\u043e"),e.qZA()(),e.BQk())}function ED(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",10)(2,"div",11),e._UZ(3,"span",12),e.TgZ(4,"div",13)(5,"span"),e._uU(6,"\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u044b"),e.qZA(),e.TgZ(7,"p-button",14),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openCreateCommutatorDialog())}),e.qZA()(),e.YNc(8,vD,3,7,"span",15),e.qZA(),e.ynx(9,16),e.YNc(10,yD,2,1,"ng-container",17),e.YNc(11,TD,4,5,"ng-container",17),e.YNc(12,AD,5,0,"ng-container",17),e.YNc(13,wD,5,0,"ng-container",17),e.BQk(),e.qZA(),e.TgZ(14,"div",18)(15,"span",19),e._UZ(16,"span",20),e._uU(17," \u0424\u0438\u043b\u044c\u0442\u0440\u044b"),e.qZA(),e.TgZ(18,"div",21),e._UZ(19,"input",22)(20,"input",23)(21,"app-address-input-alt",24),e.qZA(),e.TgZ(22,"p-button",25),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.commutatorFilterForm.reset())}),e.qZA()()()}if(2&n){const t=o.ngIf,i=e.oxw();e.xp6(7),e.Q6J("disabled",!i.personality.isHasAccess(i.AccessFlag.EDIT_SWITCH)),e.xp6(1),e.Q6J("ngIf",t.totalElements),e.xp6(1),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Udp("top","calc(var(--top-panel-height) + 1.5rem)"),e.Q6J("formGroup",i.commutatorFilterForm),e.xp6(4),e.Q6J("formGroup",i.commutatorFilterForm),e.xp6(1),e.Q6J("appPreventInput","LOADING"===t.loadingState),e.xp6(1),e.Q6J("appPreventInput","LOADING"===t.loadingState),e.xp6(1),e.Q6J("appPreventInput","LOADING"===t.loadingState)("isAcpConnected",!0)("isHouseOnly",!0)}}function SD(n,o){1&n&&(e.TgZ(0,"div",36),e._UZ(1,"p-progressSpinner",37),e.qZA())}function kD(n,o){if(1&n&&e._UZ(0,"span",49),2&n){const t=e.oxw().commutator;e.Q6J("pTooltip",t.errorMessage)}}const DD=function(n,o){return{"text-bluegray-300":n,"text-primary-400":o}};function MD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"div",40),e._UZ(3,"span",41),e.TgZ(4,"span",42),e._uU(5),e.qZA(),e.TgZ(6,"span",43),e._uU(7),e.qZA()(),e.TgZ(8,"div",44)(9,"span"),e._uU(10),e.qZA(),e.TgZ(11,"span",45),e._uU(12),e.qZA()()(),e.YNc(13,kD,1,1,"span",46),e.TgZ(14,"p-button",47),e.NdJ("onClick",function(){const d=e.CHM(t).commutator,T=e.oxw();return e.KtG(T.openCommutatorViewDialog(d))}),e.qZA(),e.TgZ(15,"p-button",48),e.NdJ("onClick",function(s){const T=e.CHM(t).commutator,W=e.oxw(),Ce=e.MAs(9);return W.openContextMenu(T),e.KtG(Ce.toggle(s))}),e.qZA()()}if(2&n){const t=o.commutator;e.xp6(3),e.Q6J("ngClass",t.isOnline?"bg-green-400":"bg-red-400"),e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngClass",e.WLB(7,DD,1===t.type,2===t.type)),e.xp6(1),e.Oqu(1===t.type?"L2":"L3"),e.xp6(3),e.Oqu(t.ip),e.xp6(2),e.Oqu(t.model),e.xp6(1),e.Q6J("ngIf",t.isHasError)}}function OD(n,o){if(1&n&&e._UZ(0,"app-commutator-view",51),2&n){const t=e.oxw(2);e.Q6J("commutator",t.selectedToViewCommutator)}}function PD(n,o){1&n&&(e.TgZ(0,"div")(1,"div",32),e._UZ(2,"span",33),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()()())}function LD(n,o){1&n&&(e.TgZ(0,"div")(1,"div",34),e._UZ(2,"span",35),e.TgZ(3,"span"),e._uU(4,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0435 \u043d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043d\u043e"),e.qZA()()())}function RD(n,o){1&n&&(e.TgZ(0,"div")(1,"div",36),e._UZ(2,"p-progressSpinner",52),e.qZA()())}function ND(n,o){if(1&n&&(e.ynx(0,16),e.YNc(1,OD,1,1,"app-commutator-view",50),e.YNc(2,PD,5,0,"div",17),e.YNc(3,LD,5,0,"div",17),e.YNc(4,RD,3,0,"div",17),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.commutatorInfoLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING")}}function FD(n,o){1&n&&(e.TgZ(0,"span",53),e._uU(1,"\u0410\u0434\u0440\u0435\u0441 \u043d\u0435 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d"),e.qZA())}function BD(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}function ZD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",71),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.editCommutator())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",t.commutatorFormErrors.length>0||!t.commutatorForm.dirty)("loading",t.beginCommutatorsEditing)}}function UD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",72),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createCommutator())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",!t.commutatorForm.valid)("loading",t.beginCommutatorsEditing)}}const HD=function(){return{label:"L2",value:1}},VD=function(){return{label:"L3",value:2}},zD=function(n,o){return[n,o]},tA=function(){return[]};function JD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",54)(1,"div",21)(2,"div",55),e._UZ(3,"p-selectButton",56),e.TgZ(4,"div",57)(5,"label"),e._uU(6,"\u041c\u043e\u0434\u0435\u043b\u044c"),e.qZA(),e.TgZ(7,"p-autoComplete",58),e.NdJ("completeMethod",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.commutatorModelQueryChange.next(s.query))})("onClear",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.commutatorForm.controls.model.setValue(null))}),e.ALo(8,"async"),e.qZA()()(),e.TgZ(9,"div",55)(10,"div",57)(11,"label"),e._uU(12,"\u0418\u043c\u044f"),e.qZA(),e._UZ(13,"input",59),e.qZA(),e.TgZ(14,"div",57)(15,"label"),e._uU(16,"IP-\u0430\u0434\u0440\u0435\u0441"),e.qZA(),e._UZ(17,"app-ip-input",60),e.qZA()(),e.TgZ(18,"div",55)(19,"div",57)(20,"label"),e._uU(21,"\u0410\u0434\u0440\u0435\u0441"),e.qZA(),e._UZ(22,"app-address-input-alt",61),e.qZA(),e.TgZ(23,"div",57)(24,"label"),e._uU(25,"\u041f\u043e\u0434\u044a\u0435\u0437\u0434"),e.qZA(),e._UZ(26,"p-inputNumber",62),e.qZA(),e.TgZ(27,"div",57)(28,"label"),e._uU(29,"\u042d\u0442\u0430\u0436"),e.qZA(),e._UZ(30,"p-inputNumber",63),e.qZA()(),e.TgZ(31,"div",55)(32,"div",57)(33,"label"),e._uU(34,"Uplink"),e.qZA(),e.TgZ(35,"p-autoComplete",64),e.NdJ("completeMethod",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.commutatorUplinkQuerySearch.next(s.query))})("onClear",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.commutatorForm.controls.uplink.setValue(null))}),e.ALo(36,"async"),e.qZA()(),e.TgZ(37,"div",57)(38,"label"),e._uU(39,"Nagios"),e.qZA(),e._UZ(40,"p-inputSwitch",65),e.qZA(),e.TgZ(41,"div",57)(42,"label"),e._uU(43,"SMS"),e.qZA(),e._UZ(44,"p-inputSwitch",66),e.qZA()()(),e.TgZ(45,"div",67),e.YNc(46,BD,2,1,"span",68),e.qZA(),e.YNc(47,ZD,1,2,"p-button",69),e.YNc(48,UD,1,2,"ng-template",null,70,e.W1O),e.qZA()}if(2&n){const t=e.MAs(49),i=e.oxw();let s,d;e.xp6(1),e.Q6J("formGroup",i.commutatorForm),e.xp6(2),e.Q6J("options",e.WLB(26,zD,e.DdM(24,HD),e.DdM(25,VD))),e.xp6(4),e.Q6J("showClear",!0)("suggestions",null!==(s=e.lcZ(8,20,i.commutatorModels$))&&void 0!==s?s:e.DdM(29,tA)),e.xp6(6),e.Q6J("pKeyFilter",i.commutatorNameKeyFilter)("size",35),e.xp6(9),e.Q6J("isAcpConnected",!0)("isHouseOnly",!0),e.xp6(4),e.Q6J("max",99)("min",0)("size",2),e.xp6(4),e.Q6J("max",99)("min",0)("size",2),e.xp6(5),e.Q6J("showClear",!0)("size",40)("suggestions",null!==(d=e.lcZ(36,22,i.commutatorUplinks$))&&void 0!==d?d:e.DdM(30,tA)),e.xp6(11),e.Q6J("ngForOf",i.commutatorFormErrors),e.xp6(1),e.Q6J("ngIf",i.editableSwitch)("ngIfElse",t)}}let QD=(()=>{class n{constructor(t,i,s,d){this.api=t,this.rt=i,this.personality=s,this.confirm=d,this.AccessFlag=Ii.j,this.pageNum=0,this.commutatorFilterForm=new g.cw({name:new g.NI(null),ip:new g.NI(null),address:new g.NI(null)}),this.changeFilterForm$=this.commutatorFilterForm.valueChanges.pipe((0,rs.O)(this.commutatorFilterForm.value),(0,bs.b)(1e3),(0,hi.b)(()=>this.pageNum=0)),this.changeCommutatorPage=new Wa.X(0),this.page$=this.changeCommutatorPage.pipe((0,hi.b)(T=>this.pageNum=T)),this.loadingState=me.Gu.LOADING,this.changePageOrFilters$=(0,Wo.a)([this.page$,this.changeFilterForm$]).pipe((0,gt.U)(([T,W])=>{var Ce,qe;return[this.pageNum,W.name,W.ip,null===(qe=null===(Ce=W.address)||void 0===Ce?void 0:Ce.acpHouseBind)||void 0===qe?void 0:qe.buildingId]})),this.commutatorPage$=_.aN.ofPageAlt(this.changePageOrFilters$,this.api.getCommutators.bind(this.api),"id",this.rt.acpBaseCommutatorCreated(),this.rt.acpBaseCommutatorUpdated(),this.rt.acpBaseCommutatorDeleted()),this.commutatorDialogVisible=!1,this.commutatorModelQueryChange=new wr.x,this.commutatorModels$=this.commutatorModelQueryChange.pipe((0,bs.b)(1e3),(0,R.w)(T=>this.api.getCommutatorModels(T)),(0,un.d)(1)),this.commutatorNameKeyFilter=/^[^\u0410-\u044f ]+$/,this.commutatorUplinkQuerySearch=new wr.x,this.commutatorUplinks$=this.commutatorUplinkQuerySearch.pipe((0,bs.b)(1e3),(0,R.w)(T=>this.api.searchCommutators(T)),(0,gt.U)(T=>T.filter(W=>{var Ce;return W.value!==(null===(Ce=this.editableSwitch)||void 0===Ce?void 0:Ce.id)})),(0,un.d)(1)),this.beginCommutatorsEditing=!1,this.contextMenuItems=[],this.commutatorViewDialogVisible=!1,this.commutatorInfoLoadingState=me.Gu.LOADING,this.subscriptions=new _.xf,this.commutatorNameValidator=T=>(0,In.of)(T.value).pipe((0,en.g)(700),(0,R.w)(()=>this.api.checkCommutatorNameExist(T.value)),(0,gt.U)(W=>W?{nameAlreadyExists:!0}:null)),this.commutatorIpValidator=T=>(0,In.of)(T.value).pipe((0,en.g)(700),(0,R.w)(()=>this.api.checkCommutatorIpExist(T.value)),(0,gt.U)(W=>W?{ipAlreadyExists:!0}:null)),this.commutatorForm=new g.cw({type:new g.NI(1,[g.kI.required]),model:new g.NI(null,[g.kI.required]),name:new g.NI(null,[g.kI.required],[this.commutatorNameValidator]),ipaddr:new g.NI(null,[g.kI.required],[this.commutatorIpValidator]),address:new g.NI(null,[g.kI.required]),entrance:new g.NI(0,[g.kI.required]),floor:new g.NI(0,[g.kI.required]),uplink:new g.NI(null,[g.kI.required]),nagios:new g.NI(!1),sms:new g.NI(!1)})}get commutatorFormErrors(){return Object.entries(this.commutatorForm.controls).flatMap(([t,i])=>i.dirty?null===i.errors?[]:Object.entries(i.errors).map(([s,d])=>{switch(t){case"model":if("required"===s)return"\u041c\u043e\u0434\u0435\u043b\u044c \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u0430";break;case"name":if("required"===s)return"\u0418\u043c\u044f \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e";if("nameAlreadyExists"===s)return"\u0418\u043c\u044f \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442";break;case"ipaddr":if("required"===s)return"IP-\u0430\u0434\u0440\u0435\u0441 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d";if("ipAlreadyExists"===s)return"IP-\u0430\u0434\u0440\u0435\u0441 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442";break;case"address":if("required"===s)return"\u0410\u0434\u0440\u0435\u0441 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d";break;case"uplink":if("required"===s)return"Uplink \u043d\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d"}return t+": \u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430"}):[])}get commutatorFormValue(){var t;const{type:i,model:s,name:d,ipaddr:T,address:W,entrance:Ce,floor:qe,uplink:Xe,nagios:$t,sms:jt}=this.commutatorForm.value;return{swtype:i,swmodelId:null==s?void 0:s.id,name:d,ipaddr:T,buildId:null===(t=null==W?void 0:W.acpHouseBind)||void 0===t?void 0:t.buildingId,entrance:Ce,storey:qe,phyUplinkId:null==Xe?void 0:Xe.value,enableMonitor:$t?1:0,enableSms:jt?1:0}}openContextMenu(t){this.contextMenuItems=[{label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",icon:"mdi-edit",disabled:!this.personality.isHasAccess(Ii.j.EDIT_SWITCH),command:()=>this.openEditCommutatorDialog(t.id)},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",styleClass:"danger-menu-button",icon:"mdi-delete",disabled:!this.personality.isHasAccess(Ii.j.EDIT_SWITCH),command:()=>this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c "+t.name+" \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440?",accept:()=>this.deleteCommutator(t.id)})},{label:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",icon:"mdi-sync",command:()=>this.commutatorRemoteUpdate(t.id)}]}trackByCommutator(t,i){return i.id+i.ip+i.name+i.model+i.isOnline}ngOnInit(){this.subscriptions.addSubscription("updCom",this.rt.acpCommutatorUpdated().subscribe(t=>{var i;t.id===(null===(i=this.selectedToViewCommutator)||void 0===i?void 0:i.id)&&(this.selectedToViewCommutator=t)}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}openCreateCommutatorDialog(){this.commutatorDialogVisible=!0,this.editableSwitch=void 0,this.commutatorForm=new g.cw({type:new g.NI(1,[g.kI.required]),model:new g.NI(null,[g.kI.required]),name:new g.NI(null,[g.kI.required],[this.commutatorNameValidator]),ipaddr:new g.NI(null,[g.kI.required],[this.commutatorIpValidator]),address:new g.NI(null,[g.kI.required]),entrance:new g.NI(0,[g.kI.required]),floor:new g.NI(0,[g.kI.required]),uplink:new g.NI(null,[g.kI.required]),nagios:new g.NI(!1),sms:new g.NI(!1)})}openEditCommutatorDialog(t){this.api.getCommutatorEditingPreset(t).subscribe(i=>{this.commutatorForm=new g.cw({type:new g.NI(i.targetCommutator.swtype,[g.kI.required]),model:new g.NI(i.model,[g.kI.required]),name:new g.NI(i.targetCommutator.name,[g.kI.required],[this.commutatorNameValidator]),ipaddr:new g.NI(i.targetCommutator.ipaddr,[g.kI.required],[this.commutatorIpValidator]),address:new g.NI(i.address,[g.kI.required]),entrance:new g.NI(i.targetCommutator.entrance,[g.kI.required]),floor:new g.NI(i.targetCommutator.storey,[g.kI.required]),uplink:new g.NI(i.uplinkCommutator,[g.kI.required]),nagios:new g.NI(1===i.targetCommutator.enableMonitor),sms:new g.NI(1===i.targetCommutator.enableSms)}),this.commutatorDialogVisible=!0,this.editableSwitch=i.targetCommutator})}editCommutator(){void 0!==this.editableSwitch&&(this.beginCommutatorsEditing=!0,this.commutatorForm.disable({emitEvent:!1}),this.api.editCommutator(this.editableSwitch.id,this.commutatorFormValue).subscribe({next:()=>{this.commutatorDialogVisible=!1,this.beginCommutatorsEditing=!1,this.commutatorForm.enable({emitEvent:!1})},error:()=>{this.beginCommutatorsEditing=!1,this.commutatorForm.enable({emitEvent:!1})}}))}createCommutator(){this.beginCommutatorsEditing=!0,this.commutatorForm.disable({emitEvent:!1}),this.api.createCommutator(this.commutatorFormValue).subscribe({next:()=>{this.commutatorDialogVisible=!1,this.beginCommutatorsEditing=!1,this.commutatorForm.enable({emitEvent:!1})},error:()=>{this.beginCommutatorsEditing=!1,this.commutatorForm.enable({emitEvent:!1})}})}deleteCommutator(t){this.api.deleteCommutator(t).subscribe()}commutatorRemoteUpdate(t){return this.api.commutatorRemoteUpdate(t).subscribe()}openCommutatorViewDialog(t){this.selectedToViewCommutator=void 0,this.commutatorInfoLoadingState=me.Gu.LOADING,this.commutatorViewDialogVisible=!0,this.api.getCommutator(t.id).subscribe({next:i=>{var s;null!==(s=null==i?void 0:i.commutator)&&void 0!==s&&s.additionalInfo?(this.commutatorInfoLoadingState=me.Gu.READY,this.selectedToViewCommutator=i.commutator):this.commutatorInfoLoadingState=me.Gu.EMPTY},error:()=>{this.commutatorInfoLoadingState=me.Gu.ERROR}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(J.F),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:14,vars:15,consts:[["class","flex gap-3",4,"ngIf","ngIfElse"],["loading",""],["commutatorItem",""],[3,"visible","dismissableMask","header","resizable","visibleChange"],["pTemplate","content"],["appendTo","body",3,"model","popup"],["contextMenu",""],["noAddress",""],[3,"visible","dismissableMask","header","modal","resizable","visibleChange"],[1,"flex","gap-3"],[1,"flex","flex-column","flex-grow-1","panel"],[1,"flex","align-items-center","gap-2","border-bluegray-100","border-bottom-1","text-bluegray-400","text-lg","font-bold","px-3","py-2"],[1,"mdi-dns"],[1,"flex","flex-grow-1","align-items-center","gap-2"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-text p-button-success",3,"disabled","onClick"],["class","text-sm text-primary-400",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"flex","flex-column","p-3","gap-3","align-items-end","h-min","panel","sticky",3,"formGroup"],[1,"text-bluegray-400","text-lg","font-bold","flex","align-items-center","align-self-start"],[1,"mdi-filter_alt"],[1,"flex","flex-column","gap-3",3,"formGroup"],["formControlName","name","pInputText","","placeholder","\u0418\u043c\u044f","type","text",3,"appPreventInput"],["formControlName","ip","pInputText","","placeholder","IP-\u0430\u0434\u0440\u0435\u0441","type","text",3,"appPreventInput"],["formControlName","address",3,"appPreventInput","isAcpConnected","isHouseOnly"],["icon","mdi-filter_alt_off","label","\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c","styleClass","p-button-secondary p-button-text",3,"onClick"],[1,"text-sm","text-primary-400"],[4,"ngTemplateOutlet"],[1,"flex","flex-column","flex-grow-1"],[3,"ngTemplateOutletContext","ngTemplateOutlet",4,"ngFor","ngForOf","ngForTrackBy"],[3,"first","rows","totalRecords","onPageChange"],[3,"ngTemplateOutletContext","ngTemplateOutlet"],[1,"flex","flex-column","flex-grow-1","text-red-400","font-bold","text-lg","align-items-center","justify-content-center"],[1,"mds-error"],[1,"flex","flex-column","flex-grow-1","text-bluegray-400","font-bold","text-lg","align-items-center","justify-content-center"],[1,"mds-dns"],[1,"flex","flex-grow-1","align-items-center","justify-content-center"],["strokeWidth","1",1,"custom-spinner","custom-spinner-gray","custom-spinner-8xl"],[1,"flex","gap-2","split-line","p-3","align-items-center"],[1,"flex","flex-column","gap-2","flex-grow-1"],[1,"flex","align-items-center","gap-2"],[1,"border-circle","w-1rem","h-1rem",3,"ngClass"],[1,"font-bold","text-sm"],[1,"text-xs","font-bold",3,"ngClass"],[1,"flex","gap-2"],[1,"text-bluegray-400"],["class","mdi-warning text-red-400",3,"pTooltip",4,"ngIf"],["icon","mdi-visibility","styleClass","p-button-text p-button-secondary p-button-icon",3,"onClick"],["icon","mdi-more_vert","styleClass","p-button-text p-button-secondary p-button-icon",3,"onClick"],[1,"mdi-warning","text-red-400",3,"pTooltip"],[3,"commutator",4,"ngSwitchCase"],[3,"commutator"],["strokeWidth","2",1,"custom-spinner","custom-spinner-gray","custom-spinner-8xl"],[1,"text-bluegray-300"],[1,"flex","flex-column"],[1,"flex","gap-4","align-items-end"],["formControlName","type",3,"options"],[1,"input-label-wrapper"],["appendTo","body","field","name","formControlName","model","placeholder","Huawei",3,"showClear","suggestions","completeMethod","onClear"],["formControlName","name","pInputText","","placeholder","KM44.DES16.3.2","type","text",3,"pKeyFilter","size"],["formControlName","ipaddr"],["formControlName","address",3,"isAcpConnected","isHouseOnly"],["formControlName","entrance",3,"max","min","size"],["formControlName","floor",3,"max","min","size"],["appendTo","body","field","label","formControlName","uplink","placeholder","\u0418\u043c\u044f, IP-\u0430\u0434\u0440\u0435\u0441, \u0410\u0434\u0440\u0435\u0441",3,"showClear","size","suggestions","completeMethod","onClear"],["formControlName","nagios"],["formControlName","sms"],[1,"flex","flex-column","gap-1","py-2","text-xs","font-bold","text-red-400"],[4,"ngFor","ngForOf"],["class","align-self-end","icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"disabled","loading","onClick",4,"ngIf","ngIfElse"],["createButton",""],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",1,"align-self-end",3,"disabled","loading","onClick"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",1,"align-self-end",3,"disabled","loading","onClick"]],template:function(t,i){if(1&t&&(e.YNc(0,ED,23,16,"div",0),e.ALo(1,"async"),e.YNc(2,SD,2,0,"ng-template",null,1,e.W1O),e.YNc(4,MD,16,10,"ng-template",null,2,e.W1O),e.TgZ(6,"p-dialog",3),e.NdJ("visibleChange",function(d){return i.commutatorViewDialogVisible=d}),e.YNc(7,ND,5,5,"ng-template",4),e.qZA(),e._UZ(8,"p-menu",5,6),e.YNc(10,FD,2,0,"ng-template",null,7,e.W1O),e.TgZ(12,"p-dialog",8),e.NdJ("visibleChange",function(d){return i.commutatorDialogVisible=d}),e.YNc(13,JD,50,31,"ng-template",4),e.qZA()),2&t){const s=e.MAs(3);let d;e.Q6J("ngIf",e.lcZ(1,13,i.commutatorPage$))("ngIfElse",s),e.xp6(6),e.Q6J("visible",i.commutatorViewDialogVisible)("dismissableMask",!0)("header","\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440 "+(null!==(d=null==i.selectedToViewCommutator?null:i.selectedToViewCommutator.name)&&void 0!==d?d:"\u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f"))("resizable",!1),e.xp6(2),e.Q6J("model",i.contextMenuItems)("popup",!0),e.xp6(4),e.Q6J("visible",i.commutatorDialogVisible)("dismissableMask",!0)("header",i.editableSwitch?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430")("modal",!0)("resizable",!1)}},dependencies:[Jx.Z,Qx,eA.S,Ug.r,ah.Ql,g.Fj,g.JJ,g.JL,N.jx,k.sg,wo.V,g.sg,g.u,k.O5,O.zx,k.tP,k.RF,k.n9,Qi.u,Co.v2,bi.o,k.mk,it.G,Al.D,Ra.Rn,j_.UN,F.Qc,K_.Fr,k.Ov,Gx],styles:["[_nghost-%COMP%]{flex-grow:1}"],data:{animation:[f.S9]}}),n})();var nA=b(6847),$g=b(7514),Wx=b(9138),GD=b(4383);const WD=function(n){return{binding:n}};function YD(n,o){if(1&n&&e.GkF(0,29),2&n){const t=o.$implicit;e.oxw(3);const i=e.MAs(3);e.Q6J("ngTemplateOutletContext",e.VKq(2,WD,t))("ngTemplateOutlet",i)}}function jD(n,o){if(1&n&&(e.TgZ(0,"div",27),e.YNc(1,YD,1,4,"ng-container",28),e.qZA()),2&n){const t=e.oxw().ngIf,i=e.oxw();e.Q6J("@flowInChild",void 0),e.xp6(1),e.Q6J("ngForOf",t.value)("ngForTrackBy",i.trackByDhcpBinding)}}function KD(n,o){1&n&&(e.TgZ(0,"div",30),e._UZ(1,"p-progressSpinner",31),e.qZA())}function qD(n,o){1&n&&(e.TgZ(0,"div",32),e._UZ(1,"span",33),e.TgZ(2,"span"),e._uU(3,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()())}function $D(n,o){1&n&&(e.TgZ(0,"div",34),e._UZ(1,"span",35),e.TgZ(2,"span"),e._uU(3,"\u0421\u0435\u0441\u0441\u0438\u0438\u0306 \u0430\u0431\u043e\u043d. \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f \u043d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043e"),e.qZA()())}function XD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-paginator",36),e.NdJ("onPageChange",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.changeLastBindingsPage.next(s.page))}),e.qZA()}if(2&n){const t=e.oxw().ngIf,i=e.oxw();e.Q6J("first",15*i.pageNum)("rows",15)("totalRecords",t.totalElements)}}function eM(n,o){1&n&&e._UZ(0,"p-inputNumber",37),2&n&&e.Q6J("min",1)("max",99)}const tM=function(){return[]};function nM(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",5),e._UZ(3,"span",6),e.TgZ(4,"span"),e._uU(5,"\u0421\u0435\u0441\u0441\u0438\u0438 \u0430\u0431\u043e\u043d. \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f"),e.qZA()(),e.ynx(6,7),e.YNc(7,jD,2,3,"div",8),e.YNc(8,KD,2,0,"div",9),e.YNc(9,qD,4,0,"div",10),e.YNc(10,$D,4,0,"div",11),e.BQk(),e.YNc(11,XD,1,3,"p-paginator",12),e.qZA(),e.TgZ(12,"div",13)(13,"span",14),e._UZ(14,"span",15),e._uU(15," \u0424\u0438\u043b\u044c\u0442\u0440\u044b"),e.qZA(),e.TgZ(16,"div",16),e._UZ(17,"input",17)(18,"input",18)(19,"app-acp-house-input",19)(20,"input",20)(21,"input",21)(22,"p-dropdown",22),e.TgZ(23,"p-autoComplete",23),e.NdJ("completeMethod",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.commutatorUplinkQuerySearch.next(s.query))})("onClear",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.lastBindingsFilterForm.controls.commutator.setValue(null))}),e.ALo(24,"async"),e.qZA(),e.YNc(25,eM,1,2,"p-inputNumber",24),e.qZA(),e.TgZ(26,"p-button",25),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.lastBindingsFilterForm.reset({state:1}))}),e.qZA(),e.TgZ(27,"div",26),e._uU(28),e.ALo(29,"decline"),e.qZA()()()}if(2&n){const t=o.ngIf,i=e.oxw();let s;e.xp6(6),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngIf","READY"===t.loadingState),e.xp6(1),e.Udp("top","calc(var(--top-panel-height) + 1.5rem)"),e.Q6J("formGroup",i.lastBindingsFilterForm),e.xp6(5),e.Q6J("size",14),e.xp6(1),e.Q6J("size",8),e.xp6(2),e.Q6J("pKeyFilter",i.ipKeyFilter),e.xp6(1),e.Q6J("size",4),e.xp6(1),e.Q6J("options",i.statusOptions),e.xp6(1),e.Q6J("showClear",!0)("size",20)("forceSelection",!0)("suggestions",null!==(s=e.lcZ(24,21,i.commutatorUplinks$))&&void 0!==s?s:e.DdM(28,tM)),e.xp6(2),e.Q6J("ngIf",i.lastBindingsFilterForm.value.commutator),e.xp6(3),e.AsE(" \u041d\u0430\u0439\u0434\u0435\u043d\u043e: ",t.totalElements," ",e.gM2(29,23,t.totalElements,"\u0441\u0435\u0441\u0441\u0438\u044f","\u0441\u0435\u0441\u0441\u0438\u0438","\u0441\u0435\u0441\u0441\u0438\u0439")," ")}}function iM(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().binding;e.xp6(1),e.Oqu(t.authName)}}function oM(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().binding;e.xp6(1),e.hij(" ",t.dhcpClient," ")}}function sM(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().binding;e.xp6(1),e.hij(" ",t.dhcpHostname," ")}}function rM(n,o){1&n&&(e.TgZ(0,"span",48),e._uU(1,"\u041d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),e.qZA())}function aM(n,o){1&n&&(e.TgZ(0,"span",49),e._uU(1,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),e.qZA())}const lM=function(n){return["/clients","billing","user",n]},cM=function(n){return{"text-primary-400":n}};function uM(n,o){if(1&n&&(e.TgZ(0,"div",38)(1,"div",39),e._UZ(2,"app-binding-connection-location-view",40),e.YNc(3,iM,2,1,"span",41),e.TgZ(4,"div",42),e.YNc(5,oM,2,1,"ng-container",41),e.YNc(6,sM,2,1,"ng-container",41),e.qZA(),e.TgZ(7,"span",43)(8,"span"),e._uU(9),e.qZA(),e._UZ(10,"app-time-elapsed",44),e.qZA()(),e.TgZ(11,"div",45)(12,"span"),e.ynx(13,7),e.YNc(14,rM,2,0,"span",46),e.YNc(15,aM,2,0,"span",47),e.BQk(),e.qZA(),e.TgZ(16,"span"),e._uU(17),e.qZA(),e.TgZ(18,"span"),e._uU(19),e.qZA()()()),2&n){const t=o.binding;e.Q6J("routerLink",e.VKq(16,lM,t.authName)),e.xp6(2),e.Q6J("binding",t),e.xp6(1),e.Q6J("ngIf",t.authName),e.xp6(1),e.Udp("max-width","15rem"),e.xp6(1),e.Q6J("ngIf",t.dhcpClient),e.xp6(1),e.Q6J("ngIf",t.dhcpHostname),e.xp6(1),e.Q6J("ngClass",e.VKq(18,cM,"ONLINE"===t.onlineStatus)),e.xp6(2),e.Oqu("ONLINE"===t.onlineStatus?"\u0412 \u0441\u0435\u0442\u0438":"\u041d\u0435 \u0432 \u0441\u0435\u0442\u0438"),e.xp6(1),e.Q6J("startTime",t.leaseStart),e.xp6(3),e.Q6J("ngSwitch",t.isAuth),e.xp6(1),e.Q6J("ngSwitchCase",!1),e.xp6(1),e.Q6J("ngSwitchCase",!0),e.xp6(2),e.AsE("",t.streetName," ",t.houseNum,""),e.xp6(2),e.Oqu(t.ipaddr)}}function dM(n,o){1&n&&(e.TgZ(0,"div",50),e._UZ(1,"p-progressSpinner",51),e.qZA())}let pM=(()=>{class n{constructor(t,i,s){this.api=t,this.rt=i,this.confirm=s,this.pageNum=0,this.isLoadingLastBindings=!0,this.openAuthDialog=new wr.x,this.changeLastBindingsPage=new Wa.X(0),this.page$=this.changeLastBindingsPage.pipe((0,hi.b)(d=>this.pageNum=d)),this.changeLastBindingsPage$=this.changeLastBindingsPage.pipe((0,hi.b)(()=>this.isLoadingLastBindings=!0),(0,un.d)(1)),this.lastBindingsFilterForm=new g.cw({state:new g.NI(1),macaddr:new g.NI(null),login:new g.NI(null),ip:new g.NI(null),vlan:new g.NI(null),buildingId:new g.NI(null),commutator:new g.NI(null,P.d.typeIsSwitchWithAddress),port:new g.NI(null)}),this.lastBindingFilterForm$=this.lastBindingsFilterForm.valueChanges.pipe((0,rs.O)(this.lastBindingsFilterForm.value),(0,bs.b)(1e3),(0,gt.U)(d=>(this.pageNum=0,{state:null!==d.state?d.state:void 0,macaddr:d.macaddr,login:d.login,ip:d.ip,vlan:d.vlan,buildingId:d.buildingId&&d.buildingId.buildingId,commutator:d.commutator&&d.commutator.commutator?d.commutator.commutator.id:void 0,port:d.port}))),this.lastBindingsFilter$=(0,Wo.a)([this.page$,this.lastBindingFilterForm$]).pipe((0,gt.U)(([d,T])=>[this.pageNum,T.state,T.macaddr,T.login,T.ip,T.vlan,T.buildingId,T.commutator,T.port])),this.ipKeyFilter=/[\d\.]+/,this.lastBindingsPage$=_.aN.ofPage(this.lastBindingsFilter$,this.api.getLastBindings.bind(this.api),"id",null,this.rt.acpDhcpBindingUpdated(),null),this.commutatorUplinkQuerySearch=new wr.x,this.commutatorUplinks$=this.commutatorUplinkQuerySearch.pipe((0,bs.b)(1e3),(0,R.w)(d=>this.api.searchCommutators(d)),(0,un.d)(1)),this.statusOptions=[{label:"\u0412 \u0441\u0435\u0442\u0438",value:1},{label:"\u041d\u0435 \u0432 \u0441\u0435\u0442\u0438",value:0},{label:"\u041b\u044e\u0431\u044b\u0435",value:null}],this.numberMask=/^\d{1,4}$/}ngOnInit(){}trackByDhcpBinding(t,i){return i.macaddr+i.ipaddr+i.id+i.onlineStatus+i.authExpire+i.authName}authConfirm(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c "+t.macaddr+" \u043f\u043e\u0434 \u043b\u043e\u0433\u0438\u043d\u043e\u043c ?",accept:()=>{this.authCurrentLogin(t.macaddr)}})}authCurrentLogin(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:6,vars:4,consts:[["class","flex gap-3",4,"ngIf","ngIfElse"],["sessionItem",""],["loading",""],[1,"flex","gap-3"],[1,"flex","flex-column","gap-3","flex-grow-1","panel","p-3"],[1,"flex","align-items-center","gap-2","text-bluegray-400","text-lg","font-bold"],[1,"mdi-router"],[3,"ngSwitch"],["class","flex flex-column flex-grow-1",4,"ngSwitchCase"],["class","flex justify-content-center align-items-center full-height",4,"ngSwitchCase"],["class","flex flex-column justify-content-center align-items-center full-height text-red-400 text-lg font-bold",4,"ngSwitchCase"],["class","flex flex-column justify-content-center align-items-center full-height text-bluegray-400 text-lg font-bold",4,"ngSwitchCase"],[3,"first","rows","totalRecords","onPageChange",4,"ngIf"],[1,"flex","flex-column","p-3","gap-3","align-items-end","h-min","panel","sticky",3,"formGroup"],[1,"text-bluegray-400","text-lg","font-bold","flex","align-items-center","align-self-start"],[1,"mdi-filter_alt"],[1,"flex","flex-column","gap-3"],["formControlName","macaddr","pInputText","","placeholder","MAC-\u0430\u0434\u0440\u0435\u0441","type","text",3,"size"],["formControlName","login","pInputText","","placeholder","\u041b\u043e\u0433\u0438\u043d","type","text",3,"size"],["formControlName","buildingId"],["formControlName","ip","pInputText","","placeholder","IP-\u0430\u0434\u0440\u0435\u0441","type","text",3,"pKeyFilter"],["pInputText","","pKeyFilter","pint","formControlName","vlan","placeholder","VLAN",3,"size"],["formControlName","state","placeholder","\u0421\u0442\u0430\u0442\u0443\u0441",3,"options"],["appendTo","body","field","label","formControlName","commutator","placeholder","\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440",3,"showClear","size","forceSelection","suggestions","completeMethod","onClear"],["formControlName","port","placeholder","\u041f\u043e\u0440\u0442 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430",3,"min","max",4,"ngIf"],["icon","mdi-filter_alt_off","label","\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c","styleClass","p-button-secondary p-button-text",3,"onClick"],[1,"text-primary-400","font-bold"],[1,"flex","flex-column","flex-grow-1"],[3,"ngTemplateOutletContext","ngTemplateOutlet",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutletContext","ngTemplateOutlet"],[1,"flex","justify-content-center","align-items-center","full-height"],["strokeWidth","2",1,"custom-spinner","custom-spinner-primary","custom-spinner-8xl"],[1,"flex","flex-column","justify-content-center","align-items-center","full-height","text-red-400","text-lg","font-bold"],[1,"mds-error"],[1,"flex","flex-column","justify-content-center","align-items-center","full-height","text-bluegray-400","text-lg","font-bold"],[1,"mds-stream"],[3,"first","rows","totalRecords","onPageChange"],["formControlName","port","placeholder","\u041f\u043e\u0440\u0442 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430",3,"min","max"],[1,"flex","flex-column","p-3","gap-1","cursor-pointer","hover:bg-primary-50","hover:text-primary-400","split-line","transition-ease-in-out","transition-duration-150",3,"routerLink"],[1,"flex","gap-2","align-items-center"],[3,"binding"],[4,"ngIf"],["appTicker","",1,"white-space-nowrap","overflow-hidden"],[1,"flex","align-items-center","font-bold","text-sm","gap-1",3,"ngClass"],["type","short",3,"startTime"],[1,"flex","gap-2"],["class","text-bluegray-300 white-space-nowrap",4,"ngSwitchCase"],["class","text-green-400",4,"ngSwitchCase"],[1,"text-bluegray-300","white-space-nowrap"],[1,"text-green-400"],[1,"flex","align-items-center","justify-content-center","flex-grow-1","py-5","panel"],["strokeWidth","1",1,"custom-spinner","custom-spinner-gray","custom-spinner-8xl"]],template:function(t,i){if(1&t&&(e.YNc(0,nM,30,29,"div",0),e.ALo(1,"async"),e.YNc(2,uM,20,20,"ng-template",null,1,e.W1O),e.YNc(4,dM,2,0,"ng-template",null,2,e.W1O)),2&t){const s=e.MAs(5);e.Q6J("ngIf",e.lcZ(1,2,i.lastBindingsPage$))("ngIfElse",s)}},dependencies:[nA.j,$g.x,Wx.N,GD.O,a.rH,g.Fj,g.JJ,g.JL,k.sg,g.sg,g.u,Ke.Lt,k.O5,O.zx,k.tP,k.RF,k.n9,bi.o,k.mk,it.G,Al.D,Ra.Rn,F.Qc,K_.Fr,k.Ov,Gx],styles:["[_nghost-%COMP%]{flex-grow:1}"],data:{animation:[f.S9]}}),n})();var iA=b(4707);function hM(n,o){1&n&&e.GkF(0)}function gM(n,o){if(1&n&&(e.ynx(0),e.YNc(1,hM,1,0,"ng-container",10),e.BQk()),2&n){e.oxw(2);const t=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function mM(n,o){1&n&&e.GkF(0)}const Yx=function(n){return{building:n}};function fM(n,o){if(1&n&&(e.ynx(0),e.YNc(1,mM,1,0,"ng-container",11),e.BQk()),2&n){const t=e.oxw().ngIf;e.oxw();const i=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,Yx,t))}}function _M(n,o){if(1&n&&(e.ynx(0)(1,8),e.YNc(2,gM,2,1,"ng-container",9),e.YNc(3,fM,2,4,"ng-container",9),e.BQk()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngSwitch",t.houseLoadingState),e.xp6(1),e.Q6J("ngSwitchCase",t.LoadingState.LOADING),e.xp6(1),e.Q6J("ngSwitchCase",t.LoadingState.READY)}}function CM(n,o){1&n&&(e.TgZ(0,"div",12)(1,"div",13),e._UZ(2,"p-skeleton",14)(3,"p-skeleton",15),e.qZA(),e.TgZ(4,"div",16),e._UZ(5,"p-skeleton",17)(6,"p-skeleton",17)(7,"p-skeleton",18),e.qZA()())}const oA=function(n){return["/topology","house",n]};function vM(n,o){if(1&n&&(e.TgZ(0,"span",26),e._uU(1),e.qZA()),2&n){const t=e.oxw().building;e.Q6J("routerLink",e.VKq(2,oA,null==t.uplink?null:t.uplink.buildingId)),e.xp6(1),e.hij(" Uplink: ",null==t.uplink?null:t.uplink.fullName," ")}}function bM(n,o){1&n&&e.GkF(0)}function yM(n,o){1&n&&e.GkF(0)}function xM(n,o){if(1&n&&(e.TgZ(0,"div",12)(1,"div",19)(2,"span",20),e._uU(3),e.qZA(),e.YNc(4,vM,2,4,"span",21),e.qZA(),e.TgZ(5,"div",22)(6,"div",23),e.YNc(7,bM,1,0,"ng-container",11),e.YNc(8,yM,1,0,"ng-container",11),e._UZ(9,"app-commutators-table",24),e.ALo(10,"async"),e.qZA(),e._UZ(11,"app-bindings-table",25),e.ALo(12,"async"),e.qZA()()),2&n){const t=o.building,i=e.oxw(),s=e.MAs(9),d=e.MAs(11);e.xp6(3),e.hij(" ",t.fullName," "),e.xp6(1),e.Q6J("ngIf",t.uplink),e.xp6(3),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(12,Yx,t)),e.xp6(1),e.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",e.VKq(14,Yx,t)),e.xp6(1),e.Q6J("buildId",e.lcZ(10,8,i.buildId$)),e.xp6(2),e.Q6J("filterId",e.lcZ(12,10,i.buildId$))}}function IM(n,o){1&n&&(e.ynx(0),e._uU(1," DHCP "),e.BQk())}function TM(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e.ynx(6,8),e.YNc(7,IM,2,0,"ng-container",9),e.BQk(),e.qZA()()),2&n){const t=o.network;e.xp6(2),e.Oqu(t.network),e.xp6(2),e.Oqu(t.vid),e.xp6(2),e.Q6J("ngSwitch",t.nettype),e.xp6(1),e.Q6J("ngSwitchCase",1)}}function AM(n,o){if(1&n&&(e.TgZ(0,"div",32)(1,"span",33),e._uU(2),e.qZA()()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,oA,t.buildingId)),e.xp6(1),e.hij(" ",t.fullName," ")}}function wM(n,o){if(1&n&&(e.TgZ(0,"div",28)(1,"div",29),e._uU(2," Downlinks "),e.qZA(),e.TgZ(3,"div",30),e.YNc(4,AM,3,4,"div",31),e.qZA()()),2&n){const t=e.oxw().ngIf;e.xp6(4),e.Q6J("ngForOf",t)}}function EM(n,o){if(1&n&&(e.ynx(0),e.YNc(1,wM,5,1,"div",27),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf",t.length>0)}}function SM(n,o){1&n&&e.YNc(0,EM,2,1,"ng-container",0),2&n&&e.Q6J("ngIf",o.building.downlinks)}function kM(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0421\u0435\u0442\u044c"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Vlan"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0422\u0438\u043f"),e.qZA()())}function DM(n,o){1&n&&e.GkF(0)}const MM=function(n){return{network:n}};function OM(n,o){if(1&n&&e.YNc(0,DM,1,0,"ng-container",11),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(7);e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,MM,t))}}function PM(n,o){if(1&n&&(e.TgZ(0,"div",34)(1,"p-table",35),e.YNc(2,kM,7,0,"ng-template",36),e.YNc(3,OM,1,4,"ng-template",37),e.qZA()()),2&n){const t=o.building;e.xp6(1),e.Q6J("value",t.networks)}}function LM(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0418\u043c\u044f"),e.qZA()())}function RM(n,o){1&n&&e.GkF(0)}const NM=function(n){return{file:n}};function FM(n,o){if(1&n&&e.YNc(0,RM,1,0,"ng-container",11),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(15);e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,NM,t))}}const BM=function(){return[]};function ZM(n,o){if(1&n&&(e.TgZ(0,"div",38)(1,"p-table",35),e.ALo(2,"async"),e.YNc(3,LM,3,0,"ng-template",36),e.YNc(4,FM,1,4,"ng-template",37),e.qZA()()),2&n){const t=e.oxw();let i;e.xp6(1),e.Q6J("value",null!==(i=e.lcZ(2,1,t.files$))&&void 0!==i?i:e.DdM(3,BM))}}function UM(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA()()),2&n){const t=o.file;e.xp6(2),e.Oqu(t.name)}}let Mu=class{constructor(o,t){this.api=o,this.route=t,this.LoadingState=me.Gu,this.houseLoadingState=me.Gu.LOADING,this.buildIdParam$=new iA.t(1),this.buildId$=this.buildIdParam$.pipe((0,gt.U)(i=>Number.parseInt(i))),this.building$=this.buildId$.pipe((0,hi.b)(()=>this.houseLoadingState=me.Gu.LOADING),(0,R.w)(i=>this.api.getBuilding(i)),(0,hi.b)({next:()=>this.houseLoadingState=me.Gu.READY,error:()=>this.houseLoadingState=me.Gu.ERROR}),(0,un.d)(1)),this.files$=this.building$.pipe((0,gt.U)(i=>i.fullName),(0,R.w)(i=>this.api.getFilesSuggestions(i)))}ngOnInit(){}};Mu.\u0275fac=function(o){return new(o||Mu)(e.Y36(L.s),e.Y36(a.gz))},Mu.\u0275cmp=e.Xpm({type:Mu,selectors:[["ng-component"]],decls:16,vars:3,consts:[[4,"ngIf"],["loadingTemplate",""],["houseTemplate",""],["networkItemTemplate",""],["downlinksListTemplate",""],["networksTableTemplate",""],["filesTableTemplate",""],["fileItemTemplate",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","flex-column","flex-grow-1","h-fit","bg-white","border-round","shadow-1"],[1,"flex","flex-column","p-3","gap-1"],["width","12rem","height","1.7rem"],["width","8rem","height","1.1rem"],[1,"flex","gap-2","p-4","pt-1"],["width","200px","height","150px"],["width","auto","height","150px",1,"flex-grow-1"],[1,"flex","flex-column","p-3"],[1,"text-bluegray-500","text-xl","font-semibold"],["class","text-primary font-bold cursor-pointer hover:text-primary-700",3,"routerLink",4,"ngIf"],[1,"flex","flex-column","gap-2","p-4","pt-1"],[1,"flex","gap-2"],[1,"flex-grow-1",3,"buildId"],["filterMode","building",3,"filterId"],[1,"text-primary","font-bold","cursor-pointer","hover:text-primary-700",3,"routerLink"],["class","flex flex-column border-1 border-bluegray-100 border-round overflow-hidden",4,"ngIf"],[1,"flex","flex-column","border-1","border-bluegray-100","border-round","overflow-hidden"],[1,"text-bluegray-500","font-bold","p-2","bg-gray-50","border-bottom-1","border-bluegray-100"],[1,"flex","flex-column","px-3","py-2"],["class","flex align-items-center gap-2",4,"ngFor","ngForOf"],[1,"flex","align-items-center","gap-2"],[1,"text-primary","cursor-pointer","hover:text-primary-700",3,"routerLink"],[1,"overflow-hidden","border-round","border-1","border-bluegray-100"],["styleClass","p-datatable-sm",3,"value"],["pTemplate","header"],["pTemplate","body"],[1,"overflow-hidden","border-round","border-1","border-bluegray-100","flex-grow-1"]],template:function(o,t){1&o&&(e.YNc(0,_M,4,3,"ng-container",0),e.ALo(1,"async"),e.YNc(2,CM,8,0,"ng-template",null,1,e.W1O),e.YNc(4,xM,13,16,"ng-template",null,2,e.W1O),e.YNc(6,TM,8,4,"ng-template",null,3,e.W1O),e.YNc(8,SM,1,1,"ng-template",null,4,e.W1O),e.YNc(10,PM,4,1,"ng-template",null,5,e.W1O),e.YNc(12,ZM,5,4,"ng-template",null,6,e.W1O),e.YNc(14,UM,3,1,"ng-template",null,7,e.W1O)),2&o&&e.Q6J("ngIf",e.lcZ(1,1,t.building$))},styles:["[_nghost-%COMP%]{display:flex;flex-grow:1}"]}),(0,rl.gn)([(0,Tl.Hw)("id")],Mu.prototype,"buildIdParam$",void 0),Mu=(0,rl.gn)([(0,Tl.kG)()],Mu);const HM=[{path:"",component:sm.h,children:[{path:"",component:Yc},{path:"tasks/search",component:YT,children:[{path:"",component:K1},{path:":status",component:K1},{path:":status/:class",component:K1},{path:":status/:class/:type",component:K1}]},{path:"tasks/catalog",pathMatch:"full",redirectTo:"tasks/catalog/active"},{path:"tasks/catalog",component:GT,children:[{path:"scheduled/:status",component:wa,data:{scheduled:me.dH.PLANNED}},{path:"scheduled/:status/:class",component:wa,data:{scheduled:me.dH.PLANNED}},{path:"scheduled/:status/:class/:type",component:wa,data:{scheduled:me.dH.PLANNED}},{path:"scheduled/:status/:class/:type/actual-time/:actualTime",component:wa,data:{scheduled:me.dH.PLANNED,pageType:"actual-time"}},{path:"scheduled/:status/:class/:type/actual-time/:actualTime/:tag",component:wa,data:{scheduled:me.dH.PLANNED,pageType:"actual-time"}},{path:"term/:status",component:wa,data:{scheduled:me.dH.DEADLINE}},{path:"term/:status/:class",component:wa,data:{scheduled:me.dH.DEADLINE}},{path:"term/:status/:class/:type",component:wa,data:{scheduled:me.dH.DEADLINE}},{path:"term/:status/:class/:type/term-time/:termTime",component:wa,data:{scheduled:me.dH.DEADLINE,pageType:"term-time"}},{path:"term/:status/:class/:type/term-time/:termTime/:tag",component:wa,data:{scheduled:me.dH.DEADLINE,pageType:"term-time"}},{path:":status",component:wa},{path:":status/:class",component:wa},{path:":status/:class/:type",component:wa},{path:":status/:class/:type/dir/:directory",component:wa,data:{pageType:"dir"}},{path:":status/:class/:type/dir/:directory/:tag",component:wa,data:{pageType:"dir"}},{path:":status/:class/:type/close-time/:closeTime",component:wa,data:{pageType:"close-time"}},{path:":status/:class/:type/close-time/:closeTime/:tag",component:wa,data:{pageType:"close-time"}}]},{path:"tasks/calendar",component:Zg},{path:"task/create",component:Ne},{path:"task/:id",component:$s},{path:"tasks/templates",component:Di,canActivate:[Xr(Ii.j.EDIT_TASK_TEMPLATES,Ii.j.EDIT_TASK_TAGS,Ii.j.EDIT_DEVICES)]},{path:"tasks/templates/constructor",component:Zu,canActivate:[Xr(Ii.j.EDIT_TASK_TEMPLATES)]},{path:"employees",component:hh,canActivate:[Xr(Ii.j.MANAGE_EMPLOYEES)]},{path:"testing",component:Ha},{path:"parser/tracker",component:F4},{path:"parser/address",component:y_},{path:"salary/table",component:$4,canActivate:[Xr(Ii.j.COUNT_SALARY)]},{path:"salary/paid-actions",redirectTo:"/salary/paid-actions/1?includeDeleted=false",pathMatch:"full"},{path:"salary/paid-actions/:page",component:X4,canActivate:[Xr(Ii.j.EDIT_PRICE)]},{path:"salary/works",component:k_,canActivate:[Xr(Ii.j.EDIT_PRICE)]},{path:"salary/estimation",component:D_,canActivate:[Xr(Ii.j.COUNT_SALARY)]},{path:"salary/estimation/bypass",component:LT,canActivate:[Xr(Ii.j.COUNT_SALARY)]},{path:"clients/billing/search",component:V1,canActivate:[Xr(Ii.j.BILLING)]},{path:"clients/billing/user/:login",component:Vd,canActivate:[Xr(Ii.j.BILLING)]},{path:"addresses/list",component:PT,canActivate:[Xr(Ii.j.EDIT_ADDRESS_BOOK,Ii.j.EDIT_HOUSE_ADDRESS_BOOK)]},{path:"system/billing",component:RT,canActivate:[Xr(Ii.j.MANAGE_SYSTEM_SETTINGS)]},{path:"system/telegram",component:NT,canActivate:[Xr(Ii.j.MANAGE_SYSTEM_SETTINGS)]},{path:"system/acp",component:FT,canActivate:[Xr(Ii.j.MANAGE_SYSTEM_SETTINGS)]},{path:"files",component:BT,canActivate:[Xr(Ii.j.READ_WRITE_FILES)]},{path:"contracts",component:jT,children:[{path:"inspection",component:Jd,canActivate:[Xr(Ii.j.VIEW_CONTRACTS)]},{path:"types",component:Hk,canActivate:[Xr(Ii.j.MANAGE_CONTRACTS_TYPES)]}]},{path:"statistics",component:qT,children:[{path:"employee-works",component:rh}],canActivate:[Xr(Ii.j.VIEW_STATISTICS)]},{path:"topology",component:$T,children:[{path:"houses",component:qg},{path:"house/:id",component:Mu},{path:"commutators",component:QD,canActivate:[Xr(Ii.j.VIEW_SWITCH,Ii.j.EDIT_SWITCH)]},{path:"sessions",component:pM,canActivate:[Xr(Ii.j.BILLING)]}]}],canActivate:[RE.a,NE]}];let VM=(()=>{class n{constructor(t){n.injector=t}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.lqb))},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[a.Bz.forChild(HM),a.Bz]}),n})();var zM=b(4488);const JM=["paginator"];function QM(n,o){1&n&&(e.TgZ(0,"div",28),e._UZ(1,"p-progressSpinner",29),e.qZA())}function GM(n,o){if(1&n&&e._UZ(0,"app-task-list-element",32),2&n){const t=o.$implicit;e.Q6J("isCommentInput",!0)("item",t)}}function WM(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",30),e.YNc(2,GM,1,2,"app-task-list-element",31),e.qZA(),e.BQk()),2&n){const t=e.oxw().ngIf,i=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.value)("ngForTrackBy",i.trackByTask)}}function YM(n,o){1&n&&(e.TgZ(0,"div",33),e._UZ(1,"i",34),e.TgZ(2,"span"),e._uU(3,"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),e.qZA()())}function jM(n,o){1&n&&(e.TgZ(0,"div",35),e._UZ(1,"i",36),e.TgZ(2,"span"),e._uU(3,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e.qZA()())}function KM(n,o){if(1&n){const t=e.EpF();e.ynx(0)(1,20),e.YNc(2,QM,2,0,"div",21),e.YNc(3,WM,3,2,"ng-container",22),e.YNc(4,YM,4,0,"div",23),e.YNc(5,jM,4,0,"div",24),e.BQk(),e.TgZ(6,"div",25)(7,"p-paginator",26,27),e.NdJ("onPageChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.taskService.pageNumber.setValue(s.page))}),e.qZA()(),e.BQk()}if(2&n){const t=o.ngIf,i=e.oxw();let s;e.xp6(1),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(2),e.Q6J("alwaysShow",!0)("rows",i.taskService.TASK_PAGE_SIZE)("showCurrentPageReport",!0)("totalRecords",t.totalElements)("first",(null!==(s=i.taskService.pageNumber.value)&&void 0!==s?s:0)*i.taskService.TASK_PAGE_SIZE)}}function qM(n,o){if(1&n&&(e.TgZ(0,"div",38)(1,"div",39),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.label," "),e.xp6(2),e.hij(" ",t.tasksCount," ")}}function $M(n,o){if(1&n&&(e.TgZ(0,"div",14)(1,"label"),e._uU(2,"\u0422\u0438\u043f"),e.qZA(),e.TgZ(3,"p-listbox",37),e.YNc(4,qM,5,2,"ng-template",17),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("options",t.taskService.stageList)}}function XM(n,o){if(1&n&&e._UZ(0,"input",40),2&n){const t=e.oxw();e.Q6J("formControl",t.taskService.tagsFilterControl)}}function eO(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"app-colored-tag",41),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("color",t.color)("caption",t.tasksCount)}}function tO(n,o){if(1&n&&(e.TgZ(0,"span",38)(1,"div",39),e._uU(2),e.qZA(),e.YNc(3,eO,2,2,"ng-container",8),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Udp("color",t.color),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.tasksCount)}}function nO(n,o){1&n&&e._UZ(0,"app-task-template-filter-input",50),2&n&&e.Q6J("field",o.$implicit)}const iO=function(){return[]};function oO(n,o){if(1&n&&(e.ynx(0),e.YNc(1,nO,1,1,"app-task-template-filter-input",49),e.BQk()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngForOf",null!==(i=t.taskService.mainFilterForm.controls.templateFilter.controls)&&void 0!==i?i:e.DdM(2,iO))("ngForTrackBy",t.trackByField)}}function sO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"div",43),e.ynx(2,9),e.TgZ(3,"span",14)(4,"label"),e._uU(5,"\u0410\u0432\u0442\u043e\u0440 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(6,"app-employee-selector",44),e.qZA(),e.TgZ(7,"span",14)(8,"label"),e._uU(9,"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"),e.qZA(),e._UZ(10,"app-data-range-input",45),e.qZA(),e.BQk(),e.YNc(11,oO,2,3,"ng-container",8),e.qZA(),e.TgZ(12,"span",46)(13,"p-button",47),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return s.filterDialogVisible=!1,e.KtG(s.taskService.applyFilters())}),e.qZA(),e.TgZ(14,"p-button",48),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return s.filterDialogVisible=!1,e.KtG(s.taskService.clearFilters())}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.taskService.mainFilterForm),e.xp6(9),e.Q6J("ngIf",t.taskService.mainFilterForm.controls.templateFilter.length>0)}}const rO=function(){return{width:"25rem"}},aO=function(){return{"960px":"640px","640px":"100vw"}};let lO=(()=>{class n{constructor(t,i,s){this.taskService=t,this.api=i,this.route=s,this.employees=[],this.loadingItems=Array.from({length:10}).fill(null),this.filterDialogVisible=!1}trackByField(t,i){return i.value.id+i.value.wireframeFieldType+i.value.name}trackByTask(t,i){var s;return i.taskId+(null!==(s=i.updated)&&void 0!==s?s:"")}ngOnInit(){this.api.getEmployees().subscribe(t=>{this.employees=t})}ngAfterViewInit(){}ngOnDestroy(){}isNewDate(t,i){if(0===i)return!0;const s=t[i-1],d=t[i];if(!s||!d)return!1;const T=new Date(s.created);T.setHours(0,0,0,0);const W=new Date(d.created);return W.setHours(0,0,0,0),T.getTime()>W.getTime()}taskLazyLoad(t){(!t.fields||0===t.fields.length)&&this.api.getFieldsTask(t.taskId).subscribe(i=>{t.fields=i})}clearTemplateFilters(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(zM.U),e.Y36(L.s),e.Y36(a.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(JM,5),2&t){let s;e.iGM(s=e.CRH())&&(i.paginator=s.first)}},decls:26,vars:22,consts:[["appExtendPageHeight","",1,"flex","gap-3","px-3"],[1,"tasks-list"],[1,"flex","flex-wrap","gap-4","bg-white","shadow-1","border-round-md","overflow-hidden","p-3",3,"formGroup"],[1,"p-input-icon-left","flex-grow-1"],[1,"mdi-search"],["formControlName","searchPhrase","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a...","type","text",1,"full-width"],["formControlName","status"],["icon","mdi-filter_alt","label","\u0424\u0438\u043b\u044c\u0442\u0440\u044b","styleClass","p-button-text",3,"badge","onClick"],[4,"ngIf"],[3,"formGroup"],[1,"flex","flex-column","gap-3","h-fit","px-2","pb-3","sticky-type-selector"],["countersType","all","formControlName","template"],[1,"shadow-1","p-3","border-round-md","flex","flex-column","bg-white","gap-2"],["class","input-label-wrapper",4,"ngIf"],[1,"input-label-wrapper"],["formControlName","tags","optionValue","taskTagId","listStyleClass","max-h-20rem",3,"options","multiple","checkbox"],["pTemplate","filter"],["pTemplate","item"],["header","\u0424\u0438\u043b\u044c\u0442\u0440\u044b \u0437\u0430\u0434\u0430\u0447",3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","visibleChange","onShow","onHide"],["pTemplate","content"],[3,"ngSwitch"],["class","flexed stretched hcenter vcenter caption size-big wt-bold f-color-500",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","flexed column stretched hcenter vcenter caption size-big wt-bold f-color-500",4,"ngSwitchCase"],["class","flexed stretched hcenter vcenter caption size-big wt-bold f-color-danger",4,"ngSwitchCase"],[1,"sticky","bottom1"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447","styleClass","panel",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","first","onPageChange"],["paginator",""],[1,"flexed","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-500"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flex","flex-column","gap-1","border-round-md","shadow-1","overflow-hidden","bg-bluegray-100","h-fit"],[3,"isCommentInput","item",4,"ngFor","ngForOf","ngForTrackBy"],[3,"isCommentInput","item"],[1,"flexed","column","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-500"],[1,"mds-search_off"],[1,"flexed","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-danger"],[1,"mdi-error"],["formControlName","stage","listStyleClass","max-h-20rem",3,"options"],[1,"flex","align-items-center","w-full","justify-content-between","gap-1"],["appTicker","",1,"max-w-10rem","white-space-nowrap","overflow-hidden"],["type","text","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a",3,"formControl"],[3,"color","caption"],[1,"flexed","column","gap15"],[1,"flexed","column","gap5"],["formControlName","author"],["formControlName","dateOfCreation"],[1,"flex","gap-3","align-items-center","justify-content-between"],["icon","mdi-filter_alt","label","\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",3,"onClick"],["icon","mdi-clear","label","\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c","styleClass","p-button-secondary p-button-outlined",3,"onClick"],[3,"field",4,"ngFor","ngForOf","ngForTrackBy"],[3,"field"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-main-menu-panel"),e.TgZ(2,"div",1)(3,"div",2)(4,"span",3),e._UZ(5,"i",4)(6,"input",5),e.qZA(),e._UZ(7,"app-task-status-chooser",6),e.TgZ(8,"p-button",7),e.NdJ("onClick",function(){return i.filterDialogVisible=!0}),e.ALo(9,"async"),e.qZA()(),e.YNc(10,KM,9,10,"ng-container",8),e.ALo(11,"async"),e.qZA(),e.ynx(12,9),e.TgZ(13,"div",10),e._UZ(14,"app-task-template-multi-selector",11),e.TgZ(15,"div",12),e.YNc(16,$M,5,1,"div",13),e.TgZ(17,"div",14)(18,"label"),e._uU(19,"\u0422\u0435\u0433\u0438"),e.qZA(),e.TgZ(20,"p-listbox",15),e.YNc(21,XM,1,1,"ng-template",16),e.YNc(22,tO,4,4,"ng-template",17),e.qZA()()()(),e.BQk(),e.qZA(),e._UZ(23,"p-scrollTop"),e.TgZ(24,"p-dialog",18),e.NdJ("visibleChange",function(d){return i.filterDialogVisible=d})("onShow",function(){return i.taskService.cacheFilters()})("onHide",function(){return i.taskService.applyFilters()}),e.YNc(25,sO,15,2,"ng-template",19),e.qZA()),2&t){let s;e.xp6(3),e.Q6J("formGroup",i.taskService.mainFilterForm),e.xp6(5),e.Q6J("badge",null!==(s=e.lcZ(9,16,i.taskService.templateFilterCount$))&&void 0!==s?s:""),e.xp6(2),e.Q6J("ngIf",e.lcZ(11,18,i.taskService.taskPage$)),e.xp6(2),e.Q6J("formGroup",i.taskService.mainFilterForm),e.xp6(4),e.Q6J("ngIf",i.taskService.stageList.length>1&&i.taskService.isSelectOneTemplate),e.xp6(4),e.Q6J("options",i.taskService.tagsList)("multiple",!0)("checkbox",!0),e.xp6(4),e.Akn(e.DdM(20,rO)),e.Q6J("visible",i.filterDialogVisible)("breakpoints",e.DdM(21,aO))("dismissableMask",!0)("draggable",!0)("modal",!0)("resizable",!1)}},styles:[".top-interceptor[_ngcontent-%COMP%]{position:fixed;width:100vw;height:50px;top:0;left:0;border:1px solid var(--tc-700)}.global-filters[_ngcontent-%COMP%]{display:grid;gap:.5rem;justify-content:center;background-color:#fff;box-shadow:var(--shadow-0);border-radius:var(--br-200);padding:1rem;width:-moz-fit-content;width:fit-content;place-self:center}.loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.tasks-list[_ngcontent-%COMP%]{display:grid;position:relative;grid:min-content 1fr min-content/1fr;gap:1rem;flex:1;padding-bottom:2rem}"]}),n})();var sA=b(9354),cO=b(1923),wl=b(3725),uO=b(9114);let _O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[k.ez,N.m8]}),n})(),DO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[k.ez,g.u5]]}),n})();var q1=b(5652);const MO=function(n,o){return{showTransitionParams:n,hideTransitionParams:o}},OO=function(n){return{value:"open",params:n}};function PO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",1),e.NdJ("@animation.start",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.onEnter(s))})("@animation.done",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.onLeave(s))})("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onClick())}),e._UZ(1,"span",2),e.qZA()}if(2&n){const t=e.oxw();e.Tol(t.styleClass),e.Q6J("@animation",e.VKq(11,OO,e.WLB(8,MO,t.showTransitionOptions,t.hideTransitionOptions)))("ngClass",t.containerClass())("ngStyle",t.style),e.xp6(1),e.Tol(t.icon),e.Q6J("ngClass","p-scrolltop-icon")}}let LO=(()=>{class n{constructor(t,i,s){this.el=t,this.cd=i,this.config=s,this.target="window",this.threshold=400,this.icon="pi pi-chevron-up",this.behavior="smooth",this.showTransitionOptions=".15s",this.hideTransitionOptions=".15s",this.visible=!1}ngOnInit(){"window"===this.target?this.bindDocumentScrollListener():"parent"===this.target&&this.bindParentScrollListener()}onClick(){("window"===this.target?window:this.el.nativeElement.parentElement).scroll({top:0,behavior:this.behavior})}onEnter(t){switch(t.toState){case"open":this.overlay=t.element,Oo.P9.set("overlay",this.overlay,this.config.zIndex.overlay);break;case"void":this.overlay=null}}onLeave(t){"void"===t.toState&&Oo.P9.clear(t.element)}checkVisibility(t){this.visible=t>this.threshold,this.cd.markForCheck()}bindParentScrollListener(){this.scrollListener=()=>{this.checkVisibility(this.el.nativeElement.parentElement.scrollTop)},this.el.nativeElement.parentElement.addEventListener("scroll",this.scrollListener)}bindDocumentScrollListener(){this.scrollListener=()=>{this.checkVisibility(yo.p.getWindowScrollTop())},window.addEventListener("scroll",this.scrollListener)}unbindParentScrollListener(){this.scrollListener&&(this.el.nativeElement.parentElement.removeEventListener("scroll",this.scrollListener),this.scrollListener=null)}unbindDocumentScrollListener(){this.scrollListener&&(window.removeEventListener("scroll",this.scrollListener),this.scrollListener=null)}containerClass(){return{"p-scrolltop p-link p-component":!0,"p-scrolltop-sticky":"window"!==this.target}}ngOnDestroy(){"window"===this.target?this.unbindDocumentScrollListener():"parent"===this.target&&this.unbindParentScrollListener(),this.overlay&&(Oo.P9.clear(this.overlay),this.overlay=null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(N.b4))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-scrollTop"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",target:"target",threshold:"threshold",icon:"icon",behavior:"behavior",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},decls:1,vars:1,consts:[["type","button",3,"ngClass","class","ngStyle","click",4,"ngIf"],["type","button",3,"ngClass","ngStyle","click"],[3,"ngClass"]],template:function(t,i){1&t&&e.YNc(0,PO,2,13,"button",0),2&t&&e.Q6J("ngIf",i.visible)},dependencies:[k.mk,k.O5,k.PC],styles:[".p-scrolltop{position:fixed;bottom:20px;right:20px;display:flex;align-items:center;justify-content:center}.p-scrolltop-sticky{position:sticky}.p-scrolltop-sticky.p-link{margin-left:auto}\n"],encapsulation:2,data:{animation:[(0,Ri.X$)("animation",[(0,Ri.SB)("void",(0,Ri.oB)({opacity:0})),(0,Ri.SB)("open",(0,Ri.oB)({opacity:1})),(0,Ri.eR)("void => open",(0,Ri.jt)("{{showTransitionParams}}")),(0,Ri.eR)("open => void",(0,Ri.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),n})(),RO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[k.ez]}),n})(),JO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[k.ez,a.Bz,Qi.z,a.Bz,Qi.z]}),n})();var QO=b(9925),rA=b(6526);const GO=["taskMovePanel"];function WO(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-button",13),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.checkedTasks=[])}),e.qZA(),e.TgZ(2,"app-button",14),e.NdJ("onClick",function(s){e.CHM(t),e.oxw();const d=e.MAs(14);return e.KtG(d.toggle(s))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("@fade",void 0),e.xp6(1),e.Q6J("@fade",void 0)("disabled",!(null!=t.wireframe&&t.wireframe.stages)||0===(null==t.wireframe||null==t.wireframe.stages?null:t.wireframe.stages.length))}}function YO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"p-checkbox",19),e.NdJ("onChange",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.allTaskChecked("null-pointer",s))}),e.qZA(),e.TgZ(2,"span",20),e._uU(3," \u0411\u0435\u0437 \u0441\u0442\u0430\u0434\u0438\u0438 "),e.qZA(),e._UZ(4,"app-colored-tag",21),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("binary",!0),e.xp6(3),e.Q6J("caption",t.getCount("null-pointer"))}}function jO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-list-element",22),e.NdJ("checkChange",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.checkedTasks=s)}),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("check",i.checkedTasks)("item",t)("inlined",!0)}}function KO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-list-panel",15),e.NdJ("onScrollDown",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.stageScrollDown("null-pointer"))}),e.YNc(1,YO,5,2,"ng-template",null,16,e.W1O),e.YNc(3,jO,1,3,"ng-template",null,17,e.W1O),e.qZA()}if(2&n){const t=e.MAs(2),i=e.MAs(4),s=e.oxw();e.Q6J("headerTemplate",t)("itemTemplate",i)("items",s.tasks["null-pointer"])}}function qO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"p-checkbox",19),e.NdJ("onChange",function(s){e.CHM(t);const d=e.oxw().$implicit,T=e.oxw();return e.KtG(T.allTaskChecked(d.stageId,s))}),e.qZA(),e.TgZ(2,"span",20),e._uU(3),e.qZA(),e._UZ(4,"app-colored-tag",23),e.qZA()}if(2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("binary",!0),e.xp6(2),e.hij(" ",t.label," "),e.xp6(1),e.Q6J("captionForColor",t.label)("caption",i.getCount(t.stageId))}}function $O(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-list-element",22),e.NdJ("checkChange",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.checkedTasks=s)}),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("check",i.checkedTasks)("item",t)("inlined",!0)}}function XO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-list-panel",15),e.NdJ("onScrollDown",function(){const d=e.CHM(t).$implicit,T=e.oxw();return e.KtG(T.stageScrollDown(d.stageId))}),e.YNc(1,qO,5,4,"ng-template",null,16,e.W1O),e.YNc(3,$O,1,3,"ng-template",null,17,e.W1O),e.qZA()}if(2&n){const t=o.$implicit,i=e.MAs(2),s=e.MAs(4),d=e.oxw();e.Q6J("headerTemplate",i)("itemTemplate",s)("items",d.tasks[t.stageId])}}const eP=function(){return[]};let tP=(()=>{class n{constructor(t,i,s){this.api=t,this.route=i,this.rt=s,this.tasks={},this.tasksCount={},this.tasksLoading={},this.checkedTasks=[],this.taskMoving=!1}ngOnInit(){this.route.params.subscribe(t=>{const{template:i}=t;this.api.getWireframe(i).subscribe(s=>{var d,T;this.api.getActiveTaskInNullStage(0,10,s.wireframeId).subscribe(W=>{this.tasks["null-pointer"]=W.content,this.tasksCount["null-pointer"]=W.totalElements}),s.stages=null===(d=s.stages)||void 0===d?void 0:d.sort((W,Ce)=>W.orderIndex-Ce.orderIndex),null===(T=s.stages)||void 0===T||T.forEach(W=>{this.api.getActiveTaskInStage(0,10,s.wireframeId,W.stageId).subscribe(Ce=>{this.tasks[W.stageId]=Ce.content,this.tasksCount[W.stageId]=Ce.totalElements})}),this.wireframe=s,this.anyTaskUpdatingSub&&this.anyTaskUpdatingSub.unsubscribe(),this.anyTaskUpdatingSub=this.rt.taskUpdated().subscribe(this.onAnyTaskUpdate.bind(this))})})}ngOnDestroy(){this.anyTaskUpdatingSub&&this.anyTaskUpdatingSub.unsubscribe()}onAnyTaskUpdate(t){var i,s,d,T;for(const W in this.tasks){const Ce=this.tasks[W].findIndex(qe=>qe.taskId===t.taskId);if(Ce>=0){const qe=null===(i=this.tasks[W][Ce].currentStage)||void 0===i?void 0:i.stageId,Xe=null===(s=t.currentStage)||void 0===s?void 0:s.stageId;Xe&&Xe!==qe?(this.tasks[W].splice(Ce,1),null===(d=this.tasks[Xe])||void 0===d||d.push(t),qe&&this.tasksCount[qe]--,this.tasksCount[Xe]++,this.tasks[Xe]=null===(T=this.tasks[Xe])||void 0===T?void 0:T.sort(($t,jt)=>{var Wt,_n;return new Date(null!==(Wt=jt.created)&&void 0!==Wt?Wt:"").getTime()-new Date(null!==(_n=$t.created)&&void 0!==_n?_n:"").getTime()})):this.tasks[W].splice(Ce,1,t)}}}stageScrollDown(t){this.tasks[t].length<this.tasksCount[t]&&!this.tasksLoading[t]&&this.wireframe&&"null-pointer"!==t?(this.tasksLoading[t]=!0,this.api.getActiveTaskInStage(this.tasks[t].length,10,this.wireframe.wireframeId,t).subscribe(i=>{this.tasks[t]=[...this.tasks[t],...i.content],this.tasksLoading[t]=!1})):this.tasks[t].length<this.tasksCount[t]&&!this.tasksLoading[t]&&this.wireframe&&"null-pointer"===t&&(this.tasksLoading["null-pointer"]=!0,this.api.getActiveTaskInStage(this.tasks["null-pointer"].length,10,this.wireframe.wireframeId,"null-pointer").subscribe(i=>{this.tasks["null-pointer"]=[...this.tasks["null-pointer"],...i.content],this.tasksLoading["null-pointer"]=!1}))}declineTask(t){return _.cQ.declineOfNumber(t,["\u0437\u0430\u0434\u0430\u0447\u0438","\u0437\u0430\u0434\u0430\u0447","\u0437\u0430\u0434\u0430\u0447"])}taskMoveApply(){const t=[];this.checkedTasks.forEach(i=>{"string"==typeof this.selectedStageToMove&&(this.taskMoving=!0,this.api.changeTaskStage(i,this.selectedStageToMove).subscribe({next:()=>{t.push(i),this.checkedTasks=this.checkedTasks.filter(s=>!t.includes(s)),0===this.checkedTasks.length&&(this.taskMovePanel.hide(),this.taskMoving=!1)},error:()=>{t.push(i),this.checkedTasks=this.checkedTasks.filter(s=>!t.includes(s)),0===this.checkedTasks.length&&(this.taskMovePanel.hide(),this.taskMoving=!1)}}))})}allTaskChecked(t,i){var s,d;!this.wireframe||("null-pointer"!==t?this.api.getActiveTaskIdsInStage(null===(s=this.wireframe)||void 0===s?void 0:s.wireframeId,t).subscribe(T=>{this.checkedTasks=i.checked?[...this.checkedTasks,...T]:this.checkedTasks.filter(W=>!T.includes(W))}):this.api.getActiveTaskIdsInNullStage(null===(d=this.wireframe)||void 0===d?void 0:d.wireframeId).subscribe(T=>{this.checkedTasks=i.checked?[...this.checkedTasks,...T]:this.checkedTasks.filter(W=>!T.includes(W))}))}getCount(t){return this.tasksCount[t]?this.tasksCount[t].toString():"0"}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(a.gz),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(GO,5),2&t){let s;e.iGM(s=e.CRH())&&(i.taskMovePanel=s.first)}},decls:20,vars:13,consts:[["appExtendPageHeight","",1,"flexed","gap10",3,"limited"],[1,"flexed","column","gap5","overflow"],[1,"caption","size-big","p10","flexed","hcenter","gap5"],[1,"material-icons-round"],[1,"stretched"],[4,"ngIf"],["appDragScrolling","",1,"stages-wrapper"],[3,"headerTemplate","itemTemplate","items","onScrollDown",4,"ngIf"],[3,"headerTemplate","itemTemplate","items","onScrollDown",4,"ngFor","ngForOf"],["taskMovePanel",""],[1,"flexed","gap10","column"],["optionLabel","label","optionValue","stageId","appendTo","body",3,"options","ngModel","ngModelChange"],["label","\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",3,"loading","onClick"],["label","\u0421\u043d\u044f\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435","icon","deselect","model","p-button-secondary p-button-outlined",3,"onClick"],["label","\u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c","icon","swap_horiz","model","p-button-outlined p-button-help",3,"disabled","onClick"],[3,"headerTemplate","itemTemplate","items","onScrollDown"],["header",""],["taskElem",""],[1,"flexed","hcenter","stretched","spbtw"],[3,"binary","onChange"],["appColorize",""],["captionForColor","\u0411\u0435\u0437 \u0441\u0442\u0430\u0434\u0438\u0438",3,"caption"],[3,"check","item","inlined","checkChange"],[3,"captionForColor","caption"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-main-menu-panel"),e.TgZ(2,"div",1)(3,"div",2)(4,"span",3),e._uU(5,"checklist"),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA(),e._UZ(8,"div",4),e.YNc(9,WO,3,3,"ng-container",5),e.qZA(),e.TgZ(10,"div",6),e.YNc(11,KO,5,3,"app-list-panel",7),e.YNc(12,XO,5,3,"app-list-panel",8),e.qZA()()(),e.TgZ(13,"p-overlayPanel",null,9)(15,"div",10)(16,"span"),e._uU(17),e.qZA(),e.TgZ(18,"p-dropdown",11),e.NdJ("ngModelChange",function(d){return i.selectedStageToMove=d}),e.qZA(),e.TgZ(19,"app-button",12),e.NdJ("onClick",function(){return i.taskMoveApply()}),e.qZA()()()),2&t){let s;e.Udp("padding-left","1rem"),e.Q6J("limited",!0),e.xp6(7),e.hij(" \u0421\u0442\u0430\u0434\u0438\u0438 \u0437\u0430\u0434\u0430\u0447: ",null==i.wireframe?null:i.wireframe.name," "),e.xp6(2),e.Q6J("ngIf",i.checkedTasks.length>0),e.xp6(2),e.Q6J("ngIf",i.tasksCount["null-pointer"]>0),e.xp6(1),e.Q6J("ngForOf",null==i.wireframe?null:i.wireframe.stages),e.xp6(5),e.AsE("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0434\u0438\u044e \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u044f ",i.checkedTasks.length," ",i.declineTask(i.checkedTasks.length),""),e.xp6(1),e.Q6J("options",null!==(s=null==i.wireframe?null:i.wireframe.stages)&&void 0!==s?s:e.DdM(12,eP))("ngModel",i.selectedStageToMove),e.xp6(1),e.Q6J("loading",i.taskMoving)}},styles:[".stages-wrapper[_ngcontent-%COMP%]{display:flex;flex:1;padding:0 2rem 2rem;gap:1rem;overflow-x:scroll;overflow-y:hidden}.stages-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{min-width:500px}.stages-content[_ngcontent-%COMP%]{display:grid;grid:1fr/max-content 1fr}.stage-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex:1;background-color:#fff}"],data:{animation:[f.U1]}}),n})();var Ou=b(3640),aA=b(5132);const nP=["pOrganizationChartNode",""];function iP(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.node.label)}}function oP(n,o){1&n&&e.GkF(0)}const sP=function(n){return{$implicit:n}};function rP(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,oP,1,0,"ng-container",7),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.chart.getTemplateForNode(t.node))("ngTemplateOutletContext",e.VKq(2,sP,t.node))}}const aP=function(n,o){return{"pi-chevron-down":n,"pi-chevron-up":o}};function lP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",8),e.NdJ("click",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.toggleNode(s,d.node))})("keydown.enter",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.toggleNode(s,d.node))}),e._UZ(1,"i",9),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.WLB(1,aP,t.node.expanded,!t.node.expanded))}}function cP(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"td"),e._UZ(2,"div",4),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.uIk("colspan",t.colspan)}}const lA=function(n){return{"p-organizationchart-line-top":n}};function uP(n,o){if(1&n&&(e.TgZ(0,"td",11),e._uU(1,"\xa0"),e.qZA(),e.TgZ(2,"td",12),e._uU(3,"\xa0"),e.qZA()),2&n){const i=o.last;e.Q6J("ngClass",e.VKq(2,lA,!o.first)),e.xp6(2),e.Q6J("ngClass",e.VKq(4,lA,!i))}}function dP(n,o){if(1&n&&(e.ynx(0),e.YNc(1,uP,4,6,"ng-template",10),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.node.children)}}function pP(n,o){if(1&n&&(e.TgZ(0,"td",13),e._UZ(1,"table",14),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("node",t)}}const hP=function(n,o){return{"p-organizationchart-node-content":!0,"p-organizationchart-selectable-node":n,"p-highlight":o}};function gP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tbody")(1,"tr")(2,"td")(3,"div",1),e.NdJ("click",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.onNodeClick(s,d.node))}),e.YNc(4,iP,2,1,"div",0),e.YNc(5,rP,2,4,"div",0),e.YNc(6,lP,2,4,"a",2),e.qZA()()(),e.TgZ(7,"tr",3)(8,"td"),e._UZ(9,"div",4),e.qZA()(),e.TgZ(10,"tr",3),e.YNc(11,cP,3,1,"ng-container",0),e.YNc(12,dP,2,1,"ng-container",0),e.qZA(),e.TgZ(13,"tr",5),e.YNc(14,pP,2,1,"td",6),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.uIk("colspan",t.colspan),e.xp6(1),e.Tol(t.node.styleClass),e.Q6J("ngClass",e.WLB(17,hP,t.chart.selectionMode&&!1!==t.node.selectable,t.isSelected())),e.xp6(1),e.Q6J("ngIf",!t.chart.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",t.chart.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",!t.leaf),e.xp6(1),e.Q6J("ngClass",!t.leaf&&t.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),e.xp6(1),e.uIk("colspan",t.colspan),e.xp6(2),e.Q6J("ngClass",!t.leaf&&t.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),e.xp6(1),e.Q6J("ngIf",t.node.children&&1===t.node.children.length),e.xp6(1),e.Q6J("ngIf",t.node.children&&t.node.children.length>1),e.xp6(1),e.Q6J("ngClass",!t.leaf&&t.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),e.xp6(1),e.Q6J("ngForOf",t.node.children)}}function mP(n,o){if(1&n&&e._UZ(0,"table",2),2&n){const t=e.oxw();e.Q6J("node",t.root)}}const fP=function(n){return{"p-organizationchart p-component":!0,"p-organizationchart-preservespace":n}};let _P=(()=>{class n{constructor(t,i){this.cd=i,this.chart=t,this.subscription=this.chart.selectionSource$.subscribe(()=>{this.cd.markForCheck()})}get leaf(){return 0!=this.node.leaf&&!(this.node.children&&this.node.children.length)}get colspan(){return this.node.children&&this.node.children.length?2*this.node.children.length:null}onNodeClick(t,i){this.chart.onNodeClick(t,i)}toggleNode(t,i){i.expanded=!i.expanded,i.expanded?this.chart.onNodeExpand.emit({originalEvent:t,node:this.node}):this.chart.onNodeCollapse.emit({originalEvent:t,node:this.node}),t.preventDefault()}isSelected(){return this.chart.isSelected(this.node)}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36((0,e.Gpc)(()=>cA)),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["","pOrganizationChartNode",""]],hostAttrs:[1,"p-element"],inputs:{node:"node",root:"root",first:"first",last:"last"},attrs:nP,decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngClass","click"],["tabindex","0","class","p-node-toggler",3,"click","keydown.enter",4,"ngIf"],[1,"p-organizationchart-lines",3,"ngClass"],[1,"p-organizationchart-line-down"],[1,"p-organizationchart-nodes",3,"ngClass"],["colspan","2",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0",1,"p-node-toggler",3,"click","keydown.enter"],[1,"p-node-toggler-icon","pi",3,"ngClass"],["ngFor","",3,"ngForOf"],[1,"p-organizationchart-line-left",3,"ngClass"],[1,"p-organizationchart-line-right",3,"ngClass"],["colspan","2"],["pOrganizationChartNode","",1,"p-organizationchart-table",3,"node"]],template:function(t,i){1&t&&e.YNc(0,gP,15,20,"tbody",0),2&t&&e.Q6J("ngIf",i.node)},dependencies:[k.mk,k.sg,k.O5,k.tP,n],styles:[".p-organizationchart-table{border-spacing:0;border-collapse:separate;margin:0 auto}.p-organizationchart-table>tbody>tr>td{text-align:center;vertical-align:top;padding:0 .75rem}.p-organizationchart-node-content{display:inline-block;position:relative}.p-organizationchart-node-content .p-node-toggler{position:absolute;bottom:-.75rem;margin-left:-.75rem;z-index:2;left:50%;-webkit-user-select:none;user-select:none;cursor:pointer;width:1.5rem;height:1.5rem}.p-organizationchart-node-content .p-node-toggler .p-node-toggler-icon{position:relative;top:.25rem}.p-organizationchart-line-down{margin:0 auto;height:20px;width:1px}.p-organizationchart-line-right,.p-organizationchart-line-left{border-radius:0}.p-organizationchart-selectable-node{cursor:pointer}.p-organizationchart .p-organizationchart-node-hidden{display:none}.p-organizationchart-preservespace .p-organizationchart-node-hidden{visibility:hidden;display:inherit}\n"],encapsulation:2,data:{animation:[(0,Ri.X$)("childState",[(0,Ri.SB)("in",(0,Ri.oB)({opacity:1})),(0,Ri.eR)("void => *",[(0,Ri.oB)({opacity:0}),(0,Ri.jt)(150)]),(0,Ri.eR)("* => void",[(0,Ri.jt)(150,(0,Ri.oB)({opacity:0}))])])]},changeDetection:0}),n})(),cA=(()=>{class n{constructor(t,i){this.el=t,this.cd=i,this.preserveSpace=!0,this.selectionChange=new e.vpe,this.onNodeSelect=new e.vpe,this.onNodeUnselect=new e.vpe,this.onNodeExpand=new e.vpe,this.onNodeCollapse=new e.vpe,this.selectionSource=new wr.x,this.selectionSource$=this.selectionSource.asObservable()}get selection(){return this._selection}set selection(t){this._selection=t,this.initialized&&this.selectionSource.next(null)}get root(){return this.value&&this.value.length?this.value[0]:null}ngAfterContentInit(){this.templates.length&&(this.templateMap={}),this.templates.forEach(t=>{this.templateMap[t.getType()]=t.template}),this.initialized=!0}getTemplateForNode(t){return this.templateMap?t.type?this.templateMap[t.type]:this.templateMap.default:null}onNodeClick(t,i){let s=t.target;if((!s.className||-1===s.className.indexOf("p-node-toggler")&&-1===s.className.indexOf("p-node-toggler-icon"))&&this.selectionMode){if(!1===i.selectable)return;let d=this.findIndexInSelection(i),T=d>=0;"single"===this.selectionMode?T?(this.selection=null,this.onNodeUnselect.emit({originalEvent:t,node:i})):(this.selection=i,this.onNodeSelect.emit({originalEvent:t,node:i})):"multiple"===this.selectionMode&&(T?(this.selection=this.selection.filter((W,Ce)=>Ce!=d),this.onNodeUnselect.emit({originalEvent:t,node:i})):(this.selection=[...this.selection||[],i],this.onNodeSelect.emit({originalEvent:t,node:i}))),this.selectionChange.emit(this.selection),this.selectionSource.next(null)}}findIndexInSelection(t){let i=-1;if(this.selectionMode&&this.selection)if("single"===this.selectionMode)i=this.selection==t?0:-1;else if("multiple"===this.selectionMode)for(let s=0;s<this.selection.length;s++)if(this.selection[s]==t){i=s;break}return i}isSelected(t){return-1!=this.findIndexInSelection(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-organizationChart"]],contentQueries:function(t,i,s){if(1&t&&e.Suo(s,N.jx,4),2&t){let d;e.iGM(d=e.CRH())&&(i.templates=d)}},hostAttrs:[1,"p-element"],inputs:{value:"value",style:"style",styleClass:"styleClass",selectionMode:"selectionMode",preserveSpace:"preserveSpace",selection:"selection"},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse"},decls:2,vars:7,consts:[[3,"ngStyle","ngClass"],["class","p-organizationchart-table","pOrganizationChartNode","",3,"node",4,"ngIf"],["pOrganizationChartNode","",1,"p-organizationchart-table",3,"node"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,mP,1,1,"table",1),e.qZA()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngStyle",i.style)("ngClass",e.VKq(5,fP,i.preserveSpace)),e.xp6(1),e.Q6J("ngIf",i.root))},dependencies:[k.mk,k.O5,k.PC,_P],encapsulation:2,changeDetection:0}),n})(),CP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[k.ez,N.m8]}),n})();var uA=b(6888),vP=b(6731),Kx=b(7307),qx=b(7172),bP=b(9770),X1=b(2722),eb=b(5698),yP=b(9718);function xP(n,o){}const tb=()=>{const n="undefined"!=typeof window?window:void 0;return n&&n.tinymce?n.tinymce:null};let IP=(()=>{class n{constructor(){this.onBeforePaste=new e.vpe,this.onBlur=new e.vpe,this.onClick=new e.vpe,this.onContextMenu=new e.vpe,this.onCopy=new e.vpe,this.onCut=new e.vpe,this.onDblclick=new e.vpe,this.onDrag=new e.vpe,this.onDragDrop=new e.vpe,this.onDragEnd=new e.vpe,this.onDragGesture=new e.vpe,this.onDragOver=new e.vpe,this.onDrop=new e.vpe,this.onFocus=new e.vpe,this.onFocusIn=new e.vpe,this.onFocusOut=new e.vpe,this.onKeyDown=new e.vpe,this.onKeyPress=new e.vpe,this.onKeyUp=new e.vpe,this.onMouseDown=new e.vpe,this.onMouseEnter=new e.vpe,this.onMouseLeave=new e.vpe,this.onMouseMove=new e.vpe,this.onMouseOut=new e.vpe,this.onMouseOver=new e.vpe,this.onMouseUp=new e.vpe,this.onPaste=new e.vpe,this.onSelectionChange=new e.vpe,this.onActivate=new e.vpe,this.onAddUndo=new e.vpe,this.onBeforeAddUndo=new e.vpe,this.onBeforeExecCommand=new e.vpe,this.onBeforeGetContent=new e.vpe,this.onBeforeRenderUI=new e.vpe,this.onBeforeSetContent=new e.vpe,this.onChange=new e.vpe,this.onClearUndos=new e.vpe,this.onDeactivate=new e.vpe,this.onDirty=new e.vpe,this.onExecCommand=new e.vpe,this.onGetContent=new e.vpe,this.onHide=new e.vpe,this.onInit=new e.vpe,this.onInitNgModel=new e.vpe,this.onLoadContent=new e.vpe,this.onNodeChange=new e.vpe,this.onPostProcess=new e.vpe,this.onPostRender=new e.vpe,this.onPreInit=new e.vpe,this.onPreProcess=new e.vpe,this.onProgressState=new e.vpe,this.onRedo=new e.vpe,this.onRemove=new e.vpe,this.onReset=new e.vpe,this.onResizeEditor=new e.vpe,this.onSaveContent=new e.vpe,this.onSetAttrib=new e.vpe,this.onObjectResizeStart=new e.vpe,this.onObjectResized=new e.vpe,this.onObjectSelected=new e.vpe,this.onSetContent=new e.vpe,this.onShow=new e.vpe,this.onSubmit=new e.vpe,this.onUndo=new e.vpe,this.onVisualAid=new e.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),n})();const dA=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],nb=(n,o,t)=>(0,y.R)(n,o).pipe((0,X1.R)(t)),pA=(n,o)=>"string"==typeof n?n.split(",").map(t=>t.trim()):Array.isArray(n)?n:o;let hA=0;const gA=n=>void 0!==n&&"textarea"===n.tagName.toLowerCase(),mA=n=>void 0===n||""===n?[]:Array.isArray(n)?n:n.split(" "),EP=(n,o)=>mA(n).concat(mA(o)),SP=()=>{},fA=n=>null==n,kP=(()=>{let n={script$:null};return{load:(i,s)=>n.script$||(n.script$=(0,bP.P)(()=>{const d=i.createElement("script");return d.referrerPolicy="origin",d.type="application/javascript",d.src=s,i.head.appendChild(d),(0,y.R)(d,"load").pipe((0,eb.q)(1),(0,yP.h)(void 0))}).pipe((0,un.d)({bufferSize:1,refCount:!0}))),reinitialize:()=>{n={script$:null}}}})(),DP=new e.OlP("TINYMCE_SCRIPT_SRC"),MP={provide:g.JU,useExisting:(0,e.Gpc)(()=>CA),multi:!0};let CA=(()=>{class n extends IP{constructor(t,i,s,d){super(),this.platformId=s,this.tinymceScriptSrc=d,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=SP,this.destroy$=new wr.x,this.initialise=()=>{const T=Object.assign(Object.assign({},this.init),{selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:EP(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:W=>{this._editor=W,nb(W,"init",this.destroy$).subscribe(()=>{this.initEditor(W)}),((n,o,t)=>{(n=>{const o=pA(n.ignoreEvents,[]);return pA(n.allowedEvents,dA).filter(i=>dA.includes(i)&&!o.includes(i))})(n).forEach(s=>{const d=n[s];nb(o,s.substring(2),t).subscribe(T=>{d.observers.length>0&&n.ngZone.run(()=>d.emit({event:T,editor:o}))})})})(this,W,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(W)}});gA(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{tb().init(T)})},this._elementRef=t,this.ngZone=i}set disabled(t){var i;this._disabled=t,this._editor&&this._editor.initialized&&("function"==typeof(null===(i=this._editor.mode)||void 0===i?void 0:i.set)?this._editor.mode.set(t?"readonly":"design"):this._editor.setMode(t?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(t){this._editor&&this._editor.initialized?this._editor.setContent(fA(t)?"":t):this.initialValue=null===t?void 0:t}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}ngAfterViewInit(){var t;(0,k.NF)(this.platformId)&&(this.id=this.id||(n=>{const t=(new Date).getTime(),i=Math.floor(1e9*Math.random());return hA++,"tiny-angular_"+i+hA+String(t)})(),this.inline=void 0!==this.inline?!1!==this.inline:!(null===(t=this.init)||void 0===t||!t.inline),this.createElement(),null!==tb()?this.initialise():this._element&&this._element.ownerDocument&&kP.load(this._element.ownerDocument,this.getScriptSrc()).pipe((0,X1.R)(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==tb()&&tb().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,gA(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return fA(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(t){nb(t,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),nb(t,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(t))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{t.setContent(this.initialValue),t.getContent()!==this.initialValue&&this.emitOnChange(t),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(t)})}emitOnChange(t){this.onChangeCallback&&this.onChangeCallback(t.getContent({format:this.outputFormat}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.Lbi),e.Y36(DP,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[e._Bn([MP]),e.qOj,e.jDz],decls:1,vars:0,template:function(t,i){1&t&&e.YNc(0,xP,0,0,"ng-template")},dependencies:[k.ez,g.u5],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var ib=b(8913);let OP=(()=>{class n{constructor(t,i,s){this.api=t,this.rt=i,this.personality=s,this.scrollPos=0,this.pageControl=new g.NI(0),this.filtersForm=new g.cw({limit:new g.NI(15),template:new g.NI(_.Ke.loadOrDefault("incomListPageTempFilter",[])),stage:new g.NI(null),tags:new g.NI([])}),this.searchPhrase=new g.NI(""),this.pageChange$=this.pageControl.valueChanges.pipe((0,rs.O)(0),(0,hi.b)(()=>window.scrollTo({top:0}))),this.filtersChange$=this.filtersForm.valueChanges.pipe((0,hi.b)(()=>this.pageControl.setValue(0)),(0,rs.O)(this.filtersForm.value)),this.filters$=(0,Wo.a)([this.pageChange$,this.filtersChange$]).pipe((0,gt.U)(([d,T])=>[d,Object.assign(Object.assign({},T),{searchPhrase:this.searchPhrase.value})]),(0,un.d)(1)),this.stageList=[],this.tagsList=[],this.stageList$=this.filtersForm.controls.template.valueChanges.pipe((0,rs.O)(this.filtersForm.controls.template.value),(0,hi.b)(d=>_.Ke.save("incomListPageTempFilter",d)),(0,R.w)(d=>(this.filtersForm.controls.stage.setValue(null,{emitEvent:!1}),1===(null==d?void 0:d.length)?this.api.getWireframeStages(d[0]).pipe((0,Kl.z)(T=>this.api.getCountIncomingTasksByStages(d[0]).pipe((0,gt.U)(W=>T.map(Ce=>({label:Ce.label,value:Ce.stageId,orderIndex:Ce.orderIndex,tasksCount:W[Ce.stageId]||0})))))):[])),(0,gt.U)(d=>{const T=d.sort((W,Ce)=>W.orderIndex-Ce.orderIndex);return T.unshift({label:"\u0412\u0441\u0435",value:null,orderIndex:-1,tasksCount:d.reduce((W,Ce)=>W+Ce.tasksCount,0)}),T}),(0,un.d)(1)),this.tagsFilterControl=new g.NI(""),this.tagsNameFilter$=this.tagsFilterControl.valueChanges.pipe((0,bs.b)(300),(0,Zr.x)()),this.tagsFilters$=(0,Wo.a)([this.tagsNameFilter$.pipe((0,rs.O)("")),this.filtersForm.controls.template.valueChanges.pipe((0,rs.O)(this.filtersForm.controls.template.value))]).pipe((0,gt.U)(([d,T])=>[d,!1])),this.tagsList$=_.aN.ofWithFilter(this.tagsFilters$,this.api.getTaskTags.bind(this.api),"taskTagId",this.rt.taskTagCreated(),this.rt.taskTagUpdated(),this.rt.taskTagDeleted()).pipe((0,R.w)(d=>{var T;return this.api.getCountIncomingTasksByWireframeIdByTags(null!==(T=this.filtersForm.controls.template.value)&&void 0!==T?T:[]).pipe((0,gt.U)(W=>(d.value.map(Ce=>(Ce.tasksCount=W[Ce.taskTagId]||0,Ce)),d)))})),this.taskPage$=_.aN.ofPageAltAll(this.filters$,this.api.getIncomingTasks.bind(this.api),[this.rt.taskCreated(),this.rt.taskUpdated(),this.rt.taskDeleted()]).pipe((0,un.d)(1)),this.stageList$.subscribe(d=>this.stageList=[...d]),this.tagsList$.subscribe(d=>this.tagsList=[...d.value]),this.searchPhrase.valueChanges.pipe((0,bs.b)(1e3),(0,l.h)(d=>null===d||0===d.length)).subscribe(()=>this.pageControl.setValue(0)),this.personality.userLogin$.subscribe(d=>{this.rt.incomingTaskCountChange(d).pipe((0,l.h)(T=>this.isSelectOneTemplate&&T.id===this.firstWireframeId)).subscribe(T=>{this.stageList.forEach(Ce=>{const qe=T.stages.find(Xe=>Ce.value===Xe.id);Ce.tasksCount=qe?qe.num:0});const W=this.stageList.find(Ce=>null===Ce.value);W&&(W.tasksCount=T.stages.reduce((Ce,qe)=>Ce+qe.num,0))}),this.rt.incomingTagTaskCountChange(d).subscribe(T=>{this.tagsList.forEach(W=>{var Ce;const qe=T[W.taskTagId];if(qe){let Xe=0;null===(Ce=this.filtersForm.value.template)||void 0===Ce||Ce.forEach($t=>{qe[$t]&&(Xe+=qe[$t])}),W.tasksCount=Xe}else W.tasksCount=0})})})}get tagsListNames(){return this.tagsList.map(t=>t.name)}get isSelectOneTemplate(){var t;return 1===(null===(t=this.filtersForm.controls.template.value)||void 0===t?void 0:t.length)}get firstWireframeId(){return this.filtersForm.controls.template.value?this.filtersForm.controls.template.value[0]:0}saveScrollPos(t){this.scrollPos=t}readScrollPos(){return this.scrollPos}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(L.s),e.LFG(de.U),e.LFG(J.F))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PP(n,o){1&n&&e.GkF(0)}function LP(n,o){if(1&n&&(e.TgZ(0,"div",18)(1,"div",19),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.label," "),e.xp6(2),e.hij(" ",t.tasksCount," ")}}function RP(n,o){if(1&n&&(e.TgZ(0,"div",12)(1,"label"),e._uU(2,"\u0422\u0438\u043f"),e.qZA(),e.TgZ(3,"p-listbox",17),e.YNc(4,LP,5,2,"ng-template",15),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("options",t.ic.stageList)}}function NP(n,o){if(1&n&&e._UZ(0,"input",20),2&n){const t=e.oxw();e.Q6J("formControl",t.ic.tagsFilterControl)}}function FP(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"app-colored-tag",22),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("color",t.color)("caption",t.tasksCount)}}function BP(n,o){if(1&n&&(e.TgZ(0,"span",18)(1,"div",19),e._uU(2),e.qZA(),e.YNc(3,FP,2,2,"ng-container",21),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Udp("color",t.color),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.tasksCount)}}function ZP(n,o){if(1&n&&e._UZ(0,"app-task-list-element",32),2&n){const t=o.$implicit;e.Q6J("isCommentInput",!0)("item",t)}}const UP=function(){return{flex:"1",minHeight:"2rem"}},HP=function(){return{bottom:"1rem"}};function VP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",27),e.YNc(2,ZP,1,2,"app-task-list-element",28),e.qZA(),e._UZ(3,"div"),e.TgZ(4,"div",29)(5,"p-paginator",30,31),e.NdJ("onPageChange",function(s){e.CHM(t);const d=e.oxw(3);return e.KtG(d.ic.pageControl.setValue(s.page))}),e.qZA()()()}if(2&n){const t=e.oxw().ngIf,i=e.oxw(2);let s,d,T;e.xp6(2),e.Q6J("ngForOf",t.value)("ngForTrackBy",i.taskTrack),e.xp6(1),e.Akn(e.DdM(11,UP)),e.xp6(1),e.Akn(e.DdM(12,HP)),e.xp6(1),e.Q6J("alwaysShow",!0)("rows",null!==(s=i.ic.filtersForm.value.limit)&&void 0!==s?s:1)("showCurrentPageReport",!0)("totalRecords",null!==(d=null==t?null:t.totalElements)&&void 0!==d?d:0)("first",(null!==(T=i.ic.filtersForm.value.limit)&&void 0!==T?T:1)*(null!==(T=i.ic.pageControl.value)&&void 0!==T?T:0))}}function zP(n,o){1&n&&(e.TgZ(0,"div",33),e._UZ(1,"p-progressSpinner",34),e.qZA())}function JP(n,o){1&n&&(e.TgZ(0,"div",33)(1,"span",35),e._UZ(2,"span",36),e.TgZ(3,"span"),e._uU(4," \u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u0437\u0430\u0434\u0430\u0447 \u043d\u0435\u0442 "),e.qZA()()())}function QP(n,o){if(1&n&&(e.ynx(0)(1,23),e.YNc(2,VP,7,13,"div",24),e.YNc(3,zP,2,0,"div",25),e.YNc(4,JP,5,0,"div",25),e.BQk()()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function GP(n,o){if(1&n&&(e.YNc(0,QP,5,4,"ng-container",21),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.ic.taskPage$))}}let WP=(()=>{class n{constructor(t,i,s,d){this.api=t,this.rt=i,this.personality=s,this.ic=d}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}taskTrack(t,i){return i.taskId}isNewDate(t,i){if(0===i)return!0;const s=t[i-1],d=t[i];if(!s||!d)return!1;const T=new Date(s.created);T.setHours(0,0,0,0);const W=new Date(d.created);return W.setHours(0,0,0,0),T.getTime()>W.getTime()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(J.F),e.Y36(OP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:22,vars:7,consts:[["appExtendPageHeight","",1,"flex","px-3","gap-3"],[1,"flex","flex-grow-1","gap-3"],[4,"ngTemplateOutlet"],[1,"flex","flex-column","gap-3","h-fit","sticky-type-selector","px-2","pb-3",3,"formGroup"],[1,"flex","flex-column","bg-white","shadow-1","border-round","p-3","gap-2"],[1,"text-bluegray-400","text-lg","font-bold"],[1,"p-inputgroup"],["type","text","pInputText","","placeholder","\u0417\u0430\u043f\u0440\u043e\u0441...",3,"formControl","keydown.enter"],["type","button","pButton","","pRipple","","icon","mdi-search",3,"click"],["formControlName","template"],[1,"shadow-1","p-3","border-round-md","flex","flex-column","bg-white","gap-2"],["class","input-label-wrapper",4,"ngIf"],[1,"input-label-wrapper"],["formControlName","tags","optionValue","taskTagId","listStyleClass","max-h-20rem",3,"options","multiple","checkbox"],["pTemplate","filter"],["pTemplate","item"],["taskList",""],["formControlName","stage","listStyleClass","max-h-20rem",3,"options"],[1,"flex","align-items-center","w-full","justify-content-between","gap-1"],["appTicker","",1,"max-w-10rem","white-space-nowrap","overflow-hidden"],["type","text","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a",3,"formControl"],[4,"ngIf"],[3,"color","caption"],[3,"ngSwitch"],["class","flex flex-column flex-grow-1",4,"ngSwitchCase"],["class","flexed column stretched hcenter vcenter self-center",4,"ngSwitchCase"],[1,"flex","flex-column","flex-grow-1"],[1,"flex","flex-column","shadow-1","border-round-md","overflow-hidden","bg-bluegray-100","gap-1","h-fit"],[3,"isCommentInput","item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"sticky"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447","styleClass","panel",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","first","onPageChange"],["paginator",""],[3,"isCommentInput","item"],[1,"flexed","column","stretched","hcenter","vcenter","self-center"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"caption","size-big","wt-bold","f-color-500","flexed","column","hcenter","vcenter"],[1,"mds-inbox"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-main-menu-panel"),e.TgZ(2,"div",1),e.YNc(3,PP,1,0,"ng-container",2),e.TgZ(4,"div",3)(5,"div",4)(6,"span",5),e._uU(7,"\u041f\u043e\u0438\u0441\u043a \u0437\u0430\u0434\u0430\u0447"),e.qZA(),e.TgZ(8,"div",6)(9,"input",7),e.NdJ("keydown.enter",function(){return i.ic.pageControl.setValue(0)}),e.qZA(),e.TgZ(10,"button",8),e.NdJ("click",function(){return i.ic.pageControl.setValue(0)}),e.qZA()()(),e._UZ(11,"app-task-template-multi-selector",9),e.TgZ(12,"div",10),e.YNc(13,RP,5,1,"div",11),e.TgZ(14,"div",12)(15,"label"),e._uU(16,"\u0422\u0435\u0433\u0438"),e.qZA(),e.TgZ(17,"p-listbox",13),e.YNc(18,NP,1,1,"ng-template",14),e.YNc(19,BP,4,4,"ng-template",15),e.qZA()()()()()(),e.YNc(20,GP,2,3,"ng-template",null,16,e.W1O)),2&t){const s=e.MAs(21);e.xp6(3),e.Q6J("ngTemplateOutlet",s),e.xp6(1),e.Q6J("formGroup",i.ic.filtersForm),e.xp6(5),e.Q6J("formControl",i.ic.searchPhrase),e.xp6(4),e.Q6J("ngIf",i.ic.stageList.length>1&&i.ic.isSelectOneTemplate),e.xp6(4),e.Q6J("options",i.ic.tagsList)("multiple",!0)("checkbox",!0)}}}),n})();const YP=["*"],jP=["rootEl"],Xg=function(n){return{$implicit:n}};function KP(n,o){if(1&n&&(e.TgZ(0,"div",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Xg,t.renderProps))}}function qP(n,o){if(1&n&&(e.TgZ(0,"span",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Xg,t.renderProps))}}function $P(n,o){if(1&n&&(e.TgZ(0,"a",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Xg,t.renderProps))}}function XP(n,o){if(1&n&&(e.TgZ(0,"tr",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Xg,t.renderProps))}}function e6(n,o){if(1&n&&(e.TgZ(0,"th",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Xg,t.renderProps))}}function t6(n,o){if(1&n&&(e.TgZ(0,"td",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Xg,t.renderProps))}}const n6=["dayHeaderContent"],o6=["dayCellContent"],s6=["weekNumberContent"],r6=["nowIndicatorContent"],a6=["eventContent"],l6=["slotLaneContent"],c6=["slotLabelContent"],u6=["allDayContent"],d6=["moreLinkContent"],p6=["noEventsContent"],h6=["resourceAreaHeaderContent"],g6=["resourceGroupLabelContent"],m6=["resourceLabelContent"],f6=["resourceLaneContent"],_6=["resourceGroupLaneContent"];function C6(n,o){if(1&n&&e._UZ(0,"transport-container",1),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("inPlaceOf",t.containerEl)("reportEl",t.reportNewContainerEl)("elTag",t.elTag)("elClasses",t.elClasses)("elStyle",t.elStyle)("elAttrs",t.elAttrs)("template",i.templateMap[t.generatorName])("renderProps",t.renderProps)}}const vA={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},v6=["events","eventSources","resources"],b6=Object.prototype.hasOwnProperty;function ob(n){return Array.isArray(n)?n.map(ob):n instanceof Date?new Date(n.valueOf()):"object"==typeof n&&n?bA(n,ob):n}function bA(n,o){const t={};for(const i in n)b6.call(n,i)&&(t[i]=o(n[i],i));return t}function $x(n,o){if(n===o)return!0;if(n&&o&&"object"==typeof n&&"object"==typeof o){if(n.constructor!==o.constructor)return!1;var t,i,s;if(Array.isArray(n)){if((t=n.length)!=o.length)return!1;for(i=t;0!=i--;)if(!$x(n[i],o[i]))return!1;return!0}if(n.constructor===RegExp)return n.source===o.source&&n.flags===o.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===o.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===o.toString();if((t=(s=Object.keys(n)).length)!==Object.keys(o).length)return!1;for(i=t;0!=i--;)if(!Object.prototype.hasOwnProperty.call(o,s[i]))return!1;for(i=t;0!=i--;){var d=s[i];if(!$x(n[d],o[d]))return!1}return!0}return n!=n&&o!=o}const yA=document.createDocumentFragment();let y6=(()=>{class n{constructor(t){this.element=t}ngAfterViewInit(){yA.appendChild(this.element.nativeElement)}ngOnDestroy(){yA.removeChild(this.element.nativeElement)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["offscreen-fragment"]],ngContentSelectors:YP,decls:1,vars:0,template:function(t,i){1&t&&(e.F$t(),e.Hsn(0))},encapsulation:2}),n})();const sb=document.createDocumentFragment();let x6=(()=>{class n{ngAfterViewInit(){var t;const i=null===(t=this.rootElRef)||void 0===t?void 0:t.nativeElement;xA(i,this.inPlaceOf),Xx(i,void 0,this.elAttrs),this.inPlaceOf.style.display="none",this.reportEl(i)}ngOnChanges(t){var i;const s=null===(i=this.rootElRef)||void 0===i?void 0:i.nativeElement;if(s)if(this.inPlaceOf.parentNode!==sb)xA(s,this.inPlaceOf),Xx(s,void 0,this.elAttrs),this.reportEl(s);else{const d=t.elAttrs;d&&Xx(s,d.previousValue,d.currentValue)}}ngOnDestroy(){this.inPlaceOf.parentNode===sb&&sb.removeChild(this.inPlaceOf),this.reportEl(null)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["transport-container"]],viewQuery:function(t,i){if(1&t&&e.Gf(jP,5),2&t){let s;e.iGM(s=e.CRH())&&(i.rootElRef=s.first)}},inputs:{inPlaceOf:"inPlaceOf",reportEl:"reportEl",elTag:"elTag",elClasses:"elClasses",elStyle:"elStyle",elAttrs:"elAttrs",template:"template",renderProps:"renderProps"},features:[e.TTD],decls:6,vars:6,consts:[[3,"ngIf"],[3,"ngClass","ngStyle"],["rootEl",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(e.YNc(0,KP,3,6,"ng-template",0),e.YNc(1,qP,3,6,"ng-template",0),e.YNc(2,$P,3,6,"ng-template",0),e.YNc(3,XP,3,6,"ng-template",0),e.YNc(4,e6,3,6,"ng-template",0),e.YNc(5,t6,3,6,"ng-template",0)),2&t&&(e.Q6J("ngIf","div"==i.elTag),e.xp6(1),e.Q6J("ngIf","span"==i.elTag),e.xp6(1),e.Q6J("ngIf","a"==i.elTag),e.xp6(1),e.Q6J("ngIf","tr"==i.elTag),e.xp6(1),e.Q6J("ngIf","th"==i.elTag),e.xp6(1),e.Q6J("ngIf","td"==i.elTag))},dependencies:[k.O5,k.mk,k.PC,k.tP],encapsulation:2}),n})();function xA(n,o){var t;null===(t=o.parentNode)||void 0===t||t.insertBefore(n,o.nextSibling),sb.appendChild(o)}function Xx(n,o={},t={}){for(const i in o)i in t||(n[i]=null);for(const i in t)n[i]=t[i]}let I6=(()=>{class n{constructor(t,i){this.element=t,this.calendar=null,this.optionSnapshot={},this.customRenderingMap=new Map,this.templateMap={};const s=new yl;s.subscribe(d=>{this.customRenderingMap=d,this.customRenderingArray=void 0,i.detectChanges()}),this.handleCustomRendering=s.handle.bind(s),this.templateMap=this}ngAfterViewInit(){const{deepChangeDetection:t}=this,i=Object.assign(Object.assign({},this.options),this.buildInputOptions());this.optionSnapshot=bA(i,(W,Ce)=>t&&vA[Ce]?ob(W):W);const s=this.element.nativeElement,d=this.calendar=new Py(s,Object.assign(Object.assign({},i),this.buildExtraOptions())),T=s.closest("ion-content");T&&T.componentOnReady?T.componentOnReady().then(()=>{window.requestAnimationFrame(()=>{d.render()})}):d.render()}ngDoCheck(){if(this.calendar){const{deepChangeDetection:t,optionSnapshot:i}=this,s=Object.assign(Object.assign({},this.options),this.buildInputOptions()),d={},T=[];for(const Ce in s)if(s.hasOwnProperty(Ce)){let qe=s[Ce];t&&vA[Ce]?$x(i[Ce],qe)||(i[Ce]=ob(qe),T.push(Ce)):i[Ce]!==qe&&(i[Ce]=qe,T.push(Ce)),d[Ce]=qe}const W=Object.keys(i);for(const Ce of W)Ce in s||(delete i[Ce],T.push(Ce));T.length&&(this.calendar.pauseRendering(),this.calendar.resetOptions(Object.assign(Object.assign({},d),this.buildExtraOptions()),T))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}get customRenderings(){return this.customRenderingArray||(this.customRenderingArray=[...this.customRenderingMap.values()])}getApi(){return this.calendar}buildInputOptions(){const t={};for(const i of v6){const s=this[i];null!=s&&(t[i]=s)}return t}buildExtraOptions(){return{handleCustomRendering:this.handleCustomRendering,customRenderingMetaMap:this.templateMap,customRenderingReplacesEl:!0}}trackCustomRendering(t,i){return i.id}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["full-calendar"]],contentQueries:function(t,i,s){if(1&t&&(e.Suo(s,n6,7),e.Suo(s,o6,7),e.Suo(s,s6,7),e.Suo(s,r6,7),e.Suo(s,a6,7),e.Suo(s,l6,7),e.Suo(s,c6,7),e.Suo(s,u6,7),e.Suo(s,d6,7),e.Suo(s,p6,7),e.Suo(s,h6,7),e.Suo(s,g6,7),e.Suo(s,m6,7),e.Suo(s,f6,7),e.Suo(s,_6,7)),2&t){let d;e.iGM(d=e.CRH())&&(i.dayHeaderContent=d.first),e.iGM(d=e.CRH())&&(i.dayCellContent=d.first),e.iGM(d=e.CRH())&&(i.weekNumberContent=d.first),e.iGM(d=e.CRH())&&(i.nowIndicatorContent=d.first),e.iGM(d=e.CRH())&&(i.eventContent=d.first),e.iGM(d=e.CRH())&&(i.slotLaneContent=d.first),e.iGM(d=e.CRH())&&(i.slotLabelContent=d.first),e.iGM(d=e.CRH())&&(i.allDayContent=d.first),e.iGM(d=e.CRH())&&(i.moreLinkContent=d.first),e.iGM(d=e.CRH())&&(i.noEventsContent=d.first),e.iGM(d=e.CRH())&&(i.resourceAreaHeaderContent=d.first),e.iGM(d=e.CRH())&&(i.resourceGroupLabelContent=d.first),e.iGM(d=e.CRH())&&(i.resourceLabelContent=d.first),e.iGM(d=e.CRH())&&(i.resourceLaneContent=d.first),e.iGM(d=e.CRH())&&(i.resourceGroupLaneContent=d.first)}},inputs:{options:"options",deepChangeDetection:"deepChangeDetection",events:"events",eventSources:"eventSources",resources:"resources"},decls:2,vars:2,consts:[[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps",4,"ngFor","ngForOf","ngForTrackBy"],[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps"]],template:function(t,i){1&t&&(e.TgZ(0,"offscreen-fragment"),e.YNc(1,C6,1,8,"transport-container",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.customRenderings)("ngForTrackBy",i.trackCustomRendering))},dependencies:[y6,x6,k.sg],encapsulation:2}),n})(),T6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[k.ez]]}),n})();var eI=b(330),A6=b(9618),rb=b(7658);let tL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[k.ez,Al.U,be.T,Ud.v,N.m8,Ud.v]}),n})();var El=b(8952),TA=b(4776),AA=b(4496),nL=b(9955);const iL=["inputtext"];function oL(n,o){1&n&&e.GkF(0)}function sL(n,o){if(1&n&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Oqu(i.field?i.resolveFieldData(t,i.field):t)}}function rL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",13),e.NdJ("click",function(s){e.CHM(t);const d=e.oxw().index,T=e.oxw();return e.KtG(T.removeItem(s,d))}),e.qZA()}}const aL=function(n){return{$implicit:n}};function lL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",7,8),e.NdJ("click",function(s){const T=e.CHM(t).$implicit,W=e.oxw();return e.KtG(W.onItemClick(s,T))}),e.YNc(2,oL,1,0,"ng-container",9),e.YNc(3,sL,2,1,"span",10),e.YNc(4,rL,1,0,"span",11),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",e.VKq(4,aL,t)),e.xp6(1),e.Q6J("ngIf",!i.itemTemplate),e.xp6(1),e.Q6J("ngIf",!i.disabled)}}function cL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"i",14),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.clear())}),e.qZA()}}const uL=function(n,o){return{"p-inputtext p-chips-multiple-container":!0,"p-focus":n,"p-disabled":o}},dL=function(n){return{"p-chips-clearable":n}},pL={provide:g.JU,useExisting:(0,e.Gpc)(()=>wA),multi:!0};let wA=(()=>{class n{constructor(t,i){this.el=t,this.cd=i,this.allowDuplicate=!0,this.showClear=!1,this.onAdd=new e.vpe,this.onRemove=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onChipClick=new e.vpe,this.onClear=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(t=>{t.getType(),this.itemTemplate=t.template}),this.updateFilledState()}onClick(){this.inputViewChild.nativeElement.focus()}onInput(){this.updateFilledState()}onPaste(t){this.disabled||(this.separator&&((t.clipboardData||window.clipboardData).getData("Text").split(this.separator).forEach(s=>{this.addItem(t,s,!0)}),this.inputViewChild.nativeElement.value=""),this.updateFilledState())}updateFilledState(){this.filled=!(!this.value||0===this.value.length)||this.inputViewChild&&this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}onItemClick(t,i){this.onChipClick.emit({originalEvent:t,value:i})}writeValue(t){this.value=t,this.updateMaxedOut(),this.updateFilledState(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}resolveFieldData(t,i){if(t&&i){if(-1==i.indexOf("."))return t[i];{let T=i.split("."),W=t;for(var s=0,d=T.length;s<d;++s)W=W[T[s]];return W}}return null}onInputFocus(t){this.focus=!0,this.onFocus.emit(t)}onInputBlur(t){this.focus=!1,this.addOnBlur&&this.inputViewChild.nativeElement.value&&this.addItem(t,this.inputViewChild.nativeElement.value,!1),this.onModelTouched(),this.onBlur.emit(t)}removeItem(t,i){if(this.disabled)return;let s=this.value[i];this.value=this.value.filter((d,T)=>T!=i),this.onModelChange(this.value),this.onRemove.emit({originalEvent:t,value:s}),this.updateFilledState(),this.updateMaxedOut()}addItem(t,i,s){this.value=this.value||[],i&&i.trim().length&&(this.allowDuplicate||-1===this.value.indexOf(i))&&(this.value=[...this.value,i],this.onModelChange(this.value),this.onAdd.emit({originalEvent:t,value:i})),this.updateFilledState(),this.updateMaxedOut(),this.inputViewChild.nativeElement.value="",s&&t.preventDefault()}clear(){this.value=null,this.updateFilledState(),this.onModelChange(this.value),this.onClear.emit()}onKeydown(t){switch(t.which){case 8:if(0===this.inputViewChild.nativeElement.value.length&&this.value&&this.value.length>0){this.value=[...this.value];let i=this.value.pop();this.onModelChange(this.value),this.onRemove.emit({originalEvent:t,value:i}),this.updateFilledState()}break;case 13:this.addItem(t,this.inputViewChild.nativeElement.value,!0);break;case 9:this.addOnTab&&""!==this.inputViewChild.nativeElement.value&&this.addItem(t,this.inputViewChild.nativeElement.value,!0);break;default:this.max&&this.value&&this.max===this.value.length?t.preventDefault():this.separator&&(this.separator===t.key||t.key.match(this.separator))&&this.addItem(t,this.inputViewChild.nativeElement.value,!0)}}updateMaxedOut(){this.inputViewChild&&this.inputViewChild.nativeElement&&(this.max&&this.value&&this.max===this.value.length?(this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=!0):(this.disabled&&this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=this.disabled||!1))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-chips"]],contentQueries:function(t,i,s){if(1&t&&e.Suo(s,N.jx,4),2&t){let d;e.iGM(d=e.CRH())&&(i.templates=d)}},viewQuery:function(t,i){if(1&t&&e.Gf(iL,5),2&t){let s;e.iGM(s=e.CRH())&&(i.inputViewChild=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(t,i){2&t&&e.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus)("p-chips-clearable",i.showClear)},inputs:{style:"style",styleClass:"styleClass",disabled:"disabled",field:"field",placeholder:"placeholder",max:"max",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",allowDuplicate:"allowDuplicate",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",addOnTab:"addOnTab",addOnBlur:"addOnBlur",separator:"separator",showClear:"showClear"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onFocus:"onFocus",onBlur:"onBlur",onChipClick:"onChipClick",onClear:"onClear"},features:[e._Bn([pL])],decls:8,vars:21,consts:[[3,"ngClass","ngStyle","click"],[3,"ngClass"],["class","p-chips-token",3,"click",4,"ngFor","ngForOf"],[1,"p-chips-input-token",3,"ngClass"],["type","text",3,"disabled","ngStyle","keydown","input","paste","focus","blur"],["inputtext",""],["class","p-chips-clear-icon pi pi-times",3,"click",4,"ngIf"],[1,"p-chips-token",3,"click"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-chips-token-label",4,"ngIf"],["class","p-chips-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-chips-token-label"],[1,"p-chips-token-icon","pi","pi-times-circle",3,"click"],[1,"p-chips-clear-icon","pi","pi-times",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return i.onClick()}),e.TgZ(1,"ul",1),e.YNc(2,lL,5,6,"li",2),e.TgZ(3,"li",3)(4,"input",4,5),e.NdJ("keydown",function(d){return i.onKeydown(d)})("input",function(){return i.onInput()})("paste",function(d){return i.onPaste(d)})("focus",function(d){return i.onInputFocus(d)})("blur",function(d){return i.onInputBlur(d)}),e.qZA()(),e.TgZ(6,"li"),e.YNc(7,cL,1,0,"i",6),e.qZA()()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass","p-chips p-component")("ngStyle",i.style),e.xp6(1),e.Q6J("ngClass",e.WLB(16,uL,i.focus,i.disabled)),e.xp6(1),e.Q6J("ngForOf",i.value),e.xp6(1),e.Q6J("ngClass",e.VKq(19,dL,i.showClear&&!i.disabled)),e.xp6(1),e.Tol(i.inputStyleClass),e.Q6J("disabled",i.disabled)("ngStyle",i.inputStyle),e.uIk("id",i.inputId)("placeholder",i.value&&i.value.length?null:i.placeholder)("tabindex",i.tabindex)("aria-labelledby",i.ariaLabelledBy),e.xp6(3),e.Q6J("ngIf",null!=i.value&&i.filled&&!i.disabled&&i.showClear))},dependencies:[k.mk,k.sg,k.O5,k.tP,k.PC],styles:[".p-chips{display:inline-flex}.p-chips-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-chips-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto;max-width:100%}.p-chips-token-label{min-width:0%;overflow:auto}.p-chips-token-label::-webkit-scrollbar{display:none}.p-chips-input-token{flex:1 1 auto;display:inline-flex}.p-chips-token-icon{cursor:pointer}.p-chips-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-chips{display:flex}.p-chips-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-chips-clearable .p-inputtext{position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),hL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[k.ez,bi.j,N.m8,bi.j,N.m8]}),n})();var EA=b(2537),gL=b(5032);const SA=new jc.y(gL.Z);var tI=b(2076),mL=b(2843);const fL=["container"];class kA{constructor(o){this.ngZone=o,this.pending=[],this.listeners=[],this.targetStream=new Wa.X(void 0)}getLazyEmitter(o){return this.targetStream.pipe((0,R.w)(t=>{const i=new jc.y(s=>{if(!t)return void this.pending.push({observable:i,observer:s});const d=W=>{const Ce={event:W,target:t,ymaps};this.ngZone.run(()=>s.next(Ce))},T=t.events.add(o,d);return this.listeners.push({name:o,callback:d,manager:T}),()=>T.remove(o,d)});return i}))}setTarget(o){const t=this.targetStream.value;o!==t&&(t&&(this.clearListeners(),this.pending=[]),this.targetStream.next(o),this.pending.forEach(i=>i.observable.subscribe(i.observer)),this.pending=[])}destroy(){this.clearListeners(),this.pending=[],this.targetStream.complete()}clearListeners(){this.listeners.forEach(o=>{const{name:t,callback:i,manager:s}=o;s.remove(t,i)}),this.listeners=[]}}const DA=new e.OlP("YA_CONFIG");let CL=(()=>{class n{constructor(t,i,s){this.document=i,this.isBrowser=(0,k.NF)(s),this.config=Object.assign(Object.assign({},{lang:"ru_RU"}),t)}load(){if(!this.isBrowser)return SA;if(window.ymaps)return(0,tI.D)(ymaps.ready()).pipe((0,gt.U)(()=>ymaps));if(!this.script){const s=this.document.createElement("script");s.type="text/javascript",s.src=this.getScriptSource(this.config),s.id="yandexMapsApiScript",s.async=!0,s.defer=!0,this.script=this.document.body.appendChild(s)}const t=(0,y.R)(this.script,"load").pipe((0,R.w)(()=>(0,tI.D)(ymaps.ready())),(0,gt.U)(()=>ymaps)),i=(0,y.R)(this.script,"error").pipe((0,R.w)(mL._));return(0,qi.T)(t,i).pipe((0,eb.q)(1))}getScriptSource(t){const{enterprise:i,version:s="2.1"}=t,d=(0,rl._T)(t,["enterprise","version"]);return`https://${i?"enterprise.":""}api-maps.yandex.ru/${s}/?${this.convertConfigIntoQueryParams(d)}`}convertConfigIntoQueryParams(t){return Object.entries(t).map(([i,s])=>`${i}=${s}`).join("&")}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(DA,8),e.LFG(k.K0),e.LFG(e.Lbi))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MA=(()=>{class n{constructor(t,i){this.ngZone=t,this.yaApiLoaderService=i,this.destroy$=new wr.x,this.eventManager=new kA(this.ngZone),this.map$=new Wa.X(null),this.ready=new e.vpe,this.actionbegin=this.eventManager.getLazyEmitter("actionbegin"),this.actionbreak=this.eventManager.getLazyEmitter("actionbreak"),this.actionend=this.eventManager.getLazyEmitter("actionend"),this.actiontick=this.eventManager.getLazyEmitter("actiontick"),this.actiontickcomplete=this.eventManager.getLazyEmitter("actiontickcomplete"),this.balloonclose=this.eventManager.getLazyEmitter("balloonclose"),this.balloonopen=this.eventManager.getLazyEmitter("balloonopen"),this.boundschange=this.eventManager.getLazyEmitter("boundschange"),this.yaclick=this.eventManager.getLazyEmitter("click"),this.yacontextmenu=this.eventManager.getLazyEmitter("contextmenu"),this.yadblclick=this.eventManager.getLazyEmitter("dblclick"),this.destroy=this.eventManager.getLazyEmitter("destroy"),this.hintclose=this.eventManager.getLazyEmitter("hintclose"),this.hintopen=this.eventManager.getLazyEmitter("hintopen"),this.marginchange=this.eventManager.getLazyEmitter("marginchange"),this.yamousedown=this.eventManager.getLazyEmitter("mousedown"),this.yamouseenter=this.eventManager.getLazyEmitter("mouseenter"),this.yamouseleave=this.eventManager.getLazyEmitter("mouseleave"),this.yamousemove=this.eventManager.getLazyEmitter("mousemove"),this.yamouseup=this.eventManager.getLazyEmitter("mouseup"),this.multitouchend=this.eventManager.getLazyEmitter("multitouchend"),this.multitouchmove=this.eventManager.getLazyEmitter("multitouchmove"),this.multitouchstart=this.eventManager.getLazyEmitter("multitouchstart"),this.optionschange=this.eventManager.getLazyEmitter("optionschange"),this.sizechange=this.eventManager.getLazyEmitter("sizechange"),this.typechange=this.eventManager.getLazyEmitter("typechange"),this.yawheel=this.eventManager.getLazyEmitter("wheel")}ngOnChanges(t){const i=this.map$.value;if(i){const{center:s,zoom:d,state:T,options:W}=t;T&&this.setState(this.combineState(),i),s&&i.setCenter(s.currentValue),d&&i.setZoom(d.currentValue),W&&i.options.set(W.currentValue)}}ngAfterViewInit(){this.yaApiLoaderService.load().pipe((0,eb.q)(1),(0,X1.R)(this.destroy$)).subscribe(()=>{const t=`f${Date.now().toString(16)}`,i=this.createMap(t);this.map$.next(i),this.eventManager.setTarget(i),this.ngZone.run(()=>this.ready.emit({ymaps,target:i}))})}ngOnDestroy(){this.eventManager.destroy(),this.destroy$.next(),this.destroy$.complete()}setState(t,i){const{behaviors:s,bounds:d,center:T,controls:W,margin:Ce,type:qe,zoom:Xe}=t;s&&i.behaviors.enable(s),d&&i.setBounds(d),T&&i.setCenter(T),W&&W.forEach($t=>i.controls.add($t)),Ce&&i.margin.setDefaultMargin(Ce),qe&&i.setType(qe),Xe&&i.setZoom(Xe)}createMap(t){const i=this.container.nativeElement;return i.setAttribute("id",t),i.style.cssText="width: 100%; height: 100%;",new ymaps.Map(t,this.combineState(),this.options||{})}combineState(){var t,i;const s=this.state||{};return Object.assign(Object.assign({},s),{center:this.center||s.center||[0,0],zoom:null!==(i=null!==(t=this.zoom)&&void 0!==t?t:s.zoom)&&void 0!==i?i:10})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.R0b),e.Y36(CL))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ya-map"]],viewQuery:function(t,i){if(1&t&&e.Gf(fL,5),2&t){let s;e.iGM(s=e.CRH())&&(i.container=s.first)}},inputs:{center:"center",zoom:"zoom",state:"state",options:"options"},outputs:{ready:"ready",actionbegin:"actionbegin",actionbreak:"actionbreak",actionend:"actionend",actiontick:"actiontick",actiontickcomplete:"actiontickcomplete",balloonclose:"balloonclose",balloonopen:"balloonopen",boundschange:"boundschange",yaclick:"yaclick",yacontextmenu:"yacontextmenu",yadblclick:"yadblclick",destroy:"destroy",hintclose:"hintclose",hintopen:"hintopen",marginchange:"marginchange",yamousedown:"yamousedown",yamouseenter:"yamouseenter",yamouseleave:"yamouseleave",yamousemove:"yamousemove",yamouseup:"yamouseup",multitouchend:"multitouchend",multitouchmove:"multitouchmove",multitouchstart:"multitouchstart",optionschange:"optionschange",sizechange:"sizechange",typechange:"typechange",yawheel:"yawheel"},features:[e.TTD],decls:2,vars:0,consts:[["container",""]],template:function(t,i){1&t&&e._UZ(0,"div",null,0)},encapsulation:2,changeDetection:0}),n})(),vL=(()=>{class n{constructor(t,i){this.ngZone=t,this.yaMapComponent=i,this.destroy$=new wr.x,this.eventManager=new kA(this.ngZone),this.ready=new e.vpe,this.balloonclose=this.eventManager.getLazyEmitter("balloonclose"),this.balloonopen=this.eventManager.getLazyEmitter("balloonopen"),this.beforedrag=this.eventManager.getLazyEmitter("beforedrag"),this.beforedragstart=this.eventManager.getLazyEmitter("beforedragstart"),this.yaclick=this.eventManager.getLazyEmitter("click"),this.yacontextmenu=this.eventManager.getLazyEmitter("contextmenu"),this.yadblclick=this.eventManager.getLazyEmitter("dblclick"),this.yadrag=this.eventManager.getLazyEmitter("drag"),this.yadragend=this.eventManager.getLazyEmitter("dragend"),this.yadragstart=this.eventManager.getLazyEmitter("dragstart"),this.editorstatechange=this.eventManager.getLazyEmitter("editorstatechange"),this.geometrychange=this.eventManager.getLazyEmitter("geometrychange"),this.hintclose=this.eventManager.getLazyEmitter("hintclose"),this.hintopen=this.eventManager.getLazyEmitter("hintopen"),this.mapchange=this.eventManager.getLazyEmitter("mapchange"),this.yamousedown=this.eventManager.getLazyEmitter("mousedown"),this.yamouseenter=this.eventManager.getLazyEmitter("mouseenter"),this.yamouseleave=this.eventManager.getLazyEmitter("mouseleave"),this.yamousemove=this.eventManager.getLazyEmitter("mousemove"),this.yamouseup=this.eventManager.getLazyEmitter("mouseup"),this.multitouchend=this.eventManager.getLazyEmitter("multitouchend"),this.multitouchmove=this.eventManager.getLazyEmitter("multitouchmove"),this.multitouchstart=this.eventManager.getLazyEmitter("multitouchstart"),this.optionschange=this.eventManager.getLazyEmitter("optionschange"),this.overlaychange=this.eventManager.getLazyEmitter("overlaychange"),this.parentchange=this.eventManager.getLazyEmitter("parentchange"),this.propertieschange=this.eventManager.getLazyEmitter("propertieschange"),this.yawheel=this.eventManager.getLazyEmitter("wheel")}ngOnChanges(t){var i;const{placemark:s}=this;if(s){const{geometry:d,properties:T,options:W}=t;d&&(null===(i=s.geometry)||void 0===i||i.setCoordinates(d.currentValue)),T&&s.properties.set(T.currentValue),W&&s.options.set(W.currentValue)}}ngOnInit(){this.yaMapComponent.map$.pipe((0,l.h)(Boolean),(0,eb.q)(1),(0,X1.R)(this.destroy$)).subscribe(t=>{const i=this.createPlacemark();this.placemark=i,t.geoObjects.add(i),this.eventManager.setTarget(i),this.ngZone.run(()=>this.ready.emit({ymaps,target:i}))})}ngOnDestroy(){var t,i;this.placemark&&(null===(i=null===(t=this.yaMapComponent)||void 0===t?void 0:t.map$.value)||void 0===i||i.geoObjects.remove(this.placemark),this.eventManager.destroy()),this.destroy$.next(),this.destroy$.complete()}createPlacemark(){return new ymaps.Placemark(this.geometry,this.properties,this.options)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.R0b),e.Y36(MA))},n.\u0275dir=e.lG2({type:n,selectors:[["ya-placemark"]],inputs:{geometry:"geometry",properties:"properties",options:"options"},outputs:{ready:"ready",balloonclose:"balloonclose",balloonopen:"balloonopen",beforedrag:"beforedrag",beforedragstart:"beforedragstart",yaclick:"yaclick",yacontextmenu:"yacontextmenu",yadblclick:"yadblclick",yadrag:"yadrag",yadragend:"yadragend",yadragstart:"yadragstart",editorstatechange:"editorstatechange",geometrychange:"geometrychange",hintclose:"hintclose",hintopen:"hintopen",mapchange:"mapchange",yamousedown:"yamousedown",yamouseenter:"yamouseenter",yamouseleave:"yamouseleave",yamousemove:"yamousemove",yamouseup:"yamouseup",multitouchend:"multitouchend",multitouchmove:"multitouchmove",multitouchstart:"multitouchstart",optionschange:"optionschange",overlaychange:"overlaychange",parentchange:"parentchange",propertieschange:"propertieschange",yawheel:"yawheel"},features:[e.TTD]}),n})(),bL=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:DA,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var yL=b(6954),OA=b(7433);function xL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"img",6),e.NdJ("error",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.imageError(s))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("src",t.image,e.LSH)}}function IL(n,o){if(1&n&&e._UZ(0,"span",8),2&n){const t=e.oxw(3);e.Tol(t.icon),e.Q6J("ngClass","p-chip-icon")}}function TL(n,o){if(1&n&&e.YNc(0,IL,1,3,"span",7),2&n){const t=e.oxw(2);e.Q6J("ngIf",t.icon)}}function AL(n,o){if(1&n&&(e.TgZ(0,"div",9),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.label)}}function wL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",10),e.NdJ("click",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.close(s))})("keydown.enter",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.close(s))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Tol(t.removeIcon),e.Q6J("ngClass","pi-chip-remove-icon")}}function EL(n,o){if(1&n&&(e.TgZ(0,"div",1),e.Hsn(1),e.YNc(2,xL,1,1,"img",2),e.YNc(3,TL,1,1,"ng-template",null,3,e.W1O),e.YNc(5,AL,2,1,"div",4),e.YNc(6,wL,1,3,"span",5),e.qZA()),2&n){const t=e.MAs(4),i=e.oxw();e.Tol(i.styleClass),e.Q6J("ngClass",i.containerClass())("ngStyle",i.style),e.xp6(2),e.Q6J("ngIf",i.image)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",i.label),e.xp6(1),e.Q6J("ngIf",i.removable)}}const SL=["*"];let kL=(()=>{class n{constructor(){this.removeIcon="pi pi-times-circle",this.onRemove=new e.vpe,this.onImageError=new e.vpe,this.visible=!0}containerClass(){return{"p-chip p-component":!0,"p-chip-image":null!=this.image}}close(t){this.visible=!1,this.onRemove.emit(t)}imageError(t){this.onImageError.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-chip"]],hostAttrs:[1,"p-element"],inputs:{label:"label",icon:"icon",image:"image",style:"style",styleClass:"styleClass",removable:"removable",removeIcon:"removeIcon"},outputs:{onRemove:"onRemove",onImageError:"onImageError"},ngContentSelectors:SL,decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"],[3,"src","error",4,"ngIf","ngIfElse"],["iconTemplate",""],["class","p-chip-text",4,"ngIf"],["tabindex","0",3,"class","ngClass","click","keydown.enter",4,"ngIf"],[3,"src","error"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-chip-text"],["tabindex","0",3,"ngClass","click","keydown.enter"]],template:function(t,i){1&t&&(e.F$t(),e.YNc(0,EL,7,8,"div",0)),2&t&&e.Q6J("ngIf",i.visible)},dependencies:[k.mk,k.O5,k.PC],styles:[".p-chip{display:inline-flex;align-items:center}.p-chip-text,.p-chip-icon.pi{line-height:1.5}.pi-chip-remove-icon{line-height:1.5;cursor:pointer}.p-chip img{border-radius:50%}\n"],encapsulation:2,changeDetection:0}),n})(),DL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[k.ez]}),n})();var PA=b(7575),_r=b(5948),tm=b(1828);let LA=(()=>{class n{constructor(){this.chooserControl=new g.NI([]),this.options=[{name:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435",value:me.hY.ACTIVE},{name:"\u0423 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432",value:me.hY.PROCESSING},{name:"\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435",value:me.hY.CLOSE}],this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this.chooserControl.valueChanges.subscribe(t=>{this.onChange(t||[])})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?this.chooserControl.disable({emitEvent:!1}):this.chooserControl.enable({emitEvent:!1})}writeValue(t){this.chooserControl.setValue(t||[])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-status-chooser"]],features:[e._Bn([{provide:g.JU,multi:!0,useExisting:n}])],decls:1,vars:3,consts:[["optionLabel","name","optionValue","value",3,"options","formControl","multiple"]],template:function(t,i){1&t&&e._UZ(0,"p-selectButton",0),2&t&&e.Q6J("options",i.options)("formControl",i.chooserControl)("multiple",!0)},dependencies:[g.JJ,g.oH,j_.UN]}),n})();var RA=b(1886),ML=b(1004);function OL(n,o){if(1&n&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.label)}}function PL(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.label," ")}}const LL=function(){return[]};let RL=(()=>{class n{constructor(t){this.api=t,this.control=new g.NI([]),this.clientEquipmentSuggestion=new wr.x,this.clientEquipments$=this.clientEquipmentSuggestion.pipe((0,bs.b)(500),(0,Kl.z)(i=>i?this.api.getClientEquipmentsSuggestions(i):this.api.getClientEquipmentsSuggestions())),this.isDisabled=!1,this.changeIsDisabled=new e.vpe,this.onBlur=new e.vpe,this.onChange=i=>{},this.onTouched=()=>{}}ngOnInit(){this.changeValueSubscription=this.control.valueChanges.pipe((0,gt.U)(t=>t?t.map(i=>({equipmentRealization:parseInt(i.value)})):[])).subscribe(t=>this.onChange(t))}ngOnDestroy(){var t;null===(t=this.changeValueSubscription)||void 0===t||t.unsubscribe()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t}writeValue(t){this.api.getClientEquipmentsSuggestions().pipe((0,gt.U)(i=>t?t.map(s=>i.find(d=>parseInt(d.value)===s.equipmentRealization)).filter(s=>void 0!==s):[])).subscribe(i=>{this.control.setValue(i)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-equipments-field-filter"]],inputs:{isDisabled:"isDisabled"},outputs:{changeIsDisabled:"changeIsDisabled",onBlur:"onBlur"},features:[e._Bn([{provide:g.JU,multi:!0,useExisting:(0,e.Gpc)(()=>n)}])],decls:4,vars:7,consts:[["placeholder","\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435","styleClass","w-full block transparent-ac-token","inputStyleClass","w-10rem","appendTo","body",3,"suggestions","formControl","multiple","completeOnFocus","onBlur","completeMethod"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"px-2","py-1","bg-primary-50","text-primary-400","border-round-md","font-bold","text-xs"]],template:function(t,i){if(1&t&&(e.TgZ(0,"p-autoComplete",0),e.NdJ("onBlur",function(){return i.onTouched()})("completeMethod",function(d){return i.clientEquipmentSuggestion.next(d.query)}),e.ALo(1,"async"),e.YNc(2,OL,2,1,"ng-template",1),e.YNc(3,PL,2,1,"ng-template",2),e.qZA()),2&t){let s;e.Q6J("suggestions",null!==(s=e.lcZ(1,4,i.clientEquipments$))&&void 0!==s?s:e.DdM(6,LL))("formControl",i.control)("multiple",!0)("completeOnFocus",!0)}},dependencies:[g.JJ,N.jx,g.oH,F.Qc,k.Ov]}),n})();function NL(n,o){1&n&&e.GkF(0)}const FL=function(){return{label:"\u0414\u0430",value:!0}},BL=function(){return{label:"\u041d\u0435\u0442",value:!1}},ZL=function(){return{label:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",value:null}},UL=function(n,o,t){return[n,o,t]};function HL(n,o){if(1&n&&(e.TgZ(0,"div",5),e.YNc(1,NL,1,0,"ng-container",6),e._UZ(2,"p-dropdown",7),e.qZA()),2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t),e.xp6(1),e.Q6J("options",e.kEZ(5,UL,e.DdM(2,FL),e.DdM(3,BL),e.DdM(4,ZL)))}}function VL(n,o){1&n&&e.GkF(0)}function zL(n,o){if(1&n&&(e.TgZ(0,"div",5),e.YNc(1,VL,1,0,"ng-container",6),e._UZ(2,"input",8),e.qZA()),2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function JL(n,o){1&n&&e.GkF(0)}function QL(n,o){if(1&n&&(e.TgZ(0,"div",5),e.YNc(1,JL,1,0,"ng-container",6),e._UZ(2,"input",8),e.qZA()),2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function GL(n,o){1&n&&e.GkF(0)}function WL(n,o){if(1&n&&(e.TgZ(0,"div",5),e.YNc(1,GL,1,0,"ng-container",6),e._UZ(2,"p-inputNumber",9),e.qZA()),2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function YL(n,o){1&n&&e.GkF(0)}function jL(n,o){if(1&n&&(e.TgZ(0,"div",5),e.YNc(1,YL,1,0,"ng-container",6),e._UZ(2,"p-inputNumber",10),e.qZA()),2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t),e.xp6(1),e.Q6J("minFractionDigits",1)}}function KL(n,o){1&n&&e.GkF(0)}function qL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5),e.YNc(1,KL,1,0,"ng-container",6),e.TgZ(2,"app-address-input-alt",11),e.NdJ("onBlur",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onTouched())}),e.qZA()()}if(2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function $L(n,o){1&n&&e.GkF(0)}function XL(n,o){if(1&n&&(e.TgZ(0,"div",5),e.YNc(1,$L,1,0,"ng-container",6),e._UZ(2,"input",12),e.qZA()),2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function eR(n,o){1&n&&e.GkF(0)}const NA=function(){return[]};function tR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5),e.YNc(1,eR,1,0,"ng-container",6),e.TgZ(2,"p-dropdown",13),e.NdJ("onBlur",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onTouched())}),e.ALo(3,"async"),e.qZA()()}if(2&n){const t=e.oxw(2),i=e.MAs(2);let s;e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("options",null!==(s=e.lcZ(3,3,t.adSources$))&&void 0!==s?s:e.DdM(5,NA))("showClear",!0)}}function nR(n,o){1&n&&e.GkF(0)}function iR(n,o){if(1&n&&(e.TgZ(0,"div",5),e.YNc(1,nR,1,0,"ng-container",6),e._UZ(2,"input",12),e.qZA()),2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function oR(n,o){1&n&&e.GkF(0)}function sR(n,o){if(1&n&&(e.TgZ(0,"div",5),e.YNc(1,oR,1,0,"ng-container",6),e._UZ(2,"input",14),e.qZA()),2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function rR(n,o){1&n&&e.GkF(0)}function aR(n,o){if(1&n&&(e.TgZ(0,"div",5),e.YNc(1,rR,1,0,"ng-container",6),e._UZ(2,"app-equipments-field-filter",9),e.qZA()),2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function lR(n,o){1&n&&e.GkF(0)}function cR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5),e.YNc(1,lR,1,0,"ng-container",6),e.TgZ(2,"app-connection-services-input",11),e.NdJ("onBlur",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onTouched())}),e.qZA()()}if(2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function uR(n,o){1&n&&e.GkF(0)}function dR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5),e.YNc(1,uR,1,0,"ng-container",6),e.TgZ(2,"p-dropdown",15),e.NdJ("onBlur",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onTouched())}),e.ALo(3,"async"),e.qZA()()}if(2&n){const t=e.oxw(2),i=e.MAs(2);let s;e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("options",null!==(s=e.lcZ(3,3,t.connectionTypes$))&&void 0!==s?s:e.DdM(5,NA))("showClear",!0)}}function pR(n,o){1&n&&e.GkF(0)}function hR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5),e.YNc(1,pR,1,0,"ng-container",6),e.TgZ(2,"input",16),e.NdJ("blur",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onTouched())}),e.qZA()()}if(2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function gR(n,o){1&n&&e.GkF(0)}function mR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5),e.YNc(1,gR,1,0,"ng-container",6),e.TgZ(2,"input",17),e.NdJ("blur",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onTouched())}),e.qZA()()}if(2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function fR(n,o){1&n&&e._UZ(0,"div"),2&n&&e.Udp("background-color","red")}function _R(n,o){if(1&n&&(e.ynx(0,2),e.YNc(1,HL,3,9,"div",3),e.YNc(2,zL,3,1,"div",3),e.YNc(3,QL,3,1,"div",3),e.YNc(4,WL,3,1,"div",3),e.YNc(5,jL,3,2,"div",3),e.YNc(6,qL,3,1,"div",3),e.YNc(7,XL,3,1,"div",3),e.YNc(8,tR,4,6,"div",3),e.YNc(9,iR,3,1,"div",3),e.YNc(10,sR,3,1,"div",3),e.YNc(11,aR,3,1,"div",3),e.YNc(12,cR,3,1,"div",3),e.YNc(13,dR,4,6,"div",3),e.YNc(14,hR,3,1,"div",3),e.YNc(15,mR,3,1,"div",3),e.YNc(16,fR,1,2,"div",4),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.field.value.wireframeFieldType)("formGroup",t.field),e.xp6(1),e.Q6J("ngSwitchCase","BOOLEAN"),e.xp6(1),e.Q6J("ngSwitchCase","SMALL_TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","LARGE_TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","INTEGER"),e.xp6(1),e.Q6J("ngSwitchCase","FLOAT"),e.xp6(1),e.Q6J("ngSwitchCase","ADDRESS"),e.xp6(1),e.Q6J("ngSwitchCase","LOGIN"),e.xp6(1),e.Q6J("ngSwitchCase","AD_SOURCE"),e.xp6(1),e.Q6J("ngSwitchCase","REQUEST_INITIATOR"),e.xp6(1),e.Q6J("ngSwitchCase","IP"),e.xp6(1),e.Q6J("ngSwitchCase","EQUIPMENTS"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_SERVICES"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_TYPE"),e.xp6(1),e.Q6J("ngSwitchCase","PHONE_ARRAY"),e.xp6(1),e.Q6J("ngSwitchCase","COUNTING_LIVES")}}function CR(n,o){if(1&n&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.field?null:t.field.value.name," ")}}let vR=(()=>{class n{constructor(t){this.api=t,this.connectionTypes$=this.api.getConnectionTypesList(),this.adSources$=this.api.getAdSourcesList(),this.onChange=i=>{},this.onTouched=()=>{}}ngOnInit(){}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.controlValue=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-template-filter-input"]],inputs:{field:"field"},features:[e._Bn([{provide:g.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:3,vars:1,consts:[[3,"ngSwitch","formGroup",4,"ngIf"],["label",""],[3,"ngSwitch","formGroup"],["class","input-label-wrapper",4,"ngSwitchCase"],[3,"background-color",4,"ngSwitchDefault"],[1,"input-label-wrapper"],[4,"ngTemplateOutlet"],["formControlName","value",3,"options"],["formControlName","value","pInputText",""],["formControlName","value"],["formControlName","value",3,"minFractionDigits"],["formControlName","value",3,"onBlur"],["formControlName","value","appRegexPatternChecker","","pInputText","","patternRx","^[\\dA-z_]+$"],["placeholder","\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a","appendTo","body","formControlName","value",3,"options","showClear","onBlur"],["formControlName","value","appRegexPatternChecker","","pInputText","","patternRx","^[\\d\\.]+$"],["formControlName","value","placeholder","\u0422\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f","appendTo","body",3,"options","showClear","onBlur"],["formControlName","value","appRegexPatternChecker","","pInputText","","patternRx","^[1-9]\\d{0,10}$",3,"blur"],["formControlName","value","pInputText","",3,"blur"]],template:function(t,i){1&t&&(e.YNc(0,_R,17,17,"ng-container",0),e.YNc(1,CR,2,1,"ng-template",null,1,e.W1O)),2&t&&e.Q6J("ngIf",i.field)},dependencies:[k.O5,k.tP,k.RF,k.n9,k.ED,g.Fj,g.JJ,g.JL,Ke.Lt,Ra.Rn,bi.o,g.sg,g.u,RA.k,ML.a,RL,Ug.r,k.Ov]}),n})();const bR=function(n){return{disabled:n}};function yR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",8),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.selectAll())}),e._UZ(1,"i",9),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(1,bR,t.disabled))}}function xR(n,o){1&n&&e.GkF(0)}const IR=function(n){return{$implicit:n}};function TR(n,o){if(1&n&&(e.ynx(0),e.YNc(1,xR,1,0,"ng-container",11),e.BQk()),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,IR,t))}}function AR(n,o){if(1&n&&(e.ynx(0),e.YNc(1,TR,2,4,"ng-container",10),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.templates)("ngForTrackBy",t.templateTrack)}}function wR(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",12),e._UZ(2,"p-progressSpinner",13),e.qZA(),e.BQk())}function ER(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",12)(2,"div",14),e._UZ(3,"i",15),e.TgZ(4,"span"),e._uU(5," \u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 "),e.qZA()()(),e.BQk())}function SR(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",12)(2,"div",16),e._UZ(3,"i",17),e.TgZ(4,"span"),e._uU(5," \u0428\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u043d\u0435\u0442 "),e.qZA()()(),e.BQk())}function kR(n,o){if(1&n&&e._UZ(0,"app-colored-tag",23),2&n){const t=e.oxw().$implicit;e.Q6J("caption",t.countTask.toString())}}const DR=function(n,o,t){return{selected:n,"un-target":o,disabled:t}},MR=function(n,o,t){return{"mdi-radio_button_unchecked":n,"mdi-check_circle_outline":o,"mdi-close":t}};function OR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18),e.NdJ("click",function(){const d=e.CHM(t).$implicit,T=e.oxw();return e.KtG(T.uniselect(d.wireframeId))}),e.TgZ(1,"i",19),e.NdJ("click",function(s){const T=e.CHM(t).$implicit,W=e.oxw();return s.stopPropagation(),e.KtG(W.toggle(T.wireframeId))}),e.qZA(),e.TgZ(2,"span",20),e.NdJ("mouseenter",function(){const d=e.CHM(t).$implicit,T=e.oxw();return T.uniTargetMode=!0,e.KtG(T.uniTargetId=d.wireframeId)})("mouseleave",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.uniTargetMode=!1)}),e.TgZ(3,"span",21),e._uU(4),e.qZA(),e.YNc(5,kR,1,1,"app-colored-tag",22),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngClass",e.kEZ(4,DR,i.isSelect(t.wireframeId),i.isUntarget(t.wireframeId),i.disabled)),e.xp6(1),e.Q6J("ngClass",e.kEZ(8,MR,!i.isSelect(t.wireframeId),i.isSelect(t.wireframeId),i.isSelect(t.wireframeId)&&i.isUntarget(t.wireframeId))),e.xp6(3),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.countTask)}}const PR=function(n){return{"shadow-1 p-2 border-round-md flex flex-column bg-white":n}};let nI=(()=>{class n{constructor(t,i,s){this.api=t,this.rt=i,this.personality=s,this.templates=[],this.deletedTemplates=[],this.selected=[],this.countersType="incoming",this.inline=!1,this.status="loading",this.uniTargetMode=!1,this.uniTargetId=0,this.disabled=!1,this.closed=!0,this.subscriptions=new _.xf,this.onChange=d=>{},this.onTouched=()=>{}}isUntarget(t){return this.uniTargetMode&&this.uniTargetId!==t}setDisabledState(t){this.disabled=t}uniselect(t){this.selected=[t],this.onChange(this.selected)}select(t){this.selected.push(t),this.onChange(this.selected)}unselect(t){this.selected.length>1&&(this.selected=this.selected.filter(i=>i!==t),this.onChange(this.selected))}isSelect(t){return this.selected.includes(t)}templateTrack(t,i){var s;return i.wireframeId+(null!==(s=i.countTask)&&void 0!==s?s:"").toString()}ngOnInit(){this.status="loading",this.api.getWireframes(!0).subscribe({next:t=>{this.templates=t.filter(i=>!i.deleted),this.deletedTemplates=t.filter(i=>i.deleted),0===this.templates.length?this.status="empty":(0===this.selected.length&&(this.selected=[this.templates[0].wireframeId],this.onChange(this.selected)),"none"!==this.countersType&&(0,tI.D)(this.templates).pipe((0,Kl.z)(i=>"incoming"===this.countersType?this.api.getCountIncomingTasksByWireframeId(i.wireframeId).pipe((0,gt.U)(s=>({id:i.wireframeId,num:s}))):this.api.getCountAllTasksByWireframeId(i.wireframeId).pipe((0,gt.U)(s=>({id:i.wireframeId,num:s}))))).subscribe(i=>{const s=this.templates.find(d=>d.wireframeId===i.id);s&&(s.countTask=i.num)}),this.status="ready")},error:()=>{this.status="error"}}),"incoming"===this.countersType?this.personality.userLogin$.subscribe(t=>{this.subscriptions.addSubscription("countUpdater",this.rt.incomingTaskCountChange(t).pipe((0,l.h)(()=>"incoming"===this.countersType)).subscribe(this.counterUpdateHandler.bind(this)))}):"all"===this.countersType&&this.subscriptions.addSubscription("countUpdater",this.rt.taskCountChange().pipe((0,l.h)(()=>"all"===this.countersType)).subscribe(this.counterUpdateHandler.bind(this)))}counterUpdateHandler(t){const i=this.templates.find(s=>s.wireframeId===t.id);i&&(i.countTask=t.num)}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.selected=t}toggle(t){this.isSelect(t)?this.unselect(t):this.select(t)}selectAll(){this.selected=this.templates.map(t=>t.wireframeId),this.onChange(this.selected)}toggleExpand(){this.closed=!this.closed}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(J.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-template-multi-selector"]],inputs:{countersType:"countersType",inline:"inline"},features:[e._Bn([{provide:g.JU,useExisting:n,multi:!0}])],decls:13,vars:9,consts:[[1,"template-selector",3,"ngClass"],[1,"template-selector-title"],[1,"mdi-checklist"],[1,"stretched"],["class","select-all-button","pRipple","","pTooltip","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435",3,"ngClass","click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["templateItem",""],["pRipple","","pTooltip","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435",1,"select-all-button",3,"ngClass","click"],[1,"mdi-select_all"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"template-selector-message"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"caption","size-big","wt-bold","f-color-danger","flexed","hcenter","gap3"],[1,"mdi-warning"],[1,"caption","size-big","wt-bold","f-color-500","flexed","hcenter","gap3"],[1,"mdi-search_off"],[1,"template-selector-item",3,"ngClass","click"],[3,"ngClass","click"],[1,"flexed","hcenter",3,"mouseenter","mouseleave"],[1,"one-line"],["color","var(--mc-500)",3,"caption",4,"ngIf"],["color","var(--mc-500)",3,"caption"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"i",2),e.TgZ(3,"span",3),e._uU(4," \u041a\u043b\u0430\u0441\u0441\u044b \u0437\u0430\u0434\u0430\u0447 "),e.qZA(),e.YNc(5,yR,2,3,"span",4),e.qZA(),e.ynx(6,5),e.YNc(7,AR,2,2,"ng-container",6),e.YNc(8,wR,3,0,"ng-container",6),e.YNc(9,ER,6,0,"ng-container",6),e.YNc(10,SR,6,0,"ng-container",6),e.BQk(),e.qZA(),e.YNc(11,OR,6,12,"ng-template",null,7,e.W1O)),2&t&&(e.Q6J("ngClass",e.VKq(7,PR,!i.inline)),e.xp6(5),e.Q6J("ngIf",i.selected.length<i.templates.length),e.xp6(1),e.Q6J("ngSwitch",i.status),e.xp6(1),e.Q6J("ngSwitchCase","ready"),e.xp6(1),e.Q6J("ngSwitchCase","loading"),e.xp6(1),e.Q6J("ngSwitchCase","error"),e.xp6(1),e.Q6J("ngSwitchCase","empty"))},dependencies:[k.mk,k.sg,k.O5,k.tP,k.RF,k.n9,Qi.u,it.G,be.H,tm.C],styles:["[_nghost-%COMP%]{height:-moz-fit-content;height:fit-content}.select-all-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.3rem;cursor:pointer;border-radius:var(--br-100);background-color:transparent;transition:color .1s ease-in-out,background-color .1s ease-in-out}.select-all-button[_ngcontent-%COMP%]:hover{color:var(--mc-400);background-color:var(--bgc-100)}.select-all-button.disabled[_ngcontent-%COMP%]{opacity:.3;cursor:default;pointer-events:none}.template-selector[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;padding:.5rem}.template-selector-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.9rem;font-weight:500;color:var(--tc-700);gap:.4rem;padding:.4rem;margin:0 .3rem .3rem;border-bottom:1px solid var(--bgc-100)}.template-selector-message[_ngcontent-%COMP%]{display:flex;padding:2rem;align-items:center;justify-content:center}.template-selector-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;-webkit-user-select:none;user-select:none;border-radius:.5rem;transition:all .1s ease-in-out;color:var(--tc-700)}.template-selector-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:.5rem 0 .5rem .8rem}.template-selector-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--mc-400)}.template-selector-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.5rem .8rem .5rem 0;flex:1}.template-selector-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:var(--mc-400)}.template-selector-item.selected[_ngcontent-%COMP%]{color:var(--mc-500)}.template-selector-item.un-target[_ngcontent-%COMP%]{color:var(--tc-200)}.template-selector-item.disabled[_ngcontent-%COMP%]{opacity:.3;cursor:default;pointer-events:none}.expand-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;padding:.3rem .5rem .3rem .7rem;border-top:1px solid var(--bgc-100);cursor:pointer;color:var(--tc-600);font-size:.85rem;margin:.3rem 0;transition:color .1s ease-in-out;-webkit-user-select:none;user-select:none}.expand-button[_ngcontent-%COMP%]:hover{color:var(--mc-400)}.expand-button[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{transition:all .1s ease-in-out;transform-origin:50% 40%;transform:rotate(180deg) translateY(-.2rem)}.expand-button.closed[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{transform:rotate(0) translateY(.1rem)}.expand-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden;transition:height .1s ease-in-out}"]}),n})();function LR(n,o){if(1&n&&e._UZ(0,"app-employee-label",3),2&n){const t=o.$implicit;e.Q6J("size",1.4)("employee",t)}}function RR(n,o){if(1&n&&e._UZ(0,"app-employee-label",3),2&n){const t=o.$implicit;e.Q6J("size",1.4)("employee",t)}}let iI=(()=>{class n{constructor(t){this.api=t,this.employees=[],this.control=new g.NI(null),this.onChange=i=>{},this.onTouched=()=>{}}ngOnInit(){this.api.getEmployees().subscribe(t=>{this.employees=t}),this.control.valueChanges.subscribe(t=>{this.onChange(t)})}ngOnDestroy(){}setDisabledState(t){t?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.control.setValue(t||null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-selector"]],features:[e._Bn([{provide:g.JU,useExisting:n,multi:!0}])],decls:3,vars:3,consts:[["styleClass","full-width","optionValue","login","appendTo","body","placeholder","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a",3,"options","formControl","showClear","onBlur"],["pTemplate","selectedItem"],["pTemplate","item"],[3,"size","employee"]],template:function(t,i){1&t&&(e.TgZ(0,"p-dropdown",0),e.NdJ("onBlur",function(){return i.onTouched()}),e.YNc(1,LR,1,2,"ng-template",1),e.YNc(2,RR,1,2,"ng-template",2),e.qZA()),2&t&&e.Q6J("options",i.employees)("formControl",i.control)("showClear",!0)},dependencies:[g.JJ,Ke.Lt,N.jx,g.oH,Cc.x]}),n})(),ab=(()=>{class n{constructor(){this.control=new g.NI(null),this.dropDownControl=new g.NI(null),this.calendarControl=new g.NI(null),this.calendarVisible=!1,this.rangeOptions=[{label:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",value:me.nv.TODAY},{label:"\u0412\u0447\u0435\u0440\u0430",value:me.nv.YESTERDAY},{label:"\u042d\u0442\u0430 \u043d\u0435\u0434\u0435\u043b\u044f",value:me.nv.THIS_WEEK},{label:"\u041f\u0440\u043e\u0448\u043b\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f",value:me.nv.LAST_WEEK},{label:"\u042d\u0442\u043e\u0442 \u043c\u0435\u0441\u044f\u0446",value:me.nv.THIS_MONTH},{label:"\u041f\u0440\u043e\u0448\u043b\u044b\u0439 \u043c\u0435\u0441\u044f\u0446",value:me.nv.LAST_MONTH},{label:"\u0412\u0440\u0443\u0447\u043d\u0443\u044e",value:"manual"}],this.mainControlChange$=this.control.valueChanges,this.selectTimeFrame$=this.dropDownControl.valueChanges.pipe((0,l.h)(t=>"manual"!==t)),this.selectManual$=this.dropDownControl.valueChanges.pipe((0,l.h)(t=>"manual"===t)),this.calendarChange$=this.calendarControl.valueChanges,this.subscription=new _.xf,this.onChange=t=>{},this.onTouched=()=>{}}static formatDate(t){return"string"==typeof t&&(t=new Date(t)),`${t.getDate().toString().padStart(2,"0")}/${(t.getMonth()+1).toString().padStart(2,"0")}/${t.getFullYear()}`}setDisabledState(t){t?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}ngOnInit(){this.subscription.addSubscription("change",this.mainControlChange$.pipe((0,hi.b)(this.setManualLabel.bind(this))).subscribe(t=>this.onChange(t))),this.subscription.addSubscription("timeFrameSelected",this.selectTimeFrame$.subscribe(t=>{if(this.calendarVisible=!1,null===t)return this.control.setValue(null),void this.calendarControl.setValue(null);this.control.setValue({timeFrame:t,start:null,end:null})})),this.subscription.addSubscription("manualSelected",this.selectManual$.subscribe(()=>{this.calendarVisible=!0})),this.subscription.addSubscription("calendarChange",this.calendarChange$.subscribe(t=>{t&&t[0]&&t[1]&&(this.control.setValue({timeFrame:null,start:t[0],end:t[1]}),this.calendarVisible=!1)}))}setManualLabel(t){if(t&&t.start&&t.end){const i=this.rangeOptions.find(s=>"manual"===s.value);i&&(i.label=n.formatDate(t.start)+" - "+n.formatDate(t.end),this.rangeOptions=[...this.rangeOptions])}else{const i=this.rangeOptions.find(s=>"manual"===s.value);i&&(i.label="\u0412\u0440\u0443\u0447\u043d\u0443\u044e",this.rangeOptions=[...this.rangeOptions])}}ngOnDestroy(){this.subscription.unsubscribeAll()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.setupDropdown(t)}setupDropdown(t){return t?t.timeFrame?(this.dropDownControl.setValue(t.timeFrame),void this.calendarControl.setValue(null)):t.start&&t.end?(this.dropDownControl.setValue("manual"),void this.calendarControl.setValue([t.start,t.end])):void 0:(this.dropDownControl.setValue(null),void this.calendarControl.setValue(null))}clearIsUnselect(){if(!this.control.value)return;const{start:t,end:i}=this.control.value;(!t||!i)&&(this.dropDownControl.setValue(null),this.calendarControl.setValue(null))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-data-range-input"]],features:[e._Bn([{provide:g.JU,useExisting:n,multi:!0}])],decls:4,vars:9,consts:[[1,"flex","w-fit",3,"focusin"],["placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"options","showClear","formControl"],["appendTo","body","styleClass","w-30rem",3,"visible","visibleChange","onHide"],["styleClass","full-width",3,"inline","formControl","selectOtherMonths","selectionMode","firstDayOfWeek"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("focusin",function(){return i.onTouched()}),e._UZ(1,"p-dropdown",1),e.qZA(),e.TgZ(2,"p-overlay",2),e.NdJ("visibleChange",function(d){return i.calendarVisible=d})("onHide",function(){return i.clearIsUnselect()}),e._UZ(3,"p-calendar",3),e.qZA()),2&t&&(e.xp6(1),e.Q6J("options",i.rangeOptions)("showClear",!0)("formControl",i.dropDownControl),e.xp6(1),e.Q6J("visible",i.calendarVisible),e.xp6(1),e.Q6J("inline",!0)("formControl",i.calendarControl)("selectOtherMonths",!0)("selectionMode","range")("firstDayOfWeek",1))},dependencies:[g.JJ,Ke.Lt,$.aV,g.oH,q1.f]}),n})();function NR(n,o){1&n&&e._UZ(0,"i",12)}let FR=(()=>{class n{constructor(t,i){this.confirm=t,this.api=i,this.onEditTag=new e.vpe}ngOnInit(){}deleteTag(t){var i;this.confirm.confirm({key:null===(i=this.tag)||void 0===i?void 0:i.taskTagId.toString(),target:t.target,message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0435\u0433?",icon:"pi pi-exclamation-triangle",accept:()=>{var s;null!==(s=this.tag)&&void 0!==s&&s.taskTagId&&this.api.deleteTaskTag(this.tag.taskTagId).subscribe()},reject:()=>{}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(N.YP),e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-tag-list-item"]],inputs:{tag:"tag"},outputs:{onEditTag:"onEditTag"},decls:17,vars:13,consts:[[1,"tag-item"],[1,"color"],[1,"flexed","column"],[1,"name","flexed","hcenter","gap3"],["class","mdi-not_interested",4,"ngIf"],[1,"flexed","hcenter","gap2"],[1,"caption","size-small","wt-bold","f-color-500"],[1,"caption","size-tiny","wt-bold","f-color-500"],[1,"stretched"],["styleClass","p-button-text p-button-warning","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","icon","mdi-edit",3,"disabled","onClick"],["styleClass","p-button-text p-button-danger","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","icon","mdi-delete",3,"disabled","onClick"],[3,"key"],[1,"mdi-not_interested"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"span",2)(3,"span",3),e.YNc(4,NR,1,0,"i",4),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"span",5)(8,"span",6),e._uU(9,"\u0421\u043e\u0437\u0434\u0430\u043d:"),e.qZA(),e.TgZ(10,"span",7),e._uU(11),e.ALo(12,"date"),e.qZA()()(),e._UZ(13,"div",8),e.TgZ(14,"p-button",9),e.NdJ("onClick",function(){return i.onEditTag.emit(i.tag)}),e.qZA(),e.TgZ(15,"p-button",10),e.NdJ("onClick",function(d){return i.deleteTag(d)}),e.qZA()(),e._UZ(16,"p-confirmPopup",11)),2&t){let s,d,T;e.xp6(1),e.Udp("background-color",null==i.tag?null:i.tag.color),e.xp6(2),e.Udp("opacity",null!=i.tag&&i.tag.deleted?.5:1),e.xp6(1),e.Q6J("ngIf",null==i.tag?null:i.tag.deleted),e.xp6(2),e.hij(" ",null==i.tag?null:i.tag.name," "),e.xp6(5),e.Oqu(e.xi3(12,10,null==i.tag?null:i.tag.created,"dd MMM yyyy HH:mm")),e.xp6(3),e.Q6J("disabled",null!==(s=null==i.tag?null:i.tag.deleted)&&void 0!==s&&s),e.xp6(1),e.Q6J("disabled",null!==(d=null==i.tag?null:i.tag.deleted)&&void 0!==d&&d),e.xp6(1),e.Q6J("key",(null!==(T=null==i.tag?null:i.tag.taskTagId)&&void 0!==T?T:"").toString())}},dependencies:[k.O5,O.zx,Kx.P,k.uU],styles:['.task-tags-list-item[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/repeat(2,max-content);grid-template-areas:"name creator" "time creator";border-radius:999px;color:var(--tc-100);white-space:nowrap;height:min-content;overflow:hidden;position:relative;box-shadow:0 0 .7px #00000003,0 .3px 2.8px #00000009,0 4px 10px #00000026}.task-tags-list-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;grid-area:name;padding:.5rem 1rem 0 1.5rem}.task-tags-list-item[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:.8rem;color:var(--tc-200);grid-area:time;padding:0 1rem .5rem 1.5rem}.task-tags-list-item[_ngcontent-%COMP%]   .creator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;grid-area:creator;background-color:#fff;padding:1rem}.task-tags-list-item[_ngcontent-%COMP%]   .edit-menu[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;border-radius:inherit;background-color:#00000060;transition:opacity .2s ease-out}.task-tags-list-item[_ngcontent-%COMP%]   .edit-menu[_ngcontent-%COMP%]:hover{opacity:1}.tag-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem;gap:.5rem}.tag-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-200)}.tag-item[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]{width:1rem;height:1rem;border-radius:999px}.tag-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1rem;color:var(--tc-700)}']}),n})();var BR=b(6288),FA=b(3064),ZR=b(85);function UR(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0424\u043e\u0442\u043e"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.images.length.toString())}}function HR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",13),e.NdJ("click",function(){const d=e.CHM(t).index,T=e.oxw();return e.KtG(T.viewerService.showMediaAlbum(d,T.images))}),e._UZ(1,"img",14),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("src",i.baseUrl+t.name,e.LSH)}}function VR(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0412\u0438\u0434\u0435\u043e"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.videos.length.toString())}}function zR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){const d=e.CHM(t).index,T=e.oxw();return e.KtG(T.viewerService.showMediaAlbum(d,T.videos))}),e.TgZ(1,"span",16),e._uU(2,"movie"),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(4),e.hij(" ",t.name," ")}}function JR(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0410\u0443\u0434\u0438\u043e"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.audios.length.toString())}}function QR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){const d=e.CHM(t).index,T=e.oxw();return e.KtG(T.viewerService.showMediaAlbum(d,T.audios))}),e.TgZ(1,"span",16),e._uU(2,"music_note"),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(4),e.hij(" ",t.name," ")}}function GR(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.documents.length.toString())}}function WR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){e.CHM(t);const s=e.MAs(6);return e.KtG(s.click())}),e.TgZ(1,"span",16),e._uU(2,"picture_as_pdf"),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA(),e._UZ(5,"a",18,19),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(4),e.hij(" ",t.name," "),e.xp6(1),e.Udp("display","none"),e.Q6J("href",i.baseUrl+t.name+"/",e.LSH)}}function YR(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0424\u0430\u0439\u043b\u044b"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.files.length.toString())}}function jR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){e.CHM(t);const s=e.MAs(6);return e.KtG(s.click())}),e.TgZ(1,"span",16),e._uU(2,"description"),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA(),e._UZ(5,"a",20,19),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(4),e.hij(" ",t.name," "),e.xp6(1),e.Udp("display","none"),e.Q6J("download",t.name)("href",i.baseUrl+t.name+"/",e.LSH)}}let KR=(()=>{class n{constructor(t,i){this.api=t,this.viewerService=i,this.show=!1,this.showChange=new e.vpe,this.baseUrl="/api/private/attachment/",this.images=[],this.videos=[],this.audios=[],this.documents=[],this.files=[]}ngOnInit(){this.clearAllAttachments(),this.taskId&&this.api.getAllTaskAttachments(this.taskId).subscribe(t=>{for(const i of t)switch(i.type){case me.sf.PHOTO:this.images.push(i);break;case me.sf.VIDEO:this.videos.push(i);break;case me.sf.AUDIO:this.audios.push(i);break;case me.sf.DOCUMENT:this.documents.push(i);break;case me.sf.FILE:this.files.push(i)}})}clearAllAttachments(){this.images=[],this.videos=[],this.audios=[],this.documents=[],this.files=[]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(FA.E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-attachments-history-dialog"]],inputs:{taskId:"taskId",show:"show"},outputs:{showChange:"showChange"},decls:22,vars:10,consts:[["header","\u0424\u0430\u0439\u043b\u044b \u0432 \u0437\u0430\u0434\u0430\u0447\u0435",3,"draggable","dismissableMask","visible","modal","resizable","visibleChange"],["header","\u0424\u043e\u0442\u043e"],["pTemplate","header"],[1,"flexed-list"],["class","list-item",3,"click",4,"ngFor","ngForOf"],["header","\u0412\u0438\u0434\u0435\u043e"],["class","list-item p5",3,"click",4,"ngFor","ngForOf"],["header","\u0410\u0443\u0434\u0438\u043e"],["header","\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b"],["header","\u0424\u0430\u0439\u043b\u044b"],[1,"flexed","hcenter","gap3"],[1,"caption","size-small","f-color-500"],[3,"value"],[1,"list-item",3,"click"],[3,"src"],[1,"list-item","p5",3,"click"],[1,"material-icons-round"],[1,"filename"],["target","_blank",3,"href"],["link",""],[3,"download","href"]],template:function(t,i){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(d){return i.showChange.emit(d)})("visibleChange",function(d){return i.show=d}),e.TgZ(1,"p-tabView")(2,"p-tabPanel",1),e.YNc(3,UR,4,1,"ng-template",2),e.TgZ(4,"div",3),e.YNc(5,HR,2,1,"div",4),e.qZA()(),e.TgZ(6,"p-tabPanel",5),e.YNc(7,VR,4,1,"ng-template",2),e.TgZ(8,"div",3),e.YNc(9,zR,5,1,"div",6),e.qZA()(),e.TgZ(10,"p-tabPanel",7),e.YNc(11,JR,4,1,"ng-template",2),e.TgZ(12,"div",3),e.YNc(13,QR,5,1,"div",6),e.qZA()(),e.TgZ(14,"p-tabPanel",8),e.YNc(15,GR,4,1,"ng-template",2),e.TgZ(16,"div",3),e.YNc(17,WR,7,4,"div",6),e.qZA()(),e.TgZ(18,"p-tabPanel",9),e.YNc(19,YR,4,1,"ng-template",2),e.TgZ(20,"div",3),e.YNc(21,jR,7,5,"div",6),e.qZA()()()()),2&t&&(e.Q6J("draggable",!1)("dismissableMask",!0)("visible",i.show)("modal",!0)("resizable",!1),e.xp6(5),e.Q6J("ngForOf",i.images),e.xp6(4),e.Q6J("ngForOf",i.videos),e.xp6(4),e.Q6J("ngForOf",i.audios),e.xp6(4),e.Q6J("ngForOf",i.documents),e.xp6(4),e.Q6J("ngForOf",i.files))},dependencies:[k.sg,N.jx,wo.V,wl.xf,wl.x4,ZR.Ct],styles:[".flexed-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;overflow-x:auto;width:50vw;max-height:40vh;min-width:100%}.list-item[_ngcontent-%COMP%]{width:19%;aspect-ratio:1;border:1px solid var(--bgc-300);max-width:15rem;min-width:7rem;overflow:hidden;display:flex;flex-direction:column;gap:.5rem;align-items:center;justify-content:center;-webkit-user-select:none;user-select:none;cursor:pointer}.list-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:100%;min-height:100%;object-fit:cover;width:auto;height:auto}.filename[_ngcontent-%COMP%]{display:inline-block;color:var(--tc-500);font-size:.8rem;font-weight:500;white-space:nowrap;width:100%;overflow:hidden;text-overflow:ellipsis;text-align:center}"]}),n})(),oI=(()=>{class n{constructor(t){this.el=t}get colorString(){return this._colorString}set colorString(t){var i,s;this._colorString=t,this.el.nativeElement.style.color=_.cQ.stringToColor(null!==(s=null===(i=this._colorString)||void 0===i?void 0:i.trim())&&void 0!==s?s:"")}ngAfterViewInit(){this.el.nativeElement.style.color=_.cQ.stringToColor(this.el.nativeElement.innerText.trim())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","appColorize",""]],inputs:{colorString:"colorString"}}),n})(),BA=(()=>{class n{constructor(t){this.el=t,this.isMouseDown=!1,t.nativeElement.style.cursor="grab",t.nativeElement.style.userSelect="none"}onMouseDown(t){0===t.button&&(this.isMouseDown=!0,this.el.nativeElement.style.cursor="grabbing")}onMouseUp(t){0===t.button&&(this.isMouseDown=!1,this.el.nativeElement.style.cursor="grab")}onMouseMove(t){if(this.isMouseDown){const i=this.el.nativeElement;i.scrollTo(i.scrollLeft-t.movementX,i.scrollTop-t.movementY)}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","appDragScrolling",""]],hostBindings:function(t,i){1&t&&e.NdJ("mousedown",function(d){return i.onMouseDown(d)})("mouseup",function(d){return i.onMouseUp(d)})("mousemove",function(d){return i.onMouseMove(d)})}}),n})();var qR=b(7231),$R=b(5651);let XR=(()=>{class n{constructor(){this.loading=!1,this.loadingChange=new e.vpe,this.load=new e.vpe,this.initialScrollPos=0,this.initialScrollPosChange=new e.vpe}ngOnInit(){setTimeout(()=>window.scrollTo({top:this.initialScrollPos,behavior:"instant"}),100)}windowScroll(t){document.documentElement.scrollHeight-(document.documentElement.scrollTop+window.innerHeight)==0&&!this.loading&&(this.loading=!0,this.loadingChange.emit(!0),this.load.emit()),this.initialScrollPos=window.scrollY,this.initialScrollPosChange.emit(window.scrollY)}windowResize(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","appLazyPageLoader",""]],hostBindings:function(t,i){1&t&&e.NdJ("scroll",function(d){return i.windowScroll(d)},!1,e.Jf7)("resize",function(d){return i.windowResize(d)},!1,e.Jf7)},inputs:{loading:"loading",initialScrollPos:"initialScrollPos"},outputs:{loadingChange:"loadingChange",load:"load",initialScrollPosChange:"initialScrollPosChange"}}),n})();function eN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",2),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.showContent())}),e.TgZ(1,"span",3),e._uU(2,"visibility"),e.qZA(),e._uU(3),e.qZA()}if(2&n){const t=e.oxw();e.xp6(3),e.hij(" ",t.buttonCaption," ")}}function tN(n,o){1&n&&(e.ynx(0),e.Hsn(1),e.BQk())}const nN=["*"];let iN=(()=>{class n{constructor(){this.buttonCaption="",this.display=!1,this.displayChange=new e.vpe}ngOnInit(){}showContent(){this.display=!0,this.displayChange.emit(this.display)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-expanding-panel"]],inputs:{buttonCaption:"buttonCaption",display:"display"},outputs:{displayChange:"displayChange"},ngContentSelectors:nN,decls:3,vars:2,consts:[["class","expand-button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"expand-button",3,"click"],[1,"material-icons-round","parent-inherit"]],template:function(t,i){1&t&&(e.F$t(),e.ynx(0),e.YNc(1,eN,4,1,"span",0),e.YNc(2,tN,2,0,"ng-container",1),e.BQk()),2&t&&(e.xp6(1),e.Q6J("ngIf",!i.display),e.xp6(1),e.Q6J("ngIf",i.display))},dependencies:[k.O5],styles:[".expand-button[_ngcontent-%COMP%]{cursor:pointer;display:inline-flex;font-size:.8rem;font-weight:600;color:var(--mc-500);line-height:normal;padding:.3rem .5rem;border-radius:.3rem;align-self:center;align-items:center;justify-content:center;gap:.2rem;transition:background-color .2s ease-out}.expand-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;color:var(--mc-500)}.expand-button[_ngcontent-%COMP%]:hover{background-color:var(--mc-0)}"]}),n})();var oN=b(2716);let sN=(()=>{class n{transform(t){if(!("type"in t))return"";switch(t.type){case me.dA.CHANGE_STAGE:return"\u0418\u0437\u043c\u0435\u043d\u0435\u043d \u0442\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438: ";case me.dA.CREATE_WORK_LOG:return"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435";case me.dA.FORCE_CLOSE_WORK_LOG:return"\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b \u0440\u0430\u0431\u043e\u0442\u044b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435";case me.dA.CLOSE_WORK_LOG:return"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b \u0440\u0430\u0431\u043e\u0442\u044b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435";case me.dA.CHANGE_RESPONSIBILITY:return"\u0418\u0437\u043c\u0435\u043d\u0435\u043d \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439: ";case me.dA.LINKED_TO_PARENT_TASK:return"\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u0430 \u043a \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0435";case me.dA.UNLINKED_FROM_PARENT_TASK:return"\u041e\u0442\u0432\u044f\u0437\u0430\u043d\u0430 \u043e\u0442 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438";case me.dA.UNLINK_CHILD_TASK:return"\u041e\u0442\u0432\u044f\u0437\u0430\u043d\u0430 \u043e\u0442 \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u0447";case me.dA.LINKED_TO_CHILD_TASKS:return"\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u044b \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438";case me.dA.CHANGE_TAGS:return"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b \u0442\u0435\u0433\u0438: ";case me.dA.CLEAN_TAGS:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u043e\u0442\u0447\u0438\u0449\u0435\u043d\u0430 \u043e\u0442 \u0442\u0435\u0433\u043e\u0432";case me.dA.CHANGE_OBSERVERS:return"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u044b \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438: ";case me.dA.UNBIND_RESPONSIBLE:return"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0443\u0431\u0440\u0430\u043d";case me.dA.CHANGE_ACTUAL_FROM:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430: ";case me.dA.CHANGE_ACTUAL_TO:return"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u0441\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f: ";case me.dA.CLEAR_ACTUAL_FROM_TASK:return"\u0423\u0434\u0430\u043b\u0435\u043d\u0430 \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0434\u0430\u0442\u0430";case me.dA.CLEAR_ACTUAL_TO_TASK:return"\u0423\u0434\u0430\u043b\u0435\u043d \u0441\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f";case me.dA.CLOSE_TASK:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0430";case me.dA.REOPEN_TASK:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u0432\u043d\u043e\u0432\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u0430";case me.dA.EDIT_FIELDS:return"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0432 \u0437\u0430\u0434\u0430\u0447\u0435 \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430";case me.dA.REPORT_CREATED:return"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u043b \u0440\u0430\u0431\u043e\u0442\u044b \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435: ";case me.dA.MOVED_TO_DIRECTORY:return"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0430 \u0432 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e: "}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"taskEventTranslate",type:n,pure:!0}),n})();function rN(n,o){1&n&&e.GkF(0)}function aN(n,o){1&n&&e._UZ(0,"div",17)}function lN(n,o){1&n&&e.GkF(0)}function cN(n,o){if(1&n&&e._UZ(0,"quill-view-html",18),2&n){const t=e.oxw(2).$implicit;e.Q6J("content",t.message)}}function uN(n,o){if(1&n&&(e.TgZ(0,"span",21),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.message)}}function dN(n,o){if(1&n&&(e.TgZ(0,"div",19)(1,"span"),e._uU(2),e.ALo(3,"taskEventTranslate"),e.qZA(),e.YNc(4,uN,2,1,"span",20),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t)),e.xp6(2),e.Q6J("ngIf",t.message)}}function pN(n,o){1&n&&e._UZ(0,"app-attachment-link",25),2&n&&e.Q6J("attachment",o.$implicit)}function hN(n,o){1&n&&e._UZ(0,"app-attachment-link",25),2&n&&e.Q6J("attachment",o.$implicit)}function gN(n,o){if(1&n&&(e.TgZ(0,"app-expanding-panel",26),e.YNc(1,hN,1,1,"app-attachment-link",23),e.qZA()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.Q6J("buttonCaption","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c "+(i.getAttachmentsCount(t)-3)+"+"),e.xp6(1),e.Q6J("ngForOf",i.getAttachments(t,!1))("ngForTrackBy",i.trackByAttachment)}}function mN(n,o){if(1&n&&(e.TgZ(0,"div",22),e.YNc(1,pN,1,1,"app-attachment-link",23),e.YNc(2,gN,2,3,"app-expanding-panel",24),e.qZA()),2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.getAttachments(t))("ngForTrackBy",i.trackByAttachment),e.xp6(1),e.Q6J("ngIf",i.getAttachmentsCount(t)>3)}}function fN(n,o){1&n&&e.GkF(0)}function _N(n,o){1&n&&e._UZ(0,"app-attachment-link",25),2&n&&e.Q6J("attachment",o.$implicit)}function CN(n,o){1&n&&e._UZ(0,"app-attachment-link",25),2&n&&e.Q6J("attachment",o.$implicit)}function vN(n,o){if(1&n&&(e.TgZ(0,"app-expanding-panel",26),e.YNc(1,CN,1,1,"app-attachment-link",23),e.qZA()),2&n){const t=e.oxw(4).$implicit,i=e.oxw();e.Q6J("buttonCaption","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c "+(i.getAttachmentsCount(i.getReplyComment(t))-3)+"+"),e.xp6(1),e.Q6J("ngForOf",i.getAttachments(i.getReplyComment(t),!1))("ngForTrackBy",i.trackByAttachment)}}function bN(n,o){if(1&n&&(e.TgZ(0,"div",22),e.YNc(1,_N,1,1,"app-attachment-link",23),e.YNc(2,vN,2,3,"app-expanding-panel",24),e.qZA()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.getAttachments(i.getReplyComment(t)))("ngForTrackBy",i.trackByAttachment),e.xp6(1),e.Q6J("ngIf",i.getAttachmentsCount(i.getReplyComment(t))>3)}}const yN=function(n){return{$implicit:n,reply:!0}};function xN(n,o){if(1&n&&(e.TgZ(0,"div",27),e._UZ(1,"div",28),e.TgZ(2,"div",9),e._UZ(3,"app-avatar",29),e.qZA(),e.YNc(4,fN,1,0,"ng-container",7),e.TgZ(5,"div",30),e._UZ(6,"markdown",31),e.YNc(7,bN,3,3,"div",14),e.qZA()()),2&n){const t=e.oxw(2).$implicit,i=e.oxw(),s=e.MAs(6);let d,T,W;e.xp6(3),e.Q6J("name",null==(d=i.getReplyComment(t))||null==d.creator?null:d.creator.fullName)("src",null==(T=i.getReplyComment(t))||null==T.creator?null:T.creator.avatar)("size",2.8),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(7,yN,i.getReplyComment(t))),e.xp6(2),e.Q6J("data",null==(W=i.getReplyComment(t))?null:W.message),e.xp6(1),e.Q6J("ngIf",i.hasAttachments(i.getReplyComment(t)))}}function IN(n,o){1&n&&e._UZ(0,"div",32)}const ZA=function(n,o){return{event:n,reply:o}},TN=function(n){return{$implicit:n}},AN=function(n){return{$implicit:n,reply:!1}};function wN(n,o){if(1&n&&(e.TgZ(0,"div",6),e.ynx(1),e.YNc(2,rN,1,0,"ng-container",7),e.YNc(3,aN,1,0,"div",8),e.TgZ(4,"div",9),e._UZ(5,"app-avatar",10),e.qZA(),e.YNc(6,lN,1,0,"ng-container",7),e.TgZ(7,"div",11),e.YNc(8,cN,1,1,"quill-view-html",12),e.YNc(9,dN,5,4,"div",13),e.YNc(10,mN,3,3,"div",14),e.qZA(),e.YNc(11,xN,8,9,"div",15),e.YNc(12,IN,1,0,"div",16),e.BQk(),e.qZA()),2&n){const t=e.oxw(),i=t.$implicit,s=t.index,d=e.oxw(),T=e.MAs(4),W=e.MAs(6);e.Q6J("@fade",void 0)("ngClass",e.WLB(16,ZA,!d.isComment(i),d.isHasReply(i))),e.xp6(2),e.Q6J("ngTemplateOutlet",T)("ngTemplateOutletContext",e.VKq(19,TN,i)),e.xp6(1),e.Q6J("ngIf",s<d.displayedEntries.length-1),e.xp6(2),e.Q6J("src",i.creator.avatar)("name",i.creator.fullName)("size",2.8),e.xp6(1),e.Q6J("ngTemplateOutlet",W)("ngTemplateOutletContext",e.VKq(21,AN,i)),e.xp6(1),e.Q6J("ngClass",e.WLB(23,ZA,!d.isComment(i),d.isHasReply(i))),e.xp6(1),e.Q6J("ngIf",d.isComment(i)),e.xp6(1),e.Q6J("ngIf",!d.isComment(i)),e.xp6(1),e.Q6J("ngIf",d.hasAttachments(i)),e.xp6(1),e.Q6J("ngIf",d.isHasReply(i)),e.xp6(1),e.Q6J("ngIf",!d.isComment(i))}}function EN(n,o){if(1&n&&(e.ynx(0),e.YNc(1,wN,13,26,"div",5),e.BQk()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",!i.isComment(t)&&i.showEvents||i.isComment(t))}}function SN(n,o){1&n&&(e.TgZ(0,"div",34),e._UZ(1,"p-skeleton",35)(2,"p-skeleton",36),e.TgZ(3,"div",37)(4,"div",38),e._UZ(5,"p-skeleton",39)(6,"p-skeleton",40),e.qZA()(),e._UZ(7,"p-skeleton",41),e.qZA()),2&n&&(e.xp6(5),e.Udp("padding-bottom",".5rem"))}function kN(n,o){if(1&n&&(e.ynx(0),e.YNc(1,SN,8,2,"div",33),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.skeletons)}}function DN(n,o){if(1&n&&(e.TgZ(0,"span",42)(1,"span",43),e._uU(2),e.qZA()()),2&n){const t=o.$implicit,i=e.oxw();e.Udp("background-color",i.getEventColor(t)),e.xp6(2),e.Oqu(i.getEventIcon(t))}}function MN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",51),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw().$implicit,d=e.oxw();return e.KtG(d.selectCommentToReply(s))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",t.isAnActionOnComments())}}function ON(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-icon-button",52),e.NdJ("onClick",function(s){e.CHM(t),e.oxw();const d=e.MAs(10);return e.KtG(d.toggle(s))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",t.isAnActionOnComments())}}function PN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",55),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2).$implicit,d=e.MAs(10);return e.oxw().selectCommentToEdit(s),e.KtG(d.hide())}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",t.isAnActionOnComments())}}function LN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",56),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2).$implicit,d=e.MAs(10);return e.oxw().confirmToDeleteComment(s),e.KtG(d.hide())}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",t.isAnActionOnComments())}}function RN(n,o){if(1&n&&(e.YNc(0,PN,1,1,"app-button",53),e.YNc(1,LN,1,1,"app-button",54)),2&n){const t=e.oxw(),i=t.$implicit,s=t.reply,d=e.oxw();e.Q6J("ngIf",d.isMyComment(i)&&!s),e.xp6(1),e.Q6J("ngIf",d.isMyComment(i)&&!s)}}function NN(n,o){if(1&n&&(e.TgZ(0,"div",37)(1,"div",38)(2,"span",44),e._uU(3),e.qZA(),e.TgZ(4,"span",45),e._uU(5),e.ALo(6,"elapsedTime"),e.qZA()(),e.YNc(7,MN,1,1,"app-button",46),e.YNc(8,ON,1,1,"app-icon-button",47),e.TgZ(9,"p-overlayPanel",48,49),e.YNc(11,RN,2,2,"ng-template",50),e.qZA()()),2&n){const t=o.$implicit,i=o.reply,s=e.oxw();e.xp6(3),e.Oqu(null==t.creator?null:t.creator.fullName),e.xp6(2),e.Oqu(e.Dn7(6,4,t.created,t.type?"":"\u043d\u0430\u043f\u0438\u0441\u0430\u043b(\u0430) "," \u043d\u0430\u0437\u0430\u0434")),e.xp6(2),e.Q6J("ngIf",s.isComment(t)&&!i),e.xp6(1),e.Q6J("ngIf",s.isMyComment(t)&&!i)}}let FN=(()=>{class n{constructor(t,i,s,d){this.api=t,this.personality=i,this.confirmation=s,this.rt=d,this.rtSubscriptions=new _.xf,this.replyCommentChange=new e.vpe,this.editCommentChange=new e.vpe,this.onFirstLoad=new e.vpe,this.entries=[],this.journalIsFullyLoaded=!1,this.skeletons=Array.from({length:10}),this.totalEntries=0,this.loading=!1,this.firstLoad=!0,this.showEvents=!0,this._sortingType=_.Ke.loadOrDefault("taskJournalSortingType",me.Rh.CREATE_DATE_DESC),this._taskId=-1}get displayedEntries(){return this.showEvents?this.entries:this.entries.filter(t=>"commentId"in t)}set sortingType(t){t!==this._sortingType&&(this._sortingType=t,_.Ke.save("taskJournalSortingType",t),this.clearEntries(),this.loadComments())}get sortingType(){return this._sortingType}trackByEntry(t,i){return"commentId"in i?i.commentId+i.message+i.edited:"taskEventId"in i?i.taskEventId:null}set taskId(t){this._taskId=t,this.clearEntries(),this.loadComments(),this.rtSubscriptions.addSubscription("crCom",this.rt.commentCreated(t).subscribe(this.onCommentCreate.bind(this))),this.rtSubscriptions.addSubscription("crUpt",this.rt.commentUpdated(t).subscribe(this.onCommentUpdate.bind(this))),this.rtSubscriptions.addSubscription("crDel",this.rt.commentDeleted(t).subscribe(this.onCommentDelete.bind(this))),this.rtSubscriptions.addSubscription("crEv",this.rt.taskEventCreated(t).subscribe(this.onEventCreate.bind(this))),this.rtSubscriptions.addSubscription("empUpt",this.rt.employeeUpdated().subscribe(this.onEmployeeUpdate.bind(this)))}get taskId(){return this._taskId}onCommentCreate(t){if(!this.entries.some(i=>"commentId"in i&&i.commentId===t.commentId))switch(this.sortingType){case me.Rh.CREATE_DATE_DESC:this.entries.unshift(t),this.totalEntries++,this.onFirstLoad.emit(!0);break;case me.Rh.CREATE_DATE_ASC:this.journalIsFullyLoaded&&(this.entries.push(t),this.totalEntries++,this.onFirstLoad.emit(!0))}}onCommentDelete(t){const i=this.entries.findIndex(s=>"commentId"in s&&s.commentId===t.commentId);-1!==i&&(this.entries.splice(i,1),this.totalEntries--)}onCommentUpdate(t){const i=this.entries.findIndex(s=>"commentId"in s&&s.commentId===t.commentId);-1!==i&&this.entries.splice(i,1,t)}onEventCreate(t){if(!this.entries.some(i=>"taskEventId"in i&&i.taskEventId===t.taskEventId))switch(this.sortingType){case me.Rh.CREATE_DATE_DESC:this.entries.unshift(t),this.onFirstLoad.emit(!0);break;case me.Rh.CREATE_DATE_ASC:this.journalIsFullyLoaded&&(this.entries.push(t),this.onFirstLoad.emit(!0))}}ngOnDestroy(){this.rtSubscriptions.unsubscribeAll()}ngOnInit(){}loadComments(){if(!this._taskId)return;const t=this.entries.filter(i=>"commentId"in i).length;t<this.totalEntries?this.api.getTaskJournal(this._taskId,t,10,this._sortingType).subscribe(i=>{0===this.entries.length&&(this.totalEntries=i.totalElements),this.entries=[...this.entries,...i.content],this.loading=!1}):this.firstLoad?this.api.getTaskJournal(this._taskId,0,10,this._sortingType).subscribe(i=>{this.totalEntries=i.totalElements,this.entries=i.content,this.loading=!1,this.firstLoad=!1,this.onFirstLoad.emit(this.totalEntries>0||i.content.length>0)}):setTimeout(()=>{this.loading=!1,this.journalIsFullyLoaded=!0})}isComment(t){return"commentId"in t}isMyComment(t){var i,s;return"commentId"in t&&(null===(i=this.personality.me)||void 0===i?void 0:i.login)===(null===(s=t.creator)||void 0===s?void 0:s.login)}isAnActionOnComments(){return!!this.replyComment||!!this.editComment}getEventIcon(t){if(!("type"in t))return"comment";switch(t.type){case me.dA.CHANGE_STAGE:return"swipe_right_alt";case me.dA.CREATE_WORK_LOG:return"assignment";case me.dA.FORCE_CLOSE_WORK_LOG:case me.dA.CLOSE_WORK_LOG:return"assignment_return";case me.dA.CHANGE_RESPONSIBILITY:return"person";case me.dA.LINKED_TO_PARENT_TASK:return"link";case me.dA.UNLINKED_FROM_PARENT_TASK:case me.dA.UNLINK_CHILD_TASK:return"link_off";case me.dA.LINKED_TO_CHILD_TASKS:return"link";case me.dA.CHANGE_TAGS:return"label";case me.dA.CLEAN_TAGS:return"label_off";case me.dA.CHANGE_OBSERVERS:return"groups";case me.dA.UNBIND_RESPONSIBLE:return"person_off";case me.dA.CHANGE_ACTUAL_FROM:return"pending_actions";case me.dA.CHANGE_ACTUAL_TO:return"today";case me.dA.CLEAR_ACTUAL_FROM_TASK:return"alarm_off";case me.dA.CLEAR_ACTUAL_TO_TASK:return"hourglass_disabled";case me.dA.CLOSE_TASK:return"swipe_down_alt";case me.dA.REOPEN_TASK:return"swipe_up_alt";case me.dA.EDIT_FIELDS:return"edit";case me.dA.REPORT_CREATED:return"history_edu";case me.dA.MOVED_TO_DIRECTORY:return"double_arrow";default:return"adjust"}}getEventColor(t){if(!("type"in t))return"#7a7f8d";switch(t.type){case me.dA.CHANGE_STAGE:return"#289de7";case me.dA.CREATE_WORK_LOG:return"#49DF30";case me.dA.FORCE_CLOSE_WORK_LOG:return"#e81a30";case me.dA.CLOSE_WORK_LOG:return"#52ff89";case me.dA.CHANGE_RESPONSIBILITY:return"#ff9f3b";case me.dA.LINKED_TO_PARENT_TASK:return"#9933ec";case me.dA.UNLINKED_FROM_PARENT_TASK:case me.dA.UNLINK_CHILD_TASK:return"#ef369d";case me.dA.LINKED_TO_CHILD_TASKS:return"#9933ec";case me.dA.CHANGE_TAGS:return"#13c587";case me.dA.CLEAN_TAGS:return"#c73953";case me.dA.CHANGE_OBSERVERS:return"#ff763b";case me.dA.UNBIND_RESPONSIBLE:return"#3bdbff";case me.dA.CHANGE_ACTUAL_FROM:return"#3bff3e";case me.dA.CHANGE_ACTUAL_TO:return"#a7e52e";case me.dA.CLEAR_ACTUAL_FROM_TASK:return"#c79436";case me.dA.CLEAR_ACTUAL_TO_TASK:return"#a65c48";case me.dA.CLOSE_TASK:return"#866e6e";case me.dA.REOPEN_TASK:return"#1a7ae8";case me.dA.EDIT_FIELDS:return"#61d78d";case me.dA.REPORT_CREATED:return"#ff9f3b";case me.dA.MOVED_TO_DIRECTORY:return"#95e31c";default:return"#ff0000"}}hasAttachments(t){var i,s;return!!t&&"attachments"in t&&(null!==(s=null===(i=t.attachments)||void 0===i?void 0:i.length)&&void 0!==s?s:0)>0}getAttachments(t,i=!0){if(!t)return[];const s="attachments"in t&&t.attachments?t.attachments:[];return i?s.slice(0,3):s.slice(3)}getAttachmentsCount(t){return t&&"attachments"in t&&t.attachments?t.attachments.length:0}trackByAttachment(t,i){return i?i.name:t}selectCommentToReply(t){this.replyComment=t,this.replyCommentChange.emit(this.replyComment)}selectCommentToEdit(t){this.editComment=t,this.editCommentChange.emit(this.editComment)}isHasReply(t){return"replyComment"in t&&t.replyComment}getReplyComment(t){return"replyComment"in t?t.replyComment:void 0}confirmToDeleteComment(t){this.confirmation.confirm({header:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439?",accept:()=>this.api.deleteComment(t.commentId).subscribe()})}onEmployeeUpdate(t){var i;for(const s of this.entries)(null===(i=s.creator)||void 0===i?void 0:i.login)===t.login&&(s.creator=t)}clearEntries(){this.entries=[],this.totalEntries=0,this.firstLoad=!0,this.journalIsFullyLoaded=!1,this.loading=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(J.F),e.Y36(N.YP),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-journal"]],inputs:{replyComment:"replyComment",editComment:"editComment",showEvents:"showEvents",sortingType:"sortingType",taskId:"taskId"},outputs:{replyCommentChange:"replyCommentChange",editCommentChange:"editCommentChange",onFirstLoad:"onFirstLoad"},decls:7,vars:4,consts:[["appLazyPageLoader","",1,"journal",3,"loading","load","loadingChange"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["eventIcon",""],["eventHeader",""],["class","journal-item",3,"ngClass",4,"ngIf"],[1,"journal-item",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","vertical-line",4,"ngIf"],[1,"employee-avatar-wrapper"],[3,"src","name","size"],[1,"journal-event-body",3,"ngClass"],["appTextRevival","",3,"content",4,"ngIf"],["class","flexed gap5 hcenter",4,"ngIf"],["class","attachments-list",4,"ngIf"],["class","reply-comment",4,"ngIf"],["class","event-footer",4,"ngIf"],[1,"vertical-line"],["appTextRevival","",3,"content"],[1,"flexed","gap5","hcenter"],["appTextRevival","",4,"ngIf"],["appTextRevival",""],[1,"attachments-list"],[3,"attachment",4,"ngFor","ngForOf","ngForTrackBy"],[3,"buttonCaption",4,"ngIf"],[3,"attachment"],[3,"buttonCaption"],[1,"reply-comment"],[1,"reply-marker"],[3,"name","src","size"],[1,"journal-event-body"],[3,"data"],[1,"event-footer"],["class","journal-item skeleton",4,"ngFor","ngForOf"],[1,"journal-item","skeleton"],["shape","circle","size","2rem",1,"event-type-wrapper","skeleton"],["shape","circle","size","2.8rem",1,"employee-avatar-wrapper"],[1,"journal-event-header"],[1,"basic-information"],["height","1rem","width","10rem"],["height",".8rem","width","7rem"],["height","6rem",1,"journal-event-body"],[1,"event-type-wrapper"],[1,"material-icons-round"],[1,"employee-name"],[1,"creation-time"],["icon","reply","label","\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c","model","p-button-text",3,"disabled","onClick",4,"ngIf"],["icon","more_vert",3,"disabled","onClick",4,"ngIf"],["appendTo","body"],["ownCommentMenu",""],["pTemplate","content"],["icon","reply","label","\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c","model","p-button-text",3,"disabled","onClick"],["icon","more_vert",3,"disabled","onClick"],["icon","edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","model","p-button-text p-button-warn",3,"disabled","onClick",4,"ngIf"],["icon","delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","model","p-button-text p-button-danger",3,"disabled","onClick",4,"ngIf"],["icon","edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","model","p-button-text p-button-warn",3,"disabled","onClick"],["icon","delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","model","p-button-text p-button-danger",3,"disabled","onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0),e.NdJ("load",function(){return i.loadComments()})("loadingChange",function(d){return i.loading=d}),e.YNc(1,EN,2,1,"ng-container",1),e.YNc(2,kN,2,1,"ng-container",2),e.qZA(),e.YNc(3,DN,3,3,"ng-template",null,3,e.W1O),e.YNc(5,NN,12,8,"ng-template",null,4,e.W1O)),2&t&&(e.Q6J("loading",i.loading),e.xp6(1),e.Q6J("ngForOf",i.displayedEntries)("ngForTrackBy",i.trackByEntry),e.xp6(1),e.Q6J("ngIf",i.loading))},dependencies:[k.mk,k.sg,k.O5,k.tP,N.jx,$l.O,sA.lF,Ou.T,ib.qH,qR.D,x.A,D.r,$R.r,XR,iN,oN.J,v_.t,sN],styles:['.journal[_ngcontent-%COMP%]{display:flex;flex-direction:column}.journal[_ngcontent-%COMP%]   .journal-item[_ngcontent-%COMP%]{display:grid;grid:min-content min-content/max-content max-content 1fr;grid-template-areas:"event-type employee-avatar event-header" "event-stick . event-body"}.journal[_ngcontent-%COMP%]   .journal-item[_ngcontent-%COMP%]   .journal-event-body[_ngcontent-%COMP%]:not(.event):not(.reply){padding-bottom:3rem}.journal[_ngcontent-%COMP%]   .journal-item.event[_ngcontent-%COMP%]{grid:min-content min-content/repeat(3,max-content) 1fr;grid-template-areas:"event-type employee-avatar event-header event-body" "event-stick event-footer event-footer event-footer"}.journal[_ngcontent-%COMP%]   .journal-item.reply[_ngcontent-%COMP%]{grid:repeat(3,min-content)/max-content max-content 1fr;grid-template-areas:"event-type employee-avatar event-header" "event-stick . event-body" "event-stick reply-comment reply-comment"}.event-type-wrapper[_ngcontent-%COMP%]{grid-area:event-type;display:flex;align-items:center;justify-content:center;width:2rem;height:2rem;color:#fff;border-radius:9999px;align-self:center}.event-type-wrapper[_ngcontent-%COMP%]:not(.skeleton){background-color:var(--gray-600)}.event-type-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem}.employee-avatar-wrapper[_ngcontent-%COMP%]{align-items:center;grid-area:employee-avatar;display:flex;padding:0 1rem 0 1.5rem}.journal-item[_ngcontent-%COMP%]:not(:last-child)   .vertical-line[_ngcontent-%COMP%]{grid-area:event-stick;background-color:var(--bgc-300);width:1px;justify-self:center}.journal-event-header[_ngcontent-%COMP%]{grid-area:event-header;display:flex;align-items:center;gap:1rem}.journal-event-header[_ngcontent-%COMP%]   .basic-information[_ngcontent-%COMP%]{display:flex;align-self:center;flex-direction:column}.journal-event-header[_ngcontent-%COMP%]   .basic-information[_ngcontent-%COMP%]   .employee-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--tc-800);line-height:normal}.journal-event-header[_ngcontent-%COMP%]   .basic-information[_ngcontent-%COMP%]   .creation-time[_ngcontent-%COMP%]{font-size:.8rem;color:var(--tc-500);line-height:normal}.journal-event-body[_ngcontent-%COMP%]{grid-area:event-body;padding-top:.5rem}.journal-event-body.event[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;padding-left:1.2rem;display:flex;align-items:center}.reply-comment[_ngcontent-%COMP%]{grid-area:reply-comment;display:grid;opacity:.9;grid:min-content min-content/max-content max-content 1fr;grid-template-areas:"reply-marker employee-avatar event-header" "reply-marker . event-body"}.reply-comment[_ngcontent-%COMP%]   .reply-marker[_ngcontent-%COMP%]{grid-area:reply-marker;margin:0 0 2rem 2.8rem;background-color:var(--mc-300);width:3px;border-radius:3px}.reply-comment[_ngcontent-%COMP%]   .journal-event-header[_ngcontent-%COMP%], .reply-comment[_ngcontent-%COMP%]   .employee-avatar-wrapper[_ngcontent-%COMP%]{margin-top:1rem}.event-footer[_ngcontent-%COMP%]{grid-area:event-footer;height:2rem}.attachments-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.1rem;padding-top:.6rem}'],data:{animation:[f.U1]}}),n})();var UA=b(3078),sI=b(2777),BN=b(3460);const ZN=["panel"],UN=["target"],HN=["list"],VN=function(n){return{selected:n}};function zN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",8),e.NdJ("click",function(){const d=e.CHM(t).$implicit,T=e.oxw(2),W=e.MAs(3);return null==W||W.hide(),e.KtG(T.onSelect.emit(d))})("mouseenter",function(){const d=e.CHM(t).index,T=e.oxw(2);return e.KtG(T.selectedEmployeeIndex=d)}),e._UZ(1,"app-employee-label",9),e.qZA()}if(2&n){const t=o.$implicit,i=o.index,s=e.oxw(2);e.Q6J("ngClass",e.VKq(2,VN,s.selectedEmployeeIndex===i)),e.xp6(1),e.Q6J("employee",t)}}function JN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5,6),e.NdJ("keydown",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.navigate(s))}),e.YNc(2,zN,2,4,"div",7),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("tabIndex",0),e.xp6(2),e.Q6J("ngForOf",t.employees)}}let QN=(()=>{class n{constructor(t){this.api=t,this.targetPosition={top:"0px",left:"0px"},this.employees=[],this.selectedEmployeeIndex=0,this.onSelect=new e.vpe,this.onReturnFocus=new e.vpe}setQuillEvent(t){var i;!_.cQ.isCorrectSequenceOfCharacters(t,"@",[" ","\n"])||(null===(i=this.panel)||void 0===i||i.hide(),this.api.getEmployees(void 0,!1,!1).subscribe(s=>{var d,T,W;this.employees=s;const{editor:qe}=t,$t=qe.getSelection(),{top:jt,left:Wt}=qe.getBounds(null!==(d=null==$t?void 0:$t.index)&&void 0!==d?d:0),Rn=t.editor.root.getBoundingClientRect();this.targetPosition={left:Wt+Rn.x+window.scrollX+"px",top:jt+Rn.y+window.scrollY+"px"},null===(T=this.panel)||void 0===T||T.show(new MouseEvent("click"),null===(W=this.target)||void 0===W?void 0:W.nativeElement),setTimeout(()=>{var jn,Ti;null===(Ti=null===(jn=this.list)||void 0===jn?void 0:jn.nativeElement)||void 0===Ti||Ti.focus()},100)}))}ngOnInit(){}navigate(t){var i,s;switch(t.key){case"ArrowDown":t.preventDefault(),t.stopPropagation(),this.selectedEmployeeIndex++,this.selectedEmployeeIndex>=this.employees.length&&(this.selectedEmployeeIndex=0);break;case"ArrowUp":t.preventDefault(),t.stopPropagation(),this.selectedEmployeeIndex--,this.selectedEmployeeIndex<0&&(this.selectedEmployeeIndex=this.employees.length-1);break;case"Enter":null===(i=this.panel)||void 0===i||i.hide(),this.onSelect.emit(this.employees[this.selectedEmployeeIndex]);break;default:null===(s=this.panel)||void 0===s||s.hide(),this.onReturnFocus.emit()}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-insert-panel"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ZN,5),e.Gf(UN,5),e.Gf(HN,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.panel=s.first),e.iGM(s=e.CRH())&&(i.target=s.first),e.iGM(s=e.CRH())&&(i.list=s.first)}},outputs:{onSelect:"onSelect",onReturnFocus:"onReturnFocus"},decls:5,vars:3,consts:[[1,"overlay-target"],["target",""],["appCloseIfScroll","","showTransitionOptions","0ms","hideTransitionOptions","0ms",3,"dismissable"],["panel",""],["pTemplate","content"],[1,"list-view",3,"tabIndex","keydown"],["list",""],["class","p5",3,"ngClass","click","mouseenter",4,"ngFor","ngForOf"],[1,"p5",3,"ngClass","click","mouseenter"],[3,"employee"]],template:function(t,i){1&t&&(e._UZ(0,"div",0,1),e.TgZ(2,"p-overlayPanel",2,3),e.YNc(4,JN,3,2,"ng-template",4),e.qZA()),2&t&&(e.Akn(i.targetPosition),e.xp6(2),e.Q6J("dismissable",!0))},dependencies:[k.mk,k.sg,N.jx,Ou.T,Cc.x,BN.j],styles:[".overlay-target[_ngcontent-%COMP%]{width:1px;height:13px;position:absolute;-webkit-user-select:none;user-select:none}.list-view[_ngcontent-%COMP%]{outline:0}.list-view[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none}.list-view[_ngcontent-%COMP%]   *.selected[_ngcontent-%COMP%]{background-color:var(--gray-200)}"]}),n})();var GN=b(7805),WN=b(4464);let YN=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-circle-loading-indicator"]],decls:4,vars:0,consts:[[1,"loading-indicator"],[1,"circle","first"],[1,"circle","second"],[1,"circle","third"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1)(2,"div",2)(3,"div",3),e.qZA())},styles:[".loading-indicator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.3rem;height:.8rem}.circle[_ngcontent-%COMP%]{width:auto;height:100%;aspect-ratio:1;border-radius:50%;background-color:#b2b9c230}.first[_ngcontent-%COMP%]{animation:1.2s pulse ease-in infinite}.second[_ngcontent-%COMP%]{animation:1.2s pulse ease-in .4s infinite}.third[_ngcontent-%COMP%]{animation:1.2s pulse ease-in .8s infinite}@keyframes pulse{0%{transform:scale(1);background-color:#b2b9c230}15%{transform:scale(.9);background-color:#b2b9c2}33%,to{transform:scale(1);background-color:#b2b9c230}}"]}),n})();function jN(n,o){1&n&&(e.TgZ(0,"div",10),e._uU(1,"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0435\u0433\u0438"),e.qZA())}function KN(n,o){if(1&n&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.hij(" ",t.name," ")}}function qN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e.NdJ("mouseenter",function(s){e.CHM(t),e.oxw(2);const d=e.MAs(4);return e.KtG(d.show(s))})("mouseleave",function(){e.CHM(t),e.oxw(2);const s=e.MAs(4);return e.KtG(s.hide())}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.hij(" \u0418 \u0435\u0449\u0435 ",t.selectedTags.length-2," ")}}function $N(n,o){if(1&n&&(e.YNc(0,jN,2,0,"div",7),e.TgZ(1,"div",8),e.YNc(2,KN,2,3,"div",6),e.ALo(3,"slice"),e.YNc(4,qN,2,1,"div",9),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngIf",!t.selectedTags||0===t.selectedTags.length),e.xp6(2),e.Q6J("ngForOf",e.Dn7(3,4,t.selectedTags,0,2))("ngForTrackBy",t.trackByTaskTag),e.xp6(2),e.Q6J("ngIf",t.control.value&&t.control.value.length>2)}}function XN(n,o){if(1&n&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.hij(" ",t.name," ")}}function eF(n,o){if(1&n&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.hij(" ",t.name," ")}}let HA=(()=>{class n{constructor(t){this.api=t,this.availableTags=[],this.control=new g.NI(null),this.subscription=new _.xf,this.onChange=()=>{},this.onTouched=()=>{}}get selectedTags(){return this.availableTags.filter(t=>{var i;return null===(i=this.control.value)||void 0===i?void 0:i.includes(t.taskTagId)})}trackByTaskTag(t,i){return i.taskTagId}setDisabledState(t){t?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}ngOnInit(){this.api.getTaskTags(null,!0).subscribe(t=>{this.availableTags=t}),this.subscription.addSubscription("change",this.control.valueChanges.pipe((0,gt.U)(t=>null!=t?t:[])).subscribe(t=>{this.onChange(t)}))}ngOnDestroy(){this.subscription.unsubscribeAll()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.control.setValue(t||null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-tag-filter-input"]],features:[e._Bn([{provide:g.JU,multi:!0,useExisting:n}])],decls:8,vars:9,consts:[["filterBy","name","appendTo","body","defaultLabel","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0435\u0433\u0438","optionValue","taskTagId","placeholder","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0435\u0433\u0438",3,"formControl","filter","options","showClear","onBlur"],["pTemplate","selectedItems"],["pTemplate","item"],["showTransitionOptions","0ms","hideTransitionOptions","0ms"],["extraPreview",""],[1,"tags-view","wrap","max"],["class","tags-view-item",3,"background-color",4,"ngFor","ngForOf","ngForTrackBy"],["class","tags-view-placeholder",4,"ngIf"],[1,"tags-view"],["class","tags-view-item",3,"mouseenter","mouseleave",4,"ngIf"],[1,"tags-view-placeholder"],[1,"tags-view-item"],[1,"tags-view-item",3,"mouseenter","mouseleave"]],template:function(t,i){1&t&&(e.TgZ(0,"p-multiSelect",0),e.NdJ("onBlur",function(){return i.onTouched()}),e.YNc(1,$N,5,8,"ng-template",1),e.YNc(2,XN,2,3,"ng-template",2),e.qZA(),e.TgZ(3,"p-overlayPanel",3,4)(5,"div",5),e.YNc(6,eF,2,3,"div",6),e.ALo(7,"slice"),e.qZA()()),2&t&&(e.Q6J("formControl",i.control)("filter",!0)("options",i.availableTags)("showClear",!0),e.xp6(6),e.Q6J("ngForOf",e.xi3(7,6,i.selectedTags,2))("ngForTrackBy",i.trackByTaskTag))},dependencies:[k.sg,k.O5,g.JJ,N.jx,Ou.T,rA.NU,g.oH,k.OU]}),n})();function tF(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",11),e._UZ(2,"p-progressSpinner",12),e.qZA(),e.BQk())}function nF(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",13)(2,"div",14),e._UZ(3,"i",15),e.TgZ(4,"span"),e._uU(5,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()()(),e.BQk())}function iF(n,o){1&n&&e.GkF(0)}function oF(n,o){if(1&n&&(e.ynx(0),e.YNc(1,iF,1,0,"ng-container",16),e.BQk()),2&n){const t=e.oxw(2),i=e.MAs(3),s=e.MAs(5);e.xp6(1),e.Q6J("ngIf","single"===t.linkingMode)("ngIfThen",i)("ngIfElse",s)}}function sF(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",11)(2,"div",17),e._UZ(3,"i",18),e.TgZ(4,"span"),e._uU(5,"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0437\u0430\u0434\u0430\u0447"),e.qZA()()(),e.BQk())}function rF(n,o){1&n&&e.GkF(0)}function aF(n,o){1&n&&e.GkF(0)}function lF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",19),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.selectChild())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",0===t.selectedChildTask.length)}}function cF(n,o){1&n&&(e.TgZ(0,"div",20),e._UZ(1,"app-circle-loading-indicator"),e.qZA())}function uF(n,o){if(1&n&&(e.ynx(0,6),e.YNc(1,tF,3,0,"ng-container",7),e.YNc(2,nF,6,0,"ng-container",7),e.YNc(3,oF,2,3,"ng-container",7),e.YNc(4,sF,6,0,"ng-container",7),e.BQk(),e.YNc(5,rF,1,0,"ng-container",8),e.YNc(6,aF,1,0,"ng-container",8),e.YNc(7,lF,1,1,"p-button",9),e.YNc(8,cF,2,0,"div",10)),2&n){const t=e.oxw(),i=e.MAs(7),s=e.MAs(9);e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s),e.xp6(1),e.Q6J("ngIf","multiply"===t.linkingMode),e.xp6(1),e.Q6J("ngIf",t.linkingInProgress)}}function dF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-list-element",23),e.NdJ("onClick",function(){const d=e.CHM(t).$implicit,T=e.oxw(2);return e.KtG(T.selectParent(d.taskId))}),e.qZA()}2&n&&e.Q6J("item",o.$implicit)("customClickHandler",!0)("inlined",!0)}function pF(n,o){if(1&n&&(e.TgZ(0,"div",21),e.YNc(1,dF,1,3,"app-task-list-element",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.pageOfTasks?null:t.pageOfTasks.content)}}function hF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-list-element",25),e.NdJ("checkChange",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.selectedChildTask=s)}),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("check",i.selectedChildTask)("item",t)("customClickHandler",!0)("inlined",!0)("isHover",!1)}}function gF(n,o){if(1&n&&(e.TgZ(0,"div",21),e.YNc(1,hF,1,5,"app-task-list-element",24),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.pageOfTasks?null:t.pageOfTasks.content)}}function mF(n,o){1&n&&e._UZ(0,"app-task-status-chooser",33)}function fF(n,o){if(1&n&&(e.TgZ(0,"div",26),e._UZ(1,"app-task-template-multi-selector",27),e.YNc(2,mF,1,0,"app-task-status-chooser",28),e._UZ(3,"input",29)(4,"app-employee-selector",30)(5,"app-data-range-input",31)(6,"app-task-tag-filter-input",32),e.qZA()),2&n){const t=e.oxw();e.Q6J("formGroup",t.mainFilterForm),e.xp6(1),e.Q6J("inline",!0),e.xp6(1),e.Q6J("ngIf",!t.onlyMy)}}function _F(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-paginator",34),e.NdJ("onPageChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.changePage(s))}),e.qZA()}if(2&n){const t=e.oxw();let i;e.Q6J("alwaysShow",!0)("rows",25)("showCurrentPageReport",!0)("totalRecords",null!==(i=null==t.pageOfTasks?null:t.pageOfTasks.totalElements)&&void 0!==i?i:0)}}const CF=function(){return{width:"80vw"}},vF=function(){return{"960px":"90vw","640px":"100vw"}};let VA=(()=>{class n{constructor(t,i){this.api=t,this.confirm=i,this.excludedTasks=[],this.header="",this.onlyMy=!1,this.onSelected=new e.vpe,this.onMultiplySelected=new e.vpe,this.isShow=!1,this.linkingMode="single",this.selectedChildTask=[],this.currentPage=0,this.loadingState=me.Gu.LOADING,this.linkingInProgress=!1,this.lastAppliedMainFilter={},this.dialogContentStyle={padding:"0 1rem 0 1rem",display:"grid",grid:"1fr min-content/ 1fr max-content",gridTemplateAreas:"'list filter''paginator paginator'",columnGap:"1rem"},this.mainFilterForm=new g.cw({searchPhrase:new g.NI(null),template:new g.NI([],[P.d.notEmpty]),status:new g.NI([me.hY.ACTIVE,me.hY.PROCESSING,me.hY.CLOSE],[P.d.notEmpty]),author:new g.NI(null),dateOfCreation:new g.NI(null),tags:new g.NI([])}),this.filters$=this.mainFilterForm.valueChanges.pipe((0,bs.b)(1e3),(0,Zr.x)(),(0,gt.U)(({searchPhrase:s,template:d,status:T,author:W,dateOfCreation:Ce,tags:qe})=>({searchPhrase:s,template:d,status:T,author:W,dateOfCreation:Ce,tags:qe})),(0,un.d)(1)),this.subscriptions=new _.xf}ngOnInit(){this.subscriptions.addSubscription("filter",this.filters$.subscribe(t=>{this.loadingState=me.Gu.LOADING,this.mainFilterForm.disable({emitEvent:!1}),this.api.getPageOfTasks(0,Object.assign(Object.assign({},t),{exclusionIds:this.excludedTasks,onlyMy:this.onlyMy})).subscribe(this.loadHandler())}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}open(t){this.isShow=!0,this.linkingMode=t}changePage(t){this.loadingState=me.Gu.LOADING,this.mainFilterForm.disable({emitEvent:!1}),(0,WN.n)(this.filters$.pipe((0,nh.P)())).then(i=>this.api.getPageOfTasks(t.page,Object.assign(Object.assign({},i),{exclusionIds:this.excludedTasks,onlyMy:this.onlyMy})).subscribe(this.loadHandler()))}loadHandler(){return{next:t=>{this.pageOfTasks=t,this.loadingState=t.totalElements>0?me.Gu.READY:me.Gu.EMPTY,this.mainFilterForm.enable({emitEvent:!1})},error:()=>{this.loadingState=me.Gu.ERROR,this.mainFilterForm.enable({emitEvent:!1})}}}selectParent(t){this.onSelected.emit(t),this.linkingInProgress=!1,this.selectedChildTask=[],this.isShow=!1}selectChild(){this.onMultiplySelected.emit(this.selectedChildTask),this.linkingInProgress=!1,this.selectedChildTask=[],this.isShow=!1}closeHandler(){this.mainFilterForm.setValue({template:[],status:[me.hY.ACTIVE,me.hY.PROCESSING,me.hY.CLOSE],dateOfCreation:null,tags:[],author:"",searchPhrase:""}),this.pageOfTasks=void 0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-selecting-dialog"]],inputs:{excludedTasks:"excludedTasks",header:"header",onlyMy:"onlyMy"},outputs:{onSelected:"onSelected",onMultiplySelected:"onMultiplySelected"},decls:10,vars:12,consts:[[3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","contentStyle","header","visibleChange","onHide"],["pTemplate","content"],["parentTaskList",""],["childTaskList",""],["filter",""],["paginator",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet"],["styleClass","p-button-success","class","float-button","label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","icon","mdi-check",3,"disabled","onClick",4,"ngIf"],["class","loading-shader",4,"ngIf"],[1,"list","flexed","hcenter","vcenter"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"list","flexed","hcenter","vcenter","flexed","hcenter","gap3"],[1,"caption","size-big","wt-bold","f-color-danger"],[1,"mdi-error"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"caption","size-big","wt-bold","f-color-500","flexed","hcenter","gap3"],[1,"mdi-search_off"],["styleClass","p-button-success","label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","icon","mdi-check",1,"float-button",3,"disabled","onClick"],[1,"loading-shader"],[1,"list"],[3,"item","customClickHandler","inlined","onClick",4,"ngFor","ngForOf"],[3,"item","customClickHandler","inlined","onClick"],["checkGroup","childTasks",3,"check","item","customClickHandler","inlined","isHover","checkChange",4,"ngFor","ngForOf"],["checkGroup","childTasks",3,"check","item","customClickHandler","inlined","isHover","checkChange"],[1,"filters",3,"formGroup"],["formControlName","template",3,"inline"],["formControlName","status",4,"ngIf"],["pInputText","","formControlName","searchPhrase","placeholder","\u041e\u0431\u0449\u0438\u0439 \u043f\u043e\u0438\u0441\u043a"],["formControlName","author"],["formControlName","dateOfCreation"],["formControlName","tags",1,"full-width"],["formControlName","status"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447",1,"paginator",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","onPageChange"]],template:function(t,i){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(d){return i.isShow=d})("onHide",function(){return i.closeHandler()}),e.YNc(1,uF,9,9,"ng-template",1),e.qZA(),e.YNc(2,pF,2,1,"ng-template",null,2,e.W1O),e.YNc(4,gF,2,1,"ng-template",null,3,e.W1O),e.YNc(6,fF,7,3,"ng-template",null,4,e.W1O),e.YNc(8,_F,1,4,"ng-template",null,5,e.W1O)),2&t&&(e.Akn(e.DdM(10,CF)),e.Q6J("visible",i.isShow)("breakpoints",e.DdM(11,vF))("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1)("contentStyle",i.dialogContentStyle)("header",i.header))},dependencies:[k.sg,k.O5,k.tP,k.RF,k.n9,O.zx,g.Fj,g.JJ,g.JL,N.jx,wo.V,it.G,bi.o,g.sg,g.u,Al.D,YN,Qc.E,HA,LA,nI,iI,ab],styles:[".filters[_ngcontent-%COMP%]{grid-area:filter;display:flex;flex-direction:column;gap:.5rem;position:sticky;top:0;height:max-content;padding-bottom:1rem}.list[_ngcontent-%COMP%]{grid-area:list;display:flex;flex-direction:column}.paginator[_ngcontent-%COMP%]{grid-area:paginator;position:sticky;bottom:0}.loading-shader[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;width:100%;height:100%;z-index:1;background-color:#fff9;top:0;left:0;-webkit-backdrop-filter:blur(7px);backdrop-filter:blur(7px);border-radius:1rem}.float-button[_ngcontent-%COMP%]{position:absolute;bottom:1rem;right:1rem}"]}),n})();var bF=b(7445);let yF=(()=>{class n{constructor(t){this.elementRef=t,this.subscriptions=new _.xf,this.measureElement=document.createElement("div")}ngAfterViewInit(){const t=this.elementRef.nativeElement;document.body.append(this.measureElement),t.style.boxSizing="border-box";const i=window.getComputedStyle(t);this.measureElement.style.fontSize=i.fontSize,this.measureElement.style.fontFamily=i.fontFamily,this.measureElement.style.fontWeight=i.fontWeight,this.measureElement.style.fontStyle=i.fontStyle,this.measureElement.style.padding=i.padding,this.measureElement.style.lineHeight=i.lineHeight,this.measureElement.style.letterSpacing=i.letterSpacing,this.measureElement.style.border=i.border,this.measureElement.style.minHeight=parseFloat(i.fontSize)+5+"px",this.measureElement.style.whiteSpace="pre-wrap",this.measureElement.style.boxSizing="border-box",this.measureElement.style.visibility="hidden",this.measureElement.style.position="fixed",this.measureElement.style.top="0",this.measureElement.style.left="0",this.measureElement.style.overflow="hidden",this.measureElement.style.width=t.offsetWidth+"px",this.measureElement.style.height="auto",this.measureElement.style.overflowWrap="break-word";const s=(0,y.R)(t,"input"),d=(0,bF.F)(300),T=(0,y.R)(window,"resize"),W=s.subscribe(this.resize.bind(this)),Ce=d.subscribe(this.resize.bind(this));this.subscriptions.addSubscription("input",W),this.subscriptions.addSubscription("interval",Ce);const qe=T.subscribe(this.resize.bind(this));this.subscriptions.addSubscription("winResize",qe),this.resize()}ngOnDestroy(){this.subscriptions.unsubscribeAll()}resize(){const t=this.elementRef.nativeElement,i=t.value;this.measureElement.style.width=t.offsetWidth+"px",this.measureElement.innerText=i;let s=0;"\n"===i[i.length-1]&&(s=parseFloat(window.getComputedStyle(t).fontSize)+5),this.measureElement.style.boxSizing=0===t.value.length?"content-box":"border-box",t.style.height=this.measureElement.offsetHeight+s+"px"}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","appTextareaAutoresize",""]]}),n})();var zA=b(1787);function xF(n,o){1&n&&(e.TgZ(0,"div",7)(1,"span",8),e._UZ(2,"i",9),e.TgZ(3,"span"),e._uU(4," \u041d\u0435\u0442 \u0436\u0443\u0440\u043d\u0430\u043b\u043e\u0432 \u0440\u0430\u0431\u043e\u0442 "),e.qZA()()())}function IF(n,o){1&n&&e.GkF(0)}function TF(n,o){if(1&n&&(e.TgZ(0,"span",27)(1,"span",15),e._UZ(2,"i",28),e.TgZ(3,"span"),e._uU(4,"\u041e\u0442\u0447\u0435\u0442"),e.qZA()(),e.TgZ(5,"span",29),e._uU(6),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(6),e.Oqu(t.report)}}const AF=function(n){return{$implicit:n}};function wF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e.YNc(1,IF,1,0,"ng-container",13),e.TgZ(2,"span",14)(3,"span")(4,"span",15),e._UZ(5,"i",16),e.TgZ(6,"span"),e._uU(7,"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b:"),e.qZA()(),e._UZ(8,"app-avatar-list",17),e.qZA(),e.TgZ(9,"span")(10,"span",15),e._UZ(11,"i",16),e.TgZ(12,"span"),e._uU(13,"\u041f\u0440\u0438\u043d\u044f\u043b\u0438:"),e.qZA()(),e._UZ(14,"app-avatar-list",17),e.qZA(),e.TgZ(15,"span")(16,"span",15),e._UZ(17,"i",16),e.TgZ(18,"span"),e._uU(19,"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0438:"),e.qZA()(),e._UZ(20,"app-avatar-list",17),e.qZA(),e.TgZ(21,"span")(22,"span",15),e._UZ(23,"i",18),e.TgZ(24,"span"),e._uU(25,"\u0421\u043e\u0437\u0434\u0430\u043b:"),e.qZA()(),e._UZ(26,"app-employee-label",19),e.qZA()(),e.TgZ(27,"span",20)(28,"span",21)(29,"span",15),e._UZ(30,"i",22),e.TgZ(31,"span"),e._uU(32,"\u0421\u043e\u0437\u0434\u0430\u043d:"),e.qZA()(),e.TgZ(33,"span"),e._uU(34),e.ALo(35,"date"),e.qZA()(),e.TgZ(36,"span",21)(37,"span",15),e._UZ(38,"i",23),e.TgZ(39,"span"),e._uU(40,"\u0417\u0430\u043a\u0440\u044b\u0442:"),e.qZA()(),e.TgZ(41,"span"),e._uU(42),e.ALo(43,"date"),e.qZA()(),e.TgZ(44,"span",21)(45,"span",15),e._UZ(46,"i",24),e.TgZ(47,"span"),e._uU(48,"\u0417\u0430\u0442\u0440\u0430\u0447\u0435\u043d\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438:"),e.qZA()(),e.TgZ(49,"span"),e._uU(50),e.ALo(51,"elapsedTime"),e.qZA()()(),e.TgZ(52,"span",14)(53,"p-button",25),e.NdJ("onClick",function(){const d=e.CHM(t).$implicit,T=e.oxw(3);return e.KtG(T.chatService.open.emit(d.chat.chatId))}),e.qZA()(),e.YNc(54,TF,7,1,"span",26),e.qZA()}if(2&n){const t=o.$implicit;e.oxw(3);const i=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(22,AF,t.status)),e.xp6(7),e.Q6J("employees",t.employees),e.xp6(6),e.Q6J("employees",t.whoAccepted),e.xp6(6),e.Q6J("employees",t.whoClosed),e.xp6(6),e.Q6J("employee",t.creator)("size",2),e.xp6(8),e.Oqu(e.xi3(35,11,t.created,"dd-MM-yyyy HH:mm")),e.xp6(8),e.Oqu(e.xi3(43,14,t.closed,"dd-MM-yyyy HH:mm")),e.xp6(8),e.Oqu(e.gM2(51,17,t.leadTime,"","",!0)),e.xp6(4),e.Q6J("ngIf",t.report)}}function EF(n,o){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,wF,55,24,"div",11),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.workLogs)("ngForTrackBy",t.trackByWorkLog)}}function SF(n,o){1&n&&e.GkF(0)}function kF(n,o){if(1&n&&(e.ynx(0),e.YNc(1,SF,1,0,"ng-container",30),e.BQk()),2&n){e.oxw(2);const t=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function DF(n,o){if(1&n&&(e.YNc(0,xF,5,0,"div",4),e.YNc(1,EF,2,2,"div",5),e.YNc(2,kF,2,1,"ng-container",6)),2&n){const t=e.oxw();e.Q6J("ngIf",!t.isLoading&&!t.workLogs.length),e.xp6(1),e.Q6J("ngIf",!t.isLoading&&t.workLogs.length),e.xp6(1),e.Q6J("ngIf",t.isLoading)}}const MF=function(){return{color:"var(--warm-600)"}};function OF(n,o){1&n&&(e.TgZ(0,"span",33),e._UZ(1,"i",34),e.TgZ(2,"span"),e._uU(3," \u0412 \u0440\u0430\u0431\u043e\u0442\u0435 "),e.qZA()()),2&n&&e.Akn(e.DdM(2,MF))}const PF=function(){return{color:"var(--green-400)"}};function LF(n,o){1&n&&(e.TgZ(0,"span",33),e._UZ(1,"i",35),e.TgZ(2,"span"),e._uU(3," \u0417\u0430\u043a\u0440\u044b\u0442 "),e.qZA()()),2&n&&e.Akn(e.DdM(2,PF))}const RF=function(){return{color:"var(--red-400)"}};function NF(n,o){1&n&&(e.TgZ(0,"span",33),e._UZ(1,"i",36),e.TgZ(2,"span"),e._uU(3," \u0417\u0430\u043a\u0440\u044b\u0442 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e "),e.qZA()()),2&n&&e.Akn(e.DdM(2,RF))}function FF(n,o){1&n&&(e.ynx(0,31),e.YNc(1,OF,4,3,"span",32),e.YNc(2,LF,4,3,"span",32),e.YNc(3,NF,4,3,"span",32),e.BQk()),2&n&&(e.Q6J("ngSwitch",o.$implicit),e.xp6(1),e.Q6J("ngSwitchCase","ACTIVE"),e.xp6(1),e.Q6J("ngSwitchCase","CLOSE"),e.xp6(1),e.Q6J("ngSwitchCase","FORCE_CLOSE"))}function BF(n,o){1&n&&(e.TgZ(0,"div",12),e._UZ(1,"p-skeleton",38),e.TgZ(2,"span",14)(3,"span"),e._UZ(4,"p-skeleton",39),e.qZA(),e.TgZ(5,"span"),e._UZ(6,"p-skeleton",39),e.qZA(),e.TgZ(7,"span"),e._UZ(8,"p-skeleton",39),e.qZA(),e.TgZ(9,"span"),e._UZ(10,"p-skeleton",39),e.qZA()(),e.TgZ(11,"span",20)(12,"span",21),e._UZ(13,"p-skeleton",40),e.qZA(),e.TgZ(14,"span",21),e._UZ(15,"p-skeleton",40),e.qZA(),e.TgZ(16,"span",21),e._UZ(17,"p-skeleton",40),e.qZA()(),e.TgZ(18,"span",14),e._UZ(19,"p-skeleton",41)(20,"p-skeleton",42),e.qZA(),e._UZ(21,"p-skeleton",43),e.qZA())}function ZF(n,o){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,BF,22,0,"div",37),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.loadingPlaceholders)}}const UF=function(){return{maxWidth:"50vw",width:"fit-content",maxHeight:"60vh",minHeight:"10rem"}},HF=function(){return{"960px":"75vw","640px":"100vw"}},VF=function(){return{display:"grid"}};let zF=(()=>{class n{constructor(t,i,s){this.api=t,this.rt=i,this.chatService=s,this.dialogVisible=!1,this.workLogs=[],this.isLoading=!1,this.subscriptions=new _.xf,this.loadingPlaceholders=Array(3).fill(null)}ngOnInit(){this.rt.workLogCreated().subscribe(this.workLogCreate.bind(this)),this.rt.workLogUpdated().subscribe(this.workLogUpdate.bind(this)),this.rt.workLogDeleted().subscribe(this.workLogDelete.bind(this))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}workLogCreate(t){this.workLogs.unshift(t)}workLogUpdate(t){const i=this.workLogs.findIndex(s=>s.workLogId===t.workLogId);this.workLogs[i]=t}workLogDelete(t){const i=this.workLogs.findIndex(s=>s.workLogId===t.workLogId);this.workLogs.splice(i,1)}trackByWorkLog(t,i){return i.workLogId+i.status+i.whoAccepted.length+i.workReports.length}open(t){this.dialogVisible=!0,this.isLoading=!0,this.api.getWorkLogsByTaskId(t).subscribe({next:this.loadWorkLogs.bind(this),error:this.onErrorDuringLoad.bind(this)})}loadWorkLogs(t){this.isLoading=!1,this.workLogs=t}onErrorDuringLoad(){this.isLoading=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(_t.a))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-work-logs-dialog"]],decls:6,vars:12,consts:[["appendTo","body","header","\u0420\u0430\u0431\u043e\u0442\u044b \u0438 \u043e\u0442\u0447\u0435\u0442\u044b \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435",3,"visible","breakpoints","contentStyle","draggable","modal","resizable","dismissableMask","visibleChange"],["pTemplate","content"],["statusCaption",""],["loadingPlaceholderEl",""],["class","flexed column hcenter vcenter p10",4,"ngIf"],["class","flexed gap5 column list-view",4,"ngIf"],[4,"ngIf"],[1,"flexed","column","hcenter","vcenter","p10"],[1,"caption","size-big","wt-bold","f-color-500","flexed","hcenter","gap2"],[1,"mdi-playlist_remove"],[1,"flexed","gap5","column","list-view"],["class","work-log-element",4,"ngFor","ngForOf","ngForTrackBy"],[1,"work-log-element"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flexed","gap10"],[1,"flexed","gap3","hcenter","caption","size-small","wt-bold","f-color-500"],[1,"mdi-groups"],[3,"employees"],[1,"mdi-person"],[3,"employee","size"],[1,"flexed","gap10","caption","size-small"],[1,"flexed","column"],[1,"mdi-schedule_send"],[1,"mdi-cancel_schedule_send"],[1,"mdi-timelapse"],["icon","mdi-history","label","\u0427\u0430\u0442","styleClass","p-button-secondary p-button-outlined",3,"onClick"],["class","report",4,"ngIf"],[1,"report"],[1,"mdi-summarize"],[1,"report-text"],[4,"ngTemplateOutlet"],[3,"ngSwitch"],["class","caption size-small f-color-500 flexed hcenter gap3",3,"style",4,"ngSwitchCase"],[1,"caption","size-small","f-color-500","flexed","hcenter","gap3"],[1,"mdi-engineering"],[1,"mdi-verified"],[1,"mdi-close"],["class","work-log-element",4,"ngFor","ngForOf"],["height",".9rem","width","10rem"],["height","3.5rem","width","5rem"],["height","2rem","width","7rem"],["height","2.5rem","width","5rem"],["height","2.5rem","width","6rem"],["height","5rem","width","25rem"]],template:function(t,i){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(d){return i.dialogVisible=d}),e.YNc(1,DF,3,3,"ng-template",1),e.qZA(),e.YNc(2,FF,4,4,"ng-template",null,2,e.W1O),e.YNc(4,ZF,2,1,"ng-template",null,3,e.W1O)),2&t&&(e.Akn(e.DdM(9,UF)),e.Q6J("visible",i.dialogVisible)("breakpoints",e.DdM(10,HF))("contentStyle",e.DdM(11,VF))("draggable",!1)("modal",!0)("resizable",!1)("dismissableMask",!0))},dependencies:[k.sg,k.O5,k.tP,k.RF,k.n9,O.zx,N.jx,wo.V,$l.O,Cc.x,zA.k,v_.t,k.uU],styles:[".work-log-element[_ngcontent-%COMP%]{display:grid;grid:repeat(3,min-content) 1fr/1fr;gap:.5rem;padding:1rem}.work-log-element[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-100)}.report[_ngcontent-%COMP%]   .report-text[_ngcontent-%COMP%]{white-space:pre-line;font-size:.9rem;color:var(--tc-700)}"]}),n})();var JA=b(3868),JF=b(1403),QF=b(6501),GF=b(1318),WF=b(3435),YF=b(6083),jF=b(7728);const KF=["headerItm"],qF=["contentItm"];function $F(n,o){1&n&&e.GkF(0)}function XF(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.header," ")}}function e5(n,o){1&n&&e.GkF(0)}const t5=function(n){return{$implicit:n}};function n5(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,e5,1,0,"ng-container",7),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",e.VKq(2,t5,t))}}let o5=(()=>{class n{constructor(t){this.host=t,this._items=[],this.header="",this.headerTemplate=null,this.itemTemplate=null,this.onScrollDown=new e.vpe}set items(t){this._items=t}get items(){return this._items}onResize(){const t=this.host.nativeElement,i=this.host.nativeElement.parentElement,s=getComputedStyle(i),d=parseFloat(s.getPropertyValue("padding-top")),T=parseFloat(s.getPropertyValue("padding-bottom"));t.style.maxHeight=i.clientHeight-(d+T)+"px"}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>this.onResize()),this.contentItm.nativeElement.onwheel=t=>{const i=t.target;i.scrollHeight-(i.offsetHeight+i.scrollTop)==0&&this.onScrollDown.emit()}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-panel"]],viewQuery:function(t,i){if(1&t&&(e.Gf(KF,5),e.Gf(qF,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.headerItm=s.first),e.iGM(s=e.CRH())&&(i.contentItm=s.first)}},hostBindings:function(t,i){1&t&&e.NdJ("resize",function(){return i.onResize()},!1,e.Jf7)},inputs:{items:"items",header:"header",headerTemplate:"headerTemplate",itemTemplate:"itemTemplate"},outputs:{onScrollDown:"onScrollDown"},decls:7,vars:3,consts:[[1,"header"],["headerItm",""],[4,"ngTemplateOutlet"],[4,"ngIf"],[1,"content"],["contentItm",""],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0,1),e.YNc(2,$F,1,0,"ng-container",2),e.YNc(3,XF,2,1,"ng-container",3),e.qZA(),e.TgZ(4,"div",4,5),e.YNc(6,n5,2,4,"div",6),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngTemplateOutlet",i.headerTemplate),e.xp6(1),e.Q6J("ngIf",!i.headerTemplate),e.xp6(3),e.Q6J("ngForOf",i.items))},dependencies:[k.sg,k.O5,k.tP],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border-radius:.5rem;border:1px solid var(--bgc-300);min-height:100px;height:max-content;min-width:15rem;max-width:30rem;overflow:hidden}[_nghost-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;align-items:baseline;padding:.9rem 1.1rem;background-color:#fff;color:var(--tc-700);font-size:1.1rem;font-weight:700;border-bottom:1px solid var(--bgc-300)}[_nghost-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-x:hidden;overflow-y:auto;height:100%}"]}),n})();function s5(n,o){1&n&&e.GkF(0)}function r5(n,o){if(1&n&&(e.ynx(0),e.YNc(1,s5,1,0,"ng-container",11),e.BQk()),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t)}}function a5(n,o){1&n&&e.GkF(0)}function l5(n,o){if(1&n&&(e.ynx(0),e.YNc(1,a5,1,0,"ng-container",11),e.BQk()),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t)}}function c5(n,o){1&n&&e.GkF(0)}function u5(n,o){if(1&n&&(e.ynx(0),e.YNc(1,c5,1,0,"ng-container",11),e.BQk()),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t)}}function d5(n,o){1&n&&(e.TgZ(0,"span",12),e._uU(1," \u041d\u0435\u0442 \u0437\u0430\u0434\u0430\u0447 "),e.qZA())}function p5(n,o){1&n&&e.GkF(0)}function h5(n,o){if(1&n&&(e.ynx(0),e.YNc(1,p5,1,0,"ng-container",11),e.BQk()),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t)}}function g5(n,o){if(1&n&&(e.TgZ(0,"div",4)(1,"div",5),e._uU(2),e.qZA(),e.ynx(3),e.TgZ(4,"div",6)(5,"div",7),e._uU(6,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u0434\u0430\u0447"),e.qZA(),e.YNc(7,r5,2,2,"ng-container",8),e.TgZ(8,"div",7),e._uU(9,"\u0422\u0438\u043f\u044b"),e.qZA(),e.YNc(10,l5,2,2,"ng-container",8),e.TgZ(11,"div",7),e._uU(12,"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0440\u0430\u0431\u043e\u0442"),e.qZA(),e.YNc(13,u5,2,2,"ng-container",8),e.TgZ(14,"div",7),e._uU(15,"\u0417\u0430\u0434\u0430\u0447\u0438 \u0441 \u0442\u0435\u0433\u0430\u043c\u0438"),e.qZA(),e.TgZ(16,"div",9),e.YNc(17,d5,2,0,"span",10),e.YNc(18,h5,2,2,"ng-container",8),e.qZA()(),e.BQk(),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",t.title," "),e.xp6(5),e.Q6J("ngForOf",t.statistic.taskCount),e.xp6(3),e.Q6J("ngForOf",t.statistic.taskCountByStage),e.xp6(3),e.Q6J("ngForOf",t.statistic.worksDone),e.xp6(4),e.Q6J("ngIf",0===t.statistic.taskCountByTags.length),e.xp6(1),e.Q6J("ngForOf",t.statistic.taskCountByTags)}}function m5(n,o){if(1&n&&(e.TgZ(0,"div",13)(1,"span",14),e._uU(2),e.qZA(),e.TgZ(3,"span",15),e._uU(4),e.qZA()()),2&n){const t=o.label,i=o.value,s=o.lcolor,d=o.vcolor;e.xp6(1),e.Udp("color",s?s+" !important":null),e.xp6(1),e.Oqu(t),e.xp6(1),e.Udp("color",d?d+" !important":null),e.xp6(1),e.Oqu(i)}}function f5(n,o){if(1&n&&(e.TgZ(0,"div",16)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&n){const t=o.label,i=o.value;e.Udp("background-color",o.color),e.xp6(2),e.Oqu(t),e.xp6(2),e.Oqu(i)}}function _5(n,o){1&n&&e._UZ(0,"p-skeleton",17)}let C5=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this.title="",this.subscriptions=new _.xf}get wireframe(){if(!this._wireframe)throw new Error("\u0428\u0430\u0431\u043b\u043e\u043d \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d");return this._wireframe}set wireframe(t){this._wireframe=t,this.title=t.name,this.subscriptions.addSubscription("upd",(0,qi.T)(this.rt.taskCreated(),this.rt.taskUpdated(),this.rt.taskDeleted()).pipe((0,rs.O)(null),(0,Kl.z)(()=>this.api.getWireframeDashboardStatistic(t.wireframeId))).subscribe(i=>{this.statistic=i}))}ngOnInit(){}ngOnDestroy(){this.subscriptions.unsubscribeAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-dashboard-task-statistic-panel"]],inputs:{wireframe:"wireframe"},decls:7,vars:2,consts:[["class","flex flex-column bg-white shadow-1 border-round-lg",4,"ngIf","ngIfElse"],["rowInfo",""],["tag",""],["loading",""],[1,"flex","flex-column","bg-white","shadow-1","border-round-lg"],[1,"flex","align-items-center","text-bluegray-400","text-xl","font-semibold","m-3"],[1,"flex","flex-column","gap-2","px-4","pb-4"],[1,"border-bottom-1","border-bluegray-100","mt-2","text-bluegray-600"],[4,"ngFor","ngForOf"],[1,"flex","flex-wrap","gap-2"],["class","text-bluegray-300 text-lg font-semibold",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"text-bluegray-300","text-lg","font-semibold"],[1,"flex","gap-2","align-items-center"],[1,"text-bluegray-500","text-sm","font-semibold"],[1,"text-bluegray-600"],[1,"flex","py-1","px-2","gap-2","align-items-center","border-round-3xl","text-xs","font-bold","text-white","w-fit","h-fit"],["height","27rem"]],template:function(t,i){if(1&t&&(e.YNc(0,g5,19,6,"div",0),e.YNc(1,m5,5,6,"ng-template",null,1,e.W1O),e.YNc(3,f5,5,4,"ng-template",null,2,e.W1O),e.YNc(5,_5,1,0,"ng-template",null,3,e.W1O)),2&t){const s=e.MAs(6);e.Q6J("ngIf",i.statistic)("ngIfElse",s)}},dependencies:[k.sg,k.O5,k.tP,$l.O]}),n})(),v5=(()=>{class n{constructor(t){this.el=t,this.tooltip=document.createElement("div")}onmouseenter(){const t=this.el.nativeElement,i=t.getBoundingClientRect();if(t.offsetHeight>=t.scrollHeight)return;this.tooltip.innerText=t.innerText;const s=window.getComputedStyle(t);this.tooltip.style.fontSize=s.fontSize,this.tooltip.style.fontFamily=s.fontFamily,this.tooltip.style.fontWeight=s.fontWeight,this.tooltip.style.fontStyle=s.fontStyle,this.tooltip.style.padding=s.padding,this.tooltip.style.lineHeight=s.lineHeight,this.tooltip.style.letterSpacing=s.letterSpacing,this.tooltip.style.color=s.color,this.tooltip.className="p-3 panel absolute pointer-events-none",document.body.appendChild(this.tooltip),this.tooltip.style.left=i.left-13+"px",this.tooltip.style.width=`${i.width+26}px`;const d=i.top+window.scrollY-13;this.tooltip.style.top=`${d}px`,setTimeout(()=>{let Ce=this.tooltip.getBoundingClientRect().bottom+document.documentElement.scrollTop-(document.documentElement.scrollTop+window.innerHeight);Ce<0&&(Ce=0),this.tooltip.style.top=d-Ce+"px"})}onmouseleave(){try{document.body.removeChild(this.tooltip)}catch(t){}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","appTooltip",""]],hostBindings:function(t,i){1&t&&e.NdJ("mouseenter",function(){return i.onmouseenter()})("mouseleave",function(){return i.onmouseleave()})}}),n})(),rI=(()=>{class n{transform(t){switch(t){case me.b9.AMOUNT:return"\u0448\u0442.";case me.b9.METRES:return"\u043c.";case me.b9.KILOGRAMS:return"\u043a\u0433."}return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"unitName",type:n,pure:!0}),n})();function b5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",24),e.NdJ("dblclick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.workingTableBack())}),e.TgZ(1,"td",25),e._UZ(2,"span",26),e.TgZ(3,"span"),e._uU(4,"\u041d\u0430\u0437\u0430\u0434"),e.qZA()(),e._UZ(5,"td"),e.qZA()}}function y5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",24),e.NdJ("dblclick",function(){e.CHM(t);const s=e.oxw().$implicit,d=e.oxw();return e.KtG(d.loadWorksByGroup(s.key))}),e.TgZ(1,"td",25),e._UZ(2,"span"),e.TgZ(3,"span"),e._uU(4),e.qZA()(),e._UZ(5,"td"),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Tol(t.icon),e.xp6(2),e.Oqu(t.label)}}function x5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",27),e.NdJ("onDragStart",function(){e.CHM(t);const s=e.oxw().$implicit,d=e.oxw();return e.KtG(d.workDragging(s.data))})("dblclick",function(){e.CHM(t);const s=e.oxw().$implicit,d=e.oxw();return d.workDragging(s.data),e.KtG(d.dropped())}),e.TgZ(1,"td",25),e._UZ(2,"span"),e.TgZ(3,"span"),e._uU(4),e.qZA()(),e.TgZ(5,"td",28),e._uU(6),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("pDraggableDisabled",i.isDisabled),e.xp6(2),e.Tol(t.icon),e.xp6(2),e.Oqu(t.label),e.xp6(2),e.hij(" ",i.workCost(t.data)," \u0440\u0443\u0431. ")}}function I5(n,o){1&n&&(e.ynx(0,21),e.YNc(1,b5,6,0,"tr",22),e.YNc(2,y5,6,3,"tr",22),e.YNc(3,x5,7,5,"tr",23),e.BQk()),2&n&&(e.Q6J("ngSwitch",o.$implicit.type),e.xp6(1),e.Q6J("ngSwitchCase","back"),e.xp6(1),e.Q6J("ngSwitchCase","group"),e.xp6(1),e.Q6J("ngSwitchCase","work"))}function T5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",29),e.NdJ("onDragStart",function(){const d=e.CHM(t).$implicit,T=e.oxw();return e.KtG(T.actionDragging(d))})("dblclick",function(){const d=e.CHM(t).$implicit,T=e.oxw();return T.actionDragging(d),e.KtG(T.dropped())}),e.TgZ(1,"td",30),e._UZ(2,"span",31),e.TgZ(3,"span",32),e._uU(4),e.qZA()(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"unitName"),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Udp("font-size","1em"),e.xp6(1),e.Udp("max-width","20rem"),e.xp6(1),e.Oqu(t.name),e.xp6(2),e.AsE(" ",t.cost," \u0440\u0443\u0431/",e.lcZ(7,7,t.unit)," ")}}function A5(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0420\u0430\u0431\u043e\u0442\u0430"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u041a\u043e\u043b-\u0432\u043e"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u041a\u043e\u044d\u0444."),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u0423\u0434.?"),e.qZA()())}function w5(n,o){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2),s=t.$implicit;e.uIk("rowspan",t.rowspan),e.xp6(1),e.Oqu(s.workName)}}function E5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-inputNumber",37),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw(2).$implicit,T=e.oxw();return e.KtG(T.updateActionCount(s,d))})("onFocus",function(s){e.CHM(t);const d=e.oxw(3);return e.KtG(d.selectAllValue(s))})("ngModelChange",function(s){e.CHM(t);const d=e.oxw(2).$implicit;return e.KtG(d.count=s)}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("ngModel",t.count)("allowEmpty",!1)("max",99999)("min",1)("size",4)}}function S5(n,o){if(1&n&&(e._uU(0),e.ALo(1,"unitName")),2&n){const t=e.oxw(2).$implicit;e.AsE(" ",t.count," ",e.lcZ(1,2,t.unit)," ")}}function k5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"p-button",38),e.NdJ("onClick",function(s){e.CHM(t);const d=e.oxw(2).$implicit,T=e.oxw(),W=e.MAs(27);return T.selectWorkActions(d.workId,d.workName),e.KtG(W.toggle(s))}),e.qZA()()}if(2&n){const t=e.oxw(2).rowspan;e.uIk("rowspan",t)}}function D5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"p-button",39),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2).$implicit,d=e.oxw();return e.KtG(d.removeWork(s.workId))}),e.qZA()()}if(2&n){const t=e.oxw(2).rowspan;e.uIk("rowspan",t)}}function M5(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,w5,2,2,"td",33),e.TgZ(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td",34)(5,"p-cellEditor"),e.YNc(6,E5,1,5,"ng-template",35),e.YNc(7,S5,2,4,"ng-template",36),e.qZA()(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.YNc(10,k5,2,1,"td",33),e.YNc(11,D5,2,1,"td",33),e.qZA()),2&n){const t=e.oxw(),i=t.rowgroup,s=t.$implicit;e.xp6(1),e.Q6J("ngIf",i),e.xp6(2),e.Oqu(s.actionName),e.xp6(6),e.hij("",s.cost," \u0440\u0443\u0431."),e.xp6(1),e.Q6J("ngIf",i),e.xp6(1),e.Q6J("ngIf",i)}}function O5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-inputNumber",37),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw(2).$implicit,T=e.oxw();return e.KtG(T.updateActionCount(s,d))})("onFocus",function(s){e.CHM(t);const d=e.oxw(3);return e.KtG(d.selectAllValue(s))})("ngModelChange",function(s){e.CHM(t);const d=e.oxw(2).$implicit;return e.KtG(d.count=s)}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("ngModel",t.count)("allowEmpty",!1)("max",99999)("min",1)("size",4)}}function P5(n,o){if(1&n&&(e._uU(0),e.ALo(1,"unitName")),2&n){const t=e.oxw(2).$implicit;e.AsE(" ",t.count," ",e.lcZ(1,2,t.unit)," ")}}function L5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td",34)(5,"p-cellEditor"),e.YNc(6,O5,1,5,"ng-template",35),e.YNc(7,P5,2,4,"ng-template",36),e.qZA()(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td")(11,"p-button",38),e.NdJ("onClick",function(s){e.CHM(t);const d=e.oxw().$implicit,T=e.oxw(),W=e.MAs(27);return T.selectAction(d.uuid,d.actionName),e.KtG(W.toggle(s))}),e.qZA()(),e.TgZ(12,"td")(13,"p-button",39),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,d=e.oxw();return e.KtG(d.removeAction(s.uuid))}),e.qZA()()()}if(2&n){const t=e.oxw().$implicit;e.xp6(3),e.Oqu(t.actionName),e.xp6(6),e.hij("",t.cost," \u0440\u0443\u0431.")}}function R5(n,o){if(1&n&&(e.YNc(0,M5,12,5,"tr",33),e.YNc(1,L5,14,2,"tr",33)),2&n){const t=o.$implicit;e.Q6J("ngIf",t.workId),e.xp6(1),e.Q6J("ngIf",!t.workId)}}const N5=function(){return{grid:"min-content 1fr / max-content max-content 1fr"}},F5=function(){return{minHeight:"500px",minWidth:"300px"}},B5=function(n){return{"cover-element":n}},Z5=function(){return["name"]},U5=function(n,o){return{"drop-zone":n,"cover-element":o}},H5=function(){return{width:"max-content"}};let QA=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this.treeMenuWorksItems=[],this.worksTablePath=[],this.worksTableLoading=!1,this.actionsTaken=[],this.isDragging=!1,this.dragEnterCounter=0,this.tableMenuActionsItems=[],this.actionsTableLoading=!1,this.workActionsRatioMenu=[],this.factorsActions=[],this.subscriptions=new _.xf,this.isDisabled=!1,this._employees=[],this.onChange=s=>{},this.onTouched=()=>{}}get employees(){return this._employees}set employees(t){null!=t?(this._employees=t,this.workActionsRatioMenu=this.employees.map(i=>({label:i.fullName,items:[{label:"x0",command:()=>this.addActionRatio(1e-4,i.login)},{label:"x0.1",command:()=>this.addActionRatio(.1,i.login)},{label:"x0.25",command:()=>this.addActionRatio(.2,i.login)},{label:"x0.5",command:()=>this.addActionRatio(.5,i.login)},{label:"x0.75",command:()=>this.addActionRatio(.75,i.login)},{label:"x1.25",command:()=>this.addActionRatio(1.25,i.login)},{label:"x1.5",command:()=>this.addActionRatio(1.5,i.login)},{label:"x2",command:()=>this.addActionRatio(2,i.login)},{label:"x3",command:()=>this.addActionRatio(3,i.login)}]}))):this._employees=[]}get totalCostOfWork(){return this.actionsTaken.reduce((t,i)=>t+i.cost,0)}trackByActionItems(t,i){return i.paidActionId+i.cost+i.name+i.description+i.unit+i.deleted}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t}writeValue(t){t?(this.actionsTaken=t.actionsTaken,t.factorsActions&&(this.factorsActions=t.factorsActions)):(this.actionsTaken=[],this.factorsActions=[])}trackByField(t,i){return i.name+i.textRepresentation+i.modelItemId}trackByEmployee(t,i){return i.login+i.fullName+i.avatar}deselectFactor(){this.selectedUuidActions=void 0}trackByWorkLog(t,i){return i.workLogId}ngOnInit(){this.loadWorks(),this.loadActions()}ngOnDestroy(){this.subscriptions.unsubscribeAll()}loadActions(){this.actionsTableLoading=!0,this.api.getListAvailablePaidActions().subscribe({next:t=>{this.tableMenuActionsItems=t,this.actionsTableLoading=!1},error:t=>{this.actionsTableLoading=!1}}),this.subscriptions.addSubscription("actUpdate",this.rt.paidActionUpdated().subscribe(t=>{const i=this.tableMenuActionsItems.findIndex(s=>s.identifier===t.identifier);i>-1&&(this.tableMenuActionsItems[i]=t)})),this.subscriptions.addSubscription("actDelete",this.rt.paidActionDeleted().subscribe(t=>{const i=this.tableMenuActionsItems.findIndex(s=>s.identifier===t.identifier);i>-1&&this.tableMenuActionsItems.splice(i,1)})),this.subscriptions.addSubscription("actAdd",this.rt.paidActionCreated().subscribe(t=>{this.tableMenuActionsItems.unshift(t)}))}foundNodeByPath(t){var i;if(!t||0===t.length)return null;let s=null,d=this.treeMenuWorksItems;for(let T of t){if(!d)return null;if(s=null!==(i=d.find(W=>W.key==="g"+T))&&void 0!==i?i:null,!s)return null;d=s.children}return s}loadWorks(){this.worksTableLoading=!0,this.api.getRootTreeOfWorks(!0).subscribe({next:t=>{this.treeMenuWorksItems=t,this.worksTableLoading=!1}}),this.subscriptions.addSubscription("trMove",this.rt.paidWorksTreeMoved().subscribe(t=>{const i=this.foundNodeByPath(t.sourcePath),s=this.foundNodeByPath(t.targetPath);if(i){if(i.children){const d=i.children.findIndex(T=>T.key===t.object.key&&T.type===t.object.type);d>-1&&i.children.splice(d,1),0===i.children.length&&(i.leaf=!0)}}else{const d=this.treeMenuWorksItems.findIndex(T=>T.key===t.object.key&&T.type===t.object.type);d>-1&&this.treeMenuWorksItems.splice(d,1)}s?(s.children?-1===s.children.findIndex(T=>T.key===t.object.key&&T.type===t.object.type)&&s.children.push(t.object):(s.children=[],s.children.push(t.object)),s.leaf=!1):-1===this.treeMenuWorksItems.findIndex(T=>T.key===t.object.key&&T.type===t.object.type)&&this.treeMenuWorksItems.push(t.object)})),this.subscriptions.addSubscription("trUpd",this.rt.paidWorksTreeUpdated().subscribe(t=>{var i;const s=this.foundNodeByPath(t.path);if(s&&s.children){const d=null===(i=s.children)||void 0===i?void 0:i.findIndex(T=>T.key===t.object.key&&T.type===t.object.type);d>-1&&(s.children[d]=t.object)}else if(!s){const d=this.treeMenuWorksItems.findIndex(T=>T.key===t.object.key&&T.type===t.object.type);d>-1&&(this.treeMenuWorksItems[d]=t.object)}})),this.subscriptions.addSubscription("trCr",this.rt.paidWorksTreeCreated().subscribe(t=>{const i=this.foundNodeByPath(t.path);i?(i.children||(i.children=[]),i.children.push(t.object),i.children.sort((s,d)=>s.position-d.position),i.leaf=!1):(this.treeMenuWorksItems.push(t.object),this.treeMenuWorksItems.sort((s,d)=>s.position-d.position))})),this.subscriptions.addSubscription("trDel",this.rt.paidWorksTreeDeleted().subscribe(t=>{var i;const s=this.foundNodeByPath(t.path);if(s&&s.children){const d=s.children.findIndex(T=>T.key===t.object.key);d>-1&&(null===(i=s.children)||void 0===i||i.splice(d,1))}else if(!s){const d=this.treeMenuWorksItems.findIndex(T=>T.key===t.object.key);d>-1&&this.treeMenuWorksItems.splice(d,1)}}))}loadWorksByGroup(t){this.worksTableLoading=!0,this.api.getWorksOfGroup(t.substring(1),!0).subscribe({next:i=>{this.treeMenuWorksItems=i,this.worksTablePath.push(t),this.treeMenuWorksItems.unshift({type:"back",key:t}),this.worksTableLoading=!1}})}workingTableBack(){this.worksTablePath.pop();const t=this.worksTablePath.pop();this.worksTableLoading=!0,t?this.api.getWorksOfGroup(t.substring(1),!0).subscribe({next:i=>{this.treeMenuWorksItems=i,this.treeMenuWorksItems.unshift({type:"back"}),this.worksTableLoading=!1}}):this.api.getRootTreeOfWorks(!0).subscribe({next:i=>{this.treeMenuWorksItems=i,this.worksTableLoading=!1}})}dropped(){if(this.draggablePaidWork){const t=this.actionsTaken.filter(i=>{var s;return i.workId===(null===(s=this.draggablePaidWork)||void 0===s?void 0:s.paidWorkId)});if(0===t.length)for(let i of this.draggablePaidWork.actions)this.actionsTaken.push({workName:this.draggablePaidWork.name,workId:this.draggablePaidWork.paidWorkId,actionName:i.action.name,count:i.count,unit:i.action.unit,price:i.action.cost,cost:i.action.cost*i.count,actionId:i.action.paidActionId,uuid:(0,$o.Z)()});else t.forEach(i=>{var s;const d=null===(s=this.draggablePaidWork)||void 0===s?void 0:s.actions.find(T=>T.action.paidActionId===i.actionId);d&&(i.count+=d.count,i.cost=i.price*i.count)});this.actionsTaken=[...this.actionsTaken],this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions})}if(this.draggableAction){const t=this.actionsTaken.find(i=>{var s;return!i.workId&&i.actionId===(null===(s=this.draggableAction)||void 0===s?void 0:s.paidActionId)});t?(t.count+=1,t.cost=t.price*t.count):this.actionsTaken.push({workName:void 0,workId:void 0,actionName:this.draggableAction.name,count:1,unit:this.draggableAction.unit,price:this.draggableAction.cost,cost:this.draggableAction.cost,actionId:this.draggableAction.paidActionId,uuid:(0,$o.Z)()}),this.actionsTaken=[...this.actionsTaken],this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions})}this.draggablePaidWork=void 0,this.draggableAction=void 0,this.isDragging=!1,this.dragEnterCounter=0}workDragging(t){this.draggablePaidWork=t}actionDragging(t){this.draggableAction=t}workCost(t){let i=0;for(let s of t.actions)i+=s.action.cost*s.count;return i}removeWork(t){const i=this.actionsTaken.filter(s=>s.workId===t);this.factorsActions=this.factorsActions.filter(s=>!s.actionUuids.some(d=>d===i[0].uuid)),this.actionsTaken=this.actionsTaken.filter(s=>!i.some(d=>d.uuid==s.uuid)),this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions})}updateActionCount(t,i){i.cost=t*i.price,setTimeout(()=>{this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions})})}dragEnter(){this.dragEnterCounter++,this.isDragging=!0}dragLeave(){this.dragEnterCounter--,0===this.dragEnterCounter&&(this.isDragging=!1)}removeAction(t){this.factorsActions=this.factorsActions.filter(i=>!i.actionUuids.some(s=>s===t)),this.actionsTaken=this.actionsTaken.filter(i=>i.uuid!==t),this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions})}selectAllValue(t){const i=t.target;i.setSelectionRange(0,i.value.length)}addActionRatio(t,i){!this.selectedUuidActions||!this.selectedWorkName||(this.factorsActions.push({factor:t,login:i,name:this.selectedWorkName,actionUuids:this.selectedUuidActions,uuid:(0,$o.Z)()}),this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions}))}selectWorkActions(t,i){this.selectedUuidActions=this.actionsTaken.filter(s=>s.workId===t).map(s=>s.uuid),this.selectedWorkName=i}selectAction(t,i){this.selectedUuidActions=[t],this.selectedWorkName=i}filterTable(t,i){i.filterGlobal(XT.translate(t.target.value),"contains")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-works-picker"]],inputs:{employees:"employees"},features:[e._Bn([{provide:g.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0},N.Y])],decls:28,vars:30,consts:[[1,"grided","gap5"],[1,"caption","size-big","wt-bold","f-color-500"],[1,"border-1","border-bluegray-100","border-round-md","overflow-hidden","h-fit",3,"ngClass"],["styleClass","tab-content-unpadding"],["header","\u0420\u0430\u0431\u043e\u0442\u044b"],["scrollHeight","500px",3,"loading","rowHover","value"],["pTemplate","body"],["header","\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"],[1,"flex","flex-column"],[1,"p-input-icon-left","m-3"],[1,"mdi-search"],["pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439...","type","text",1,"w-full",3,"input"],["scrollHeight","500px","styleClass","p-datatable-sm",3,"globalFilterFields","loading","rowHover","value","rowTrackBy"],["actionTableRef",""],[1,"mds-sync_alt","caption","size-huge","self-center"],["pDroppable","dd",1,"flex-grow-1","flex","flex-column","border-1","border-bluegray-100","border-round-md","overflow-hidden",3,"ngClass","pDroppableDisabled","onDragEnter","onDragLeave","onDrop"],["groupRowsBy","workId","rowGroupMode","rowspan","sortField","workName","sortMode","single",1,"flex-grow-1",3,"value"],["pTemplate","header"],[1,"flexed","hcenter","vend","caption","f-color-400","wt-tiny","size-huge","p5"],["appendTo","body",3,"model","popup","onHide"],["ratioMenu",""],[3,"ngSwitch"],["class","not-selectable",3,"dblclick",4,"ngSwitchCase"],["class","not-selectable cursor-move","dragEffect","move","pDraggable","dd",3,"pDraggableDisabled","onDragStart","dblclick",4,"ngSwitchCase"],[1,"not-selectable",3,"dblclick"],[1,"text-bluegray-400","gap-1","flex","align-items-center"],[1,"mdi-subdirectory_arrow_left"],["dragEffect","move","pDraggable","dd",1,"not-selectable","cursor-move",3,"pDraggableDisabled","onDragStart","dblclick"],[1,"text-bluegray-400"],["dragEffect","move","pDraggable","dd",1,"not-selectable","cursor-move",3,"onDragStart","dblclick"],[1,"caption","size-small","with-icon"],[1,"mdi-directions_run"],["appTicker","",1,"caption","white-space-nowrap","overflow-hidden"],[4,"ngIf"],["pEditableColumn",""],["pTemplate","input"],["pTemplate","output"],[3,"ngModel","allowEmpty","max","min","size","ngModelChange","onFocus"],["icon","mdi-percent","styleClass","p-button-text p-button-icon p-button-success",3,"onClick"],["icon","mdi-delete","styleClass","p-button-text p-button-icon p-button-danger",3,"click"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._uU(2," \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b "),e.qZA(),e._UZ(3,"span"),e.TgZ(4,"div",1),e._uU(5," \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b "),e.qZA(),e.TgZ(6,"div",2)(7,"p-tabView",3)(8,"p-tabPanel",4)(9,"p-table",5),e.YNc(10,I5,4,4,"ng-template",6),e.qZA()(),e.TgZ(11,"p-tabPanel",7)(12,"div",8)(13,"span",9),e._UZ(14,"i",10),e.TgZ(15,"input",11),e.NdJ("input",function(T){e.CHM(s);const W=e.MAs(17);return e.KtG(i.filterTable(T,W))}),e.qZA()(),e.TgZ(16,"p-table",12,13),e.YNc(18,T5,8,9,"ng-template",6),e.qZA()()()()(),e._UZ(19,"span",14),e.TgZ(20,"div",15),e.NdJ("onDragEnter",function(){return i.dragEnter()})("onDragLeave",function(){return i.dragLeave()})("onDrop",function(){return i.dropped()}),e.TgZ(21,"p-table",16),e.YNc(22,A5,13,0,"ng-template",17),e.YNc(23,R5,2,2,"ng-template",6),e.qZA(),e.TgZ(24,"div",18),e._uU(25),e.qZA()()(),e.TgZ(26,"p-slideMenu",19,20),e.NdJ("onHide",function(){return i.deselectFactor()}),e.qZA()}2&t&&(e.Akn(e.DdM(21,N5)),e.xp6(6),e.Akn(e.DdM(22,F5)),e.Q6J("ngClass",e.VKq(23,B5,i.isDisabled)),e.xp6(3),e.Q6J("loading",i.worksTableLoading)("rowHover",!0)("value",i.treeMenuWorksItems),e.xp6(7),e.Q6J("globalFilterFields",e.DdM(25,Z5))("loading",i.actionsTableLoading)("rowHover",!0)("value",i.tableMenuActionsItems)("rowTrackBy",i.trackByActionItems),e.xp6(4),e.Q6J("ngClass",e.WLB(26,U5,i.isDragging,i.isDisabled))("pDroppableDisabled",i.isDisabled),e.xp6(1),e.Q6J("value",i.actionsTaken),e.xp6(4),e.hij(" \u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0442: ",i.totalCostOfWork," \u0440\u0443\u0431. "),e.xp6(1),e.Akn(e.DdM(29,H5)),e.Q6J("model",i.workActionsRatioMenu)("popup",!0))},dependencies:[k.mk,k.O5,k.RF,k.n9,O.zx,g.JJ,g.On,N.jx,Ra.Rn,wl.xf,wl.x4,bi.o,El.iA,El.Wq,El.YL,AA.aj,Yo._l,Yo.bK,$g.x,rI]}),n})();function V5(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.Tol("caption "+(i.getWorkActionsRatioSum(t.uuid)>0?"f-color-success":"f-color-danger")),e.xp6(1),e.hij(" ",i.getWorkActionsRatioSum(t.uuid),"\u0440\u0443\u0431. ")}}function z5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",19)(1,"span",18),e._uU(2),e.qZA(),e.TgZ(3,"span",20),e._uU(4),e.qZA(),e.YNc(5,V5,2,3,"span",21),e.TgZ(6,"app-tiny-button",22),e.NdJ("onClick",function(){const d=e.CHM(t).$implicit,T=e.oxw(3);return e.KtG(T.removeWorkActionRatio(d.uuid))}),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw(3);e.xp6(2),e.Oqu(null==t?null:t.name),e.xp6(2),e.hij("x",null==t?null:t.factor,""),e.xp6(1),e.Q6J("ngIf",t),e.xp6(1),e.Q6J("size",.8)("disabled",i.isDisabled)}}function J5(n,o){if(1&n&&(e.TgZ(0,"div",15)(1,"span",16),e._uU(2,"\u0414\u043e\u043f. \u043a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442\u044b:"),e.qZA(),e.TgZ(3,"div",15),e.YNc(4,z5,7,5,"div",17),e.qZA(),e.TgZ(5,"span",18),e._uU(6),e.qZA()()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(4),e.Q6J("ngForOf",i.getFactorsActions(t.login))("ngForTrackBy",i.trackByWar),e.xp6(2),e.hij("\u0418\u0442\u043e\u0433: ",i.getEmployeeTotalPayment(t.login)," \u0440\u0443\u0431.")}}function Q5(n,o){if(1&n&&(e.TgZ(0,"div",6),e._UZ(1,"app-avatar",7),e.TgZ(2,"div",8),e._uU(3),e.qZA(),e.ynx(4,9),e.TgZ(5,"div",10),e._UZ(6,"p-slider",11),e.TgZ(7,"span",12),e._uU(8),e.ALo(9,"number"),e.qZA()(),e._UZ(10,"p-inputNumber",13),e.YNc(11,J5,7,3,"div",14),e.BQk(),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("deleted",t.deleted)("name",t.fullName)("size",5)("src",t.avatar),e.xp6(2),e.Oqu(t.fullName),e.xp6(1),e.Q6J("formGroupName",t.login),e.xp6(2),e.Q6J("max",1)("min",0)("step",.01)("disabled",i.isDisabled),e.xp6(2),e.hij(" ",e.xi3(9,13,100*i.employeeRatioForm.value[t.login].ratio,"1.2-2"),"% "),e.xp6(2),e.Q6J("disabled",0===i.totalCostOfWork||i.isDisabled),e.xp6(1),e.Q6J("ngIf",i.hasWorkActionRatio(t.login))}}let GA=(()=>{class n{constructor(){this.employeeRatioSubscriptions=new _.xf,this.employeeRatioForm=new g.cw({}),this.isDisabled=!1,this._employees=[],this._factorsActions=[],this._actionsTaken=[],this.onRemoveFactorAction=new e.vpe,this.onChange=()=>{},this.onTouched=()=>{}}get employees(){return this._employees}set employees(t){var i;if(null==t)return void(this._employees=[]);this._employees=t;const d=1/t.length;this.employeeRatioForm=new g.cw(t.reduce((T,W)=>{const Ce=new g.cw({ratio:new g.NI(d),sum:new g.NI(Math.round(d*this.totalCostOfWork))});return this.employeeRatioSubscriptions.addSubscription(W.login+"rt",Ce.controls.ratio.valueChanges.subscribe(qe=>{if(null===qe)return;const Xe=W.login,$t=Object.keys(this.employeeRatioForm.value).filter(jt=>jt!==Xe).map(jt=>this.employeeRatioForm.value[jt].ratio).reduce((jt,Wt)=>jt+Wt,0);if(qe+$t>1){const jt=qe+$t-1,Wt={};for(let _n in this.employeeRatioForm.value){if(Wt[_n]={ratio:0,sum:0},_n===Xe)continue;const Pn=this.employeeRatioForm.value[_n].ratio;Wt[_n].ratio=Pn-jt*(Pn/$t),Wt[_n].sum=Math.round(Wt[_n].ratio*this.totalCostOfWork)}Wt[Xe].ratio=qe,Wt[Xe].sum=Math.round(qe*this.totalCostOfWork),this.employeeRatioForm.patchValue(Wt,{emitEvent:!1})}else this.employeeRatioForm.patchValue({[Xe]:{ratio:qe,sum:Math.round(qe*this.totalCostOfWork)}},{emitEvent:!1})})),this.employeeRatioSubscriptions.addSubscription(W.login+"sum",Ce.controls.sum.valueChanges.subscribe(qe=>{if(null!==qe&&qe>this.totalCostOfWork&&(qe=this.totalCostOfWork),null===qe)return;const Xe=W.login,$t=Object.keys(this.employeeRatioForm.value).filter(jt=>jt!==Xe).map(jt=>this.employeeRatioForm.value[jt].sum).reduce((jt,Wt)=>jt+Wt,0);if(qe+$t>this.totalCostOfWork){const jt=qe+$t-this.totalCostOfWork,Wt={};for(let _n in this.employeeRatioForm.value){if(Wt[_n]={ratio:0,sum:0},_n===Xe)continue;const Pn=this.employeeRatioForm.value[_n].sum;Wt[_n].sum=Math.round(Pn-jt*(Pn/$t)),Wt[_n].ratio=Wt[_n].sum/this.totalCostOfWork}Wt[Xe].sum=Math.round(qe),Wt[Xe].ratio=qe/this.totalCostOfWork,this.employeeRatioForm.patchValue(Wt,{emitEvent:!1})}else this.employeeRatioForm.patchValue({[Xe]:{ratio:qe/this.totalCostOfWork,sum:Math.round(qe)}},{emitEvent:!1})})),Object.assign(Object.assign({},T),{[W.login]:Ce})},{})),setTimeout(()=>this.onChange(this.employeeRatioForm.value)),null===(i=this.formSub)||void 0===i||i.unsubscribe(),this.formSub=this.employeeRatioForm.valueChanges.subscribe(T=>{this.onChange(T),this.onTouched()})}set actionPicker(t){var i;null===(i=this.actionPickerSub)||void 0===i||i.unsubscribe(),null!=t?(this.actionPicker$=t,this.actionPickerSub=this.actionPicker$.subscribe(s=>{var d;!s||(this._actionsTaken=s.actionsTaken,this._factorsActions=null!==(d=s.factorsActions)&&void 0!==d?d:[],this.recalculateAmountsForEmployees())})):this.actionPicker$=void 0}get factorsActions(){return this._factorsActions}get actionsTaken(){return this._actionsTaken}get totalCostOfWork(){return this.actionsTaken.reduce((t,i)=>t+i.cost,0)}get allMoney(){return this.employeeRatioForm.value?Object.values(this.employeeRatioForm.value).reduce((t,i)=>t+i.sum,0):0}get allMoneyWithRatio(){return this.allMoney+this.getTotalWorkActionsRatioSum()}getTotalWorkActionsRatioSum(){return this.factorsActions.reduce((t,i)=>t+this.getWorkActionsRatioSum(i.uuid),0)}ngOnInit(){}ngOnDestroy(){var t;null===(t=this.formSub)||void 0===t||t.unsubscribe()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}equalize(){const i=1/this.employees.length,s=Object.keys(this.employeeRatioForm.value).map(d=>d).reduce((d,T)=>Object.assign(Object.assign({},d),{[T]:{ratio:i,sum:Math.round(i*this.totalCostOfWork)}}),{});this.employeeRatioForm.patchValue(s)}setDisabledState(t){this.isDisabled=t}writeValue(t){this.employeeRatioForm.patchValue(t,{emitEvent:!1})}trackByEmployee(t,i){return i.login+i.fullName+i.avatar}trackByWar(t,i){return i.uuid+i.name+i.factor}hasWorkActionRatio(t){return this.factorsActions.find(i=>i.login===t)}getFactorsActions(t){return this.factorsActions.filter(i=>i.login===t)}removeWorkActionRatio(t){this.onRemoveFactorAction.emit(this.factorsActions.filter(i=>i.uuid!==t))}getEmployeeTotalPayment(t){return this.employeeRatioForm.value[t].sum+this.getFactorsActions(t).reduce((i,s)=>i+this.getWorkActionsRatioSum(s.uuid),0)}getWorkActionsRatioSum(t){const i=this.factorsActions.find(s=>s.uuid===t);if(i){const T=i.actionUuids.reduce((W,Ce)=>{const qe=this.actionsTaken.find(Xe=>Xe.uuid===Ce);return qe?W+qe.cost:W},0)*this.employeeRatioForm.value[i.login].ratio;return Math.round(T*i.factor-T)}return 0}recalculateAmountsForEmployees(){for(const t in this.employeeRatioForm.value){const i=this.employeeRatioForm.value[t];this.employeeRatioForm.patchValue({[t]:{ratio:i.ratio,sum:Math.round(i.ratio*this.totalCostOfWork)}},{emitEvent:!1})}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-sum-distribution"]],inputs:{employees:"employees",actionPicker:"actionPicker"},outputs:{onRemoveFactorAction:"onRemoveFactorAction"},features:[e._Bn([{provide:g.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:8,vars:5,consts:[[1,"flex","flex-column","gap-4"],[1,"flexed","gap10","sparnd",3,"formGroup"],["class","flexed column vcenter gap5",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","vend","hcenter","gap10"],[1,"caption","wt-bold","f-color-500"],[1,"caption","size-big","wt-bold","f-color-primary"],[1,"flexed","column","vcenter","gap5"],[3,"deleted","name","size","src"],[1,"caption","size-big"],[3,"formGroupName"],[1,"flexed","gap10","hcenter","w-full"],["formControlName","ratio",1,"w-full",3,"max","min","step","disabled"],[1,"caption","size-tiny","wt-bold","f-color-500"],["formControlName","sum","suffix"," \u0440\u0443\u0431.",3,"disabled"],["class","flexed column gap2",4,"ngIf"],[1,"flexed","column","gap2"],[1,"caption","size-tiny","wt-bold"],["class","flexed hcenter gap3",4,"ngFor","ngForOf","ngForTrackBy"],[1,"caption"],[1,"flexed","hcenter","gap3"],[1,"caption","size-tiny","wt-bold","f-color-primary"],[3,"class",4,"ngIf"],["icon","delete","model","danger",3,"size","disabled","onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Q5,12,16,"div",2),e.qZA(),e.TgZ(3,"div",3)(4,"span",4),e._uU(5),e.qZA(),e.TgZ(6,"span",5),e._uU(7),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",i.employeeRatioForm),e.xp6(1),e.Q6J("ngForOf",i.employees)("ngForTrackBy",i.trackByEmployee),e.xp6(3),e.hij(" \u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u0441\u0443\u043c\u043c\u0430: ",i.allMoney," \u0440\u0443\u0431. "),e.xp6(2),e.hij(" \u0418\u0442\u043e\u0433 \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u043a\u043e\u044d\u0444.: ",i.allMoneyWithRatio," \u0440\u0443\u0431. "))},dependencies:[k.sg,k.O5,g.JJ,g.JL,Ra.Rn,g.sg,g.u,g.x0,TA.iR,x.A,UA.g,k.JJ]}),n})();function G5(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("",t.hours," ",t.hourSuffix,"")}}function W5(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("",t.minutes," ",t.minuteSuffix,"")}}function Y5(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("",t.seconds," ",t.secondSuffix,"")}}function j5(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.ms," \u043c\u0441.")}}function K5(n,o){if(1&n&&(e.TgZ(0,"span",3),e.YNc(1,G5,2,2,"span",4),e.YNc(2,W5,2,2,"span",4),e.YNc(3,Y5,2,2,"span",4),e.YNc(4,j5,2,1,"span",4),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.hours),e.xp6(1),e.Q6J("ngIf",t.minutes),e.xp6(1),e.Q6J("ngIf",t.seconds&&!t.minutes&&!t.hours),e.xp6(1),e.Q6J("ngIf",!t.seconds&&!t.minutes&&!t.hours)}}function q5(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}class lh{constructor(){this.short=!0,this.hours=0,this.hourSuffix="",this.minutes=0,this.minuteSuffix="",this.seconds=0,this.secondSuffix=""}ngOnInit(){}msChange(o){this.hours=Math.floor(o/36e5),this.hourSuffix=this.short?"\u0447.":_.cQ.declineOfNumber(this.hours,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"]),this.minutes=Math.floor((o-36e5*this.hours)/6e4),this.minuteSuffix=this.short?"\u043c.":_.cQ.declineOfNumber(this.minutes,["\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"]),this.seconds=Math.floor((o-36e5*this.hours-6e4*this.minutes)/1e3),this.secondSuffix=this.short?"\u0441.":_.cQ.declineOfNumber(this.seconds,["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"])}}lh.\u0275fac=function(o){return new(o||lh)},lh.\u0275cmp=e.Xpm({type:lh,selectors:[["app-duration"]],inputs:{ms:"ms",short:"short"},decls:4,vars:2,consts:[[1,"text-bluegray-500","white-space-nowrap"],["class","flex gap-2",4,"ngIf","ngIfElse"],["emptyTemplate",""],[1,"flex","gap-2"],[4,"ngIf"]],template:function(o,t){if(1&o&&(e.TgZ(0,"span",0),e.YNc(1,K5,5,4,"span",1),e.qZA(),e.YNc(2,q5,2,0,"ng-template",null,2,e.W1O)),2&o){const i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.ms)("ngIfElse",i)}},dependencies:[k.O5]}),(0,rl.gn)([(0,Tl.GU)("ms")],lh.prototype,"msChange",null);let $5=(()=>{class n{constructor(t){this.element=t,this.subscriptions=new _.xf,this.onScrollDown=new e.vpe}ngOnInit(){const i=this.element.el.nativeElement.children.item(0);if(i){const s=i.children.item(0);s&&(this.scroll$=(0,y.R)(s,"scroll").pipe((0,gt.U)(d=>d.target),(0,rs.O)(s),(0,bs.b)(200),(0,l.h)(d=>d.scrollHeight-(d.scrollTop+d.offsetHeight)<10)),this.subscriptions.addSubscription("scroll",this.scroll$.subscribe(()=>this.onScrollDown.emit())))}}ngOnDestroy(){this.subscriptions.unsubscribeAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(xo.Ri))},n.\u0275dir=e.lG2({type:n,selectors:[["p-listbox","appListElementLazyScroll",""]],outputs:{onScrollDown:"onScrollDown"}}),n})();var WA=b(6081),X5=b(9664);function eB(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0418\u043c\u044f"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0422\u0438\u043f"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u041c\u043e\u0434\u0435\u043b\u044c"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0410\u0434\u0440\u0435\u0441"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Ping"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"\u0421\u0435\u0441\u0441\u0438\u0438"),e.qZA()())}function tB(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"span",11)(2,"span"),e._uU(3),e.ALo(4,"number"),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"number"),e.qZA()(),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngClass",t.styleClass),e.xp6(2),e.hij(" ",999===t.latency?"- ":e.xi3(4,3,t.latency,"1.2-2"),"\u043c\u0441 "),e.xp6(3),e.hij(" ",e.xi3(7,6,t.loss,"1.2-2"),"% ")}}function nB(n,o){1&n&&e.GkF(0)}const iB=function(){return{width:"85px"}};function oB(n,o){if(1&n&&(e.ynx(0),e.YNc(1,nB,1,0,"ng-container",12),e.BQk()),2&n){e.oxw(3);const t=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.DdM(2,iB))}}function sB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e.YNc(10,tB,8,9,"ng-container",8),e.ALo(11,"async"),e.YNc(12,oB,2,3,"ng-container",8),e.ALo(13,"async"),e.qZA(),e.TgZ(14,"td",9)(15,"span",10),e.NdJ("click",function(){const d=e.CHM(t).$implicit,T=e.oxw(2);return e.KtG(T.openCommutatorWeb(d.ip))}),e._uU(16," Web "),e.qZA(),e.TgZ(17,"span",10),e.NdJ("click",function(){const d=e.CHM(t).$implicit,T=e.oxw(2);return e.KtG(T.openTelnetTerminal(d.name,d.ip))}),e._uU(18," Telnet "),e.qZA()(),e.TgZ(19,"td")(20,"span",10),e.NdJ("click",function(){const d=e.CHM(t).$implicit,T=e.oxw(2);return e.KtG(T.openCommutatorView(d))}),e._uU(21," \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 "),e.qZA()()()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.type),e.xp6(2),e.Oqu(t.model),e.xp6(2),e.Oqu(t.ip),e.xp6(2),e.Q6J("ngIf",e.lcZ(11,6,i.commutatorsPings[t.ip])),e.xp6(2),e.Q6J("ngIf",!e.lcZ(13,8,i.commutatorsPings[t.ip]))}}const rB=function(n){return{"overflow-hidden border-round border-1 border-bluegray-100":n}};function aB(n,o){if(1&n&&(e.TgZ(0,"div",4)(1,"p-table",5),e.YNc(2,eB,15,0,"ng-template",6),e.YNc(3,sB,22,10,"ng-template",7),e.qZA()()),2&n){const t=o.ngIf,i=e.oxw();e.Q6J("ngClass",e.VKq(2,rB,!i.inline)),e.xp6(1),e.Q6J("value",t)}}function lB(n,o){1&n&&e._UZ(0,"p-skeleton",13),2&n&&e.Q6J("width",o.width)}function cB(n,o){if(1&n&&e._UZ(0,"app-commutator-view",14),2&n){const t=e.oxw();e.Q6J("commutator",t.commutatorForView)}}let Pu=class{constructor(o,t,i){this.api=o,this.rt=t,this.telnetService=i,this.LoadingState=me.Gu,this.inline=!1,this.buildId$=new iA.t(1),this.commutatorLoadingState=me.Gu.LOADING,this.commutatorsPings={},this.commutatorsInitiators$=(0,qi.T)(this.rt.acpCommutatorCreated(),this.rt.acpCommutatorUpdated(),this.rt.acpCommutatorDeleted()).pipe((0,l.h)(s=>s.buildId===this.buildId),(0,rs.O)(null)),this.commutatorsLoader$=this.buildId$.pipe((0,l.h)(s=>!!s),(0,hi.b)(()=>this.commutatorLoadingState=me.Gu.LOADING),(0,R.w)(s=>this.api.getCommutatorsByBuildingId(s)),(0,hi.b)({next:s=>{this.commutatorLoadingState=me.Gu.READY,this.commutatorsPings={};for(const{ip:d}of s)this.commutatorsPings[d]=this.ping(d)},error:()=>this.commutatorLoadingState=me.Gu.ERROR})),this.commutators$=this.commutatorsInitiators$.pipe((0,R.w)(()=>this.commutatorsLoader$)),this.commutatorViewVisible=!1,this.commutatorViewHeader="",this.updateCommutatorSub=this.rt.acpCommutatorUpdated().subscribe(s=>{var d;(null===(d=this.commutatorForView)||void 0===d?void 0:d.id)===s.id&&(this.commutatorForView=s)})}ngOnInit(){}openCommutatorWeb(o){window.open(`http://${o}`,"_blank")}openTelnetTerminal(o,t){this.telnetService.connect(o,t)}openCommutatorView(o){this.commutatorViewHeader=o.name+"\u30fb"+o.ip,this.api.getCommutator(o.id).subscribe(t=>{this.commutatorForView=t.commutator,this.commutatorViewVisible=!0})}ping(o){return this.rt.pingMonitoring(o).pipe((0,gt.U)(t=>{const i=100-t.reachablePercentage;return{online:t.isReachable,latency:t.delayAvg,loss:i,styleClass:i>0?"text-red-400":"text-green-400"}}))}};Pu.\u0275fac=function(o){return new(o||Pu)(e.Y36(L.s),e.Y36(de.U),e.Y36(X5.M))},Pu.\u0275cmp=e.Xpm({type:Pu,selectors:[["app-commutators-table"]],inputs:{buildId:"buildId",inline:"inline"},decls:6,vars:9,consts:[["class","flex flex-grow-1",3,"ngClass",4,"ngIf"],["loadingCellTemplate",""],["appendTo","body","contentStyle","",3,"visible","modal","draggable","dismissableMask","header","visibleChange"],[3,"commutator",4,"ngIf"],[1,"flex","flex-grow-1",3,"ngClass"],["styleClass","p-datatable-sm flex-grow-1",1,"flex-grow-1",3,"value"],["pTemplate","header"],["pTemplate","body"],[4,"ngIf"],[1,"flex","gap-2"],[1,"text-primary","font-bold","hover:text-primary-700","cursor-pointer",3,"click"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"width"],[3,"commutator"]],template:function(o,t){1&o&&(e.YNc(0,aB,4,4,"div",0),e.ALo(1,"async"),e.YNc(2,lB,1,1,"ng-template",null,1,e.W1O),e.TgZ(4,"p-dialog",2),e.NdJ("visibleChange",function(s){return t.commutatorViewVisible=s}),e.YNc(5,cB,1,1,"app-commutator-view",3),e.qZA()),2&o&&(e.Q6J("ngIf",e.lcZ(1,7,t.commutators$)),e.xp6(4),e.Q6J("visible",t.commutatorViewVisible)("modal",!0)("draggable",!0)("dismissableMask",!0)("header",t.commutatorViewHeader),e.xp6(1),e.Q6J("ngIf",t.commutatorForView))},dependencies:[k.mk,k.O5,k.tP,N.jx,wo.V,$l.O,El.iA,eA.S,k.Ov,k.JJ],styles:["[_nghost-%COMP%]{display:flex}"]}),(0,rl.gn)([(0,Tl.bQ)("buildId")],Pu.prototype,"buildId$",void 0),Pu=(0,rl.gn)([(0,Tl.kG)()],Pu);const uB=["fileManager"],dB=function(){return[]};function pB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",26),e._UZ(1,"p-dropdown",27),e.ALo(2,"async"),e.TgZ(3,"div",28)(4,"input",29),e.NdJ("keydown.enter",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.searchFiles())}),e.qZA(),e.TgZ(5,"button",30),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.searchFiles())}),e.qZA()()()}if(2&n){const t=e.oxw();let i;e.xp6(1),e.Q6J("options",null!==(i=e.lcZ(2,3,t.filesSortingTypeItems$))&&void 0!==i?i:e.DdM(5,dB))("formControl",t.filesSortingControl),e.xp6(3),e.Q6J("formControl",t.searchFilesQueryControl)}}function hB(n,o){if(1&n&&e._UZ(0,"p-breadcrumb",31),2&n){const t=e.oxw();e.Q6J("home",t.breadcrumbRoot)("model",t.breadcrumbItems)}}function gB(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0418\u043c\u044f"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0421\u043e\u0437\u0434\u0430\u043d"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0420\u0430\u0437\u043c\u0435\u0440"),e.qZA()())}function mB(n,o){1&n&&e.GkF(0)}function fB(n,o){if(1&n&&(e.ynx(0),e.YNc(1,mB,1,0,"ng-container",35),e.BQk()),2&n){e.oxw(2);const t=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function _B(n,o){1&n&&e.GkF(0)}const aI=function(n){return{$implicit:n}};function CB(n,o){if(1&n&&(e.ynx(0),e.YNc(1,_B,1,0,"ng-container",36),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw();const i=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,aI,t))}}function vB(n,o){1&n&&e.GkF(0)}function bB(n,o){if(1&n&&(e.ynx(0),e.YNc(1,vB,1,0,"ng-container",36),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw();const i=e.MAs(14);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,aI,t))}}function yB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",32),e.NdJ("dblclick",function(){const d=e.CHM(t).$implicit,T=e.oxw();return e.KtG(T.doubleClick(d))})("onDragStart",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.insideDragDrop=!0)})("onDragEnd",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.insideDragDrop=!1)})("onDrop",function(){const d=e.CHM(t).$implicit,T=e.oxw();return e.KtG(T.filesDropped(d))}),e.ynx(1,33),e.YNc(2,fB,2,1,"ng-container",34),e.YNc(3,CB,2,4,"ng-container",34),e.YNc(4,bB,2,4,"ng-container",34),e.BQk(),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.Q6J("pSelectableRow",t)("pSelectableRowDisabled",i.isBackButton(t))("pDroppableDisabled",i.isNotADirectory(t))("pDraggableDisabled",!i.selectedItems.includes(t)),e.xp6(1),e.Q6J("ngSwitch",t.discriminator),e.xp6(1),e.Q6J("ngSwitchCase","back"),e.xp6(1),e.Q6J("ngSwitchCase","directory"),e.xp6(1),e.Q6J("ngSwitchCase","file")}}function xB(n,o){1&n&&(e.TgZ(0,"tr")(1,"td",37),e._uU(2," \u0424\u0430\u0438\u0306\u043b\u043e\u0432 \u043d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043d\u043e "),e.qZA()())}function IB(n,o){1&n&&(e.TgZ(0,"div",38)(1,"span"),e._uU(2," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b\u044b \u0432 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e "),e.qZA()())}function TB(n,o){1&n&&(e.TgZ(0,"div",39),e._UZ(1,"p-progressSpinner"),e.TgZ(2,"span"),e._uU(3," \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u0430\u0439\u043b\u043e\u0432 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440 "),e.qZA()())}function AB(n,o){1&n&&e.GkF(0)}function wB(n,o){if(1&n&&(e.TgZ(0,"td",40),e.YNc(1,AB,1,0,"ng-container",35),e.TgZ(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"date"),e.qZA(),e._UZ(7,"td")),2&n){const t=o.$implicit,i=e.oxw(),s=e.MAs(18);e.Q6J("ngClass",i.itemSelectionStyleClasses(t)),e.xp6(1),e.Q6J("ngTemplateOutlet",s),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",e.xi3(6,4,t.createdAt,"dd-MM-yyyy HH:mm")," ")}}function EB(n,o){1&n&&e.GkF(0)}function SB(n,o){if(1&n&&(e.TgZ(0,"td",40),e.YNc(1,EB,1,0,"ng-container",36),e.TgZ(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"number"),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(),s=e.MAs(20);e.Q6J("ngClass",i.itemSelectionStyleClasses(t)),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(12,aI,t.type)),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",e.xi3(6,6,t.createdAt,"dd-MM-yyyy HH:mm")," "),e.xp6(3),e.hij(" ",e.xi3(9,9,t.sizeMbyte,"1.1-2")," Mb ")}}function kB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",41),e.NdJ("dblclick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.back())}),e._UZ(1,"span",42),e.TgZ(2,"span"),e._uU(3," \u041d\u0430\u0437\u0430\u0434 "),e.qZA()(),e._UZ(4,"td")(5,"td")}}function DB(n,o){1&n&&e._UZ(0,"span",43)}function MB(n,o){1&n&&e._UZ(0,"span",49)}function OB(n,o){1&n&&e._UZ(0,"span",50)}function PB(n,o){1&n&&e._UZ(0,"span",51)}function LB(n,o){1&n&&e._UZ(0,"span",52)}function RB(n,o){1&n&&e._UZ(0,"span",53)}function NB(n,o){1&n&&(e.ynx(0,33),e.YNc(1,MB,1,0,"span",44),e.YNc(2,OB,1,0,"span",45),e.YNc(3,PB,1,0,"span",46),e.YNc(4,LB,1,0,"span",47),e.YNc(5,RB,1,0,"span",48),e.BQk()),2&n&&(e.Q6J("ngSwitch",o.$implicit),e.xp6(1),e.Q6J("ngSwitchCase","PHOTO"),e.xp6(1),e.Q6J("ngSwitchCase","VIDEO"),e.xp6(1),e.Q6J("ngSwitchCase","AUDIO"),e.xp6(1),e.Q6J("ngSwitchCase","DOCUMENT"))}function FB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",54)(1,"span",55),e._uU(2," \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430: "),e.qZA(),e.TgZ(3,"span",56),e._uU(4),e.qZA(),e.TgZ(5,"p-button",57),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cancelSearch())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.hij(" ",t.searchFilesQueryControl.value," ")}}let BB=(()=>{class n{constructor(t,i,s,d){this.api=t,this.rt=i,this.confirmService=s,this.mediaViewerService=d,this.fileItems=[],this.isLoading=!1,this.selectedItems=[],this.itemsForCopy=[],this.itemsForMove=[],this.currentPath=[],this.currentDirectory=null,this.filesSortingTypeItems$=this.api.getFilesSortingTypes(),this.filesSortingControl=new g.NI(_.Ke.loadOrDefault("filesSortingType","NAME_ASC")),this.subscriptions=new _.xf,this.createDirectoryDialogVisible=!1,this.createDirectoryNameControl=new g.NI("",[g.kI.required,g.kI.minLength(3)]),this.renameItemDialogVisible=!1,this.renameItemForm=new g.cw({id:new g.NI(null,[g.kI.required]),name:new g.NI("",[g.kI.required,g.kI.minLength(3)])}),this.itemBeingRename=!1,this.directoryCreating=!1,this.insideDragDrop=!1,this.dropMessageVisible=0,this.menuItems=[],this.dropFilesUploadingVisible=!1,this.breadcrumbItems=[],this.searchFilesQueryControl=new g.NI(""),this.searchMode=!1}get breadcrumbRoot(){return{icon:"mdi-home",command:()=>{this.isLoading=!0,this.currentPath=[],this.api.getFilesRoot(this.filesSortingControl.value).subscribe(this.rootDirectoryLoadHandler())}}}updateMenuItems(){this.menuItems=[{label:"\u0424\u0430\u0439\u043b\u044b",items:[{label:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441 \u0434\u0438\u0441\u043a\u0430",command:()=>{var t;return null===(t=this.fileManager)||void 0===t?void 0:t.nativeElement.click()}},{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0430\u043f\u043a\u0443",command:()=>this.openCreateFolderDialog()}]},{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",items:[{label:"\u0412\u044b\u0440\u0435\u0437\u0430\u0442\u044c",disabled:0===this.selectedItems.length,command:()=>this.setMoveItems()},{label:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",disabled:0===this.selectedItems.length,command:()=>this.setCopyItems()},{label:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c",disabled:0===this.itemsForCopy.length&&0===this.itemsForMove.length,command:()=>this.pasteItems()},{label:"\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c",disabled:1!==this.selectedItems.length,command:()=>this.openRenameItemDialog()},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",disabled:0===this.selectedItems.length,command:()=>this.deleteItems()}]}]}updateBreadcrumbs(){var t;this.breadcrumbItems=[...this.currentPath.filter(i=>null!==i).map((i,s)=>({label:null==i?void 0:i.name,command:()=>{i&&(this.currentPath=this.currentPath.slice(0,s+1),this.currentDirectory=i,this.isLoading=!0,this.updateBreadcrumbs(),this.api.getFilesDirectory(i.fileSystemItemId,this.filesSortingControl.value).subscribe(this.directoryLoadHandler(this.currentDirectory)))}})),{label:null===(t=this.currentDirectory)||void 0===t?void 0:t.name,disabled:!0}]}get isBack(){return this.currentPath.length>0}rootDirectoryLoadHandler(){return{next:t=>{this.fileItems=t,this.selectedItems=[],this.currentPath=[],this.currentDirectory=null,this.isLoading=!1,this.searchMode=!1,this.searchFilesQueryControl.setValue(""),this.updateBreadcrumbs(),this.updateMenuItems()},error:()=>this.isLoading=!1}}directoryLoadHandler(t){return{next:i=>{this.fileItems=[{fileSystemItemId:0,name:"\u041d\u0430\u0437\u0430\u0434",discriminator:"back",parent:null},...i.files],this.selectedItems=[],this.currentPath=i.path,this.currentDirectory=t,this.updateBreadcrumbs(),this.updateMenuItems(),this.isLoading=!1,this.searchMode=!1,this.searchFilesQueryControl.setValue("")},error:()=>this.isLoading=!1}}ngOnInit(){this.isLoading=!0,this.api.getFilesRoot(this.filesSortingControl.value).subscribe(this.rootDirectoryLoadHandler()),this.updateMenuItems(),this.subscriptions.addSubscription("stUpd",this.filesSortingControl.valueChanges.subscribe(t=>{_.Ke.save("filesSortingType",t),this.isLoading=!0,this.currentDirectory?this.api.getFilesDirectory(this.currentDirectory.fileSystemItemId,t).subscribe(this.directoryLoadHandler(this.currentDirectory)):this.api.getFilesRoot(t).subscribe(this.rootDirectoryLoadHandler())})),this.subscriptions.addSubscription("dirUpd",this.rt.updateFilesDirectory().subscribe(t=>{var i;0===t&&null===this.currentDirectory?(this.isLoading=!0,this.api.getFilesRoot(this.filesSortingControl.value).subscribe(this.rootDirectoryLoadHandler())):t===(null===(i=this.currentDirectory)||void 0===i?void 0:i.fileSystemItemId)&&(this.isLoading=!0,this.api.getFilesDirectory(this.currentDirectory.fileSystemItemId,this.filesSortingControl.value).subscribe(this.directoryLoadHandler(this.currentDirectory)))})),this.subscriptions.addSubscription("drgEntDetect",(0,y.R)(document,"dragenter").subscribe(t=>{this.dropMessageVisible++})),this.subscriptions.addSubscription("drgLvDetect",(0,y.R)(document,"dragleave").subscribe(t=>{this.dropMessageVisible--})),this.subscriptions.addSubscription("drpDetect",(0,y.R)(document,"drop").subscribe(()=>{this.dropMessageVisible=0})),this.subscriptions.addSubscription("drgDropover",(0,y.R)(document,"dragover").subscribe(t=>{this.insideDragDrop||t.preventDefault()}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}dropFilesHandler(t){var i,s;if(this.insideDragDrop)return;t.preventDefault();const d=[];if(null!==(i=t.dataTransfer)&&void 0!==i&&i.items){for(let T=0;T<t.dataTransfer.items.length;T++)if("file"===t.dataTransfer.items[T].kind){const W=t.dataTransfer.items[T].getAsFile();W&&d.push(W)}}else if(null!==(s=t.dataTransfer)&&void 0!==s&&s.files)for(let T=0;T<t.dataTransfer.files.length;T++)d.push(t.dataTransfer.files[T]);this.uploadFiles(d)}filesManagerChange(t){if(0===t.target.files.length)return;const i=t.target.files,s=[];for(let d=0;d<i.length;d++)s.push(i[d]);this.uploadFiles(s),t.target.value=null}uploadFiles(t){this.dropFilesUploadingVisible=!0,Promise.all(t.map(i=>this.fileReader(i))).then(i=>{this.api.filesUpload(i).subscribe({next:()=>this.dropFilesUploadingVisible=!1,error:()=>this.dropFilesUploadingVisible=!1})})}fileReader(t){return new Promise((i,s)=>{const d=new FileReader;d.onload=T=>{var W,Ce;const qe=null===(W=T.target)||void 0===W?void 0:W.result;qe instanceof ArrayBuffer&&i({name:t.name,data:Object.values(new Uint8Array(qe)),targetDirectoryId:null===(Ce=this.currentDirectory)||void 0===Ce?void 0:Ce.fileSystemItemId})},d.onerror=s,d.readAsArrayBuffer(t)})}loadDirectory(t){this.isLoading=!0,this.api.getFilesDirectory(t.fileSystemItemId,this.filesSortingControl.value).subscribe(this.directoryLoadHandler(t))}back(){if(this.currentPath.length>0){const t=this.currentPath.pop();if(void 0===t)return;this.currentDirectory=t,this.isLoading=!0,this.updateBreadcrumbs(),this.api.getFilesDirectory(t.fileSystemItemId,this.filesSortingControl.value).subscribe(this.directoryLoadHandler(t))}else this.currentDirectory=null,this.isLoading=!0,this.updateBreadcrumbs(),this.api.getFilesRoot(this.filesSortingControl.value).subscribe(this.rootDirectoryLoadHandler())}doubleClick(t){switch(t.discriminator){case"directory":this.loadDirectory(t);break;case"file":const i=t;switch(i.type){case"PHOTO":case"VIDEO":case"AUDIO":this.mediaViewerService.showMedia(i);break;case"DOCUMENT":case"FILE":window.open("/api/private/file/"+i.fileSystemItemId,"_blank")}}}isBackButton(t){return"back"===t.discriminator}isNotADirectory(t){return"directory"!==t.discriminator}isSelected(t){return this.selectedItems.map(i=>i.fileSystemItemId).includes(t.fileSystemItemId)}filesDropped(t){if(this.isSelected(t))return;const i=t.fileSystemItemId,s=this.selectedItems.map(d=>d.fileSystemItemId);this.api.filesMoveTo(i,s).subscribe()}setCopyItems(){this.itemsForMove=[],this.itemsForCopy=this.selectedItems,this.selectedItems=[],this.updateMenuItems()}setMoveItems(){this.itemsForCopy=[],this.itemsForMove=this.selectedItems,this.selectedItems=[],this.updateMenuItems()}isFilesCopied(t){return this.itemsForCopy.map(i=>i.fileSystemItemId).includes(t.fileSystemItemId)}isFilesMoved(t){return this.itemsForMove.map(i=>i.fileSystemItemId).includes(t.fileSystemItemId)}itemSelectionStyleClasses(t){return!this.isSelected(t)&&this.isFilesMoved(t)?"opacity-50":!this.isSelected(t)&&this.isFilesCopied(t)?"text-orange-400":null}pasteItems(){var t,i,s,d;this.itemsForMove.length>0?this.api.filesMoveTo(null!==(i=null===(t=this.currentDirectory)||void 0===t?void 0:t.fileSystemItemId)&&void 0!==i?i:null,this.itemsForMove.map(T=>T.fileSystemItemId)).subscribe():this.itemsForCopy.length>0&&this.api.filesCopyTo(null!==(d=null===(s=this.currentDirectory)||void 0===s?void 0:s.fileSystemItemId)&&void 0!==d?d:null,this.itemsForCopy.map(T=>T.fileSystemItemId)).subscribe(),this.itemsForCopy=[],this.itemsForMove=[],this.updateMenuItems()}deleteItems(){this.confirmService.confirm({header:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u043e\u0432",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b?",accept:()=>{this.itemsForMove=[],this.itemsForCopy=[],this.isLoading=!0,this.selectedItems.length>0&&(this.selectedItems.forEach(t=>{this.api.filesDelete(t.fileSystemItemId).subscribe()}),this.selectedItems=[]),this.updateMenuItems()}})}createDirectory(){var t;const i=this.createDirectoryNameControl.value;i&&this.api.filesCreateDirectory(i,null===(t=this.currentDirectory)||void 0===t?void 0:t.fileSystemItemId).subscribe({next:()=>{this.createDirectoryDialogVisible=!1,this.directoryCreating=!1},error:()=>{this.directoryCreating=!1}})}openCreateFolderDialog(){this.createDirectoryNameControl.setValue(""),this.directoryCreating=!1,this.createDirectoryDialogVisible=!0}renameItem(){if(this.renameItemForm.valid){const{id:t,name:i}=this.renameItemForm.value;if(!t||!i)return;this.itemBeingRename=!0,this.selectedItems=[],this.api.filesRename(t,i).subscribe({next:()=>{this.renameItemDialogVisible=!1,this.itemBeingRename=!1},error:()=>{this.itemBeingRename=!1}}),this.updateMenuItems()}}openRenameItemDialog(){1===this.selectedItems.length&&(this.renameItemForm.setValue({id:this.selectedItems[0].fileSystemItemId,name:this.selectedItems[0].name}),this.renameItemDialogVisible=!0,this.itemBeingRename=!1)}searchFiles(){this.searchFilesQueryControl.value&&(this.searchMode=!0,this.currentPath=[],this.currentDirectory=null,this.isLoading=!0,this.api.searchFiles(this.searchFilesQueryControl.value,this.filesSortingControl.value).subscribe({next:t=>{this.isLoading=!1,this.fileItems=t},error:()=>{this.isLoading=!1}}))}cancelSearch(){this.isLoading=!0,this.currentPath=[],this.searchFilesQueryControl.setValue(""),this.api.getFilesRoot(this.filesSortingControl.value).subscribe(this.rootDirectoryLoadHandler())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(N.YP),e.Y36(FA.E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-files-viewer"]],viewQuery:function(t,i){if(1&t&&e.Gf(uB,5),2&t){let s;e.iGM(s=e.CRH())&&(i.fileManager=s.first)}},decls:32,vars:26,consts:[[1,"flex","flex-column","border-round-lg","border-1","border-bluegray-100","overflow-hidden","relative","bg-bluegray-50",3,"keydown.control.c","keydown.control.x","drop","dragover","keydown.delete","paste"],["styleClass","border-0",3,"model"],["pTemplate","end"],[1,"flex","flex-column","flex-grow-1","border-top-1","border-bluegray-100","overflow-hidden"],["class","flex-grow-1","styleClass","border-0 bg-transparent",3,"home","model",4,"ngIf","ngIfElse"],["selectionMode","multiple",3,"value","loading","selection","metaKeySelection","selectionChange"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","absolute top-0 left-0 w-full h-full flex flex-column text-white text-2xl font-bold\n     align-items-center justify-content-center bg-black-alpha-40 pointer-events-none",4,"ngIf"],["class","absolute top-0 left-0 w-full h-full flex flex-column text-white text-2xl font-bold\n     align-items-center justify-content-center bg-black-alpha-40",4,"ngIf"],["directory",""],["file",""],["backButton",""],["directoryIcon",""],["fileIcon",""],["searchTitle",""],["appendTo","body","header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0430\u043f\u043a\u0443","contentStyleClass","flex gap-3 pt-1",3,"visible","draggable","modal","dismissableMask","visibleChange"],["pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",3,"formControl","keydown.enter"],["label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","icon","mdi-add",3,"disabled","loading","onClick"],["appendTo","body","header","\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c \u0444\u0430\u0439\u043b","contentStyleClass","flex gap-3 pt-1",3,"visible","draggable","modal","dismissableMask","visibleChange"],[3,"formGroup"],["pInputText","","placeholder","\u041d\u043e\u0432\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","formControlName","name",3,"keydown.enter"],["label","\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c","icon","mdi-add",3,"disabled","loading","onClick"],["type","file",3,"multiple","change"],["fileManager",""],[1,"flex","gap-2"],["appendTo","body",3,"options","formControl"],[1,"p-inputgroup"],["type","text","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a...",3,"formControl","keydown.enter"],["type","button","pButton","","pRipple","","icon","mdi-search",3,"click"],["styleClass","border-0 bg-transparent",1,"flex-grow-1",3,"home","model"],["pDraggable","fileScope","pDroppable","fileScope",1,"select-none","text-bluegray-600",3,"pSelectableRow","pSelectableRowDisabled","pDroppableDisabled","pDraggableDisabled","dblclick","onDragStart","onDragEnd","onDrop"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["colspan","3"],[1,"absolute","top-0","left-0","w-full","h-full","flex","flex-column","text-white","text-2xl","font-bold","align-items-center","justify-content-center","bg-black-alpha-40","pointer-events-none"],[1,"absolute","top-0","left-0","w-full","h-full","flex","flex-column","text-white","text-2xl","font-bold","align-items-center","justify-content-center","bg-black-alpha-40"],[1,"flex","gap-2","align-items-center",3,"ngClass"],[1,"flex","gap-2","align-items-center","text-bluegray-300",3,"dblclick"],[1,"mdi-turn_left"],[1,"mdi-folder"],["class","mdi-image",4,"ngSwitchCase"],["class","mdi-videocam",4,"ngSwitchCase"],["class","mdi-audiotrack",4,"ngSwitchCase"],["class","mdi-picture_as_pdf",4,"ngSwitchCase"],["class","mdi-insert_drive_file",4,"ngSwitchDefault"],[1,"mdi-image"],[1,"mdi-videocam"],[1,"mdi-audiotrack"],[1,"mdi-picture_as_pdf"],[1,"mdi-insert_drive_file"],[1,"flex","gap-2","align-items-center","py-2","px-3"],[1,"text-xl","text-bluegray-500"],[1,"text-xl","text-bluegray-600","font-bold"],["icon","mdi-close","label","\u041e\u0442\u043c\u0435\u043d\u0430","styleClass","p-button-sm p-button-secondary p-button-text",3,"onClick"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e.NdJ("keydown.control.c",function(d){return d.preventDefault(),i.setCopyItems()})("keydown.control.x",function(d){return d.preventDefault(),i.setMoveItems()})("drop",function(d){return i.dropFilesHandler(d)})("dragover",function(d){return d.preventDefault()})("keydown.delete",function(){return i.deleteItems()})("paste",function(d){return d.preventDefault(),i.pasteItems()}),e.TgZ(1,"p-menubar",1),e.YNc(2,pB,6,6,"ng-template",2),e.qZA(),e.TgZ(3,"div",3),e.YNc(4,hB,1,2,"p-breadcrumb",4),e.TgZ(5,"p-table",5),e.NdJ("selectionChange",function(d){return i.selectedItems=d})("selectionChange",function(){return i.updateMenuItems()}),e.YNc(6,gB,7,0,"ng-template",6),e.YNc(7,yB,5,8,"ng-template",7),e.YNc(8,xB,3,0,"ng-template",8),e.qZA()(),e.YNc(9,IB,3,0,"div",9),e.YNc(10,TB,4,0,"div",10),e.qZA(),e.YNc(11,wB,8,7,"ng-template",null,11,e.W1O),e.YNc(13,SB,10,14,"ng-template",null,12,e.W1O),e.YNc(15,kB,6,0,"ng-template",null,13,e.W1O),e.YNc(17,DB,1,0,"ng-template",null,14,e.W1O),e.YNc(19,NB,6,5,"ng-template",null,15,e.W1O),e.YNc(21,FB,6,1,"ng-template",null,16,e.W1O),e.TgZ(23,"p-dialog",17),e.NdJ("visibleChange",function(d){return i.createDirectoryDialogVisible=d}),e.TgZ(24,"input",18),e.NdJ("keydown.enter",function(){return i.createDirectoryNameControl.valid&&i.createDirectory()}),e.qZA(),e.TgZ(25,"p-button",19),e.NdJ("onClick",function(){return i.createDirectory()}),e.qZA()(),e.TgZ(26,"p-dialog",20),e.NdJ("visibleChange",function(d){return i.renameItemDialogVisible=d}),e.ynx(27,21),e.TgZ(28,"input",22),e.NdJ("keydown.enter",function(){return i.renameItemForm.valid&&i.renameItem()}),e.qZA(),e.TgZ(29,"p-button",23),e.NdJ("onClick",function(){return i.renameItem()}),e.qZA(),e.BQk(),e.qZA(),e.TgZ(30,"input",24,25),e.NdJ("change",function(d){return i.filesManagerChange(d)}),e.qZA()),2&t){const s=e.MAs(22);e.xp6(1),e.Q6J("model",i.menuItems),e.xp6(3),e.Q6J("ngIf",!i.searchMode)("ngIfElse",s),e.xp6(1),e.Q6J("value",i.fileItems)("loading",i.isLoading)("selection",i.selectedItems)("metaKeySelection",!0),e.xp6(4),e.Q6J("ngIf",i.dropMessageVisible&&!i.insideDragDrop),e.xp6(1),e.Q6J("ngIf",i.dropFilesUploadingVisible),e.xp6(13),e.Q6J("visible",i.createDirectoryDialogVisible)("draggable",!0)("modal",!0)("dismissableMask",!0),e.xp6(1),e.Q6J("formControl",i.createDirectoryNameControl),e.xp6(1),e.Q6J("disabled",i.createDirectoryNameControl.invalid)("loading",i.directoryCreating),e.xp6(1),e.Q6J("visible",i.renameItemDialogVisible)("draggable",!0)("modal",!0)("dismissableMask",!0),e.xp6(1),e.Q6J("formGroup",i.renameItemForm),e.xp6(2),e.Q6J("disabled",i.renameItemForm.invalid)("loading",i.itemBeingRename),e.xp6(1),e.Udp("display","none"),e.Q6J("multiple",!0)}},dependencies:[k.mk,k.O5,k.tP,k.RF,k.n9,k.ED,O.Hq,O.zx,g.Fj,g.JJ,g.JL,Ke.Lt,N.jx,wo.V,it.G,bi.o,g.oH,g.sg,g.u,be.H,El.iA,El.Ei,Yo._l,Yo.bK,rb.a,qx.nm,k.Ov,k.JJ,k.uU]}),n})();const ZB=["dropEl"],UB=function(n,o){return{"mdi-expand_more":n,"mdi-expand_less":o}};function HB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",9),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.toggleExpand())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.WLB(1,UB,!t.expand,t.expand))}}const VB=function(){return{width:"20px"}};function zB(n,o){1&n&&e._UZ(0,"div"),2&n&&e.Akn(e.DdM(2,VB))}function JB(n,o){if(1&n&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.Oqu(t)}}function QB(n,o){if(1&n&&(e.ynx(0),e.YNc(1,JB,2,1,"span",11),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw(2),i=e.MAs(11);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.counter))("ngIfElse",i)}}function GB(n,o){if(1&n&&(e.ynx(0),e.YNc(1,QB,3,4,"ng-container",10),e.BQk()),2&n){const t=e.oxw(),i=e.MAs(11);e.xp6(1),e.Q6J("ngIf",!t.isCounterLoading)("ngIfElse",i)}}function WB(n,o){1&n&&e.GkF(0)}function YB(n,o){if(1&n&&(e.TgZ(0,"div",13),e.YNc(1,WB,1,0,"ng-container",14),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",t.contentTemplateData)}}function jB(n,o){1&n&&e._UZ(0,"p-skeleton",15)}const KB=function(n,o){return[n,o]};let YA=(()=>{class n{constructor(t){this.router=t,this.expand=!1,this.expandChange=new e.vpe(!0),this.autoExpand=!0,this.link="",this.label="",this.isEmpty=!0,this.isCounterLoading=!1,this.onDrop=new e.vpe,this.onClick=new e.vpe}ngOnInit(){this.link&&this.router.isActive(this.link,!1)&&this.autoExpand&&this.setExpand(!0),this.clearClassesOnDropSub=(0,y.R)(window,"dragend").subscribe(t=>{this.dropEl&&this.dropEl.nativeElement&&this.dropEl.nativeElement.classList.remove("p-draggable-enter")})}ngOnDestroy(){var t;null===(t=this.clearClassesOnDropSub)||void 0===t||t.unsubscribe()}toggleExpand(){this.setExpand(!this.expand)}setExpand(t){this.expand!==t&&(this.expand=t,this.expandChange.emit(this.expand))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-catalog-menu-item"]],viewQuery:function(t,i){if(1&t&&e.Gf(ZB,5),2&t){let s;e.iGM(s=e.CRH())&&(i.dropEl=s.first)}},inputs:{expand:"expand",autoExpand:"autoExpand",link:"link",label:"label",counter:"counter",isEmpty:"isEmpty",contentTemplate:"contentTemplate",contentTemplateData:"contentTemplateData",droppable:"droppable",isCounterLoading:"isCounterLoading"},outputs:{expandChange:"expandChange",onDrop:"onDrop",onClick:"onClick"},decls:12,vars:12,consts:[[1,"flex","flex-column"],[1,"flex","align-items-center","p-2","text-bluegray-600","user-select-none"],["class","hover:text-primary cursor-pointer",3,"ngClass","click",4,"ngIf"],[3,"style",4,"ngIf"],["routerLinkActive","text-write bg-primary cursor-default",1,"flex-grow-1","px-2","py-1","border-round-sm","cursor-pointer",3,"pDroppable","pDroppableDisabled","ngClass","routerLink","onDrop","click"],["dropEl","","rla","routerLinkActive"],[4,"ngIf"],["class","pl-4 flex flex-column",4,"ngIf"],["loading",""],[1,"hover:text-primary","cursor-pointer",3,"ngClass","click"],[4,"ngIf","ngIfElse"],["class","font-bold text-sm ml-2",4,"ngIf","ngIfElse"],[1,"font-bold","text-sm","ml-2"],[1,"pl-4","flex","flex-column"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["width","1rem","height","1rem","borderRadius",".2rem",1,"ml-3"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,HB,1,4,"span",2),e.YNc(3,zB,1,3,"div",3),e.TgZ(4,"span",4,5),e.NdJ("onDrop",function(T){e.CHM(s);const W=e.MAs(5);return e.KtG(i.onDrop.emit({$event:T,dropEl:W}))})("click",function(){return i.autoExpand&&i.setExpand(!0),i.onClick.emit()}),e._uU(7),e.qZA(),e.YNc(8,GB,2,2,"ng-container",6),e.qZA(),e.YNc(9,YB,2,2,"div",7),e.qZA(),e.YNc(10,jB,1,0,"ng-template",null,8,e.W1O)}if(2&t){const s=e.MAs(6);let d;e.xp6(2),e.Q6J("ngIf",!i.isEmpty),e.xp6(1),e.Q6J("ngIf",i.isEmpty),e.xp6(1),e.Q6J("pDroppable",null!==(d=i.droppable)&&void 0!==d?d:"")("pDroppableDisabled",!i.droppable)("ngClass",e.WLB(9,KB,s.isActive?"hover:text-white hover:bg-primary-700":"hover:text-primary hover:bg-white",i.droppable?"droppable":""))("routerLink",i.link),e.xp6(3),e.hij(" ",i.label," "),e.xp6(1),e.Q6J("ngIf",i.counter),e.xp6(1),e.Q6J("ngIf",i.expand&&i.contentTemplate)}},dependencies:[k.mk,k.O5,k.tP,a.rH,a.Od,$l.O,Yo.bK,k.Ov],styles:[".droppable.p-draggable-enter[_ngcontent-%COMP%]{background-color:var(--orange-500)!important;color:#fff!important}"]}),n})();const qB={apikey:"008574e5-f34b-4270-b3d5-91aaabd036e8",lang:"ru_RU"};let $B=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[N.ez,{provide:e.soG,useValue:"ru"},N.YP],imports:[cO.U,VM,sA.JP.forRoot({sanitize:e.q3G.NONE}),ah.Iu,g.u5,wl.LU,wo.S,g.UX,Ke.kW,mi,dt,Kg.nD,bt.A,uO.D,_O,DO,q1._8,RO,ku,JO,Yi,Co.$9,bi.j,QO.z,rA.q4,Ou.y,aA.f,it.L,$l.m,CP,uA.e4,vP.Cl,Al.U,Kx.n,xo.ON,qx.W6,CA,ib.g6,ib.qH,T6,eI.vI,ku,Yv.q,j_.Qy,A6.E,rb.w,ih.xc,be.T,tL,Yo._t,El.U$,TA.JH,AA.ce,nL.l,hL,EA.zz,bL.forRoot(qB),F.WN,K_.kK,yL.x,OA.u,DL,PA.S,Ac.qZ]}),n})();e.B6R(lO,function(){return[_r.h,Qc.E,U,tm.C,LA,vR,nI,iI,ab,$g.x,g.Fj,g.JJ,g.JL,N.jx,k.sg,wo.V,g.oH,g.sg,g.u,k.O5,O.zx,k.RF,k.n9,LO,bi.o,it.G,Al.D,xo.Ri]},function(){return[k.Ov]}),e.B6R(Di,function(){return[D.r,_r.h,U,FR,a.rH,ah.Ql,g.Fj,g.JJ,g.JL,wl.xf,wl.x4,N.jx,k.sg,wo.V,g.oH,g.sg,g.u,Oe,k.O5,bt.g,O.zx,k.tP,k.RF,k.n9,bi.o,k.mk,it.G,uA.zH,Ra.Rn]},function(){return[k.Ov,k.uU]}),e.B6R($s,function(){return[x.A,D.r,BR.Y,KR,Qc.E,oI,U,BA,FN,UA.g,sI.U,Cc.x,QN,GN.y,VA,yF,zF,JA.C,JF.a,QF.g,GF.s,WF.M,YF.j,g.Fj,g.JJ,g.JL,g.On,wl.xf,wl.x4,N.jx,k.sg,wo.V,g.oH,g.sg,g.u,Ke.Lt,Oe,Kg.XZ,k.O5,O.zx,k.RF,k.n9,Qi.u,Co.v2,bi.o,Ou.T,k.mk,it.G,cA,Kx.P,qx.nm,ib.g6,K_.Fr]},function(){return[k.Ov,k.uU,jF.A,k.rS]}),e.B6R(hh,function(){return[x.A,D.r,_r.h,RA.k,oI,U,Y_._,ah.Ql,g._Y,g.Fj,g.JJ,g.JL,g.On,k.PC,wl.xf,wl.x4,N.jx,k.sg,wo.V,g.oH,g.sg,g.u,g.x0,Ke.Lt,On,Oe,Kg.XZ,k.O5,bt.g,O.zx,k.tP,bi.o]},[]),e.B6R(tP,function(){return[D.r,_r.h,Qc.E,oI,U,BA,o5,tm.C,g.JJ,g.On,k.sg,Ke.Lt,Kg.XZ,k.O5,Ou.T]},[]),e.B6R(Yc,function(){return[_r.h,U,C5,k.sg,k.O5]},function(){return[k.Ov]}),e.B6R(WP,function(){return[_r.h,Qc.E,U,tm.C,nI,$g.x,g.Fj,g.JJ,g.JL,N.jx,k.sg,g.oH,g.sg,g.u,k.O5,O.Hq,k.tP,k.RF,k.n9,bi.o,it.G,Al.D,xo.Ri,be.H]},function(){return[k.Ov]}),e.B6R(Zg,function(){return[_r.h,Qc.E,U,VA,k.O5,k.tP,Ou.T,I6,eI.xV]},function(){return[k.Ov]}),e.B6R($4,function(){return[_r.h,U,sI.U,Cc.x,v5,a.rH,g.JJ,g.JL,N.jx,k.sg,g.oH,g.sg,g.u,Ke.Lt,Oe,k.O5,O.Hq,O.zx,k.RF,k.n9,q1.f,Co.v2,k.mk,it.G,be.H,El.iA,El.on,El.jB]},function(){return[k.Ov,k.uU,k.rS,k.JJ]}),e.B6R(X4,function(){return[_r.h,U,Cc.x,g.Fj,g.JJ,g.JL,N.jx,k.sg,wo.V,g.sg,g.u,Ke.Lt,Oe,k.O5,bt.g,O.zx,k.RF,k.n9,bi.o,it.G,Al.D,Ra.Rn]},function(){return[k.uU,rI,k.H9]}),e.B6R(k_,function(){return[_r.h,U,$g.x,g.Fj,g.JJ,g.JL,N.jx,k.sg,wo.V,g.sg,g.u,k.O5,bt.g,O.zx,k.tP,k.RF,k.n9,Co.v2,bi.o,aA.G,it.G,Ra.Rn,eI.xV,rb.a,ih.mp,be.H]},function(){return[rI]}),e.B6R(D_,function(){return[_r.h,U,sI.U,Cc.x,zA.k,QA,GA,JA.C,Y_._,lh,ah.Ql,g.Fj,g.JJ,g.JL,g.On,N.jx,k.sg,wo.V,g.oH,g.sg,g.u,k.O5,bt.g,O.zx,k.tP,k.RF,k.n9,it.G,Ra.Rn]},function(){return[k.Ov,k.uU,k.rS]}),e.B6R(V1,function(){return[_r.h,U,tm.C,Qx,a.rH,g.Fj,g.JJ,g.JL,k.sg,g.sg,g.u,Oe,k.O5,O.Hq,O.zx,k.RF,k.n9,bi.o,k.mk,it.G,Al.D,j_.UN,be.H]},[]),e.B6R(Vd,function(){return[Qc.E,U,Jx.Z,tm.C,nA.j,$g.x,Wx.N,$5,Y_._,WA.G,Pu,g._Y,g.Fj,g.JJ,g.JL,g.On,wl.xf,wl.x4,N.jx,k.sg,wo.V,g.oH,g.sg,g.u,Ke.Lt,Oe,k.O5,bt.g,O.Hq,O.zx,k.tP,k.RF,k.n9,Qi.u,Co.v2,bi.o,Ou.T,k.mk,it.G,Al.D,Ra.Rn,xo.Ri,j_.UN,El.iA,K_.Fr]},function(){return[k.Ov,k.uU,v_.t,Gx,k.Nd,k.rS,k.H9]}),e.B6R(PT,function(){return[_r.h,U,Qx,Wx.N,ah.Ql,g.Fj,g.JJ,g.JL,k.sg,wo.V,g.oH,g.sg,g.u,Ke.Lt,Kg.XZ,k.O5,O.zx,k.tP,k.RF,k.n9,bi.o,k.mk,it.G,Ra.Rn,be.H,wA,EA.vy,MA,vL]},function(){return[k.Ov]}),e.B6R(LT,function(){return[S.o,_r.h,U,Cc.x,Ae,QA,GA,ah.Ql,g.Fj,g.JJ,g.JL,N.jx,k.sg,g.oH,g.sg,g.u,k.O5,bt.g,O.zx,k.tP,k.RF,k.n9,q1.f,it.G,$l.O,Ra.Rn,xo.Ri]},function(){return[k.Ov]}),e.B6R(RT,function(){return[_r.h,U,Jx.Z,g.Fj,g.JJ,g.JL,g.sg,g.u,k.O5,O.zx,bi.o,$l.O,Ra.Rn]},[]),e.B6R(NT,function(){return[_r.h,U,g.Fj,g.JJ,g.JL,g.sg,g.u,k.O5,O.zx,bi.o,$l.O]},[]),e.B6R(FT,function(){return[_r.h,U,g.Fj,g.JJ,g.JL,g.sg,g.u,k.O5,O.zx,bi.o,$l.O]},[]),e.B6R(BT,function(){return[_r.h,U,BB]},[]),e.B6R(GT,function(){return[_r.h,U,YA,a.lC,a.rH,a.Od,k.PC,k.sg,k.O5,O.zx,k.tP,it.G,rb.a,OA.b]},function(){return[k.Ov]}),e.B6R(YT,function(){return[_r.h,U,HA,iI,ab,YA,Y_._,Ug.r,a.lC,a.rH,g.Fj,g.JJ,g.JL,k.sg,g.oH,g.sg,g.u,g.CE,Ke.Lt,k.O5,O.zx,k.tP,k.RF,k.n9,bi.o,Ou.T,k.mk,kL]},function(){return[k.Ov]}),e.B6R(jT,function(){return[_r.h,U,a.lC]},[]),e.B6R(qT,function(){return[_r.h,U,a.lC]},[]),e.B6R(rh,function(){return[Cc.x,ab,lh,g.JJ,g.On,N.jx,k.O5,O.Hq,k.tP,El.iA,PA.C]},function(){return[k.Ov,k.H9]}),e.B6R($T,function(){return[_r.h,U,a.lC]},[]),e.B6R(Mu,function(){return[WA.G,Pu,a.rH,N.jx,k.sg,k.O5,k.tP,k.RF,k.n9,$l.O,El.iA]},function(){return[k.Ov]})},9936:(mn,ht,b)=>{"use strict";b.d(ht,{h:()=>K});var e=b(8505),a=b(5e3),f=b(3470),g=b(9744),_=b(8007),P=b(9014),y=b(2248),l=b(6768);const R=["chatPanelEl"];function L(z,oe){if(1&z){const Te=a.EpF();a.TgZ(0,"app-button",19),a.NdJ("onClick",function(){a.CHM(Te);const Ke=a.oxw();return a.KtG(Ke.taskCreator.standard())}),a.qZA()}}function J(z,oe){1&z&&a.GkF(0)}function N(z,oe){if(1&z&&(a.TgZ(0,"div",30),a._uU(1),a.qZA()),2&z){const Te=oe.$implicit;a.xp6(1),a.hij(" ",Te.name," ")}}function w(z,oe){if(1&z){const Te=a.EpF();a.TgZ(0,"span",22)(1,"p-button",23),a.NdJ("onClick",function(){a.CHM(Te);const Ke=a.oxw(3);return a.KtG(Ke.commutatorRemoteUpdatePoolVisible=!0)}),a.qZA(),a.TgZ(2,"p-overlay",24,25),a.NdJ("visibleChange",function(Ke){a.CHM(Te);const be=a.oxw(3);return a.KtG(be.commutatorRemoteUpdatePoolVisible=Ke)}),a.TgZ(4,"span",26),a._uU(5," \u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c\u044b\u0435 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u044b "),a.qZA(),a.TgZ(6,"div",27),a.YNc(7,N,2,1,"div",28),a.qZA()(),a._UZ(8,"p-badge",29),a.qZA()}if(2&z){const Te=a.MAs(3),Ae=a.oxw().ngIf,Ke=a.oxw(2);a.xp6(2),a.Q6J("visible",Ke.commutatorRemoteUpdatePoolVisible)("baseZIndex",2e3)("isVisible",Te.visible)("alignFn",Te.alignOverlay.bind(Te)),a.xp6(5),a.Q6J("ngForOf",Ae),a.xp6(1),a.Q6J("value",Ae.length.toString())}}function x(z,oe){if(1&z&&(a.ynx(0),a.YNc(1,w,9,6,"span",21),a.BQk()),2&z){const Te=oe.ngIf;a.xp6(1),a.Q6J("ngIf",Te&&Te.length>0)}}function D(z,oe){if(1&z&&(a.YNc(0,x,2,1,"ng-container",20),a.ALo(1,"async")),2&z){const Te=a.oxw();a.Q6J("ngIf",a.lcZ(1,1,Te.commutatorRemoteUpdatePool$))}}function S(z,oe){if(1&z){const Te=a.EpF();a.TgZ(0,"span",31),a._UZ(1,"i",32),a._uU(2," \u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"),a.qZA(),a._UZ(3,"div",5),a.TgZ(4,"p-button",33),a.NdJ("onClick",function(){a.CHM(Te);const Ke=a.oxw();return a.KtG(Ke.notifyService.readAllNotifications())}),a.qZA()}if(2&z){const Te=a.oxw();a.xp6(4),a.Q6J("disabled",!Te.notifyService.isHasUnread)}}function U(z,oe){1&z&&a._UZ(0,"app-notification-item",38),2&z&&a.Q6J("notification",oe.$implicit)}function F(z,oe){if(1&z){const Te=a.EpF();a.TgZ(0,"div",36),a.NdJ("onScrollToBottom",function(){a.CHM(Te);const Ke=a.oxw(2);return a.KtG(!Ke.notifyService.isLast&&Ke.notifyService.load())}),a.YNc(1,U,1,1,"app-notification-item",37),a.qZA()}if(2&z){const Te=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",Te.notifyService.list)}}function ce(z,oe){if(1&z){const Te=a.EpF();a.TgZ(0,"div",39)(1,"span",40),a._UZ(2,"i",41),a._uU(3," \u041d\u043e\u0432\u044b\u0445 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0438\u0306 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"),a.qZA(),a.TgZ(4,"p-button",42),a.NdJ("onClick",function(){a.CHM(Te);const Ke=a.oxw(2);return a.KtG(Ke.notifyService.changeNotificationViewMode("ALL"))}),a.qZA()()}2&z&&a.Udp("padding-top","10rem")}function te(z,oe){if(1&z&&(a.YNc(0,F,2,1,"div",34),a.YNc(1,ce,5,2,"div",35)),2&z){const Te=a.oxw();a.Q6J("ngIf",!Te.notifyService.isEmpty),a.xp6(1),a.Q6J("ngIf",Te.notifyService.isEmpty)}}function V(z,oe){if(1&z&&a._UZ(0,"span"),2&z){const Te=a.oxw().$implicit;a.Tol(Te.icon+" text-xl")}}function k(z,oe){if(1&z&&(a.TgZ(0,"div",43),a.YNc(1,V,1,2,"span",44),a.TgZ(2,"span",45),a._uU(3),a.qZA()()),2&z){const Te=oe.$implicit;a.xp6(1),a.Q6J("ngIf",Te.icon),a.xp6(2),a.hij(" ",Te.detail," ")}}function O(z,oe){if(1&z&&a._UZ(0,"span"),2&z){const Te=a.oxw().$implicit;a.Tol(Te.icon+" text-xl")}}function $(z,oe){if(1&z&&(a.TgZ(0,"div",43),a.YNc(1,O,1,2,"span",44),a.TgZ(2,"span",45),a._uU(3),a.qZA()()),2&z){const Te=oe.$implicit;a.xp6(1),a.Q6J("ngIf",Te.icon),a.xp6(2),a.hij(" ",Te.detail," ")}}function ue(z,oe){1&z&&a._UZ(0,"p-progressSpinner",50)}function q(z,oe){if(1&z&&a._UZ(0,"span",51),2&z){const Te=a.oxw(2);a.Tol(Te.blockUiService.icon),a.Q6J("ngClass",Te.blockUiService.styleClass)}}function Y(z,oe){if(1&z&&(a.TgZ(0,"span",51),a._uU(1),a.qZA()),2&z){const Te=a.oxw(2);a.Q6J("ngClass",Te.blockUiService.styleClass),a.xp6(1),a.Oqu(Te.blockUiService.message)}}function G(z,oe){if(1&z&&(a.TgZ(0,"div",46),a.YNc(1,ue,1,0,"p-progressSpinner",47),a.YNc(2,q,1,3,"span",48),a.YNc(3,Y,2,2,"span",49),a.qZA()),2&z){const Te=a.oxw();a.xp6(1),a.Q6J("ngIf",Te.blockUiService.isWait),a.xp6(1),a.Q6J("ngIf",!!Te.blockUiService.icon),a.xp6(1),a.Q6J("ngIf",Te.blockUiService.message)}}const he=function(){return["/"]},j=function(){return{width:"max-content",maxWidth:"30vw"}},Q=function(z,oe){return{alignItems:z,justifyContent:oe}};let K=(()=>{class z{constructor(Te,Ae,Ke,be,Qe,X){this.router=Te,this.notifyService=Ae,this.rt=Ke,this.chatService=be,this.taskCreator=Qe,this.blockUiService=X,this.isTaskCreationPage=!1,this.commutatorRemoteUpdatePool$=this.rt.acpCommutatorsRemoteUpdatePool().pipe((0,e.b)(xe=>{(!xe||0===xe.length)&&(this.commutatorRemoteUpdatePoolVisible=!1)})),this.commutatorRemoteUpdatePoolVisible=!1}ngOnInit(){this.isTaskCreationPage="/task/create"===this.router.url,this.openChatSub=this.chatService.open.subscribe(Te=>{this.chatPanelEl&&this.chatPanelEl.show(Te)})}ngOnDestroy(){var Te;null===(Te=this.openChatSub)||void 0===Te||Te.unsubscribe()}}return z.\u0275fac=function(Te){return new(Te||z)(a.Y36(f.F0),a.Y36(g.T),a.Y36(_.U),a.Y36(P.a),a.Y36(y.e),a.Y36(l.A))},z.\u0275cmp=a.Xpm({type:z,selectors:[["ng-component"]],viewQuery:function(Te,Ae){if(1&Te&&a.Gf(R,5),2&Te){let Ke;a.iGM(Ke=a.CRH())&&(Ae.chatPanelEl=Ke.first)}},decls:29,vars:22,consts:[[1,"top-panel"],[1,"responsive-wrapper","top-panel-content"],["href","/"],["alt","","src","assets/logo-dark.svg",1,"cursor-pointer",3,"routerLink"],["icon","add_task","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","model","p-button-success",3,"onClick",4,"ngIf"],[1,"stretched"],[1,"flex","gap-3"],[4,"ngTemplateOutlet"],["commutatorPullRemoteUpdates",""],["appScrollToBottomEmitter","",3,"visible","blockScroll","position","showCloseIcon","onHide","onShow","visibleChange"],["pTemplate","header"],["pTemplate","content"],["chatPanelEl",""],["key","darktoast","position","bottom-center"],["pTemplate","message"],["key","redtoast","position","bottom-center"],[3,"blocked","autoZIndex","baseZIndex"],[1,"flex","p-4","w-full","h-full"],["class","flex flex-column gap-2 align-items-center justify-content-center bg-white border-round-2xl shadow-2 p-4 text-lg text-primary-400 font-semibold",4,"ngIf"],["icon","add_task","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","model","p-button-success",3,"onClick"],[4,"ngIf"],["class","flex relative",4,"ngIf"],[1,"flex","relative"],["icon","mdi-upgrade","styleClass","p-button-outlined p-button-icon p-button-rounded p-button-secondary",3,"onClick"],["appendTo","body","contentStyleClass","overlay flex flex-column","appCloseIfScroll","",3,"visible","baseZIndex","isVisible","alignFn","visibleChange"],["commOver",""],[1,"text-bluegray-400","font-bold","p-2"],[1,"flex","flex-column","max-h-20rem","overflow-y-auto"],["class","flex align-items-center p-3",4,"ngFor","ngForOf"],[1,"ur-badge",3,"value"],[1,"flex","align-items-center","p-3"],[1,"caption","size-big","flexed","inline","hcenter","gap3"],[1,"mdi-circle_notifications"],["icon","mdi-clear_all","label","\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c","styleClass","p-button-text",3,"disabled","onClick"],["appScrollToBottomEmitter","","class","list-view flexed v-scroll",3,"onScrollToBottom",4,"ngIf"],["class","flexed hcenter vcenter column p10",3,"padding-top",4,"ngIf"],["appScrollToBottomEmitter","",1,"list-view","flexed","v-scroll",3,"onScrollToBottom"],[3,"notification",4,"ngFor","ngForOf"],[3,"notification"],[1,"flexed","hcenter","vcenter","column","p10"],[1,"flexed","hcenter","gap5","caption","size-big","wt-bold","f-color-500"],[1,"mdi-inventory"],["label","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0435","styleClass","p-button-text one-line",3,"onClick"],[1,"flex","gap-3","flex-grow-1","h-full","align-items-center"],[3,"class",4,"ngIf"],[1,"font-bold"],[1,"flex","flex-column","gap-2","align-items-center","justify-content-center","bg-white","border-round-2xl","shadow-2","p-4","text-lg","text-primary-400","font-semibold"],["class","custom-spinner custom-spinner-primary custom-spinner-8xl","strokeWidth","2",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[3,"ngClass",4,"ngIf"],["strokeWidth","2",1,"custom-spinner","custom-spinner-primary","custom-spinner-8xl"],[3,"ngClass"]],template:function(Te,Ae){if(1&Te&&(a.TgZ(0,"div",0)(1,"div",1)(2,"a",2),a._UZ(3,"img",3),a.qZA(),a.YNc(4,L,1,0,"app-button",4),a._UZ(5,"div",5),a.TgZ(6,"div",6),a.YNc(7,J,1,0,"ng-container",7),a.qZA(),a._UZ(8,"app-account-panel"),a.qZA()(),a._UZ(9,"router-outlet")(10,"app-notifications-popup-panel"),a.YNc(11,D,2,3,"ng-template",null,8,a.W1O),a.TgZ(13,"p-sidebar",9),a.NdJ("onHide",function(){return Ae.notifyService.readAllNotifications()})("onShow",function(){return Ae.notifyService.load()})("visibleChange",function(be){return Ae.notifyService.displaySideBar=be}),a.YNc(14,S,5,1,"ng-template",10),a.YNc(15,te,2,2,"ng-template",11),a.qZA(),a._UZ(16,"p-confirmDialog")(17,"app-media-viewer")(18,"app-chat-panel",null,12),a.TgZ(20,"p-toast",13),a.YNc(21,k,4,2,"ng-template",14),a.qZA(),a.TgZ(22,"p-toast",15),a.YNc(23,$,4,2,"ng-template",14),a.qZA(),a._UZ(24,"app-float-dock-panel")(25,"app-terminal-float-panel"),a.TgZ(26,"p-blockUI",16)(27,"div",17),a.YNc(28,G,4,3,"div",18),a.qZA()()),2&Te){const Ke=a.MAs(12);a.xp6(3),a.Udp("height","3rem"),a.Q6J("routerLink",a.DdM(17,he)),a.xp6(1),a.Q6J("ngIf",!Ae.isTaskCreationPage),a.xp6(3),a.Q6J("ngTemplateOutlet",Ke),a.xp6(6),a.Akn(a.DdM(18,j)),a.Q6J("visible",Ae.notifyService.displaySideBar)("blockScroll",!0)("position","right")("showCloseIcon",!1),a.xp6(13),a.Q6J("blocked",Ae.blockUiService.blocked)("autoZIndex",!Ae.blockUiService.zIndex)("baseZIndex",Ae.blockUiService.zIndex),a.xp6(1),a.Akn(a.WLB(19,Q,Ae.blockUiService.align,Ae.blockUiService.justify)),a.xp6(1),a.Q6J("ngIf",Ae.blockUiService.isWait||Ae.blockUiService.message||Ae.blockUiService.icon)}},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}.top-panel[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:var(--bgc-000);border-bottom:1px solid var(--bgc-300);box-shadow:var(--shadow-0);position:sticky;margin-bottom:1.5rem;top:0;height:var(--top-panel-height);z-index:1009}.top-panel-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:1.5rem 1.5rem 1.5rem 2rem}"]}),z})()},417:(mn,ht,b)=>{"use strict";b.d(ht,{t:()=>f});var e=b(383),a=b(5e3);let f=(()=>{class g{transform(P,y,l,R,L){let J,N;if(R)N=P;else{if(J=new Date(P),"Invalid Date"===J.toString())return"\u041d\u0435 \u0432\u0435\u0440\u043d\u0430\u044f \u0434\u0430\u0442\u0430";N=Math.abs(Date.now()-J.getTime())}const w=Math.floor(N/36e5),x=Math.floor(N%36e5/6e4),D=Math.floor(N%6e4/1e3);if(L&&w>0){if(w<24)return`${y}${w} ${e.cQ.declineOfNumber(w,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"])}${l}`;{const S=Math.floor(w/24),U=Math.floor(w%24);return`${y}${S} ${e.cQ.declineOfNumber(S,["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"])} ${U} ${e.cQ.declineOfNumber(U,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"])}${l}`}}return w>0&&w<13?`${y}${w} ${e.cQ.declineOfNumber(w,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"])}${l}`:0===w&&x>0?`${y}${x} ${e.cQ.declineOfNumber(x,["\u043c\u0438\u043d\u0443\u0442\u0443","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"])}${l}`:0===w&&0===x&&D>0?`${y}${D} ${e.cQ.declineOfNumber(D,["\u0441\u0435\u043a\u0443\u043d\u0434\u0443","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"])}${l}`:0===w&&0===x&&0===D?`${y}${N.toFixed(2)} ${e.cQ.declineOfNumber(N,["\u043c\u0441","\u043c\u0441","\u043c\u0441"])}${l}`:!R&&J?J.toLocaleString("ru-RU",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):""}}return g.\u0275fac=function(P){return new(P||g)},g.\u0275pipe=a.Yjl({name:"elapsedTime",type:g,pure:!0}),g})()},7728:(mn,ht,b)=>{"use strict";b.d(ht,{A:()=>f});var e=b(7384),a=b(5e3);let f=(()=>{class g{transform(P){if(!P)return"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e";switch(P.taskStatus){case e.hY.ACTIVE:return"\u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f";case e.hY.PROCESSING:return"\u0423 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432";case e.hY.CLOSE:return"\u0417\u0430\u043a\u0440\u044b\u0442\u0430\u044f";default:return"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"}}}return g.\u0275fac=function(P){return new(P||g)},g.\u0275pipe=a.Yjl({name:"taskStatus",type:g,pure:!0}),g})()},8738:(mn,ht,b)=>{"use strict";b.d(ht,{s:()=>te});var e=b(5861),a=b(4004),f=b(8505),g=b(4326),_=b(9751),P=b(8421);const{isArray:y}=Array;var R=b(515),L=b(5403),J=b(3269);var w=b(9646),x=b(3099),D=b(262),S=b(383),U=b(5e3),F=b(520),ce=b(9783);let te=(()=>{class V{constructor(O,$){this.client=O,this.toast=$,this.requestCacheMap={},this.loggedIn=!1}getWireframe(O){return this.sendGet("api/private/wireframe/"+O)}getWireframeDashboardStatistic(O){return this.sendGet("api/private/wireframe/"+O+"/dashboard-statistic")}getWireframeFields(O){return this.sendGet("api/private/wireframe/"+O+"/fields")}getWireframes(O){return null==O?this.sendGet("api/private/wireframes"):this.sendGet("api/private/wireframes",{includingRemoved:O})}getWireframesNames(){return this.sendGet("api/private/wireframes/names")}createWireframe(O){return this.sendPost("api/private/wireframe",O)}updateWireframe(O,$){return this.sendPatch("api/private/wireframe/"+O,$)}createTask(O){return this.sendPost("api/private/task",O)}deleteTask(O){return this.sendDelete("api/private/task/"+O)}getTask(O,$=!1){const ue="api/private/task/"+O;return $?this.sendGetSilent(ue):this.sendGet(ue)}getTasksByLogin(O,$){return this.sendGet(`api/private/tasks/by-login/${O}`,{page:$})}getWorkLogsByTaskId(O){return this.sendGet(`api/private/work-log/task/${O}/list`)}getCountOfActiveWorkLogs(){return this.sendGet("api/private/work-log/active/count")}getRootTask(O){return this.sendGet("api/private/task/"+O+"/root")}getFieldsTask(O){return this.sendGet(`api/private/task/${O}/fields`)}getPageOfTasks(O,$){return this.sendPost(`api/private/tasks/${O}`,$)}getWireframeFiltrationFields(O){return this.sendGet(`api/private/wireframe/${O}/filter-fields`)}checkCompatibility(O,$){return this.sendGet(`api/private/task/${O}/check-compatibility/${$}`)}connectToOldTracker(O,$){return this.sendPatch(`api/private/task/${O}/connect-to/${$}`,{})}getHouses(O){return this.sendGet(`api/private/houses/${O}`)}getStreets(O,$){return $?this.sendGet("api/private/streets/"+O,{filter:$}):this.sendGet("api/private/streets/"+O)}getStreetSuggestions(O){return this.sendGet("api/private/suggestions/street",{query:O})}getCities(){return this.sendGet("api/private/cities")}getAvailableObservers(){return this.sendGet("api/private/available-observers")}getAvailableObserversSuggestions(O){return this.sendGet(`api/private/available-observers/${O}`)}createComment(O,$,ue,q){return this.sendPost("api/private/comment",{taskId:$,text:O||"",files:ue||[],replyComment:q})}getComments(O,$,ue){return this.sendGet("api/private/comments",{taskId:O,offset:$,limit:ue})}getTaskJournal(O,$,ue,q){return this.sendGet(`api/private/task/${O}/journal`,{offset:$,limit:ue,sorting:q})}getEmployees(O,$,ue){const q={};return O&&(q.globalFilter=O),"boolean"==typeof $&&!$&&(q.showDeleted=$),"boolean"==typeof ue&&!ue&&(q.showOffsite=ue),this.sendGet("api/private/employees/list",q)}getEmployeesOptionsList(O){return this.sendGet("api/private/employees/list",{globalFilter:null!=O?O:""}).pipe((0,a.U)($=>$.map(ue=>{const{firstName:q,secondName:Y,lastName:G,login:he}=ue;return{label:q&&Y&&G?`${G} ${q} ${Y}`:he,value:he}})))}getAllTaskAttachments(O){return this.sendGet("api/private/task/"+O+"/attachments")}getCountAllTaskAttachments(O){return this.sendGet("api/private/task/"+O+"/attachments/count")}getDepartments(){return this.sendGet("api/private/departments")}getPositions(){return this.sendGet("api/private/positions")}createDepartment(O){return this.sendPost("api/private/department",O)}editDepartment(O,$){return this.sendPatch("api/private/department/"+$,O)}deleteDepartment(O){return this.sendDelete("api/private/department/"+O)}createPosition(O){return this.sendPost("api/private/position",O)}editPosition(O,$){return this.sendPatch("api/private/position/"+$,O)}deletePosition(O){return this.sendDelete("api/private/position/"+O)}createEmployee(O){return this.sendPost("api/private/employee",O)}editEmployee(O,$){return this.sendPatch("api/private/employee/"+$,O)}deleteEmployee(O){return this.sendDelete("api/private/employee/"+O)}getEmployee(O,$=!1){const ue="api/private/employee/"+O;return $?this.sendGetSilent(ue):this.sendGet(ue)}signIn(O){return this.sendPost("api/public/sign-in",O).pipe((0,f.b)($=>{S.Ke.save("token",$.tokenChain.token),S.Ke.save("isOffsite",$.employee.offsite),this.loggedIn=!0}),(0,g.g)(100))}authCheckout(){return this.sendGet("api/public/auth-checkout").pipe((0,f.b)(O=>{O&&localStorage.setItem("token",O.token)}))}getMe(){return this.sendGet("api/private/me")}setAvatar(O){return this.sendPost("api/private/employee/avatar",O)}getResponsible(){return function N(...V){const k=(0,J.jO)(V),O=function l(V){return 1===V.length&&y(V[0])?V[0]:V}(V);return O.length?new _.y($=>{let ue=O.map(()=>[]),q=O.map(()=>!1);$.add(()=>{ue=q=null});for(let Y=0;!$.closed&&Y<O.length;Y++)(0,P.Xf)(O[Y]).subscribe(new L.Q($,G=>{if(ue[Y].push(G),ue.every(he=>he.length)){const he=ue.map(j=>j.shift());$.next(k?k(...he):he),ue.some((j,Q)=>!j.length&&q[Q])&&$.complete()}},()=>{q[Y]=!0,!ue[Y].length&&$.complete()}));return()=>{ue=q=null}}):R.E}(this.sendGet("api/private/departments"),this.sendGet("api/private/employees/list")).pipe((0,a.U)(O=>O.flat()),(0,a.U)(O=>O.filter($=>!$.deleted)))}getActiveTaskInStage(O,$,ue,q){return this.sendGet(`api/private/tasks/template/${ue}/stage/${q}`,{offset:O,limit:$})}getActiveTaskInNullStage(O,$,ue){return this.sendGet(`api/private/tasks/template/${ue}/stage`,{offset:O,limit:$})}changeTaskStage(O,$){return this.sendPatch(`api/private/task/${O}/stage`,{stageId:$})}getActiveTaskIdsInStage(O,$){return this.sendGet(`api/private/tasks/template/${O}/stage/${$}/taskIdOnly`)}getActiveTaskIdsInNullStage(O){return this.sendGet(`api/private/tasks/template/${O}/stage/taskIdOnly`)}updateComment(O){return this.sendPatch("api/private/comment",O)}deleteComment(O){return this.sendDelete("api/private/comment/"+O)}getInstallersEmployees(){return this.sendGet("api/private/employees/installers")}assignInstallersToTask(O,$){return this.sendPost("api/private/task/"+O+"/assign-installers",$)}saveReport(O){return this.sendPatch("api/private/work-log/writing-report",O)}forceCloseWorkLog(O,$){return this.sendPost("api/private/task/"+O+"/force-close-work-log",$)}changeTaskObservers(O,$,ue){return this.sendPatch("api/private/task/"+O+"/observers",{departmentObservers:$,personalObservers:ue})}unlinkParentTask(O){return this.sendPatch("api/private/task/"+O+"/unlink-parent",{})}changeLinkToParentTask(O,$){return this.sendPatch("api/private/task/"+O+"/link-to-parent",{parentTaskId:$})}appendLinksToChildrenTasks(O,$){return this.sendPatch("api/private/task/"+O+"/append-links-to-children",$)}getTaskTag(O){return this.sendGet("api/private/task-tag/"+O)}getTaskTags(O,$){const ue={};return O&&(ue.query=O),null!=$&&(ue.includingRemove=$),this.sendGet("api/private/task-tags",ue)}createTaskTag(O){return this.sendPost("api/private/task-tag",O)}modifyTaskTag(O){return this.sendPatch("api/private/task-tag",O)}deleteTaskTag(O){return this.sendDelete("api/private/task-tag/"+O)}setTaskTags(O,$){return this.sendPatch(`api/private/task/${O}/tags`,$)}changeTaskResponsible(O,$){return this.sendPatch("api/private/task/"+O+"/responsible",$)}unbindResponsible(O){return this.sendPatch("api/private/task/"+O+"/unbind-responsible",{})}changeTaskActualFrom(O,$){return this.sendPatch("api/private/task/"+O+"/actual-from",$)}changeTaskActualTo(O,$){return this.sendPatch("api/private/task/"+O+"/actual-to",$)}clearActualFromDate(O){return this.sendPatch("api/private/task/"+O+"/clear-actual-from-date",{})}clearActualToDate(O){return this.sendPatch("api/private/task/"+O+"/clear-actual-to-date",{})}closeTask(O){return this.sendPatch("api/private/task/"+O+"/close",{})}reopenTask(O){return this.sendPatch("api/private/task/"+O+"/reopen",{})}editTask(O,$){return this.sendPatch("api/private/task/"+O+"/edit-fields",$)}moveTaskToDirectory(O,$){return this.sendPatch("api/private/task/move-to-directory",{taskIds:O,directoryId:$})}getEditTaskSnapshots(O){return this.sendGet("api/private/task/"+O+"/edit-snapshots")}getNotifications(O,$,ue=!1){return this.sendGet("api/private/notifications",{first:O,limit:$,unreadOnly:ue})}getCountOfUnreadNotifications(){return this.sendGet("api/private/notifications/unread-count")}getAvailableTaskTypesToChange(O){return this.sendGet("api/private/task/"+O+"/type-list/available-to-change")}getAvailableDirectoriesToChange(O){return this.sendGet("api/private/task/"+O+"/directory-list/available-to-change")}getDepartment(O,$=!1){return $?this.sendGetSilent("api/private/department/"+O):this.sendGet("api/private/department/"+O)}getWorkLog(O,$=!1){return $?this.sendGetSilent("api/private/work-log/"+O):this.sendGet("api/private/work-log/"+O)}getActiveWorkLogByTaskId(O){return this.sendGetSilent("api/private/work-log/task/"+O+"/active")}readAllNotifications(){return this.sendPatch("api/private/notifications/read-all",{})}changeMyStatus(O){return this.sendPatch("api/private/employee/status",O)}getChatMessages(O,$,ue){return this.sendGet("api/private/chat/"+O+"/messages",{first:$,limit:ue})}setMessagesAsRead(O){return this.sendPatch("api/private/chat/messages/read",O)}getActiveTaskChat(O){return this.sendGet("api/private/task/"+O+"/active-chat")}getChat(O){return this.sendGet("api/private/chat/"+O)}sendChatMessage(O,$,ue,q){return this.sendPost("api/private/chat/"+O+"/message",{text:$,files:ue,replyMessageId:q})}editChatMessage(O,$){return this.sendPatch("api/private/chat/message/"+O,$)}deleteChatMessage(O,$){return this.sendDelete("api/private/chat/message/"+$)}getMyActiveChats(){return this.sendGet("api/private/chats/my/active")}getIncomingTasks(O,$){return this.sendGet(`api/private/tasks/incoming/${O}`,S.cQ.prepareForHttpRequest($))}getWireframeStages(O){return this.sendGet("api/private/wireframe/"+O+"/stages")}getCountIncomingTasks(){return this.sendGet("api/private/tasks/incoming/count",{})}getCountIncomingTasksByWireframeId(O){return this.sendGet("api/private/tasks/incoming/wireframe/"+O+"/count",{})}getCountTasksByWireframeIdByTags(O){return 0===O.length?(0,w.of)({}):this.sendGet("api/private/tasks/wireframe/by-tags/count",{wireframeIds:O})}getCountIncomingTasksByWireframeIdByTags(O){return 0===O.length?(0,w.of)({}):this.sendGet("api/private/tasks/incoming/wireframe/by-tags/count",{wireframeIds:O})}getCountAllTasksByWireframeId(O){return this.sendGet("api/private/tasks/wireframe/"+O+"/count",{})}getCountIncomingTasksByStages(O){return O?this.sendGet(`api/private/tasks/incoming/wireframe/${O}/by-stages/count`,{}):(0,w.of)({})}getCountTasksByStages(O){return O?this.sendGet(`api/private/tasks/wireframe/${O}/by-stages/count`,{}):(0,w.of)({})}getCountTasks(O={}){return this.sendPost("api/private/tasks/count",O)}getTagsListFromCatalog(O={}){return this.sendPost("api/private/tags/catalog/list",O)}getScheduledTask(O,$){return this.sendGet("api/private/tasks/scheduled",{start:O,end:$})}moveScheduledTask(O,$){return this.sendPatch(`api/private/task/${O}/scheduled/move`,$)}signOut(){return this.sendPost("api/public/sign-out",{}).pipe((0,f.b)(()=>{this.loggedIn=!1}))}deleteWireframe(O){return this.sendDelete(`api/private/wireframe/${O}`)}getTrackerParserState(){return this.sendGet("api/private/parser/tracker")}saveTrackerParserSettings(O){return this.sendPatch("api/private/parser/tracker/settings",O)}startTrackerParser(){return this.sendPost("api/private/parser/tracker/start",{})}stopTrackerParser(){return this.sendPost("api/private/parser/tracker/stop",{})}getAddressCorrectingPool(){return this.sendGet("api/private/parser/tracker/address-correcting-pool")}sendCorrectedAddress(O){return this.sendPost("api/private/parser/tracker/address-correcting-pool",O)}startAddressParse(){return this.sendPost("api/private/parser/addresses/start",{})}getAddressSuggestions(O,$,ue){return this.sendGet("api/private/suggestions/address",{query:O,isAcpConnected:$,isHouseOnly:ue})}getAddressSuggestionsAlt(O,$,ue,q){return this.sendGet("api/private/suggestions/address/alt",{streetId:O,query:$,isAcpConnected:ue,isHouseOnly:q})}getCountOfUnreadMessages(O){return this.sendGet("api/private/chat/"+O+"/messages/unread-count")}getPageOfPaidActions(O,$){return this.sendGet(`api/private/salary/paid-actions/${O}`,$)}getListAvailablePaidActions(){return this.sendGet("api/private/salary/paid-actions/available")}createPaidAction(O){return this.sendPost("api/private/salary/paid-action",O)}editPaidAction(O,$){return this.sendPatch("api/private/salary/paid-action/"+O,$)}deletePaidAction(O){return this.sendDelete("api/private/salary/paid-action/"+O)}getRootTreeOfWorks(O){return this.sendGet("api/private/salary/paid-works-tree/root",{groupsUndraggable:null!=O&&O})}getWorksOfGroup(O,$){return this.sendGet(`api/private/salary/paid-works-tree/${O}`,{groupsUndraggable:null!=$&&$})}treeWorksDragDrop(O){return this.sendPatch("api/private/salary/paid-works-tree/drag-drop",O)}createPaidWorkGroup(O){return this.sendPost("api/private/salary/paid-work-group",O)}editPaidWorkGroup(O,$){return this.sendPatch("api/private/salary/paid-work-group/"+O,$)}deletePaidWorkGroup(O){return this.sendDelete("api/private/salary/paid-work-group/"+O)}createPaidWork(O){return this.sendPost("api/private/salary/paid-work",O)}editPaidWork(O,$){return this.sendPatch("api/private/salary/paid-work/"+O,$)}deletePaidWork(O){return this.sendDelete("api/private/salary/paid-work/"+O)}getPaidWorkById(O){return this.sendGet("api/private/salary/paid-work/"+O)}paidWorkTreeReposition(O){return this.sendPatch("api/private/salary/paid-works-tree/reposition",O)}getUncalculatedWorkLogs(){return this.sendGet("api/private/work-log/uncalculated/list")}getAfterWorkList(){return this.sendGet("api/private/work-log/after-work/list")}getUncompletedReports(){return this.sendGet("api/private/uncompleted-reports")}sendWorkCalculation(O){return this.sendPost("api/private/salary/work-calculation",O)}sendBypassWorkCalculation(O){return this.sendPost("api/private/salary/work-calculation/bypass",O)}getSalaryTable(O){return this.sendGet("api/private/salary/table",O)}getBillingUsersByLogin(O,$){return this.sendGet("api/private/billing/users/by-login",{login:O,isActive:$})}getBillingUsersByFio(O,$){return this.sendGet("api/private/billing/users/by-fio",{query:O,isActive:$})}getBillingUsersByAddress(O,$){return this.sendGet("api/private/billing/users/by-address",{address:O,isActive:$})}getBillingUserInfo(O){return this.sendGet(`api/private/billing/user/${encodeURIComponent(O)}`)}getBillingUserEvents(O){return this.sendGet(`api/private/billing/user/${encodeURIComponent(O)}/events`)}updateBalance(O,$){return this.sendPost(`api/private/billing/user/${encodeURIComponent(O)}/update-balance`,$)}setDeferredPayment(O){return this.sendPost(`api/private/billing/user/${encodeURIComponent(O)}/deferred-payment`,{})}startUserService(O){return this.sendPost(`api/private/billing/user/${encodeURIComponent(O)}/start-service`,{})}stopUserService(O){return this.sendPost(`api/private/billing/user/${encodeURIComponent(O)}/stop-service`,{})}balanceReset(O,$){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(O)}/balance-reset`,$)}isLoginEnable(O){return this.sendGetSilent(`api/private/billing/user/${encodeURIComponent(O)}/is-enable`)}enableLogin(O){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(O)}/enable-login`,{})}changeUserAddress(O,$){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(O)}/change/address`,$)}changeUserFullName(O,$){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(O)}/change/full-name`,$)}changeUserPhone(O,$){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(O)}/change/phone`,$)}changeUserComment(O,$){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(O)}/change/comment`,$)}editUser(O,$){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(O)}/edit`,$)}convertBillingAddress(O){return this.sendGet("api/private/convert/billing-address-string",{addressString:O})}createCity(O){return this.sendPost("api/private/city",O)}editCity(O,$){return this.sendPatch(`api/private/city/${O}`,$)}deleteCity(O){return this.sendDelete(`api/private/city/${O}`)}createStreet(O,$){return this.sendPost(`api/private/city/${O}/street`,$)}editStreet(O,$){return this.sendPatch(`api/private/street/${O}`,$)}deleteStreet(O){return this.sendDelete(`api/private/street/${O}`)}createHouse(O,$){return this.sendPost(`api/private/street/${O}/house`,$)}editHouse(O,$){return this.sendPatch(`api/private/house/${O}`,$)}deleteHouse(O){return this.sendDelete(`api/private/house/${O}`)}getWorkingDay(O,$){return this.sendGet("api/private/working-day/",{date:O,login:$})}getAlreadyCalculatedWorkForm(O){return this.sendGet(`api/private/salary/already-calculated-work/${O}/form`)}getDhcpBindingsByLogin(O){return this.sendGet("api/private/acp/dhcp/bindings",{login:O})}getDhcpLogsByLogin(O,$=0){return this.sendGet(`api/private/acp/dhcp/binding/${O}/logs/${$}`,{})}getLastBindings(O,$,ue,q,Y,G,he,j,Q){return this.sendGet("api/private/acp/dhcp/bindings/"+O+"/last",{state:$,macaddr:ue,login:q,ip:Y,vlan:G,buildingId:he,commutator:j,port:Q})}getDhcpBindingsByVlan(O,$,ue){return this.sendGet("api/private/acp/vlan/"+$+"/dhcp/bindings/"+O,{excludeLogin:ue})}authDhcpBinding(O,$){return this.sendPost("api/private/acp/dhcp/binding/auth",{login:O,macaddr:$})}getNetworkConnectionLocationHistory(O){return this.sendGet("api/private/acp/dhcp/binding/"+O+"/ncl-history",{})}getBuildings(O){return this.sendGet("api/private/acp/buildings",{query:O})}getCommutators(O,$,ue,q){return this.sendGet("api/private/acp/commutators/"+O+"/page",{name:$,ip:ue,buildingId:q})}getCommutator(O){return this.sendGet("api/private/acp/commutator/"+O)}getCommutatorEditingPreset(O){return this.sendGet("api/private/acp/commutator/"+O+"/editing-preset")}searchCommutators(O){return this.sendGet("api/private/acp/commutators/search",{query:O})}getCommutatorModels(O){return this.sendGet("api/private/acp/commutator/models",{query:O})}getCommutatorModel(O){return this.sendGet(`api/private/acp/commutator/model/${O}`)}getBuildingAddress(O){return this.sendGet(`api/private/acp/building/${O}/address`)}checkCommutatorNameExist(O){return this.sendGet("api/private/acp/commutator/check-exist/name",{name:O})}checkCommutatorIpExist(O){return this.sendGet("api/private/acp/commutator/check-exist/ip",{ip:O})}checkRemoteControl(O){return this.sendGet(`api/private/remote-control/${O}/check-access`)}getDocumentTemplateTypes(){return this.sendGet("api/private/types/document-template")}getFieldDisplayTypes(){return this.sendGet("api/private/types/field-display")}getWireframeFieldTypesList(){return this.sendGet("api/private/types/wireframe-field")}getConnectionServicesList(){return this.sendGet("api/private/types/connection-service")}getConnectionServicesSuggestionsList(O){return this.sendGet("api/private/types/connection-service/suggestions",{query:O})}getBillingPaymentTypesList(){return this.sendGet("api/private/types/billing-payment-type")}getConnectionTypesList(){return this.sendGet("api/private/types/connection-type")}getAdSourcesList(){return this.sendGet("api/private/types/advertising-source")}getFilesSortingTypes(){return this.sendGet("api/private/types/files-sorting")}getBillingConfiguration(){return this.sendGet("api/private/billing/configuration")}getTelegramConfiguration(){return this.sendGet("api/private/configuration/telegram")}getAcpConfiguration(){return this.sendGet("api/private/acp/configuration")}setBillingConfiguration(O){return this.sendPost("api/private/billing/configuration",O)}setTelegramConfiguration(O){return this.sendPost("api/private/configuration/telegram",O)}setAcpConfiguration(O){return this.sendPatch("api/private/acp/configuration",O)}getClientEquipments(O,$){return this.sendGet("api/private/client-equipments",{query:O,isDeleted:$})}getClientEquipmentsSuggestions(O){return this.sendGet("api/private/client-equipments/suggestions",{query:O})}createClientEquipment(O){return this.sendPost("api/private/client-equipment",O)}editClientEquipment(O,$){return this.sendPatch(`api/private/client-equipment/${O}`,$)}deleteClientEquipment(O){return this.sendDelete(`api/private/client-equipment/${O}`)}createCommutator(O){return this.sendPost("api/private/acp/commutator",O)}editCommutator(O,$){return this.sendPatch(`api/private/acp/commutator/${O}`,$)}deleteCommutator(O){return this.sendDelete(`api/private/acp/commutator/${O}`)}commutatorRemoteUpdate(O){return this.sendPost(`api/private/acp/commutator/${O}/get-remote-update`,{})}commutatorRemoteUpdateByVlan(O){return this.sendPost(`api/private/acp/commutators/vlan/${O}/get-remote-update`,{})}fdbTableByPort(O){return this.sendGet(`api/private/acp/commutator/port/${O}/fdb`)}getCommutatorsByVlan(O){return this.sendGet(`api/private/acp/commutators/vlan/${O}`)}getTopology(){return this.sendGet("api/private/acp/topology")}getBuilding(O){return this.sendGet("api/private/acp/building/"+O)}getCommutatorsByBuildingId(O){return this.sendGet("api/private/acp/building/"+O+"/commutators")}getBindingsByLogin(O,$,ue){return this.sendPost("api/private/acp/user/"+O+"/bindings/"+$,ue)}getBindingsByVlan(O,$,ue){return this.sendPost("api/private/acp/vlan/"+O+"/bindings/"+$,ue)}getBindingsByBuildingId(O,$,ue){return this.sendPost("api/private/acp/building/"+O+"/bindings/"+$,ue)}getBindingsFromBuildingByLogin(O,$,ue){return this.sendPost("api/private/acp/user/"+O+"/bindings-from-building/"+$,ue)}getBindingsByCommutator(O,$,ue){return this.sendPost(`api/private/acp/commutator/${O}/bindings/${$}`,ue)}getActiveBindingByLogin(O){return this.sendGet("api/private/acp/user/"+O+"/active-binding")}getBuildingIdByVlan(O){return this.sendGet("api/private/acp/vlan/"+O+"/building-id")}getUserBriefInfo(O){return this.sendGet(`api/private/acp/user/${O}/brief-info`)}getBulkUserBriefInfo(O){return this.sendPost("api/private/acp/user/brief-info/bulk",O)}getCountingLivesCalculation(O){return this.sendPost("api/private/billing/counting-lives",O)}attachToTask(O,$,ue){return this.sendPost(`api/private/chat/${$}/message/${O}/attach-to-task`,{description:ue})}getFilesSuggestions(O){return this.sendGet("api/private/files/suggestions",{query:O})}getFilesRoot(O){return this.sendGet("api/private/files/root",{sortingType:O})}getFilesDirectory(O,$){return this.sendGet(`api/private/files/directory/${O}`,{sortingType:$})}filesMoveTo(O,$){return this.sendPatch("api/private/files/move-to",{target:O,source:$})}filesCopyTo(O,$){return this.sendPatch("api/private/files/copy-to",{target:O,source:$})}filesDelete(O){return this.sendDelete(`api/private/files/delete/${O}`)}filesRename(O,$){return this.sendPatch("api/private/files/rename",{id:O,name:$})}filesCreateDirectory(O,$){return this.sendPost("api/private/files/create-directory",{parentDirectoryId:$,name:O})}filesUpload(O){return this.sendPost("api/private/files/load",O)}searchFiles(O,$){return this.sendGet("api/private/files/search",{query:O,sortingType:$})}createPhyPhoneBind(O){return this.sendPatch("api/private/employee/phy-phone-bind/create",O)}removePhyPhoneBind(O){return this.sendDelete(`api/private/employee/${O}/phy-phone-bind/remove`)}getPhyPhoneModelsTypes(){return this.sendGet("api/private/types/phy-phone-models")}callToPhone(O){return this.sendPost("api/private/call-to-phone",{phoneNumber:O})}setPhyPhoneBind(O){return this.sendPatch(`api/private/employee/phy-phone/${O}/bind`,{})}getPhyPhoneList(){return this.sendGet("api/private/phy-phone-list")}getOldTrackerClasses(){return this.sendGet("api/private/ot/classes")}changeTaskStageInOldTracker(O,$){return this.sendPatch(`api/private/task/${O}/old-tracker-stage/${$}/change`,{})}createUserInBilling(O,$=!1){return this.sendPost("api/private/billing/user/create",{modelItemId:O,isOrg:$})}getBillingUserTariffs(O){return this.sendGet(`api/private/billing/user/${O}/tariffs`)}getBillingUserServices(O){return this.sendGet(`api/private/billing/user/${O}/services`)}appendServiceToBillingUser(O,$){return this.sendPatch(`api/private/billing/user/${$}/service/${O}/append`,{})}removeServiceFromBillingUser(O,$){return this.sendPatch(`api/private/billing/user/${$}/service/${O}/remove`,{})}changeTariffInBillingUser(O,$){return this.sendPatch(`api/private/billing/user/${$}/tariff/${O}`,{})}makePayment(O,$){return this.sendPost(`api/private/billing/user/${O}/make-payment`,$)}makeRecalculation(O,$){return this.sendPost(`api/private/billing/user/${O}/make-recalculation`,$)}markWorkLogAsCompleted(O,$){return this.sendPatch(`api/private/work-log/${O}/mark-as-completed`,$)}markWorkLogAsUncompleted(O){return this.sendPatch(`api/private/work-log/${O}/mark-as-uncompleted`,{})}markWorkLogAsUncompletedAndClose(O){return this.sendPatch(`api/private/work-log/${O}/mark-as-uncompleted-and-close`,{})}getWorkLogsUnconfirmedContracts(O,$){return this.sendPost(`api/private/work-log/unconfirmed-contracts/${O}`,$)}getEmployeeWorkLogs(){return this.sendGet("api/private/work-log/employee-work-log/list")}getContractTypesList(){return this.sendGet("api/private/contract/type/list")}getContractTypesSuggestionList(O){return this.sendGet("api/private/contract/type/suggestion/list",{query:O})}createContractType(O){return this.sendPost("api/private/contract/type",O)}updateContractType(O,$){return this.sendPatch(`api/private/contract/type/${O}`,$)}removeContractType(O){return this.sendDelete(`api/private/contract/type/${O}`)}markContractsAsReceived(O){return this.sendPatch("api/private/contract/mark/received",O)}markContractsAsArchived(O){return this.sendPatch("api/private/contract/mark/archived",O)}getEmployeeWorkStatistics(O){return this.sendPost("api/private/statistics/employee-work",O)}sendDataToTelnetSession(O,$){return this.sendPost(`api/private/remote/telnet/${O}`,$)}connectToTelnetSession(O){return this.sendPost("api/private/remote/telnet/connect",O)}sendGet(O,$){var ue=this;for(let G in $)null==$[G]&&delete $[G];const q=this.generateHash(O,$);let Y=null;return this.requestCacheMap[q]?Y=this.requestCacheMap[q]:(Y=this.client.get(O,{params:$}).pipe((0,x.B)(),(0,D.K)(function(){var G=(0,e.Z)(function*(he,j){throw ue.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:he.error.message}),he});return function(he,j){return G.apply(this,arguments)}}())),this.requestCacheMap[q]=Y,setTimeout(()=>{delete this.requestCacheMap[q]},1e4)),Y}sendGetSilent(O,$){for(let Y in $)null==$[Y]&&delete $[Y];const ue=this.generateHash(O,$);let q=null;return this.requestCacheMap[ue]?q=this.requestCacheMap[ue]:(q=this.client.get(O,{params:$}).pipe((0,x.B)()),this.requestCacheMap[ue]=q,setTimeout(()=>{delete this.requestCacheMap[ue]},1e4)),q}sendPost(O,$){var ue=this;return this.client.post(O,$).pipe((0,D.K)(function(){var q=(0,e.Z)(function*(Y,G){throw ue.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:Y.error.message}),Y});return function(Y,G){return q.apply(this,arguments)}}()))}sendPatch(O,$){return this.client.patch(O,$).pipe((0,D.K)((ue,q)=>{throw this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:ue.error.message}),ue}))}sendDelete(O){var $=this;return this.client.delete(O).pipe((0,D.K)(function(){var ue=(0,e.Z)(function*(q,Y){throw $.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:q.error.message}),q});return function(q,Y){return ue.apply(this,arguments)}}()))}generateHash(O,$){return(0,S.d4)(O+JSON.stringify($),0)}}return V.\u0275fac=function(O){return new(O||V)(U.LFG(F.eN),U.LFG(ce.ez))},V.\u0275prov=U.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})()},6768:(mn,ht,b)=>{"use strict";b.d(ht,{A:()=>a});var e=b(5e3);let a=(()=>{class f{constructor(){this.blocked=!1,this.message="",this.isWait=!1,this.icon="",this.styleClass="",this.zIndex=0,this.pos="center"}get align(){switch(this.pos){case"center":case"left":case"right":return"center";case"top":case"top-left":case"top-right":return"flex-start";case"bottom":case"bottom-left":case"bottom-right":return"flex-end"}}get justify(){switch(this.pos){case"center":case"top":case"bottom":return"center";case"left":case"top-left":case"bottom-left":return"flex-start";case"right":case"top-right":case"bottom-right":return"flex-end"}}wait(_){var P,y,l,R;this.blocked=!0,this.isWait=!0,this.message=null!==(P=null==_?void 0:_.message)&&void 0!==P?P:"",this.styleClass=null!==(y=null==_?void 0:_.styleClass)&&void 0!==y?y:"",this.zIndex=null!==(l=null==_?void 0:_.zIndex)&&void 0!==l?l:0,this.icon="",this.pos=null!==(R=null==_?void 0:_.pos)&&void 0!==R?R:"center"}block(_){var P,y,l,R,L;this.blocked=!0,this.isWait=!1,this.message=null!==(P=null==_?void 0:_.message)&&void 0!==P?P:"",this.styleClass=null!==(y=null==_?void 0:_.styleClass)&&void 0!==y?y:"",this.zIndex=null!==(l=null==_?void 0:_.zIndex)&&void 0!==l?l:0,this.icon=null!==(R=null==_?void 0:_.icon)&&void 0!==R?R:"",this.pos=null!==(L=null==_?void 0:_.pos)&&void 0!==L?L:"center"}unblock(){this.blocked=!1}}return f.\u0275fac=function(_){return new(_||f)},f.\u0275prov=e.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},9014:(mn,ht,b)=>{"use strict";b.d(ht,{a:()=>P});var e=b(5e3),a=b(8738),f=b(8007),g=b(8028),_=b(9783);let P=(()=>{class y{constructor(R,L,J,N){this.api=R,this.rt=L,this.personality=J,this.messageService=N,this.chats=[],this.open=new e.vpe,this.notificationAudios={loud:new Audio("/assets/audio/notify/loud-notify.mp3"),quiet:new Audio("/assets/audio/notify/quiet-notify.mp3")},J.userLogin$.subscribe(w=>{this.rt.chatCreated(w).subscribe(this.createChat.bind(this)),this.rt.chatMessageCreated(w).subscribe(x=>{x.parentChatId!==this.currentOpenChat?(this.notificationAudios.loud.paused&&this.notificationAudios.loud.play().then(),this.messageService.add({key:"chatMessage",severity:"chatmsg",data:x,life:3e4})):this.notificationAudios.quiet.paused&&this.notificationAudios.quiet.play().then()})}),this.rt.chatUpdated().subscribe(this.updateChat.bind(this)),this.rt.chatClosed().subscribe(this.closeChat.bind(this)),this.open.subscribe(()=>this.messageService.clear("chatMessage"))}createChat(R){this.chats.push(R)}updateChat(R){const L=this.chats.findIndex(J=>J.chatId===R.chatId);-1!=L&&(this.chats[L]=R)}closeChat(R){const L=this.chats.findIndex(J=>J.chatId===R.chatId);-1!=L&&this.chats.splice(L,1)}getChats(){this.api.getMyActiveChats().subscribe(R=>{this.chats=R;for(const L of R);})}}return y.\u0275fac=function(R){return new(R||y)(e.LFG(a.s),e.LFG(f.U),e.LFG(g.F),e.LFG(_.ez))},y.\u0275prov=e.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},963:(mn,ht,b)=>{"use strict";b.d(ht,{f:()=>f});var e=b(383),a=b(5e3);let f=(()=>{class g{constructor(){this.cachingMap={};const P=e.Ke.loadOrDefault("commentCaching","{}");this.cachingMap=JSON.parse(P)}read(P){var y;return null!==(y=this.cachingMap[P])&&void 0!==y?y:""}write(P,y){""!==y?(this.cachingMap[P]=y,e.Ke.save("commentCaching",JSON.stringify(this.cachingMap))):this.flush(P)}flush(P){delete this.cachingMap[P],e.Ke.save("commentCaching",JSON.stringify(this.cachingMap))}}return g.\u0275fac=function(P){return new(P||g)},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},1514:(mn,ht,b)=>{"use strict";b.d(ht,{r:()=>g});var e=b(5e3),a=b(9808),f=b(3470);let g=(()=>{class _{constructor(y,l){this.location=y,this.router=l}backOrDefault(y){1!==this.location.getState().navigationId?this.location.back():this.router.navigate(y).then()}}return _.\u0275fac=function(y){return new(y||_)(e.LFG(a.Ye),e.LFG(f.F0))},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},3064:(mn,ht,b)=>{"use strict";b.d(ht,{E:()=>f});var e=b(7579),a=b(5e3);let f=(()=>{class g{constructor(){this.mediaEmitter$=new e.x,this.mediaAlbumEmitter$=new e.x}showMedia(P){this.mediaEmitter$.next(P)}showMediaAlbum(P,y){this.mediaAlbumEmitter$.next({index:P,album:y})}media(){return this.mediaEmitter$.pipe()}mediaAlbum(){return this.mediaAlbumEmitter$.pipe()}}return g.\u0275fac=function(P){return new(P||g)},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},9744:(mn,ht,b)=>{"use strict";b.d(ht,{T:()=>R});var e=b(7384),a=b(8028),f=b(3900),g=b(5e3),_=b(8738),P=b(8007),l=(()=>{return(L=l||(l={}))[L.ALL=0]="ALL",L[L.UNREAD=1]="UNREAD",l;var L})();let R=(()=>{class L{constructor(N,w,x){this.api=N,this.rt=w,this.personality=x,this.receivedNotifications=[],this.timers={},this.displaySideBar=!1,this.unreadCount=0,this.notificationViewMode=l.UNREAD,this.titles={[e.k$.NEW_COMMENT]:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",[e.k$.TASK_CREATED]:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430",[e.k$.TASK_EDITED]:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u044b \u0434\u0435\u0442\u0430\u043b\u0438 \u0437\u0430\u0434\u0430\u0447\u0438",[e.k$.TASK_DELETED]:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430",[e.k$.TASK_CLOSED]:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0430",[e.k$.TASK_REOPENED]:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0432\u043e\u0437\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430",[e.k$.TASK_PROCESSED]:"\u0417\u0430\u0434\u0430\u0447\u0430 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430",[e.k$.TASK_STAGE_CHANGED]:"\u0422\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d",[e.k$.YOU_OBSERVER]:"\u0412\u044b \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044c",[e.k$.YOU_RESPONSIBLE]:"\u0412\u044b \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439",[e.k$.TASK_HAS_BECOME_ACTUAL]:"\u0410\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430\u044f",[e.k$.TASK_EXPIRED]:"\u0421\u0440\u043e\u043a \u0438\u0441\u0442\u0435\u043a",[e.k$.WORKS_COMPLETED]:"\u0420\u0430\u0431\u043e\u0442\u044b \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b",[e.k$.REPORT_RECEIVED]:"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d",[e.k$.MENTIONED_IN_TASK]:"\u0412\u0430\u0441 \u0443\u043f\u043e\u043c\u044f\u043d\u0443\u043b\u0438"},this.icons={[e.k$.NEW_COMMENT]:"mdi-add_comment",[e.k$.TASK_CREATED]:"mdi-add_task",[e.k$.TASK_EDITED]:"mdi-edit",[e.k$.TASK_DELETED]:"mdi-delete",[e.k$.TASK_CLOSED]:"mdi-swipe_down_alt",[e.k$.TASK_REOPENED]:"mdi-swipe_up_alt",[e.k$.TASK_PROCESSED]:"mdi-how_to_reg",[e.k$.TASK_STAGE_CHANGED]:"mdi-next_week",[e.k$.YOU_OBSERVER]:"mdi-visibility",[e.k$.YOU_RESPONSIBLE]:"mdi-person",[e.k$.TASK_HAS_BECOME_ACTUAL]:"mdi-event_available",[e.k$.TASK_EXPIRED]:"mdi-event_busy",[e.k$.WORKS_COMPLETED]:"mdi-fact_check",[e.k$.REPORT_RECEIVED]:"mdi-edit_note",[e.k$.MENTIONED_IN_TASK]:"mdi-campaign"},this.notificationAudios={loud:new Audio("/assets/audio/notify/loud-notify.mp3"),quiet:new Audio("/assets/audio/notify/quiet-notify.mp3")},this.api.getCountOfUnreadNotifications().subscribe({next:D=>{this.unreadCount=D}}),this.load(),x.userLogin$.pipe((0,f.w)(D=>this.rt.notificationCreated(D))).subscribe(this.createNotificationHandler.bind(this)),x.userLogin$.pipe((0,f.w)(D=>this.rt.notificationUpdated(D))).subscribe(this.updateNotificationHandler.bind(this)),Notification.requestPermission().then(D=>console.log(D))}get isEmpty(){var N;return!(null!==(N=this.notifications)&&void 0!==N&&N.content)||0===this.notifications.content.length}get list(){var N,w;return null!==(w=null===(N=this.notifications)||void 0===N?void 0:N.content)&&void 0!==w?w:[]}get isLast(){var N,w;return null!==(w=null===(N=this.notifications)||void 0===N?void 0:N.last)&&void 0!==w&&w}get isHasUnread(){return this.unreadCount>0}showSideBar(){this.displaySideBar=!0,this.receivedNotifications=[],Object.entries(this.timers).forEach(([N,w])=>{clearTimeout(w),delete this.timers[parseInt(N)]})}changeNotificationViewMode(N){this.notificationViewMode=N,this.notifications=void 0,this.load()}readAllNotifications(){this.isHasUnread&&this.api.readAllNotifications().subscribe({next:()=>{this.unreadCount=0,this.notifications=void 0}}),this.notificationViewMode=l.UNREAD,this.notifications=void 0}load(){this.notifications?this.api.getNotifications(this.notifications.pageable.offset+25,25,this.notificationViewMode===l.UNREAD).subscribe({next:N=>{var w,x;N.content=[...null!==(x=null===(w=this.notifications)||void 0===w?void 0:w.content)&&void 0!==x?x:[],...N.content],this.notifications=N}}):this.api.getNotifications(0,25,this.notificationViewMode===l.UNREAD).subscribe({next:N=>{this.notifications=N}})}suspendClosing(N){!this.timers[N]||(clearTimeout(this.timers[N]),delete this.timers[N])}resumeClosure(N){this.timers[N]||(this.timers[N]=setTimeout(()=>{this.receivedNotifications=this.receivedNotifications.filter(w=>w.notificationId!==N),delete this.timers[N]},1e4))}close(N){this.timers[N]&&(clearTimeout(this.timers[N]),delete this.timers[N]),this.receivedNotifications=this.receivedNotifications.filter(w=>w.notificationId!==N)}playNotifySound(){this.personality.focusStatus===a.P.FOCUS?this.notificationAudios.quiet.paused&&this.notificationAudios.quiet.play().then():this.notificationAudios.loud.paused&&this.notificationAudios.loud.play().then()}showExternalNotification(N){new Notification(this.titles[N.type],{body:N.message})}createNotificationHandler(N){var w,x,D;this.displaySideBar||(this.receivedNotifications.unshift(N),this.timers[N.notificationId]=setTimeout(()=>{this.receivedNotifications=this.receivedNotifications.filter(S=>S.notificationId!==N.notificationId),delete this.timers[N.notificationId]},1e4)),this.unreadCount++,this.personality.focusStatus===a.P.BLUR&&this.showExternalNotification(N),this.playNotifySound(),null!==(w=this.notifications)&&void 0!==w&&w.content&&(this.notifications.content.find(S=>S.notificationId===N.notificationId)||null===(D=null===(x=this.notifications)||void 0===x?void 0:x.content)||void 0===D||D.unshift(N))}updateNotificationHandler(N){var w;if(null===(w=this.notifications)||void 0===w||!w.content)return;const x=this.notifications.content.findIndex(D=>D.notificationId===N.notificationId);-1!==x&&(this.notifications.content[x]=N)}}return L.\u0275fac=function(N){return new(N||L)(g.LFG(_.s),g.LFG(P.U),g.LFG(a.F))},L.\u0275prov=g.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})()},8028:(mn,ht,b)=>{"use strict";b.d(ht,{P:()=>te,F:()=>V});var e=b(7384),a=b(1135),f=b(9300),g=b(4782),_=b(1884),P=b(4004),y=b(4968),l=b(8505);function R(k){this.message=k}(R.prototype=new Error).name="InvalidCharacterError";var L="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(k){var O=String(k).replace(/=+$/,"");if(O.length%4==1)throw new R("'atob' failed: The string to be decoded is not correctly encoded.");for(var $,ue,q=0,Y=0,G="";ue=O.charAt(Y++);~ue&&($=q%4?64*$+ue:ue,q++%4)?G+=String.fromCharCode(255&$>>(-2*q&6)):0)ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(ue);return G};function N(k){this.message=k}(N.prototype=new Error).name="InvalidTokenError";var D=b(6309),S=b(5e3),U=b(8738),F=b(8007),ce=b(3470),te=(()=>{return(k=te||(te={})).FOCUS="FOCUS",k.NO_TOUCH="NO_TOUCH",k.BLUR="BLUR",te;var k})();let V=(()=>{class k{constructor($,ue,q){this.api=$,this.rt=ue,this.router=q,this.focusStatus=te.BLUR,this.onGettingUserData=new a.X(null),this.userData$=this.onGettingUserData.pipe((0,f.h)(Y=>!!Y),(0,g.d)(1)),this.userLogin$=this.userData$.pipe((0,_.x)((Y,G)=>(null==Y?void 0:Y.login)===(null==G?void 0:G.login)),(0,P.U)(Y=>Y.login),(0,g.d)(1)),this.lastTouch=0,this.updateMe().subscribe(),(0,y.R)(window,"focus").subscribe(Y=>{!this.api.loggedIn||(this.focusStatus=te.FOCUS,this.api.changeMyStatus(e.LE.ONLINE).subscribe())}),(0,y.R)(window,"blur").subscribe(Y=>{!this.api.loggedIn||(this.focusStatus=te.BLUR,this.api.changeMyStatus(e.LE.AWAY).subscribe())}),(0,y.R)(document,"mousemove").subscribe(()=>{this.lastTouch=(new Date).getTime()}),setInterval(()=>{!this.api.loggedIn||(new Date).getTime()-this.lastTouch>3e4&&this.focusStatus===te.FOCUS&&(this.focusStatus=te.NO_TOUCH,this.api.changeMyStatus(e.LE.AWAY).subscribe())},1e3),setInterval(()=>{const Y=(new Date).getTime(),G=localStorage.getItem("token");G&&1e3*function w(k,O){if("string"!=typeof k)throw new N("Invalid token specified");var $=!0===(O=O||{}).header?0:1;try{return JSON.parse(function J(k){var O=k.replace(/-/g,"+").replace(/_/g,"/");switch(O.length%4){case 0:break;case 2:O+="==";break;case 3:O+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(L(O).replace(/(.)/g,function(ue,q){var Y=q.charCodeAt(0).toString(16).toUpperCase();return Y.length<2&&(Y="0"+Y),"%"+Y}))}catch($){return L(O)}}(k.split(".")[$]))}catch(ue){throw new N("Invalid token specified: "+ue.message)}}(G).exp-Y<3e4&&(this.api.authCheckout().subscribe(),console.log("\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u043e\u043a\u0435\u043d\u0430"))},1e4)}updateMe(){return this.api.getMe().pipe((0,l.b)({next:$=>{this.me=$,this.onGettingUserData.next($),this.meUpdate&&this.meUpdate.unsubscribe(),this.meUpdate=this.rt.employeeUpdated($.login).subscribe(ue=>{this.me=ue,this.onGettingUserData.next(ue)})}}))}isHasAccess(...$){var ue;return!!this.me&&(this.me.access?D.j.isHasFlag(this.me.access,...$):!(null===(ue=this.me.position)||void 0===ue||!ue.access)&&D.j.isHasFlag(this.me.position.access,...$))}}return k.\u0275fac=function($){return new($||k)(S.LFG(U.s),S.LFG(F.U),S.LFG(ce.F0))},k.\u0275prov=S.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})()},8007:(mn,ht,b)=>{"use strict";b.d(ht,{U:()=>L});var e=b(8746),a=b(3099),f=b(4004),g=b(383),_=b(9814),P=b(5111),y=b(5e3),l=b(6073),R=b(6768);let L=(()=>{class J{constructor(w,x){this.stomp=w,this.blockUiService=x,this.watchCacheMap={},this.connectionState$=this.stomp.connectionState$;const D={message:"\u041f\u043e\u0442\u0435\u0440\u044f\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c",styleClass:"text-red-400",icon:"mds-error",pos:"bottom"};this.connectionState$.subscribe({next:S=>{S===P.U.OPEN?this.blockUiService.unblock():this.blockUiService.block(D)},error:()=>this.blockUiService.block(D)})}commentCreated(w){return this.watch("task",w.toString(),"comment","create")}commentUpdated(w){return this.watch("task",w.toString(),"comment","update")}commentDeleted(w){return this.watch("task",w.toString(),"comment","delete")}taskEventCreated(w){return this.watch("task",w.toString(),"event","create")}employeeCreated(){return this.watch("employee","create")}employeeUpdated(w){return w?this.watch("employee",w,"update"):this.watch("employee","update")}employeeDeleted(){return this.watch("employee","delete")}departmentCreated(){return this.watch("department","create")}departmentUpdated(w){return w?this.watch("department",w.toString(),"update"):this.watch("department","update")}departmentDeleted(){return this.watch("department","delete")}positionCreated(){return this.watch("position","create")}positionUpdated(w){return w?this.watch("position",w.toString(),"update"):this.watch("position","update")}positionDeleted(){return this.watch("position","delete")}taskTagCreated(){return this.watch("task-tag","create")}taskTagUpdated(){return this.watch("task-tag","update")}taskTagDeleted(){return this.watch("task-tag","delete")}taskUpdated(w){return w?this.watch("task",w.toString(),"update"):this.watch("task","update")}taskDeleted(w){return w?this.watch("task",w.toString(),"delete"):this.watch("task","delete")}taskCreated(){return this.watch("task","create")}taskMoved(){return this.watch("task","moved")}incomingTaskCreated(w){return this.watchUnicast(w,"task","create")}incomingTaskDeleted(w){return this.watchUnicast(w,"task","delete")}notificationCreated(w){return this.watchUnicast(w,"notification","create")}notificationUpdated(w){return this.watchUnicast(w,"notification","update")}chatMessageCreated(w){return this.watchUnicast(w,"chat","message","create")}chatMessageCreatedByChat(w){return this.watch("chat",w.toString(),"message","create")}chatMessageUpdated(w){return this.watch("chat",w.toString(),"message","update")}chatMessageDeleted(w){return this.watch("chat",w.toString(),"message","delete")}updateTrackerParserState(){return this.watch("parser","tracker","update")}parserMessageReceived(){return this.watch("parser","message")}updateCountUnreadMessages(w){return this.watchUnicast(w,"chat","message","unread")}chatCreated(w){return this.watchUnicast(w,"chat","create")}chatUpdated(){return this.watch("chat","update")}chatClosed(){return this.watch("chat","close")}workLogCreated(){return this.watch("worklog","create")}workLogUpdated(w){return w?this.watch("work-log",w.toString(),"update"):this.watch("worklog","update")}workLogClosed(){return this.watch("worklog","close")}workLogDeleted(w){return w?this.watch("work-log",w.toString(),"delete"):this.watch("worklog","delete")}wireframeCreated(){return this.watch("wireframe","create")}wireframeUpdated(w){return w?this.watch("wireframe",w.toString(),"update"):this.watch("wireframe","update")}wireframeDeleted(w){return w?this.watch("wireframe",w.toString(),"delete"):this.watch("wireframe","delete")}paidActionCreated(){return this.watch("paid-action","create")}paidActionUpdated(w){return w?this.watch("paid-action",w.toString(),"update"):this.watch("paid-action","update")}paidActionDeleted(w){return w?this.watch("paid-action",w.toString(),"delete"):this.watch("paid-action","delete")}paidWorksTreeMoved(){return this.watch("paid-works","tree","move")}paidWorksTreeUpdated(){return this.watch("paid-works","tree","update")}paidWorksTreeCreated(){return this.watch("paid-works","tree","create")}paidWorksTreeDeleted(){return this.watch("paid-works","tree","delete")}worksTreeReposition(){return this.watch("paid-works","tree","reposition")}paidWorkUpdated(w){return w?this.watch("paid-work",w.toString(),"update"):this.watch("paid-work","update")}cityCreated(){return this.watch("city","create")}cityUpdated(w){return w?this.watch("city",w.toString(),"update"):this.watch("city","update")}cityDeleted(w){return w?this.watch("city",w.toString(),"delete"):this.watch("city","delete")}streetCreated(){return this.watch("street","create")}streetUpdated(w){return w?this.watch("street",w.toString(),"update"):this.watch("street","update")}streetDeleted(w){return w?this.watch("street",w.toString(),"delete"):this.watch("street","delete")}houseCreated(){return this.watch("house","create")}houseUpdated(w){return w?this.watch("house",w.toString(),"update"):this.watch("house","update")}houseDeleted(w){return w?this.watch("house",w.toString(),"delete"):this.watch("house","delete")}billingUserUpdated(w){return w?this.watch("billing","user",w,"update"):this.watch("billing","user","update")}pingMonitoring(w){return this.watch("monitoring","ping",w)}billingConfigChanged(){return this.watch("billing-config","change")}telegramConfigChanged(){return this.watch("telegram-config","change")}acpConfigChanged(){return this.watch("acp-config","change")}salaryTableUpdated(){return this.watch("salary-table","update")}clientEquipmentsCreated(){return this.watch("client-equipment","create")}clientEquipmentsUpdated(){return this.watch("client-equipment","update")}clientEquipmentsDeleted(){return this.watch("client-equipment","delete")}acpDhcpBindingUpdated(){return this.watch("acp","dhcp-binding","update")}acpDhcpBindingHousePageUpdateSignal(){return this.watch("acp","dhcp-binding","house-page","update")}acpCommutatorStatusUpdated(){return this.watch("acp","commutator","status","update")}acpCommutatorCreated(){return this.watch("acp","commutator","create")}acpCommutatorUpdated(){return this.watch("acp","commutator","update")}acpCommutatorDeleted(){return this.watch("acp","commutator","delete")}acpCommutatorsRemoteUpdatePool(){return this.watch("acp","commutator","remote-update-pool")}acpBaseCommutatorCreated(){return this.watch("acp","commutator","base","create")}acpBaseCommutatorUpdated(){return this.watch("acp","commutator","base","update")}acpBaseCommutatorDeleted(){return this.watch("acp","commutator","base","delete")}watchUnicast(...w){return this.getObservable("user",...w)}watch(...w){return this.getObservable("api",...w)}getObservable(w,...x){const D=`/${w}/${x.join("/")}`,S=this.generateHash(D);let U=null;return this.watchCacheMap[S]?U=this.watchCacheMap[S]:(U=this.stomp.watch(D).pipe((0,e.x)(this.deleteFromCache.bind(this,D)),(0,a.B)(),(0,f.U)(F=>JSON.parse(F.body))),this.watchCacheMap[S]=U),U}generateHash(w){return(0,g.d4)(w,0)}deleteFromCache(w){delete this.watchCacheMap[w]}incomingTaskCountChange(w){return this.watchUnicast(w,"task","count","change")}taskCountChange(){return this.watch("task","count","change")}updateTaskCount(w,x,D,S,U,F,ce,te,V,k){var O,$,ue;const q=_.d.convertToPath([w.toLowerCase(),null!=x?x:null,null!=D?D:null,null!=S?S:null,null!=U?U:null,null!=F?F:null,null!==(O=null==ce?void 0:ce.timeFrame)&&void 0!==O?O:null,null!==($=null==te?void 0:te.timeFrame)&&void 0!==$?$:null,null!==(ue=null==V?void 0:V.timeFrame)&&void 0!==ue?ue:null,null!=k?k:null]);return this.watch("task","counter",...q)}incomingTagTaskCountChange(w){return this.watchUnicast(w,"task","tag","count","change")}tagTaskCountChange(){return this.watch("task","tag","count","change")}updateFilesDirectory(){return this.watch("files","directory","update")}afterWorksAppend(w){return this.watchUnicast(w,"after-work","append")}afterWorksRemoved(w){return this.watchUnicast(w,"after-work","remove")}createTypeOfContract(){return this.watch("contract","type","create")}updateTypeOfContract(){return this.watch("contract","type","update")}deleteTypeOfContract(){return this.watch("contract","type","delete")}updatingMarkedContracts(){return this.watch("contract","marked","update")}remoteTelnetConnection(w,x){return this.watch("remote","telnet",w,x)}telnetConnectionMessage(w){return this.watchUnicast(w,"remote","telnet","connection-message")}}return J.\u0275fac=function(w){return new(w||J)(y.LFG(l.f),y.LFG(R.A))},J.\u0275prov=y.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})()},6073:(mn,ht,b)=>{"use strict";b.d(ht,{f:()=>ue});var e=b(5861),a=b(1135),f=b(9300),g=b(7579),_=b(9751),P=b(5698),y=b(3099),l=b(3905);const R_LF="\n",R_NULL="\0";class L{constructor(Y){const{command:G,headers:he,body:j,binaryBody:Q,escapeHeaderValues:K,skipContentLengthHeader:z}=Y;this.command=G,this.headers=Object.assign({},he||{}),Q?(this._binaryBody=Q,this.isBinaryBody=!0):(this._body=j||"",this.isBinaryBody=!1),this.escapeHeaderValues=K||!1,this.skipContentLengthHeader=z||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody}static fromRawFrame(Y,G){const he={},j=Q=>Q.replace(/^\s+|\s+$/g,"");for(const Q of Y.headers.reverse()){Q.indexOf(":");const z=j(Q[0]);let oe=j(Q[1]);G&&"CONNECT"!==Y.command&&"CONNECTED"!==Y.command&&(oe=L.hdrValueUnEscape(oe)),he[z]=oe}return new L({command:Y.command,headers:he,binaryBody:Y.binaryBody,escapeHeaderValues:G})}toString(){return this.serializeCmdAndHeaders()}serialize(){const Y=this.serializeCmdAndHeaders();return this.isBinaryBody?L.toUnit8Array(Y,this._binaryBody).buffer:Y+this._body+R_NULL}serializeCmdAndHeaders(){const Y=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const G of Object.keys(this.headers||{})){const he=this.headers[G];Y.push(this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?`${G}:${L.hdrValueEscape(`${he}`)}`:`${G}:${he}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&Y.push(`content-length:${this.bodyLength()}`),Y.join(R_LF)+R_LF+R_LF}isBodyEmpty(){return 0===this.bodyLength()}bodyLength(){const Y=this.binaryBody;return Y?Y.length:0}static sizeOfUTF8(Y){return Y?(new TextEncoder).encode(Y).length:0}static toUnit8Array(Y,G){const he=(new TextEncoder).encode(Y),j=new Uint8Array([0]),Q=new Uint8Array(he.length+G.length+j.length);return Q.set(he),Q.set(G,he.length),Q.set(j,he.length+G.length),Q}static marshall(Y){return new L(Y).serialize()}static hdrValueEscape(Y){return Y.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(Y){return Y.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")}}class D{constructor(Y,G){this.onFrame=Y,this.onIncomingPing=G,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(Y,G=!1){let he;if(he="string"==typeof Y?this._encoder.encode(Y):new Uint8Array(Y),G&&0!==he[he.length-1]){const j=new Uint8Array(he.length+1);j.set(he,0),j[he.length]=0,he=j}for(let j=0;j<he.length;j++)this._onByte(he[j])}_collectFrame(Y){if(0!==Y&&13!==Y){if(10===Y)return void this.onIncomingPing();this._onByte=this._collectCommand,this._reinjectByte(Y)}}_collectCommand(Y){if(13!==Y){if(10===Y)return this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders);this._consumeByte(Y)}}_collectHeaders(Y){if(13!==Y){if(10===Y)return void this._setupCollectBody();this._onByte=this._collectHeaderKey,this._reinjectByte(Y)}}_reinjectByte(Y){this._onByte(Y)}_collectHeaderKey(Y){if(58===Y)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(Y)}_collectHeaderValue(Y){if(13!==Y){if(10===Y)return this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders);this._consumeByte(Y)}}_setupCollectBody(){const Y=this._results.headers.filter(G=>"content-length"===G[0])[0];Y?(this._bodyBytesRemaining=parseInt(Y[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(Y){0!==Y?this._consumeByte(Y):this._retrievedBody()}_collectBodyFixedSize(Y){0!=this._bodyBytesRemaining--?this._consumeByte(Y):this._retrievedBody()}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(Y){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",Y)}this._initState()}_consumeByte(Y){this._token.push(Y)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const Y=new Uint8Array(this._token);return this._token=[],Y}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var S,q,U;(q=S=S||(S={}))[q.CONNECTING=0]="CONNECTING",q[q.OPEN=1]="OPEN",q[q.CLOSING=2]="CLOSING",q[q.CLOSED=3]="CLOSED",function(q){q[q.ACTIVE=0]="ACTIVE",q[q.DEACTIVATING=1]="DEACTIVATING",q[q.INACTIVE=2]="INACTIVE"}(U=U||(U={}));class F{constructor(Y){this.versions=Y}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(Y=>`v${Y.replace(".","")}.stomp`)}}F.V1_0="1.0",F.V1_1="1.1",F.V1_2="1.2",F.default=new F([F.V1_2,F.V1_1,F.V1_0]);class te{constructor(Y,G,he){this._client=Y,this._webSocket=G,this._connected=!1,this._serverFrameHandlers={CONNECTED:j=>{this.debug(`connected to server ${j.headers.server}`),this._connected=!0,this._connectedVersion=j.headers.version,this._connectedVersion===F.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(j.headers),this.onConnect(j)},MESSAGE:j=>{const Q=j.headers.subscription,K=this._subscriptions[Q]||this.onUnhandledMessage,z=j,oe=this,Te=this._connectedVersion===F.V1_2?z.headers.ack:z.headers["message-id"];z.ack=(Ae={})=>oe.ack(Te,Q,Ae),z.nack=(Ae={})=>oe.nack(Te,Q,Ae),K(z)},RECEIPT:j=>{const Q=this._receiptWatchers[j.headers["receipt-id"]];Q?(Q(j),delete this._receiptWatchers[j.headers["receipt-id"]]):this.onUnhandledReceipt(j)},ERROR:j=>{this.onStompError(j)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=he.debug,this.stompVersions=he.stompVersions,this.connectHeaders=he.connectHeaders,this.disconnectHeaders=he.disconnectHeaders,this.heartbeatIncoming=he.heartbeatIncoming,this.heartbeatOutgoing=he.heartbeatOutgoing,this.splitLargeFrames=he.splitLargeFrames,this.maxWebSocketChunkSize=he.maxWebSocketChunkSize,this.forceBinaryWSFrames=he.forceBinaryWSFrames,this.logRawCommunication=he.logRawCommunication,this.appendMissingNULLonIncoming=he.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=he.discardWebsocketOnCommFailure,this.onConnect=he.onConnect,this.onDisconnect=he.onDisconnect,this.onStompError=he.onStompError,this.onWebSocketClose=he.onWebSocketClose,this.onWebSocketError=he.onWebSocketError,this.onUnhandledMessage=he.onUnhandledMessage,this.onUnhandledReceipt=he.onUnhandledReceipt,this.onUnhandledFrame=he.onUnhandledFrame}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}start(){const Y=new D(G=>{const he=L.fromRawFrame(G,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${he}`),(this._serverFrameHandlers[he.command]||this.onUnhandledFrame)(he)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=G=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const he=G.data instanceof ArrayBuffer?(new TextDecoder).decode(G.data):G.data;this.debug(`<<< ${he}`)}Y.parseChunk(G.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=G=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(G)},this._webSocket.onerror=G=>{this.onWebSocketError(G)},this._webSocket.onopen=()=>{const G=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),G["accept-version"]=this.stompVersions.supportedVersions(),G["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:G})}}_setupHeartbeat(Y){if(Y.version!==F.V1_1&&Y.version!==F.V1_2||!Y["heart-beat"])return;const[G,he]=Y["heart-beat"].split(",").map(j=>parseInt(j,10));if(0!==this.heartbeatOutgoing&&0!==he){const j=Math.max(this.heartbeatOutgoing,he);this.debug(`send PING every ${j}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===S.OPEN&&(this._webSocket.send(R_LF),this.debug(">>> PING"))},j)}if(0!==this.heartbeatIncoming&&0!==G){const j=Math.max(this.heartbeatIncoming,G);this.debug(`check PONG every ${j}ms`),this._ponger=setInterval(()=>{const Q=Date.now()-this._lastServerActivityTS;Q>2*j&&(this.debug(`did not receive server activity for the last ${Q}ms`),this._closeOrDiscardWebsocket())},j)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===S.CONNECTING||this._webSocket.readyState===S.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){"function"!=typeof this._webSocket.terminate&&function ce(q,Y){q.terminate=function(){const G=()=>{};this.onerror=G,this.onmessage=G,this.onopen=G;const he=new Date,j=Math.random().toString().substring(2,8),Q=this.onclose;this.onclose=K=>{const z=(new Date).getTime()-he.getTime();Y(`Discarded socket (#${j})  closed after ${z}ms, with code/reason: ${K.code}/${K.reason}`)},this.close(),null==Q||Q.call(q,{code:4001,reason:`Quick discarding socket (#${j}) without waiting for the shutdown sequence.`,wasClean:!1})}}(this._webSocket,Y=>this.debug(Y)),this._webSocket.terminate()}_transmit(Y){const{command:G,headers:he,body:j,binaryBody:Q,skipContentLengthHeader:K}=Y,z=new L({command:G,headers:he,body:j,binaryBody:Q,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:K});let oe=z.serialize();if(this.debug(this.logRawCommunication?`>>> ${oe}`:`>>> ${z}`),this.forceBinaryWSFrames&&"string"==typeof oe&&(oe=(new TextEncoder).encode(oe)),"string"==typeof oe&&this.splitLargeFrames){let Te=oe;for(;Te.length>0;){const Ae=Te.substring(0,this.maxWebSocketChunkSize);Te=Te.substring(this.maxWebSocketChunkSize),this._webSocket.send(Ae),this.debug(`chunk sent = ${Ae.length}, remaining = ${Te.length}`)}}else this._webSocket.send(oe)}dispose(){if(this.connected)try{const Y=Object.assign({},this.disconnectHeaders);Y.receipt||(Y.receipt="close-"+this._counter++),this.watchForReceipt(Y.receipt,G=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(G)}),this._transmit({command:"DISCONNECT",headers:Y})}catch(Y){this.debug(`Ignoring error during disconnect ${Y}`)}else(this._webSocket.readyState===S.CONNECTING||this._webSocket.readyState===S.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(clearInterval(this._pinger),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(Y){const{destination:G,headers:he,body:j,binaryBody:Q,skipContentLengthHeader:K}=Y,z=Object.assign({destination:G},he);this._transmit({command:"SEND",headers:z,body:j,binaryBody:Q,skipContentLengthHeader:K})}watchForReceipt(Y,G){this._receiptWatchers[Y]=G}subscribe(Y,G,he={}){(he=Object.assign({},he)).id||(he.id="sub-"+this._counter++),he.destination=Y,this._subscriptions[he.id]=G,this._transmit({command:"SUBSCRIBE",headers:he});const j=this;return{id:he.id,unsubscribe:Q=>j.unsubscribe(he.id,Q)}}unsubscribe(Y,G={}){G=Object.assign({},G),delete this._subscriptions[Y],G.id=Y,this._transmit({command:"UNSUBSCRIBE",headers:G})}begin(Y){const G=Y||"tx-"+this._counter++;this._transmit({command:"BEGIN",headers:{transaction:G}});const he=this;return{id:G,commit(){he.commit(G)},abort(){he.abort(G)}}}commit(Y){this._transmit({command:"COMMIT",headers:{transaction:Y}})}abort(Y){this._transmit({command:"ABORT",headers:{transaction:Y}})}ack(Y,G,he={}){he=Object.assign({},he),this._connectedVersion===F.V1_2?he.id=Y:he["message-id"]=Y,he.subscription=G,this._transmit({command:"ACK",headers:he})}nack(Y,G,he={}){return he=Object.assign({},he),this._connectedVersion===F.V1_2?he.id=Y:he["message-id"]=Y,he.subscription=G,this._transmit({command:"NACK",headers:he})}}class V{constructor(Y={}){this.stompVersions=F.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=U.INACTIVE;const G=()=>{};this.debug=G,this.beforeConnect=G,this.onConnect=G,this.onDisconnect=G,this.onUnhandledMessage=G,this.onUnhandledReceipt=G,this.onUnhandledFrame=G,this.onStompError=G,this.onWebSocketClose=G,this.onWebSocketError=G,this.logRawCommunication=!1,this.onChangeState=G,this.connectHeaders={},this._disconnectHeaders={},this.configure(Y)}get webSocket(){var Y;return null==(Y=this._stompHandler)?void 0:Y._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(Y){this._disconnectHeaders=Y,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===U.ACTIVE}_changeState(Y){this.state=Y,this.onChangeState(Y)}configure(Y){Object.assign(this,Y)}activate(){const Y=()=>{this.active?this.debug("Already ACTIVE, ignoring request to activate"):(this._changeState(U.ACTIVE),this._connect())};this.state===U.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{Y()})):Y()}_connect(){var Y=this;return(0,e.Z)(function*(){if(yield Y.beforeConnect(),Y._stompHandler)return void Y.debug("There is already a stompHandler, skipping the call to connect");if(!Y.active)return void Y.debug("Client has been marked inactive, will not attempt to connect");Y.connectionTimeout>0&&(Y._connectionWatcher&&clearTimeout(Y._connectionWatcher),Y._connectionWatcher=setTimeout(()=>{Y.connected||(Y.debug(`Connection not established in ${Y.connectionTimeout}ms, closing socket`),Y.forceDisconnect())},Y.connectionTimeout)),Y.debug("Opening Web Socket...");const G=Y._createWebSocket();Y._stompHandler=new te(Y,G,{debug:Y.debug,stompVersions:Y.stompVersions,connectHeaders:Y.connectHeaders,disconnectHeaders:Y._disconnectHeaders,heartbeatIncoming:Y.heartbeatIncoming,heartbeatOutgoing:Y.heartbeatOutgoing,splitLargeFrames:Y.splitLargeFrames,maxWebSocketChunkSize:Y.maxWebSocketChunkSize,forceBinaryWSFrames:Y.forceBinaryWSFrames,logRawCommunication:Y.logRawCommunication,appendMissingNULLonIncoming:Y.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:Y.discardWebsocketOnCommFailure,onConnect:he=>{if(Y._connectionWatcher&&(clearTimeout(Y._connectionWatcher),Y._connectionWatcher=void 0),!Y.active)return Y.debug("STOMP got connected while deactivate was issued, will disconnect now"),void Y._disposeStompHandler();Y.onConnect(he)},onDisconnect:he=>{Y.onDisconnect(he)},onStompError:he=>{Y.onStompError(he)},onWebSocketClose:he=>{Y._stompHandler=void 0,Y.state===U.DEACTIVATING&&Y._changeState(U.INACTIVE),Y.onWebSocketClose(he),Y.active&&Y._schedule_reconnect()},onWebSocketError:he=>{Y.onWebSocketError(he)},onUnhandledMessage:he=>{Y.onUnhandledMessage(he)},onUnhandledReceipt:he=>{Y.onUnhandledReceipt(he)},onUnhandledFrame:he=>{Y.onUnhandledFrame(he)}}),Y._stompHandler.start()})()}_createWebSocket(){let Y;if(this.webSocketFactory)Y=this.webSocketFactory();else{if(!this.brokerURL)throw new Error("Either brokerURL or webSocketFactory must be provided");Y=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions())}return Y.binaryType="arraybuffer",Y}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}deactivate(Y={}){var G=this;return(0,e.Z)(function*(){var K;const he=Y.force||!1,j=G.active;let Q;if(G.state===U.INACTIVE)return G.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(G._changeState(U.DEACTIVATING),G._reconnector&&(clearTimeout(G._reconnector),G._reconnector=void 0),!G._stompHandler||G.webSocket.readyState===S.CLOSED)return G._changeState(U.INACTIVE),Promise.resolve();{const z=G._stompHandler.onWebSocketClose;Q=new Promise((oe,Te)=>{G._stompHandler.onWebSocketClose=Ae=>{z(Ae),oe()}})}return he?null==(K=G._stompHandler)||K.discardWebsocket():j&&G._disposeStompHandler(),Q})()}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(Y){this._checkConnection(),this._stompHandler.publish(Y)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(Y,G){this._checkConnection(),this._stompHandler.watchForReceipt(Y,G)}subscribe(Y,G,he={}){return this._checkConnection(),this._stompHandler.subscribe(Y,G,he)}unsubscribe(Y,G={}){this._checkConnection(),this._stompHandler.unsubscribe(Y,G)}begin(Y){return this._checkConnection(),this._stompHandler.begin(Y)}commit(Y){this._checkConnection(),this._stompHandler.commit(Y)}abort(Y){this._checkConnection(),this._stompHandler.abort(Y)}ack(Y,G,he={}){this._checkConnection(),this._stompHandler.ack(Y,G,he)}nack(Y,G,he={}){this._checkConnection(),this._stompHandler.nack(Y,G,he)}}var k=b(5111),$=b(5e3);let ue=(()=>{class q extends class O{get stompClient(){return this._stompClient}constructor(Y){this._queuedMessages=[];const G=Y||new V;this._stompClient=G;const he=()=>{};this._beforeConnect=he,this._correlateErrors=()=>{},this._debug=he,this._connectionStatePre$=new a.X(k.U.CLOSED),this._connectedPre$=this._connectionStatePre$.pipe((0,f.h)(j=>j===k.U.OPEN)),this.connectionState$=new a.X(k.U.CLOSED),this.connected$=this.connectionState$.pipe((0,f.h)(j=>j===k.U.OPEN)),this.connected$.subscribe(()=>{this._sendQueuedMessages()}),this._serverHeadersBehaviourSubject$=new a.X(null),this.serverHeaders$=this._serverHeadersBehaviourSubject$.pipe((0,f.h)(j=>null!==j)),this.stompErrors$=new g.x,this.unhandledMessage$=new g.x,this.unhandledReceipts$=new g.x,this.unhandledFrame$=new g.x,this.webSocketErrors$=new g.x}configure(Y){const G=Object.assign({},Y);G.beforeConnect&&(this._beforeConnect=G.beforeConnect,delete G.beforeConnect),G.correlateErrors&&(this._correlateErrors=G.correlateErrors,delete G.correlateErrors),this._stompClient.configure(G),G.debug&&(this._debug=G.debug)}activate(){var G,Y=this;this._stompClient.configure({beforeConnect:(G=(0,e.Z)(function*(){Y._changeState(k.U.CONNECTING),yield Y._beforeConnect(Y)}),function(){return G.apply(this,arguments)}),onConnect:G=>{this._serverHeadersBehaviourSubject$.next(G.headers),this._changeState(k.U.OPEN)},onStompError:G=>{this.stompErrors$.next(G)},onWebSocketClose:()=>{this._changeState(k.U.CLOSED)},onUnhandledMessage:G=>{this.unhandledMessage$.next(G)},onUnhandledReceipt:G=>{this.unhandledReceipts$.next(G)},onUnhandledFrame:G=>{this.unhandledFrame$.next(G)},onWebSocketError:G=>{this.webSocketErrors$.next(G)}}),this._stompClient.activate()}deactivate(Y={}){var G=this;return(0,e.Z)(function*(){G._changeState(k.U.CLOSING),yield G._stompClient.deactivate(Y),G._changeState(k.U.CLOSED)})()}connected(){return this.connectionState$.getValue()===k.U.OPEN}get active(){return this.stompClient.active}publish(Y){const G=null==Y.retryIfDisconnected||Y.retryIfDisconnected;if(this.connected())this._stompClient.publish(Y);else{if(!G)throw new Error("Cannot publish while broker is not connected");this._debug("Not connected, queueing"),this._queuedMessages.push(Y)}}_sendQueuedMessages(){const Y=this._queuedMessages;if(this._queuedMessages=[],0!==Y.length){this._debug(`Will try sending  ${Y.length} queued message(s)`);for(const G of Y)this._debug(`Attempting to send ${G}`),this.publish(G)}}watch(Y,G={}){let j;return j=Object.assign({},{subHeaders:{},unsubHeaders:{},subscribeOnlyOnce:!1},"string"==typeof Y?{destination:Y,subHeaders:G}:Y),this._debug(`Request to subscribe ${j.destination}`),_.y.create(K=>{let z,oe,Te=this._connectedPre$;j.subscribeOnlyOnce&&(Te=Te.pipe((0,P.q)(1)));const Ae=this.stompErrors$.subscribe(Ke=>{this._correlateErrors(Ke)===j.destination&&K.error(Ke)});return oe=Te.subscribe(()=>{this._debug(`Will subscribe to ${j.destination}`);let Ke=j.subHeaders;"function"==typeof Ke&&(Ke=Ke()),z=this._stompClient.subscribe(j.destination,be=>{K.next(be)},Ke)}),()=>{if(this._debug(`Stop watching connection state (for ${j.destination})`),oe.unsubscribe(),Ae.unsubscribe(),this.connected()){this._debug(`Will unsubscribe from ${j.destination} at Stomp`);let Ke=j.unsubHeaders;"function"==typeof Ke&&(Ke=Ke()),z.unsubscribe(Ke)}else this._debug(`Stomp not connected, no need to unsubscribe from ${j.destination} at Stomp`)}}).pipe((0,y.B)())}watchForReceipt(Y,G){this._stompClient.watchForReceipt(Y,G)}asyncReceipt(Y){return(0,l.z)(this.unhandledReceipts$.pipe((0,f.h)(G=>G.headers["receipt-id"]===Y)))}_changeState(Y){this._connectionStatePre$.next(Y),this.connectionState$.next(Y)}}{constructor(){super()}}return q.\u0275fac=function(G){return new(G||q)},q.\u0275prov=$.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})()},2248:(mn,ht,b)=>{"use strict";b.d(ht,{e:()=>R});var e=b(7579),a=b(4004),f=b(3900),g=b(4968),_=b(9646),P=b(4326),y=b(8505),l=b(5e3);let R=(()=>{class L{constructor(){this.creationMode="standard",this._dimensions={width:1e3,height:800},this._openSubject=new e.x,this.openObserver.pipe((0,a.U)(()=>window.open("/task/create","_blank",this.features)),(0,f.w)(N=>N?(0,g.R)(N,"load"):(0,_.of)(null)),(0,P.g)(200),(0,y.b)(N=>{N&&N.currentTarget.postMessage(this.transferObject,"*")})).subscribe()}get dependencyIdentifier(){return this._dependencyIdentifier}get wireframeId(){return this._wireframeId}get billingInfo(){return this._billingInfo}get features(){return`popup=yes,width=${this._dimensions.width},height=${this._dimensions.height},left=${screen.width/2-this._dimensions.width/2},top=${screen.height/2-this._dimensions.height/2}`}get mode(){return this.creationMode}get openObserver(){return this._openSubject.asObservable()}get transferObject(){return{mode:this.mode,dependencyIdentifier:this._dependencyIdentifier,wireframeId:this._wireframeId,billingInfo:this._billingInfo}}standard(){this.creationMode="standard",this._dependencyIdentifier=void 0,this._wireframeId=void 0,this._billingInfo=void 0,this.open()}dependency(N,w){this.creationMode="parent"===N?"parent":"child",this._dependencyIdentifier=w,this._wireframeId=void 0,this._billingInfo=void 0,this.open()}wireframe(N,w){this.creationMode="billing",this._dependencyIdentifier=void 0,this._wireframeId=N,this._billingInfo=w,this.open()}open(){this._openSubject.next(void 0)}}return L.\u0275fac=function(N){return new(N||L)},L.\u0275prov=l.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})()},9814:(mn,ht,b)=>{"use strict";b.d(ht,{d:()=>Y});var e=b(2382),a=b(8372),f=b(8675),g=b(1135),_=b(9841),P=b(1884),y=b(8505),l=b(4782),R=b(7579),L=b(9300),J=b(4482),N=b(5032),w=b(5403),D=b(6451),S=b(3900),U=b(5577),F=b(4004),ce=b(9646),te=b(4968),V=b(4464),k=b(590),O=b(7384),$=b(5e3),ue=b(8738),q=b(8007);let Y=(()=>{class G{constructor(j,Q){this.api=j,this.rt=Q,this.searchPhraseControl=new e.NI(""),this.searchPhrase$=this.searchPhraseControl.valueChanges.pipe((0,a.b)(1200),(0,f.O)("")),this.statusSubject=new g.X("active"),this.classSubject=new g.X(null),this.typeSubject=new g.X(null),this.pageTypeSubject=new g.X(null),this.schedulingSubject=new g.X(null),this.directorySubject=new g.X(null),this.tagSubject=new g.X(null),this.closeTimeSubject=new g.X(null),this.actualTimeSubject=new g.X(null),this.termTimeSubject=new g.X(null),this.status$=this.statusSubject.asObservable(),this.class$=this.classSubject.asObservable(),this.type$=this.typeSubject.asObservable(),this.pageType$=this.pageTypeSubject.asObservable(),this.scheduling$=this.schedulingSubject.asObservable(),this.directory$=this.directorySubject.asObservable(),this.tag$=this.tagSubject.asObservable(),this.closeTime$=this.closeTimeSubject.asObservable(),this.actualTime$=this.actualTimeSubject.asObservable(),this.termTime$=this.termTimeSubject.asObservable(),this.pageControl=new e.NI(0),this.taskLoadingState=O.Gu.READY,this.lastRoute$=(0,_.a)([this.status$,this.class$,this.type$,this.pageType$,this.directory$,this.tag$,this.closeTime$,this.actualTime$,this.termTime$,this.scheduling$]).pipe((0,a.b)(1),(0,P.x)((K,z)=>JSON.stringify(K)===JSON.stringify(z)),(0,y.b)(()=>{this.pageControl.setValue(0),this.taskLoadingState=O.Gu.LOADING}),(0,l.d)(1)),this.page$=this.pageControl.valueChanges.pipe((0,f.O)(0),(0,P.x)(),(0,y.b)(()=>{window.scrollTo({top:0}),this.taskLoadingState=O.Gu.LOADING})),this.isTaskEdit=!1,this.taskEditStopSubject=new R.x,this.directTasksMoved$=this.rt.taskMoved().pipe((0,L.h)(()=>!this.isTaskEdit)),this.delayedTasksMoved$=this.rt.taskMoved().pipe(function x(G){return(0,J.e)((he,j)=>{let Q=!1,K=null;he.subscribe(new w.Q(j,oe=>{Q=!0,K=oe})),G.subscribe(new w.Q(j,()=>{if(Q){Q=!1;const oe=K;K=null,j.next(oe)}},N.Z))})}(this.taskEditStopSubject)),this.tasksMoved$=(0,D.T)(this.directTasksMoved$,this.delayedTasksMoved$).pipe((0,f.O)(null)),this.taskCountersMap=new Map,this.taskUpdatersMap=new Map,this.tagsMap=new Map,this.updateWireframes$=(0,D.T)(this.rt.wireframeCreated(),this.rt.wireframeUpdated(),this.rt.wireframeDeleted()).pipe((0,f.O)(null)),this.wireframes$=this.updateWireframes$.pipe((0,S.w)(()=>this.api.getWireframes()),(0,l.d)(1)),this.tasks$=(0,_.a)([this.page$,this.tasksMoved$,this.lastRoute$]).pipe((0,S.w)(([K,z,[oe,Te,Ae,Ke,be,Qe,X,xe,we,Oe]])=>this.api.getPageOfTasks(null!=K?K:0,{status:[oe.toUpperCase()],template:Te?[Te]:null,stage:Ae,directory:be,tags:Qe?[Qe]:null,dateOfClose:X?{timeFrame:X}:null,actualFrom:xe?{timeFrame:xe}:null,actualTo:we?{timeFrame:we}:null,schedulingType:Oe||O.dH.EXCEPT_PLANNED})),(0,y.b)({next:K=>this.taskLoadingState=0===K.totalElements?O.Gu.EMPTY:O.Gu.READY,error:()=>this.taskLoadingState=O.Gu.ERROR}),(0,l.d)(1)),this.blockVisible=!1,this.beforeTemporaryMap=[{id:O.nv.TODAY,name:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"},{id:O.nv.YESTERDAY,name:"\u0412\u0447\u0435\u0440\u0430"},{id:O.nv.THIS_WEEK,name:"\u042d\u0442\u0430 \u043d\u0435\u0434\u0435\u043b\u044f"},{id:O.nv.LAST_WEEK,name:"\u041f\u0440\u043e\u0448\u043b\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f"},{id:O.nv.THIS_MONTH,name:"\u042d\u0442\u043e\u0442 \u043c\u0435\u0441\u044f\u0446"},{id:O.nv.LAST_MONTH,name:"\u041f\u0440\u043e\u0448\u043b\u044b\u0439 \u043c\u0435\u0441\u044f\u0446"}],this.afterTemporaryMap=[{id:O.nv.TODAY,name:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"},{id:O.nv.TOMORROW,name:"\u0417\u0430\u0432\u0442\u0440\u0430"},{id:O.nv.THIS_WEEK,name:"\u042d\u0442\u0430 \u043d\u0435\u0434\u0435\u043b\u044f"},{id:O.nv.NEXT_WEEK,name:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f"},{id:O.nv.THIS_MONTH,name:"\u042d\u0442\u043e\u0442 \u043c\u0435\u0441\u044f\u0446"},{id:O.nv.NEXT_MONTH,name:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043c\u0435\u0441\u044f\u0446"}],this.breadCrumbsModel$=(0,_.a)([this.wireframes$,this.lastRoute$]).pipe((0,U.z)(([K,z])=>{const[oe,Te,Ae,Ke,be,Qe,X,xe,we,Oe]=z;return Qe?this.api.getTaskTag(Qe).pipe((0,F.U)(dt=>({wireframes:K,route:z,tagInfo:dt}))):(0,ce.of)({wireframes:K,route:z,tagInfo:null})}),(0,F.U)(({wireframes:K,route:z,tagInfo:oe})=>{var Te,Ae,Ke,be,Qe;const X=[],[xe,we,Oe,dt,bt,it,Dt,vt,Gt,Ht]=z;if(Ht===O.dH.PLANNED)X.push({label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435",routerLink:G.convertToPath([xe,null,null,null,null,null,null,null,null,O.dH.PLANNED],!0)});else if(Ht===O.dH.DEADLINE)X.push({label:"\u0421\u0440\u043e\u043a\u0438",routerLink:G.convertToPath([xe,null,null,null,null,null,null,null,null,O.dH.DEADLINE],!0)});else if(xe){let Ut="";switch(xe){case"active":Ut="\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435";break;case"processing":Ut="\u0423 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432";break;case"close":Ut="\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435"}X.push({label:Ut,routerLink:G.convertToPath([xe,null,null,null,null,null,null,null,null,Ht],!0)})}if(we){const Ut=K.find(ct=>ct.wireframeId===we);if(X.push({label:null==Ut?void 0:Ut.name,routerLink:G.convertToPath([xe,we,null,null,null,null,null,null,null,Ht],!0)}),Oe&&Ut){const ct=null===(Te=Ut.stages)||void 0===Te?void 0:Te.find(at=>at.stageId===Oe);if(X.push({label:null==ct?void 0:ct.label,routerLink:G.convertToPath([xe,we,Oe,null,null,null,null,null,null,Ht],!0)}),bt&&ct){const at=null===(Ae=ct.directories)||void 0===Ae?void 0:Ae.find(fe=>fe.taskTypeDirectoryId===bt);X.push({label:null==at?void 0:at.name,routerLink:G.convertToPath([xe,we,Oe,dt,bt,null,null,null,null,Ht],!0)}),oe&&X.push({label:"#"+oe.name,routerLink:G.convertToPath([xe,we,Oe,dt,bt,it,null,null,null,Ht],!0)})}Dt&&(X.push({label:null===(Ke=this.beforeTemporaryMap.find(at=>at.id===Dt))||void 0===Ke?void 0:Ke.name,routerLink:G.convertToPath([xe,we,Oe,dt,null,null,Dt,null,null,Ht],!0)}),oe&&X.push({label:"#"+oe.name,routerLink:G.convertToPath([xe,we,Oe,dt,null,it,Dt,null,null,Ht],!0)})),vt&&(X.push({label:null===(be=this.afterTemporaryMap.find(at=>at.id===vt))||void 0===be?void 0:be.name,routerLink:G.convertToPath([xe,we,Oe,dt,null,null,null,vt,null,Ht],!0)}),oe&&X.push({label:"#"+oe.name,routerLink:G.convertToPath([xe,we,Oe,dt,null,it,null,vt,null,Ht],!0)})),Gt&&(X.push({label:null===(Qe=this.afterTemporaryMap.find(at=>at.id===Gt))||void 0===Qe?void 0:Qe.name,routerLink:G.convertToPath([xe,we,Oe,dt,null,null,null,null,Gt,Ht],!0)}),oe&&X.push({label:"#"+oe.name,routerLink:G.convertToPath([xe,we,Oe,dt,null,it,null,null,Gt,Ht],!0)}))}}return X})),this.rootExpandMap={active:!1,processing:!1,close:!1,scheduled:!1,term:!1},(0,te.R)(window,"dragend").subscribe(K=>{this.highlightCatalogs=void 0}),setInterval(()=>{(0,V.n)(this.tasks$.pipe((0,k.P)())).then(K=>{for(const z of this.taskUpdatersMap.keys())K.content.find(oe=>oe.taskId===z)||this.taskUpdatersMap.delete(z)})},6e5)}static convertToPath(j,Q=!1){const[K,z,oe,Te,Ae,Ke,be,Qe,X,xe]=j,we=[];switch(Q?xe&&xe!==O.dH.EXCEPT_PLANNED&&(xe===O.dH.PLANNED?we.push("scheduled"):xe===O.dH.DEADLINE&&we.push("term")):we.push(xe||O.dH.UNSCHEDULED),K&&we.push(K),z&&we.push(z.toString()),oe&&we.push(oe),Te&&we.push(Te),Te){case"dir":Ae&&we.push(Ae.toString()),Ke&&we.push(Ke.toString());break;case"close-time":be&&we.push(be),Ke&&we.push(Ke.toString());break;case"actual-time":Qe&&we.push(Qe),Ke&&we.push(Ke.toString());break;case"term-time":X&&we.push(X),Ke&&we.push(Ke.toString())}return we}getTasksCounter(j,Q){const{status:K,cls:z,type:oe,directory:Te,tag:Ae,schedulingType:Ke,dateOfClose:be,actualFrom:Qe,actualTo:X}=Q,xe=""+K+z+oe+Te+Ae+Ke+JSON.stringify(be)+JSON.stringify(Qe)+JSON.stringify(X)+j;if(this.taskCountersMap.has(xe))return this.taskCountersMap.get(xe);const we=(0,D.T)(this.rt.updateTaskCount(null!=K?K:"",z,oe,j,Te,Ae,be,Qe,X,Ke),this.api.getCountTasks(G.filterOptionsToCondition(Q))).pipe((0,F.U)(Oe=>Oe.toString()),(0,l.d)(1));return this.taskCountersMap.set(xe,we),we}static filterOptionsToCondition(j){const Q={},{status:K,cls:z,type:oe,directory:Te,dateOfClose:Ae,actualFrom:Ke,actualTo:be,schedulingType:Qe}=j;return K&&(Q.status=[K]),z&&(Q.template=[z]),oe&&(Q.stage=oe),Te&&(Q.directory=Te),Ae&&(Q.dateOfClose=Ae),Ke&&(Q.actualFrom=Ke),be&&(Q.actualTo=be),Qe&&(Q.schedulingType=Qe),Q}getTagsFromCatalog(j){const{status:Q,cls:K,type:z,directory:oe,dateOfClose:Te,actualFrom:Ae,actualTo:Ke,schedulingType:be}=j,Qe=""+Q+K+z+oe+JSON.stringify(Te)+JSON.stringify(Ae)+JSON.stringify(Ke)+be;if(this.tagsMap.has(Qe))return this.tagsMap.get(Qe);const X=this.tasksMoved$.pipe((0,S.w)(()=>this.api.getTagsListFromCatalog(G.filterOptionsToCondition(j))),(0,l.d)(1));return this.tagsMap.set(Qe,X),X}updatePath(j,Q){var K,z,oe,Te,Ae,Ke,be;this.statusSubject.next(null!==(K=j.status)&&void 0!==K?K:"active"),this.classSubject.next(j.class?parseInt(j.class):null),this.typeSubject.next(null!==(z=j.type)&&void 0!==z?z:null),this.pageTypeSubject.next(null!==(oe=Q.pageType)&&void 0!==oe?oe:null),this.schedulingSubject.next(null!==(Te=Q.scheduled)&&void 0!==Te?Te:null),this.directorySubject.next(j.directory?parseInt(j.directory):null),this.tagSubject.next(j.tag?parseInt(j.tag):null),this.closeTimeSubject.next(null!==(Ae=j.closeTime)&&void 0!==Ae?Ae:null),this.actualTimeSubject.next(null!==(Ke=j.actualTime)&&void 0!==Ke?Ke:null),this.termTimeSubject.next(null!==(be=j.termTime)&&void 0!==be?be:null)}taskMovingStart(j){this.movingTask=j,(0,V.n)(this.wireframes$.pipe((0,k.P)())).then(Q=>{var K,z;const oe=Q.find(Ke=>{var be;return Ke.wireframeId===(null===(be=j.modelWireframe)||void 0===be?void 0:be.wireframeId)});if(!oe)return void(this.highlightCatalogs=void 0);const Te=null===(K=oe.stages)||void 0===K?void 0:K.find(Ke=>{var be;return Ke.stageId===(null===(be=j.currentStage)||void 0===be?void 0:be.stageId)});if(!Te)return void(this.highlightCatalogs=void 0);const Ae=null===(z=j.currentDirectory)||void 0===z?void 0:z.taskTypeDirectoryId;this.highlightCatalogs=Te.directories.filter(Ke=>Ke.taskTypeDirectoryId!==Ae).map(Ke=>Ke.taskTypeDirectoryId)})}moveToDirectory(j){var Q;this.movingTask&&this.movingTask.taskId&&(null===(Q=this.movingTask.currentDirectory)||void 0===Q?void 0:Q.taskTypeDirectoryId)!==j.taskTypeDirectoryId&&(this.blockVisible=!0,this.api.moveTaskToDirectory([this.movingTask.taskId],j.taskTypeDirectoryId).subscribe({next:()=>this.blockVisible=!1,error:()=>this.blockVisible=!1}))}catalogHighlight(j){var Q;return null!==(Q=this.highlightCatalogs)&&void 0!==Q&&Q.includes(j)?{"z-index":"999 !important",backgroundColor:"white"}:null}unExpandOtherCatalog(j){for(const Q in this.rootExpandMap)this.rootExpandMap[Q]=j===Q}taskEditStart(j){this.isTaskEdit=!0}taskEditStop(j){this.isTaskEdit=!1,this.taskEditStopSubject.next(null)}getTaskUpdater(j){if(this.taskUpdatersMap.has(j))return this.taskUpdatersMap.get(j);const Q=this.rt.taskUpdated(j).pipe((0,l.d)(1));return this.taskUpdatersMap.set(j,Q),Q}}return G.\u0275fac=function(j){return new(j||G)($.LFG(ue.s),$.LFG(q.U))},G.\u0275prov=$.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})()},4488:(mn,ht,b)=>{"use strict";b.d(ht,{U:()=>S});var e=b(8675),a=b(8372),f=b(9841),g=b(1884),_=b(4004),P=b(3900),y=b(8505),l=b(5577),R=b(4782),L=b(9300),J=b(2382),N=b(383),w=b(5e3),x=b(8738),D=b(8007);let S=(()=>{class U{constructor(ce,te){this.api=ce,this.rt=te,this.scrollPos=0,this.TASK_PAGE_SIZE=15,this.mainFilterForm=new J.cw({searchPhrase:new J.NI(""),status:new J.NI(["ACTIVE","PROCESSING"]),template:new J.NI(N.Ke.loadOrDefault("listPageTempFilter",[])),templateFilter:new J.Oe([]),tags:new J.NI([]),stage:new J.NI(null),author:new J.NI(null),dateOfCreation:new J.NI(null),limit:new J.NI(15)}),this.searchPhraseChange$=this.mainFilterForm.controls.searchPhrase.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.searchPhrase.value),(0,a.b)(1500)),this.statusChange$=this.mainFilterForm.controls.status.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.status.value),(0,a.b)(300)),this.templateChange$=this.mainFilterForm.controls.template.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.template.value),(0,a.b)(300)),this.tagsChange$=this.mainFilterForm.controls.tags.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.tags.value),(0,a.b)(300)),this.stageChange$=this.mainFilterForm.controls.stage.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.stage.value),(0,a.b)(300)),this.delayedFilterChange$=(0,f.a)([this.searchPhraseChange$,this.statusChange$,this.templateChange$,this.tagsChange$,this.stageChange$]),this.beforeFilters="",this.stageList=[],this.tagsList=[],this.tagsFilterControl=new J.NI(""),this.tagsNameFilter$=this.tagsFilterControl.valueChanges.pipe((0,a.b)(300),(0,g.x)()),this.tagsFilters$=(0,f.a)([this.tagsNameFilter$.pipe((0,e.O)("")),this.mainFilterForm.controls.template.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.template.value))]).pipe((0,_.U)(([V,k])=>[V,!1])),this.tagsList$=N.aN.ofWithFilter(this.tagsFilters$,this.api.getTaskTags.bind(this.api),"taskTagId",this.rt.taskTagCreated(),this.rt.taskTagUpdated(),this.rt.taskTagDeleted()).pipe((0,P.w)(V=>{var k;return this.api.getCountTasksByWireframeIdByTags(null!==(k=this.mainFilterForm.controls.template.value)&&void 0!==k?k:[]).pipe((0,_.U)(O=>(V.value.map($=>($.tasksCount=O[$.taskTagId]||0,$)),V)))})),this.stageList$=this.mainFilterForm.controls.template.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.template.value),(0,y.b)(V=>N.Ke.save("incomListPageTempFilter",V)),(0,P.w)(V=>(this.mainFilterForm.controls.stage.setValue(null,{emitEvent:!1}),1===(null==V?void 0:V.length)?this.api.getWireframeStages(V[0]).pipe((0,l.z)(k=>this.api.getCountTasksByStages(V[0]).pipe((0,_.U)(O=>k.map($=>({label:$.label,value:$.stageId,orderIndex:$.orderIndex,tasksCount:O[$.stageId]||0})))))):[])),(0,_.U)(V=>{const k=V.sort((O,$)=>O.orderIndex-$.orderIndex);return k.unshift({label:"\u0412\u0441\u0435",value:null,orderIndex:-1,tasksCount:V.reduce((O,$)=>O+$.tasksCount,0)}),k}),(0,R.d)(1)),this.pageNumber=new J.NI(0),this.pageNumberChange$=this.pageNumber.valueChanges.pipe((0,e.O)(0),(0,y.b)(()=>window.scrollTo({top:0})),(0,R.d)(1)),this.filters$=(0,f.a)([this.pageNumberChange$,this.delayedFilterChange$]).pipe((0,_.U)(([V])=>[V,this.mainFilterForm.value])),this.templateFilterCount$=this.filters$.pipe((0,_.U)(()=>{const V=this.mainFilterForm.value;let k=0;return V.author&&k++,!!V.dateOfCreation&&"start"in V.dateOfCreation&&"end"in V.dateOfCreation&&k++,V.templateFilter&&V.templateFilter.length>0&&V.templateFilter.filter(O=>Array.isArray(O.value)?O.value.length>0:!!O.value).forEach(O=>{k++}),k}),(0,_.U)(V=>V?V.toString():""),(0,R.d)(1)),this.taskPage$=N.aN.ofPageAltAll(this.filters$,this.api.getPageOfTasks.bind(this.api),[this.rt.taskCreated(),this.rt.taskUpdated(),this.rt.taskDeleted()]).pipe((0,R.d)(1)),this.stageList$.subscribe(V=>this.stageList=[...V]),this.tagsList$.subscribe(V=>this.tagsList=[...V.value]),this.rt.taskCountChange().pipe((0,L.h)(V=>this.isSelectOneTemplate&&V.id===this.firstWireframeId)).subscribe(V=>{this.stageList.forEach(O=>{const $=V.stages.find(ue=>O.value===ue.id);O.tasksCount=$?$.num:0});const k=this.stageList.find(O=>null===O.value);k&&(k.tasksCount=V.stages.reduce((O,$)=>O+$.num,0))}),this.rt.tagTaskCountChange().subscribe(V=>{this.tagsList.forEach(k=>{var O;const $=V[k.taskTagId];if($){let ue=0;null===(O=this.mainFilterForm.value.template)||void 0===O||O.forEach(q=>{$[q]&&(ue+=$[q])}),k.tasksCount=ue}else k.tasksCount=0})}),this.mainFilterForm.controls.template.valueChanges.pipe((0,e.O)(this.mainFilterForm.value.template)).subscribe(V=>{N.Ke.save("listPageTempFilter",V),this.mainFilterForm.controls.templateFilter.clear(),null!=V&&1===V.length&&this.api.getWireframeFiltrationFields(V[0]).subscribe(k=>{for(let O of k)this.mainFilterForm.controls.templateFilter.push(new J.cw({id:new J.NI(O.id),wireframeFieldType:new J.NI(O.wireframeFieldType),name:new J.NI(O.name),value:new J.NI(null)}))})})}get isSelectOneTemplate(){var ce;return 1===(null===(ce=this.mainFilterForm.value.template)||void 0===ce?void 0:ce.length)}get firstWireframeId(){return this.mainFilterForm.value.template?this.mainFilterForm.value.template[0]:0}applyFilters(){this.beforeFilters!==JSON.stringify(this.mainFilterForm.value)&&this.pageNumber.setValue(0)}cacheFilters(){this.beforeFilters=JSON.stringify(this.mainFilterForm.value)}clearFilters(){var ce;this.mainFilterForm.patchValue({author:null,dateOfCreation:null}),this.mainFilterForm.controls.template.setValue(null!==(ce=this.mainFilterForm.value.template)&&void 0!==ce?ce:null)}saveScrollPos(ce){this.scrollPos=ce}readScrollPos(){return this.scrollPos}}return U.\u0275fac=function(ce){return new(ce||U)(w.LFG(x.s),w.LFG(D.U))},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})()},9664:(mn,ht,b)=>{"use strict";b.d(ht,{M:()=>F});var e=b(3900),a=b(590),f=b(7579),g=b(2722),_=b(4004),P=b(8746),y=b(4782),l=b(1588),R=b(655),L=b(5677),J=b(5e3),N=b(5330),w=b(430);let x=class{constructor(te,V,k){this.ref=te,this.config=V,this.service=k}ngOnInit(){}ngAfterContentInit(){setTimeout(()=>{this.credentials=this.config.data.credentials,this.dataReceiver=this.config.data.dataReceiver},1)}};x.\u0275fac=function(te){return new(te||x)(J.Y36(N.E7),J.Y36(N.S),J.Y36(F))},x.\u0275cmp=J.Xpm({type:x,selectors:[["app-terminal-dialog"]],decls:1,vars:1,consts:[[3,"dataSource","keyInput"]],template:function(te,V){1&te&&(J.TgZ(0,"ng-terminal",0),J.NdJ("keyInput",function(O){return V.service.send(O,null==V.credentials?null:V.credentials.sessionId)}),J.qZA()),2&te&&J.Q6J("dataSource",V.dataReceiver)},dependencies:[w.Eo]}),x=(0,R.gn)([(0,L.kG)()],x);var D=b(8738),S=b(8007),U=b(8028);let F=(()=>{class ce{constructor(V,k,O,$){this.api=V,this.rt=k,this.personality=O,this.dialogService=$,this.sessions=[],this.dataReceiversMap=new Map,this.closeStreamSignalMap=new Map,this.openTerminalDialogs=new Map,this.personality.userLogin$.pipe((0,e.w)(ue=>this.rt.telnetConnectionMessage(ue))).subscribe(ue=>this.appendSession(ue))}connect(V,k){this.api.connectToTelnetSession({ip:k,name:V,sessionId:(0,l.Z)(),lastState:"ok"}).subscribe()}send(V,k){if(!k)return;const O=this.sessions.find($=>$.sessionId===k);if(O&&"ok"==O.lastState){if("\x7f"===V)return void this.api.sendDataToTelnetSession(k,"\b").subscribe();this.api.sendDataToTelnetSession(k,V).subscribe()}}openTerminalDialog(V){const k=this.dataReceiversMap.get(V.sessionId);!k||this.openTerminal(V,k)}openTerminal(V,k){if(this.openTerminalDialogs.has(V.sessionId))return;const O=this.dialogService.open(x,{header:V.name+"\u30fb"+V.ip,contentStyle:{padding:"0",minWidth:"800px"},resizable:!0,draggable:!0,modal:!1,data:{credentials:V,dataReceiver:k}});O.onClose.pipe((0,a.P)()).subscribe(()=>this.openTerminalDialogs.delete(V.sessionId)),this.openTerminalDialogs.set(V.sessionId,O)}appendSession(V){if(this.sessions.some(ue=>ue.sessionId===V.sessionId))return;this.sessions.push(V);const O=new f.x,$=this.rt.remoteTelnetConnection(V.ip,V.sessionId).pipe((0,g.R)(O),(0,_.U)(ue=>(V.lastState=ue.state,ue.data)),(0,P.x)(()=>this.removeSession(V.sessionId)),(0,y.d)(50));this.closeStreamSignalMap.set(V.sessionId,O),this.dataReceiversMap.set(V.sessionId,$),this.openTerminal(V,$)}removeSession(V){var k,O;this.sessions=this.sessions.filter($=>$.sessionId!==V),null===(k=this.closeStreamSignalMap.get(V))||void 0===k||k.next(null),this.closeStreamSignalMap.delete(V),this.dataReceiversMap.delete(V),null===(O=this.openTerminalDialogs.get(V))||void 0===O||O.close()}isDialogOpen(V){return this.openTerminalDialogs.has(V)}}return ce.\u0275fac=function(V){return new(V||ce)(J.LFG(D.s),J.LFG(S.U),J.LFG(U.F),J.LFG(N.xA))},ce.\u0275prov=J.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},6309:(mn,ht,b)=>{"use strict";b.d(ht,{j:()=>e});let e=(()=>{class a{static getName(g){return 1===g?"\u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0443":2===g?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430\u043c\u0438":4===g?"\u041f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u0447\u0435\u0440\u0435\u0437 \u043a\u0430\u0441\u0441\u0443":8===g?"\u041f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442\u043e\u0432":16===g?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c\u0438":32===g?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043c\u043e\u0432 \u0432 \u0430\u0434\u0440\u0435\u0441\u043d\u043e\u0439":64===g?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u0434\u0440\u0435\u0441\u043d\u043e\u0439 \u043a\u043d\u0438\u0433\u0438":128===g?"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u043e\u0432":256===g?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u043e\u0432":512===g?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0442\u0434\u0435\u043b\u0430\u043c\u0438":1024===g?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044f\u043c\u0438":2048===g?"\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0437\u0430\u0440\u043f\u043b\u0430\u0442\u044b":4096===g?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0430\u0439\u0441\u0430":8192===g?"\u0427\u0442\u0435\u043d\u0438\u0435/\u0417\u0430\u043f\u0438\u0441\u044c \u0444\u0430\u0439\u043b\u043e\u0432":16384===g?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u0437\u0430\u0434\u0430\u0447":32768===g?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0433\u043e\u0432 \u0437\u0430\u0434\u0430\u0447":65536===g?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0439 \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u043e\u0432":131072===g?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u043c\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u043c\u0438":262144===g?"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438":524288===g?"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432":1048576===g?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u0438\u043f\u0430\u043c\u0438 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432":g.toString()+" (\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e)"}static flagList(){return this.array().map(g=>({name:this.getName(g),value:g}))}static read(g){const _=[];for(const P of a.array())g&P&&_.push(P);return _}static array(){return Object.values(a)}static isHasFlag(g,..._){return _.some(P=>(g&P)===P)}static trackByFlag(g,_){return _.value}}return a.BILLING=1,a.MANAGE_SUBSCRIBERS=2,a.MANAGE_CASH=4,a.MANAGE_RECALCULATION=8,a.MANAGE_EMPLOYEES=16,a.EDIT_HOUSE_ADDRESS_BOOK=32,a.EDIT_ADDRESS_BOOK=64,a.VIEW_SWITCH=128,a.EDIT_SWITCH=256,a.MANAGE_DEPARTMENTS=512,a.MANAGE_POSITIONS=1024,a.COUNT_SALARY=2048,a.EDIT_PRICE=4096,a.READ_WRITE_FILES=8192,a.EDIT_TASK_TEMPLATES=16384,a.EDIT_TASK_TAGS=32768,a.EDIT_DEVICES=65536,a.MANAGE_SYSTEM_SETTINGS=131072,a.VIEW_STATISTICS=262144,a.VIEW_CONTRACTS=524288,a.MANAGE_CONTRACTS_TYPES=1048576,a})()},7384:(mn,ht,b)=>{"use strict";b.d(ht,{AE:()=>V,Ez:()=>g,Gu:()=>ce,LE:()=>F,Rh:()=>j,_r:()=>e,b9:()=>te,dA:()=>x,dH:()=>D,hY:()=>J,k$:()=>U,nC:()=>P,nv:()=>G,sf:()=>N});var e=(()=>{return(z=e||(e={})).BOOLEAN="BOOLEAN",z.SMALL_TEXT="SMALL_TEXT",z.LARGE_TEXT="LARGE_TEXT",z.INTEGER="INTEGER",z.FLOAT="FLOAT",z.ADDRESS="ADDRESS",z.LOGIN="LOGIN",z.AD_SOURCE="AD_SOURCE",z.REQUEST_INITIATOR="REQUEST_INITIATOR",z.IP="IP",z.EQUIPMENTS="EQUIPMENTS",z.CONNECTION_SERVICES="CONNECTION_SERVICES",z.CONNECTION_TYPE="CONNECTION_TYPE",z.PHONE_ARRAY="PHONE_ARRAY",z.COUNTING_LIVES="COUNTING_LIVES",z.PASSPORT_DETAILS="PASSPORT_DETAILS",e;var z})(),g=(()=>{return(z=g||(g={})).MODEL="MODEL",z.PIPELINE="PIPELINE",g;var z})(),P=(()=>{return(z=P||(P={})).TEXT="TEXT",z.LOGIN="LOGIN",z.ADDRESS="ADDRESS",z.PHONE="PHONE",z.AD_SOURCE="AD_SOURCE",z.CONNECTION_TYPE="CONNECTION_TYPE",z.CONNECTION_SERVICE="CONNECTION_SERVICE",P;var z})(),J=(()=>{return(z=J||(J={})).ACTIVE="ACTIVE",z.PROCESSING="PROCESSING",z.CLOSE="CLOSE",J;var z})(),N=(()=>{return(z=N||(N={})).PHOTO="PHOTO",z.VIDEO="VIDEO",z.DOCUMENT="DOCUMENT",z.AUDIO="AUDIO",z.FILE="FILE",N;var z})(),x=(()=>{return(z=x||(x={})).CHANGE_STAGE="CHANGE_STAGE",z.CREATE_WORK_LOG="CREATE_WORK_LOG",z.FORCE_CLOSE_WORK_LOG="FORCE_CLOSE_WORK_LOG",z.CLOSE_WORK_LOG="CLOSE_WORK_LOG",z.CHANGE_RESPONSIBILITY="CHANGE_RESPONSIBILITY",z.LINKED_TO_PARENT_TASK="LINKED_TO_PARENT_TASK",z.UNLINKED_FROM_PARENT_TASK="UNLINKED_FROM_PARENT_TASK",z.UNLINK_CHILD_TASK="UNLINK_CHILD_TASK",z.LINKED_TO_CHILD_TASKS="LINKED_TO_CHILD_TASKS",z.CHANGE_TAGS="CHANGE_TAGS",z.CLEAN_TAGS="CLEAN_TAGS",z.CHANGE_OBSERVERS="CHANGE_OBSERVERS",z.UNBIND_RESPONSIBLE="UNBIND_RESPONSIBLE",z.CHANGE_ACTUAL_FROM="CHANGE_ACTUAL_FROM",z.CHANGE_ACTUAL_TO="CHANGE_ACTUAL_TO",z.CLEAR_ACTUAL_FROM_TASK="CLEAR_ACTUAL_FROM_TASK",z.CLEAR_ACTUAL_TO_TASK="CLEAR_ACTUAL_TO_TASK",z.CLOSE_TASK="CLOSE_TASK",z.REOPEN_TASK="REOPEN_TASK",z.EDIT_FIELDS="EDIT_FIELDS",z.REPORT_CREATED="REPORT_CREATED",z.MOVED_TO_DIRECTORY="MOVED_TO_DIRECTORY",x;var z})(),D=(()=>{return(z=D||(D={})).ALL="ALL",z.SCHEDULED="SCHEDULED",z.UNSCHEDULED="UNSCHEDULED",z.PLANNED="PLANNED",z.DEADLINE="DEADLINE",z.EXCEPT_PLANNED="EXCEPT_PLANNED",D;var z})(),U=(()=>{return(z=U||(U={})).TASK_CREATED="TASK_CREATED",z.TASK_EDITED="TASK_EDITED",z.TASK_CLOSED="TASK_CLOSED",z.TASK_DELETED="TASK_DELETED",z.TASK_PROCESSED="TASK_PROCESSED",z.TASK_REOPENED="TASK_REOPENED",z.TASK_STAGE_CHANGED="TASK_STAGE_CHANGED",z.YOU_RESPONSIBLE="YOU_RESPONSIBLE",z.YOU_OBSERVER="YOU_OBSERVER",z.NEW_COMMENT="NEW_COMMENT",z.TASK_HAS_BECOME_ACTUAL="TASK_HAS_BECOME_ACTUAL",z.TASK_EXPIRED="TASK_EXPIRED",z.WORKS_COMPLETED="WORKS_COMPLETED",z.REPORT_RECEIVED="REPORT_RECEIVED",z.MENTIONED_IN_TASK="MENTIONED_IN_TASK",U;var z})(),F=(()=>{return(z=F||(F={})).ONLINE="ONLINE",z.AWAY="AWAY",z.OFFLINE="OFFLINE",F;var z})(),ce=(()=>{return(z=ce||(ce={})).READY="READY",z.LOADING="LOADING",z.ERROR="ERROR",z.EMPTY="EMPTY",ce;var z})(),te=(()=>{return(z=te||(te={})).AMOUNT="AMOUNT",z.METRES="METRES",z.KILOGRAMS="KILOGRAMS",te;var z})();class V{constructor(oe){this.target=null,this.index=null;const Te=oe.dragNode,Ae=oe.dropNode;this.index=oe.index,this.source=new k(Te),this.target=Ae.children&&Ae.children.includes(Te)?new k(Ae):Ae.parent?new k(Ae.parent):null}}class k{constructor(oe){this.key=oe.key,this.label=oe.label,this.icon=oe.icon,this.type=oe.type}}var G=(()=>{return(z=G||(G={})).NEXT_MONTH="NEXT_MONTH",z.NEXT_WEEK="NEXT_WEEK",z.TOMORROW="TOMORROW",z.TODAY="TODAY",z.YESTERDAY="YESTERDAY",z.THIS_WEEK="THIS_WEEK",z.LAST_WEEK="LAST_WEEK",z.THIS_MONTH="THIS_MONTH",z.LAST_MONTH="LAST_MONTH",G;var z})(),j=(()=>{return(z=j||(j={})).CREATE_DATE_ASC="CREATE_DATE_ASC",z.CREATE_DATE_DESC="CREATE_DATE_DESC",j;var z})()},383:(mn,ht,b)=>{"use strict";b.d(ht,{pd:()=>xe,aN:()=>Ut,PU:()=>X,Ke:()=>vt,xf:()=>we,cQ:()=>Qe,EM:()=>bt,d4:()=>it,xn:()=>ct,cy:()=>Dt,tg:()=>Oe,XO:()=>dt,mQ:()=>at});var e=b(7384),a=b(5963),f=b(3900),g=b(9646),_=b(4968),P=b(8675),y=b(4004),l=b(6451),R=b(7579),L=b(8505),J=b(9841),N=b(4782),w=b(9751),x=b(5e3),D=b(4707);const S={schedule(fe,ke){const ot=setTimeout(fe,ke);return()=>clearTimeout(ot)},scheduleBeforeRender(fe){if("undefined"==typeof window)return S.schedule(fe,0);if(void 0===window.requestAnimationFrame)return S.schedule(fe,16);const ke=window.requestAnimationFrame(fe);return()=>window.cancelAnimationFrame(ke)}};let V;function Y(fe,ke,ot){let Ct=ot;return function F(fe){return!!fe&&fe.nodeType===Node.ELEMENT_NODE}(fe)&&ke.some((Ot,Nt)=>!("*"===Ot||!function k(fe,ke){if(!V){const ot=Element.prototype;V=ot.matches||ot.matchesSelector||ot.mozMatchesSelector||ot.msMatchesSelector||ot.oMatchesSelector||ot.webkitMatchesSelector}return fe.nodeType===Node.ELEMENT_NODE&&V.call(fe,ke)}(fe,Ot)||(Ct=Nt,0))),Ct}class he{constructor(ke,ot){this.componentFactory=ot.get(x._Vd).resolveComponentFactory(ke)}create(ke){return new j(this.componentFactory,ke)}}class j{constructor(ke,ot){this.componentFactory=ke,this.injector=ot,this.eventEmitters=new D.t(1),this.events=this.eventEmitters.pipe((0,f.w)(Ct=>(0,l.T)(...Ct))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:Ct})=>Ct)),this.ngZone=this.injector.get(x.R0b),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(()=>Zone.current)}connect(ke){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(ke)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=S.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(ke){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(ke):this.componentRef.instance[ke])}setInputValue(ke,ot){this.runInZone(()=>{null!==this.componentRef?function O(fe,ke){return fe===ke||fe!=fe&&ke!=ke}(ot,this.getInputValue(ke))&&(void 0!==ot||!this.unchangedInputs.has(ke))||(this.recordInputChange(ke,ot),this.unchangedInputs.delete(ke),this.hasInputChanges=!0,this.componentRef.instance[ke]=ot,this.scheduleDetectChanges()):this.initialInputValues.set(ke,ot)})}initializeComponent(ke){const ot=x.zs3.create({providers:[],parent:this.injector}),Ct=function q(fe,ke){const ot=fe.childNodes,Ct=ke.map(()=>[]);let Ot=-1;ke.some((Nt,Mt)=>"*"===Nt&&(Ot=Mt,!0));for(let Nt=0,Mt=ot.length;Nt<Mt;++Nt){const Ye=ot[Nt],st=Y(Ye,ke,Ot);-1!==st&&Ct[st].push(Ye)}return Ct}(ke,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(ot,Ct,ke),this.viewChangeDetectorRef=this.componentRef.injector.get(x.sBO),this.implementsOnChanges=function ce(fe){return"function"==typeof fe}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(x.z2F).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:ke})=>{this.initialInputValues.has(ke)&&this.setInputValue(ke,this.initialInputValues.get(ke))}),this.initialInputValues.clear()}initializeOutputs(ke){const ot=this.componentFactory.outputs.map(({propName:Ct,templateName:Ot})=>ke.instance[Ct].pipe((0,y.U)(Mt=>({name:Ot,value:Mt}))));this.eventEmitters.next(ot)}callNgOnChanges(ke){if(!this.implementsOnChanges||null===this.inputChanges)return;const ot=this.inputChanges;this.inputChanges=null,ke.instance.ngOnChanges(ot)}markViewForCheck(ke){this.hasInputChanges&&(this.hasInputChanges=!1,ke.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=S.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(ke,ot){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const Ct=this.inputChanges[ke];if(Ct)return void(Ct.currentValue=ot);const Ot=this.unchangedInputs.has(ke),Nt=Ot?void 0:this.getInputValue(ke);this.inputChanges[ke]=new x.WD2(Nt,ot,Ot)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(ke){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(ke):ke()}}class Q extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function K(fe,ke){const ot=function ue(fe,ke){return ke.get(x._Vd).resolveComponentFactory(fe).inputs}(fe,ke.injector),Ct=ke.strategyFactory||new he(fe,ke.injector),Ot=function $(fe){const ke={};return fe.forEach(({propName:ot,templateName:Ct})=>{ke[function U(fe){return fe.replace(/[A-Z]/g,ke=>`-${ke.toLowerCase()}`)}(Ct)]=ot}),ke}(ot);class Nt extends Q{constructor(Ye){super(),this.injector=Ye}get ngElementStrategy(){if(!this._ngElementStrategy){const Ye=this._ngElementStrategy=Ct.create(this.injector||ke.injector);ot.forEach(({propName:st})=>{if(!this.hasOwnProperty(st))return;const je=this[st];delete this[st],Ye.setInputValue(st,je)})}return this._ngElementStrategy}attributeChangedCallback(Ye,st,je,It){this.ngElementStrategy.setInputValue(Ot[Ye],je)}connectedCallback(){let Ye=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),Ye=!0),this.ngElementStrategy.connect(this),Ye||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(Ye=>{const st=new CustomEvent(Ye.name,{detail:Ye.value});this.dispatchEvent(st)})}}return Nt.observedAttributes=Object.keys(Ot),ot.forEach(({propName:Mt})=>{Object.defineProperty(Nt.prototype,Mt,{get(){return this.ngElementStrategy.getInputValue(Mt)},set(Ye){this.ngElementStrategy.setInputValue(Mt,Ye)},configurable:!0,enumerable:!0})}),Nt}var oe=b(1110),Te=b(2777),Ae=b(7805),Ke=b(7092),be=b(6890);class Qe{static convertModelItemToString(ke){var ot,Ct;if(ke.wireframeFieldType===e._r.ADDRESS){const Ot=ke.addressData;return Ot?`${null===(ot=Ot.city)||void 0===ot?void 0:ot.name} ${null===(Ct=Ot.street)||void 0===Ct?void 0:Ct.name} ${Ot.houseNum}${Ot.fraction?"/"+Ot.fraction:""}${Ot.letter}${Ot.build?" \u0441\u0442\u0440."+Ot.build:""} \u043a\u0432.${Ot.apartmentNum}`:""}return""}static isCorrectSequenceOfCharacters(ke,ot,Ct=[]){const Ot=ke.delta.ops,Nt=ke.oldDelta.ops,Mt=ke.editor.getSelection(!0).index;if(!Ot||!Nt)return!1;if(1===Ot.length){if(Ot[0].insert===ot)return!0}else if(2===Ot.length){const Ye=Nt.reduce((je,It)=>je+It.insert,"").slice(0,Mt-1),st=Ot[1].insert;if(0===Ct.length&&st===ot||st===ot&&Ct.some(je=>Ye.endsWith(je)))return!0}return!1}static dateFormat(ke){return`${ke.getFullYear()}-${(ke.getMonth()+1).toString().padStart(2,"0")}-${ke.getDate().toString().padStart(2,"0")}T${ke.getHours().toString().padStart(2,"0")}:${ke.getMinutes().toString().padStart(2,"0")}:${ke.getSeconds().toString().padStart(2,"0")}Z`}static dateFormatTS(ke){return`${ke.getFullYear()}-${(ke.getMonth()+1).toString().padStart(2,"0")}-${ke.getDate().toString().padStart(2,"0")} ${ke.getHours().toString().padStart(2,"0")}:${ke.getMinutes().toString().padStart(2,"0")}:${ke.getSeconds().toString().padStart(2,"0")}`}static stringToColor(ke,ot=70,Ct=100,Ot=50,Nt=80){let Mt=0;for(let It=0;It<ke.length;It++)Mt=ke.charCodeAt(It)+((Mt<<5)-Mt);return`hsl(${Mt%360}, ${Math.max(ot,Math.min(Ct,Mt%100/100*(Ct-ot)+ot))}%, ${Math.max(Ot,Math.min(Nt,Mt%100/100*(Nt-Ot)+Ot))}%)`}static stringToGradient(ke,ot=90,Ct=70,Ot=85,Nt=65){let Mt=0;for(let un=0;un<ke.length;un++)Mt=ke.charCodeAt(un)+((Mt<<5)-Mt);const Ye=Mt%360,st=Mt%(ot-Ct+1)+Ct,je=Mt%(Ot-Nt+1)+Nt;return`linear-gradient(0deg, hsl(${Ye}, ${st}%, ${je}%) 0%, hsl(${(Ye-30)%360}, ${st}%, ${je-10}%) 100%)`}static declineOfNumber(ke,ot){const Ct=(ke=Math.abs(ke)%100)%10;return ke>10&&ke<20?ot[2]:Ct>1&&Ct<5?ot[1]:1==Ct?ot[0]:ot[2]}static getValueFromModelItem(ke){switch(ke.wireframeFieldType){case e._r.ADDRESS:return ke.addressData;case e._r.INTEGER:return ke.integerData;case e._r.FLOAT:return ke.floatData;case e._r.BOOLEAN:return ke.booleanData;case e._r.PHONE_ARRAY:return ke.phoneData;case e._r.IP:case e._r.LARGE_TEXT:case e._r.LOGIN:case e._r.SMALL_TEXT:case e._r.CONNECTION_TYPE:case e._r.AD_SOURCE:case e._r.REQUEST_INITIATOR:case e._r.COUNTING_LIVES:return ke.stringData;case e._r.CONNECTION_SERVICES:return ke.connectionServicesData;case e._r.EQUIPMENTS:return ke.equipmentRealizationsData;case e._r.PASSPORT_DETAILS:return ke.passportDetailsData;default:return null}}static setValueToModelItem(ke,ot){switch(ke.wireframeFieldType){case e._r.ADDRESS:ke.addressData=ot;break;case e._r.INTEGER:ke.integerData=ot;break;case e._r.FLOAT:ke.floatData=ot;break;case e._r.BOOLEAN:ke.booleanData=ot;break;case e._r.PHONE_ARRAY:ke.phoneData=ot;break;case e._r.IP:case e._r.LARGE_TEXT:case e._r.LOGIN:case e._r.CONNECTION_TYPE:case e._r.SMALL_TEXT:case e._r.AD_SOURCE:case e._r.REQUEST_INITIATOR:case e._r.COUNTING_LIVES:ke.stringData=ot;break;case e._r.CONNECTION_SERVICES:ke.connectionServicesData=ot;break;case e._r.EQUIPMENTS:ke.equipmentRealizationsData=ot;break;case e._r.PASSPORT_DETAILS:ke.passportDetailsData=ot}return ke}static copyToClipboard(ke,ot,Ct,Ot){var Nt;if(null!==(Nt=navigator.clipboard)&&void 0!==Nt&&Nt.writeText)navigator.clipboard.writeText(ke).then(()=>{ot.add({detail:Ct,severity:"dark",key:"darktoast",icon:"mdi-copy",closable:!1})});else{const Mt=document.createElement("textarea");Mt.style.display="fixed",Mt.style.top="-100",Mt.style.left="-100",Mt.style.opacity="0",Mt.style.userSelect="none",Mt.style.pointerEvents="none",Mt.value=ke,document.body.appendChild(Mt),Mt.select();try{document.execCommand("copy"),ot.add({detail:Ct,severity:"dark",key:"darktoast",icon:"mdi-copy",closable:!1})}catch(Ye){ot.add({detail:Ot,severity:"dark",key:"darktoast",icon:"mdi-copy",closable:!1})}document.body.removeChild(Mt)}}static prepareForHttpRequest(ke){if("object"==typeof ke)for(let ot in ke)Array.isArray(ke[ot])||"string"==typeof ke[ot]||"number"==typeof ke[ot]||"boolean"==typeof ke[ot]?Array.isArray(ke[ot])&&(ke[ot]=ke[ot].map(Ct=>"object"==typeof Ct?JSON.stringify(Ct):Ct)):ke[ot]=JSON.stringify(ke[ot]);return ke}static groupBy(ke,ot){return ke.reduce((Ct,Ot)=>Object.assign(Object.assign({},Ct),{[Ot[ot]]:[...Ct[Ot[ot]]||[],Ot]}),{})}static arrayEquals(ke,ot){if(!ke||!ot||ke.length!==ot.length)return!1;const Ct=new Map;ke.forEach(Ot=>{const Nt=Ct.get(Ot);Ct.set(Ot,Nt?{aCount:Nt.aCount+1,bCount:0}:{aCount:1,bCount:0})}),ot.forEach(Ot=>{const Nt=Ct.get(Ot);Ct.set(Ot,Nt?{aCount:Nt.aCount,bCount:Nt.bCount+1}:{aCount:0,bCount:1})});for(let[Ot,{aCount:Nt,bCount:Mt}]of Ct)if(Nt!==Mt)return!1;return!0}static getRandom(ke,ot){return Math.round(Math.random()*(ot-ke)+ke)}}class X{static convert(ke,ot){return ot.steps.reduce((Ot,Nt)=>[...Ot,...Nt.fields],[]).filter(Ot=>Object.keys(ke).includes(Ot.id)).map(Ot=>{const Nt=ke[Ot.id],Mt={id:Ot.id,wireframeFieldType:Ot.type,name:Ot.name,variation:Ot.variation,displayType:Ot.displayType};switch(Ot.type){case e._r.SMALL_TEXT:case e._r.LARGE_TEXT:case e._r.LOGIN:case e._r.IP:case e._r.CONNECTION_TYPE:case e._r.AD_SOURCE:case e._r.REQUEST_INITIATOR:case e._r.COUNTING_LIVES:Mt.stringData=Nt;break;case e._r.ADDRESS:Mt.addressData=Nt;break;case e._r.PHONE_ARRAY:Mt.phoneData=Nt;break;case e._r.INTEGER:Mt.integerData=Nt;break;case e._r.BOOLEAN:Mt.booleanData=Nt;break;case e._r.FLOAT:Mt.floatData=Nt;break;case e._r.CONNECTION_SERVICES:Mt.connectionServicesData=Nt;break;case e._r.EQUIPMENTS:Mt.equipmentRealizationsData=Nt;break;case e._r.PASSPORT_DETAILS:Mt.passportDetailsData=Nt}return Mt})}static editExisting(ke,ot){return ot.map(Ct=>Qe.setValueToModelItem(Ct,ke[Ct.modelItemId]))}}class xe{constructor(){this.observer=(0,a.H)(0,1e3).pipe((0,f.w)(()=>(0,g.of)(this.getTime()))),this.time=0}setTime(ke){this.time=ke instanceof Date?ke.getTime():"string"==typeof ke?new Date(ke).getTime():"number"==typeof ke?ke:0}getTime(){if(0===this.time)return{biggestSuffix:"",biggestType:"none",biggestValue:0,current:{days:0,hours:0,minutes:0,seconds:0},mode:"none",timeError:!0,actualLabel:"-"};const ke=(new Date).getTime(),ot=Math.abs(this.time-ke),Ct=this.time<ke?"after":"before";let Ot=Math.floor(ot/864e5),Nt=Math.floor(ot%864e5/36e5),Mt=Math.floor(ot%36e5/6e4),Ye=Math.floor(ot%6e4/1e3);if(Ot>0){const st=Qe.declineOfNumber(Ot,["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"]);return{biggestSuffix:st,biggestType:"days",biggestValue:Ot,current:{days:Ot,hours:Nt,minutes:Mt,seconds:Ye},mode:Ct,timeError:!1,actualLabel:`${Ot} ${st}`}}if(Nt>0){const st=Qe.declineOfNumber(Nt,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"]);return{biggestSuffix:st,biggestType:"hours",biggestValue:Nt,current:{days:Ot,hours:Nt,minutes:Mt,seconds:Ye},mode:Ct,timeError:!1,actualLabel:`${Nt} ${st}`}}if(Mt>0){const st=Qe.declineOfNumber(Mt,["\u043c\u0438\u043d\u0443\u0442\u0443","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"]);return{biggestSuffix:st,biggestType:"minutes",biggestValue:Mt,current:{days:Ot,hours:Nt,minutes:Mt,seconds:Ye},mode:Ct,timeError:!1,actualLabel:`${Mt} ${st}`}}{const st=Qe.declineOfNumber(Ye,["\u0441\u0435\u043a\u0443\u043d\u0434\u0443","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"]);return{biggestSuffix:st,biggestType:"seconds",biggestValue:Ye,current:{days:Ot,hours:Nt,minutes:Mt,seconds:Ye},mode:Ct,timeError:!1,actualLabel:`${Ye} ${st}`}}}}class we{constructor(){this.subscriptions=new Map}addSubscription(ke,ot){const Ct=this.subscriptions.get(ke);Ct&&Ct.unsubscribe(),this.subscriptions.set(ke,ot)}unsubscribeAll(){this.subscriptions.forEach(ke=>ke.unsubscribe()),this.subscriptions.clear()}unsubscribe(ke){const ot=this.subscriptions.get(ke);ot&&ot.unsubscribe(),this.subscriptions.delete(ke)}}const Oe={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{color:[]}],["clean"],["link"]]};function dt(fe){const ke={"employee-label-element":K(oe.x,{injector:fe}),"task-link-element":K(Te.U,{injector:fe}),"department-label-element":K(Ae.y,{injector:fe}),"appointed-installers-element":K(Ke._,{injector:fe}),"chat-link-element":K(be.K,{injector:fe})};for(const[ot,Ct]of Object.entries(ke))customElements.get(ot)||customElements.define(ot,Ct)}function bt(fe){fe.ripple=!0,fe.setTranslation({startsWith:"\u041d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441",contains:"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442",notContains:"\u041d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442",endsWith:"\u041a\u043e\u043d\u0447\u0430\u0435\u0442\u0441\u044f",equals:"\u0420\u0430\u0432\u043d\u043e",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c",apply:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",matchAll:"\u0421\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u043e \u0432\u0441\u0435\u043c",matchAny:"\u0421\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438",addRule:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e",removeRule:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e",accept:"\u0414\u0430",reject:"\u041d\u0435\u0442",choose:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",upload:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",dayNames:["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"],dayNamesShort:["\u0412\u0441\u043a","\u041f\u043e\u043d","\u0412\u0442\u043e","\u0421\u0440\u0435","\u0427\u0435\u0442","\u041f\u044f\u0442","\u0421\u0443\u0431"],dayNamesMin:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],monthNames:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],monthNamesShort:["\u042f\u043d\u0432","\u0424\u0435\u0432","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u044f","\u0414\u0435\u043a"],dateFormat:"dd-mm-yy",firstDayOfWeek:0,today:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",weekHeader:"\u041d\u0434",weak:"\u041d\u0435\u0434\u0435\u043b\u044f",medium:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439",strong:"\u0416\u0438\u0440\u043d\u044b\u0439",passwordPrompt:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",emptyMessage:"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442",emptyFilterMessage:"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442"})}function it(fe,ke=0){let ot=3735928559^ke,Ct=1103547991^ke;for(let Nt,Ot=0;Ot<fe.length;Ot++)Nt=fe.charCodeAt(Ot),ot=Math.imul(ot^Nt,2654435761),Ct=Math.imul(Ct^Nt,1597334677);return ot=Math.imul(ot^ot>>>16,2246822507),ot^=Math.imul(Ct^Ct>>>13,3266489909),Ct=Math.imul(Ct^Ct>>>16,2246822507),Ct^=Math.imul(ot^ot>>>13,3266489909),(4294967296*(2097151&Ct)+(ot>>>0)).toString(16)}function Dt(fe){const ke=window.matchMedia(fe);return(0,_.R)(ke,"change").pipe((0,P.O)(ke),(0,y.U)(ot=>ot.matches))}class vt{static save(ke,ot){localStorage.setItem(ke,JSON.stringify(ot))}static load(ke){const ot=localStorage.getItem(ke);return null===ot?null:JSON.parse(ot)}static loadOrDefault(ke,ot){const Ct=localStorage.getItem(ke);return null===Ct?ot:JSON.parse(Ct)}}class Gt{constructor(ke){this.loadingState=e.Gu.LOADING,this.value=ke}}class Ht{constructor(ke){this.loadingState=e.Gu.LOADING,this.pageNumber=0,this.totalElements=0,this.value=ke}}class Ut{static of(ke,ot,Ct,Ot,Nt){const Mt=new Gt([]),Ye=[ke.pipe((0,y.U)(st=>(Mt.loadingState=null==st||0===st.length?e.Gu.EMPTY:e.Gu.READY,Mt.value=st||[],Mt)))];return Ct&&Ye.push(Ct.pipe((0,y.U)(st=>(Mt.value.some(je=>je[ot]===st[ot])||Mt.value.unshift(st),Mt)))),Ot&&Ye.push(Ot.pipe((0,y.U)(st=>{const je=Mt.value.findIndex(It=>It[ot]===st[ot]);return-1!==je&&(Mt.value[je]=st),Mt}))),Nt&&Ye.push(Nt.pipe((0,y.U)(st=>{const je=Mt.value.findIndex(It=>It[ot]===st[ot]);return-1!==je&&Mt.value.splice(je,1),Mt}))),(0,l.T)(...Ye).pipe((0,P.O)(Mt))}static ofWithFilter(ke,ot,Ct,Ot,Nt,Mt){const Ye=new Gt([]),st=new R.x,je=st.pipe((0,y.U)(ne=>(Ye.loadingState=ne,Ye))),It=[ke.pipe((0,L.b)({next:()=>st.next(e.Gu.LOADING)}),(0,f.w)(ne=>ot(...ne).pipe((0,y.U)(Ne=>(Ye.loadingState=null==Ne||0===Ne.length?e.Gu.EMPTY:e.Gu.READY,Ye.value=Ne||[],Ye)))))];return Ot&&It.push(Ot.pipe((0,y.U)(ne=>(Ye.value.unshift(ne),Ye)))),Nt&&It.push(Nt.pipe((0,y.U)(ne=>{const Ne=Ye.value.findIndex(me=>me[Ct]===ne[Ct]);return-1!==Ne&&(Ye.value[Ne]=ne),Ye}))),Mt&&It.push(Mt.pipe((0,y.U)(ne=>{const Ne=Ye.value.findIndex(me=>me[Ct]===ne[Ct]);return-1!==Ne&&Ye.value.splice(Ne,1),Ye}))),(0,l.T)(...It,je).pipe((0,P.O)(Ye))}static ofPage(ke,ot,Ct,Ot,Nt,Mt){const Ye=new Ht([]),st=new R.x,je=st.pipe((0,y.U)(ne=>(Ye.loadingState=ne,Ye))),It=[ke.pipe((0,L.b)({next:()=>st.next(e.Gu.LOADING)}),(0,f.w)(ne=>ot(...ne).pipe((0,y.U)(Ne=>(Ye.loadingState=null==Ne||0===Ne.content.length?e.Gu.EMPTY:e.Gu.READY,Ye.value=Ne.content||[],Ye.pageNumber=Ne.number,Ye.totalElements=Ne.totalElements,Ye)))))];return Ot&&It.push(Ot.pipe((0,y.U)(ne=>(0===Ye.pageNumber&&Ye.value.unshift(ne),Ye)))),Nt&&It.push(Nt.pipe((0,y.U)(ne=>{const Ne=Ye.value.findIndex(me=>me[Ct]===ne[Ct]);return-1!==Ne&&(Ye.value[Ne]=ne),Ye}))),Mt&&It.push(Mt.pipe((0,y.U)(ne=>{const Ne=Ye.value.findIndex(me=>me[Ct]===ne[Ct]);return-1!==Ne&&Ye.value.splice(Ne,1),Ye}))),(0,l.T)(...It,je).pipe((0,P.O)(Ye))}static ofPageAlt(ke,ot,Ct,Ot,Nt,Mt){const Ye=new Ht([]),st=new R.x,je=st.pipe((0,y.U)(ne=>(Ye.loadingState=ne,Ye))),It=Ot?[(0,J.a)([Ot.pipe((0,P.O)(null)),ke]).pipe((0,L.b)({next:ne=>st.next(e.Gu.LOADING)}),(0,f.w)(([ne,Ne])=>ot(...Ne).pipe((0,y.U)(me=>(Ye.loadingState=null==me||0===me.content.length?e.Gu.EMPTY:e.Gu.READY,Ye.value=me.content||[],Ye.pageNumber=me.number,Ye.totalElements=me.totalElements,Ye)))))]:[ke.pipe((0,L.b)({next:ne=>st.next(e.Gu.LOADING)}),(0,f.w)(([ne,Ne])=>ot(...Ne).pipe((0,y.U)(me=>(Ye.loadingState=null==me||0===me.content.length?e.Gu.EMPTY:e.Gu.READY,Ye.value=me.content||[],Ye.pageNumber=me.number,Ye.totalElements=me.totalElements,Ye)))))];return Nt&&It.push(Nt.pipe((0,y.U)(ne=>{const Ne=Ye.value.findIndex(me=>me[Ct]===ne[Ct]);if(-1!==Ne){const me=Ye.value[Ne];for(let gt in me)null!=ne[gt]&&(me[gt]=ne[gt])}return Ye}))),Mt&&It.push(Mt.pipe((0,y.U)(ne=>{const Ne=Ye.value.findIndex(me=>me[Ct]===ne[Ct]);return-1!==Ne&&Ye.value.splice(Ne,1),Ye}))),(0,l.T)(...It,je).pipe((0,P.O)(Ye))}static ofPageAltAll(ke,ot,Ct){const Ot=new Ht([]),Nt=new R.x,Mt=Nt.pipe((0,y.U)(st=>(Ot.loadingState=st,Ot))),Ye=(0,l.T)(ke,(0,l.T)(...Ct||[]).pipe((0,f.w)(()=>ke.pipe((0,N.d)(1))),(0,y.U)(st=>({filter:st,update:!0})))).pipe((0,L.b)({next:st=>{"update"in st||Nt.next(e.Gu.LOADING)}}),(0,f.w)(st=>ot(..."update"in st?st.filter:st).pipe((0,y.U)(je=>(Ot.loadingState=null==je||0===je.content.length?e.Gu.EMPTY:e.Gu.READY,Ot.value=je.content||[],Ot.pageNumber=je.number,Ot.totalElements=je.totalElements,Ot)))));return(0,l.T)(Ye,Mt).pipe((0,P.O)(Ot))}static ofAltAll(ke,ot,Ct){const Ot=new Gt([]),Nt=new R.x,Mt=Nt.pipe((0,y.U)(st=>(Ot.loadingState=st,Ot))),Ye=(0,l.T)(ke,(0,l.T)(...Ct||[]).pipe((0,f.w)(()=>ke.pipe((0,N.d)(1))),(0,y.U)(st=>({filter:st,update:!0})))).pipe((0,L.b)({next:st=>{"update"in st||Nt.next(e.Gu.LOADING)}}),(0,f.w)(st=>ot(..."update"in st?st.filter:st).pipe((0,y.U)(je=>(Ot.loadingState=null==je||0===je.length?e.Gu.EMPTY:e.Gu.READY,Ot.value=je||[],Ot)))));return(0,l.T)(Ye,Mt).pipe((0,P.O)(Ot))}static ofAll(ke,ot){const Ct=new Gt([]);return(0,l.T)(...ot||[]).pipe((0,P.O)(null),(0,f.w)(()=>ke.pipe((0,y.U)(Nt=>(Ct.loadingState=null==Nt||0===Nt.length?e.Gu.EMPTY:e.Gu.READY,Ct.value=Nt||[],Ct))))).pipe((0,P.O)(Ct))}}const ct=new w.y(fe=>{let ke=1;const ot=setInterval(()=>{fe.next(".".repeat(ke)),ke++,ke>3&&(ke=1)},300);return()=>clearInterval(ot)}),at=[{stWidth:87,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:69,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:90,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:70,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:109,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:73,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:85,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:73,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:82,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:102,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:66,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:117,houses:[null,null,null,null,null,null,null,null,null]},{stWidth:68,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:120,houses:[null,null,null,null]},{stWidth:67,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:70,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:78,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:122,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:90,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:114,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]}]},2340:(mn,ht,b)=>{"use strict";b.d(ht,{N:()=>e});const e={production:!0,wsHost:"ws://10.128.227.39/socket",hmr:!1}},8255:(mn,ht,b)=>{"use strict";var e=b(2313),a=b(5e3),f=b(383),g=b(3470),_=b(9300),P=b(4326),y=b(9783),l=b(9808),R=b(7773),L=b(1110);function J(mt,ae){if(1&mt&&(a.TgZ(0,"span",9),a._uU(1),a.qZA()),2&mt){const pe=a.oxw().$implicit;a.xp6(1),a.Oqu(pe.data.descriptionOfAttachment)}}function N(mt,ae){if(1&mt&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&mt){const pe=a.oxw().$implicit;a.xp6(1),a.Oqu(pe.data.text)}}const w=function(){return{marginLeft:"2rem"}};function x(mt,ae){if(1&mt&&(a.TgZ(0,"div",2)(1,"div",3),a._UZ(2,"app-employee-label",4),a.qZA(),a.TgZ(3,"div",5),a.YNc(4,J,2,1,"span",6),a.YNc(5,N,2,1,"span",7),a.qZA(),a.TgZ(6,"div",8)(7,"span"),a._uU(8),a.ALo(9,"date"),a.qZA()()()),2&mt){const pe=ae.$implicit;a.xp6(2),a.Q6J("employee",pe.data.author),a.xp6(1),a.Akn(a.DdM(9,w)),a.xp6(1),a.Q6J("ngIf",pe.data.descriptionOfAttachment),a.xp6(1),a.Q6J("ngIf",pe.data.text),a.xp6(3),a.Oqu(a.xi3(9,6,pe.data.sendAt,"dd-MM-yyyy HH:mm"))}}let D=(()=>{class mt{constructor(pe,We,yt,Vt){this.config=pe,this.title="Microel CRM",(0,f.EM)(pe),(0,f.XO)(We),yt.events.pipe((0,_.h)(dn=>dn instanceof g.Xs)).pipe((0,P.g)(1)).subscribe(dn=>{dn.position?Vt.scrollToPosition(dn.position):dn.anchor?Vt.scrollToAnchor(dn.anchor):Vt.scrollToPosition([0,0])})}}return mt.\u0275fac=function(pe){return new(pe||mt)(a.Y36(y.b4),a.Y36(a.zs3),a.Y36(g.F0),a.Y36(l.EM))},mt.\u0275cmp=a.Xpm({type:mt,selectors:[["app-root"]],decls:4,vars:0,consts:[["position","bottom-right","key","chatMessage"],["pTemplate","message"],[1,"flexed","column","stretched","gap5"],[1,"flexed","hcenter"],[3,"employee"],[1,"flexed","column"],["class","caption size-small wt-bold f-color-primary",4,"ngIf"],[4,"ngIf"],[1,"flexed","vend","caption","size-tiny","wt-bold","f-color-500"],[1,"caption","size-small","wt-bold","f-color-primary"]],template:function(pe,We){1&pe&&(a._UZ(0,"router-outlet")(1,"p-toast"),a.TgZ(2,"p-toast",0),a.YNc(3,x,10,10,"ng-template",1),a.qZA())},dependencies:[g.lC,l.O5,R.FN,y.jx,L.x,l.uU]}),mt})();const S=void 0,F=["ru",[["AM","PM"],S,S],S,[["\u0412","\u041f","\u0412","\u0421","\u0427","\u041f","\u0421"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],S,[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440.","\u0430\u043f\u0440.","\u043c\u0430\u044f","\u0438\u044e\u043d.","\u0438\u044e\u043b.","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"]],[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440.","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"]],[["\u0434\u043e \u043d.\u044d.","\u043d.\u044d."],["\u0434\u043e \u043d. \u044d.","\u043d. \u044d."],["\u0434\u043e \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430","\u043e\u0442 \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430"]],1,[6,0],["dd.MM.y","d MMM y '\u0433'.","d MMMM y '\u0433'.","EEEE, d MMMM y '\u0433'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",S,S,S],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","\u043d\u0435\xa0\u0447\u0438\u0441\u043b\u043e",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"RUB","\u20bd","\u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",{BYN:[S,"\u0440."],GEL:[S,"\u10da"],PHP:[S,"\u20b1"],RON:[S,"L"],RUB:["\u20bd"],RUR:["\u0440."],THB:["\u0e3f"],TMT:["\u0422\u041c\u0422"],TWD:["NT$"],UAH:["\u20b4"],XXX:["XXXX"]},"ltr",function U(mt){const pe=Math.floor(Math.abs(mt)),We=mt.toString().replace(/^[^.]*\.?/,"").length;return 0===We&&pe%10==1&&pe%100!=11?1:0===We&&pe%10===Math.floor(pe%10)&&pe%10>=2&&pe%10<=4&&!(pe%100>=12&&pe%100<=14)?3:0===We&&pe%10==0||0===We&&pe%10===Math.floor(pe%10)&&pe%10>=5&&pe%10<=9||0===We&&pe%100===Math.floor(pe%100)&&pe%100>=11&&pe%100<=14?4:5}];var ce=b(975),te=b(2437),V=b(1777);function O(mt){return new a.vHH(3e3,!1)}function Mt(){return"undefined"!=typeof window&&void 0!==window.document}function Ye(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function st(mt){switch(mt.length){case 0:return new V.ZN;case 1:return mt[0];default:return new V.ZE(mt)}}function je(mt,ae,pe,We,yt=new Map,Vt=new Map){const dn=[],vn=[];let wn=-1,Hn=null;if(We.forEach(Yt=>{const Re=Yt.get("offset"),Ze=Re==wn,ft=Ze&&Hn||new Map;Yt.forEach((Lt,ln)=>{let Tn=ln,Mn=Lt;if("offset"!==ln)switch(Tn=ae.normalizePropertyName(Tn,dn),Mn){case V.k1:Mn=yt.get(ln);break;case V.l3:Mn=Vt.get(ln);break;default:Mn=ae.normalizeStyleValue(ln,Tn,Mn,dn)}ft.set(Tn,Mn)}),Ze||vn.push(ft),Hn=ft,wn=Re}),dn.length)throw function Dt(mt){return new a.vHH(3502,!1)}();return vn}function It(mt,ae,pe,We){switch(ae){case"start":mt.onStart(()=>We(pe&&ne(pe,"start",mt)));break;case"done":mt.onDone(()=>We(pe&&ne(pe,"done",mt)));break;case"destroy":mt.onDestroy(()=>We(pe&&ne(pe,"destroy",mt)))}}function ne(mt,ae,pe){const We=pe.totalTime,Vt=Ne(mt.element,mt.triggerName,mt.fromState,mt.toState,ae||mt.phaseName,null==We?mt.totalTime:We,!!pe.disabled),dn=mt._data;return null!=dn&&(Vt._data=dn),Vt}function Ne(mt,ae,pe,We,yt="",Vt=0,dn){return{element:mt,triggerName:ae,fromState:pe,toState:We,phaseName:yt,totalTime:Vt,disabled:!!dn}}function me(mt,ae,pe){let We=mt.get(ae);return We||mt.set(ae,We=pe),We}function gt(mt){const ae=mt.indexOf(":");return[mt.substring(1,ae),mt.slice(ae+1)]}let un=(mt,ae)=>!1,In=(mt,ae,pe)=>[],en=null;function _t(mt){const ae=mt.parentNode||mt.host;return ae===en?null:ae}(Ye()||"undefined"!=typeof Element)&&(Mt()?(en=(()=>document.documentElement)(),un=(mt,ae)=>{for(;ae;){if(ae===mt)return!0;ae=_t(ae)}return!1}):un=(mt,ae)=>mt.contains(ae),In=(mt,ae,pe)=>{if(pe)return Array.from(mt.querySelectorAll(ae));const We=mt.querySelector(ae);return We?[We]:[]});let Je=null,ze=!1;const fn=un,Jt=In;let Rt=(()=>{class mt{validateStyleProperty(pe){return function wt(mt){Je||(Je=function qt(){return"undefined"!=typeof document?document.body:null}()||{},ze=!!Je.style&&"WebkitAppearance"in Je.style);let ae=!0;return Je.style&&!function de(mt){return"ebkit"==mt.substring(1,6)}(mt)&&(ae=mt in Je.style,!ae&&ze&&(ae="Webkit"+mt.charAt(0).toUpperCase()+mt.slice(1)in Je.style)),ae}(pe)}matchesElement(pe,We){return!1}containsElement(pe,We){return fn(pe,We)}getParentElement(pe){return _t(pe)}query(pe,We,yt){return Jt(pe,We,yt)}computeStyle(pe,We,yt){return yt||""}animate(pe,We,yt,Vt,dn,vn=[],wn){return new V.ZN(yt,Vt)}}return mt.\u0275fac=function(pe){return new(pe||mt)},mt.\u0275prov=a.Yz7({token:mt,factory:mt.\u0275fac}),mt})(),rn=(()=>{class mt{}return mt.NOOP=new Rt,mt})();const vi="ng-enter",Ni="ng-leave",oo="ng-trigger",Uo=".ng-trigger",Bt="ng-animating",Ve=".ng-animating";function ye(mt){if("number"==typeof mt)return mt;const ae=mt.match(/^(-?[\.\d]+)(m?s)/);return!ae||ae.length<2?0:Ue(parseFloat(ae[1]),ae[2])}function Ue(mt,ae){return"s"===ae?1e3*mt:mt}function ut(mt,ae,pe){return mt.hasOwnProperty("duration")?mt:function gn(mt,ae,pe){let yt,Vt=0,dn="";if("string"==typeof mt){const vn=mt.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===vn)return ae.push(O()),{duration:0,delay:0,easing:""};yt=Ue(parseFloat(vn[1]),vn[2]);const wn=vn[3];null!=wn&&(Vt=Ue(parseFloat(wn),vn[4]));const Hn=vn[5];Hn&&(dn=Hn)}else yt=mt;if(!pe){let vn=!1,wn=ae.length;yt<0&&(ae.push(function $(){return new a.vHH(3100,!1)}()),vn=!0),Vt<0&&(ae.push(function ue(){return new a.vHH(3101,!1)}()),vn=!0),vn&&ae.splice(wn,0,O())}return{duration:yt,delay:Vt,easing:dn}}(mt,ae,pe)}function Zt(mt,ae={}){return Object.keys(mt).forEach(pe=>{ae[pe]=mt[pe]}),ae}function an(mt){const ae=new Map;return Object.keys(mt).forEach(pe=>{ae.set(pe,mt[pe])}),ae}function qn(mt,ae=new Map,pe){if(pe)for(let[We,yt]of pe)ae.set(We,yt);for(let[We,yt]of mt)ae.set(We,yt);return ae}function ai(mt,ae,pe){return pe?ae+":"+pe+";":""}function pi(mt){let ae="";for(let pe=0;pe<mt.style.length;pe++){const We=mt.style.item(pe);ae+=ai(0,We,mt.style.getPropertyValue(We))}for(const pe in mt.style)mt.style.hasOwnProperty(pe)&&!pe.startsWith("_")&&(ae+=ai(0,Xo(pe),mt.style[pe]));mt.setAttribute("style",ae)}function oi(mt,ae,pe){mt.style&&(ae.forEach((We,yt)=>{const Vt=Xi(yt);pe&&!pe.has(yt)&&pe.set(yt,mt.style[Vt]),mt.style[Vt]=We}),Ye()&&pi(mt))}function ki(mt,ae){mt.style&&(ae.forEach((pe,We)=>{const yt=Xi(We);mt.style[yt]=""}),Ye()&&pi(mt))}function $i(mt){return Array.isArray(mt)?1==mt.length?mt[0]:(0,V.vP)(mt):mt}const ci=new RegExp("{{\\s*(.+?)\\s*}}","g");function vo(mt){let ae=[];if("string"==typeof mt){let pe;for(;pe=ci.exec(mt);)ae.push(pe[1]);ci.lastIndex=0}return ae}function Ko(mt,ae,pe){const We=mt.toString(),yt=We.replace(ci,(Vt,dn)=>{let vn=ae[dn];return null==vn&&(pe.push(function Y(mt){return new a.vHH(3003,!1)}()),vn=""),vn.toString()});return yt==We?mt:yt}function Go(mt){const ae=[];let pe=mt.next();for(;!pe.done;)ae.push(pe.value),pe=mt.next();return ae}const Ao=/-+([a-z0-9])/g;function Xi(mt){return mt.replace(Ao,(...ae)=>ae[1].toUpperCase())}function Xo(mt){return mt.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ho(mt,ae,pe){switch(ae.type){case 7:return mt.visitTrigger(ae,pe);case 0:return mt.visitState(ae,pe);case 1:return mt.visitTransition(ae,pe);case 2:return mt.visitSequence(ae,pe);case 3:return mt.visitGroup(ae,pe);case 4:return mt.visitAnimate(ae,pe);case 5:return mt.visitKeyframes(ae,pe);case 6:return mt.visitStyle(ae,pe);case 8:return mt.visitReference(ae,pe);case 9:return mt.visitAnimateChild(ae,pe);case 10:return mt.visitAnimateRef(ae,pe);case 11:return mt.visitQuery(ae,pe);case 12:return mt.visitStagger(ae,pe);default:throw function G(mt){return new a.vHH(3004,!1)}()}}function so(mt,ae){return window.getComputedStyle(mt)[ae]}function hs(mt,ae){const pe=[];return"string"==typeof mt?mt.split(/\s*,\s*/).forEach(We=>function Er(mt,ae,pe){if(":"==mt[0]){const wn=function ga(mt,ae){switch(mt){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(pe,We)=>parseFloat(We)>parseFloat(pe);case":decrement":return(pe,We)=>parseFloat(We)<parseFloat(pe);default:return ae.push(function Oe(mt){return new a.vHH(3016,!1)}()),"* => *"}}(mt,pe);if("function"==typeof wn)return void ae.push(wn);mt=wn}const We=mt.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==We||We.length<4)return pe.push(function we(mt){return new a.vHH(3015,!1)}()),ae;const yt=We[1],Vt=We[2],dn=We[3];ae.push(Ea(yt,dn));"<"==Vt[0]&&!("*"==yt&&"*"==dn)&&ae.push(Ea(dn,yt))}(We,pe,ae)):pe.push(mt),pe}const Cr=new Set(["true","1"]),Sr=new Set(["false","0"]);function Ea(mt,ae){const pe=Cr.has(mt)||Sr.has(mt),We=Cr.has(ae)||Sr.has(ae);return(yt,Vt)=>{let dn="*"==mt||mt==yt,vn="*"==ae||ae==Vt;return!dn&&pe&&"boolean"==typeof yt&&(dn=yt?Cr.has(mt):Sr.has(mt)),!vn&&We&&"boolean"==typeof Vt&&(vn=Vt?Cr.has(ae):Sr.has(ae)),dn&&vn}}const la=new RegExp("s*:selfs*,?","g");function Ns(mt,ae,pe,We){return new $s(mt).build(ae,pe,We)}class $s{constructor(ae){this._driver=ae}build(ae,pe,We){const yt=new Ii(pe);return this._resetContextStyleTimingState(yt),ho(this,$i(ae),yt)}_resetContextStyleTimingState(ae){ae.currentQuerySelector="",ae.collectedStyles=new Map,ae.collectedStyles.set("",new Map),ae.currentTime=0}visitTrigger(ae,pe){let We=pe.queryCount=0,yt=pe.depCount=0;const Vt=[],dn=[];return"@"==ae.name.charAt(0)&&pe.errors.push(function j(){return new a.vHH(3006,!1)}()),ae.definitions.forEach(vn=>{if(this._resetContextStyleTimingState(pe),0==vn.type){const wn=vn,Hn=wn.name;Hn.toString().split(/\s*,\s*/).forEach(Yt=>{wn.name=Yt,Vt.push(this.visitState(wn,pe))}),wn.name=Hn}else if(1==vn.type){const wn=this.visitTransition(vn,pe);We+=wn.queryCount,yt+=wn.depCount,dn.push(wn)}else pe.errors.push(function Q(){return new a.vHH(3007,!1)}())}),{type:7,name:ae.name,states:Vt,transitions:dn,queryCount:We,depCount:yt,options:null}}visitState(ae,pe){const We=this.visitStyle(ae.styles,pe),yt=ae.options&&ae.options.params||null;if(We.containsDynamicStyles){const Vt=new Set,dn=yt||{};We.styles.forEach(vn=>{vn instanceof Map&&vn.forEach(wn=>{vo(wn).forEach(Hn=>{dn.hasOwnProperty(Hn)||Vt.add(Hn)})})}),Vt.size&&(Go(Vt.values()),pe.errors.push(function K(mt,ae){return new a.vHH(3008,!1)}()))}return{type:0,name:ae.name,style:We,options:yt?{params:yt}:null}}visitTransition(ae,pe){pe.queryCount=0,pe.depCount=0;const We=ho(this,$i(ae.animation),pe);return{type:1,matchers:hs(ae.expr,pe.errors),animation:We,queryCount:pe.queryCount,depCount:pe.depCount,options:ss(ae.options)}}visitSequence(ae,pe){return{type:2,steps:ae.steps.map(We=>ho(this,We,pe)),options:ss(ae.options)}}visitGroup(ae,pe){const We=pe.currentTime;let yt=0;const Vt=ae.steps.map(dn=>{pe.currentTime=We;const vn=ho(this,dn,pe);return yt=Math.max(yt,pe.currentTime),vn});return pe.currentTime=yt,{type:3,steps:Vt,options:ss(ae.options)}}visitAnimate(ae,pe){const We=function vr(mt,ae){if(mt.hasOwnProperty("duration"))return mt;if("number"==typeof mt)return kr(ut(mt,ae).duration,0,"");const pe=mt;if(pe.split(/\s+/).some(Vt=>"{"==Vt.charAt(0)&&"{"==Vt.charAt(1))){const Vt=kr(0,0,"");return Vt.dynamic=!0,Vt.strValue=pe,Vt}const yt=ut(pe,ae);return kr(yt.duration,yt.delay,yt.easing)}(ae.timings,pe.errors);pe.currentAnimateTimings=We;let yt,Vt=ae.styles?ae.styles:(0,V.oB)({});if(5==Vt.type)yt=this.visitKeyframes(Vt,pe);else{let dn=ae.styles,vn=!1;if(!dn){vn=!0;const Hn={};We.easing&&(Hn.easing=We.easing),dn=(0,V.oB)(Hn)}pe.currentTime+=We.duration+We.delay;const wn=this.visitStyle(dn,pe);wn.isEmptyStep=vn,yt=wn}return pe.currentAnimateTimings=null,{type:4,timings:We,style:yt,options:null}}visitStyle(ae,pe){const We=this._makeStyleAst(ae,pe);return this._validateStyleAst(We,pe),We}_makeStyleAst(ae,pe){const We=[],yt=Array.isArray(ae.styles)?ae.styles:[ae.styles];for(let vn of yt)"string"==typeof vn?vn===V.l3?We.push(vn):pe.errors.push(new a.vHH(3002,!1)):We.push(an(vn));let Vt=!1,dn=null;return We.forEach(vn=>{if(vn instanceof Map&&(vn.has("easing")&&(dn=vn.get("easing"),vn.delete("easing")),!Vt))for(let wn of vn.values())if(wn.toString().indexOf("{{")>=0){Vt=!0;break}}),{type:6,styles:We,easing:dn,offset:ae.offset,containsDynamicStyles:Vt,options:null}}_validateStyleAst(ae,pe){const We=pe.currentAnimateTimings;let yt=pe.currentTime,Vt=pe.currentTime;We&&Vt>0&&(Vt-=We.duration+We.delay),ae.styles.forEach(dn=>{"string"!=typeof dn&&dn.forEach((vn,wn)=>{const Hn=pe.collectedStyles.get(pe.currentQuerySelector),Yt=Hn.get(wn);let Re=!0;Yt&&(Vt!=yt&&Vt>=Yt.startTime&&yt<=Yt.endTime&&(pe.errors.push(function Te(mt,ae,pe,We,yt){return new a.vHH(3010,!1)}()),Re=!1),Vt=Yt.startTime),Re&&Hn.set(wn,{startTime:Vt,endTime:yt}),pe.options&&function Do(mt,ae,pe){const We=ae.params||{},yt=vo(mt);yt.length&&yt.forEach(Vt=>{We.hasOwnProperty(Vt)||pe.push(function q(mt){return new a.vHH(3001,!1)}())})}(vn,pe.options,pe.errors)})})}visitKeyframes(ae,pe){const We={type:5,styles:[],options:null};if(!pe.currentAnimateTimings)return pe.errors.push(function Ae(){return new a.vHH(3011,!1)}()),We;let Vt=0;const dn=[];let vn=!1,wn=!1,Hn=0;const Yt=ae.steps.map(Mn=>{const Xn=this._makeStyleAst(Mn,pe);let ti=null!=Xn.offset?Xn.offset:function Ws(mt){if("string"==typeof mt)return null;let ae=null;if(Array.isArray(mt))mt.forEach(pe=>{if(pe instanceof Map&&pe.has("offset")){const We=pe;ae=parseFloat(We.get("offset")),We.delete("offset")}});else if(mt instanceof Map&&mt.has("offset")){const pe=mt;ae=parseFloat(pe.get("offset")),pe.delete("offset")}return ae}(Xn.styles),Ai=0;return null!=ti&&(Vt++,Ai=Xn.offset=ti),wn=wn||Ai<0||Ai>1,vn=vn||Ai<Hn,Hn=Ai,dn.push(Ai),Xn});wn&&pe.errors.push(function Ke(){return new a.vHH(3012,!1)}()),vn&&pe.errors.push(function be(){return new a.vHH(3200,!1)}());const Re=ae.steps.length;let Ze=0;Vt>0&&Vt<Re?pe.errors.push(function Qe(){return new a.vHH(3202,!1)}()):0==Vt&&(Ze=1/(Re-1));const ft=Re-1,Lt=pe.currentTime,ln=pe.currentAnimateTimings,Tn=ln.duration;return Yt.forEach((Mn,Xn)=>{const ti=Ze>0?Xn==ft?1:Ze*Xn:dn[Xn],Ai=ti*Tn;pe.currentTime=Lt+ln.delay+Ai,ln.duration=Ai,this._validateStyleAst(Mn,pe),Mn.offset=ti,We.styles.push(Mn)}),We}visitReference(ae,pe){return{type:8,animation:ho(this,$i(ae.animation),pe),options:ss(ae.options)}}visitAnimateChild(ae,pe){return pe.depCount++,{type:9,options:ss(ae.options)}}visitAnimateRef(ae,pe){return{type:10,animation:this.visitReference(ae.animation,pe),options:ss(ae.options)}}visitQuery(ae,pe){const We=pe.currentQuerySelector,yt=ae.options||{};pe.queryCount++,pe.currentQuery=ae;const[Vt,dn]=function qi(mt){const ae=!!mt.split(/\s*,\s*/).find(pe=>":self"==pe);return ae&&(mt=mt.replace(la,"")),mt=mt.replace(/@\*/g,Uo).replace(/@\w+/g,pe=>Uo+"-"+pe.slice(1)).replace(/:animating/g,Ve),[mt,ae]}(ae.selector);pe.currentQuerySelector=We.length?We+" "+Vt:Vt,me(pe.collectedStyles,pe.currentQuerySelector,new Map);const vn=ho(this,$i(ae.animation),pe);return pe.currentQuery=null,pe.currentQuerySelector=We,{type:11,selector:Vt,limit:yt.limit||0,optional:!!yt.optional,includeSelf:dn,animation:vn,originalSelector:ae.selector,options:ss(ae.options)}}visitStagger(ae,pe){pe.currentQuery||pe.errors.push(function X(){return new a.vHH(3013,!1)}());const We="full"===ae.timings?{duration:0,delay:0,easing:"full"}:ut(ae.timings,pe.errors,!0);return{type:12,animation:ho(this,$i(ae.animation),pe),timings:We,options:null}}}class Ii{constructor(ae){this.errors=ae,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ss(mt){return mt?(mt=Zt(mt)).params&&(mt.params=function hi(mt){return mt?Zt(mt):null}(mt.params)):mt={},mt}function kr(mt,ae,pe){return{duration:mt,delay:ae,easing:pe}}function Bi(mt,ae,pe,We,yt,Vt,dn=null,vn=!1){return{type:1,element:mt,keyframes:ae,preStyleProps:pe,postStyleProps:We,duration:yt,delay:Vt,totalTime:yt+Vt,easing:dn,subTimeline:vn}}class Ys{constructor(){this._map=new Map}get(ae){return this._map.get(ae)||[]}append(ae,pe){let We=this._map.get(ae);We||this._map.set(ae,We=[]),We.push(...pe)}has(ae){return this._map.has(ae)}clear(){this._map.clear()}}const Xs=new RegExp(":enter","g"),fo=new RegExp(":leave","g");function As(mt,ae,pe,We,yt,Vt=new Map,dn=new Map,vn,wn,Hn=[]){return(new ls).buildKeyframes(mt,ae,pe,We,yt,Vt,dn,vn,wn,Hn)}class ls{buildKeyframes(ae,pe,We,yt,Vt,dn,vn,wn,Hn,Yt=[]){Hn=Hn||new Ys;const Re=new ms(ae,pe,Hn,yt,Vt,Yt,[]);Re.options=wn;const Ze=wn.delay?ye(wn.delay):0;Re.currentTimeline.delayNextStep(Ze),Re.currentTimeline.setStyles([dn],null,Re.errors,wn),ho(this,We,Re);const ft=Re.timelines.filter(Lt=>Lt.containsAnimation());if(ft.length&&vn.size){let Lt;for(let ln=ft.length-1;ln>=0;ln--){const Tn=ft[ln];if(Tn.element===pe){Lt=Tn;break}}Lt&&!Lt.allowOnlyTimelineStyles()&&Lt.setStyles([vn],null,Re.errors,wn)}return ft.length?ft.map(Lt=>Lt.buildKeyframes()):[Bi(pe,[],[],[],0,Ze,"",!1)]}visitTrigger(ae,pe){}visitState(ae,pe){}visitTransition(ae,pe){}visitAnimateChild(ae,pe){const We=pe.subInstructions.get(pe.element);if(We){const yt=pe.createSubContext(ae.options),Vt=pe.currentTimeline.currentTime,dn=this._visitSubInstructions(We,yt,yt.options);Vt!=dn&&pe.transformIntoNewTimeline(dn)}pe.previousNode=ae}visitAnimateRef(ae,pe){const We=pe.createSubContext(ae.options);We.transformIntoNewTimeline(),this._applyAnimationRefDelays([ae.options,ae.animation.options],pe,We),this.visitReference(ae.animation,We),pe.transformIntoNewTimeline(We.currentTimeline.currentTime),pe.previousNode=ae}_applyAnimationRefDelays(ae,pe,We){var yt;for(const Vt of ae){const dn=null==Vt?void 0:Vt.delay;if(dn){const vn="number"==typeof dn?dn:ye(Ko(dn,null!==(yt=null==Vt?void 0:Vt.params)&&void 0!==yt?yt:{},pe.errors));We.delayNextStep(vn)}}}_visitSubInstructions(ae,pe,We){let Vt=pe.currentTimeline.currentTime;const dn=null!=We.duration?ye(We.duration):null,vn=null!=We.delay?ye(We.delay):null;return 0!==dn&&ae.forEach(wn=>{const Hn=pe.appendInstructionToTimeline(wn,dn,vn);Vt=Math.max(Vt,Hn.duration+Hn.delay)}),Vt}visitReference(ae,pe){pe.updateOptions(ae.options,!0),ho(this,ae.animation,pe),pe.previousNode=ae}visitSequence(ae,pe){const We=pe.subContextCount;let yt=pe;const Vt=ae.options;if(Vt&&(Vt.params||Vt.delay)&&(yt=pe.createSubContext(Vt),yt.transformIntoNewTimeline(),null!=Vt.delay)){6==yt.previousNode.type&&(yt.currentTimeline.snapshotCurrentStyles(),yt.previousNode=Cs);const dn=ye(Vt.delay);yt.delayNextStep(dn)}ae.steps.length&&(ae.steps.forEach(dn=>ho(this,dn,yt)),yt.currentTimeline.applyStylesToKeyframe(),yt.subContextCount>We&&yt.transformIntoNewTimeline()),pe.previousNode=ae}visitGroup(ae,pe){const We=[];let yt=pe.currentTimeline.currentTime;const Vt=ae.options&&ae.options.delay?ye(ae.options.delay):0;ae.steps.forEach(dn=>{const vn=pe.createSubContext(ae.options);Vt&&vn.delayNextStep(Vt),ho(this,dn,vn),yt=Math.max(yt,vn.currentTimeline.currentTime),We.push(vn.currentTimeline)}),We.forEach(dn=>pe.currentTimeline.mergeTimelineCollectedStyles(dn)),pe.transformIntoNewTimeline(yt),pe.previousNode=ae}_visitTiming(ae,pe){if(ae.dynamic){const We=ae.strValue;return ut(pe.params?Ko(We,pe.params,pe.errors):We,pe.errors)}return{duration:ae.duration,delay:ae.delay,easing:ae.easing}}visitAnimate(ae,pe){const We=pe.currentAnimateTimings=this._visitTiming(ae.timings,pe),yt=pe.currentTimeline;We.delay&&(pe.incrementTime(We.delay),yt.snapshotCurrentStyles());const Vt=ae.style;5==Vt.type?this.visitKeyframes(Vt,pe):(pe.incrementTime(We.duration),this.visitStyle(Vt,pe),yt.applyStylesToKeyframe()),pe.currentAnimateTimings=null,pe.previousNode=ae}visitStyle(ae,pe){const We=pe.currentTimeline,yt=pe.currentAnimateTimings;!yt&&We.hasCurrentStyleProperties()&&We.forwardFrame();const Vt=yt&&yt.easing||ae.easing;ae.isEmptyStep?We.applyEmptyStep(Vt):We.setStyles(ae.styles,Vt,pe.errors,pe.options),pe.previousNode=ae}visitKeyframes(ae,pe){const We=pe.currentAnimateTimings,yt=pe.currentTimeline.duration,Vt=We.duration,vn=pe.createSubContext().currentTimeline;vn.easing=We.easing,ae.styles.forEach(wn=>{vn.forwardTime((wn.offset||0)*Vt),vn.setStyles(wn.styles,wn.easing,pe.errors,pe.options),vn.applyStylesToKeyframe()}),pe.currentTimeline.mergeTimelineCollectedStyles(vn),pe.transformIntoNewTimeline(yt+Vt),pe.previousNode=ae}visitQuery(ae,pe){const We=pe.currentTimeline.currentTime,yt=ae.options||{},Vt=yt.delay?ye(yt.delay):0;Vt&&(6===pe.previousNode.type||0==We&&pe.currentTimeline.hasCurrentStyleProperties())&&(pe.currentTimeline.snapshotCurrentStyles(),pe.previousNode=Cs);let dn=We;const vn=pe.invokeQuery(ae.selector,ae.originalSelector,ae.limit,ae.includeSelf,!!yt.optional,pe.errors);pe.currentQueryTotal=vn.length;let wn=null;vn.forEach((Hn,Yt)=>{pe.currentQueryIndex=Yt;const Re=pe.createSubContext(ae.options,Hn);Vt&&Re.delayNextStep(Vt),Hn===pe.element&&(wn=Re.currentTimeline),ho(this,ae.animation,Re),Re.currentTimeline.applyStylesToKeyframe(),dn=Math.max(dn,Re.currentTimeline.currentTime)}),pe.currentQueryIndex=0,pe.currentQueryTotal=0,pe.transformIntoNewTimeline(dn),wn&&(pe.currentTimeline.mergeTimelineCollectedStyles(wn),pe.currentTimeline.snapshotCurrentStyles()),pe.previousNode=ae}visitStagger(ae,pe){const We=pe.parentContext,yt=pe.currentTimeline,Vt=ae.timings,dn=Math.abs(Vt.duration),vn=dn*(pe.currentQueryTotal-1);let wn=dn*pe.currentQueryIndex;switch(Vt.duration<0?"reverse":Vt.easing){case"reverse":wn=vn-wn;break;case"full":wn=We.currentStaggerTime}const Yt=pe.currentTimeline;wn&&Yt.delayNextStep(wn);const Re=Yt.currentTime;ho(this,ae.animation,pe),pe.previousNode=ae,We.currentStaggerTime=yt.currentTime-Re+(yt.startTime-We.currentTimeline.startTime)}}const Cs={};class ms{constructor(ae,pe,We,yt,Vt,dn,vn,wn){this._driver=ae,this.element=pe,this.subInstructions=We,this._enterClassName=yt,this._leaveClassName=Vt,this.errors=dn,this.timelines=vn,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=wn||new ws(this._driver,pe,0),vn.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(ae,pe){if(!ae)return;const We=ae;let yt=this.options;null!=We.duration&&(yt.duration=ye(We.duration)),null!=We.delay&&(yt.delay=ye(We.delay));const Vt=We.params;if(Vt){let dn=yt.params;dn||(dn=this.options.params={}),Object.keys(Vt).forEach(vn=>{(!pe||!dn.hasOwnProperty(vn))&&(dn[vn]=Ko(Vt[vn],dn,this.errors))})}}_copyOptions(){const ae={};if(this.options){const pe=this.options.params;if(pe){const We=ae.params={};Object.keys(pe).forEach(yt=>{We[yt]=pe[yt]})}}return ae}createSubContext(ae=null,pe,We){const yt=pe||this.element,Vt=new ms(this._driver,yt,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(yt,We||0));return Vt.previousNode=this.previousNode,Vt.currentAnimateTimings=this.currentAnimateTimings,Vt.options=this._copyOptions(),Vt.updateOptions(ae),Vt.currentQueryIndex=this.currentQueryIndex,Vt.currentQueryTotal=this.currentQueryTotal,Vt.parentContext=this,this.subContextCount++,Vt}transformIntoNewTimeline(ae){return this.previousNode=Cs,this.currentTimeline=this.currentTimeline.fork(this.element,ae),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(ae,pe,We){const yt={duration:null!=pe?pe:ae.duration,delay:this.currentTimeline.currentTime+(null!=We?We:0)+ae.delay,easing:""},Vt=new br(this._driver,ae.element,ae.keyframes,ae.preStyleProps,ae.postStyleProps,yt,ae.stretchStartingKeyframe);return this.timelines.push(Vt),yt}incrementTime(ae){this.currentTimeline.forwardTime(this.currentTimeline.duration+ae)}delayNextStep(ae){ae>0&&this.currentTimeline.delayNextStep(ae)}invokeQuery(ae,pe,We,yt,Vt,dn){let vn=[];if(yt&&vn.push(this.element),ae.length>0){ae=(ae=ae.replace(Xs,"."+this._enterClassName)).replace(fo,"."+this._leaveClassName);let Hn=this._driver.query(this.element,ae,1!=We);0!==We&&(Hn=We<0?Hn.slice(Hn.length+We,Hn.length):Hn.slice(0,We)),vn.push(...Hn)}return!Vt&&0==vn.length&&dn.push(function xe(mt){return new a.vHH(3014,!1)}()),vn}}class ws{constructor(ae,pe,We,yt){this._driver=ae,this.element=pe,this.startTime=We,this._elementTimelineStylesLookup=yt,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(pe),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(pe,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(ae){const pe=1===this._keyframes.size&&this._pendingStyles.size;this.duration||pe?(this.forwardTime(this.currentTime+ae),pe&&this.snapshotCurrentStyles()):this.startTime+=ae}fork(ae,pe){return this.applyStylesToKeyframe(),new ws(this._driver,ae,pe||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(ae){this.applyStylesToKeyframe(),this.duration=ae,this._loadKeyframe()}_updateStyle(ae,pe){this._localTimelineStyles.set(ae,pe),this._globalTimelineStyles.set(ae,pe),this._styleSummary.set(ae,{time:this.currentTime,value:pe})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(ae){ae&&this._previousKeyframe.set("easing",ae);for(let[pe,We]of this._globalTimelineStyles)this._backFill.set(pe,We||V.l3),this._currentKeyframe.set(pe,V.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(ae,pe,We,yt){var Vt;pe&&this._previousKeyframe.set("easing",pe);const dn=yt&&yt.params||{},vn=function Mr(mt,ae){const pe=new Map;let We;return mt.forEach(yt=>{if("*"===yt){We=We||ae.keys();for(let Vt of We)pe.set(Vt,V.l3)}else qn(yt,pe)}),pe}(ae,this._globalTimelineStyles);for(let[wn,Hn]of vn){const Yt=Ko(Hn,dn,We);this._pendingStyles.set(wn,Yt),this._localTimelineStyles.has(wn)||this._backFill.set(wn,null!==(Vt=this._globalTimelineStyles.get(wn))&&void 0!==Vt?Vt:V.l3),this._updateStyle(wn,Yt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((ae,pe)=>{this._currentKeyframe.set(pe,ae)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((ae,pe)=>{this._currentKeyframe.has(pe)||this._currentKeyframe.set(pe,ae)}))}snapshotCurrentStyles(){for(let[ae,pe]of this._localTimelineStyles)this._pendingStyles.set(ae,pe),this._updateStyle(ae,pe)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const ae=[];for(let pe in this._currentKeyframe)ae.push(pe);return ae}mergeTimelineCollectedStyles(ae){ae._styleSummary.forEach((pe,We)=>{const yt=this._styleSummary.get(We);(!yt||pe.time>yt.time)&&this._updateStyle(We,pe.value)})}buildKeyframes(){this.applyStylesToKeyframe();const ae=new Set,pe=new Set,We=1===this._keyframes.size&&0===this.duration;let yt=[];this._keyframes.forEach((vn,wn)=>{const Hn=qn(vn,new Map,this._backFill);Hn.forEach((Yt,Re)=>{Yt===V.k1?ae.add(Re):Yt===V.l3&&pe.add(Re)}),We||Hn.set("offset",wn/this.duration),yt.push(Hn)});const Vt=ae.size?Go(ae.values()):[],dn=pe.size?Go(pe.values()):[];if(We){const vn=yt[0],wn=new Map(vn);vn.set("offset",0),wn.set("offset",1),yt=[vn,wn]}return Bi(this.element,yt,Vt,dn,this.duration,this.startTime,this.easing,!1)}}class br extends ws{constructor(ae,pe,We,yt,Vt,dn,vn=!1){super(ae,pe,dn.delay),this.keyframes=We,this.preStyleProps=yt,this.postStyleProps=Vt,this._stretchStartingKeyframe=vn,this.timings={duration:dn.duration,delay:dn.delay,easing:dn.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let ae=this.keyframes,{delay:pe,duration:We,easing:yt}=this.timings;if(this._stretchStartingKeyframe&&pe){const Vt=[],dn=We+pe,vn=pe/dn,wn=qn(ae[0]);wn.set("offset",0),Vt.push(wn);const Hn=qn(ae[0]);Hn.set("offset",Dr(vn)),Vt.push(Hn);const Yt=ae.length-1;for(let Re=1;Re<=Yt;Re++){let Ze=qn(ae[Re]);const ft=Ze.get("offset");Ze.set("offset",Dr((pe+ft*We)/dn)),Vt.push(Ze)}We=dn,pe=0,yt="",ae=Vt}return Bi(this.element,ae,this.preStyleProps,this.postStyleProps,We,pe,yt,!0)}}function Dr(mt,ae=3){const pe=Math.pow(10,ae-1);return Math.round(mt*pe)/pe}class vs{}const yr=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class St extends vs{normalizePropertyName(ae,pe){return Xi(ae)}normalizeStyleValue(ae,pe,We,yt){let Vt="";const dn=We.toString().trim();if(yr.has(pe)&&0!==We&&"0"!==We)if("number"==typeof We)Vt="px";else{const vn=We.match(/^[+-]?[\d\.]+([a-z]*)$/);vn&&0==vn[1].length&&yt.push(function he(mt,ae){return new a.vHH(3005,!1)}())}return dn+Vt}}function hn(mt,ae,pe,We,yt,Vt,dn,vn,wn,Hn,Yt,Re,Ze){return{type:0,element:mt,triggerName:ae,isRemovalTransition:yt,fromState:pe,fromStyles:Vt,toState:We,toStyles:dn,timelines:vn,queriedElements:wn,preStyleProps:Hn,postStyleProps:Yt,totalTime:Re,errors:Ze}}const se={};class Ge{constructor(ae,pe,We){this._triggerName=ae,this.ast=pe,this._stateStyles=We}match(ae,pe,We,yt){return function zt(mt,ae,pe,We,yt){return mt.some(Vt=>Vt(ae,pe,We,yt))}(this.ast.matchers,ae,pe,We,yt)}buildStyles(ae,pe,We){let yt=this._stateStyles.get("*");return void 0!==ae&&(yt=this._stateStyles.get(null==ae?void 0:ae.toString())||yt),yt?yt.buildStyles(pe,We):new Map}build(ae,pe,We,yt,Vt,dn,vn,wn,Hn,Yt){var Re;const Ze=[],ft=this.ast.options&&this.ast.options.params||se,ln=this.buildStyles(We,vn&&vn.params||se,Ze),Tn=wn&&wn.params||se,Mn=this.buildStyles(yt,Tn,Ze),Xn=new Set,ti=new Map,Ai=new Map,ji="void"===yt,Vo={params:Nn(Tn,ft),delay:null===(Re=this.ast.options)||void 0===Re?void 0:Re.delay},zo=Yt?[]:As(ae,pe,this.ast.animation,Vt,dn,ln,Mn,Vo,Hn,Ze);let mo=0;if(zo.forEach(Po=>{mo=Math.max(Po.duration+Po.delay,mo)}),Ze.length)return hn(pe,this._triggerName,We,yt,ji,ln,Mn,[],[],ti,Ai,mo,Ze);zo.forEach(Po=>{const dr=Po.element,Yr=me(ti,dr,new Set);Po.preStyleProps.forEach(Hs=>Yr.add(Hs));const Lr=me(Ai,dr,new Set);Po.postStyleProps.forEach(Hs=>Lr.add(Hs)),dr!==pe&&Xn.add(dr)});const Jo=Go(Xn.values());return hn(pe,this._triggerName,We,yt,ji,ln,Mn,zo,Jo,ti,Ai,mo)}}function Nn(mt,ae){const pe=Zt(ae);for(const We in mt)mt.hasOwnProperty(We)&&null!=mt[We]&&(pe[We]=mt[We]);return pe}class Wn{constructor(ae,pe,We){this.styles=ae,this.defaultParams=pe,this.normalizer=We}buildStyles(ae,pe){const We=new Map,yt=Zt(this.defaultParams);return Object.keys(ae).forEach(Vt=>{const dn=ae[Vt];null!==dn&&(yt[Vt]=dn)}),this.styles.styles.forEach(Vt=>{"string"!=typeof Vt&&Vt.forEach((dn,vn)=>{dn&&(dn=Ko(dn,yt,pe));const wn=this.normalizer.normalizePropertyName(vn,pe);dn=this.normalizer.normalizeStyleValue(vn,wn,dn,pe),We.set(wn,dn)})}),We}}class Wi{constructor(ae,pe,We){this.name=ae,this.ast=pe,this._normalizer=We,this.transitionFactories=[],this.states=new Map,pe.states.forEach(yt=>{this.states.set(yt.name,new Wn(yt.style,yt.options&&yt.options.params||{},We))}),go(this.states,"true","1"),go(this.states,"false","0"),pe.transitions.forEach(yt=>{this.transitionFactories.push(new Ge(ae,yt,this.states))}),this.fallbackTransition=function Zi(mt,ae,pe){return new Ge(mt,{type:1,animation:{type:2,steps:[],options:null},matchers:[(dn,vn)=>!0],options:null,queryCount:0,depCount:0},ae)}(ae,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(ae,pe,We,yt){return this.transitionFactories.find(dn=>dn.match(ae,pe,We,yt))||null}matchStyles(ae,pe,We){return this.fallbackTransition.buildStyles(ae,pe,We)}}function go(mt,ae,pe){mt.has(ae)?mt.has(pe)||mt.set(pe,mt.get(ae)):mt.has(pe)&&mt.set(ae,mt.get(pe))}const Li=new Ys;class Jr{constructor(ae,pe,We){this.bodyNode=ae,this._driver=pe,this._normalizer=We,this._animations=new Map,this._playersById=new Map,this.players=[]}register(ae,pe){const We=[],Vt=Ns(this._driver,pe,We,[]);if(We.length)throw function vt(mt){return new a.vHH(3503,!1)}();this._animations.set(ae,Vt)}_buildPlayer(ae,pe,We){const yt=ae.element,Vt=je(0,this._normalizer,0,ae.keyframes,pe,We);return this._driver.animate(yt,Vt,ae.duration,ae.delay,ae.easing,[],!0)}create(ae,pe,We={}){const yt=[],Vt=this._animations.get(ae);let dn;const vn=new Map;if(Vt?(dn=As(this._driver,pe,Vt,vi,Ni,new Map,new Map,We,Li,yt),dn.forEach(Yt=>{const Re=me(vn,Yt.element,new Map);Yt.postStyleProps.forEach(Ze=>Re.set(Ze,null))})):(yt.push(function Gt(){return new a.vHH(3300,!1)}()),dn=[]),yt.length)throw function Ht(mt){return new a.vHH(3504,!1)}();vn.forEach((Yt,Re)=>{Yt.forEach((Ze,ft)=>{Yt.set(ft,this._driver.computeStyle(Re,ft,V.l3))})});const Hn=st(dn.map(Yt=>{const Re=vn.get(Yt.element);return this._buildPlayer(Yt,new Map,Re)}));return this._playersById.set(ae,Hn),Hn.onDestroy(()=>this.destroy(ae)),this.players.push(Hn),Hn}destroy(ae){const pe=this._getPlayer(ae);pe.destroy(),this._playersById.delete(ae);const We=this.players.indexOf(pe);We>=0&&this.players.splice(We,1)}_getPlayer(ae){const pe=this._playersById.get(ae);if(!pe)throw function Ut(mt){return new a.vHH(3301,!1)}();return pe}listen(ae,pe,We,yt){const Vt=Ne(pe,"","","");return It(this._getPlayer(ae),We,Vt,yt),()=>{}}command(ae,pe,We,yt){if("register"==We)return void this.register(ae,yt[0]);if("create"==We)return void this.create(ae,pe,yt[0]||{});const Vt=this._getPlayer(ae);switch(We){case"play":Vt.play();break;case"pause":Vt.pause();break;case"reset":Vt.reset();break;case"restart":Vt.restart();break;case"finish":Vt.finish();break;case"init":Vt.init();break;case"setPosition":Vt.setPosition(parseFloat(yt[0]));break;case"destroy":this.destroy(ae)}}}const Fo="ng-animate-queued",Io="ng-animate-disabled",$o=[],Wo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},or={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ho="__ng_removed";class wo{constructor(ae,pe=""){this.namespaceId=pe;const We=ae&&ae.hasOwnProperty("value");if(this.value=function Gr(mt){return null!=mt?mt:null}(We?ae.value:ae),We){const Vt=Zt(ae);delete Vt.value,this.options=Vt}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(ae){const pe=ae.params;if(pe){const We=this.options.params;Object.keys(pe).forEach(yt=>{null==We[yt]&&(We[yt]=pe[yt])})}}}const Ri="void",sr=new wo(Ri);class ma{constructor(ae,pe,We){this.id=ae,this.hostElement=pe,this._engine=We,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+ae,fs(pe,this._hostClassName)}listen(ae,pe,We,yt){if(!this._triggers.has(pe))throw function ct(mt,ae){return new a.vHH(3302,!1)}();if(null==We||0==We.length)throw function at(mt){return new a.vHH(3303,!1)}();if(!function ta(mt){return"start"==mt||"done"==mt}(We))throw function fe(mt,ae){return new a.vHH(3400,!1)}();const Vt=me(this._elementListeners,ae,[]),dn={name:pe,phase:We,callback:yt};Vt.push(dn);const vn=me(this._engine.statesByElement,ae,new Map);return vn.has(pe)||(fs(ae,oo),fs(ae,oo+"-"+pe),vn.set(pe,sr)),()=>{this._engine.afterFlush(()=>{const wn=Vt.indexOf(dn);wn>=0&&Vt.splice(wn,1),this._triggers.has(pe)||vn.delete(pe)})}}register(ae,pe){return!this._triggers.has(ae)&&(this._triggers.set(ae,pe),!0)}_getTrigger(ae){const pe=this._triggers.get(ae);if(!pe)throw function ke(mt){return new a.vHH(3401,!1)}();return pe}trigger(ae,pe,We,yt=!0){const Vt=this._getTrigger(pe),dn=new Mi(this.id,pe,ae);let vn=this._engine.statesByElement.get(ae);vn||(fs(ae,oo),fs(ae,oo+"-"+pe),this._engine.statesByElement.set(ae,vn=new Map));let wn=vn.get(pe);const Hn=new wo(We,this.id);if(!(We&&We.hasOwnProperty("value"))&&wn&&Hn.absorbOptions(wn.options),vn.set(pe,Hn),wn||(wn=sr),Hn.value!==Ri&&wn.value===Hn.value){if(!function Ee(mt,ae){const pe=Object.keys(mt),We=Object.keys(ae);if(pe.length!=We.length)return!1;for(let yt=0;yt<pe.length;yt++){const Vt=pe[yt];if(!ae.hasOwnProperty(Vt)||mt[Vt]!==ae[Vt])return!1}return!0}(wn.params,Hn.params)){const ln=[],Tn=Vt.matchStyles(wn.value,wn.params,ln),Mn=Vt.matchStyles(Hn.value,Hn.params,ln);ln.length?this._engine.reportError(ln):this._engine.afterFlush(()=>{ki(ae,Tn),oi(ae,Mn)})}return}const Ze=me(this._engine.playersByElement,ae,[]);Ze.forEach(ln=>{ln.namespaceId==this.id&&ln.triggerName==pe&&ln.queued&&ln.destroy()});let ft=Vt.matchTransition(wn.value,Hn.value,ae,Hn.params),Lt=!1;if(!ft){if(!yt)return;ft=Vt.fallbackTransition,Lt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:ae,triggerName:pe,transition:ft,fromState:wn,toState:Hn,player:dn,isFallbackTransition:Lt}),Lt||(fs(ae,Fo),dn.onStart(()=>{Zs(ae,Fo)})),dn.onDone(()=>{let ln=this.players.indexOf(dn);ln>=0&&this.players.splice(ln,1);const Tn=this._engine.playersByElement.get(ae);if(Tn){let Mn=Tn.indexOf(dn);Mn>=0&&Tn.splice(Mn,1)}}),this.players.push(dn),Ze.push(dn),dn}deregister(ae){this._triggers.delete(ae),this._engine.statesByElement.forEach(pe=>pe.delete(ae)),this._elementListeners.forEach((pe,We)=>{this._elementListeners.set(We,pe.filter(yt=>yt.name!=ae))})}clearElementCache(ae){this._engine.statesByElement.delete(ae),this._elementListeners.delete(ae);const pe=this._engine.playersByElement.get(ae);pe&&(pe.forEach(We=>We.destroy()),this._engine.playersByElement.delete(ae))}_signalRemovalForInnerTriggers(ae,pe){const We=this._engine.driver.query(ae,Uo,!0);We.forEach(yt=>{if(yt[Ho])return;const Vt=this._engine.fetchNamespacesByElement(yt);Vt.size?Vt.forEach(dn=>dn.triggerLeaveAnimation(yt,pe,!1,!0)):this.clearElementCache(yt)}),this._engine.afterFlushAnimationsDone(()=>We.forEach(yt=>this.clearElementCache(yt)))}triggerLeaveAnimation(ae,pe,We,yt){const Vt=this._engine.statesByElement.get(ae),dn=new Map;if(Vt){const vn=[];if(Vt.forEach((wn,Hn)=>{if(dn.set(Hn,wn.value),this._triggers.has(Hn)){const Yt=this.trigger(ae,Hn,Ri,yt);Yt&&vn.push(Yt)}}),vn.length)return this._engine.markElementAsRemoved(this.id,ae,!0,pe,dn),We&&st(vn).onDone(()=>this._engine.processLeaveNode(ae)),!0}return!1}prepareLeaveAnimationListeners(ae){const pe=this._elementListeners.get(ae),We=this._engine.statesByElement.get(ae);if(pe&&We){const yt=new Set;pe.forEach(Vt=>{const dn=Vt.name;if(yt.has(dn))return;yt.add(dn);const wn=this._triggers.get(dn).fallbackTransition,Hn=We.get(dn)||sr,Yt=new wo(Ri),Re=new Mi(this.id,dn,ae);this._engine.totalQueuedPlayers++,this._queue.push({element:ae,triggerName:dn,transition:wn,fromState:Hn,toState:Yt,player:Re,isFallbackTransition:!0})})}}removeNode(ae,pe){const We=this._engine;if(ae.childElementCount&&this._signalRemovalForInnerTriggers(ae,pe),this.triggerLeaveAnimation(ae,pe,!0))return;let yt=!1;if(We.totalAnimations){const Vt=We.players.length?We.playersByQueriedElement.get(ae):[];if(Vt&&Vt.length)yt=!0;else{let dn=ae;for(;dn=dn.parentNode;)if(We.statesByElement.get(dn)){yt=!0;break}}}if(this.prepareLeaveAnimationListeners(ae),yt)We.markElementAsRemoved(this.id,ae,!1,pe);else{const Vt=ae[Ho];(!Vt||Vt===Wo)&&(We.afterFlush(()=>this.clearElementCache(ae)),We.destroyInnerAnimations(ae),We._onRemovalComplete(ae,pe))}}insertNode(ae,pe){fs(ae,this._hostClassName)}drainQueuedTransitions(ae){const pe=[];return this._queue.forEach(We=>{const yt=We.player;if(yt.destroyed)return;const Vt=We.element,dn=this._elementListeners.get(Vt);dn&&dn.forEach(vn=>{if(vn.name==We.triggerName){const wn=Ne(Vt,We.triggerName,We.fromState.value,We.toState.value);wn._data=ae,It(We.player,vn.phase,wn,vn.callback)}}),yt.markedForDestroy?this._engine.afterFlush(()=>{yt.destroy()}):pe.push(We)}),this._queue=[],pe.sort((We,yt)=>{const Vt=We.transition.ast.depCount,dn=yt.transition.ast.depCount;return 0==Vt||0==dn?Vt-dn:this._engine.driver.containsElement(We.element,yt.element)?1:-1})}destroy(ae){this.players.forEach(pe=>pe.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,ae)}elementContainsData(ae){let pe=!1;return this._elementListeners.has(ae)&&(pe=!0),pe=!!this._queue.find(We=>We.element===ae)||pe,pe}}class Qn{constructor(ae,pe,We){this.bodyNode=ae,this.driver=pe,this._normalizer=We,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(yt,Vt)=>{}}_onRemovalComplete(ae,pe){this.onRemovalComplete(ae,pe)}get queuedPlayers(){const ae=[];return this._namespaceList.forEach(pe=>{pe.players.forEach(We=>{We.queued&&ae.push(We)})}),ae}createNamespace(ae,pe){const We=new ma(ae,pe,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,pe)?this._balanceNamespaceList(We,pe):(this.newHostElements.set(pe,We),this.collectEnterElement(pe)),this._namespaceLookup[ae]=We}_balanceNamespaceList(ae,pe){const We=this._namespaceList,yt=this.namespacesByHostElement;if(We.length-1>=0){let dn=!1,vn=this.driver.getParentElement(pe);for(;vn;){const wn=yt.get(vn);if(wn){const Hn=We.indexOf(wn);We.splice(Hn+1,0,ae),dn=!0;break}vn=this.driver.getParentElement(vn)}dn||We.unshift(ae)}else We.push(ae);return yt.set(pe,ae),ae}register(ae,pe){let We=this._namespaceLookup[ae];return We||(We=this.createNamespace(ae,pe)),We}registerTrigger(ae,pe,We){let yt=this._namespaceLookup[ae];yt&&yt.register(pe,We)&&this.totalAnimations++}destroy(ae,pe){if(!ae)return;const We=this._fetchNamespace(ae);this.afterFlush(()=>{this.namespacesByHostElement.delete(We.hostElement),delete this._namespaceLookup[ae];const yt=this._namespaceList.indexOf(We);yt>=0&&this._namespaceList.splice(yt,1)}),this.afterFlushAnimationsDone(()=>We.destroy(pe))}_fetchNamespace(ae){return this._namespaceLookup[ae]}fetchNamespacesByElement(ae){const pe=new Set,We=this.statesByElement.get(ae);if(We)for(let yt of We.values())if(yt.namespaceId){const Vt=this._fetchNamespace(yt.namespaceId);Vt&&pe.add(Vt)}return pe}trigger(ae,pe,We,yt){if(eo(pe)){const Vt=this._fetchNamespace(ae);if(Vt)return Vt.trigger(pe,We,yt),!0}return!1}insertNode(ae,pe,We,yt){if(!eo(pe))return;const Vt=pe[Ho];if(Vt&&Vt.setForRemoval){Vt.setForRemoval=!1,Vt.setForMove=!0;const dn=this.collectedLeaveElements.indexOf(pe);dn>=0&&this.collectedLeaveElements.splice(dn,1)}if(ae){const dn=this._fetchNamespace(ae);dn&&dn.insertNode(pe,We)}yt&&this.collectEnterElement(pe)}collectEnterElement(ae){this.collectedEnterElements.push(ae)}markElementAsDisabled(ae,pe){pe?this.disabledNodes.has(ae)||(this.disabledNodes.add(ae),fs(ae,Io)):this.disabledNodes.has(ae)&&(this.disabledNodes.delete(ae),Zs(ae,Io))}removeNode(ae,pe,We,yt){if(eo(pe)){const Vt=ae?this._fetchNamespace(ae):null;if(Vt?Vt.removeNode(pe,yt):this.markElementAsRemoved(ae,pe,!1,yt),We){const dn=this.namespacesByHostElement.get(pe);dn&&dn.id!==ae&&dn.removeNode(pe,yt)}}else this._onRemovalComplete(pe,yt)}markElementAsRemoved(ae,pe,We,yt,Vt){this.collectedLeaveElements.push(pe),pe[Ho]={namespaceId:ae,setForRemoval:yt,hasAnimation:We,removedBeforeQueried:!1,previousTriggersValues:Vt}}listen(ae,pe,We,yt,Vt){return eo(pe)?this._fetchNamespace(ae).listen(pe,We,yt,Vt):()=>{}}_buildInstruction(ae,pe,We,yt,Vt){return ae.transition.build(this.driver,ae.element,ae.fromState.value,ae.toState.value,We,yt,ae.fromState.options,ae.toState.options,pe,Vt)}destroyInnerAnimations(ae){let pe=this.driver.query(ae,Uo,!0);pe.forEach(We=>this.destroyActiveAnimationsForElement(We)),0!=this.playersByQueriedElement.size&&(pe=this.driver.query(ae,Ve,!0),pe.forEach(We=>this.finishActiveQueriedAnimationOnElement(We)))}destroyActiveAnimationsForElement(ae){const pe=this.playersByElement.get(ae);pe&&pe.forEach(We=>{We.queued?We.markedForDestroy=!0:We.destroy()})}finishActiveQueriedAnimationOnElement(ae){const pe=this.playersByQueriedElement.get(ae);pe&&pe.forEach(We=>We.finish())}whenRenderingDone(){return new Promise(ae=>{if(this.players.length)return st(this.players).onDone(()=>ae());ae()})}processLeaveNode(ae){var pe;const We=ae[Ho];if(We&&We.setForRemoval){if(ae[Ho]=Wo,We.namespaceId){this.destroyInnerAnimations(ae);const yt=this._fetchNamespace(We.namespaceId);yt&&yt.clearElementCache(ae)}this._onRemovalComplete(ae,We.setForRemoval)}!(null===(pe=ae.classList)||void 0===pe)&&pe.contains(Io)&&this.markElementAsDisabled(ae,!1),this.driver.query(ae,".ng-animate-disabled",!0).forEach(yt=>{this.markElementAsDisabled(yt,!1)})}flush(ae=-1){let pe=[];if(this.newHostElements.size&&(this.newHostElements.forEach((We,yt)=>this._balanceNamespaceList(We,yt)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let We=0;We<this.collectedEnterElements.length;We++)fs(this.collectedEnterElements[We],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const We=[];try{pe=this._flushAnimations(We,ae)}finally{for(let yt=0;yt<We.length;yt++)We[yt]()}}else for(let We=0;We<this.collectedLeaveElements.length;We++)this.processLeaveNode(this.collectedLeaveElements[We]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(We=>We()),this._flushFns=[],this._whenQuietFns.length){const We=this._whenQuietFns;this._whenQuietFns=[],pe.length?st(pe).onDone(()=>{We.forEach(yt=>yt())}):We.forEach(yt=>yt())}}reportError(ae){throw function ot(mt){return new a.vHH(3402,!1)}()}_flushAnimations(ae,pe){const We=new Ys,yt=[],Vt=new Map,dn=[],vn=new Map,wn=new Map,Hn=new Map,Yt=new Set;this.disabledNodes.forEach(xi=>{Yt.add(xi);const wi=this.driver.query(xi,".ng-animate-queued",!0);for(let Oi=0;Oi<wi.length;Oi++)Yt.add(wi[Oi])});const Re=this.bodyNode,Ze=Array.from(this.statesByElement.keys()),ft=ca(Ze,this.collectedEnterElements),Lt=new Map;let ln=0;ft.forEach((xi,wi)=>{const Oi=vi+ln++;Lt.set(wi,Oi),xi.forEach(no=>fs(no,Oi))});const Tn=[],Mn=new Set,Xn=new Set;for(let xi=0;xi<this.collectedLeaveElements.length;xi++){const wi=this.collectedLeaveElements[xi],Oi=wi[Ho];Oi&&Oi.setForRemoval&&(Tn.push(wi),Mn.add(wi),Oi.hasAnimation?this.driver.query(wi,".ng-star-inserted",!0).forEach(no=>Mn.add(no)):Xn.add(wi))}const ti=new Map,Ai=ca(Ze,Array.from(Mn));Ai.forEach((xi,wi)=>{const Oi=Ni+ln++;ti.set(wi,Oi),xi.forEach(no=>fs(no,Oi))}),ae.push(()=>{ft.forEach((xi,wi)=>{const Oi=Lt.get(wi);xi.forEach(no=>Zs(no,Oi))}),Ai.forEach((xi,wi)=>{const Oi=ti.get(wi);xi.forEach(no=>Zs(no,Oi))}),Tn.forEach(xi=>{this.processLeaveNode(xi)})});const ji=[],Vo=[];for(let xi=this._namespaceList.length-1;xi>=0;xi--)this._namespaceList[xi].drainQueuedTransitions(pe).forEach(Oi=>{const no=Oi.player,Qo=Oi.element;if(ji.push(no),this.collectedEnterElements.length){const Ro=Qo[Ho];if(Ro&&Ro.setForMove){if(Ro.previousTriggersValues&&Ro.previousTriggersValues.has(Oi.triggerName)){const Rr=Ro.previousTriggersValues.get(Oi.triggerName),Vs=this.statesByElement.get(Oi.element);if(Vs&&Vs.has(Oi.triggerName)){const _a=Vs.get(Oi.triggerName);_a.value=Rr,Vs.set(Oi.triggerName,_a)}}return void no.destroy()}}const Lo=!Re||!this.driver.containsElement(Re,Qo),ks=ti.get(Qo),pr=Lt.get(Qo),To=this._buildInstruction(Oi,We,pr,ks,Lo);if(To.errors&&To.errors.length)return void Vo.push(To);if(Lo)return no.onStart(()=>ki(Qo,To.fromStyles)),no.onDestroy(()=>oi(Qo,To.toStyles)),void yt.push(no);if(Oi.isFallbackTransition)return no.onStart(()=>ki(Qo,To.fromStyles)),no.onDestroy(()=>oi(Qo,To.toStyles)),void yt.push(no);const jr=[];To.timelines.forEach(Ro=>{Ro.stretchStartingKeyframe=!0,this.disabledNodes.has(Ro.element)||jr.push(Ro)}),To.timelines=jr,We.append(Qo,To.timelines),dn.push({instruction:To,player:no,element:Qo}),To.queriedElements.forEach(Ro=>me(vn,Ro,[]).push(no)),To.preStyleProps.forEach((Ro,Rr)=>{if(Ro.size){let Vs=wn.get(Rr);Vs||wn.set(Rr,Vs=new Set),Ro.forEach((_a,ka)=>Vs.add(ka))}}),To.postStyleProps.forEach((Ro,Rr)=>{let Vs=Hn.get(Rr);Vs||Hn.set(Rr,Vs=new Set),Ro.forEach((_a,ka)=>Vs.add(ka))})});if(Vo.length){const xi=[];Vo.forEach(wi=>{xi.push(function Ot(mt,ae){return new a.vHH(3505,!1)}())}),ji.forEach(wi=>wi.destroy()),this.reportError(xi)}const zo=new Map,mo=new Map;dn.forEach(xi=>{const wi=xi.element;We.has(wi)&&(mo.set(wi,wi),this._beforeAnimationBuild(xi.player.namespaceId,xi.instruction,zo))}),yt.forEach(xi=>{const wi=xi.element;this._getPreviousPlayers(wi,!1,xi.namespaceId,xi.triggerName,null).forEach(no=>{me(zo,wi,[]).push(no),no.destroy()})});const Jo=Tn.filter(xi=>kt(xi,wn,Hn)),Po=new Map;Ss(Po,this.driver,Xn,Hn,V.l3).forEach(xi=>{kt(xi,wn,Hn)&&Jo.push(xi)});const Yr=new Map;ft.forEach((xi,wi)=>{Ss(Yr,this.driver,new Set(xi),wn,V.k1)}),Jo.forEach(xi=>{var wi,Oi;const no=Po.get(xi),Qo=Yr.get(xi);Po.set(xi,new Map([...Array.from(null!==(wi=null==no?void 0:no.entries())&&void 0!==wi?wi:[]),...Array.from(null!==(Oi=null==Qo?void 0:Qo.entries())&&void 0!==Oi?Oi:[])]))});const Lr=[],Hs=[],Sa={};dn.forEach(xi=>{const{element:wi,player:Oi,instruction:no}=xi;if(We.has(wi)){if(Yt.has(wi))return Oi.onDestroy(()=>oi(wi,no.toStyles)),Oi.disabled=!0,Oi.overrideTotalTime(no.totalTime),void yt.push(Oi);let Qo=Sa;if(mo.size>1){let ks=wi;const pr=[];for(;ks=ks.parentNode;){const To=mo.get(ks);if(To){Qo=To;break}pr.push(ks)}pr.forEach(To=>mo.set(To,Qo))}const Lo=this._buildAnimation(Oi.namespaceId,no,zo,Vt,Yr,Po);if(Oi.setRealPlayer(Lo),Qo===Sa)Lr.push(Oi);else{const ks=this.playersByElement.get(Qo);ks&&ks.length&&(Oi.parentPlayer=st(ks)),yt.push(Oi)}}else ki(wi,no.fromStyles),Oi.onDestroy(()=>oi(wi,no.toStyles)),Hs.push(Oi),Yt.has(wi)&&yt.push(Oi)}),Hs.forEach(xi=>{const wi=Vt.get(xi.element);if(wi&&wi.length){const Oi=st(wi);xi.setRealPlayer(Oi)}}),yt.forEach(xi=>{xi.parentPlayer?xi.syncPlayerEvents(xi.parentPlayer):xi.destroy()});for(let xi=0;xi<Tn.length;xi++){const wi=Tn[xi],Oi=wi[Ho];if(Zs(wi,Ni),Oi&&Oi.hasAnimation)continue;let no=[];if(vn.size){let Lo=vn.get(wi);Lo&&Lo.length&&no.push(...Lo);let ks=this.driver.query(wi,Ve,!0);for(let pr=0;pr<ks.length;pr++){let To=vn.get(ks[pr]);To&&To.length&&no.push(...To)}}const Qo=no.filter(Lo=>!Lo.destroyed);Qo.length?Wr(this,wi,Qo):this.processLeaveNode(wi)}return Tn.length=0,Lr.forEach(xi=>{this.players.push(xi),xi.onDone(()=>{xi.destroy();const wi=this.players.indexOf(xi);this.players.splice(wi,1)}),xi.play()}),Lr}elementContainsData(ae,pe){let We=!1;const yt=pe[Ho];return yt&&yt.setForRemoval&&(We=!0),this.playersByElement.has(pe)&&(We=!0),this.playersByQueriedElement.has(pe)&&(We=!0),this.statesByElement.has(pe)&&(We=!0),this._fetchNamespace(ae).elementContainsData(pe)||We}afterFlush(ae){this._flushFns.push(ae)}afterFlushAnimationsDone(ae){this._whenQuietFns.push(ae)}_getPreviousPlayers(ae,pe,We,yt,Vt){let dn=[];if(pe){const vn=this.playersByQueriedElement.get(ae);vn&&(dn=vn)}else{const vn=this.playersByElement.get(ae);if(vn){const wn=!Vt||Vt==Ri;vn.forEach(Hn=>{Hn.queued||!wn&&Hn.triggerName!=yt||dn.push(Hn)})}}return(We||yt)&&(dn=dn.filter(vn=>!(We&&We!=vn.namespaceId||yt&&yt!=vn.triggerName))),dn}_beforeAnimationBuild(ae,pe,We){const Vt=pe.element,dn=pe.isRemovalTransition?void 0:ae,vn=pe.isRemovalTransition?void 0:pe.triggerName;for(const wn of pe.timelines){const Hn=wn.element,Yt=Hn!==Vt,Re=me(We,Hn,[]);this._getPreviousPlayers(Hn,Yt,dn,vn,pe.toState).forEach(ft=>{const Lt=ft.getRealPlayer();Lt.beforeDestroy&&Lt.beforeDestroy(),ft.destroy(),Re.push(ft)})}ki(Vt,pe.fromStyles)}_buildAnimation(ae,pe,We,yt,Vt,dn){const vn=pe.triggerName,wn=pe.element,Hn=[],Yt=new Set,Re=new Set,Ze=pe.timelines.map(Lt=>{const ln=Lt.element;Yt.add(ln);const Tn=ln[Ho];if(Tn&&Tn.removedBeforeQueried)return new V.ZN(Lt.duration,Lt.delay);const Mn=ln!==wn,Xn=function nt(mt){const ae=[];return Be(mt,ae),ae}((We.get(ln)||$o).map(zo=>zo.getRealPlayer())).filter(zo=>!!zo.element&&zo.element===ln),ti=Vt.get(ln),Ai=dn.get(ln),ji=je(0,this._normalizer,0,Lt.keyframes,ti,Ai),Vo=this._buildPlayer(Lt,ji,Xn);if(Lt.subTimeline&&yt&&Re.add(ln),Mn){const zo=new Mi(ae,vn,ln);zo.setRealPlayer(Vo),Hn.push(zo)}return Vo});Hn.forEach(Lt=>{me(this.playersByQueriedElement,Lt.element,[]).push(Lt),Lt.onDone(()=>function rr(mt,ae,pe){let We=mt.get(ae);if(We){if(We.length){const yt=We.indexOf(pe);We.splice(yt,1)}0==We.length&&mt.delete(ae)}return We}(this.playersByQueriedElement,Lt.element,Lt))}),Yt.forEach(Lt=>fs(Lt,Bt));const ft=st(Ze);return ft.onDestroy(()=>{Yt.forEach(Lt=>Zs(Lt,Bt)),oi(wn,pe.toStyles)}),Re.forEach(Lt=>{me(yt,Lt,[]).push(ft)}),ft}_buildPlayer(ae,pe,We){return pe.length>0?this.driver.animate(ae.element,pe,ae.duration,ae.delay,ae.easing,We):new V.ZN(ae.duration,ae.delay)}}class Mi{constructor(ae,pe,We){this.namespaceId=ae,this.triggerName=pe,this.element=We,this._player=new V.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(ae){this._containsRealPlayer||(this._player=ae,this._queuedCallbacks.forEach((pe,We)=>{pe.forEach(yt=>It(ae,We,void 0,yt))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(ae.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(ae){this.totalTime=ae}syncPlayerEvents(ae){const pe=this._player;pe.triggerCallback&&ae.onStart(()=>pe.triggerCallback("start")),ae.onDone(()=>this.finish()),ae.onDestroy(()=>this.destroy())}_queueEvent(ae,pe){me(this._queuedCallbacks,ae,[]).push(pe)}onDone(ae){this.queued&&this._queueEvent("done",ae),this._player.onDone(ae)}onStart(ae){this.queued&&this._queueEvent("start",ae),this._player.onStart(ae)}onDestroy(ae){this.queued&&this._queueEvent("destroy",ae),this._player.onDestroy(ae)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(ae){this.queued||this._player.setPosition(ae)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(ae){const pe=this._player;pe.triggerCallback&&pe.triggerCallback(ae)}}function eo(mt){return mt&&1===mt.nodeType}function ar(mt,ae){const pe=mt.style.display;return mt.style.display=null!=ae?ae:"none",pe}function Ss(mt,ae,pe,We,yt){const Vt=[];pe.forEach(wn=>Vt.push(ar(wn)));const dn=[];We.forEach((wn,Hn)=>{const Yt=new Map;wn.forEach(Re=>{const Ze=ae.computeStyle(Hn,Re,yt);Yt.set(Re,Ze),(!Ze||0==Ze.length)&&(Hn[Ho]=or,dn.push(Hn))}),mt.set(Hn,Yt)});let vn=0;return pe.forEach(wn=>ar(wn,Vt[vn++])),dn}function ca(mt,ae){const pe=new Map;if(mt.forEach(vn=>pe.set(vn,[])),0==ae.length)return pe;const yt=new Set(ae),Vt=new Map;function dn(vn){if(!vn)return 1;let wn=Vt.get(vn);if(wn)return wn;const Hn=vn.parentNode;return wn=pe.has(Hn)?Hn:yt.has(Hn)?1:dn(Hn),Vt.set(vn,wn),wn}return ae.forEach(vn=>{const wn=dn(vn);1!==wn&&pe.get(wn).push(vn)}),pe}function fs(mt,ae){var pe;null===(pe=mt.classList)||void 0===pe||pe.add(ae)}function Zs(mt,ae){var pe;null===(pe=mt.classList)||void 0===pe||pe.remove(ae)}function Wr(mt,ae,pe){st(pe).onDone(()=>mt.processLeaveNode(ae))}function Be(mt,ae){for(let pe=0;pe<mt.length;pe++){const We=mt[pe];We instanceof V.ZE?Be(We.players,ae):ae.push(We)}}function kt(mt,ae,pe){const We=pe.get(mt);if(!We)return!1;let yt=ae.get(mt);return yt?We.forEach(Vt=>yt.add(Vt)):ae.set(mt,We),pe.delete(mt),!0}class On{constructor(ae,pe,We){this.bodyNode=ae,this._driver=pe,this._normalizer=We,this._triggerCache={},this.onRemovalComplete=(yt,Vt)=>{},this._transitionEngine=new Qn(ae,pe,We),this._timelineEngine=new Jr(ae,pe,We),this._transitionEngine.onRemovalComplete=(yt,Vt)=>this.onRemovalComplete(yt,Vt)}registerTrigger(ae,pe,We,yt,Vt){const dn=ae+"-"+yt;let vn=this._triggerCache[dn];if(!vn){const wn=[],Yt=Ns(this._driver,Vt,wn,[]);if(wn.length)throw function it(mt,ae){return new a.vHH(3404,!1)}();vn=function si(mt,ae,pe){return new Wi(mt,ae,pe)}(yt,Yt,this._normalizer),this._triggerCache[dn]=vn}this._transitionEngine.registerTrigger(pe,yt,vn)}register(ae,pe){this._transitionEngine.register(ae,pe)}destroy(ae,pe){this._transitionEngine.destroy(ae,pe)}onInsert(ae,pe,We,yt){this._transitionEngine.insertNode(ae,pe,We,yt)}onRemove(ae,pe,We,yt){this._transitionEngine.removeNode(ae,pe,yt||!1,We)}disableAnimations(ae,pe){this._transitionEngine.markElementAsDisabled(ae,pe)}process(ae,pe,We,yt){if("@"==We.charAt(0)){const[Vt,dn]=gt(We);this._timelineEngine.command(Vt,pe,dn,yt)}else this._transitionEngine.trigger(ae,pe,We,yt)}listen(ae,pe,We,yt,Vt){if("@"==We.charAt(0)){const[dn,vn]=gt(We);return this._timelineEngine.listen(dn,pe,vn,Vt)}return this._transitionEngine.listen(ae,pe,We,yt,Vt)}flush(ae=-1){this._transitionEngine.flush(ae)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Qi=(()=>{class mt{constructor(pe,We,yt){this._element=pe,this._startStyles=We,this._endStyles=yt,this._state=0;let Vt=mt.initialStylesByElement.get(pe);Vt||mt.initialStylesByElement.set(pe,Vt=new Map),this._initialStyles=Vt}start(){this._state<1&&(this._startStyles&&oi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(oi(this._element,this._initialStyles),this._endStyles&&(oi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(mt.initialStylesByElement.delete(this._element),this._startStyles&&(ki(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ki(this._element,this._endStyles),this._endStyles=null),oi(this._element,this._initialStyles),this._state=3)}}return mt.initialStylesByElement=new WeakMap,mt})();function yo(mt){let ae=null;return mt.forEach((pe,We)=>{(function Oo(mt){return"display"===mt||"position"===mt})(We)&&(ae=ae||new Map,ae.set(We,pe))}),ae}class cs{constructor(ae,pe,We,yt){this.element=ae,this.keyframes=pe,this.options=We,this._specialStyles=yt,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=We.duration,this._delay=We.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ae=>ae()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const ae=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,ae,this.options),this._finalKeyframe=ae.length?ae[ae.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(ae){const pe=[];return ae.forEach(We=>{pe.push(Object.fromEntries(We))}),pe}_triggerWebAnimation(ae,pe,We){return ae.animate(this._convertKeyframesToObject(pe),We)}onStart(ae){this._originalOnStartFns.push(ae),this._onStartFns.push(ae)}onDone(ae){this._originalOnDoneFns.push(ae),this._onDoneFns.push(ae)}onDestroy(ae){this._onDestroyFns.push(ae)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(ae=>ae()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(ae=>ae()),this._onDestroyFns=[])}setPosition(ae){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=ae*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const ae=new Map;this.hasStarted()&&this._finalKeyframe.forEach((We,yt)=>{"offset"!==yt&&ae.set(yt,this._finished?We:so(this.element,yt))}),this.currentSnapshot=ae}triggerCallback(ae){const pe="start"===ae?this._onStartFns:this._onDoneFns;pe.forEach(We=>We()),pe.length=0}}class js{validateStyleProperty(ae){return!0}validateAnimatableStyleProperty(ae){return!0}matchesElement(ae,pe){return!1}containsElement(ae,pe){return fn(ae,pe)}getParentElement(ae){return _t(ae)}query(ae,pe,We){return Jt(ae,pe,We)}computeStyle(ae,pe,We){return window.getComputedStyle(ae)[pe]}animate(ae,pe,We,yt,Vt,dn=[]){const wn={duration:We,delay:yt,fill:0==yt?"both":"forwards"};Vt&&(wn.easing=Vt);const Hn=new Map,Yt=dn.filter(ft=>ft instanceof cs);(function as(mt,ae){return 0===mt||0===ae})(We,yt)&&Yt.forEach(ft=>{ft.currentSnapshot.forEach((Lt,ln)=>Hn.set(ln,Lt))});let Re=function pn(mt){return mt.length?mt[0]instanceof Map?mt:mt.map(ae=>an(ae)):[]}(pe).map(ft=>qn(ft));Re=function os(mt,ae,pe){if(pe.size&&ae.length){let We=ae[0],yt=[];if(pe.forEach((Vt,dn)=>{We.has(dn)||yt.push(dn),We.set(dn,Vt)}),yt.length)for(let Vt=1;Vt<ae.length;Vt++){let dn=ae[Vt];yt.forEach(vn=>dn.set(vn,so(mt,vn)))}}return ae}(ae,Re,Hn);const Ze=function mi(mt,ae){let pe=null,We=null;return Array.isArray(ae)&&ae.length?(pe=yo(ae[0]),ae.length>1&&(We=yo(ae[ae.length-1]))):ae instanceof Map&&(pe=yo(ae)),pe||We?new Qi(mt,pe,We):null}(ae,Re);return new cs(ae,Re,wn,Ze)}}let lr=(()=>{class mt extends V._j{constructor(pe,We){super(),this._nextAnimationId=0,this._renderer=pe.createRenderer(We.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(pe){const We=this._nextAnimationId.toString();this._nextAnimationId++;const yt=Array.isArray(pe)?(0,V.vP)(pe):pe;return Or(this._renderer,null,We,"register",[yt]),new xr(We,this._renderer)}}return mt.\u0275fac=function(pe){return new(pe||mt)(a.LFG(a.FYo),a.LFG(l.K0))},mt.\u0275prov=a.Yz7({token:mt,factory:mt.\u0275fac}),mt})();class xr extends V.LC{constructor(ae,pe){super(),this._id=ae,this._renderer=pe}create(ae,pe){return new Ir(this._id,ae,pe||{},this._renderer)}}class Ir{constructor(ae,pe,We,yt){this.id=ae,this.element=pe,this._renderer=yt,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",We)}_listen(ae,pe){return this._renderer.listen(this.element,`@@${this.id}:${ae}`,pe)}_command(ae,...pe){return Or(this._renderer,this.element,this.id,ae,pe)}onDone(ae){this._listen("done",ae)}onStart(ae){this._listen("start",ae)}onDestroy(ae){this._listen("destroy",ae)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(ae){this._command("setPosition",ae)}getPosition(){var ae,pe;return null!==(pe=null===(ae=this._renderer.engine.players[+this.id])||void 0===ae?void 0:ae.getPosition())&&void 0!==pe?pe:0}}function Or(mt,ae,pe,We,yt){return mt.setProperty(ae,`@@${pe}:${We}`,yt)}const Pr="@.disabled";let cr=(()=>{class mt{constructor(pe,We,yt){this.delegate=pe,this.engine=We,this._zone=yt,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),We.onRemovalComplete=(Vt,dn)=>{const vn=null==dn?void 0:dn.parentNode(Vt);vn&&dn.removeChild(vn,Vt)}}createRenderer(pe,We){const Vt=this.delegate.createRenderer(pe,We);if(!(pe&&We&&We.data&&We.data.animation)){let Yt=this._rendererCache.get(Vt);return Yt||(Yt=new fa("",Vt,this.engine,()=>this._rendererCache.delete(Vt)),this._rendererCache.set(Vt,Yt)),Yt}const dn=We.id,vn=We.id+"-"+this._currentId;this._currentId++,this.engine.register(vn,pe);const wn=Yt=>{Array.isArray(Yt)?Yt.forEach(wn):this.engine.registerTrigger(dn,vn,pe,Yt.name,Yt)};return We.data.animation.forEach(wn),new Na(this,vn,Vt,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(pe,We,yt){pe>=0&&pe<this._microtaskId?this._zone.run(()=>We(yt)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Vt=>{const[dn,vn]=Vt;dn(vn)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([We,yt]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return mt.\u0275fac=function(pe){return new(pe||mt)(a.LFG(a.FYo),a.LFG(On),a.LFG(a.R0b))},mt.\u0275prov=a.Yz7({token:mt,factory:mt.\u0275fac}),mt})();class fa{constructor(ae,pe,We,yt){this.namespaceId=ae,this.delegate=pe,this.engine=We,this._onDestroy=yt,this.destroyNode=this.delegate.destroyNode?Vt=>pe.destroyNode(Vt):null}get data(){return this.delegate.data}destroy(){var ae;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(ae=this._onDestroy)||void 0===ae||ae.call(this)}createElement(ae,pe){return this.delegate.createElement(ae,pe)}createComment(ae){return this.delegate.createComment(ae)}createText(ae){return this.delegate.createText(ae)}appendChild(ae,pe){this.delegate.appendChild(ae,pe),this.engine.onInsert(this.namespaceId,pe,ae,!1)}insertBefore(ae,pe,We,yt=!0){this.delegate.insertBefore(ae,pe,We),this.engine.onInsert(this.namespaceId,pe,ae,yt)}removeChild(ae,pe,We){this.engine.onRemove(this.namespaceId,pe,this.delegate,We)}selectRootElement(ae,pe){return this.delegate.selectRootElement(ae,pe)}parentNode(ae){return this.delegate.parentNode(ae)}nextSibling(ae){return this.delegate.nextSibling(ae)}setAttribute(ae,pe,We,yt){this.delegate.setAttribute(ae,pe,We,yt)}removeAttribute(ae,pe,We){this.delegate.removeAttribute(ae,pe,We)}addClass(ae,pe){this.delegate.addClass(ae,pe)}removeClass(ae,pe){this.delegate.removeClass(ae,pe)}setStyle(ae,pe,We,yt){this.delegate.setStyle(ae,pe,We,yt)}removeStyle(ae,pe,We){this.delegate.removeStyle(ae,pe,We)}setProperty(ae,pe,We){"@"==pe.charAt(0)&&pe==Pr?this.disableAnimations(ae,!!We):this.delegate.setProperty(ae,pe,We)}setValue(ae,pe){this.delegate.setValue(ae,pe)}listen(ae,pe,We){return this.delegate.listen(ae,pe,We)}disableAnimations(ae,pe){this.engine.disableAnimations(ae,pe)}}class Na extends fa{constructor(ae,pe,We,yt,Vt){super(pe,We,yt,Vt),this.factory=ae,this.namespaceId=pe}setProperty(ae,pe,We){"@"==pe.charAt(0)?"."==pe.charAt(1)&&pe==Pr?this.disableAnimations(ae,We=void 0===We||!!We):this.engine.process(this.namespaceId,ae,pe.slice(1),We):this.delegate.setProperty(ae,pe,We)}listen(ae,pe,We){if("@"==pe.charAt(0)){const yt=function Ya(mt){switch(mt){case"body":return document.body;case"document":return document;case"window":return window;default:return mt}}(ae);let Vt=pe.slice(1),dn="";return"@"!=Vt.charAt(0)&&([Vt,dn]=function Me(mt){const ae=mt.indexOf(".");return[mt.substring(0,ae),mt.slice(ae+1)]}(Vt)),this.engine.listen(this.namespaceId,yt,Vt,dn,vn=>{this.factory.scheduleListenerCallback(vn._data||-1,We,vn)})}return this.delegate.listen(ae,pe,We)}}const nn=[{provide:V._j,useClass:lr},{provide:vs,useFactory:function He(){return new St}},{provide:On,useClass:(()=>{class mt extends On{constructor(pe,We,yt,Vt){super(pe.body,We,yt)}ngOnDestroy(){this.flush()}}return mt.\u0275fac=function(pe){return new(pe||mt)(a.LFG(l.K0),a.LFG(rn),a.LFG(vs),a.LFG(a.z2F))},mt.\u0275prov=a.Yz7({token:mt,factory:mt.\u0275fac}),mt})()},{provide:a.FYo,useFactory:function Et(mt,ae,pe){return new cr(mt,ae,pe)},deps:[e.se,On,a.R0b]}],kn=[{provide:rn,useFactory:()=>new js},{provide:a.QbO,useValue:"BrowserAnimations"},...nn],Ln=[{provide:rn,useClass:Rt},{provide:a.QbO,useValue:"NoopAnimations"},...nn];let ui=(()=>{class mt{static withConfig(pe){return{ngModule:mt,providers:pe.disableAnimations?Ln:kn}}}return mt.\u0275fac=function(pe){return new(pe||mt)},mt.\u0275mod=a.oAB({type:mt}),mt.\u0275inj=a.cJS({providers:kn,imports:[e.b2]}),mt})();var Yi=b(158),Co=b(520),bi=b(2382),xo=b(1923),Yo=b(6198),Us=b(845);(0,l.qS)(F,"ru");let us=(()=>{class mt{}return mt.\u0275fac=function(pe){return new(pe||mt)},mt.\u0275mod=a.oAB({type:mt,bootstrap:[D]}),mt.\u0275inj=a.cJS({imports:[Yi.q,ui,e.b2,te.MainModule,ce.LoginModule,g.Bz,bi.u5,Co.JF,R.EV,xo.U,Yo.L,Us.hJ,ui,bi.u5,Co.JF]}),mt})();b(2340).N.production&&(0,a.G48)(),e.q6().bootstrapModule(us).catch(mt=>console.error(mt))},1135:(mn,ht,b)=>{"use strict";b.d(ht,{X:()=>a});var e=b(7579);class a extends e.x{constructor(g){super(),this._value=g}get value(){return this.getValue()}_subscribe(g){const _=super._subscribe(g);return!_.closed&&g.next(this._value),_}getValue(){const{hasError:g,thrownError:_,_value:P}=this;if(g)throw _;return this._throwIfClosed(),P}next(g){super.next(this._value=g)}}},9751:(mn,ht,b)=>{"use strict";b.d(ht,{y:()=>l});var e=b(930),a=b(727),f=b(8822),g=b(9635),_=b(2416),P=b(576),y=b(2806);let l=(()=>{class N{constructor(x){x&&(this._subscribe=x)}lift(x){const D=new N;return D.source=this,D.operator=x,D}subscribe(x,D,S){const U=function J(N){return N&&N instanceof e.Lv||function L(N){return N&&(0,P.m)(N.next)&&(0,P.m)(N.error)&&(0,P.m)(N.complete)}(N)&&(0,a.Nn)(N)}(x)?x:new e.Hp(x,D,S);return(0,y.x)(()=>{const{operator:F,source:ce}=this;U.add(F?F.call(U,ce):ce?this._subscribe(U):this._trySubscribe(U))}),U}_trySubscribe(x){try{return this._subscribe(x)}catch(D){x.error(D)}}forEach(x,D){return new(D=R(D))((S,U)=>{let F;F=this.subscribe(ce=>{try{x(ce)}catch(te){U(te),null==F||F.unsubscribe()}},U,S)})}_subscribe(x){var D;return null===(D=this.source)||void 0===D?void 0:D.subscribe(x)}[f.L](){return this}pipe(...x){return(0,g.U)(x)(this)}toPromise(x){return new(x=R(x))((D,S)=>{let U;this.subscribe(F=>U=F,F=>S(F),()=>D(U))})}}return N.create=w=>new N(w),N})();function R(N){var w;return null!==(w=null!=N?N:_.v.Promise)&&void 0!==w?w:Promise}},4707:(mn,ht,b)=>{"use strict";b.d(ht,{t:()=>f});var e=b(7579),a=b(6063);class f extends e.x{constructor(_=1/0,P=1/0,y=a.l){super(),this._bufferSize=_,this._windowTime=P,this._timestampProvider=y,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=P===1/0,this._bufferSize=Math.max(1,_),this._windowTime=Math.max(1,P)}next(_){const{isStopped:P,_buffer:y,_infiniteTimeWindow:l,_timestampProvider:R,_windowTime:L}=this;P||(y.push(_),!l&&y.push(R.now()+L)),this._trimBuffer(),super.next(_)}_subscribe(_){this._throwIfClosed(),this._trimBuffer();const P=this._innerSubscribe(_),{_infiniteTimeWindow:y,_buffer:l}=this,R=l.slice();for(let L=0;L<R.length&&!_.closed;L+=y?1:2)_.next(R[L]);return this._checkFinalizedStatuses(_),P}_trimBuffer(){const{_bufferSize:_,_timestampProvider:P,_buffer:y,_infiniteTimeWindow:l}=this,R=(l?1:2)*_;if(_<1/0&&R<y.length&&y.splice(0,y.length-R),!l){const L=P.now();let J=0;for(let N=1;N<y.length&&y[N]<=L;N+=2)J=N;J&&y.splice(0,J+1)}}}},7579:(mn,ht,b)=>{"use strict";b.d(ht,{x:()=>y});var e=b(9751),a=b(727);const g=(0,b(3888).d)(R=>function(){R(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _=b(8737),P=b(2806);let y=(()=>{class R extends e.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(J){const N=new l(this,this);return N.operator=J,N}_throwIfClosed(){if(this.closed)throw new g}next(J){(0,P.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const N=this.observers.slice();for(const w of N)w.next(J)}})}error(J){(0,P.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=J;const{observers:N}=this;for(;N.length;)N.shift().error(J)}})}complete(){(0,P.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:J}=this;for(;J.length;)J.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var J;return(null===(J=this.observers)||void 0===J?void 0:J.length)>0}_trySubscribe(J){return this._throwIfClosed(),super._trySubscribe(J)}_subscribe(J){return this._throwIfClosed(),this._checkFinalizedStatuses(J),this._innerSubscribe(J)}_innerSubscribe(J){const{hasError:N,isStopped:w,observers:x}=this;return N||w?a.Lc:(x.push(J),new a.w0(()=>(0,_.P)(x,J)))}_checkFinalizedStatuses(J){const{hasError:N,thrownError:w,isStopped:x}=this;N?J.error(w):x&&J.complete()}asObservable(){const J=new e.y;return J.source=this,J}}return R.create=(L,J)=>new l(L,J),R})();class l extends y{constructor(L,J){super(),this.destination=L,this.source=J}next(L){var J,N;null===(N=null===(J=this.destination)||void 0===J?void 0:J.next)||void 0===N||N.call(J,L)}error(L){var J,N;null===(N=null===(J=this.destination)||void 0===J?void 0:J.error)||void 0===N||N.call(J,L)}complete(){var L,J;null===(J=null===(L=this.destination)||void 0===L?void 0:L.complete)||void 0===J||J.call(L)}_subscribe(L){var J,N;return null!==(N=null===(J=this.source)||void 0===J?void 0:J.subscribe(L))&&void 0!==N?N:a.Lc}}},930:(mn,ht,b)=>{"use strict";b.d(ht,{Hp:()=>w,Lv:()=>N});var e=b(576),a=b(727),f=b(2416),g=b(7849),_=b(5032);const P=R("C",void 0,void 0);function R(F,ce,te){return{kind:F,value:ce,error:te}}var L=b(3410),J=b(2806);class N extends a.w0{constructor(ce){super(),this.isStopped=!1,ce?(this.destination=ce,(0,a.Nn)(ce)&&ce.add(this)):this.destination=U}static create(ce,te,V){return new w(ce,te,V)}next(ce){this.isStopped?S(function l(F){return R("N",F,void 0)}(ce),this):this._next(ce)}error(ce){this.isStopped?S(function y(F){return R("E",void 0,F)}(ce),this):(this.isStopped=!0,this._error(ce))}complete(){this.isStopped?S(P,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ce){this.destination.next(ce)}_error(ce){try{this.destination.error(ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class w extends N{constructor(ce,te,V){let k;if(super(),(0,e.m)(ce))k=ce;else if(ce){let O;({next:k,error:te,complete:V}=ce),this&&f.v.useDeprecatedNextContext?(O=Object.create(ce),O.unsubscribe=()=>this.unsubscribe()):O=ce,k=null==k?void 0:k.bind(O),te=null==te?void 0:te.bind(O),V=null==V?void 0:V.bind(O)}this.destination={next:k?x(k):_.Z,error:x(null!=te?te:D),complete:V?x(V):_.Z}}}function x(F,ce){return(...te)=>{try{F(...te)}catch(V){f.v.useDeprecatedSynchronousErrorHandling?(0,J.O)(V):(0,g.h)(V)}}}function D(F){throw F}function S(F,ce){const{onStoppedNotification:te}=f.v;te&&L.z.setTimeout(()=>te(F,ce))}const U={closed:!0,next:_.Z,error:D,complete:_.Z}},727:(mn,ht,b)=>{"use strict";b.d(ht,{Lc:()=>P,w0:()=>_,Nn:()=>y});var e=b(576);const f=(0,b(3888).d)(R=>function(J){R(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((N,w)=>`${w+1}) ${N.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J});var g=b(8737);class _{constructor(L){this.initialTeardown=L,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let L;if(!this.closed){this.closed=!0;const{_parentage:J}=this;if(J)if(this._parentage=null,Array.isArray(J))for(const x of J)x.remove(this);else J.remove(this);const{initialTeardown:N}=this;if((0,e.m)(N))try{N()}catch(x){L=x instanceof f?x.errors:[x]}const{_teardowns:w}=this;if(w){this._teardowns=null;for(const x of w)try{l(x)}catch(D){L=null!=L?L:[],D instanceof f?L=[...L,...D.errors]:L.push(D)}}if(L)throw new f(L)}}add(L){var J;if(L&&L!==this)if(this.closed)l(L);else{if(L instanceof _){if(L.closed||L._hasParent(this))return;L._addParent(this)}(this._teardowns=null!==(J=this._teardowns)&&void 0!==J?J:[]).push(L)}}_hasParent(L){const{_parentage:J}=this;return J===L||Array.isArray(J)&&J.includes(L)}_addParent(L){const{_parentage:J}=this;this._parentage=Array.isArray(J)?(J.push(L),J):J?[J,L]:L}_removeParent(L){const{_parentage:J}=this;J===L?this._parentage=null:Array.isArray(J)&&(0,g.P)(J,L)}remove(L){const{_teardowns:J}=this;J&&(0,g.P)(J,L),L instanceof _&&L._removeParent(this)}}_.EMPTY=(()=>{const R=new _;return R.closed=!0,R})();const P=_.EMPTY;function y(R){return R instanceof _||R&&"closed"in R&&(0,e.m)(R.remove)&&(0,e.m)(R.add)&&(0,e.m)(R.unsubscribe)}function l(R){(0,e.m)(R)?R():R.unsubscribe()}},2416:(mn,ht,b)=>{"use strict";b.d(ht,{v:()=>e});const e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3905:(mn,ht,b)=>{"use strict";b.d(ht,{z:()=>f});var e=b(6805),a=b(930);function f(g,_){const P="object"==typeof _;return new Promise((y,l)=>{const R=new a.Hp({next:L=>{y(L),R.unsubscribe()},error:l,complete:()=>{P?y(_.defaultValue):l(new e.K)}});g.subscribe(R)})}},4464:(mn,ht,b)=>{"use strict";b.d(ht,{n:()=>a});var e=b(6805);function a(f,g){const _="object"==typeof g;return new Promise((P,y)=>{let R,l=!1;f.subscribe({next:L=>{R=L,l=!0},error:y,complete:()=>{l?P(R):_?P(g.defaultValue):y(new e.K)}})})}},9841:(mn,ht,b)=>{"use strict";b.d(ht,{a:()=>L});var e=b(9751),a=b(4742),f=b(2076),g=b(4671),_=b(3268),P=b(3269),y=b(1810),l=b(5403),R=b(9672);function L(...w){const x=(0,P.yG)(w),D=(0,P.jO)(w),{args:S,keys:U}=(0,a.D)(w);if(0===S.length)return(0,f.D)([],x);const F=new e.y(function J(w,x,D=g.y){return S=>{N(x,()=>{const{length:U}=w,F=new Array(U);let ce=U,te=U;for(let V=0;V<U;V++)N(x,()=>{const k=(0,f.D)(w[V],x);let O=!1;k.subscribe(new l.Q(S,$=>{F[V]=$,O||(O=!0,te--),te||S.next(D(F.slice()))},()=>{--ce||S.complete()}))},S)},S)}}(S,x,U?ce=>(0,y.n)(U,ce):g.y));return D?F.pipe((0,_.Z)(D)):F}function N(w,x,D){w?(0,R.f)(D,w,x):x()}},7272:(mn,ht,b)=>{"use strict";b.d(ht,{z:()=>_});var e=b(8189),f=b(3269),g=b(2076);function _(...P){return function a(){return(0,e.J)(1)}()((0,g.D)(P,(0,f.yG)(P)))}},9770:(mn,ht,b)=>{"use strict";b.d(ht,{P:()=>f});var e=b(9751),a=b(8421);function f(g){return new e.y(_=>{(0,a.Xf)(g()).subscribe(_)})}},515:(mn,ht,b)=>{"use strict";b.d(ht,{E:()=>a});const a=new(b(9751).y)(_=>_.complete())},2076:(mn,ht,b)=>{"use strict";b.d(ht,{D:()=>$});var e=b(8421),a=b(9672),f=b(4482),g=b(5403);function _(ue,q=0){return(0,f.e)((Y,G)=>{Y.subscribe(new g.Q(G,he=>(0,a.f)(G,ue,()=>G.next(he),q),()=>(0,a.f)(G,ue,()=>G.complete(),q),he=>(0,a.f)(G,ue,()=>G.error(he),q)))})}function P(ue,q=0){return(0,f.e)((Y,G)=>{G.add(ue.schedule(()=>Y.subscribe(G),q))})}var R=b(9751),J=b(2202),N=b(576);function x(ue,q){if(!ue)throw new Error("Iterable cannot be null");return new R.y(Y=>{(0,a.f)(Y,q,()=>{const G=ue[Symbol.asyncIterator]();(0,a.f)(Y,q,()=>{G.next().then(he=>{he.done?Y.complete():Y.next(he.value)})},0,!0)})})}var D=b(3670),S=b(8239),U=b(1144),F=b(6495),ce=b(2206),te=b(4532),V=b(3260);function $(ue,q){return q?function O(ue,q){if(null!=ue){if((0,D.c)(ue))return function y(ue,q){return(0,e.Xf)(ue).pipe(P(q),_(q))}(ue,q);if((0,U.z)(ue))return function L(ue,q){return new R.y(Y=>{let G=0;return q.schedule(function(){G===ue.length?Y.complete():(Y.next(ue[G++]),Y.closed||this.schedule())})})}(ue,q);if((0,S.t)(ue))return function l(ue,q){return(0,e.Xf)(ue).pipe(P(q),_(q))}(ue,q);if((0,ce.D)(ue))return x(ue,q);if((0,F.T)(ue))return function w(ue,q){return new R.y(Y=>{let G;return(0,a.f)(Y,q,()=>{G=ue[J.h](),(0,a.f)(Y,q,()=>{let he,j;try{({value:he,done:j}=G.next())}catch(Q){return void Y.error(Q)}j?Y.complete():Y.next(he)},0,!0)}),()=>(0,N.m)(null==G?void 0:G.return)&&G.return()})}(ue,q);if((0,V.L)(ue))return function k(ue,q){return x((0,V.Q)(ue),q)}(ue,q)}throw(0,te.z)(ue)}(ue,q):(0,e.Xf)(ue)}},4968:(mn,ht,b)=>{"use strict";b.d(ht,{R:()=>L});var e=b(8421),a=b(9751),f=b(5577),g=b(1144),_=b(576),P=b(3268);const y=["addListener","removeListener"],l=["addEventListener","removeEventListener"],R=["on","off"];function L(D,S,U,F){if((0,_.m)(U)&&(F=U,U=void 0),F)return L(D,S,U).pipe((0,P.Z)(F));const[ce,te]=function x(D){return(0,_.m)(D.addEventListener)&&(0,_.m)(D.removeEventListener)}(D)?l.map(V=>k=>D[V](S,k,U)):function N(D){return(0,_.m)(D.addListener)&&(0,_.m)(D.removeListener)}(D)?y.map(J(D,S)):function w(D){return(0,_.m)(D.on)&&(0,_.m)(D.off)}(D)?R.map(J(D,S)):[];if(!ce&&(0,g.z)(D))return(0,f.z)(V=>L(V,S,U))((0,e.Xf)(D));if(!ce)throw new TypeError("Invalid event target");return new a.y(V=>{const k=(...O)=>V.next(1<O.length?O:O[0]);return ce(k),()=>te(k)})}function J(D,S){return U=>F=>D[U](S,F)}},8421:(mn,ht,b)=>{"use strict";b.d(ht,{Xf:()=>w});var e=b(5987),a=b(1144),f=b(8239),g=b(9751),_=b(3670),P=b(2206),y=b(4532),l=b(6495),R=b(3260),L=b(576),J=b(7849),N=b(8822);function w(V){if(V instanceof g.y)return V;if(null!=V){if((0,_.c)(V))return function x(V){return new g.y(k=>{const O=V[N.L]();if((0,L.m)(O.subscribe))return O.subscribe(k);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(V);if((0,a.z)(V))return function D(V){return new g.y(k=>{for(let O=0;O<V.length&&!k.closed;O++)k.next(V[O]);k.complete()})}(V);if((0,f.t)(V))return function S(V){return new g.y(k=>{V.then(O=>{k.closed||(k.next(O),k.complete())},O=>k.error(O)).then(null,J.h)})}(V);if((0,P.D)(V))return F(V);if((0,l.T)(V))return function U(V){return new g.y(k=>{for(const O of V)if(k.next(O),k.closed)return;k.complete()})}(V);if((0,R.L)(V))return function ce(V){return F((0,R.Q)(V))}(V)}throw(0,y.z)(V)}function F(V){return new g.y(k=>{(function te(V,k){var O,$,ue,q;return(0,e.mG)(this,void 0,void 0,function*(){try{for(O=(0,e.KL)(V);!($=yield O.next()).done;)if(k.next($.value),k.closed)return}catch(Y){ue={error:Y}}finally{try{$&&!$.done&&(q=O.return)&&(yield q.call(O))}finally{if(ue)throw ue.error}}k.complete()})})(V,k).catch(O=>k.error(O))})}},7445:(mn,ht,b)=>{"use strict";b.d(ht,{F:()=>f});var e=b(4986),a=b(5963);function f(g=0,_=e.z){return g<0&&(g=0),(0,a.H)(g,g,_)}},6451:(mn,ht,b)=>{"use strict";b.d(ht,{T:()=>P});var e=b(8189),a=b(8421),f=b(515),g=b(3269),_=b(2076);function P(...y){const l=(0,g.yG)(y),R=(0,g._6)(y,1/0),L=y;return L.length?1===L.length?(0,a.Xf)(L[0]):(0,e.J)(R)((0,_.D)(L,l)):f.E}},9646:(mn,ht,b)=>{"use strict";b.d(ht,{of:()=>f});var e=b(3269),a=b(2076);function f(...g){const _=(0,e.yG)(g);return(0,a.D)(g,_)}},2843:(mn,ht,b)=>{"use strict";b.d(ht,{_:()=>f});var e=b(9751),a=b(576);function f(g,_){const P=(0,a.m)(g)?g:()=>g,y=l=>l.error(P());return new e.y(_?l=>_.schedule(y,0,l):y)}},5963:(mn,ht,b)=>{"use strict";b.d(ht,{H:()=>_});var e=b(9751),a=b(4986),f=b(3532);function _(P=0,y,l=a.P){let R=-1;return null!=y&&((0,f.K)(y)?l=y:R=y),new e.y(L=>{let J=function g(P){return P instanceof Date&&!isNaN(P)}(P)?+P-l.now():P;J<0&&(J=0);let N=0;return l.schedule(function(){L.closed||(L.next(N++),0<=R?this.schedule(void 0,R):L.complete())},J)})}},5403:(mn,ht,b)=>{"use strict";b.d(ht,{Q:()=>a});var e=b(930);class a extends e.Lv{constructor(g,_,P,y,l){super(g),this.onFinalize=l,this._next=_?function(R){try{_(R)}catch(L){g.error(L)}}:super._next,this._error=y?function(R){try{y(R)}catch(L){g.error(L)}finally{this.unsubscribe()}}:super._error,this._complete=P?function(){try{P()}catch(R){g.error(R)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var g;const{closed:_}=this;super.unsubscribe(),!_&&(null===(g=this.onFinalize)||void 0===g||g.call(this))}}},262:(mn,ht,b)=>{"use strict";b.d(ht,{K:()=>g});var e=b(8421),a=b(5403),f=b(4482);function g(_){return(0,f.e)((P,y)=>{let L,l=null,R=!1;l=P.subscribe(new a.Q(y,void 0,void 0,J=>{L=(0,e.Xf)(_(J,g(_)(P))),l?(l.unsubscribe(),l=null,L.subscribe(y)):R=!0})),R&&(l.unsubscribe(),l=null,L.subscribe(y))})}},4351:(mn,ht,b)=>{"use strict";b.d(ht,{b:()=>f});var e=b(5577),a=b(576);function f(g,_){return(0,a.m)(_)?(0,e.z)(g,_,1):(0,e.z)(g,1)}},8372:(mn,ht,b)=>{"use strict";b.d(ht,{b:()=>g});var e=b(4986),a=b(4482),f=b(5403);function g(_,P=e.z){return(0,a.e)((y,l)=>{let R=null,L=null,J=null;const N=()=>{if(R){R.unsubscribe(),R=null;const x=L;L=null,l.next(x)}};function w(){const x=J+_,D=P.now();if(D<x)return R=this.schedule(void 0,x-D),void l.add(R);N()}y.subscribe(new f.Q(l,x=>{L=x,J=P.now(),R||(R=P.schedule(w,_),l.add(R))},()=>{N(),l.complete()},void 0,()=>{L=R=null}))})}},6590:(mn,ht,b)=>{"use strict";b.d(ht,{d:()=>f});var e=b(4482),a=b(5403);function f(g){return(0,e.e)((_,P)=>{let y=!1;_.subscribe(new a.Q(P,l=>{y=!0,P.next(l)},()=>{y||P.next(g),P.complete()}))})}},4326:(mn,ht,b)=>{"use strict";b.d(ht,{g:()=>g});var e=b(4986),a=b(5376),f=b(5963);function g(_,P=e.z){const y=(0,f.H)(_,P);return(0,a.j)(()=>y)}},5376:(mn,ht,b)=>{"use strict";b.d(ht,{j:()=>R});var e=b(7272),a=b(5698),f=b(4482),g=b(5403),_=b(5032),y=b(9718),l=b(5577);function R(L,J){return J?N=>(0,e.z)(J.pipe((0,a.q)(1),function P(){return(0,f.e)((L,J)=>{L.subscribe(new g.Q(J,_.Z))})}()),N.pipe(R(L))):(0,l.z)((N,w)=>L(N,w).pipe((0,a.q)(1),(0,y.h)(N)))}},1884:(mn,ht,b)=>{"use strict";b.d(ht,{x:()=>g});var e=b(4671),a=b(4482),f=b(5403);function g(P,y=e.y){return P=null!=P?P:_,(0,a.e)((l,R)=>{let L,J=!0;l.subscribe(new f.Q(R,N=>{const w=y(N);(J||!P(L,w))&&(J=!1,L=w,R.next(N))}))})}function _(P,y){return P===y}},9300:(mn,ht,b)=>{"use strict";b.d(ht,{h:()=>f});var e=b(4482),a=b(5403);function f(g,_){return(0,e.e)((P,y)=>{let l=0;P.subscribe(new a.Q(y,R=>g.call(_,R,l++)&&y.next(R)))})}},8746:(mn,ht,b)=>{"use strict";b.d(ht,{x:()=>a});var e=b(4482);function a(f){return(0,e.e)((g,_)=>{try{g.subscribe(_)}finally{_.add(f)}})}},590:(mn,ht,b)=>{"use strict";b.d(ht,{P:()=>y});var e=b(6805),a=b(9300),f=b(5698),g=b(6590),_=b(8068),P=b(4671);function y(l,R){const L=arguments.length>=2;return J=>J.pipe(l?(0,a.h)((N,w)=>l(N,w,J)):P.y,(0,f.q)(1),L?(0,g.d)(R):(0,_.T)(()=>new e.K))}},4004:(mn,ht,b)=>{"use strict";b.d(ht,{U:()=>f});var e=b(4482),a=b(5403);function f(g,_){return(0,e.e)((P,y)=>{let l=0;P.subscribe(new a.Q(y,R=>{y.next(g.call(_,R,l++))}))})}},9718:(mn,ht,b)=>{"use strict";b.d(ht,{h:()=>a});var e=b(4004);function a(f){return(0,e.U)(()=>f)}},8189:(mn,ht,b)=>{"use strict";b.d(ht,{J:()=>f});var e=b(5577),a=b(4671);function f(g=1/0){return(0,e.z)(a.y,g)}},5577:(mn,ht,b)=>{"use strict";b.d(ht,{z:()=>l});var e=b(4004),a=b(8421),f=b(4482),g=b(9672),_=b(5403),y=b(576);function l(R,L,J=1/0){return(0,y.m)(L)?l((N,w)=>(0,e.U)((x,D)=>L(N,x,w,D))((0,a.Xf)(R(N,w))),J):("number"==typeof L&&(J=L),(0,f.e)((N,w)=>function P(R,L,J,N,w,x,D,S){const U=[];let F=0,ce=0,te=!1;const V=()=>{te&&!U.length&&!F&&L.complete()},k=$=>F<N?O($):U.push($),O=$=>{x&&L.next($),F++;let ue=!1;(0,a.Xf)(J($,ce++)).subscribe(new _.Q(L,q=>{null==w||w(q),x?k(q):L.next(q)},()=>{ue=!0},void 0,()=>{if(ue)try{for(F--;U.length&&F<N;){const q=U.shift();D?(0,g.f)(L,D,()=>O(q)):O(q)}V()}catch(q){L.error(q)}}))};return R.subscribe(new _.Q(L,k,()=>{te=!0,V()})),()=>{null==S||S()}}(N,w,R,J)))}},599:(mn,ht,b)=>{"use strict";b.d(ht,{r:()=>g});var e=b(515),a=b(4482),f=b(5403);function g(_=1/0){return _<=0?()=>e.E:(0,a.e)((P,y)=>{let R,l=0;const L=()=>{let J=!1;R=P.subscribe(new f.Q(y,void 0,()=>{++l<_?R?(R.unsubscribe(),R=null,L()):J=!0:y.complete()})),J&&(R.unsubscribe(),R=null,L())};L()})}},5625:(mn,ht,b)=>{"use strict";b.d(ht,{X:()=>P});var e=b(4482),a=b(5403),f=b(4671),g=b(5963),_=b(8421);function P(y=1/0){let l;l=y&&"object"==typeof y?y:{count:y};const{count:R=1/0,delay:L,resetOnSuccess:J=!1}=l;return R<=0?f.y:(0,e.e)((N,w)=>{let D,x=0;const S=()=>{let U=!1;D=N.subscribe(new a.Q(w,F=>{J&&(x=0),w.next(F)},void 0,F=>{if(x++<R){const ce=()=>{D?(D.unsubscribe(),D=null,S()):U=!0};if(null!=L){const te="number"==typeof L?(0,g.H)(L):(0,_.Xf)(L(F,x)),V=new a.Q(w,()=>{V.unsubscribe(),ce()},()=>{w.complete()});te.subscribe(V)}else ce()}else w.error(F)})),U&&(D.unsubscribe(),D=null,S())};S()})}},3099:(mn,ht,b)=>{"use strict";b.d(ht,{B:()=>P});var e=b(2076),a=b(5698),f=b(7579),g=b(930),_=b(4482);function P(l={}){const{connector:R=(()=>new f.x),resetOnError:L=!0,resetOnComplete:J=!0,resetOnRefCountZero:N=!0}=l;return w=>{let x=null,D=null,S=null,U=0,F=!1,ce=!1;const te=()=>{null==D||D.unsubscribe(),D=null},V=()=>{te(),x=S=null,F=ce=!1},k=()=>{const O=x;V(),null==O||O.unsubscribe()};return(0,_.e)((O,$)=>{U++,!ce&&!F&&te();const ue=S=null!=S?S:R();$.add(()=>{U--,0===U&&!ce&&!F&&(D=y(k,N))}),ue.subscribe($),x||(x=new g.Hp({next:q=>ue.next(q),error:q=>{ce=!0,te(),D=y(V,L,q),ue.error(q)},complete:()=>{F=!0,te(),D=y(V,J),ue.complete()}}),(0,e.D)(O).subscribe(x))})(w)}}function y(l,R,...L){return!0===R?(l(),null):!1===R?null:R(...L).pipe((0,a.q)(1)).subscribe(()=>l())}},4782:(mn,ht,b)=>{"use strict";b.d(ht,{d:()=>f});var e=b(4707),a=b(3099);function f(g,_,P){var y,l;let R,L=!1;return g&&"object"==typeof g?(R=null!==(y=g.bufferSize)&&void 0!==y?y:1/0,_=null!==(l=g.windowTime)&&void 0!==l?l:1/0,L=!!g.refCount,P=g.scheduler):R=null!=g?g:1/0,(0,a.B)({connector:()=>new e.t(R,_,P),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:L})}},8675:(mn,ht,b)=>{"use strict";b.d(ht,{O:()=>g});var e=b(7272),a=b(3269),f=b(4482);function g(..._){const P=(0,a.yG)(_);return(0,f.e)((y,l)=>{(P?(0,e.z)(_,y,P):(0,e.z)(_,y)).subscribe(l)})}},3900:(mn,ht,b)=>{"use strict";b.d(ht,{w:()=>g});var e=b(8421),a=b(4482),f=b(5403);function g(_,P){return(0,a.e)((y,l)=>{let R=null,L=0,J=!1;const N=()=>J&&!R&&l.complete();y.subscribe(new f.Q(l,w=>{null==R||R.unsubscribe();let x=0;const D=L++;(0,e.Xf)(_(w,D)).subscribe(R=new f.Q(l,S=>l.next(P?P(w,S,D,x++):S),()=>{R=null,N()}))},()=>{J=!0,N()}))})}},5698:(mn,ht,b)=>{"use strict";b.d(ht,{q:()=>g});var e=b(515),a=b(4482),f=b(5403);function g(_){return _<=0?()=>e.E:(0,a.e)((P,y)=>{let l=0;P.subscribe(new f.Q(y,R=>{++l<=_&&(y.next(R),_<=l&&y.complete())}))})}},2035:(mn,ht,b)=>{"use strict";b.d(ht,{h:()=>g});var e=b(515),a=b(4482),f=b(5403);function g(_){return _<=0?()=>e.E:(0,a.e)((P,y)=>{let l=[];P.subscribe(new f.Q(y,R=>{l.push(R),_<l.length&&l.shift()},()=>{for(const R of l)y.next(R);y.complete()},void 0,()=>{l=null}))})}},2722:(mn,ht,b)=>{"use strict";b.d(ht,{R:()=>_});var e=b(4482),a=b(5403),f=b(8421),g=b(5032);function _(P){return(0,e.e)((y,l)=>{(0,f.Xf)(P).subscribe(new a.Q(l,()=>l.complete(),g.Z)),!l.closed&&y.subscribe(l)})}},2529:(mn,ht,b)=>{"use strict";b.d(ht,{o:()=>f});var e=b(4482),a=b(5403);function f(g,_=!1){return(0,e.e)((P,y)=>{let l=0;P.subscribe(new a.Q(y,R=>{const L=g(R,l++);(L||_)&&y.next(R),!L&&y.complete()}))})}},8505:(mn,ht,b)=>{"use strict";b.d(ht,{b:()=>_});var e=b(576),a=b(4482),f=b(5403),g=b(4671);function _(P,y,l){const R=(0,e.m)(P)||y||l?{next:P,error:y,complete:l}:P;return R?(0,a.e)((L,J)=>{var N;null===(N=R.subscribe)||void 0===N||N.call(R);let w=!0;L.subscribe(new f.Q(J,x=>{var D;null===(D=R.next)||void 0===D||D.call(R,x),J.next(x)},()=>{var x;w=!1,null===(x=R.complete)||void 0===x||x.call(R),J.complete()},x=>{var D;w=!1,null===(D=R.error)||void 0===D||D.call(R,x),J.error(x)},()=>{var x,D;w&&(null===(x=R.unsubscribe)||void 0===x||x.call(R)),null===(D=R.finalize)||void 0===D||D.call(R)}))}):g.y}},8068:(mn,ht,b)=>{"use strict";b.d(ht,{T:()=>g});var e=b(6805),a=b(4482),f=b(5403);function g(P=_){return(0,a.e)((y,l)=>{let R=!1;y.subscribe(new f.Q(l,L=>{R=!0,l.next(L)},()=>R?l.complete():l.error(P())))})}function _(){return new e.K}},4408:(mn,ht,b)=>{"use strict";b.d(ht,{o:()=>_});var e=b(727);class a extends e.w0{constructor(y,l){super()}schedule(y,l=0){return this}}const f={setInterval(...P){const{delegate:y}=f;return((null==y?void 0:y.setInterval)||setInterval)(...P)},clearInterval(P){const{delegate:y}=f;return((null==y?void 0:y.clearInterval)||clearInterval)(P)},delegate:void 0};var g=b(8737);class _ extends a{constructor(y,l){super(y,l),this.scheduler=y,this.work=l,this.pending=!1}schedule(y,l=0){if(this.closed)return this;this.state=y;const R=this.id,L=this.scheduler;return null!=R&&(this.id=this.recycleAsyncId(L,R,l)),this.pending=!0,this.delay=l,this.id=this.id||this.requestAsyncId(L,this.id,l),this}requestAsyncId(y,l,R=0){return f.setInterval(y.flush.bind(y,this),R)}recycleAsyncId(y,l,R=0){if(null!=R&&this.delay===R&&!1===this.pending)return l;f.clearInterval(l)}execute(y,l){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const R=this._execute(y,l);if(R)return R;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(y,l){let L,R=!1;try{this.work(y)}catch(J){R=!0,L=J||new Error("Scheduled action threw falsy error")}if(R)return this.unsubscribe(),L}unsubscribe(){if(!this.closed){const{id:y,scheduler:l}=this,{actions:R}=l;this.work=this.state=this.scheduler=null,this.pending=!1,(0,g.P)(R,this),null!=y&&(this.id=this.recycleAsyncId(l,y,null)),this.delay=null,super.unsubscribe()}}}},7565:(mn,ht,b)=>{"use strict";b.d(ht,{v:()=>f});var e=b(6063);class a{constructor(_,P=a.now){this.schedulerActionCtor=_,this.now=P}schedule(_,P=0,y){return new this.schedulerActionCtor(this,_).schedule(y,P)}}a.now=e.l.now;class f extends a{constructor(_,P=a.now){super(_,P),this.actions=[],this._active=!1,this._scheduled=void 0}flush(_){const{actions:P}=this;if(this._active)return void P.push(_);let y;this._active=!0;do{if(y=_.execute(_.state,_.delay))break}while(_=P.shift());if(this._active=!1,y){for(;_=P.shift();)_.unsubscribe();throw y}}}},6406:(mn,ht,b)=>{"use strict";b.d(ht,{Z:()=>y});var e=b(4408),a=b(727);const f={schedule(R){let L=requestAnimationFrame,J=cancelAnimationFrame;const{delegate:N}=f;N&&(L=N.requestAnimationFrame,J=N.cancelAnimationFrame);const w=L(x=>{J=void 0,R(x)});return new a.w0(()=>null==J?void 0:J(w))},requestAnimationFrame(...R){const{delegate:L}=f;return((null==L?void 0:L.requestAnimationFrame)||requestAnimationFrame)(...R)},cancelAnimationFrame(...R){const{delegate:L}=f;return((null==L?void 0:L.cancelAnimationFrame)||cancelAnimationFrame)(...R)},delegate:void 0};var _=b(7565);const y=new class P extends _.v{flush(L){this._active=!0,this._scheduled=void 0;const{actions:J}=this;let N,w=-1;L=L||J.shift();const x=J.length;do{if(N=L.execute(L.state,L.delay))break}while(++w<x&&(L=J.shift()));if(this._active=!1,N){for(;++w<x&&(L=J.shift());)L.unsubscribe();throw N}}}(class g extends e.o{constructor(L,J){super(L,J),this.scheduler=L,this.work=J}requestAsyncId(L,J,N=0){return null!==N&&N>0?super.requestAsyncId(L,J,N):(L.actions.push(this),L._scheduled||(L._scheduled=f.requestAnimationFrame(()=>L.flush(void 0))))}recycleAsyncId(L,J,N=0){if(null!=N&&N>0||null==N&&this.delay>0)return super.recycleAsyncId(L,J,N);0===L.actions.length&&(f.cancelAnimationFrame(J),L._scheduled=void 0)}})},4986:(mn,ht,b)=>{"use strict";b.d(ht,{P:()=>g,z:()=>f});var e=b(4408);const f=new(b(7565).v)(e.o),g=f},6063:(mn,ht,b)=>{"use strict";b.d(ht,{l:()=>e});const e={now:()=>(e.delegate||Date).now(),delegate:void 0}},3410:(mn,ht,b)=>{"use strict";b.d(ht,{z:()=>e});const e={setTimeout(...a){const{delegate:f}=e;return((null==f?void 0:f.setTimeout)||setTimeout)(...a)},clearTimeout(a){const{delegate:f}=e;return((null==f?void 0:f.clearTimeout)||clearTimeout)(a)},delegate:void 0}},2202:(mn,ht,b)=>{"use strict";b.d(ht,{h:()=>a});const a=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(mn,ht,b)=>{"use strict";b.d(ht,{L:()=>e});const e="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(mn,ht,b)=>{"use strict";b.d(ht,{K:()=>a});const a=(0,b(3888).d)(f=>function(){f(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(mn,ht,b)=>{"use strict";b.d(ht,{_6:()=>P,jO:()=>g,yG:()=>_});var e=b(576),a=b(3532);function f(y){return y[y.length-1]}function g(y){return(0,e.m)(f(y))?y.pop():void 0}function _(y){return(0,a.K)(f(y))?y.pop():void 0}function P(y,l){return"number"==typeof f(y)?y.pop():l}},4742:(mn,ht,b)=>{"use strict";b.d(ht,{D:()=>_});const{isArray:e}=Array,{getPrototypeOf:a,prototype:f,keys:g}=Object;function _(y){if(1===y.length){const l=y[0];if(e(l))return{args:l,keys:null};if(function P(y){return y&&"object"==typeof y&&a(y)===f}(l)){const R=g(l);return{args:R.map(L=>l[L]),keys:R}}}return{args:y,keys:null}}},8737:(mn,ht,b)=>{"use strict";function e(a,f){if(a){const g=a.indexOf(f);0<=g&&a.splice(g,1)}}b.d(ht,{P:()=>e})},3888:(mn,ht,b)=>{"use strict";function e(a){const g=a(_=>{Error.call(_),_.stack=(new Error).stack});return g.prototype=Object.create(Error.prototype),g.prototype.constructor=g,g}b.d(ht,{d:()=>e})},1810:(mn,ht,b)=>{"use strict";function e(a,f){return a.reduce((g,_,P)=>(g[_]=f[P],g),{})}b.d(ht,{n:()=>e})},2806:(mn,ht,b)=>{"use strict";b.d(ht,{O:()=>g,x:()=>f});var e=b(2416);let a=null;function f(_){if(e.v.useDeprecatedSynchronousErrorHandling){const P=!a;if(P&&(a={errorThrown:!1,error:null}),_(),P){const{errorThrown:y,error:l}=a;if(a=null,y)throw l}}else _()}function g(_){e.v.useDeprecatedSynchronousErrorHandling&&a&&(a.errorThrown=!0,a.error=_)}},9672:(mn,ht,b)=>{"use strict";function e(a,f,g,_=0,P=!1){const y=f.schedule(function(){g(),P?a.add(this.schedule(null,_)):this.unsubscribe()},_);if(a.add(y),!P)return y}b.d(ht,{f:()=>e})},4671:(mn,ht,b)=>{"use strict";function e(a){return a}b.d(ht,{y:()=>e})},1144:(mn,ht,b)=>{"use strict";b.d(ht,{z:()=>e});const e=a=>a&&"number"==typeof a.length&&"function"!=typeof a},2206:(mn,ht,b)=>{"use strict";b.d(ht,{D:()=>a});var e=b(576);function a(f){return Symbol.asyncIterator&&(0,e.m)(null==f?void 0:f[Symbol.asyncIterator])}},576:(mn,ht,b)=>{"use strict";function e(a){return"function"==typeof a}b.d(ht,{m:()=>e})},3670:(mn,ht,b)=>{"use strict";b.d(ht,{c:()=>f});var e=b(8822),a=b(576);function f(g){return(0,a.m)(g[e.L])}},6495:(mn,ht,b)=>{"use strict";b.d(ht,{T:()=>f});var e=b(2202),a=b(576);function f(g){return(0,a.m)(null==g?void 0:g[e.h])}},8239:(mn,ht,b)=>{"use strict";b.d(ht,{t:()=>a});var e=b(576);function a(f){return(0,e.m)(null==f?void 0:f.then)}},3260:(mn,ht,b)=>{"use strict";b.d(ht,{L:()=>g,Q:()=>f});var e=b(5987),a=b(576);function f(_){return(0,e.FC)(this,arguments,function*(){const y=_.getReader();try{for(;;){const{value:l,done:R}=yield(0,e.qq)(y.read());if(R)return yield(0,e.qq)(void 0);yield yield(0,e.qq)(l)}}finally{y.releaseLock()}})}function g(_){return(0,a.m)(null==_?void 0:_.getReader)}},3532:(mn,ht,b)=>{"use strict";b.d(ht,{K:()=>a});var e=b(576);function a(f){return f&&(0,e.m)(f.schedule)}},4482:(mn,ht,b)=>{"use strict";b.d(ht,{A:()=>a,e:()=>f});var e=b(576);function a(g){return(0,e.m)(null==g?void 0:g.lift)}function f(g){return _=>{if(a(_))return _.lift(function(P){try{return g(P,this)}catch(y){this.error(y)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(mn,ht,b)=>{"use strict";b.d(ht,{Z:()=>g});var e=b(4004);const{isArray:a}=Array;function g(_){return(0,e.U)(P=>function f(_,P){return a(P)?_(...P):_(P)}(_,P))}},5032:(mn,ht,b)=>{"use strict";function e(){}b.d(ht,{Z:()=>e})},9635:(mn,ht,b)=>{"use strict";b.d(ht,{U:()=>f,z:()=>a});var e=b(4671);function a(...g){return f(g)}function f(g){return 0===g.length?e.y:1===g.length?g[0]:function(P){return g.reduce((y,l)=>l(y),P)}}},7849:(mn,ht,b)=>{"use strict";b.d(ht,{h:()=>f});var e=b(2416),a=b(3410);function f(g){a.z.setTimeout(()=>{const{onUnhandledError:_}=e.v;if(!_)throw g;_(g)})}},4532:(mn,ht,b)=>{"use strict";function e(a){return new TypeError(`You provided ${null!==a&&"object"==typeof a?"an invalid object":`'${a}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}b.d(ht,{z:()=>e})},1588:(mn,ht,b)=>{"use strict";b.d(ht,{Z:()=>J});const a={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let f;const g=new Uint8Array(16);function _(){if(!f&&(f="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!f))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return f(g)}const P=[];for(let N=0;N<256;++N)P.push((N+256).toString(16).slice(1));const J=function L(N,w,x){if(a.randomUUID&&!w&&!N)return a.randomUUID();const D=(N=N||{}).random||(N.rng||_)();if(D[6]=15&D[6]|64,D[8]=63&D[8]|128,w){x=x||0;for(let S=0;S<16;++S)w[x+S]=D[S];return w}return function y(N,w=0){return(P[N[w+0]]+P[N[w+1]]+P[N[w+2]]+P[N[w+3]]+"-"+P[N[w+4]]+P[N[w+5]]+"-"+P[N[w+6]]+P[N[w+7]]+"-"+P[N[w+8]]+P[N[w+9]]+"-"+P[N[w+10]]+P[N[w+11]]+P[N[w+12]]+P[N[w+13]]+P[N[w+14]]+P[N[w+15]]).toLowerCase()}(D)}},9162:mn=>{self,mn.exports=(()=>(()=>{"use strict";var b,ht={};return b=ht,Object.defineProperty(b,"__esModule",{value:!0}),b.FitAddon=void 0,b.FitAddon=class{activate(e){this._terminal=e}dispose(){}fit(){const e=this.proposeDimensions();e&&this._terminal&&!isNaN(e.cols)&&!isNaN(e.rows)&&(this._terminal.rows===e.rows&&this._terminal.cols===e.cols||(this._terminal._core._renderService.clear(),this._terminal.resize(e.cols,e.rows)))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const e=this._terminal._core,a=e._renderService.dimensions;if(0===a.css.cell.width||0===a.css.cell.height)return;const f=0===this._terminal.options.scrollback?0:e.viewport.scrollBarWidth,g=window.getComputedStyle(this._terminal.element.parentElement),_=parseInt(g.getPropertyValue("height")),P=Math.max(0,parseInt(g.getPropertyValue("width"))),y=window.getComputedStyle(this._terminal.element),l=_-(parseInt(y.getPropertyValue("padding-top"))+parseInt(y.getPropertyValue("padding-bottom"))),R=P-(parseInt(y.getPropertyValue("padding-right"))+parseInt(y.getPropertyValue("padding-left")))-f;return{cols:Math.max(2,Math.floor(R/a.css.cell.width)),rows:Math.max(1,Math.floor(l/a.css.cell.height))}}},ht})())()},4793:mn=>{self,mn.exports=(()=>(()=>{"use strict";var ht={4567:function(f,g,_){var P=this&&this.__decorate||function(S,U,F,ce){var te,V=arguments.length,k=V<3?U:null===ce?ce=Object.getOwnPropertyDescriptor(U,F):ce;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(S,U,F,ce);else for(var O=S.length-1;O>=0;O--)(te=S[O])&&(k=(V<3?te(k):V>3?te(U,F,k):te(U,F))||k);return V>3&&k&&Object.defineProperty(U,F,k),k},y=this&&this.__param||function(S,U){return function(F,ce){U(F,ce,S)}};Object.defineProperty(g,"__esModule",{value:!0}),g.AccessibilityManager=void 0;const l=_(9042),R=_(6114),L=_(9924),J=_(844),N=_(5596),w=_(4725),x=_(3656);let D=g.AccessibilityManager=class extends J.Disposable{constructor(S,U){super(),this._terminal=S,this._renderService=U,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let F=0;F<this._terminal.rows;F++)this._rowElements[F]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[F]);if(this._topBoundaryFocusListener=F=>this._handleBoundaryFocus(F,0),this._bottomBoundaryFocusListener=F=>this._handleBoundaryFocus(F,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new L.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(F=>this._handleResize(F.rows))),this.register(this._terminal.onRender(F=>this._refreshRows(F.start,F.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(F=>this._handleChar(F))),this.register(this._terminal.onLineFeed(()=>this._handleChar("\n"))),this.register(this._terminal.onA11yTab(F=>this._handleTab(F))),this.register(this._terminal.onKey(F=>this._handleKey(F.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new N.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,x.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,J.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(S){for(let U=0;U<S;U++)this._handleChar(" ")}_handleChar(S){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==S&&(this._charsToAnnounce+=S):this._charsToAnnounce+=S,"\n"===S&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=l.tooMuchOutput)),R.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,R.isMac&&this._liveRegion.remove()}_handleKey(S){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(S)||this._charsToConsume.push(S)}_refreshRows(S,U){this._liveRegionDebouncer.refresh(S,U,this._terminal.rows)}_renderRows(S,U){const F=this._terminal.buffer,ce=F.lines.length.toString();for(let te=S;te<=U;te++){const V=F.translateBufferLineToString(F.ydisp+te,!0),k=(F.ydisp+te+1).toString(),O=this._rowElements[te];O&&(0===V.length?O.innerText="\xa0":O.textContent=V,O.setAttribute("aria-posinset",k),O.setAttribute("aria-setsize",ce))}this._announceCharacters()}_announceCharacters(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(S,U){const F=S.target,ce=this._rowElements[0===U?1:this._rowElements.length-2];if(F.getAttribute("aria-posinset")===(0===U?"1":`${this._terminal.buffer.lines.length}`)||S.relatedTarget!==ce)return;let te,V;if(0===U?(te=F,V=this._rowElements.pop(),this._rowContainer.removeChild(V)):(te=this._rowElements.shift(),V=F,this._rowContainer.removeChild(te)),te.removeEventListener("focus",this._topBoundaryFocusListener),V.removeEventListener("focus",this._bottomBoundaryFocusListener),0===U){const k=this._createAccessibilityTreeNode();this._rowElements.unshift(k),this._rowContainer.insertAdjacentElement("afterbegin",k)}else{const k=this._createAccessibilityTreeNode();this._rowElements.push(k),this._rowContainer.appendChild(k)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===U?-1:1),this._rowElements[0===U?1:this._rowElements.length-2].focus(),S.preventDefault(),S.stopImmediatePropagation()}_handleResize(S){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let U=this._rowContainer.children.length;U<this._terminal.rows;U++)this._rowElements[U]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[U]);for(;this._rowElements.length>S;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const S=document.createElement("div");return S.setAttribute("role","listitem"),S.tabIndex=-1,this._refreshRowDimensions(S),S}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let S=0;S<this._terminal.rows;S++)this._refreshRowDimensions(this._rowElements[S])}}_refreshRowDimensions(S){S.style.height=`${this._renderService.dimensions.css.cell.height}px`}};g.AccessibilityManager=D=P([y(1,w.IRenderService)],D)},3614:(f,g)=>{function _(R){return R.replace(/\r?\n/g,"\r")}function P(R,L){return L?"\x1b[200~"+R+"\x1b[201~":R}function y(R,L,J,N){R=P(R=_(R),J.decPrivateModes.bracketedPasteMode&&!0!==N.rawOptions.ignoreBracketedPasteMode),J.triggerDataEvent(R,!0),L.value=""}function l(R,L,J){const N=J.getBoundingClientRect(),w=R.clientX-N.left-10,x=R.clientY-N.top-10;L.style.width="20px",L.style.height="20px",L.style.left=`${w}px`,L.style.top=`${x}px`,L.style.zIndex="1000",L.focus()}Object.defineProperty(g,"__esModule",{value:!0}),g.rightClickHandler=g.moveTextAreaUnderMouseCursor=g.paste=g.handlePasteEvent=g.copyHandler=g.bracketTextForPaste=g.prepareTextForTerminal=void 0,g.prepareTextForTerminal=_,g.bracketTextForPaste=P,g.copyHandler=function(R,L){R.clipboardData&&R.clipboardData.setData("text/plain",L.selectionText),R.preventDefault()},g.handlePasteEvent=function(R,L,J,N){R.stopPropagation(),R.clipboardData&&y(R.clipboardData.getData("text/plain"),L,J,N)},g.paste=y,g.moveTextAreaUnderMouseCursor=l,g.rightClickHandler=function(R,L,J,N,w){l(R,L,J),w&&N.rightClickSelect(R),L.value=N.selectionText,L.select()}},7239:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.ColorContrastCache=void 0;const P=_(1505);g.ColorContrastCache=class{constructor(){this._color=new P.TwoKeyMap,this._css=new P.TwoKeyMap}setCss(y,l,R){this._css.set(y,l,R)}getCss(y,l){return this._css.get(y,l)}setColor(y,l,R){this._color.set(y,l,R)}getColor(y,l){return this._color.get(y,l)}clear(){this._color.clear(),this._css.clear()}}},3656:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.addDisposableDomListener=void 0,g.addDisposableDomListener=function(_,P,y,l){_.addEventListener(P,y,l);let R=!1;return{dispose:()=>{R||(R=!0,_.removeEventListener(P,y,l))}}}},6465:function(f,g,_){var P=this&&this.__decorate||function(w,x,D,S){var U,F=arguments.length,ce=F<3?x:null===S?S=Object.getOwnPropertyDescriptor(x,D):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ce=Reflect.decorate(w,x,D,S);else for(var te=w.length-1;te>=0;te--)(U=w[te])&&(ce=(F<3?U(ce):F>3?U(x,D,ce):U(x,D))||ce);return F>3&&ce&&Object.defineProperty(x,D,ce),ce},y=this&&this.__param||function(w,x){return function(D,S){x(D,S,w)}};Object.defineProperty(g,"__esModule",{value:!0}),g.Linkifier2=void 0;const l=_(3656),R=_(8460),L=_(844),J=_(2585);let N=g.Linkifier2=class extends L.Disposable{get currentLink(){return this._currentLink}constructor(w){super(),this._bufferService=w,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new R.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new R.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,L.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,L.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(w){return this._linkProviders.push(w),{dispose:()=>{const x=this._linkProviders.indexOf(w);-1!==x&&this._linkProviders.splice(x,1)}}}attachToDom(w,x,D){this._element=w,this._mouseService=x,this._renderService=D,this.register((0,l.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,l.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,l.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,l.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(w){if(this._lastMouseEvent=w,!this._element||!this._mouseService)return;const x=this._positionFromMouseEvent(w,this._element,this._mouseService);if(!x)return;this._isMouseOut=!1;const D=w.composedPath();for(let S=0;S<D.length;S++){const U=D[S];if(U.classList.contains("xterm"))break;if(U.classList.contains("xterm-hover"))return}this._lastBufferCell&&x.x===this._lastBufferCell.x&&x.y===this._lastBufferCell.y||(this._handleHover(x),this._lastBufferCell=x)}_handleHover(w){if(this._activeLine!==w.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(w,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,w)||(this._clearCurrentLink(),this._askForLink(w,!0))}_askForLink(w,x){var D,S;this._activeProviderReplies&&x||(null===(D=this._activeProviderReplies)||void 0===D||D.forEach(F=>{null==F||F.forEach(ce=>{ce.link.dispose&&ce.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=w.y);let U=!1;for(const[F,ce]of this._linkProviders.entries())x?null!==(S=this._activeProviderReplies)&&void 0!==S&&S.get(F)&&(U=this._checkLinkProviderResult(F,w,U)):ce.provideLinks(w.y,te=>{var V,k;if(this._isMouseOut)return;const O=null==te?void 0:te.map($=>({link:$}));null===(V=this._activeProviderReplies)||void 0===V||V.set(F,O),U=this._checkLinkProviderResult(F,w,U),(null===(k=this._activeProviderReplies)||void 0===k?void 0:k.size)===this._linkProviders.length&&this._removeIntersectingLinks(w.y,this._activeProviderReplies)})}_removeIntersectingLinks(w,x){const D=new Set;for(let S=0;S<x.size;S++){const U=x.get(S);if(U)for(let F=0;F<U.length;F++){const ce=U[F],V=ce.link.range.end.y>w?this._bufferService.cols:ce.link.range.end.x;for(let k=ce.link.range.start.y<w?0:ce.link.range.start.x;k<=V;k++){if(D.has(k)){U.splice(F--,1);break}D.add(k)}}}}_checkLinkProviderResult(w,x,D){var S;if(!this._activeProviderReplies)return D;const U=this._activeProviderReplies.get(w);let F=!1;for(let ce=0;ce<w;ce++)this._activeProviderReplies.has(ce)&&!this._activeProviderReplies.get(ce)||(F=!0);if(!F&&U){const ce=U.find(te=>this._linkAtPosition(te.link,x));ce&&(D=!0,this._handleNewLink(ce))}if(this._activeProviderReplies.size===this._linkProviders.length&&!D)for(let ce=0;ce<this._activeProviderReplies.size;ce++){const te=null===(S=this._activeProviderReplies.get(ce))||void 0===S?void 0:S.find(V=>this._linkAtPosition(V.link,x));if(te){D=!0,this._handleNewLink(te);break}}return D}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(w){if(!this._element||!this._mouseService||!this._currentLink)return;const x=this._positionFromMouseEvent(w,this._element,this._mouseService);x&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,x)&&this._currentLink.link.activate(w,this._currentLink.link.text)}_clearCurrentLink(w,x){this._element&&this._currentLink&&this._lastMouseEvent&&(!w||!x||this._currentLink.link.range.start.y>=w&&this._currentLink.link.range.end.y<=x)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,L.disposeArray)(this._linkCacheDisposables))}_handleNewLink(w){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const x=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);x&&this._linkAtPosition(w.link,x)&&(this._currentLink=w,this._currentLink.state={decorations:{underline:void 0===w.link.decorations||w.link.decorations.underline,pointerCursor:void 0===w.link.decorations||w.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,w.link,this._lastMouseEvent),w.link.decorations={},Object.defineProperties(w.link.decorations,{pointerCursor:{get:()=>{var D,S;return null===(S=null===(D=this._currentLink)||void 0===D?void 0:D.state)||void 0===S?void 0:S.decorations.pointerCursor},set:D=>{var S,U;(null===(S=this._currentLink)||void 0===S?void 0:S.state)&&this._currentLink.state.decorations.pointerCursor!==D&&(this._currentLink.state.decorations.pointerCursor=D,this._currentLink.state.isHovered&&(null===(U=this._element)||void 0===U||U.classList.toggle("xterm-cursor-pointer",D)))}},underline:{get:()=>{var D,S;return null===(S=null===(D=this._currentLink)||void 0===D?void 0:D.state)||void 0===S?void 0:S.decorations.underline},set:D=>{var S,U,F;(null===(S=this._currentLink)||void 0===S?void 0:S.state)&&(null===(F=null===(U=this._currentLink)||void 0===U?void 0:U.state)||void 0===F?void 0:F.decorations.underline)!==D&&(this._currentLink.state.decorations.underline=D,this._currentLink.state.isHovered&&this._fireUnderlineEvent(w.link,D))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(D=>{if(!this._currentLink)return;const S=0===D.start?0:D.start+1+this._bufferService.buffer.ydisp,U=this._bufferService.buffer.ydisp+1+D.end;if(this._currentLink.link.range.start.y>=S&&this._currentLink.link.range.end.y<=U&&(this._clearCurrentLink(S,U),this._lastMouseEvent&&this._element)){const F=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);F&&this._askForLink(F,!1)}})))}_linkHover(w,x,D){var S;!(null===(S=this._currentLink)||void 0===S)&&S.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(x,!0),this._currentLink.state.decorations.pointerCursor&&w.classList.add("xterm-cursor-pointer")),x.hover&&x.hover(D,x.text)}_fireUnderlineEvent(w,x){const D=w.range,S=this._bufferService.buffer.ydisp,U=this._createLinkUnderlineEvent(D.start.x-1,D.start.y-S-1,D.end.x,D.end.y-S-1,void 0);(x?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(U)}_linkLeave(w,x,D){var S;!(null===(S=this._currentLink)||void 0===S)&&S.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(x,!1),this._currentLink.state.decorations.pointerCursor&&w.classList.remove("xterm-cursor-pointer")),x.leave&&x.leave(D,x.text)}_linkAtPosition(w,x){const U=x.y*this._bufferService.cols+x.x;return w.range.start.y*this._bufferService.cols+w.range.start.x<=U&&U<=w.range.end.y*this._bufferService.cols+w.range.end.x}_positionFromMouseEvent(w,x,D){const S=D.getCoords(w,x,this._bufferService.cols,this._bufferService.rows);if(S)return{x:S[0],y:S[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(w,x,D,S,U){return{x1:w,y1:x,x2:D,y2:S,cols:this._bufferService.cols,fg:U}}};g.Linkifier2=N=P([y(0,J.IBufferService)],N)},9042:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.tooMuchOutput=g.promptLabel=void 0,g.promptLabel="Terminal input",g.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(f,g,_){var P=this&&this.__decorate||function(N,w,x,D){var S,U=arguments.length,F=U<3?w:null===D?D=Object.getOwnPropertyDescriptor(w,x):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)F=Reflect.decorate(N,w,x,D);else for(var ce=N.length-1;ce>=0;ce--)(S=N[ce])&&(F=(U<3?S(F):U>3?S(w,x,F):S(w,x))||F);return U>3&&F&&Object.defineProperty(w,x,F),F},y=this&&this.__param||function(N,w){return function(x,D){w(x,D,N)}};Object.defineProperty(g,"__esModule",{value:!0}),g.OscLinkProvider=void 0;const l=_(511),R=_(2585);let L=g.OscLinkProvider=class{constructor(N,w,x){this._bufferService=N,this._optionsService=w,this._oscLinkService=x}provideLinks(N,w){var x;const D=this._bufferService.buffer.lines.get(N-1);if(!D)return void w(void 0);const S=[],U=this._optionsService.rawOptions.linkHandler,F=new l.CellData,ce=D.getTrimmedLength();let te=-1,V=-1,k=!1;for(let O=0;O<ce;O++)if(-1!==V||D.hasContent(O)){if(D.loadCell(O,F),F.hasExtendedAttrs()&&F.extended.urlId){if(-1===V){V=O,te=F.extended.urlId;continue}k=F.extended.urlId!==te}else-1!==V&&(k=!0);if(k||-1!==V&&O===ce-1){const $=null===(x=this._oscLinkService.getLinkData(te))||void 0===x?void 0:x.uri;if($){const ue={start:{x:V+1,y:N},end:{x:O+(k||O!==ce-1?0:1),y:N}};let q=!1;if(null==U||!U.allowNonHttpProtocols)try{const Y=new URL($);["http:","https:"].includes(Y.protocol)||(q=!0)}catch(Y){q=!0}q||S.push({text:$,range:ue,activate:(Y,G)=>U?U.activate(Y,G,ue):J(0,G),hover:(Y,G)=>{var he;return null===(he=null==U?void 0:U.hover)||void 0===he?void 0:he.call(U,Y,G,ue)},leave:(Y,G)=>{var he;return null===(he=null==U?void 0:U.leave)||void 0===he?void 0:he.call(U,Y,G,ue)}})}k=!1,F.hasExtendedAttrs()&&F.extended.urlId?(V=O,te=F.extended.urlId):(V=-1,te=-1)}}w(S)}};function J(N,w){if(confirm(`Do you want to navigate to ${w}?\n\nWARNING: This link could potentially be dangerous`)){const x=window.open();if(x){try{x.opener=null}catch(D){}x.location.href=w}else console.warn("Opening link blocked as opener could not be cleared")}}g.OscLinkProvider=L=P([y(0,R.IBufferService),y(1,R.IOptionsService),y(2,R.IOscLinkService)],L)},6193:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.RenderDebouncer=void 0,g.RenderDebouncer=class{constructor(_,P){this._parentWindow=_,this._renderCallback=P,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(_){return this._refreshCallbacks.push(_),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(_,P,y){this._rowCount=y,_=void 0!==_?_:0,P=void 0!==P?P:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,_):_,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,P):P,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return void this._runRefreshCallbacks();const _=Math.max(this._rowStart,0),P=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(_,P),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const _ of this._refreshCallbacks)_(0);this._refreshCallbacks=[]}}},5596:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.ScreenDprMonitor=void 0;const P=_(844);g.ScreenDprMonitor=class y extends P.Disposable{constructor(R){super(),this._parentWindow=R,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,P.toDisposable)(()=>{this.clearListener()}))}setListener(R){this._listener&&this.clearListener(),this._listener=R,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var R;this._outerListener&&(null===(R=this._resolutionMediaMatchList)||void 0===R||R.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}},3236:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.Terminal=void 0;const P=_(3614),y=_(3656),l=_(6465),R=_(9042),L=_(3730),J=_(1680),N=_(3107),w=_(5744),x=_(2950),D=_(1296),S=_(428),U=_(4269),F=_(5114),ce=_(8934),te=_(3230),V=_(9312),k=_(4725),O=_(6731),$=_(8055),ue=_(8969),q=_(8460),Y=_(844),G=_(6114),he=_(8437),j=_(2584),Q=_(7399),K=_(5941),z=_(9074),oe=_(2585),Te=_(5435),Ae=_(4567),Ke="undefined"!=typeof window?window.document:null;g.Terminal=class be extends ue.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(X={}){super(X),this.browser=G,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new Y.MutableDisposable),this._onCursorMove=this.register(new q.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new q.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new q.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new q.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new q.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new q.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new q.EventEmitter),this._onBlur=this.register(new q.EventEmitter),this._onA11yCharEmitter=this.register(new q.EventEmitter),this._onA11yTabEmitter=this.register(new q.EventEmitter),this._onWillOpen=this.register(new q.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(l.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(L.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(z.DecorationService),this._instantiationService.setService(oe.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((xe,we)=>this.refresh(xe,we))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(xe=>this._reportWindowsOptions(xe))),this.register(this._inputHandler.onColor(xe=>this._handleColorEvent(xe))),this.register((0,q.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,q.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,q.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,q.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(xe=>this._afterResize(xe.cols,xe.rows))),this.register((0,Y.toDisposable)(()=>{var xe,we;this._customKeyEventHandler=void 0,null===(we=null===(xe=this.element)||void 0===xe?void 0:xe.parentNode)||void 0===we||we.removeChild(this.element)}))}_handleColorEvent(X){if(this._themeService)for(const xe of X){let we,Oe="";switch(xe.index){case 256:we="foreground",Oe="10";break;case 257:we="background",Oe="11";break;case 258:we="cursor",Oe="12";break;default:we="ansi",Oe="4;"+xe.index}switch(xe.type){case 0:const dt=$.color.toColorRGB("ansi"===we?this._themeService.colors.ansi[xe.index]:this._themeService.colors[we]);this.coreService.triggerDataEvent(`${j.C0.ESC}]${Oe};${(0,K.toRgbString)(dt)}${j.C1_ESCAPED.ST}`);break;case 1:if("ansi"===we)this._themeService.modifyColors(bt=>bt.ansi[xe.index]=$.rgba.toColor(...xe.color));else{const bt=we;this._themeService.modifyColors(it=>it[bt]=$.rgba.toColor(...xe.color))}break;case 2:this._themeService.restoreColor(xe.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(X){X?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(Ae.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(X){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(j.C0.ESC+"[I"),this.updateCursorStyle(X),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var X;return null===(X=this.textarea)||void 0===X?void 0:X.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(j.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const xe=this.buffer.lines.get(this.buffer.ybase+this.buffer.y);if(!xe)return;const we=Math.min(this.buffer.x,this.cols-1),Oe=this._renderService.dimensions.css.cell.height,dt=xe.getWidth(we),bt=this._renderService.dimensions.css.cell.width*dt,it=this.buffer.y*this._renderService.dimensions.css.cell.height;this.textarea.style.left=we*this._renderService.dimensions.css.cell.width+"px",this.textarea.style.top=it+"px",this.textarea.style.width=bt+"px",this.textarea.style.height=Oe+"px",this.textarea.style.lineHeight=Oe+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,y.addDisposableDomListener)(this.element,"copy",xe=>{this.hasSelection()&&(0,P.copyHandler)(xe,this._selectionService)}));const X=xe=>(0,P.handlePasteEvent)(xe,this.textarea,this.coreService,this.optionsService);this.register((0,y.addDisposableDomListener)(this.textarea,"paste",X)),this.register((0,y.addDisposableDomListener)(this.element,"paste",X)),this.register(G.isFirefox?(0,y.addDisposableDomListener)(this.element,"mousedown",xe=>{2===xe.button&&(0,P.rightClickHandler)(xe,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}):(0,y.addDisposableDomListener)(this.element,"contextmenu",xe=>{(0,P.rightClickHandler)(xe,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),G.isLinux&&this.register((0,y.addDisposableDomListener)(this.element,"auxclick",xe=>{1===xe.button&&(0,P.moveTextAreaUnderMouseCursor)(xe,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,y.addDisposableDomListener)(this.textarea,"keyup",X=>this._keyUp(X),!0)),this.register((0,y.addDisposableDomListener)(this.textarea,"keydown",X=>this._keyDown(X),!0)),this.register((0,y.addDisposableDomListener)(this.textarea,"keypress",X=>this._keyPress(X),!0)),this.register((0,y.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,y.addDisposableDomListener)(this.textarea,"compositionupdate",X=>this._compositionHelper.compositionupdate(X))),this.register((0,y.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,y.addDisposableDomListener)(this.textarea,"input",X=>this._inputEvent(X),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(X){var xe;if(!X)throw new Error("Terminal requires a parent element.");X.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=X.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),X.appendChild(this.element);const we=Ke.createDocumentFragment();this._viewportElement=Ke.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),we.appendChild(this._viewportElement),this._viewportScrollArea=Ke.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=Ke.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=Ke.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),we.appendChild(this.screenElement),this.textarea=Ke.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",R.promptLabel),G.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(F.CoreBrowserService,this.textarea,null!==(xe=this._document.defaultView)&&void 0!==xe?xe:window),this._instantiationService.setService(k.ICoreBrowserService,this._coreBrowserService),this.register((0,y.addDisposableDomListener)(this.textarea,"focus",Oe=>this._handleTextAreaFocus(Oe))),this.register((0,y.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(S.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(k.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(O.ThemeService),this._instantiationService.setService(k.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(U.CharacterJoinerService),this._instantiationService.setService(k.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(te.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(k.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(Oe=>this._onRender.fire(Oe))),this.onResize(Oe=>this._renderService.resize(Oe.cols,Oe.rows)),this._compositionView=Ke.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(x.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(we);try{this._onWillOpen.fire(this.element)}catch(Oe){}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(ce.MouseService),this._instantiationService.setService(k.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(J.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(Oe=>this.scrollLines(Oe.amount,Oe.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(V.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(k.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(Oe=>this.scrollLines(Oe.amount,Oe.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(Oe=>this._renderService.handleSelectionChanged(Oe.start,Oe.end,Oe.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(Oe=>{this.textarea.value=Oe,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(Oe=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,y.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(N.BufferDecorationRenderer,this.screenElement)),this.register((0,y.addDisposableDomListener)(this.element,"mousedown",Oe=>this._selectionService.handleMouseDown(Oe))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(Ae.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",Oe=>this._handleScreenReaderModeOptionChange(Oe))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(w.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",Oe=>{!this._overviewRulerRenderer&&Oe&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(w.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(D.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const X=this,xe=this.element;function we(bt){const it=X._mouseService.getMouseReportCoords(bt,X.screenElement);if(!it)return!1;let Dt,vt;switch(bt.overrideType||bt.type){case"mousemove":vt=32,void 0===bt.buttons?(Dt=3,void 0!==bt.button&&(Dt=bt.button<3?bt.button:3)):Dt=1&bt.buttons?0:4&bt.buttons?1:2&bt.buttons?2:3;break;case"mouseup":vt=0,Dt=bt.button<3?bt.button:3;break;case"mousedown":vt=1,Dt=bt.button<3?bt.button:3;break;case"wheel":if(0===X.viewport.getLinesScrolled(bt))return!1;vt=bt.deltaY<0?0:1,Dt=4;break;default:return!1}return!(void 0===vt||void 0===Dt||Dt>4)&&X.coreMouseService.triggerMouseEvent({col:it.col,row:it.row,x:it.x,y:it.y,button:Dt,action:vt,ctrl:bt.ctrlKey,alt:bt.altKey,shift:bt.shiftKey})}const Oe={mouseup:null,wheel:null,mousedrag:null,mousemove:null},dt={mouseup:bt=>(we(bt),bt.buttons||(this._document.removeEventListener("mouseup",Oe.mouseup),Oe.mousedrag&&this._document.removeEventListener("mousemove",Oe.mousedrag)),this.cancel(bt)),wheel:bt=>(we(bt),this.cancel(bt,!0)),mousedrag:bt=>{bt.buttons&&we(bt)},mousemove:bt=>{bt.buttons||we(bt)}};this.register(this.coreMouseService.onProtocolChange(bt=>{bt?("debug"===this.optionsService.rawOptions.logLevel&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(bt)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&bt?Oe.mousemove||(xe.addEventListener("mousemove",dt.mousemove),Oe.mousemove=dt.mousemove):(xe.removeEventListener("mousemove",Oe.mousemove),Oe.mousemove=null),16&bt?Oe.wheel||(xe.addEventListener("wheel",dt.wheel,{passive:!1}),Oe.wheel=dt.wheel):(xe.removeEventListener("wheel",Oe.wheel),Oe.wheel=null),2&bt?Oe.mouseup||(xe.addEventListener("mouseup",dt.mouseup),Oe.mouseup=dt.mouseup):(this._document.removeEventListener("mouseup",Oe.mouseup),xe.removeEventListener("mouseup",Oe.mouseup),Oe.mouseup=null),4&bt?Oe.mousedrag||(Oe.mousedrag=dt.mousedrag):(this._document.removeEventListener("mousemove",Oe.mousedrag),Oe.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,y.addDisposableDomListener)(xe,"mousedown",bt=>{if(bt.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(bt))return we(bt),Oe.mouseup&&this._document.addEventListener("mouseup",Oe.mouseup),Oe.mousedrag&&this._document.addEventListener("mousemove",Oe.mousedrag),this.cancel(bt)})),this.register((0,y.addDisposableDomListener)(xe,"wheel",bt=>{if(!Oe.wheel){if(!this.buffer.hasScrollback){const it=this.viewport.getLinesScrolled(bt);if(0===it)return;const Dt=j.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(bt.deltaY<0?"A":"B");let vt="";for(let Gt=0;Gt<Math.abs(it);Gt++)vt+=Dt;return this.coreService.triggerDataEvent(vt,!0),this.cancel(bt,!0)}return this.viewport.handleWheel(bt)?this.cancel(bt):void 0}},{passive:!1})),this.register((0,y.addDisposableDomListener)(xe,"touchstart",bt=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(bt),this.cancel(bt)},{passive:!0})),this.register((0,y.addDisposableDomListener)(xe,"touchmove",bt=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(bt)?void 0:this.cancel(bt)},{passive:!1}))}refresh(X,xe){var we;null===(we=this._renderService)||void 0===we||we.refreshRows(X,xe)}updateCursorStyle(X){var xe;null!==(xe=this._selectionService)&&void 0!==xe&&xe.shouldColumnSelect(X)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(X,xe,we=0){var Oe;1===we?(super.scrollLines(X,xe,we),this.refresh(0,this.rows-1)):null===(Oe=this.viewport)||void 0===Oe||Oe.scrollLines(X)}paste(X){(0,P.paste)(X,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(X){this._customKeyEventHandler=X}registerLinkProvider(X){return this.linkifier2.registerLinkProvider(X)}registerCharacterJoiner(X){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const xe=this._characterJoinerService.register(X);return this.refresh(0,this.rows-1),xe}deregisterCharacterJoiner(X){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(X)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(X){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+X)}registerDecoration(X){return this._decorationService.registerDecoration(X)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(X,xe,we){this._selectionService.setSelection(X,xe,we)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var X;null===(X=this._selectionService)||void 0===X||X.clearSelection()}selectAll(){var X;null===(X=this._selectionService)||void 0===X||X.selectAll()}selectLines(X,xe){var we;null===(we=this._selectionService)||void 0===we||we.selectLines(X,xe)}_keyDown(X){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&!1===this._customKeyEventHandler(X))return!1;const xe=this.browser.isMac&&this.options.macOptionIsMeta&&X.altKey;if(!xe&&!this._compositionHelper.keydown(X))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;xe||"Dead"!==X.key&&"AltGraph"!==X.key||(this._unprocessedDeadKey=!0);const we=(0,Q.evaluateKeyboardEvent)(X,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(X),3===we.type||2===we.type){const Oe=this.rows-1;return this.scrollLines(2===we.type?-Oe:Oe),this.cancel(X,!0)}return 1===we.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,X)||(we.cancel&&this.cancel(X,!0),!we.key||!!(X.key&&!X.ctrlKey&&!X.altKey&&!X.metaKey&&1===X.key.length&&X.key.charCodeAt(0)>=65&&X.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(we.key!==j.C0.ETX&&we.key!==j.C0.CR||(this.textarea.value=""),this._onKey.fire({key:we.key,domEvent:X}),this._showCursor(),this.coreService.triggerDataEvent(we.key,!0),!this.optionsService.rawOptions.screenReaderMode||X.altKey||X.ctrlKey?this.cancel(X,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(X,xe){const we=X.isMac&&!this.options.macOptionIsMeta&&xe.altKey&&!xe.ctrlKey&&!xe.metaKey||X.isWindows&&xe.altKey&&xe.ctrlKey&&!xe.metaKey||X.isWindows&&xe.getModifierState("AltGraph");return"keypress"===xe.type?we:we&&(!xe.keyCode||xe.keyCode>47)}_keyUp(X){var xe;this._keyDownSeen=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(X)||(16===(xe=X).keyCode||17===xe.keyCode||18===xe.keyCode||this.focus(),this.updateCursorStyle(X),this._keyPressHandled=!1)}_keyPress(X){let xe;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&!1===this._customKeyEventHandler(X))return!1;if(this.cancel(X),X.charCode)xe=X.charCode;else if(null==X.which)xe=X.keyCode;else{if(0===X.which||0===X.charCode)return!1;xe=X.which}return!(!xe||(X.altKey||X.ctrlKey||X.metaKey)&&!this._isThirdLevelShift(this.browser,X)||(xe=String.fromCharCode(xe),this._onKey.fire({key:xe,domEvent:X}),this._showCursor(),this.coreService.triggerDataEvent(xe,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(X){return!(!X.data||"insertText"!==X.inputType||X.composed&&this._keyDownSeen||this.optionsService.rawOptions.screenReaderMode||this._keyPressHandled||(this._unprocessedDeadKey=!1,this.coreService.triggerDataEvent(X.data,!0),this.cancel(X),0))}resize(X,xe){X!==this.cols||xe!==this.rows?super.resize(X,xe):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(X,xe){var we,Oe;null===(we=this._charSizeService)||void 0===we||we.measure(),null===(Oe=this.viewport)||void 0===Oe||Oe.syncScrollArea(!0)}clear(){var X;if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let xe=1;xe<this.rows;xe++)this.buffer.lines.push(this.buffer.getBlankLine(he.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),null===(X=this.viewport)||void 0===X||X.reset(),this.refresh(0,this.rows-1)}}reset(){var X,xe;this.options.rows=this.rows,this.options.cols=this.cols;const we=this._customKeyEventHandler;this._setup(),super.reset(),null===(X=this._selectionService)||void 0===X||X.reset(),this._decorationService.reset(),null===(xe=this.viewport)||void 0===xe||xe.reset(),this._customKeyEventHandler=we,this.refresh(0,this.rows-1)}clearTextureAtlas(){var X;null===(X=this._renderService)||void 0===X||X.clearTextureAtlas()}_reportFocus(){var X;null!==(X=this.element)&&void 0!==X&&X.classList.contains("focus")?this.coreService.triggerDataEvent(j.C0.ESC+"[I"):this.coreService.triggerDataEvent(j.C0.ESC+"[O")}_reportWindowsOptions(X){if(this._renderService)switch(X){case Te.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const xe=this._renderService.dimensions.css.canvas.width.toFixed(0),we=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${j.C0.ESC}[4;${we};${xe}t`);break;case Te.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const Oe=this._renderService.dimensions.css.cell.width.toFixed(0),dt=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${j.C0.ESC}[6;${dt};${Oe}t`)}}cancel(X,xe){if(this.options.cancelEvents||xe)return X.preventDefault(),X.stopPropagation(),!1}}},9924:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.TimeBasedDebouncer=void 0,g.TimeBasedDebouncer=class{constructor(_,P=1e3){this._renderCallback=_,this._debounceThresholdMS=P,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(_,P,y){this._rowCount=y,_=void 0!==_?_:0,P=void 0!==P?P:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,_):_,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,P):P;const l=Date.now();if(l-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=l,this._innerRefresh();else if(!this._additionalRefreshRequested){const L=this._debounceThresholdMS-(l-this._lastRefreshMs);this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},L)}}_innerRefresh(){if(void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return;const _=Math.max(this._rowStart,0),P=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(_,P)}}},1680:function(f,g,_){var P=this&&this.__decorate||function(x,D,S,U){var F,ce=arguments.length,te=ce<3?D:null===U?U=Object.getOwnPropertyDescriptor(D,S):U;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(x,D,S,U);else for(var V=x.length-1;V>=0;V--)(F=x[V])&&(te=(ce<3?F(te):ce>3?F(D,S,te):F(D,S))||te);return ce>3&&te&&Object.defineProperty(D,S,te),te},y=this&&this.__param||function(x,D){return function(S,U){D(S,U,x)}};Object.defineProperty(g,"__esModule",{value:!0}),g.Viewport=void 0;const l=_(3656),R=_(4725),L=_(8460),J=_(844),N=_(2585);let w=g.Viewport=class extends J.Disposable{constructor(x,D,S,U,F,ce,te,V){super(),this._viewportElement=x,this._scrollArea=D,this._bufferService=S,this._optionsService=U,this._charSizeService=F,this._renderService=ce,this._coreBrowserService=te,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new L.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,l.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(k=>this._activeBuffer=k.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(k=>this._renderDimensions=k)),this._handleThemeChange(V.colors),this.register(V.onChangeColors(k=>this._handleThemeChange(k))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(x){this._viewportElement.style.backgroundColor=x.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(x){if(x)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const D=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==D&&(this._lastRecordedBufferHeight=D,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const x=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==x&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=x),this._refreshAnimationFrame=null}syncScrollArea(x=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(x);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(x)}_handleScroll(x){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const D=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:D,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||-1===this._smoothScrollState.origin||-1===this._smoothScrollState.target)return;const x=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(x*(this._smoothScrollState.target-this._smoothScrollState.origin)),x<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(x,D){return!(D<0&&0!==this._viewportElement.scrollTop||D>0&&this._viewportElement.scrollTop+this._lastRecordedViewportHeight<this._lastRecordedBufferHeight)||(x.cancelable&&x.preventDefault(),!1)}handleWheel(x){const D=this._getPixelsScrolled(x);return 0!==D&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,-1===this._smoothScrollState.target?this._smoothScrollState.target=this._viewportElement.scrollTop+D:this._smoothScrollState.target+=D,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=D,this._bubbleScroll(x,D))}scrollLines(x){if(0!==x)if(this._optionsService.rawOptions.smoothScrollDuration){const D=x*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+D,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:x,suppressScrollEvent:!1})}_getPixelsScrolled(x){if(0===x.deltaY||x.shiftKey)return 0;let D=this._applyScrollModifier(x.deltaY,x);return x.deltaMode===WheelEvent.DOM_DELTA_LINE?D*=this._currentRowHeight:x.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(D*=this._currentRowHeight*this._bufferService.rows),D}getBufferElements(x,D){var S;let U,F="";const ce=[],te=null!=D?D:this._bufferService.buffer.lines.length,V=this._bufferService.buffer.lines;for(let k=x;k<te;k++){const O=V.get(k);if(!O)continue;const $=null===(S=V.get(k+1))||void 0===S?void 0:S.isWrapped;if(F+=O.translateToString(!$),!$||k===V.length-1){const ue=document.createElement("div");ue.textContent=F,ce.push(ue),F.length>0&&(U=ue),F=""}}return{bufferElements:ce,cursorElement:U}}getLinesScrolled(x){if(0===x.deltaY||x.shiftKey)return 0;let D=this._applyScrollModifier(x.deltaY,x);return x.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(D/=this._currentRowHeight+0,this._wheelPartialScroll+=D,D=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):x.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(D*=this._bufferService.rows),D}_applyScrollModifier(x,D){const S=this._optionsService.rawOptions.fastScrollModifier;return"alt"===S&&D.altKey||"ctrl"===S&&D.ctrlKey||"shift"===S&&D.shiftKey?x*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:x*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(x){this._lastTouchY=x.touches[0].pageY}handleTouchMove(x){const D=this._lastTouchY-x.touches[0].pageY;return this._lastTouchY=x.touches[0].pageY,0!==D&&(this._viewportElement.scrollTop+=D,this._bubbleScroll(x,D))}};g.Viewport=w=P([y(2,N.IBufferService),y(3,N.IOptionsService),y(4,R.ICharSizeService),y(5,R.IRenderService),y(6,R.ICoreBrowserService),y(7,R.IThemeService)],w)},3107:function(f,g,_){var P=this&&this.__decorate||function(w,x,D,S){var U,F=arguments.length,ce=F<3?x:null===S?S=Object.getOwnPropertyDescriptor(x,D):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ce=Reflect.decorate(w,x,D,S);else for(var te=w.length-1;te>=0;te--)(U=w[te])&&(ce=(F<3?U(ce):F>3?U(x,D,ce):U(x,D))||ce);return F>3&&ce&&Object.defineProperty(x,D,ce),ce},y=this&&this.__param||function(w,x){return function(D,S){x(D,S,w)}};Object.defineProperty(g,"__esModule",{value:!0}),g.BufferDecorationRenderer=void 0;const l=_(3656),R=_(4725),L=_(844),J=_(2585);let N=g.BufferDecorationRenderer=class extends L.Disposable{constructor(w,x,D,S){super(),this._screenElement=w,this._bufferService=x,this._decorationService=D,this._renderService=S,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,l.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(U=>this._removeDecoration(U))),this.register((0,L.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){void 0===this._animationFrame&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const w of this._decorationService.decorations)this._renderDecoration(w);this._dimensionsChanged=!1}_renderDecoration(w){this._refreshStyle(w),this._dimensionsChanged&&this._refreshXPosition(w)}_createElement(w){var x,D;const S=document.createElement("div");S.classList.add("xterm-decoration"),S.classList.toggle("xterm-decoration-top-layer","top"===(null===(x=null==w?void 0:w.options)||void 0===x?void 0:x.layer)),S.style.width=`${Math.round((w.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,S.style.height=(w.options.height||1)*this._renderService.dimensions.css.cell.height+"px",S.style.top=(w.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",S.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const U=null!==(D=w.options.x)&&void 0!==D?D:0;return U&&U>this._bufferService.cols&&(S.style.display="none"),this._refreshXPosition(w,S),S}_refreshStyle(w){const x=w.marker.line-this._bufferService.buffers.active.ydisp;if(x<0||x>=this._bufferService.rows)w.element&&(w.element.style.display="none",w.onRenderEmitter.fire(w.element));else{let D=this._decorationElements.get(w);D||(D=this._createElement(w),w.element=D,this._decorationElements.set(w,D),this._container.appendChild(D),w.onDispose(()=>{this._decorationElements.delete(w),D.remove()})),D.style.top=x*this._renderService.dimensions.css.cell.height+"px",D.style.display=this._altBufferIsActive?"none":"block",w.onRenderEmitter.fire(D)}}_refreshXPosition(w,x=w.element){var D;if(!x)return;const S=null!==(D=w.options.x)&&void 0!==D?D:0;"right"===(w.options.anchor||"left")?x.style.right=S?S*this._renderService.dimensions.css.cell.width+"px":"":x.style.left=S?S*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(w){var x;null===(x=this._decorationElements.get(w))||void 0===x||x.remove(),this._decorationElements.delete(w),w.dispose()}};g.BufferDecorationRenderer=N=P([y(1,J.IBufferService),y(2,J.IDecorationService),y(3,R.IRenderService)],N)},5871:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.ColorZoneStore=void 0,g.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(_){if(_.options.overviewRulerOptions){for(const P of this._zones)if(P.color===_.options.overviewRulerOptions.color&&P.position===_.options.overviewRulerOptions.position){if(this._lineIntersectsZone(P,_.marker.line))return;if(this._lineAdjacentToZone(P,_.marker.line,_.options.overviewRulerOptions.position))return void this._addLineToZone(P,_.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=_.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=_.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=_.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=_.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:_.options.overviewRulerOptions.color,position:_.options.overviewRulerOptions.position,startBufferLine:_.marker.line,endBufferLine:_.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(_){this._linePadding=_}_lineIntersectsZone(_,P){return P>=_.startBufferLine&&P<=_.endBufferLine}_lineAdjacentToZone(_,P,y){return P>=_.startBufferLine-this._linePadding[y||"full"]&&P<=_.endBufferLine+this._linePadding[y||"full"]}_addLineToZone(_,P){_.startBufferLine=Math.min(_.startBufferLine,P),_.endBufferLine=Math.max(_.endBufferLine,P)}}},5744:function(f,g,_){var P=this&&this.__decorate||function(U,F,ce,te){var V,k=arguments.length,O=k<3?F:null===te?te=Object.getOwnPropertyDescriptor(F,ce):te;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(U,F,ce,te);else for(var $=U.length-1;$>=0;$--)(V=U[$])&&(O=(k<3?V(O):k>3?V(F,ce,O):V(F,ce))||O);return k>3&&O&&Object.defineProperty(F,ce,O),O},y=this&&this.__param||function(U,F){return function(ce,te){F(ce,te,U)}};Object.defineProperty(g,"__esModule",{value:!0}),g.OverviewRulerRenderer=void 0;const l=_(5871),R=_(3656),L=_(4725),J=_(844),N=_(2585),w={full:0,left:0,center:0,right:0},x={full:0,left:0,center:0,right:0},D={full:0,left:0,center:0,right:0};let S=g.OverviewRulerRenderer=class extends J.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(U,F,ce,te,V,k,O){var $;super(),this._viewportElement=U,this._screenElement=F,this._bufferService=ce,this._decorationService=te,this._renderService=V,this._optionsService=k,this._coreBrowseService=O,this._colorZoneStore=new l.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),null===($=this._viewportElement.parentElement)||void 0===$||$.insertBefore(this._canvas,this._viewportElement);const ue=this._canvas.getContext("2d");if(!ue)throw new Error("Ctx cannot be null");this._ctx=ue,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,J.toDisposable)(()=>{var q;null===(q=this._canvas)||void 0===q||q.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,R.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const U=Math.floor(this._canvas.width/3),F=Math.ceil(this._canvas.width/3);x.full=this._canvas.width,x.left=U,x.center=F,x.right=U,this._refreshDrawHeightConstants(),D.full=0,D.left=0,D.center=x.left,D.right=x.left+x.center}_refreshDrawHeightConstants(){w.full=Math.round(2*this._coreBrowseService.dpr);const F=Math.round(Math.max(Math.min(this._canvas.height/this._bufferService.buffer.lines.length,12),6)*this._coreBrowseService.dpr);w.left=F,w.center=F,w.right=F}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*w.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*w.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*w.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*w.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const F of this._decorationService.decorations)this._colorZoneStore.addDecoration(F);this._ctx.lineWidth=1;const U=this._colorZoneStore.zones;for(const F of U)"full"!==F.position&&this._renderColorZone(F);for(const F of U)"full"===F.position&&this._renderColorZone(F);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(U){this._ctx.fillStyle=U.color,this._ctx.fillRect(D[U.position||"full"],Math.round(U.startBufferLine/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)-w[U.position||"full"]/2),x[U.position||"full"],Math.round((U.endBufferLine-U.startBufferLine)/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)+w[U.position||"full"]))}_queueRefresh(U,F){this._shouldUpdateDimensions=U||this._shouldUpdateDimensions,this._shouldUpdateAnchor=F||this._shouldUpdateAnchor,void 0===this._animationFrame&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};g.OverviewRulerRenderer=S=P([y(2,N.IBufferService),y(3,N.IDecorationService),y(4,L.IRenderService),y(5,N.IOptionsService),y(6,L.ICoreBrowserService)],S)},2950:function(f,g,_){var P=this&&this.__decorate||function(N,w,x,D){var S,U=arguments.length,F=U<3?w:null===D?D=Object.getOwnPropertyDescriptor(w,x):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)F=Reflect.decorate(N,w,x,D);else for(var ce=N.length-1;ce>=0;ce--)(S=N[ce])&&(F=(U<3?S(F):U>3?S(w,x,F):S(w,x))||F);return U>3&&F&&Object.defineProperty(w,x,F),F},y=this&&this.__param||function(N,w){return function(x,D){w(x,D,N)}};Object.defineProperty(g,"__esModule",{value:!0}),g.CompositionHelper=void 0;const l=_(4725),R=_(2585),L=_(2584);let J=g.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(N,w,x,D,S,U){this._textarea=N,this._compositionView=w,this._bufferService=x,this._optionsService=D,this._coreService=S,this._renderService=U,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(N){this._compositionView.textContent=N.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(N){if(this._isComposing||this._isSendingComposition){if(229===N.keyCode||16===N.keyCode||17===N.keyCode||18===N.keyCode)return!1;this._finalizeComposition(!1)}return 229!==N.keyCode||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(N){if(this._compositionView.classList.remove("active"),this._isComposing=!1,N){const w={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let x;this._isSendingComposition=!1,w.start+=this._dataAlreadySent.length,x=this._isComposing?this._textarea.value.substring(w.start,w.end):this._textarea.value.substring(w.start),x.length>0&&this._coreService.triggerDataEvent(x,!0)}},0)}else{this._isSendingComposition=!1;const w=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(w,!0)}}_handleAnyTextareaChanges(){const N=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const w=this._textarea.value,x=w.replace(N,"");this._dataAlreadySent=x,w.length>N.length?this._coreService.triggerDataEvent(x,!0):w.length<N.length?this._coreService.triggerDataEvent(`${L.C0.DEL}`,!0):w.length===N.length&&w!==N&&this._coreService.triggerDataEvent(w,!0)}},0)}updateCompositionElements(N){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const w=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),x=this._renderService.dimensions.css.cell.height,D=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,S=w*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=S+"px",this._compositionView.style.top=D+"px",this._compositionView.style.height=x+"px",this._compositionView.style.lineHeight=x+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const U=this._compositionView.getBoundingClientRect();this._textarea.style.left=S+"px",this._textarea.style.top=D+"px",this._textarea.style.width=Math.max(U.width,1)+"px",this._textarea.style.height=Math.max(U.height,1)+"px",this._textarea.style.lineHeight=U.height+"px"}N||setTimeout(()=>this.updateCompositionElements(!0),0)}}};g.CompositionHelper=J=P([y(2,R.IBufferService),y(3,R.IOptionsService),y(4,R.ICoreService),y(5,l.IRenderService)],J)},9806:(f,g)=>{function _(P,y,l){const R=l.getBoundingClientRect(),L=P.getComputedStyle(l),J=parseInt(L.getPropertyValue("padding-left")),N=parseInt(L.getPropertyValue("padding-top"));return[y.clientX-R.left-J,y.clientY-R.top-N]}Object.defineProperty(g,"__esModule",{value:!0}),g.getCoords=g.getCoordsRelativeToElement=void 0,g.getCoordsRelativeToElement=_,g.getCoords=function(P,y,l,R,L,J,N,w,x){if(!J)return;const D=_(P,y,l);return D?(D[0]=Math.ceil((D[0]+(x?N/2:0))/N),D[1]=Math.ceil(D[1]/w),D[0]=Math.min(Math.max(D[0],1),R+(x?1:0)),D[1]=Math.min(Math.max(D[1],1),L),D):void 0}},9504:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.moveToCellSequence=void 0;const P=_(2584);function y(w,x,D,S){const U=w-l(w,D),F=x-l(x,D);return N(Math.abs(U-F)-function(te,V,k){let O=0;const $=te-l(te,k),ue=V-l(V,k);for(let q=0;q<Math.abs($-ue);q++){const Y="A"===R(te,V)?-1:1,G=k.buffer.lines.get($+Y*q);null!=G&&G.isWrapped&&O++}return O}(w,x,D),J(R(w,x),S))}function l(w,x){let D=0,S=x.buffer.lines.get(w),U=null==S?void 0:S.isWrapped;for(;U&&w>=0&&w<x.rows;)D++,S=x.buffer.lines.get(--w),U=null==S?void 0:S.isWrapped;return D}function R(w,x){return w>x?"A":"B"}function L(w,x,D,S,U,F){let ce=w,te=x,V="";for(;ce!==D||te!==S;)ce+=U?1:-1,U&&ce>F.cols-1?(V+=F.buffer.translateBufferLineToString(te,!1,w,ce),ce=0,w=0,te++):!U&&ce<0&&(V+=F.buffer.translateBufferLineToString(te,!1,0,w+1),ce=F.cols-1,w=ce,te--);return V+F.buffer.translateBufferLineToString(te,!1,w,ce)}function J(w,x){return P.C0.ESC+(x?"O":"[")+w}function N(w,x){w=Math.floor(w);let D="";for(let S=0;S<w;S++)D+=x;return D}g.moveToCellSequence=function(w,x,D,S){const U=D.buffer.x,F=D.buffer.y;if(!D.buffer.hasScrollback)return V=U,(0===y(k=F,x,ue=D,q=S).length?"":N(L(V,k,V,k-l(k,ue),!1,ue).length,J("D",q)))+y(F,x,D,S)+function(V,k,O,$,ue,q){let Y;Y=y(k,$,ue,q).length>0?$-l($,ue):k;const G=$,he=function(j,Q,K,z,oe,Te){let Ae;return Ae=y(K,z,oe,Te).length>0?z-l(z,oe):Q,j<K&&Ae<=z||j>=K&&Ae<z?"C":"D"}(V,k,O,$,ue,q);return N(L(V,Y,O,G,"C"===he,ue).length,J(he,q))}(U,F,w,x,D,S);var V,k,ue,q;let ce;if(F===x)return ce=U>w?"D":"C",N(Math.abs(U-w),J(ce,S));ce=F>x?"D":"C";const te=Math.abs(F-x);return N(function(V,k){return k.cols-V}(F>x?w:U,D)+(te-1)*D.cols+1+((F>x?U:w)-1),J(ce,S))}},1296:function(f,g,_){var P=this&&this.__decorate||function(ue,q,Y,G){var he,j=arguments.length,Q=j<3?q:null===G?G=Object.getOwnPropertyDescriptor(q,Y):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Q=Reflect.decorate(ue,q,Y,G);else for(var K=ue.length-1;K>=0;K--)(he=ue[K])&&(Q=(j<3?he(Q):j>3?he(q,Y,Q):he(q,Y))||Q);return j>3&&Q&&Object.defineProperty(q,Y,Q),Q},y=this&&this.__param||function(ue,q){return function(Y,G){q(Y,G,ue)}};Object.defineProperty(g,"__esModule",{value:!0}),g.DomRenderer=void 0;const l=_(3787),R=_(2550),L=_(2223),J=_(6171),N=_(4725),w=_(8055),x=_(8460),D=_(844),S=_(2585),U="xterm-dom-renderer-owner-",F="xterm-rows",ce="xterm-fg-",te="xterm-bg-",V="xterm-focus",k="xterm-selection";let O=1,$=g.DomRenderer=class extends D.Disposable{constructor(ue,q,Y,G,he,j,Q,K,z,oe){super(),this._element=ue,this._screenElement=q,this._viewportElement=Y,this._linkifier2=G,this._charSizeService=j,this._optionsService=Q,this._bufferService=K,this._coreBrowserService=z,this._themeService=oe,this._terminalClass=O++,this._rowElements=[],this.onRequestRedraw=this.register(new x.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(F),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(k),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,J.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(Te=>this._injectCss(Te))),this._injectCss(this._themeService.colors),this._rowFactory=he.createInstance(l.DomRendererRowFactory,document),this._element.classList.add(U+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(Te=>this._handleLinkHover(Te))),this.register(this._linkifier2.onHideLinkUnderline(Te=>this._handleLinkLeave(Te))),this.register((0,D.toDisposable)(()=>{this._element.classList.remove(U+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new R.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const ue=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*ue,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*ue),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/ue),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/ue),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const Y of this._rowElements)Y.style.width=`${this.dimensions.css.canvas.width}px`,Y.style.height=`${this.dimensions.css.cell.height}px`,Y.style.lineHeight=`${this.dimensions.css.cell.height}px`,Y.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement)),this._dimensionsStyleElement.textContent=`${this._terminalSelector} .${F} span { display: inline-block; height: 100%; vertical-align: top;}`,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(ue){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let q=`${this._terminalSelector} .${F} { color: ${ue.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;q+=`${this._terminalSelector} .${F} .xterm-dim { color: ${w.color.multiplyOpacity(ue.foreground,.5).css};}`,q+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,q+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",q+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${ue.cursor.css};  color: ${ue.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${ue.cursor.css}; }}`,q+=`${this._terminalSelector} .${F}.${V} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${F}.${V} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${F} .xterm-cursor.xterm-cursor-block { background-color: ${ue.cursor.css}; color: ${ue.cursorAccent.css};}${this._terminalSelector} .${F} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${ue.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${F} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${ue.cursor.css} inset;}${this._terminalSelector} .${F} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${ue.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,q+=`${this._terminalSelector} .${k} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${k} div { position: absolute; background-color: ${ue.selectionBackgroundOpaque.css};}${this._terminalSelector} .${k} div { position: absolute; background-color: ${ue.selectionInactiveBackgroundOpaque.css};}`;for(const[Y,G]of ue.ansi.entries())q+=`${this._terminalSelector} .${ce}${Y} { color: ${G.css}; }${this._terminalSelector} .${ce}${Y}.xterm-dim { color: ${w.color.multiplyOpacity(G,.5).css}; }${this._terminalSelector} .${te}${Y} { background-color: ${G.css}; }`;q+=`${this._terminalSelector} .${ce}${L.INVERTED_DEFAULT_COLOR} { color: ${w.color.opaque(ue.background).css}; }${this._terminalSelector} .${ce}${L.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${w.color.multiplyOpacity(w.color.opaque(ue.background),.5).css}; }${this._terminalSelector} .${te}${L.INVERTED_DEFAULT_COLOR} { background-color: ${ue.foreground.css}; }`,this._themeStyleElement.textContent=q}_setDefaultSpacing(){const ue=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${ue}px`,this._rowFactory.defaultSpacing=ue}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(ue,q){for(let Y=this._rowElements.length;Y<=q;Y++){const G=document.createElement("div");this._rowContainer.appendChild(G),this._rowElements.push(G)}for(;this._rowElements.length>q;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(ue,q){this._refreshRowElements(ue,q),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(V)}handleFocus(){this._rowContainer.classList.add(V),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(ue,q,Y){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(ue,q,Y),this.renderRows(0,this._bufferService.rows-1),!ue||!q)return;const G=ue[1]-this._bufferService.buffer.ydisp,he=q[1]-this._bufferService.buffer.ydisp,j=Math.max(G,0),Q=Math.min(he,this._bufferService.rows-1);if(j>=this._bufferService.rows||Q<0)return;const K=document.createDocumentFragment();if(Y){const z=ue[0]>q[0];K.appendChild(this._createSelectionElement(j,z?q[0]:ue[0],z?ue[0]:q[0],Q-j+1))}else K.appendChild(this._createSelectionElement(j,G===j?ue[0]:0,j===he?q[0]:this._bufferService.cols)),K.appendChild(this._createSelectionElement(j+1,0,this._bufferService.cols,Q-j-1)),j!==Q&&K.appendChild(this._createSelectionElement(Q,0,he===Q?q[0]:this._bufferService.cols));this._selectionContainer.appendChild(K)}_createSelectionElement(ue,q,Y,G=1){const he=document.createElement("div");return he.style.height=G*this.dimensions.css.cell.height+"px",he.style.top=ue*this.dimensions.css.cell.height+"px",he.style.left=q*this.dimensions.css.cell.width+"px",he.style.width=this.dimensions.css.cell.width*(Y-q)+"px",he}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const ue of this._rowElements)ue.replaceChildren()}renderRows(ue,q){const Y=this._bufferService.buffer,G=Y.ybase+Y.y,he=Math.min(Y.x,this._bufferService.cols-1),j=this._optionsService.rawOptions.cursorBlink,Q=this._optionsService.rawOptions.cursorStyle,K=this._optionsService.rawOptions.cursorInactiveStyle;for(let z=ue;z<=q;z++){const oe=z+Y.ydisp,Te=this._rowElements[z],Ae=Y.lines.get(oe);if(!Te||!Ae)break;Te.replaceChildren(...this._rowFactory.createRow(Ae,oe,oe===G,Q,K,he,j,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${U}${this._terminalClass}`}_handleLinkHover(ue){this._setCellUnderline(ue.x1,ue.x2,ue.y1,ue.y2,ue.cols,!0)}_handleLinkLeave(ue){this._setCellUnderline(ue.x1,ue.x2,ue.y1,ue.y2,ue.cols,!1)}_setCellUnderline(ue,q,Y,G,he,j){Y<0&&(ue=0),G<0&&(q=0);const Q=this._bufferService.rows-1;Y=Math.max(Math.min(Y,Q),0),G=Math.max(Math.min(G,Q),0),he=Math.min(he,this._bufferService.cols);const K=this._bufferService.buffer,z=K.ybase+K.y,oe=Math.min(K.x,he-1),Te=this._optionsService.rawOptions.cursorBlink,Ae=this._optionsService.rawOptions.cursorStyle,Ke=this._optionsService.rawOptions.cursorInactiveStyle;for(let be=Y;be<=G;++be){const Qe=be+K.ydisp,X=this._rowElements[be],xe=K.lines.get(Qe);if(!X||!xe)break;X.replaceChildren(...this._rowFactory.createRow(xe,Qe,Qe===z,Ae,Ke,oe,Te,this.dimensions.css.cell.width,this._widthCache,j?be===Y?ue:0:-1,j?(be===G?q:he)-1:-1))}}};g.DomRenderer=$=P([y(4,S.IInstantiationService),y(5,N.ICharSizeService),y(6,S.IOptionsService),y(7,S.IBufferService),y(8,N.ICoreBrowserService),y(9,N.IThemeService)],$)},3787:function(f,g,_){var P=this&&this.__decorate||function(ce,te,V,k){var O,$=arguments.length,ue=$<3?te:null===k?k=Object.getOwnPropertyDescriptor(te,V):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(ce,te,V,k);else for(var q=ce.length-1;q>=0;q--)(O=ce[q])&&(ue=($<3?O(ue):$>3?O(te,V,ue):O(te,V))||ue);return $>3&&ue&&Object.defineProperty(te,V,ue),ue},y=this&&this.__param||function(ce,te){return function(V,k){te(V,k,ce)}};Object.defineProperty(g,"__esModule",{value:!0}),g.DomRendererRowFactory=void 0;const l=_(2223),R=_(643),L=_(511),J=_(2585),N=_(8055),w=_(4725),x=_(4269),D=_(6171),S=_(3734);let U=g.DomRendererRowFactory=class{constructor(ce,te,V,k,O,$,ue){this._document=ce,this._characterJoinerService=te,this._optionsService=V,this._coreBrowserService=k,this._coreService=O,this._decorationService=$,this._themeService=ue,this._workCell=new L.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(ce,te,V){this._selectionStart=ce,this._selectionEnd=te,this._columnSelectMode=V}createRow(ce,te,V,k,O,$,ue,q,Y,G,he){const j=[],Q=this._characterJoinerService.getJoinedCharacters(te),K=this._themeService.colors;let z,oe=ce.getNoBgTrimmedLength();V&&oe<$+1&&(oe=$+1);let Te=0,Ae="",Ke=0,be=0,Qe=0,X=!1,xe=0,we=!1,Oe=0;const dt=[],bt=-1!==G&&-1!==he;for(let it=0;it<oe;it++){ce.loadCell(it,this._workCell);let Dt=this._workCell.getWidth();if(0===Dt)continue;let vt=!1,Gt=it,Ht=this._workCell;if(Q.length>0&&it===Q[0][0]){vt=!0;const ne=Q.shift();Ht=new x.JoinedCellData(this._workCell,ce.translateToString(!0,ne[0],ne[1]),ne[1]-ne[0]),Gt=ne[1]-1,Dt=Ht.getWidth()}const Ut=this._isCellInSelection(it,te),ct=V&&it===$,at=bt&&it>=G&&it<=he;let fe=!1;this._decorationService.forEachDecorationAtCell(it,te,void 0,ne=>{fe=!0});let ke=Ht.getChars()||R.WHITESPACE_CELL_CHAR;if(" "===ke&&(Ht.isUnderline()||Ht.isOverline())&&(ke="\xa0"),Oe=Dt*q-Y.get(ke,Ht.isBold(),Ht.isItalic()),z){if(Te&&(Ut&&we||!Ut&&!we&&Ht.bg===Ke)&&(Ut&&we&&K.selectionForeground||Ht.fg===be)&&Ht.extended.ext===Qe&&at===X&&Oe===xe&&!ct&&!vt&&!fe){Ae+=ke,Te++;continue}Te&&(z.textContent=Ae),z=this._document.createElement("span"),Te=0,Ae=""}else z=this._document.createElement("span");if(Ke=Ht.bg,be=Ht.fg,Qe=Ht.extended.ext,X=at,xe=Oe,we=Ut,vt&&$>=it&&$<=Gt&&($=it),!this._coreService.isCursorHidden&&ct)if(dt.push("xterm-cursor"),this._coreBrowserService.isFocused)ue&&dt.push("xterm-cursor-blink"),dt.push("bar"===k?"xterm-cursor-bar":"underline"===k?"xterm-cursor-underline":"xterm-cursor-block");else if(O)switch(O){case"outline":dt.push("xterm-cursor-outline");break;case"block":dt.push("xterm-cursor-block");break;case"bar":dt.push("xterm-cursor-bar");break;case"underline":dt.push("xterm-cursor-underline")}if(Ht.isBold()&&dt.push("xterm-bold"),Ht.isItalic()&&dt.push("xterm-italic"),Ht.isDim()&&dt.push("xterm-dim"),Ae=Ht.isInvisible()?R.WHITESPACE_CELL_CHAR:Ht.getChars()||R.WHITESPACE_CELL_CHAR,Ht.isUnderline()&&(dt.push(`xterm-underline-${Ht.extended.underlineStyle}`)," "===Ae&&(Ae="\xa0"),!Ht.isUnderlineColorDefault()))if(Ht.isUnderlineColorRGB())z.style.textDecorationColor=`rgb(${S.AttributeData.toColorRGB(Ht.getUnderlineColor()).join(",")})`;else{let ne=Ht.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&Ht.isBold()&&ne<8&&(ne+=8),z.style.textDecorationColor=K.ansi[ne].css}Ht.isOverline()&&(dt.push("xterm-overline")," "===Ae&&(Ae="\xa0")),Ht.isStrikethrough()&&dt.push("xterm-strikethrough"),at&&(z.style.textDecoration="underline");let ot=Ht.getFgColor(),Ct=Ht.getFgColorMode(),Ot=Ht.getBgColor(),Nt=Ht.getBgColorMode();const Mt=!!Ht.isInverse();if(Mt){const ne=ot;ot=Ot,Ot=ne;const Ne=Ct;Ct=Nt,Nt=Ne}let Ye,st,je,It=!1;switch(this._decorationService.forEachDecorationAtCell(it,te,void 0,ne=>{"top"!==ne.options.layer&&It||(ne.backgroundColorRGB&&(Nt=50331648,Ot=ne.backgroundColorRGB.rgba>>8&16777215,Ye=ne.backgroundColorRGB),ne.foregroundColorRGB&&(Ct=50331648,ot=ne.foregroundColorRGB.rgba>>8&16777215,st=ne.foregroundColorRGB),It="top"===ne.options.layer)}),!It&&Ut&&(Ye=this._coreBrowserService.isFocused?K.selectionBackgroundOpaque:K.selectionInactiveBackgroundOpaque,Ot=Ye.rgba>>8&16777215,Nt=50331648,It=!0,K.selectionForeground&&(Ct=50331648,ot=K.selectionForeground.rgba>>8&16777215,st=K.selectionForeground)),It&&dt.push("xterm-decoration-top"),Nt){case 16777216:case 33554432:je=K.ansi[Ot],dt.push(`xterm-bg-${Ot}`);break;case 50331648:je=N.rgba.toColor(Ot>>16,Ot>>8&255,255&Ot),this._addStyle(z,`background-color:#${F((Ot>>>0).toString(16),"0",6)}`);break;default:Mt?(je=K.foreground,dt.push(`xterm-bg-${l.INVERTED_DEFAULT_COLOR}`)):je=K.background}switch(Ye||Ht.isDim()&&(Ye=N.color.multiplyOpacity(je,.5)),Ct){case 16777216:case 33554432:Ht.isBold()&&ot<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(ot+=8),this._applyMinimumContrast(z,je,K.ansi[ot],Ht,Ye,void 0)||dt.push(`xterm-fg-${ot}`);break;case 50331648:const ne=N.rgba.toColor(ot>>16&255,ot>>8&255,255&ot);this._applyMinimumContrast(z,je,ne,Ht,Ye,st)||this._addStyle(z,`color:#${F(ot.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(z,je,K.foreground,Ht,Ye,void 0)||Mt&&dt.push(`xterm-fg-${l.INVERTED_DEFAULT_COLOR}`)}dt.length&&(z.className=dt.join(" "),dt.length=0),ct||vt||fe?z.textContent=Ae:Te++,Oe!==this.defaultSpacing&&(z.style.letterSpacing=`${Oe}px`),j.push(z),it=Gt}return z&&Te&&(z.textContent=Ae),j}_applyMinimumContrast(ce,te,V,k,O,$){if(1===this._optionsService.rawOptions.minimumContrastRatio||(0,D.excludeFromContrastRatioDemands)(k.getCode()))return!1;const ue=this._getContrastCache(k);let q;if(O||$||(q=ue.getColor(te.rgba,V.rgba)),void 0===q){const Y=this._optionsService.rawOptions.minimumContrastRatio/(k.isDim()?2:1);q=N.color.ensureContrastRatio(O||te,$||V,Y),ue.setColor((O||te).rgba,($||V).rgba,null!=q?q:null)}return!!q&&(this._addStyle(ce,`color:${q.css}`),!0)}_getContrastCache(ce){return ce.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(ce,te){ce.setAttribute("style",`${ce.getAttribute("style")||""}${te};`)}_isCellInSelection(ce,te){const V=this._selectionStart,k=this._selectionEnd;return!(!V||!k)&&(this._columnSelectMode?V[0]<=k[0]?ce>=V[0]&&te>=V[1]&&ce<k[0]&&te<=k[1]:ce<V[0]&&te>=V[1]&&ce>=k[0]&&te<=k[1]:te>V[1]&&te<k[1]||V[1]===k[1]&&te===V[1]&&ce>=V[0]&&ce<k[0]||V[1]<k[1]&&te===k[1]&&ce<k[0]||V[1]<k[1]&&te===V[1]&&ce>=V[0])}};function F(ce,te,V){for(;ce.length<V;)ce=te+ce;return ce}g.DomRendererRowFactory=U=P([y(1,w.ICharacterJoinerService),y(2,J.IOptionsService),y(3,w.ICoreBrowserService),y(4,J.ICoreService),y(5,J.IDecorationService),y(6,w.IThemeService)],U)},2550:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.WidthCache=void 0,g.WidthCache=class{constructor(_){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=_.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const P=_.createElement("span"),y=_.createElement("span");y.style.fontWeight="bold";const l=_.createElement("span");l.style.fontStyle="italic";const R=_.createElement("span");R.style.fontWeight="bold",R.style.fontStyle="italic",this._measureElements=[P,y,l,R],this._container.appendChild(P),this._container.appendChild(y),this._container.appendChild(l),this._container.appendChild(R),_.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(_,P,y,l){_===this._font&&P===this._fontSize&&y===this._weight&&l===this._weightBold||(this._font=_,this._fontSize=P,this._weight=y,this._weightBold=l,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${y}`,this._measureElements[1].style.fontWeight=`${l}`,this._measureElements[2].style.fontWeight=`${y}`,this._measureElements[3].style.fontWeight=`${l}`,this.clear())}get(_,P,y){let l=0;if(!P&&!y&&1===_.length&&(l=_.charCodeAt(0))<256)return-9999!==this._flat[l]?this._flat[l]:this._flat[l]=this._measure(_,0);let R=_;P&&(R+="B"),y&&(R+="I");let L=this._holey.get(R);if(void 0===L){let J=0;P&&(J|=1),y&&(J|=2),L=this._measure(_,J),this._holey.set(R,L)}return L}_measure(_,P){const y=this._measureElements[P];return y.textContent=_.repeat(32),y.offsetWidth/32}}},2223:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.TEXT_BASELINE=g.DIM_OPACITY=g.INVERTED_DEFAULT_COLOR=void 0;const P=_(6114);g.INVERTED_DEFAULT_COLOR=257,g.DIM_OPACITY=.5,g.TEXT_BASELINE=P.isFirefox||P.isLegacyEdge?"bottom":"ideographic"},6171:(f,g)=>{function _(P){return 57508<=P&&P<=57558}Object.defineProperty(g,"__esModule",{value:!0}),g.createRenderDimensions=g.excludeFromContrastRatioDemands=g.isRestrictedPowerlineGlyph=g.isPowerlineGlyph=g.throwIfFalsy=void 0,g.throwIfFalsy=function(P){if(!P)throw new Error("value must not be falsy");return P},g.isPowerlineGlyph=_,g.isRestrictedPowerlineGlyph=function(P){return 57520<=P&&P<=57527},g.excludeFromContrastRatioDemands=function(P){return _(P)||9472<=(y=P)&&y<=9631;var y},g.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.SelectionModel=void 0,g.SelectionModel=class{constructor(_){this._bufferService=_,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const _=this.selectionStart[0]+this.selectionStartLength;return _>this._bufferService.cols?_%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(_/this._bufferService.cols)-1]:[_%this._bufferService.cols,this.selectionStart[1]+Math.floor(_/this._bufferService.cols)]:[_,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const _=this.selectionStart[0]+this.selectionStartLength;return _>this._bufferService.cols?[_%this._bufferService.cols,this.selectionStart[1]+Math.floor(_/this._bufferService.cols)]:[Math.max(_,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const _=this.selectionStart,P=this.selectionEnd;return!(!_||!P)&&(_[1]>P[1]||_[1]===P[1]&&_[0]>P[0])}handleTrim(_){return this.selectionStart&&(this.selectionStart[1]-=_),this.selectionEnd&&(this.selectionEnd[1]-=_),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(f,g,_){var P=this&&this.__decorate||function(w,x,D,S){var U,F=arguments.length,ce=F<3?x:null===S?S=Object.getOwnPropertyDescriptor(x,D):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ce=Reflect.decorate(w,x,D,S);else for(var te=w.length-1;te>=0;te--)(U=w[te])&&(ce=(F<3?U(ce):F>3?U(x,D,ce):U(x,D))||ce);return F>3&&ce&&Object.defineProperty(x,D,ce),ce},y=this&&this.__param||function(w,x){return function(D,S){x(D,S,w)}};Object.defineProperty(g,"__esModule",{value:!0}),g.CharSizeService=void 0;const l=_(2585),R=_(8460),L=_(844);let J=g.CharSizeService=class extends L.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(w,x,D){super(),this._optionsService=D,this.width=0,this.height=0,this._onCharSizeChange=this.register(new R.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new N(w,x,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const w=this._measureStrategy.measure();w.width===this.width&&w.height===this.height||(this.width=w.width,this.height=w.height,this._onCharSizeChange.fire())}};g.CharSizeService=J=P([y(2,l.IOptionsService)],J);class N{constructor(x,D,S){this._document=x,this._parentElement=D,this._optionsService=S,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const x={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return 0!==x.width&&0!==x.height&&(this._result.width=x.width/32,this._result.height=Math.ceil(x.height)),this._result}}},4269:function(f,g,_){var P=this&&this.__decorate||function(x,D,S,U){var F,ce=arguments.length,te=ce<3?D:null===U?U=Object.getOwnPropertyDescriptor(D,S):U;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(x,D,S,U);else for(var V=x.length-1;V>=0;V--)(F=x[V])&&(te=(ce<3?F(te):ce>3?F(D,S,te):F(D,S))||te);return ce>3&&te&&Object.defineProperty(D,S,te),te},y=this&&this.__param||function(x,D){return function(S,U){D(S,U,x)}};Object.defineProperty(g,"__esModule",{value:!0}),g.CharacterJoinerService=g.JoinedCellData=void 0;const l=_(3734),R=_(643),L=_(511),J=_(2585);g.JoinedCellData=class N extends l.AttributeData{constructor(D,S,U){super(),this.content=0,this.combinedData="",this.fg=D.fg,this.bg=D.bg,this.combinedData=S,this._width=U}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(D){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}};let w=g.CharacterJoinerService=class KA{constructor(D){this._bufferService=D,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new L.CellData}register(D){const S={id:this._nextCharacterJoinerId++,handler:D};return this._characterJoiners.push(S),S.id}deregister(D){for(let S=0;S<this._characterJoiners.length;S++)if(this._characterJoiners[S].id===D)return this._characterJoiners.splice(S,1),!0;return!1}getJoinedCharacters(D){if(0===this._characterJoiners.length)return[];const S=this._bufferService.buffer.lines.get(D);if(!S||0===S.length)return[];const U=[],F=S.translateToString(!0);let ce=0,te=0,V=0,k=S.getFg(0),O=S.getBg(0);for(let $=0;$<S.getTrimmedLength();$++)if(S.loadCell($,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==k||this._workCell.bg!==O){if($-ce>1){const ue=this._getJoinedRanges(F,V,te,S,ce);for(let q=0;q<ue.length;q++)U.push(ue[q])}ce=$,V=te,k=this._workCell.fg,O=this._workCell.bg}te+=this._workCell.getChars().length||R.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-ce>1){const $=this._getJoinedRanges(F,V,te,S,ce);for(let ue=0;ue<$.length;ue++)U.push($[ue])}return U}_getJoinedRanges(D,S,U,F,ce){const te=D.substring(S,U);let V=[];try{V=this._characterJoiners[0].handler(te)}catch(k){console.error(k)}for(let k=1;k<this._characterJoiners.length;k++)try{const O=this._characterJoiners[k].handler(te);for(let $=0;$<O.length;$++)KA._mergeRanges(V,O[$])}catch(O){console.error(O)}return this._stringRangesToCellRanges(V,F,ce),V}_stringRangesToCellRanges(D,S,U){let F=0,ce=!1,te=0,V=D[F];if(V){for(let k=U;k<this._bufferService.cols;k++){const O=S.getWidth(k),$=S.getString(k).length||R.WHITESPACE_CELL_CHAR.length;if(0!==O){if(!ce&&V[0]<=te&&(V[0]=k,ce=!0),V[1]<=te){if(V[1]=k,V=D[++F],!V)break;V[0]<=te?(V[0]=k,ce=!0):ce=!1}te+=$}}V&&(V[1]=this._bufferService.cols)}}static _mergeRanges(D,S){let U=!1;for(let F=0;F<D.length;F++){const ce=D[F];if(U){if(S[1]<=ce[0])return D[F-1][1]=S[1],D;if(S[1]<=ce[1])return D[F-1][1]=Math.max(S[1],ce[1]),D.splice(F,1),D;D.splice(F,1),F--}else{if(S[1]<=ce[0])return D.splice(F,0,S),D;if(S[1]<=ce[1])return ce[0]=Math.min(S[0],ce[0]),D;S[0]<ce[1]&&(ce[0]=Math.min(S[0],ce[0]),U=!0)}}return U?D[D.length-1][1]=S[1]:D.push(S),D}};g.CharacterJoinerService=w=P([y(0,J.IBufferService)],w)},5114:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.CoreBrowserService=void 0,g.CoreBrowserService=class{constructor(_,P){this._textarea=_,this.window=P,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return void 0===this._cachedIsFocused&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(f,g,_){var P=this&&this.__decorate||function(J,N,w,x){var D,S=arguments.length,U=S<3?N:null===x?x=Object.getOwnPropertyDescriptor(N,w):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)U=Reflect.decorate(J,N,w,x);else for(var F=J.length-1;F>=0;F--)(D=J[F])&&(U=(S<3?D(U):S>3?D(N,w,U):D(N,w))||U);return S>3&&U&&Object.defineProperty(N,w,U),U},y=this&&this.__param||function(J,N){return function(w,x){N(w,x,J)}};Object.defineProperty(g,"__esModule",{value:!0}),g.MouseService=void 0;const l=_(4725),R=_(9806);let L=g.MouseService=class{constructor(J,N){this._renderService=J,this._charSizeService=N}getCoords(J,N,w,x,D){return(0,R.getCoords)(window,J,N,w,x,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,D)}getMouseReportCoords(J,N){const w=(0,R.getCoordsRelativeToElement)(window,J,N);if(this._charSizeService.hasValidSize)return w[0]=Math.min(Math.max(w[0],0),this._renderService.dimensions.css.canvas.width-1),w[1]=Math.min(Math.max(w[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(w[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(w[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(w[0]),y:Math.floor(w[1])}}};g.MouseService=L=P([y(0,l.IRenderService),y(1,l.ICharSizeService)],L)},3230:function(f,g,_){var P=this&&this.__decorate||function(U,F,ce,te){var V,k=arguments.length,O=k<3?F:null===te?te=Object.getOwnPropertyDescriptor(F,ce):te;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(U,F,ce,te);else for(var $=U.length-1;$>=0;$--)(V=U[$])&&(O=(k<3?V(O):k>3?V(F,ce,O):V(F,ce))||O);return k>3&&O&&Object.defineProperty(F,ce,O),O},y=this&&this.__param||function(U,F){return function(ce,te){F(ce,te,U)}};Object.defineProperty(g,"__esModule",{value:!0}),g.RenderService=void 0;const l=_(3656),R=_(6193),L=_(5596),J=_(4725),N=_(8460),w=_(844),x=_(7226),D=_(2585);let S=g.RenderService=class extends w.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(U,F,ce,te,V,k,O,$){if(super(),this._rowCount=U,this._charSizeService=te,this._renderer=this.register(new w.MutableDisposable),this._pausedResizeTask=new x.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new N.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new N.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new N.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new N.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new R.RenderDebouncer(O.window,(ue,q)=>this._renderRows(ue,q)),this.register(this._renderDebouncer),this._screenDprMonitor=new L.ScreenDprMonitor(O.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(k.onResize(()=>this._fullRefresh())),this.register(k.buffers.onBufferActivate(()=>{var ue;return null===(ue=this._renderer.value)||void 0===ue?void 0:ue.clear()})),this.register(ce.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(V.onDecorationRegistered(()=>this._fullRefresh())),this.register(V.onDecorationRemoved(()=>this._fullRefresh())),this.register(ce.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(k.cols,k.rows),this._fullRefresh()})),this.register(ce.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(k.buffer.y,k.buffer.y,!0))),this.register((0,l.addDisposableDomListener)(O.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register($.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in O.window){const ue=new O.window.IntersectionObserver(q=>this._handleIntersectionChange(q[q.length-1]),{threshold:0});ue.observe(F),this.register({dispose:()=>ue.disconnect()})}}_handleIntersectionChange(U){this._isPaused=void 0===U.isIntersecting?0===U.intersectionRatio:!U.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(U,F,ce=!1){this._isPaused?this._needsFullRefresh=!0:(ce||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(U,F,this._rowCount))}_renderRows(U,F){this._renderer.value&&(U=Math.min(U,this._rowCount-1),F=Math.min(F,this._rowCount-1),this._renderer.value.renderRows(U,F),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:U,end:F}),this._onRender.fire({start:U,end:F}),this._isNextRenderRedrawOnly=!0)}resize(U,F){this._rowCount=F,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(U){this._renderer.value=U,this._renderer.value.onRequestRedraw(F=>this.refreshRows(F.start,F.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(U){return this._renderDebouncer.addRefreshCallback(U)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var U,F;this._renderer.value&&(null===(F=(U=this._renderer.value).clearTextureAtlas)||void 0===F||F.call(U),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(U,F){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(U,F)):this._renderer.value.handleResize(U,F),this._fullRefresh())}handleCharSizeChanged(){var U;null===(U=this._renderer.value)||void 0===U||U.handleCharSizeChanged()}handleBlur(){var U;null===(U=this._renderer.value)||void 0===U||U.handleBlur()}handleFocus(){var U;null===(U=this._renderer.value)||void 0===U||U.handleFocus()}handleSelectionChanged(U,F,ce){var te;this._selectionState.start=U,this._selectionState.end=F,this._selectionState.columnSelectMode=ce,null===(te=this._renderer.value)||void 0===te||te.handleSelectionChanged(U,F,ce)}handleCursorMove(){var U;null===(U=this._renderer.value)||void 0===U||U.handleCursorMove()}clear(){var U;null===(U=this._renderer.value)||void 0===U||U.clear()}};g.RenderService=S=P([y(2,D.IOptionsService),y(3,J.ICharSizeService),y(4,D.IDecorationService),y(5,D.IBufferService),y(6,J.ICoreBrowserService),y(7,J.IThemeService)],S)},9312:function(f,g,_){var P=this&&this.__decorate||function(V,k,O,$){var ue,q=arguments.length,Y=q<3?k:null===$?$=Object.getOwnPropertyDescriptor(k,O):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Y=Reflect.decorate(V,k,O,$);else for(var G=V.length-1;G>=0;G--)(ue=V[G])&&(Y=(q<3?ue(Y):q>3?ue(k,O,Y):ue(k,O))||Y);return q>3&&Y&&Object.defineProperty(k,O,Y),Y},y=this&&this.__param||function(V,k){return function(O,$){k(O,$,V)}};Object.defineProperty(g,"__esModule",{value:!0}),g.SelectionService=void 0;const l=_(9806),R=_(9504),L=_(456),J=_(4725),N=_(8460),w=_(844),x=_(6114),D=_(4841),S=_(511),U=_(2585),F=String.fromCharCode(160),ce=new RegExp(F,"g");let te=g.SelectionService=class extends w.Disposable{constructor(V,k,O,$,ue,q,Y,G,he){super(),this._element=V,this._screenElement=k,this._linkifier=O,this._bufferService=$,this._coreService=ue,this._mouseService=q,this._optionsService=Y,this._renderService=G,this._coreBrowserService=he,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new S.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new N.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new N.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new N.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new N.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=j=>this._handleMouseMove(j),this._mouseUpListener=j=>this._handleMouseUp(j),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(j=>this._handleTrim(j)),this.register(this._bufferService.buffers.onBufferActivate(j=>this._handleBufferActivate(j))),this.enable(),this._model=new L.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,w.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const V=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;return!(!V||!k||V[0]===k[0]&&V[1]===k[1])}get selectionText(){const V=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;if(!V||!k)return"";const O=this._bufferService.buffer,$=[];if(3===this._activeSelectionMode){if(V[0]===k[0])return"";const ue=V[0]<k[0]?V[0]:k[0],q=V[0]<k[0]?k[0]:V[0];for(let Y=V[1];Y<=k[1];Y++){const G=O.translateBufferLineToString(Y,!0,ue,q);$.push(G)}}else{$.push(O.translateBufferLineToString(V[1],!0,V[0],V[1]===k[1]?k[0]:void 0));for(let q=V[1]+1;q<=k[1]-1;q++){const Y=O.lines.get(q),G=O.translateBufferLineToString(q,!0);null!=Y&&Y.isWrapped?$[$.length-1]+=G:$.push(G)}if(V[1]!==k[1]){const q=O.lines.get(k[1]),Y=O.translateBufferLineToString(k[1],!0,0,k[0]);q&&q.isWrapped?$[$.length-1]+=Y:$.push(Y)}}return $.map(ue=>ue.replace(ce," ")).join(x.isWindows?"\r\n":"\n")}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(V){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),x.isLinux&&V&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})}_isClickInSelection(V){const k=this._getMouseBufferCoords(V),O=this._model.finalSelectionStart,$=this._model.finalSelectionEnd;return!!(O&&$&&k)&&this._areCoordsInSelection(k,O,$)}isCellInSelection(V,k){const O=this._model.finalSelectionStart,$=this._model.finalSelectionEnd;return!(!O||!$)&&this._areCoordsInSelection([V,k],O,$)}_areCoordsInSelection(V,k,O){return V[1]>k[1]&&V[1]<O[1]||k[1]===O[1]&&V[1]===k[1]&&V[0]>=k[0]&&V[0]<O[0]||k[1]<O[1]&&V[1]===O[1]&&V[0]<O[0]||k[1]<O[1]&&V[1]===k[1]&&V[0]>=k[0]}_selectWordAtCursor(V,k){var O,$;const ue=null===($=null===(O=this._linkifier.currentLink)||void 0===O?void 0:O.link)||void 0===$?void 0:$.range;if(ue)return this._model.selectionStart=[ue.start.x-1,ue.start.y-1],this._model.selectionStartLength=(0,D.getRangeLength)(ue,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const q=this._getMouseBufferCoords(V);return!!q&&(this._selectWordAt(q,k),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(V,k){this._model.clearSelection(),V=Math.max(V,0),k=Math.min(k,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,V],this._model.selectionEnd=[this._bufferService.cols,k],this.refresh(),this._onSelectionChange.fire()}_handleTrim(V){this._model.handleTrim(V)&&this.refresh()}_getMouseBufferCoords(V){const k=this._mouseService.getCoords(V,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(k)return k[0]--,k[1]--,k[1]+=this._bufferService.buffer.ydisp,k}_getMouseEventScrollAmount(V){let k=(0,l.getCoordsRelativeToElement)(this._coreBrowserService.window,V,this._screenElement)[1];const O=this._renderService.dimensions.css.canvas.height;return k>=0&&k<=O?0:(k>O&&(k-=O),k=Math.min(Math.max(k,-50),50),k/=50,k/Math.abs(k)+Math.round(14*k))}shouldForceSelection(V){return x.isMac?V.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:V.shiftKey}handleMouseDown(V){if(this._mouseDownTimeStamp=V.timeStamp,(2!==V.button||!this.hasSelection)&&0===V.button){if(!this._enabled){if(!this.shouldForceSelection(V))return;V.stopPropagation()}V.preventDefault(),this._dragScrollAmount=0,this._enabled&&V.shiftKey?this._handleIncrementalClick(V):1===V.detail?this._handleSingleClick(V):2===V.detail?this._handleDoubleClick(V):3===V.detail&&this._handleTripleClick(V),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(V){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(V))}_handleSingleClick(V){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(V)?3:0,this._model.selectionStart=this._getMouseBufferCoords(V),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const k=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);k&&k.length!==this._model.selectionStart[0]&&0===k.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}_handleDoubleClick(V){this._selectWordAtCursor(V,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(V){const k=this._getMouseBufferCoords(V);k&&(this._activeSelectionMode=2,this._selectLineAt(k[1]))}shouldColumnSelect(V){return V.altKey&&!(x.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(V){if(V.stopImmediatePropagation(),!this._model.selectionStart)return;const k=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(V),!this._model.selectionEnd)return void this.refresh(!0);2===this._activeSelectionMode?this._model.selectionEnd[0]=this._model.selectionEnd[1]<this._model.selectionStart[1]?0:this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(V),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const O=this._bufferService.buffer;if(this._model.selectionEnd[1]<O.lines.length){const $=O.lines.get(this._model.selectionEnd[1]);$&&0===$.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}k&&k[0]===this._model.selectionEnd[0]&&k[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const V=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(V.ydisp+this._bufferService.rows,V.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=V.ydisp),this.refresh()}}_handleMouseUp(V){const k=V.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&k<500&&V.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const O=this._mouseService.getCoords(V,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(O&&void 0!==O[0]&&void 0!==O[1]){const $=(0,R.moveToCellSequence)(O[0]-1,O[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent($,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const V=this._model.finalSelectionStart,k=this._model.finalSelectionEnd,O=!(!V||!k||V[0]===k[0]&&V[1]===k[1]);O?V&&k&&(this._oldSelectionStart&&this._oldSelectionEnd&&V[0]===this._oldSelectionStart[0]&&V[1]===this._oldSelectionStart[1]&&k[0]===this._oldSelectionEnd[0]&&k[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(V,k,O)):this._oldHasSelection&&this._fireOnSelectionChange(V,k,O)}_fireOnSelectionChange(V,k,O){this._oldSelectionStart=V,this._oldSelectionEnd=k,this._oldHasSelection=O,this._onSelectionChange.fire()}_handleBufferActivate(V){this.clearSelection(),this._trimListener.dispose(),this._trimListener=V.activeBuffer.lines.onTrim(k=>this._handleTrim(k))}_convertViewportColToCharacterIndex(V,k){let O=k;for(let $=0;k>=$;$++){const ue=V.loadCell($,this._workCell).getChars().length;0===this._workCell.getWidth()?O--:ue>1&&k!==$&&(O+=ue-1)}return O}setSelection(V,k,O){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[V,k],this._model.selectionStartLength=O,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(V){this._isClickInSelection(V)||(this._selectWordAtCursor(V,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(V,k,O=!0,$=!0){if(V[0]>=this._bufferService.cols)return;const ue=this._bufferService.buffer,q=ue.lines.get(V[1]);if(!q)return;const Y=ue.translateBufferLineToString(V[1],!1);let G=this._convertViewportColToCharacterIndex(q,V[0]),he=G;const j=V[0]-G;let Q=0,K=0,z=0,oe=0;if(" "===Y.charAt(G)){for(;G>0&&" "===Y.charAt(G-1);)G--;for(;he<Y.length&&" "===Y.charAt(he+1);)he++}else{let Ke=V[0],be=V[0];0===q.getWidth(Ke)&&(Q++,Ke--),2===q.getWidth(be)&&(K++,be++);const Qe=q.getString(be).length;for(Qe>1&&(oe+=Qe-1,he+=Qe-1);Ke>0&&G>0&&!this._isCharWordSeparator(q.loadCell(Ke-1,this._workCell));){q.loadCell(Ke-1,this._workCell);const X=this._workCell.getChars().length;0===this._workCell.getWidth()?(Q++,Ke--):X>1&&(z+=X-1,G-=X-1),G--,Ke--}for(;be<q.length&&he+1<Y.length&&!this._isCharWordSeparator(q.loadCell(be+1,this._workCell));){q.loadCell(be+1,this._workCell);const X=this._workCell.getChars().length;2===this._workCell.getWidth()?(K++,be++):X>1&&(oe+=X-1,he+=X-1),he++,be++}}he++;let Te=G+j-Q+z,Ae=Math.min(this._bufferService.cols,he-G+Q+K-z-oe);if(k||""!==Y.slice(G,he).trim()){if(O&&0===Te&&32!==q.getCodePoint(0)){const Ke=ue.lines.get(V[1]-1);if(Ke&&q.isWrapped&&32!==Ke.getCodePoint(this._bufferService.cols-1)){const be=this._getWordAt([this._bufferService.cols-1,V[1]-1],!1,!0,!1);if(be){const Qe=this._bufferService.cols-be.start;Te-=Qe,Ae+=Qe}}}if($&&Te+Ae===this._bufferService.cols&&32!==q.getCodePoint(this._bufferService.cols-1)){const Ke=ue.lines.get(V[1]+1);if((null==Ke?void 0:Ke.isWrapped)&&32!==Ke.getCodePoint(0)){const be=this._getWordAt([0,V[1]+1],!1,!1,!0);be&&(Ae+=be.length)}}return{start:Te,length:Ae}}}_selectWordAt(V,k){const O=this._getWordAt(V,k);if(O){for(;O.start<0;)O.start+=this._bufferService.cols,V[1]--;this._model.selectionStart=[O.start,V[1]],this._model.selectionStartLength=O.length}}_selectToWordAt(V){const k=this._getWordAt(V,!0);if(k){let O=V[1];for(;k.start<0;)k.start+=this._bufferService.cols,O--;if(!this._model.areSelectionValuesReversed())for(;k.start+k.length>this._bufferService.cols;)k.length-=this._bufferService.cols,O++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?k.start:k.start+k.length,O]}}_isCharWordSeparator(V){return 0!==V.getWidth()&&this._optionsService.rawOptions.wordSeparator.indexOf(V.getChars())>=0}_selectLineAt(V){const k=this._bufferService.buffer.getWrappedRangeForLine(V),O={start:{x:0,y:k.first},end:{x:this._bufferService.cols-1,y:k.last}};this._model.selectionStart=[0,k.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,D.getRangeLength)(O,this._bufferService.cols)}};g.SelectionService=te=P([y(3,U.IBufferService),y(4,U.ICoreService),y(5,J.IMouseService),y(6,U.IOptionsService),y(7,J.IRenderService),y(8,J.ICoreBrowserService)],te)},4725:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.IThemeService=g.ICharacterJoinerService=g.ISelectionService=g.IRenderService=g.IMouseService=g.ICoreBrowserService=g.ICharSizeService=void 0;const P=_(8343);g.ICharSizeService=(0,P.createDecorator)("CharSizeService"),g.ICoreBrowserService=(0,P.createDecorator)("CoreBrowserService"),g.IMouseService=(0,P.createDecorator)("MouseService"),g.IRenderService=(0,P.createDecorator)("RenderService"),g.ISelectionService=(0,P.createDecorator)("SelectionService"),g.ICharacterJoinerService=(0,P.createDecorator)("CharacterJoinerService"),g.IThemeService=(0,P.createDecorator)("ThemeService")},6731:function(f,g,_){var P=this&&this.__decorate||function(te,V,k,O){var $,ue=arguments.length,q=ue<3?V:null===O?O=Object.getOwnPropertyDescriptor(V,k):O;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)q=Reflect.decorate(te,V,k,O);else for(var Y=te.length-1;Y>=0;Y--)($=te[Y])&&(q=(ue<3?$(q):ue>3?$(V,k,q):$(V,k))||q);return ue>3&&q&&Object.defineProperty(V,k,q),q},y=this&&this.__param||function(te,V){return function(k,O){V(k,O,te)}};Object.defineProperty(g,"__esModule",{value:!0}),g.ThemeService=g.DEFAULT_ANSI_COLORS=void 0;const l=_(7239),R=_(8055),L=_(8460),J=_(844),N=_(2585),w=R.css.toColor("#ffffff"),x=R.css.toColor("#000000"),D=R.css.toColor("#ffffff"),S=R.css.toColor("#000000"),U={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};g.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const te=[R.css.toColor("#2e3436"),R.css.toColor("#cc0000"),R.css.toColor("#4e9a06"),R.css.toColor("#c4a000"),R.css.toColor("#3465a4"),R.css.toColor("#75507b"),R.css.toColor("#06989a"),R.css.toColor("#d3d7cf"),R.css.toColor("#555753"),R.css.toColor("#ef2929"),R.css.toColor("#8ae234"),R.css.toColor("#fce94f"),R.css.toColor("#729fcf"),R.css.toColor("#ad7fa8"),R.css.toColor("#34e2e2"),R.css.toColor("#eeeeec")],V=[0,95,135,175,215,255];for(let k=0;k<216;k++){const O=V[k/36%6|0],$=V[k/6%6|0],ue=V[k%6];te.push({css:R.channels.toCss(O,$,ue),rgba:R.channels.toRgba(O,$,ue)})}for(let k=0;k<24;k++){const O=8+10*k;te.push({css:R.channels.toCss(O,O,O),rgba:R.channels.toRgba(O,O,O)})}return te})());let F=g.ThemeService=class extends J.Disposable{get colors(){return this._colors}constructor(te){super(),this._optionsService=te,this._contrastCache=new l.ColorContrastCache,this._halfContrastCache=new l.ColorContrastCache,this._onChangeColors=this.register(new L.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:w,background:x,cursor:D,cursorAccent:S,selectionForeground:void 0,selectionBackgroundTransparent:U,selectionBackgroundOpaque:R.color.blend(x,U),selectionInactiveBackgroundTransparent:U,selectionInactiveBackgroundOpaque:R.color.blend(x,U),ansi:g.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(te={}){const V=this._colors;if(V.foreground=ce(te.foreground,w),V.background=ce(te.background,x),V.cursor=ce(te.cursor,D),V.cursorAccent=ce(te.cursorAccent,S),V.selectionBackgroundTransparent=ce(te.selectionBackground,U),V.selectionBackgroundOpaque=R.color.blend(V.background,V.selectionBackgroundTransparent),V.selectionInactiveBackgroundTransparent=ce(te.selectionInactiveBackground,V.selectionBackgroundTransparent),V.selectionInactiveBackgroundOpaque=R.color.blend(V.background,V.selectionInactiveBackgroundTransparent),V.selectionForeground=te.selectionForeground?ce(te.selectionForeground,R.NULL_COLOR):void 0,V.selectionForeground===R.NULL_COLOR&&(V.selectionForeground=void 0),R.color.isOpaque(V.selectionBackgroundTransparent)&&(V.selectionBackgroundTransparent=R.color.opacity(V.selectionBackgroundTransparent,.3)),R.color.isOpaque(V.selectionInactiveBackgroundTransparent)&&(V.selectionInactiveBackgroundTransparent=R.color.opacity(V.selectionInactiveBackgroundTransparent,.3)),V.ansi=g.DEFAULT_ANSI_COLORS.slice(),V.ansi[0]=ce(te.black,g.DEFAULT_ANSI_COLORS[0]),V.ansi[1]=ce(te.red,g.DEFAULT_ANSI_COLORS[1]),V.ansi[2]=ce(te.green,g.DEFAULT_ANSI_COLORS[2]),V.ansi[3]=ce(te.yellow,g.DEFAULT_ANSI_COLORS[3]),V.ansi[4]=ce(te.blue,g.DEFAULT_ANSI_COLORS[4]),V.ansi[5]=ce(te.magenta,g.DEFAULT_ANSI_COLORS[5]),V.ansi[6]=ce(te.cyan,g.DEFAULT_ANSI_COLORS[6]),V.ansi[7]=ce(te.white,g.DEFAULT_ANSI_COLORS[7]),V.ansi[8]=ce(te.brightBlack,g.DEFAULT_ANSI_COLORS[8]),V.ansi[9]=ce(te.brightRed,g.DEFAULT_ANSI_COLORS[9]),V.ansi[10]=ce(te.brightGreen,g.DEFAULT_ANSI_COLORS[10]),V.ansi[11]=ce(te.brightYellow,g.DEFAULT_ANSI_COLORS[11]),V.ansi[12]=ce(te.brightBlue,g.DEFAULT_ANSI_COLORS[12]),V.ansi[13]=ce(te.brightMagenta,g.DEFAULT_ANSI_COLORS[13]),V.ansi[14]=ce(te.brightCyan,g.DEFAULT_ANSI_COLORS[14]),V.ansi[15]=ce(te.brightWhite,g.DEFAULT_ANSI_COLORS[15]),te.extendedAnsi){const k=Math.min(V.ansi.length-16,te.extendedAnsi.length);for(let O=0;O<k;O++)V.ansi[O+16]=ce(te.extendedAnsi[O],g.DEFAULT_ANSI_COLORS[O+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(te){this._restoreColor(te),this._onChangeColors.fire(this.colors)}_restoreColor(te){if(void 0!==te)switch(te){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[te]=this._restoreColors.ansi[te]}else for(let V=0;V<this._restoreColors.ansi.length;++V)this._colors.ansi[V]=this._restoreColors.ansi[V]}modifyColors(te){te(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function ce(te,V){if(void 0!==te)try{return R.css.toColor(te)}catch(k){}return V}g.ThemeService=F=P([y(0,N.IOptionsService)],F)},6349:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.CircularList=void 0;const P=_(8460),y=_(844);g.CircularList=class l extends y.Disposable{constructor(L){super(),this._maxLength=L,this.onDeleteEmitter=this.register(new P.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new P.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new P.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(L){if(this._maxLength===L)return;const J=new Array(L);for(let N=0;N<Math.min(L,this.length);N++)J[N]=this._array[this._getCyclicIndex(N)];this._array=J,this._maxLength=L,this._startIndex=0}get length(){return this._length}set length(L){if(L>this._length)for(let J=this._length;J<L;J++)this._array[J]=void 0;this._length=L}get(L){return this._array[this._getCyclicIndex(L)]}set(L,J){this._array[this._getCyclicIndex(L)]=J}push(L){this._array[this._getCyclicIndex(this._length)]=L,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(L,J,...N){if(J){for(let w=L;w<this._length-J;w++)this._array[this._getCyclicIndex(w)]=this._array[this._getCyclicIndex(w+J)];this._length-=J,this.onDeleteEmitter.fire({index:L,amount:J})}for(let w=this._length-1;w>=L;w--)this._array[this._getCyclicIndex(w+N.length)]=this._array[this._getCyclicIndex(w)];for(let w=0;w<N.length;w++)this._array[this._getCyclicIndex(L+w)]=N[w];if(N.length&&this.onInsertEmitter.fire({index:L,amount:N.length}),this._length+N.length>this._maxLength){const w=this._length+N.length-this._maxLength;this._startIndex+=w,this._length=this._maxLength,this.onTrimEmitter.fire(w)}else this._length+=N.length}trimStart(L){L>this._length&&(L=this._length),this._startIndex+=L,this._length-=L,this.onTrimEmitter.fire(L)}shiftElements(L,J,N){if(!(J<=0)){if(L<0||L>=this._length)throw new Error("start argument out of range");if(L+N<0)throw new Error("Cannot shift elements in list beyond index 0");if(N>0){for(let x=J-1;x>=0;x--)this.set(L+x+N,this.get(L+x));const w=L+J+N-this._length;if(w>0)for(this._length+=w;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let w=0;w<J;w++)this.set(L+w+N,this.get(L+w))}}_getCyclicIndex(L){return(this._startIndex+L)%this._maxLength}}},1439:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.clone=void 0,g.clone=function _(P,y=5){if("object"!=typeof P)return P;const l=Array.isArray(P)?[]:{};for(const R in P)l[R]=y<=1?P[R]:P[R]&&_(P[R],y-1);return l}},8055:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.contrastRatio=g.toPaddedHex=g.rgba=g.rgb=g.css=g.color=g.channels=g.NULL_COLOR=void 0;const P=_(6114);let y=0,l=0,R=0,L=0;var J,N,w,x,D,F;function S(F){const ce=F.toString(16);return ce.length<2?"0"+ce:ce}function U(F,ce){return F<ce?(ce+.05)/(F+.05):(F+.05)/(ce+.05)}g.NULL_COLOR={css:"#00000000",rgba:0},(F=J||(g.channels=J={})).toCss=function(ce,te,V,k){return void 0!==k?`#${S(ce)}${S(te)}${S(V)}${S(k)}`:`#${S(ce)}${S(te)}${S(V)}`},F.toRgba=function(ce,te,V,k=255){return(ce<<24|te<<16|V<<8|k)>>>0},function(F){function ce(te,V){return L=Math.round(255*V),[y,l,R]=D.toChannels(te.rgba),{css:J.toCss(y,l,R,L),rgba:J.toRgba(y,l,R,L)}}F.blend=function(te,V){if(L=(255&V.rgba)/255,1===L)return{css:V.css,rgba:V.rgba};const O=V.rgba>>16&255,$=V.rgba>>8&255,ue=te.rgba>>24&255,q=te.rgba>>16&255,Y=te.rgba>>8&255;return y=ue+Math.round(((V.rgba>>24&255)-ue)*L),l=q+Math.round((O-q)*L),R=Y+Math.round(($-Y)*L),{css:J.toCss(y,l,R),rgba:J.toRgba(y,l,R)}},F.isOpaque=function(te){return 255==(255&te.rgba)},F.ensureContrastRatio=function(te,V,k){const O=D.ensureContrastRatio(te.rgba,V.rgba,k);if(O)return D.toColor(O>>24&255,O>>16&255,O>>8&255)},F.opaque=function(te){const V=(255|te.rgba)>>>0;return[y,l,R]=D.toChannels(V),{css:J.toCss(y,l,R),rgba:V}},F.opacity=ce,F.multiplyOpacity=function(te,V){return L=255&te.rgba,ce(te,L*V/255)},F.toColorRGB=function(te){return[te.rgba>>24&255,te.rgba>>16&255,te.rgba>>8&255]}}(N||(g.color=N={})),function(F){let ce,te;if(!P.isNode){const V=document.createElement("canvas");V.width=1,V.height=1;const k=V.getContext("2d",{willReadFrequently:!0});k&&(ce=k,ce.globalCompositeOperation="copy",te=ce.createLinearGradient(0,0,1,1))}F.toColor=function(V){if(V.match(/#[\da-f]{3,8}/i))switch(V.length){case 4:return y=parseInt(V.slice(1,2).repeat(2),16),l=parseInt(V.slice(2,3).repeat(2),16),R=parseInt(V.slice(3,4).repeat(2),16),D.toColor(y,l,R);case 5:return y=parseInt(V.slice(1,2).repeat(2),16),l=parseInt(V.slice(2,3).repeat(2),16),R=parseInt(V.slice(3,4).repeat(2),16),L=parseInt(V.slice(4,5).repeat(2),16),D.toColor(y,l,R,L);case 7:return{css:V,rgba:(parseInt(V.slice(1),16)<<8|255)>>>0};case 9:return{css:V,rgba:parseInt(V.slice(1),16)>>>0}}const k=V.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(k)return y=parseInt(k[1]),l=parseInt(k[2]),R=parseInt(k[3]),L=Math.round(255*(void 0===k[5]?1:parseFloat(k[5]))),D.toColor(y,l,R,L);if(!ce||!te)throw new Error("css.toColor: Unsupported css format");if(ce.fillStyle=te,ce.fillStyle=V,"string"!=typeof ce.fillStyle)throw new Error("css.toColor: Unsupported css format");if(ce.fillRect(0,0,1,1),[y,l,R,L]=ce.getImageData(0,0,1,1).data,255!==L)throw new Error("css.toColor: Unsupported css format");return{rgba:J.toRgba(y,l,R,L),css:V}}}(w||(g.css=w={})),function(F){function ce(te,V,k){const O=te/255,$=V/255,ue=k/255;return.2126*(O<=.03928?O/12.92:Math.pow((O+.055)/1.055,2.4))+.7152*($<=.03928?$/12.92:Math.pow(($+.055)/1.055,2.4))+.0722*(ue<=.03928?ue/12.92:Math.pow((ue+.055)/1.055,2.4))}F.relativeLuminance=function(te){return ce(te>>16&255,te>>8&255,255&te)},F.relativeLuminance2=ce}(x||(g.rgb=x={})),function(F){function ce(V,k,O){const $=V>>24&255,ue=V>>16&255,q=V>>8&255;let Y=k>>24&255,G=k>>16&255,he=k>>8&255,j=U(x.relativeLuminance2(Y,G,he),x.relativeLuminance2($,ue,q));for(;j<O&&(Y>0||G>0||he>0);)Y-=Math.max(0,Math.ceil(.1*Y)),G-=Math.max(0,Math.ceil(.1*G)),he-=Math.max(0,Math.ceil(.1*he)),j=U(x.relativeLuminance2(Y,G,he),x.relativeLuminance2($,ue,q));return(Y<<24|G<<16|he<<8|255)>>>0}function te(V,k,O){const $=V>>24&255,ue=V>>16&255,q=V>>8&255;let Y=k>>24&255,G=k>>16&255,he=k>>8&255,j=U(x.relativeLuminance2(Y,G,he),x.relativeLuminance2($,ue,q));for(;j<O&&(Y<255||G<255||he<255);)Y=Math.min(255,Y+Math.ceil(.1*(255-Y))),G=Math.min(255,G+Math.ceil(.1*(255-G))),he=Math.min(255,he+Math.ceil(.1*(255-he))),j=U(x.relativeLuminance2(Y,G,he),x.relativeLuminance2($,ue,q));return(Y<<24|G<<16|he<<8|255)>>>0}F.ensureContrastRatio=function(V,k,O){const $=x.relativeLuminance(V>>8),ue=x.relativeLuminance(k>>8);if(U($,ue)<O){if(ue<$){const G=ce(V,k,O),he=U($,x.relativeLuminance(G>>8));if(he<O){const j=te(V,k,O);return he>U($,x.relativeLuminance(j>>8))?G:j}return G}const q=te(V,k,O),Y=U($,x.relativeLuminance(q>>8));if(Y<O){const G=ce(V,k,O);return Y>U($,x.relativeLuminance(G>>8))?q:G}return q}},F.reduceLuminance=ce,F.increaseLuminance=te,F.toChannels=function(V){return[V>>24&255,V>>16&255,V>>8&255,255&V]},F.toColor=function(V,k,O,$){return{css:J.toCss(V,k,O,$),rgba:J.toRgba(V,k,O,$)}}}(D||(g.rgba=D={})),g.toPaddedHex=S,g.contrastRatio=U},8969:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.CoreTerminal=void 0;const P=_(844),y=_(2585),l=_(4348),R=_(7866),L=_(744),J=_(7302),N=_(6975),w=_(8460),x=_(1753),D=_(1480),S=_(7994),U=_(9282),F=_(5435),ce=_(5981),te=_(2660);let V=!1;g.CoreTerminal=class k extends P.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new w.EventEmitter),this._onScroll.event($=>{var ue;null===(ue=this._onScrollApi)||void 0===ue||ue.fire($.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options($){for(const ue in $)this.optionsService.options[ue]=$[ue]}constructor($){super(),this._windowsWrappingHeuristics=this.register(new P.MutableDisposable),this._onBinary=this.register(new w.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new w.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new w.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new w.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new w.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new w.EventEmitter),this._instantiationService=new l.InstantiationService,this.optionsService=this.register(new J.OptionsService($)),this._instantiationService.setService(y.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(L.BufferService)),this._instantiationService.setService(y.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(R.LogService)),this._instantiationService.setService(y.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(N.CoreService)),this._instantiationService.setService(y.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(x.CoreMouseService)),this._instantiationService.setService(y.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(D.UnicodeService)),this._instantiationService.setService(y.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(S.CharsetService),this._instantiationService.setService(y.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(te.OscLinkService),this._instantiationService.setService(y.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new F.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,w.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,w.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,w.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,w.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(ue=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(ue=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new ce.WriteBuffer((ue,q)=>this._inputHandler.parse(ue,q))),this.register((0,w.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write($,ue){this._writeBuffer.write($,ue)}writeSync($,ue){this._logService.logLevel<=y.LogLevelEnum.WARN&&!V&&(this._logService.warn("writeSync is unreliable and will be removed soon."),V=!0),this._writeBuffer.writeSync($,ue)}resize($,ue){isNaN($)||isNaN(ue)||($=Math.max($,L.MINIMUM_COLS),ue=Math.max(ue,L.MINIMUM_ROWS),this._bufferService.resize($,ue))}scroll($,ue=!1){this._bufferService.scroll($,ue)}scrollLines($,ue,q){this._bufferService.scrollLines($,ue,q)}scrollPages($){this.scrollLines($*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine($){const ue=$-this._bufferService.buffer.ydisp;0!==ue&&this.scrollLines(ue)}registerEscHandler($,ue){return this._inputHandler.registerEscHandler($,ue)}registerDcsHandler($,ue){return this._inputHandler.registerDcsHandler($,ue)}registerCsiHandler($,ue){return this._inputHandler.registerCsiHandler($,ue)}registerOscHandler($,ue){return this._inputHandler.registerOscHandler($,ue)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let $=!1;const ue=this.optionsService.rawOptions.windowsPty;ue&&void 0!==ue.buildNumber&&void 0!==ue.buildNumber?$="conpty"===ue.backend&&ue.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&($=!0),$?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const $=[];$.push(this.onLineFeed(U.updateWindowsModeWrappedState.bind(null,this._bufferService))),$.push(this.registerCsiHandler({final:"H"},()=>((0,U.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,P.toDisposable)(()=>{for(const ue of $)ue.dispose()})}}}},8460:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.forwardEvent=g.EventEmitter=void 0,g.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=_=>(this._listeners.push(_),{dispose:()=>{if(!this._disposed)for(let P=0;P<this._listeners.length;P++)if(this._listeners[P]===_)return void this._listeners.splice(P,1)}})),this._event}fire(_,P){const y=[];for(let l=0;l<this._listeners.length;l++)y.push(this._listeners[l]);for(let l=0;l<y.length;l++)y[l].call(void 0,_,P)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},g.forwardEvent=function(_,P){return _(y=>P.fire(y))}},5435:function(f,g,_){var P=this&&this.__decorate||function(j,Q,K,z){var oe,Te=arguments.length,Ae=Te<3?Q:null===z?z=Object.getOwnPropertyDescriptor(Q,K):z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ae=Reflect.decorate(j,Q,K,z);else for(var Ke=j.length-1;Ke>=0;Ke--)(oe=j[Ke])&&(Ae=(Te<3?oe(Ae):Te>3?oe(Q,K,Ae):oe(Q,K))||Ae);return Te>3&&Ae&&Object.defineProperty(Q,K,Ae),Ae},y=this&&this.__param||function(j,Q){return function(K,z){Q(K,z,j)}};Object.defineProperty(g,"__esModule",{value:!0}),g.InputHandler=g.WindowsOptionsReportType=void 0;const l=_(2584),R=_(7116),L=_(2015),J=_(844),N=_(482),w=_(8437),x=_(8460),D=_(643),S=_(511),U=_(3734),F=_(2585),ce=_(6242),te=_(6351),V=_(5941),k={"(":0,")":1,"*":2,"+":3,"-":1,".":2},O=131072;function $(j,Q){if(j>24)return Q.setWinLines||!1;switch(j){case 1:return!!Q.restoreWin;case 2:return!!Q.minimizeWin;case 3:return!!Q.setWinPosition;case 4:return!!Q.setWinSizePixels;case 5:return!!Q.raiseWin;case 6:return!!Q.lowerWin;case 7:return!!Q.refreshWin;case 8:return!!Q.setWinSizeChars;case 9:return!!Q.maximizeWin;case 10:return!!Q.fullscreenWin;case 11:return!!Q.getWinState;case 13:return!!Q.getWinPosition;case 14:return!!Q.getWinSizePixels;case 15:return!!Q.getScreenSizePixels;case 16:return!!Q.getCellSizePixels;case 18:return!!Q.getWinSizeChars;case 19:return!!Q.getScreenSizeChars;case 20:return!!Q.getIconTitle;case 21:return!!Q.getWinTitle;case 22:return!!Q.pushTitle;case 23:return!!Q.popTitle;case 24:return!!Q.setWinLines}return!1}var ue,j;(j=ue||(g.WindowsOptionsReportType=ue={}))[j.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",j[j.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS";let q=0;g.InputHandler=class Y extends J.Disposable{getAttrData(){return this._curAttrData}constructor(Q,K,z,oe,Te,Ae,Ke,be,Qe=new L.EscapeSequenceParser){super(),this._bufferService=Q,this._charsetService=K,this._coreService=z,this._logService=oe,this._optionsService=Te,this._oscLinkService=Ae,this._coreMouseService=Ke,this._unicodeService=be,this._parser=Qe,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new N.StringToUtf32,this._utf8Decoder=new N.Utf8ToUtf32,this._workCell=new S.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=w.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=w.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new x.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new x.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new x.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new x.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new x.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new x.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new x.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new x.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new x.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new x.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new x.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new x.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new x.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new G(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(X=>this._activeBuffer=X.activeBuffer)),this._parser.setCsiHandlerFallback((X,xe)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(X),params:xe.toArray()})}),this._parser.setEscHandlerFallback(X=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(X)})}),this._parser.setExecuteHandlerFallback(X=>{this._logService.debug("Unknown EXECUTE code: ",{code:X})}),this._parser.setOscHandlerFallback((X,xe,we)=>{this._logService.debug("Unknown OSC code: ",{identifier:X,action:xe,data:we})}),this._parser.setDcsHandlerFallback((X,xe,we)=>{"HOOK"===xe&&(we=we.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(X),action:xe,payload:we})}),this._parser.setPrintHandler((X,xe,we)=>this.print(X,xe,we)),this._parser.registerCsiHandler({final:"@"},X=>this.insertChars(X)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},X=>this.scrollLeft(X)),this._parser.registerCsiHandler({final:"A"},X=>this.cursorUp(X)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},X=>this.scrollRight(X)),this._parser.registerCsiHandler({final:"B"},X=>this.cursorDown(X)),this._parser.registerCsiHandler({final:"C"},X=>this.cursorForward(X)),this._parser.registerCsiHandler({final:"D"},X=>this.cursorBackward(X)),this._parser.registerCsiHandler({final:"E"},X=>this.cursorNextLine(X)),this._parser.registerCsiHandler({final:"F"},X=>this.cursorPrecedingLine(X)),this._parser.registerCsiHandler({final:"G"},X=>this.cursorCharAbsolute(X)),this._parser.registerCsiHandler({final:"H"},X=>this.cursorPosition(X)),this._parser.registerCsiHandler({final:"I"},X=>this.cursorForwardTab(X)),this._parser.registerCsiHandler({final:"J"},X=>this.eraseInDisplay(X,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},X=>this.eraseInDisplay(X,!0)),this._parser.registerCsiHandler({final:"K"},X=>this.eraseInLine(X,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},X=>this.eraseInLine(X,!0)),this._parser.registerCsiHandler({final:"L"},X=>this.insertLines(X)),this._parser.registerCsiHandler({final:"M"},X=>this.deleteLines(X)),this._parser.registerCsiHandler({final:"P"},X=>this.deleteChars(X)),this._parser.registerCsiHandler({final:"S"},X=>this.scrollUp(X)),this._parser.registerCsiHandler({final:"T"},X=>this.scrollDown(X)),this._parser.registerCsiHandler({final:"X"},X=>this.eraseChars(X)),this._parser.registerCsiHandler({final:"Z"},X=>this.cursorBackwardTab(X)),this._parser.registerCsiHandler({final:"`"},X=>this.charPosAbsolute(X)),this._parser.registerCsiHandler({final:"a"},X=>this.hPositionRelative(X)),this._parser.registerCsiHandler({final:"b"},X=>this.repeatPrecedingCharacter(X)),this._parser.registerCsiHandler({final:"c"},X=>this.sendDeviceAttributesPrimary(X)),this._parser.registerCsiHandler({prefix:">",final:"c"},X=>this.sendDeviceAttributesSecondary(X)),this._parser.registerCsiHandler({final:"d"},X=>this.linePosAbsolute(X)),this._parser.registerCsiHandler({final:"e"},X=>this.vPositionRelative(X)),this._parser.registerCsiHandler({final:"f"},X=>this.hVPosition(X)),this._parser.registerCsiHandler({final:"g"},X=>this.tabClear(X)),this._parser.registerCsiHandler({final:"h"},X=>this.setMode(X)),this._parser.registerCsiHandler({prefix:"?",final:"h"},X=>this.setModePrivate(X)),this._parser.registerCsiHandler({final:"l"},X=>this.resetMode(X)),this._parser.registerCsiHandler({prefix:"?",final:"l"},X=>this.resetModePrivate(X)),this._parser.registerCsiHandler({final:"m"},X=>this.charAttributes(X)),this._parser.registerCsiHandler({final:"n"},X=>this.deviceStatus(X)),this._parser.registerCsiHandler({prefix:"?",final:"n"},X=>this.deviceStatusPrivate(X)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},X=>this.softReset(X)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},X=>this.setCursorStyle(X)),this._parser.registerCsiHandler({final:"r"},X=>this.setScrollRegion(X)),this._parser.registerCsiHandler({final:"s"},X=>this.saveCursor(X)),this._parser.registerCsiHandler({final:"t"},X=>this.windowOptions(X)),this._parser.registerCsiHandler({final:"u"},X=>this.restoreCursor(X)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},X=>this.insertColumns(X)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},X=>this.deleteColumns(X)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},X=>this.selectProtected(X)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},X=>this.requestMode(X,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},X=>this.requestMode(X,!1)),this._parser.setExecuteHandler(l.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(l.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(l.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(l.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(l.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(l.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(l.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(l.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(l.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(l.C1.IND,()=>this.index()),this._parser.setExecuteHandler(l.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(l.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new ce.OscHandler(X=>(this.setTitle(X),this.setIconName(X),!0))),this._parser.registerOscHandler(1,new ce.OscHandler(X=>this.setIconName(X))),this._parser.registerOscHandler(2,new ce.OscHandler(X=>this.setTitle(X))),this._parser.registerOscHandler(4,new ce.OscHandler(X=>this.setOrReportIndexedColor(X))),this._parser.registerOscHandler(8,new ce.OscHandler(X=>this.setHyperlink(X))),this._parser.registerOscHandler(10,new ce.OscHandler(X=>this.setOrReportFgColor(X))),this._parser.registerOscHandler(11,new ce.OscHandler(X=>this.setOrReportBgColor(X))),this._parser.registerOscHandler(12,new ce.OscHandler(X=>this.setOrReportCursorColor(X))),this._parser.registerOscHandler(104,new ce.OscHandler(X=>this.restoreIndexedColor(X))),this._parser.registerOscHandler(110,new ce.OscHandler(X=>this.restoreFgColor(X))),this._parser.registerOscHandler(111,new ce.OscHandler(X=>this.restoreBgColor(X))),this._parser.registerOscHandler(112,new ce.OscHandler(X=>this.restoreCursorColor(X))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const X in R.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:X},()=>this.selectCharset("("+X)),this._parser.registerEscHandler({intermediates:")",final:X},()=>this.selectCharset(")"+X)),this._parser.registerEscHandler({intermediates:"*",final:X},()=>this.selectCharset("*"+X)),this._parser.registerEscHandler({intermediates:"+",final:X},()=>this.selectCharset("+"+X)),this._parser.registerEscHandler({intermediates:"-",final:X},()=>this.selectCharset("-"+X)),this._parser.registerEscHandler({intermediates:".",final:X},()=>this.selectCharset("."+X)),this._parser.registerEscHandler({intermediates:"/",final:X},()=>this.selectCharset("/"+X));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(X=>(this._logService.error("Parsing error: ",X),X)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new te.DcsHandler((X,xe)=>this.requestStatusString(X,xe)))}_preserveStack(Q,K,z,oe){this._parseStack.paused=!0,this._parseStack.cursorStartX=Q,this._parseStack.cursorStartY=K,this._parseStack.decodedLength=z,this._parseStack.position=oe}_logSlowResolvingAsync(Q){this._logService.logLevel<=F.LogLevelEnum.WARN&&Promise.race([Q,new Promise((K,z)=>setTimeout(()=>z("#SLOW_TIMEOUT"),5e3))]).catch(K=>{if("#SLOW_TIMEOUT"!==K)throw K;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(Q,K){let z,oe=this._activeBuffer.x,Te=this._activeBuffer.y,Ae=0;const Ke=this._parseStack.paused;if(Ke){if(z=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,K))return this._logSlowResolvingAsync(z),z;oe=this._parseStack.cursorStartX,Te=this._parseStack.cursorStartY,this._parseStack.paused=!1,Q.length>O&&(Ae=this._parseStack.position+O)}if(this._logService.logLevel<=F.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+("string"==typeof Q?` "${Q}"`:` "${Array.prototype.map.call(Q,be=>String.fromCharCode(be)).join("")}"`),"string"==typeof Q?Q.split("").map(be=>be.charCodeAt(0)):Q),this._parseBuffer.length<Q.length&&this._parseBuffer.length<O&&(this._parseBuffer=new Uint32Array(Math.min(Q.length,O))),Ke||this._dirtyRowTracker.clearRange(),Q.length>O)for(let be=Ae;be<Q.length;be+=O){const Qe=be+O<Q.length?be+O:Q.length,X="string"==typeof Q?this._stringDecoder.decode(Q.substring(be,Qe),this._parseBuffer):this._utf8Decoder.decode(Q.subarray(be,Qe),this._parseBuffer);if(z=this._parser.parse(this._parseBuffer,X))return this._preserveStack(oe,Te,X,be),this._logSlowResolvingAsync(z),z}else if(!Ke){const be="string"==typeof Q?this._stringDecoder.decode(Q,this._parseBuffer):this._utf8Decoder.decode(Q,this._parseBuffer);if(z=this._parser.parse(this._parseBuffer,be))return this._preserveStack(oe,Te,be,0),this._logSlowResolvingAsync(z),z}this._activeBuffer.x===oe&&this._activeBuffer.y===Te||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(Q,K,z){let oe,Te;const Ae=this._charsetService.charset,Ke=this._optionsService.rawOptions.screenReaderMode,be=this._bufferService.cols,Qe=this._coreService.decPrivateModes.wraparound,X=this._coreService.modes.insertMode,xe=this._curAttrData;let we=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&z-K>0&&2===we.getWidth(this._activeBuffer.x-1)&&we.setCellFromCodePoint(this._activeBuffer.x-1,0,1,xe.fg,xe.bg,xe.extended);for(let Oe=K;Oe<z;++Oe){if(oe=Q[Oe],Te=this._unicodeService.wcwidth(oe),oe<127&&Ae){const dt=Ae[String.fromCharCode(oe)];dt&&(oe=dt.charCodeAt(0))}if(Ke&&this._onA11yChar.fire((0,N.stringFromCodePoint)(oe)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),Te||!this._activeBuffer.x){if(this._activeBuffer.x+Te-1>=be)if(Qe){for(;this._activeBuffer.x<be;)we.setCellFromCodePoint(this._activeBuffer.x++,0,1,xe.fg,xe.bg,xe.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),we=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=be-1,2===Te)continue;if(X&&(we.insertCells(this._activeBuffer.x,Te,this._activeBuffer.getNullCell(xe),xe),2===we.getWidth(be-1)&&we.setCellFromCodePoint(be-1,D.NULL_CELL_CODE,D.NULL_CELL_WIDTH,xe.fg,xe.bg,xe.extended)),we.setCellFromCodePoint(this._activeBuffer.x++,oe,Te,xe.fg,xe.bg,xe.extended),Te>0)for(;--Te;)we.setCellFromCodePoint(this._activeBuffer.x++,0,0,xe.fg,xe.bg,xe.extended)}else we.getWidth(this._activeBuffer.x-1)?we.addCodepointToCell(this._activeBuffer.x-1,oe):we.addCodepointToCell(this._activeBuffer.x-2,oe)}z-K>0&&(we.loadCell(this._activeBuffer.x-1,this._workCell),this._parser.precedingCodepoint=2===this._workCell.getWidth()||this._workCell.getCode()>65535?0:this._workCell.isCombined()?this._workCell.getChars().charCodeAt(0):this._workCell.content),this._activeBuffer.x<be&&z-K>0&&0===we.getWidth(this._activeBuffer.x)&&!we.hasContent(this._activeBuffer.x)&&we.setCellFromCodePoint(this._activeBuffer.x,0,1,xe.fg,xe.bg,xe.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(Q,K){return this._parser.registerCsiHandler(Q,"t"!==Q.final||Q.prefix||Q.intermediates?K:z=>!$(z.params[0],this._optionsService.rawOptions.windowOptions)||K(z))}registerDcsHandler(Q,K){return this._parser.registerDcsHandler(Q,new te.DcsHandler(K))}registerEscHandler(Q,K){return this._parser.registerEscHandler(Q,K)}registerOscHandler(Q,K){return this._parser.registerOscHandler(Q,new ce.OscHandler(K))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var Q;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(0===this._activeBuffer.x&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(null===(Q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))||void 0===Q?void 0:Q.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const K=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);K.hasWidth(this._activeBuffer.x)&&!K.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const Q=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-Q),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(Q=this._bufferService.cols-1){this._activeBuffer.x=Math.min(Q,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(Q,K){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=Q,this._activeBuffer.y=this._activeBuffer.scrollTop+K):(this._activeBuffer.x=Q,this._activeBuffer.y=K),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(Q,K){this._restrictCursor(),this._setCursor(this._activeBuffer.x+Q,this._activeBuffer.y+K)}cursorUp(Q){const K=this._activeBuffer.y-this._activeBuffer.scrollTop;return this._moveCursor(0,K>=0?-Math.min(K,Q.params[0]||1):-(Q.params[0]||1)),!0}cursorDown(Q){const K=this._activeBuffer.scrollBottom-this._activeBuffer.y;return this._moveCursor(0,K>=0?Math.min(K,Q.params[0]||1):Q.params[0]||1),!0}cursorForward(Q){return this._moveCursor(Q.params[0]||1,0),!0}cursorBackward(Q){return this._moveCursor(-(Q.params[0]||1),0),!0}cursorNextLine(Q){return this.cursorDown(Q),this._activeBuffer.x=0,!0}cursorPrecedingLine(Q){return this.cursorUp(Q),this._activeBuffer.x=0,!0}cursorCharAbsolute(Q){return this._setCursor((Q.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(Q){return this._setCursor(Q.length>=2?(Q.params[1]||1)-1:0,(Q.params[0]||1)-1),!0}charPosAbsolute(Q){return this._setCursor((Q.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(Q){return this._moveCursor(Q.params[0]||1,0),!0}linePosAbsolute(Q){return this._setCursor(this._activeBuffer.x,(Q.params[0]||1)-1),!0}vPositionRelative(Q){return this._moveCursor(0,Q.params[0]||1),!0}hVPosition(Q){return this.cursorPosition(Q),!0}tabClear(Q){const K=Q.params[0];return 0===K?delete this._activeBuffer.tabs[this._activeBuffer.x]:3===K&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(Q){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let K=Q.params[0]||1;for(;K--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(Q){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let K=Q.params[0]||1;for(;K--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(Q){const K=Q.params[0];return 1===K&&(this._curAttrData.bg|=536870912),2!==K&&0!==K||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(Q,K,z,oe=!1,Te=!1){const Ae=this._activeBuffer.lines.get(this._activeBuffer.ybase+Q);Ae.replaceCells(K,z,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),Te),oe&&(Ae.isWrapped=!1)}_resetBufferLine(Q,K=!1){const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+Q);z&&(z.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),K),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+Q),z.isWrapped=!1)}eraseInDisplay(Q,K=!1){let z;switch(this._restrictCursor(this._bufferService.cols),Q.params[0]){case 0:for(z=this._activeBuffer.y,this._dirtyRowTracker.markDirty(z),this._eraseInBufferLine(z++,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,K);z<this._bufferService.rows;z++)this._resetBufferLine(z,K);this._dirtyRowTracker.markDirty(z);break;case 1:for(z=this._activeBuffer.y,this._dirtyRowTracker.markDirty(z),this._eraseInBufferLine(z,0,this._activeBuffer.x+1,!0,K),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(z+1).isWrapped=!1);z--;)this._resetBufferLine(z,K);this._dirtyRowTracker.markDirty(0);break;case 2:for(z=this._bufferService.rows,this._dirtyRowTracker.markDirty(z-1);z--;)this._resetBufferLine(z,K);this._dirtyRowTracker.markDirty(0);break;case 3:const oe=this._activeBuffer.lines.length-this._bufferService.rows;oe>0&&(this._activeBuffer.lines.trimStart(oe),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-oe,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-oe,0),this._onScroll.fire(0))}return!0}eraseInLine(Q,K=!1){switch(this._restrictCursor(this._bufferService.cols),Q.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,K);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,K);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,K)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(Q){this._restrictCursor();let K=Q.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const z=this._activeBuffer.ybase+this._activeBuffer.y,Te=this._bufferService.rows-1+this._activeBuffer.ybase-(this._bufferService.rows-1-this._activeBuffer.scrollBottom)+1;for(;K--;)this._activeBuffer.lines.splice(Te-1,1),this._activeBuffer.lines.splice(z,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(Q){this._restrictCursor();let K=Q.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const z=this._activeBuffer.ybase+this._activeBuffer.y;let oe;for(oe=this._bufferService.rows-1-this._activeBuffer.scrollBottom,oe=this._bufferService.rows-1+this._activeBuffer.ybase-oe;K--;)this._activeBuffer.lines.splice(z,1),this._activeBuffer.lines.splice(oe,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(Q){this._restrictCursor();const K=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return K&&(K.insertCells(this._activeBuffer.x,Q.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(Q){this._restrictCursor();const K=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return K&&(K.deleteCells(this._activeBuffer.x,Q.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(Q){let K=Q.params[0]||1;for(;K--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(Q){let K=Q.params[0]||1;for(;K--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(w.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(Q){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const K=Q.params[0]||1;for(let z=this._activeBuffer.scrollTop;z<=this._activeBuffer.scrollBottom;++z){const oe=this._activeBuffer.lines.get(this._activeBuffer.ybase+z);oe.deleteCells(0,K,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),oe.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(Q){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const K=Q.params[0]||1;for(let z=this._activeBuffer.scrollTop;z<=this._activeBuffer.scrollBottom;++z){const oe=this._activeBuffer.lines.get(this._activeBuffer.ybase+z);oe.insertCells(0,K,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),oe.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(Q){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const K=Q.params[0]||1;for(let z=this._activeBuffer.scrollTop;z<=this._activeBuffer.scrollBottom;++z){const oe=this._activeBuffer.lines.get(this._activeBuffer.ybase+z);oe.insertCells(this._activeBuffer.x,K,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),oe.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(Q){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const K=Q.params[0]||1;for(let z=this._activeBuffer.scrollTop;z<=this._activeBuffer.scrollBottom;++z){const oe=this._activeBuffer.lines.get(this._activeBuffer.ybase+z);oe.deleteCells(this._activeBuffer.x,K,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),oe.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(Q){this._restrictCursor();const K=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return K&&(K.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(Q.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(Q){if(!this._parser.precedingCodepoint)return!0;const K=Q.params[0]||1,z=new Uint32Array(K);for(let oe=0;oe<K;++oe)z[oe]=this._parser.precedingCodepoint;return this.print(z,0,z.length),!0}sendDeviceAttributesPrimary(Q){return Q.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(l.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(l.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(Q){return Q.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(l.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(l.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(Q.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(l.C0.ESC+"[>83;40003;0c")),!0}_is(Q){return 0===(this._optionsService.rawOptions.termName+"").indexOf(Q)}setMode(Q){for(let K=0;K<Q.length;K++)switch(Q.params[K]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(Q){for(let K=0;K<Q.length;K++)switch(Q.params[K]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,R.DEFAULT_CHARSET),this._charsetService.setgCharset(1,R.DEFAULT_CHARSET),this._charsetService.setgCharset(2,R.DEFAULT_CHARSET),this._charsetService.setgCharset(3,R.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(Q){for(let K=0;K<Q.length;K++)switch(Q.params[K]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(Q){for(let K=0;K<Q.length;K++)switch(Q.params[K]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===Q.params[K]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(Q,K){const z=this._coreService.decPrivateModes,{activeProtocol:oe,activeEncoding:Te}=this._coreMouseService,Ae=this._coreService,{buffers:Ke,cols:be}=this._bufferService,{active:Qe,alt:X}=Ke,xe=this._optionsService.rawOptions,we=it=>it?1:2,Oe=Q.params[0];return dt=Oe,bt=K?2===Oe?4:4===Oe?we(Ae.modes.insertMode):12===Oe?3:20===Oe?we(xe.convertEol):0:1===Oe?we(z.applicationCursorKeys):3===Oe?xe.windowOptions.setWinLines?80===be?2:132===be?1:0:0:6===Oe?we(z.origin):7===Oe?we(z.wraparound):8===Oe?3:9===Oe?we("X10"===oe):12===Oe?we(xe.cursorBlink):25===Oe?we(!Ae.isCursorHidden):45===Oe?we(z.reverseWraparound):66===Oe?we(z.applicationKeypad):67===Oe?4:1e3===Oe?we("VT200"===oe):1002===Oe?we("DRAG"===oe):1003===Oe?we("ANY"===oe):1004===Oe?we(z.sendFocus):1005===Oe?4:1006===Oe?we("SGR"===Te):1015===Oe?4:1016===Oe?we("SGR_PIXELS"===Te):1048===Oe?1:47===Oe||1047===Oe||1049===Oe?we(Qe===X):2004===Oe?we(z.bracketedPasteMode):0,Ae.triggerDataEvent(`${l.C0.ESC}[${K?"":"?"}${dt};${bt}$y`),!0;var dt,bt}_updateAttrColor(Q,K,z,oe,Te){return 2===K?(Q|=50331648,Q&=-16777216,Q|=U.AttributeData.fromColorRGB([z,oe,Te])):5===K&&(Q&=-50331904,Q|=33554432|255&z),Q}_extractColor(Q,K,z){const oe=[0,0,-1,0,0,0];let Te=0,Ae=0;do{if(oe[Ae+Te]=Q.params[K+Ae],Q.hasSubParams(K+Ae)){const Ke=Q.getSubParams(K+Ae);let be=0;do{5===oe[1]&&(Te=1),oe[Ae+be+1+Te]=Ke[be]}while(++be<Ke.length&&be+Ae+1+Te<oe.length);break}if(5===oe[1]&&Ae+Te>=2||2===oe[1]&&Ae+Te>=5)break;oe[1]&&(Te=1)}while(++Ae+K<Q.length&&Ae+Te<oe.length);for(let Ke=2;Ke<oe.length;++Ke)-1===oe[Ke]&&(oe[Ke]=0);switch(oe[0]){case 38:z.fg=this._updateAttrColor(z.fg,oe[1],oe[3],oe[4],oe[5]);break;case 48:z.bg=this._updateAttrColor(z.bg,oe[1],oe[3],oe[4],oe[5]);break;case 58:z.extended=z.extended.clone(),z.extended.underlineColor=this._updateAttrColor(z.extended.underlineColor,oe[1],oe[3],oe[4],oe[5])}return Ae}_processUnderline(Q,K){K.extended=K.extended.clone(),(!~Q||Q>5)&&(Q=1),K.extended.underlineStyle=Q,K.fg|=268435456,0===Q&&(K.fg&=-268435457),K.updateExtended()}_processSGR0(Q){Q.fg=w.DEFAULT_ATTR_DATA.fg,Q.bg=w.DEFAULT_ATTR_DATA.bg,Q.extended=Q.extended.clone(),Q.extended.underlineStyle=0,Q.extended.underlineColor&=-67108864,Q.updateExtended()}charAttributes(Q){if(1===Q.length&&0===Q.params[0])return this._processSGR0(this._curAttrData),!0;const K=Q.length;let z;const oe=this._curAttrData;for(let Te=0;Te<K;Te++)z=Q.params[Te],z>=30&&z<=37?(oe.fg&=-50331904,oe.fg|=16777216|z-30):z>=40&&z<=47?(oe.bg&=-50331904,oe.bg|=16777216|z-40):z>=90&&z<=97?(oe.fg&=-50331904,oe.fg|=16777224|z-90):z>=100&&z<=107?(oe.bg&=-50331904,oe.bg|=16777224|z-100):0===z?this._processSGR0(oe):1===z?oe.fg|=134217728:3===z?oe.bg|=67108864:4===z?(oe.fg|=268435456,this._processUnderline(Q.hasSubParams(Te)?Q.getSubParams(Te)[0]:1,oe)):5===z?oe.fg|=536870912:7===z?oe.fg|=67108864:8===z?oe.fg|=1073741824:9===z?oe.fg|=2147483648:2===z?oe.bg|=134217728:21===z?this._processUnderline(2,oe):22===z?(oe.fg&=-134217729,oe.bg&=-134217729):23===z?oe.bg&=-67108865:24===z?(oe.fg&=-268435457,this._processUnderline(0,oe)):25===z?oe.fg&=-536870913:27===z?oe.fg&=-67108865:28===z?oe.fg&=-1073741825:29===z?oe.fg&=2147483647:39===z?(oe.fg&=-67108864,oe.fg|=16777215&w.DEFAULT_ATTR_DATA.fg):49===z?(oe.bg&=-67108864,oe.bg|=16777215&w.DEFAULT_ATTR_DATA.bg):38===z||48===z||58===z?Te+=this._extractColor(Q,Te,oe):53===z?oe.bg|=1073741824:55===z?oe.bg&=-1073741825:59===z?(oe.extended=oe.extended.clone(),oe.extended.underlineColor=-1,oe.updateExtended()):100===z?(oe.fg&=-67108864,oe.fg|=16777215&w.DEFAULT_ATTR_DATA.fg,oe.bg&=-67108864,oe.bg|=16777215&w.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",z);return!0}deviceStatus(Q){switch(Q.params[0]){case 5:this._coreService.triggerDataEvent(`${l.C0.ESC}[0n`);break;case 6:this._coreService.triggerDataEvent(`${l.C0.ESC}[${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`)}return!0}deviceStatusPrivate(Q){return 6===Q.params[0]&&this._coreService.triggerDataEvent(`${l.C0.ESC}[?${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`),!0}softReset(Q){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=w.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(Q){const K=Q.params[0]||1;switch(K){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}return this._optionsService.options.cursorBlink=K%2==1,!0}setScrollRegion(Q){const K=Q.params[0]||1;let z;return(Q.length<2||(z=Q.params[1])>this._bufferService.rows||0===z)&&(z=this._bufferService.rows),z>K&&(this._activeBuffer.scrollTop=K-1,this._activeBuffer.scrollBottom=z-1,this._setCursor(0,0)),!0}windowOptions(Q){if(!$(Q.params[0],this._optionsService.rawOptions.windowOptions))return!0;const K=Q.length>1?Q.params[1]:0;switch(Q.params[0]){case 14:2!==K&&this._onRequestWindowsOptionsReport.fire(ue.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(ue.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${l.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:0!==K&&2!==K||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==K&&1!==K||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==K&&2!==K||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==K&&1!==K||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(Q){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(Q){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(Q){return this._windowTitle=Q,this._onTitleChange.fire(Q),!0}setIconName(Q){return this._iconName=Q,!0}setOrReportIndexedColor(Q){const K=[],z=Q.split(";");for(;z.length>1;){const oe=z.shift(),Te=z.shift();if(/^\d+$/.exec(oe)){const Ae=parseInt(oe);if(he(Ae))if("?"===Te)K.push({type:0,index:Ae});else{const Ke=(0,V.parseColor)(Te);Ke&&K.push({type:1,index:Ae,color:Ke})}}}return K.length&&this._onColor.fire(K),!0}setHyperlink(Q){const K=Q.split(";");return!(K.length<2)&&(K[1]?this._createHyperlink(K[0],K[1]):!K[0]&&this._finishHyperlink())}_createHyperlink(Q,K){this._getCurrentLinkId()&&this._finishHyperlink();const z=Q.split(":");let oe;const Te=z.findIndex(Ae=>Ae.startsWith("id="));return-1!==Te&&(oe=z[Te].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:oe,uri:K}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(Q,K){const z=Q.split(";");for(let oe=0;oe<z.length&&!(K>=this._specialColors.length);++oe,++K)if("?"===z[oe])this._onColor.fire([{type:0,index:this._specialColors[K]}]);else{const Te=(0,V.parseColor)(z[oe]);Te&&this._onColor.fire([{type:1,index:this._specialColors[K],color:Te}])}return!0}setOrReportFgColor(Q){return this._setOrReportSpecialColor(Q,0)}setOrReportBgColor(Q){return this._setOrReportSpecialColor(Q,1)}setOrReportCursorColor(Q){return this._setOrReportSpecialColor(Q,2)}restoreIndexedColor(Q){if(!Q)return this._onColor.fire([{type:2}]),!0;const K=[],z=Q.split(";");for(let oe=0;oe<z.length;++oe)if(/^\d+$/.exec(z[oe])){const Te=parseInt(z[oe]);he(Te)&&K.push({type:2,index:Te})}return K.length&&this._onColor.fire(K),!0}restoreFgColor(Q){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(Q){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(Q){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,R.DEFAULT_CHARSET),!0}selectCharset(Q){return 2!==Q.length?(this.selectDefaultCharset(),!0):("/"===Q[0]||this._charsetService.setgCharset(k[Q[0]],R.CHARSETS[Q[1]]||R.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){return this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop?(this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)):(this._activeBuffer.y--,this._restrictCursor()),!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=w.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=w.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(Q){return this._charsetService.setgLevel(Q),!0}screenAlignmentPattern(){const Q=new S.CellData;Q.content=4194304|"E".charCodeAt(0),Q.fg=this._curAttrData.fg,Q.bg=this._curAttrData.bg,this._setCursor(0,0);for(let K=0;K<this._bufferService.rows;++K){const oe=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y+K);oe&&(oe.fill(Q),oe.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(Q,K){const z=this._bufferService.buffer,oe=this._optionsService.rawOptions;return(Te=>(this._coreService.triggerDataEvent(`${l.C0.ESC}${Te}${l.C0.ESC}\\`),!0))('"q'===Q?`P1$r${this._curAttrData.isProtected()?1:0}"q`:'"p'===Q?'P1$r61;1"p':"r"===Q?`P1$r${z.scrollTop+1};${z.scrollBottom+1}r`:"m"===Q?"P1$r0m":" q"===Q?`P1$r${{block:2,underline:4,bar:6}[oe.cursorStyle]-(oe.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(Q,K){this._dirtyRowTracker.markRangeDirty(Q,K)}};let G=class{constructor(j){this._bufferService=j,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(j){j<this.start?this.start=j:j>this.end&&(this.end=j)}markRangeDirty(j,Q){j>Q&&(q=j,j=Q,Q=q),j<this.start&&(this.start=j),Q>this.end&&(this.end=Q)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function he(j){return 0<=j&&j<256}G=P([y(0,F.IBufferService)],G)},844:(f,g)=>{function _(P){for(const y of P)y.dispose();P.length=0}Object.defineProperty(g,"__esModule",{value:!0}),g.getDisposeArrayDisposable=g.disposeArray=g.toDisposable=g.MutableDisposable=g.Disposable=void 0,g.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const P of this._disposables)P.dispose();this._disposables.length=0}register(P){return this._disposables.push(P),P}unregister(P){const y=this._disposables.indexOf(P);-1!==y&&this._disposables.splice(y,1)}},g.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(P){var y;this._isDisposed||P===this._value||(null===(y=this._value)||void 0===y||y.dispose(),this._value=P)}clear(){this.value=void 0}dispose(){var P;this._isDisposed=!0,null===(P=this._value)||void 0===P||P.dispose(),this._value=void 0}},g.toDisposable=function(P){return{dispose:P}},g.disposeArray=_,g.getDisposeArrayDisposable=function(P){return{dispose:()=>_(P)}}},1505:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.FourKeyMap=g.TwoKeyMap=void 0;class _{constructor(){this._data={}}set(y,l,R){this._data[y]||(this._data[y]={}),this._data[y][l]=R}get(y,l){return this._data[y]?this._data[y][l]:void 0}clear(){this._data={}}}g.TwoKeyMap=_,g.FourKeyMap=class{constructor(){this._data=new _}set(P,y,l,R,L){this._data.get(P,y)||this._data.set(P,y,new _),this._data.get(P,y).set(l,R,L)}get(P,y,l,R){var L;return null===(L=this._data.get(P,y))||void 0===L?void 0:L.get(l,R)}clear(){this._data.clear()}}},6114:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.isChromeOS=g.isLinux=g.isWindows=g.isIphone=g.isIpad=g.isMac=g.getSafariVersion=g.isSafari=g.isLegacyEdge=g.isFirefox=g.isNode=void 0,g.isNode="undefined"==typeof navigator;const _=g.isNode?"node":navigator.userAgent,P=g.isNode?"node":navigator.platform;g.isFirefox=_.includes("Firefox"),g.isLegacyEdge=_.includes("Edge"),g.isSafari=/^((?!chrome|android).)*safari/i.test(_),g.getSafariVersion=function(){if(!g.isSafari)return 0;const y=_.match(/Version\/(\d+)/);return null===y||y.length<2?0:parseInt(y[1])},g.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(P),g.isIpad="iPad"===P,g.isIphone="iPhone"===P,g.isWindows=["Windows","Win16","Win32","WinCE"].includes(P),g.isLinux=P.indexOf("Linux")>=0,g.isChromeOS=/\bCrOS\b/.test(_)},6106:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.SortedList=void 0;let _=0;g.SortedList=class{constructor(P){this._getKey=P,this._array=[]}clear(){this._array.length=0}insert(P){0!==this._array.length?(_=this._search(this._getKey(P)),this._array.splice(_,0,P)):this._array.push(P)}delete(P){if(0===this._array.length)return!1;const y=this._getKey(P);if(void 0===y||(_=this._search(y),-1===_)||this._getKey(this._array[_])!==y)return!1;do{if(this._array[_]===P)return this._array.splice(_,1),!0}while(++_<this._array.length&&this._getKey(this._array[_])===y);return!1}*getKeyIterator(P){if(0!==this._array.length&&(_=this._search(P),!(_<0||_>=this._array.length)&&this._getKey(this._array[_])===P))do{yield this._array[_]}while(++_<this._array.length&&this._getKey(this._array[_])===P)}forEachByKey(P,y){if(0!==this._array.length&&(_=this._search(P),!(_<0||_>=this._array.length)&&this._getKey(this._array[_])===P))do{y(this._array[_])}while(++_<this._array.length&&this._getKey(this._array[_])===P)}values(){return[...this._array].values()}_search(P){let y=0,l=this._array.length-1;for(;l>=y;){let R=y+l>>1;const L=this._getKey(this._array[R]);if(L>P)l=R-1;else{if(!(L<P)){for(;R>0&&this._getKey(this._array[R-1])===P;)R--;return R}y=R+1}}return y}}},7226:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.DebouncedIdleTask=g.IdleTaskQueue=g.PriorityTaskQueue=void 0;const P=_(6114);class y{constructor(){this._tasks=[],this._i=0}enqueue(L){this._tasks.push(L),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(L){this._idleCallback=void 0;let J=0,N=0,w=L.timeRemaining(),x=0;for(;this._i<this._tasks.length;){if(J=Date.now(),this._tasks[this._i]()||this._i++,J=Math.max(1,Date.now()-J),N=Math.max(J,N),x=L.timeRemaining(),1.5*N>x)return w-J<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(w-J))}ms`),void this._start();w=x}this.clear()}}class l extends y{_requestCallback(L){return setTimeout(()=>L(this._createDeadline(16)))}_cancelCallback(L){clearTimeout(L)}_createDeadline(L){const J=Date.now()+L;return{timeRemaining:()=>Math.max(0,J-Date.now())}}}g.PriorityTaskQueue=l,g.IdleTaskQueue=!P.isNode&&"requestIdleCallback"in window?class extends y{_requestCallback(R){return requestIdleCallback(R)}_cancelCallback(R){cancelIdleCallback(R)}}:l,g.DebouncedIdleTask=class{constructor(){this._queue=new g.IdleTaskQueue}set(R){this._queue.clear(),this._queue.enqueue(R)}flush(){this._queue.flush()}}},9282:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.updateWindowsModeWrappedState=void 0;const P=_(643);g.updateWindowsModeWrappedState=function(y){const l=y.buffer.lines.get(y.buffer.ybase+y.buffer.y-1),R=null==l?void 0:l.get(y.cols-1),L=y.buffer.lines.get(y.buffer.ybase+y.buffer.y);L&&R&&(L.isWrapped=R[P.CHAR_DATA_CODE_INDEX]!==P.NULL_CELL_CODE&&R[P.CHAR_DATA_CODE_INDEX]!==P.WHITESPACE_CELL_CODE)}},3734:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.ExtendedAttrs=g.AttributeData=void 0;class _{constructor(){this.fg=0,this.bg=0,this.extended=new P}static toColorRGB(l){return[l>>>16&255,l>>>8&255,255&l]}static fromColorRGB(l){return(255&l[0])<<16|(255&l[1])<<8|255&l[2]}clone(){const l=new _;return l.fg=this.fg,l.bg=this.bg,l.extended=this.extended.clone(),l}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&0!==this.extended.underlineStyle?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return 50331648==(50331648&this.fg)}isBgRGB(){return 50331648==(50331648&this.bg)}isFgPalette(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)}isBgPalette(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)}isFgDefault(){return 0==(50331648&this.fg)}isBgDefault(){return 0==(50331648&this.bg)}isAttributeDefault(){return 0===this.fg&&0===this.bg}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}g.AttributeData=_;class P{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(l){this._ext=l}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(l){this._ext&=-469762049,this._ext|=l<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(l){this._ext&=-67108864,this._ext|=67108863&l}get urlId(){return this._urlId}set urlId(l){this._urlId=l}constructor(l=0,R=0){this._ext=0,this._urlId=0,this._ext=l,this._urlId=R}clone(){return new P(this._ext,this._urlId)}isEmpty(){return 0===this.underlineStyle&&0===this._urlId}}g.ExtendedAttrs=P},9092:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.Buffer=g.MAX_BUFFER_SIZE=void 0;const P=_(6349),y=_(7226),l=_(3734),R=_(8437),L=_(4634),J=_(511),N=_(643),w=_(4863),x=_(7116);g.MAX_BUFFER_SIZE=4294967295,g.Buffer=class{constructor(D,S,U){this._hasScrollback=D,this._optionsService=S,this._bufferService=U,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=R.DEFAULT_ATTR_DATA.clone(),this.savedCharset=x.DEFAULT_CHARSET,this.markers=[],this._nullCell=J.CellData.fromCharData([0,N.NULL_CELL_CHAR,N.NULL_CELL_WIDTH,N.NULL_CELL_CODE]),this._whitespaceCell=J.CellData.fromCharData([0,N.WHITESPACE_CELL_CHAR,N.WHITESPACE_CELL_WIDTH,N.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new y.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new P.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(D){return D?(this._nullCell.fg=D.fg,this._nullCell.bg=D.bg,this._nullCell.extended=D.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new l.ExtendedAttrs),this._nullCell}getWhitespaceCell(D){return D?(this._whitespaceCell.fg=D.fg,this._whitespaceCell.bg=D.bg,this._whitespaceCell.extended=D.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new l.ExtendedAttrs),this._whitespaceCell}getBlankLine(D,S){return new R.BufferLine(this._bufferService.cols,this.getNullCell(D),S)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const D=this.ybase+this.y-this.ydisp;return D>=0&&D<this._rows}_getCorrectBufferLength(D){if(!this._hasScrollback)return D;const S=D+this._optionsService.rawOptions.scrollback;return S>g.MAX_BUFFER_SIZE?g.MAX_BUFFER_SIZE:S}fillViewportRows(D){if(0===this.lines.length){void 0===D&&(D=R.DEFAULT_ATTR_DATA);let S=this._rows;for(;S--;)this.lines.push(this.getBlankLine(D))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new P.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(D,S){const U=this.getNullCell(R.DEFAULT_ATTR_DATA);let F=0;const ce=this._getCorrectBufferLength(S);if(ce>this.lines.maxLength&&(this.lines.maxLength=ce),this.lines.length>0){if(this._cols<D)for(let V=0;V<this.lines.length;V++)F+=+this.lines.get(V).resize(D,U);let te=0;if(this._rows<S)for(let V=this._rows;V<S;V++)this.lines.length<S+this.ybase&&(this._optionsService.rawOptions.windowsMode||void 0!==this._optionsService.rawOptions.windowsPty.backend||void 0!==this._optionsService.rawOptions.windowsPty.buildNumber?this.lines.push(new R.BufferLine(D,U)):this.ybase>0&&this.lines.length<=this.ybase+this.y+te+1?(this.ybase--,te++,this.ydisp>0&&this.ydisp--):this.lines.push(new R.BufferLine(D,U)));else for(let V=this._rows;V>S;V--)this.lines.length>S+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(ce<this.lines.maxLength){const V=this.lines.length-ce;V>0&&(this.lines.trimStart(V),this.ybase=Math.max(this.ybase-V,0),this.ydisp=Math.max(this.ydisp-V,0),this.savedY=Math.max(this.savedY-V,0)),this.lines.maxLength=ce}this.x=Math.min(this.x,D-1),this.y=Math.min(this.y,S-1),te&&(this.y+=te),this.savedX=Math.min(this.savedX,D-1),this.scrollTop=0}if(this.scrollBottom=S-1,this._isReflowEnabled&&(this._reflow(D,S),this._cols>D))for(let te=0;te<this.lines.length;te++)F+=+this.lines.get(te).resize(D,U);this._cols=D,this._rows=S,this._memoryCleanupQueue.clear(),F>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let D=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,D=!1);let S=0;for(;this._memoryCleanupPosition<this.lines.length;)if(S+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),S>100)return!0;return D}get _isReflowEnabled(){const D=this._optionsService.rawOptions.windowsPty;return D&&D.buildNumber?this._hasScrollback&&"conpty"===D.backend&&D.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(D,S){this._cols!==D&&(D>this._cols?this._reflowLarger(D,S):this._reflowSmaller(D,S))}_reflowLarger(D,S){const U=(0,L.reflowLargerGetLinesToRemove)(this.lines,this._cols,D,this.ybase+this.y,this.getNullCell(R.DEFAULT_ATTR_DATA));if(U.length>0){const F=(0,L.reflowLargerCreateNewLayout)(this.lines,U);(0,L.reflowLargerApplyNewLayout)(this.lines,F.layout),this._reflowLargerAdjustViewport(D,S,F.countRemoved)}}_reflowLargerAdjustViewport(D,S,U){const F=this.getNullCell(R.DEFAULT_ATTR_DATA);let ce=U;for(;ce-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<S&&this.lines.push(new R.BufferLine(D,F))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-U,0)}_reflowSmaller(D,S){const U=this.getNullCell(R.DEFAULT_ATTR_DATA),F=[];let ce=0;for(let te=this.lines.length-1;te>=0;te--){let V=this.lines.get(te);if(!V||!V.isWrapped&&V.getTrimmedLength()<=D)continue;const k=[V];for(;V.isWrapped&&te>0;)V=this.lines.get(--te),k.unshift(V);const O=this.ybase+this.y;if(O>=te&&O<te+k.length)continue;const $=k[k.length-1].getTrimmedLength(),ue=(0,L.reflowSmallerGetNewLineLengths)(k,this._cols,D),q=ue.length-k.length;let Y;Y=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+q):Math.max(0,this.lines.length-this.lines.maxLength+q);const G=[];for(let oe=0;oe<q;oe++){const Te=this.getBlankLine(R.DEFAULT_ATTR_DATA,!0);G.push(Te)}G.length>0&&(F.push({start:te+k.length+ce,newLines:G}),ce+=G.length),k.push(...G);let he=ue.length-1,j=ue[he];0===j&&(he--,j=ue[he]);let Q=k.length-q-1,K=$;for(;Q>=0;){const oe=Math.min(K,j);if(void 0===k[he])break;if(k[he].copyCellsFrom(k[Q],K-oe,j-oe,oe,!0),j-=oe,0===j&&(he--,j=ue[he]),K-=oe,0===K){Q--;const Te=Math.max(Q,0);K=(0,L.getWrappedLineTrimmedLength)(k,Te,this._cols)}}for(let oe=0;oe<k.length;oe++)ue[oe]<D&&k[oe].setCell(ue[oe],U);let z=q-Y;for(;z-- >0;)0===this.ybase?this.y<S-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+ce)-S&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+q,this.ybase+S-1)}if(F.length>0){const te=[],V=[];for(let he=0;he<this.lines.length;he++)V.push(this.lines.get(he));const k=this.lines.length;let O=k-1,$=0,ue=F[$];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+ce);let q=0;for(let he=Math.min(this.lines.maxLength-1,k+ce-1);he>=0;he--)if(ue&&ue.start>O+q){for(let j=ue.newLines.length-1;j>=0;j--)this.lines.set(he--,ue.newLines[j]);he++,te.push({index:O+1,amount:ue.newLines.length}),q+=ue.newLines.length,ue=F[++$]}else this.lines.set(he,V[O--]);let Y=0;for(let he=te.length-1;he>=0;he--)te[he].index+=Y,this.lines.onInsertEmitter.fire(te[he]),Y+=te[he].amount;const G=Math.max(0,k+ce-this.lines.maxLength);G>0&&this.lines.onTrimEmitter.fire(G)}}translateBufferLineToString(D,S,U=0,F){const ce=this.lines.get(D);return ce?ce.translateToString(S,U,F):""}getWrappedRangeForLine(D){let S=D,U=D;for(;S>0&&this.lines.get(S).isWrapped;)S--;for(;U+1<this.lines.length&&this.lines.get(U+1).isWrapped;)U++;return{first:S,last:U}}setupTabStops(D){for(null!=D?this.tabs[D]||(D=this.prevStop(D)):(this.tabs={},D=0);D<this._cols;D+=this._optionsService.rawOptions.tabStopWidth)this.tabs[D]=!0}prevStop(D){for(null==D&&(D=this.x);!this.tabs[--D]&&D>0;);return D>=this._cols?this._cols-1:D<0?0:D}nextStop(D){for(null==D&&(D=this.x);!this.tabs[++D]&&D<this._cols;);return D>=this._cols?this._cols-1:D<0?0:D}clearMarkers(D){this._isClearing=!0;for(let S=0;S<this.markers.length;S++)this.markers[S].line===D&&(this.markers[S].dispose(),this.markers.splice(S--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let D=0;D<this.markers.length;D++)this.markers[D].dispose(),this.markers.splice(D--,1);this._isClearing=!1}addMarker(D){const S=new w.Marker(D);return this.markers.push(S),S.register(this.lines.onTrim(U=>{S.line-=U,S.line<0&&S.dispose()})),S.register(this.lines.onInsert(U=>{S.line>=U.index&&(S.line+=U.amount)})),S.register(this.lines.onDelete(U=>{S.line>=U.index&&S.line<U.index+U.amount&&S.dispose(),S.line>U.index&&(S.line-=U.amount)})),S.register(S.onDispose(()=>this._removeMarker(S))),S}_removeMarker(D){this._isClearing||this.markers.splice(this.markers.indexOf(D),1)}}},8437:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.BufferLine=g.DEFAULT_ATTR_DATA=void 0;const P=_(3734),y=_(511),l=_(643),R=_(482);g.DEFAULT_ATTR_DATA=Object.freeze(new P.AttributeData);let L=0;class J{constructor(w,x,D=!1){this.isWrapped=D,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*w);const S=x||y.CellData.fromCharData([0,l.NULL_CELL_CHAR,l.NULL_CELL_WIDTH,l.NULL_CELL_CODE]);for(let U=0;U<w;++U)this.setCell(U,S);this.length=w}get(w){const x=this._data[3*w+0],D=2097151&x;return[this._data[3*w+1],2097152&x?this._combined[w]:D?(0,R.stringFromCodePoint)(D):"",x>>22,2097152&x?this._combined[w].charCodeAt(this._combined[w].length-1):D]}set(w,x){this._data[3*w+1]=x[l.CHAR_DATA_ATTR_INDEX],x[l.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[w]=x[1],this._data[3*w+0]=2097152|w|x[l.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*w+0]=x[l.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|x[l.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(w){return this._data[3*w+0]>>22}hasWidth(w){return 12582912&this._data[3*w+0]}getFg(w){return this._data[3*w+1]}getBg(w){return this._data[3*w+2]}hasContent(w){return 4194303&this._data[3*w+0]}getCodePoint(w){const x=this._data[3*w+0];return 2097152&x?this._combined[w].charCodeAt(this._combined[w].length-1):2097151&x}isCombined(w){return 2097152&this._data[3*w+0]}getString(w){const x=this._data[3*w+0];return 2097152&x?this._combined[w]:2097151&x?(0,R.stringFromCodePoint)(2097151&x):""}isProtected(w){return 536870912&this._data[3*w+2]}loadCell(w,x){return L=3*w,x.content=this._data[L+0],x.fg=this._data[L+1],x.bg=this._data[L+2],2097152&x.content&&(x.combinedData=this._combined[w]),268435456&x.bg&&(x.extended=this._extendedAttrs[w]),x}setCell(w,x){2097152&x.content&&(this._combined[w]=x.combinedData),268435456&x.bg&&(this._extendedAttrs[w]=x.extended),this._data[3*w+0]=x.content,this._data[3*w+1]=x.fg,this._data[3*w+2]=x.bg}setCellFromCodePoint(w,x,D,S,U,F){268435456&U&&(this._extendedAttrs[w]=F),this._data[3*w+0]=x|D<<22,this._data[3*w+1]=S,this._data[3*w+2]=U}addCodepointToCell(w,x){let D=this._data[3*w+0];2097152&D?this._combined[w]+=(0,R.stringFromCodePoint)(x):(2097151&D?(this._combined[w]=(0,R.stringFromCodePoint)(2097151&D)+(0,R.stringFromCodePoint)(x),D&=-2097152,D|=2097152):D=4194304|x,this._data[3*w+0]=D)}insertCells(w,x,D,S){if((w%=this.length)&&2===this.getWidth(w-1)&&this.setCellFromCodePoint(w-1,0,1,(null==S?void 0:S.fg)||0,(null==S?void 0:S.bg)||0,(null==S?void 0:S.extended)||new P.ExtendedAttrs),x<this.length-w){const U=new y.CellData;for(let F=this.length-w-x-1;F>=0;--F)this.setCell(w+x+F,this.loadCell(w+F,U));for(let F=0;F<x;++F)this.setCell(w+F,D)}else for(let U=w;U<this.length;++U)this.setCell(U,D);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,(null==S?void 0:S.fg)||0,(null==S?void 0:S.bg)||0,(null==S?void 0:S.extended)||new P.ExtendedAttrs)}deleteCells(w,x,D,S){if(x<this.length-(w%=this.length)){const U=new y.CellData;for(let F=0;F<this.length-w-x;++F)this.setCell(w+F,this.loadCell(w+x+F,U));for(let F=this.length-x;F<this.length;++F)this.setCell(F,D)}else for(let U=w;U<this.length;++U)this.setCell(U,D);w&&2===this.getWidth(w-1)&&this.setCellFromCodePoint(w-1,0,1,(null==S?void 0:S.fg)||0,(null==S?void 0:S.bg)||0,(null==S?void 0:S.extended)||new P.ExtendedAttrs),0!==this.getWidth(w)||this.hasContent(w)||this.setCellFromCodePoint(w,0,1,(null==S?void 0:S.fg)||0,(null==S?void 0:S.bg)||0,(null==S?void 0:S.extended)||new P.ExtendedAttrs)}replaceCells(w,x,D,S,U=!1){if(U)for(w&&2===this.getWidth(w-1)&&!this.isProtected(w-1)&&this.setCellFromCodePoint(w-1,0,1,(null==S?void 0:S.fg)||0,(null==S?void 0:S.bg)||0,(null==S?void 0:S.extended)||new P.ExtendedAttrs),x<this.length&&2===this.getWidth(x-1)&&!this.isProtected(x)&&this.setCellFromCodePoint(x,0,1,(null==S?void 0:S.fg)||0,(null==S?void 0:S.bg)||0,(null==S?void 0:S.extended)||new P.ExtendedAttrs);w<x&&w<this.length;)this.isProtected(w)||this.setCell(w,D),w++;else for(w&&2===this.getWidth(w-1)&&this.setCellFromCodePoint(w-1,0,1,(null==S?void 0:S.fg)||0,(null==S?void 0:S.bg)||0,(null==S?void 0:S.extended)||new P.ExtendedAttrs),x<this.length&&2===this.getWidth(x-1)&&this.setCellFromCodePoint(x,0,1,(null==S?void 0:S.fg)||0,(null==S?void 0:S.bg)||0,(null==S?void 0:S.extended)||new P.ExtendedAttrs);w<x&&w<this.length;)this.setCell(w++,D)}resize(w,x){if(w===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const D=3*w;if(w>this.length){if(this._data.buffer.byteLength>=4*D)this._data=new Uint32Array(this._data.buffer,0,D);else{const S=new Uint32Array(D);S.set(this._data),this._data=S}for(let S=this.length;S<w;++S)this.setCell(S,x)}else{this._data=this._data.subarray(0,D);const S=Object.keys(this._combined);for(let F=0;F<S.length;F++){const ce=parseInt(S[F],10);ce>=w&&delete this._combined[ce]}const U=Object.keys(this._extendedAttrs);for(let F=0;F<U.length;F++){const ce=parseInt(U[F],10);ce>=w&&delete this._extendedAttrs[ce]}}return this.length=w,4*D*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const w=new Uint32Array(this._data.length);return w.set(this._data),this._data=w,1}return 0}fill(w,x=!1){if(x)for(let D=0;D<this.length;++D)this.isProtected(D)||this.setCell(D,w);else{this._combined={},this._extendedAttrs={};for(let D=0;D<this.length;++D)this.setCell(D,w)}}copyFrom(w){this.length!==w.length?this._data=new Uint32Array(w._data):this._data.set(w._data),this.length=w.length,this._combined={};for(const x in w._combined)this._combined[x]=w._combined[x];this._extendedAttrs={};for(const x in w._extendedAttrs)this._extendedAttrs[x]=w._extendedAttrs[x];this.isWrapped=w.isWrapped}clone(){const w=new J(0);w._data=new Uint32Array(this._data),w.length=this.length;for(const x in this._combined)w._combined[x]=this._combined[x];for(const x in this._extendedAttrs)w._extendedAttrs[x]=this._extendedAttrs[x];return w.isWrapped=this.isWrapped,w}getTrimmedLength(){for(let w=this.length-1;w>=0;--w)if(4194303&this._data[3*w+0])return w+(this._data[3*w+0]>>22);return 0}getNoBgTrimmedLength(){for(let w=this.length-1;w>=0;--w)if(4194303&this._data[3*w+0]||50331648&this._data[3*w+2])return w+(this._data[3*w+0]>>22);return 0}copyCellsFrom(w,x,D,S,U){const F=w._data;if(U)for(let te=S-1;te>=0;te--){for(let V=0;V<3;V++)this._data[3*(D+te)+V]=F[3*(x+te)+V];268435456&F[3*(x+te)+2]&&(this._extendedAttrs[D+te]=w._extendedAttrs[x+te])}else for(let te=0;te<S;te++){for(let V=0;V<3;V++)this._data[3*(D+te)+V]=F[3*(x+te)+V];268435456&F[3*(x+te)+2]&&(this._extendedAttrs[D+te]=w._extendedAttrs[x+te])}const ce=Object.keys(w._combined);for(let te=0;te<ce.length;te++){const V=parseInt(ce[te],10);V>=x&&(this._combined[V-x+D]=w._combined[V])}}translateToString(w=!1,x=0,D=this.length){w&&(D=Math.min(D,this.getTrimmedLength()));let S="";for(;x<D;){const U=this._data[3*x+0],F=2097151&U;S+=2097152&U?this._combined[x]:F?(0,R.stringFromCodePoint)(F):l.WHITESPACE_CELL_CHAR,x+=U>>22||1}return S}}g.BufferLine=J},4841:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.getRangeLength=void 0,g.getRangeLength=function(_,P){if(_.start.y>_.end.y)throw new Error(`Buffer range end (${_.end.x}, ${_.end.y}) cannot be before start (${_.start.x}, ${_.start.y})`);return P*(_.end.y-_.start.y)+(_.end.x-_.start.x+1)}},4634:(f,g)=>{function _(P,y,l){if(y===P.length-1)return P[y].getTrimmedLength();const R=!P[y].hasContent(l-1)&&1===P[y].getWidth(l-1),L=2===P[y+1].getWidth(0);return R&&L?l-1:l}Object.defineProperty(g,"__esModule",{value:!0}),g.getWrappedLineTrimmedLength=g.reflowSmallerGetNewLineLengths=g.reflowLargerApplyNewLayout=g.reflowLargerCreateNewLayout=g.reflowLargerGetLinesToRemove=void 0,g.reflowLargerGetLinesToRemove=function(P,y,l,R,L){const J=[];for(let N=0;N<P.length-1;N++){let w=N,x=P.get(++w);if(!x.isWrapped)continue;const D=[P.get(N)];for(;w<P.length&&x.isWrapped;)D.push(x),x=P.get(++w);if(R>=N&&R<w){N+=D.length-1;continue}let S=0,U=_(D,S,y),F=1,ce=0;for(;F<D.length;){const V=_(D,F,y),$=Math.min(V-ce,l-U);D[S].copyCellsFrom(D[F],ce,U,$,!1),U+=$,U===l&&(S++,U=0),ce+=$,ce===V&&(F++,ce=0),0===U&&0!==S&&2===D[S-1].getWidth(l-1)&&(D[S].copyCellsFrom(D[S-1],l-1,U++,1,!1),D[S-1].setCell(l-1,L))}D[S].replaceCells(U,l,L);let te=0;for(let V=D.length-1;V>0&&(V>S||0===D[V].getTrimmedLength());V--)te++;te>0&&(J.push(N+D.length-te),J.push(te)),N+=D.length-1}return J},g.reflowLargerCreateNewLayout=function(P,y){const l=[];let R=0,L=y[R],J=0;for(let N=0;N<P.length;N++)if(L===N){const w=y[++R];P.onDeleteEmitter.fire({index:N-J,amount:w}),N+=w-1,J+=w,L=y[++R]}else l.push(N);return{layout:l,countRemoved:J}},g.reflowLargerApplyNewLayout=function(P,y){const l=[];for(let R=0;R<y.length;R++)l.push(P.get(y[R]));for(let R=0;R<l.length;R++)P.set(R,l[R]);P.length=y.length},g.reflowSmallerGetNewLineLengths=function(P,y,l){const R=[],L=P.map((x,D)=>_(P,D,y)).reduce((x,D)=>x+D);let J=0,N=0,w=0;for(;w<L;){if(L-w<l){R.push(L-w);break}J+=l;const x=_(P,N,y);J>x&&(J-=x,N++);const D=2===P[N].getWidth(J-1);D&&J--;const S=D?l-1:l;R.push(S),w+=S}return R},g.getWrappedLineTrimmedLength=_},5295:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.BufferSet=void 0;const P=_(8460),y=_(844),l=_(9092);g.BufferSet=class R extends y.Disposable{constructor(J,N){super(),this._optionsService=J,this._bufferService=N,this._onBufferActivate=this.register(new P.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new l.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new l.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(J){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(J),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(J,N){this._normal.resize(J,N),this._alt.resize(J,N),this.setupTabStops(J)}setupTabStops(J){this._normal.setupTabStops(J),this._alt.setupTabStops(J)}}},511:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.CellData=void 0;const P=_(482),y=_(643),l=_(3734);class R extends l.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new l.ExtendedAttrs,this.combinedData=""}static fromCharData(J){const N=new R;return N.setFromCharData(J),N}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,P.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(J){this.fg=J[y.CHAR_DATA_ATTR_INDEX],this.bg=0;let N=!1;if(J[y.CHAR_DATA_CHAR_INDEX].length>2)N=!0;else if(2===J[y.CHAR_DATA_CHAR_INDEX].length){const w=J[y.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=w&&w<=56319){const x=J[y.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=x&&x<=57343?this.content=1024*(w-55296)+x-56320+65536|J[y.CHAR_DATA_WIDTH_INDEX]<<22:N=!0}else N=!0}else this.content=J[y.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|J[y.CHAR_DATA_WIDTH_INDEX]<<22;N&&(this.combinedData=J[y.CHAR_DATA_CHAR_INDEX],this.content=2097152|J[y.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}g.CellData=R},643:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.WHITESPACE_CELL_CODE=g.WHITESPACE_CELL_WIDTH=g.WHITESPACE_CELL_CHAR=g.NULL_CELL_CODE=g.NULL_CELL_WIDTH=g.NULL_CELL_CHAR=g.CHAR_DATA_CODE_INDEX=g.CHAR_DATA_WIDTH_INDEX=g.CHAR_DATA_CHAR_INDEX=g.CHAR_DATA_ATTR_INDEX=g.DEFAULT_EXT=g.DEFAULT_ATTR=g.DEFAULT_COLOR=void 0,g.DEFAULT_COLOR=0,g.DEFAULT_ATTR=256|g.DEFAULT_COLOR<<9,g.DEFAULT_EXT=0,g.CHAR_DATA_ATTR_INDEX=0,g.CHAR_DATA_CHAR_INDEX=1,g.CHAR_DATA_WIDTH_INDEX=2,g.CHAR_DATA_CODE_INDEX=3,g.NULL_CELL_CHAR="",g.NULL_CELL_WIDTH=1,g.NULL_CELL_CODE=0,g.WHITESPACE_CELL_CHAR=" ",g.WHITESPACE_CELL_WIDTH=1,g.WHITESPACE_CELL_CODE=32},4863:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.Marker=void 0;const P=_(8460),y=_(844);class l{get id(){return this._id}constructor(L){this.line=L,this.isDisposed=!1,this._disposables=[],this._id=l._nextId++,this._onDispose=this.register(new P.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,y.disposeArray)(this._disposables),this._disposables.length=0)}register(L){return this._disposables.push(L),L}}g.Marker=l,l._nextId=1},7116:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.DEFAULT_CHARSET=g.CHARSETS=void 0,g.CHARSETS={},g.DEFAULT_CHARSET=g.CHARSETS.B,g.CHARSETS[0]={"`":"\u25c6",a:"\u2592",b:"\u2409",c:"\u240c",d:"\u240d",e:"\u240a",f:"\xb0",g:"\xb1",h:"\u2424",i:"\u240b",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\xa3","~":"\xb7"},g.CHARSETS.A={"#":"\xa3"},g.CHARSETS.B=void 0,g.CHARSETS[4]={"#":"\xa3","@":"\xbe","[":"ij","\\":"\xbd","]":"|","{":"\xa8","|":"f","}":"\xbc","~":"\xb4"},g.CHARSETS.C=g.CHARSETS[5]={"[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},g.CHARSETS.R={"#":"\xa3","@":"\xe0","[":"\xb0","\\":"\xe7","]":"\xa7","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xa8"},g.CHARSETS.Q={"@":"\xe0","[":"\xe2","\\":"\xe7","]":"\xea","^":"\xee","`":"\xf4","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xfb"},g.CHARSETS.K={"@":"\xa7","[":"\xc4","\\":"\xd6","]":"\xdc","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xdf"},g.CHARSETS.Y={"#":"\xa3","@":"\xa7","[":"\xb0","\\":"\xe7","]":"\xe9","`":"\xf9","{":"\xe0","|":"\xf2","}":"\xe8","~":"\xec"},g.CHARSETS.E=g.CHARSETS[6]={"@":"\xc4","[":"\xc6","\\":"\xd8","]":"\xc5","^":"\xdc","`":"\xe4","{":"\xe6","|":"\xf8","}":"\xe5","~":"\xfc"},g.CHARSETS.Z={"#":"\xa3","@":"\xa7","[":"\xa1","\\":"\xd1","]":"\xbf","{":"\xb0","|":"\xf1","}":"\xe7"},g.CHARSETS.H=g.CHARSETS[7]={"@":"\xc9","[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},g.CHARSETS["="]={"#":"\xf9","@":"\xe0","[":"\xe9","\\":"\xe7","]":"\xea","^":"\xee",_:"\xe8","`":"\xf4","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xfb"}},2584:(f,g)=>{var _,P,y,l;Object.defineProperty(g,"__esModule",{value:!0}),g.C1_ESCAPED=g.C1=g.C0=void 0,(l=_||(g.C0=_={})).NUL="\0",l.SOH="\x01",l.STX="\x02",l.ETX="\x03",l.EOT="\x04",l.ENQ="\x05",l.ACK="\x06",l.BEL="\x07",l.BS="\b",l.HT="\t",l.LF="\n",l.VT="\v",l.FF="\f",l.CR="\r",l.SO="\x0e",l.SI="\x0f",l.DLE="\x10",l.DC1="\x11",l.DC2="\x12",l.DC3="\x13",l.DC4="\x14",l.NAK="\x15",l.SYN="\x16",l.ETB="\x17",l.CAN="\x18",l.EM="\x19",l.SUB="\x1a",l.ESC="\x1b",l.FS="\x1c",l.GS="\x1d",l.RS="\x1e",l.US="\x1f",l.SP=" ",l.DEL="\x7f",function(l){l.PAD="\x80",l.HOP="\x81",l.BPH="\x82",l.NBH="\x83",l.IND="\x84",l.NEL="\x85",l.SSA="\x86",l.ESA="\x87",l.HTS="\x88",l.HTJ="\x89",l.VTS="\x8a",l.PLD="\x8b",l.PLU="\x8c",l.RI="\x8d",l.SS2="\x8e",l.SS3="\x8f",l.DCS="\x90",l.PU1="\x91",l.PU2="\x92",l.STS="\x93",l.CCH="\x94",l.MW="\x95",l.SPA="\x96",l.EPA="\x97",l.SOS="\x98",l.SGCI="\x99",l.SCI="\x9a",l.CSI="\x9b",l.ST="\x9c",l.OSC="\x9d",l.PM="\x9e",l.APC="\x9f"}(P||(g.C1=P={})),function(l){l.ST=`${_.ESC}\\`}(y||(g.C1_ESCAPED=y={}))},7399:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.evaluateKeyboardEvent=void 0;const P=_(2584),y={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};g.evaluateKeyboardEvent=function(l,R,L,J){const N={type:0,cancel:!1,key:void 0},w=(l.shiftKey?1:0)|(l.altKey?2:0)|(l.ctrlKey?4:0)|(l.metaKey?8:0);switch(l.keyCode){case 0:"UIKeyInputUpArrow"===l.key?N.key=R?P.C0.ESC+"OA":P.C0.ESC+"[A":"UIKeyInputLeftArrow"===l.key?N.key=R?P.C0.ESC+"OD":P.C0.ESC+"[D":"UIKeyInputRightArrow"===l.key?N.key=R?P.C0.ESC+"OC":P.C0.ESC+"[C":"UIKeyInputDownArrow"===l.key&&(N.key=R?P.C0.ESC+"OB":P.C0.ESC+"[B");break;case 8:if(l.altKey){N.key=P.C0.ESC+P.C0.DEL;break}N.key=P.C0.DEL;break;case 9:if(l.shiftKey){N.key=P.C0.ESC+"[Z";break}N.key=P.C0.HT,N.cancel=!0;break;case 13:N.key=l.altKey?P.C0.ESC+P.C0.CR:P.C0.CR,N.cancel=!0;break;case 27:N.key=P.C0.ESC,l.altKey&&(N.key=P.C0.ESC+P.C0.ESC),N.cancel=!0;break;case 37:if(l.metaKey)break;w?(N.key=P.C0.ESC+"[1;"+(w+1)+"D",N.key===P.C0.ESC+"[1;3D"&&(N.key=P.C0.ESC+(L?"b":"[1;5D"))):N.key=R?P.C0.ESC+"OD":P.C0.ESC+"[D";break;case 39:if(l.metaKey)break;w?(N.key=P.C0.ESC+"[1;"+(w+1)+"C",N.key===P.C0.ESC+"[1;3C"&&(N.key=P.C0.ESC+(L?"f":"[1;5C"))):N.key=R?P.C0.ESC+"OC":P.C0.ESC+"[C";break;case 38:if(l.metaKey)break;w?(N.key=P.C0.ESC+"[1;"+(w+1)+"A",L||N.key!==P.C0.ESC+"[1;3A"||(N.key=P.C0.ESC+"[1;5A")):N.key=R?P.C0.ESC+"OA":P.C0.ESC+"[A";break;case 40:if(l.metaKey)break;w?(N.key=P.C0.ESC+"[1;"+(w+1)+"B",L||N.key!==P.C0.ESC+"[1;3B"||(N.key=P.C0.ESC+"[1;5B")):N.key=R?P.C0.ESC+"OB":P.C0.ESC+"[B";break;case 45:l.shiftKey||l.ctrlKey||(N.key=P.C0.ESC+"[2~");break;case 46:N.key=w?P.C0.ESC+"[3;"+(w+1)+"~":P.C0.ESC+"[3~";break;case 36:N.key=w?P.C0.ESC+"[1;"+(w+1)+"H":R?P.C0.ESC+"OH":P.C0.ESC+"[H";break;case 35:N.key=w?P.C0.ESC+"[1;"+(w+1)+"F":R?P.C0.ESC+"OF":P.C0.ESC+"[F";break;case 33:l.shiftKey?N.type=2:N.key=l.ctrlKey?P.C0.ESC+"[5;"+(w+1)+"~":P.C0.ESC+"[5~";break;case 34:l.shiftKey?N.type=3:N.key=l.ctrlKey?P.C0.ESC+"[6;"+(w+1)+"~":P.C0.ESC+"[6~";break;case 112:N.key=w?P.C0.ESC+"[1;"+(w+1)+"P":P.C0.ESC+"OP";break;case 113:N.key=w?P.C0.ESC+"[1;"+(w+1)+"Q":P.C0.ESC+"OQ";break;case 114:N.key=w?P.C0.ESC+"[1;"+(w+1)+"R":P.C0.ESC+"OR";break;case 115:N.key=w?P.C0.ESC+"[1;"+(w+1)+"S":P.C0.ESC+"OS";break;case 116:N.key=w?P.C0.ESC+"[15;"+(w+1)+"~":P.C0.ESC+"[15~";break;case 117:N.key=w?P.C0.ESC+"[17;"+(w+1)+"~":P.C0.ESC+"[17~";break;case 118:N.key=w?P.C0.ESC+"[18;"+(w+1)+"~":P.C0.ESC+"[18~";break;case 119:N.key=w?P.C0.ESC+"[19;"+(w+1)+"~":P.C0.ESC+"[19~";break;case 120:N.key=w?P.C0.ESC+"[20;"+(w+1)+"~":P.C0.ESC+"[20~";break;case 121:N.key=w?P.C0.ESC+"[21;"+(w+1)+"~":P.C0.ESC+"[21~";break;case 122:N.key=w?P.C0.ESC+"[23;"+(w+1)+"~":P.C0.ESC+"[23~";break;case 123:N.key=w?P.C0.ESC+"[24;"+(w+1)+"~":P.C0.ESC+"[24~";break;default:if(!l.ctrlKey||l.shiftKey||l.altKey||l.metaKey)if(L&&!J||!l.altKey||l.metaKey)!L||l.altKey||l.ctrlKey||l.shiftKey||!l.metaKey?l.key&&!l.ctrlKey&&!l.altKey&&!l.metaKey&&l.keyCode>=48&&1===l.key.length?N.key=l.key:l.key&&l.ctrlKey&&("_"===l.key&&(N.key=P.C0.US),"@"===l.key&&(N.key=P.C0.NUL)):65===l.keyCode&&(N.type=1);else{const x=y[l.keyCode],D=null==x?void 0:x[l.shiftKey?1:0];if(D)N.key=P.C0.ESC+D;else if(l.keyCode>=65&&l.keyCode<=90){let U=String.fromCharCode(l.ctrlKey?l.keyCode-64:l.keyCode+32);l.shiftKey&&(U=U.toUpperCase()),N.key=P.C0.ESC+U}else if(32===l.keyCode)N.key=P.C0.ESC+(l.ctrlKey?P.C0.NUL:" ");else if("Dead"===l.key&&l.code.startsWith("Key")){let S=l.code.slice(3,4);l.shiftKey||(S=S.toLowerCase()),N.key=P.C0.ESC+S,N.cancel=!0}}else l.keyCode>=65&&l.keyCode<=90?N.key=String.fromCharCode(l.keyCode-64):32===l.keyCode?N.key=P.C0.NUL:l.keyCode>=51&&l.keyCode<=55?N.key=String.fromCharCode(l.keyCode-51+27):56===l.keyCode?N.key=P.C0.DEL:219===l.keyCode?N.key=P.C0.ESC:220===l.keyCode?N.key=P.C0.FS:221===l.keyCode&&(N.key=P.C0.GS)}return N}},482:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.Utf8ToUtf32=g.StringToUtf32=g.utf32ToString=g.stringFromCodePoint=void 0,g.stringFromCodePoint=function(_){return _>65535?(_-=65536,String.fromCharCode(55296+(_>>10))+String.fromCharCode(_%1024+56320)):String.fromCharCode(_)},g.utf32ToString=function(_,P=0,y=_.length){let l="";for(let R=P;R<y;++R){let L=_[R];L>65535?(L-=65536,l+=String.fromCharCode(55296+(L>>10))+String.fromCharCode(L%1024+56320)):l+=String.fromCharCode(L)}return l},g.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(_,P){const y=_.length;if(!y)return 0;let l=0,R=0;if(this._interim){const L=_.charCodeAt(R++);56320<=L&&L<=57343?P[l++]=1024*(this._interim-55296)+L-56320+65536:(P[l++]=this._interim,P[l++]=L),this._interim=0}for(let L=R;L<y;++L){const J=_.charCodeAt(L);if(55296<=J&&J<=56319){if(++L>=y)return this._interim=J,l;const N=_.charCodeAt(L);56320<=N&&N<=57343?P[l++]=1024*(J-55296)+N-56320+65536:(P[l++]=J,P[l++]=N)}else 65279!==J&&(P[l++]=J)}return l}},g.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(_,P){const y=_.length;if(!y)return 0;let l,R,L,J,N=0,w=0,x=0;if(this.interim[0]){let U=!1,F=this.interim[0];F&=192==(224&F)?31:224==(240&F)?15:7;let ce,te=0;for(;(ce=63&this.interim[++te])&&te<4;)F<<=6,F|=ce;const V=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,k=V-te;for(;x<k;){if(x>=y)return 0;if(ce=_[x++],128!=(192&ce)){x--,U=!0;break}this.interim[te++]=ce,F<<=6,F|=63&ce}U||(2===V?F<128?x--:P[N++]=F:3===V?F<2048||F>=55296&&F<=57343||65279===F||(P[N++]=F):F<65536||F>1114111||(P[N++]=F)),this.interim.fill(0)}const D=y-4;let S=x;for(;S<y;){for(;!(!(S<D)||128&(l=_[S])||128&(R=_[S+1])||128&(L=_[S+2])||128&(J=_[S+3]));)P[N++]=l,P[N++]=R,P[N++]=L,P[N++]=J,S+=4;if(l=_[S++],l<128)P[N++]=l;else if(192==(224&l)){if(S>=y)return this.interim[0]=l,N;if(R=_[S++],128!=(192&R)){S--;continue}if(w=(31&l)<<6|63&R,w<128){S--;continue}P[N++]=w}else if(224==(240&l)){if(S>=y)return this.interim[0]=l,N;if(R=_[S++],128!=(192&R)){S--;continue}if(S>=y)return this.interim[0]=l,this.interim[1]=R,N;if(L=_[S++],128!=(192&L)){S--;continue}if(w=(15&l)<<12|(63&R)<<6|63&L,w<2048||w>=55296&&w<=57343||65279===w)continue;P[N++]=w}else if(240==(248&l)){if(S>=y)return this.interim[0]=l,N;if(R=_[S++],128!=(192&R)){S--;continue}if(S>=y)return this.interim[0]=l,this.interim[1]=R,N;if(L=_[S++],128!=(192&L)){S--;continue}if(S>=y)return this.interim[0]=l,this.interim[1]=R,this.interim[2]=L,N;if(J=_[S++],128!=(192&J)){S--;continue}if(w=(7&l)<<18|(63&R)<<12|(63&L)<<6|63&J,w<65536||w>1114111)continue;P[N++]=w}}return N}}},225:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.UnicodeV6=void 0;const _=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],P=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let y;g.UnicodeV6=class{constructor(){if(this.version="6",!y){y=new Uint8Array(65536),y.fill(1),y[0]=0,y.fill(0,1,32),y.fill(0,127,160),y.fill(2,4352,4448),y[9001]=2,y[9002]=2,y.fill(2,11904,42192),y[12351]=1,y.fill(2,44032,55204),y.fill(2,63744,64256),y.fill(2,65040,65050),y.fill(2,65072,65136),y.fill(2,65280,65377),y.fill(2,65504,65511);for(let l=0;l<_.length;++l)y.fill(0,_[l][0],_[l][1]+1)}}wcwidth(l){return l<32?0:l<127?1:l<65536?y[l]:function(R,L){let J,N=0,w=L.length-1;if(R<L[0][0]||R>L[w][1])return!1;for(;w>=N;)if(J=N+w>>1,R>L[J][1])N=J+1;else{if(!(R<L[J][0]))return!0;w=J-1}return!1}(l,P)?0:l>=131072&&l<=196605||l>=196608&&l<=262141?2:1}}},5981:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.WriteBuffer=void 0;const P=_(8460),y=_(844);g.WriteBuffer=class l extends y.Disposable{constructor(L){super(),this._action=L,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new P.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(L,J){if(void 0!==J&&this._syncCalls>J)return void(this._syncCalls=0);if(this._pendingData+=L.length,this._writeBuffer.push(L),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let N;for(this._isSyncWriting=!0;N=this._writeBuffer.shift();){this._action(N);const w=this._callbacks.shift();w&&w()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(L,J){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=L.length,this._writeBuffer.push(L),this._callbacks.push(J),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=L.length,this._writeBuffer.push(L),this._callbacks.push(J)}_innerWrite(L=0,J=!0){const N=L||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const w=this._writeBuffer[this._bufferOffset],x=this._action(w,J);if(x){const S=U=>Date.now()-N>=12?setTimeout(()=>this._innerWrite(0,U)):this._innerWrite(N,U);return void x.catch(U=>(queueMicrotask(()=>{throw U}),Promise.resolve(!1))).then(S)}const D=this._callbacks[this._bufferOffset];if(D&&D(),this._bufferOffset++,this._pendingData-=w.length,Date.now()-N>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}},5941:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.toRgbString=g.parseColor=void 0;const _=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,P=/^[\da-f]+$/;function y(l,R){const L=l.toString(16),J=L.length<2?"0"+L:L;switch(R){case 4:return L[0];case 8:return J;case 12:return(J+J).slice(0,3);default:return J+J}}g.parseColor=function(l){if(!l)return;let R=l.toLowerCase();if(0===R.indexOf("rgb:")){R=R.slice(4);const L=_.exec(R);if(L){const J=L[1]?15:L[4]?255:L[7]?4095:65535;return[Math.round(parseInt(L[1]||L[4]||L[7]||L[10],16)/J*255),Math.round(parseInt(L[2]||L[5]||L[8]||L[11],16)/J*255),Math.round(parseInt(L[3]||L[6]||L[9]||L[12],16)/J*255)]}}else if(0===R.indexOf("#")&&(R=R.slice(1),P.exec(R)&&[3,6,9,12].includes(R.length))){const L=R.length/3,J=[0,0,0];for(let N=0;N<3;++N){const w=parseInt(R.slice(L*N,L*N+L),16);J[N]=1===L?w<<4:2===L?w:3===L?w>>4:w>>8}return J}},g.toRgbString=function(l,R=16){const[L,J,N]=l;return`rgb:${y(L,R)}/${y(J,R)}/${y(N,R)}`}},5770:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PAYLOAD_LIMIT=void 0,g.PAYLOAD_LIMIT=1e7},6351:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.DcsHandler=g.DcsParser=void 0;const P=_(482),y=_(8742),l=_(5770),R=[];g.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=R,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=R}registerHandler(J,N){void 0===this._handlers[J]&&(this._handlers[J]=[]);const w=this._handlers[J];return w.push(N),{dispose:()=>{const x=w.indexOf(N);-1!==x&&w.splice(x,1)}}}clearHandler(J){this._handlers[J]&&delete this._handlers[J]}setHandlerFallback(J){this._handlerFb=J}reset(){if(this._active.length)for(let J=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;J>=0;--J)this._active[J].unhook(!1);this._stack.paused=!1,this._active=R,this._ident=0}hook(J,N){if(this.reset(),this._ident=J,this._active=this._handlers[J]||R,this._active.length)for(let w=this._active.length-1;w>=0;w--)this._active[w].hook(N);else this._handlerFb(this._ident,"HOOK",N)}put(J,N,w){if(this._active.length)for(let x=this._active.length-1;x>=0;x--)this._active[x].put(J,N,w);else this._handlerFb(this._ident,"PUT",(0,P.utf32ToString)(J,N,w))}unhook(J,N=!0){if(this._active.length){let w=!1,x=this._active.length-1,D=!1;if(this._stack.paused&&(x=this._stack.loopPosition-1,w=N,D=this._stack.fallThrough,this._stack.paused=!1),!D&&!1===w){for(;x>=0&&(w=this._active[x].unhook(J),!0!==w);x--)if(w instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!1,w;x--}for(;x>=0;x--)if(w=this._active[x].unhook(!1),w instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!0,w}else this._handlerFb(this._ident,"UNHOOK",J);this._active=R,this._ident=0}};const L=new y.Params;L.addParam(0),g.DcsHandler=class{constructor(J){this._handler=J,this._data="",this._params=L,this._hitLimit=!1}hook(J){this._params=J.length>1||J.params[0]?J.clone():L,this._data="",this._hitLimit=!1}put(J,N,w){this._hitLimit||(this._data+=(0,P.utf32ToString)(J,N,w),this._data.length>l.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(J){let N=!1;if(this._hitLimit)N=!1;else if(J&&(N=this._handler(this._data,this._params),N instanceof Promise))return N.then(w=>(this._params=L,this._data="",this._hitLimit=!1,w));return this._params=L,this._data="",this._hitLimit=!1,N}}},2015:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.EscapeSequenceParser=g.VT500_TRANSITION_TABLE=g.TransitionTable=void 0;const P=_(844),y=_(8742),l=_(6242),R=_(6351);class L{constructor(x){this.table=new Uint8Array(x)}setDefault(x,D){this.table.fill(x<<4|D)}add(x,D,S,U){this.table[D<<8|x]=S<<4|U}addMany(x,D,S,U){for(let F=0;F<x.length;F++)this.table[D<<8|x[F]]=S<<4|U}}g.TransitionTable=L;const J=160;g.VT500_TRANSITION_TABLE=function(){const w=new L(4095),x=Array.apply(null,Array(256)).map((te,V)=>V),D=(te,V)=>x.slice(te,V),S=D(32,127),U=D(0,24);U.push(25),U.push.apply(U,D(28,32));const F=D(0,14);let ce;for(ce in w.setDefault(1,0),w.addMany(S,0,2,0),F)w.addMany([24,26,153,154],ce,3,0),w.addMany(D(128,144),ce,3,0),w.addMany(D(144,152),ce,3,0),w.add(156,ce,0,0),w.add(27,ce,11,1),w.add(157,ce,4,8),w.addMany([152,158,159],ce,0,7),w.add(155,ce,11,3),w.add(144,ce,11,9);return w.addMany(U,0,3,0),w.addMany(U,1,3,1),w.add(127,1,0,1),w.addMany(U,8,0,8),w.addMany(U,3,3,3),w.add(127,3,0,3),w.addMany(U,4,3,4),w.add(127,4,0,4),w.addMany(U,6,3,6),w.addMany(U,5,3,5),w.add(127,5,0,5),w.addMany(U,2,3,2),w.add(127,2,0,2),w.add(93,1,4,8),w.addMany(S,8,5,8),w.add(127,8,5,8),w.addMany([156,27,24,26,7],8,6,0),w.addMany(D(28,32),8,0,8),w.addMany([88,94,95],1,0,7),w.addMany(S,7,0,7),w.addMany(U,7,0,7),w.add(156,7,0,0),w.add(127,7,0,7),w.add(91,1,11,3),w.addMany(D(64,127),3,7,0),w.addMany(D(48,60),3,8,4),w.addMany([60,61,62,63],3,9,4),w.addMany(D(48,60),4,8,4),w.addMany(D(64,127),4,7,0),w.addMany([60,61,62,63],4,0,6),w.addMany(D(32,64),6,0,6),w.add(127,6,0,6),w.addMany(D(64,127),6,0,0),w.addMany(D(32,48),3,9,5),w.addMany(D(32,48),5,9,5),w.addMany(D(48,64),5,0,6),w.addMany(D(64,127),5,7,0),w.addMany(D(32,48),4,9,5),w.addMany(D(32,48),1,9,2),w.addMany(D(32,48),2,9,2),w.addMany(D(48,127),2,10,0),w.addMany(D(48,80),1,10,0),w.addMany(D(81,88),1,10,0),w.addMany([89,90,92],1,10,0),w.addMany(D(96,127),1,10,0),w.add(80,1,11,9),w.addMany(U,9,0,9),w.add(127,9,0,9),w.addMany(D(28,32),9,0,9),w.addMany(D(32,48),9,9,12),w.addMany(D(48,60),9,8,10),w.addMany([60,61,62,63],9,9,10),w.addMany(U,11,0,11),w.addMany(D(32,128),11,0,11),w.addMany(D(28,32),11,0,11),w.addMany(U,10,0,10),w.add(127,10,0,10),w.addMany(D(28,32),10,0,10),w.addMany(D(48,60),10,8,10),w.addMany([60,61,62,63],10,0,11),w.addMany(D(32,48),10,9,12),w.addMany(U,12,0,12),w.add(127,12,0,12),w.addMany(D(28,32),12,0,12),w.addMany(D(32,48),12,9,12),w.addMany(D(48,64),12,0,11),w.addMany(D(64,127),12,12,13),w.addMany(D(64,127),10,12,13),w.addMany(D(64,127),9,12,13),w.addMany(U,13,13,13),w.addMany(S,13,13,13),w.add(127,13,0,13),w.addMany([27,156,24,26],13,14,0),w.add(J,0,2,0),w.add(J,8,5,8),w.add(J,6,0,6),w.add(J,11,0,11),w.add(J,13,13,13),w}(),g.EscapeSequenceParser=class N extends P.Disposable{constructor(x=g.VT500_TRANSITION_TABLE){super(),this._transitions=x,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new y.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(D,S,U)=>{},this._executeHandlerFb=D=>{},this._csiHandlerFb=(D,S)=>{},this._escHandlerFb=D=>{},this._errorHandlerFb=D=>D,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,P.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new l.OscParser),this._dcsParser=this.register(new R.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(x,D=[64,126]){let S=0;if(x.prefix){if(x.prefix.length>1)throw new Error("only one byte as prefix supported");if(S=x.prefix.charCodeAt(0),S&&60>S||S>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(x.intermediates){if(x.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let F=0;F<x.intermediates.length;++F){const ce=x.intermediates.charCodeAt(F);if(32>ce||ce>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");S<<=8,S|=ce}}if(1!==x.final.length)throw new Error("final must be a single byte");const U=x.final.charCodeAt(0);if(D[0]>U||U>D[1])throw new Error(`final must be in range ${D[0]} .. ${D[1]}`);return S<<=8,S|=U,S}identToString(x){const D=[];for(;x;)D.push(String.fromCharCode(255&x)),x>>=8;return D.reverse().join("")}setPrintHandler(x){this._printHandler=x}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(x,D){const S=this._identifier(x,[48,126]);void 0===this._escHandlers[S]&&(this._escHandlers[S]=[]);const U=this._escHandlers[S];return U.push(D),{dispose:()=>{const F=U.indexOf(D);-1!==F&&U.splice(F,1)}}}clearEscHandler(x){this._escHandlers[this._identifier(x,[48,126])]&&delete this._escHandlers[this._identifier(x,[48,126])]}setEscHandlerFallback(x){this._escHandlerFb=x}setExecuteHandler(x,D){this._executeHandlers[x.charCodeAt(0)]=D}clearExecuteHandler(x){this._executeHandlers[x.charCodeAt(0)]&&delete this._executeHandlers[x.charCodeAt(0)]}setExecuteHandlerFallback(x){this._executeHandlerFb=x}registerCsiHandler(x,D){const S=this._identifier(x);void 0===this._csiHandlers[S]&&(this._csiHandlers[S]=[]);const U=this._csiHandlers[S];return U.push(D),{dispose:()=>{const F=U.indexOf(D);-1!==F&&U.splice(F,1)}}}clearCsiHandler(x){this._csiHandlers[this._identifier(x)]&&delete this._csiHandlers[this._identifier(x)]}setCsiHandlerFallback(x){this._csiHandlerFb=x}registerDcsHandler(x,D){return this._dcsParser.registerHandler(this._identifier(x),D)}clearDcsHandler(x){this._dcsParser.clearHandler(this._identifier(x))}setDcsHandlerFallback(x){this._dcsParser.setHandlerFallback(x)}registerOscHandler(x,D){return this._oscParser.registerHandler(x,D)}clearOscHandler(x){this._oscParser.clearHandler(x)}setOscHandlerFallback(x){this._oscParser.setHandlerFallback(x)}setErrorHandler(x){this._errorHandler=x}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,0!==this._parseStack.state&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(x,D,S,U,F){this._parseStack.state=x,this._parseStack.handlers=D,this._parseStack.handlerPos=S,this._parseStack.transition=U,this._parseStack.chunkPos=F}parse(x,D,S){let U,F=0,ce=0,te=0;if(this._parseStack.state)if(2===this._parseStack.state)this._parseStack.state=0,te=this._parseStack.chunkPos+1;else{if(void 0===S||1===this._parseStack.state)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const V=this._parseStack.handlers;let k=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(!1===S&&k>-1)for(;k>=0&&(U=V[k](this._params),!0!==U);k--)if(U instanceof Promise)return this._parseStack.handlerPos=k,U;this._parseStack.handlers=[];break;case 4:if(!1===S&&k>-1)for(;k>=0&&(U=V[k](),!0!==U);k--)if(U instanceof Promise)return this._parseStack.handlerPos=k,U;this._parseStack.handlers=[];break;case 6:if(F=x[this._parseStack.chunkPos],U=this._dcsParser.unhook(24!==F&&26!==F,S),U)return U;27===F&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(F=x[this._parseStack.chunkPos],U=this._oscParser.end(24!==F&&26!==F,S),U)return U;27===F&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,te=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let V=te;V<D;++V){switch(F=x[V],ce=this._transitions.table[this.currentState<<8|(F<160?F:J)],ce>>4){case 2:for(let q=V+1;;++q){if(q>=D||(F=x[q])<32||F>126&&F<J){this._printHandler(x,V,q),V=q-1;break}if(++q>=D||(F=x[q])<32||F>126&&F<J){this._printHandler(x,V,q),V=q-1;break}if(++q>=D||(F=x[q])<32||F>126&&F<J){this._printHandler(x,V,q),V=q-1;break}if(++q>=D||(F=x[q])<32||F>126&&F<J){this._printHandler(x,V,q),V=q-1;break}}break;case 3:this._executeHandlers[F]?this._executeHandlers[F]():this._executeHandlerFb(F),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:V,code:F,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const k=this._csiHandlers[this._collect<<8|F];let O=k?k.length-1:-1;for(;O>=0&&(U=k[O](this._params),!0!==U);O--)if(U instanceof Promise)return this._preserveStack(3,k,O,ce,V),U;O<0&&this._csiHandlerFb(this._collect<<8|F,this._params),this.precedingCodepoint=0;break;case 8:do{switch(F){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(F-48)}}while(++V<D&&(F=x[V])>47&&F<60);V--;break;case 9:this._collect<<=8,this._collect|=F;break;case 10:const $=this._escHandlers[this._collect<<8|F];let ue=$?$.length-1:-1;for(;ue>=0&&(U=$[ue](),!0!==U);ue--)if(U instanceof Promise)return this._preserveStack(4,$,ue,ce,V),U;ue<0&&this._escHandlerFb(this._collect<<8|F),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|F,this._params);break;case 13:for(let q=V+1;;++q)if(q>=D||24===(F=x[q])||26===F||27===F||F>127&&F<J){this._dcsParser.put(x,V,q),V=q-1;break}break;case 14:if(U=this._dcsParser.unhook(24!==F&&26!==F),U)return this._preserveStack(6,[],0,ce,V),U;27===F&&(ce|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let q=V+1;;q++)if(q>=D||(F=x[q])<32||F>127&&F<J){this._oscParser.put(x,V,q),V=q-1;break}break;case 6:if(U=this._oscParser.end(24!==F&&26!==F),U)return this._preserveStack(5,[],0,ce,V),U;27===F&&(ce|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&ce}}}},6242:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.OscHandler=g.OscParser=void 0;const P=_(5770),y=_(482),l=[];g.OscParser=class{constructor(){this._state=0,this._active=l,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(R,L){void 0===this._handlers[R]&&(this._handlers[R]=[]);const J=this._handlers[R];return J.push(L),{dispose:()=>{const N=J.indexOf(L);-1!==N&&J.splice(N,1)}}}clearHandler(R){this._handlers[R]&&delete this._handlers[R]}setHandlerFallback(R){this._handlerFb=R}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=l}reset(){if(2===this._state)for(let R=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;R>=0;--R)this._active[R].end(!1);this._stack.paused=!1,this._active=l,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||l,this._active.length)for(let R=this._active.length-1;R>=0;R--)this._active[R].start();else this._handlerFb(this._id,"START")}_put(R,L,J){if(this._active.length)for(let N=this._active.length-1;N>=0;N--)this._active[N].put(R,L,J);else this._handlerFb(this._id,"PUT",(0,y.utf32ToString)(R,L,J))}start(){this.reset(),this._state=1}put(R,L,J){if(3!==this._state){if(1===this._state)for(;L<J;){const N=R[L++];if(59===N){this._state=2,this._start();break}if(N<48||57<N)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+N-48}2===this._state&&J-L>0&&this._put(R,L,J)}}end(R,L=!0){if(0!==this._state){if(3!==this._state)if(1===this._state&&this._start(),this._active.length){let J=!1,N=this._active.length-1,w=!1;if(this._stack.paused&&(N=this._stack.loopPosition-1,J=L,w=this._stack.fallThrough,this._stack.paused=!1),!w&&!1===J){for(;N>=0&&(J=this._active[N].end(R),!0!==J);N--)if(J instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=N,this._stack.fallThrough=!1,J;N--}for(;N>=0;N--)if(J=this._active[N].end(!1),J instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=N,this._stack.fallThrough=!0,J}else this._handlerFb(this._id,"END",R);this._active=l,this._id=-1,this._state=0}}},g.OscHandler=class{constructor(R){this._handler=R,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(R,L,J){this._hitLimit||(this._data+=(0,y.utf32ToString)(R,L,J),this._data.length>P.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(R){let L=!1;if(this._hitLimit)L=!1;else if(R&&(L=this._handler(this._data),L instanceof Promise))return L.then(J=>(this._data="",this._hitLimit=!1,J));return this._data="",this._hitLimit=!1,L}}},8742:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.Params=void 0;const _=2147483647;class P{static fromArray(l){const R=new P;if(!l.length)return R;for(let L=Array.isArray(l[0])?1:0;L<l.length;++L){const J=l[L];if(Array.isArray(J))for(let N=0;N<J.length;++N)R.addSubParam(J[N]);else R.addParam(J)}return R}constructor(l=32,R=32){if(this.maxLength=l,this.maxSubParamsLength=R,R>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(l),this.length=0,this._subParams=new Int32Array(R),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(l),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const l=new P(this.maxLength,this.maxSubParamsLength);return l.params.set(this.params),l.length=this.length,l._subParams.set(this._subParams),l._subParamsLength=this._subParamsLength,l._subParamsIdx.set(this._subParamsIdx),l._rejectDigits=this._rejectDigits,l._rejectSubDigits=this._rejectSubDigits,l._digitIsSub=this._digitIsSub,l}toArray(){const l=[];for(let R=0;R<this.length;++R){l.push(this.params[R]);const L=this._subParamsIdx[R]>>8,J=255&this._subParamsIdx[R];J-L>0&&l.push(Array.prototype.slice.call(this._subParams,L,J))}return l}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(l){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(l<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=l>_?_:l}}addSubParam(l){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(l<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=l>_?_:l,this._subParamsIdx[this.length-1]++}}hasSubParams(l){return(255&this._subParamsIdx[l])-(this._subParamsIdx[l]>>8)>0}getSubParams(l){const R=this._subParamsIdx[l]>>8,L=255&this._subParamsIdx[l];return L-R>0?this._subParams.subarray(R,L):null}getSubParamsAll(){const l={};for(let R=0;R<this.length;++R){const L=this._subParamsIdx[R]>>8,J=255&this._subParamsIdx[R];J-L>0&&(l[R]=this._subParams.slice(L,J))}return l}addDigit(l){let R;if(this._rejectDigits||!(R=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const L=this._digitIsSub?this._subParams:this.params,J=L[R-1];L[R-1]=~J?Math.min(10*J+l,_):l}}g.Params=P},5741:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.AddonManager=void 0,g.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let _=this._addons.length-1;_>=0;_--)this._addons[_].instance.dispose()}loadAddon(_,P){const y={instance:P,dispose:P.dispose,isDisposed:!1};this._addons.push(y),P.dispose=()=>this._wrappedAddonDispose(y),P.activate(_)}_wrappedAddonDispose(_){if(_.isDisposed)return;let P=-1;for(let y=0;y<this._addons.length;y++)if(this._addons[y]===_){P=y;break}if(-1===P)throw new Error("Could not dispose an addon that has not been loaded");_.isDisposed=!0,_.dispose.apply(_.instance),this._addons.splice(P,1)}}},8771:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.BufferApiView=void 0;const P=_(3785),y=_(511);g.BufferApiView=class{constructor(l,R){this._buffer=l,this.type=R}init(l){return this._buffer=l,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(l){const R=this._buffer.lines.get(l);if(R)return new P.BufferLineApiView(R)}getNullCell(){return new y.CellData}}},3785:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.BufferLineApiView=void 0;const P=_(511);g.BufferLineApiView=class{constructor(y){this._line=y}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(y,l){if(!(y<0||y>=this._line.length))return l?(this._line.loadCell(y,l),l):this._line.loadCell(y,new P.CellData)}translateToString(y,l,R){return this._line.translateToString(y,l,R)}}},8285:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.BufferNamespaceApi=void 0;const P=_(8771),y=_(8460),l=_(844);g.BufferNamespaceApi=class R extends l.Disposable{constructor(J){super(),this._core=J,this._onBufferChange=this.register(new y.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new P.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new P.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}},7975:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.ParserApi=void 0,g.ParserApi=class{constructor(_){this._core=_}registerCsiHandler(_,P){return this._core.registerCsiHandler(_,y=>P(y.toArray()))}addCsiHandler(_,P){return this.registerCsiHandler(_,P)}registerDcsHandler(_,P){return this._core.registerDcsHandler(_,(y,l)=>P(y,l.toArray()))}addDcsHandler(_,P){return this.registerDcsHandler(_,P)}registerEscHandler(_,P){return this._core.registerEscHandler(_,P)}addEscHandler(_,P){return this.registerEscHandler(_,P)}registerOscHandler(_,P){return this._core.registerOscHandler(_,P)}addOscHandler(_,P){return this.registerOscHandler(_,P)}}},7090:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.UnicodeApi=void 0,g.UnicodeApi=class{constructor(_){this._core=_}register(_){this._core.unicodeService.register(_)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(_){this._core.unicodeService.activeVersion=_}}},744:function(f,g,_){var P=this&&this.__decorate||function(w,x,D,S){var U,F=arguments.length,ce=F<3?x:null===S?S=Object.getOwnPropertyDescriptor(x,D):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ce=Reflect.decorate(w,x,D,S);else for(var te=w.length-1;te>=0;te--)(U=w[te])&&(ce=(F<3?U(ce):F>3?U(x,D,ce):U(x,D))||ce);return F>3&&ce&&Object.defineProperty(x,D,ce),ce},y=this&&this.__param||function(w,x){return function(D,S){x(D,S,w)}};Object.defineProperty(g,"__esModule",{value:!0}),g.BufferService=g.MINIMUM_ROWS=g.MINIMUM_COLS=void 0;const l=_(8460),R=_(844),L=_(5295),J=_(2585);g.MINIMUM_COLS=2,g.MINIMUM_ROWS=1;let N=g.BufferService=class extends R.Disposable{get buffer(){return this.buffers.active}constructor(w){super(),this.isUserScrolling=!1,this._onResize=this.register(new l.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new l.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(w.rawOptions.cols||0,g.MINIMUM_COLS),this.rows=Math.max(w.rawOptions.rows||0,g.MINIMUM_ROWS),this.buffers=this.register(new L.BufferSet(w,this))}resize(w,x){this.cols=w,this.rows=x,this.buffers.resize(w,x),this._onResize.fire({cols:w,rows:x})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(w,x=!1){const D=this.buffer;let S;S=this._cachedBlankLine,S&&S.length===this.cols&&S.getFg(0)===w.fg&&S.getBg(0)===w.bg||(S=D.getBlankLine(w,x),this._cachedBlankLine=S),S.isWrapped=x;const U=D.ybase+D.scrollTop,F=D.ybase+D.scrollBottom;if(0===D.scrollTop){const ce=D.lines.isFull;F===D.lines.length-1?ce?D.lines.recycle().copyFrom(S):D.lines.push(S.clone()):D.lines.splice(F+1,0,S.clone()),ce?this.isUserScrolling&&(D.ydisp=Math.max(D.ydisp-1,0)):(D.ybase++,this.isUserScrolling||D.ydisp++)}else D.lines.shiftElements(U+1,F-U+1-1,-1),D.lines.set(F,S.clone());this.isUserScrolling||(D.ydisp=D.ybase),this._onScroll.fire(D.ydisp)}scrollLines(w,x,D){const S=this.buffer;if(w<0){if(0===S.ydisp)return;this.isUserScrolling=!0}else w+S.ydisp>=S.ybase&&(this.isUserScrolling=!1);const U=S.ydisp;S.ydisp=Math.max(Math.min(S.ydisp+w,S.ybase),0),U!==S.ydisp&&(x||this._onScroll.fire(S.ydisp))}};g.BufferService=N=P([y(0,J.IOptionsService)],N)},7994:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.CharsetService=void 0,g.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(_){this.glevel=_,this.charset=this._charsets[_]}setgCharset(_,P){this._charsets[_]=P,this.glevel===_&&(this.charset=P)}}},1753:function(f,g,_){var P=this&&this.__decorate||function(S,U,F,ce){var te,V=arguments.length,k=V<3?U:null===ce?ce=Object.getOwnPropertyDescriptor(U,F):ce;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(S,U,F,ce);else for(var O=S.length-1;O>=0;O--)(te=S[O])&&(k=(V<3?te(k):V>3?te(U,F,k):te(U,F))||k);return V>3&&k&&Object.defineProperty(U,F,k),k},y=this&&this.__param||function(S,U){return function(F,ce){U(F,ce,S)}};Object.defineProperty(g,"__esModule",{value:!0}),g.CoreMouseService=void 0;const l=_(2585),R=_(8460),L=_(844),J={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:S=>4!==S.button&&1===S.action&&(S.ctrl=!1,S.alt=!1,S.shift=!1,!0)},VT200:{events:19,restrict:S=>32!==S.action},DRAG:{events:23,restrict:S=>32!==S.action||3!==S.button},ANY:{events:31,restrict:S=>!0}};function N(S,U){let F=(S.ctrl?16:0)|(S.shift?4:0)|(S.alt?8:0);return 4===S.button?(F|=64,F|=S.action):(F|=3&S.button,4&S.button&&(F|=64),8&S.button&&(F|=128),32===S.action?F|=32:0!==S.action||U||(F|=3)),F}const w=String.fromCharCode,x={DEFAULT:S=>{const U=[N(S,!1)+32,S.col+32,S.row+32];return U[0]>255||U[1]>255||U[2]>255?"":`\x1b[M${w(U[0])}${w(U[1])}${w(U[2])}`},SGR:S=>{const U=0===S.action&&4!==S.button?"m":"M";return`\x1b[<${N(S,!0)};${S.col};${S.row}${U}`},SGR_PIXELS:S=>{const U=0===S.action&&4!==S.button?"m":"M";return`\x1b[<${N(S,!0)};${S.x};${S.y}${U}`}};let D=g.CoreMouseService=class extends L.Disposable{constructor(S,U){super(),this._bufferService=S,this._coreService=U,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new R.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const F of Object.keys(J))this.addProtocol(F,J[F]);for(const F of Object.keys(x))this.addEncoding(F,x[F]);this.reset()}addProtocol(S,U){this._protocols[S]=U}addEncoding(S,U){this._encodings[S]=U}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return 0!==this._protocols[this._activeProtocol].events}set activeProtocol(S){if(!this._protocols[S])throw new Error(`unknown protocol "${S}"`);this._activeProtocol=S,this._onProtocolChange.fire(this._protocols[S].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(S){if(!this._encodings[S])throw new Error(`unknown encoding "${S}"`);this._activeEncoding=S}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(S){if(S.col<0||S.col>=this._bufferService.cols||S.row<0||S.row>=this._bufferService.rows||4===S.button&&32===S.action||3===S.button&&32!==S.action||4!==S.button&&(2===S.action||3===S.action)||(S.col++,S.row++,32===S.action&&this._lastEvent&&this._equalEvents(this._lastEvent,S,"SGR_PIXELS"===this._activeEncoding))||!this._protocols[this._activeProtocol].restrict(S))return!1;const U=this._encodings[this._activeEncoding](S);return U&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(U):this._coreService.triggerDataEvent(U,!0)),this._lastEvent=S,!0}explainEvents(S){return{down:!!(1&S),up:!!(2&S),drag:!!(4&S),move:!!(8&S),wheel:!!(16&S)}}_equalEvents(S,U,F){if(F){if(S.x!==U.x||S.y!==U.y)return!1}else if(S.col!==U.col||S.row!==U.row)return!1;return S.button===U.button&&S.action===U.action&&S.ctrl===U.ctrl&&S.alt===U.alt&&S.shift===U.shift}};g.CoreMouseService=D=P([y(0,l.IBufferService),y(1,l.ICoreService)],D)},6975:function(f,g,_){var P=this&&this.__decorate||function(D,S,U,F){var ce,te=arguments.length,V=te<3?S:null===F?F=Object.getOwnPropertyDescriptor(S,U):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)V=Reflect.decorate(D,S,U,F);else for(var k=D.length-1;k>=0;k--)(ce=D[k])&&(V=(te<3?ce(V):te>3?ce(S,U,V):ce(S,U))||V);return te>3&&V&&Object.defineProperty(S,U,V),V},y=this&&this.__param||function(D,S){return function(U,F){S(U,F,D)}};Object.defineProperty(g,"__esModule",{value:!0}),g.CoreService=void 0;const l=_(1439),R=_(8460),L=_(844),J=_(2585),N=Object.freeze({insertMode:!1}),w=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let x=g.CoreService=class extends L.Disposable{constructor(D,S,U){super(),this._bufferService=D,this._logService=S,this._optionsService=U,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new R.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new R.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new R.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new R.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,l.clone)(N),this.decPrivateModes=(0,l.clone)(w)}reset(){this.modes=(0,l.clone)(N),this.decPrivateModes=(0,l.clone)(w)}triggerDataEvent(D,S=!1){if(this._optionsService.rawOptions.disableStdin)return;const U=this._bufferService.buffer;S&&this._optionsService.rawOptions.scrollOnUserInput&&U.ybase!==U.ydisp&&this._onRequestScrollToBottom.fire(),S&&this._onUserInput.fire(),this._logService.debug(`sending data "${D}"`,()=>D.split("").map(F=>F.charCodeAt(0))),this._onData.fire(D)}triggerBinaryEvent(D){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${D}"`,()=>D.split("").map(S=>S.charCodeAt(0))),this._onBinary.fire(D))}};g.CoreService=x=P([y(0,J.IBufferService),y(1,J.ILogService),y(2,J.IOptionsService)],x)},9074:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.DecorationService=void 0;const P=_(8055),y=_(8460),l=_(844),R=_(6106);let L=0,J=0;g.DecorationService=class N extends l.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new R.SortedList(D=>null==D?void 0:D.marker.line),this._onDecorationRegistered=this.register(new y.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new y.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,l.toDisposable)(()=>this.reset()))}registerDecoration(D){if(D.marker.isDisposed)return;const S=new w(D);if(S){const U=S.marker.onDispose(()=>S.dispose());S.onDispose(()=>{S&&(this._decorations.delete(S)&&this._onDecorationRemoved.fire(S),U.dispose())}),this._decorations.insert(S),this._onDecorationRegistered.fire(S)}return S}reset(){for(const D of this._decorations.values())D.dispose();this._decorations.clear()}*getDecorationsAtCell(D,S,U){var F,ce,te;let V=0,k=0;for(const O of this._decorations.getKeyIterator(S))V=null!==(F=O.options.x)&&void 0!==F?F:0,k=V+(null!==(ce=O.options.width)&&void 0!==ce?ce:1),D>=V&&D<k&&(!U||(null!==(te=O.options.layer)&&void 0!==te?te:"bottom")===U)&&(yield O)}forEachDecorationAtCell(D,S,U,F){this._decorations.forEachByKey(S,ce=>{var te,V,k;L=null!==(te=ce.options.x)&&void 0!==te?te:0,J=L+(null!==(V=ce.options.width)&&void 0!==V?V:1),D>=L&&D<J&&(!U||(null!==(k=ce.options.layer)&&void 0!==k?k:"bottom")===U)&&F(ce)})}};class w extends l.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return null===this._cachedBg&&(this._cachedBg=this.options.backgroundColor?P.css.toColor(this.options.backgroundColor):void 0),this._cachedBg}get foregroundColorRGB(){return null===this._cachedFg&&(this._cachedFg=this.options.foregroundColor?P.css.toColor(this.options.foregroundColor):void 0),this._cachedFg}constructor(D){super(),this.options=D,this.onRenderEmitter=this.register(new y.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new y.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=D.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.InstantiationService=g.ServiceCollection=void 0;const P=_(2585),y=_(8343);class l{constructor(...L){this._entries=new Map;for(const[J,N]of L)this.set(J,N)}set(L,J){const N=this._entries.get(L);return this._entries.set(L,J),N}forEach(L){for(const[J,N]of this._entries.entries())L(J,N)}has(L){return this._entries.has(L)}get(L){return this._entries.get(L)}}g.ServiceCollection=l,g.InstantiationService=class{constructor(){this._services=new l,this._services.set(P.IInstantiationService,this)}setService(R,L){this._services.set(R,L)}getService(R){return this._services.get(R)}createInstance(R,...L){const J=(0,y.getServiceDependencies)(R).sort((x,D)=>x.index-D.index),N=[];for(const x of J){const D=this._services.get(x.id);if(!D)throw new Error(`[createInstance] ${R.name} depends on UNKNOWN service ${x.id}.`);N.push(D)}const w=J.length>0?J[0].index:L.length;if(L.length!==w)throw new Error(`[createInstance] First service dependency of ${R.name} at position ${w+1} conflicts with ${L.length} static arguments`);return new R(...L,...N)}}},7866:function(f,g,_){var P=this&&this.__decorate||function(w,x,D,S){var U,F=arguments.length,ce=F<3?x:null===S?S=Object.getOwnPropertyDescriptor(x,D):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ce=Reflect.decorate(w,x,D,S);else for(var te=w.length-1;te>=0;te--)(U=w[te])&&(ce=(F<3?U(ce):F>3?U(x,D,ce):U(x,D))||ce);return F>3&&ce&&Object.defineProperty(x,D,ce),ce},y=this&&this.__param||function(w,x){return function(D,S){x(D,S,w)}};Object.defineProperty(g,"__esModule",{value:!0}),g.traceCall=g.setTraceLogger=g.LogService=void 0;const l=_(844),R=_(2585),L={trace:R.LogLevelEnum.TRACE,debug:R.LogLevelEnum.DEBUG,info:R.LogLevelEnum.INFO,warn:R.LogLevelEnum.WARN,error:R.LogLevelEnum.ERROR,off:R.LogLevelEnum.OFF};let J,N=g.LogService=class extends l.Disposable{get logLevel(){return this._logLevel}constructor(w){super(),this._optionsService=w,this._logLevel=R.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),J=this}_updateLogLevel(){this._logLevel=L[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(w){for(let x=0;x<w.length;x++)"function"==typeof w[x]&&(w[x]=w[x]())}_log(w,x,D){this._evalLazyOptionalParams(D),w.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+x,...D)}trace(w,...x){var D,S;this._logLevel<=R.LogLevelEnum.TRACE&&this._log(null!==(S=null===(D=this._optionsService.options.logger)||void 0===D?void 0:D.trace.bind(this._optionsService.options.logger))&&void 0!==S?S:console.log,w,x)}debug(w,...x){var D,S;this._logLevel<=R.LogLevelEnum.DEBUG&&this._log(null!==(S=null===(D=this._optionsService.options.logger)||void 0===D?void 0:D.debug.bind(this._optionsService.options.logger))&&void 0!==S?S:console.log,w,x)}info(w,...x){var D,S;this._logLevel<=R.LogLevelEnum.INFO&&this._log(null!==(S=null===(D=this._optionsService.options.logger)||void 0===D?void 0:D.info.bind(this._optionsService.options.logger))&&void 0!==S?S:console.info,w,x)}warn(w,...x){var D,S;this._logLevel<=R.LogLevelEnum.WARN&&this._log(null!==(S=null===(D=this._optionsService.options.logger)||void 0===D?void 0:D.warn.bind(this._optionsService.options.logger))&&void 0!==S?S:console.warn,w,x)}error(w,...x){var D,S;this._logLevel<=R.LogLevelEnum.ERROR&&this._log(null!==(S=null===(D=this._optionsService.options.logger)||void 0===D?void 0:D.error.bind(this._optionsService.options.logger))&&void 0!==S?S:console.error,w,x)}};g.LogService=N=P([y(0,R.IOptionsService)],N),g.setTraceLogger=function(w){J=w},g.traceCall=function(w,x,D){if("function"!=typeof D.value)throw new Error("not supported");const S=D.value;D.value=function(...U){if(J.logLevel!==R.LogLevelEnum.TRACE)return S.apply(this,U);J.trace(`GlyphRenderer#${S.name}(${U.map(ce=>JSON.stringify(ce)).join(", ")})`);const F=S.apply(this,U);return J.trace(`GlyphRenderer#${S.name} return`,F),F}}},7302:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.OptionsService=g.DEFAULT_OPTIONS=void 0;const P=_(8460),y=_(844),l=_(6114);g.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:l.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const R=["normal","bold","100","200","300","400","500","600","700","800","900"];g.OptionsService=class L extends y.Disposable{constructor(N){super(),this._onOptionChange=this.register(new P.EventEmitter),this.onOptionChange=this._onOptionChange.event;const w=Object.assign({},g.DEFAULT_OPTIONS);for(const x in N)if(x in w)try{w[x]=this._sanitizeAndValidateOption(x,N[x])}catch(D){console.error(D)}this.rawOptions=w,this.options=Object.assign({},w),this._setupOptions()}onSpecificOptionChange(N,w){return this.onOptionChange(x=>{x===N&&w(this.rawOptions[N])})}onMultipleOptionChange(N,w){return this.onOptionChange(x=>{-1!==N.indexOf(x)&&w()})}_setupOptions(){const N=x=>{if(!(x in g.DEFAULT_OPTIONS))throw new Error(`No option with key "${x}"`);return this.rawOptions[x]},w=(x,D)=>{if(!(x in g.DEFAULT_OPTIONS))throw new Error(`No option with key "${x}"`);D=this._sanitizeAndValidateOption(x,D),this.rawOptions[x]!==D&&(this.rawOptions[x]=D,this._onOptionChange.fire(x))};for(const x in this.rawOptions){const D={get:N.bind(this,x),set:w.bind(this,x)};Object.defineProperty(this.options,x,D)}}_sanitizeAndValidateOption(N,w){switch(N){case"cursorStyle":if(w||(w=g.DEFAULT_OPTIONS[N]),"block"!==(x=w)&&"underline"!==x&&"bar"!==x)throw new Error(`"${w}" is not a valid value for ${N}`);break;case"wordSeparator":w||(w=g.DEFAULT_OPTIONS[N]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof w&&1<=w&&w<=1e3)break;w=R.includes(w)?w:g.DEFAULT_OPTIONS[N];break;case"cursorWidth":w=Math.floor(w);case"lineHeight":case"tabStopWidth":if(w<1)throw new Error(`${N} cannot be less than 1, value: ${w}`);break;case"minimumContrastRatio":w=Math.max(1,Math.min(21,Math.round(10*w)/10));break;case"scrollback":if((w=Math.min(w,4294967295))<0)throw new Error(`${N} cannot be less than 0, value: ${w}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(w<=0)throw new Error(`${N} cannot be less than or equal to 0, value: ${w}`);break;case"rows":case"cols":if(!w&&0!==w)throw new Error(`${N} must be numeric, value: ${w}`);break;case"windowsPty":w=null!=w?w:{}}var x;return w}}},2660:function(f,g,_){var P=this&&this.__decorate||function(L,J,N,w){var x,D=arguments.length,S=D<3?J:null===w?w=Object.getOwnPropertyDescriptor(J,N):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)S=Reflect.decorate(L,J,N,w);else for(var U=L.length-1;U>=0;U--)(x=L[U])&&(S=(D<3?x(S):D>3?x(J,N,S):x(J,N))||S);return D>3&&S&&Object.defineProperty(J,N,S),S},y=this&&this.__param||function(L,J){return function(N,w){J(N,w,L)}};Object.defineProperty(g,"__esModule",{value:!0}),g.OscLinkService=void 0;const l=_(2585);let R=g.OscLinkService=class{constructor(L){this._bufferService=L,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(L){const J=this._bufferService.buffer;if(void 0===L.id){const U=J.addMarker(J.ybase+J.y),F={data:L,id:this._nextId++,lines:[U]};return U.onDispose(()=>this._removeMarkerFromLink(F,U)),this._dataByLinkId.set(F.id,F),F.id}const N=L,w=this._getEntryIdKey(N),x=this._entriesWithId.get(w);if(x)return this.addLineToLink(x.id,J.ybase+J.y),x.id;const D=J.addMarker(J.ybase+J.y),S={id:this._nextId++,key:this._getEntryIdKey(N),data:N,lines:[D]};return D.onDispose(()=>this._removeMarkerFromLink(S,D)),this._entriesWithId.set(S.key,S),this._dataByLinkId.set(S.id,S),S.id}addLineToLink(L,J){const N=this._dataByLinkId.get(L);if(N&&N.lines.every(w=>w.line!==J)){const w=this._bufferService.buffer.addMarker(J);N.lines.push(w),w.onDispose(()=>this._removeMarkerFromLink(N,w))}}getLinkData(L){var J;return null===(J=this._dataByLinkId.get(L))||void 0===J?void 0:J.data}_getEntryIdKey(L){return`${L.id};;${L.uri}`}_removeMarkerFromLink(L,J){const N=L.lines.indexOf(J);-1!==N&&(L.lines.splice(N,1),0===L.lines.length&&(void 0!==L.data.id&&this._entriesWithId.delete(L.key),this._dataByLinkId.delete(L.id)))}};g.OscLinkService=R=P([y(0,l.IBufferService)],R)},8343:(f,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.createDecorator=g.getServiceDependencies=g.serviceRegistry=void 0;const _="di$target",P="di$dependencies";g.serviceRegistry=new Map,g.getServiceDependencies=function(y){return y[P]||[]},g.createDecorator=function(y){if(g.serviceRegistry.has(y))return g.serviceRegistry.get(y);const l=function(R,L,J){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");var N,w,x;N=l,x=J,(w=R)[_]===w?w[P].push({id:N,index:x}):(w[P]=[{id:N,index:x}],w[_]=w)};return l.toString=()=>y,g.serviceRegistry.set(y,l),l}},2585:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.IDecorationService=g.IUnicodeService=g.IOscLinkService=g.IOptionsService=g.ILogService=g.LogLevelEnum=g.IInstantiationService=g.ICharsetService=g.ICoreService=g.ICoreMouseService=g.IBufferService=void 0;const P=_(8343);var y,l;g.IBufferService=(0,P.createDecorator)("BufferService"),g.ICoreMouseService=(0,P.createDecorator)("CoreMouseService"),g.ICoreService=(0,P.createDecorator)("CoreService"),g.ICharsetService=(0,P.createDecorator)("CharsetService"),g.IInstantiationService=(0,P.createDecorator)("InstantiationService"),(l=y||(g.LogLevelEnum=y={}))[l.TRACE=0]="TRACE",l[l.DEBUG=1]="DEBUG",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.OFF=5]="OFF",g.ILogService=(0,P.createDecorator)("LogService"),g.IOptionsService=(0,P.createDecorator)("OptionsService"),g.IOscLinkService=(0,P.createDecorator)("OscLinkService"),g.IUnicodeService=(0,P.createDecorator)("UnicodeService"),g.IDecorationService=(0,P.createDecorator)("DecorationService")},1480:(f,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.UnicodeService=void 0;const P=_(8460),y=_(225);g.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new P.EventEmitter,this.onChange=this._onChange.event;const l=new y.UnicodeV6;this.register(l),this._active=l.version,this._activeProvider=l}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(l){if(!this._providers[l])throw new Error(`unknown Unicode version "${l}"`);this._active=l,this._activeProvider=this._providers[l],this._onChange.fire(l)}register(l){this._providers[l.version]=l}wcwidth(l){return this._activeProvider.wcwidth(l)}getStringCellWidth(l){let R=0;const L=l.length;for(let J=0;J<L;++J){let N=l.charCodeAt(J);if(55296<=N&&N<=56319){if(++J>=L)return R+this.wcwidth(N);const w=l.charCodeAt(J);56320<=w&&w<=57343?N=1024*(N-55296)+w-56320+65536:R+=this.wcwidth(w)}R+=this.wcwidth(N)}return R}}}},b={};function e(f){var g=b[f];if(void 0!==g)return g.exports;var _=b[f]={exports:{}};return ht[f].call(_.exports,_,_.exports,e),_.exports}var a={};return(()=>{var f=a;Object.defineProperty(f,"__esModule",{value:!0}),f.Terminal=void 0;const g=e(9042),_=e(3236),P=e(844),y=e(5741),l=e(8285),R=e(7975),L=e(7090),J=["cols","rows"];f.Terminal=class N extends P.Disposable{constructor(x){super(),this._core=this.register(new _.Terminal(x)),this._addonManager=this.register(new y.AddonManager),this._publicOptions=Object.assign({},this._core.options);const D=U=>this._core.options[U],S=(U,F)=>{this._checkReadonlyOptions(U),this._core.options[U]=F};for(const U in this._core.options){const F={get:D.bind(this,U),set:S.bind(this,U)};Object.defineProperty(this._publicOptions,U,F)}}_checkReadonlyOptions(x){if(J.includes(x))throw new Error(`Option "${x}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new R.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new L.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new l.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const x=this._core.coreService.decPrivateModes;let D="none";switch(this._core.coreMouseService.activeProtocol){case"X10":D="x10";break;case"VT200":D="vt200";break;case"DRAG":D="drag";break;case"ANY":D="any"}return{applicationCursorKeysMode:x.applicationCursorKeys,applicationKeypadMode:x.applicationKeypad,bracketedPasteMode:x.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:D,originMode:x.origin,reverseWraparoundMode:x.reverseWraparound,sendFocusMode:x.sendFocus,wraparoundMode:x.wraparound}}get options(){return this._publicOptions}set options(x){for(const D in x)this._publicOptions[D]=x[D]}blur(){this._core.blur()}focus(){this._core.focus()}resize(x,D){this._verifyIntegers(x,D),this._core.resize(x,D)}open(x){this._core.open(x)}attachCustomKeyEventHandler(x){this._core.attachCustomKeyEventHandler(x)}registerLinkProvider(x){return this._core.registerLinkProvider(x)}registerCharacterJoiner(x){return this._checkProposedApi(),this._core.registerCharacterJoiner(x)}deregisterCharacterJoiner(x){this._checkProposedApi(),this._core.deregisterCharacterJoiner(x)}registerMarker(x=0){return this._verifyIntegers(x),this._core.registerMarker(x)}registerDecoration(x){var D,S,U;return this._checkProposedApi(),this._verifyPositiveIntegers(null!==(D=x.x)&&void 0!==D?D:0,null!==(S=x.width)&&void 0!==S?S:0,null!==(U=x.height)&&void 0!==U?U:0),this._core.registerDecoration(x)}hasSelection(){return this._core.hasSelection()}select(x,D,S){this._verifyIntegers(x,D,S),this._core.select(x,D,S)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(x,D){this._verifyIntegers(x,D),this._core.selectLines(x,D)}dispose(){super.dispose()}scrollLines(x){this._verifyIntegers(x),this._core.scrollLines(x)}scrollPages(x){this._verifyIntegers(x),this._core.scrollPages(x)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(x){this._verifyIntegers(x),this._core.scrollToLine(x)}clear(){this._core.clear()}write(x,D){this._core.write(x,D)}writeln(x,D){this._core.write(x),this._core.write("\r\n",D)}paste(x){this._core.paste(x)}refresh(x,D){this._verifyIntegers(x,D),this._core.refresh(x,D)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(x){this._addonManager.loadAddon(this,x)}static get strings(){return g}_verifyIntegers(...x){for(const D of x)if(D===1/0||isNaN(D)||D%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...x){for(const D of x)if(D&&(D===1/0||isNaN(D)||D%1!=0||D<0))throw new Error("This API only accepts positive integers")}}})(),a})())()},5987:(mn,ht,b)=>{"use strict";function l(Y,G,he,j){return new(he||(he=Promise))(function(K,z){function oe(Ke){try{Ae(j.next(Ke))}catch(be){z(be)}}function Te(Ke){try{Ae(j.throw(Ke))}catch(be){z(be)}}function Ae(Ke){Ke.done?K(Ke.value):function Q(K){return K instanceof he?K:new he(function(z){z(K)})}(Ke.value).then(oe,Te)}Ae((j=j.apply(Y,G||[])).next())})}function U(Y){return this instanceof U?(this.v=Y,this):new U(Y)}function F(Y,G,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,j=he.apply(Y,G||[]),K=[];return Q={},z("next"),z("throw"),z("return"),Q[Symbol.asyncIterator]=function(){return this},Q;function z(Qe){j[Qe]&&(Q[Qe]=function(X){return new Promise(function(xe,we){K.push([Qe,X,xe,we])>1||oe(Qe,X)})})}function oe(Qe,X){try{!function Te(Qe){Qe.value instanceof U?Promise.resolve(Qe.value.v).then(Ae,Ke):be(K[0][2],Qe)}(j[Qe](X))}catch(xe){be(K[0][3],xe)}}function Ae(Qe){oe("next",Qe)}function Ke(Qe){oe("throw",Qe)}function be(Qe,X){Qe(X),K.shift(),K.length&&oe(K[0][0],K[0][1])}}function te(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,G=Y[Symbol.asyncIterator];return G?G.call(Y):(Y=function N(Y){var G="function"==typeof Symbol&&Symbol.iterator,he=G&&Y[G],j=0;if(he)return he.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&j>=Y.length&&(Y=void 0),{value:Y&&Y[j++],done:!Y}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),he={},j("next"),j("throw"),j("return"),he[Symbol.asyncIterator]=function(){return this},he);function j(K){he[K]=Y[K]&&function(z){return new Promise(function(oe,Te){!function Q(K,z,oe,Te){Promise.resolve(Te).then(function(Ae){K({value:Ae,done:oe})},z)}(oe,Te,(z=Y[K](z)).done,z.value)})}}}b.d(ht,{FC:()=>F,KL:()=>te,mG:()=>l,qq:()=>U})},655:(mn,ht,b)=>{"use strict";function g(G,he){var j={};for(var Q in G)Object.prototype.hasOwnProperty.call(G,Q)&&he.indexOf(Q)<0&&(j[Q]=G[Q]);if(null!=G&&"function"==typeof Object.getOwnPropertySymbols){var K=0;for(Q=Object.getOwnPropertySymbols(G);K<Q.length;K++)he.indexOf(Q[K])<0&&Object.prototype.propertyIsEnumerable.call(G,Q[K])&&(j[Q[K]]=G[Q[K]])}return j}function _(G,he,j,Q){var oe,K=arguments.length,z=K<3?he:null===Q?Q=Object.getOwnPropertyDescriptor(he,j):Q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)z=Reflect.decorate(G,he,j,Q);else for(var Te=G.length-1;Te>=0;Te--)(oe=G[Te])&&(z=(K<3?oe(z):K>3?oe(he,j,z):oe(he,j))||z);return K>3&&z&&Object.defineProperty(he,j,z),z}function l(G,he,j,Q){return new(j||(j=Promise))(function(z,oe){function Te(be){try{Ke(Q.next(be))}catch(Qe){oe(Qe)}}function Ae(be){try{Ke(Q.throw(be))}catch(Qe){oe(Qe)}}function Ke(be){be.done?z(be.value):function K(z){return z instanceof j?z:new j(function(oe){oe(z)})}(be.value).then(Te,Ae)}Ke((Q=Q.apply(G,he||[])).next())})}b.d(ht,{_T:()=>g,gn:()=>_,mG:()=>l})},1777:(mn,ht,b)=>{"use strict";b.d(ht,{EY:()=>S,IO:()=>D,LC:()=>a,SB:()=>R,X$:()=>g,ZE:()=>ce,ZN:()=>F,_7:()=>x,_j:()=>e,eR:()=>J,jt:()=>_,k1:()=>te,l3:()=>f,oB:()=>l,oQ:()=>N,pV:()=>w,vP:()=>y});class e{}class a{}const f="*";function g(V,k){return{type:7,name:V,definitions:k,options:{}}}function _(V,k=null){return{type:4,styles:k,timings:V}}function y(V,k=null){return{type:2,steps:V,options:k}}function l(V){return{type:6,styles:V,offset:null}}function R(V,k,O){return{type:0,name:V,styles:k,options:O}}function J(V,k,O=null){return{type:1,expr:V,animation:k,options:O}}function N(V,k=null){return{type:8,animation:V,options:k}}function w(V=null){return{type:9,options:V}}function x(V,k=null){return{type:10,animation:V,options:k}}function D(V,k,O=null){return{type:11,selector:V,animation:k,options:O}}function S(V,k){return{type:12,timings:V,animation:k}}function U(V){Promise.resolve().then(V)}class F{constructor(k=0,O=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=k+O}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(k=>k()),this._onDoneFns=[])}onStart(k){this._originalOnStartFns.push(k),this._onStartFns.push(k)}onDone(k){this._originalOnDoneFns.push(k),this._onDoneFns.push(k)}onDestroy(k){this._onDestroyFns.push(k)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){U(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(k=>k()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(k=>k()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(k){this._position=this.totalTime?k*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(k){const O="start"==k?this._onStartFns:this._onDoneFns;O.forEach($=>$()),O.length=0}}class ce{constructor(k){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=k;let O=0,$=0,ue=0;const q=this.players.length;0==q?U(()=>this._onFinish()):this.players.forEach(Y=>{Y.onDone(()=>{++O==q&&this._onFinish()}),Y.onDestroy(()=>{++$==q&&this._onDestroy()}),Y.onStart(()=>{++ue==q&&this._onStart()})}),this.totalTime=this.players.reduce((Y,G)=>Math.max(Y,G.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(k=>k()),this._onDoneFns=[])}init(){this.players.forEach(k=>k.init())}onStart(k){this._onStartFns.push(k)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(k=>k()),this._onStartFns=[])}onDone(k){this._onDoneFns.push(k)}onDestroy(k){this._onDestroyFns.push(k)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(k=>k.play())}pause(){this.players.forEach(k=>k.pause())}restart(){this.players.forEach(k=>k.restart())}finish(){this._onFinish(),this.players.forEach(k=>k.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(k=>k.destroy()),this._onDestroyFns.forEach(k=>k()),this._onDestroyFns=[])}reset(){this.players.forEach(k=>k.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(k){const O=k*this.totalTime;this.players.forEach($=>{const ue=$.totalTime?Math.min(1,O/$.totalTime):1;$.setPosition(ue)})}getPosition(){const k=this.players.reduce((O,$)=>null===O||$.totalTime>O.totalTime?$:O,null);return null!=k?k.getPosition():0}beforeDestroy(){this.players.forEach(k=>{k.beforeDestroy&&k.beforeDestroy()})}triggerCallback(k){const O="start"==k?this._onStartFns:this._onDoneFns;O.forEach($=>$()),O.length=0}}const te="!"},226:(mn,ht,b)=>{"use strict";b.d(ht,{Is:()=>y,vT:()=>R});var e=b(5e3),a=b(9808);const f=new e.OlP("cdk-dir-doc",{providedIn:"root",factory:function g(){return(0,e.f3M)(a.K0)}}),_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let y=(()=>{class L{constructor(N){if(this.value="ltr",this.change=new e.vpe,N){const x=N.documentElement?N.documentElement.dir:null;this.value=function P(L){const J=(null==L?void 0:L.toLowerCase())||"";return"auto"===J&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?_.test(navigator.language)?"rtl":"ltr":"rtl"===J?"rtl":"ltr"}((N.body?N.body.dir:null)||x||"ltr")}}ngOnDestroy(){this.change.complete()}}return L.\u0275fac=function(N){return new(N||L)(e.LFG(f,8))},L.\u0275prov=e.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})(),R=(()=>{class L{}return L.\u0275fac=function(N){return new(N||L)},L.\u0275mod=e.oAB({type:L}),L.\u0275inj=e.cJS({}),L})()},3191:(mn,ht,b)=>{"use strict";b.d(ht,{Eq:()=>_,Ig:()=>a,fI:()=>y,su:()=>f});var e=b(5e3);function a(R){return null!=R&&"false"!=`${R}`}function f(R,L=0){return function g(R){return!isNaN(parseFloat(R))&&!isNaN(Number(R))}(R)?Number(R):L}function _(R){return Array.isArray(R)?R:[R]}function y(R){return R instanceof e.SBq?R.nativeElement:R}},5573:(mn,ht,b)=>{"use strict";b.d(ht,{Zt:()=>wn,Wj:()=>mt,Fd:()=>xo,_t:()=>Hn,bA:()=>fa,EA:()=>Na});var e=b(5e3),a=b(9808),f=b(925),g=b(3191),So=b(7579),Es=b(727),Di=b(7445),$o=b(6406),Wo=b(9751),or=b(6451),Ho=b(2722),wo=b(8675),Ri=b(4004),sr=b(5698),ma=b(8505),Qn=b(3900),Mi=b(6731),rr=b(226);function Gr(Yt,Re,Ze){for(let ft in Re)if(Re.hasOwnProperty(ft)){const Lt=Re[ft];Lt?Yt.setProperty(ft,Lt,null!=Ze&&Ze.has(ft)?"important":""):Yt.removeProperty(ft)}return Yt}function eo(Yt,Re){const Ze=Re?"":"none";Gr(Yt.style,{"touch-action":Re?"":"none","-webkit-user-drag":Re?"":"none","-webkit-tap-highlight-color":Re?"":"transparent","user-select":Ze,"-ms-user-select":Ze,"-webkit-user-select":Ze,"-moz-user-select":Ze})}function ta(Yt,Re,Ze){Gr(Yt.style,{position:Re?"":"fixed",top:Re?"":"0",opacity:Re?"":"0",left:Re?"":"-999em"},Ze)}function ar(Yt,Re){return Re&&"none"!=Re?Yt+" "+Re:Yt}function Ss(Yt){const Re=Yt.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(Yt)*Re}function fs(Yt,Re){return Yt.getPropertyValue(Re).split(",").map(ft=>ft.trim())}function Zs(Yt){const Re=Yt.getBoundingClientRect();return{top:Re.top,right:Re.right,bottom:Re.bottom,left:Re.left,width:Re.width,height:Re.height,x:Re.x,y:Re.y}}function Wr(Yt,Re,Ze){const{top:ft,bottom:Lt,left:ln,right:Tn}=Yt;return Ze>=ft&&Ze<=Lt&&Re>=ln&&Re<=Tn}function nt(Yt,Re,Ze){Yt.top+=Re,Yt.bottom=Yt.top+Yt.height,Yt.left+=Ze,Yt.right=Yt.left+Yt.width}function Be(Yt,Re,Ze,ft){const{top:Lt,right:ln,bottom:Tn,left:Mn,width:Xn,height:ti}=Yt,Ai=Xn*Re,ji=ti*Re;return ft>Lt-ji&&ft<Tn+ji&&Ze>Mn-Ai&&Ze<ln+Ai}class Ee{constructor(Re){this._document=Re,this.positions=new Map}clear(){this.positions.clear()}cache(Re){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),Re.forEach(Ze=>{this.positions.set(Ze,{scrollPosition:{top:Ze.scrollTop,left:Ze.scrollLeft},clientRect:Zs(Ze)})})}handleScroll(Re){const Ze=(0,f.sA)(Re),ft=this.positions.get(Ze);if(!ft)return null;const Lt=ft.scrollPosition;let ln,Tn;if(Ze===this._document){const ti=this.getViewportScrollPosition();ln=ti.top,Tn=ti.left}else ln=Ze.scrollTop,Tn=Ze.scrollLeft;const Mn=Lt.top-ln,Xn=Lt.left-Tn;return this.positions.forEach((ti,Ai)=>{ti.clientRect&&Ze!==Ai&&Ze.contains(Ai)&&nt(ti.clientRect,Mn,Xn)}),Lt.top=ln,Lt.left=Tn,{top:Mn,left:Xn}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function kt(Yt){const Re=Yt.cloneNode(!0),Ze=Re.querySelectorAll("[id]"),ft=Yt.nodeName.toLowerCase();Re.removeAttribute("id");for(let Lt=0;Lt<Ze.length;Lt++)Ze[Lt].removeAttribute("id");return"canvas"===ft?yo(Yt,Re):("input"===ft||"select"===ft||"textarea"===ft)&&Qi(Yt,Re),On("canvas",Yt,Re,yo),On("input, textarea, select",Yt,Re,Qi),Re}function On(Yt,Re,Ze,ft){const Lt=Re.querySelectorAll(Yt);if(Lt.length){const ln=Ze.querySelectorAll(Yt);for(let Tn=0;Tn<Lt.length;Tn++)ft(Lt[Tn],ln[Tn])}}let mi=0;function Qi(Yt,Re){"file"!==Re.type&&(Re.value=Yt.value),"radio"===Re.type&&Re.name&&(Re.name=`mat-clone-${Re.name}-${mi++}`)}function yo(Yt,Re){const Ze=Re.getContext("2d");if(Ze)try{Ze.drawImage(Yt,0,0)}catch(ft){}}const Oo=(0,f.i$)({passive:!0}),cs=(0,f.i$)({passive:!1}),lr=new Set(["position"]);class xr{constructor(Re,Ze,ft,Lt,ln,Tn){this._config=Ze,this._document=ft,this._ngZone=Lt,this._viewportRuler=ln,this._dragDropRegistry=Tn,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new So.x,this._pointerMoveSubscription=Es.w0.EMPTY,this._pointerUpSubscription=Es.w0.EMPTY,this._scrollSubscription=Es.w0.EMPTY,this._resizeSubscription=Es.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new So.x,this.started=new So.x,this.released=new So.x,this.ended=new So.x,this.entered=new So.x,this.exited=new So.x,this.dropped=new So.x,this.moved=this._moveEvents,this._pointerDown=Mn=>{if(this.beforeStarted.next(),this._handles.length){const Xn=this._getTargetHandle(Mn);Xn&&!this._disabledHandles.has(Xn)&&!this.disabled&&this._initializeDragSequence(Xn,Mn)}else this.disabled||this._initializeDragSequence(this._rootElement,Mn)},this._pointerMove=Mn=>{const Xn=this._getPointerPositionOnPage(Mn);if(!this._hasStartedDragging){if(Math.abs(Xn.x-this._pickupPositionOnPage.x)+Math.abs(Xn.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const zo=Date.now()>=this._dragStartTime+this._getDragStartDelay(Mn),mo=this._dropContainer;if(!zo)return void this._endDragSequence(Mn);(!mo||!mo.isDragging()&&!mo.isReceiving())&&(Mn.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(Mn)))}return}Mn.preventDefault();const ti=this._getConstrainedPointerPosition(Xn);if(this._hasMoved=!0,this._lastKnownPointerPosition=Xn,this._updatePointerDirectionDelta(ti),this._dropContainer)this._updateActiveDropContainer(ti,Xn);else{const Ai=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,ji=this._activeTransform;ji.x=ti.x-Ai.x+this._passiveTransform.x,ji.y=ti.y-Ai.y+this._passiveTransform.y,this._applyRootElementTransform(ji.x,ji.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:ti,event:Mn,distance:this._getDragDistance(ti),delta:this._pointerDirectionDelta})})},this._pointerUp=Mn=>{this._endDragSequence(Mn)},this._nativeDragStart=Mn=>{if(this._handles.length){const Xn=this._getTargetHandle(Mn);Xn&&!this._disabledHandles.has(Xn)&&!this.disabled&&Mn.preventDefault()}else this.disabled||Mn.preventDefault()},this.withRootElement(Re).withParent(Ze.parentDragRef||null),this._parentPositions=new Ee(ft),Tn.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(Re){const Ze=(0,g.Ig)(Re);Ze!==this._disabled&&(this._disabled=Ze,this._toggleNativeDragInteractions(),this._handles.forEach(ft=>eo(ft,Ze)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(Re){this._handles=Re.map(ft=>(0,g.fI)(ft)),this._handles.forEach(ft=>eo(ft,this.disabled)),this._toggleNativeDragInteractions();const Ze=new Set;return this._disabledHandles.forEach(ft=>{this._handles.indexOf(ft)>-1&&Ze.add(ft)}),this._disabledHandles=Ze,this}withPreviewTemplate(Re){return this._previewTemplate=Re,this}withPlaceholderTemplate(Re){return this._placeholderTemplate=Re,this}withRootElement(Re){const Ze=(0,g.fI)(Re);return Ze!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{Ze.addEventListener("mousedown",this._pointerDown,cs),Ze.addEventListener("touchstart",this._pointerDown,Oo),Ze.addEventListener("dragstart",this._nativeDragStart,cs)}),this._initialTransform=void 0,this._rootElement=Ze),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(Re){return this._boundaryElement=Re?(0,g.fI)(Re):null,this._resizeSubscription.unsubscribe(),Re&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(Re){return this._parentDragRef=Re,this}dispose(){var Re,Ze;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(Re=this._rootElement)||void 0===Re||Re.remove()),null===(Ze=this._anchor)||void 0===Ze||Ze.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(Re){!this._disabledHandles.has(Re)&&this._handles.indexOf(Re)>-1&&(this._disabledHandles.add(Re),eo(Re,!0))}enableHandle(Re){this._disabledHandles.has(Re)&&(this._disabledHandles.delete(Re),eo(Re,this.disabled))}withDirection(Re){return this._direction=Re,this}_withDropContainer(Re){this._dropContainer=Re}getFreeDragPosition(){const Re=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:Re.x,y:Re.y}}setFreeDragPosition(Re){return this._activeTransform={x:0,y:0},this._passiveTransform.x=Re.x,this._passiveTransform.y=Re.y,this._dropContainer||this._applyRootElementTransform(Re.x,Re.y),this}withPreviewContainer(Re){return this._previewContainer=Re,this}_sortFromLastPointerPosition(){const Re=this._lastKnownPointerPosition;Re&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(Re),Re)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var Re,Ze;null===(Re=this._preview)||void 0===Re||Re.remove(),null===(Ze=this._previewRef)||void 0===Ze||Ze.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var Re,Ze;null===(Re=this._placeholder)||void 0===Re||Re.remove(),null===(Ze=this._placeholderRef)||void 0===Ze||Ze.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(Re){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:Re}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(Re),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const Ze=this._getPointerPositionOnPage(Re);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(Ze),dropPoint:Ze,event:Re})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(Re){er(Re)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const Ze=this._dropContainer;if(Ze){const ft=this._rootElement,Lt=ft.parentNode,ln=this._placeholder=this._createPlaceholderElement(),Tn=this._anchor=this._anchor||this._document.createComment(""),Mn=this._getShadowRoot();Lt.insertBefore(Tn,ft),this._initialTransform=ft.style.transform||"",this._preview=this._createPreviewElement(),ta(ft,!1,lr),this._document.body.appendChild(Lt.replaceChild(ln,ft)),this._getPreviewInsertionPoint(Lt,Mn).appendChild(this._preview),this.started.next({source:this,event:Re}),Ze.start(),this._initialContainer=Ze,this._initialIndex=Ze.getItemIndex(this)}else this.started.next({source:this,event:Re}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(Ze?Ze.getScrollableParents():[])}_initializeDragSequence(Re,Ze){this._parentDragRef&&Ze.stopPropagation();const ft=this.isDragging(),Lt=er(Ze),ln=!Lt&&0!==Ze.button,Tn=this._rootElement,Mn=(0,f.sA)(Ze),Xn=!Lt&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),ti=Lt?function vs(Yt){const Re=Yt.touches&&Yt.touches[0]||Yt.changedTouches&&Yt.changedTouches[0];return!(!Re||-1!==Re.identifier||null!=Re.radiusX&&1!==Re.radiusX||null!=Re.radiusY&&1!==Re.radiusY)}(Ze):function ir(Yt){return 0===Yt.buttons||0===Yt.offsetX&&0===Yt.offsetY}(Ze);if(Mn&&Mn.draggable&&"mousedown"===Ze.type&&Ze.preventDefault(),ft||ln||Xn||ti)return;if(this._handles.length){const Vo=Tn.style;this._rootElementTapHighlight=Vo.webkitTapHighlightColor||"",Vo.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Vo=>this._updateOnScroll(Vo)),this._boundaryElement&&(this._boundaryRect=Zs(this._boundaryElement));const Ai=this._previewTemplate;this._pickupPositionInElement=Ai&&Ai.template&&!Ai.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,Re,Ze);const ji=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(Ze);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:ji.x,y:ji.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,Ze)}_cleanupDragArtifacts(Re){ta(this._rootElement,!0,lr),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const Ze=this._dropContainer,ft=Ze.getItemIndex(this),Lt=this._getPointerPositionOnPage(Re),ln=this._getDragDistance(Lt),Tn=Ze._isOverContainer(Lt.x,Lt.y);this.ended.next({source:this,distance:ln,dropPoint:Lt,event:Re}),this.dropped.next({item:this,currentIndex:ft,previousIndex:this._initialIndex,container:Ze,previousContainer:this._initialContainer,isPointerOverContainer:Tn,distance:ln,dropPoint:Lt,event:Re}),Ze.drop(this,ft,this._initialIndex,this._initialContainer,Tn,ln,Lt,Re),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:Re,y:Ze},{x:ft,y:Lt}){let ln=this._initialContainer._getSiblingContainerFromPosition(this,Re,Ze);!ln&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(Re,Ze)&&(ln=this._initialContainer),ln&&ln!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=ln,this._dropContainer.enter(this,Re,Ze,ln===this._initialContainer&&ln.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:ln,currentIndex:ln.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(ft,Lt),this._dropContainer._sortItem(this,Re,Ze,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(Re,Ze):this._applyPreviewTransform(Re-this._pickupPositionInElement.x,Ze-this._pickupPositionInElement.y))}_createPreviewElement(){const Re=this._previewTemplate,Ze=this.previewClass,ft=Re?Re.template:null;let Lt;if(ft&&Re){const ln=Re.matchSize?this._initialClientRect:null,Tn=Re.viewContainer.createEmbeddedView(ft,Re.context);Tn.detectChanges(),Lt=Pr(Tn,this._document),this._previewRef=Tn,Re.matchSize?cr(Lt,ln):Lt.style.transform=Ir(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else Lt=kt(this._rootElement),cr(Lt,this._initialClientRect),this._initialTransform&&(Lt.style.transform=this._initialTransform);return Gr(Lt.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},lr),eo(Lt,!1),Lt.classList.add("cdk-drag-preview"),Lt.setAttribute("dir",this._direction),Ze&&(Array.isArray(Ze)?Ze.forEach(ln=>Lt.classList.add(ln)):Lt.classList.add(Ze)),Lt}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const Re=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(Re.left,Re.top);const Ze=function ca(Yt){const Re=getComputedStyle(Yt),Ze=fs(Re,"transition-property"),ft=Ze.find(Mn=>"transform"===Mn||"all"===Mn);if(!ft)return 0;const Lt=Ze.indexOf(ft),ln=fs(Re,"transition-duration"),Tn=fs(Re,"transition-delay");return Ss(ln[Lt])+Ss(Tn[Lt])}(this._preview);return 0===Ze?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(ft=>{const Lt=Tn=>{var Mn;(!Tn||(0,f.sA)(Tn)===this._preview&&"transform"===Tn.propertyName)&&(null===(Mn=this._preview)||void 0===Mn||Mn.removeEventListener("transitionend",Lt),ft(),clearTimeout(ln))},ln=setTimeout(Lt,1.5*Ze);this._preview.addEventListener("transitionend",Lt)}))}_createPlaceholderElement(){const Re=this._placeholderTemplate,Ze=Re?Re.template:null;let ft;return Ze?(this._placeholderRef=Re.viewContainer.createEmbeddedView(Ze,Re.context),this._placeholderRef.detectChanges(),ft=Pr(this._placeholderRef,this._document)):ft=kt(this._rootElement),ft.style.pointerEvents="none",ft.classList.add("cdk-drag-placeholder"),ft}_getPointerPositionInElement(Re,Ze,ft){const Lt=Ze===this._rootElement?null:Ze,ln=Lt?Lt.getBoundingClientRect():Re,Tn=er(ft)?ft.targetTouches[0]:ft,Mn=this._getViewportScrollPosition();return{x:ln.left-Re.left+(Tn.pageX-ln.left-Mn.left),y:ln.top-Re.top+(Tn.pageY-ln.top-Mn.top)}}_getPointerPositionOnPage(Re){const Ze=this._getViewportScrollPosition(),ft=er(Re)?Re.touches[0]||Re.changedTouches[0]||{pageX:0,pageY:0}:Re,Lt=ft.pageX-Ze.left,ln=ft.pageY-Ze.top;if(this._ownerSVGElement){const Tn=this._ownerSVGElement.getScreenCTM();if(Tn){const Mn=this._ownerSVGElement.createSVGPoint();return Mn.x=Lt,Mn.y=ln,Mn.matrixTransform(Tn.inverse())}}return{x:Lt,y:ln}}_getConstrainedPointerPosition(Re){const Ze=this._dropContainer?this._dropContainer.lockAxis:null;let{x:ft,y:Lt}=this.constrainPosition?this.constrainPosition(Re,this,this._initialClientRect,this._pickupPositionInElement):Re;if("x"===this.lockAxis||"x"===Ze?Lt=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===Ze)&&(ft=this._pickupPositionOnPage.x),this._boundaryRect){const{x:ln,y:Tn}=this._pickupPositionInElement,Mn=this._boundaryRect,{width:Xn,height:ti}=this._getPreviewRect(),Ai=Mn.top+Tn,ji=Mn.bottom-(ti-Tn);ft=Or(ft,Mn.left+ln,Mn.right-(Xn-ln)),Lt=Or(Lt,Ai,ji)}return{x:ft,y:Lt}}_updatePointerDirectionDelta(Re){const{x:Ze,y:ft}=Re,Lt=this._pointerDirectionDelta,ln=this._pointerPositionAtLastDirectionChange,Tn=Math.abs(Ze-ln.x),Mn=Math.abs(ft-ln.y);return Tn>this._config.pointerDirectionChangeThreshold&&(Lt.x=Ze>ln.x?1:-1,ln.x=Ze),Mn>this._config.pointerDirectionChangeThreshold&&(Lt.y=ft>ln.y?1:-1,ln.y=ft),Lt}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const Re=this._handles.length>0||!this.isDragging();Re!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=Re,eo(this._rootElement,Re))}_removeRootElementListeners(Re){Re.removeEventListener("mousedown",this._pointerDown,cs),Re.removeEventListener("touchstart",this._pointerDown,Oo),Re.removeEventListener("dragstart",this._nativeDragStart,cs)}_applyRootElementTransform(Re,Ze){const ft=Ir(Re,Ze),Lt=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=Lt.transform&&"none"!=Lt.transform?Lt.transform:""),Lt.transform=ar(ft,this._initialTransform)}_applyPreviewTransform(Re,Ze){var ft;const Lt=null!==(ft=this._previewTemplate)&&void 0!==ft&&ft.template?void 0:this._initialTransform,ln=Ir(Re,Ze);this._preview.style.transform=ar(ln,Lt)}_getDragDistance(Re){const Ze=this._pickupPositionOnPage;return Ze?{x:Re.x-Ze.x,y:Re.y-Ze.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:Re,y:Ze}=this._passiveTransform;if(0===Re&&0===Ze||this.isDragging()||!this._boundaryElement)return;const ft=this._rootElement.getBoundingClientRect(),Lt=this._boundaryElement.getBoundingClientRect();if(0===Lt.width&&0===Lt.height||0===ft.width&&0===ft.height)return;const ln=Lt.left-ft.left,Tn=ft.right-Lt.right,Mn=Lt.top-ft.top,Xn=ft.bottom-Lt.bottom;Lt.width>ft.width?(ln>0&&(Re+=ln),Tn>0&&(Re-=Tn)):Re=0,Lt.height>ft.height?(Mn>0&&(Ze+=Mn),Xn>0&&(Ze-=Xn)):Ze=0,(Re!==this._passiveTransform.x||Ze!==this._passiveTransform.y)&&this.setFreeDragPosition({y:Ze,x:Re})}_getDragStartDelay(Re){const Ze=this.dragStartDelay;return"number"==typeof Ze?Ze:er(Re)?Ze.touch:Ze?Ze.mouse:0}_updateOnScroll(Re){const Ze=this._parentPositions.handleScroll(Re);if(Ze){const ft=(0,f.sA)(Re);this._boundaryRect&&ft!==this._boundaryElement&&ft.contains(this._boundaryElement)&&nt(this._boundaryRect,Ze.top,Ze.left),this._pickupPositionOnPage.x+=Ze.left,this._pickupPositionOnPage.y+=Ze.top,this._dropContainer||(this._activeTransform.x-=Ze.left,this._activeTransform.y-=Ze.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var Re;return(null===(Re=this._parentPositions.positions.get(this._document))||void 0===Re?void 0:Re.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,f.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(Re,Ze){const ft=this._previewContainer||"global";if("parent"===ft)return Re;if("global"===ft){const Lt=this._document;return Ze||Lt.fullscreenElement||Lt.webkitFullscreenElement||Lt.mozFullScreenElement||Lt.msFullscreenElement||Lt.body}return(0,g.fI)(ft)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(Re){return this._handles.find(Ze=>Re.target&&(Re.target===Ze||Ze.contains(Re.target)))}}function Ir(Yt,Re){return`translate3d(${Math.round(Yt)}px, ${Math.round(Re)}px, 0)`}function Or(Yt,Re,Ze){return Math.max(Re,Math.min(Ze,Yt))}function er(Yt){return"t"===Yt.type[0]}function Pr(Yt,Re){const Ze=Yt.rootNodes;if(1===Ze.length&&Ze[0].nodeType===Re.ELEMENT_NODE)return Ze[0];const ft=Re.createElement("div");return Ze.forEach(Lt=>ft.appendChild(Lt)),ft}function cr(Yt,Re){Yt.style.width=`${Re.width}px`,Yt.style.height=`${Re.height}px`,Yt.style.transform=Ir(Re.left,Re.top)}function fa(Yt,Re,Ze){const ft=Me(Re,Yt.length-1),Lt=Me(Ze,Yt.length-1);if(ft===Lt)return;const ln=Yt[ft],Tn=Lt<ft?-1:1;for(let Mn=ft;Mn!==Lt;Mn+=Tn)Yt[Mn]=Yt[Mn+Tn];Yt[Lt]=ln}function Na(Yt,Re,Ze,ft){const Lt=Me(Ze,Yt.length-1),ln=Me(ft,Re.length);Yt.length&&Re.splice(ln,0,Yt.splice(Lt,1)[0])}function Me(Yt,Re){return Math.max(0,Math.min(Re,Yt))}class pt{constructor(Re,Ze){this._element=Re,this._dragDropRegistry=Ze,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(Re){this.withItems(Re)}sort(Re,Ze,ft,Lt){const ln=this._itemPositions,Tn=this._getItemIndexFromPointerPosition(Re,Ze,ft,Lt);if(-1===Tn&&ln.length>0)return null;const Mn="horizontal"===this.orientation,Xn=ln.findIndex(Po=>Po.drag===Re),ti=ln[Tn],ji=ti.clientRect,Vo=Xn>Tn?1:-1,zo=this._getItemOffsetPx(ln[Xn].clientRect,ji,Vo),mo=this._getSiblingOffsetPx(Xn,ln,Vo),Jo=ln.slice();return fa(ln,Xn,Tn),ln.forEach((Po,dr)=>{if(Jo[dr]===Po)return;const Yr=Po.drag===Re,Lr=Yr?zo:mo,Hs=Yr?Re.getPlaceholderElement():Po.drag.getRootElement();Po.offset+=Lr,Mn?(Hs.style.transform=ar(`translate3d(${Math.round(Po.offset)}px, 0, 0)`,Po.initialTransform),nt(Po.clientRect,0,Lr)):(Hs.style.transform=ar(`translate3d(0, ${Math.round(Po.offset)}px, 0)`,Po.initialTransform),nt(Po.clientRect,Lr,0))}),this._previousSwap.overlaps=Wr(ji,Ze,ft),this._previousSwap.drag=ti.drag,this._previousSwap.delta=Mn?Lt.x:Lt.y,{previousIndex:Xn,currentIndex:Tn}}enter(Re,Ze,ft,Lt){const ln=null==Lt||Lt<0?this._getItemIndexFromPointerPosition(Re,Ze,ft):Lt,Tn=this._activeDraggables,Mn=Tn.indexOf(Re),Xn=Re.getPlaceholderElement();let ti=Tn[ln];if(ti===Re&&(ti=Tn[ln+1]),!ti&&(null==ln||-1===ln||ln<Tn.length-1)&&this._shouldEnterAsFirstChild(Ze,ft)&&(ti=Tn[0]),Mn>-1&&Tn.splice(Mn,1),ti&&!this._dragDropRegistry.isDragging(ti)){const Ai=ti.getRootElement();Ai.parentElement.insertBefore(Xn,Ai),Tn.splice(ln,0,Re)}else(0,g.fI)(this._element).appendChild(Xn),Tn.push(Re);Xn.style.transform="",this._cacheItemPositions()}withItems(Re){this._activeDraggables=Re.slice(),this._cacheItemPositions()}withSortPredicate(Re){this._sortPredicate=Re}reset(){this._activeDraggables.forEach(Re=>{var Ze;const ft=Re.getRootElement();if(ft){const Lt=null===(Ze=this._itemPositions.find(ln=>ln.drag===Re))||void 0===Ze?void 0:Ze.initialTransform;ft.style.transform=Lt||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(Re){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(ft=>ft.drag===Re)}updateOnScroll(Re,Ze){this._itemPositions.forEach(({clientRect:ft})=>{nt(ft,Re,Ze)}),this._itemPositions.forEach(({drag:ft})=>{this._dragDropRegistry.isDragging(ft)&&ft._sortFromLastPointerPosition()})}_cacheItemPositions(){const Re="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(Ze=>{const ft=Ze.getVisibleElement();return{drag:Ze,offset:0,initialTransform:ft.style.transform||"",clientRect:Zs(ft)}}).sort((Ze,ft)=>Re?Ze.clientRect.left-ft.clientRect.left:Ze.clientRect.top-ft.clientRect.top)}_getItemOffsetPx(Re,Ze,ft){const Lt="horizontal"===this.orientation;let ln=Lt?Ze.left-Re.left:Ze.top-Re.top;return-1===ft&&(ln+=Lt?Ze.width-Re.width:Ze.height-Re.height),ln}_getSiblingOffsetPx(Re,Ze,ft){const Lt="horizontal"===this.orientation,ln=Ze[Re].clientRect,Tn=Ze[Re+-1*ft];let Mn=ln[Lt?"width":"height"]*ft;if(Tn){const Xn=Lt?"left":"top",ti=Lt?"right":"bottom";-1===ft?Mn-=Tn.clientRect[Xn]-ln[ti]:Mn+=ln[Xn]-Tn.clientRect[ti]}return Mn}_shouldEnterAsFirstChild(Re,Ze){if(!this._activeDraggables.length)return!1;const ft=this._itemPositions,Lt="horizontal"===this.orientation;if(ft[0].drag!==this._activeDraggables[0]){const Tn=ft[ft.length-1].clientRect;return Lt?Re>=Tn.right:Ze>=Tn.bottom}{const Tn=ft[0].clientRect;return Lt?Re<=Tn.left:Ze<=Tn.top}}_getItemIndexFromPointerPosition(Re,Ze,ft,Lt){const ln="horizontal"===this.orientation,Tn=this._itemPositions.findIndex(({drag:Mn,clientRect:Xn})=>{if(Mn===Re)return!1;if(Lt){const ti=ln?Lt.x:Lt.y;if(Mn===this._previousSwap.drag&&this._previousSwap.overlaps&&ti===this._previousSwap.delta)return!1}return ln?Ze>=Math.floor(Xn.left)&&Ze<Math.floor(Xn.right):ft>=Math.floor(Xn.top)&&ft<Math.floor(Xn.bottom)});return-1!==Tn&&this._sortPredicate(Tn,Re)?Tn:-1}}class nn{constructor(Re,Ze,ft,Lt,ln){this._dragDropRegistry=Ze,this._ngZone=Lt,this._viewportRuler=ln,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new So.x,this.entered=new So.x,this.exited=new So.x,this.dropped=new So.x,this.sorted=new So.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Es.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new So.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,Di.F)(0,$o.Z).pipe((0,Ho.R)(this._stopScrollTimers)).subscribe(()=>{const Tn=this._scrollNode,Mn=this.autoScrollStep;1===this._verticalScrollDirection?Tn.scrollBy(0,-Mn):2===this._verticalScrollDirection&&Tn.scrollBy(0,Mn),1===this._horizontalScrollDirection?Tn.scrollBy(-Mn,0):2===this._horizontalScrollDirection&&Tn.scrollBy(Mn,0)})},this.element=(0,g.fI)(Re),this._document=ft,this.withScrollableParents([this.element]),Ze.registerDropContainer(this),this._parentPositions=new Ee(ft),this._sortStrategy=new pt(this.element,Ze),this._sortStrategy.withSortPredicate((Tn,Mn)=>this.sortPredicate(Tn,Mn,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(Re,Ze,ft,Lt){this._draggingStarted(),null==Lt&&this.sortingDisabled&&(Lt=this._draggables.indexOf(Re)),this._sortStrategy.enter(Re,Ze,ft,Lt),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:Re,container:this,currentIndex:this.getItemIndex(Re)})}exit(Re){this._reset(),this.exited.next({item:Re,container:this})}drop(Re,Ze,ft,Lt,ln,Tn,Mn,Xn={}){this._reset(),this.dropped.next({item:Re,currentIndex:Ze,previousIndex:ft,container:this,previousContainer:Lt,isPointerOverContainer:ln,distance:Tn,dropPoint:Mn,event:Xn})}withItems(Re){const Ze=this._draggables;return this._draggables=Re,Re.forEach(ft=>ft._withDropContainer(this)),this.isDragging()&&(Ze.filter(Lt=>Lt.isDragging()).every(Lt=>-1===Re.indexOf(Lt))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(Re){return this._sortStrategy.direction=Re,this}connectedTo(Re){return this._siblings=Re.slice(),this}withOrientation(Re){return this._sortStrategy.orientation=Re,this}withScrollableParents(Re){const Ze=(0,g.fI)(this.element);return this._scrollableElements=-1===Re.indexOf(Ze)?[Ze,...Re]:Re.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(Re){return this._isDragging?this._sortStrategy.getItemIndex(Re):this._draggables.indexOf(Re)}isReceiving(){return this._activeSiblings.size>0}_sortItem(Re,Ze,ft,Lt){if(this.sortingDisabled||!this._clientRect||!Be(this._clientRect,.05,Ze,ft))return;const ln=this._sortStrategy.sort(Re,Ze,ft,Lt);ln&&this.sorted.next({previousIndex:ln.previousIndex,currentIndex:ln.currentIndex,container:this,item:Re})}_startScrollingIfNecessary(Re,Ze){if(this.autoScrollDisabled)return;let ft,Lt=0,ln=0;if(this._parentPositions.positions.forEach((Tn,Mn)=>{Mn===this._document||!Tn.clientRect||ft||Be(Tn.clientRect,.05,Re,Ze)&&([Lt,ln]=function ui(Yt,Re,Ze,ft){const Lt=kn(Re,ft),ln=Ln(Re,Ze);let Tn=0,Mn=0;if(Lt){const Xn=Yt.scrollTop;1===Lt?Xn>0&&(Tn=1):Yt.scrollHeight-Xn>Yt.clientHeight&&(Tn=2)}if(ln){const Xn=Yt.scrollLeft;1===ln?Xn>0&&(Mn=1):Yt.scrollWidth-Xn>Yt.clientWidth&&(Mn=2)}return[Tn,Mn]}(Mn,Tn.clientRect,Re,Ze),(Lt||ln)&&(ft=Mn))}),!Lt&&!ln){const{width:Tn,height:Mn}=this._viewportRuler.getViewportSize(),Xn={width:Tn,height:Mn,top:0,right:Tn,bottom:Mn,left:0};Lt=kn(Xn,Ze),ln=Ln(Xn,Re),ft=window}ft&&(Lt!==this._verticalScrollDirection||ln!==this._horizontalScrollDirection||ft!==this._scrollNode)&&(this._verticalScrollDirection=Lt,this._horizontalScrollDirection=ln,this._scrollNode=ft,(Lt||ln)&&ft?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const Re=(0,g.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=Re.msScrollSnapType||Re.scrollSnapType||"",Re.scrollSnapType=Re.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const Re=(0,g.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(Re).clientRect}_reset(){this._isDragging=!1;const Re=(0,g.fI)(this.element).style;Re.scrollSnapType=Re.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(Ze=>Ze._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(Re,Ze){return null!=this._clientRect&&Wr(this._clientRect,Re,Ze)}_getSiblingContainerFromPosition(Re,Ze,ft){return this._siblings.find(Lt=>Lt._canReceive(Re,Ze,ft))}_canReceive(Re,Ze,ft){if(!this._clientRect||!Wr(this._clientRect,Ze,ft)||!this.enterPredicate(Re,this))return!1;const Lt=this._getShadowRoot().elementFromPoint(Ze,ft);if(!Lt)return!1;const ln=(0,g.fI)(this.element);return Lt===ln||ln.contains(Lt)}_startReceiving(Re,Ze){const ft=this._activeSiblings;!ft.has(Re)&&Ze.every(Lt=>this.enterPredicate(Lt,this)||this._draggables.indexOf(Lt)>-1)&&(ft.add(Re),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(Re){this._activeSiblings.delete(Re),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Re=>{if(this.isDragging()){const Ze=this._parentPositions.handleScroll(Re);Ze&&this._sortStrategy.updateOnScroll(Ze.top,Ze.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const Re=(0,f.kV)((0,g.fI)(this.element));this._cachedShadowRoot=Re||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const Re=this._sortStrategy.getActiveItemsSnapshot().filter(Ze=>Ze.isDragging());this._siblings.forEach(Ze=>Ze._startReceiving(this,Re))}}function kn(Yt,Re){const{top:Ze,bottom:ft,height:Lt}=Yt,ln=.05*Lt;return Re>=Ze-ln&&Re<=Ze+ln?1:Re>=ft-ln&&Re<=ft+ln?2:0}function Ln(Yt,Re){const{left:Ze,right:ft,width:Lt}=Yt,ln=.05*Lt;return Re>=Ze-ln&&Re<=Ze+ln?1:Re>=ft-ln&&Re<=ft+ln?2:0}const to=(0,f.i$)({passive:!1,capture:!0});let uo=(()=>{class Yt{constructor(Ze,ft){this._ngZone=Ze,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=Lt=>Lt.isDragging(),this.pointerMove=new So.x,this.pointerUp=new So.x,this.scroll=new So.x,this._preventDefaultWhileDragging=Lt=>{this._activeDragInstances.length>0&&Lt.preventDefault()},this._persistentTouchmoveListener=Lt=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&Lt.preventDefault(),this.pointerMove.next(Lt))},this._document=ft}registerDropContainer(Ze){this._dropInstances.has(Ze)||this._dropInstances.add(Ze)}registerDragItem(Ze){this._dragInstances.add(Ze),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,to)})}removeDropContainer(Ze){this._dropInstances.delete(Ze)}removeDragItem(Ze){this._dragInstances.delete(Ze),this.stopDragging(Ze),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,to)}startDragging(Ze,ft){if(!(this._activeDragInstances.indexOf(Ze)>-1)&&(this._activeDragInstances.push(Ze),1===this._activeDragInstances.length)){const Lt=ft.type.startsWith("touch");this._globalListeners.set(Lt?"touchend":"mouseup",{handler:ln=>this.pointerUp.next(ln),options:!0}).set("scroll",{handler:ln=>this.scroll.next(ln),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:to}),Lt||this._globalListeners.set("mousemove",{handler:ln=>this.pointerMove.next(ln),options:to}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((ln,Tn)=>{this._document.addEventListener(Tn,ln.handler,ln.options)})})}}stopDragging(Ze){const ft=this._activeDragInstances.indexOf(Ze);ft>-1&&(this._activeDragInstances.splice(ft,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(Ze){return this._activeDragInstances.indexOf(Ze)>-1}scrolled(Ze){const ft=[this.scroll];return Ze&&Ze!==this._document&&ft.push(new Wo.y(Lt=>this._ngZone.runOutsideAngular(()=>{const Tn=Mn=>{this._activeDragInstances.length&&Lt.next(Mn)};return Ze.addEventListener("scroll",Tn,!0),()=>{Ze.removeEventListener("scroll",Tn,!0)}}))),(0,or.T)(...ft)}ngOnDestroy(){this._dragInstances.forEach(Ze=>this.removeDragItem(Ze)),this._dropInstances.forEach(Ze=>this.removeDropContainer(Ze)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((Ze,ft)=>{this._document.removeEventListener(ft,Ze.handler,Ze.options)}),this._globalListeners.clear()}}return Yt.\u0275fac=function(Ze){return new(Ze||Yt)(e.LFG(e.R0b),e.LFG(a.K0))},Yt.\u0275prov=e.Yz7({token:Yt,factory:Yt.\u0275fac,providedIn:"root"}),Yt})();const _o={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Yi=(()=>{class Yt{constructor(Ze,ft,Lt,ln){this._document=Ze,this._ngZone=ft,this._viewportRuler=Lt,this._dragDropRegistry=ln}createDrag(Ze,ft=_o){return new xr(Ze,ft,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(Ze){return new nn(Ze,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return Yt.\u0275fac=function(Ze){return new(Ze||Yt)(e.LFG(a.K0),e.LFG(e.R0b),e.LFG(Mi.rL),e.LFG(uo))},Yt.\u0275prov=e.Yz7({token:Yt,factory:Yt.\u0275fac,providedIn:"root"}),Yt})();const Co=new e.OlP("CDK_DRAG_PARENT"),bi=new e.OlP("CdkDropListGroup");let xo=(()=>{class Yt{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(Ze){this._disabled=(0,g.Ig)(Ze)}ngOnDestroy(){this._items.clear()}}return Yt.\u0275fac=function(Ze){return new(Ze||Yt)},Yt.\u0275dir=e.lG2({type:Yt,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[e._Bn([{provide:bi,useExisting:Yt}])]}),Yt})();const Yo=new e.OlP("CDK_DRAG_CONFIG");let us=0;const ur=new e.OlP("CdkDropList");let mt=(()=>{class Yt{constructor(Ze,ft,Lt,ln,Tn,Mn,Xn){this.element=Ze,this._changeDetectorRef=Lt,this._scrollDispatcher=ln,this._dir=Tn,this._group=Mn,this._destroyed=new So.x,this.connectedTo=[],this.id="cdk-drop-list-"+us++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.sorted=new e.vpe,this._unsortedItems=new Set,this._dropListRef=ft.createDropList(Ze),this._dropListRef.data=this,Xn&&this._assignDefaults(Xn),this._dropListRef.enterPredicate=(ti,Ai)=>this.enterPredicate(ti.data,Ai.data),this._dropListRef.sortPredicate=(ti,Ai,ji)=>this.sortPredicate(ti,Ai.data,ji.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),Yt._dropLists.push(this),Mn&&Mn._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(Ze){this._dropListRef.disabled=this._disabled=(0,g.Ig)(Ze)}addItem(Ze){this._unsortedItems.add(Ze),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(Ze){this._unsortedItems.delete(Ze),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((Ze,ft)=>Ze._dragRef.getVisibleElement().compareDocumentPosition(ft._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const Ze=Yt._dropLists.indexOf(this);Ze>-1&&Yt._dropLists.splice(Ze,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(Ze){this._dir&&this._dir.change.pipe((0,wo.O)(this._dir.value),(0,Ho.R)(this._destroyed)).subscribe(ft=>Ze.withDirection(ft)),Ze.beforeStarted.subscribe(()=>{const ft=(0,g.Eq)(this.connectedTo).map(Lt=>"string"==typeof Lt?Yt._dropLists.find(Tn=>Tn.id===Lt):Lt);if(this._group&&this._group._items.forEach(Lt=>{-1===ft.indexOf(Lt)&&ft.push(Lt)}),!this._scrollableParentsResolved){const Lt=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(ln=>ln.getElementRef().nativeElement);this._dropListRef.withScrollableParents(Lt),this._scrollableParentsResolved=!0}Ze.disabled=this.disabled,Ze.lockAxis=this.lockAxis,Ze.sortingDisabled=(0,g.Ig)(this.sortingDisabled),Ze.autoScrollDisabled=(0,g.Ig)(this.autoScrollDisabled),Ze.autoScrollStep=(0,g.su)(this.autoScrollStep,2),Ze.connectedTo(ft.filter(Lt=>Lt&&Lt!==this).map(Lt=>Lt._dropListRef)).withOrientation(this.orientation)})}_handleEvents(Ze){Ze.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),Ze.entered.subscribe(ft=>{this.entered.emit({container:this,item:ft.item.data,currentIndex:ft.currentIndex})}),Ze.exited.subscribe(ft=>{this.exited.emit({container:this,item:ft.item.data}),this._changeDetectorRef.markForCheck()}),Ze.sorted.subscribe(ft=>{this.sorted.emit({previousIndex:ft.previousIndex,currentIndex:ft.currentIndex,container:this,item:ft.item.data})}),Ze.dropped.subscribe(ft=>{this.dropped.emit({previousIndex:ft.previousIndex,currentIndex:ft.currentIndex,previousContainer:ft.previousContainer.data,container:ft.container.data,item:ft.item.data,isPointerOverContainer:ft.isPointerOverContainer,distance:ft.distance,dropPoint:ft.dropPoint,event:ft.event}),this._changeDetectorRef.markForCheck()})}_assignDefaults(Ze){const{lockAxis:ft,draggingDisabled:Lt,sortingDisabled:ln,listAutoScrollDisabled:Tn,listOrientation:Mn}=Ze;this.disabled=null!=Lt&&Lt,this.sortingDisabled=null!=ln&&ln,this.autoScrollDisabled=null!=Tn&&Tn,this.orientation=Mn||"vertical",ft&&(this.lockAxis=ft)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(Ze=>Ze._dragRef))}}return Yt._dropLists=[],Yt.\u0275fac=function(Ze){return new(Ze||Yt)(e.Y36(e.SBq),e.Y36(Yi),e.Y36(e.sBO),e.Y36(Mi.mF),e.Y36(rr.Is,8),e.Y36(bi,12),e.Y36(Yo,8))},Yt.\u0275dir=e.lG2({type:Yt,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(Ze,ft){2&Ze&&(e.uIk("id",ft.id),e.ekj("cdk-drop-list-disabled",ft.disabled)("cdk-drop-list-dragging",ft._dropListRef.isDragging())("cdk-drop-list-receiving",ft._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[e._Bn([{provide:bi,useValue:void 0},{provide:ur,useExisting:Yt}])]}),Yt})();const ae=new e.OlP("CdkDragHandle"),We=new e.OlP("CdkDragPlaceholder"),Vt=new e.OlP("CdkDragPreview");let wn=(()=>{class Yt{constructor(Ze,ft,Lt,ln,Tn,Mn,Xn,ti,Ai,ji,Vo){this.element=Ze,this.dropContainer=ft,this._ngZone=ln,this._viewContainerRef=Tn,this._dir=Xn,this._changeDetectorRef=Ai,this._selfHandle=ji,this._parentDrag=Vo,this._destroyed=new So.x,this.started=new e.vpe,this.released=new e.vpe,this.ended=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.dropped=new e.vpe,this.moved=new Wo.y(zo=>{const mo=this._dragRef.moved.pipe((0,Ri.U)(Jo=>({source:this,pointerPosition:Jo.pointerPosition,event:Jo.event,delta:Jo.delta,distance:Jo.distance}))).subscribe(zo);return()=>{mo.unsubscribe()}}),this._dragRef=ti.createDrag(Ze,{dragStartThreshold:Mn&&null!=Mn.dragStartThreshold?Mn.dragStartThreshold:5,pointerDirectionChangeThreshold:Mn&&null!=Mn.pointerDirectionChangeThreshold?Mn.pointerDirectionChangeThreshold:5,zIndex:null==Mn?void 0:Mn.zIndex}),this._dragRef.data=this,Yt._dragInstances.push(this),Mn&&this._assignDefaults(Mn),ft&&(this._dragRef._withDropContainer(ft._dropListRef),ft.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(Ze){this._disabled=(0,g.Ig)(Ze),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(Ze){this._dragRef.setFreeDragPosition(Ze)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,sr.q)(1),(0,Ho.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(Ze){const ft=Ze.rootElementSelector,Lt=Ze.freeDragPosition;ft&&!ft.firstChange&&this._updateRootElement(),Lt&&!Lt.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const Ze=Yt._dragInstances.indexOf(this);Ze>-1&&Yt._dragInstances.splice(Ze,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var Ze;const ft=this.element.nativeElement;let Lt=ft;this.rootElementSelector&&(Lt=void 0!==ft.closest?ft.closest(this.rootElementSelector):null===(Ze=ft.parentElement)||void 0===Ze?void 0:Ze.closest(this.rootElementSelector)),this._dragRef.withRootElement(Lt||ft)}_getBoundaryElement(){const Ze=this.boundaryElement;return Ze?"string"==typeof Ze?this.element.nativeElement.closest(Ze):(0,g.fI)(Ze):null}_syncInputs(Ze){Ze.beforeStarted.subscribe(()=>{if(!Ze.isDragging()){const ft=this._dir,Lt=this.dragStartDelay,ln=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,Tn=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;Ze.disabled=this.disabled,Ze.lockAxis=this.lockAxis,Ze.dragStartDelay="object"==typeof Lt&&Lt?Lt:(0,g.su)(Lt),Ze.constrainPosition=this.constrainPosition,Ze.previewClass=this.previewClass,Ze.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(ln).withPreviewTemplate(Tn).withPreviewContainer(this.previewContainer||"global"),ft&&Ze.withDirection(ft.value)}}),Ze.beforeStarted.pipe((0,sr.q)(1)).subscribe(()=>{var ft;if(this._parentDrag)return void Ze.withParent(this._parentDrag._dragRef);let Lt=this.element.nativeElement.parentElement;for(;Lt;){if(Lt.classList.contains("cdk-drag")){Ze.withParent((null===(ft=Yt._dragInstances.find(ln=>ln.element.nativeElement===Lt))||void 0===ft?void 0:ft._dragRef)||null);break}Lt=Lt.parentElement}})}_handleEvents(Ze){Ze.started.subscribe(ft=>{this.started.emit({source:this,event:ft.event}),this._changeDetectorRef.markForCheck()}),Ze.released.subscribe(ft=>{this.released.emit({source:this,event:ft.event})}),Ze.ended.subscribe(ft=>{this.ended.emit({source:this,distance:ft.distance,dropPoint:ft.dropPoint,event:ft.event}),this._changeDetectorRef.markForCheck()}),Ze.entered.subscribe(ft=>{this.entered.emit({container:ft.container.data,item:this,currentIndex:ft.currentIndex})}),Ze.exited.subscribe(ft=>{this.exited.emit({container:ft.container.data,item:this})}),Ze.dropped.subscribe(ft=>{this.dropped.emit({previousIndex:ft.previousIndex,currentIndex:ft.currentIndex,previousContainer:ft.previousContainer.data,container:ft.container.data,isPointerOverContainer:ft.isPointerOverContainer,item:this,distance:ft.distance,dropPoint:ft.dropPoint,event:ft.event})})}_assignDefaults(Ze){const{lockAxis:ft,dragStartDelay:Lt,constrainPosition:ln,previewClass:Tn,boundaryElement:Mn,draggingDisabled:Xn,rootElementSelector:ti,previewContainer:Ai}=Ze;this.disabled=null!=Xn&&Xn,this.dragStartDelay=Lt||0,ft&&(this.lockAxis=ft),ln&&(this.constrainPosition=ln),Tn&&(this.previewClass=Tn),Mn&&(this.boundaryElement=Mn),ti&&(this.rootElementSelector=ti),Ai&&(this.previewContainer=Ai)}_setupHandlesListener(){this._handles.changes.pipe((0,wo.O)(this._handles),(0,ma.b)(Ze=>{const ft=Ze.filter(Lt=>Lt._parentDrag===this).map(Lt=>Lt.element);this._selfHandle&&this.rootElementSelector&&ft.push(this.element),this._dragRef.withHandles(ft)}),(0,Qn.w)(Ze=>(0,or.T)(...Ze.map(ft=>ft._stateChanges.pipe((0,wo.O)(ft))))),(0,Ho.R)(this._destroyed)).subscribe(Ze=>{const ft=this._dragRef,Lt=Ze.element.nativeElement;Ze.disabled?ft.disableHandle(Lt):ft.enableHandle(Lt)})}}return Yt._dragInstances=[],Yt.\u0275fac=function(Ze){return new(Ze||Yt)(e.Y36(e.SBq),e.Y36(ur,12),e.Y36(a.K0),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(Yo,8),e.Y36(rr.Is,8),e.Y36(Yi),e.Y36(e.sBO),e.Y36(ae,10),e.Y36(Co,12))},Yt.\u0275dir=e.lG2({type:Yt,selectors:[["","cdkDrag",""]],contentQueries:function(Ze,ft,Lt){if(1&Ze&&(e.Suo(Lt,Vt,5),e.Suo(Lt,We,5),e.Suo(Lt,ae,5)),2&Ze){let ln;e.iGM(ln=e.CRH())&&(ft._previewTemplate=ln.first),e.iGM(ln=e.CRH())&&(ft._placeholderTemplate=ln.first),e.iGM(ln=e.CRH())&&(ft._handles=ln)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(Ze,ft){2&Ze&&e.ekj("cdk-drag-disabled",ft.disabled)("cdk-drag-dragging",ft._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[e._Bn([{provide:Co,useExisting:Yt}]),e.TTD]}),Yt})(),Hn=(()=>{class Yt{}return Yt.\u0275fac=function(Ze){return new(Ze||Yt)},Yt.\u0275mod=e.oAB({type:Yt}),Yt.\u0275inj=e.cJS({providers:[Yi],imports:[Mi.ZD]}),Yt})()},925:(mn,ht,b)=>{"use strict";b.d(ht,{i$:()=>J,kV:()=>F,sA:()=>te,t4:()=>g});var e=b(5e3),a=b(9808);let f;try{f="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(k){f=!1}let R,S,g=(()=>{class k{constructor($){this._platformId=$,this.isBrowser=this._platformId?(0,a.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!f)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return k.\u0275fac=function($){return new($||k)(e.LFG(e.Lbi))},k.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function J(k){return function L(){if(null==R&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>R=!0}))}finally{R=R||!1}return R}()?k:!!k.capture}function F(k){if(function U(){if(null==S){const k="undefined"!=typeof document?document.head:null;S=!(!k||!k.createShadowRoot&&!k.attachShadow)}return S}()){const O=k.getRootNode?k.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&O instanceof ShadowRoot)return O}return null}function te(k){return k.composedPath?k.composedPath()[0]:k.target}},6731:(mn,ht,b)=>{"use strict";b.d(ht,{ZD:()=>fe,mF:()=>xe,Cl:()=>ke,rL:()=>it});var e=b(3191),a=b(5e3),f=b(7579),g=b(9646),_=b(9751),P=b(4968),l=(b(6406),b(4408));let L,R=1;const J={};function N(ot){return ot in J&&(delete J[ot],!0)}const w={setImmediate(ot){const Ct=R++;return J[Ct]=!0,L||(L=Promise.resolve()),L.then(()=>N(Ct)&&ot()),Ct},clearImmediate(ot){N(ot)}},{setImmediate:D,clearImmediate:S}=w,U={setImmediate(...ot){const{delegate:Ct}=U;return((null==Ct?void 0:Ct.setImmediate)||D)(...ot)},clearImmediate(ot){const{delegate:Ct}=U;return((null==Ct?void 0:Ct.clearImmediate)||S)(ot)},delegate:void 0};var ce=b(7565);new class te extends ce.v{flush(Ct){this._active=!0,this._scheduled=void 0;const{actions:Ot}=this;let Nt,Mt=-1;Ct=Ct||Ot.shift();const Ye=Ot.length;do{if(Nt=Ct.execute(Ct.state,Ct.delay))break}while(++Mt<Ye&&(Ct=Ot.shift()));if(this._active=!1,Nt){for(;++Mt<Ye&&(Ct=Ot.shift());)Ct.unsubscribe();throw Nt}}}(class F extends l.o{constructor(Ct,Ot){super(Ct,Ot),this.scheduler=Ct,this.work=Ot}requestAsyncId(Ct,Ot,Nt=0){return null!==Nt&&Nt>0?super.requestAsyncId(Ct,Ot,Nt):(Ct.actions.push(this),Ct._scheduled||(Ct._scheduled=U.setImmediate(Ct.flush.bind(Ct,void 0))))}recycleAsyncId(Ct,Ot,Nt=0){if(null!=Nt&&Nt>0||null==Nt&&this.delay>0)return super.recycleAsyncId(Ct,Ot,Nt);0===Ct.actions.length&&(U.clearImmediate(Ot),Ct._scheduled=void 0)}});var O=b(4986),$=b(4482),ue=b(8421),q=b(5403),G=b(5963);function he(ot,Ct=O.P){return function Y(ot){return(0,$.e)((Ct,Ot)=>{let Nt=!1,Mt=null,Ye=null,st=!1;const je=()=>{if(null==Ye||Ye.unsubscribe(),Ye=null,Nt){Nt=!1;const ne=Mt;Mt=null,Ot.next(ne)}st&&Ot.complete()},It=()=>{Ye=null,st&&Ot.complete()};Ct.subscribe(new q.Q(Ot,ne=>{Nt=!0,Mt=ne,Ye||(0,ue.Xf)(ot(ne)).subscribe(Ye=new q.Q(Ot,je,It))},()=>{st=!0,(!Nt||!Ye||Ye.closed)&&Ot.complete()}))})}(()=>(0,G.H)(ot,Ct))}var j=b(9300),Q=b(9808),K=b(925),z=b(226);let xe=(()=>{class ot{constructor(Ot,Nt,Mt){this._ngZone=Ot,this._platform=Nt,this._scrolled=new f.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Mt}register(Ot){this.scrollContainers.has(Ot)||this.scrollContainers.set(Ot,Ot.elementScrolled().subscribe(()=>this._scrolled.next(Ot)))}deregister(Ot){const Nt=this.scrollContainers.get(Ot);Nt&&(Nt.unsubscribe(),this.scrollContainers.delete(Ot))}scrolled(Ot=20){return this._platform.isBrowser?new _.y(Nt=>{this._globalSubscription||this._addGlobalListener();const Mt=Ot>0?this._scrolled.pipe(he(Ot)).subscribe(Nt):this._scrolled.subscribe(Nt);return this._scrolledCount++,()=>{Mt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,g.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Ot,Nt)=>this.deregister(Nt)),this._scrolled.complete()}ancestorScrolled(Ot,Nt){const Mt=this.getAncestorScrollContainers(Ot);return this.scrolled(Nt).pipe((0,j.h)(Ye=>!Ye||Mt.indexOf(Ye)>-1))}getAncestorScrollContainers(Ot){const Nt=[];return this.scrollContainers.forEach((Mt,Ye)=>{this._scrollableContainsElement(Ye,Ot)&&Nt.push(Ye)}),Nt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Ot,Nt){let Mt=(0,e.fI)(Nt),Ye=Ot.getElementRef().nativeElement;do{if(Mt==Ye)return!0}while(Mt=Mt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Ot=this._getWindow();return(0,P.R)(Ot.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return ot.\u0275fac=function(Ot){return new(Ot||ot)(a.LFG(a.R0b),a.LFG(K.t4),a.LFG(Q.K0,8))},ot.\u0275prov=a.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})(),it=(()=>{class ot{constructor(Ot,Nt,Mt){this._platform=Ot,this._change=new f.x,this._changeListener=Ye=>{this._change.next(Ye)},this._document=Mt,Nt.runOutsideAngular(()=>{if(Ot.isBrowser){const Ye=this._getWindow();Ye.addEventListener("resize",this._changeListener),Ye.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Ot=this._getWindow();Ot.removeEventListener("resize",this._changeListener),Ot.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Ot={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Ot}getViewportRect(){const Ot=this.getViewportScrollPosition(),{width:Nt,height:Mt}=this.getViewportSize();return{top:Ot.top,left:Ot.left,bottom:Ot.top+Mt,right:Ot.left+Nt,height:Mt,width:Nt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Ot=this._document,Nt=this._getWindow(),Mt=Ot.documentElement,Ye=Mt.getBoundingClientRect();return{top:-Ye.top||Ot.body.scrollTop||Nt.scrollY||Mt.scrollTop||0,left:-Ye.left||Ot.body.scrollLeft||Nt.scrollX||Mt.scrollLeft||0}}change(Ot=20){return Ot>0?this._change.pipe(he(Ot)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Ot=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Ot.innerWidth,height:Ot.innerHeight}:{width:0,height:0}}}return ot.\u0275fac=function(Ot){return new(Ot||ot)(a.LFG(K.t4),a.LFG(a.R0b),a.LFG(Q.K0,8))},ot.\u0275prov=a.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})(),fe=(()=>{class ot{}return ot.\u0275fac=function(Ot){return new(Ot||ot)},ot.\u0275mod=a.oAB({type:ot}),ot.\u0275inj=a.cJS({}),ot})(),ke=(()=>{class ot{}return ot.\u0275fac=function(Ot){return new(Ot||ot)},ot.\u0275mod=a.oAB({type:ot}),ot.\u0275inj=a.cJS({imports:[z.vT,fe,z.vT,fe]}),ot})()},9808:(mn,ht,b)=>{"use strict";b.d(ht,{Do:()=>te,ED:()=>Rs,EM:()=>zt,H9:()=>Cs,HT:()=>_,JF:()=>Zi,JJ:()=>As,K0:()=>y,Mx:()=>Go,NF:()=>St,Nd:()=>Bs,O5:()=>Mo,OU:()=>br,Ov:()=>qi,PC:()=>Cr,PM:()=>hn,RF:()=>Ls,S$:()=>U,V_:()=>L,Ye:()=>V,b0:()=>ce,bD:()=>ir,ez:()=>Mr,mk:()=>Ao,n9:()=>Is,q:()=>f,qS:()=>Ko,rS:()=>Ws,sg:()=>ho,tP:()=>Sr,uU:()=>kr,w_:()=>P});var e=b(5e3);let a=null;function f(){return a}function _(Me){a||(a=Me)}class P{}const y=new e.OlP("DocumentToken");let l=(()=>{class Me{historyGo(He){throw new Error("Not implemented")}}return Me.\u0275fac=function(He){return new(He||Me)},Me.\u0275prov=e.Yz7({token:Me,factory:function(){return function R(){return(0,e.LFG)(J)}()},providedIn:"platform"}),Me})();const L=new e.OlP("Location Initialized");let J=(()=>{class Me extends l{constructor(He){super(),this._doc=He,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return f().getBaseHref(this._doc)}onPopState(He){const Et=f().getGlobalEventTarget(this._doc,"window");return Et.addEventListener("popstate",He,!1),()=>Et.removeEventListener("popstate",He)}onHashChange(He){const Et=f().getGlobalEventTarget(this._doc,"window");return Et.addEventListener("hashchange",He,!1),()=>Et.removeEventListener("hashchange",He)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(He){this.location.pathname=He}pushState(He,Et,nn){N()?this._history.pushState(He,Et,nn):this.location.hash=nn}replaceState(He,Et,nn){N()?this._history.replaceState(He,Et,nn):this.location.hash=nn}forward(){this._history.forward()}back(){this._history.back()}historyGo(He=0){this._history.go(He)}getState(){return this._history.state}}return Me.\u0275fac=function(He){return new(He||Me)(e.LFG(y))},Me.\u0275prov=e.Yz7({token:Me,factory:function(){return function w(){return new J((0,e.LFG)(y))}()},providedIn:"platform"}),Me})();function N(){return!!window.history.pushState}function x(Me,pt){if(0==Me.length)return pt;if(0==pt.length)return Me;let He=0;return Me.endsWith("/")&&He++,pt.startsWith("/")&&He++,2==He?Me+pt.substring(1):1==He?Me+pt:Me+"/"+pt}function D(Me){const pt=Me.match(/#|\?|$/),He=pt&&pt.index||Me.length;return Me.slice(0,He-("/"===Me[He-1]?1:0))+Me.slice(He)}function S(Me){return Me&&"?"!==Me[0]?"?"+Me:Me}let U=(()=>{class Me{historyGo(He){throw new Error("Not implemented")}}return Me.\u0275fac=function(He){return new(He||Me)},Me.\u0275prov=e.Yz7({token:Me,factory:function(){return(0,e.f3M)(ce)},providedIn:"root"}),Me})();const F=new e.OlP("appBaseHref");let ce=(()=>{class Me extends U{constructor(He,Et){var nn,kn,Ln;super(),this._platformLocation=He,this._removeListenerFns=[],this._baseHref=null!==(Ln=null!==(nn=null!=Et?Et:this._platformLocation.getBaseHrefFromDOM())&&void 0!==nn?nn:null===(kn=(0,e.f3M)(y).location)||void 0===kn?void 0:kn.origin)&&void 0!==Ln?Ln:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(He){this._removeListenerFns.push(this._platformLocation.onPopState(He),this._platformLocation.onHashChange(He))}getBaseHref(){return this._baseHref}prepareExternalUrl(He){return x(this._baseHref,He)}path(He=!1){const Et=this._platformLocation.pathname+S(this._platformLocation.search),nn=this._platformLocation.hash;return nn&&He?`${Et}${nn}`:Et}pushState(He,Et,nn,kn){const Ln=this.prepareExternalUrl(nn+S(kn));this._platformLocation.pushState(He,Et,Ln)}replaceState(He,Et,nn,kn){const Ln=this.prepareExternalUrl(nn+S(kn));this._platformLocation.replaceState(He,Et,Ln)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(He=0){var Et,nn;null===(nn=(Et=this._platformLocation).historyGo)||void 0===nn||nn.call(Et,He)}}return Me.\u0275fac=function(He){return new(He||Me)(e.LFG(l),e.LFG(F,8))},Me.\u0275prov=e.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me})(),te=(()=>{class Me extends U{constructor(He,Et){super(),this._platformLocation=He,this._baseHref="",this._removeListenerFns=[],null!=Et&&(this._baseHref=Et)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(He){this._removeListenerFns.push(this._platformLocation.onPopState(He),this._platformLocation.onHashChange(He))}getBaseHref(){return this._baseHref}path(He=!1){let Et=this._platformLocation.hash;return null==Et&&(Et="#"),Et.length>0?Et.substring(1):Et}prepareExternalUrl(He){const Et=x(this._baseHref,He);return Et.length>0?"#"+Et:Et}pushState(He,Et,nn,kn){let Ln=this.prepareExternalUrl(nn+S(kn));0==Ln.length&&(Ln=this._platformLocation.pathname),this._platformLocation.pushState(He,Et,Ln)}replaceState(He,Et,nn,kn){let Ln=this.prepareExternalUrl(nn+S(kn));0==Ln.length&&(Ln=this._platformLocation.pathname),this._platformLocation.replaceState(He,Et,Ln)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(He=0){var Et,nn;null===(nn=(Et=this._platformLocation).historyGo)||void 0===nn||nn.call(Et,He)}}return Me.\u0275fac=function(He){return new(He||Me)(e.LFG(l),e.LFG(F,8))},Me.\u0275prov=e.Yz7({token:Me,factory:Me.\u0275fac}),Me})(),V=(()=>{class Me{constructor(He){this._subject=new e.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=He;const Et=this._locationStrategy.getBaseHref();this._baseHref=D($(Et)),this._locationStrategy.onPopState(nn=>{this._subject.emit({url:this.path(!0),pop:!0,state:nn.state,type:nn.type})})}ngOnDestroy(){var He;null===(He=this._urlChangeSubscription)||void 0===He||He.unsubscribe(),this._urlChangeListeners=[]}path(He=!1){return this.normalize(this._locationStrategy.path(He))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(He,Et=""){return this.path()==this.normalize(He+S(Et))}normalize(He){return Me.stripTrailingSlash(function O(Me,pt){return Me&&pt.startsWith(Me)?pt.substring(Me.length):pt}(this._baseHref,$(He)))}prepareExternalUrl(He){return He&&"/"!==He[0]&&(He="/"+He),this._locationStrategy.prepareExternalUrl(He)}go(He,Et="",nn=null){this._locationStrategy.pushState(nn,"",He,Et),this._notifyUrlChangeListeners(this.prepareExternalUrl(He+S(Et)),nn)}replaceState(He,Et="",nn=null){this._locationStrategy.replaceState(nn,"",He,Et),this._notifyUrlChangeListeners(this.prepareExternalUrl(He+S(Et)),nn)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(He=0){var Et,nn;null===(nn=(Et=this._locationStrategy).historyGo)||void 0===nn||nn.call(Et,He)}onUrlChange(He){return this._urlChangeListeners.push(He),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Et=>{this._notifyUrlChangeListeners(Et.url,Et.state)})),()=>{var Et;const nn=this._urlChangeListeners.indexOf(He);this._urlChangeListeners.splice(nn,1),0===this._urlChangeListeners.length&&(null===(Et=this._urlChangeSubscription)||void 0===Et||Et.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(He="",Et){this._urlChangeListeners.forEach(nn=>nn(He,Et))}subscribe(He,Et,nn){return this._subject.subscribe({next:He,error:Et,complete:nn})}}return Me.normalizeQueryParams=S,Me.joinWithSlash=x,Me.stripTrailingSlash=D,Me.\u0275fac=function(He){return new(He||Me)(e.LFG(U))},Me.\u0275prov=e.Yz7({token:Me,factory:function(){return function k(){return new V((0,e.LFG)(U))}()},providedIn:"root"}),Me})();function $(Me){return Me.replace(/\/index.html$/,"")}const ue={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var q=(()=>((q=q||{})[q.Decimal=0]="Decimal",q[q.Percent=1]="Percent",q[q.Currency=2]="Currency",q[q.Scientific=3]="Scientific",q))(),G=(()=>((G=G||{})[G.Format=0]="Format",G[G.Standalone=1]="Standalone",G))(),he=(()=>((he=he||{})[he.Narrow=0]="Narrow",he[he.Abbreviated=1]="Abbreviated",he[he.Wide=2]="Wide",he[he.Short=3]="Short",he))(),j=(()=>((j=j||{})[j.Short=0]="Short",j[j.Medium=1]="Medium",j[j.Long=2]="Long",j[j.Full=3]="Full",j))(),Q=(()=>((Q=Q||{})[Q.Decimal=0]="Decimal",Q[Q.Group=1]="Group",Q[Q.List=2]="List",Q[Q.PercentSign=3]="PercentSign",Q[Q.PlusSign=4]="PlusSign",Q[Q.MinusSign=5]="MinusSign",Q[Q.Exponential=6]="Exponential",Q[Q.SuperscriptingExponent=7]="SuperscriptingExponent",Q[Q.PerMille=8]="PerMille",Q[Q.Infinity=9]="Infinity",Q[Q.NaN=10]="NaN",Q[Q.TimeSeparator=11]="TimeSeparator",Q[Q.CurrencyDecimal=12]="CurrencyDecimal",Q[Q.CurrencyGroup=13]="CurrencyGroup",Q))();function X(Me,pt){return fe((0,e.cg1)(Me)[e.wAp.DateFormat],pt)}function xe(Me,pt){return fe((0,e.cg1)(Me)[e.wAp.TimeFormat],pt)}function we(Me,pt){return fe((0,e.cg1)(Me)[e.wAp.DateTimeFormat],pt)}function Oe(Me,pt){const He=(0,e.cg1)(Me),Et=He[e.wAp.NumberSymbols][pt];if(void 0===Et){if(pt===Q.CurrencyDecimal)return He[e.wAp.NumberSymbols][Q.Decimal];if(pt===Q.CurrencyGroup)return He[e.wAp.NumberSymbols][Q.Group]}return Et}function dt(Me,pt){return(0,e.cg1)(Me)[e.wAp.NumberFormats][pt]}function Ht(Me){if(!Me[e.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${Me[e.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function fe(Me,pt){for(let He=pt;He>-1;He--)if(void 0!==Me[He])return Me[He];throw new Error("Locale data API: locale data undefined")}function ke(Me){const[pt,He]=Me.split(":");return{hours:+pt,minutes:+He}}const Nt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Mt={},Ye=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var st=(()=>((st=st||{})[st.Short=0]="Short",st[st.ShortGMT=1]="ShortGMT",st[st.Long=2]="Long",st[st.Extended=3]="Extended",st))(),je=(()=>((je=je||{})[je.FullYear=0]="FullYear",je[je.Month=1]="Month",je[je.Date=2]="Date",je[je.Hours=3]="Hours",je[je.Minutes=4]="Minutes",je[je.Seconds=5]="Seconds",je[je.FractionalSeconds=6]="FractionalSeconds",je[je.Day=7]="Day",je))(),It=(()=>((It=It||{})[It.DayPeriods=0]="DayPeriods",It[It.Days=1]="Days",It[It.Months=2]="Months",It[It.Eras=3]="Eras",It))();function ne(Me,pt,He,Et){let nn=function ri(Me){if(Ni(Me))return Me;if("number"==typeof Me&&!isNaN(Me))return new Date(Me);if("string"==typeof Me){if(Me=Me.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(Me)){const[nn,kn=1,Ln=1]=Me.split("-").map(ui=>+ui);return Ne(nn,kn-1,Ln)}const He=parseFloat(Me);if(!isNaN(Me-He))return new Date(He);let Et;if(Et=Me.match(Nt))return function vi(Me){const pt=new Date(0);let He=0,Et=0;const nn=Me[8]?pt.setUTCFullYear:pt.setFullYear,kn=Me[8]?pt.setUTCHours:pt.setHours;Me[9]&&(He=Number(Me[9]+Me[10]),Et=Number(Me[9]+Me[11])),nn.call(pt,Number(Me[1]),Number(Me[2])-1,Number(Me[3]));const Ln=Number(Me[4]||0)-He,ui=Number(Me[5]||0)-Et,to=Number(Me[6]||0),uo=Math.floor(1e3*parseFloat("0."+(Me[7]||0)));return kn.call(pt,Ln,ui,to,uo),pt}(Et)}const pt=new Date(Me);if(!Ni(pt))throw new Error(`Unable to convert "${Me}" into a date`);return pt}(Me);pt=me(He,pt)||pt;let ui,Ln=[];for(;pt;){if(ui=Ye.exec(pt),!ui){Ln.push(pt);break}{Ln=Ln.concat(ui.slice(1));const _o=Ln.pop();if(!_o)break;pt=_o}}let to=nn.getTimezoneOffset();Et&&(to=rn(Et,to),nn=function Un(Me,pt,He){const Et=He?-1:1,nn=Me.getTimezoneOffset();return function Fn(Me,pt){return(Me=new Date(Me.getTime())).setMinutes(Me.getMinutes()+pt),Me}(Me,Et*(rn(pt,nn)-nn))}(nn,Et,!0));let uo="";return Ln.forEach(_o=>{const Yi=function Rt(Me){if(Dn[Me])return Dn[Me];let pt;switch(Me){case"G":case"GG":case"GGG":pt=et(It.Eras,he.Abbreviated);break;case"GGGG":pt=et(It.Eras,he.Wide);break;case"GGGGG":pt=et(It.Eras,he.Narrow);break;case"y":pt=en(je.FullYear,1,0,!1,!0);break;case"yy":pt=en(je.FullYear,2,0,!0,!0);break;case"yyy":pt=en(je.FullYear,3,0,!1,!0);break;case"yyyy":pt=en(je.FullYear,4,0,!1,!0);break;case"Y":pt=Jt(1);break;case"YY":pt=Jt(2,!0);break;case"YYY":pt=Jt(3);break;case"YYYY":pt=Jt(4);break;case"M":case"L":pt=en(je.Month,1,1);break;case"MM":case"LL":pt=en(je.Month,2,1);break;case"MMM":pt=et(It.Months,he.Abbreviated);break;case"MMMM":pt=et(It.Months,he.Wide);break;case"MMMMM":pt=et(It.Months,he.Narrow);break;case"LLL":pt=et(It.Months,he.Abbreviated,G.Standalone);break;case"LLLL":pt=et(It.Months,he.Wide,G.Standalone);break;case"LLLLL":pt=et(It.Months,he.Narrow,G.Standalone);break;case"w":pt=fn(1);break;case"ww":pt=fn(2);break;case"W":pt=fn(1,!0);break;case"d":pt=en(je.Date,1);break;case"dd":pt=en(je.Date,2);break;case"c":case"cc":pt=en(je.Day,1);break;case"ccc":pt=et(It.Days,he.Abbreviated,G.Standalone);break;case"cccc":pt=et(It.Days,he.Wide,G.Standalone);break;case"ccccc":pt=et(It.Days,he.Narrow,G.Standalone);break;case"cccccc":pt=et(It.Days,he.Short,G.Standalone);break;case"E":case"EE":case"EEE":pt=et(It.Days,he.Abbreviated);break;case"EEEE":pt=et(It.Days,he.Wide);break;case"EEEEE":pt=et(It.Days,he.Narrow);break;case"EEEEEE":pt=et(It.Days,he.Short);break;case"a":case"aa":case"aaa":pt=et(It.DayPeriods,he.Abbreviated);break;case"aaaa":pt=et(It.DayPeriods,he.Wide);break;case"aaaaa":pt=et(It.DayPeriods,he.Narrow);break;case"b":case"bb":case"bbb":pt=et(It.DayPeriods,he.Abbreviated,G.Standalone,!0);break;case"bbbb":pt=et(It.DayPeriods,he.Wide,G.Standalone,!0);break;case"bbbbb":pt=et(It.DayPeriods,he.Narrow,G.Standalone,!0);break;case"B":case"BB":case"BBB":pt=et(It.DayPeriods,he.Abbreviated,G.Format,!0);break;case"BBBB":pt=et(It.DayPeriods,he.Wide,G.Format,!0);break;case"BBBBB":pt=et(It.DayPeriods,he.Narrow,G.Format,!0);break;case"h":pt=en(je.Hours,1,-12);break;case"hh":pt=en(je.Hours,2,-12);break;case"H":pt=en(je.Hours,1);break;case"HH":pt=en(je.Hours,2);break;case"m":pt=en(je.Minutes,1);break;case"mm":pt=en(je.Minutes,2);break;case"s":pt=en(je.Seconds,1);break;case"ss":pt=en(je.Seconds,2);break;case"S":pt=en(je.FractionalSeconds,1);break;case"SS":pt=en(je.FractionalSeconds,2);break;case"SSS":pt=en(je.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":pt=Je(st.Short);break;case"ZZZZZ":pt=Je(st.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":pt=Je(st.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":pt=Je(st.Long);break;default:return null}return Dn[Me]=pt,pt}(_o);uo+=Yi?Yi(nn,He,to):"''"===_o?"'":_o.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),uo}function Ne(Me,pt,He){const Et=new Date(0);return Et.setFullYear(Me,pt,He),Et.setHours(0,0,0),Et}function me(Me,pt){const He=function z(Me){return(0,e.cg1)(Me)[e.wAp.LocaleId]}(Me);if(Mt[He]=Mt[He]||{},Mt[He][pt])return Mt[He][pt];let Et="";switch(pt){case"shortDate":Et=X(Me,j.Short);break;case"mediumDate":Et=X(Me,j.Medium);break;case"longDate":Et=X(Me,j.Long);break;case"fullDate":Et=X(Me,j.Full);break;case"shortTime":Et=xe(Me,j.Short);break;case"mediumTime":Et=xe(Me,j.Medium);break;case"longTime":Et=xe(Me,j.Long);break;case"fullTime":Et=xe(Me,j.Full);break;case"short":const nn=me(Me,"shortTime"),kn=me(Me,"shortDate");Et=gt(we(Me,j.Short),[nn,kn]);break;case"medium":const Ln=me(Me,"mediumTime"),ui=me(Me,"mediumDate");Et=gt(we(Me,j.Medium),[Ln,ui]);break;case"long":const to=me(Me,"longTime"),uo=me(Me,"longDate");Et=gt(we(Me,j.Long),[to,uo]);break;case"full":const _o=me(Me,"fullTime"),Yi=me(Me,"fullDate");Et=gt(we(Me,j.Full),[_o,Yi])}return Et&&(Mt[He][pt]=Et),Et}function gt(Me,pt){return pt&&(Me=Me.replace(/\{([^}]+)}/g,function(He,Et){return null!=pt&&Et in pt?pt[Et]:He})),Me}function un(Me,pt,He="-",Et,nn){let kn="";(Me<0||nn&&Me<=0)&&(nn?Me=1-Me:(Me=-Me,kn=He));let Ln=String(Me);for(;Ln.length<pt;)Ln="0"+Ln;return Et&&(Ln=Ln.slice(Ln.length-pt)),kn+Ln}function en(Me,pt,He=0,Et=!1,nn=!1){return function(kn,Ln){let ui=function _t(Me,pt){switch(Me){case je.FullYear:return pt.getFullYear();case je.Month:return pt.getMonth();case je.Date:return pt.getDate();case je.Hours:return pt.getHours();case je.Minutes:return pt.getMinutes();case je.Seconds:return pt.getSeconds();case je.FractionalSeconds:return pt.getMilliseconds();case je.Day:return pt.getDay();default:throw new Error(`Unknown DateType value "${Me}".`)}}(Me,kn);if((He>0||ui>-He)&&(ui+=He),Me===je.Hours)0===ui&&-12===He&&(ui=12);else if(Me===je.FractionalSeconds)return function In(Me,pt){return un(Me,3).substring(0,pt)}(ui,pt);const to=Oe(Ln,Q.MinusSign);return un(ui,pt,to,Et,nn)}}function et(Me,pt,He=G.Format,Et=!1){return function(nn,kn){return function de(Me,pt,He,Et,nn,kn){switch(He){case It.Months:return function Ae(Me,pt,He){const Et=(0,e.cg1)(Me),kn=fe([Et[e.wAp.MonthsFormat],Et[e.wAp.MonthsStandalone]],pt);return fe(kn,He)}(pt,nn,Et)[Me.getMonth()];case It.Days:return function Te(Me,pt,He){const Et=(0,e.cg1)(Me),kn=fe([Et[e.wAp.DaysFormat],Et[e.wAp.DaysStandalone]],pt);return fe(kn,He)}(pt,nn,Et)[Me.getDay()];case It.DayPeriods:const Ln=Me.getHours(),ui=Me.getMinutes();if(kn){const uo=function Ut(Me){const pt=(0,e.cg1)(Me);return Ht(pt),(pt[e.wAp.ExtraData][2]||[]).map(Et=>"string"==typeof Et?ke(Et):[ke(Et[0]),ke(Et[1])])}(pt),_o=function ct(Me,pt,He){const Et=(0,e.cg1)(Me);Ht(Et);const kn=fe([Et[e.wAp.ExtraData][0],Et[e.wAp.ExtraData][1]],pt)||[];return fe(kn,He)||[]}(pt,nn,Et),Yi=uo.findIndex(Co=>{if(Array.isArray(Co)){const[bi,xo]=Co,Yo=Ln>=bi.hours&&ui>=bi.minutes,Us=Ln<xo.hours||Ln===xo.hours&&ui<xo.minutes;if(bi.hours<xo.hours){if(Yo&&Us)return!0}else if(Yo||Us)return!0}else if(Co.hours===Ln&&Co.minutes===ui)return!0;return!1});if(-1!==Yi)return _o[Yi]}return function oe(Me,pt,He){const Et=(0,e.cg1)(Me),kn=fe([Et[e.wAp.DayPeriodsFormat],Et[e.wAp.DayPeriodsStandalone]],pt);return fe(kn,He)}(pt,nn,Et)[Ln<12?0:1];case It.Eras:return function Ke(Me,pt){return fe((0,e.cg1)(Me)[e.wAp.Eras],pt)}(pt,Et)[Me.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${He}`)}}(nn,kn,Me,pt,He,Et)}}function Je(Me){return function(pt,He,Et){const nn=-1*Et,kn=Oe(He,Q.MinusSign),Ln=nn>0?Math.floor(nn/60):Math.ceil(nn/60);switch(Me){case st.Short:return(nn>=0?"+":"")+un(Ln,2,kn)+un(Math.abs(nn%60),2,kn);case st.ShortGMT:return"GMT"+(nn>=0?"+":"")+un(Ln,1,kn);case st.Long:return"GMT"+(nn>=0?"+":"")+un(Ln,2,kn)+":"+un(Math.abs(nn%60),2,kn);case st.Extended:return 0===Et?"Z":(nn>=0?"+":"")+un(Ln,2,kn)+":"+un(Math.abs(nn%60),2,kn);default:throw new Error(`Unknown zone width "${Me}"`)}}}function qt(Me){return Ne(Me.getFullYear(),Me.getMonth(),Me.getDate()+(4-Me.getDay()))}function fn(Me,pt=!1){return function(He,Et){let nn;if(pt){const kn=new Date(He.getFullYear(),He.getMonth(),1).getDay()-1,Ln=He.getDate();nn=1+Math.floor((Ln+kn)/7)}else{const kn=qt(He),Ln=function Fe(Me){const pt=Ne(Me,0,1).getDay();return Ne(Me,0,1+(pt<=4?4:11)-pt)}(kn.getFullYear()),ui=kn.getTime()-Ln.getTime();nn=1+Math.round(ui/6048e5)}return un(nn,Me,Oe(Et,Q.MinusSign))}}function Jt(Me,pt=!1){return function(He,Et){return un(qt(He).getFullYear(),Me,Oe(Et,Q.MinusSign),pt)}}const Dn={};function rn(Me,pt){Me=Me.replace(/:/g,"");const He=Date.parse("Jan 01, 1970 00:00:00 "+Me)/6e4;return isNaN(He)?pt:He}function Ni(Me){return Me instanceof Date&&!isNaN(Me.valueOf())}const oo=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function an(Me,pt,He,Et,nn,kn,Ln=!1){let ui="",to=!1;if(isFinite(Me)){let uo=function oi(Me){let Et,nn,kn,Ln,ui,pt=Math.abs(Me)+"",He=0;for((nn=pt.indexOf("."))>-1&&(pt=pt.replace(".","")),(kn=pt.search(/e/i))>0?(nn<0&&(nn=kn),nn+=+pt.slice(kn+1),pt=pt.substring(0,kn)):nn<0&&(nn=pt.length),kn=0;"0"===pt.charAt(kn);kn++);if(kn===(ui=pt.length))Et=[0],nn=1;else{for(ui--;"0"===pt.charAt(ui);)ui--;for(nn-=kn,Et=[],Ln=0;kn<=ui;kn++,Ln++)Et[Ln]=Number(pt.charAt(kn))}return nn>22&&(Et=Et.splice(0,21),He=nn-1,nn=1),{digits:Et,exponent:He,integerLen:nn}}(Me);Ln&&(uo=function pi(Me){if(0===Me.digits[0])return Me;const pt=Me.digits.length-Me.integerLen;return Me.exponent?Me.exponent+=2:(0===pt?Me.digits.push(0,0):1===pt&&Me.digits.push(0),Me.integerLen+=2),Me}(uo));let _o=pt.minInt,Yi=pt.minFrac,Co=pt.maxFrac;if(kn){const ur=kn.match(oo);if(null===ur)throw new Error(`${kn} is not a valid digit info`);const mt=ur[1],ae=ur[3],pe=ur[5];null!=mt&&(_o=$i(mt)),null!=ae&&(Yi=$i(ae)),null!=pe?Co=$i(pe):null!=ae&&Yi>Co&&(Co=Yi)}!function ki(Me,pt,He){if(pt>He)throw new Error(`The minimum number of digits after fraction (${pt}) is higher than the maximum (${He}).`);let Et=Me.digits,nn=Et.length-Me.integerLen;const kn=Math.min(Math.max(pt,nn),He);let Ln=kn+Me.integerLen,ui=Et[Ln];if(Ln>0){Et.splice(Math.max(Me.integerLen,Ln));for(let Yi=Ln;Yi<Et.length;Yi++)Et[Yi]=0}else{nn=Math.max(0,nn),Me.integerLen=1,Et.length=Math.max(1,Ln=kn+1),Et[0]=0;for(let Yi=1;Yi<Ln;Yi++)Et[Yi]=0}if(ui>=5)if(Ln-1<0){for(let Yi=0;Yi>Ln;Yi--)Et.unshift(0),Me.integerLen++;Et.unshift(1),Me.integerLen++}else Et[Ln-1]++;for(;nn<Math.max(0,kn);nn++)Et.push(0);let to=0!==kn;const uo=pt+Me.integerLen,_o=Et.reduceRight(function(Yi,Co,bi,xo){return xo[bi]=(Co+=Yi)<10?Co:Co-10,to&&(0===xo[bi]&&bi>=uo?xo.pop():to=!1),Co>=10?1:0},0);_o&&(Et.unshift(_o),Me.integerLen++)}(uo,Yi,Co);let bi=uo.digits,xo=uo.integerLen;const Yo=uo.exponent;let Us=[];for(to=bi.every(ur=>!ur);xo<_o;xo++)bi.unshift(0);for(;xo<0;xo++)bi.unshift(0);xo>0?Us=bi.splice(xo,bi.length):(Us=bi,bi=[0]);const us=[];for(bi.length>=pt.lgSize&&us.unshift(bi.splice(-pt.lgSize,bi.length).join(""));bi.length>pt.gSize;)us.unshift(bi.splice(-pt.gSize,bi.length).join(""));bi.length&&us.unshift(bi.join("")),ui=us.join(Oe(He,Et)),Us.length&&(ui+=Oe(He,nn)+Us.join("")),Yo&&(ui+=Oe(He,Q.Exponential)+"+"+Yo)}else ui=Oe(He,Q.Infinity);return ui=Me<0&&!to?pt.negPre+ui+pt.negSuf:pt.posPre+ui+pt.posSuf,ui}function ai(Me,pt="-"){const He={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Et=Me.split(";"),nn=Et[0],kn=Et[1],Ln=-1!==nn.indexOf(".")?nn.split("."):[nn.substring(0,nn.lastIndexOf("0")+1),nn.substring(nn.lastIndexOf("0")+1)],ui=Ln[0],to=Ln[1]||"";He.posPre=ui.substring(0,ui.indexOf("#"));for(let _o=0;_o<to.length;_o++){const Yi=to.charAt(_o);"0"===Yi?He.minFrac=He.maxFrac=_o+1:"#"===Yi?He.maxFrac=_o+1:He.posSuf+=Yi}const uo=ui.split(",");if(He.gSize=uo[1]?uo[1].length:0,He.lgSize=uo[2]||uo[1]?(uo[2]||uo[1]).length:0,kn){const _o=nn.length-He.posPre.length-He.posSuf.length,Yi=kn.indexOf("#");He.negPre=kn.substring(0,Yi).replace(/'/g,""),He.negSuf=kn.slice(Yi+_o).replace(/'/g,"")}else He.negPre=pt+He.posPre,He.negSuf=He.posSuf;return He}function $i(Me){const pt=parseInt(Me);if(isNaN(pt))throw new Error("Invalid integer literal when parsing "+Me);return pt}function Ko(Me,pt,He){return(0,e.dwT)(Me,pt,He)}function Go(Me,pt){pt=encodeURIComponent(pt);for(const He of Me.split(";")){const Et=He.indexOf("="),[nn,kn]=-1==Et?[He,""]:[He.slice(0,Et),He.slice(Et+1)];if(nn.trim()===pt)return decodeURIComponent(kn)}return null}let Ao=(()=>{class Me{constructor(He,Et,nn,kn){this._iterableDiffers=He,this._keyValueDiffers=Et,this._ngEl=nn,this._renderer=kn,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(He){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof He?He.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(He){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof He?He.split(/\s+/):He,this._rawClass&&((0,e.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const He=this._iterableDiffer.diff(this._rawClass);He&&this._applyIterableChanges(He)}else if(this._keyValueDiffer){const He=this._keyValueDiffer.diff(this._rawClass);He&&this._applyKeyValueChanges(He)}}_applyKeyValueChanges(He){He.forEachAddedItem(Et=>this._toggleClass(Et.key,Et.currentValue)),He.forEachChangedItem(Et=>this._toggleClass(Et.key,Et.currentValue)),He.forEachRemovedItem(Et=>{Et.previousValue&&this._toggleClass(Et.key,!1)})}_applyIterableChanges(He){He.forEachAddedItem(Et=>{if("string"!=typeof Et.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,e.AaK)(Et.item)}`);this._toggleClass(Et.item,!0)}),He.forEachRemovedItem(Et=>this._toggleClass(Et.item,!1))}_applyClasses(He){He&&(Array.isArray(He)||He instanceof Set?He.forEach(Et=>this._toggleClass(Et,!0)):Object.keys(He).forEach(Et=>this._toggleClass(Et,!!He[Et])))}_removeClasses(He){He&&(Array.isArray(He)||He instanceof Set?He.forEach(Et=>this._toggleClass(Et,!1)):Object.keys(He).forEach(Et=>this._toggleClass(Et,!1)))}_toggleClass(He,Et){(He=He.trim())&&He.split(/\s+/g).forEach(nn=>{Et?this._renderer.addClass(this._ngEl.nativeElement,nn):this._renderer.removeClass(this._ngEl.nativeElement,nn)})}}return Me.\u0275fac=function(He){return new(He||Me)(e.Y36(e.ZZ4),e.Y36(e.aQg),e.Y36(e.SBq),e.Y36(e.Qsj))},Me.\u0275dir=e.lG2({type:Me,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),Me})();class os{constructor(pt,He,Et,nn){this.$implicit=pt,this.ngForOf=He,this.index=Et,this.count=nn}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ho=(()=>{class Me{constructor(He,Et,nn){this._viewContainer=He,this._template=Et,this._differs=nn,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(He){this._ngForOf=He,this._ngForOfDirty=!0}set ngForTrackBy(He){this._trackByFn=He}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(He){He&&(this._template=He)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const He=this._ngForOf;!this._differ&&He&&(this._differ=this._differs.find(He).create(this.ngForTrackBy))}if(this._differ){const He=this._differ.diff(this._ngForOf);He&&this._applyChanges(He)}}_applyChanges(He){const Et=this._viewContainer;He.forEachOperation((nn,kn,Ln)=>{if(null==nn.previousIndex)Et.createEmbeddedView(this._template,new os(nn.item,this._ngForOf,-1,-1),null===Ln?void 0:Ln);else if(null==Ln)Et.remove(null===kn?void 0:kn);else if(null!==kn){const ui=Et.get(kn);Et.move(ui,Ln),so(ui,nn)}});for(let nn=0,kn=Et.length;nn<kn;nn++){const ui=Et.get(nn).context;ui.index=nn,ui.count=kn,ui.ngForOf=this._ngForOf}He.forEachIdentityChange(nn=>{so(Et.get(nn.currentIndex),nn)})}static ngTemplateContextGuard(He,Et){return!0}}return Me.\u0275fac=function(He){return new(He||Me)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(e.ZZ4))},Me.\u0275dir=e.lG2({type:Me,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),Me})();function so(Me,pt){Me.context.$implicit=pt.item}let Mo=(()=>{class Me{constructor(He,Et){this._viewContainer=He,this._context=new es,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Et}set ngIf(He){this._context.$implicit=this._context.ngIf=He,this._updateView()}set ngIfThen(He){bo("ngIfThen",He),this._thenTemplateRef=He,this._thenViewRef=null,this._updateView()}set ngIfElse(He){bo("ngIfElse",He),this._elseTemplateRef=He,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(He,Et){return!0}}return Me.\u0275fac=function(He){return new(He||Me)(e.Y36(e.s_b),e.Y36(e.Rgc))},Me.\u0275dir=e.lG2({type:Me,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),Me})();class es{constructor(){this.$implicit=null,this.ngIf=null}}function bo(Me,pt){if(pt&&!pt.createEmbeddedView)throw new Error(`${Me} must be a TemplateRef, but received '${(0,e.AaK)(pt)}'.`)}class qo{constructor(pt,He){this._viewContainerRef=pt,this._templateRef=He,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(pt){pt&&!this._created?this.create():!pt&&this._created&&this.destroy()}}let Ls=(()=>{class Me{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(He){this._ngSwitch=He,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(He){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(He)}_matchCase(He){const Et=He==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Et,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Et}_updateDefaultCases(He){if(this._defaultViews&&He!==this._defaultUsed){this._defaultUsed=He;for(let Et=0;Et<this._defaultViews.length;Et++)this._defaultViews[Et].enforceState(He)}}}return Me.\u0275fac=function(He){return new(He||Me)},Me.\u0275dir=e.lG2({type:Me,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),Me})(),Is=(()=>{class Me{constructor(He,Et,nn){this.ngSwitch=nn,nn._addCase(),this._view=new qo(He,Et)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return Me.\u0275fac=function(He){return new(He||Me)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(Ls,9))},Me.\u0275dir=e.lG2({type:Me,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),Me})(),Rs=(()=>{class Me{constructor(He,Et,nn){nn._addDefault(new qo(He,Et))}}return Me.\u0275fac=function(He){return new(He||Me)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(Ls,9))},Me.\u0275dir=e.lG2({type:Me,selectors:[["","ngSwitchDefault",""]],standalone:!0}),Me})(),Cr=(()=>{class Me{constructor(He,Et,nn){this._ngEl=He,this._differs=Et,this._renderer=nn,this._ngStyle=null,this._differ=null}set ngStyle(He){this._ngStyle=He,!this._differ&&He&&(this._differ=this._differs.find(He).create())}ngDoCheck(){if(this._differ){const He=this._differ.diff(this._ngStyle);He&&this._applyChanges(He)}}_setStyle(He,Et){const[nn,kn]=He.split("."),Ln=-1===nn.indexOf("-")?void 0:e.JOm.DashCase;null!=Et?this._renderer.setStyle(this._ngEl.nativeElement,nn,kn?`${Et}${kn}`:Et,Ln):this._renderer.removeStyle(this._ngEl.nativeElement,nn,Ln)}_applyChanges(He){He.forEachRemovedItem(Et=>this._setStyle(Et.key,null)),He.forEachAddedItem(Et=>this._setStyle(Et.key,Et.currentValue)),He.forEachChangedItem(Et=>this._setStyle(Et.key,Et.currentValue))}}return Me.\u0275fac=function(He){return new(He||Me)(e.Y36(e.SBq),e.Y36(e.aQg),e.Y36(e.Qsj))},Me.\u0275dir=e.lG2({type:Me,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),Me})(),Sr=(()=>{class Me{constructor(He){this._viewContainerRef=He,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(He){if(He.ngTemplateOutlet||He.ngTemplateOutletInjector){const Et=this._viewContainerRef;if(this._viewRef&&Et.remove(Et.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:nn,ngTemplateOutletContext:kn,ngTemplateOutletInjector:Ln}=this;this._viewRef=Et.createEmbeddedView(nn,kn,Ln?{injector:Ln}:void 0)}else this._viewRef=null}else this._viewRef&&He.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return Me.\u0275fac=function(He){return new(He||Me)(e.Y36(e.s_b))},Me.\u0275dir=e.lG2({type:Me,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[e.TTD]}),Me})();function gs(Me,pt){return new e.vHH(2100,!1)}class la{createSubscription(pt,He){return pt.subscribe({next:He,error:Et=>{throw Et}})}dispose(pt){pt.unsubscribe()}}class Ns{createSubscription(pt,He){return pt.then(He,Et=>{throw Et})}dispose(pt){}}const ea=new Ns,$s=new la;let qi=(()=>{class Me{constructor(He){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=He}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(He){return this._obj?He!==this._obj?(this._dispose(),this.transform(He)):this._latestValue:(He&&this._subscribe(He),this._latestValue)}_subscribe(He){this._obj=He,this._strategy=this._selectStrategy(He),this._subscription=this._strategy.createSubscription(He,Et=>this._updateLatestValue(He,Et))}_selectStrategy(He){if((0,e.QGY)(He))return ea;if((0,e.F4k)(He))return $s;throw gs()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(He,Et){He===this._obj&&(this._latestValue=Et,this._ref.markForCheck())}}return Me.\u0275fac=function(He){return new(He||Me)(e.Y36(e.sBO,16))},Me.\u0275pipe=e.Yjl({name:"async",type:Me,pure:!1,standalone:!0}),Me})();const Ii=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Ws=(()=>{class Me{transform(He){if(null==He)return null;if("string"!=typeof He)throw gs();return He.replace(Ii,Et=>Et[0].toUpperCase()+Et.slice(1).toLowerCase())}}return Me.\u0275fac=function(He){return new(He||Me)},Me.\u0275pipe=e.Yjl({name:"titlecase",type:Me,pure:!0,standalone:!0}),Me})();const ss=new e.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let kr=(()=>{class Me{constructor(He,Et){this.locale=He,this.defaultTimezone=Et}transform(He,Et="mediumDate",nn,kn){var Ln;if(null==He||""===He||He!=He)return null;try{return ne(He,Et,kn||this.locale,null!==(Ln=null!=nn?nn:this.defaultTimezone)&&void 0!==Ln?Ln:void 0)}catch(ui){throw gs()}}}return Me.\u0275fac=function(He){return new(He||Me)(e.Y36(e.soG,16),e.Y36(ss,24))},Me.\u0275pipe=e.Yjl({name:"date",type:Me,pure:!0,standalone:!0}),Me})(),Bs=(()=>{class Me{constructor(He){this.differs=He,this.keyValues=[],this.compareFn=fo}transform(He,Et=fo){if(!He||!(He instanceof Map)&&"object"!=typeof He)return null;this.differ||(this.differ=this.differs.find(He).create());const nn=this.differ.diff(He),kn=Et!==this.compareFn;return nn&&(this.keyValues=[],nn.forEachItem(Ln=>{this.keyValues.push(function Xs(Me,pt){return{key:Me,value:pt}}(Ln.key,Ln.currentValue))})),(nn||kn)&&(this.keyValues.sort(Et),this.compareFn=Et),this.keyValues}}return Me.\u0275fac=function(He){return new(He||Me)(e.Y36(e.aQg,16))},Me.\u0275pipe=e.Yjl({name:"keyvalue",type:Me,pure:!1,standalone:!0}),Me})();function fo(Me,pt){const He=Me.key,Et=pt.key;if(He===Et)return 0;if(void 0===He)return 1;if(void 0===Et)return-1;if(null===He)return 1;if(null===Et)return-1;if("string"==typeof He&&"string"==typeof Et)return He<Et?-1:1;if("number"==typeof He&&"number"==typeof Et)return He-Et;if("boolean"==typeof He&&"boolean"==typeof Et)return He<Et?-1:1;const nn=String(He),kn=String(Et);return nn==kn?0:nn<kn?-1:1}let As=(()=>{class Me{constructor(He){this._locale=He}transform(He,Et,nn){if(!ms(He))return null;nn=nn||this._locale;try{return function qn(Me,pt,He){return an(Me,ai(dt(pt,q.Decimal),Oe(pt,Q.MinusSign)),pt,Q.Group,Q.Decimal,He)}(ws(He),nn,Et)}catch(kn){throw gs()}}}return Me.\u0275fac=function(He){return new(He||Me)(e.Y36(e.soG,16))},Me.\u0275pipe=e.Yjl({name:"number",type:Me,pure:!0,standalone:!0}),Me})(),Cs=(()=>{class Me{constructor(He,Et="USD"){this._locale=He,this._defaultCurrencyCode=Et}transform(He,Et=this._defaultCurrencyCode,nn="symbol",kn,Ln){if(!ms(He))return null;Ln=Ln||this._locale,"boolean"==typeof nn&&(nn=nn?"symbol":"code");let ui=Et||this._defaultCurrencyCode;"code"!==nn&&(ui="symbol"===nn||"symbol-narrow"===nn?function ot(Me,pt,He="en"){const Et=function vt(Me){return(0,e.cg1)(Me)[e.wAp.Currencies]}(He)[Me]||ue[Me]||[],nn=Et[1];return"narrow"===pt&&"string"==typeof nn?nn:Et[0]||Me}(ui,"symbol"===nn?"wide":"narrow",Ln):nn);try{return function pn(Me,pt,He,Et,nn){const Ln=ai(dt(pt,q.Currency),Oe(pt,Q.MinusSign));return Ln.minFrac=function Ot(Me){let pt;const He=ue[Me];return He&&(pt=He[2]),"number"==typeof pt?pt:2}(Et),Ln.maxFrac=Ln.minFrac,an(Me,Ln,pt,Q.CurrencyGroup,Q.CurrencyDecimal,nn).replace("\xa4",He).replace("\xa4","").trim()}(ws(He),Ln,ui,Et,kn)}catch(to){throw gs()}}}return Me.\u0275fac=function(He){return new(He||Me)(e.Y36(e.soG,16),e.Y36(e.EJc,16))},Me.\u0275pipe=e.Yjl({name:"currency",type:Me,pure:!0,standalone:!0}),Me})();function ms(Me){return!(null==Me||""===Me||Me!=Me)}function ws(Me){if("string"==typeof Me&&!isNaN(Number(Me)-parseFloat(Me)))return Number(Me);if("number"!=typeof Me)throw new Error(`${Me} is not a number`);return Me}let br=(()=>{class Me{transform(He,Et,nn){if(null==He)return null;if(!this.supports(He))throw gs();return He.slice(Et,nn)}supports(He){return"string"==typeof He||Array.isArray(He)}}return Me.\u0275fac=function(He){return new(He||Me)},Me.\u0275pipe=e.Yjl({name:"slice",type:Me,pure:!1,standalone:!0}),Me})(),Mr=(()=>{class Me{}return Me.\u0275fac=function(He){return new(He||Me)},Me.\u0275mod=e.oAB({type:Me}),Me.\u0275inj=e.cJS({}),Me})();const ir="browser";function St(Me){return Me===ir}function hn(Me){return"server"===Me}let zt=(()=>{class Me{}return Me.\u0275prov=(0,e.Yz7)({token:Me,providedIn:"root",factory:()=>new Nn((0,e.LFG)(y),window)}),Me})();class Nn{constructor(pt,He){this.document=pt,this.window=He,this.offset=()=>[0,0]}setOffset(pt){this.offset=Array.isArray(pt)?()=>pt:pt}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(pt){this.supportsScrolling()&&this.window.scrollTo(pt[0],pt[1])}scrollToAnchor(pt){if(!this.supportsScrolling())return;const He=function si(Me,pt){const He=Me.getElementById(pt)||Me.getElementsByName(pt)[0];if(He)return He;if("function"==typeof Me.createTreeWalker&&Me.body&&(Me.body.createShadowRoot||Me.body.attachShadow)){const Et=Me.createTreeWalker(Me.body,NodeFilter.SHOW_ELEMENT);let nn=Et.currentNode;for(;nn;){const kn=nn.shadowRoot;if(kn){const Ln=kn.getElementById(pt)||kn.querySelector(`[name="${pt}"]`);if(Ln)return Ln}nn=Et.nextNode()}}return null}(this.document,pt);He&&(this.scrollToElement(He),He.focus())}setHistoryScrollRestoration(pt){if(this.supportScrollRestoration()){const He=this.window.history;He&&He.scrollRestoration&&(He.scrollRestoration=pt)}}scrollToElement(pt){const He=pt.getBoundingClientRect(),Et=He.left+this.window.pageXOffset,nn=He.top+this.window.pageYOffset,kn=this.offset();this.window.scrollTo(Et-kn[0],nn-kn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const pt=Wn(this.window.history)||Wn(Object.getPrototypeOf(this.window.history));return!(!pt||!pt.writable&&!pt.set)}catch(pt){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(pt){return!1}}}function Wn(Me){return Object.getOwnPropertyDescriptor(Me,"scrollRestoration")}class Zi{}},520:(mn,ht,b)=>{"use strict";b.d(ht,{JF:()=>Ot,eN:()=>z});var e=b(9808),a=b(5e3),f=b(9646),g=b(9751),_=b(4351),P=b(9300),y=b(4004);class l{}class R{}class L{constructor(st){this.normalizedNames=new Map,this.lazyUpdate=null,st?this.lazyInit="string"==typeof st?()=>{this.headers=new Map,st.split("\n").forEach(je=>{const It=je.indexOf(":");if(It>0){const ne=je.slice(0,It),Ne=ne.toLowerCase(),me=je.slice(It+1).trim();this.maybeSetNormalizedName(ne,Ne),this.headers.has(Ne)?this.headers.get(Ne).push(me):this.headers.set(Ne,[me])}})}:()=>{this.headers=new Map,Object.keys(st).forEach(je=>{let It=st[je];const ne=je.toLowerCase();"string"==typeof It&&(It=[It]),It.length>0&&(this.headers.set(ne,It),this.maybeSetNormalizedName(je,ne))})}:this.headers=new Map}has(st){return this.init(),this.headers.has(st.toLowerCase())}get(st){this.init();const je=this.headers.get(st.toLowerCase());return je&&je.length>0?je[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(st){return this.init(),this.headers.get(st.toLowerCase())||null}append(st,je){return this.clone({name:st,value:je,op:"a"})}set(st,je){return this.clone({name:st,value:je,op:"s"})}delete(st,je){return this.clone({name:st,value:je,op:"d"})}maybeSetNormalizedName(st,je){this.normalizedNames.has(je)||this.normalizedNames.set(je,st)}init(){this.lazyInit&&(this.lazyInit instanceof L?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(st=>this.applyUpdate(st)),this.lazyUpdate=null))}copyFrom(st){st.init(),Array.from(st.headers.keys()).forEach(je=>{this.headers.set(je,st.headers.get(je)),this.normalizedNames.set(je,st.normalizedNames.get(je))})}clone(st){const je=new L;return je.lazyInit=this.lazyInit&&this.lazyInit instanceof L?this.lazyInit:this,je.lazyUpdate=(this.lazyUpdate||[]).concat([st]),je}applyUpdate(st){const je=st.name.toLowerCase();switch(st.op){case"a":case"s":let It=st.value;if("string"==typeof It&&(It=[It]),0===It.length)return;this.maybeSetNormalizedName(st.name,je);const ne=("a"===st.op?this.headers.get(je):void 0)||[];ne.push(...It),this.headers.set(je,ne);break;case"d":const Ne=st.value;if(Ne){let me=this.headers.get(je);if(!me)return;me=me.filter(gt=>-1===Ne.indexOf(gt)),0===me.length?(this.headers.delete(je),this.normalizedNames.delete(je)):this.headers.set(je,me)}else this.headers.delete(je),this.normalizedNames.delete(je)}}forEach(st){this.init(),Array.from(this.normalizedNames.keys()).forEach(je=>st(this.normalizedNames.get(je),this.headers.get(je)))}}class N{encodeKey(st){return S(st)}encodeValue(st){return S(st)}decodeKey(st){return decodeURIComponent(st)}decodeValue(st){return decodeURIComponent(st)}}const x=/%(\d[a-f0-9])/gi,D={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function S(Ye){return encodeURIComponent(Ye).replace(x,(st,je)=>{var It;return null!==(It=D[je])&&void 0!==It?It:st})}function U(Ye){return`${Ye}`}class F{constructor(st={}){if(this.updates=null,this.cloneFrom=null,this.encoder=st.encoder||new N,st.fromString){if(st.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function w(Ye,st){const je=new Map;return Ye.length>0&&Ye.replace(/^\?/,"").split("&").forEach(ne=>{const Ne=ne.indexOf("="),[me,gt]=-1==Ne?[st.decodeKey(ne),""]:[st.decodeKey(ne.slice(0,Ne)),st.decodeValue(ne.slice(Ne+1))],un=je.get(me)||[];un.push(gt),je.set(me,un)}),je}(st.fromString,this.encoder)}else st.fromObject?(this.map=new Map,Object.keys(st.fromObject).forEach(je=>{const It=st.fromObject[je],ne=Array.isArray(It)?It.map(U):[U(It)];this.map.set(je,ne)})):this.map=null}has(st){return this.init(),this.map.has(st)}get(st){this.init();const je=this.map.get(st);return je?je[0]:null}getAll(st){return this.init(),this.map.get(st)||null}keys(){return this.init(),Array.from(this.map.keys())}append(st,je){return this.clone({param:st,value:je,op:"a"})}appendAll(st){const je=[];return Object.keys(st).forEach(It=>{const ne=st[It];Array.isArray(ne)?ne.forEach(Ne=>{je.push({param:It,value:Ne,op:"a"})}):je.push({param:It,value:ne,op:"a"})}),this.clone(je)}set(st,je){return this.clone({param:st,value:je,op:"s"})}delete(st,je){return this.clone({param:st,value:je,op:"d"})}toString(){return this.init(),this.keys().map(st=>{const je=this.encoder.encodeKey(st);return this.map.get(st).map(It=>je+"="+this.encoder.encodeValue(It)).join("&")}).filter(st=>""!==st).join("&")}clone(st){const je=new F({encoder:this.encoder});return je.cloneFrom=this.cloneFrom||this,je.updates=(this.updates||[]).concat(st),je}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(st=>this.map.set(st,this.cloneFrom.map.get(st))),this.updates.forEach(st=>{switch(st.op){case"a":case"s":const je=("a"===st.op?this.map.get(st.param):void 0)||[];je.push(U(st.value)),this.map.set(st.param,je);break;case"d":if(void 0===st.value){this.map.delete(st.param);break}{let It=this.map.get(st.param)||[];const ne=It.indexOf(U(st.value));-1!==ne&&It.splice(ne,1),It.length>0?this.map.set(st.param,It):this.map.delete(st.param)}}}),this.cloneFrom=this.updates=null)}}class te{constructor(){this.map=new Map}set(st,je){return this.map.set(st,je),this}get(st){return this.map.has(st)||this.map.set(st,st.defaultValue()),this.map.get(st)}delete(st){return this.map.delete(st),this}has(st){return this.map.has(st)}keys(){return this.map.keys()}}function k(Ye){return"undefined"!=typeof ArrayBuffer&&Ye instanceof ArrayBuffer}function O(Ye){return"undefined"!=typeof Blob&&Ye instanceof Blob}function $(Ye){return"undefined"!=typeof FormData&&Ye instanceof FormData}class q{constructor(st,je,It,ne){let Ne;if(this.url=je,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=st.toUpperCase(),function V(Ye){switch(Ye){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ne?(this.body=void 0!==It?It:null,Ne=ne):Ne=It,Ne&&(this.reportProgress=!!Ne.reportProgress,this.withCredentials=!!Ne.withCredentials,Ne.responseType&&(this.responseType=Ne.responseType),Ne.headers&&(this.headers=Ne.headers),Ne.context&&(this.context=Ne.context),Ne.params&&(this.params=Ne.params)),this.headers||(this.headers=new L),this.context||(this.context=new te),this.params){const me=this.params.toString();if(0===me.length)this.urlWithParams=je;else{const gt=je.indexOf("?");this.urlWithParams=je+(-1===gt?"?":gt<je.length-1?"&":"")+me}}else this.params=new F,this.urlWithParams=je}serializeBody(){return null===this.body?null:k(this.body)||O(this.body)||$(this.body)||function ue(Ye){return"undefined"!=typeof URLSearchParams&&Ye instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof F?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$(this.body)?null:O(this.body)?this.body.type||null:k(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof F?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(st={}){var je;const It=st.method||this.method,ne=st.url||this.url,Ne=st.responseType||this.responseType,me=void 0!==st.body?st.body:this.body,gt=void 0!==st.withCredentials?st.withCredentials:this.withCredentials,un=void 0!==st.reportProgress?st.reportProgress:this.reportProgress;let In=st.headers||this.headers,en=st.params||this.params;const _t=null!==(je=st.context)&&void 0!==je?je:this.context;return void 0!==st.setHeaders&&(In=Object.keys(st.setHeaders).reduce((et,de)=>et.set(de,st.setHeaders[de]),In)),st.setParams&&(en=Object.keys(st.setParams).reduce((et,de)=>et.set(de,st.setParams[de]),en)),new q(It,ne,me,{params:en,headers:In,context:_t,reportProgress:un,responseType:Ne,withCredentials:gt})}}var Y=(()=>((Y=Y||{})[Y.Sent=0]="Sent",Y[Y.UploadProgress=1]="UploadProgress",Y[Y.ResponseHeader=2]="ResponseHeader",Y[Y.DownloadProgress=3]="DownloadProgress",Y[Y.Response=4]="Response",Y[Y.User=5]="User",Y))();class G{constructor(st,je=200,It="OK"){this.headers=st.headers||new L,this.status=void 0!==st.status?st.status:je,this.statusText=st.statusText||It,this.url=st.url||null,this.ok=this.status>=200&&this.status<300}}class he extends G{constructor(st={}){super(st),this.type=Y.ResponseHeader}clone(st={}){return new he({headers:st.headers||this.headers,status:void 0!==st.status?st.status:this.status,statusText:st.statusText||this.statusText,url:st.url||this.url||void 0})}}class j extends G{constructor(st={}){super(st),this.type=Y.Response,this.body=void 0!==st.body?st.body:null}clone(st={}){return new j({body:void 0!==st.body?st.body:this.body,headers:st.headers||this.headers,status:void 0!==st.status?st.status:this.status,statusText:st.statusText||this.statusText,url:st.url||this.url||void 0})}}class Q extends G{constructor(st){super(st,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${st.url||"(unknown url)"}`:`Http failure response for ${st.url||"(unknown url)"}: ${st.status} ${st.statusText}`,this.error=st.error||null}}function K(Ye,st){return{body:st,headers:Ye.headers,context:Ye.context,observe:Ye.observe,params:Ye.params,reportProgress:Ye.reportProgress,responseType:Ye.responseType,withCredentials:Ye.withCredentials}}let z=(()=>{class Ye{constructor(je){this.handler=je}request(je,It,ne={}){let Ne;if(je instanceof q)Ne=je;else{let un,In;un=ne.headers instanceof L?ne.headers:new L(ne.headers),ne.params&&(In=ne.params instanceof F?ne.params:new F({fromObject:ne.params})),Ne=new q(je,It,void 0!==ne.body?ne.body:null,{headers:un,context:ne.context,params:In,reportProgress:ne.reportProgress,responseType:ne.responseType||"json",withCredentials:ne.withCredentials})}const me=(0,f.of)(Ne).pipe((0,_.b)(un=>this.handler.handle(un)));if(je instanceof q||"events"===ne.observe)return me;const gt=me.pipe((0,P.h)(un=>un instanceof j));switch(ne.observe||"body"){case"body":switch(Ne.responseType){case"arraybuffer":return gt.pipe((0,y.U)(un=>{if(null!==un.body&&!(un.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return un.body}));case"blob":return gt.pipe((0,y.U)(un=>{if(null!==un.body&&!(un.body instanceof Blob))throw new Error("Response is not a Blob.");return un.body}));case"text":return gt.pipe((0,y.U)(un=>{if(null!==un.body&&"string"!=typeof un.body)throw new Error("Response is not a string.");return un.body}));default:return gt.pipe((0,y.U)(un=>un.body))}case"response":return gt;default:throw new Error(`Unreachable: unhandled observe type ${ne.observe}}`)}}delete(je,It={}){return this.request("DELETE",je,It)}get(je,It={}){return this.request("GET",je,It)}head(je,It={}){return this.request("HEAD",je,It)}jsonp(je,It){return this.request("JSONP",je,{params:(new F).append(It,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(je,It={}){return this.request("OPTIONS",je,It)}patch(je,It,ne={}){return this.request("PATCH",je,K(ne,It))}post(je,It,ne={}){return this.request("POST",je,K(ne,It))}put(je,It,ne={}){return this.request("PUT",je,K(ne,It))}}return Ye.\u0275fac=function(je){return new(je||Ye)(a.LFG(l))},Ye.\u0275prov=a.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();class oe{constructor(st,je){this.next=st,this.interceptor=je}handle(st){return this.interceptor.intercept(st,this.next)}}const Te=new a.OlP("HTTP_INTERCEPTORS");let Ae=(()=>{class Ye{intercept(je,It){return It.handle(je)}}return Ye.\u0275fac=function(je){return new(je||Ye)},Ye.\u0275prov=a.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const it=/^\)\]\}',?\n/;let vt=(()=>{class Ye{constructor(je){this.xhrFactory=je}handle(je){if("JSONP"===je.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new g.y(It=>{const ne=this.xhrFactory.build();if(ne.open(je.method,je.urlWithParams),je.withCredentials&&(ne.withCredentials=!0),je.headers.forEach((de,Je)=>ne.setRequestHeader(de,Je.join(","))),je.headers.has("Accept")||ne.setRequestHeader("Accept","application/json, text/plain, */*"),!je.headers.has("Content-Type")){const de=je.detectContentTypeHeader();null!==de&&ne.setRequestHeader("Content-Type",de)}if(je.responseType){const de=je.responseType.toLowerCase();ne.responseType="json"!==de?de:"text"}const Ne=je.serializeBody();let me=null;const gt=()=>{if(null!==me)return me;const de=ne.statusText||"OK",Je=new L(ne.getAllResponseHeaders()),ze=function Dt(Ye){return"responseURL"in Ye&&Ye.responseURL?Ye.responseURL:/^X-Request-URL:/m.test(Ye.getAllResponseHeaders())?Ye.getResponseHeader("X-Request-URL"):null}(ne)||je.url;return me=new he({headers:Je,status:ne.status,statusText:de,url:ze}),me},un=()=>{let{headers:de,status:Je,statusText:ze,url:wt}=gt(),Fe=null;204!==Je&&(Fe=void 0===ne.response?ne.responseText:ne.response),0===Je&&(Je=Fe?200:0);let qt=Je>=200&&Je<300;if("json"===je.responseType&&"string"==typeof Fe){const fn=Fe;Fe=Fe.replace(it,"");try{Fe=""!==Fe?JSON.parse(Fe):null}catch(Jt){Fe=fn,qt&&(qt=!1,Fe={error:Jt,text:Fe})}}qt?(It.next(new j({body:Fe,headers:de,status:Je,statusText:ze,url:wt||void 0})),It.complete()):It.error(new Q({error:Fe,headers:de,status:Je,statusText:ze,url:wt||void 0}))},In=de=>{const{url:Je}=gt(),ze=new Q({error:de,status:ne.status||0,statusText:ne.statusText||"Unknown Error",url:Je||void 0});It.error(ze)};let en=!1;const _t=de=>{en||(It.next(gt()),en=!0);let Je={type:Y.DownloadProgress,loaded:de.loaded};de.lengthComputable&&(Je.total=de.total),"text"===je.responseType&&!!ne.responseText&&(Je.partialText=ne.responseText),It.next(Je)},et=de=>{let Je={type:Y.UploadProgress,loaded:de.loaded};de.lengthComputable&&(Je.total=de.total),It.next(Je)};return ne.addEventListener("load",un),ne.addEventListener("error",In),ne.addEventListener("timeout",In),ne.addEventListener("abort",In),je.reportProgress&&(ne.addEventListener("progress",_t),null!==Ne&&ne.upload&&ne.upload.addEventListener("progress",et)),ne.send(Ne),It.next({type:Y.Sent}),()=>{ne.removeEventListener("error",In),ne.removeEventListener("abort",In),ne.removeEventListener("load",un),ne.removeEventListener("timeout",In),je.reportProgress&&(ne.removeEventListener("progress",_t),null!==Ne&&ne.upload&&ne.upload.removeEventListener("progress",et)),ne.readyState!==ne.DONE&&ne.abort()}})}}return Ye.\u0275fac=function(je){return new(je||Ye)(a.LFG(e.JF))},Ye.\u0275prov=a.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const Gt=new a.OlP("XSRF_COOKIE_NAME"),Ht=new a.OlP("XSRF_HEADER_NAME");class Ut{}let ct=(()=>{class Ye{constructor(je,It,ne){this.doc=je,this.platform=It,this.cookieName=ne,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const je=this.doc.cookie||"";return je!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,e.Mx)(je,this.cookieName),this.lastCookieString=je),this.lastToken}}return Ye.\u0275fac=function(je){return new(je||Ye)(a.LFG(e.K0),a.LFG(a.Lbi),a.LFG(Gt))},Ye.\u0275prov=a.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})(),at=(()=>{class Ye{constructor(je,It){this.tokenService=je,this.headerName=It}intercept(je,It){const ne=je.url.toLowerCase();if("GET"===je.method||"HEAD"===je.method||ne.startsWith("http://")||ne.startsWith("https://"))return It.handle(je);const Ne=this.tokenService.getToken();return null!==Ne&&!je.headers.has(this.headerName)&&(je=je.clone({headers:je.headers.set(this.headerName,Ne)})),It.handle(je)}}return Ye.\u0275fac=function(je){return new(je||Ye)(a.LFG(Ut),a.LFG(Ht))},Ye.\u0275prov=a.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})(),fe=(()=>{class Ye{constructor(je,It){this.backend=je,this.injector=It,this.chain=null}handle(je){if(null===this.chain){const It=this.injector.get(Te,[]);this.chain=It.reduceRight((ne,Ne)=>new oe(ne,Ne),this.backend)}return this.chain.handle(je)}}return Ye.\u0275fac=function(je){return new(je||Ye)(a.LFG(R),a.LFG(a.zs3))},Ye.\u0275prov=a.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})(),Ct=(()=>{class Ye{static disable(){return{ngModule:Ye,providers:[{provide:at,useClass:Ae}]}}static withOptions(je={}){return{ngModule:Ye,providers:[je.cookieName?{provide:Gt,useValue:je.cookieName}:[],je.headerName?{provide:Ht,useValue:je.headerName}:[]]}}}return Ye.\u0275fac=function(je){return new(je||Ye)},Ye.\u0275mod=a.oAB({type:Ye}),Ye.\u0275inj=a.cJS({providers:[at,{provide:Te,useExisting:at,multi:!0},{provide:Ut,useClass:ct},{provide:Gt,useValue:"XSRF-TOKEN"},{provide:Ht,useValue:"X-XSRF-TOKEN"}]}),Ye})(),Ot=(()=>{class Ye{}return Ye.\u0275fac=function(je){return new(je||Ye)},Ye.\u0275mod=a.oAB({type:Ye}),Ye.\u0275inj=a.cJS({providers:[z,{provide:l,useClass:fe},vt,{provide:R,useExisting:vt}],imports:[Ct.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Ye})()},5e3:(mn,ht,b)=>{"use strict";b.d(ht,{$8M:()=>Sl,$Z:()=>v0,AFp:()=>h1,ALo:()=>Fg,AaK:()=>l,Akn:()=>ol,AsE:()=>Vf,B6R:()=>Fe,BQk:()=>Jp,CHM:()=>rr,CRH:()=>C_,CZH:()=>Vg,CqO:()=>Wl,D6c:()=>Rx,DdM:()=>wv,Dn7:()=>Rv,EJc:()=>ox,EiD:()=>ud,EpF:()=>yg,F$t:()=>rC,F4k:()=>Af,FYo:()=>Si,FiY:()=>Pe,G48:()=>xx,G7q:()=>Nv,Gf:()=>Vv,GfV:()=>Tr,GkF:()=>Tf,Gpc:()=>J,HOy:()=>kg,HTZ:()=>a_,Hh0:()=>l_,Hsn:()=>aC,JOm:()=>Ha,JVY:()=>fm,Jf7:()=>ya,KtG:()=>Gr,L6k:()=>cp,LAX:()=>Fh,LFG:()=>Js,LSH:()=>Cp,Lbi:()=>ex,Lck:()=>p4,MAs:()=>tC,MMx:()=>fv,NdJ:()=>wf,O4$:()=>ui,OlP:()=>No,Oqu:()=>Hf,PXZ:()=>fx,Q6J:()=>Cg,QGY:()=>Dd,QP$:()=>Ni,QbO:()=>tx,Qsj:()=>po,R0b:()=>sl,RDi:()=>Lh,Rgc:()=>Zd,SBq:()=>li,Sil:()=>_1,Suo:()=>zv,TTD:()=>ls,TgZ:()=>vg,Tol:()=>fC,Udp:()=>Rf,VKq:()=>Ev,W1O:()=>Wv,WD2:()=>As,WLB:()=>Sv,X6Q:()=>yx,XFs:()=>fe,Xpm:()=>wt,Xts:()=>Vl,Y36:()=>fd,YKP:()=>e_,YNc:()=>X0,Yjl:()=>Fn,Yz7:()=>xe,Z0I:()=>bt,ZZ4:()=>R_,_Bn:()=>gv,_UZ:()=>xf,_Vd:()=>Yn,_c5:()=>Px,_uU:()=>Uf,aQg:()=>N_,c2e:()=>nx,cJS:()=>Oe,cg1:()=>Dg,dDg:()=>gx,dqk:()=>ne,dwT:()=>Ay,eBb:()=>Nh,eFA:()=>k1,ekj:()=>Ag,eoX:()=>T1,evT:()=>Bc,f3M:()=>xc,g9A:()=>m1,gM2:()=>u_,h0i:()=>Fd,hGG:()=>Lx,hij:()=>Sg,iGM:()=>Hv,ifc:()=>It,ip1:()=>p1,jDz:()=>_v,kEZ:()=>kv,kL8:()=>FC,l5B:()=>r_,lG2:()=>rn,lcZ:()=>Pv,lnq:()=>zf,lqb:()=>u,lri:()=>x1,mCW:()=>Vr,n5z:()=>Vs,oAB:()=>Jt,oJD:()=>zr,oxw:()=>sC,pB0:()=>up,q3G:()=>Os,qLn:()=>fr,qOj:()=>uf,qZA:()=>zp,qbA:()=>Dv,qzn:()=>Nc,rFY:()=>c_,rWj:()=>I1,sBO:()=>Ix,sIi:()=>Hp,s_b:()=>Bg,soG:()=>zg,tb:()=>f1,tp0:()=>ie,uIk:()=>ff,vHH:()=>D,vpe:()=>jl,wAp:()=>zi,xi3:()=>Lv,xp6:()=>hb,ynx:()=>bg,z2F:()=>Jg,z3N:()=>Ja,zSh:()=>Ap,zs3:()=>mu});var e=b(7579),a=b(727),f=b(9751),g=b(6451),_=b(3099);function P(r){for(let c in r)if(r[c]===P)return c;throw Error("Could not find renamed property on target object.")}function y(r,c){for(const p in c)c.hasOwnProperty(p)&&!r.hasOwnProperty(p)&&(r[p]=c[p])}function l(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(l).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const c=r.toString();if(null==c)return""+c;const p=c.indexOf("\n");return-1===p?c:c.substring(0,p)}function R(r,c){return null==r||""===r?null===c?"":c:null==c||""===c?r:r+" "+c}const L=P({__forward_ref__:P});function J(r){return r.__forward_ref__=J,r.toString=function(){return l(this())},r}function N(r){return w(r)?r():r}function w(r){return"function"==typeof r&&r.hasOwnProperty(L)&&r.__forward_ref__===J}class D extends Error{constructor(c,p){super(function S(r,c){return`NG0${Math.abs(r)}${c?": "+c.trim():""}`}(c,p)),this.code=c}}function U(r){return"string"==typeof r?r:null==r?"":String(r)}function k(r,c){throw new D(-201,!1)}function Ae(r,c){null==r&&function Ke(r,c,p,v){throw new Error(`ASSERTION ERROR: ${r}`+(null==v?"":` [Expected=> ${p} ${v} ${c} <=Actual]`))}(c,r,null,"!=")}function xe(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Oe(r){return{providers:r.providers||[],imports:r.imports||[]}}function dt(r){return it(r,Ht)||it(r,ct)}function bt(r){return null!==dt(r)}function it(r,c){return r.hasOwnProperty(c)?r[c]:null}function Gt(r){return r&&(r.hasOwnProperty(Ut)||r.hasOwnProperty(at))?r[Ut]:null}const Ht=P({\u0275prov:P}),Ut=P({\u0275inj:P}),ct=P({ngInjectableDef:P}),at=P({ngInjectorDef:P});var fe=(()=>((fe=fe||{})[fe.Default=0]="Default",fe[fe.Host=1]="Host",fe[fe.Self=2]="Self",fe[fe.SkipSelf=4]="SkipSelf",fe[fe.Optional=8]="Optional",fe))();let ke;function Ct(r){const c=ke;return ke=r,c}function Ot(r,c,p){const v=dt(r);return v&&"root"==v.providedIn?void 0===v.value?v.value=v.factory():v.value:p&fe.Optional?null:void 0!==c?c:void k(l(r))}function Mt(r){return{toString:r}.toString()}var Ye=(()=>((Ye=Ye||{})[Ye.OnPush=0]="OnPush",Ye[Ye.Default=1]="Default",Ye))(),It=(()=>{return(r=It||(It={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",It;var r})();const ne=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),gt={},un=[],In=P({\u0275cmp:P}),en=P({\u0275dir:P}),_t=P({\u0275pipe:P}),et=P({\u0275mod:P}),de=P({\u0275fac:P}),Je=P({__NG_ELEMENT_ID__:P});let ze=0;function wt(r){return Mt(()=>{const p=!0===r.standalone,v={},E={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:v,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Ye.OnPush,directiveDefs:null,pipeDefs:null,standalone:p,dependencies:p&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||un,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||It.Emulated,id:"c"+ze++,styles:r.styles||un,_:null,setInput:null,schemas:r.schemas||null,tView:null},B=r.dependencies,re=r.features;return E.inputs=Rt(r.inputs,v),E.outputs=Rt(r.outputs),re&&re.forEach(Ie=>Ie(E)),E.directiveDefs=B?()=>("function"==typeof B?B():B).map(qt).filter(fn):null,E.pipeDefs=B?()=>("function"==typeof B?B():B).map(vi).filter(fn):null,E})}function Fe(r,c,p){const v=r.\u0275cmp;v.directiveDefs=()=>("function"==typeof c?c():c).map(qt),v.pipeDefs=()=>("function"==typeof p?p():p).map(vi)}function qt(r){return Un(r)||ri(r)}function fn(r){return null!==r}function Jt(r){return Mt(()=>({type:r.type,bootstrap:r.bootstrap||un,declarations:r.declarations||un,imports:r.imports||un,exports:r.exports||un,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Rt(r,c){if(null==r)return gt;const p={};for(const v in r)if(r.hasOwnProperty(v)){let E=r[v],B=E;Array.isArray(E)&&(B=E[1],E=E[0]),p[E]=v,c&&(c[E]=B)}return p}const rn=wt;function Fn(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Un(r){return r[In]||null}function ri(r){return r[en]||null}function vi(r){return r[_t]||null}function Ni(r){const c=Un(r)||ri(r)||vi(r);return null!==c&&c.standalone}function oo(r,c){const p=r[et]||null;if(!p&&!0===c)throw new Error(`Type ${l(r)} does not have '\u0275mod' property.`);return p}function bo(r){return Array.isArray(r)&&"object"==typeof r[1]}function qo(r){return Array.isArray(r)&&!0===r[1]}function Ls(r){return 0!=(8&r.flags)}function Is(r){return 2==(2&r.flags)}function Rs(r){return 1==(1&r.flags)}function hs(r){return null!==r.template}function Er(r){return 0!=(256&r[2])}function fo(r,c){return r.hasOwnProperty(de)?r[de]:null}class As{constructor(c,p,v){this.previousValue=c,this.currentValue=p,this.firstChange=v}isFirstChange(){return this.firstChange}}function ls(){return Cs}function Cs(r){return r.type.prototype.ngOnChanges&&(r.setInput=ws),ms}function ms(){const r=Dr(this),c=null==r?void 0:r.current;if(c){const p=r.previous;if(p===gt)r.previous=c;else for(let v in c)p[v]=c[v];r.current=null,this.ngOnChanges(c)}}function ws(r,c,p,v){const E=Dr(r)||function Mr(r,c){return r[br]=c}(r,{previous:gt,current:null}),B=E.current||(E.current={}),re=E.previous,Ie=this.declaredInputs[p],Le=re[Ie];B[Ie]=new As(Le&&Le.currentValue,c,re===gt),r[v]=c}ls.ngInherit=!0;const br="__ngSimpleChanges__";function Dr(r){return r[br]||null}function xt(r){for(;Array.isArray(r);)r=r[0];return r}function Wn(r,c){return xt(c[r])}function si(r,c){return xt(c[r.index])}function Zi(r,c){return r.data[c]}function go(r,c){return r[c]}function Li(r,c){const p=c[r];return bo(p)?p:p[0]}function Fo(r){return 64==(64&r[2])}function Io(r,c){return null==c?null:r[c]}function So(r){r[18]=0}function Es(r,c){r[5]+=c;let p=r,v=r[3];for(;null!==v&&(1===c&&1===p[5]||-1===c&&0===p[5]);)v[5]+=c,p=v,v=v[3]}const Di={lFrame:Na(null),bindingsEnabled:!0};function Ri(){return Di.bindingsEnabled}function Qn(){return Di.lFrame.lView}function Mi(){return Di.lFrame.tView}function rr(r){return Di.lFrame.contextLView=r,r[8]}function Gr(r){return Di.lFrame.contextLView=null,r}function eo(){let r=ta();for(;null!==r&&64===r.type;)r=r.parent;return r}function ta(){return Di.lFrame.currentTNode}function Ss(r,c){const p=Di.lFrame;p.currentTNode=r,p.isParent=c}function ca(){return Di.lFrame.isParent}function fs(){Di.lFrame.isParent=!1}function Ee(){const r=Di.lFrame;let c=r.bindingRootIndex;return-1===c&&(c=r.bindingRootIndex=r.tView.bindingStartIndex),c}function kt(){return Di.lFrame.bindingIndex}function mi(){return Di.lFrame.bindingIndex++}function Qi(r){const c=Di.lFrame,p=c.bindingIndex;return c.bindingIndex=c.bindingIndex+r,p}function cs(r,c){const p=Di.lFrame;p.bindingIndex=p.bindingRootIndex=r,lr(c)}function lr(r){Di.lFrame.currentDirectiveIndex=r}function Ir(){return Di.lFrame.currentQueryIndex}function Or(r){Di.lFrame.currentQueryIndex=r}function er(r){const c=r[1];return 2===c.type?c.declTNode:1===c.type?r[6]:null}function Pr(r,c,p){if(p&fe.SkipSelf){let E=c,B=r;for(;!(E=E.parent,null!==E||p&fe.Host||(E=er(B),null===E||(B=B[15],10&E.type))););if(null===E)return!1;c=E,r=B}const v=Di.lFrame=fa();return v.currentTNode=c,v.lView=r,!0}function cr(r){const c=fa(),p=r[1];Di.lFrame=c,c.currentTNode=p.firstChild,c.lView=r,c.tView=p,c.contextLView=r,c.bindingIndex=p.bindingStartIndex,c.inI18n=!1}function fa(){const r=Di.lFrame,c=null===r?null:r.child;return null===c?Na(r):c}function Na(r){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=c),c}function Ya(){const r=Di.lFrame;return Di.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Me=Ya;function pt(){const r=Ya();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function nn(){return Di.lFrame.selectedIndex}function kn(r){Di.lFrame.selectedIndex=r}function Ln(){const r=Di.lFrame;return Zi(r.tView,r.selectedIndex)}function ui(){Di.lFrame.currentNamespace="svg"}function bi(r,c){for(let p=c.directiveStart,v=c.directiveEnd;p<v;p++){const B=r.data[p].type.prototype,{ngAfterContentInit:re,ngAfterContentChecked:Ie,ngAfterViewInit:Le,ngAfterViewChecked:lt,ngOnDestroy:Pt}=B;re&&(r.contentHooks||(r.contentHooks=[])).push(-p,re),Ie&&((r.contentHooks||(r.contentHooks=[])).push(p,Ie),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(p,Ie)),Le&&(r.viewHooks||(r.viewHooks=[])).push(-p,Le),lt&&((r.viewHooks||(r.viewHooks=[])).push(p,lt),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(p,lt)),null!=Pt&&(r.destroyHooks||(r.destroyHooks=[])).push(p,Pt)}}function xo(r,c,p){us(r,c,3,p)}function Yo(r,c,p,v){(3&r[2])===p&&us(r,c,p,v)}function Us(r,c){let p=r[2];(3&p)===c&&(p&=2047,p+=1,r[2]=p)}function us(r,c,p,v){const B=null!=v?v:-1,re=c.length-1;let Ie=0;for(let Le=void 0!==v?65535&r[18]:0;Le<re;Le++)if("number"==typeof c[Le+1]){if(Ie=c[Le],null!=v&&Ie>=v)break}else c[Le]<0&&(r[18]+=65536),(Ie<B||-1==B)&&(ur(r,p,c,Le),r[18]=(4294901760&r[18])+Le+2),Le++}function ur(r,c,p,v){const E=p[v]<0,B=p[v+1],Ie=r[E?-p[v]:p[v]];if(E){if(r[2]>>11<r[18]>>16&&(3&r[2])===c){r[2]+=2048;try{B.call(Ie)}finally{}}}else try{B.call(Ie)}finally{}}class ae{constructor(c,p,v){this.factory=c,this.resolving=!1,this.canSeeViewProviders=p,this.injectImpl=v}}function Yt(r,c,p){let v=0;for(;v<p.length;){const E=p[v];if("number"==typeof E){if(0!==E)break;v++;const B=p[v++],re=p[v++],Ie=p[v++];r.setAttribute(c,re,Ie,B)}else{const B=E,re=p[++v];Ze(B)?r.setProperty(c,B,re):r.setAttribute(c,B,re),v++}}return v}function Re(r){return 3===r||4===r||6===r}function Ze(r){return 64===r.charCodeAt(0)}function ft(r,c){if(null!==c&&0!==c.length)if(null===r||0===r.length)r=c.slice();else{let p=-1;for(let v=0;v<c.length;v++){const E=c[v];"number"==typeof E?p=E:0===p||Lt(r,p,E,null,-1===p||2===p?c[++v]:null)}}return r}function Lt(r,c,p,v,E){let B=0,re=r.length;if(-1===c)re=-1;else for(;B<r.length;){const Ie=r[B++];if("number"==typeof Ie){if(Ie===c){re=-1;break}if(Ie>c){re=B-1;break}}}for(;B<r.length;){const Ie=r[B];if("number"==typeof Ie)break;if(Ie===p){if(null===v)return void(null!==E&&(r[B+1]=E));if(v===r[B+1])return void(r[B+2]=E)}B++,null!==v&&B++,null!==E&&B++}-1!==re&&(r.splice(re,0,c),B=re+1),r.splice(B++,0,p),null!==v&&r.splice(B++,0,v),null!==E&&r.splice(B++,0,E)}function ln(r){return-1!==r}function Tn(r){return 32767&r}function Xn(r,c){let p=function Mn(r){return r>>16}(r),v=c;for(;p>0;)v=v[15],p--;return v}let ti=!0;function Ai(r){const c=ti;return ti=r,c}let mo=0;const Jo={};function dr(r,c){const p=Lr(r,c);if(-1!==p)return p;const v=c[1];v.firstCreatePass&&(r.injectorIndex=c.length,Yr(v.data,r),Yr(c,null),Yr(v.blueprint,null));const E=Hs(r,c),B=r.injectorIndex;if(ln(E)){const re=Tn(E),Ie=Xn(E,c),Le=Ie[1].data;for(let lt=0;lt<8;lt++)c[B+lt]=Ie[re+lt]|Le[re+lt]}return c[B+8]=E,B}function Yr(r,c){r.push(0,0,0,0,0,0,0,0,c)}function Lr(r,c){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===c[r.injectorIndex+8]?-1:r.injectorIndex}function Hs(r,c){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let p=0,v=null,E=c;for(;null!==E;){if(v=Fa(E),null===v)return-1;if(p++,E=E[15],-1!==v.injectorIndex)return v.injectorIndex|p<<16}return-1}function Sa(r,c,p){!function Po(r,c,p){let v;"string"==typeof p?v=p.charCodeAt(0)||0:p.hasOwnProperty(Je)&&(v=p[Je]),null==v&&(v=p[Je]=mo++);const E=255&v;c.data[r+(E>>5)]|=1<<E}(r,c,p)}function wi(r,c,p){if(p&fe.Optional||void 0!==r)return r;k()}function Oi(r,c,p,v){if(p&fe.Optional&&void 0===v&&(v=null),0==(p&(fe.Self|fe.Host))){const E=r[9],B=Ct(void 0);try{return E?E.get(c,v,p&fe.Optional):Ot(c,v,p&fe.Optional)}finally{Ct(B)}}return wi(v,0,p)}function no(r,c,p,v=fe.Default,E){if(null!==r){if(1024&c[2]){const re=function ka(r,c,p,v,E){let B=r,re=c;for(;null!==B&&null!==re&&1024&re[2]&&!(256&re[2]);){const Ie=Qo(B,re,p,v|fe.Self,Jo);if(Ie!==Jo)return Ie;let Le=B.parent;if(!Le){const lt=re[21];if(lt){const Pt=lt.get(p,Jo,v);if(Pt!==Jo)return Pt}Le=Fa(re),re=re[15]}B=Le}return E}(r,c,p,v,Jo);if(re!==Jo)return re}const B=Qo(r,c,p,v,Jo);if(B!==Jo)return B}return Oi(c,p,v,E)}function Qo(r,c,p,v,E){const B=function To(r){if("string"==typeof r)return r.charCodeAt(0)||0;const c=r.hasOwnProperty(Je)?r[Je]:void 0;return"number"==typeof c?c>=0?255&c:Rr:c}(p);if("function"==typeof B){if(!Pr(c,r,v))return v&fe.Host?wi(E,0,v):Oi(c,p,v,E);try{const re=B(v);if(null!=re||v&fe.Optional)return re;k()}finally{Me()}}else if("number"==typeof B){let re=null,Ie=Lr(r,c),Le=-1,lt=v&fe.Host?c[16][6]:null;for((-1===Ie||v&fe.SkipSelf)&&(Le=-1===Ie?Hs(r,c):c[Ie+8],-1!==Le&&al(v,!1)?(re=c[1],Ie=Tn(Le),c=Xn(Le,c)):Ie=-1);-1!==Ie;){const Pt=c[1];if(jr(B,Ie,Pt.data)){const Kt=Lo(Ie,c,p,re,v,lt);if(Kt!==Jo)return Kt}Le=c[Ie+8],-1!==Le&&al(v,c[1].data[Ie+8]===lt)&&jr(B,Ie,c)?(re=Pt,Ie=Tn(Le),c=Xn(Le,c)):Ie=-1}}return E}function Lo(r,c,p,v,E,B){const re=c[1],Ie=re.data[r+8],Pt=ks(Ie,re,p,null==v?Is(Ie)&&ti:v!=re&&0!=(3&Ie.type),E&fe.Host&&B===Ie);return null!==Pt?pr(c,re,Pt,Ie):Jo}function ks(r,c,p,v,E){const B=r.providerIndexes,re=c.data,Ie=1048575&B,Le=r.directiveStart,Pt=B>>20,bn=E?Ie+Pt:r.directiveEnd;for(let Sn=v?Ie:Ie+Pt;Sn<bn;Sn++){const Jn=re[Sn];if(Sn<Le&&p===Jn||Sn>=Le&&Jn.type===p)return Sn}if(E){const Sn=re[Le];if(Sn&&hs(Sn)&&Sn.type===p)return Le}return null}function pr(r,c,p,v){let E=r[p];const B=c.data;if(function pe(r){return r instanceof ae}(E)){const re=E;re.resolving&&function ce(r,c){const p=c?`. Dependency path: ${c.join(" > ")} > ${r}`:"";throw new D(-200,`Circular dependency in DI detected for ${r}${p}`)}(function F(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():U(r)}(B[p]));const Ie=Ai(re.canSeeViewProviders);re.resolving=!0;const Le=re.injectImpl?Ct(re.injectImpl):null;Pr(r,v,fe.Default);try{E=r[p]=re.factory(void 0,B,r,v),c.firstCreatePass&&p>=v.directiveStart&&function Co(r,c,p){const{ngOnChanges:v,ngOnInit:E,ngDoCheck:B}=c.type.prototype;if(v){const re=Cs(c);(p.preOrderHooks||(p.preOrderHooks=[])).push(r,re),(p.preOrderCheckHooks||(p.preOrderCheckHooks=[])).push(r,re)}E&&(p.preOrderHooks||(p.preOrderHooks=[])).push(0-r,E),B&&((p.preOrderHooks||(p.preOrderHooks=[])).push(r,B),(p.preOrderCheckHooks||(p.preOrderCheckHooks=[])).push(r,B))}(p,B[p],c)}finally{null!==Le&&Ct(Le),Ai(Ie),re.resolving=!1,Me()}}return E}function jr(r,c,p){return!!(p[c+(r>>5)]&1<<r)}function al(r,c){return!(r&fe.Self||r&fe.Host&&c)}class Ro{constructor(c,p){this._tNode=c,this._lView=p}get(c,p,v){return no(this._tNode,this._lView,c,v,p)}}function Rr(){return new Ro(eo(),Qn())}function Vs(r){return Mt(()=>{const c=r.prototype.constructor,p=c[de]||_a(c),v=Object.prototype;let E=Object.getPrototypeOf(r.prototype).constructor;for(;E&&E!==v;){const B=E[de]||_a(E);if(B&&B!==p)return B;E=Object.getPrototypeOf(E)}return B=>new B})}function _a(r){return w(r)?()=>{const c=_a(N(r));return c&&c()}:fo(r)}function Fa(r){const c=r[1],p=c.type;return 2===p?c.declTNode:1===p?r[6]:null}function Sl(r){return function xi(r,c){if("class"===c)return r.classes;if("style"===c)return r.styles;const p=r.attrs;if(p){const v=p.length;let E=0;for(;E<v;){const B=p[E];if(Re(B))break;if(0===B)E+=2;else if("number"==typeof B)for(E++;E<v&&"string"==typeof p[E];)E++;else{if(B===c)return p[E+1];E+=2}}}return null}(eo(),r)}const Ba="__parameters__";function ja(r,c,p){return Mt(()=>{const v=function na(r){return function(...p){if(r){const v=r(...p);for(const E in v)this[E]=v[E]}}}(c);function E(...B){if(this instanceof E)return v.apply(this,B),this;const re=new E(...B);return Ie.annotation=re,Ie;function Ie(Le,lt,Pt){const Kt=Le.hasOwnProperty(Ba)?Le[Ba]:Object.defineProperty(Le,Ba,{value:[]})[Ba];for(;Kt.length<=Pt;)Kt.push(null);return(Kt[Pt]=Kt[Pt]||[]).push(re),Le}}return p&&(E.prototype=Object.create(p.prototype)),E.prototype.ngMetadataName=r,E.annotationCls=E,E})}class No{constructor(c,p){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof p?this.__NG_ELEMENT_ID__=p:void 0!==p&&(this.\u0275prov=xe({token:this,providedIn:p.providedIn||"root",factory:p.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Nr(r,c){void 0===c&&(c=r);for(let p=0;p<r.length;p++){let v=r[p];Array.isArray(v)?(c===r&&(c=r.slice(0,p)),Nr(v,c)):c!==r&&c.push(v)}return c}function Fr(r,c){r.forEach(p=>Array.isArray(p)?Fr(p,c):c(p))}function qa(r,c,p){c>=r.length?r.push(p):r.splice(c,0,p)}function ll(r,c){return c>=r.length-1?r.pop():r.splice(c,1)[0]}function Ms(r,c){const p=[];for(let v=0;v<r;v++)p.push(c);return p}function Xt(r,c,p){let v=An(r,c);return v>=0?r[1|v]=p:(v=~v,function le(r,c,p,v){let E=r.length;if(E==c)r.push(p,v);else if(1===E)r.push(v,r[0]),r[0]=p;else{for(E--,r.push(r[E-1],r[E]);E>c;)r[E]=r[E-2],E--;r[c]=p,r[c+1]=v}}(r,v,c,p)),v}function sn(r,c){const p=An(r,c);if(p>=0)return r[1|p]}function An(r,c){return function yi(r,c,p){let v=0,E=r.length>>p;for(;E!==v;){const B=v+(E-v>>1),re=r[B<<p];if(c===re)return B<<p;re>c?E=B:v=B+1}return~(E<<p)}(r,c,1)}const gr={},ic="__NG_DI_FLAG__",oc="ngTempTokenPath",Bu=/\n/gm,Zu="__source";let bs;function Zr(r){const c=bs;return bs=r,c}function yc(r,c=fe.Default){if(void 0===bs)throw new D(-203,!1);return null===bs?Ot(r,void 0,c):bs.get(r,c&fe.Optional?null:void 0,c)}function Js(r,c=fe.Default){return(function ot(){return ke}()||yc)(N(r),c)}function xc(r,c=fe.Default){return"number"!=typeof c&&(c=0|(c.optional&&8)|(c.host&&1)|(c.self&&2)|(c.skipSelf&&4)),Js(r,c)}function Ic(r){const c=[];for(let p=0;p<r.length;p++){const v=N(r[p]);if(Array.isArray(v)){if(0===v.length)throw new D(900,!1);let E,B=fe.Default;for(let re=0;re<v.length;re++){const Ie=v[re],Le=Gd(Ie);"number"==typeof Le?-1===Le?E=Ie.token:B|=Le:E=Ie}c.push(Js(E,B))}else c.push(Js(v))}return c}function cl(r,c){return r[ic]=c,r.prototype[ic]=c,r}function Gd(r){return r[ic]}const Pe=cl(ja("Optional"),8),ie=cl(ja("SkipSelf"),4);var Ha=(()=>((Ha=Ha||{})[Ha.Important=1]="Important",Ha[Ha.DashCase=2]="DashCase",Ha))();const ul=new Map;let ac=0;const cn="__ngContext__";function tr(r,c){bo(c)?(r[cn]=c[20],function Ch(r){ul.set(r[20],r)}(c)):r[cn]=c}function cc(r,c){return undefined(r,c)}function Ec(r){const c=r[3];return qo(c)?c[3]:c}function ju(r){return Sc(r[13])}function $c(r){return Sc(r[4])}function Sc(r){for(;null!==r&&!qo(r);)r=r[4];return r}function Rl(r,c,p,v,E){if(null!=v){let B,re=!1;qo(v)?B=v:bo(v)&&(re=!0,v=v[0]);const Ie=xt(v);0===r&&null!==p?null==E?tu(c,p,Ie):Bl(c,p,Ie,E||null,!0):1===r&&null!==p?Bl(c,p,Ie,E||null,!0):2===r?function ou(r,c,p){const v=Oc(r,c);v&&function wh(r,c,p,v){r.removeChild(c,p,v)}(r,v,c,p)}(c,Ie,re):3===r&&c.destroyNode(Ie),null!=B&&function su(r,c,p,v,E){const B=p[7];B!==xt(p)&&Rl(c,r,v,B,E);for(let Ie=10;Ie<p.length;Ie++){const Le=p[Ie];Lc(Le[1],Le,r,c,v,B)}}(c,r,B,p,E)}}function qu(r,c,p){return r.createElement(c,p)}function Xc(r,c){const p=r[9],v=p.indexOf(c),E=c[3];512&c[2]&&(c[2]&=-513,Es(E,-1)),p.splice(v,1)}function $u(r,c){if(r.length<=10)return;const p=10+c,v=r[p];if(v){const E=v[17];null!==E&&E!==r&&Xc(E,v),c>0&&(r[p-1][4]=v[4]);const B=ll(r,10+c);!function Nl(r,c){Lc(r,c,c[11],2,null,null),c[0]=null,c[6]=null}(v[1],v);const re=B[19];null!==re&&re.detachView(B[1]),v[3]=null,v[4]=null,v[2]&=-65}return v}function Xu(r,c){if(!(128&c[2])){const p=c[11];p.destroyNode&&Lc(r,c,p,3,null,null),function op(r){let c=r[13];if(!c)return eu(r[1],r);for(;c;){let p=null;if(bo(c))p=c[13];else{const v=c[10];v&&(p=v)}if(!p){for(;c&&!c[4]&&c!==r;)bo(c)&&eu(c[1],c),c=c[3];null===c&&(c=r),bo(c)&&eu(c[1],c),p=c&&c[4]}c=p}}(c)}}function eu(r,c){if(!(128&c[2])){c[2]&=-65,c[2]|=128,function Ah(r,c){let p;if(null!=r&&null!=(p=r.destroyHooks))for(let v=0;v<p.length;v+=2){const E=c[p[v]];if(!(E instanceof ae)){const B=p[v+1];if(Array.isArray(B))for(let re=0;re<B.length;re+=2){const Ie=E[B[re]],Le=B[re+1];try{Le.call(Ie)}finally{}}else try{B.call(E)}finally{}}}}(r,c),function Th(r,c){const p=r.cleanup,v=c[7];let E=-1;if(null!==p)for(let B=0;B<p.length-1;B+=2)if("string"==typeof p[B]){const re=p[B+1],Ie="function"==typeof re?re(c):xt(c[re]),Le=v[E=p[B+2]],lt=p[B+3];"boolean"==typeof lt?Ie.removeEventListener(p[B],Le,lt):lt>=0?v[E=lt]():v[E=-lt].unsubscribe(),B+=2}else{const re=v[E=p[B+1]];p[B].call(re)}if(null!==v){for(let B=E+1;B<v.length;B++)(0,v[B])();c[7]=null}}(r,c),1===c[1].type&&c[11].destroy();const p=c[17];if(null!==p&&qo(c[3])){p!==c[3]&&Xc(p,c);const v=c[19];null!==v&&v.detachView(r)}!function lc(r){ul.delete(r[20])}(c)}}function Fl(r,c,p){return function Dc(r,c,p){let v=c;for(;null!==v&&40&v.type;)v=(c=v).parent;if(null===v)return p[0];if(2&v.flags){const E=r.data[v.directiveStart].encapsulation;if(E===It.None||E===It.Emulated)return null}return si(v,p)}(r,c.parent,p)}function Bl(r,c,p,v,E){r.insertBefore(c,p,v,E)}function tu(r,c,p){r.appendChild(c,p)}function Mc(r,c,p,v,E){null!==v?Bl(r,c,p,v,E):tu(r,c,p)}function Oc(r,c){return r.parentNode(c)}function Eh(r,c,p){return dm(r,c,p)}let sd,Rc,Zl,dm=function Sh(r,c,p){return 40&r.type?si(r,p):null};function nu(r,c,p,v){const E=Fl(r,v,c),B=c[11],Ie=Eh(v.parent||c[6],v,c);if(null!=E)if(Array.isArray(p))for(let Le=0;Le<p.length;Le++)Mc(B,E,p[Le],Ie,!1);else Mc(B,E,p,Ie,!1)}function ed(r,c){if(null!==c){const p=c.type;if(3&p)return si(c,r);if(4&p)return Pc(-1,r[c.index]);if(8&p){const v=c.child;if(null!==v)return ed(r,v);{const E=r[c.index];return qo(E)?Pc(-1,E):xt(E)}}if(32&p)return cc(c,r)()||xt(r[c.index]);{const v=iu(r,c);return null!==v?Array.isArray(v)?v[0]:ed(Ec(r[16]),v):ed(r,c.next)}}return null}function iu(r,c){return null!==c?r[16][6].projection[c.projection]:null}function Pc(r,c){const p=10+r+1;if(p<c.length){const v=c[p],E=v[1].firstChild;if(null!==E)return ed(v,E)}return c[7]}function td(r,c,p,v,E,B,re){for(;null!=p;){const Ie=v[p.index],Le=p.type;if(re&&0===c&&(Ie&&tr(xt(Ie),v),p.flags|=4),64!=(64&p.flags))if(8&Le)td(r,c,p.child,v,E,B,!1),Rl(c,r,E,Ie,B);else if(32&Le){const lt=cc(p,v);let Pt;for(;Pt=lt();)Rl(c,r,E,Pt,B);Rl(c,r,E,Ie,B)}else 16&Le?nd(r,c,v,p,E,B):Rl(c,r,E,Ie,B);p=re?p.projectionNext:p.next}}function Lc(r,c,p,v,E,B){td(p,v,r.firstChild,c,E,B,!1)}function nd(r,c,p,v,E,B){const re=p[16],Le=re[6].projection[v.projection];if(Array.isArray(Le))for(let lt=0;lt<Le.length;lt++)Rl(c,r,E,Le[lt],B);else td(r,c,Le,re[3],E,B,!0)}function id(r,c,p){r.setAttribute(c,"style",p)}function od(r,c,p){""===p?r.removeAttribute(c,"class"):r.setAttribute(c,"class",p)}function uc(r){var c;return(null===(c=function ru(){if(void 0===sd&&(sd=null,ne.trustedTypes))try{sd=ne.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return sd}())||void 0===c?void 0:c.createHTML(r))||r}function Lh(r){Rc=r}function ad(r){var c;return(null===(c=function rd(){if(void 0===Zl&&(Zl=null,ne.trustedTypes))try{Zl=ne.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Zl}())||void 0===c?void 0:c.createHTML(r))||r}class za{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class hm extends za{getTypeName(){return"HTML"}}class au extends za{getTypeName(){return"Style"}}class Xa extends za{getTypeName(){return"Script"}}class gl extends za{getTypeName(){return"URL"}}class gm extends za{getTypeName(){return"ResourceURL"}}function Ja(r){return r instanceof za?r.changingThisBreaksApplicationSecurity:r}function Nc(r,c){const p=function mm(r){return r instanceof za&&r.getTypeName()||null}(r);if(null!=p&&p!==c){if("ResourceURL"===p&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${p} (see https://g.co/ng/security#xss)`)}return p===c}function fm(r){return new hm(r)}function cp(r){return new au(r)}function Nh(r){return new Xa(r)}function Fh(r){return new gl(r)}function up(r){return new gm(r)}class _m{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const p=(new window.DOMParser).parseFromString(uc(c),"text/html").body;return null===p?this.inertDocumentHelper.getInertBodyElement(c):(p.removeChild(p.firstChild),p)}catch(p){return null}}}class Cm{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const p=this.inertDocument.createElement("html");this.inertDocument.appendChild(p);const v=this.inertDocument.createElement("body");p.appendChild(v)}}getInertBodyElement(c){const p=this.inertDocument.createElement("template");if("content"in p)return p.innerHTML=uc(c),p;const v=this.inertDocument.createElement("body");return v.innerHTML=uc(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(v),v}stripCustomNsAttrs(c){const p=c.attributes;for(let E=p.length-1;0<E;E--){const re=p.item(E).name;("xmlns:ns1"===re||0===re.indexOf("ns1:"))&&c.removeAttribute(re)}let v=c.firstChild;for(;v;)v.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(v),v=v.nextSibling}}const Bh=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Vr(r){return(r=String(r)).match(Bh)?r:"unsafe:"+r}function Qa(r){const c={};for(const p of r.split(","))c[p]=!0;return c}function cu(...r){const c={};for(const p of r)for(const v in p)p.hasOwnProperty(v)&&(c[v]=!0);return c}const Zh=Qa("area,br,col,hr,img,wbr"),Uh=Qa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pp=Qa("rp,rt"),hp=cu(Zh,cu(Uh,Qa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cu(pp,Qa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cu(pp,Uh)),gp=Qa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dc=cu(gp,Qa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),el=Qa("script,style,template");class Vh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let p=c.firstChild,v=!0;for(;p;)if(p.nodeType===Node.ELEMENT_NODE?v=this.startElement(p):p.nodeType===Node.TEXT_NODE?this.chars(p.nodeValue):this.sanitizedSomething=!0,v&&p.firstChild)p=p.firstChild;else for(;p;){p.nodeType===Node.ELEMENT_NODE&&this.endElement(p);let E=this.checkClobberedElement(p,p.nextSibling);if(E){p=E;break}p=this.checkClobberedElement(p,p.parentNode)}return this.buf.join("")}startElement(c){const p=c.nodeName.toLowerCase();if(!hp.hasOwnProperty(p))return this.sanitizedSomething=!0,!el.hasOwnProperty(p);this.buf.push("<"),this.buf.push(p);const v=c.attributes;for(let E=0;E<v.length;E++){const B=v.item(E),re=B.name,Ie=re.toLowerCase();if(!dc.hasOwnProperty(Ie)){this.sanitizedSomething=!0;continue}let Le=B.value;gp[Ie]&&(Le=Vr(Le)),this.buf.push(" ",re,'="',fp(Le),'"')}return this.buf.push(">"),!0}endElement(c){const p=c.nodeName.toLowerCase();hp.hasOwnProperty(p)&&!Zh.hasOwnProperty(p)&&(this.buf.push("</"),this.buf.push(p),this.buf.push(">"))}chars(c){this.buf.push(fp(c))}checkClobberedElement(c,p){if(p&&(c.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return p}}const mp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bm=/([^\#-~ |!])/g;function fp(r){return r.replace(/&/g,"&amp;").replace(mp,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(bm,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ul;function ud(r,c){let p=null;try{Ul=Ul||function lu(r){const c=new Cm(r);return function dp(){try{return!!(new window.DOMParser).parseFromString(uc(""),"text/html")}catch(r){return!1}}()?new _m(c):c}(r);let v=c?String(c):"";p=Ul.getInertBodyElement(v);let E=5,B=v;do{if(0===E)throw new Error("Failed to sanitize html because the input is unstable");E--,v=B,B=p.innerHTML,p=Ul.getInertBodyElement(v)}while(v!==B);return uc((new Vh).sanitizeChildren(_p(p)||p))}finally{if(p){const v=_p(p)||p;for(;v.firstChild;)v.removeChild(v.firstChild)}}}function _p(r){return"content"in r&&function zh(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Os=(()=>((Os=Os||{})[Os.NONE=0]="NONE",Os[Os.HTML=1]="HTML",Os[Os.STYLE=2]="STYLE",Os[Os.SCRIPT=3]="SCRIPT",Os[Os.URL=4]="URL",Os[Os.RESOURCE_URL=5]="RESOURCE_URL",Os))();function zr(r){const c=du();return c?ad(c.sanitize(Os.HTML,r)||""):Nc(r,"HTML")?ad(Ja(r)):ud(function ap(){return void 0!==Rc?Rc:"undefined"!=typeof document?document:void 0}(),U(r))}function Cp(r){const c=du();return c?c.sanitize(Os.URL,r)||"":Nc(r,"URL")?Ja(r):Vr(U(r))}function du(){const r=Qn();return r&&r[12]}const Vl=new No("ENVIRONMENT_INITIALIZER"),pu=new No("INJECTOR",-1),Kr=new No("INJECTOR_DEF_TYPES");class bp{get(c,p=gr){if(p===gr){const v=new Error(`NullInjectorError: No provider for ${l(c)}!`);throw v.name="NullInjectorError",v}return p}}function yp(...r){return{\u0275providers:dd(0,r)}}function dd(r,...c){const p=[],v=new Set;let E;return Fr(c,B=>{const re=B;ml(re,p,[],v)&&(E||(E=[]),E.push(re))}),void 0!==E&&xp(E,p),p}function xp(r,c){for(let p=0;p<r.length;p++){const{providers:E}=r[p];Fr(E,B=>{c.push(B)})}}function ml(r,c,p,v){if(!(r=N(r)))return!1;let E=null,B=Gt(r);const re=!B&&Un(r);if(B||re){if(re&&!re.standalone)return!1;E=r}else{const Le=r.ngModule;if(B=Gt(Le),!B)return!1;E=Le}const Ie=v.has(E);if(re){if(Ie)return!1;if(v.add(E),re.dependencies){const Le="function"==typeof re.dependencies?re.dependencies():re.dependencies;for(const lt of Le)ml(lt,c,p,v)}}else{if(!B)return!1;{if(null!=B.imports&&!Ie){let lt;v.add(E);try{Fr(B.imports,Pt=>{ml(Pt,c,p,v)&&(lt||(lt=[]),lt.push(Pt))})}finally{}void 0!==lt&&xp(lt,c)}if(!Ie){const lt=fo(E)||(()=>new E);c.push({provide:E,useFactory:lt,deps:un},{provide:Kr,useValue:E,multi:!0},{provide:Vl,useValue:()=>Js(E),multi:!0})}const Le=B.providers;null==Le||Ie||Fr(Le,Pt=>{c.push(Pt)})}}return E!==r&&void 0!==r.providers}const Tp=P({provide:String,useValue:P});function pd(r){return null!==r&&"object"==typeof r&&Tp in r}function fl(r){return"function"==typeof r}const Ap=new No("Set Injector scope."),hd={},Tm={};let zl;function m(){return void 0===zl&&(zl=new bp),zl}class u{}class h extends u{constructor(c,p,v,E){super(),this.parent=p,this.source=v,this.scopes=E,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ft(c,re=>this.processProvider(re)),this.records.set(pu,ee(void 0,this)),E.has("environment")&&this.records.set(u,ee(void 0,this));const B=this.records.get(Ap);null!=B&&"string"==typeof B.value&&this.scopes.add(B.value),this.injectorDefTypes=new Set(this.get(Kr.multi,un,fe.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const p=Zr(this),v=Ct(void 0);try{return c()}finally{Zr(p),Ct(v)}}get(c,p=gr,v=fe.Default){this.assertNotDestroyed();const E=Zr(this),B=Ct(void 0);try{if(!(v&fe.SkipSelf)){let Ie=this.records.get(c);if(void 0===Ie){const Le=function rt(r){return"function"==typeof r||"object"==typeof r&&r instanceof No}(c)&&dt(c);Ie=Le&&this.injectableDefInScope(Le)?ee(C(c),hd):null,this.records.set(c,Ie)}if(null!=Ie)return this.hydrate(c,Ie)}return(v&fe.Self?m():this.parent).get(c,p=v&fe.Optional&&p===gr?null:p)}catch(re){if("NullInjectorError"===re.name){if((re[oc]=re[oc]||[]).unshift(l(c)),E)throw re;return function Wd(r,c,p,v){const E=r[oc];throw c[Zu]&&E.unshift(c[Zu]),r.message=function sc(r,c,p,v=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let E=l(c);if(Array.isArray(c))E=c.map(l).join(" -> ");else if("object"==typeof c){let B=[];for(let re in c)if(c.hasOwnProperty(re)){let Ie=c[re];B.push(re+":"+("string"==typeof Ie?JSON.stringify(Ie):l(Ie)))}E=`{${B.join(", ")}}`}return`${p}${v?"("+v+")":""}[${E}]: ${r.replace(Bu,"\n  ")}`}("\n"+r.message,E,p,v),r.ngTokenPath=E,r[oc]=null,r}(re,c,"R3InjectorError",this.source)}throw re}finally{Ct(B),Zr(E)}}resolveInjectorInitializers(){const c=Zr(this),p=Ct(void 0);try{const v=this.get(Vl.multi,un,fe.Self);for(const E of v)E()}finally{Zr(c),Ct(p)}}toString(){const c=[],p=this.records;for(const v of p.keys())c.push(l(v));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(c){let p=fl(c=N(c))?c:N(c&&c.provide);const v=function M(r){return pd(r)?ee(void 0,r.useValue):ee(H(r),hd)}(c);if(fl(c)||!0!==c.multi)this.records.get(p);else{let E=this.records.get(p);E||(E=ee(void 0,hd,!0),E.factory=()=>Ic(E.multi),this.records.set(p,E)),p=c,E.multi.push(c)}this.records.set(p,v)}hydrate(c,p){return p.value===hd&&(p.value=Tm,p.value=p.factory()),"object"==typeof p.value&&p.value&&function De(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(p.value)&&this._ngOnDestroyHooks.add(p.value),p.value}injectableDefInScope(c){if(!c.providedIn)return!1;const p=N(c.providedIn);return"string"==typeof p?"any"===p||this.scopes.has(p):this.injectorDefTypes.has(p)}}function C(r){const c=dt(r),p=null!==c?c.factory:fo(r);if(null!==p)return p;if(r instanceof No)throw new D(204,!1);if(r instanceof Function)return function I(r){const c=r.length;if(c>0)throw Ms(c,"?"),new D(204,!1);const p=function Dt(r){const c=r&&(r[Ht]||r[ct]);if(c){const p=function vt(r){if(r.hasOwnProperty("name"))return r.name;const c=(""+r).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${p}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${p}" class.`),c}return null}(r);return null!==p?()=>p.factory(r):()=>new r}(r);throw new D(204,!1)}function H(r,c,p){let v;if(fl(r)){const E=N(r);return fo(E)||C(E)}if(pd(r))v=()=>N(r.useValue);else if(function hu(r){return!(!r||!r.useFactory)}(r))v=()=>r.useFactory(...Ic(r.deps||[]));else if(function Fc(r){return!(!r||!r.useExisting)}(r))v=()=>Js(N(r.useExisting));else{const E=N(r&&(r.useClass||r.provide));if(!function ge(r){return!!r.deps}(r))return fo(E)||C(E);v=()=>new E(...Ic(r.deps))}return v}function ee(r,c,p=!1){return{factory:r,value:c,multi:p?[]:void 0}}function Tt(r){return!!r.\u0275providers}function Ft(r,c){for(const p of r)Array.isArray(p)?Ft(p,c):Tt(p)?Ft(p.\u0275providers,c):c(p)}class Cn{}class Vn{resolveComponentFactory(c){throw function yn(r){const c=Error(`No component factory found for ${l(r)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=r,c}(c)}}let Yn=(()=>{class r{}return r.NULL=new Vn,r})();function ei(){return Gn(eo(),Qn())}function Gn(r,c){return new li(si(r,c))}let li=(()=>{class r{constructor(p){this.nativeElement=p}}return r.__NG_ELEMENT_ID__=ei,r})();function fi(r){return r instanceof li?r.nativeElement:r}class Si{}let po=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function lo(){const r=Qn(),p=Li(eo().index,r);return(bo(p)?p:r)[11]}(),r})(),ro=(()=>{class r{}return r.\u0275prov=xe({token:r,providedIn:"root",factory:()=>null}),r})();class Tr{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const va=new Tr("14.2.12"),Bo={};function ba(r){return r.ngOriginalError}class fr{constructor(){this._console=console}handleError(c){const p=this._findOriginalError(c);this._console.error("ERROR",c),p&&this._console.error("ORIGINAL ERROR",p)}_findOriginalError(c){let p=c&&ba(c);for(;p&&ba(p);)p=ba(p);return p||null}}function ya(r){return r.ownerDocument.defaultView}function Bc(r){return r.ownerDocument}function hc(r){return r instanceof Function?r():r}function s0(r,c,p){let v=r.length;for(;;){const E=r.indexOf(c,p);if(-1===E)return E;if(0===E||r.charCodeAt(E-1)<=32){const B=c.length;if(E+B===v||r.charCodeAt(E+B)<=32)return E}p=E+1}}const r0="ng-template";function wm(r,c,p){let v=0;for(;v<r.length;){let E=r[v++];if(p&&"class"===E){if(E=r[v],-1!==s0(E.toLowerCase(),c,0))return!0}else if(1===E){for(;v<r.length&&"string"==typeof(E=r[v++]);)if(E.toLowerCase()===c)return!0;return!1}}return!1}function a0(r){return 4===r.type&&r.value!==r0}function l0(r,c,p){return c===(4!==r.type||p?r.value:r0)}function c0(r,c,p){let v=4;const E=r.attrs||[],B=function u0(r){for(let c=0;c<r.length;c++)if(Re(r[c]))return c;return r.length}(E);let re=!1;for(let Ie=0;Ie<c.length;Ie++){const Le=c[Ie];if("number"!=typeof Le){if(!re)if(4&v){if(v=2|1&v,""!==Le&&!l0(r,Le,p)||""===Le&&1===c.length){if(qr(v))return!1;re=!0}}else{const lt=8&v?Le:c[++Ie];if(8&v&&null!==r.attrs){if(!wm(r.attrs,lt,p)){if(qr(v))return!1;re=!0}continue}const Kt=Pa(8&v?"class":Le,E,a0(r),p);if(-1===Kt){if(qr(v))return!1;re=!0;continue}if(""!==lt){let bn;bn=Kt>B?"":E[Kt+1].toLowerCase();const Sn=8&v?bn:null;if(Sn&&-1!==s0(Sn,lt,0)||2&v&&lt!==bn){if(qr(v))return!1;re=!0}}}}else{if(!re&&!qr(v)&&!qr(Le))return!1;if(re&&qr(Le))continue;re=!1,v=Le|1&v}}return qr(v)||re}function qr(r){return 0==(1&r)}function Pa(r,c,p,v){if(null===c)return-1;let E=0;if(v||!p){let B=!1;for(;E<c.length;){const re=c[E];if(re===r)return E;if(3===re||6===re)B=!0;else{if(1===re||2===re){let Ie=c[++E];for(;"string"==typeof Ie;)Ie=c[++E];continue}if(4===re)break;if(0===re){E+=4;continue}}E+=B?1:2}return-1}return function wp(r,c){let p=r.indexOf(4);if(p>-1)for(p++;p<r.length;){const v=r[p];if("number"==typeof v)return-1;if(v===c)return p;p++}return-1}(c,r)}function Em(r,c,p=!1){for(let v=0;v<c.length;v++)if(c0(r,c[v],p))return!0;return!1}function pb(r,c){e:for(let p=0;p<c.length;p++){const v=c[p];if(r.length===v.length){for(let E=0;E<r.length;E++)if(r[E]!==v[E])continue e;return!0}}return!1}function d0(r,c){return r?":not("+c.trim()+")":c}function Sm(r){let c=r[0],p=1,v=2,E="",B=!1;for(;p<r.length;){let re=r[p];if("string"==typeof re)if(2&v){const Ie=r[++p];E+="["+re+(Ie.length>0?'="'+Ie+'"':"")+"]"}else 8&v?E+="."+re:4&v&&(E+=" "+re);else""!==E&&!qr(re)&&(c+=d0(B,E),E=""),v=re,B=B||!qr(v);p++}return""!==E&&(c+=d0(B,E)),c}const co={};function hb(r){km(Mi(),Qn(),nn()+r,!1)}function km(r,c,p,v){if(!v)if(3==(3&c[2])){const B=r.preOrderCheckHooks;null!==B&&xo(c,B,p)}else{const B=r.preOrderHooks;null!==B&&Yo(c,B,0,p)}kn(p)}function m0(r,c=null,p=null,v){const E=f0(r,c,p,v);return E.resolveInjectorInitializers(),E}function f0(r,c=null,p=null,v,E=new Set){const B=[p||un,yp(r)];return v=v||("object"==typeof r?void 0:l(r)),new h(B,c||m(),v||null,E)}let mu=(()=>{class r{static create(p,v){var E;if(Array.isArray(p))return m0({name:""},v,p,"");{const B=null!==(E=p.name)&&void 0!==E?E:"";return m0({name:B},p.parent,p.providers,B)}}}return r.THROW_IF_NOT_FOUND=gr,r.NULL=new bp,r.\u0275prov=xe({token:r,providedIn:"any",factory:()=>Js(pu)}),r.__NG_ELEMENT_ID__=-1,r})();function fd(r,c=fe.Default){const p=Qn();return null===p?Js(r,c):no(eo(),p,N(r),c)}function v0(){throw new Error("invalid")}function _u(r,c){return r<<17|c<<2}function _l(r){return r>>17&32767}function Bm(r){return 2|r}function tl(r){return(131068&r)>>2}function Xh(r,c){return-131069&r|c<<2}function eg(r){return 1|r}function D0(r,c){const p=r.contentQueries;if(null!==p)for(let v=0;v<p.length;v+=2){const E=p[v],B=p[v+1];if(-1!==B){const re=r.data[B];Or(E),re.contentQueries(2,c[B],B)}}}function sg(r,c,p,v,E,B,re,Ie,Le,lt,Pt){const Kt=c.blueprint.slice();return Kt[0]=E,Kt[2]=76|v,(null!==Pt||r&&1024&r[2])&&(Kt[2]|=1024),So(Kt),Kt[3]=Kt[15]=r,Kt[8]=p,Kt[10]=re||r&&r[10],Kt[11]=Ie||r&&r[11],Kt[12]=Le||r&&r[12]||null,Kt[9]=lt||r&&r[9]||null,Kt[6]=B,Kt[20]=function _h(){return ac++}(),Kt[21]=Pt,Kt[16]=2==c.type?r[16]:Kt,Kt}function vd(r,c,p,v,E){let B=r.data[c];if(null===B)B=function Op(r,c,p,v,E){const B=ta(),re=ca(),Le=r.data[c]=function Pb(r,c,p,v,E,B){return{type:p,index:v,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:E,attrs:B,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,re?B:B&&B.parent,p,c,v,E);return null===r.firstChild&&(r.firstChild=Le),null!==B&&(re?null==B.child&&null!==Le.parent&&(B.child=Le):null===B.next&&(B.next=Le)),Le}(r,c,p,v,E),function yo(){return Di.lFrame.inI18n}()&&(B.flags|=64);else if(64&B.type){B.type=p,B.value=v,B.attrs=E;const re=function ar(){const r=Di.lFrame,c=r.currentTNode;return r.isParent?c:c.parent}();B.injectorIndex=null===re?-1:re.injectorIndex}return Ss(B,!0),B}function bd(r,c,p,v){if(0===p)return-1;const E=c.length;for(let B=0;B<p;B++)c.push(v),r.blueprint.push(v),r.data.push(null);return E}function rg(r,c,p){cr(c);try{const v=r.viewQuery;null!==v&&vl(1,v,p);const E=r.template;null!==E&&Pp(r,c,E,1,p),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&D0(r,c),r.staticViewQueries&&vl(2,r.viewQuery,p);const B=r.components;null!==B&&function M0(r,c){for(let p=0;p<c.length;p++)tf(r,c[p])}(c,B)}catch(v){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),v}finally{c[2]&=-5,pt()}}function ag(r,c,p,v){const E=c[2];if(128!=(128&E)){cr(c);try{So(c),function On(r){return Di.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==p&&Pp(r,c,p,2,v);const re=3==(3&E);if(re){const lt=r.preOrderCheckHooks;null!==lt&&xo(c,lt,null)}else{const lt=r.preOrderHooks;null!==lt&&Yo(c,lt,0,null),Us(c,0)}if(function yd(r){for(let c=ju(r);null!==c;c=$c(c)){if(!c[2])continue;const p=c[9];for(let v=0;v<p.length;v++){const E=p[v],B=E[3];0==(512&E[2])&&Es(B,1),E[2]|=512}}}(c),function H0(r){for(let c=ju(r);null!==c;c=$c(c))for(let p=10;p<c.length;p++){const v=c[p],E=v[1];Fo(v)&&ag(E,v,E.template,v[8])}}(c),null!==r.contentQueries&&D0(r,c),re){const lt=r.contentCheckHooks;null!==lt&&xo(c,lt)}else{const lt=r.contentHooks;null!==lt&&Yo(c,lt,1),Us(c,1)}!function jm(r,c){const p=r.hostBindingOpCodes;if(null!==p)try{for(let v=0;v<p.length;v++){const E=p[v];if(E<0)kn(~E);else{const B=E,re=p[++v],Ie=p[++v];cs(re,B),Ie(2,c[B])}}}finally{kn(-1)}}(r,c);const Ie=r.components;null!==Ie&&function Mb(r,c){for(let p=0;p<c.length;p++)cg(r,c[p])}(c,Ie);const Le=r.viewQuery;if(null!==Le&&vl(2,Le,v),re){const lt=r.viewCheckHooks;null!==lt&&xo(c,lt)}else{const lt=r.viewHooks;null!==lt&&Yo(c,lt,2),Us(c,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),c[2]&=-41,512&c[2]&&(c[2]&=-513,Es(c[3],-1))}finally{pt()}}}function Pp(r,c,p,v,E){const B=nn(),re=2&v;try{kn(-1),re&&c.length>22&&km(r,c,22,!1),p(v,E)}finally{kn(B)}}function O0(r,c,p){if(Ls(c)){const E=c.directiveEnd;for(let B=c.directiveStart;B<E;B++){const re=r.data[B];re.contentQueries&&re.contentQueries(1,p[B],B)}}}function Km(r,c,p){!Ri()||(function Nb(r,c,p,v){const E=p.directiveStart,B=p.directiveEnd;r.firstCreatePass||dr(p,c),tr(v,c);const re=p.initialInputs;for(let Ie=E;Ie<B;Ie++){const Le=r.data[Ie],lt=hs(Le);lt&&Fb(c,p,Le);const Pt=pr(c,r,Ie,p);tr(Pt,c),null!==re&&B0(0,Ie-E,Pt,Le,0,re),lt&&(Li(p.index,c)[8]=Pt)}}(r,c,p,si(p,c)),128==(128&p.flags)&&function Bp(r,c,p){const v=p.directiveStart,E=p.directiveEnd,B=p.index,re=function js(){return Di.lFrame.currentDirectiveIndex}();try{kn(B);for(let Ie=v;Ie<E;Ie++){const Le=r.data[Ie],lt=c[Ie];lr(Ie),(null!==Le.hostBindings||0!==Le.hostVars||null!==Le.hostAttrs)&&Xm(Le,lt)}}finally{kn(-1),lr(re)}}(r,c,p))}function Vc(r,c,p=si){const v=c.localNames;if(null!==v){let E=c.index+1;for(let B=0;B<v.length;B+=2){const re=v[B+1],Ie=-1===re?p(c,r):r[re];r[E++]=Ie}}}function Lp(r){const c=r.tView;return null===c||c.incompleteFirstPass?r.tView=Rp(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):c}function Rp(r,c,p,v,E,B,re,Ie,Le,lt){const Pt=22+v,Kt=Pt+E,bn=function Ob(r,c){const p=[];for(let v=0;v<c;v++)p.push(v<r?null:co);return p}(Pt,Kt),Sn="function"==typeof lt?lt():lt;return bn[1]={type:r,blueprint:bn,template:p,queries:null,viewQuery:Ie,declTNode:c,data:bn.slice().fill(null,Pt),bindingStartIndex:Pt,expandoStartIndex:Kt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof B?B():B,pipeRegistry:"function"==typeof re?re():re,firstChild:null,schemas:Le,consts:Sn,incompleteFirstPass:!1}}function qm(r,c,p,v){const E=sf(c);null===p?E.push(v):(E.push(p),r.firstCreatePass&&gg(r).push(v,E.length-1))}function $m(r,c,p){for(let v in r)if(r.hasOwnProperty(v)){const E=r[v];(p=null===p?{}:p).hasOwnProperty(v)?p[v].push(c,E):p[v]=[c,E]}return p}function P0(r,c){const v=c.directiveEnd,E=r.data,B=c.attrs,re=[];let Ie=null,Le=null;for(let lt=c.directiveStart;lt<v;lt++){const Pt=E[lt],Kt=Pt.inputs,bn=null===B||a0(c)?null:vu(Kt,B);re.push(bn),Ie=$m(Kt,lt,Ie),Le=$m(Pt.outputs,lt,Le)}null!==Ie&&(Ie.hasOwnProperty("class")&&(c.flags|=16),Ie.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=re,c.inputs=Ie,c.outputs=Le}function Fp(r,c){const p=Li(c,r);16&p[2]||(p[2]|=32)}function Cl(r,c,p,v){let E=!1;if(Ri()){const B=function L0(r,c,p){const v=r.directiveRegistry;let E=null;if(v)for(let B=0;B<v.length;B++){const re=v[B];Em(p,re.selectors,!1)&&(E||(E=[]),Sa(dr(p,c),r,re.type),hs(re)?(R0(r,p),E.unshift(re)):E.push(re))}return E}(r,c,p),re=null===v?null:{"":-1};if(null!==B){E=!0,lg(p,r.data.length,B.length);for(let Pt=0;Pt<B.length;Pt++){const Kt=B[Pt];Kt.providersResolver&&Kt.providersResolver(Kt)}let Ie=!1,Le=!1,lt=bd(r,c,B.length,null);for(let Pt=0;Pt<B.length;Pt++){const Kt=B[Pt];p.mergedAttrs=ft(p.mergedAttrs,Kt.hostAttrs),F0(r,p,c,lt,Kt),N0(lt,Kt,re),null!==Kt.contentQueries&&(p.flags|=8),(null!==Kt.hostBindings||null!==Kt.hostAttrs||0!==Kt.hostVars)&&(p.flags|=128);const bn=Kt.type.prototype;!Ie&&(bn.ngOnChanges||bn.ngOnInit||bn.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(p.index),Ie=!0),!Le&&(bn.ngOnChanges||bn.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(p.index),Le=!0),lt++}P0(r,p)}re&&function ef(r,c,p){if(c){const v=r.localNames=[];for(let E=0;E<c.length;E+=2){const B=p[c[E+1]];if(null==B)throw new D(-301,!1);v.push(c[E],B)}}}(p,v,re)}return p.mergedAttrs=ft(p.mergedAttrs,p.attrs),E}function nl(r,c,p,v,E,B){const re=B.hostBindings;if(re){let Ie=r.hostBindingOpCodes;null===Ie&&(Ie=r.hostBindingOpCodes=[]);const Le=~c.index;(function Rb(r){let c=r.length;for(;c>0;){const p=r[--c];if("number"==typeof p&&p<0)return p}return 0})(Ie)!=Le&&Ie.push(Le),Ie.push(v,E,re)}}function Xm(r,c){null!==r.hostBindings&&r.hostBindings(1,c)}function R0(r,c){c.flags|=2,(r.components||(r.components=[])).push(c.index)}function N0(r,c,p){if(p){if(c.exportAs)for(let v=0;v<c.exportAs.length;v++)p[c.exportAs[v]]=r;hs(c)&&(p[""]=r)}}function lg(r,c,p){r.flags|=1,r.directiveStart=c,r.directiveEnd=c+p,r.providerIndexes=c}function F0(r,c,p,v,E){r.data[v]=E;const B=E.factory||(E.factory=fo(E.type)),re=new ae(B,hs(E),fd);r.blueprint[v]=re,p[v]=re,nl(r,c,0,v,bd(r,p,E.hostVars,co),E)}function Fb(r,c,p){const v=si(c,r),E=Lp(p),B=r[10],re=dg(r,sg(r,E,null,p.onPush?32:16,v,c,B,B.createRenderer(v,p),null,null,null));r[c.index]=re}function Ia(r,c,p,v,E,B){const re=si(r,c);!function xs(r,c,p,v,E,B,re){if(null==B)r.removeAttribute(c,E,p);else{const Ie=null==re?U(B):re(B,v||"",E);r.setAttribute(c,E,Ie,p)}}(c[11],re,B,r.value,p,v,E)}function B0(r,c,p,v,E,B){const re=B[c];if(null!==re){const Ie=v.setInput;for(let Le=0;Le<re.length;){const lt=re[Le++],Pt=re[Le++],Kt=re[Le++];null!==Ie?v.setInput(p,Kt,lt,Pt):p[Pt]=Kt}}}function vu(r,c){let p=null,v=0;for(;v<c.length;){const E=c[v];if(0!==E)if(5!==E){if("number"==typeof E)break;r.hasOwnProperty(E)&&(null===p&&(p=[]),p.push(E,r[E],c[v+1])),v+=2}else v+=2;else v+=4}return p}function U0(r,c,p,v){return new Array(r,!0,!1,c,null,0,v,p,null,null)}function cg(r,c){const p=Li(c,r);if(Fo(p)){const v=p[1];48&p[2]?ag(v,p,v.template,p[8]):p[5]>0&&ug(p)}}function ug(r){for(let v=ju(r);null!==v;v=$c(v))for(let E=10;E<v.length;E++){const B=v[E];if(Fo(B))if(512&B[2]){const re=B[1];ag(re,B,re.template,B[8])}else B[5]>0&&ug(B)}const p=r[1].components;if(null!==p)for(let v=0;v<p.length;v++){const E=Li(p[v],r);Fo(E)&&E[5]>0&&ug(E)}}function tf(r,c){const p=Li(c,r),v=p[1];(function Bb(r,c){for(let p=c.length;p<r.blueprint.length;p++)c.push(r.blueprint[p])})(v,p),rg(v,p,p[8])}function dg(r,c){return r[13]?r[14][4]=c:r[13]=c,r[14]=c,c}function nf(r){for(;r;){r[2]|=32;const c=Ec(r);if(Er(r)&&!c)return r;r=c}return null}function pg(r,c,p,v=!0){const E=c[10];E.begin&&E.begin();try{ag(r,c,r.template,p)}catch(re){throw v&&z0(c,re),re}finally{E.end&&E.end()}}function vl(r,c,p){Or(0),c(r,p)}function sf(r){return r[7]||(r[7]=[])}function gg(r){return r.cleanup||(r.cleanup=[])}function z0(r,c){const p=r[9],v=p?p.get(fr,null):null;v&&v.handleError(c)}function rf(r,c,p,v,E){for(let B=0;B<p.length;){const re=p[B++],Ie=p[B++],Le=c[re],lt=r.data[re];null!==lt.setInput?lt.setInput(Le,E,v,Ie):Le[Ie]=E}}function mc(r,c,p){const v=Wn(c,r);!function Ku(r,c,p){r.setValue(c,p)}(r[11],v,p)}function mg(r,c,p){let v=p?r.styles:null,E=p?r.classes:null,B=0;if(null!==c)for(let re=0;re<c.length;re++){const Ie=c[re];"number"==typeof Ie?B=Ie:1==B?E=R(E,Ie):2==B&&(v=R(v,Ie+": "+c[++re]+";"))}p?r.styles=v:r.stylesWithoutHost=v,p?r.classes=E:r.classesWithoutHost=E}function fg(r,c,p,v,E=!1){for(;null!==p;){const B=c[p.index];if(null!==B&&v.push(xt(B)),qo(B))for(let Ie=10;Ie<B.length;Ie++){const Le=B[Ie],lt=Le[1].firstChild;null!==lt&&fg(Le[1],Le,lt,v)}const re=p.type;if(8&re)fg(r,c,p.child,v);else if(32&re){const Ie=cc(p,c);let Le;for(;Le=Ie();)v.push(Le)}else if(16&re){const Ie=iu(c,p);if(Array.isArray(Ie))v.push(...Ie);else{const Le=Ec(c[16]);fg(Le[1],Le,Ie,v,!0)}}p=E?p.projectionNext:p.next}return v}class xd{constructor(c,p){this._lView=c,this._cdRefInjectingView=p,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,p=c[1];return fg(p,c,p.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(qo(c)){const p=c[8],v=p?p.indexOf(this):-1;v>-1&&($u(c,v),ll(p,v))}this._attachedToViewContainer=!1}Xu(this._lView[1],this._lView)}onDestroy(c){qm(this._lView[1],this._lView,null,c)}markForCheck(){nf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){pg(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ip(r,c){Lc(r,c,c[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=c}}class J0 extends xd{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;pg(c[1],c,c[8],!1)}checkNoChanges(){}get context(){return null}}class af extends Yn{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const p=Un(c);return new Zp(p,this.ngModule)}}function lf(r){const c=[];for(let p in r)r.hasOwnProperty(p)&&c.push({propName:r[p],templateName:p});return c}class Ub{constructor(c,p){this.injector=c,this.parentInjector=p}get(c,p,v){const E=this.injector.get(c,Bo,v);return E!==Bo||p===Bo?E:this.parentInjector.get(c,p,v)}}class Zp extends Cn{constructor(c,p){super(),this.componentDef=c,this.ngModule=p,this.componentType=c.type,this.selector=function Vi(r){return r.map(Sm).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!p}get inputs(){return lf(this.componentDef.inputs)}get outputs(){return lf(this.componentDef.outputs)}create(c,p,v,E){let B=(E=E||this.ngModule)instanceof u?E:null==E?void 0:E.injector;B&&null!==this.componentDef.getStandaloneInjector&&(B=this.componentDef.getStandaloneInjector(B)||B);const re=B?new Ub(c,B):c,Ie=re.get(Si,null);if(null===Ie)throw new D(407,!1);const Le=re.get(ro,null),lt=Ie.createRenderer(null,this.componentDef),Pt=this.componentDef.selectors[0][0]||"div",Kt=v?function Np(r,c,p){return r.selectRootElement(c,p===It.ShadowDom)}(lt,v,this.componentDef.encapsulation):qu(lt,Pt,function Zb(r){const c=r.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(Pt)),bn=this.componentDef.onPush?288:272,Sn=Rp(0,null,null,1,0,null,null,null,null,null),Jn=sg(null,Sn,null,bn,null,null,Ie,lt,Le,re,null);let ii,_i;cr(Jn);try{const Ei=function Q0(r,c,p,v,E,B){const re=p[1];p[22]=r;const Le=vd(re,22,2,"#host",null),lt=Le.mergedAttrs=c.hostAttrs;null!==lt&&(mg(Le,lt,!0),null!==r&&(Yt(E,r,lt),null!==Le.classes&&od(E,r,Le.classes),null!==Le.styles&&id(E,r,Le.styles)));const Pt=v.createRenderer(r,c),Kt=sg(p,Lp(c),null,c.onPush?32:16,p[22],Le,v,Pt,B||null,null,null);return re.firstCreatePass&&(Sa(dr(Le,p),re,c.type),R0(re,Le),lg(Le,p.length,1)),dg(p,Kt),p[22]=Kt}(Kt,this.componentDef,Jn,Ie,lt);if(Kt)if(v)Yt(lt,Kt,["ng-version",va.full]);else{const{attrs:Ui,classes:Kn}=function Yh(r){const c=[],p=[];let v=1,E=2;for(;v<r.length;){let B=r[v];if("string"==typeof B)2===E?""!==B&&c.push(B,r[++v]):8===E&&p.push(B);else{if(!qr(E))break;E=B}v++}return{attrs:c,classes:p}}(this.componentDef.selectors[0]);Ui&&Yt(lt,Kt,Ui),Kn&&Kn.length>0&&od(lt,Kt,Kn.join(" "))}if(_i=Zi(Sn,22),void 0!==p){const Ui=_i.projection=[];for(let Kn=0;Kn<this.ngContentSelectors.length;Kn++){const Gi=p[Kn];Ui.push(null!=Gi?Array.from(Gi):null)}}ii=function cf(r,c,p,v){const E=p[1],B=function Lb(r,c,p){const v=eo();r.firstCreatePass&&(p.providersResolver&&p.providersResolver(p),F0(r,v,c,bd(r,c,1,null),p),P0(r,v));const E=pr(c,r,v.directiveStart,v);tr(E,c);const B=si(v,c);return B&&tr(B,c),E}(E,p,c);if(r[8]=p[8]=B,null!==v)for(const Ie of v)Ie(B,c);if(c.contentQueries){const Ie=eo();c.contentQueries(1,B,Ie.directiveStart)}const re=eo();return!E.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(kn(re.index),nl(p[1],re,0,re.directiveStart,re.directiveEnd,c),Xm(c,B)),B}(Ei,this.componentDef,Jn,[bu]),rg(Sn,Jn,null)}finally{pt()}return new Vb(this.componentType,ii,Gn(_i,Jn),Jn,_i)}}class Vb extends class tn{}{constructor(c,p,v,E,B){super(),this.location=v,this._rootLView=E,this._tNode=B,this.instance=p,this.hostView=this.changeDetectorRef=new J0(E),this.componentType=c}setInput(c,p){const v=this._tNode.inputs;let E;if(null!==v&&(E=v[c])){const B=this._rootLView;rf(B[1],B,E,c,p),Fp(B,this._tNode.index)}}get injector(){return new Ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function bu(){const r=eo();bi(Qn()[1],r)}function uf(r){let c=function G0(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),p=!0;const v=[r];for(;c;){let E;if(hs(r))E=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new D(903,!1);E=c.\u0275dir}if(E){if(p){v.push(E);const re=r;re.inputs=Up(r.inputs),re.declaredInputs=Up(r.declaredInputs),re.outputs=Up(r.outputs);const Ie=E.hostBindings;Ie&&zb(r,Ie);const Le=E.viewQuery,lt=E.contentQueries;if(Le&&pf(r,Le),lt&&Id(r,lt),y(r.inputs,E.inputs),y(r.declaredInputs,E.declaredInputs),y(r.outputs,E.outputs),hs(E)&&E.data.animation){const Pt=r.data;Pt.animation=(Pt.animation||[]).concat(E.data.animation)}}const B=E.features;if(B)for(let re=0;re<B.length;re++){const Ie=B[re];Ie&&Ie.ngInherit&&Ie(r),Ie===uf&&(p=!1)}}c=Object.getPrototypeOf(c)}!function df(r){let c=0,p=null;for(let v=r.length-1;v>=0;v--){const E=r[v];E.hostVars=c+=E.hostVars,E.hostAttrs=ft(E.hostAttrs,p=ft(p,E.hostAttrs))}}(v)}function Up(r){return r===gt?{}:r===un?[]:r}function pf(r,c){const p=r.viewQuery;r.viewQuery=p?(v,E)=>{c(v,E),p(v,E)}:c}function Id(r,c){const p=r.contentQueries;r.contentQueries=p?(v,E,B)=>{c(v,E,B),p(v,E,B)}:c}function zb(r,c){const p=r.hostBindings;r.hostBindings=p?(v,E)=>{c(v,E),p(v,E)}:c}let Td=null;function yu(){if(!Td){const r=ne.Symbol;if(r&&r.iterator)Td=r.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let p=0;p<c.length;++p){const v=c[p];"entries"!==v&&"size"!==v&&Map.prototype[v]===Map.prototype.entries&&(Td=v)}}}return Td}function Hp(r){return!!_g(r)&&(Array.isArray(r)||!(r instanceof Map)&&yu()in r)}function _g(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function bl(r,c,p){return r[c]=p}function Ad(r,c){return r[c]}function ha(r,c,p){return!Object.is(r[c],p)&&(r[c]=p,!0)}function zc(r,c,p,v){const E=ha(r,c,p);return ha(r,c+1,v)||E}function $r(r,c,p,v,E){const B=zc(r,c,p,v);return ha(r,c+2,E)||B}function il(r,c,p,v,E,B){const re=zc(r,c,p,v);return zc(r,c+2,E,B)||re}function ff(r,c,p,v){const E=Qn();return ha(E,mi(),c)&&(Mi(),Ia(Ln(),E,r,c,p,v)),ff}function X0(r,c,p,v,E,B,re,Ie){const Le=Qn(),lt=Mi(),Pt=r+22,Kt=lt.firstCreatePass?function Gb(r,c,p,v,E,B,re,Ie,Le){const lt=c.consts,Pt=vd(c,r,4,re||null,Io(lt,Ie));Cl(c,p,Pt,Io(lt,Le)),bi(c,Pt);const Kt=Pt.tViews=Rp(2,Pt,v,E,B,c.directiveRegistry,c.pipeRegistry,null,c.schemas,lt);return null!==c.queries&&(c.queries.template(c,Pt),Kt.queries=c.queries.embeddedTView(Pt)),Pt}(Pt,lt,Le,c,p,v,E,B,re):lt.data[Pt];Ss(Kt,!1);const bn=Le[11].createComment("");nu(lt,Le,bn,Kt),tr(bn,Le),dg(Le,Le[Pt]=U0(bn,Le,bn,Kt)),Rs(Kt)&&Km(lt,Le,Kt),null!=re&&Vc(Le,Kt,Ie)}function tC(r){return go(function Wr(){return Di.lFrame.contextLView}(),22+r)}function Cg(r,c,p){const v=Qn();return ha(v,mi(),c)&&function Ga(r,c,p,v,E,B,re,Ie){const Le=si(c,p);let Pt,lt=c.inputs;!Ie&&null!=lt&&(Pt=lt[v])?(rf(r,p,Pt,v,E),Is(c)&&Fp(p,c.index)):3&c.type&&(v=function gc(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(v),E=null!=re?re(E,c.value||"",v):E,B.setProperty(Le,v,E))}(Mi(),Ln(),v,r,c,v[11],p,!1),Cg}function yf(r,c,p,v,E){const re=E?"class":"style";rf(r,p,c.inputs[re],re,v)}function vg(r,c,p,v){const E=Qn(),B=Mi(),re=22+r,Ie=E[11],Le=E[re]=qu(Ie,c,function Yi(){return Di.lFrame.currentNamespace}()),lt=B.firstCreatePass?function Wb(r,c,p,v,E,B,re){const Ie=c.consts,lt=vd(c,r,2,E,Io(Ie,B));return Cl(c,p,lt,Io(Ie,re)),null!==lt.attrs&&mg(lt,lt.attrs,!1),null!==lt.mergedAttrs&&mg(lt,lt.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,lt),lt}(re,B,E,0,c,p,v):B.data[re];Ss(lt,!0);const Pt=lt.mergedAttrs;null!==Pt&&Yt(Ie,Le,Pt);const Kt=lt.classes;null!==Kt&&od(Ie,Le,Kt);const bn=lt.styles;return null!==bn&&id(Ie,Le,bn),64!=(64&lt.flags)&&nu(B,E,Le,lt),0===function or(){return Di.lFrame.elementDepthCount}()&&tr(Le,E),function Ho(){Di.lFrame.elementDepthCount++}(),Rs(lt)&&(Km(B,E,lt),O0(B,lt,E)),null!==v&&Vc(E,lt),vg}function zp(){let r=eo();ca()?fs():(r=r.parent,Ss(r,!1));const c=r;!function wo(){Di.lFrame.elementDepthCount--}();const p=Mi();return p.firstCreatePass&&(bi(p,r),Ls(r)&&p.queries.elementEnd(r)),null!=c.classesWithoutHost&&function dn(r){return 0!=(16&r.flags)}(c)&&yf(p,c,Qn(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function vn(r){return 0!=(32&r.flags)}(c)&&yf(p,c,Qn(),c.stylesWithoutHost,!1),zp}function xf(r,c,p,v){return vg(r,c,p,v),zp(),xf}function bg(r,c,p){const v=Qn(),E=Mi(),B=r+22,re=E.firstCreatePass?function If(r,c,p,v,E){const B=c.consts,re=Io(B,v),Ie=vd(c,r,8,"ng-container",re);return null!==re&&mg(Ie,re,!0),Cl(c,p,Ie,Io(B,E)),null!==c.queries&&c.queries.elementStart(c,Ie),Ie}(B,E,v,c,p):E.data[B];Ss(re,!0);const Ie=v[B]=v[11].createComment("");return nu(E,v,Ie,re),tr(Ie,v),Rs(re)&&(Km(E,v,re),O0(E,re,v)),null!=p&&Vc(v,re),bg}function Jp(){let r=eo();const c=Mi();return ca()?fs():(r=r.parent,Ss(r,!1)),c.firstCreatePass&&(bi(c,r),Ls(r)&&c.queries.elementEnd(r)),Jp}function Tf(r,c,p){return bg(r,c,p),Jp(),Tf}function yg(){return Qn()}function Dd(r){return!!r&&"function"==typeof r.then}function Af(r){return!!r&&"function"==typeof r.subscribe}const Wl=Af;function wf(r,c,p,v){const E=Qn(),B=Mi(),re=eo();return function nC(r,c,p,v,E,B,re,Ie){const Le=Rs(v),Pt=r.firstCreatePass&&gg(r),Kt=c[8],bn=sf(c);let Sn=!0;if(3&v.type||Ie){const _i=si(v,c),Ei=Ie?Ie(_i):_i,Ui=bn.length,Kn=Ie?Zo=>Ie(xt(Zo[v.index])):v.index;let Gi=null;if(!Ie&&Le&&(Gi=function Yb(r,c,p,v){const E=r.cleanup;if(null!=E)for(let B=0;B<E.length-1;B+=2){const re=E[B];if(re===p&&E[B+1]===v){const Ie=c[7],Le=E[B+2];return Ie.length>Le?Ie[Le]:null}"string"==typeof re&&(B+=2)}return null}(r,c,E,v.index)),null!==Gi)(Gi.__ngLastListenerFn__||Gi).__ngNextListenerFn__=B,Gi.__ngLastListenerFn__=B,Sn=!1;else{B=oC(v,c,Kt,B,!1);const Zo=p.listen(Ei,E,B);bn.push(B,Zo),Pt&&Pt.push(E,Kn,Ui,Ui+1)}}else B=oC(v,c,Kt,B,!1);const Jn=v.outputs;let ii;if(Sn&&null!==Jn&&(ii=Jn[E])){const _i=ii.length;if(_i)for(let Ei=0;Ei<_i;Ei+=2){const Gs=c[ii[Ei]][ii[Ei+1]].subscribe(B),Du=bn.length;bn.push(B,Gs),Pt&&Pt.push(E,v.index,Du,-(Du+1))}}}(B,E,E[11],re,r,c,0,v),wf}function iC(r,c,p,v){try{return!1!==p(v)}catch(E){return z0(r,E),!1}}function oC(r,c,p,v,E){return function B(re){if(re===Function)return v;nf(2&r.flags?Li(r.index,c):c);let Le=iC(c,0,v,re),lt=B.__ngNextListenerFn__;for(;lt;)Le=iC(c,0,lt,re)&&Le,lt=lt.__ngNextListenerFn__;return E&&!1===Le&&(re.preventDefault(),re.returnValue=!1),Le}}function sC(r=1){return function He(r){return(Di.lFrame.contextLView=function Et(r,c){for(;r>0;)c=c[15],r--;return c}(r,Di.lFrame.contextLView))[8]}(r)}function jb(r,c){let p=null;const v=function Zc(r){const c=r.attrs;if(null!=c){const p=c.indexOf(5);if(0==(1&p))return c[p+1]}return null}(r);for(let E=0;E<c.length;E++){const B=c[E];if("*"!==B){if(null===v?Em(r,B,!0):pb(v,B))return E}else p=E}return p}function rC(r){const c=Qn()[16][6];if(!c.projection){const v=c.projection=Ms(r?r.length:1,null),E=v.slice();let B=c.child;for(;null!==B;){const re=r?jb(B,r):0;null!==re&&(E[re]?E[re].projectionNext=B:v[re]=B,E[re]=B),B=B.next}}}function aC(r,c=0,p){const v=Qn(),E=Mi(),B=vd(E,22+r,16,null,p||null);null===B.projection&&(B.projection=c),fs(),64!=(64&B.flags)&&function rp(r,c,p){nd(c[11],0,c,p,Fl(r,p,c),Eh(p.parent||c[6],p,c))}(E,v,B)}function Mf(r,c,p,v,E){const B=r[p+1],re=null===c;let Ie=v?_l(B):tl(B),Le=!1;for(;0!==Ie&&(!1===Le||re);){const Pt=r[Ie+1];qb(r[Ie],c)&&(Le=!0,r[Ie+1]=v?eg(Pt):Bm(Pt)),Ie=v?_l(Pt):tl(Pt)}Le&&(r[p+1]=v?Bm(B):eg(B))}function qb(r,c){return null===r||null==c||(Array.isArray(r)?r[1]:r)===c||!(!Array.isArray(r)||"string"!=typeof c)&&An(r,c)>=0}const Ar={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Of(r){return r.substring(Ar.key,Ar.keyEnd)}function $b(r){return r.substring(Ar.value,Ar.valueEnd)}function pC(r,c){const p=Ar.textEnd;return p===c?-1:(c=Ar.keyEnd=function gC(r,c,p){for(;c<p&&r.charCodeAt(c)>32;)c++;return c}(r,Ar.key=c,p),wu(r,c,p))}function Lf(r,c){const p=Ar.textEnd;let v=Ar.key=wu(r,c,p);return p===v?-1:(v=Ar.keyEnd=function ey(r,c,p){let v;for(;c<p&&(45===(v=r.charCodeAt(c))||95===v||(-33&v)>=65&&(-33&v)<=90||v>=48&&v<=57);)c++;return c}(r,v,p),v=mC(r,v,p),v=Ar.value=wu(r,v,p),v=Ar.valueEnd=function ty(r,c,p){let v=-1,E=-1,B=-1,re=c,Ie=re;for(;re<p;){const Le=r.charCodeAt(re++);if(59===Le)return Ie;34===Le||39===Le?Ie=re=Od(r,Le,re,p):c===re-4&&85===B&&82===E&&76===v&&40===Le?Ie=re=Od(r,41,re,p):Le>32&&(Ie=re),B=E,E=v,v=-33&Le}return Ie}(r,v,p),mC(r,v,p))}function hC(r){Ar.key=0,Ar.keyEnd=0,Ar.value=0,Ar.valueEnd=0,Ar.textEnd=r.length}function wu(r,c,p){for(;c<p&&r.charCodeAt(c)<=32;)c++;return c}function mC(r,c,p,v){return(c=wu(r,c,p))<p&&c++,c}function Od(r,c,p,v){let E=-1,B=p;for(;B<v;){const re=r.charCodeAt(B++);if(re==c&&92!==E)return B;E=92==re&&92===E?0:re}throw new Error}function Rf(r,c,p){return yl(r,c,p,!1),Rf}function Ag(r,c){return yl(r,c,null,!0),Ag}function ol(r){xl(CC,iy,r,!1)}function iy(r,c){for(let p=function Xb(r){return hC(r),Lf(r,wu(r,0,Ar.textEnd))}(c);p>=0;p=Lf(c,p))CC(r,Of(c),$b(c))}function fC(r){xl(Xt,Yl,r,!0)}function Yl(r,c){for(let p=function Pf(r){return hC(r),pC(r,wu(r,0,Ar.textEnd))}(c);p>=0;p=pC(c,p))Xt(r,Of(c),!0)}function yl(r,c,p,v){const E=Qn(),B=Mi(),re=Qi(2);B.firstUpdatePass&&Ff(B,r,re,v),c!==co&&ha(E,re,c)&&vC(B,B.data[nn()],E,E[11],r,E[re+1]=function Zf(r,c){return null==r||("string"==typeof c?r+=c:"object"==typeof r&&(r=l(Ja(r)))),r}(c,p),v,re)}function xl(r,c,p,v){const E=Mi(),B=Qi(2);E.firstUpdatePass&&Ff(E,null,B,v);const re=Qn();if(p!==co&&ha(re,B,p)){const Ie=E.data[nn()];if(bC(Ie,v)&&!Nf(E,B)){let Le=v?Ie.classesWithoutHost:Ie.stylesWithoutHost;null!==Le&&(p=R(Le,p||"")),yf(E,Ie,re,p,v)}else!function ay(r,c,p,v,E,B,re,Ie){E===co&&(E=un);let Le=0,lt=0,Pt=0<E.length?E[0]:null,Kt=0<B.length?B[0]:null;for(;null!==Pt||null!==Kt;){const bn=Le<E.length?E[Le+1]:void 0,Sn=lt<B.length?B[lt+1]:void 0;let ii,Jn=null;Pt===Kt?(Le+=2,lt+=2,bn!==Sn&&(Jn=Kt,ii=Sn)):null===Kt||null!==Pt&&Pt<Kt?(Le+=2,Jn=Pt):(lt+=2,Jn=Kt,ii=Sn),null!==Jn&&vC(r,c,p,v,Jn,ii,re,Ie),Pt=Le<E.length?E[Le]:null,Kt=lt<B.length?B[lt]:null}}(E,Ie,re,re[11],re[B+1],re[B+1]=function ry(r,c,p){if(null==p||""===p)return un;const v=[],E=Ja(p);if(Array.isArray(E))for(let B=0;B<E.length;B++)r(v,E[B],!0);else if("object"==typeof E)for(const B in E)E.hasOwnProperty(B)&&r(v,B,E[B]);else"string"==typeof E&&c(v,E);return v}(r,c,p),v,B)}}function Nf(r,c){return c>=r.expandoStartIndex}function Ff(r,c,p,v){const E=r.data;if(null===E[p+1]){const B=E[nn()],re=Nf(r,p);bC(B,v)&&null===c&&!re&&(c=!1),c=function _C(r,c,p,v){const E=function xr(r){const c=Di.lFrame.currentDirectiveIndex;return-1===c?null:r[c]}(r);let B=v?c.residualClasses:c.residualStyles;if(null===E)0===(v?c.classBindings:c.styleBindings)&&(p=La(p=wg(null,r,c,p,v),c.attrs,v),B=null);else{const re=c.directiveStylingLast;if(-1===re||r[re]!==E)if(p=wg(E,r,c,p,v),null===B){let Le=function Bf(r,c,p){const v=p?c.classBindings:c.styleBindings;if(0!==tl(v))return r[_l(v)]}(r,c,v);void 0!==Le&&Array.isArray(Le)&&(Le=wg(null,r,c,Le[1],v),Le=La(Le,c.attrs,v),function oy(r,c,p,v){r[_l(p?c.classBindings:c.styleBindings)]=v}(r,c,v,Le))}else B=function sy(r,c,p){let v;const E=c.directiveEnd;for(let B=1+c.directiveStylingLast;B<E;B++)v=La(v,r[B].hostAttrs,p);return La(v,c.attrs,p)}(r,c,v)}return void 0!==B&&(v?c.residualClasses=B:c.residualStyles=B),p}(E,B,c,v),function Df(r,c,p,v,E,B){let re=B?c.classBindings:c.styleBindings,Ie=_l(re),Le=tl(re);r[v]=p;let Pt,lt=!1;if(Array.isArray(p)){const Kt=p;Pt=Kt[1],(null===Pt||An(Kt,Pt)>0)&&(lt=!0)}else Pt=p;if(E)if(0!==Le){const bn=_l(r[Ie+1]);r[v+1]=_u(bn,Ie),0!==bn&&(r[bn+1]=Xh(r[bn+1],v)),r[Ie+1]=function b0(r,c){return 131071&r|c<<17}(r[Ie+1],v)}else r[v+1]=_u(Ie,0),0!==Ie&&(r[Ie+1]=Xh(r[Ie+1],v)),Ie=v;else r[v+1]=_u(Le,0),0===Ie?Ie=v:r[Le+1]=Xh(r[Le+1],v),Le=v;lt&&(r[v+1]=Bm(r[v+1])),Mf(r,Pt,v,!0),Mf(r,Pt,v,!1),function Kb(r,c,p,v,E){const B=E?r.residualClasses:r.residualStyles;null!=B&&"string"==typeof c&&An(B,c)>=0&&(p[v+1]=eg(p[v+1]))}(c,Pt,r,v,B),re=_u(Ie,Le),B?c.classBindings=re:c.styleBindings=re}(E,B,c,p,re,v)}}function wg(r,c,p,v,E){let B=null;const re=p.directiveEnd;let Ie=p.directiveStylingLast;for(-1===Ie?Ie=p.directiveStart:Ie++;Ie<re&&(B=c[Ie],v=La(v,B.hostAttrs,E),B!==r);)Ie++;return null!==r&&(p.directiveStylingLast=Ie),v}function La(r,c,p){const v=p?1:2;let E=-1;if(null!==c)for(let B=0;B<c.length;B++){const re=c[B];"number"==typeof re?E=re:E===v&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Xt(r,re,!!p||c[++B]))}return void 0===r?null:r}function CC(r,c,p){Xt(r,c,Ja(p))}function vC(r,c,p,v,E,B,re,Ie){if(!(3&c.type))return;const Le=r.data,lt=Le[Ie+1];Eg(function y0(r){return 1==(1&r)}(lt)?fc(Le,c,p,E,tl(lt),re):void 0)||(Eg(B)||function Dp(r){return 2==(2&r)}(lt)&&(B=fc(Le,null,p,E,Ie,re)),function pm(r,c,p,v,E){if(c)E?r.addClass(p,v):r.removeClass(p,v);else{let B=-1===v.indexOf("-")?void 0:Ha.DashCase;null==E?r.removeStyle(p,v,B):("string"==typeof E&&E.endsWith("!important")&&(E=E.slice(0,-10),B|=Ha.Important),r.setStyle(p,v,E,B))}}(v,re,Wn(nn(),p),E,B))}function fc(r,c,p,v,E,B){const re=null===c;let Ie;for(;E>0;){const Le=r[E],lt=Array.isArray(Le),Pt=lt?Le[1]:Le,Kt=null===Pt;let bn=p[E+1];bn===co&&(bn=Kt?un:void 0);let Sn=Kt?sn(bn,v):Pt===v?bn:void 0;if(lt&&!Eg(Sn)&&(Sn=sn(Le,v)),Eg(Sn)&&(Ie=Sn,re))return Ie;const Jn=r[E+1];E=re?_l(Jn):tl(Jn)}if(null!==c){let Le=B?c.residualClasses:c.residualStyles;null!=Le&&(Ie=sn(Le,v))}return Ie}function Eg(r){return void 0!==r}function bC(r,c){return 0!=(r.flags&(c?16:32))}function Uf(r,c=""){const p=Qn(),v=Mi(),E=r+22,B=v.firstCreatePass?vd(v,E,1,c,null):v.data[E],re=p[E]=function Va(r,c){return r.createText(c)}(p[11],c);nu(v,p,re,B),Ss(B,!1)}function Hf(r){return Sg("",r,""),Hf}function Sg(r,c,p){const v=Qn(),E=function Ed(r,c,p,v){return ha(r,mi(),p)?c+U(p)+v:co}(v,r,c,p);return E!==co&&mc(v,nn(),E),Sg}function Vf(r,c,p,v,E){const B=Qn(),re=function Sd(r,c,p,v,E,B){const Ie=zc(r,kt(),p,E);return Qi(2),Ie?c+U(p)+v+U(E)+B:co}(B,r,c,p,v,E);return re!==co&&mc(B,nn(),re),Vf}function zf(r,c,p,v,E,B,re){const Ie=Qn(),Le=function Gl(r,c,p,v,E,B,re,Ie){const lt=$r(r,kt(),p,E,re);return Qi(3),lt?c+U(p)+v+U(E)+B+U(re)+Ie:co}(Ie,r,c,p,v,E,B,re);return Le!==co&&mc(Ie,nn(),Le),zf}function kg(r,c,p,v,E,B,re,Ie,Le){const lt=Qn(),Pt=function xu(r,c,p,v,E,B,re,Ie,Le,lt){const Kt=il(r,kt(),p,E,re,Le);return Qi(4),Kt?c+U(p)+v+U(E)+B+U(re)+Ie+U(Le)+lt:co}(lt,r,c,p,v,E,B,re,Ie,Le);return Pt!==co&&mc(lt,nn(),Pt),kg}const Pd=void 0;var Ty=["en",[["a","p"],["AM","PM"],Pd],[["AM","PM"],Pd,Pd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pd,"{1} 'at' {0}",Pd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function AI(r){const p=Math.floor(Math.abs(r)),v=r.toString().replace(/^[^.]*\.?/,"").length;return 1===p&&0===v?1:5}];let Ld={};function Ay(r,c,p){"string"!=typeof c&&(p=c,c=r[zi.LocaleId]),c=c.toLowerCase().replace(/_/g,"-"),Ld[c]=r,p&&(Ld[c][zi.ExtraData]=p)}function Dg(r){const c=function wy(r){return r.toLowerCase().replace(/_/g,"-")}(r);let p=BC(c);if(p)return p;const v=c.split("-")[0];if(p=BC(v),p)return p;if("en"===v)return Ty;throw new D(701,!1)}function FC(r){return Dg(r)[zi.PluralCase]}function BC(r){return r in Ld||(Ld[r]=ne.ng&&ne.ng.common&&ne.ng.common.locales&&ne.ng.common.locales[r]),Ld[r]}var zi=(()=>((zi=zi||{})[zi.LocaleId=0]="LocaleId",zi[zi.DayPeriodsFormat=1]="DayPeriodsFormat",zi[zi.DayPeriodsStandalone=2]="DayPeriodsStandalone",zi[zi.DaysFormat=3]="DaysFormat",zi[zi.DaysStandalone=4]="DaysStandalone",zi[zi.MonthsFormat=5]="MonthsFormat",zi[zi.MonthsStandalone=6]="MonthsStandalone",zi[zi.Eras=7]="Eras",zi[zi.FirstDayOfWeek=8]="FirstDayOfWeek",zi[zi.WeekendRange=9]="WeekendRange",zi[zi.DateFormat=10]="DateFormat",zi[zi.TimeFormat=11]="TimeFormat",zi[zi.DateTimeFormat=12]="DateTimeFormat",zi[zi.NumberSymbols=13]="NumberSymbols",zi[zi.NumberFormats=14]="NumberFormats",zi[zi.CurrencyCode=15]="CurrencyCode",zi[zi.CurrencySymbol=16]="CurrencySymbol",zi[zi.CurrencyName=17]="CurrencyName",zi[zi.Currencies=18]="Currencies",zi[zi.Directionality=19]="Directionality",zi[zi.PluralCase=20]="PluralCase",zi[zi.ExtraData=21]="ExtraData",zi))();const Rd="en-US";let Pg=Rd;function Ng(r,c,p,v,E){if(r=N(r),Array.isArray(r))for(let B=0;B<r.length;B++)Ng(r[B],c,p,v,E);else{const B=Mi(),re=Qn();let Ie=fl(r)?r:N(r.provide),Le=H(r);const lt=eo(),Pt=1048575&lt.providerIndexes,Kt=lt.directiveStart,bn=lt.providerIndexes>>20;if(fl(r)||!r.multi){const Sn=new ae(Le,E,fd),Jn=$f(Ie,c,E?Pt:Pt+bn,Kt);-1===Jn?(Sa(dr(lt,re),B,Ie),qp(B,r,c.length),c.push(Ie),lt.directiveStart++,lt.directiveEnd++,E&&(lt.providerIndexes+=1048576),p.push(Sn),re.push(Sn)):(p[Jn]=Sn,re[Jn]=Sn)}else{const Sn=$f(Ie,c,Pt+bn,Kt),Jn=$f(Ie,c,Pt,Pt+bn),ii=Sn>=0&&p[Sn],_i=Jn>=0&&p[Jn];if(E&&!_i||!E&&!ii){Sa(dr(lt,re),B,Ie);const Ei=function d4(r,c,p,v,E){const B=new ae(r,p,fd);return B.multi=[],B.index=c,B.componentProviders=0,hv(B,E,v&&!p),B}(E?u4:c4,p.length,E,v,Le);!E&&_i&&(p[Jn].providerFactory=Ei),qp(B,r,c.length,0),c.push(Ie),lt.directiveStart++,lt.directiveEnd++,E&&(lt.providerIndexes+=1048576),p.push(Ei),re.push(Ei)}else qp(B,r,Sn>-1?Sn:Jn,hv(p[E?Jn:Sn],Le,!E&&v));!E&&v&&_i&&p[Jn].componentProviders++}}}function qp(r,c,p,v){const E=fl(c),B=function Im(r){return!!r.useClass}(c);if(E||B){const Le=(B?N(c.useClass):c).prototype.ngOnDestroy;if(Le){const lt=r.destroyHooks||(r.destroyHooks=[]);if(!E&&c.multi){const Pt=lt.indexOf(p);-1===Pt?lt.push(p,[v,Le]):lt[Pt+1].push(v,Le)}else lt.push(p,Le)}}}function hv(r,c,p){return p&&r.componentProviders++,r.multi.push(c)-1}function $f(r,c,p,v){for(let E=p;E<v;E++)if(c[E]===r)return E;return-1}function c4(r,c,p,v){return Xf(this.multi,[])}function u4(r,c,p,v){const E=this.multi;let B;if(this.providerFactory){const re=this.providerFactory.componentProviders,Ie=pr(p,p[1],this.providerFactory.index,v);B=Ie.slice(0,re),Xf(E,B);for(let Le=re;Le<Ie.length;Le++)B.push(Ie[Le])}else B=[],Xf(E,B);return B}function Xf(r,c){for(let p=0;p<r.length;p++)c.push((0,r[p])());return c}function gv(r,c=[]){return p=>{p.providersResolver=(v,E)=>function l4(r,c,p){const v=Mi();if(v.firstCreatePass){const E=hs(r);Ng(p,v.data,v.blueprint,E,!0),Ng(c,v.data,v.blueprint,E,!1)}}(v,E?E(r):r,c)}}class Fd{}class e_{}function p4(r,c){return new mv(r,null!=c?c:null)}class mv extends Fd{constructor(c,p){super(),this._parent=p,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new af(this);const v=oo(c);this._bootstrapComponents=hc(v.bootstrap),this._r3Injector=f0(c,p,[{provide:Fd,useValue:this},{provide:Yn,useValue:this.componentFactoryResolver}],l(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(p=>p()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class t_ extends e_{constructor(c){super(),this.moduleType=c}create(c){return new mv(this.moduleType,c)}}class h4 extends Fd{constructor(c,p,v){super(),this.componentFactoryResolver=new af(this),this.instance=null;const E=new h([...c,{provide:Fd,useValue:this},{provide:Yn,useValue:this.componentFactoryResolver}],p||m(),v,new Set(["environment"]));this.injector=E,E.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function fv(r,c,p=null){return new h4(r,c,p).injector}let g4=(()=>{class r{constructor(p){this._injector=p,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(p){if(!p.standalone)return null;if(!this.cachedInjectors.has(p.id)){const v=dd(0,p.type),E=v.length>0?fv([v],this._injector,`Standalone[${p.type.name}]`):null;this.cachedInjectors.set(p.id,E)}return this.cachedInjectors.get(p.id)}ngOnDestroy(){try{for(const p of this.cachedInjectors.values())null!==p&&p.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=xe({token:r,providedIn:"environment",factory:()=>new r(Js(u))}),r})();function _v(r){r.getStandaloneInjector=c=>c.get(g4).getOrCreateStandaloneInjector(r)}function wv(r,c,p){const v=Ee()+r,E=Qn();return E[v]===co?bl(E,v,p?c.call(p):c()):Ad(E,v)}function Ev(r,c,p,v){return Su(Qn(),Ee(),r,c,p,v)}function Sv(r,c,p,v,E){return Mv(Qn(),Ee(),r,c,p,v,E)}function kv(r,c,p,v,E,B){return Ov(Qn(),Ee(),r,c,p,v,E,B)}function r_(r,c,p,v,E,B,re){return Bd(Qn(),Ee(),r,c,p,v,E,B,re)}function Dv(r,c,p,v,E,B,re,Ie){const Le=Ee()+r,lt=Qn(),Pt=il(lt,Le,p,v,E,B);return ha(lt,Le+4,re)||Pt?bl(lt,Le+5,Ie?c.call(Ie,p,v,E,B,re):c(p,v,E,B,re)):Ad(lt,Le+5)}function a_(r,c,p,v,E,B,re,Ie,Le){const lt=Ee()+r,Pt=Qn(),Kt=il(Pt,lt,p,v,E,B);return zc(Pt,lt+4,re,Ie)||Kt?bl(Pt,lt+6,Le?c.call(Le,p,v,E,B,re,Ie):c(p,v,E,B,re,Ie)):Ad(Pt,lt+6)}function l_(r,c,p,v,E,B,re,Ie,Le,lt){const Pt=Ee()+r,Kt=Qn();let bn=il(Kt,Pt,p,v,E,B);return $r(Kt,Pt+4,re,Ie,Le)||bn?bl(Kt,Pt+7,lt?c.call(lt,p,v,E,B,re,Ie,Le):c(p,v,E,B,re,Ie,Le)):Ad(Kt,Pt+7)}function c_(r,c,p,v){return Xp(Qn(),Ee(),r,c,p,v)}function $p(r,c){const p=r[c];return p===co?void 0:p}function Su(r,c,p,v,E,B){const re=c+p;return ha(r,re,E)?bl(r,re+1,B?v.call(B,E):v(E)):$p(r,re+1)}function Mv(r,c,p,v,E,B,re){const Ie=c+p;return zc(r,Ie,E,B)?bl(r,Ie+2,re?v.call(re,E,B):v(E,B)):$p(r,Ie+2)}function Ov(r,c,p,v,E,B,re,Ie){const Le=c+p;return $r(r,Le,E,B,re)?bl(r,Le+3,Ie?v.call(Ie,E,B,re):v(E,B,re)):$p(r,Le+3)}function Bd(r,c,p,v,E,B,re,Ie,Le){const lt=c+p;return il(r,lt,E,B,re,Ie)?bl(r,lt+4,Le?v.call(Le,E,B,re,Ie):v(E,B,re,Ie)):$p(r,lt+4)}function Xp(r,c,p,v,E,B){let re=c+p,Ie=!1;for(let Le=0;Le<E.length;Le++)ha(r,re++,E[Le])&&(Ie=!0);return Ie?bl(r,re,v.apply(B,E)):$p(r,re)}function Fg(r,c){const p=Mi();let v;const E=r+22;p.firstCreatePass?(v=function y4(r,c){if(c)for(let p=c.length-1;p>=0;p--){const v=c[p];if(r===v.name)return v}}(c,p.pipeRegistry),p.data[E]=v,v.onDestroy&&(p.destroyHooks||(p.destroyHooks=[])).push(E,v.onDestroy)):v=p.data[E];const B=v.factory||(v.factory=fo(v.type)),re=Ct(fd);try{const Ie=Ai(!1),Le=B();return Ai(Ie),function eC(r,c,p,v){p>=r.data.length&&(r.data[p]=null,r.blueprint[p]=null),c[p]=v}(p,Qn(),E,Le),Le}finally{Ct(re)}}function Pv(r,c,p){const v=r+22,E=Qn(),B=go(E,v);return eh(E,v)?Su(E,Ee(),c,B.transform,p,B):B.transform(p)}function Lv(r,c,p,v){const E=r+22,B=Qn(),re=go(B,E);return eh(B,E)?Mv(B,Ee(),c,re.transform,p,v,re):re.transform(p,v)}function Rv(r,c,p,v,E){const B=r+22,re=Qn(),Ie=go(re,B);return eh(re,B)?Ov(re,Ee(),c,Ie.transform,p,v,E,Ie):Ie.transform(p,v,E)}function u_(r,c,p,v,E,B){const re=r+22,Ie=Qn(),Le=go(Ie,re);return eh(Ie,re)?Bd(Ie,Ee(),c,Le.transform,p,v,E,B,Le):Le.transform(p,v,E,B)}function Nv(r,c,p){const v=r+22,E=Qn(),B=go(E,v);return eh(E,v)?Xp(E,Ee(),c,B.transform,p,B):B.transform.apply(B,p)}function eh(r,c){return r[1].data[c].pure}function d_(r){return c=>{setTimeout(r,void 0,c)}}const jl=class x4 extends e.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,p,v){var E,B,re;let Ie=c,Le=p||(()=>null),lt=v;if(c&&"object"==typeof c){const Kt=c;Ie=null===(E=Kt.next)||void 0===E?void 0:E.bind(Kt),Le=null===(B=Kt.error)||void 0===B?void 0:B.bind(Kt),lt=null===(re=Kt.complete)||void 0===re?void 0:re.bind(Kt)}this.__isAsync&&(Le=d_(Le),Ie&&(Ie=d_(Ie)),lt&&(lt=d_(lt)));const Pt=super.subscribe({next:Ie,error:Le,complete:lt});return c instanceof a.w0&&c.add(Pt),Pt}};function I4(){return this._results[yu()]()}class p_{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const p=yu(),v=p_.prototype;v[p]||(v[p]=I4)}get changes(){return this._changes||(this._changes=new jl)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,p){return this._results.reduce(c,p)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,p){const v=this;v.dirty=!1;const E=Nr(c);(this._changesDetected=!function Wc(r,c,p){if(r.length!==c.length)return!1;for(let v=0;v<r.length;v++){let E=r[v],B=c[v];if(p&&(E=p(E),B=p(B)),B!==E)return!1}return!0}(v._results,E,p))&&(v._results=E,v.length=E.length,v.last=E[this.length-1],v.first=E[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Zd=(()=>{class r{}return r.__NG_ELEMENT_ID__=w4,r})();const T4=Zd,A4=class extends T4{constructor(c,p,v){super(),this._declarationLView=c,this._declarationTContainer=p,this.elementRef=v}createEmbeddedView(c,p){const v=this._declarationTContainer.tViews,E=sg(this._declarationLView,v,c,16,null,v.declTNode,null,null,null,null,p||null);E[17]=this._declarationLView[this._declarationTContainer.index];const re=this._declarationLView[19];return null!==re&&(E[19]=re.createEmbeddedView(v)),rg(v,E,c),new xd(E)}};function w4(){return h_(eo(),Qn())}function h_(r,c){return 4&r.type?new A4(c,r,Gn(r,c)):null}let Bg=(()=>{class r{}return r.__NG_ELEMENT_ID__=BI,r})();function BI(){return Zv(eo(),Qn())}const E4=Bg,Fv=class extends E4{constructor(c,p,v){super(),this._lContainer=c,this._hostTNode=p,this._hostLView=v}get element(){return Gn(this._hostTNode,this._hostLView)}get injector(){return new Ro(this._hostTNode,this._hostLView)}get parentInjector(){const c=Hs(this._hostTNode,this._hostLView);if(ln(c)){const p=Xn(c,this._hostLView),v=Tn(c);return new Ro(p[1].data[v+8],p)}return new Ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const p=Bv(this._lContainer);return null!==p&&p[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,p,v){let E,B;"number"==typeof v?E=v:null!=v&&(E=v.index,B=v.injector);const re=c.createEmbeddedView(p||{},B);return this.insert(re,E),re}createComponent(c,p,v,E,B){const re=c&&!function Ka(r){return"function"==typeof r}(c);let Ie;if(re)Ie=p;else{const Kt=p||{};Ie=Kt.index,v=Kt.injector,E=Kt.projectableNodes,B=Kt.environmentInjector||Kt.ngModuleRef}const Le=re?c:new Zp(Un(c)),lt=v||this.parentInjector;if(!B&&null==Le.ngModule){const bn=(re?lt:this.parentInjector).get(u,null);bn&&(B=bn)}const Pt=Le.create(lt,E,void 0,B);return this.insert(Pt.hostView,Ie),Pt}insert(c,p){const v=c._lView,E=v[1];if(function Qr(r){return qo(r[3])}(v)){const Pt=this.indexOf(c);if(-1!==Pt)this.detach(Pt);else{const Kt=v[3],bn=new Fv(Kt,Kt[6],Kt[3]);bn.detach(bn.indexOf(c))}}const B=this._adjustIndex(p),re=this._lContainer;!function kc(r,c,p,v){const E=10+v,B=p.length;v>0&&(p[E-1][4]=c),v<B-10?(c[4]=p[E],qa(p,10+v,c)):(p.push(c),c[4]=null),c[3]=p;const re=c[17];null!==re&&p!==re&&function Ih(r,c){const p=r[9];c[16]!==c[3][3][16]&&(r[2]=!0),null===p?r[9]=[c]:p.push(c)}(re,c);const Ie=c[19];null!==Ie&&Ie.insertView(r),c[2]|=64}(E,v,re,B);const Ie=Pc(B,re),Le=v[11],lt=Oc(Le,re[7]);return null!==lt&&function _s(r,c,p,v,E,B){v[0]=E,v[6]=c,Lc(r,v,p,1,E,B)}(E,re[6],Le,v,lt,Ie),c.attachToViewContainerRef(),qa(g_(re),B,c),c}move(c,p){return this.insert(c,p)}indexOf(c){const p=Bv(this._lContainer);return null!==p?p.indexOf(c):-1}remove(c){const p=this._adjustIndex(c,-1),v=$u(this._lContainer,p);v&&(ll(g_(this._lContainer),p),Xu(v[1],v))}detach(c){const p=this._adjustIndex(c,-1),v=$u(this._lContainer,p);return v&&null!=ll(g_(this._lContainer),p)?new xd(v):null}_adjustIndex(c,p=0){return null==c?this.length+p:c}};function Bv(r){return r[8]}function g_(r){return r[8]||(r[8]=[])}function Zv(r,c){let p;const v=c[r.index];if(qo(v))p=v;else{let E;if(8&r.type)E=xt(v);else{const B=c[11];E=B.createComment("");const re=si(r,c);Bl(B,Oc(B,re),E,function um(r,c){return r.nextSibling(c)}(B,re),!1)}c[r.index]=p=U0(v,c,E,r),dg(c,p)}return new Fv(p,r,c)}class Ta{constructor(c){this.queryList=c,this.matches=null}clone(){return new Ta(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zg{constructor(c=[]){this.queries=c}createEmbeddedView(c){const p=c.queries;if(null!==p){const v=null!==c.contentQueries?c.contentQueries[0]:p.length,E=[];for(let B=0;B<v;B++){const re=p.getByIndex(B);E.push(this.queries[re.indexInDeclarationView].clone())}return new Zg(E)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let p=0;p<this.queries.length;p++)null!==Gv(c,p).matches&&this.queries[p].setDirty()}}class Uv{constructor(c,p,v=null){this.predicate=c,this.flags=p,this.read=v}}class m_{constructor(c=[]){this.queries=c}elementStart(c,p){for(let v=0;v<this.queries.length;v++)this.queries[v].elementStart(c,p)}elementEnd(c){for(let p=0;p<this.queries.length;p++)this.queries[p].elementEnd(c)}embeddedTView(c){let p=null;for(let v=0;v<this.length;v++){const E=null!==p?p.length:0,B=this.getByIndex(v).embeddedTView(c,E);B&&(B.indexInDeclarationView=v,null!==p?p.push(B):p=[B])}return null!==p?new m_(p):null}template(c,p){for(let v=0;v<this.queries.length;v++)this.queries[v].template(c,p)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class f_{constructor(c,p=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=p}elementStart(c,p){this.isApplyingToNode(p)&&this.matchTNode(c,p)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,p){this.elementStart(c,p)}embeddedTView(c,p){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,p),new f_(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const p=this._declarationNodeIndex;let v=c.parent;for(;null!==v&&8&v.type&&v.index!==p;)v=v.parent;return p===(null!==v?v.index:-1)}return this._appliesToNextNode}matchTNode(c,p){const v=this.metadata.predicate;if(Array.isArray(v))for(let E=0;E<v.length;E++){const B=v[E];this.matchTNodeWithReadOption(c,p,D4(p,B)),this.matchTNodeWithReadOption(c,p,ks(p,c,B,!1,!1))}else v===Zd?4&p.type&&this.matchTNodeWithReadOption(c,p,-1):this.matchTNodeWithReadOption(c,p,ks(p,c,v,!1,!1))}matchTNodeWithReadOption(c,p,v){if(null!==v){const E=this.metadata.read;if(null!==E)if(E===li||E===Bg||E===Zd&&4&p.type)this.addMatch(p.index,-2);else{const B=ks(p,c,E,!1,!1);null!==B&&this.addMatch(p.index,B)}else this.addMatch(p.index,v)}}addMatch(c,p){null===this.matches?this.matches=[c,p]:this.matches.push(c,p)}}function D4(r,c){const p=r.localNames;if(null!==p)for(let v=0;v<p.length;v+=2)if(p[v]===c)return p[v+1];return null}function O4(r,c,p,v){return-1===p?function M4(r,c){return 11&r.type?Gn(r,c):4&r.type?h_(r,c):null}(c,r):-2===p?function Ug(r,c,p){return p===li?Gn(c,r):p===Zd?h_(c,r):p===Bg?Zv(c,r):void 0}(r,c,v):pr(r,r[1],p,c)}function Ud(r,c,p,v){const E=c[19].queries[v];if(null===E.matches){const B=r.data,re=p.matches,Ie=[];for(let Le=0;Le<re.length;Le+=2){const lt=re[Le];Ie.push(lt<0?null:O4(c,B[lt],re[Le+1],p.metadata.read))}E.matches=Ie}return E.matches}function __(r,c,p,v){const E=r.queries.getByIndex(p),B=E.matches;if(null!==B){const re=Ud(r,c,E,p);for(let Ie=0;Ie<B.length;Ie+=2){const Le=B[Ie];if(Le>0)v.push(re[Ie/2]);else{const lt=B[Ie+1],Pt=c[-Le];for(let Kt=10;Kt<Pt.length;Kt++){const bn=Pt[Kt];bn[17]===bn[3]&&__(bn[1],bn,lt,v)}if(null!==Pt[9]){const Kt=Pt[9];for(let bn=0;bn<Kt.length;bn++){const Sn=Kt[bn];__(Sn[1],Sn,lt,v)}}}}}return v}function Hv(r){const c=Qn(),p=Mi(),v=Ir();Or(v+1);const E=Gv(p,v);if(r.dirty&&function Jr(r){return 4==(4&r[2])}(c)===(2==(2&E.metadata.flags))){if(null===E.matches)r.reset([]);else{const B=E.crossesNgTemplate?__(p,c,v,[]):Ud(p,c,E,v);r.reset(B,fi),r.notifyOnChanges()}return!0}return!1}function Vv(r,c,p){const v=Mi();v.firstCreatePass&&(Qv(v,new Uv(r,c,p),-1),2==(2&c)&&(v.staticViewQueries=!0)),Jv(v,Qn(),c)}function zv(r,c,p,v){const E=Mi();if(E.firstCreatePass){const B=eo();Qv(E,new Uv(c,p,v),B.index),function L4(r,c){const p=r.contentQueries||(r.contentQueries=[]);c!==(p.length?p[p.length-1]:-1)&&p.push(r.queries.length-1,c)}(E,r),2==(2&p)&&(E.staticContentQueries=!0)}Jv(E,Qn(),p)}function C_(){return function P4(r,c){return r[19].queries[c].queryList}(Qn(),Ir())}function Jv(r,c,p){const v=new p_(4==(4&p));qm(r,c,v,v.destroy),null===c[19]&&(c[19]=new Zg),c[19].queries.push(new Ta(v))}function Qv(r,c,p){null===r.queries&&(r.queries=new m_),r.queries.track(new f_(c,p))}function Gv(r,c){return r.queries.getByIndex(c)}function Wv(r,c){return h_(r,c)}function Hg(...r){}const p1=new No("Application Initializer");let Vg=(()=>{class r{constructor(p){this.appInits=p,this.resolve=Hg,this.reject=Hg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((v,E)=>{this.resolve=v,this.reject=E})}runInitializers(){if(this.initialized)return;const p=[],v=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let E=0;E<this.appInits.length;E++){const B=this.appInits[E]();if(Dd(B))p.push(B);else if(Wl(B)){const re=new Promise((Ie,Le)=>{B.subscribe({complete:Ie,error:Le})});p.push(re)}}Promise.all(p).then(()=>{v()}).catch(E=>{this.reject(E)}),0===p.length&&v(),this.initialized=!0}}return r.\u0275fac=function(p){return new(p||r)(Js(p1,8))},r.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const h1=new No("AppId",{providedIn:"root",factory:function g1(){return`${ih()}${ih()}${ih()}`}});function ih(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const m1=new No("Platform Initializer"),ex=new No("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),f1=new No("appBootstrapListener"),tx=new No("AnimationModuleType");let nx=(()=>{class r{log(p){console.log(p)}warn(p){console.warn(p)}}return r.\u0275fac=function(p){return new(p||r)},r.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const zg=new No("LocaleId",{providedIn:"root",factory:()=>xc(zg,fe.Optional|fe.SkipSelf)||function ix(){return"undefined"!=typeof $localize&&$localize.locale||Rd}()}),ox=new No("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class sx{constructor(c,p){this.ngModuleFactory=c,this.componentFactories=p}}let _1=(()=>{class r{compileModuleSync(p){return new t_(p)}compileModuleAsync(p){return Promise.resolve(this.compileModuleSync(p))}compileModuleAndAllComponentsSync(p){const v=this.compileModuleSync(p),B=hc(oo(p).declarations).reduce((re,Ie)=>{const Le=Un(Ie);return Le&&re.push(new Zp(Le)),re},[]);return new sx(v,B)}compileModuleAndAllComponentsAsync(p){return Promise.resolve(this.compileModuleAndAllComponentsSync(p))}clearCache(){}clearCacheFor(p){}getModuleId(p){}}return r.\u0275fac=function(p){return new(p||r)},r.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const lx=(()=>Promise.resolve(0))();function T_(r){"undefined"==typeof Zone?lx.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class sl{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:p=!1,shouldCoalesceRunChangeDetection:v=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jl(!1),this.onMicrotaskEmpty=new jl(!1),this.onStable=new jl(!1),this.onError=new jl(!1),"undefined"==typeof Zone)throw new D(908,!1);Zone.assertZonePatched();const E=this;if(E._nesting=0,E._outer=E._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const B=Zone.AsyncStackTaggingZoneSpec;E._inner=E._inner.fork(new B("Angular"))}Zone.TaskTrackingZoneSpec&&(E._inner=E._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(E._inner=E._inner.fork(Zone.longStackTraceZoneSpec)),E.shouldCoalesceEventChangeDetection=!v&&p,E.shouldCoalesceRunChangeDetection=v,E.lastRequestAnimationFrameId=-1,E.nativeRequestAnimationFrame=function cx(){let r=ne.requestAnimationFrame,c=ne.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&c){const p=r[Zone.__symbol__("OriginalDelegate")];p&&(r=p);const v=c[Zone.__symbol__("OriginalDelegate")];v&&(c=v)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function px(r){const c=()=>{!function dx(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(ne,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,w_(r),r.isCheckStableRunning=!0,A_(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),w_(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(p,v,E,B,re,Ie)=>{try{return b1(r),p.invokeTask(E,B,re,Ie)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===B.type||r.shouldCoalesceRunChangeDetection)&&c(),y1(r)}},onInvoke:(p,v,E,B,re,Ie,Le)=>{try{return b1(r),p.invoke(E,B,re,Ie,Le)}finally{r.shouldCoalesceRunChangeDetection&&c(),y1(r)}},onHasTask:(p,v,E,B)=>{p.hasTask(E,B),v===E&&("microTask"==B.change?(r._hasPendingMicrotasks=B.microTask,w_(r),A_(r)):"macroTask"==B.change&&(r.hasPendingMacrotasks=B.macroTask))},onHandleError:(p,v,E,B)=>(p.handleError(E,B),r.runOutsideAngular(()=>r.onError.emit(B)),!1)})}(E)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!sl.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(sl.isInAngularZone())throw new D(909,!1)}run(c,p,v){return this._inner.run(c,p,v)}runTask(c,p,v,E){const B=this._inner,re=B.scheduleEventTask("NgZoneEvent: "+E,c,ux,Hg,Hg);try{return B.runTask(re,p,v)}finally{B.cancelTask(re)}}runGuarded(c,p,v){return this._inner.runGuarded(c,p,v)}runOutsideAngular(c){return this._outer.run(c)}}const ux={};function A_(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function w_(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function b1(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function y1(r){r._nesting--,A_(r)}class hx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jl,this.onMicrotaskEmpty=new jl,this.onStable=new jl,this.onError=new jl}run(c,p,v){return c.apply(p,v)}runGuarded(c,p,v){return c.apply(p,v)}runOutsideAngular(c){return c()}runTask(c,p,v,E){return c.apply(p,v)}}const x1=new No(""),I1=new No("");let sh,gx=(()=>{class r{constructor(p,v,E){this._ngZone=p,this.registry=v,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,sh||(function A1(r){sh=r}(E),E.addToWindow(v)),this._watchAngularEvents(),p.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{sl.assertNotInAngularZone(),T_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())T_(()=>{for(;0!==this._callbacks.length;){let p=this._callbacks.pop();clearTimeout(p.timeoutId),p.doneCb(this._didWork)}this._didWork=!1});else{let p=this.getPendingTasks();this._callbacks=this._callbacks.filter(v=>!v.updateCb||!v.updateCb(p)||(clearTimeout(v.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(p=>({source:p.source,creationLocation:p.creationLocation,data:p.data})):[]}addCallback(p,v,E){let B=-1;v&&v>0&&(B=setTimeout(()=>{this._callbacks=this._callbacks.filter(re=>re.timeoutId!==B),p(this._didWork,this.getPendingTasks())},v)),this._callbacks.push({doneCb:p,timeoutId:B,updateCb:E})}whenStable(p,v,E){if(E&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(p,v,E),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(p){this.registry.registerApplication(p,this)}unregisterApplication(p){this.registry.unregisterApplication(p)}findProviders(p,v,E){return[]}}return r.\u0275fac=function(p){return new(p||r)(Js(sl),Js(T1),Js(I1))},r.\u0275prov=xe({token:r,factory:r.\u0275fac}),r})(),T1=(()=>{class r{constructor(){this._applications=new Map}registerApplication(p,v){this._applications.set(p,v)}unregisterApplication(p){this._applications.delete(p)}unregisterAllApplications(){this._applications.clear()}getTestability(p){return this._applications.get(p)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(p,v=!0){var E;return null!==(E=null==sh?void 0:sh.findTestabilityInTree(this,p,v))&&void 0!==E?E:null}}return r.\u0275fac=function(p){return new(p||r)},r.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),ql=null;const w1=new No("AllowMultipleToken"),E_=new No("PlatformDestroyListeners");class fx{constructor(c,p){this.name=c,this.token=p}}function k1(r,c,p=[]){const v=`Platform: ${c}`,E=new No(v);return(B=[])=>{let re=S_();if(!re||re.injector.get(w1,!1)){const Ie=[...p,...B,{provide:E,useValue:!0}];r?r(Ie):function _x(r){if(ql&&!ql.get(w1,!1))throw new D(400,!1);ql=r;const c=r.get(M1);(function S1(r){const c=r.get(m1,null);c&&c.forEach(p=>p())})(r)}(function D1(r=[],c){return mu.create({name:c,providers:[{provide:Ap,useValue:"platform"},{provide:E_,useValue:new Set([()=>ql=null])},...r]})}(Ie,v))}return function vx(r){const c=S_();if(!c)throw new D(401,!1);return c}()}}function S_(){var r;return null!==(r=null==ql?void 0:ql.get(M1))&&void 0!==r?r:null}let M1=(()=>{class r{constructor(p){this._injector=p,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(p,v){const E=function O1(r,c){let p;return p="noop"===r?new hx:("zone.js"===r?void 0:r)||new sl(c),p}(null==v?void 0:v.ngZone,function k_(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(v)),B=[{provide:sl,useValue:E}];return E.run(()=>{const re=mu.create({providers:B,parent:this.injector,name:p.moduleType.name}),Ie=p.create(re),Le=Ie.injector.get(fr,null);if(!Le)throw new D(402,!1);return E.runOutsideAngular(()=>{const lt=E.onError.subscribe({next:Pt=>{Le.handleError(Pt)}});Ie.onDestroy(()=>{Qg(this._modules,Ie),lt.unsubscribe()})}),function P1(r,c,p){try{const v=p();return Dd(v)?v.catch(E=>{throw c.runOutsideAngular(()=>r.handleError(E)),E}):v}catch(v){throw c.runOutsideAngular(()=>r.handleError(v)),v}}(Le,E,()=>{const lt=Ie.injector.get(Vg);return lt.runInitializers(),lt.donePromise.then(()=>(function ZC(r){Ae(r,"Expected localeId to be defined"),"string"==typeof r&&(Pg=r.toLowerCase().replace(/_/g,"-"))}(Ie.injector.get(zg,Rd)||Rd),this._moduleDoBootstrap(Ie),Ie))})})}bootstrapModule(p,v=[]){const E=L1({},v);return function E1(r,c,p){const v=new t_(p);return Promise.resolve(v)}(0,0,p).then(B=>this.bootstrapModuleFactory(B,E))}_moduleDoBootstrap(p){const v=p.injector.get(Jg);if(p._bootstrapComponents.length>0)p._bootstrapComponents.forEach(E=>v.bootstrap(E));else{if(!p.instance.ngDoBootstrap)throw new D(403,!1);p.instance.ngDoBootstrap(v)}this._modules.push(p)}onDestroy(p){this._destroyListeners.push(p)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new D(404,!1);this._modules.slice().forEach(v=>v.destroy()),this._destroyListeners.forEach(v=>v());const p=this._injector.get(E_,null);p&&(p.forEach(v=>v()),p.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(p){return new(p||r)(Js(mu))},r.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function L1(r,c){return Array.isArray(c)?c.reduce(L1,r):Object.assign(Object.assign({},r),c)}let Jg=(()=>{class r{constructor(p,v,E){this._zone=p,this._injector=v,this._exceptionHandler=E,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const B=new f.y(Ie=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Ie.next(this._stable),Ie.complete()})}),re=new f.y(Ie=>{let Le;this._zone.runOutsideAngular(()=>{Le=this._zone.onStable.subscribe(()=>{sl.assertNotInAngularZone(),T_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Ie.next(!0))})})});const lt=this._zone.onUnstable.subscribe(()=>{sl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Ie.next(!1)}))});return()=>{Le.unsubscribe(),lt.unsubscribe()}});this.isStable=(0,g.T)(B,re.pipe((0,_.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(p,v){const E=p instanceof Cn;if(!this._injector.get(Vg).done)throw!E&&Ni(p),new D(405,false);let re;re=E?p:this._injector.get(Yn).resolveComponentFactory(p),this.componentTypes.push(re.componentType);const Ie=function mx(r){return r.isBoundToModule}(re)?void 0:this._injector.get(Fd),lt=re.create(mu.NULL,[],v||re.selector,Ie),Pt=lt.location.nativeElement,Kt=lt.injector.get(x1,null);return null==Kt||Kt.registerApplication(Pt),lt.onDestroy(()=>{this.detachView(lt.hostView),Qg(this.components,lt),null==Kt||Kt.unregisterApplication(Pt)}),this._loadComponent(lt),lt}tick(){if(this._runningTick)throw new D(101,!1);try{this._runningTick=!0;for(let p of this._views)p.detectChanges()}catch(p){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(p))}finally{this._runningTick=!1}}attachView(p){const v=p;this._views.push(v),v.attachToAppRef(this)}detachView(p){const v=p;Qg(this._views,v),v.detachFromAppRef()}_loadComponent(p){this.attachView(p.hostView),this.tick(),this.components.push(p),this._injector.get(f1,[]).concat(this._bootstrapListeners).forEach(E=>E(p))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(p=>p()),this._views.slice().forEach(p=>p.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(p){return this._destroyListeners.push(p),()=>Qg(this._destroyListeners,p)}destroy(){if(this._destroyed)throw new D(406,!1);const p=this._injector;p.destroy&&!p.destroyed&&p.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(p){return new(p||r)(Js(sl),Js(u),Js(fr))},r.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Qg(r,c){const p=r.indexOf(c);p>-1&&r.splice(p,1)}let N1=!0,F1=!1;function yx(){return F1=!0,N1}function xx(){if(F1)throw new Error("Cannot enable prod mode after platform setup.");N1=!1}let Ix=(()=>{class r{}return r.__NG_ELEMENT_ID__=Tx,r})();function Tx(r){return function Ax(r,c,p){if(Is(r)&&!p){const v=Li(r.index,c);return new xd(v,v)}return 47&r.type?new xd(c[16],c):null}(eo(),Qn(),16==(16&r))}class H1{constructor(){}supports(c){return Hp(c)}create(c){return new rl(c)}}const V1=(r,c)=>c;class rl{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||V1}forEachItem(c){let p;for(p=this._itHead;null!==p;p=p._next)c(p)}forEachOperation(c){let p=this._itHead,v=this._removalsHead,E=0,B=null;for(;p||v;){const re=!v||p&&p.currentIndex<z1(v,E,B)?p:v,Ie=z1(re,E,B),Le=re.currentIndex;if(re===v)E--,v=v._nextRemoved;else if(p=p._next,null==re.previousIndex)E++;else{B||(B=[]);const lt=Ie-E,Pt=Le-E;if(lt!=Pt){for(let bn=0;bn<lt;bn++){const Sn=bn<B.length?B[bn]:B[bn]=0,Jn=Sn+bn;Pt<=Jn&&Jn<lt&&(B[bn]=Sn+1)}B[re.previousIndex]=Pt-lt}}Ie!==Le&&c(re,Ie,Le)}}forEachPreviousItem(c){let p;for(p=this._previousItHead;null!==p;p=p._nextPrevious)c(p)}forEachAddedItem(c){let p;for(p=this._additionsHead;null!==p;p=p._nextAdded)c(p)}forEachMovedItem(c){let p;for(p=this._movesHead;null!==p;p=p._nextMoved)c(p)}forEachRemovedItem(c){let p;for(p=this._removalsHead;null!==p;p=p._nextRemoved)c(p)}forEachIdentityChange(c){let p;for(p=this._identityChangesHead;null!==p;p=p._nextIdentityChange)c(p)}diff(c){if(null==c&&(c=[]),!Hp(c))throw new D(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let E,B,re,p=this._itHead,v=!1;if(Array.isArray(c)){this.length=c.length;for(let Ie=0;Ie<this.length;Ie++)B=c[Ie],re=this._trackByFn(Ie,B),null!==p&&Object.is(p.trackById,re)?(v&&(p=this._verifyReinsertion(p,B,re,Ie)),Object.is(p.item,B)||this._addIdentityChange(p,B)):(p=this._mismatch(p,B,re,Ie),v=!0),p=p._next}else E=0,function W0(r,c){if(Array.isArray(r))for(let p=0;p<r.length;p++)c(r[p]);else{const p=r[yu()]();let v;for(;!(v=p.next()).done;)c(v.value)}}(c,Ie=>{re=this._trackByFn(E,Ie),null!==p&&Object.is(p.trackById,re)?(v&&(p=this._verifyReinsertion(p,Ie,re,E)),Object.is(p.item,Ie)||this._addIdentityChange(p,Ie)):(p=this._mismatch(p,Ie,re,E),v=!0),p=p._next,E++}),this.length=E;return this._truncate(p),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,p,v,E){let B;return null===c?B=this._itTail:(B=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(v,null))?(Object.is(c.item,p)||this._addIdentityChange(c,p),this._reinsertAfter(c,B,E)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(v,E))?(Object.is(c.item,p)||this._addIdentityChange(c,p),this._moveAfter(c,B,E)):c=this._addAfter(new Wa(p,v),B,E),c}_verifyReinsertion(c,p,v,E){let B=null===this._unlinkedRecords?null:this._unlinkedRecords.get(v,null);return null!==B?c=this._reinsertAfter(B,c._prev,E):c.currentIndex!=E&&(c.currentIndex=E,this._addToMoves(c,E)),c}_truncate(c){for(;null!==c;){const p=c._next;this._addToRemovals(this._unlink(c)),c=p}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,p,v){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const E=c._prevRemoved,B=c._nextRemoved;return null===E?this._removalsHead=B:E._nextRemoved=B,null===B?this._removalsTail=E:B._prevRemoved=E,this._insertAfter(c,p,v),this._addToMoves(c,v),c}_moveAfter(c,p,v){return this._unlink(c),this._insertAfter(c,p,v),this._addToMoves(c,v),c}_addAfter(c,p,v){return this._insertAfter(c,p,v),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,p,v){const E=null===p?this._itHead:p._next;return c._next=E,c._prev=p,null===E?this._itTail=c:E._prev=c,null===p?this._itHead=c:p._next=c,null===this._linkedRecords&&(this._linkedRecords=new Yg),this._linkedRecords.put(c),c.currentIndex=v,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const p=c._prev,v=c._next;return null===p?this._itHead=v:p._next=v,null===v?this._itTail=p:v._prev=p,c}_addToMoves(c,p){return c.previousIndex===p||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yg),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,p){return c.item=p,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class Wa{constructor(c,p){this.item=c,this.trackById=p,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Tl{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,p){let v;for(v=this._head;null!==v;v=v._nextDup)if((null===p||p<=v.currentIndex)&&Object.is(v.trackById,c))return v;return null}remove(c){const p=c._prevDup,v=c._nextDup;return null===p?this._head=v:p._nextDup=v,null===v?this._tail=p:v._prevDup=p,null===this._head}}class Yg{constructor(){this.map=new Map}put(c){const p=c.trackById;let v=this.map.get(p);v||(v=new Tl,this.map.set(p,v)),v.add(c)}get(c,p){const E=this.map.get(c);return E?E.get(c,p):null}remove(c){const p=c.trackById;return this.map.get(p).remove(c)&&this.map.delete(p),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function z1(r,c,p){const v=r.previousIndex;if(null===v)return v;let E=0;return p&&v<p.length&&(E=p[v]),v+c+E}class J1{constructor(){}supports(c){return c instanceof Map||_g(c)}create(){return new kx}}class kx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let p;for(p=this._mapHead;null!==p;p=p._next)c(p)}forEachPreviousItem(c){let p;for(p=this._previousMapHead;null!==p;p=p._nextPrevious)c(p)}forEachChangedItem(c){let p;for(p=this._changesHead;null!==p;p=p._nextChanged)c(p)}forEachAddedItem(c){let p;for(p=this._additionsHead;null!==p;p=p._nextAdded)c(p)}forEachRemovedItem(c){let p;for(p=this._removalsHead;null!==p;p=p._nextRemoved)c(p)}diff(c){if(c){if(!(c instanceof Map||_g(c)))throw new D(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let p=this._mapHead;if(this._appendAfter=null,this._forEach(c,(v,E)=>{if(p&&p.key===E)this._maybeAddToChanges(p,v),this._appendAfter=p,p=p._next;else{const B=this._getOrCreateRecordForKey(E,v);p=this._insertBeforeOrAppend(p,B)}}),p){p._prev&&(p._prev._next=null),this._removalsHead=p;for(let v=p;null!==v;v=v._nextRemoved)v===this._mapHead&&(this._mapHead=null),this._records.delete(v.key),v._nextRemoved=v._next,v.previousValue=v.currentValue,v.currentValue=null,v._prev=null,v._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,p){if(c){const v=c._prev;return p._next=c,p._prev=v,c._prev=p,v&&(v._next=p),c===this._mapHead&&(this._mapHead=p),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=p,p._prev=this._appendAfter):this._mapHead=p,this._appendAfter=p,null}_getOrCreateRecordForKey(c,p){if(this._records.has(c)){const E=this._records.get(c);this._maybeAddToChanges(E,p);const B=E._prev,re=E._next;return B&&(B._next=re),re&&(re._prev=B),E._next=null,E._prev=null,E}const v=new Dx(c);return this._records.set(c,v),v.currentValue=p,this._addToAdditions(v),v}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,p){Object.is(p,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=p,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,p){c instanceof Map?c.forEach(p):Object.keys(c).forEach(v=>p(c[v],v))}}class Dx{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Q1(){return new R_([new H1])}let R_=(()=>{class r{constructor(p){this.factories=p}static create(p,v){if(null!=v){const E=v.factories.slice();p=p.concat(E)}return new r(p)}static extend(p){return{provide:r,useFactory:v=>r.create(p,v||Q1()),deps:[[r,new ie,new Pe]]}}find(p){const v=this.factories.find(E=>E.supports(p));if(null!=v)return v;throw new D(901,!1)}}return r.\u0275prov=xe({token:r,providedIn:"root",factory:Q1}),r})();function G1(){return new N_([new J1])}let N_=(()=>{class r{constructor(p){this.factories=p}static create(p,v){if(v){const E=v.factories.slice();p=p.concat(E)}return new r(p)}static extend(p){return{provide:r,useFactory:v=>r.create(p,v||G1()),deps:[[r,new ie,new Pe]]}}find(p){const v=this.factories.find(E=>E.supports(p));if(v)return v;throw new D(901,!1)}}return r.\u0275prov=xe({token:r,providedIn:"root",factory:G1}),r})();const Px=k1(null,"core",[]);let Lx=(()=>{class r{constructor(p){}}return r.\u0275fac=function(p){return new(p||r)(Js(Jg))},r.\u0275mod=Jt({type:r}),r.\u0275inj=Oe({}),r})();function Rx(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}},2382:(mn,ht,b)=>{"use strict";b.d(ht,{Fj:()=>V,Oe:()=>eo,CE:()=>ws,NI:()=>Is,oH:()=>Bs,u:()=>Mr,cw:()=>Ve,sg:()=>As,x0:()=>Cs,u5:()=>rr,nD:()=>Ho,Cf:()=>ue,JU:()=>D,a5:()=>ot,JJ:()=>Ye,JL:()=>st,On:()=>$s,UX:()=>Gr,kI:()=>G,_Y:()=>qi});var e=b(5e3),a=b(9808),f=b(2076),g=b(9751),_=b(4742),P=b(8421),y=b(3269),l=b(5403),R=b(3268),L=b(1810),N=b(4004);let w=(()=>{class nt{constructor(Ee,kt){this._renderer=Ee,this._elementRef=kt,this.onChange=On=>{},this.onTouched=()=>{}}setProperty(Ee,kt){this._renderer.setProperty(this._elementRef.nativeElement,Ee,kt)}registerOnTouched(Ee){this.onTouched=Ee}registerOnChange(Ee){this.onChange=Ee}setDisabledState(Ee){this.setProperty("disabled",Ee)}}return nt.\u0275fac=function(Ee){return new(Ee||nt)(e.Y36(e.Qsj),e.Y36(e.SBq))},nt.\u0275dir=e.lG2({type:nt}),nt})(),x=(()=>{class nt extends w{}return nt.\u0275fac=function(){let Be;return function(kt){return(Be||(Be=e.n5z(nt)))(kt||nt)}}(),nt.\u0275dir=e.lG2({type:nt,features:[e.qOj]}),nt})();const D=new e.OlP("NgValueAccessor"),F={provide:D,useExisting:(0,e.Gpc)(()=>V),multi:!0},te=new e.OlP("CompositionEventMode");let V=(()=>{class nt extends w{constructor(Ee,kt,On){super(Ee,kt),this._compositionMode=On,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ce(){const nt=(0,a.q)()?(0,a.q)().getUserAgent():"";return/android (\d+)/.test(nt.toLowerCase())}())}writeValue(Ee){this.setProperty("value",null==Ee?"":Ee)}_handleInput(Ee){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Ee)}_compositionStart(){this._composing=!0}_compositionEnd(Ee){this._composing=!1,this._compositionMode&&this.onChange(Ee)}}return nt.\u0275fac=function(Ee){return new(Ee||nt)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(te,8))},nt.\u0275dir=e.lG2({type:nt,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Ee,kt){1&Ee&&e.NdJ("input",function(mi){return kt._handleInput(mi.target.value)})("blur",function(){return kt.onTouched()})("compositionstart",function(){return kt._compositionStart()})("compositionend",function(mi){return kt._compositionEnd(mi.target.value)})},features:[e._Bn([F]),e.qOj]}),nt})();function O(nt){return null==nt||("string"==typeof nt||Array.isArray(nt))&&0===nt.length}function $(nt){return null!=nt&&"number"==typeof nt.length}const ue=new e.OlP("NgValidators"),q=new e.OlP("NgAsyncValidators"),Y=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class G{static min(Be){return function he(nt){return Be=>{if(O(Be.value)||O(nt))return null;const Ee=parseFloat(Be.value);return!isNaN(Ee)&&Ee<nt?{min:{min:nt,actual:Be.value}}:null}}(Be)}static max(Be){return function j(nt){return Be=>{if(O(Be.value)||O(nt))return null;const Ee=parseFloat(Be.value);return!isNaN(Ee)&&Ee>nt?{max:{max:nt,actual:Be.value}}:null}}(Be)}static required(Be){return function Q(nt){return O(nt.value)?{required:!0}:null}(Be)}static requiredTrue(Be){return function K(nt){return!0===nt.value?null:{required:!0}}(Be)}static email(Be){return function z(nt){return O(nt.value)||Y.test(nt.value)?null:{email:!0}}(Be)}static minLength(Be){return function oe(nt){return Be=>O(Be.value)||!$(Be.value)?null:Be.value.length<nt?{minlength:{requiredLength:nt,actualLength:Be.value.length}}:null}(Be)}static maxLength(Be){return Te(Be)}static pattern(Be){return function Ae(nt){if(!nt)return Ke;let Be,Ee;return"string"==typeof nt?(Ee="","^"!==nt.charAt(0)&&(Ee+="^"),Ee+=nt,"$"!==nt.charAt(nt.length-1)&&(Ee+="$"),Be=new RegExp(Ee)):(Ee=nt.toString(),Be=nt),kt=>{if(O(kt.value))return null;const On=kt.value;return Be.test(On)?null:{pattern:{requiredPattern:Ee,actualValue:On}}}}(Be)}static nullValidator(Be){return null}static compose(Be){return dt(Be)}static composeAsync(Be){return it(Be)}}function Te(nt){return Be=>$(Be.value)&&Be.value.length>nt?{maxlength:{requiredLength:nt,actualLength:Be.value.length}}:null}function Ke(nt){return null}function be(nt){return null!=nt}function Qe(nt){return(0,e.QGY)(nt)?(0,f.D)(nt):nt}function X(nt){let Be={};return nt.forEach(Ee=>{Be=null!=Ee?Object.assign(Object.assign({},Be),Ee):Be}),0===Object.keys(Be).length?null:Be}function xe(nt,Be){return Be.map(Ee=>Ee(nt))}function Oe(nt){return nt.map(Be=>function we(nt){return!nt.validate}(Be)?Be:Ee=>Be.validate(Ee))}function dt(nt){if(!nt)return null;const Be=nt.filter(be);return 0==Be.length?null:function(Ee){return X(xe(Ee,Be))}}function bt(nt){return null!=nt?dt(Oe(nt)):null}function it(nt){if(!nt)return null;const Be=nt.filter(be);return 0==Be.length?null:function(Ee){return function J(...nt){const Be=(0,y.jO)(nt),{args:Ee,keys:kt}=(0,_.D)(nt),On=new g.y(mi=>{const{length:Qi}=Ee;if(!Qi)return void mi.complete();const yo=new Array(Qi);let Oo=Qi,cs=Qi;for(let js=0;js<Qi;js++){let lr=!1;(0,P.Xf)(Ee[js]).subscribe(new l.Q(mi,xr=>{lr||(lr=!0,cs--),yo[js]=xr},()=>Oo--,void 0,()=>{(!Oo||!lr)&&(cs||mi.next(kt?(0,L.n)(kt,yo):yo),mi.complete())}))}});return Be?On.pipe((0,R.Z)(Be)):On}(xe(Ee,Be).map(Qe)).pipe((0,N.U)(X))}}function Dt(nt){return null!=nt?it(Oe(nt)):null}function vt(nt,Be){return null===nt?[Be]:Array.isArray(nt)?[...nt,Be]:[nt,Be]}function Gt(nt){return nt._rawValidators}function Ht(nt){return nt._rawAsyncValidators}function Ut(nt){return nt?Array.isArray(nt)?nt:[nt]:[]}function ct(nt,Be){return Array.isArray(nt)?nt.includes(Be):nt===Be}function at(nt,Be){const Ee=Ut(Be);return Ut(nt).forEach(On=>{ct(Ee,On)||Ee.push(On)}),Ee}function fe(nt,Be){return Ut(Be).filter(Ee=>!ct(nt,Ee))}class ke{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Be){this._rawValidators=Be||[],this._composedValidatorFn=bt(this._rawValidators)}_setAsyncValidators(Be){this._rawAsyncValidators=Be||[],this._composedAsyncValidatorFn=Dt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Be){this._onDestroyCallbacks.push(Be)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Be=>Be()),this._onDestroyCallbacks=[]}reset(Be){this.control&&this.control.reset(Be)}hasError(Be,Ee){return!!this.control&&this.control.hasError(Be,Ee)}getError(Be,Ee){return this.control?this.control.getError(Be,Ee):null}}class ot extends ke{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ct extends ke{get formDirective(){return null}get path(){return null}}class Ot{constructor(Be){this._cd=Be}get isTouched(){var Be,Ee;return!(null===(Ee=null===(Be=this._cd)||void 0===Be?void 0:Be.control)||void 0===Ee||!Ee.touched)}get isUntouched(){var Be,Ee;return!(null===(Ee=null===(Be=this._cd)||void 0===Be?void 0:Be.control)||void 0===Ee||!Ee.untouched)}get isPristine(){var Be,Ee;return!(null===(Ee=null===(Be=this._cd)||void 0===Be?void 0:Be.control)||void 0===Ee||!Ee.pristine)}get isDirty(){var Be,Ee;return!(null===(Ee=null===(Be=this._cd)||void 0===Be?void 0:Be.control)||void 0===Ee||!Ee.dirty)}get isValid(){var Be,Ee;return!(null===(Ee=null===(Be=this._cd)||void 0===Be?void 0:Be.control)||void 0===Ee||!Ee.valid)}get isInvalid(){var Be,Ee;return!(null===(Ee=null===(Be=this._cd)||void 0===Be?void 0:Be.control)||void 0===Ee||!Ee.invalid)}get isPending(){var Be,Ee;return!(null===(Ee=null===(Be=this._cd)||void 0===Be?void 0:Be.control)||void 0===Ee||!Ee.pending)}get isSubmitted(){var Be;return!(null===(Be=this._cd)||void 0===Be||!Be.submitted)}}let Ye=(()=>{class nt extends Ot{constructor(Ee){super(Ee)}}return nt.\u0275fac=function(Ee){return new(Ee||nt)(e.Y36(ot,2))},nt.\u0275dir=e.lG2({type:nt,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Ee,kt){2&Ee&&e.ekj("ng-untouched",kt.isUntouched)("ng-touched",kt.isTouched)("ng-pristine",kt.isPristine)("ng-dirty",kt.isDirty)("ng-valid",kt.isValid)("ng-invalid",kt.isInvalid)("ng-pending",kt.isPending)},features:[e.qOj]}),nt})(),st=(()=>{class nt extends Ot{constructor(Ee){super(Ee)}}return nt.\u0275fac=function(Ee){return new(Ee||nt)(e.Y36(Ct,10))},nt.\u0275dir=e.lG2({type:nt,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Ee,kt){2&Ee&&e.ekj("ng-untouched",kt.isUntouched)("ng-touched",kt.isTouched)("ng-pristine",kt.isPristine)("ng-dirty",kt.isDirty)("ng-valid",kt.isValid)("ng-invalid",kt.isInvalid)("ng-pending",kt.isPending)("ng-submitted",kt.isSubmitted)},features:[e.qOj]}),nt})();const Jt="VALID",Dn="INVALID",Rt="PENDING",rn="DISABLED";function Fn(nt){return(Ni(nt)?nt.validators:nt)||null}function Un(nt){return Array.isArray(nt)?bt(nt):nt||null}function ri(nt,Be){return(Ni(Be)?Be.asyncValidators:nt)||null}function vi(nt){return Array.isArray(nt)?Dt(nt):nt||null}function Ni(nt){return null!=nt&&!Array.isArray(nt)&&"object"==typeof nt}function oo(nt,Be,Ee){const kt=nt.controls;if(!(Be?Object.keys(kt):kt).length)throw new e.vHH(1e3,"");if(!kt[Ee])throw new e.vHH(1001,"")}function Uo(nt,Be,Ee){nt._forEachChild((kt,On)=>{if(void 0===Ee[On])throw new e.vHH(1002,"")})}class Bt{constructor(Be,Ee){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=Be,this._rawAsyncValidators=Ee,this._composedValidatorFn=Un(this._rawValidators),this._composedAsyncValidatorFn=vi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(Be){this._rawValidators=this._composedValidatorFn=Be}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Be){this._rawAsyncValidators=this._composedAsyncValidatorFn=Be}get parent(){return this._parent}get valid(){return this.status===Jt}get invalid(){return this.status===Dn}get pending(){return this.status==Rt}get disabled(){return this.status===rn}get enabled(){return this.status!==rn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Be){this._rawValidators=Be,this._composedValidatorFn=Un(Be)}setAsyncValidators(Be){this._rawAsyncValidators=Be,this._composedAsyncValidatorFn=vi(Be)}addValidators(Be){this.setValidators(at(Be,this._rawValidators))}addAsyncValidators(Be){this.setAsyncValidators(at(Be,this._rawAsyncValidators))}removeValidators(Be){this.setValidators(fe(Be,this._rawValidators))}removeAsyncValidators(Be){this.setAsyncValidators(fe(Be,this._rawAsyncValidators))}hasValidator(Be){return ct(this._rawValidators,Be)}hasAsyncValidator(Be){return ct(this._rawAsyncValidators,Be)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Be={}){this.touched=!0,this._parent&&!Be.onlySelf&&this._parent.markAsTouched(Be)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Be=>Be.markAllAsTouched())}markAsUntouched(Be={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Ee=>{Ee.markAsUntouched({onlySelf:!0})}),this._parent&&!Be.onlySelf&&this._parent._updateTouched(Be)}markAsDirty(Be={}){this.pristine=!1,this._parent&&!Be.onlySelf&&this._parent.markAsDirty(Be)}markAsPristine(Be={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Ee=>{Ee.markAsPristine({onlySelf:!0})}),this._parent&&!Be.onlySelf&&this._parent._updatePristine(Be)}markAsPending(Be={}){this.status=Rt,!1!==Be.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Be.onlySelf&&this._parent.markAsPending(Be)}disable(Be={}){const Ee=this._parentMarkedDirty(Be.onlySelf);this.status=rn,this.errors=null,this._forEachChild(kt=>{kt.disable(Object.assign(Object.assign({},Be),{onlySelf:!0}))}),this._updateValue(),!1!==Be.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},Be),{skipPristineCheck:Ee})),this._onDisabledChange.forEach(kt=>kt(!0))}enable(Be={}){const Ee=this._parentMarkedDirty(Be.onlySelf);this.status=Jt,this._forEachChild(kt=>{kt.enable(Object.assign(Object.assign({},Be),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Be.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},Be),{skipPristineCheck:Ee})),this._onDisabledChange.forEach(kt=>kt(!1))}_updateAncestors(Be){this._parent&&!Be.onlySelf&&(this._parent.updateValueAndValidity(Be),Be.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Be){this._parent=Be}getRawValue(){return this.value}updateValueAndValidity(Be={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jt||this.status===Rt)&&this._runAsyncValidator(Be.emitEvent)),!1!==Be.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Be.onlySelf&&this._parent.updateValueAndValidity(Be)}_updateTreeValidity(Be={emitEvent:!0}){this._forEachChild(Ee=>Ee._updateTreeValidity(Be)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Be.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rn:Jt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Be){if(this.asyncValidator){this.status=Rt,this._hasOwnPendingAsyncValidator=!0;const Ee=Qe(this.asyncValidator(this));this._asyncValidationSubscription=Ee.subscribe(kt=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(kt,{emitEvent:Be})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Be,Ee={}){this.errors=Be,this._updateControlsErrors(!1!==Ee.emitEvent)}get(Be){let Ee=Be;return null==Ee||(Array.isArray(Ee)||(Ee=Ee.split(".")),0===Ee.length)?null:Ee.reduce((kt,On)=>kt&&kt._find(On),this)}getError(Be,Ee){const kt=Ee?this.get(Ee):this;return kt&&kt.errors?kt.errors[Be]:null}hasError(Be,Ee){return!!this.getError(Be,Ee)}get root(){let Be=this;for(;Be._parent;)Be=Be._parent;return Be}_updateControlsErrors(Be){this.status=this._calculateStatus(),Be&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Be)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?rn:this.errors?Dn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rt)?Rt:this._anyControlsHaveStatus(Dn)?Dn:Jt}_anyControlsHaveStatus(Be){return this._anyControls(Ee=>Ee.status===Be)}_anyControlsDirty(){return this._anyControls(Be=>Be.dirty)}_anyControlsTouched(){return this._anyControls(Be=>Be.touched)}_updatePristine(Be={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Be.onlySelf&&this._parent._updatePristine(Be)}_updateTouched(Be={}){this.touched=this._anyControlsTouched(),this._parent&&!Be.onlySelf&&this._parent._updateTouched(Be)}_registerOnCollectionChange(Be){this._onCollectionChange=Be}_setUpdateStrategy(Be){Ni(Be)&&null!=Be.updateOn&&(this._updateOn=Be.updateOn)}_parentMarkedDirty(Be){return!Be&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Be){return null}}class Ve extends Bt{constructor(Be,Ee,kt){super(Fn(Ee),ri(kt,Ee)),this.controls=Be,this._initObservables(),this._setUpdateStrategy(Ee),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Be,Ee){return this.controls[Be]?this.controls[Be]:(this.controls[Be]=Ee,Ee.setParent(this),Ee._registerOnCollectionChange(this._onCollectionChange),Ee)}addControl(Be,Ee,kt={}){this.registerControl(Be,Ee),this.updateValueAndValidity({emitEvent:kt.emitEvent}),this._onCollectionChange()}removeControl(Be,Ee={}){this.controls[Be]&&this.controls[Be]._registerOnCollectionChange(()=>{}),delete this.controls[Be],this.updateValueAndValidity({emitEvent:Ee.emitEvent}),this._onCollectionChange()}setControl(Be,Ee,kt={}){this.controls[Be]&&this.controls[Be]._registerOnCollectionChange(()=>{}),delete this.controls[Be],Ee&&this.registerControl(Be,Ee),this.updateValueAndValidity({emitEvent:kt.emitEvent}),this._onCollectionChange()}contains(Be){return this.controls.hasOwnProperty(Be)&&this.controls[Be].enabled}setValue(Be,Ee={}){Uo(this,0,Be),Object.keys(Be).forEach(kt=>{oo(this,!0,kt),this.controls[kt].setValue(Be[kt],{onlySelf:!0,emitEvent:Ee.emitEvent})}),this.updateValueAndValidity(Ee)}patchValue(Be,Ee={}){null!=Be&&(Object.keys(Be).forEach(kt=>{const On=this.controls[kt];On&&On.patchValue(Be[kt],{onlySelf:!0,emitEvent:Ee.emitEvent})}),this.updateValueAndValidity(Ee))}reset(Be={},Ee={}){this._forEachChild((kt,On)=>{kt.reset(Be[On],{onlySelf:!0,emitEvent:Ee.emitEvent})}),this._updatePristine(Ee),this._updateTouched(Ee),this.updateValueAndValidity(Ee)}getRawValue(){return this._reduceChildren({},(Be,Ee,kt)=>(Be[kt]=Ee.getRawValue(),Be))}_syncPendingControls(){let Be=this._reduceChildren(!1,(Ee,kt)=>!!kt._syncPendingControls()||Ee);return Be&&this.updateValueAndValidity({onlySelf:!0}),Be}_forEachChild(Be){Object.keys(this.controls).forEach(Ee=>{const kt=this.controls[Ee];kt&&Be(kt,Ee)})}_setUpControls(){this._forEachChild(Be=>{Be.setParent(this),Be._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Be){for(const[Ee,kt]of Object.entries(this.controls))if(this.contains(Ee)&&Be(kt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Ee,kt,On)=>((kt.enabled||this.disabled)&&(Ee[On]=kt.value),Ee))}_reduceChildren(Be,Ee){let kt=Be;return this._forEachChild((On,mi)=>{kt=Ee(kt,On,mi)}),kt}_allControlsDisabled(){for(const Be of Object.keys(this.controls))if(this.controls[Be].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Be){return this.controls.hasOwnProperty(Be)?this.controls[Be]:null}}function Zt(nt,Be){return[...Be.path,nt]}function an(nt,Be){var Ee,kt;ai(nt,Be),Be.valueAccessor.writeValue(nt.value),nt.disabled&&(null===(kt=(Ee=Be.valueAccessor).setDisabledState)||void 0===kt||kt.call(Ee,!0)),function oi(nt,Be){Be.valueAccessor.registerOnChange(Ee=>{nt._pendingValue=Ee,nt._pendingChange=!0,nt._pendingDirty=!0,"change"===nt.updateOn&&$i(nt,Be)})}(nt,Be),function Do(nt,Be){const Ee=(kt,On)=>{Be.valueAccessor.writeValue(kt),On&&Be.viewToModelUpdate(kt)};nt.registerOnChange(Ee),Be._registerOnDestroy(()=>{nt._unregisterOnChange(Ee)})}(nt,Be),function ki(nt,Be){Be.valueAccessor.registerOnTouched(()=>{nt._pendingTouched=!0,"blur"===nt.updateOn&&nt._pendingChange&&$i(nt,Be),"submit"!==nt.updateOn&&nt.markAsTouched()})}(nt,Be),function qn(nt,Be){if(Be.valueAccessor.setDisabledState){const Ee=kt=>{Be.valueAccessor.setDisabledState(kt)};nt.registerOnDisabledChange(Ee),Be._registerOnDestroy(()=>{nt._unregisterOnDisabledChange(Ee)})}}(nt,Be)}function pn(nt,Be,Ee=!0){const kt=()=>{};Be.valueAccessor&&(Be.valueAccessor.registerOnChange(kt),Be.valueAccessor.registerOnTouched(kt)),pi(nt,Be),nt&&(Be._invokeOnDestroyCallbacks(),nt._registerOnCollectionChange(()=>{}))}function zn(nt,Be){nt.forEach(Ee=>{Ee.registerOnValidatorChange&&Ee.registerOnValidatorChange(Be)})}function ai(nt,Be){const Ee=Gt(nt);null!==Be.validator?nt.setValidators(vt(Ee,Be.validator)):"function"==typeof Ee&&nt.setValidators([Ee]);const kt=Ht(nt);null!==Be.asyncValidator?nt.setAsyncValidators(vt(kt,Be.asyncValidator)):"function"==typeof kt&&nt.setAsyncValidators([kt]);const On=()=>nt.updateValueAndValidity();zn(Be._rawValidators,On),zn(Be._rawAsyncValidators,On)}function pi(nt,Be){let Ee=!1;if(null!==nt){if(null!==Be.validator){const On=Gt(nt);if(Array.isArray(On)&&On.length>0){const mi=On.filter(Qi=>Qi!==Be.validator);mi.length!==On.length&&(Ee=!0,nt.setValidators(mi))}}if(null!==Be.asyncValidator){const On=Ht(nt);if(Array.isArray(On)&&On.length>0){const mi=On.filter(Qi=>Qi!==Be.asyncValidator);mi.length!==On.length&&(Ee=!0,nt.setAsyncValidators(mi))}}}const kt=()=>{};return zn(Be._rawValidators,kt),zn(Be._rawAsyncValidators,kt),Ee}function $i(nt,Be){nt._pendingDirty&&nt.markAsDirty(),nt.setValue(nt._pendingValue,{emitModelToViewChange:!1}),Be.viewToModelUpdate(nt._pendingValue),nt._pendingChange=!1}function Xo(nt,Be){if(!nt.hasOwnProperty("model"))return!1;const Ee=nt.model;return!!Ee.isFirstChange()||!Object.is(Be,Ee.currentValue)}function ho(nt,Be){if(!Be)return null;let Ee,kt,On;return Array.isArray(Be),Be.forEach(mi=>{mi.constructor===V?Ee=mi:function as(nt){return Object.getPrototypeOf(nt.constructor)===x}(mi)?kt=mi:On=mi}),On||kt||Ee||null}function qo(nt,Be){const Ee=nt.indexOf(Be);Ee>-1&&nt.splice(Ee,1)}function Ls(nt){return"object"==typeof nt&&null!==nt&&2===Object.keys(nt).length&&"value"in nt&&"disabled"in nt}const Is=class extends Bt{constructor(Be=null,Ee,kt){super(Fn(Ee),ri(kt,Ee)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Be),this._setUpdateStrategy(Ee),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ni(Ee)&&(Ee.nonNullable||Ee.initialValueIsDefault)&&(this.defaultValue=Ls(Be)?Be.value:Be)}setValue(Be,Ee={}){this.value=this._pendingValue=Be,this._onChange.length&&!1!==Ee.emitModelToViewChange&&this._onChange.forEach(kt=>kt(this.value,!1!==Ee.emitViewToModelChange)),this.updateValueAndValidity(Ee)}patchValue(Be,Ee={}){this.setValue(Be,Ee)}reset(Be=this.defaultValue,Ee={}){this._applyFormState(Be),this.markAsPristine(Ee),this.markAsUntouched(Ee),this.setValue(this.value,Ee),this._pendingChange=!1}_updateValue(){}_anyControls(Be){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Be){this._onChange.push(Be)}_unregisterOnChange(Be){qo(this._onChange,Be)}registerOnDisabledChange(Be){this._onDisabledChange.push(Be)}_unregisterOnDisabledChange(Be){qo(this._onDisabledChange,Be)}_forEachChild(Be){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Be){Ls(Be)?(this.value=this._pendingValue=Be.value,Be.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Be}};let Er=(()=>{class nt extends Ct{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Zt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return nt.\u0275fac=function(){let Be;return function(kt){return(Be||(Be=e.n5z(nt)))(kt||nt)}}(),nt.\u0275dir=e.lG2({type:nt,features:[e.qOj]}),nt})();const Ns={provide:ot,useExisting:(0,e.Gpc)(()=>$s)},ea=(()=>Promise.resolve())();let $s=(()=>{class nt extends ot{constructor(Ee,kt,On,mi,Qi){super(),this._changeDetectorRef=Qi,this.control=new Is,this._registered=!1,this.update=new e.vpe,this._parent=Ee,this._setValidators(kt),this._setAsyncValidators(On),this.valueAccessor=ho(0,mi)}ngOnChanges(Ee){if(this._checkForErrors(),!this._registered||"name"in Ee){if(this._registered&&(this._checkName(),this.formDirective)){const kt=Ee.name.previousValue;this.formDirective.removeControl({name:kt,path:this._getPath(kt)})}this._setUpControl()}"isDisabled"in Ee&&this._updateDisabled(Ee),Xo(Ee,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(Ee){this.viewModel=Ee,this.update.emit(Ee)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){an(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(Ee){ea.then(()=>{var kt;this.control.setValue(Ee,{emitViewToModelChange:!1}),null===(kt=this._changeDetectorRef)||void 0===kt||kt.markForCheck()})}_updateDisabled(Ee){const kt=Ee.isDisabled.currentValue,On=0!==kt&&(0,e.D6c)(kt);ea.then(()=>{var mi;On&&!this.control.disabled?this.control.disable():!On&&this.control.disabled&&this.control.enable(),null===(mi=this._changeDetectorRef)||void 0===mi||mi.markForCheck()})}_getPath(Ee){return this._parent?Zt(Ee,this._parent):[Ee]}}return nt.\u0275fac=function(Ee){return new(Ee||nt)(e.Y36(Ct,9),e.Y36(ue,10),e.Y36(q,10),e.Y36(D,10),e.Y36(e.sBO,8))},nt.\u0275dir=e.lG2({type:nt,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([Ns]),e.qOj,e.TTD]}),nt})(),qi=(()=>{class nt{}return nt.\u0275fac=function(Ee){return new(Ee||nt)},nt.\u0275dir=e.lG2({type:nt,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),nt})(),ss=(()=>{class nt{}return nt.\u0275fac=function(Ee){return new(Ee||nt)},nt.\u0275mod=e.oAB({type:nt}),nt.\u0275inj=e.cJS({}),nt})();const Fs=new e.OlP("NgModelWithFormControlWarning"),Xs={provide:ot,useExisting:(0,e.Gpc)(()=>Bs)};let Bs=(()=>{class nt extends ot{constructor(Ee,kt,On,mi){super(),this._ngModelWarningConfig=mi,this.update=new e.vpe,this._ngModelWarningSent=!1,this._setValidators(Ee),this._setAsyncValidators(kt),this.valueAccessor=ho(0,On)}set isDisabled(Ee){}ngOnChanges(Ee){if(this._isControlChanged(Ee)){const kt=Ee.form.previousValue;kt&&pn(kt,this,!1),an(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}Xo(Ee,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&pn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(Ee){this.viewModel=Ee,this.update.emit(Ee)}_isControlChanged(Ee){return Ee.hasOwnProperty("form")}}return nt._ngModelWarningSentOnce=!1,nt.\u0275fac=function(Ee){return new(Ee||nt)(e.Y36(ue,10),e.Y36(q,10),e.Y36(D,10),e.Y36(Fs,8))},nt.\u0275dir=e.lG2({type:nt,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[e._Bn([Xs]),e.qOj,e.TTD]}),nt})();const fo={provide:Ct,useExisting:(0,e.Gpc)(()=>As)};let As=(()=>{class nt extends Ct{constructor(Ee,kt){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.vpe,this._setValidators(Ee),this._setAsyncValidators(kt)}ngOnChanges(Ee){this._checkFormPresent(),Ee.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(pi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Ee){const kt=this.form.get(Ee.path);return an(kt,Ee),kt.updateValueAndValidity({emitEvent:!1}),this.directives.push(Ee),kt}getControl(Ee){return this.form.get(Ee.path)}removeControl(Ee){pn(Ee.control||null,Ee,!1),function so(nt,Be){const Ee=nt.indexOf(Be);Ee>-1&&nt.splice(Ee,1)}(this.directives,Ee)}addFormGroup(Ee){this._setUpFormContainer(Ee)}removeFormGroup(Ee){this._cleanUpFormContainer(Ee)}getFormGroup(Ee){return this.form.get(Ee.path)}addFormArray(Ee){this._setUpFormContainer(Ee)}removeFormArray(Ee){this._cleanUpFormContainer(Ee)}getFormArray(Ee){return this.form.get(Ee.path)}updateModel(Ee,kt){this.form.get(Ee.path).setValue(kt)}onSubmit(Ee){var kt;return this.submitted=!0,function os(nt,Be){nt._syncPendingControls(),Be.forEach(Ee=>{const kt=Ee.control;"submit"===kt.updateOn&&kt._pendingChange&&(Ee.viewToModelUpdate(kt._pendingValue),kt._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(Ee),"dialog"===(null===(kt=null==Ee?void 0:Ee.target)||void 0===kt?void 0:kt.method)}onReset(){this.resetForm()}resetForm(Ee){this.form.reset(Ee),this.submitted=!1}_updateDomValue(){this.directives.forEach(Ee=>{const kt=Ee.control,On=this.form.get(Ee.path);kt!==On&&(pn(kt||null,Ee),(nt=>nt instanceof Is)(On)&&(an(On,Ee),Ee.control=On))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Ee){const kt=this.form.get(Ee.path);(function ci(nt,Be){ai(nt,Be)})(kt,Ee),kt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Ee){if(this.form){const kt=this.form.get(Ee.path);kt&&function vo(nt,Be){return pi(nt,Be)}(kt,Ee)&&kt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ai(this.form,this),this._oldForm&&pi(this._oldForm,this)}_checkFormPresent(){}}return nt.\u0275fac=function(Ee){return new(Ee||nt)(e.Y36(ue,10),e.Y36(q,10))},nt.\u0275dir=e.lG2({type:nt,selectors:[["","formGroup",""]],hostBindings:function(Ee,kt){1&Ee&&e.NdJ("submit",function(mi){return kt.onSubmit(mi)})("reset",function(){return kt.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([fo]),e.qOj,e.TTD]}),nt})();const ls={provide:Ct,useExisting:(0,e.Gpc)(()=>Cs)};let Cs=(()=>{class nt extends Er{constructor(Ee,kt,On){super(),this._parent=Ee,this._setValidators(kt),this._setAsyncValidators(On)}_checkParentType(){br(this._parent)}}return nt.\u0275fac=function(Ee){return new(Ee||nt)(e.Y36(Ct,13),e.Y36(ue,10),e.Y36(q,10))},nt.\u0275dir=e.lG2({type:nt,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[e._Bn([ls]),e.qOj]}),nt})();const ms={provide:Ct,useExisting:(0,e.Gpc)(()=>ws)};let ws=(()=>{class nt extends Ct{constructor(Ee,kt,On){super(),this._parent=Ee,this._setValidators(kt),this._setAsyncValidators(On)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Zt(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){br(this._parent)}}return nt.\u0275fac=function(Ee){return new(Ee||nt)(e.Y36(Ct,13),e.Y36(ue,10),e.Y36(q,10))},nt.\u0275dir=e.lG2({type:nt,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[e._Bn([ms]),e.qOj]}),nt})();function br(nt){return!(nt instanceof Cs||nt instanceof As||nt instanceof ws)}const Dr={provide:ot,useExisting:(0,e.Gpc)(()=>Mr)};let Mr=(()=>{class nt extends ot{constructor(Ee,kt,On,mi,Qi){super(),this._ngModelWarningConfig=Qi,this._added=!1,this.update=new e.vpe,this._ngModelWarningSent=!1,this._parent=Ee,this._setValidators(kt),this._setAsyncValidators(On),this.valueAccessor=ho(0,mi)}set isDisabled(Ee){}ngOnChanges(Ee){this._added||this._setUpControl(),Xo(Ee,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(Ee){this.viewModel=Ee,this.update.emit(Ee)}get path(){return Zt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return nt._ngModelWarningSentOnce=!1,nt.\u0275fac=function(Ee){return new(Ee||nt)(e.Y36(Ct,13),e.Y36(ue,10),e.Y36(q,10),e.Y36(D,10),e.Y36(Fs,8))},nt.\u0275dir=e.lG2({type:nt,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[e._Bn([Dr]),e.qOj,e.TTD]}),nt})();let Wi=(()=>{class nt{constructor(){this._validator=Ke}ngOnChanges(Ee){if(this.inputName in Ee){const kt=this.normalizeInput(Ee[this.inputName].currentValue);this._enabled=this.enabled(kt),this._validator=this._enabled?this.createValidator(kt):Ke,this._onChange&&this._onChange()}}validate(Ee){return this._validator(Ee)}registerOnValidatorChange(Ee){this._onChange=Ee}enabled(Ee){return null!=Ee}}return nt.\u0275fac=function(Ee){return new(Ee||nt)},nt.\u0275dir=e.lG2({type:nt,features:[e.TTD]}),nt})();const or={provide:ue,useExisting:(0,e.Gpc)(()=>Ho),multi:!0};let Ho=(()=>{class nt extends Wi{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=Ee=>function Wn(nt){return"number"==typeof nt?nt:parseInt(nt,10)}(Ee),this.createValidator=Ee=>Te(Ee)}}return nt.\u0275fac=function(){let Be;return function(kt){return(Be||(Be=e.n5z(nt)))(kt||nt)}}(),nt.\u0275dir=e.lG2({type:nt,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(Ee,kt){2&Ee&&e.uIk("maxlength",kt._enabled?kt.maxlength:null)},inputs:{maxlength:"maxlength"},features:[e._Bn([or]),e.qOj]}),nt})(),Mi=(()=>{class nt{}return nt.\u0275fac=function(Ee){return new(Ee||nt)},nt.\u0275mod=e.oAB({type:nt}),nt.\u0275inj=e.cJS({imports:[ss]}),nt})(),rr=(()=>{class nt{}return nt.\u0275fac=function(Ee){return new(Ee||nt)},nt.\u0275mod=e.oAB({type:nt}),nt.\u0275inj=e.cJS({imports:[Mi]}),nt})(),Gr=(()=>{class nt{static withConfig(Ee){return{ngModule:nt,providers:[{provide:Fs,useValue:Ee.warnOnNgModelWithFormControl}]}}}return nt.\u0275fac=function(Ee){return new(Ee||nt)},nt.\u0275mod=e.oAB({type:nt}),nt.\u0275inj=e.cJS({imports:[Mi]}),nt})();class eo extends Bt{constructor(Be,Ee,kt){super(Fn(Ee),ri(kt,Ee)),this.controls=Be,this._initObservables(),this._setUpdateStrategy(Ee),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Be){return this.controls[this._adjustIndex(Be)]}push(Be,Ee={}){this.controls.push(Be),this._registerControl(Be),this.updateValueAndValidity({emitEvent:Ee.emitEvent}),this._onCollectionChange()}insert(Be,Ee,kt={}){this.controls.splice(Be,0,Ee),this._registerControl(Ee),this.updateValueAndValidity({emitEvent:kt.emitEvent})}removeAt(Be,Ee={}){let kt=this._adjustIndex(Be);kt<0&&(kt=0),this.controls[kt]&&this.controls[kt]._registerOnCollectionChange(()=>{}),this.controls.splice(kt,1),this.updateValueAndValidity({emitEvent:Ee.emitEvent})}setControl(Be,Ee,kt={}){let On=this._adjustIndex(Be);On<0&&(On=0),this.controls[On]&&this.controls[On]._registerOnCollectionChange(()=>{}),this.controls.splice(On,1),Ee&&(this.controls.splice(On,0,Ee),this._registerControl(Ee)),this.updateValueAndValidity({emitEvent:kt.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Be,Ee={}){Uo(this,0,Be),Be.forEach((kt,On)=>{oo(this,!1,On),this.at(On).setValue(kt,{onlySelf:!0,emitEvent:Ee.emitEvent})}),this.updateValueAndValidity(Ee)}patchValue(Be,Ee={}){null!=Be&&(Be.forEach((kt,On)=>{this.at(On)&&this.at(On).patchValue(kt,{onlySelf:!0,emitEvent:Ee.emitEvent})}),this.updateValueAndValidity(Ee))}reset(Be=[],Ee={}){this._forEachChild((kt,On)=>{kt.reset(Be[On],{onlySelf:!0,emitEvent:Ee.emitEvent})}),this._updatePristine(Ee),this._updateTouched(Ee),this.updateValueAndValidity(Ee)}getRawValue(){return this.controls.map(Be=>Be.getRawValue())}clear(Be={}){this.controls.length<1||(this._forEachChild(Ee=>Ee._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Be.emitEvent}))}_adjustIndex(Be){return Be<0?Be+this.length:Be}_syncPendingControls(){let Be=this.controls.reduce((Ee,kt)=>!!kt._syncPendingControls()||Ee,!1);return Be&&this.updateValueAndValidity({onlySelf:!0}),Be}_forEachChild(Be){this.controls.forEach((Ee,kt)=>{Be(Ee,kt)})}_updateValue(){this.value=this.controls.filter(Be=>Be.enabled||this.disabled).map(Be=>Be.value)}_anyControls(Be){return this.controls.some(Ee=>Ee.enabled&&Be(Ee))}_setUpControls(){this._forEachChild(Be=>this._registerControl(Be))}_allControlsDisabled(){for(const Be of this.controls)if(Be.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Be){Be.setParent(this),Be._registerOnCollectionChange(this._onCollectionChange)}_find(Be){var Ee;return null!==(Ee=this.at(Be))&&void 0!==Ee?Ee:null}}},2313:(mn,ht,b)=>{"use strict";b.d(ht,{Dx:()=>Ye,H7:()=>vi,b2:()=>ot,q6:()=>ct,se:()=>Q});var e=b(9808),a=b(5e3);class f extends e.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class g extends f{static makeCurrent(){(0,e.HT)(new g)}onAndCancel(Ve,ye,Ue){return Ve.addEventListener(ye,Ue,!1),()=>{Ve.removeEventListener(ye,Ue,!1)}}dispatchEvent(Ve,ye){Ve.dispatchEvent(ye)}remove(Ve){Ve.parentNode&&Ve.parentNode.removeChild(Ve)}createElement(Ve,ye){return(ye=ye||this.getDefaultDocument()).createElement(Ve)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ve){return Ve.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ve){return Ve instanceof DocumentFragment}getGlobalEventTarget(Ve,ye){return"window"===ye?window:"document"===ye?Ve:"body"===ye?Ve.body:null}getBaseHref(Ve){const ye=function P(){return _=_||document.querySelector("base"),_?_.getAttribute("href"):null}();return null==ye?null:function l(Bt){y=y||document.createElement("a"),y.setAttribute("href",Bt);const Ve=y.pathname;return"/"===Ve.charAt(0)?Ve:`/${Ve}`}(ye)}resetBaseElement(){_=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ve){return(0,e.Mx)(document.cookie,Ve)}}let y,_=null;const R=new a.OlP("TRANSITION_ID"),J=[{provide:a.ip1,useFactory:function L(Bt,Ve,ye){return()=>{ye.get(a.CZH).donePromise.then(()=>{const Ue=(0,e.q)(),ut=Ve.querySelectorAll(`style[ng-transition="${Bt}"]`);for(let gn=0;gn<ut.length;gn++)Ue.remove(ut[gn])})}},deps:[R,e.K0,a.zs3],multi:!0}];let w=(()=>{class Bt{build(){return new XMLHttpRequest}}return Bt.\u0275fac=function(ye){return new(ye||Bt)},Bt.\u0275prov=a.Yz7({token:Bt,factory:Bt.\u0275fac}),Bt})();const x=new a.OlP("EventManagerPlugins");let D=(()=>{class Bt{constructor(ye,Ue){this._zone=Ue,this._eventNameToPlugin=new Map,ye.forEach(ut=>ut.manager=this),this._plugins=ye.slice().reverse()}addEventListener(ye,Ue,ut){return this._findPluginFor(Ue).addEventListener(ye,Ue,ut)}addGlobalEventListener(ye,Ue,ut){return this._findPluginFor(Ue).addGlobalEventListener(ye,Ue,ut)}getZone(){return this._zone}_findPluginFor(ye){const Ue=this._eventNameToPlugin.get(ye);if(Ue)return Ue;const ut=this._plugins;for(let gn=0;gn<ut.length;gn++){const Zt=ut[gn];if(Zt.supports(ye))return this._eventNameToPlugin.set(ye,Zt),Zt}throw new Error(`No event manager plugin found for event ${ye}`)}}return Bt.\u0275fac=function(ye){return new(ye||Bt)(a.LFG(x),a.LFG(a.R0b))},Bt.\u0275prov=a.Yz7({token:Bt,factory:Bt.\u0275fac}),Bt})();class S{constructor(Ve){this._doc=Ve}addGlobalEventListener(Ve,ye,Ue){const ut=(0,e.q)().getGlobalEventTarget(this._doc,Ve);if(!ut)throw new Error(`Unsupported event target ${ut} for event ${ye}`);return this.addEventListener(ut,ye,Ue)}}let U=(()=>{class Bt{constructor(){this._stylesSet=new Set}addStyles(ye){const Ue=new Set;ye.forEach(ut=>{this._stylesSet.has(ut)||(this._stylesSet.add(ut),Ue.add(ut))}),this.onStylesAdded(Ue)}onStylesAdded(ye){}getAllStyles(){return Array.from(this._stylesSet)}}return Bt.\u0275fac=function(ye){return new(ye||Bt)},Bt.\u0275prov=a.Yz7({token:Bt,factory:Bt.\u0275fac}),Bt})(),F=(()=>{class Bt extends U{constructor(ye){super(),this._doc=ye,this._hostNodes=new Map,this._hostNodes.set(ye.head,[])}_addStylesToHost(ye,Ue,ut){ye.forEach(gn=>{const Zt=this._doc.createElement("style");Zt.textContent=gn,ut.push(Ue.appendChild(Zt))})}addHost(ye){const Ue=[];this._addStylesToHost(this._stylesSet,ye,Ue),this._hostNodes.set(ye,Ue)}removeHost(ye){const Ue=this._hostNodes.get(ye);Ue&&Ue.forEach(ce),this._hostNodes.delete(ye)}onStylesAdded(ye){this._hostNodes.forEach((Ue,ut)=>{this._addStylesToHost(ye,ut,Ue)})}ngOnDestroy(){this._hostNodes.forEach(ye=>ye.forEach(ce))}}return Bt.\u0275fac=function(ye){return new(ye||Bt)(a.LFG(e.K0))},Bt.\u0275prov=a.Yz7({token:Bt,factory:Bt.\u0275fac}),Bt})();function ce(Bt){(0,e.q)().remove(Bt)}const te={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},V=/%COMP%/g,O="%COMP%",$=`_nghost-${O}`,ue=`_ngcontent-${O}`;function G(Bt,Ve,ye){for(let Ue=0;Ue<Ve.length;Ue++){let ut=Ve[Ue];Array.isArray(ut)?G(Bt,ut,ye):(ut=ut.replace(V,Bt),ye.push(ut))}return ye}function he(Bt){return Ve=>{if("__ngUnwrap__"===Ve)return Bt;!1===Bt(Ve)&&(Ve.preventDefault(),Ve.returnValue=!1)}}let Q=(()=>{class Bt{constructor(ye,Ue,ut){this.eventManager=ye,this.sharedStylesHost=Ue,this.appId=ut,this.rendererByCompId=new Map,this.defaultRenderer=new K(ye)}createRenderer(ye,Ue){if(!ye||!Ue)return this.defaultRenderer;switch(Ue.encapsulation){case a.ifc.Emulated:{let ut=this.rendererByCompId.get(Ue.id);return ut||(ut=new Ae(this.eventManager,this.sharedStylesHost,Ue,this.appId),this.rendererByCompId.set(Ue.id,ut)),ut.applyToHost(ye),ut}case 1:case a.ifc.ShadowDom:return new Ke(this.eventManager,this.sharedStylesHost,ye,Ue);default:if(!this.rendererByCompId.has(Ue.id)){const ut=G(Ue.id,Ue.styles,[]);this.sharedStylesHost.addStyles(ut),this.rendererByCompId.set(Ue.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Bt.\u0275fac=function(ye){return new(ye||Bt)(a.LFG(D),a.LFG(F),a.LFG(a.AFp))},Bt.\u0275prov=a.Yz7({token:Bt,factory:Bt.\u0275fac}),Bt})();class K{constructor(Ve){this.eventManager=Ve,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ve,ye){return ye?document.createElementNS(te[ye]||ye,Ve):document.createElement(Ve)}createComment(Ve){return document.createComment(Ve)}createText(Ve){return document.createTextNode(Ve)}appendChild(Ve,ye){(Te(Ve)?Ve.content:Ve).appendChild(ye)}insertBefore(Ve,ye,Ue){Ve&&(Te(Ve)?Ve.content:Ve).insertBefore(ye,Ue)}removeChild(Ve,ye){Ve&&Ve.removeChild(ye)}selectRootElement(Ve,ye){let Ue="string"==typeof Ve?document.querySelector(Ve):Ve;if(!Ue)throw new Error(`The selector "${Ve}" did not match any elements`);return ye||(Ue.textContent=""),Ue}parentNode(Ve){return Ve.parentNode}nextSibling(Ve){return Ve.nextSibling}setAttribute(Ve,ye,Ue,ut){if(ut){ye=ut+":"+ye;const gn=te[ut];gn?Ve.setAttributeNS(gn,ye,Ue):Ve.setAttribute(ye,Ue)}else Ve.setAttribute(ye,Ue)}removeAttribute(Ve,ye,Ue){if(Ue){const ut=te[Ue];ut?Ve.removeAttributeNS(ut,ye):Ve.removeAttribute(`${Ue}:${ye}`)}else Ve.removeAttribute(ye)}addClass(Ve,ye){Ve.classList.add(ye)}removeClass(Ve,ye){Ve.classList.remove(ye)}setStyle(Ve,ye,Ue,ut){ut&(a.JOm.DashCase|a.JOm.Important)?Ve.style.setProperty(ye,Ue,ut&a.JOm.Important?"important":""):Ve.style[ye]=Ue}removeStyle(Ve,ye,Ue){Ue&a.JOm.DashCase?Ve.style.removeProperty(ye):Ve.style[ye]=""}setProperty(Ve,ye,Ue){Ve[ye]=Ue}setValue(Ve,ye){Ve.nodeValue=ye}listen(Ve,ye,Ue){return"string"==typeof Ve?this.eventManager.addGlobalEventListener(Ve,ye,he(Ue)):this.eventManager.addEventListener(Ve,ye,he(Ue))}}function Te(Bt){return"TEMPLATE"===Bt.tagName&&void 0!==Bt.content}class Ae extends K{constructor(Ve,ye,Ue,ut){super(Ve),this.component=Ue;const gn=G(ut+"-"+Ue.id,Ue.styles,[]);ye.addStyles(gn),this.contentAttr=function q(Bt){return ue.replace(V,Bt)}(ut+"-"+Ue.id),this.hostAttr=function Y(Bt){return $.replace(V,Bt)}(ut+"-"+Ue.id)}applyToHost(Ve){super.setAttribute(Ve,this.hostAttr,"")}createElement(Ve,ye){const Ue=super.createElement(Ve,ye);return super.setAttribute(Ue,this.contentAttr,""),Ue}}class Ke extends K{constructor(Ve,ye,Ue,ut){super(Ve),this.sharedStylesHost=ye,this.hostEl=Ue,this.shadowRoot=Ue.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const gn=G(ut.id,ut.styles,[]);for(let Zt=0;Zt<gn.length;Zt++){const an=document.createElement("style");an.textContent=gn[Zt],this.shadowRoot.appendChild(an)}}nodeOrShadowRoot(Ve){return Ve===this.hostEl?this.shadowRoot:Ve}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Ve,ye){return super.appendChild(this.nodeOrShadowRoot(Ve),ye)}insertBefore(Ve,ye,Ue){return super.insertBefore(this.nodeOrShadowRoot(Ve),ye,Ue)}removeChild(Ve,ye){return super.removeChild(this.nodeOrShadowRoot(Ve),ye)}parentNode(Ve){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ve)))}}let be=(()=>{class Bt extends S{constructor(ye){super(ye)}supports(ye){return!0}addEventListener(ye,Ue,ut){return ye.addEventListener(Ue,ut,!1),()=>this.removeEventListener(ye,Ue,ut)}removeEventListener(ye,Ue,ut){return ye.removeEventListener(Ue,ut)}}return Bt.\u0275fac=function(ye){return new(ye||Bt)(a.LFG(e.K0))},Bt.\u0275prov=a.Yz7({token:Bt,factory:Bt.\u0275fac}),Bt})();const Qe=["alt","control","meta","shift"],X={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xe={alt:Bt=>Bt.altKey,control:Bt=>Bt.ctrlKey,meta:Bt=>Bt.metaKey,shift:Bt=>Bt.shiftKey};let we=(()=>{class Bt extends S{constructor(ye){super(ye)}supports(ye){return null!=Bt.parseEventName(ye)}addEventListener(ye,Ue,ut){const gn=Bt.parseEventName(Ue),Zt=Bt.eventCallback(gn.fullKey,ut,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,e.q)().onAndCancel(ye,gn.domEventName,Zt))}static parseEventName(ye){const Ue=ye.toLowerCase().split("."),ut=Ue.shift();if(0===Ue.length||"keydown"!==ut&&"keyup"!==ut)return null;const gn=Bt._normalizeKey(Ue.pop());let Zt="",an=Ue.indexOf("code");if(an>-1&&(Ue.splice(an,1),Zt="code."),Qe.forEach(zn=>{const qn=Ue.indexOf(zn);qn>-1&&(Ue.splice(qn,1),Zt+=zn+".")}),Zt+=gn,0!=Ue.length||0===gn.length)return null;const pn={};return pn.domEventName=ut,pn.fullKey=Zt,pn}static matchEventFullKeyCode(ye,Ue){let ut=X[ye.key]||ye.key,gn="";return Ue.indexOf("code.")>-1&&(ut=ye.code,gn="code."),!(null==ut||!ut)&&(ut=ut.toLowerCase()," "===ut?ut="space":"."===ut&&(ut="dot"),Qe.forEach(Zt=>{Zt!==ut&&(0,xe[Zt])(ye)&&(gn+=Zt+".")}),gn+=ut,gn===Ue)}static eventCallback(ye,Ue,ut){return gn=>{Bt.matchEventFullKeyCode(gn,ye)&&ut.runGuarded(()=>Ue(gn))}}static _normalizeKey(ye){return"esc"===ye?"escape":ye}}return Bt.\u0275fac=function(ye){return new(ye||Bt)(a.LFG(e.K0))},Bt.\u0275prov=a.Yz7({token:Bt,factory:Bt.\u0275fac}),Bt})();const ct=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:e.bD},{provide:a.g9A,useValue:function vt(){g.makeCurrent()},multi:!0},{provide:e.K0,useFactory:function Ht(){return(0,a.RDi)(document),document},deps:[]}]),at=new a.OlP(""),fe=[{provide:a.rWj,useClass:class N{addToWindow(Ve){a.dqk.getAngularTestability=(Ue,ut=!0)=>{const gn=Ve.findTestabilityInTree(Ue,ut);if(null==gn)throw new Error("Could not find testability for element.");return gn},a.dqk.getAllAngularTestabilities=()=>Ve.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>Ve.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(Ue=>{const ut=a.dqk.getAllAngularTestabilities();let gn=ut.length,Zt=!1;const an=function(pn){Zt=Zt||pn,gn--,0==gn&&Ue(Zt)};ut.forEach(function(pn){pn.whenStable(an)})})}findTestabilityInTree(Ve,ye,Ue){if(null==ye)return null;const ut=Ve.getTestability(ye);return null!=ut?ut:Ue?(0,e.q)().isShadowRoot(ye)?this.findTestabilityInTree(Ve,ye.host,!0):this.findTestabilityInTree(Ve,ye.parentElement,!0):null}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],ke=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Gt(){return new a.qLn},deps:[]},{provide:x,useClass:be,multi:!0,deps:[e.K0,a.R0b,a.Lbi]},{provide:x,useClass:we,multi:!0,deps:[e.K0]},{provide:Q,useClass:Q,deps:[D,F,a.AFp]},{provide:a.FYo,useExisting:Q},{provide:U,useExisting:F},{provide:F,useClass:F,deps:[e.K0]},{provide:D,useClass:D,deps:[x,a.R0b]},{provide:e.JF,useClass:w,deps:[]},[]];let ot=(()=>{class Bt{constructor(ye){}static withServerTransition(ye){return{ngModule:Bt,providers:[{provide:a.AFp,useValue:ye.appId},{provide:R,useExisting:a.AFp},J]}}}return Bt.\u0275fac=function(ye){return new(ye||Bt)(a.LFG(at,12))},Bt.\u0275mod=a.oAB({type:Bt}),Bt.\u0275inj=a.cJS({providers:[...ke,...fe],imports:[e.ez,a.hGG]}),Bt})(),Ye=(()=>{class Bt{constructor(ye){this._doc=ye}getTitle(){return this._doc.title}setTitle(ye){this._doc.title=ye||""}}return Bt.\u0275fac=function(ye){return new(ye||Bt)(a.LFG(e.K0))},Bt.\u0275prov=a.Yz7({token:Bt,factory:function(ye){let Ue=null;return Ue=ye?new ye:function Mt(){return new Ye((0,a.LFG)(e.K0))}(),Ue},providedIn:"root"}),Bt})();"undefined"!=typeof window&&window;let vi=(()=>{class Bt{}return Bt.\u0275fac=function(ye){return new(ye||Bt)},Bt.\u0275prov=a.Yz7({token:Bt,factory:function(ye){let Ue=null;return Ue=ye?new(ye||Bt):a.LFG(oo),Ue},providedIn:"root"}),Bt})(),oo=(()=>{class Bt extends vi{constructor(ye){super(),this._doc=ye}sanitize(ye,Ue){if(null==Ue)return null;switch(ye){case a.q3G.NONE:return Ue;case a.q3G.HTML:return(0,a.qzn)(Ue,"HTML")?(0,a.z3N)(Ue):(0,a.EiD)(this._doc,String(Ue)).toString();case a.q3G.STYLE:return(0,a.qzn)(Ue,"Style")?(0,a.z3N)(Ue):Ue;case a.q3G.SCRIPT:if((0,a.qzn)(Ue,"Script"))return(0,a.z3N)(Ue);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.qzn)(Ue,"URL")?(0,a.z3N)(Ue):(0,a.mCW)(String(Ue));case a.q3G.RESOURCE_URL:if((0,a.qzn)(Ue,"ResourceURL"))return(0,a.z3N)(Ue);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ye} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ye){return(0,a.JVY)(ye)}bypassSecurityTrustStyle(ye){return(0,a.L6k)(ye)}bypassSecurityTrustScript(ye){return(0,a.eBb)(ye)}bypassSecurityTrustUrl(ye){return(0,a.LAX)(ye)}bypassSecurityTrustResourceUrl(ye){return(0,a.pB0)(ye)}}return Bt.\u0275fac=function(ye){return new(ye||Bt)(a.LFG(e.K0))},Bt.\u0275prov=a.Yz7({token:Bt,factory:function(ye){let Ue=null;return Ue=ye?new ye:function Ni(Bt){return new oo(Bt.get(e.K0))}(a.LFG(a.zs3)),Ue},providedIn:"root"}),Bt})()},3470:(mn,ht,b)=>{"use strict";b.d(ht,{gz:()=>Bi,F0:()=>Lo,rH:()=>To,Od:()=>al,yS:()=>jr,Bz:()=>Ol,lC:()=>se,Xs:()=>Ns,lo:()=>Ne,fw:()=>zt});var e=b(5e3),a=b(2076),f=b(9646),g=b(1135),_=b(6805),P=b(9841),y=b(7272),l=b(9770),R=b(9635),L=b(2843),J=b(9751),N=b(515),w=b(727),x=b(4482),D=b(5403);function S(){return(0,x.e)((_e,ve)=>{let le=null;_e._refCount++;const Se=new D.Q(ve,void 0,void 0,void 0,()=>{if(!_e||_e._refCount<=0||0<--_e._refCount)return void(le=null);const $e=_e._connection,At=le;le=null,$e&&(!At||$e===At)&&$e.unsubscribe(),ve.unsubscribe()});_e.subscribe(Se),Se.closed||(le=_e.connect())})}class U extends J.y{constructor(ve,le){super(),this.source=ve,this.subjectFactory=le,this._subject=null,this._refCount=0,this._connection=null,(0,x.A)(ve)&&(this.lift=ve.lift)}_subscribe(ve){return this.getSubject().subscribe(ve)}getSubject(){const ve=this._subject;return(!ve||ve.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:ve}=this;this._subject=this._connection=null,null==ve||ve.unsubscribe()}connect(){let ve=this._connection;if(!ve){ve=this._connection=new w.w0;const le=this.getSubject();ve.add(this.source.subscribe(new D.Q(le,void 0,()=>{this._teardown(),le.complete()},Se=>{this._teardown(),le.error(Se)},()=>this._teardown()))),ve.closed&&(this._connection=null,ve=w.w0.EMPTY)}return ve}refCount(){return S()(this)}}var F=b(7579),ce=b(9808),te=b(4004),V=b(3900),k=b(5698),O=b(8675),$=b(9300),ue=b(5577),q=b(590),Y=b(4351),G=b(8505),he=b(262);function j(_e,ve,le,Se,$e){return(At,Xt)=>{let sn=le,An=ve,ni=0;At.subscribe(new D.Q(Xt,yi=>{const di=ni++;An=sn?_e(An,yi,di):(sn=!0,yi),Se&&Xt.next(An)},$e&&(()=>{sn&&Xt.next(An),Xt.complete()})))}}function Q(_e,ve){return(0,x.e)(j(_e,ve,arguments.length>=2,!0))}var K=b(2035),z=b(8068),oe=b(6590),Te=b(4671);function Ae(_e,ve){const le=arguments.length>=2;return Se=>Se.pipe(_e?(0,$.h)(($e,At)=>_e($e,At,Se)):Te.y,(0,K.h)(1),le?(0,oe.d)(ve):(0,z.T)(()=>new _.K))}var Ke=b(2529),be=b(9718),Qe=b(8746),X=b(8189),xe=b(2313);const we="primary",Oe=Symbol("RouteTitle");class dt{constructor(ve){this.params=ve||{}}has(ve){return Object.prototype.hasOwnProperty.call(this.params,ve)}get(ve){if(this.has(ve)){const le=this.params[ve];return Array.isArray(le)?le[0]:le}return null}getAll(ve){if(this.has(ve)){const le=this.params[ve];return Array.isArray(le)?le:[le]}return[]}get keys(){return Object.keys(this.params)}}function bt(_e){return new dt(_e)}function it(_e,ve,le){const Se=le.path.split("/");if(Se.length>_e.length||"full"===le.pathMatch&&(ve.hasChildren()||Se.length<_e.length))return null;const $e={};for(let At=0;At<Se.length;At++){const Xt=Se[At],sn=_e[At];if(Xt.startsWith(":"))$e[Xt.substring(1)]=sn;else if(Xt!==sn.path)return null}return{consumed:_e.slice(0,Se.length),posParams:$e}}function vt(_e,ve){const le=_e?Object.keys(_e):void 0,Se=ve?Object.keys(ve):void 0;if(!le||!Se||le.length!=Se.length)return!1;let $e;for(let At=0;At<le.length;At++)if($e=le[At],!Gt(_e[$e],ve[$e]))return!1;return!0}function Gt(_e,ve){if(Array.isArray(_e)&&Array.isArray(ve)){if(_e.length!==ve.length)return!1;const le=[..._e].sort(),Se=[...ve].sort();return le.every(($e,At)=>Se[At]===$e)}return _e===ve}function Ht(_e){return Array.prototype.concat.apply([],_e)}function Ut(_e){return _e.length>0?_e[_e.length-1]:null}function at(_e,ve){for(const le in _e)_e.hasOwnProperty(le)&&ve(_e[le],le)}function fe(_e){return(0,e.CqO)(_e)?_e:(0,e.QGY)(_e)?(0,a.D)(Promise.resolve(_e)):(0,f.of)(_e)}const Ct={exact:function Ye(_e,ve,le){if(!In(_e.segments,ve.segments)||!ne(_e.segments,ve.segments,le)||_e.numberOfChildren!==ve.numberOfChildren)return!1;for(const Se in ve.children)if(!_e.children[Se]||!Ye(_e.children[Se],ve.children[Se],le))return!1;return!0},subset:je},Ot={exact:function Mt(_e,ve){return vt(_e,ve)},subset:function st(_e,ve){return Object.keys(ve).length<=Object.keys(_e).length&&Object.keys(ve).every(le=>Gt(_e[le],ve[le]))},ignored:()=>!0};function Nt(_e,ve,le){return Ct[le.paths](_e.root,ve.root,le.matrixParams)&&Ot[le.queryParams](_e.queryParams,ve.queryParams)&&!("exact"===le.fragment&&_e.fragment!==ve.fragment)}function je(_e,ve,le){return It(_e,ve,ve.segments,le)}function It(_e,ve,le,Se){if(_e.segments.length>le.length){const $e=_e.segments.slice(0,le.length);return!(!In($e,le)||ve.hasChildren()||!ne($e,le,Se))}if(_e.segments.length===le.length){if(!In(_e.segments,le)||!ne(_e.segments,le,Se))return!1;for(const $e in ve.children)if(!_e.children[$e]||!je(_e.children[$e],ve.children[$e],Se))return!1;return!0}{const $e=le.slice(0,_e.segments.length),At=le.slice(_e.segments.length);return!!(In(_e.segments,$e)&&ne(_e.segments,$e,Se)&&_e.children[we])&&It(_e.children[we],ve,At,Se)}}function ne(_e,ve,le){return ve.every((Se,$e)=>Ot[le](_e[$e].parameters,Se.parameters))}class Ne{constructor(ve,le,Se){this.root=ve,this.queryParams=le,this.fragment=Se}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bt(this.queryParams)),this._queryParamMap}toString(){return de.serialize(this)}}class me{constructor(ve,le){this.segments=ve,this.children=le,this.parent=null,at(le,(Se,$e)=>Se.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Je(this)}}class gt{constructor(ve,le){this.path=ve,this.parameters=le}get parameterMap(){return this._parameterMap||(this._parameterMap=bt(this.parameters)),this._parameterMap}toString(){return Rt(this)}}function In(_e,ve){return _e.length===ve.length&&_e.every((le,Se)=>le.path===ve[Se].path)}let _t=(()=>{class _e{}return _e.\u0275fac=function(le){return new(le||_e)},_e.\u0275prov=e.Yz7({token:_e,factory:function(){return new et},providedIn:"root"}),_e})();class et{parse(ve){const le=new Bt(ve);return new Ne(le.parseRootSegment(),le.parseQueryParams(),le.parseFragment())}serialize(ve){const le=`/${ze(ve.root,!0)}`,Se=function Fn(_e){const ve=Object.keys(_e).map(le=>{const Se=_e[le];return Array.isArray(Se)?Se.map($e=>`${Fe(le)}=${Fe($e)}`).join("&"):`${Fe(le)}=${Fe(Se)}`}).filter(le=>!!le);return ve.length?`?${ve.join("&")}`:""}(ve.queryParams);return`${le}${Se}${"string"==typeof ve.fragment?`#${function qt(_e){return encodeURI(_e)}(ve.fragment)}`:""}`}}const de=new et;function Je(_e){return _e.segments.map(ve=>Rt(ve)).join("/")}function ze(_e,ve){if(!_e.hasChildren())return Je(_e);if(ve){const le=_e.children[we]?ze(_e.children[we],!1):"",Se=[];return at(_e.children,($e,At)=>{At!==we&&Se.push(`${At}:${ze($e,!1)}`)}),Se.length>0?`${le}(${Se.join("//")})`:le}{const le=function en(_e,ve){let le=[];return at(_e.children,(Se,$e)=>{$e===we&&(le=le.concat(ve(Se,$e)))}),at(_e.children,(Se,$e)=>{$e!==we&&(le=le.concat(ve(Se,$e)))}),le}(_e,(Se,$e)=>$e===we?[ze(_e.children[we],!1)]:[`${$e}:${ze(Se,!1)}`]);return 1===Object.keys(_e.children).length&&null!=_e.children[we]?`${Je(_e)}/${le[0]}`:`${Je(_e)}/(${le.join("//")})`}}function wt(_e){return encodeURIComponent(_e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fe(_e){return wt(_e).replace(/%3B/gi,";")}function fn(_e){return wt(_e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jt(_e){return decodeURIComponent(_e)}function Dn(_e){return Jt(_e.replace(/\+/g,"%20"))}function Rt(_e){return`${fn(_e.path)}${function rn(_e){return Object.keys(_e).map(ve=>`;${fn(ve)}=${fn(_e[ve])}`).join("")}(_e.parameters)}`}const Un=/^[^\/()?;=#]+/;function ri(_e){const ve=_e.match(Un);return ve?ve[0]:""}const vi=/^[^=?&#]+/,oo=/^[^&#]+/;class Bt{constructor(ve){this.url=ve,this.remaining=ve}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){const ve={};if(this.consumeOptional("?"))do{this.parseQueryParam(ve)}while(this.consumeOptional("&"));return ve}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const ve=[];for(this.peekStartsWith("(")||ve.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),ve.push(this.parseSegment());let le={};this.peekStartsWith("/(")&&(this.capture("/"),le=this.parseParens(!0));let Se={};return this.peekStartsWith("(")&&(Se=this.parseParens(!1)),(ve.length>0||Object.keys(le).length>0)&&(Se[we]=new me(ve,le)),Se}parseSegment(){const ve=ri(this.remaining);if(""===ve&&this.peekStartsWith(";"))throw new e.vHH(4009,!1);return this.capture(ve),new gt(Jt(ve),this.parseMatrixParams())}parseMatrixParams(){const ve={};for(;this.consumeOptional(";");)this.parseParam(ve);return ve}parseParam(ve){const le=ri(this.remaining);if(!le)return;this.capture(le);let Se="";if(this.consumeOptional("=")){const $e=ri(this.remaining);$e&&(Se=$e,this.capture(Se))}ve[Jt(le)]=Jt(Se)}parseQueryParam(ve){const le=function Ni(_e){const ve=_e.match(vi);return ve?ve[0]:""}(this.remaining);if(!le)return;this.capture(le);let Se="";if(this.consumeOptional("=")){const Xt=function Uo(_e){const ve=_e.match(oo);return ve?ve[0]:""}(this.remaining);Xt&&(Se=Xt,this.capture(Se))}const $e=Dn(le),At=Dn(Se);if(ve.hasOwnProperty($e)){let Xt=ve[$e];Array.isArray(Xt)||(Xt=[Xt],ve[$e]=Xt),Xt.push(At)}else ve[$e]=At}parseParens(ve){const le={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Se=ri(this.remaining),$e=this.remaining[Se.length];if("/"!==$e&&")"!==$e&&";"!==$e)throw new e.vHH(4010,!1);let At;Se.indexOf(":")>-1?(At=Se.slice(0,Se.indexOf(":")),this.capture(At),this.capture(":")):ve&&(At=we);const Xt=this.parseChildren();le[At]=1===Object.keys(Xt).length?Xt[we]:new me([],Xt),this.consumeOptional("//")}return le}peekStartsWith(ve){return this.remaining.startsWith(ve)}consumeOptional(ve){return!!this.peekStartsWith(ve)&&(this.remaining=this.remaining.substring(ve.length),!0)}capture(ve){if(!this.consumeOptional(ve))throw new e.vHH(4011,!1)}}function Ve(_e){return _e.segments.length>0?new me([],{[we]:_e}):_e}function ye(_e){const ve={};for(const Se of Object.keys(_e.children)){const At=ye(_e.children[Se]);(At.segments.length>0||At.hasChildren())&&(ve[Se]=At)}return function Ue(_e){if(1===_e.numberOfChildren&&_e.children[we]){const ve=_e.children[we];return new me(_e.segments.concat(ve.segments),ve.children)}return _e}(new me(_e.segments,ve))}function ut(_e){return _e instanceof Ne}function zn(_e,ve,le,Se,$e){var At;if(0===le.length)return pi(ve.root,ve.root,ve.root,Se,$e);const sn=function $i(_e){if("string"==typeof _e[0]&&1===_e.length&&"/"===_e[0])return new ki(!0,0,_e);let ve=0,le=!1;const Se=_e.reduce(($e,At,Xt)=>{if("object"==typeof At&&null!=At){if(At.outlets){const sn={};return at(At.outlets,(An,ni)=>{sn[ni]="string"==typeof An?An.split("/"):An}),[...$e,{outlets:sn}]}if(At.segmentPath)return[...$e,At.segmentPath]}return"string"!=typeof At?[...$e,At]:0===Xt?(At.split("/").forEach((sn,An)=>{0==An&&"."===sn||(0==An&&""===sn?le=!0:".."===sn?ve++:""!=sn&&$e.push(sn))}),$e):[...$e,At]},[]);return new ki(le,ve,Se)}(le);return sn.toRoot()?pi(ve.root,ve.root,new me([],{}),Se,$e):function An(yi){var di;const Ki=function vo(_e,ve,le,Se){if(_e.isAbsolute)return new Do(ve.root,!0,0);if(-1===Se)return new Do(le,le===ve.root,0);return function Ko(_e,ve,le){let Se=_e,$e=ve,At=le;for(;At>$e;){if(At-=$e,Se=Se.parent,!Se)throw new e.vHH(4005,!1);$e=Se.segments.length}return new Do(Se,!1,$e-At)}(le,Se+(qn(_e.commands[0])?0:1),_e.numberOfDoubleDots)}(sn,ve,null===(di=_e.snapshot)||void 0===di?void 0:di._urlSegment,yi),ao=Ki.processChildren?Xi(Ki.segmentGroup,Ki.index,sn.commands):Ao(Ki.segmentGroup,Ki.index,sn.commands);return pi(ve.root,Ki.segmentGroup,ao,Se,$e)}(null===(At=_e.snapshot)||void 0===At?void 0:At._lastPathIndex)}function qn(_e){return"object"==typeof _e&&null!=_e&&!_e.outlets&&!_e.segmentPath}function ai(_e){return"object"==typeof _e&&null!=_e&&_e.outlets}function pi(_e,ve,le,Se,$e){let Xt,At={};Se&&at(Se,(An,ni)=>{At[ni]=Array.isArray(An)?An.map(yi=>`${yi}`):`${An}`}),Xt=_e===ve?le:oi(_e,ve,le);const sn=Ve(ye(Xt));return new Ne(sn,At,$e)}function oi(_e,ve,le){const Se={};return at(_e.children,($e,At)=>{Se[At]=$e===ve?le:oi($e,ve,le)}),new me(_e.segments,Se)}class ki{constructor(ve,le,Se){if(this.isAbsolute=ve,this.numberOfDoubleDots=le,this.commands=Se,ve&&Se.length>0&&qn(Se[0]))throw new e.vHH(4003,!1);const $e=Se.find(ai);if($e&&$e!==Ut(Se))throw new e.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Do{constructor(ve,le,Se){this.segmentGroup=ve,this.processChildren=le,this.index=Se}}function Ao(_e,ve,le){if(_e||(_e=new me([],{})),0===_e.segments.length&&_e.hasChildren())return Xi(_e,ve,le);const Se=function Xo(_e,ve,le){let Se=0,$e=ve;const At={match:!1,pathIndex:0,commandIndex:0};for(;$e<_e.segments.length;){if(Se>=le.length)return At;const Xt=_e.segments[$e],sn=le[Se];if(ai(sn))break;const An=`${sn}`,ni=Se<le.length-1?le[Se+1]:null;if($e>0&&void 0===An)break;if(An&&ni&&"object"==typeof ni&&void 0===ni.outlets){if(!so(An,ni,Xt))return At;Se+=2}else{if(!so(An,{},Xt))return At;Se++}$e++}return{match:!0,pathIndex:$e,commandIndex:Se}}(_e,ve,le),$e=le.slice(Se.commandIndex);if(Se.match&&Se.pathIndex<_e.segments.length){const At=new me(_e.segments.slice(0,Se.pathIndex),{});return At.children[we]=new me(_e.segments.slice(Se.pathIndex),_e.children),Xi(At,0,$e)}return Se.match&&0===$e.length?new me(_e.segments,{}):Se.match&&!_e.hasChildren()?as(_e,ve,le):Se.match?Xi(_e,0,$e):as(_e,ve,le)}function Xi(_e,ve,le){if(0===le.length)return new me(_e.segments,{});{const Se=function Go(_e){return ai(_e[0])?_e[0].outlets:{[we]:_e}}(le),$e={};return at(Se,(At,Xt)=>{"string"==typeof At&&(At=[At]),null!==At&&($e[Xt]=Ao(_e.children[Xt],ve,At))}),at(_e.children,(At,Xt)=>{void 0===Se[Xt]&&($e[Xt]=At)}),new me(_e.segments,$e)}}function as(_e,ve,le){const Se=_e.segments.slice(0,ve);let $e=0;for(;$e<le.length;){const At=le[$e];if(ai(At)){const An=os(At.outlets);return new me(Se,An)}if(0===$e&&qn(le[0])){Se.push(new gt(_e.segments[ve].path,ho(le[0]))),$e++;continue}const Xt=ai(At)?At.outlets[we]:`${At}`,sn=$e<le.length-1?le[$e+1]:null;Xt&&sn&&qn(sn)?(Se.push(new gt(Xt,ho(sn))),$e+=2):(Se.push(new gt(Xt,{})),$e++)}return new me(Se,{})}function os(_e){const ve={};return at(_e,(le,Se)=>{"string"==typeof le&&(le=[le]),null!==le&&(ve[Se]=as(new me([],{}),0,le))}),ve}function ho(_e){const ve={};return at(_e,(le,Se)=>ve[Se]=`${le}`),ve}function so(_e,ve,le){return _e==le.path&&vt(ve,le.parameters)}class Fi{constructor(ve,le){this.id=ve,this.url=le}}class Mo extends Fi{constructor(ve,le,Se="imperative",$e=null){super(ve,le),this.type=0,this.navigationTrigger=Se,this.restoredState=$e}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class es extends Fi{constructor(ve,le,Se){super(ve,le),this.urlAfterRedirects=Se,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bo extends Fi{constructor(ve,le,Se,$e){super(ve,le),this.reason=Se,this.code=$e,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qo extends Fi{constructor(ve,le,Se,$e){super(ve,le),this.error=Se,this.target=$e,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ls extends Fi{constructor(ve,le,Se,$e){super(ve,le),this.urlAfterRedirects=Se,this.state=$e,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Is extends Fi{constructor(ve,le,Se,$e){super(ve,le),this.urlAfterRedirects=Se,this.state=$e,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rs extends Fi{constructor(ve,le,Se,$e,At){super(ve,le),this.urlAfterRedirects=Se,this.state=$e,this.shouldActivate=At,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hs extends Fi{constructor(ve,le,Se,$e){super(ve,le),this.urlAfterRedirects=Se,this.state=$e,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Er extends Fi{constructor(ve,le,Se,$e){super(ve,le),this.urlAfterRedirects=Se,this.state=$e,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ga{constructor(ve){this.route=ve,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Cr{constructor(ve){this.route=ve,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Sr{constructor(ve){this.snapshot=ve,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ea{constructor(ve){this.snapshot=ve,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gs{constructor(ve){this.snapshot=ve,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class la{constructor(ve){this.snapshot=ve,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ns{constructor(ve,le,Se){this.routerEvent=ve,this.position=le,this.anchor=Se,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class $s{constructor(ve){this._root=ve}get root(){return this._root.value}parent(ve){const le=this.pathFromRoot(ve);return le.length>1?le[le.length-2]:null}children(ve){const le=qi(ve,this._root);return le?le.children.map(Se=>Se.value):[]}firstChild(ve){const le=qi(ve,this._root);return le&&le.children.length>0?le.children[0].value:null}siblings(ve){const le=hi(ve,this._root);return le.length<2?[]:le[le.length-2].children.map($e=>$e.value).filter($e=>$e!==ve)}pathFromRoot(ve){return hi(ve,this._root).map(le=>le.value)}}function qi(_e,ve){if(_e===ve.value)return ve;for(const le of ve.children){const Se=qi(_e,le);if(Se)return Se}return null}function hi(_e,ve){if(_e===ve.value)return[ve];for(const le of ve.children){const Se=hi(_e,le);if(Se.length)return Se.unshift(ve),Se}return[]}class Ii{constructor(ve,le){this.value=ve,this.children=le}toString(){return`TreeNode(${this.value})`}}function Ws(_e){const ve={};return _e&&_e.children.forEach(le=>ve[le.value.outlet]=le),ve}class vr extends $s{constructor(ve,le){super(ve),this.snapshot=le,Bs(this,ve)}toString(){return this.snapshot.toString()}}function ss(_e,ve){const le=function kr(_e,ve){const Xt=new Fs([],{},{},"",{},we,ve,null,_e.root,-1,{});return new Xs("",new Ii(Xt,[]))}(_e,ve),Se=new g.X([new gt("",{})]),$e=new g.X({}),At=new g.X({}),Xt=new g.X({}),sn=new g.X(""),An=new Bi(Se,$e,Xt,sn,At,we,ve,le.root);return An.snapshot=le.root,new vr(new Ii(An,[]),le)}class Bi{constructor(ve,le,Se,$e,At,Xt,sn,An){var ni,yi;this.url=ve,this.params=le,this.queryParams=Se,this.fragment=$e,this.data=At,this.outlet=Xt,this.component=sn,this.title=null!==(yi=null===(ni=this.data)||void 0===ni?void 0:ni.pipe((0,te.U)(di=>di[Oe])))&&void 0!==yi?yi:(0,f.of)(void 0),this._futureSnapshot=An}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,te.U)(ve=>bt(ve)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,te.U)(ve=>bt(ve)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ys(_e,ve="emptyOnly"){const le=_e.pathFromRoot;let Se=0;if("always"!==ve)for(Se=le.length-1;Se>=1;){const $e=le[Se],At=le[Se-1];if($e.routeConfig&&""===$e.routeConfig.path)Se--;else{if(At.component)break;Se--}}return function Ts(_e){return _e.reduce((ve,le)=>{var Se;return{params:Object.assign(Object.assign({},ve.params),le.params),data:Object.assign(Object.assign({},ve.data),le.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},le.data),ve.resolve),null===(Se=le.routeConfig)||void 0===Se?void 0:Se.data),le._resolvedData)}},{params:{},data:{},resolve:{}})}(le.slice(Se))}class Fs{constructor(ve,le,Se,$e,At,Xt,sn,An,ni,yi,di,Ki){var ao;this.url=ve,this.params=le,this.queryParams=Se,this.fragment=$e,this.data=At,this.outlet=Xt,this.component=sn,this.title=null===(ao=this.data)||void 0===ao?void 0:ao[Oe],this.routeConfig=An,this._urlSegment=ni,this._lastPathIndex=yi,this._correctedLastPathIndex=null!=Ki?Ki:yi,this._resolve=di}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Se=>Se.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xs extends $s{constructor(ve,le){super(le),this.url=ve,Bs(this,le)}toString(){return fo(this._root)}}function Bs(_e,ve){ve.value._routerState=_e,ve.children.forEach(le=>Bs(_e,le))}function fo(_e){const ve=_e.children.length>0?` { ${_e.children.map(fo).join(", ")} } `:"";return`${_e.value}${ve}`}function As(_e){if(_e.snapshot){const ve=_e.snapshot,le=_e._futureSnapshot;_e.snapshot=le,vt(ve.queryParams,le.queryParams)||_e.queryParams.next(le.queryParams),ve.fragment!==le.fragment&&_e.fragment.next(le.fragment),vt(ve.params,le.params)||_e.params.next(le.params),function Dt(_e,ve){if(_e.length!==ve.length)return!1;for(let le=0;le<_e.length;++le)if(!vt(_e[le],ve[le]))return!1;return!0}(ve.url,le.url)||_e.url.next(le.url),vt(ve.data,le.data)||_e.data.next(le.data)}else _e.snapshot=_e._futureSnapshot,_e.data.next(_e._futureSnapshot.data)}function ls(_e,ve){const le=vt(_e.params,ve.params)&&function un(_e,ve){return In(_e,ve)&&_e.every((le,Se)=>vt(le.parameters,ve[Se].parameters))}(_e.url,ve.url);return le&&!(!_e.parent!=!ve.parent)&&(!_e.parent||ls(_e.parent,ve.parent))}function ms(_e,ve,le){if(le&&_e.shouldReuseRoute(ve.value,le.value.snapshot)){const Se=le.value;Se._futureSnapshot=ve.value;const $e=function ws(_e,ve,le){return ve.children.map(Se=>{for(const $e of le.children)if(_e.shouldReuseRoute(Se.value,$e.value.snapshot))return ms(_e,Se,$e);return ms(_e,Se)})}(_e,ve,le);return new Ii(Se,$e)}{if(_e.shouldAttach(ve.value)){const At=_e.retrieve(ve.value);if(null!==At){const Xt=At.route;return Xt.value._futureSnapshot=ve.value,Xt.children=ve.children.map(sn=>ms(_e,sn)),Xt}}const Se=function br(_e){return new Bi(new g.X(_e.url),new g.X(_e.params),new g.X(_e.queryParams),new g.X(_e.fragment),new g.X(_e.data),_e.outlet,_e.component,_e)}(ve.value),$e=ve.children.map(At=>ms(_e,At));return new Ii(Se,$e)}}const Dr="ngNavigationCancelingError";function Mr(_e,ve){const{redirectTo:le,navigationBehaviorOptions:Se}=ut(ve)?{redirectTo:ve,navigationBehaviorOptions:void 0}:ve,$e=ir(!1,0,ve);return $e.url=le,$e.navigationBehaviorOptions=Se,$e}function ir(_e,ve,le){const Se=new Error("NavigationCancelingError: "+(_e||""));return Se[Dr]=!0,Se.cancellationCode=ve,le&&(Se.url=le),Se}function vs(_e){return ts(_e)&&ut(_e.url)}function ts(_e){return _e&&_e[Dr]}class yr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new St,this.attachRef=null}}let St=(()=>{class _e{constructor(){this.contexts=new Map}onChildOutletCreated(le,Se){const $e=this.getOrCreateContext(le);$e.outlet=Se,this.contexts.set(le,$e)}onChildOutletDestroyed(le){const Se=this.getContext(le);Se&&(Se.outlet=null,Se.attachRef=null)}onOutletDeactivated(){const le=this.contexts;return this.contexts=new Map,le}onOutletReAttached(le){this.contexts=le}getOrCreateContext(le){let Se=this.getContext(le);return Se||(Se=new yr,this.contexts.set(le,Se)),Se}getContext(le){return this.contexts.get(le)||null}}return _e.\u0275fac=function(le){return new(le||_e)},_e.\u0275prov=e.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();const hn=!1;let se=(()=>{class _e{constructor(le,Se,$e,At,Xt){this.parentContexts=le,this.location=Se,this.changeDetector=At,this.environmentInjector=Xt,this.activated=null,this._activatedRoute=null,this.activateEvents=new e.vpe,this.deactivateEvents=new e.vpe,this.attachEvents=new e.vpe,this.detachEvents=new e.vpe,this.name=$e||we,le.onChildOutletCreated(this.name,this)}ngOnDestroy(){var le;(null===(le=this.parentContexts.getContext(this.name))||void 0===le?void 0:le.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const le=this.parentContexts.getContext(this.name);le&&le.route&&(le.attachRef?this.attach(le.attachRef,le.route):this.activateWith(le.route,le.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.vHH(4012,hn);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.vHH(4012,hn);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.vHH(4012,hn);this.location.detach();const le=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(le.instance),le}attach(le,Se){this.activated=le,this._activatedRoute=Se,this.location.insert(le.hostView),this.attachEvents.emit(le.instance)}deactivate(){if(this.activated){const le=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(le)}}activateWith(le,Se){if(this.isActivated)throw new e.vHH(4013,hn);this._activatedRoute=le;const $e=this.location,Xt=le._futureSnapshot.component,sn=this.parentContexts.getOrCreateContext(this.name).children,An=new Ge(le,sn,$e.injector);if(Se&&function xt(_e){return!!_e.resolveComponentFactory}(Se)){const ni=Se.resolveComponentFactory(Xt);this.activated=$e.createComponent(ni,$e.length,An)}else this.activated=$e.createComponent(Xt,{index:$e.length,injector:An,environmentInjector:null!=Se?Se:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return _e.\u0275fac=function(le){return new(le||_e)(e.Y36(St),e.Y36(e.s_b),e.$8M("name"),e.Y36(e.sBO),e.Y36(e.lqb))},_e.\u0275dir=e.lG2({type:_e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),_e})();class Ge{constructor(ve,le,Se){this.route=ve,this.childContexts=le,this.parent=Se}get(ve,le){return ve===Bi?this.route:ve===St?this.childContexts:this.parent.get(ve,le)}}let zt=(()=>{class _e{}return _e.\u0275fac=function(le){return new(le||_e)},_e.\u0275cmp=e.Xpm({type:_e,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(le,Se){1&le&&e._UZ(0,"router-outlet")},dependencies:[se],encapsulation:2}),_e})();function Nn(_e,ve){var le;return _e.providers&&!_e._injector&&(_e._injector=(0,e.MMx)(_e.providers,ve,`Route: ${_e.path}`)),null!==(le=_e._injector)&&void 0!==le?le:ve}function Qr(_e){const ve=_e.children&&_e.children.map(Qr),le=ve?Object.assign(Object.assign({},_e),{children:ve}):Object.assign({},_e);return!le.component&&!le.loadComponent&&(ve||le.loadChildren)&&le.outlet&&le.outlet!==we&&(le.component=zt),le}function Io(_e){return _e.outlet||we}function So(_e,ve){const le=_e.filter(Se=>Io(Se)===ve);return le.push(..._e.filter(Se=>Io(Se)!==ve)),le}function Es(_e){var ve;if(!_e)return null;if(null!==(ve=_e.routeConfig)&&void 0!==ve&&ve._injector)return _e.routeConfig._injector;for(let le=_e.parent;le;le=le.parent){const Se=le.routeConfig;if(null!=Se&&Se._loadedInjector)return Se._loadedInjector;if(null!=Se&&Se._injector)return Se._injector}return null}class $o{constructor(ve,le,Se,$e){this.routeReuseStrategy=ve,this.futureState=le,this.currState=Se,this.forwardEvent=$e}activate(ve){const le=this.futureState._root,Se=this.currState?this.currState._root:null;this.deactivateChildRoutes(le,Se,ve),As(this.futureState.root),this.activateChildRoutes(le,Se,ve)}deactivateChildRoutes(ve,le,Se){const $e=Ws(le);ve.children.forEach(At=>{const Xt=At.value.outlet;this.deactivateRoutes(At,$e[Xt],Se),delete $e[Xt]}),at($e,(At,Xt)=>{this.deactivateRouteAndItsChildren(At,Se)})}deactivateRoutes(ve,le,Se){const $e=ve.value,At=le?le.value:null;if($e===At)if($e.component){const Xt=Se.getContext($e.outlet);Xt&&this.deactivateChildRoutes(ve,le,Xt.children)}else this.deactivateChildRoutes(ve,le,Se);else At&&this.deactivateRouteAndItsChildren(le,Se)}deactivateRouteAndItsChildren(ve,le){ve.value.component&&this.routeReuseStrategy.shouldDetach(ve.value.snapshot)?this.detachAndStoreRouteSubtree(ve,le):this.deactivateRouteAndOutlet(ve,le)}detachAndStoreRouteSubtree(ve,le){const Se=le.getContext(ve.value.outlet),$e=Se&&ve.value.component?Se.children:le,At=Ws(ve);for(const Xt of Object.keys(At))this.deactivateRouteAndItsChildren(At[Xt],$e);if(Se&&Se.outlet){const Xt=Se.outlet.detach(),sn=Se.children.onOutletDeactivated();this.routeReuseStrategy.store(ve.value.snapshot,{componentRef:Xt,route:ve,contexts:sn})}}deactivateRouteAndOutlet(ve,le){const Se=le.getContext(ve.value.outlet),$e=Se&&ve.value.component?Se.children:le,At=Ws(ve);for(const Xt of Object.keys(At))this.deactivateRouteAndItsChildren(At[Xt],$e);Se&&Se.outlet&&(Se.outlet.deactivate(),Se.children.onOutletDeactivated(),Se.attachRef=null,Se.resolver=null,Se.route=null)}activateChildRoutes(ve,le,Se){const $e=Ws(le);ve.children.forEach(At=>{this.activateRoutes(At,$e[At.value.outlet],Se),this.forwardEvent(new la(At.value.snapshot))}),ve.children.length&&this.forwardEvent(new Ea(ve.value.snapshot))}activateRoutes(ve,le,Se){var $e;const At=ve.value,Xt=le?le.value:null;if(As(At),At===Xt)if(At.component){const sn=Se.getOrCreateContext(At.outlet);this.activateChildRoutes(ve,le,sn.children)}else this.activateChildRoutes(ve,le,Se);else if(At.component){const sn=Se.getOrCreateContext(At.outlet);if(this.routeReuseStrategy.shouldAttach(At.snapshot)){const An=this.routeReuseStrategy.retrieve(At.snapshot);this.routeReuseStrategy.store(At.snapshot,null),sn.children.onOutletReAttached(An.contexts),sn.attachRef=An.componentRef,sn.route=An.route.value,sn.outlet&&sn.outlet.attach(An.componentRef,An.route.value),As(An.route.value),this.activateChildRoutes(ve,null,sn.children)}else{const An=Es(At.snapshot),ni=null!==($e=null==An?void 0:An.get(e._Vd))&&void 0!==$e?$e:null;sn.attachRef=null,sn.route=At,sn.resolver=ni,sn.injector=An,sn.outlet&&sn.outlet.activateWith(At,sn.injector),this.activateChildRoutes(ve,null,sn.children)}}else this.activateChildRoutes(ve,null,Se)}}class Wo{constructor(ve){this.path=ve,this.route=this.path[this.path.length-1]}}class or{constructor(ve,le){this.component=ve,this.route=le}}function Ho(_e,ve,le){const Se=_e._root;return sr(Se,ve?ve._root:null,le,[Se.value])}function Ri(_e,ve){const le=Symbol(),Se=ve.get(_e,le);return Se===le?"function"!=typeof _e||(0,e.Z0I)(_e)?ve.get(_e):_e:Se}function sr(_e,ve,le,Se,$e={canDeactivateChecks:[],canActivateChecks:[]}){const At=Ws(ve);return _e.children.forEach(Xt=>{(function ma(_e,ve,le,Se,$e={canDeactivateChecks:[],canActivateChecks:[]}){const At=_e.value,Xt=ve?ve.value:null,sn=le?le.getContext(_e.value.outlet):null;if(Xt&&At.routeConfig===Xt.routeConfig){const An=function Qn(_e,ve,le){if("function"==typeof le)return le(_e,ve);switch(le){case"pathParamsChange":return!In(_e.url,ve.url);case"pathParamsOrQueryParamsChange":return!In(_e.url,ve.url)||!vt(_e.queryParams,ve.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ls(_e,ve)||!vt(_e.queryParams,ve.queryParams);default:return!ls(_e,ve)}}(Xt,At,At.routeConfig.runGuardsAndResolvers);An?$e.canActivateChecks.push(new Wo(Se)):(At.data=Xt.data,At._resolvedData=Xt._resolvedData),sr(_e,ve,At.component?sn?sn.children:null:le,Se,$e),An&&sn&&sn.outlet&&sn.outlet.isActivated&&$e.canDeactivateChecks.push(new or(sn.outlet.component,Xt))}else Xt&&Mi(ve,sn,$e),$e.canActivateChecks.push(new Wo(Se)),sr(_e,null,At.component?sn?sn.children:null:le,Se,$e)})(Xt,At[Xt.value.outlet],le,Se.concat([Xt.value]),$e),delete At[Xt.value.outlet]}),at(At,(Xt,sn)=>Mi(Xt,le.getContext(sn),$e)),$e}function Mi(_e,ve,le){const Se=Ws(_e),$e=_e.value;at(Se,(At,Xt)=>{Mi(At,$e.component?ve?ve.children.getContext(Xt):null:ve,le)}),le.canDeactivateChecks.push(new or($e.component&&ve&&ve.outlet&&ve.outlet.isActivated?ve.outlet.component:null,$e))}function rr(_e){return"function"==typeof _e}function Wr(_e){return _e instanceof _.K||"EmptyError"===(null==_e?void 0:_e.name)}const nt=Symbol("INITIAL_VALUE");function Be(){return(0,V.w)(_e=>(0,P.a)(_e.map(ve=>ve.pipe((0,k.q)(1),(0,O.O)(nt)))).pipe((0,te.U)(ve=>{for(const le of ve)if(!0!==le){if(le===nt)return nt;if(!1===le||le instanceof Ne)return le}return!0}),(0,$.h)(ve=>ve!==nt),(0,k.q)(1)))}function lr(_e){return(0,R.z)((0,G.b)(ve=>{if(ut(ve))throw Mr(0,ve)}),(0,te.U)(ve=>!0===ve))}const Ir={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Or(_e,ve,le,Se,$e){const At=er(_e,ve,le);return At.matched?function xr(_e,ve,le,Se){const $e=ve.canMatch;if(!$e||0===$e.length)return(0,f.of)(!0);const At=$e.map(Xt=>{const sn=Ri(Xt,_e);return fe(function ca(_e){return _e&&rr(_e.canMatch)}(sn)?sn.canMatch(ve,le):_e.runInContext(()=>sn(ve,le)))});return(0,f.of)(At).pipe(Be(),lr())}(Se=Nn(ve,Se),ve,le).pipe((0,te.U)(Xt=>!0===Xt?At:Object.assign({},Ir))):(0,f.of)(At)}function er(_e,ve,le){var Se;if(""===ve.path)return"full"===ve.pathMatch&&(_e.hasChildren()||le.length>0)?Object.assign({},Ir):{matched:!0,consumedSegments:[],remainingSegments:le,parameters:{},positionalParamSegments:{}};const At=(ve.matcher||it)(le,_e,ve);if(!At)return Object.assign({},Ir);const Xt={};at(At.posParams,(An,ni)=>{Xt[ni]=An.path});const sn=At.consumed.length>0?Object.assign(Object.assign({},Xt),At.consumed[At.consumed.length-1].parameters):Xt;return{matched:!0,consumedSegments:At.consumed,remainingSegments:le.slice(At.consumed.length),parameters:sn,positionalParamSegments:null!==(Se=At.posParams)&&void 0!==Se?Se:{}}}function Pr(_e,ve,le,Se,$e="corrected"){if(le.length>0&&function Na(_e,ve,le){return le.some(Se=>Me(_e,ve,Se)&&Io(Se)!==we)}(_e,le,Se)){const Xt=new me(ve,function fa(_e,ve,le,Se){const $e={};$e[we]=Se,Se._sourceSegment=_e,Se._segmentIndexShift=ve.length;for(const At of le)if(""===At.path&&Io(At)!==we){const Xt=new me([],{});Xt._sourceSegment=_e,Xt._segmentIndexShift=ve.length,$e[Io(At)]=Xt}return $e}(_e,ve,Se,new me(le,_e.children)));return Xt._sourceSegment=_e,Xt._segmentIndexShift=ve.length,{segmentGroup:Xt,slicedSegments:[]}}if(0===le.length&&function Ya(_e,ve,le){return le.some(Se=>Me(_e,ve,Se))}(_e,le,Se)){const Xt=new me(_e.segments,function cr(_e,ve,le,Se,$e,At){const Xt={};for(const sn of Se)if(Me(_e,le,sn)&&!$e[Io(sn)]){const An=new me([],{});An._sourceSegment=_e,An._segmentIndexShift="legacy"===At?_e.segments.length:ve.length,Xt[Io(sn)]=An}return Object.assign(Object.assign({},$e),Xt)}(_e,ve,le,Se,_e.children,$e));return Xt._sourceSegment=_e,Xt._segmentIndexShift=ve.length,{segmentGroup:Xt,slicedSegments:le}}const At=new me(_e.segments,_e.children);return At._sourceSegment=_e,At._segmentIndexShift=ve.length,{segmentGroup:At,slicedSegments:le}}function Me(_e,ve,le){return(!(_e.hasChildren()||ve.length>0)||"full"!==le.pathMatch)&&""===le.path}function pt(_e,ve,le,Se){return!!(Io(_e)===Se||Se!==we&&Me(ve,le,_e))&&("**"===_e.path||er(ve,_e,le).matched)}function He(_e,ve,le){return 0===ve.length&&!_e.children[le]}const Et=!1;class nn{constructor(ve){this.segmentGroup=ve||null}}class kn{constructor(ve){this.urlTree=ve}}function Ln(_e){return(0,L._)(new nn(_e))}function ui(_e){return(0,L._)(new kn(_e))}class Yi{constructor(ve,le,Se,$e,At){this.injector=ve,this.configLoader=le,this.urlSerializer=Se,this.urlTree=$e,this.config=At,this.allowRedirects=!0}apply(){const ve=Pr(this.urlTree.root,[],[],this.config).segmentGroup,le=new me(ve.segments,ve.children);return this.expandSegmentGroup(this.injector,this.config,le,we).pipe((0,te.U)(At=>this.createUrlTree(ye(At),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,he.K)(At=>{if(At instanceof kn)return this.allowRedirects=!1,this.match(At.urlTree);throw At instanceof nn?this.noMatchError(At):At}))}match(ve){return this.expandSegmentGroup(this.injector,this.config,ve.root,we).pipe((0,te.U)($e=>this.createUrlTree(ye($e),ve.queryParams,ve.fragment))).pipe((0,he.K)($e=>{throw $e instanceof nn?this.noMatchError($e):$e}))}noMatchError(ve){return new e.vHH(4002,Et)}createUrlTree(ve,le,Se){const $e=Ve(ve);return new Ne($e,le,Se)}expandSegmentGroup(ve,le,Se,$e){return 0===Se.segments.length&&Se.hasChildren()?this.expandChildren(ve,le,Se).pipe((0,te.U)(At=>new me([],At))):this.expandSegment(ve,Se,le,Se.segments,$e,!0)}expandChildren(ve,le,Se){const $e=[];for(const At of Object.keys(Se.children))"primary"===At?$e.unshift(At):$e.push(At);return(0,a.D)($e).pipe((0,Y.b)(At=>{const Xt=Se.children[At],sn=So(le,At);return this.expandSegmentGroup(ve,sn,Xt,At).pipe((0,te.U)(An=>({segment:An,outlet:At})))}),Q((At,Xt)=>(At[Xt.outlet]=Xt.segment,At),{}),Ae())}expandSegment(ve,le,Se,$e,At,Xt){return(0,a.D)(Se).pipe((0,Y.b)(sn=>this.expandSegmentAgainstRoute(ve,le,Se,sn,$e,At,Xt).pipe((0,he.K)(ni=>{if(ni instanceof nn)return(0,f.of)(null);throw ni}))),(0,q.P)(sn=>!!sn),(0,he.K)((sn,An)=>{if(Wr(sn))return He(le,$e,At)?(0,f.of)(new me([],{})):Ln(le);throw sn}))}expandSegmentAgainstRoute(ve,le,Se,$e,At,Xt,sn){return pt($e,le,At,Xt)?void 0===$e.redirectTo?this.matchSegmentAgainstRoute(ve,le,$e,At,Xt):sn&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(ve,le,Se,$e,At,Xt):Ln(le):Ln(le)}expandSegmentAgainstRouteUsingRedirect(ve,le,Se,$e,At,Xt){return"**"===$e.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(ve,Se,$e,Xt):this.expandRegularSegmentAgainstRouteUsingRedirect(ve,le,Se,$e,At,Xt)}expandWildCardWithParamsAgainstRouteUsingRedirect(ve,le,Se,$e){const At=this.applyRedirectCommands([],Se.redirectTo,{});return Se.redirectTo.startsWith("/")?ui(At):this.lineralizeSegments(Se,At).pipe((0,ue.z)(Xt=>{const sn=new me(Xt,{});return this.expandSegment(ve,sn,le,Xt,$e,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(ve,le,Se,$e,At,Xt){const{matched:sn,consumedSegments:An,remainingSegments:ni,positionalParamSegments:yi}=er(le,$e,At);if(!sn)return Ln(le);const di=this.applyRedirectCommands(An,$e.redirectTo,yi);return $e.redirectTo.startsWith("/")?ui(di):this.lineralizeSegments($e,di).pipe((0,ue.z)(Ki=>this.expandSegment(ve,le,Se,Ki.concat(ni),Xt,!1)))}matchSegmentAgainstRoute(ve,le,Se,$e,At){return"**"===Se.path?(ve=Nn(Se,ve),Se.loadChildren?(Se._loadedRoutes?(0,f.of)({routes:Se._loadedRoutes,injector:Se._loadedInjector}):this.configLoader.loadChildren(ve,Se)).pipe((0,te.U)(sn=>(Se._loadedRoutes=sn.routes,Se._loadedInjector=sn.injector,new me($e,{})))):(0,f.of)(new me($e,{}))):Or(le,Se,$e,ve).pipe((0,V.w)(({matched:Xt,consumedSegments:sn,remainingSegments:An})=>{var ni;return Xt?(ve=null!==(ni=Se._injector)&&void 0!==ni?ni:ve,this.getChildConfig(ve,Se,$e).pipe((0,ue.z)(di=>{var Ki;const ao=null!==(Ki=di.injector)&&void 0!==Ki?Ki:ve,zs=di.routes,{segmentGroup:Br,slicedSegments:ia}=Pr(le,sn,An,zs),oa=new me(Br.segments,Br.children);if(0===ia.length&&oa.hasChildren())return this.expandChildren(ao,zs,oa).pipe((0,te.U)(ic=>new me(sn,ic)));if(0===zs.length&&0===ia.length)return(0,f.of)(new me(sn,{}));const ua=Io(Se)===At;return this.expandSegment(ao,oa,zs,ia,ua?we:At,!0).pipe((0,te.U)(gr=>new me(sn.concat(gr.segments),gr.children)))}))):Ln(le)}))}getChildConfig(ve,le,Se){return le.children?(0,f.of)({routes:le.children,injector:ve}):le.loadChildren?void 0!==le._loadedRoutes?(0,f.of)({routes:le._loadedRoutes,injector:le._loadedInjector}):function js(_e,ve,le,Se){const $e=ve.canLoad;if(void 0===$e||0===$e.length)return(0,f.of)(!0);const At=$e.map(Xt=>{const sn=Ri(Xt,_e);return fe(function eo(_e){return _e&&rr(_e.canLoad)}(sn)?sn.canLoad(ve,le):_e.runInContext(()=>sn(ve,le)))});return(0,f.of)(At).pipe(Be(),lr())}(ve,le,Se).pipe((0,ue.z)($e=>$e?this.configLoader.loadChildren(ve,le).pipe((0,G.b)(At=>{le._loadedRoutes=At.routes,le._loadedInjector=At.injector})):function uo(_e){return(0,L._)(ir(Et,3))}())):(0,f.of)({routes:[],injector:ve})}lineralizeSegments(ve,le){let Se=[],$e=le.root;for(;;){if(Se=Se.concat($e.segments),0===$e.numberOfChildren)return(0,f.of)(Se);if($e.numberOfChildren>1||!$e.children[we])return(0,L._)(new e.vHH(4e3,Et));$e=$e.children[we]}}applyRedirectCommands(ve,le,Se){return this.applyRedirectCreateUrlTree(le,this.urlSerializer.parse(le),ve,Se)}applyRedirectCreateUrlTree(ve,le,Se,$e){const At=this.createSegmentGroup(ve,le.root,Se,$e);return new Ne(At,this.createQueryParams(le.queryParams,this.urlTree.queryParams),le.fragment)}createQueryParams(ve,le){const Se={};return at(ve,($e,At)=>{if("string"==typeof $e&&$e.startsWith(":")){const sn=$e.substring(1);Se[At]=le[sn]}else Se[At]=$e}),Se}createSegmentGroup(ve,le,Se,$e){const At=this.createSegments(ve,le.segments,Se,$e);let Xt={};return at(le.children,(sn,An)=>{Xt[An]=this.createSegmentGroup(ve,sn,Se,$e)}),new me(At,Xt)}createSegments(ve,le,Se,$e){return le.map(At=>At.path.startsWith(":")?this.findPosParam(ve,At,$e):this.findOrReturn(At,Se))}findPosParam(ve,le,Se){const $e=Se[le.path.substring(1)];if(!$e)throw new e.vHH(4001,Et);return $e}findOrReturn(ve,le){let Se=0;for(const $e of le){if($e.path===ve.path)return le.splice(Se),$e;Se++}return ve}}class xo{}class us{constructor(ve,le,Se,$e,At,Xt,sn,An){this.injector=ve,this.rootComponentType=le,this.config=Se,this.urlTree=$e,this.url=At,this.paramsInheritanceStrategy=Xt,this.relativeLinkResolution=sn,this.urlSerializer=An}recognize(){const ve=Pr(this.urlTree.root,[],[],this.config.filter(le=>void 0===le.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,ve,we).pipe((0,te.U)(le=>{if(null===le)return null;const Se=new Fs([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},we,this.rootComponentType,null,this.urlTree.root,-1,{}),$e=new Ii(Se,le),At=new Xs(this.url,$e);return this.inheritParamsAndData(At._root),At}))}inheritParamsAndData(ve){const le=ve.value,Se=Ys(le,this.paramsInheritanceStrategy);le.params=Object.freeze(Se.params),le.data=Object.freeze(Se.data),ve.children.forEach($e=>this.inheritParamsAndData($e))}processSegmentGroup(ve,le,Se,$e){return 0===Se.segments.length&&Se.hasChildren()?this.processChildren(ve,le,Se):this.processSegment(ve,le,Se,Se.segments,$e)}processChildren(ve,le,Se){return(0,a.D)(Object.keys(Se.children)).pipe((0,Y.b)($e=>{const At=Se.children[$e],Xt=So(le,$e);return this.processSegmentGroup(ve,Xt,At,$e)}),Q(($e,At)=>$e&&At?($e.push(...At),$e):null),(0,Ke.o)($e=>null!==$e),(0,oe.d)(null),Ae(),(0,te.U)($e=>{if(null===$e)return null;const At=pe($e);return function ur(_e){_e.sort((ve,le)=>ve.value.outlet===we?-1:le.value.outlet===we?1:ve.value.outlet.localeCompare(le.value.outlet))}(At),At}))}processSegment(ve,le,Se,$e,At){return(0,a.D)(le).pipe((0,Y.b)(Xt=>{var sn;return this.processSegmentAgainstRoute(null!==(sn=Xt._injector)&&void 0!==sn?sn:ve,Xt,Se,$e,At)}),(0,q.P)(Xt=>!!Xt),(0,he.K)(Xt=>{if(Wr(Xt))return He(Se,$e,At)?(0,f.of)([]):(0,f.of)(null);throw Xt}))}processSegmentAgainstRoute(ve,le,Se,$e,At){var Xt,sn;if(le.redirectTo||!pt(le,Se,$e,At))return(0,f.of)(null);let An;if("**"===le.path){const ni=$e.length>0?Ut($e).parameters:{},yi=Vt(Se)+$e.length,di=new Fs($e,ni,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vn(le),Io(le),null!==(sn=null!==(Xt=le.component)&&void 0!==Xt?Xt:le._loadedComponent)&&void 0!==sn?sn:null,le,yt(Se),yi,wn(le),yi);An=(0,f.of)({snapshot:di,consumedSegments:[],remainingSegments:[]})}else An=Or(Se,le,$e,ve).pipe((0,te.U)(({matched:ni,consumedSegments:yi,remainingSegments:di,parameters:Ki})=>{var ao,zs;if(!ni)return null;const Br=Vt(Se)+yi.length;return{snapshot:new Fs(yi,Ki,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vn(le),Io(le),null!==(zs=null!==(ao=le.component)&&void 0!==ao?ao:le._loadedComponent)&&void 0!==zs?zs:null,le,yt(Se),Br,wn(le),Br),consumedSegments:yi,remainingSegments:di}}));return An.pipe((0,V.w)(ni=>{var yi,di;if(null===ni)return(0,f.of)(null);const{snapshot:Ki,consumedSegments:ao,remainingSegments:zs}=ni;ve=null!==(yi=le._injector)&&void 0!==yi?yi:ve;const Br=null!==(di=le._loadedInjector)&&void 0!==di?di:ve,ia=function mt(_e){return _e.children?_e.children:_e.loadChildren?_e._loadedRoutes:[]}(le),{segmentGroup:oa,slicedSegments:ua}=Pr(Se,ao,zs,ia.filter(gr=>void 0===gr.redirectTo),this.relativeLinkResolution);if(0===ua.length&&oa.hasChildren())return this.processChildren(Br,ia,oa).pipe((0,te.U)(gr=>null===gr?null:[new Ii(Ki,gr)]));if(0===ia.length&&0===ua.length)return(0,f.of)([new Ii(Ki,[])]);const nc=Io(le)===At;return this.processSegment(Br,ia,oa,ua,nc?we:At).pipe((0,te.U)(gr=>null===gr?null:[new Ii(Ki,gr)]))}))}}function ae(_e){const ve=_e.value.routeConfig;return ve&&""===ve.path&&void 0===ve.redirectTo}function pe(_e){const ve=[],le=new Set;for(const Se of _e){if(!ae(Se)){ve.push(Se);continue}const $e=ve.find(At=>Se.value.routeConfig===At.value.routeConfig);void 0!==$e?($e.children.push(...Se.children),le.add($e)):ve.push(Se)}for(const Se of le){const $e=pe(Se.children);ve.push(new Ii(Se.value,$e))}return ve.filter(Se=>!le.has(Se))}function yt(_e){let ve=_e;for(;ve._sourceSegment;)ve=ve._sourceSegment;return ve}function Vt(_e){var ve,le;let Se=_e,$e=null!==(ve=Se._segmentIndexShift)&&void 0!==ve?ve:0;for(;Se._sourceSegment;)Se=Se._sourceSegment,$e+=null!==(le=Se._segmentIndexShift)&&void 0!==le?le:0;return $e-1}function vn(_e){return _e.data||{}}function wn(_e){return _e.resolve||{}}function ln(_e){return"string"==typeof _e.title||null===_e.title}function Tn(_e){return(0,V.w)(ve=>{const le=_e(ve);return le?(0,a.D)(le).pipe((0,te.U)(()=>ve)):(0,f.of)(ve)})}let Mn=(()=>{class _e{buildTitle(le){var Se;let $e,At=le.root;for(;void 0!==At;)$e=null!==(Se=this.getResolvedTitleForRoute(At))&&void 0!==Se?Se:$e,At=At.children.find(Xt=>Xt.outlet===we);return $e}getResolvedTitleForRoute(le){return le.data[Oe]}}return _e.\u0275fac=function(le){return new(le||_e)},_e.\u0275prov=e.Yz7({token:_e,factory:function(){return(0,e.f3M)(Xn)},providedIn:"root"}),_e})(),Xn=(()=>{class _e extends Mn{constructor(le){super(),this.title=le}updateTitle(le){const Se=this.buildTitle(le);void 0!==Se&&this.title.setTitle(Se)}}return _e.\u0275fac=function(le){return new(le||_e)(e.LFG(xe.Dx))},_e.\u0275prov=e.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();class Ai{}class Vo extends class ji{shouldDetach(ve){return!1}store(ve,le){}shouldAttach(ve){return!1}retrieve(ve){return null}shouldReuseRoute(ve,le){return ve.routeConfig===le.routeConfig}}{}const mo=new e.OlP("",{providedIn:"root",factory:()=>({})}),Po=new e.OlP("ROUTES");let dr=(()=>{class _e{constructor(le,Se){this.injector=le,this.compiler=Se,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(le){if(this.componentLoaders.get(le))return this.componentLoaders.get(le);if(le._loadedComponent)return(0,f.of)(le._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(le);const Se=fe(le.loadComponent()).pipe((0,G.b)(At=>{this.onLoadEndListener&&this.onLoadEndListener(le),le._loadedComponent=At}),(0,Qe.x)(()=>{this.componentLoaders.delete(le)})),$e=new U(Se,()=>new F.x).pipe(S());return this.componentLoaders.set(le,$e),$e}loadChildren(le,Se){if(this.childrenLoaders.get(Se))return this.childrenLoaders.get(Se);if(Se._loadedRoutes)return(0,f.of)({routes:Se._loadedRoutes,injector:Se._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Se);const At=this.loadModuleFactoryOrRoutes(Se.loadChildren).pipe((0,te.U)(sn=>{this.onLoadEndListener&&this.onLoadEndListener(Se);let An,ni,yi=!1;Array.isArray(sn)?ni=sn:(An=sn.create(le).injector,ni=Ht(An.get(Po,[],e.XFs.Self|e.XFs.Optional)));return{routes:ni.map(Qr),injector:An}}),(0,Qe.x)(()=>{this.childrenLoaders.delete(Se)})),Xt=new U(At,()=>new F.x).pipe(S());return this.childrenLoaders.set(Se,Xt),Xt}loadModuleFactoryOrRoutes(le){return fe(le()).pipe((0,ue.z)(Se=>Se instanceof e.YKP||Array.isArray(Se)?(0,f.of)(Se):(0,a.D)(this.compiler.compileModuleAsync(Se))))}}return _e.\u0275fac=function(le){return new(le||_e)(e.LFG(e.zs3),e.LFG(e.Sil))},_e.\u0275prov=e.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();class Yr{}class Lr{shouldProcessUrl(ve){return!0}extract(ve){return ve}merge(ve,le){return ve}}function Sa(_e){throw _e}function xi(_e,ve,le){return ve.parse("/")}const wi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Oi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Qo(){var _e,ve;const le=(0,e.f3M)(_t),Se=(0,e.f3M)(St),$e=(0,e.f3M)(ce.Ye),At=(0,e.f3M)(e.zs3),Xt=(0,e.f3M)(e.Sil),sn=null!==(_e=(0,e.f3M)(Po,{optional:!0}))&&void 0!==_e?_e:[],An=null!==(ve=(0,e.f3M)(mo,{optional:!0}))&&void 0!==ve?ve:{},ni=(0,e.f3M)(Xn),yi=(0,e.f3M)(Mn,{optional:!0}),di=(0,e.f3M)(Yr,{optional:!0}),Ki=(0,e.f3M)(Ai,{optional:!0}),ao=new Lo(null,le,Se,$e,At,Xt,Ht(sn));return di&&(ao.urlHandlingStrategy=di),Ki&&(ao.routeReuseStrategy=Ki),ao.titleStrategy=null!=yi?yi:ni,function no(_e,ve){_e.errorHandler&&(ve.errorHandler=_e.errorHandler),_e.malformedUriErrorHandler&&(ve.malformedUriErrorHandler=_e.malformedUriErrorHandler),_e.onSameUrlNavigation&&(ve.onSameUrlNavigation=_e.onSameUrlNavigation),_e.paramsInheritanceStrategy&&(ve.paramsInheritanceStrategy=_e.paramsInheritanceStrategy),_e.relativeLinkResolution&&(ve.relativeLinkResolution=_e.relativeLinkResolution),_e.urlUpdateStrategy&&(ve.urlUpdateStrategy=_e.urlUpdateStrategy),_e.canceledNavigationResolution&&(ve.canceledNavigationResolution=_e.canceledNavigationResolution)}(An,ao),ao}let Lo=(()=>{class _e{constructor(le,Se,$e,At,Xt,sn,An){this.rootComponentType=le,this.urlSerializer=Se,this.rootContexts=$e,this.location=At,this.config=An,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new F.x,this.errorHandler=Sa,this.malformedUriErrorHandler=xi,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,f.of)(void 0),this.urlHandlingStrategy=new Lr,this.routeReuseStrategy=new Vo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=Xt.get(dr),this.configLoader.onLoadEndListener=Ki=>this.triggerEvent(new Cr(Ki)),this.configLoader.onLoadStartListener=Ki=>this.triggerEvent(new ga(Ki)),this.ngModule=Xt.get(e.h0i),this.console=Xt.get(e.c2e);const di=Xt.get(e.R0b);this.isNgZoneEnabled=di instanceof e.R0b&&e.R0b.isInAngularZone(),this.resetConfig(An),this.currentUrlTree=function ot(){return new Ne(new me([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ss(this.currentUrlTree,this.rootComponentType),this.transitions=new g.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var le;return null===(le=this.location.getState())||void 0===le?void 0:le.\u0275routerPageId}setupNavigations(le){const Se=this.events;return le.pipe((0,$.h)($e=>0!==$e.id),(0,te.U)($e=>Object.assign(Object.assign({},$e),{extractedUrl:this.urlHandlingStrategy.extract($e.rawUrl)})),(0,V.w)($e=>{let At=!1,Xt=!1;return(0,f.of)($e).pipe((0,G.b)(sn=>{this.currentNavigation={id:sn.id,initialUrl:sn.rawUrl,extractedUrl:sn.extractedUrl,trigger:sn.source,extras:sn.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,V.w)(sn=>{const An=this.browserUrlTree.toString(),ni=!this.navigated||sn.extractedUrl.toString()!==An||An!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||ni)&&this.urlHandlingStrategy.shouldProcessUrl(sn.rawUrl))return pr(sn.source)&&(this.browserUrlTree=sn.extractedUrl),(0,f.of)(sn).pipe((0,V.w)(di=>{const Ki=this.transitions.getValue();return Se.next(new Mo(di.id,this.serializeUrl(di.extractedUrl),di.source,di.restoredState)),Ki!==this.transitions.getValue()?N.E:Promise.resolve(di)}),function Co(_e,ve,le,Se){return(0,V.w)($e=>function _o(_e,ve,le,Se,$e){return new Yi(_e,ve,le,Se,$e).apply()}(_e,ve,le,$e.extractedUrl,Se).pipe((0,te.U)(At=>Object.assign(Object.assign({},$e),{urlAfterRedirects:At}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,G.b)(di=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:di.urlAfterRedirects}),$e.urlAfterRedirects=di.urlAfterRedirects}),function Hn(_e,ve,le,Se,$e,At){return(0,ue.z)(Xt=>function Us(_e,ve,le,Se,$e,At,Xt="emptyOnly",sn="legacy"){return new us(_e,ve,le,Se,$e,Xt,sn,At).recognize().pipe((0,V.w)(An=>null===An?function Yo(_e){return new J.y(ve=>ve.error(_e))}(new xo):(0,f.of)(An)))}(_e,ve,le,Xt.urlAfterRedirects,Se.serialize(Xt.urlAfterRedirects),Se,$e,At).pipe((0,te.U)(sn=>Object.assign(Object.assign({},Xt),{targetSnapshot:sn}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,G.b)(di=>{if($e.targetSnapshot=di.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!di.extras.skipLocationChange){const ao=this.urlHandlingStrategy.merge(di.urlAfterRedirects,di.rawUrl);this.setBrowserUrl(ao,di)}this.browserUrlTree=di.urlAfterRedirects}const Ki=new Ls(di.id,this.serializeUrl(di.extractedUrl),this.serializeUrl(di.urlAfterRedirects),di.targetSnapshot);Se.next(Ki)}));if(ni&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Ki,extractedUrl:ao,source:zs,restoredState:Br,extras:ia}=sn,oa=new Mo(Ki,this.serializeUrl(ao),zs,Br);Se.next(oa);const ua=ss(ao,this.rootComponentType).snapshot;return $e=Object.assign(Object.assign({},sn),{targetSnapshot:ua,urlAfterRedirects:ao,extras:Object.assign(Object.assign({},ia),{skipLocationChange:!1,replaceUrl:!1})}),(0,f.of)($e)}return this.rawUrlTree=sn.rawUrl,sn.resolve(null),N.E}),(0,G.b)(sn=>{const An=new Is(sn.id,this.serializeUrl(sn.extractedUrl),this.serializeUrl(sn.urlAfterRedirects),sn.targetSnapshot);this.triggerEvent(An)}),(0,te.U)(sn=>$e=Object.assign(Object.assign({},sn),{guards:Ho(sn.targetSnapshot,sn.currentSnapshot,this.rootContexts)})),function Ee(_e,ve){return(0,ue.z)(le=>{const{targetSnapshot:Se,currentSnapshot:$e,guards:{canActivateChecks:At,canDeactivateChecks:Xt}}=le;return 0===Xt.length&&0===At.length?(0,f.of)(Object.assign(Object.assign({},le),{guardsResult:!0})):function kt(_e,ve,le,Se){return(0,a.D)(_e).pipe((0,ue.z)($e=>function cs(_e,ve,le,Se,$e){const At=ve&&ve.routeConfig?ve.routeConfig.canDeactivate:null;if(!At||0===At.length)return(0,f.of)(!0);const Xt=At.map(sn=>{var An;const ni=null!==(An=Es(ve))&&void 0!==An?An:$e,yi=Ri(sn,ni);return fe(function Ss(_e){return _e&&rr(_e.canDeactivate)}(yi)?yi.canDeactivate(_e,ve,le,Se):ni.runInContext(()=>yi(_e,ve,le,Se))).pipe((0,q.P)())});return(0,f.of)(Xt).pipe(Be())}($e.component,$e.route,le,ve,Se)),(0,q.P)($e=>!0!==$e,!0))}(Xt,Se,$e,_e).pipe((0,ue.z)(sn=>sn&&function Gr(_e){return"boolean"==typeof _e}(sn)?function On(_e,ve,le,Se){return(0,a.D)(ve).pipe((0,Y.b)($e=>(0,y.z)(function Qi(_e,ve){return null!==_e&&ve&&ve(new Sr(_e)),(0,f.of)(!0)}($e.route.parent,Se),function mi(_e,ve){return null!==_e&&ve&&ve(new gs(_e)),(0,f.of)(!0)}($e.route,Se),function Oo(_e,ve,le){const Se=ve[ve.length-1],At=ve.slice(0,ve.length-1).reverse().map(Xt=>function wo(_e){const ve=_e.routeConfig?_e.routeConfig.canActivateChild:null;return ve&&0!==ve.length?{node:_e,guards:ve}:null}(Xt)).filter(Xt=>null!==Xt).map(Xt=>(0,l.P)(()=>{const sn=Xt.guards.map(An=>{var ni;const yi=null!==(ni=Es(Xt.node))&&void 0!==ni?ni:le,di=Ri(An,yi);return fe(function ar(_e){return _e&&rr(_e.canActivateChild)}(di)?di.canActivateChild(Se,_e):yi.runInContext(()=>di(Se,_e))).pipe((0,q.P)())});return(0,f.of)(sn).pipe(Be())}));return(0,f.of)(At).pipe(Be())}(_e,$e.path,le),function yo(_e,ve,le){const Se=ve.routeConfig?ve.routeConfig.canActivate:null;if(!Se||0===Se.length)return(0,f.of)(!0);const $e=Se.map(At=>(0,l.P)(()=>{var Xt;const sn=null!==(Xt=Es(ve))&&void 0!==Xt?Xt:le,An=Ri(At,sn);return fe(function ta(_e){return _e&&rr(_e.canActivate)}(An)?An.canActivate(ve,_e):sn.runInContext(()=>An(ve,_e))).pipe((0,q.P)())}));return(0,f.of)($e).pipe(Be())}(_e,$e.route,le))),(0,q.P)($e=>!0!==$e,!0))}(Se,At,_e,ve):(0,f.of)(sn)),(0,te.U)(sn=>Object.assign(Object.assign({},le),{guardsResult:sn})))})}(this.ngModule.injector,sn=>this.triggerEvent(sn)),(0,G.b)(sn=>{if($e.guardsResult=sn.guardsResult,ut(sn.guardsResult))throw Mr(0,sn.guardsResult);const An=new Rs(sn.id,this.serializeUrl(sn.extractedUrl),this.serializeUrl(sn.urlAfterRedirects),sn.targetSnapshot,!!sn.guardsResult);this.triggerEvent(An)}),(0,$.h)(sn=>!!sn.guardsResult||(this.restoreHistory(sn),this.cancelNavigationTransition(sn,"",3),!1)),Tn(sn=>{if(sn.guards.canActivateChecks.length)return(0,f.of)(sn).pipe((0,G.b)(An=>{const ni=new hs(An.id,this.serializeUrl(An.extractedUrl),this.serializeUrl(An.urlAfterRedirects),An.targetSnapshot);this.triggerEvent(ni)}),(0,V.w)(An=>{let ni=!1;return(0,f.of)(An).pipe(function Yt(_e,ve){return(0,ue.z)(le=>{const{targetSnapshot:Se,guards:{canActivateChecks:$e}}=le;if(!$e.length)return(0,f.of)(le);let At=0;return(0,a.D)($e).pipe((0,Y.b)(Xt=>function Re(_e,ve,le,Se){const $e=_e.routeConfig,At=_e._resolve;return void 0!==(null==$e?void 0:$e.title)&&!ln($e)&&(At[Oe]=$e.title),function Ze(_e,ve,le,Se){const $e=function ft(_e){return[...Object.keys(_e),...Object.getOwnPropertySymbols(_e)]}(_e);if(0===$e.length)return(0,f.of)({});const At={};return(0,a.D)($e).pipe((0,ue.z)(Xt=>function Lt(_e,ve,le,Se){var $e;const At=null!==($e=Es(ve))&&void 0!==$e?$e:Se,Xt=Ri(_e,At);return fe(Xt.resolve?Xt.resolve(ve,le):At.runInContext(()=>Xt(ve,le)))}(_e[Xt],ve,le,Se).pipe((0,q.P)(),(0,G.b)(sn=>{At[Xt]=sn}))),(0,K.h)(1),(0,be.h)(At),(0,he.K)(Xt=>Wr(Xt)?N.E:(0,L._)(Xt)))}(At,_e,ve,Se).pipe((0,te.U)(Xt=>(_e._resolvedData=Xt,_e.data=Ys(_e,le).resolve,$e&&ln($e)&&(_e.data[Oe]=$e.title),null)))}(Xt.route,Se,_e,ve)),(0,G.b)(()=>At++),(0,K.h)(1),(0,ue.z)(Xt=>At===$e.length?(0,f.of)(le):N.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,G.b)({next:()=>ni=!0,complete:()=>{ni||(this.restoreHistory(An),this.cancelNavigationTransition(An,"",2))}}))}),(0,G.b)(An=>{const ni=new Er(An.id,this.serializeUrl(An.extractedUrl),this.serializeUrl(An.urlAfterRedirects),An.targetSnapshot);this.triggerEvent(ni)}))}),Tn(sn=>{const An=ni=>{var yi;const di=[];(null===(yi=ni.routeConfig)||void 0===yi?void 0:yi.loadComponent)&&!ni.routeConfig._loadedComponent&&di.push(this.configLoader.loadComponent(ni.routeConfig).pipe((0,G.b)(Ki=>{ni.component=Ki}),(0,te.U)(()=>{})));for(const Ki of ni.children)di.push(...An(Ki));return di};return(0,P.a)(An(sn.targetSnapshot.root)).pipe((0,oe.d)(),(0,k.q)(1))}),Tn(()=>this.afterPreactivation()),(0,te.U)(sn=>{const An=function Cs(_e,ve,le){const Se=ms(_e,ve._root,le?le._root:void 0);return new vr(Se,ve)}(this.routeReuseStrategy,sn.targetSnapshot,sn.currentRouterState);return $e=Object.assign(Object.assign({},sn),{targetRouterState:An})}),(0,G.b)(sn=>{this.currentUrlTree=sn.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(sn.urlAfterRedirects,sn.rawUrl),this.routerState=sn.targetRouterState,"deferred"===this.urlUpdateStrategy&&(sn.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,sn),this.browserUrlTree=sn.urlAfterRedirects)}),((_e,ve,le)=>(0,te.U)(Se=>(new $o(ve,Se.targetRouterState,Se.currentRouterState,le).activate(_e),Se)))(this.rootContexts,this.routeReuseStrategy,sn=>this.triggerEvent(sn)),(0,G.b)({next(){At=!0},complete(){At=!0}}),(0,Qe.x)(()=>{var sn;At||Xt||this.cancelNavigationTransition($e,"",1),(null===(sn=this.currentNavigation)||void 0===sn?void 0:sn.id)===$e.id&&(this.currentNavigation=null)}),(0,he.K)(sn=>{var An;if(Xt=!0,ts(sn)){vs(sn)||(this.navigated=!0,this.restoreHistory($e,!0));const ni=new bo($e.id,this.serializeUrl($e.extractedUrl),sn.message,sn.cancellationCode);if(Se.next(ni),vs(sn)){const yi=this.urlHandlingStrategy.merge(sn.url,this.rawUrlTree),di={skipLocationChange:$e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||pr($e.source)};this.scheduleNavigation(yi,"imperative",null,di,{resolve:$e.resolve,reject:$e.reject,promise:$e.promise})}else $e.resolve(!1)}else{this.restoreHistory($e,!0);const ni=new qo($e.id,this.serializeUrl($e.extractedUrl),sn,null!==(An=$e.targetSnapshot)&&void 0!==An?An:void 0);Se.next(ni);try{$e.resolve(this.errorHandler(sn))}catch(yi){$e.reject(yi)}}return N.E}))}))}resetRootComponentType(le){this.rootComponentType=le,this.routerState.root.component=this.rootComponentType}setTransition(le){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),le))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(le=>{const Se="popstate"===le.type?"popstate":"hashchange";"popstate"===Se&&setTimeout(()=>{var $e;const At={replaceUrl:!0},Xt=null!==($e=le.state)&&void 0!==$e&&$e.navigationId?le.state:null;if(Xt){const An=Object.assign({},Xt);delete An.navigationId,delete An.\u0275routerPageId,0!==Object.keys(An).length&&(At.state=An)}const sn=this.parseUrl(le.url);this.scheduleNavigation(sn,Se,Xt,At)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(le){this.events.next(le)}resetConfig(le){this.config=le.map(Qr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(le,Se={}){const{relativeTo:$e,queryParams:At,fragment:Xt,queryParamsHandling:sn,preserveFragment:An}=Se,ni=$e||this.routerState.root,yi=An?this.currentUrlTree.fragment:Xt;let di=null;switch(sn){case"merge":di=Object.assign(Object.assign({},this.currentUrlTree.queryParams),At);break;case"preserve":di=this.currentUrlTree.queryParams;break;default:di=At||null}return null!==di&&(di=this.removeEmptyProps(di)),zn(ni,this.currentUrlTree,le,di,null!=yi?yi:null)}navigateByUrl(le,Se={skipLocationChange:!1}){const $e=ut(le)?le:this.parseUrl(le),At=this.urlHandlingStrategy.merge($e,this.rawUrlTree);return this.scheduleNavigation(At,"imperative",null,Se)}navigate(le,Se={skipLocationChange:!1}){return function ks(_e){for(let ve=0;ve<_e.length;ve++){if(null==_e[ve])throw new e.vHH(4008,false)}}(le),this.navigateByUrl(this.createUrlTree(le,Se),Se)}serializeUrl(le){return this.urlSerializer.serialize(le)}parseUrl(le){let Se;try{Se=this.urlSerializer.parse(le)}catch($e){Se=this.malformedUriErrorHandler($e,this.urlSerializer,le)}return Se}isActive(le,Se){let $e;if($e=!0===Se?Object.assign({},wi):!1===Se?Object.assign({},Oi):Se,ut(le))return Nt(this.currentUrlTree,le,$e);const At=this.parseUrl(le);return Nt(this.currentUrlTree,At,$e)}removeEmptyProps(le){return Object.keys(le).reduce((Se,$e)=>{const At=le[$e];return null!=At&&(Se[$e]=At),Se},{})}processNavigations(){this.navigations.subscribe(le=>{var Se;this.navigated=!0,this.lastSuccessfulId=le.id,this.currentPageId=le.targetPageId,this.events.next(new es(le.id,this.serializeUrl(le.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(Se=this.titleStrategy)||void 0===Se||Se.updateTitle(this.routerState.snapshot),le.resolve(!0)},le=>{this.console.warn(`Unhandled Navigation Error: ${le}`)})}scheduleNavigation(le,Se,$e,At,Xt){var sn,An;if(this.disposed)return Promise.resolve(!1);let ni,yi,di;Xt?(ni=Xt.resolve,yi=Xt.reject,di=Xt.promise):di=new Promise((zs,Br)=>{ni=zs,yi=Br});const Ki=++this.navigationId;let ao;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&($e=this.location.getState()),ao=$e&&$e.\u0275routerPageId?$e.\u0275routerPageId:At.replaceUrl||At.skipLocationChange?null!==(sn=this.browserPageId)&&void 0!==sn?sn:0:(null!==(An=this.browserPageId)&&void 0!==An?An:0)+1):ao=0,this.setTransition({id:Ki,targetPageId:ao,source:Se,restoredState:$e,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:le,extras:At,resolve:ni,reject:yi,promise:di,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),di.catch(zs=>Promise.reject(zs))}setBrowserUrl(le,Se){const $e=this.urlSerializer.serialize(le),At=Object.assign(Object.assign({},Se.extras.state),this.generateNgRouterState(Se.id,Se.targetPageId));this.location.isCurrentPathEqualTo($e)||Se.extras.replaceUrl?this.location.replaceState($e,"",At):this.location.go($e,"",At)}restoreHistory(le,Se=!1){var $e,At;if("computed"===this.canceledNavigationResolution){const Xt=this.currentPageId-le.targetPageId;"popstate"!==le.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===($e=this.currentNavigation)||void 0===$e?void 0:$e.finalUrl)||0===Xt?this.currentUrlTree===(null===(At=this.currentNavigation)||void 0===At?void 0:At.finalUrl)&&0===Xt&&(this.resetState(le),this.browserUrlTree=le.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Xt)}else"replace"===this.canceledNavigationResolution&&(Se&&this.resetState(le),this.resetUrlToCurrentUrlTree())}resetState(le){this.routerState=le.currentRouterState,this.currentUrlTree=le.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,le.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(le,Se,$e){const At=new bo(le.id,this.serializeUrl(le.extractedUrl),Se,$e);this.triggerEvent(At),le.resolve(!1)}generateNgRouterState(le,Se){return"computed"===this.canceledNavigationResolution?{navigationId:le,\u0275routerPageId:Se}:{navigationId:le}}}return _e.\u0275fac=function(le){e.$Z()},_e.\u0275prov=e.Yz7({token:_e,factory:function(){return Qo()},providedIn:"root"}),_e})();function pr(_e){return"imperative"!==_e}let To=(()=>{class _e{constructor(le,Se,$e,At,Xt){this.router=le,this.route=Se,this.tabIndexAttribute=$e,this.renderer=At,this.el=Xt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new F.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(le){this._preserveFragment=(0,e.D6c)(le)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(le){this._skipLocationChange=(0,e.D6c)(le)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(le){this._replaceUrl=(0,e.D6c)(le)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(le){if(null!=this.tabIndexAttribute)return;const Se=this.renderer,$e=this.el.nativeElement;null!==le?Se.setAttribute($e,"tabindex",le):Se.removeAttribute($e,"tabindex")}ngOnChanges(le){this.onChanges.next(this)}set routerLink(le){null!=le?(this.commands=Array.isArray(le)?le:[le],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return _e.\u0275fac=function(le){return new(le||_e)(e.Y36(Lo),e.Y36(Bi),e.$8M("tabindex"),e.Y36(e.Qsj),e.Y36(e.SBq))},_e.\u0275dir=e.lG2({type:_e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(le,Se){1&le&&e.NdJ("click",function(){return Se.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[e.TTD]}),_e})(),jr=(()=>{class _e{constructor(le,Se,$e){this.router=le,this.route=Se,this.locationStrategy=$e,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new F.x,this.subscription=le.events.subscribe(At=>{At instanceof es&&this.updateTargetUrlAndHref()})}set preserveFragment(le){this._preserveFragment=(0,e.D6c)(le)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(le){this._skipLocationChange=(0,e.D6c)(le)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(le){this._replaceUrl=(0,e.D6c)(le)}get replaceUrl(){return this._replaceUrl}set routerLink(le){this.commands=null!=le?Array.isArray(le)?le:[le]:null}ngOnChanges(le){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(le,Se,$e,At,Xt){return!!(0!==le||Se||$e||At||Xt||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return _e.\u0275fac=function(le){return new(le||_e)(e.Y36(Lo),e.Y36(Bi),e.Y36(ce.S$))},_e.\u0275dir=e.lG2({type:_e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(le,Se){1&le&&e.NdJ("click",function(At){return Se.onClick(At.button,At.ctrlKey,At.shiftKey,At.altKey,At.metaKey)}),2&le&&e.uIk("target",Se.target)("href",Se.href,e.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[e.TTD]}),_e})(),al=(()=>{class _e{constructor(le,Se,$e,At,Xt,sn){this.router=le,this.element=Se,this.renderer=$e,this.cdr=At,this.link=Xt,this.linkWithHref=sn,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new e.vpe,this.routerEventsSubscription=le.events.subscribe(An=>{An instanceof es&&this.update()})}ngAfterContentInit(){(0,f.of)(this.links.changes,this.linksWithHrefs.changes,(0,f.of)(null)).pipe((0,X.J)()).subscribe(le=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var le;null===(le=this.linkInputChangesSubscription)||void 0===le||le.unsubscribe();const Se=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter($e=>!!$e).map($e=>$e.onChanges);this.linkInputChangesSubscription=(0,a.D)(Se).pipe((0,X.J)()).subscribe($e=>{this.isActive!==this.isLinkActive(this.router)($e)&&this.update()})}set routerLinkActive(le){const Se=Array.isArray(le)?le:le.split(" ");this.classes=Se.filter($e=>!!$e)}ngOnChanges(le){this.update()}ngOnDestroy(){var le;this.routerEventsSubscription.unsubscribe(),null===(le=this.linkInputChangesSubscription)||void 0===le||le.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const le=this.hasActiveLinks();this.isActive!==le&&(this.isActive=le,this.cdr.markForCheck(),this.classes.forEach(Se=>{le?this.renderer.addClass(this.element.nativeElement,Se):this.renderer.removeClass(this.element.nativeElement,Se)}),le&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(le))})}isLinkActive(le){const Se=function Ro(_e){return!!_e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return $e=>!!$e.urlTree&&le.isActive($e.urlTree,Se)}hasActiveLinks(){const le=this.isLinkActive(this.router);return this.link&&le(this.link)||this.linkWithHref&&le(this.linkWithHref)||this.links.some(le)||this.linksWithHrefs.some(le)}}return _e.\u0275fac=function(le){return new(le||_e)(e.Y36(Lo),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(To,8),e.Y36(jr,8))},_e.\u0275dir=e.lG2({type:_e,selectors:[["","routerLinkActive",""]],contentQueries:function(le,Se,$e){if(1&le&&(e.Suo($e,To,5),e.Suo($e,jr,5)),2&le){let At;e.iGM(At=e.CRH())&&(Se.links=At),e.iGM(At=e.CRH())&&(Se.linksWithHrefs=At)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[e.TTD]}),_e})();class Rr{}let ka=(()=>{class _e{constructor(le,Se,$e,At,Xt){this.router=le,this.injector=$e,this.preloadingStrategy=At,this.loader=Xt}setUpPreloading(){this.subscription=this.router.events.pipe((0,$.h)(le=>le instanceof es),(0,Y.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(le,Se){var $e,At,Xt;const sn=[];for(const An of Se){An.providers&&!An._injector&&(An._injector=(0,e.MMx)(An.providers,le,`Route: ${An.path}`));const ni=null!==($e=An._injector)&&void 0!==$e?$e:le,yi=null!==(At=An._loadedInjector)&&void 0!==At?At:ni;An.loadChildren&&!An._loadedRoutes&&void 0===An.canLoad||An.loadComponent&&!An._loadedComponent?sn.push(this.preloadConfig(ni,An)):(An.children||An._loadedRoutes)&&sn.push(this.processRoutes(yi,null!==(Xt=An.children)&&void 0!==Xt?Xt:An._loadedRoutes))}return(0,a.D)(sn).pipe((0,X.J)())}preloadConfig(le,Se){return this.preloadingStrategy.preload(Se,()=>{let $e;$e=Se.loadChildren&&void 0===Se.canLoad?this.loader.loadChildren(le,Se):(0,f.of)(null);const At=$e.pipe((0,ue.z)(Xt=>{var sn;return null===Xt?(0,f.of)(void 0):(Se._loadedRoutes=Xt.routes,Se._loadedInjector=Xt.injector,this.processRoutes(null!==(sn=Xt.injector)&&void 0!==sn?sn:le,Xt.routes))}));if(Se.loadComponent&&!Se._loadedComponent){const Xt=this.loader.loadComponent(Se);return(0,a.D)([At,Xt]).pipe((0,X.J)())}return At})}}return _e.\u0275fac=function(le){return new(le||_e)(e.LFG(Lo),e.LFG(e.Sil),e.LFG(e.lqb),e.LFG(Rr),e.LFG(dr))},_e.\u0275prov=e.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();const Fa=new e.OlP("");let Sl=(()=>{class _e{constructor(le,Se,$e={}){this.router=le,this.viewportScroller=Se,this.options=$e,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},$e.scrollPositionRestoration=$e.scrollPositionRestoration||"disabled",$e.anchorScrolling=$e.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(le=>{le instanceof Mo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=le.navigationTrigger,this.restoredId=le.restoredState?le.restoredState.navigationId:0):le instanceof es&&(this.lastId=le.id,this.scheduleScrollEvent(le,this.router.parseUrl(le.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(le=>{le instanceof Ns&&(le.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(le.position):le.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(le.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(le,Se){this.router.triggerEvent(new Ns(le,"popstate"===this.lastSource?this.store[this.restoredId]:null,Se))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return _e.\u0275fac=function(le){e.$Z()},_e.\u0275prov=e.Yz7({token:_e,factory:_e.\u0275fac}),_e})();function Za(_e,ve){return{\u0275kind:_e,\u0275providers:ve}}function na(_e){return[{provide:Po,multi:!0,useValue:_e}]}function kl(){const _e=(0,e.f3M)(e.zs3);return ve=>{var le,Se;const $e=_e.get(e.z2F);if(ve!==$e.components[0])return;const At=_e.get(Lo),Xt=_e.get(vc);1===_e.get(No)&&At.initialNavigation(),null===(le=_e.get(bc,null,e.XFs.Optional))||void 0===le||le.setUpPreloading(),null===(Se=_e.get(Fa,null,e.XFs.Optional))||void 0===Se||Se.init(),At.resetRootComponentType($e.componentTypes[0]),Xt.closed||(Xt.next(),Xt.unsubscribe())}}const vc=new e.OlP("",{factory:()=>new F.x}),No=new e.OlP("",{providedIn:"root",factory:()=>1});const bc=new e.OlP("");function Dl(_e){return Za(0,[{provide:bc,useExisting:ka},{provide:Rr,useExisting:_e}])}const tc=new e.OlP("ROUTER_FORROOT_GUARD"),Nu=[ce.Ye,{provide:_t,useClass:et},{provide:Lo,useFactory:Qo},St,{provide:Bi,useFactory:function Da(_e){return _e.routerState.root},deps:[Lo]},dr];function Ds(){return new e.PXZ("Router",Lo)}let Ol=(()=>{class _e{constructor(le){}static forRoot(le,Se){return{ngModule:_e,providers:[Nu,[],na(le),{provide:tc,useFactory:Nr,deps:[[Lo,new e.FiY,new e.tp0]]},{provide:mo,useValue:Se||{}},null!=Se&&Se.useHash?{provide:ce.S$,useClass:ce.Do}:{provide:ce.S$,useClass:ce.b0},{provide:Fa,useFactory:()=>{const _e=(0,e.f3M)(Lo),ve=(0,e.f3M)(ce.EM),le=(0,e.f3M)(mo);return le.scrollOffset&&ve.setOffset(le.scrollOffset),new Sl(_e,ve,le)}},null!=Se&&Se.preloadingStrategy?Dl(Se.preloadingStrategy).\u0275providers:[],{provide:e.PXZ,multi:!0,useFactory:Ds},null!=Se&&Se.initialNavigation?Fr(Se):[],[{provide:qa,useFactory:kl},{provide:e.tb,multi:!0,useExisting:qa}]]}}static forChild(le){return{ngModule:_e,providers:[na(le)]}}}return _e.\u0275fac=function(le){return new(le||_e)(e.LFG(tc,8))},_e.\u0275mod=e.oAB({type:_e}),_e.\u0275inj=e.cJS({imports:[zt]}),_e})();function Nr(_e){return"guarded"}function Fr(_e){return["disabled"===_e.initialNavigation?Za(3,[{provide:e.ip1,multi:!0,useFactory:()=>{const ve=(0,e.f3M)(Lo);return()=>{ve.setUpLocationChangeListener()}}},{provide:No,useValue:2}]).\u0275providers:[],"enabledBlocking"===_e.initialNavigation?Za(2,[{provide:No,useValue:0},{provide:e.ip1,multi:!0,deps:[e.zs3],useFactory:ve=>{const le=ve.get(ce.V_,Promise.resolve());let Se=!1;return()=>le.then(()=>new Promise(At=>{const Xt=ve.get(Lo),sn=ve.get(vc);(function $e(At){ve.get(Lo).events.pipe((0,$.h)(sn=>sn instanceof es||sn instanceof bo||sn instanceof qo),(0,te.U)(sn=>sn instanceof es||sn instanceof bo&&(0===sn.code||1===sn.code)&&null),(0,$.h)(sn=>null!==sn),(0,k.q)(1)).subscribe(()=>{At()})})(()=>{At(!0),Se=!0}),Xt.afterPreactivation=()=>(At(!0),Se||sn.closed?(0,f.of)(void 0):sn),Xt.initialNavigation()}))}}]).\u0275providers:[]]}const qa=new e.OlP("")},5111:(mn,ht,b)=>{"use strict";var e,a;b.d(ht,{U:()=>e}),(a=e=e||(e={}))[a.CONNECTING=0]="CONNECTING",a[a.OPEN=1]="OPEN",a[a.CLOSING=2]="CLOSING",a[a.CLOSED=3]="CLOSED"},430:(mn,ht,b)=>{"use strict";b.d(ht,{Eo:()=>Gt,qZ:()=>Ht});var e=b(5e3),a=b(4793),f=b(9162),g=b(7579),_=b(9808),P=b(6451),y=b(9751),l=b(4968),R=b(8505),L=b(3099),J=b(5577),N=b(5698),w=b(4004),x=b(4482),D=b(5403),U=b(9300),F=b(2722);const ce="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function V(Nt,Mt,Ye,st){const je=Mt.querySelectorAll(Nt);if(je.length){const It=Ye.querySelectorAll(Nt);for(let ne=0;ne<je.length;ne++)st(je[ne],It[ne])}}let k=0;function O(Nt,Mt){"file"!==Mt.type&&(Mt.value=Nt.value),"radio"===Mt.type&&Mt.name&&(Mt.name=`mat-clone-${Mt.name}-${k++}`)}function $(Nt,Mt){const Ye=Mt.getContext("2d");if(Ye)try{Ye.drawImage(Nt,0,0)}catch(st){}}function ue(Nt,Mt,Ye,st){const je={top:Nt.top,bottom:Nt.bottom,left:Nt.left,right:Nt.right};return Mt.top&&(je.top+=st),Mt.bottom&&(je.bottom+=st),Mt.left&&(je.left+=Ye),Mt.right&&(je.right+=Ye),je.height=je.bottom-je.top,je.width=je.right-je.left,je}const Y=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function G(Nt,Mt){return Nt.left&&Nt.top?Mt.topLeft:Nt.right&&Nt.top?Mt.topRight:Nt.left&&Nt.bottom?Mt.bottomLeft:Nt.right&&Nt.bottom?Mt.bottomRight:Nt.left||Nt.right?Mt.leftOrRight:Nt.top||Nt.bottom?Mt.topOrBottom:""}function he({edges:Nt,initialRectangle:Mt,newRectangle:Ye}){const st={};return Object.keys(Nt).forEach(je=>{st[je]=(Ye[je]||0)-(Mt[je]||0)}),st}const j="resize-active";let z=(()=>{class Nt{constructor(Ye,st,je,It){this.platformId=Ye,this.renderer=st,this.elm=je,this.zone=It,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=Y,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new e.vpe,this.resizing=new e.vpe,this.resizeEnd=new e.vpe,this.mouseup=new g.x,this.mousedown=new g.x,this.mousemove=new g.x,this.destroy$=new g.x,this.pointerEventListeners=oe.getInstance(st,It)}ngOnInit(){const Ye=(0,P.T)(this.pointerEventListeners.pointerDown,this.mousedown),st=(0,P.T)(this.pointerEventListeners.pointerMove,this.mousemove).pipe((0,R.b)(({event:gt})=>{if(It)try{gt.preventDefault()}catch(un){}}),(0,L.B)()),je=(0,P.T)(this.pointerEventListeners.pointerUp,this.mouseup);let It;const ne=()=>{It&&It.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(It.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},Ne=()=>Object.assign(Object.assign({},Y),this.resizeCursors);Ye.pipe((0,J.z)(gt=>{function un(_t){return{clientX:_t.clientX-gt.clientX,clientY:_t.clientY-gt.clientY}}const In=()=>{const _t={x:1,y:1};return It&&(this.resizeSnapGrid.left&&It.edges.left?_t.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&It.edges.right&&(_t.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&It.edges.top?_t.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&It.edges.bottom&&(_t.y=+this.resizeSnapGrid.bottom)),_t};function en(_t,et){return{x:Math.ceil(_t.clientX/et.x),y:Math.ceil(_t.clientY/et.y)}}return(0,P.T)(st.pipe((0,N.q)(1)).pipe((0,w.U)(_t=>[,_t])),st.pipe(function S(){return(0,x.e)((Nt,Mt)=>{let Ye,st=!1;Nt.subscribe(new D.Q(Mt,je=>{const It=Ye;Ye=je,st&&Mt.next([It,je]),st=!0}))})}())).pipe((0,w.U)(([_t,et])=>[_t&&un(_t),un(et)])).pipe((0,U.h)(([_t,et])=>{if(!_t)return!0;const de=In(),Je=en(_t,de),ze=en(et,de);return Je.x!==ze.x||Je.y!==ze.y})).pipe((0,w.U)(([,_t])=>{const et=In();return{clientX:Math.round(_t.clientX/et.x)*et.x,clientY:Math.round(_t.clientY/et.y)*et.y}})).pipe((0,F.R)((0,P.T)(je,Ye)))})).pipe((0,U.h)(()=>!!It)).pipe((0,w.U)(({clientX:gt,clientY:un})=>ue(It.startingRect,It.edges,gt,un))).pipe((0,U.h)(gt=>this.allowNegativeResizes||!!(gt.height&&gt.width&&gt.height>0&&gt.width>0))).pipe((0,U.h)(gt=>!this.validateResize||this.validateResize({rectangle:gt,edges:he({edges:It.edges,initialRectangle:It.startingRect,newRectangle:gt})})),(0,F.R)(this.destroy$)).subscribe(gt=>{It&&It.clonedNode&&(this.renderer.setStyle(It.clonedNode,"height",`${gt.height}px`),this.renderer.setStyle(It.clonedNode,"width",`${gt.width}px`),this.renderer.setStyle(It.clonedNode,"top",`${gt.top}px`),this.renderer.setStyle(It.clonedNode,"left",`${gt.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:he({edges:It.edges,initialRectangle:It.startingRect,newRectangle:gt}),rectangle:gt})}),It.currentRect=gt}),Ye.pipe((0,w.U)(({edges:gt})=>gt||{}),(0,U.h)(gt=>Object.keys(gt).length>0),(0,F.R)(this.destroy$)).subscribe(gt=>{It&&ne();const un=function q(Nt,Mt){let Ye=0,st=0;const je=Nt.nativeElement.style,ne=["transform","-ms-transform","-moz-transform","-o-transform"].map(Ne=>je[Ne]).find(Ne=>!!Ne);if(ne&&ne.includes("translate")&&(Ye=ne.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),st=ne.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===Mt)return{height:Nt.nativeElement.offsetHeight,width:Nt.nativeElement.offsetWidth,top:Nt.nativeElement.offsetTop-st,bottom:Nt.nativeElement.offsetHeight+Nt.nativeElement.offsetTop-st,left:Nt.nativeElement.offsetLeft-Ye,right:Nt.nativeElement.offsetWidth+Nt.nativeElement.offsetLeft-Ye};{const Ne=Nt.nativeElement.getBoundingClientRect();return{height:Ne.height,width:Ne.width,top:Ne.top-st,bottom:Ne.bottom-st,left:Ne.left-Ye,right:Ne.right-Ye,scrollTop:Nt.nativeElement.scrollTop,scrollLeft:Nt.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);It={edges:gt,startingRect:un,currentRect:un};const In=Ne(),en=G(It.edges,In);this.renderer.setStyle(document.body,"cursor",en),this.setElementClass(this.elm,j,!0),this.enableGhostResize&&(It.clonedNode=function te(Nt){const Mt=Nt.cloneNode(!0),Ye=Mt.querySelectorAll("[id]"),st=Nt.nodeName.toLowerCase();return Mt.removeAttribute("id"),Ye.forEach(je=>{je.removeAttribute("id")}),"canvas"===st?$(Nt,Mt):("input"===st||"select"===st||"textarea"===st)&&O(Nt,Mt),V("canvas",Nt,Mt,$),V("input, textarea, select",Nt,Mt,O),Mt}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(It.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(It.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(It.clonedNode,"left",`${It.startingRect.left}px`),this.renderer.setStyle(It.clonedNode,"top",`${It.startingRect.top}px`),this.renderer.setStyle(It.clonedNode,"height",`${It.startingRect.height}px`),this.renderer.setStyle(It.clonedNode,"width",`${It.startingRect.width}px`),this.renderer.setStyle(It.clonedNode,"cursor",G(It.edges,In)),this.renderer.addClass(It.clonedNode,"resize-ghost-element"),It.clonedNode.scrollTop=It.startingRect.scrollTop,It.clonedNode.scrollLeft=It.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:he({edges:gt,initialRectangle:un,newRectangle:un}),rectangle:ue(un,{},0,0)})})}),je.pipe((0,F.R)(this.destroy$)).subscribe(()=>{It&&(this.renderer.removeClass(this.elm.nativeElement,j),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:he({edges:It.edges,initialRectangle:It.startingRect,newRectangle:It.currentRect}),rectangle:It.currentRect})}),ne(),It=null)})}ngOnDestroy(){(0,_.NF)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(Ye,st,je){je?this.renderer.addClass(Ye.nativeElement,st):this.renderer.removeClass(Ye.nativeElement,st)}}return Nt.\u0275fac=function(Ye){return new(Ye||Nt)(e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.R0b))},Nt.\u0275dir=e.lG2({type:Nt,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),Nt})();class oe{constructor(Mt,Ye){this.pointerDown=new y.y(st=>{let je,It;return Ye.runOutsideAngular(()=>{je=Mt.listen("document","mousedown",ne=>{st.next({clientX:ne.clientX,clientY:ne.clientY,event:ne})}),ce&&(It=Mt.listen("document","touchstart",ne=>{st.next({clientX:ne.touches[0].clientX,clientY:ne.touches[0].clientY,event:ne})}))}),()=>{je(),ce&&It()}}).pipe((0,L.B)()),this.pointerMove=new y.y(st=>{let je,It;return Ye.runOutsideAngular(()=>{je=Mt.listen("document","mousemove",ne=>{st.next({clientX:ne.clientX,clientY:ne.clientY,event:ne})}),ce&&(It=Mt.listen("document","touchmove",ne=>{st.next({clientX:ne.targetTouches[0].clientX,clientY:ne.targetTouches[0].clientY,event:ne})}))}),()=>{je(),ce&&It()}}).pipe((0,L.B)()),this.pointerUp=new y.y(st=>{let je,It,ne;return Ye.runOutsideAngular(()=>{je=Mt.listen("document","mouseup",Ne=>{st.next({clientX:Ne.clientX,clientY:Ne.clientY,event:Ne})}),ce&&(It=Mt.listen("document","touchend",Ne=>{st.next({clientX:Ne.changedTouches[0].clientX,clientY:Ne.changedTouches[0].clientY,event:Ne})}),ne=Mt.listen("document","touchcancel",Ne=>{st.next({clientX:Ne.changedTouches[0].clientX,clientY:Ne.changedTouches[0].clientY,event:Ne})}))}),()=>{je(),ce&&(It(),ne())}}).pipe((0,L.B)())}static getInstance(Mt,Ye){return oe.instance||(oe.instance=new oe(Mt,Ye)),oe.instance}}let Te=(()=>{class Nt{constructor(Ye,st,je,It){this.renderer=Ye,this.element=st,this.zone=je,this.resizableDirective=It,this.resizeEdges={},this.eventListeners={},this.destroy$=new g.x}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(Ye=>{this.onMousedown(Ye,Ye.clientX,Ye.clientY)}),this.listenOnTheHost("mouseup").subscribe(Ye=>{this.onMouseup(Ye.clientX,Ye.clientY)}),ce&&(this.listenOnTheHost("touchstart").subscribe(Ye=>{this.onMousedown(Ye,Ye.touches[0].clientX,Ye.touches[0].clientY)}),(0,P.T)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(Ye=>{this.onMouseup(Ye.changedTouches[0].clientX,Ye.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(Ye,st,je){Ye.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",It=>{this.onMousemove(It,It.targetTouches[0].clientX,It.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",It=>{this.onMousemove(It,It.clientX,It.clientY)})),this.resizable.mousedown.next({clientX:st,clientY:je,edges:this.resizeEdges})}onMouseup(Ye,st){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:Ye,clientY:st,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(Ye,st,je){this.resizable.mousemove.next({clientX:st,clientY:je,edges:this.resizeEdges,event:Ye})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(Ye=>{this.eventListeners[Ye](),delete this.eventListeners[Ye]})}listenOnTheHost(Ye){return(0,l.R)(this.element.nativeElement,Ye).pipe((0,F.R)(this.destroy$))}}return Nt.\u0275fac=function(Ye){return new(Ye||Nt)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(z,8))},Nt.\u0275dir=e.lG2({type:Nt,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),Nt})(),Ae=(()=>{class Nt{}return Nt.\u0275fac=function(Ye){return new(Ye||Nt)},Nt.\u0275mod=e.oAB({type:Nt}),Nt.\u0275inj=e.cJS({}),Nt})();const Ke=["terminal"],be=["resizeBox"],Qe=["detectBox"],X=function(Nt){return{"handle-active":Nt}},xe=function(){return{top:!1}},we=function(){return{left:!1}},Oe=function(){return{right:!0}},dt=function(){return{right:!1}},bt=function(){return{bottom:!0}},it=function(){return{bottom:!1}};let Dt=(()=>{class Nt{constructor(Ye){this.hostRef=Ye,this.handlerToCheckElementConnection=void 0,this.propertyChangeQueue=[],this.itemsToBeHandled=new g.x,this.handleImmediate=()=>{if(!this.handlerToCheckElementConnection){let st=this.propertyChangeQueue.splice(0,1);1==st.length&&this.itemsToBeHandled.next(st[0])}}}get renderObservable(){return this.itemsToBeHandled}handleNextOne(Ye=!1){!this.hostRef.nativeElement.isConnected||Ye?this.pollAndHandle(this.hostRef.nativeElement.isConnected?"LAZY":"NOT_CONNECTED_ELEMENT"):this.handleImmediate()}pushAndHandle(Ye,st=!1){let je=Object.assign({},Ye);this.propertyChangeQueue.push(je),this.handleNextOne(st)}pollAndHandle(Ye){(()=>{if(this.handlerToCheckElementConnection)return;const je=setInterval(()=>{this.hostRef.nativeElement.isConnected&&(clearInterval(je),this.handlerToCheckElementConnection=void 0,this.handleImmediate())},"NOT_CONNECTED_ELEMENT"===Ye?500:30);this.handlerToCheckElementConnection=je})()}ngOnDestroy(){this.handlerToCheckElementConnection&&clearInterval(this.handlerToCheckElementConnection)}}return Nt.\u0275fac=function(Ye){return new(Ye||Nt)(e.LFG(e.SBq))},Nt.\u0275prov=e.Yz7({token:Nt,factory:Nt.\u0275fac,providedIn:"root"}),Nt})(),vt=(()=>{class Nt{constructor(){}ngOnInit(){}}return Nt.\u0275fac=function(Ye){return new(Ye||Nt)},Nt.\u0275cmp=e.Xpm({type:Nt,selectors:[["global-style"]],decls:0,vars:0,template:function(Ye,st){},styles:['/**\n * Copyright (c) 2014 The xterm.js authors. All rights reserved.\n * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)\n * https://github.com/chjj/term.js\n * @license MIT\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the "Software"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n * Originally forked from (with the author\'s permission):\n *   Fabrice Bellard\'s javascript vt100 for jslinux:\n *   http://bellard.org/jslinux/\n *   Copyright (c) 2011 Fabrice Bellard\n *   The original design remains. The terminal itself\n *   has been extended to include xterm CSI codes, among\n *   other features.\n */.xterm{cursor:text;position:relative;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:5}.xterm .xterm-helper-textarea{padding:0;border:0;margin:0;position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-5;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;inset:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility,.xterm .xterm-message{position:absolute;inset:0;z-index:10;color:transparent;pointer-events:none}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:1!important}.xterm-underline-1{text-decoration:underline}.xterm-underline-2{-webkit-text-decoration:double underline;text-decoration:double underline}.xterm-underline-3{-webkit-text-decoration:wavy underline;text-decoration:wavy underline}.xterm-underline-4{-webkit-text-decoration:dotted underline;text-decoration:dotted underline}.xterm-underline-5{-webkit-text-decoration:dashed underline;text-decoration:dashed underline}.xterm-overline{text-decoration:overline}.xterm-overline.xterm-underline-1{text-decoration:overline underline}.xterm-overline.xterm-underline-2{-webkit-text-decoration:overline double underline;text-decoration:overline double underline}.xterm-overline.xterm-underline-3{-webkit-text-decoration:overline wavy underline;text-decoration:overline wavy underline}.xterm-overline.xterm-underline-4{-webkit-text-decoration:overline dotted underline;text-decoration:overline dotted underline}.xterm-overline.xterm-underline-5{-webkit-text-decoration:overline dashed underline;text-decoration:overline dashed underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}.xterm-screen .xterm-decoration-container .xterm-decoration.xterm-decoration-top-layer{z-index:7}.xterm-decoration-overview-ruler{z-index:8;position:absolute;top:0;right:0;pointer-events:none}.xterm-decoration-top{z-index:2;position:relative}\n'],encapsulation:2}),Nt})(),Gt=(()=>{class Nt{constructor(Ye,st){this.renderer=Ye,this.hostRef=st,this.dataSubject=new g.x,this.keySubject=new g.x,this.keyInputSubjectSubscription=void 0,this.keyEventSubjectSubscription=void 0,this.allLogsSubjectSubscription=void 0,this.dataSourceSubscription=void 0,this.resizableObservers=[],this.dataSource=void 0,this.paddingSize=5,this.stylesForResizeBox={display:"block"},this.keyInputEmitter=new e.vpe,this.keyEventEmitter=new e.vpe,this.dataEmitter=this.keyInputEmitter,this.keyEmitter=this.keyEventEmitter,this._xtermOptions={},this.lastDraggedPosition=void 0,this._draggable=!1,this._stylesInput={},this.handleToCheckLazyContainer=void 0,this.lastDetectedWidth=0,this.linearRender=new Dt(st)}set _dataSource(Ye){!Ye||(null!=this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.dataSource=Ye,this.dataSourceSubscription=this.dataSource.subscribe(st=>this.write(st)))}set draggable(Ye){this._draggable=Ye}get draggable(){return this._draggable}setMinWidth(Ye){this._minWidthInput=Ye}setMinHeight(Ye){this._minHeightInput=Ye}setDraggable(Ye){this._draggable=Ye,this.lastDraggedPosition=void 0}setXtermOptions(Ye){this._xtermOptions=Ye,this.linearRender.pushAndHandle({time:new Date,type:"none"})}setRows(Ye){this._rowsInput!=Ye&&(this._rowsInput=Ye,this.linearRender.pushAndHandle({time:new Date,type:"rowChanged"}))}setCols(Ye){this._colsInput!=Ye&&(this._colsInput=Ye,this.linearRender.pushAndHandle({time:new Date,type:"columnChanged"}))}setStyle(Ye){var st;JSON.stringify(null!==(st=this._stylesInput)&&void 0!==st?st:{})!=JSON.stringify(null!=Ye?Ye:{})&&(this._stylesInput=Ye,this.linearRender.pushAndHandle({time:new Date,type:"none"}))}setup(){this.xterm&&(this.xterm.onData(Ye=>{this.dataSubject.next(Ye)}),this.xterm.onKey(Ye=>{this.keySubject.next(Ye)})),this.keyInputSubjectSubscription=this.dataSubject.subscribe(Ye=>{this.keyInputEmitter.emit(Ye)}),this.keyEventSubjectSubscription=this.keySubject.subscribe(Ye=>{this.keyEventEmitter.emit(Ye)}),this.setupResizeObservers(),this.allLogsSubjectSubscription=this.linearRender.renderObservable.subscribe(Ye=>{this.coordinateOuterAndTerminal(Ye),this.linearRender.handleNextOne()}),this.linearRender.handleNextOne()}setOuterDimensions(Ye,st,je,It){this.linearRender.pushAndHandle({time:new Date,type:"dragged",dragged:{draggedWidth:`${je}px`,draggedHeight:`${It}px`}})}applyStylesToResizeBox(){Object.keys(this.stylesForResizeBox).map(Ye=>({key:Ye,value:this.stylesForResizeBox[Ye]})).forEach(({key:Ye,value:st})=>{this.resizeBox&&(st?this.renderer.setStyle(this.resizeBox.nativeElement,Ye,st):this.renderer.removeStyle(this.resizeBox.nativeElement,Ye))}),this.stylesForResizeBox=this.stylesForResizeBox}ngOnInit(){}ngAfterViewInit(){this.fitAddon=new f.FitAddon,this.xterm=new a.Terminal({allowProposedApi:!0}),this.terminalOuter.nativeElement.isConnected?(this.xterm.open(this.terminalOuter.nativeElement),this.xterm.loadAddon(this.fitAddon),this.setup(),this.linearRender.pushAndHandle({time:new Date,type:"none"})):this.handleToCheckLazyContainer=setInterval(()=>{if(this.terminalOuter.nativeElement.isConnected)try{console.debug("The container's been connected."),this.xterm.open(this.terminalOuter.nativeElement),this.xterm.loadAddon(this.fitAddon),this.setup(),this.linearRender.pushAndHandle({time:new Date,type:"none"})}finally{this.handleToCheckLazyContainer&&clearInterval(this.handleToCheckLazyContainer)}},500)}ngOnChanges(Ye){var st,je,It,ne;console.group("onChanges"),console.debug("prop: ",Ye),console.groupEnd(),null!=Ye&&Ye._rowsInput&&(null===(st=null==Ye?void 0:Ye._rowsInput)||void 0===st?void 0:st.previousValue)!=(null===(je=null==Ye?void 0:Ye._rowsInput)||void 0===je?void 0:je.currentValue)&&this.linearRender.pushAndHandle({time:new Date,type:"rowChanged"}),null!=Ye&&Ye._colsInput&&(null===(It=null==Ye?void 0:Ye._colsInput)||void 0===It?void 0:It.previousValue)!=(null===(ne=null==Ye?void 0:Ye._colsInput)||void 0===ne?void 0:ne.currentValue)&&this.linearRender.pushAndHandle({time:new Date,type:"columnChanged"}),null!=Ye&&Ye.draggable&&this.linearRender.pushAndHandle({time:new Date,type:"none"})}coordinateOuterAndTerminal(Ye){var st;console.debug(`changeList: ${JSON.stringify(Ye)}`),this.xterm&&(null!==(null===(st=this.hostRef.nativeElement)||void 0===st?void 0:st.offsetParent)?(this.doUpdateXtermStyles(),this.doAdjustDimensionOfResizeBox(Ye),this.doAdjustSizeOfXtermScreen(Ye),this.doUpdateViewportAndResizeBoxWithPixcelUnit()):console.debug("`display` of host element was set to `none`"))}doUpdateXtermStyles(){var Ye,st;!this.xterm||(this.xterm.options=Object.assign({},this._xtermOptions),!(null===(Ye=this._xtermOptions.theme)||void 0===Ye)&&Ye.background&&(this.resizeHandleStyleRule||(this.resizeHandleStyleRule=this.findCssStyleRule(".resize-handle[")),this.resizeHandleStyleRule&&(this.resizeHandleStyleRule.style.backgroundColor=this._xtermOptions.theme.background)),null!==(st=this._xtermOptions.theme)&&void 0!==st&&st.border&&(this.resizeHandleActiveStyleRule||(this.resizeHandleActiveStyleRule=this.findCssStyleRule(".handle-active")),this.resizeHandleActiveStyleRule&&(this.resizeHandleActiveStyleRule.style.backgroundColor=this._xtermOptions.theme.border)))}doAdjustDimensionOfResizeBox(Ye){var st,je;if(this.stylesForResizeBox=Object.assign(Object.assign(Object.assign({},this.stylesForResizeBox),this._stylesInput),{width:this.stylesForResizeBox.width,height:this.stylesForResizeBox.height}),"dragged"===Ye.type){const It=null!==(st=this._minWidthInput)&&void 0!==st?st:24,ne=null!==(je=this._minHeightInput)&&void 0!==je?je:24,Ne=parseInt(Ye.dragged.draggedWidth)>It?Ye.dragged.draggedWidth:`${It}px`,me=parseInt(Ye.dragged.draggedHeight)>ne?Ye.dragged.draggedHeight:`${ne}px`;this.stylesForResizeBox.width=Ne,this.stylesForResizeBox.height=me,this.lastDraggedPosition={width:Ne,height:me},this.applyStylesToResizeBox()}else if(!this.draggable||!this.lastDraggedPosition){const It=getComputedStyle(this.hostRef.nativeElement).width,ne=getComputedStyle(this.detectBox.nativeElement).width;let Ne=!1;parseFloat(ne)<parseFloat(It)&&(Ne=!0),Ne?(this.stylesForResizeBox.width=`${parseFloat(ne)}px`,this.applyStylesToResizeBox()):(this._rowsInput||(this.stylesForResizeBox.height="100%"),this._colsInput||(this.stylesForResizeBox.width="100%"),this.applyStylesToResizeBox())}}doAdjustSizeOfXtermScreen(Ye){var st,je,It;!this.xterm||("rowChanged"==Ye.type&&this._rowsInput||"columnChanged"==Ye.type&&this._colsInput?this.xterm.resize(null!==(st=this._colsInput)&&void 0!==st?st:this.xterm.cols,null!==(je=this._rowsInput)&&void 0!==je?je:this.xterm.rows):this.xterm.element&&(this.xterm.element.style.paddingLeft=`${this.paddingSize}px`,this.printDimension("Before fitAddon.fit() of Xterm"),null===(It=this.fitAddon)||void 0===It||It.fit(),this.printDimension("After fitAddon.fit() of Xterm"),this.xterm.element.style.paddingLeft="0px"))}doUpdateViewportAndResizeBoxWithPixcelUnit(){var Ye;if(null!==(Ye=this.xterm)&&void 0!==Ye&&Ye.element){let st=this.xterm.element.getElementsByClassName("xterm-screen")[0],je=this.xterm.element.getElementsByClassName("xterm-viewport")[0];const It=st.clientWidth,ne=st.clientHeight,me=this.underlying._core.viewport.scrollBarWidth;parseInt(getComputedStyle(this.hostRef.nativeElement).width),this.renderer.setStyle(je,"width",`${It+me}px`);const un=It+me+2*this.paddingSize,en=parseInt(getComputedStyle(this.hostRef.nativeElement).width),_t=un>en?en:un;this.stylesForResizeBox=Object.assign(Object.assign({},this.stylesForResizeBox),{width:`${_t}px`,height:`${ne+2*this.paddingSize}px`}),this.applyStylesToResizeBox(),this.printDimension("After update the dimensions for all boxes with pixel values")}}printDimension(Ye){var st;if((0,e.X6Q)()&&(null===(st=this.xterm)||void 0===st?void 0:st.element)){let je=this.resizeBox.nativeElement,It=this.xterm.element.getElementsByClassName("xterm-screen")[0],ne=this.xterm.element.getElementsByClassName("xterm-viewport")[0];const Ne=It.clientWidth,me=It.clientHeight;console.group(`${Ye}`),console.debug(`width(resizeBox): ${getComputedStyle(je).width},\nwidth(viewport): ${getComputedStyle(ne).width},\nwidth(screen): ${Ne}\nscrollBarWidth: ${this.scrollBarWidth}`),console.debug(`height(resizeBox): ${getComputedStyle(je).height},\nheight(viewport) ${getComputedStyle(ne).height},\nheight(screen): ${me}`),console.groupEnd()}}setupResizeObservers(){this.resizableObservers=[];let Ye=this.observeXtermViewportDimension(),st=this.observeHostDimension();Ye&&this.resizableObservers.push(Ye),st&&this.resizableObservers.push(st)}observeXtermViewportDimension(){let Ye=this.terminalOuter.nativeElement.querySelector(".xterm-viewport");if(Ye){const st=new ResizeObserver(je=>{var It,ne;const Ne=null===(It=this.terminalOuter.nativeElement)||void 0===It?void 0:It.clientWidth,me=null===(ne=this.terminalOuter.nativeElement)||void 0===ne?void 0:ne.clientHeight;for(let gt of je)if(gt.contentBoxSize.length>0){let un=gt.target.clientWidth,In=gt.target.clientHeight;(Ne&&un>Ne||me&&In>me)&&(console.debug("Changes on a xterm viewport element will be handled."),this.linearRender.pushAndHandle({time:new Date,type:"xtermViewportExceedingOuterDiv",xtermViewportExceedingOuterDiv:{width:`${un}`,height:`${In}`,outerDivWidth:`${Ne}`,outerDivHeight:`${me}`}},!0))}});return st.observe(Ye),st}console.error("Invalid state is detected. xterm element should exist below .terminal-outer.")}observeHostDimension(){let Ye=this.hostRef.nativeElement,st=this.detectBox.nativeElement;if(Ye&&st){const je=new ResizeObserver(It=>{for(let ne of It){if(ne.target===Ye&&ne.contentBoxSize.length>0){let Ne=getComputedStyle(ne.target).width,me=getComputedStyle(ne.target).height;parseInt(Ne)>=0&&parseInt(me)>=0&&(console.debug("Changes on a host element will be handled."),this.linearRender.pushAndHandle({time:new Date,type:"hostResized",hostResized:{width:`${Ne}`,height:`${me}`}},!0))}if(ne.target===st&&ne.contentBoxSize.length>0){let Ne=getComputedStyle(ne.target).width;parseInt(Ne)>=0&&parseInt(Ne)<=this.lastDetectedWidth&&(console.debug("Changes on a detect-box element will be handled."),this.linearRender.pushAndHandle({time:new Date,type:"detectBoxResized",detectBoxResized:{width:`${Ne}`}},!0)),this.lastDetectedWidth=parseInt(Ne)}}});return je.observe(Ye),je.observe(st),je}console.error("Invalid state is detected. xterm element should exist below .terminal-outer.")}ngOnDestroy(){this.resizableObservers.forEach(Ye=>Ye.disconnect()),this.keyInputSubjectSubscription&&this.keyInputSubjectSubscription.unsubscribe(),this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.keyEventSubjectSubscription&&this.keyEventSubjectSubscription.unsubscribe(),this.allLogsSubjectSubscription&&this.allLogsSubjectSubscription.unsubscribe(),this.handleToCheckLazyContainer&&clearInterval(this.handleToCheckLazyContainer),this.xterm&&this.xterm.dispose(),console.debug("All resources has been cleaned up.")}write(Ye){var st;null===(st=this.xterm)||void 0===st||st.write(Ye)}get keyInput(){return this.dataSubject}onData(){return this.dataSubject}get keyEventInput(){return this.keySubject}onKey(){return this.keySubject}get underlying(){return this.xterm}get isDraggableOnEdgeActivated(){return this._draggable}get scrollBarWidth(){return this.underlying._core.viewport.scrollBarWidth}onResizeEnd(Ye,st,je,It){this.setOuterDimensions(Ye,st,je,It)}validatorFactory(){return st=>!!this._draggable}findCssStyleRule(Ye){for(let st=0;st<document.styleSheets.length;st++){let je=document.styleSheets.item(st);if(je)for(let It=0;It<je.cssRules.length;It++){let ne=je.cssRules.item(It);if("selectorText"in ne&&ne.selectorText.includes(Ye))return ne}}}}return Nt.\u0275fac=function(Ye){return new(Ye||Nt)(e.Y36(e.Qsj),e.Y36(e.SBq))},Nt.\u0275cmp=e.Xpm({type:Nt,selectors:[["ng-terminal"]],viewQuery:function(Ye,st){if(1&Ye&&(e.Gf(Ke,7),e.Gf(be,7),e.Gf(Qe,7)),2&Ye){let je;e.iGM(je=e.CRH())&&(st.terminalOuter=je.first),e.iGM(je=e.CRH())&&(st.resizeBox=je.first),e.iGM(je=e.CRH())&&(st.detectBox=je.first)}},inputs:{_dataSource:["dataSource","_dataSource"],_rowsInput:["rows","_rowsInput"],_colsInput:["cols","_colsInput"],_minWidthInput:["minWidth","_minWidthInput"],_minHeightInput:["minHeight","_minHeightInput"],draggable:"draggable",_xtermOptions:["xtermOptions","_xtermOptions"]},outputs:{keyInputEmitter:"keyInput",keyEventEmitter:"keyEvent",dataEmitter:"data",keyEmitter:"key"},features:[e._Bn([Dt]),e.TTD],decls:11,vars:24,consts:[["mwlResizable","",1,"resize-box",3,"validateResize","enableGhostResize","resizeEnd"],["resizeBox",""],[1,"terminal-outer"],["terminal",""],["mwlResizeHandle","",1,"resize-handle","resize-handle-top",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-left",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-right",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-bottom",3,"ngClass","resizeEdges"],[2,"width","100%","height","0px","position","absolute"],["detectBox",""]],template:function(Ye,st){1&Ye&&(e._UZ(0,"global-style"),e.TgZ(1,"div",0,1),e.NdJ("resizeEnd",function(It){let ne;return st.onResizeEnd(It.rectangle.left,It.rectangle.top,null!==(ne=It.rectangle.width)&&void 0!==ne?ne:0,null!==(ne=It.rectangle.height)&&void 0!==ne?ne:0)}),e._UZ(3,"div",2,3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),e.qZA(),e._UZ(9,"div",8,9)),2&Ye&&(e.xp6(1),e.Q6J("validateResize",st.validatorFactory())("enableGhostResize",!0),e.xp6(4),e.Q6J("ngClass",e.VKq(10,X,st.isDraggableOnEdgeActivated))("resizeEdges",e.DdM(12,xe)),e.xp6(1),e.Q6J("ngClass",e.VKq(13,X,st.isDraggableOnEdgeActivated))("resizeEdges",e.DdM(15,we)),e.xp6(1),e.Q6J("ngClass",e.VKq(16,X,st.isDraggableOnEdgeActivated))("resizeEdges",st.isDraggableOnEdgeActivated?e.DdM(18,Oe):e.DdM(19,dt)),e.xp6(1),e.Q6J("ngClass",e.VKq(20,X,st.isDraggableOnEdgeActivated))("resizeEdges",st.isDraggableOnEdgeActivated?e.DdM(22,bt):e.DdM(23,it)))},dependencies:[z,Te,_.mk,vt],styles:[".terminal-outer[_ngcontent-%COMP%]{box-sizing:border-box;height:100%;width:100%;padding:5px}[_nghost-%COMP%]{display:block;height:100%;width:100%}.resize-box[_ngcontent-%COMP%]{box-sizing:border-box;height:100%;width:100%;position:relative}div[_ngcontent-%COMP%] > .handle-active[_ngcontent-%COMP%]{z-index:100;background-color:#85858a!important}.resize-handle[_ngcontent-%COMP%]{background-color:#000}.resize-handle-top.handle-active[_ngcontent-%COMP%], .resize-handle-bottom.handle-active[_ngcontent-%COMP%]{cursor:row-resize}.resize-handle-left.handle-active[_ngcontent-%COMP%], .resize-handle-right.handle-active[_ngcontent-%COMP%]{cursor:col-resize}.resize-handle-top[_ngcontent-%COMP%], .resize-handle-bottom[_ngcontent-%COMP%]{position:absolute;height:5px;width:100%}.resize-handle-top[_ngcontent-%COMP%]{top:0}.resize-handle-bottom[_ngcontent-%COMP%]{bottom:0}.resize-handle-left[_ngcontent-%COMP%], .resize-handle-right[_ngcontent-%COMP%]{position:absolute;height:100%;width:5px}.resize-handle-left[_ngcontent-%COMP%]{left:0;top:0}.resize-handle-right[_ngcontent-%COMP%]{right:0;top:0}"],changeDetection:0}),Nt})(),Ht=(()=>{class Nt{}return Nt.\u0275fac=function(Ye){return new(Ye||Nt)},Nt.\u0275mod=e.oAB({type:Nt}),Nt.\u0275inj=e.cJS({imports:[Ae,_.ez]}),Nt})()},3877:(mn,ht,b)=>{"use strict";b.d(ht,{QG:()=>q,ap:()=>ue});var e=b(5e3),a=b(655),f=b(2313),g=b(9808);const _=["wrapper"],P=["sourceImage"];function y(G,he){if(1&G){const j=e.EpF();e.TgZ(0,"img",4,5),e.NdJ("load",function(){e.CHM(j);const K=e.oxw();return e.KtG(K.imageLoadedInView())})("mousedown",function(K){e.CHM(j);const z=e.oxw();return e.KtG(z.startMove(K,z.moveTypes.Drag))})("touchstart",function(K){e.CHM(j);const z=e.oxw();return e.KtG(z.startMove(K,z.moveTypes.Drag))}),e.qZA()}if(2&G){const j=e.oxw();e.Udp("visibility",j.imageVisible?"visible":"hidden")("transform",j.safeTransformStyle),e.ekj("ngx-ic-draggable",!j.disabled&&j.allowMoveImage),e.Q6J("src",j.safeImgDataUrl,e.LSH),e.uIk("alt",j.imageAltText)}}function l(G,he){if(1&G){const j=e.EpF();e.ynx(0),e.TgZ(1,"span",9),e.NdJ("mousedown",function(K){e.CHM(j);const z=e.oxw(2);return e.KtG(z.startMove(K,z.moveTypes.Resize,"topleft"))})("touchstart",function(K){e.CHM(j);const z=e.oxw(2);return e.KtG(z.startMove(K,z.moveTypes.Resize,"topleft"))}),e._UZ(2,"span",10),e.qZA(),e.TgZ(3,"span",11),e._UZ(4,"span",10),e.qZA(),e.TgZ(5,"span",12),e.NdJ("mousedown",function(K){e.CHM(j);const z=e.oxw(2);return e.KtG(z.startMove(K,z.moveTypes.Resize,"topright"))})("touchstart",function(K){e.CHM(j);const z=e.oxw(2);return e.KtG(z.startMove(K,z.moveTypes.Resize,"topright"))}),e._UZ(6,"span",10),e.qZA(),e.TgZ(7,"span",13),e._UZ(8,"span",10),e.qZA(),e.TgZ(9,"span",14),e.NdJ("mousedown",function(K){e.CHM(j);const z=e.oxw(2);return e.KtG(z.startMove(K,z.moveTypes.Resize,"bottomright"))})("touchstart",function(K){e.CHM(j);const z=e.oxw(2);return e.KtG(z.startMove(K,z.moveTypes.Resize,"bottomright"))}),e._UZ(10,"span",10),e.qZA(),e.TgZ(11,"span",15),e._UZ(12,"span",10),e.qZA(),e.TgZ(13,"span",16),e.NdJ("mousedown",function(K){e.CHM(j);const z=e.oxw(2);return e.KtG(z.startMove(K,z.moveTypes.Resize,"bottomleft"))})("touchstart",function(K){e.CHM(j);const z=e.oxw(2);return e.KtG(z.startMove(K,z.moveTypes.Resize,"bottomleft"))}),e._UZ(14,"span",10),e.qZA(),e.TgZ(15,"span",17),e._UZ(16,"span",10),e.qZA(),e.TgZ(17,"span",18),e.NdJ("mousedown",function(K){e.CHM(j);const z=e.oxw(2);return e.KtG(z.startMove(K,z.moveTypes.Resize,"top"))})("touchstart",function(K){e.CHM(j);const z=e.oxw(2);return e.KtG(z.startMove(K,z.moveTypes.Resize,"top"))}),e.qZA(),e.TgZ(18,"span",19),e.NdJ("mousedown",function(K){e.CHM(j);const z=e.oxw(2);return e.KtG(z.startMove(K,z.moveTypes.Resize,"right"))})("touchstart",function(K){e.CHM(j);const z=e.oxw(2);return e.KtG(z.startMove(K,z.moveTypes.Resize,"right"))}),e.qZA(),e.TgZ(19,"span",20),e.NdJ("mousedown",function(K){e.CHM(j);const z=e.oxw(2);return e.KtG(z.startMove(K,z.moveTypes.Resize,"bottom"))})("touchstart",function(K){e.CHM(j);const z=e.oxw(2);return e.KtG(z.startMove(K,z.moveTypes.Resize,"bottom"))}),e.qZA(),e.TgZ(20,"span",21),e.NdJ("mousedown",function(K){e.CHM(j);const z=e.oxw(2);return e.KtG(z.startMove(K,z.moveTypes.Resize,"left"))})("touchstart",function(K){e.CHM(j);const z=e.oxw(2);return e.KtG(z.startMove(K,z.moveTypes.Resize,"left"))}),e.qZA(),e.BQk()}}function R(G,he){if(1&G){const j=e.EpF();e.TgZ(0,"div",6),e.NdJ("keydown",function(K){e.CHM(j);const z=e.oxw();return e.KtG(z.keyboardAccess(K))}),e.TgZ(1,"div",7),e.NdJ("mousedown",function(K){e.CHM(j);const z=e.oxw();return e.KtG(z.startMove(K,z.moveTypes.Move))})("touchstart",function(K){e.CHM(j);const z=e.oxw();return e.KtG(z.startMove(K,z.moveTypes.Move))}),e.qZA(),e.YNc(2,l,21,0,"ng-container",8),e.qZA()}if(2&G){const j=e.oxw();e.Udp("top",j.cropper.y1,"px")("left",j.cropper.x1,"px")("width",j.cropper.x2-j.cropper.x1,"px")("height",j.cropper.y2-j.cropper.y1,"px")("margin-left","center"===j.alignImage?j.marginLeft:null)("visibility",j.imageVisible?"visible":"hidden"),e.ekj("ngx-ic-round",j.roundCropper),e.xp6(2),e.Q6J("ngIf",!j.hideResizeSquares)}}class L{constructor(){this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resetCropOnAspectRatioChange=!0,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=null,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(he){Object.keys(he).filter(j=>j in this).forEach(j=>this[j]=he[j]),this.validateOptions()}setOptionsFromChanges(he){Object.keys(he).filter(j=>j in this).forEach(j=>this[j]=he[j].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}}var J=(()=>{return(G=J||(J={})).Drag="drag",G.Move="move",G.Resize="resize",G.Pinch="pinch",J;var G})();function S(G,he){return G/100*he}let U=(()=>{class G{crop(j,Q,K,z){const oe=this.getImagePosition(j,Q,K,z),Te=oe.x2-oe.x1,Ae=oe.y2-oe.y1,Ke=document.createElement("canvas");Ke.width=Te,Ke.height=Ae;const be=Ke.getContext("2d");if(!be)return null;null!=z.backgroundColor&&(be.fillStyle=z.backgroundColor,be.fillRect(0,0,Te,Ae));const Qe=(z.transform.scale||1)*(z.transform.flipH?-1:1),X=(z.transform.scale||1)*(z.transform.flipV?-1:1),{translateH:xe,translateV:we}=this.getCanvasTranslate(j,Q,z),Oe=Q.transformed;be.setTransform(Qe,0,0,X,Oe.size.width/2+xe,Oe.size.height/2+we),be.translate(-oe.x1/Qe,-oe.y1/X),be.rotate((z.transform.rotate||0)*Math.PI/180),be.drawImage(Oe.image,-Oe.size.width/2,-Oe.size.height/2);const dt={width:Te,height:Ae,imagePosition:oe,cropperPosition:Object.assign({},K)};z.containWithinAspectRatio&&(dt.offsetImagePosition=this.getOffsetImagePosition(j,Q,K,z));const bt=this.getResizeRatio(Te,Ae,z);return 1!==bt&&(dt.width=Math.round(Te*bt),dt.height=z.maintainAspectRatio?Math.round(dt.width/z.aspectRatio):Math.round(Ae*bt),function D(G,he,j){const Q=G.width,K=G.height,z=Q/(he=Math.round(he)),oe=K/(j=Math.round(j)),Te=Math.ceil(z/2),Ae=Math.ceil(oe/2),Ke=G.getContext("2d");if(Ke){const be=Ke.getImageData(0,0,Q,K),Qe=Ke.createImageData(he,j),X=be.data,xe=Qe.data;for(let we=0;we<j;we++)for(let Oe=0;Oe<he;Oe++){const dt=4*(Oe+we*he),bt=we*oe;let it=0,Dt=0,vt=0,Gt=0,Ht=0,Ut=0,ct=0;const at=Math.floor(Oe*z),fe=Math.floor(we*oe);let ke=Math.ceil((Oe+1)*z),ot=Math.ceil((we+1)*oe);ke=Math.min(ke,Q),ot=Math.min(ot,K);for(let Ct=fe;Ct<ot;Ct++){const Ot=Math.abs(bt-Ct)/Ae,Nt=Oe*z,Mt=Ot*Ot;for(let Ye=at;Ye<ke;Ye++){const st=Math.abs(Nt-Ye)/Te,je=Math.sqrt(Mt+st*st);if(je>=1)continue;it=2*je*je*je-3*je*je+1;const It=4*(Ye+Ct*Q);ct+=it*X[It+3],vt+=it,X[It+3]<255&&(it=it*X[It+3]/250),Gt+=it*X[It],Ht+=it*X[It+1],Ut+=it*X[It+2],Dt+=it}}xe[dt]=Gt/Dt,xe[dt+1]=Ht/Dt,xe[dt+2]=Ut/Dt,xe[dt+3]=ct/vt}G.width=he,G.height=j,Ke.putImageData(Qe,0,0)}}(Ke,dt.width,dt.height)),dt.base64=Ke.toDataURL("image/"+z.format,this.getQuality(z)),dt}getCanvasTranslate(j,Q,K){if("px"===K.transform.translateUnit){const z=this.getRatio(j,Q);return{translateH:(K.transform.translateH||0)*z,translateV:(K.transform.translateV||0)*z}}return{translateH:K.transform.translateH?S(K.transform.translateH,Q.transformed.size.width):0,translateV:K.transform.translateV?S(K.transform.translateV,Q.transformed.size.height):0}}getRatio(j,Q){return Q.transformed.size.width/j.nativeElement.offsetWidth}getImagePosition(j,Q,K,z){const oe=this.getRatio(j,Q),Te={x1:Math.round(K.x1*oe),y1:Math.round(K.y1*oe),x2:Math.round(K.x2*oe),y2:Math.round(K.y2*oe)};return z.containWithinAspectRatio||(Te.x1=Math.max(Te.x1,0),Te.y1=Math.max(Te.y1,0),Te.x2=Math.min(Te.x2,Q.transformed.size.width),Te.y2=Math.min(Te.y2,Q.transformed.size.height)),Te}getOffsetImagePosition(j,Q,K,z){const Ae=Q.transformed.size.width/j.nativeElement.offsetWidth;let Ke,be;(z.canvasRotation+Q.exifTransform.rotate)%2?(Ke=(Q.transformed.size.width-Q.original.size.height)/2,be=(Q.transformed.size.height-Q.original.size.width)/2):(Ke=(Q.transformed.size.width-Q.original.size.width)/2,be=(Q.transformed.size.height-Q.original.size.height)/2);const Qe={x1:Math.round(K.x1*Ae)-Ke,y1:Math.round(K.y1*Ae)-be,x2:Math.round(K.x2*Ae)-Ke,y2:Math.round(K.y2*Ae)-be};return z.containWithinAspectRatio||(Qe.x1=Math.max(Qe.x1,0),Qe.y1=Math.max(Qe.y1,0),Qe.x2=Math.min(Qe.x2,Q.transformed.size.width),Qe.y2=Math.min(Qe.y2,Q.transformed.size.height)),Qe}getResizeRatio(j,Q,K){const z=K.resizeToWidth/j,oe=K.resizeToHeight/Q,Te=new Array;K.resizeToWidth>0&&Te.push(z),K.resizeToHeight>0&&Te.push(oe);const Ae=0===Te.length?1:Math.min(...Te);return Ae>1&&!K.onlyScaleDown?Ae:Math.min(Ae,1)}getQuality(j){return Math.min(1,Math.max(0,j.imageQuality/100))}}return G.\u0275fac=function(j){return new(j||G)},G.\u0275prov=e.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})(),F=(()=>{class G{resetCropperPosition(j,Q,K){if(null==j||!j.nativeElement)return;const z=j.nativeElement;if(K.cropperStaticHeight&&K.cropperStaticWidth)Q.x1=0,Q.x2=z.offsetWidth>K.cropperStaticWidth?K.cropperStaticWidth:z.offsetWidth,Q.y1=0,Q.y2=z.offsetHeight>K.cropperStaticHeight?K.cropperStaticHeight:z.offsetHeight;else{const oe=Math.min(K.cropperScaledMaxWidth,z.offsetWidth),Te=Math.min(K.cropperScaledMaxHeight,z.offsetHeight);if(K.maintainAspectRatio)if(z.offsetWidth/K.aspectRatio<z.offsetHeight){Q.x1=0,Q.x2=oe;const Ae=oe/K.aspectRatio;Q.y1=(z.offsetHeight-Ae)/2,Q.y2=Q.y1+Ae}else{Q.y1=0,Q.y2=Te;const Ae=Te*K.aspectRatio;Q.x1=(z.offsetWidth-Ae)/2,Q.x2=Q.x1+Ae}else Q.x1=0,Q.x2=oe,Q.y1=0,Q.y2=Te}}move(j,Q,K){const z=this.getClientX(j)-Q.clientX,oe=this.getClientY(j)-Q.clientY;K.x1=Q.x1+z,K.y1=Q.y1+oe,K.x2=Q.x2+z,K.y2=Q.y2+oe}resize(j,Q,K,z,oe){const Te=this.getClientX(j)-Q.clientX,Ae=this.getClientY(j)-Q.clientY;switch(Q.position){case"left":K.x1=Math.min(Math.max(Q.x1+Te,K.x2-oe.cropperScaledMaxWidth),K.x2-oe.cropperScaledMinWidth);break;case"topleft":K.x1=Math.min(Math.max(Q.x1+Te,K.x2-oe.cropperScaledMaxWidth),K.x2-oe.cropperScaledMinWidth),K.y1=Math.min(Math.max(Q.y1+Ae,K.y2-oe.cropperScaledMaxHeight),K.y2-oe.cropperScaledMinHeight);break;case"top":K.y1=Math.min(Math.max(Q.y1+Ae,K.y2-oe.cropperScaledMaxHeight),K.y2-oe.cropperScaledMinHeight);break;case"topright":K.x2=Math.max(Math.min(Q.x2+Te,K.x1+oe.cropperScaledMaxWidth),K.x1+oe.cropperScaledMinWidth),K.y1=Math.min(Math.max(Q.y1+Ae,K.y2-oe.cropperScaledMaxHeight),K.y2-oe.cropperScaledMinHeight);break;case"right":K.x2=Math.max(Math.min(Q.x2+Te,K.x1+oe.cropperScaledMaxWidth),K.x1+oe.cropperScaledMinWidth);break;case"bottomright":K.x2=Math.max(Math.min(Q.x2+Te,K.x1+oe.cropperScaledMaxWidth),K.x1+oe.cropperScaledMinWidth),K.y2=Math.max(Math.min(Q.y2+Ae,K.y1+oe.cropperScaledMaxHeight),K.y1+oe.cropperScaledMinHeight);break;case"bottom":K.y2=Math.max(Math.min(Q.y2+Ae,K.y1+oe.cropperScaledMaxHeight),K.y1+oe.cropperScaledMinHeight);break;case"bottomleft":K.x1=Math.min(Math.max(Q.x1+Te,K.x2-oe.cropperScaledMaxWidth),K.x2-oe.cropperScaledMinWidth),K.y2=Math.max(Math.min(Q.y2+Ae,K.y1+oe.cropperScaledMaxHeight),K.y1+oe.cropperScaledMinHeight);break;case"center":const Ke=j.scale,be=Math.min(Math.max(oe.cropperScaledMinWidth,Math.abs(Q.x2-Q.x1)*Ke),oe.cropperScaledMaxWidth),Qe=Math.min(Math.max(oe.cropperScaledMinHeight,Math.abs(Q.y2-Q.y1)*Ke),oe.cropperScaledMaxHeight);K.x1=Q.clientX-be/2,K.x2=Q.clientX+be/2,K.y1=Q.clientY-Qe/2,K.y2=Q.clientY+Qe/2,K.x1<0?(K.x2-=K.x1,K.x1=0):K.x2>z.width&&(K.x1-=K.x2-z.width,K.x2=z.width),K.y1<0?(K.y2-=K.y1,K.y1=0):K.y2>z.height&&(K.y1-=K.y2-z.height,K.y2=z.height)}oe.maintainAspectRatio&&this.checkAspectRatio(Q.position,K,z,oe)}checkAspectRatio(j,Q,K,z){let oe=0,Te=0;switch(j){case"top":Q.x2=Q.x1+(Q.y2-Q.y1)*z.aspectRatio,oe=Math.max(Q.x2-K.width,0),Te=Math.max(0-Q.y1,0),(oe>0||Te>0)&&(Q.x2-=Te*z.aspectRatio>oe?Te*z.aspectRatio:oe,Q.y1+=Te*z.aspectRatio>oe?Te:oe/z.aspectRatio);break;case"bottom":Q.x2=Q.x1+(Q.y2-Q.y1)*z.aspectRatio,oe=Math.max(Q.x2-K.width,0),Te=Math.max(Q.y2-K.height,0),(oe>0||Te>0)&&(Q.x2-=Te*z.aspectRatio>oe?Te*z.aspectRatio:oe,Q.y2-=Te*z.aspectRatio>oe?Te:oe/z.aspectRatio);break;case"topleft":Q.y1=Q.y2-(Q.x2-Q.x1)/z.aspectRatio,oe=Math.max(0-Q.x1,0),Te=Math.max(0-Q.y1,0),(oe>0||Te>0)&&(Q.x1+=Te*z.aspectRatio>oe?Te*z.aspectRatio:oe,Q.y1+=Te*z.aspectRatio>oe?Te:oe/z.aspectRatio);break;case"topright":Q.y1=Q.y2-(Q.x2-Q.x1)/z.aspectRatio,oe=Math.max(Q.x2-K.width,0),Te=Math.max(0-Q.y1,0),(oe>0||Te>0)&&(Q.x2-=Te*z.aspectRatio>oe?Te*z.aspectRatio:oe,Q.y1+=Te*z.aspectRatio>oe?Te:oe/z.aspectRatio);break;case"right":case"bottomright":Q.y2=Q.y1+(Q.x2-Q.x1)/z.aspectRatio,oe=Math.max(Q.x2-K.width,0),Te=Math.max(Q.y2-K.height,0),(oe>0||Te>0)&&(Q.x2-=Te*z.aspectRatio>oe?Te*z.aspectRatio:oe,Q.y2-=Te*z.aspectRatio>oe?Te:oe/z.aspectRatio);break;case"left":case"bottomleft":Q.y2=Q.y1+(Q.x2-Q.x1)/z.aspectRatio,oe=Math.max(0-Q.x1,0),Te=Math.max(Q.y2-K.height,0),(oe>0||Te>0)&&(Q.x1+=Te*z.aspectRatio>oe?Te*z.aspectRatio:oe,Q.y2-=Te*z.aspectRatio>oe?Te:oe/z.aspectRatio);break;case"center":Q.x2=Q.x1+(Q.y2-Q.y1)*z.aspectRatio,Q.y2=Q.y1+(Q.x2-Q.x1)/z.aspectRatio;const Ae=Math.max(0-Q.x1,0),Ke=Math.max(Q.x2-K.width,0),be=Math.max(Q.y2-K.height,0),Qe=Math.max(0-Q.y1,0);(Ae>0||Ke>0||be>0||Qe>0)&&(Q.x1+=be*z.aspectRatio>Ae?be*z.aspectRatio:Ae,Q.x2-=Qe*z.aspectRatio>Ke?Qe*z.aspectRatio:Ke,Q.y1+=Qe*z.aspectRatio>Ke?Qe:Ke/z.aspectRatio,Q.y2-=be*z.aspectRatio>Ae?be:Ae/z.aspectRatio)}}getClientX(j){var Q;return(null===(Q=j.touches)||void 0===Q?void 0:Q[0].clientX)||j.clientX||0}getClientY(j){var Q;return(null===(Q=j.touches)||void 0===Q?void 0:Q[0].clientY)||j.clientY||0}}return G.\u0275fac=function(j){return new(j||G)},G.\u0275prov=e.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})();let $=(()=>{class G{constructor(){this.autoRotateSupported=function te(){return new Promise(G=>{const he=new Image;he.onload=()=>{G(1===he.width&&2===he.height)},he.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}()}loadImageFile(j,Q){return new Promise((K,z)=>{const oe=new FileReader;oe.onload=Te=>{this.loadImage(Te.target.result,j.type,Q).then(K).catch(z)},oe.readAsDataURL(j)})}loadImage(j,Q,K){return this.isValidImageType(Q)?this.loadBase64Image(j,K):Promise.reject(new Error("Invalid image type"))}isValidImageType(j){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp|x-icon|vnd.microsoft.icon)/.test(j)}loadImageFromURL(j,Q){return new Promise((K,z)=>{const oe=new Image;oe.onerror=()=>z,oe.onload=()=>{const Te=document.createElement("canvas"),Ae=Te.getContext("2d");Te.width=oe.width,Te.height=oe.height,null==Ae||Ae.drawImage(oe,0,0),this.loadBase64Image(Te.toDataURL(),Q).then(K)},oe.crossOrigin="anonymous",oe.src=j})}loadBase64Image(j,Q){return new Promise((K,z)=>{const oe=new Image;oe.onload=()=>K({originalImage:oe,originalBase64:j}),oe.onerror=z,oe.src=j}).then(K=>this.transformImageBase64(K,Q))}transformImageBase64(j,Q){return(0,a.mG)(this,void 0,void 0,function*(){const K=yield this.autoRotateSupported,z=yield function V(G){switch("string"==typeof G&&(G=function k(G){const he=new DataView(function O(G){G=G.replace(/^data\:([^\;]+)\;base64,/gim,"");const he=atob(G),j=he.length,Q=new Uint8Array(j);for(let K=0;K<j;K++)Q[K]=he.charCodeAt(K);return Q.buffer}(G));if(65496!==he.getUint16(0,!1))return-2;const j=he.byteLength;let Q=2;for(;Q<j;){if(he.getUint16(Q+2,!1)<=8)return-1;const K=he.getUint16(Q,!1);if(Q+=2,65505==K){if(1165519206!==he.getUint32(Q+=2,!1))return-1;const z=18761==he.getUint16(Q+=6,!1);Q+=he.getUint32(Q+4,z);const oe=he.getUint16(Q,z);Q+=2;for(let Te=0;Te<oe;Te++)if(274==he.getUint16(Q+12*Te,z))return he.getUint16(Q+12*Te+8,z)}else{if(65280!=(65280&K))break;Q+=he.getUint16(Q,!1)}}return-1}(G)),G){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(K?-1:j.originalBase64);return j.originalImage&&j.originalImage.complete?this.transformLoadedImage({original:{base64:j.originalBase64,image:j.originalImage,size:{width:j.originalImage.naturalWidth,height:j.originalImage.naturalHeight}},exifTransform:z},Q):Promise.reject(new Error("No image loaded"))})}transformLoadedImage(j,Q){return(0,a.mG)(this,void 0,void 0,function*(){const K=Q.canvasRotation+j.exifTransform.rotate,z={width:j.original.image.naturalWidth,height:j.original.image.naturalHeight};if(0===K&&!j.exifTransform.flip&&!Q.containWithinAspectRatio)return{original:{base64:j.original.base64,image:j.original.image,size:Object.assign({},z)},transformed:{base64:j.original.base64,image:j.original.image,size:Object.assign({},z)},exifTransform:j.exifTransform};const oe=this.getTransformedSize(z,j.exifTransform,Q),Te=document.createElement("canvas");Te.width=oe.width,Te.height=oe.height;const Ae=Te.getContext("2d");null==Ae||Ae.setTransform(j.exifTransform.flip?-1:1,0,0,1,Te.width/2,Te.height/2),null==Ae||Ae.rotate(Math.PI*(K/2)),null==Ae||Ae.drawImage(j.original.image,-z.width/2,-z.height/2);const Ke=Te.toDataURL(),be=yield this.loadImageFromBase64(Ke);return{original:{base64:j.original.base64,image:j.original.image,size:Object.assign({},z)},transformed:{base64:Ke,image:be,size:{width:be.width,height:be.height}},exifTransform:j.exifTransform}})}loadImageFromBase64(j){return new Promise((Q,K)=>{const z=new Image;z.onload=()=>Q(z),z.onerror=K,z.src=j})}getTransformedSize(j,Q,K){const z=K.canvasRotation+Q.rotate;if(K.containWithinAspectRatio){if(z%2){const Te=j.height/K.aspectRatio;return{width:Math.max(j.height,j.width*K.aspectRatio),height:Math.max(j.width,Te)}}{const Te=j.width/K.aspectRatio;return{width:Math.max(j.width,j.height*K.aspectRatio),height:Math.max(j.height,Te)}}}return z%2?{height:j.width,width:j.height}:{width:j.width,height:j.height}}}return G.\u0275fac=function(j){return new(j||G)},G.\u0275prov=e.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})(),ue=(()=>{class G{constructor(j,Q,K,z,oe){this.cropService=j,this.cropperPositionService=Q,this.loadImageService=K,this.sanitizer=z,this.cd=oe,this.Hammer=(null==window?void 0:window.Hammer)||null,this.settings=new L,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.marginLeft="0px",this.maxSize={width:0,height:0},this.moveTypes=J,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resetCropOnAspectRatioChange=this.settings.resetCropOnAspectRatioChange,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.allowMoveImage=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.hidden=!1,this.imageCropped=new e.vpe,this.startCropImage=new e.vpe,this.imageLoaded=new e.vpe,this.cropperReady=new e.vpe,this.loadImageFailed=new e.vpe,this.transformChange=new e.vpe,this.reset()}ngOnChanges(j){var Q;this.onChangesUpdateSettings(j),this.onChangesInputImage(j),(null===(Q=this.loadedImage)||void 0===Q?void 0:Q.original.image.complete)&&(j.containWithinAspectRatio||j.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(K=>this.setLoadedImage(K)).catch(K=>this.loadImageError(K)),(j.cropper||j.maintainAspectRatio||j.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),!this.maintainAspectRatio||!this.resetCropOnAspectRatioChange&&this.aspectRatioIsCorrect()||!j.maintainAspectRatio&&!j.aspectRatio?j.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop()):this.resetCropperPosition(),this.cd.markForCheck()),j.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop(),this.cd.markForCheck()),j.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesUpdateSettings(j){this.settings.setOptionsFromChanges(j),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})}onChangesInputImage(j){(j.imageChangedEvent||j.imageURL||j.imageBase64||j.imageFile)&&this.reset(),j.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),j.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),j.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),j.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){var j,Q,K;return(null===(K=null===(Q=null===(j=this.imageChangedEvent)||void 0===j?void 0:j.target)||void 0===Q?void 0:Q.files)||void 0===K?void 0:K.length)>0}setCssTransform(){var j;const Q=(null===(j=this.transform)||void 0===j?void 0:j.translateUnit)||"%";this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle(`translate(${this.transform.translateH||0}${Q}, ${this.transform.translateV||0}${Q}) scaleX(`+(this.transform.scale||1)*(this.transform.flipH?-1:1)+") scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+") rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=void 0,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(j){this.loadImageService.loadImageFile(j,this.settings).then(Q=>this.setLoadedImage(Q)).catch(Q=>this.loadImageError(Q))}loadBase64Image(j){this.loadImageService.loadBase64Image(j,this.settings).then(Q=>this.setLoadedImage(Q)).catch(Q=>this.loadImageError(Q))}loadImageFromURL(j){this.loadImageService.loadImageFromURL(j,this.settings).then(Q=>this.setLoadedImage(Q)).catch(Q=>this.loadImageError(Q))}setLoadedImage(j){this.loadedImage=j,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(j.transformed.base64),this.cd.markForCheck()}loadImageError(j){console.error(j),this.loadImageFailed.emit()}imageLoadedInView(){null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){var j,Q;return(null===(Q=null===(j=this.sourceImage)||void 0===j?void 0:j.nativeElement)||void 0===Q?void 0:Q.offsetWidth)>0}onResize(){!this.loadedImage||(this.hidden?this.resizedWhileHidden=!0:(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()))}activatePinchGesture(){if(this.Hammer){const j=new this.Hammer(this.wrapper.nativeElement);j.get("pinch").set({enable:!0}),j.on("pinchmove",this.onPinch.bind(this)),j.on("pinchend",this.pinchStop.bind(this)),j.on("pinchstart",this.startPinch.bind(this))}else(0,e.X6Q)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}resizeCropperPosition(){const j=this.sourceImage.nativeElement;(this.maxSize.width!==j.offsetWidth||this.maxSize.height!==j.offsetHeight)&&(this.cropper.x1=this.cropper.x1*j.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*j.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*j.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*j.offsetHeight/this.maxSize.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(j){this.changeKeyboardStepSize(j),this.keyboardMoveCropper(j)}changeKeyboardStepSize(j){const Q=+j.key;Q>=1&&Q<=9&&(this.settings.stepSize=Q)}keyboardMoveCropper(j){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(j.key))return;const K=j.shiftKey?J.Resize:J.Move,z=j.altKey?function w(G){switch(G){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";default:return"right"}}(j.key):function N(G){switch(G){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";default:return"left"}}(j.key),oe=function x(G,he){switch(G){case"ArrowUp":return{clientX:0,clientY:-1*he};case"ArrowRight":return{clientX:he,clientY:0};case"ArrowDown":return{clientX:0,clientY:he};default:return{clientX:-1*he,clientY:0}}}(j.key,this.settings.stepSize);j.preventDefault(),j.stopPropagation(),this.startMove({clientX:0,clientY:0},K,z),this.moveImg(oe),this.moveStop()}startMove(j,Q,K=null){var z,oe;this.disabled||(null===(z=this.moveStart)||void 0===z?void 0:z.active)&&(null===(oe=this.moveStart)||void 0===oe?void 0:oe.type)===J.Pinch||Q===J.Drag&&!this.allowMoveImage||(j.preventDefault&&j.preventDefault(),this.moveStart=Object.assign({active:!0,type:Q,position:K,transform:Object.assign({},this.transform),clientX:this.cropperPositionService.getClientX(j),clientY:this.cropperPositionService.getClientY(j)},this.cropper))}startPinch(j){!this.safeImgDataUrl||(j.preventDefault&&j.preventDefault(),this.moveStart=Object.assign({active:!0,type:J.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}moveImg(j){var Q,K;if(this.moveStart.active){if(j.stopPropagation&&j.stopPropagation(),j.preventDefault&&j.preventDefault(),this.moveStart.type===J.Move)this.cropperPositionService.move(j,this.moveStart,this.cropper),this.checkCropperPosition(!0);else if(this.moveStart.type===J.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(j,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1);else if(this.moveStart.type===J.Drag){const z=this.cropperPositionService.getClientX(j)-this.moveStart.clientX,oe=this.cropperPositionService.getClientY(j)-this.moveStart.clientY;this.transform=Object.assign(Object.assign({},this.transform),{translateH:((null===(Q=this.moveStart.transform)||void 0===Q?void 0:Q.translateH)||0)+z,translateV:((null===(K=this.moveStart.transform)||void 0===K?void 0:K.translateV)||0)+oe}),this.setCssTransform()}this.cd.detectChanges()}}onPinch(j){this.moveStart.active&&(j.stopPropagation&&j.stopPropagation(),j.preventDefault&&j.preventDefault(),this.moveStart.type===J.Pinch&&(this.cropperPositionService.resize(j,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}setMaxSize(){if(this.sourceImage){const j=this.sourceImage.nativeElement;this.maxSize.width=j.offsetWidth,this.maxSize.height=j.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){var j,Q;null!==(Q=null===(j=this.loadedImage)||void 0===j?void 0:j.transformed)&&void 0!==Q&&Q.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}setCropperScaledMaxSize(){var j,Q;if(null!==(Q=null===(j=this.loadedImage)||void 0===j?void 0:j.transformed)&&void 0!==Q&&Q.image){const K=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/K:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/K:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(j=!1){this.cropper.x1<0&&(this.cropper.x2-=j?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=j?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=j?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=j?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}moveStop(){var j;this.moveStart.active&&(this.moveStart.active=!1,(null===(j=this.moveStart)||void 0===j?void 0:j.type)===J.Drag?this.transformChange.emit(this.transform):this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(){var j,Q;if(null!=(null===(Q=null===(j=this.loadedImage)||void 0===j?void 0:j.transformed)||void 0===Q?void 0:Q.image)){this.startCropImage.emit();const K=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=K&&this.imageCropped.emit(K),K}return null}aspectRatioIsCorrect(){return(this.cropper.x2-this.cropper.x1)/(this.cropper.y2-this.cropper.y1)===this.aspectRatio}}return G.\u0275fac=function(j){return new(j||G)(e.Y36(U),e.Y36(F),e.Y36($),e.Y36(f.H7),e.Y36(e.sBO))},G.\u0275cmp=e.Xpm({type:G,selectors:[["image-cropper"]],viewQuery:function(j,Q){if(1&j&&(e.Gf(_,7),e.Gf(P,5)),2&j){let K;e.iGM(K=e.CRH())&&(Q.wrapper=K.first),e.iGM(K=e.CRH())&&(Q.sourceImage=K.first)}},hostVars:6,hostBindings:function(j,Q){1&j&&e.NdJ("resize",function(){return Q.onResize()},!1,e.Jf7)("mousemove",function(z){return Q.moveImg(z)},!1,e.evT)("touchmove",function(z){return Q.moveImg(z)},!1,e.evT)("mouseup",function(){return Q.moveStop()},!1,e.evT)("touchend",function(){return Q.moveStop()},!1,e.evT),2&j&&(e.Udp("text-align",Q.alignImage),e.ekj("disabled",Q.disabled)("ngx-ix-hidden",Q.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",imageAltText:"imageAltText",format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange"},features:[e.TTD],decls:5,vars:10,consts:[["wrapper",""],["class","ngx-ic-source-image",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"ngx-ic-source-image",3,"src","load","mousedown","touchstart"],["sourceImage",""],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],[1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],[1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],[1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],[1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],[1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(j,Q){1&j&&(e.TgZ(0,"div",null,0),e.YNc(2,y,2,8,"img",1),e._UZ(3,"div",2),e.YNc(4,R,3,15,"div",3),e.qZA()),2&j&&(e.Udp("background",Q.imageVisible&&Q.backgroundColor),e.xp6(2),e.Q6J("ngIf",Q.safeImgDataUrl),e.xp6(1),e.Udp("width",Q.maxSize.width,"px")("height",Q.maxSize.height,"px")("margin-left","center"===Q.alignImage?Q.marginLeft:null),e.xp6(1),e.Q6J("ngIf",Q.imageVisible))},dependencies:[g.O5],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ix-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0}),G})(),q=(()=>{class G{}return G.\u0275fac=function(j){return new(j||G)},G.\u0275mod=e.oAB({type:G}),G.\u0275inj=e.cJS({imports:[[g.ez]]}),G})()},9354:(mn,ht,b)=>{"use strict";b.d(ht,{lF:()=>Un,JP:()=>oo});var e=b(5e3),a=b(7579),f=b(6451),g=b(9646),_=b(5963),P=b(3900),y=b(9718),l=b(1884),R=b(4782),L=b(8675),J=b(4004),N=b(2722),x=(b(590),b(9808));let S={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const F=/[&<>"']/,ce=new RegExp(F.source,"g"),te=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,V=new RegExp(te.source,"g"),k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},O=Bt=>k[Bt];function $(Bt,Ve){if(Ve){if(F.test(Bt))return Bt.replace(ce,O)}else if(te.test(Bt))return Bt.replace(V,O);return Bt}const ue=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function q(Bt){return Bt.replace(ue,(Ve,ye)=>"colon"===(ye=ye.toLowerCase())?":":"#"===ye.charAt(0)?"x"===ye.charAt(1)?String.fromCharCode(parseInt(ye.substring(2),16)):String.fromCharCode(+ye.substring(1)):"")}const Y=/(^|[^\[])\^/g;function G(Bt,Ve){Bt="string"==typeof Bt?Bt:Bt.source,Ve=Ve||"";const ye={replace:(Ue,ut)=>(ut=(ut=ut.source||ut).replace(Y,"$1"),Bt=Bt.replace(Ue,ut),ye),getRegex:()=>new RegExp(Bt,Ve)};return ye}const he=/[^\w:]/g,j=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Q(Bt,Ve,ye){if(Bt){let Ue;try{Ue=decodeURIComponent(q(ye)).replace(he,"").toLowerCase()}catch(ut){return null}if(0===Ue.indexOf("javascript:")||0===Ue.indexOf("vbscript:")||0===Ue.indexOf("data:"))return null}Ve&&!j.test(ye)&&(ye=function Ae(Bt,Ve){K[" "+Bt]||(K[" "+Bt]=z.test(Bt)?Bt+"/":X(Bt,"/",!0));const ye=-1===(Bt=K[" "+Bt]).indexOf(":");return"//"===Ve.substring(0,2)?ye?Ve:Bt.replace(oe,"$1")+Ve:"/"===Ve.charAt(0)?ye?Ve:Bt.replace(Te,"$1")+Ve:Bt+Ve}(Ve,ye));try{ye=encodeURI(ye).replace(/%25/g,"%")}catch(Ue){return null}return ye}const K={},z=/^[^:]+:\/*[^/]*$/,oe=/^([^:]+:)[\s\S]*$/,Te=/^([^:]+:\/*[^/]*)[\s\S]*$/,Ke={exec:function(){}};function be(Bt){let ye,Ue,Ve=1;for(;Ve<arguments.length;Ve++)for(Ue in ye=arguments[Ve],ye)Object.prototype.hasOwnProperty.call(ye,Ue)&&(Bt[Ue]=ye[Ue]);return Bt}function Qe(Bt,Ve){const Ue=Bt.replace(/\|/g,(gn,Zt,an)=>{let pn=!1,zn=Zt;for(;--zn>=0&&"\\"===an[zn];)pn=!pn;return pn?"|":" |"}).split(/ \|/);let ut=0;if(Ue[0].trim()||Ue.shift(),Ue.length>0&&!Ue[Ue.length-1].trim()&&Ue.pop(),Ue.length>Ve)Ue.splice(Ve);else for(;Ue.length<Ve;)Ue.push("");for(;ut<Ue.length;ut++)Ue[ut]=Ue[ut].trim().replace(/\\\|/g,"|");return Ue}function X(Bt,Ve,ye){const Ue=Bt.length;if(0===Ue)return"";let ut=0;for(;ut<Ue;){const gn=Bt.charAt(Ue-ut-1);if(gn!==Ve||ye){if(gn===Ve||!ye)break;ut++}else ut++}return Bt.slice(0,Ue-ut)}function we(Bt){Bt&&Bt.sanitize&&!Bt.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Oe(Bt,Ve){if(Ve<1)return"";let ye="";for(;Ve>1;)1&Ve&&(ye+=Bt),Ve>>=1,Bt+=Bt;return ye+Bt}function dt(Bt,Ve,ye,Ue){const ut=Ve.href,gn=Ve.title?$(Ve.title):null,Zt=Bt[1].replace(/\\([\[\]])/g,"$1");if("!"!==Bt[0].charAt(0)){Ue.state.inLink=!0;const an={type:"link",raw:ye,href:ut,title:gn,text:Zt,tokens:Ue.inlineTokens(Zt)};return Ue.state.inLink=!1,an}return{type:"image",raw:ye,href:ut,title:gn,text:$(Zt)}}class it{constructor(Ve){this.options=Ve||S}space(Ve){const ye=this.rules.block.newline.exec(Ve);if(ye&&ye[0].length>0)return{type:"space",raw:ye[0]}}code(Ve){const ye=this.rules.block.code.exec(Ve);if(ye){const Ue=ye[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:ye[0],codeBlockStyle:"indented",text:this.options.pedantic?Ue:X(Ue,"\n")}}}fences(Ve){const ye=this.rules.block.fences.exec(Ve);if(ye){const Ue=ye[0],ut=function bt(Bt,Ve){const ye=Bt.match(/^(\s+)(?:```)/);if(null===ye)return Ve;const Ue=ye[1];return Ve.split("\n").map(ut=>{const gn=ut.match(/^\s+/);if(null===gn)return ut;const[Zt]=gn;return Zt.length>=Ue.length?ut.slice(Ue.length):ut}).join("\n")}(Ue,ye[3]||"");return{type:"code",raw:Ue,lang:ye[2]?ye[2].trim().replace(this.rules.inline._escapes,"$1"):ye[2],text:ut}}}heading(Ve){const ye=this.rules.block.heading.exec(Ve);if(ye){let Ue=ye[2].trim();if(/#$/.test(Ue)){const ut=X(Ue,"#");(this.options.pedantic||!ut||/ $/.test(ut))&&(Ue=ut.trim())}return{type:"heading",raw:ye[0],depth:ye[1].length,text:Ue,tokens:this.lexer.inline(Ue)}}}hr(Ve){const ye=this.rules.block.hr.exec(Ve);if(ye)return{type:"hr",raw:ye[0]}}blockquote(Ve){const ye=this.rules.block.blockquote.exec(Ve);if(ye){const Ue=ye[0].replace(/^ *>[ \t]?/gm,""),ut=this.lexer.state.top;this.lexer.state.top=!0;const gn=this.lexer.blockTokens(Ue);return this.lexer.state.top=ut,{type:"blockquote",raw:ye[0],tokens:gn,text:Ue}}}list(Ve){let ye=this.rules.block.list.exec(Ve);if(ye){let Ue,ut,gn,Zt,an,pn,zn,qn,ai,pi,oi,ki,$i=ye[1].trim();const Do=$i.length>1,ci={type:"list",raw:"",ordered:Do,start:Do?+$i.slice(0,-1):"",loose:!1,items:[]};$i=Do?`\\d{1,9}\\${$i.slice(-1)}`:`\\${$i}`,this.options.pedantic&&($i=Do?$i:"[*+-]");const vo=new RegExp(`^( {0,3}${$i})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;Ve&&(ki=!1,(ye=vo.exec(Ve))&&!this.rules.block.hr.test(Ve));){if(Ue=ye[0],Ve=Ve.substring(Ue.length),qn=ye[2].split("\n",1)[0].replace(/^\t+/,Go=>" ".repeat(3*Go.length)),ai=Ve.split("\n",1)[0],this.options.pedantic?(Zt=2,oi=qn.trimLeft()):(Zt=ye[2].search(/[^ ]/),Zt=Zt>4?1:Zt,oi=qn.slice(Zt),Zt+=ye[1].length),pn=!1,!qn&&/^ *$/.test(ai)&&(Ue+=ai+"\n",Ve=Ve.substring(ai.length+1),ki=!0),!ki){const Go=new RegExp(`^ {0,${Math.min(3,Zt-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Ao=new RegExp(`^ {0,${Math.min(3,Zt-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Xi=new RegExp(`^ {0,${Math.min(3,Zt-1)}}(?:\`\`\`|~~~)`),Xo=new RegExp(`^ {0,${Math.min(3,Zt-1)}}#`);for(;Ve&&(pi=Ve.split("\n",1)[0],ai=pi,this.options.pedantic&&(ai=ai.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Xi.test(ai)||Xo.test(ai)||Go.test(ai)||Ao.test(Ve)));){if(ai.search(/[^ ]/)>=Zt||!ai.trim())oi+="\n"+ai.slice(Zt);else{if(pn||qn.search(/[^ ]/)>=4||Xi.test(qn)||Xo.test(qn)||Ao.test(qn))break;oi+="\n"+ai}!pn&&!ai.trim()&&(pn=!0),Ue+=pi+"\n",Ve=Ve.substring(pi.length+1),qn=ai.slice(Zt)}}ci.loose||(zn?ci.loose=!0:/\n *\n *$/.test(Ue)&&(zn=!0)),this.options.gfm&&(ut=/^\[[ xX]\] /.exec(oi),ut&&(gn="[ ] "!==ut[0],oi=oi.replace(/^\[[ xX]\] +/,""))),ci.items.push({type:"list_item",raw:Ue,task:!!ut,checked:gn,loose:!1,text:oi}),ci.raw+=Ue}ci.items[ci.items.length-1].raw=Ue.trimRight(),ci.items[ci.items.length-1].text=oi.trimRight(),ci.raw=ci.raw.trimRight();const Ko=ci.items.length;for(an=0;an<Ko;an++)if(this.lexer.state.top=!1,ci.items[an].tokens=this.lexer.blockTokens(ci.items[an].text,[]),!ci.loose){const Go=ci.items[an].tokens.filter(Xi=>"space"===Xi.type),Ao=Go.length>0&&Go.some(Xi=>/\n.*\n/.test(Xi.raw));ci.loose=Ao}if(ci.loose)for(an=0;an<Ko;an++)ci.items[an].loose=!0;return ci}}html(Ve){const ye=this.rules.block.html.exec(Ve);if(ye){const Ue={type:"html",raw:ye[0],pre:!this.options.sanitizer&&("pre"===ye[1]||"script"===ye[1]||"style"===ye[1]),text:ye[0]};if(this.options.sanitize){const ut=this.options.sanitizer?this.options.sanitizer(ye[0]):$(ye[0]);Ue.type="paragraph",Ue.text=ut,Ue.tokens=this.lexer.inline(ut)}return Ue}}def(Ve){const ye=this.rules.block.def.exec(Ve);if(ye){const Ue=ye[1].toLowerCase().replace(/\s+/g," "),ut=ye[2]?ye[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",gn=ye[3]?ye[3].substring(1,ye[3].length-1).replace(this.rules.inline._escapes,"$1"):ye[3];return{type:"def",tag:Ue,raw:ye[0],href:ut,title:gn}}}table(Ve){const ye=this.rules.block.table.exec(Ve);if(ye){const Ue={type:"table",header:Qe(ye[1]).map(ut=>({text:ut})),align:ye[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:ye[3]&&ye[3].trim()?ye[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(Ue.header.length===Ue.align.length){Ue.raw=ye[0];let gn,Zt,an,pn,ut=Ue.align.length;for(gn=0;gn<ut;gn++)Ue.align[gn]=/^ *-+: *$/.test(Ue.align[gn])?"right":/^ *:-+: *$/.test(Ue.align[gn])?"center":/^ *:-+ *$/.test(Ue.align[gn])?"left":null;for(ut=Ue.rows.length,gn=0;gn<ut;gn++)Ue.rows[gn]=Qe(Ue.rows[gn],Ue.header.length).map(zn=>({text:zn}));for(ut=Ue.header.length,Zt=0;Zt<ut;Zt++)Ue.header[Zt].tokens=this.lexer.inline(Ue.header[Zt].text);for(ut=Ue.rows.length,Zt=0;Zt<ut;Zt++)for(pn=Ue.rows[Zt],an=0;an<pn.length;an++)pn[an].tokens=this.lexer.inline(pn[an].text);return Ue}}}lheading(Ve){const ye=this.rules.block.lheading.exec(Ve);if(ye)return{type:"heading",raw:ye[0],depth:"="===ye[2].charAt(0)?1:2,text:ye[1],tokens:this.lexer.inline(ye[1])}}paragraph(Ve){const ye=this.rules.block.paragraph.exec(Ve);if(ye){const Ue="\n"===ye[1].charAt(ye[1].length-1)?ye[1].slice(0,-1):ye[1];return{type:"paragraph",raw:ye[0],text:Ue,tokens:this.lexer.inline(Ue)}}}text(Ve){const ye=this.rules.block.text.exec(Ve);if(ye)return{type:"text",raw:ye[0],text:ye[0],tokens:this.lexer.inline(ye[0])}}escape(Ve){const ye=this.rules.inline.escape.exec(Ve);if(ye)return{type:"escape",raw:ye[0],text:$(ye[1])}}tag(Ve){const ye=this.rules.inline.tag.exec(Ve);if(ye)return!this.lexer.state.inLink&&/^<a /i.test(ye[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(ye[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(ye[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(ye[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:ye[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ye[0]):$(ye[0]):ye[0]}}link(Ve){const ye=this.rules.inline.link.exec(Ve);if(ye){const Ue=ye[2].trim();if(!this.options.pedantic&&/^</.test(Ue)){if(!/>$/.test(Ue))return;const Zt=X(Ue.slice(0,-1),"\\");if((Ue.length-Zt.length)%2==0)return}else{const Zt=function xe(Bt,Ve){if(-1===Bt.indexOf(Ve[1]))return-1;const ye=Bt.length;let Ue=0,ut=0;for(;ut<ye;ut++)if("\\"===Bt[ut])ut++;else if(Bt[ut]===Ve[0])Ue++;else if(Bt[ut]===Ve[1]&&(Ue--,Ue<0))return ut;return-1}(ye[2],"()");if(Zt>-1){const pn=(0===ye[0].indexOf("!")?5:4)+ye[1].length+Zt;ye[2]=ye[2].substring(0,Zt),ye[0]=ye[0].substring(0,pn).trim(),ye[3]=""}}let ut=ye[2],gn="";if(this.options.pedantic){const Zt=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ut);Zt&&(ut=Zt[1],gn=Zt[3])}else gn=ye[3]?ye[3].slice(1,-1):"";return ut=ut.trim(),/^</.test(ut)&&(ut=this.options.pedantic&&!/>$/.test(Ue)?ut.slice(1):ut.slice(1,-1)),dt(ye,{href:ut&&ut.replace(this.rules.inline._escapes,"$1"),title:gn&&gn.replace(this.rules.inline._escapes,"$1")},ye[0],this.lexer)}}reflink(Ve,ye){let Ue;if((Ue=this.rules.inline.reflink.exec(Ve))||(Ue=this.rules.inline.nolink.exec(Ve))){let ut=(Ue[2]||Ue[1]).replace(/\s+/g," ");if(ut=ye[ut.toLowerCase()],!ut){const gn=Ue[0].charAt(0);return{type:"text",raw:gn,text:gn}}return dt(Ue,ut,Ue[0],this.lexer)}}emStrong(Ve,ye,Ue=""){let ut=this.rules.inline.emStrong.lDelim.exec(Ve);if(!ut||ut[3]&&Ue.match(/[\p{L}\p{N}]/u))return;const gn=ut[1]||ut[2]||"";if(!gn||gn&&(""===Ue||this.rules.inline.punctuation.exec(Ue))){const Zt=ut[0].length-1;let an,pn,zn=Zt,qn=0;const ai="*"===ut[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(ai.lastIndex=0,ye=ye.slice(-1*Ve.length+Zt);null!=(ut=ai.exec(ye));){if(an=ut[1]||ut[2]||ut[3]||ut[4]||ut[5]||ut[6],!an)continue;if(pn=an.length,ut[3]||ut[4]){zn+=pn;continue}if((ut[5]||ut[6])&&Zt%3&&!((Zt+pn)%3)){qn+=pn;continue}if(zn-=pn,zn>0)continue;pn=Math.min(pn,pn+zn+qn);const pi=Ve.slice(0,Zt+ut.index+(ut[0].length-an.length)+pn);if(Math.min(Zt,pn)%2){const ki=pi.slice(1,-1);return{type:"em",raw:pi,text:ki,tokens:this.lexer.inlineTokens(ki)}}const oi=pi.slice(2,-2);return{type:"strong",raw:pi,text:oi,tokens:this.lexer.inlineTokens(oi)}}}}codespan(Ve){const ye=this.rules.inline.code.exec(Ve);if(ye){let Ue=ye[2].replace(/\n/g," ");const ut=/[^ ]/.test(Ue),gn=/^ /.test(Ue)&&/ $/.test(Ue);return ut&&gn&&(Ue=Ue.substring(1,Ue.length-1)),Ue=$(Ue,!0),{type:"codespan",raw:ye[0],text:Ue}}}br(Ve){const ye=this.rules.inline.br.exec(Ve);if(ye)return{type:"br",raw:ye[0]}}del(Ve){const ye=this.rules.inline.del.exec(Ve);if(ye)return{type:"del",raw:ye[0],text:ye[2],tokens:this.lexer.inlineTokens(ye[2])}}autolink(Ve,ye){const Ue=this.rules.inline.autolink.exec(Ve);if(Ue){let ut,gn;return"@"===Ue[2]?(ut=$(this.options.mangle?ye(Ue[1]):Ue[1]),gn="mailto:"+ut):(ut=$(Ue[1]),gn=ut),{type:"link",raw:Ue[0],text:ut,href:gn,tokens:[{type:"text",raw:ut,text:ut}]}}}url(Ve,ye){let Ue;if(Ue=this.rules.inline.url.exec(Ve)){let ut,gn;if("@"===Ue[2])ut=$(this.options.mangle?ye(Ue[0]):Ue[0]),gn="mailto:"+ut;else{let Zt;do{Zt=Ue[0],Ue[0]=this.rules.inline._backpedal.exec(Ue[0])[0]}while(Zt!==Ue[0]);ut=$(Ue[0]),gn="www."===Ue[1]?"http://"+Ue[0]:Ue[0]}return{type:"link",raw:Ue[0],text:ut,href:gn,tokens:[{type:"text",raw:ut,text:ut}]}}}inlineText(Ve,ye){const Ue=this.rules.inline.text.exec(Ve);if(Ue){let ut;return ut=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Ue[0]):$(Ue[0]):Ue[0]:$(this.options.smartypants?ye(Ue[0]):Ue[0]),{type:"text",raw:Ue[0],text:ut}}}}const Dt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Ke,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Dt.def=G(Dt.def).replace("label",Dt._label).replace("title",Dt._title).getRegex(),Dt.bullet=/(?:[*+-]|\d{1,9}[.)])/,Dt.listItemStart=G(/^( *)(bull) */).replace("bull",Dt.bullet).getRegex(),Dt.list=G(Dt.list).replace(/bull/g,Dt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Dt.def.source+")").getRegex(),Dt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Dt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Dt.html=G(Dt.html,"i").replace("comment",Dt._comment).replace("tag",Dt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Dt.paragraph=G(Dt._paragraph).replace("hr",Dt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dt._tag).getRegex(),Dt.blockquote=G(Dt.blockquote).replace("paragraph",Dt.paragraph).getRegex(),Dt.normal=be({},Dt),Dt.gfm=be({},Dt.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Dt.gfm.table=G(Dt.gfm.table).replace("hr",Dt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dt._tag).getRegex(),Dt.gfm.paragraph=G(Dt._paragraph).replace("hr",Dt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Dt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dt._tag).getRegex(),Dt.pedantic=be({},Dt.normal,{html:G("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Dt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ke,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:G(Dt.normal._paragraph).replace("hr",Dt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Dt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const vt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Ke,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Ke,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Gt(Bt){return Bt.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function Ht(Bt){let ye,Ue,Ve="";const ut=Bt.length;for(ye=0;ye<ut;ye++)Ue=Bt.charCodeAt(ye),Math.random()>.5&&(Ue="x"+Ue.toString(16)),Ve+="&#"+Ue+";";return Ve}vt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",vt.punctuation=G(vt.punctuation).replace(/punctuation/g,vt._punctuation).getRegex(),vt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,vt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,vt._comment=G(Dt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),vt.emStrong.lDelim=G(vt.emStrong.lDelim).replace(/punct/g,vt._punctuation).getRegex(),vt.emStrong.rDelimAst=G(vt.emStrong.rDelimAst,"g").replace(/punct/g,vt._punctuation).getRegex(),vt.emStrong.rDelimUnd=G(vt.emStrong.rDelimUnd,"g").replace(/punct/g,vt._punctuation).getRegex(),vt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,vt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,vt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,vt.autolink=G(vt.autolink).replace("scheme",vt._scheme).replace("email",vt._email).getRegex(),vt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,vt.tag=G(vt.tag).replace("comment",vt._comment).replace("attribute",vt._attribute).getRegex(),vt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,vt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,vt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,vt.link=G(vt.link).replace("label",vt._label).replace("href",vt._href).replace("title",vt._title).getRegex(),vt.reflink=G(vt.reflink).replace("label",vt._label).replace("ref",Dt._label).getRegex(),vt.nolink=G(vt.nolink).replace("ref",Dt._label).getRegex(),vt.reflinkSearch=G(vt.reflinkSearch,"g").replace("reflink",vt.reflink).replace("nolink",vt.nolink).getRegex(),vt.normal=be({},vt),vt.pedantic=be({},vt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:G(/^!?\[(label)\]\((.*?)\)/).replace("label",vt._label).getRegex(),reflink:G(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",vt._label).getRegex()}),vt.gfm=be({},vt.normal,{escape:G(vt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),vt.gfm.url=G(vt.gfm.url,"i").replace("email",vt.gfm._extended_email).getRegex(),vt.breaks=be({},vt.gfm,{br:G(vt.br).replace("{2,}","*").getRegex(),text:G(vt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Ut{constructor(Ve){this.tokens=[],this.tokens.links=Object.create(null),this.options=Ve||S,this.options.tokenizer=this.options.tokenizer||new it,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const ye={block:Dt.normal,inline:vt.normal};this.options.pedantic?(ye.block=Dt.pedantic,ye.inline=vt.pedantic):this.options.gfm&&(ye.block=Dt.gfm,ye.inline=this.options.breaks?vt.breaks:vt.gfm),this.tokenizer.rules=ye}static get rules(){return{block:Dt,inline:vt}}static lex(Ve,ye){return new Ut(ye).lex(Ve)}static lexInline(Ve,ye){return new Ut(ye).inlineTokens(Ve)}lex(Ve){let ye;for(Ve=Ve.replace(/\r\n|\r/g,"\n"),this.blockTokens(Ve,this.tokens);ye=this.inlineQueue.shift();)this.inlineTokens(ye.src,ye.tokens);return this.tokens}blockTokens(Ve,ye=[]){let Ue,ut,gn,Zt;for(Ve=this.options.pedantic?Ve.replace(/\t/g,"    ").replace(/^ +$/gm,""):Ve.replace(/^( *)(\t+)/gm,(an,pn,zn)=>pn+"    ".repeat(zn.length));Ve;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(an=>!!(Ue=an.call({lexer:this},Ve,ye))&&(Ve=Ve.substring(Ue.raw.length),ye.push(Ue),!0)))){if(Ue=this.tokenizer.space(Ve)){Ve=Ve.substring(Ue.raw.length),1===Ue.raw.length&&ye.length>0?ye[ye.length-1].raw+="\n":ye.push(Ue);continue}if(Ue=this.tokenizer.code(Ve)){Ve=Ve.substring(Ue.raw.length),ut=ye[ye.length-1],!ut||"paragraph"!==ut.type&&"text"!==ut.type?ye.push(Ue):(ut.raw+="\n"+Ue.raw,ut.text+="\n"+Ue.text,this.inlineQueue[this.inlineQueue.length-1].src=ut.text);continue}if(Ue=this.tokenizer.fences(Ve)){Ve=Ve.substring(Ue.raw.length),ye.push(Ue);continue}if(Ue=this.tokenizer.heading(Ve)){Ve=Ve.substring(Ue.raw.length),ye.push(Ue);continue}if(Ue=this.tokenizer.hr(Ve)){Ve=Ve.substring(Ue.raw.length),ye.push(Ue);continue}if(Ue=this.tokenizer.blockquote(Ve)){Ve=Ve.substring(Ue.raw.length),ye.push(Ue);continue}if(Ue=this.tokenizer.list(Ve)){Ve=Ve.substring(Ue.raw.length),ye.push(Ue);continue}if(Ue=this.tokenizer.html(Ve)){Ve=Ve.substring(Ue.raw.length),ye.push(Ue);continue}if(Ue=this.tokenizer.def(Ve)){Ve=Ve.substring(Ue.raw.length),ut=ye[ye.length-1],!ut||"paragraph"!==ut.type&&"text"!==ut.type?this.tokens.links[Ue.tag]||(this.tokens.links[Ue.tag]={href:Ue.href,title:Ue.title}):(ut.raw+="\n"+Ue.raw,ut.text+="\n"+Ue.raw,this.inlineQueue[this.inlineQueue.length-1].src=ut.text);continue}if(Ue=this.tokenizer.table(Ve)){Ve=Ve.substring(Ue.raw.length),ye.push(Ue);continue}if(Ue=this.tokenizer.lheading(Ve)){Ve=Ve.substring(Ue.raw.length),ye.push(Ue);continue}if(gn=Ve,this.options.extensions&&this.options.extensions.startBlock){let an=1/0;const pn=Ve.slice(1);let zn;this.options.extensions.startBlock.forEach(function(qn){zn=qn.call({lexer:this},pn),"number"==typeof zn&&zn>=0&&(an=Math.min(an,zn))}),an<1/0&&an>=0&&(gn=Ve.substring(0,an+1))}if(this.state.top&&(Ue=this.tokenizer.paragraph(gn))){ut=ye[ye.length-1],Zt&&"paragraph"===ut.type?(ut.raw+="\n"+Ue.raw,ut.text+="\n"+Ue.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ut.text):ye.push(Ue),Zt=gn.length!==Ve.length,Ve=Ve.substring(Ue.raw.length);continue}if(Ue=this.tokenizer.text(Ve)){Ve=Ve.substring(Ue.raw.length),ut=ye[ye.length-1],ut&&"text"===ut.type?(ut.raw+="\n"+Ue.raw,ut.text+="\n"+Ue.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ut.text):ye.push(Ue);continue}if(Ve){const an="Infinite loop on byte: "+Ve.charCodeAt(0);if(this.options.silent){console.error(an);break}throw new Error(an)}}return this.state.top=!0,ye}inline(Ve,ye=[]){return this.inlineQueue.push({src:Ve,tokens:ye}),ye}inlineTokens(Ve,ye=[]){let Ue,ut,gn,an,pn,zn,Zt=Ve;if(this.tokens.links){const qn=Object.keys(this.tokens.links);if(qn.length>0)for(;null!=(an=this.tokenizer.rules.inline.reflinkSearch.exec(Zt));)qn.includes(an[0].slice(an[0].lastIndexOf("[")+1,-1))&&(Zt=Zt.slice(0,an.index)+"["+Oe("a",an[0].length-2)+"]"+Zt.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(an=this.tokenizer.rules.inline.blockSkip.exec(Zt));)Zt=Zt.slice(0,an.index)+"["+Oe("a",an[0].length-2)+"]"+Zt.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(an=this.tokenizer.rules.inline.escapedEmSt.exec(Zt));)Zt=Zt.slice(0,an.index+an[0].length-2)+"++"+Zt.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;Ve;)if(pn||(zn=""),pn=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(qn=>!!(Ue=qn.call({lexer:this},Ve,ye))&&(Ve=Ve.substring(Ue.raw.length),ye.push(Ue),!0)))){if(Ue=this.tokenizer.escape(Ve)){Ve=Ve.substring(Ue.raw.length),ye.push(Ue);continue}if(Ue=this.tokenizer.tag(Ve)){Ve=Ve.substring(Ue.raw.length),ut=ye[ye.length-1],ut&&"text"===Ue.type&&"text"===ut.type?(ut.raw+=Ue.raw,ut.text+=Ue.text):ye.push(Ue);continue}if(Ue=this.tokenizer.link(Ve)){Ve=Ve.substring(Ue.raw.length),ye.push(Ue);continue}if(Ue=this.tokenizer.reflink(Ve,this.tokens.links)){Ve=Ve.substring(Ue.raw.length),ut=ye[ye.length-1],ut&&"text"===Ue.type&&"text"===ut.type?(ut.raw+=Ue.raw,ut.text+=Ue.text):ye.push(Ue);continue}if(Ue=this.tokenizer.emStrong(Ve,Zt,zn)){Ve=Ve.substring(Ue.raw.length),ye.push(Ue);continue}if(Ue=this.tokenizer.codespan(Ve)){Ve=Ve.substring(Ue.raw.length),ye.push(Ue);continue}if(Ue=this.tokenizer.br(Ve)){Ve=Ve.substring(Ue.raw.length),ye.push(Ue);continue}if(Ue=this.tokenizer.del(Ve)){Ve=Ve.substring(Ue.raw.length),ye.push(Ue);continue}if(Ue=this.tokenizer.autolink(Ve,Ht)){Ve=Ve.substring(Ue.raw.length),ye.push(Ue);continue}if(!this.state.inLink&&(Ue=this.tokenizer.url(Ve,Ht))){Ve=Ve.substring(Ue.raw.length),ye.push(Ue);continue}if(gn=Ve,this.options.extensions&&this.options.extensions.startInline){let qn=1/0;const ai=Ve.slice(1);let pi;this.options.extensions.startInline.forEach(function(oi){pi=oi.call({lexer:this},ai),"number"==typeof pi&&pi>=0&&(qn=Math.min(qn,pi))}),qn<1/0&&qn>=0&&(gn=Ve.substring(0,qn+1))}if(Ue=this.tokenizer.inlineText(gn,Gt)){Ve=Ve.substring(Ue.raw.length),"_"!==Ue.raw.slice(-1)&&(zn=Ue.raw.slice(-1)),pn=!0,ut=ye[ye.length-1],ut&&"text"===ut.type?(ut.raw+=Ue.raw,ut.text+=Ue.text):ye.push(Ue);continue}if(Ve){const qn="Infinite loop on byte: "+Ve.charCodeAt(0);if(this.options.silent){console.error(qn);break}throw new Error(qn)}}return ye}}class ct{constructor(Ve){this.options=Ve||S}code(Ve,ye,Ue){const ut=(ye||"").match(/\S*/)[0];if(this.options.highlight){const gn=this.options.highlight(Ve,ut);null!=gn&&gn!==Ve&&(Ue=!0,Ve=gn)}return Ve=Ve.replace(/\n$/,"")+"\n",ut?'<pre><code class="'+this.options.langPrefix+$(ut)+'">'+(Ue?Ve:$(Ve,!0))+"</code></pre>\n":"<pre><code>"+(Ue?Ve:$(Ve,!0))+"</code></pre>\n"}blockquote(Ve){return`<blockquote>\n${Ve}</blockquote>\n`}html(Ve){return Ve}heading(Ve,ye,Ue,ut){return this.options.headerIds?`<h${ye} id="${this.options.headerPrefix+ut.slug(Ue)}">${Ve}</h${ye}>\n`:`<h${ye}>${Ve}</h${ye}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(Ve,ye,Ue){const ut=ye?"ol":"ul";return"<"+ut+(ye&&1!==Ue?' start="'+Ue+'"':"")+">\n"+Ve+"</"+ut+">\n"}listitem(Ve){return`<li>${Ve}</li>\n`}checkbox(Ve){return"<input "+(Ve?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(Ve){return`<p>${Ve}</p>\n`}table(Ve,ye){return ye&&(ye=`<tbody>${ye}</tbody>`),"<table>\n<thead>\n"+Ve+"</thead>\n"+ye+"</table>\n"}tablerow(Ve){return`<tr>\n${Ve}</tr>\n`}tablecell(Ve,ye){const Ue=ye.header?"th":"td";return(ye.align?`<${Ue} align="${ye.align}">`:`<${Ue}>`)+Ve+`</${Ue}>\n`}strong(Ve){return`<strong>${Ve}</strong>`}em(Ve){return`<em>${Ve}</em>`}codespan(Ve){return`<code>${Ve}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(Ve){return`<del>${Ve}</del>`}link(Ve,ye,Ue){if(null===(Ve=Q(this.options.sanitize,this.options.baseUrl,Ve)))return Ue;let ut='<a href="'+Ve+'"';return ye&&(ut+=' title="'+ye+'"'),ut+=">"+Ue+"</a>",ut}image(Ve,ye,Ue){if(null===(Ve=Q(this.options.sanitize,this.options.baseUrl,Ve)))return Ue;let ut=`<img src="${Ve}" alt="${Ue}"`;return ye&&(ut+=` title="${ye}"`),ut+=this.options.xhtml?"/>":">",ut}text(Ve){return Ve}}class at{strong(Ve){return Ve}em(Ve){return Ve}codespan(Ve){return Ve}del(Ve){return Ve}html(Ve){return Ve}text(Ve){return Ve}link(Ve,ye,Ue){return""+Ue}image(Ve,ye,Ue){return""+Ue}br(){return""}}class fe{constructor(){this.seen={}}serialize(Ve){return Ve.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(Ve,ye){let Ue=Ve,ut=0;if(this.seen.hasOwnProperty(Ue)){ut=this.seen[Ve];do{ut++,Ue=Ve+"-"+ut}while(this.seen.hasOwnProperty(Ue))}return ye||(this.seen[Ve]=ut,this.seen[Ue]=0),Ue}slug(Ve,ye={}){const Ue=this.serialize(Ve);return this.getNextSafeSlug(Ue,ye.dryrun)}}class ke{constructor(Ve){this.options=Ve||S,this.options.renderer=this.options.renderer||new ct,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new at,this.slugger=new fe}static parse(Ve,ye){return new ke(ye).parse(Ve)}static parseInline(Ve,ye){return new ke(ye).parseInline(Ve)}parse(Ve,ye=!0){let ut,gn,Zt,an,pn,zn,qn,ai,pi,oi,ki,$i,Do,ci,vo,Ko,Go,Ao,Xi,Ue="";const Xo=Ve.length;for(ut=0;ut<Xo;ut++)if(oi=Ve[ut],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[oi.type]&&(Xi=this.options.extensions.renderers[oi.type].call({parser:this},oi),!1!==Xi||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(oi.type)))Ue+=Xi||"";else switch(oi.type){case"space":continue;case"hr":Ue+=this.renderer.hr();continue;case"heading":Ue+=this.renderer.heading(this.parseInline(oi.tokens),oi.depth,q(this.parseInline(oi.tokens,this.textRenderer)),this.slugger);continue;case"code":Ue+=this.renderer.code(oi.text,oi.lang,oi.escaped);continue;case"table":for(ai="",qn="",an=oi.header.length,gn=0;gn<an;gn++)qn+=this.renderer.tablecell(this.parseInline(oi.header[gn].tokens),{header:!0,align:oi.align[gn]});for(ai+=this.renderer.tablerow(qn),pi="",an=oi.rows.length,gn=0;gn<an;gn++){for(zn=oi.rows[gn],qn="",pn=zn.length,Zt=0;Zt<pn;Zt++)qn+=this.renderer.tablecell(this.parseInline(zn[Zt].tokens),{header:!1,align:oi.align[Zt]});pi+=this.renderer.tablerow(qn)}Ue+=this.renderer.table(ai,pi);continue;case"blockquote":pi=this.parse(oi.tokens),Ue+=this.renderer.blockquote(pi);continue;case"list":for(ki=oi.ordered,$i=oi.start,Do=oi.loose,an=oi.items.length,pi="",gn=0;gn<an;gn++)vo=oi.items[gn],Ko=vo.checked,Go=vo.task,ci="",vo.task&&(Ao=this.renderer.checkbox(Ko),Do?vo.tokens.length>0&&"paragraph"===vo.tokens[0].type?(vo.tokens[0].text=Ao+" "+vo.tokens[0].text,vo.tokens[0].tokens&&vo.tokens[0].tokens.length>0&&"text"===vo.tokens[0].tokens[0].type&&(vo.tokens[0].tokens[0].text=Ao+" "+vo.tokens[0].tokens[0].text)):vo.tokens.unshift({type:"text",text:Ao}):ci+=Ao),ci+=this.parse(vo.tokens,Do),pi+=this.renderer.listitem(ci,Go,Ko);Ue+=this.renderer.list(pi,ki,$i);continue;case"html":Ue+=this.renderer.html(oi.text);continue;case"paragraph":Ue+=this.renderer.paragraph(this.parseInline(oi.tokens));continue;case"text":for(pi=oi.tokens?this.parseInline(oi.tokens):oi.text;ut+1<Xo&&"text"===Ve[ut+1].type;)oi=Ve[++ut],pi+="\n"+(oi.tokens?this.parseInline(oi.tokens):oi.text);Ue+=ye?this.renderer.paragraph(pi):pi;continue;default:{const as='Token with "'+oi.type+'" type was not found.';if(this.options.silent)return void console.error(as);throw new Error(as)}}return Ue}parseInline(Ve,ye){ye=ye||this.renderer;let ut,gn,Zt,Ue="";const an=Ve.length;for(ut=0;ut<an;ut++)if(gn=Ve[ut],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[gn.type]&&(Zt=this.options.extensions.renderers[gn.type].call({parser:this},gn),!1!==Zt||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(gn.type)))Ue+=Zt||"";else switch(gn.type){case"escape":case"text":Ue+=ye.text(gn.text);break;case"html":Ue+=ye.html(gn.text);break;case"link":Ue+=ye.link(gn.href,gn.title,this.parseInline(gn.tokens,ye));break;case"image":Ue+=ye.image(gn.href,gn.title,gn.text);break;case"strong":Ue+=ye.strong(this.parseInline(gn.tokens,ye));break;case"em":Ue+=ye.em(this.parseInline(gn.tokens,ye));break;case"codespan":Ue+=ye.codespan(gn.text);break;case"br":Ue+=ye.br();break;case"del":Ue+=ye.del(this.parseInline(gn.tokens,ye));break;default:{const pn='Token with "'+gn.type+'" type was not found.';if(this.options.silent)return void console.error(pn);throw new Error(pn)}}return Ue}}function ot(Bt,Ve,ye){if(null==Bt)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof Bt)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Bt)+", string expected");if("function"==typeof Ve&&(ye=Ve,Ve=null),we(Ve=be({},ot.defaults,Ve||{})),ye){const ut=Ve.highlight;let gn;try{gn=Ut.lex(Bt,Ve)}catch(pn){return ye(pn)}const Zt=function(pn){let zn;if(!pn)try{Ve.walkTokens&&ot.walkTokens(gn,Ve.walkTokens),zn=ke.parse(gn,Ve)}catch(qn){pn=qn}return Ve.highlight=ut,pn?ye(pn):ye(null,zn)};if(!ut||ut.length<3||(delete Ve.highlight,!gn.length))return Zt();let an=0;return ot.walkTokens(gn,function(pn){"code"===pn.type&&(an++,setTimeout(()=>{ut(pn.text,pn.lang,function(zn,qn){if(zn)return Zt(zn);null!=qn&&qn!==pn.text&&(pn.text=qn,pn.escaped=!0),an--,0===an&&Zt()})},0))}),void(0===an&&Zt())}function Ue(ut){if(ut.message+="\nPlease report this to https://github.com/markedjs/marked.",Ve.silent)return"<p>An error occurred:</p><pre>"+$(ut.message+"",!0)+"</pre>";throw ut}try{const ut=Ut.lex(Bt,Ve);if(Ve.walkTokens){if(Ve.async)return Promise.all(ot.walkTokens(ut,Ve.walkTokens)).then(()=>ke.parse(ut,Ve)).catch(Ue);ot.walkTokens(ut,Ve.walkTokens)}return ke.parse(ut,Ve)}catch(ut){Ue(ut)}}ot.options=ot.setOptions=function(Bt){return be(ot.defaults,Bt),function U(Bt){S=Bt}(ot.defaults),ot},ot.getDefaults=function D(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},ot.defaults=S,ot.use=function(...Bt){const Ve=ot.defaults.extensions||{renderers:{},childTokens:{}};Bt.forEach(ye=>{const Ue=be({},ye);if(Ue.async=ot.defaults.async||Ue.async,ye.extensions&&(ye.extensions.forEach(ut=>{if(!ut.name)throw new Error("extension name required");if(ut.renderer){const gn=Ve.renderers[ut.name];Ve.renderers[ut.name]=gn?function(...Zt){let an=ut.renderer.apply(this,Zt);return!1===an&&(an=gn.apply(this,Zt)),an}:ut.renderer}if(ut.tokenizer){if(!ut.level||"block"!==ut.level&&"inline"!==ut.level)throw new Error("extension level must be 'block' or 'inline'");Ve[ut.level]?Ve[ut.level].unshift(ut.tokenizer):Ve[ut.level]=[ut.tokenizer],ut.start&&("block"===ut.level?Ve.startBlock?Ve.startBlock.push(ut.start):Ve.startBlock=[ut.start]:"inline"===ut.level&&(Ve.startInline?Ve.startInline.push(ut.start):Ve.startInline=[ut.start]))}ut.childTokens&&(Ve.childTokens[ut.name]=ut.childTokens)}),Ue.extensions=Ve),ye.renderer){const ut=ot.defaults.renderer||new ct;for(const gn in ye.renderer){const Zt=ut[gn];ut[gn]=(...an)=>{let pn=ye.renderer[gn].apply(ut,an);return!1===pn&&(pn=Zt.apply(ut,an)),pn}}Ue.renderer=ut}if(ye.tokenizer){const ut=ot.defaults.tokenizer||new it;for(const gn in ye.tokenizer){const Zt=ut[gn];ut[gn]=(...an)=>{let pn=ye.tokenizer[gn].apply(ut,an);return!1===pn&&(pn=Zt.apply(ut,an)),pn}}Ue.tokenizer=ut}if(ye.walkTokens){const ut=ot.defaults.walkTokens;Ue.walkTokens=function(gn){let Zt=[];return Zt.push(ye.walkTokens.call(this,gn)),ut&&(Zt=Zt.concat(ut.call(this,gn))),Zt}}ot.setOptions(Ue)})},ot.walkTokens=function(Bt,Ve){let ye=[];for(const Ue of Bt)switch(ye=ye.concat(Ve.call(ot,Ue)),Ue.type){case"table":for(const ut of Ue.header)ye=ye.concat(ot.walkTokens(ut.tokens,Ve));for(const ut of Ue.rows)for(const gn of ut)ye=ye.concat(ot.walkTokens(gn.tokens,Ve));break;case"list":ye=ye.concat(ot.walkTokens(Ue.items,Ve));break;default:ot.defaults.extensions&&ot.defaults.extensions.childTokens&&ot.defaults.extensions.childTokens[Ue.type]?ot.defaults.extensions.childTokens[Ue.type].forEach(function(ut){ye=ye.concat(ot.walkTokens(Ue[ut],Ve))}):Ue.tokens&&(ye=ye.concat(ot.walkTokens(Ue.tokens,Ve)))}return ye},ot.parseInline=function(Bt,Ve){if(null==Bt)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof Bt)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Bt)+", string expected");we(Ve=be({},ot.defaults,Ve||{}));try{const ye=Ut.lexInline(Bt,Ve);return Ve.walkTokens&&ot.walkTokens(ye,Ve.walkTokens),ke.parseInline(ye,Ve)}catch(ye){if(ye.message+="\nPlease report this to https://github.com/markedjs/marked.",Ve.silent)return"<p>An error occurred:</p><pre>"+$(ye.message+"",!0)+"</pre>";throw ye}},ot.Parser=ke,ot.parser=ke.parse,ot.Renderer=ct,ot.TextRenderer=at,ot.Lexer=Ut,ot.lexer=Ut.lex,ot.Tokenizer=it,ot.Slugger=fe,ot.parse=ot;var ne=b(520),Ne=b(2313);const me=["*"];let In=(()=>{class Bt{constructor(){this._buttonClick$=new a.x,this.copied$=this._buttonClick$.pipe((0,P.w)(()=>(0,f.T)((0,g.of)(!0),(0,_.H)(3e3).pipe((0,y.h)(!1)))),(0,l.x)(),(0,R.d)(1)),this.copiedText$=this.copied$.pipe((0,L.O)(!1),(0,J.U)(ye=>ye?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return Bt.\u0275fac=function(ye){return new(ye||Bt)},Bt.\u0275cmp=e.Xpm({type:Bt,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(ye,Ue){1&ye&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return Ue.onCopyToClipboardClick()}),e.ALo(1,"async"),e._uU(2),e.ALo(3,"async"),e.qZA()),2&ye&&(e.ekj("copied",e.lcZ(1,3,Ue.copied$)),e.xp6(2),e.Oqu(e.lcZ(3,5,Ue.copiedText$)))},dependencies:[x.Ov],encapsulation:2,changeDetection:0}),Bt})();class en{}var Je=(()=>{return(Bt=Je||(Je={})).CommandLine="command-line",Bt.LineHighlight="line-highlight",Bt.LineNumbers="line-numbers",Je;var Bt})();class ze{}const Rt=new e.OlP("SECURITY_CONTEXT");let Fn=(()=>{class Bt{constructor(ye,Ue,ut,gn,Zt,an){this.platform=ye,this.securityContext=Ue,this.http=ut,this.clipboardOptions=gn,this.sanitizer=an,this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this.DEFAULT_MARKED_OPTIONS={renderer:new ct},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this._reload$=new a.x,this.reload$=this._reload$.asObservable(),this.options=Zt}get options(){return this._options}set options(ye){this._options=Object.assign(Object.assign({},this.DEFAULT_MARKED_OPTIONS),ye)}get renderer(){return this.options.renderer}set renderer(ye){this.options.renderer=ye}parse(ye,Ue=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:ut,inline:gn,emoji:Zt,mermaid:an,markedOptions:pn=this.options}=Ue;an&&(this.renderer=this.extendRenderer(pn.renderer||new ct));const zn=this.trimIndentation(ye),qn=ut?this.decodeHtml(zn):zn,ai=Zt?this.parseEmoji(qn):qn,pi=this.parseMarked(ai,pn,gn);return this.sanitizer.sanitize(this.securityContext,pi)||""}render(ye,Ue=this.DEFAULT_RENDER_OPTIONS,ut){const{clipboard:gn,clipboardOptions:Zt,katex:an,katexOptions:pn,mermaid:zn,mermaidOptions:qn}=Ue;gn&&this.renderClipboard(ye,ut,Object.assign(Object.assign(Object.assign({},this.DEFAULT_CLIPBOARD_OPTIONS),this.clipboardOptions),Zt)),an&&this.renderKatex(ye,Object.assign(Object.assign({},this.DEFAULT_KATEX_OPTIONS),pn)),zn&&this.renderMermaid(ye,Object.assign(Object.assign({},this.DEFAULT_MERMAID_OPTIONS),qn)),this.highlight(ye)}reload(){this._reload$.next()}getSource(ye){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(ye,{responseType:"text"}).pipe((0,J.U)(Ue=>this.handleExtension(ye,Ue)))}highlight(ye){if(!(0,x.NF)(this.platform)||"undefined"==typeof Prism||void 0===Prism.highlightAllUnder)return;ye||(ye=document);const Ue=ye.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(Ue,ut=>ut.classList.add("language-none")),Prism.highlightAllUnder(ye)}decodeHtml(ye){if(!(0,x.NF)(this.platform))return ye;const Ue=document.createElement("textarea");return Ue.innerHTML=ye,Ue.value}extendRenderer(ye){const Ue=ye;if(!0===Ue.\u0275NgxMarkdownRendererExtended)return ye;const ut=ye.code;return ye.code=function(gn,Zt,an){return"mermaid"===Zt?`<div class="mermaid">${gn}</div>`:ut.call(this,gn,Zt,an)},Ue.\u0275NgxMarkdownRendererExtended=!0,ye}handleExtension(ye,Ue){const ut=ye.lastIndexOf("://"),gn=ut>-1?ye.substring(ut+4):ye,Zt=gn.lastIndexOf("/"),an=Zt>-1?gn.substring(Zt+1).split("?")[0]:"",pn=an.lastIndexOf("."),zn=pn>-1?an.substring(pn+1):"";return zn&&"md"!==zn?"```"+zn+"\n"+Ue+"\n```":Ue}parseMarked(ye,Ue,ut=!1){return(0,x.NF)(this.platform)?ut?ot.parseInline(ye,Ue):ot.parse(ye,Ue):ye}parseEmoji(ye){if(!(0,x.NF)(this.platform))return ye;if("undefined"==typeof joypixels||void 0===joypixels.shortnameToUnicode)throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(ye)}renderKatex(ye,Ue){if((0,x.NF)(this.platform)){if("undefined"==typeof katex||"undefined"==typeof renderMathInElement)throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(ye,Ue)}}renderClipboard(ye,Ue,ut){if(!(0,x.NF)(this.platform))return;if("undefined"==typeof ClipboardJS)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!Ue)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:gn,buttonTemplate:Zt}=ut,an=ye.querySelectorAll("pre");for(let pn=0;pn<an.length;pn++){const zn=an.item(pn),qn=document.createElement("div");qn.style.position="relative",zn.parentNode.insertBefore(qn,zn),qn.appendChild(zn);const ai=document.createElement("div");let pi,oi;ai.style.position="absolute",ai.style.top=".5em",ai.style.right=".5em",ai.style.opacity="0",ai.style.transition="opacity 250ms ease-out",qn.insertAdjacentElement("beforeend",ai),zn.onmouseover=()=>ai.style.opacity="1",zn.onmouseout=()=>ai.style.opacity="0",pi=gn?Ue.createComponent(gn).hostView:Zt?Ue.createEmbeddedView(Zt):Ue.createComponent(In).hostView,pi.rootNodes.forEach(ki=>{ki.onmouseover=()=>ai.style.opacity="1",ai.appendChild(ki),oi=new ClipboardJS(ki,{text:()=>zn.innerText})}),pi.onDestroy(()=>oi.destroy())}}renderMermaid(ye,Ue=this.DEFAULT_MERMAID_OPTIONS){if(!(0,x.NF)(this.platform))return;if("undefined"==typeof mermaid||void 0===mermaid.init)throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const ut=ye.querySelectorAll(".mermaid");0!==ut.length&&(mermaid.initialize(Ue),mermaid.init(ut))}trimIndentation(ye){if(!ye)return"";let Ue;return ye.split("\n").map(ut=>{let gn=Ue;return ut.length>0&&(gn=isNaN(gn)?ut.search(/\S|$/):Math.min(ut.search(/\S|$/),gn)),isNaN(Ue)&&(Ue=gn),gn?ut.substring(gn):ut}).join("\n")}}return Bt.\u0275fac=function(ye){return new(ye||Bt)(e.LFG(e.Lbi),e.LFG(Rt),e.LFG(ne.eN,8),e.LFG(en,8),e.LFG(ze,8),e.LFG(Ne.H7))},Bt.\u0275prov=e.Yz7({token:Bt,factory:Bt.\u0275fac}),Bt})(),Un=(()=>{class Bt{constructor(ye,Ue,ut){this.element=ye,this.markdownService=Ue,this.viewContainerRef=ut,this.error=new e.vpe,this.load=new e.vpe,this.ready=new e.vpe,this._commandLine=!1,this._clipboard=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new a.x}get inline(){return this._inline}set inline(ye){this._inline=this.coerceBooleanProperty(ye)}get clipboard(){return this._clipboard}set clipboard(ye){this._clipboard=this.coerceBooleanProperty(ye)}get emoji(){return this._emoji}set emoji(ye){this._emoji=this.coerceBooleanProperty(ye)}get katex(){return this._katex}set katex(ye){this._katex=this.coerceBooleanProperty(ye)}get mermaid(){return this._mermaid}set mermaid(ye){this._mermaid=this.coerceBooleanProperty(ye)}get lineHighlight(){return this._lineHighlight}set lineHighlight(ye){this._lineHighlight=this.coerceBooleanProperty(ye)}get lineNumbers(){return this._lineNumbers}set lineNumbers(ye){this._lineNumbers=this.coerceBooleanProperty(ye)}get commandLine(){return this._commandLine}set commandLine(ye){this._commandLine=this.coerceBooleanProperty(ye)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe((0,N.R)(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(ye,Ue=!1){const gn={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},Zt=this.markdownService.parse(ye,{decodeHtml:Ue,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid});this.element.nativeElement.innerHTML=Zt,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,gn,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(ye){return null!=ye&&"false"!=`${String(ye)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:ye=>{this.render(ye),this.load.emit(ye)},error:ye=>this.error.emit(ye)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Je.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Je.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(ye,Ue){const ut=ye.querySelectorAll("pre");for(let gn=0;gn<ut.length;gn++){const Zt=Ue instanceof Array?Ue:[Ue];ut.item(gn).classList.add(...Zt)}}setPluginOptions(ye,Ue){const ut=ye.querySelectorAll("pre");for(let gn=0;gn<ut.length;gn++)Object.keys(Ue).forEach(Zt=>{const an=Ue[Zt];if(an){const pn=this.toLispCase(Zt);ut.item(gn).setAttribute(pn,an.toString())}})}toLispCase(ye){const Ue=ye.match(/([A-Z])/g);if(!Ue)return ye;let ut=ye.toString();for(let gn=0,Zt=Ue.length;gn<Zt;gn++)ut=ut.replace(new RegExp(Ue[gn]),"-"+Ue[gn].toLowerCase());return"-"===ut.slice(0,1)&&(ut=ut.slice(1)),ut}}return Bt.\u0275fac=function(ye){return new(ye||Bt)(e.Y36(e.SBq),e.Y36(Fn),e.Y36(e.s_b))},Bt.\u0275cmp=e.Xpm({type:Bt,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[e.TTD],ngContentSelectors:me,decls:1,vars:0,template:function(ye,Ue){1&ye&&(e.F$t(),e.Hsn(0))},encapsulation:2}),Bt})(),oo=(()=>{class Bt{static forRoot(ye){return{ngModule:Bt,providers:[Fn,ye&&ye.loader||[],ye&&ye.clipboardOptions||[],ye&&ye.markedOptions||[],{provide:Rt,useValue:ye&&null!=ye.sanitize?ye.sanitize:e.q3G.HTML}]}}static forChild(){return{ngModule:Bt}}}return Bt.\u0275fac=function(ye){return new(ye||Bt)},Bt.\u0275mod=e.oAB({type:Bt}),Bt.\u0275inj=e.cJS({imports:[x.ez]}),Bt})();var Uo;!function(Bt){let Ve;var ut;let ye,Ue;(ut=Ve=Bt.SecurityLevel||(Bt.SecurityLevel={})).Strict="strict",ut.Loose="loose",ut.Antiscript="antiscript",ut.Sandbox="sandbox",function(ut){ut.Base="base",ut.Forest="forest",ut.Dark="dark",ut.Default="default",ut.Neutral="neutral"}(ye=Bt.Theme||(Bt.Theme={})),function(ut){ut[ut.Debug=1]="Debug",ut[ut.Info=2]="Info",ut[ut.Warn=3]="Warn",ut[ut.Error=4]="Error",ut[ut.Fatal=5]="Fatal"}(Ue=Bt.LogLevel||(Bt.LogLevel={}))}(Uo||(Uo={}))},8913:(mn,ht,b)=>{"use strict";b.d(ht,{g6:()=>K,qH:()=>z});var e=b(5e3);const a={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},f=new e.OlP("config",{providedIn:"root",factory:()=>({modules:a})});var _=b(9808),P=b(2313),y=b(9770),l=b(9751),R=b(576);function L(Ae){return!!Ae&&(Ae instanceof l.y||(0,R.m)(Ae.lift)&&(0,R.m)(Ae.subscribe))}var J=b(3905),N=b(727),w=b(4968),x=b(4782),D=b(5577),S=b(8372),U=b(2382),F=b(655);function ce(Ae,Ke){1&Ae&&e._UZ(0,"div",2)}function te(Ae,Ke){1&Ae&&e._UZ(0,"pre",2)}function V(Ae,Ke){if(1&Ae&&(e.ynx(0),e.YNc(1,ce,1,0,"div",1),e.YNc(2,te,1,0,"pre",1),e.BQk()),2&Ae){const be=e.oxw();e.xp6(1),e.Q6J("ngIf",!be.preserve),e.xp6(1),e.Q6J("ngIf",be.preserve)}}function k(Ae,Ke){1&Ae&&e._UZ(0,"div",2)}function O(Ae,Ke){1&Ae&&e._UZ(0,"pre",2)}function $(Ae,Ke){if(1&Ae&&(e.ynx(0),e.YNc(1,k,1,0,"div",1),e.YNc(2,O,1,0,"pre",1),e.BQk()),2&Ae){const be=e.oxw();e.xp6(1),e.Q6J("ngIf",!be.preserve),e.xp6(1),e.Q6J("ngIf",be.preserve)}}const ue=[[["","quill-editor-toolbar",""]]],q=["[quill-editor-toolbar]"],he=(Ae,Ke)=>Ae||Ke||"html";let j=(()=>{class Ae{constructor(be,Qe){this.config=Qe,this.quill$=(0,y.P)(()=>(0,F.mG)(this,void 0,void 0,function*(){var X;if(!this.Quill){const xe=this.document.addEventListener;this.document.addEventListener=this.document.__zone_symbol__addEventListener||this.document.addEventListener;const we=yield b.e(971).then(b.t.bind(b,9971,19));this.document.addEventListener=xe,this.Quill=we.default?we.default:we}return null===(X=this.config.customOptions)||void 0===X||X.forEach(xe=>{const we=this.Quill.import(xe.import);we.whitelist=xe.whitelist,this.Quill.register(we,!0,this.config.suppressGlobalRegisterWarning)}),yield this.registerCustomModules(this.Quill,this.config.customModules,this.config.suppressGlobalRegisterWarning)})).pipe((0,x.d)({bufferSize:1,refCount:!0})),this.document=be.get(_.K0),this.config||(this.config={modules:a})}getQuill(){return this.quill$}registerCustomModules(be,Qe,X){return(0,F.mG)(this,void 0,void 0,function*(){if(Array.isArray(Qe))for(let{implementation:xe,path:we}of Qe)L(xe)&&(xe=yield(0,J.z)(xe)),be.register(we,xe,X);return be})}}return Ae.\u0275fac=function(be){return new(be||Ae)(e.LFG(e.zs3),e.LFG(f,8))},Ae.\u0275prov=e.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})(),Q=(()=>{class Ae{constructor(be,Qe,X,xe,we,Oe,dt,bt){this.elementRef=Qe,this.cd=X,this.domSanitizer=xe,this.platformId=we,this.renderer=Oe,this.zone=dt,this.service=bt,this.required=!1,this.customToolbarPosition="top",this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new e.vpe,this.onEditorChanged=new e.vpe,this.onContentChanged=new e.vpe,this.onSelectionChanged=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.disabled=!1,this.preserve=!1,this.toolbarPosition="top",this.subscription=null,this.quillSubscription=null,this.valueGetter=(it,Dt)=>{let vt=Dt.querySelector(".ql-editor").innerHTML;("<p><br></p>"===vt||"<div><br></div>"===vt)&&(vt=this.defaultEmptyValue);let Gt=vt;const Ht=he(this.format,this.service.config.format);if("text"===Ht)Gt=it.getText();else if("object"===Ht)Gt=it.getContents();else if("json"===Ht)try{Gt=JSON.stringify(it.getContents())}catch(Ut){Gt=it.getText()}return Gt},this.valueSetter=(it,Dt)=>{const vt=he(this.format,this.service.config.format);if("html"===vt)return([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(Dt=this.domSanitizer.sanitize(e.q3G.HTML,Dt)),it.clipboard.convert(Dt);if("json"===vt)try{return JSON.parse(Dt)}catch(Gt){return[{insert:Dt}]}return Dt},this.selectionChangeHandler=(it,Dt,vt)=>{const Gt=!it&&!!this.onModelTouched;!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!Gt||this.zone.run(()=>{null===it?this.onBlur.emit({editor:this.quillEditor,source:vt}):null===Dt&&this.onFocus.emit({editor:this.quillEditor,source:vt}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:Dt,range:it,source:vt}),Gt&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(it,Dt,vt)=>{const Gt=this.quillEditor.getText(),Ht=this.quillEditor.getContents();let Ut=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===Ut||"<div><br></div>"===Ut)&&(Ut=this.defaultEmptyValue);const ct=this.trackChanges||this.service.config.trackChanges,at=("user"===vt||ct&&"all"===ct)&&!!this.onModelChange;!this.onContentChanged.observed&&!at||this.zone.run(()=>{at&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:Ht,delta:it,editor:this.quillEditor,html:Ut,oldDelta:Dt,source:vt,text:Gt}),this.cd.markForCheck()})},this.editorChangeHandler=(it,Dt,vt,Gt)=>{if(this.onEditorChanged.observed)if("text-change"===it){const Ht=this.quillEditor.getText(),Ut=this.quillEditor.getContents();let ct=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===ct||"<div><br></div>"===ct)&&(ct=this.defaultEmptyValue),this.zone.run(()=>{this.onEditorChanged.emit({content:Ut,delta:Dt,editor:this.quillEditor,event:it,html:ct,oldDelta:vt,source:Gt,text:Ht}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:it,oldRange:vt,range:Dt,source:Gt}),this.cd.markForCheck()})},this.document=be.get(_.K0)}static normalizeClassNames(be){return be.trim().split(" ").reduce((X,xe)=>{const we=xe.trim();return we&&X.push(we),X},[])}ngOnInit(){this.preserve=this.preserveWhitespace,this.toolbarPosition=this.customToolbarPosition}ngAfterViewInit(){(0,_.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe((0,D.z)(be=>{var Qe;const X=[this.service.registerCustomModules(be,this.customModules)],xe=null!==(Qe=this.beforeRender)&&void 0!==Qe?Qe:this.service.config.beforeRender;return xe&&X.push(xe()),Promise.all(X).then(()=>be)})).subscribe(be=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const Qe=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),X=Object.assign({},this.modules||this.service.config.modules);Qe?X.toolbar=Qe:void 0===X.toolbar&&(X.toolbar=a.toolbar);let xe=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===xe&&(xe="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(vt=>{this.renderer.setStyle(this.editorElem,vt,this.styles[vt])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(vt=>{const Gt=be.import(vt.import);Gt.whitelist=vt.whitelist,be.register(Gt,!0)});let we=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;we||(we=this.service.config.bounds?this.service.config.bounds:this.document.body);let Oe=this.debug;!Oe&&!1!==Oe&&this.service.config.debug&&(Oe=this.service.config.debug);let dt=this.readOnly;!dt&&!1!==this.readOnly&&(dt=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let bt=this.defaultEmptyValue;this.service.config.hasOwnProperty("defaultEmptyValue")&&(bt=this.service.config.defaultEmptyValue);let it=this.scrollingContainer;!it&&null!==this.scrollingContainer&&(it=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let Dt=this.formats;if(!Dt&&void 0===Dt&&(Dt=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{var vt,Gt,Ht;if(this.quillEditor=new be(this.editorElem,{bounds:we,debug:Oe,formats:Dt,modules:X,placeholder:xe,readOnly:dt,defaultEmptyValue:bt,scrollingContainer:it,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.linkPlaceholder){const Ut=null===(Gt=null===(vt=this.quillEditor)||void 0===vt?void 0:vt.theme)||void 0===Gt?void 0:Gt.tooltip,ct=null===(Ht=null==Ut?void 0:Ut.root)||void 0===Ht?void 0:Ht.querySelector("input[data-link]");null!=ct&&ct.dataset&&(ct.dataset.link=this.linkPlaceholder)}}),this.content){if("text"===he(this.format,this.service.config.format))this.quillEditor.setText(this.content,"silent");else{const Gt=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(Gt,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),(this.onEditorCreated.observed||this.onValidatorChanged)&&requestAnimationFrame(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor),this.onEditorCreated.complete()})}))}ngOnDestroy(){var be;this.dispose(),null===(be=this.quillSubscription)||void 0===be||be.unsubscribe(),this.quillSubscription=null}ngOnChanges(be){if(this.quillEditor){if(be.readOnly&&this.quillEditor.enable(!be.readOnly.currentValue),be.placeholder&&(this.quillEditor.root.dataset.placeholder=be.placeholder.currentValue),be.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=be.defaultEmptyValue.currentValue),be.styles){const Qe=be.styles.currentValue,X=be.styles.previousValue;X&&Object.keys(X).forEach(xe=>{this.renderer.removeStyle(this.editorElem,xe)}),Qe&&Object.keys(Qe).forEach(xe=>{this.renderer.setStyle(this.editorElem,xe,this.styles[xe])})}if(be.classes){const Qe=be.classes.currentValue,X=be.classes.previousValue;X&&this.removeClasses(X),Qe&&this.addClasses(Qe)}be.debounceTime&&this.addQuillEventListeners()}}addClasses(be){Ae.normalizeClassNames(be).forEach(Qe=>{this.renderer.addClass(this.editorElem,Qe)})}removeClasses(be){Ae.normalizeClassNames(be).forEach(Qe=>{this.renderer.removeClass(this.editorElem,Qe)})}writeValue(be){if(this.filterNull&&null===be||(this.content=be,!this.quillEditor))return;const Qe=he(this.format,this.service.config.format),X=this.valueSetter(this.quillEditor,be);if(this.compareValues){const xe=this.quillEditor.getContents();if(JSON.stringify(xe)===JSON.stringify(X))return}be?"text"===Qe?this.quillEditor.setText(be):this.quillEditor.setContents(X):this.quillEditor.setText("")}setDisabledState(be=this.disabled){this.disabled=be,this.quillEditor&&(be?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(be){this.onModelChange=be}registerOnTouched(be){this.onModelTouched=be}registerOnValidatorChange(be){this.onValidatorChanged=be}validate(){if(!this.quillEditor)return null;const be={};let Qe=!0;const X=this.quillEditor.getText(),xe=this.trimOnValidation?X.trim().length:1===X.length&&0===X.trim().length?0:X.length-1,we=this.quillEditor.getContents().ops,Oe=we&&1===we.length&&["\n",""].includes(we[0].insert);return this.minLength&&xe&&xe<this.minLength&&(be.minLengthError={given:xe,minLength:this.minLength},Qe=!1),this.maxLength&&xe>this.maxLength&&(be.maxLengthError={given:xe,maxLength:this.maxLength},Qe=!1),this.required&&!xe&&Oe&&(be.requiredError={empty:!0},Qe=!1),Qe?null:be}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new N.w0,this.subscription.add((0,w.R)(this.quillEditor,"selection-change").subscribe(([X,xe,we])=>{this.selectionChangeHandler(X,xe,we)}));let be=(0,w.R)(this.quillEditor,"text-change"),Qe=(0,w.R)(this.quillEditor,"editor-change");"number"==typeof this.debounceTime&&(be=be.pipe((0,S.b)(this.debounceTime)),Qe=Qe.pipe((0,S.b)(this.debounceTime))),this.subscription.add(be.subscribe(([X,xe,we])=>{this.textChangeHandler(X,xe,we)})),this.subscription.add(Qe.subscribe(([X,xe,we,Oe])=>{this.editorChangeHandler(X,xe,we,Oe)}))})}dispose(){null!==this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}}return Ae.\u0275fac=function(be){return new(be||Ae)(e.Y36(e.zs3),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(P.H7),e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(j))},Ae.\u0275dir=e.lG2({type:Ae,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",beforeRender:"beforeRender",styles:"styles",strict:"strict",scrollingContainer:"scrollingContainer",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",preserveWhitespace:"preserveWhitespace",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur"},features:[e.TTD]}),Ae})(),K=(()=>{class Ae extends Q{constructor(be,Qe,X,xe,we,Oe,dt,bt){super(be,Qe,X,xe,we,Oe,dt,bt)}}return Ae.\u0275fac=function(be){return new(be||Ae)(e.Y36(e.zs3),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(P.H7),e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(j))},Ae.\u0275cmp=e.Xpm({type:Ae,selectors:[["quill-editor"]],standalone:!0,features:[e._Bn([{multi:!0,provide:U.JU,useExisting:(0,e.Gpc)(()=>Ae)},{multi:!0,provide:U.Cf,useExisting:(0,e.Gpc)(()=>Ae)}]),e.qOj,e.jDz],ngContentSelectors:q,decls:3,vars:2,consts:[[4,"ngIf"],["quill-editor-element","",4,"ngIf"],["quill-editor-element",""]],template:function(be,Qe){1&be&&(e.F$t(ue),e.YNc(0,V,3,2,"ng-container",0),e.Hsn(1),e.YNc(2,$,3,2,"ng-container",0)),2&be&&(e.Q6J("ngIf","top"!==Qe.toolbarPosition),e.xp6(2),e.Q6J("ngIf","top"===Qe.toolbarPosition))},dependencies:[_.ez,_.O5],styles:["[_nghost-%COMP%]{display:inline-block}"]}),Ae})(),z=(()=>{class Ae{constructor(be,Qe){this.sanitizer=be,this.service=Qe,this.content="",this.innerHTML="",this.themeClass="ql-snow"}ngOnChanges(be){if(be.theme?this.themeClass=`ql-${be.theme.currentValue||(this.service.config.theme?this.service.config.theme:"snow")} ngx-quill-view-html`:this.theme||(this.themeClass=`ql-${this.service.config.theme?this.service.config.theme:"snow"} ngx-quill-view-html`),be.content){const Qe=be.content.currentValue,X=[!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1;this.innerHTML=X?Qe:this.sanitizer.bypassSecurityTrustHtml(Qe)}}}return Ae.\u0275fac=function(be){return new(be||Ae)(e.Y36(P.H7),e.Y36(j))},Ae.\u0275cmp=e.Xpm({type:Ae,selectors:[["quill-view-html"]],inputs:{content:"content",theme:"theme",sanitize:"sanitize"},standalone:!0,features:[e.TTD,e.jDz],decls:2,vars:2,consts:[[1,"ql-container",3,"ngClass"],[1,"ql-editor",3,"innerHTML"]],template:function(be,Qe){1&be&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA()),2&be&&(e.Q6J("ngClass",Qe.themeClass),e.xp6(1),e.Q6J("innerHTML",Qe.innerHTML,e.oJD))},dependencies:[_.ez,_.mk],styles:[".ql-container.ngx-quill-view-html{border:0}\n"],encapsulation:2}),Ae})()},6954:(mn,ht,b)=>{"use strict";b.d(ht,{x:()=>g});var e=b(9808),a=b(5e3);let g=(()=>{class _{}return _.\u0275fac=function(y){return new(y||_)},_.\u0275mod=a.oAB({type:_}),_.\u0275inj=a.cJS({imports:[e.ez]}),_})()},9783:(mn,ht,b)=>{"use strict";b.d(ht,{$_:()=>U,F0:()=>w,Lk:()=>l,Y:()=>V,YP:()=>y,a6:()=>R,b4:()=>D,ez:()=>N,h4:()=>S,iZ:()=>J,jx:()=>F,m8:()=>ce,pg:()=>L,wB:()=>P,ws:()=>te});var e=b(5e3),a=b(7579),f=b(5921),g=b(9808);const _=["*"];var P=(()=>{return(k=P||(P={}))[k.ACCEPT=0]="ACCEPT",k[k.REJECT=1]="REJECT",k[k.CANCEL=2]="CANCEL",P;var k})();let y=(()=>{class k{constructor(){this.requireConfirmationSource=new a.x,this.acceptConfirmationSource=new a.x,this.requireConfirmation$=this.requireConfirmationSource.asObservable(),this.accept=this.acceptConfirmationSource.asObservable()}confirm($){return this.requireConfirmationSource.next($),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}}return k.\u0275fac=function($){return new($||k)},k.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac}),k})(),l=(()=>{class k{constructor(){this.activeItemKeyChange=new a.x,this.activeItemKeyChange$=this.activeItemKeyChange.asObservable()}changeKey($){this.activeItemKey=$,this.activeItemKeyChange.next(this.activeItemKey)}reset(){this.activeItemKey=null,this.activeItemKeyChange.next(this.activeItemKey)}}return k.\u0275fac=function($){return new($||k)},k.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac}),k})(),R=(()=>{class k{}return k.STARTS_WITH="startsWith",k.CONTAINS="contains",k.NOT_CONTAINS="notContains",k.ENDS_WITH="endsWith",k.EQUALS="equals",k.NOT_EQUALS="notEquals",k.IN="in",k.LESS_THAN="lt",k.LESS_THAN_OR_EQUAL_TO="lte",k.GREATER_THAN="gt",k.GREATER_THAN_OR_EQUAL_TO="gte",k.BETWEEN="between",k.IS="is",k.IS_NOT="isNot",k.BEFORE="before",k.AFTER="after",k.DATE_IS="dateIs",k.DATE_IS_NOT="dateIsNot",k.DATE_BEFORE="dateBefore",k.DATE_AFTER="dateAfter",k})(),L=(()=>{class k{}return k.AND="and",k.OR="or",k})(),J=(()=>{class k{constructor(){this.filters={startsWith:($,ue,q)=>{if(null==ue||""===ue.trim())return!0;if(null==$)return!1;let Y=f.gb.removeAccents(ue.toString()).toLocaleLowerCase(q);return f.gb.removeAccents($.toString()).toLocaleLowerCase(q).slice(0,Y.length)===Y},contains:($,ue,q)=>{if(null==ue||"string"==typeof ue&&""===ue.trim())return!0;if(null==$)return!1;let Y=f.gb.removeAccents(ue.toString()).toLocaleLowerCase(q);return-1!==f.gb.removeAccents($.toString()).toLocaleLowerCase(q).indexOf(Y)},notContains:($,ue,q)=>{if(null==ue||"string"==typeof ue&&""===ue.trim())return!0;if(null==$)return!1;let Y=f.gb.removeAccents(ue.toString()).toLocaleLowerCase(q);return-1===f.gb.removeAccents($.toString()).toLocaleLowerCase(q).indexOf(Y)},endsWith:($,ue,q)=>{if(null==ue||""===ue.trim())return!0;if(null==$)return!1;let Y=f.gb.removeAccents(ue.toString()).toLocaleLowerCase(q),G=f.gb.removeAccents($.toString()).toLocaleLowerCase(q);return-1!==G.indexOf(Y,G.length-Y.length)},equals:($,ue,q)=>null==ue||"string"==typeof ue&&""===ue.trim()||null!=$&&($.getTime&&ue.getTime?$.getTime()===ue.getTime():f.gb.removeAccents($.toString()).toLocaleLowerCase(q)==f.gb.removeAccents(ue.toString()).toLocaleLowerCase(q)),notEquals:($,ue,q)=>!(null==ue||"string"==typeof ue&&""===ue.trim()||null!=$&&($.getTime&&ue.getTime?$.getTime()===ue.getTime():f.gb.removeAccents($.toString()).toLocaleLowerCase(q)==f.gb.removeAccents(ue.toString()).toLocaleLowerCase(q))),in:($,ue)=>{if(null==ue||0===ue.length)return!0;for(let q=0;q<ue.length;q++)if(f.gb.equals($,ue[q]))return!0;return!1},between:($,ue)=>null==ue||null==ue[0]||null==ue[1]||null!=$&&($.getTime?ue[0].getTime()<=$.getTime()&&$.getTime()<=ue[1].getTime():ue[0]<=$&&$<=ue[1]),lt:($,ue,q)=>null==ue||null!=$&&($.getTime&&ue.getTime?$.getTime()<ue.getTime():$<ue),lte:($,ue,q)=>null==ue||null!=$&&($.getTime&&ue.getTime?$.getTime()<=ue.getTime():$<=ue),gt:($,ue,q)=>null==ue||null!=$&&($.getTime&&ue.getTime?$.getTime()>ue.getTime():$>ue),gte:($,ue,q)=>null==ue||null!=$&&($.getTime&&ue.getTime?$.getTime()>=ue.getTime():$>=ue),is:($,ue,q)=>this.filters.equals($,ue,q),isNot:($,ue,q)=>this.filters.notEquals($,ue,q),before:($,ue,q)=>this.filters.lt($,ue,q),after:($,ue,q)=>this.filters.gt($,ue,q),dateIs:($,ue)=>null==ue||null!=$&&$.toDateString()===ue.toDateString(),dateIsNot:($,ue)=>null==ue||null!=$&&$.toDateString()!==ue.toDateString(),dateBefore:($,ue)=>null==ue||null!=$&&$.getTime()<ue.getTime(),dateAfter:($,ue)=>null==ue||null!=$&&$.getTime()>ue.getTime()}}filter($,ue,q,Y,G){let he=[];if($)for(let j of $)for(let Q of ue){let K=f.gb.resolveFieldData(j,Q);if(this.filters[Y](K,q,G)){he.push(j);break}}return he}register($,ue){this.filters[$]=ue}}return k.\u0275fac=function($){return new($||k)},k.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),N=(()=>{class k{constructor(){this.messageSource=new a.x,this.clearSource=new a.x,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add($){$&&this.messageSource.next($)}addAll($){$&&$.length&&this.messageSource.next($)}clear($){this.clearSource.next($||null)}}return k.\u0275fac=function($){return new($||k)},k.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac}),k})(),w=(()=>{class k{constructor(){this.clickSource=new a.x,this.clickObservable=this.clickSource.asObservable()}add($){$&&this.clickSource.next($)}}return k.\u0275fac=function($){return new($||k)},k.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),D=(()=>{class k{constructor(){this.ripple=!1,this.overlayOptions={},this.filterMatchModeOptions={text:[R.STARTS_WITH,R.CONTAINS,R.NOT_CONTAINS,R.ENDS_WITH,R.EQUALS,R.NOT_EQUALS],numeric:[R.EQUALS,R.NOT_EQUALS,R.LESS_THAN,R.LESS_THAN_OR_EQUAL_TO,R.GREATER_THAN,R.GREATER_THAN_OR_EQUAL_TO],date:[R.DATE_IS,R.DATE_IS_NOT,R.DATE_BEFORE,R.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new a.x,this.translationObserver=this.translationSource.asObservable()}getTranslation($){return this.translation[$]}setTranslation($){this.translation=Object.assign(Object.assign({},this.translation),$),this.translationSource.next(this.translation)}}return k.\u0275fac=function($){return new($||k)},k.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),S=(()=>{class k{}return k.\u0275fac=function($){return new($||k)},k.\u0275cmp=e.Xpm({type:k,selectors:[["p-header"]],ngContentSelectors:_,decls:1,vars:0,template:function($,ue){1&$&&(e.F$t(),e.Hsn(0))},encapsulation:2}),k})(),U=(()=>{class k{}return k.\u0275fac=function($){return new($||k)},k.\u0275cmp=e.Xpm({type:k,selectors:[["p-footer"]],ngContentSelectors:_,decls:1,vars:0,template:function($,ue){1&$&&(e.F$t(),e.Hsn(0))},encapsulation:2}),k})(),F=(()=>{class k{constructor($){this.template=$}getType(){return this.name}}return k.\u0275fac=function($){return new($||k)(e.Y36(e.Rgc))},k.\u0275dir=e.lG2({type:k,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),k})(),ce=(()=>{class k{}return k.\u0275fac=function($){return new($||k)},k.\u0275mod=e.oAB({type:k}),k.\u0275inj=e.cJS({imports:[g.ez]}),k})(),te=(()=>{class k{}return k.STARTS_WITH="startsWith",k.CONTAINS="contains",k.NOT_CONTAINS="notContains",k.ENDS_WITH="endsWith",k.EQUALS="equals",k.NOT_EQUALS="notEquals",k.NO_FILTER="noFilter",k.LT="lt",k.LTE="lte",k.GT="gt",k.GTE="gte",k.IS="is",k.IS_NOT="isNot",k.BEFORE="before",k.AFTER="after",k.CLEAR="clear",k.APPLY="apply",k.MATCH_ALL="matchAll",k.MATCH_ANY="matchAny",k.ADD_RULE="addRule",k.REMOVE_RULE="removeRule",k.ACCEPT="accept",k.REJECT="reject",k.CHOOSE="choose",k.UPLOAD="upload",k.CANCEL="cancel",k.DAY_NAMES="dayNames",k.DAY_NAMES_SHORT="dayNamesShort",k.DAY_NAMES_MIN="dayNamesMin",k.MONTH_NAMES="monthNames",k.MONTH_NAMES_SHORT="monthNamesShort",k.FIRST_DAY_OF_WEEK="firstDayOfWeek",k.TODAY="today",k.WEEK_HEADER="weekHeader",k.WEAK="weak",k.MEDIUM="medium",k.STRONG="strong",k.PASSWORD_PROMPT="passwordPrompt",k.EMPTY_MESSAGE="emptyMessage",k.EMPTY_FILTER_MESSAGE="emptyFilterMessage",k})(),V=(()=>{class k{constructor(){this.dragStartSource=new a.x,this.dragStopSource=new a.x,this.dragStart$=this.dragStartSource.asObservable(),this.dragStop$=this.dragStopSource.asObservable()}startDrag($){this.dragStartSource.next($)}stopDrag($){this.dragStopSource.next($)}}return k.\u0275fac=function($){return new($||k)},k.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac}),k})()},2145:(mn,ht,b)=>{"use strict";b.d(ht,{Qc:()=>In,WN:()=>en});var e=b(5e3),a=b(9808),f=b(1777),g=b(1424),_=b(845),P=b(5787),y=b(9783),l=b(5730),R=b(5921),L=b(2382),J=b(5871),N=b(9618);const w=["container"],x=["in"],D=["multiIn"],S=["multiContainer"],U=["ddBtn"],F=["items"],ce=["scroller"],te=function(_t,et){return{"p-autocomplete-dd-input":_t,"p-disabled":et}};function V(_t,et){if(1&_t){const de=e.EpF();e.TgZ(0,"input",8,9),e.NdJ("click",function(ze){e.CHM(de);const wt=e.oxw();return e.KtG(wt.onInputClick(ze))})("input",function(ze){e.CHM(de);const wt=e.oxw();return e.KtG(wt.onInput(ze))})("keydown",function(ze){e.CHM(de);const wt=e.oxw();return e.KtG(wt.onKeydown(ze))})("keyup",function(ze){e.CHM(de);const wt=e.oxw();return e.KtG(wt.onKeyup(ze))})("focus",function(ze){e.CHM(de);const wt=e.oxw();return e.KtG(wt.onInputFocus(ze))})("blur",function(ze){e.CHM(de);const wt=e.oxw();return e.KtG(wt.onInputBlur(ze))})("change",function(ze){e.CHM(de);const wt=e.oxw();return e.KtG(wt.onInputChange(ze))})("paste",function(ze){e.CHM(de);const wt=e.oxw();return e.KtG(wt.onInputPaste(ze))}),e.qZA()}if(2&_t){const de=e.oxw();e.Tol(de.inputStyleClass),e.Q6J("autofocus",de.autofocus)("ngStyle",de.inputStyle)("autocomplete",de.autocomplete)("ngClass",e.WLB(20,te,de.dropdown,de.disabled))("value",de.inputFieldValue)("readonly",de.readonly)("disabled",de.disabled),e.uIk("type",de.type)("id",de.inputId)("required",de.required)("name",de.name)("placeholder",de.placeholder)("size",de.size)("maxlength",de.maxlength)("tabindex",de.tabindex)("aria-label",de.ariaLabel)("aria-labelledby",de.ariaLabelledBy)("aria-required",de.required)}}function k(_t,et){if(1&_t){const de=e.EpF();e.TgZ(0,"i",10),e.NdJ("click",function(){e.CHM(de);const ze=e.oxw();return e.KtG(ze.clear())}),e.qZA()}}function O(_t,et){if(1&_t){const de=e.EpF();e.TgZ(0,"i",10),e.NdJ("click",function(){e.CHM(de);const ze=e.oxw();return e.KtG(ze.clear())}),e.qZA()}}function $(_t,et){1&_t&&e.GkF(0)}function ue(_t,et){if(1&_t&&(e.TgZ(0,"span",22),e._uU(1),e.qZA()),2&_t){const de=e.oxw().$implicit,Je=e.oxw(2);e.xp6(1),e.Oqu(Je.resolveFieldData(de))}}function q(_t,et){if(1&_t){const de=e.EpF();e.TgZ(0,"span",23),e.NdJ("click",function(){e.CHM(de),e.oxw();const ze=e.MAs(1),wt=e.oxw(2);return e.KtG(wt.removeItem(ze))}),e.qZA()}}const Y=function(_t){return{$implicit:_t}};function G(_t,et){if(1&_t&&(e.TgZ(0,"li",17,18),e.YNc(2,$,1,0,"ng-container",19),e.YNc(3,ue,2,1,"span",20),e.YNc(4,q,1,0,"span",21),e.qZA()),2&_t){const de=et.$implicit,Je=e.oxw(2);e.xp6(2),e.Q6J("ngTemplateOutlet",Je.selectedItemTemplate)("ngTemplateOutletContext",e.VKq(4,Y,de)),e.xp6(1),e.Q6J("ngIf",!Je.selectedItemTemplate),e.xp6(1),e.Q6J("ngIf",!Je.disabled&&!Je.readonly)}}const he=function(_t,et){return{"p-disabled":_t,"p-focus":et}};function j(_t,et){if(1&_t){const de=e.EpF();e.TgZ(0,"ul",11,12),e.NdJ("click",function(){e.CHM(de);const ze=e.MAs(5);return e.KtG(ze.focus())}),e.YNc(2,G,5,6,"li",13),e.TgZ(3,"li",14)(4,"input",15,16),e.NdJ("input",function(ze){e.CHM(de);const wt=e.oxw();return e.KtG(wt.onInput(ze))})("click",function(ze){e.CHM(de);const wt=e.oxw();return e.KtG(wt.onInputClick(ze))})("keydown",function(ze){e.CHM(de);const wt=e.oxw();return e.KtG(wt.onKeydown(ze))})("keyup",function(ze){e.CHM(de);const wt=e.oxw();return e.KtG(wt.onKeyup(ze))})("focus",function(ze){e.CHM(de);const wt=e.oxw();return e.KtG(wt.onInputFocus(ze))})("blur",function(ze){e.CHM(de);const wt=e.oxw();return e.KtG(wt.onInputBlur(ze))})("change",function(ze){e.CHM(de);const wt=e.oxw();return e.KtG(wt.onInputChange(ze))})("paste",function(ze){e.CHM(de);const wt=e.oxw();return e.KtG(wt.onInputPaste(ze))}),e.qZA()()()}if(2&_t){const de=e.oxw();e.Q6J("ngClass",e.WLB(20,he,de.disabled,de.focus)),e.xp6(2),e.Q6J("ngForOf",de.value),e.xp6(2),e.Tol(de.inputStyleClass),e.Q6J("autofocus",de.autofocus)("disabled",de.disabled)("readonly",de.readonly)("autocomplete",de.autocomplete)("ngStyle",de.inputStyle),e.uIk("type",de.type)("id",de.inputId)("placeholder",de.value&&de.value.length?null:de.placeholder)("tabindex",de.tabindex)("maxlength",de.maxlength)("aria-label",de.ariaLabel)("aria-labelledby",de.ariaLabelledBy)("aria-required",de.required)("aria-controls",de.listId)("aria-expanded",de.overlayVisible)("aria-activedescendant","p-highlighted-option")}}function Q(_t,et){1&_t&&e._UZ(0,"i",24)}function K(_t,et){if(1&_t){const de=e.EpF();e.TgZ(0,"button",25,26),e.NdJ("click",function(ze){e.CHM(de);const wt=e.oxw();return e.KtG(wt.handleDropdownClick(ze))}),e.qZA()}if(2&_t){const de=e.oxw();e.Q6J("icon",de.dropdownIcon)("disabled",de.disabled),e.uIk("aria-label",de.dropdownAriaLabel)("tabindex",de.tabindex)}}function z(_t,et){1&_t&&e.GkF(0)}function oe(_t,et){1&_t&&e.GkF(0)}const Te=function(_t,et){return{$implicit:_t,options:et}};function Ae(_t,et){if(1&_t&&e.YNc(0,oe,1,0,"ng-container",19),2&_t){const de=et.$implicit,Je=et.options;e.oxw(2);const ze=e.MAs(6);e.Q6J("ngTemplateOutlet",ze)("ngTemplateOutletContext",e.WLB(2,Te,de,Je))}}function Ke(_t,et){1&_t&&e.GkF(0)}const be=function(_t){return{options:_t}};function Qe(_t,et){if(1&_t&&e.YNc(0,Ke,1,0,"ng-container",19),2&_t){const de=et.options,Je=e.oxw(4);e.Q6J("ngTemplateOutlet",Je.loaderTemplate)("ngTemplateOutletContext",e.VKq(2,be,de))}}function X(_t,et){1&_t&&(e.ynx(0),e.YNc(1,Qe,1,4,"ng-template",36),e.BQk())}const xe=function(_t){return{height:_t}};function we(_t,et){if(1&_t){const de=e.EpF();e.TgZ(0,"p-scroller",33,34),e.NdJ("onLazyLoad",function(ze){e.CHM(de);const wt=e.oxw(2);return e.KtG(wt.onLazyLoad.emit(ze))}),e.YNc(2,Ae,1,5,"ng-template",35),e.YNc(3,X,2,0,"ng-container",31),e.qZA()}if(2&_t){const de=e.oxw(2);e.Akn(e.VKq(8,xe,de.scrollHeight)),e.Q6J("items",de.suggestions)("itemSize",de.virtualScrollItemSize||de._itemSize)("autoSize",!0)("lazy",de.lazy)("options",de.virtualScrollOptions),e.xp6(3),e.Q6J("ngIf",de.loaderTemplate)}}function Oe(_t,et){1&_t&&e.GkF(0)}const dt=function(){return{}};function bt(_t,et){if(1&_t&&(e.ynx(0),e.YNc(1,Oe,1,0,"ng-container",19),e.BQk()),2&_t){e.oxw();const de=e.MAs(6),Je=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",de)("ngTemplateOutletContext",e.WLB(3,Te,Je.suggestions,e.DdM(2,dt)))}}function it(_t,et){if(1&_t&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&_t){const de=e.oxw().$implicit,Je=e.oxw(4);e.xp6(1),e.Oqu(Je.getOptionGroupLabel(de)||"empty")}}function Dt(_t,et){1&_t&&e.GkF(0)}function vt(_t,et){1&_t&&e.GkF(0)}function Gt(_t,et){if(1&_t&&(e.TgZ(0,"li",42),e.YNc(1,it,2,1,"span",31),e.YNc(2,Dt,1,0,"ng-container",19),e.qZA(),e.YNc(3,vt,1,0,"ng-container",19)),2&_t){const de=et.$implicit,Je=e.oxw(2).options,ze=e.MAs(5),wt=e.oxw(2);e.Q6J("ngStyle",e.VKq(6,xe,Je.itemSize+"px")),e.xp6(1),e.Q6J("ngIf",!wt.groupTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",wt.groupTemplate)("ngTemplateOutletContext",e.VKq(8,Y,de)),e.xp6(1),e.Q6J("ngTemplateOutlet",ze)("ngTemplateOutletContext",e.VKq(10,Y,wt.getOptionGroupChildren(de)))}}function Ht(_t,et){if(1&_t&&(e.ynx(0),e.YNc(1,Gt,4,12,"ng-template",41),e.BQk()),2&_t){const de=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",de)}}function Ut(_t,et){1&_t&&e.GkF(0)}function ct(_t,et){if(1&_t&&(e.ynx(0),e.YNc(1,Ut,1,0,"ng-container",19),e.BQk()),2&_t){const de=e.oxw().$implicit,Je=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",Je)("ngTemplateOutletContext",e.VKq(2,Y,de))}}function at(_t,et){if(1&_t&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&_t){const de=e.oxw().$implicit,Je=e.oxw(4);e.xp6(1),e.Oqu(Je.resolveFieldData(de))}}function fe(_t,et){1&_t&&e.GkF(0)}const ke=function(_t){return{"p-highlight":_t}},ot=function(_t,et){return{$implicit:_t,index:et}};function Ct(_t,et){if(1&_t){const de=e.EpF();e.TgZ(0,"li",44),e.NdJ("click",function(){const wt=e.CHM(de).$implicit,Fe=e.oxw(4);return e.KtG(Fe.selectItem(wt))}),e.YNc(1,at,2,1,"span",31),e.YNc(2,fe,1,0,"ng-container",19),e.qZA()}if(2&_t){const de=et.$implicit,Je=et.index,ze=e.oxw(2).options,wt=e.oxw(2);e.Q6J("ngStyle",e.VKq(6,xe,ze.itemSize+"px"))("ngClass",e.VKq(8,ke,de===wt.highlightOption))("id",wt.highlightOption==de?"p-highlighted-option":""),e.xp6(1),e.Q6J("ngIf",!wt.itemTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",wt.itemTemplate)("ngTemplateOutletContext",e.WLB(10,ot,de,ze.getOptions?ze.getOptions(Je):Je))}}function Ot(_t,et){1&_t&&e.YNc(0,Ct,3,13,"li",43),2&_t&&e.Q6J("ngForOf",et.$implicit)}function Nt(_t,et){if(1&_t&&(e.ynx(0),e._uU(1),e.BQk()),2&_t){const de=e.oxw(4);e.xp6(1),e.hij(" ",de.emptyMessageLabel," ")}}function Mt(_t,et){1&_t&&e.GkF(0,null,47)}function Ye(_t,et){if(1&_t&&(e.TgZ(0,"li",45),e.YNc(1,Nt,2,1,"ng-container",46),e.YNc(2,Mt,2,0,"ng-container",29),e.qZA()),2&_t){const de=e.oxw().options,Je=e.oxw(2);e.Q6J("ngStyle",e.VKq(4,xe,de.itemSize+"px")),e.xp6(1),e.Q6J("ngIf",!Je.emptyTemplate)("ngIfElse",Je.empty),e.xp6(1),e.Q6J("ngTemplateOutlet",Je.emptyTemplate)}}function st(_t,et){if(1&_t&&(e.TgZ(0,"ul",37,38),e.YNc(2,Ht,2,1,"ng-container",31),e.YNc(3,ct,2,4,"ng-container",31),e.YNc(4,Ot,1,1,"ng-template",null,39,e.W1O),e.YNc(6,Ye,3,6,"li",40),e.qZA()),2&_t){const de=et.options,Je=e.oxw(2);e.Akn(de.contentStyle),e.Q6J("ngClass",de.contentStyleClass),e.uIk("id",Je.listId),e.xp6(2),e.Q6J("ngIf",Je.group),e.xp6(1),e.Q6J("ngIf",!Je.group),e.xp6(3),e.Q6J("ngIf",Je.noResults&&Je.showEmptyMessage)}}function je(_t,et){1&_t&&e.GkF(0)}const It=function(){return["p-autocomplete-panel p-component"]},ne=function(_t,et){return{showTransitionParams:_t,hideTransitionParams:et}},Ne=function(_t){return{value:"visible",params:_t}};function me(_t,et){if(1&_t){const de=e.EpF();e.TgZ(0,"div",27,28),e.NdJ("click",function(ze){e.CHM(de);const wt=e.oxw();return e.KtG(wt.onOverlayClick(ze))})("@overlayAnimation.start",function(ze){e.CHM(de);const wt=e.oxw();return e.KtG(wt.onOverlayAnimationStart(ze))})("@overlayAnimation.done",function(ze){e.CHM(de);const wt=e.oxw();return e.KtG(wt.onOverlayAnimationEnd(ze))}),e.YNc(2,z,1,0,"ng-container",29),e.YNc(3,we,4,10,"p-scroller",30),e.YNc(4,bt,2,6,"ng-container",31),e.YNc(5,st,7,7,"ng-template",null,32,e.W1O),e.YNc(7,je,1,0,"ng-container",29),e.qZA()}if(2&_t){const de=e.oxw();e.Tol(de.panelStyleClass),e.Udp("max-height",de.virtualScroll?"auto":de.scrollHeight),e.Q6J("ngClass",e.DdM(11,It))("ngStyle",de.panelStyle)("@overlayAnimation",e.VKq(15,Ne,e.WLB(12,ne,de.showTransitionOptions,de.hideTransitionOptions))),e.xp6(2),e.Q6J("ngTemplateOutlet",de.headerTemplate),e.xp6(1),e.Q6J("ngIf",de.virtualScroll),e.xp6(1),e.Q6J("ngIf",!de.virtualScroll),e.xp6(3),e.Q6J("ngTemplateOutlet",de.footerTemplate)}}const gt=function(_t,et){return{"p-autocomplete p-component":!0,"p-autocomplete-dd":_t,"p-autocomplete-multiple":et}},un={provide:L.JU,useExisting:(0,e.Gpc)(()=>In),multi:!0};let In=(()=>{class _t{constructor(de,Je,ze,wt,Fe,qt){this.el=de,this.renderer=Je,this.cd=ze,this.differs=wt,this.config=Fe,this.overlayService=qt,this.minLength=1,this.delay=300,this.scrollHeight="200px",this.lazy=!1,this.type="text",this.autoZIndex=!0,this.baseZIndex=0,this.dropdownIcon="pi pi-chevron-down",this.unique=!0,this.completeOnFocus=!1,this.showClear=!1,this.dropdownMode="blank",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autocomplete="off",this.completeMethod=new e.vpe,this.onSelect=new e.vpe,this.onUnselect=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onDropdownClick=new e.vpe,this.onClear=new e.vpe,this.onKeyUp=new e.vpe,this.onShow=new e.vpe,this.onHide=new e.vpe,this.onLazyLoad=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.overlayVisible=!1,this.focus=!1,this.inputFieldValue=null,this.inputValue=null,this.differ=wt.find([]).create(null),this.listId=(0,R.Th)()+"_list"}get itemSize(){return this._itemSize}set itemSize(de){this._itemSize=de,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get suggestions(){return this._suggestions}set suggestions(de){this._suggestions=de,this.handleSuggestionsChange()}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlay&&this.overlay.offsetParent&&(setTimeout(()=>{this.overlay&&this.alignOverlay()},1),this.suggestionsUpdated=!1),this.highlightOptionChanged&&(setTimeout(()=>{if(this.overlay&&this.itemsWrapper){let de=l.p.findSingle(this.overlay,"li.p-highlight");de&&l.p.scrollInView(this.itemsWrapper,de)}},1),this.highlightOptionChanged=!1)}handleSuggestionsChange(){null!=this._suggestions&&this.loading&&(this.highlightOption=null,this._suggestions.length?(this.noResults=!1,this.show(),this.suggestionsUpdated=!0,this.autoHighlight&&(this.highlightOption=this._suggestions[0])):(this.noResults=!0,this.showEmptyMessage?(this.show(),this.suggestionsUpdated=!0):this.hide()),this.loading=!1)}ngAfterContentInit(){this.templates.forEach(de=>{switch(de.getType()){case"item":default:this.itemTemplate=de.template;break;case"group":this.groupTemplate=de.template;break;case"selectedItem":this.selectedItemTemplate=de.template;break;case"header":this.headerTemplate=de.template;break;case"empty":this.emptyTemplate=de.template;break;case"footer":this.footerTemplate=de.template;break;case"loader":this.loaderTemplate=de.template}})}writeValue(de){this.value=de,this.filled=this.value&&""!=this.value,this.updateInputField(),this.cd.markForCheck()}getOptionGroupChildren(de){return this.optionGroupChildren?R.gb.resolveFieldData(de,this.optionGroupChildren):de.items}getOptionGroupLabel(de){return this.optionGroupLabel?R.gb.resolveFieldData(de,this.optionGroupLabel):null!=de.label?de.label:de}registerOnChange(de){this.onModelChange=de}registerOnTouched(de){this.onModelTouched=de}setDisabledState(de){this.disabled=de,this.cd.markForCheck()}onInput(de){if(!this.inputKeyDown&&l.p.isIE())return;this.timeout&&clearTimeout(this.timeout);let Je=de.target.value;this.inputValue=Je,!this.multiple&&!this.forceSelection&&this.onModelChange(Je),0===Je.length&&!this.multiple&&(this.value=null,this.hide(),this.onClear.emit(de),this.onModelChange(Je)),Je.length>=this.minLength?this.timeout=setTimeout(()=>{this.search(de,Je)},this.delay):this.hide(),this.updateFilledState(),this.inputKeyDown=!1}onInputClick(de){this.documentClickListener&&(this.inputClick=!0)}search(de,Je){null!=Je&&(this.loading=!0,this.completeMethod.emit({originalEvent:de,query:Je}))}selectItem(de,Je=!0){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.multiple?(this.multiInputEL.nativeElement.value="",this.value=this.value||[],(!this.isSelected(de)||!this.unique)&&(this.value=[...this.value,de],this.onModelChange(this.value))):(this.inputEL.nativeElement.value=this.resolveFieldData(de),this.value=de,this.onModelChange(this.value)),this.onSelect.emit(de),this.updateFilledState(),Je&&(this.itemClicked=!0,this.focusInput())}show(){if(this.multiInputEL||this.inputEL){let de=this.multiple?this.multiInputEL.nativeElement.ownerDocument.activeElement==this.multiInputEL.nativeElement:this.inputEL.nativeElement.ownerDocument.activeElement==this.inputEL.nativeElement;!this.overlayVisible&&de&&(this.overlayVisible=!0)}}clear(){this.multiple?this.value=null:(this.inputValue=null,this.inputEL.nativeElement.value=""),this.updateFilledState(),this.onModelChange(this.value),this.onClear.emit()}onOverlayAnimationStart(de){var Je;switch(de.toState){case"visible":this.overlay=de.element,this.itemsWrapper=this.virtualScroll?l.p.findSingle(this.overlay,".p-scroller"):this.overlay,this.virtualScroll&&(null===(Je=this.scroller)||void 0===Je||Je.setContentEl(this.itemsViewChild.nativeElement)),this.appendOverlay(),this.autoZIndex&&R.P9.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.onShow.emit(de);break;case"void":this.onOverlayHide()}}onOverlayAnimationEnd(de){"void"===de.toState&&this.autoZIndex&&R.P9.clear(de.element)}onOverlayClick(de){this.overlayService.add({originalEvent:de,target:this.el.nativeElement})}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):l.p.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=l.p.getWidth(this.el.nativeElement.children[0])+"px"))}resolveFieldData(de){let Je=this.field?R.gb.resolveFieldData(de,this.field):de;return void 0!==Je?Je:""}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.appendTo?l.p.absolutePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement):l.p.relativePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}handleDropdownClick(de){if(this.overlayVisible)this.hide();else{this.focusInput();let Je=this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value;"blank"===this.dropdownMode?this.search(de,""):"current"===this.dropdownMode&&this.search(de,Je),this.onDropdownClick.emit({originalEvent:de,query:Je})}}focusInput(){this.multiple?this.multiInputEL.nativeElement.focus():this.inputEL.nativeElement.focus()}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(y.ws.EMPTY_MESSAGE)}removeItem(de){let Je=l.p.index(de),ze=this.value[Je];this.value=this.value.filter((wt,Fe)=>Fe!=Je),this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(ze)}onKeydown(de){if(this.overlayVisible)switch(de.which){case 40:if(this.group){let ze=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==ze){let wt=ze.itemIndex+1;wt<this.getOptionGroupChildren(this.suggestions[ze.groupIndex]).length?(this.highlightOption=this.getOptionGroupChildren(this.suggestions[ze.groupIndex])[wt],this.highlightOptionChanged=!0):this.suggestions[ze.groupIndex+1]&&(this.highlightOption=this.getOptionGroupChildren(this.suggestions[ze.groupIndex+1])[0],this.highlightOptionChanged=!0)}else this.highlightOption=this.getOptionGroupChildren(this.suggestions[0])[0]}else{let ze=this.findOptionIndex(this.highlightOption,this.suggestions);if(-1!=ze){var Je=ze+1;Je!=this.suggestions.length&&(this.highlightOption=this.suggestions[Je],this.highlightOptionChanged=!0)}else this.highlightOption=this.suggestions[0]}de.preventDefault();break;case 38:if(this.group){let ze=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==ze){let wt=ze.itemIndex-1;if(wt>=0)this.highlightOption=this.getOptionGroupChildren(this.suggestions[ze.groupIndex])[wt],this.highlightOptionChanged=!0;else if(wt<0){let Fe=this.suggestions[ze.groupIndex-1];Fe&&(this.highlightOption=this.getOptionGroupChildren(Fe)[this.getOptionGroupChildren(Fe).length-1],this.highlightOptionChanged=!0)}}}else{let ze=this.findOptionIndex(this.highlightOption,this.suggestions);ze>0&&(this.highlightOption=this.suggestions[ze-1],this.highlightOptionChanged=!0)}de.preventDefault();break;case 13:this.highlightOption&&(this.selectItem(this.highlightOption),this.hide()),de.preventDefault();break;case 27:this.hide(),de.preventDefault();break;case 9:this.highlightOption&&this.selectItem(this.highlightOption),this.hide()}else 40===de.which&&this.suggestions?this.search(de,de.target.value):de.ctrlKey&&"z"===de.key&&!this.multiple?(this.inputEL.nativeElement.value=this.resolveFieldData(null),this.value="",this.onModelChange(this.value)):de.ctrlKey&&"z"===de.key&&this.multiple&&(this.value.pop(),this.onModelChange(this.value),this.updateFilledState());if(this.multiple&&8===de.which&&this.value&&this.value.length&&!this.multiInputEL.nativeElement.value){this.value=[...this.value];const ze=this.value.pop();this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(ze)}this.inputKeyDown=!0}onKeyup(de){this.onKeyUp.emit(de)}onInputFocus(de){!this.itemClicked&&this.completeOnFocus&&this.search(de,this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value),this.focus=!0,this.onFocus.emit(de),this.itemClicked=!1}onInputBlur(de){this.focus=!1,this.onModelTouched(),this.onBlur.emit(de)}onInputChange(de){if(this.forceSelection){let Je=!1,ze=de.target.value.trim();if(this.suggestions)for(let wt of this.suggestions){let Fe=this.field?R.gb.resolveFieldData(wt,this.field):wt;if(Fe&&ze===Fe.trim()){Je=!0,this.forceSelectionUpdateModelTimeout=setTimeout(()=>{this.selectItem(wt,!1)},250);break}}Je||(this.multiple?this.multiInputEL.nativeElement.value="":(this.value=null,this.inputEL.nativeElement.value=""),this.onClear.emit(de),this.onModelChange(this.value),this.updateFilledState())}}onInputPaste(de){this.onKeydown(de)}isSelected(de){let Je=!1;if(this.value&&this.value.length)for(let ze=0;ze<this.value.length;ze++)if(R.gb.equals(this.value[ze],de,this.dataKey)){Je=!0;break}return Je}findOptionIndex(de,Je){let ze=-1;if(Je)for(let wt=0;wt<Je.length;wt++)if(R.gb.equals(de,Je[wt])){ze=wt;break}return ze}findOptionGroupIndex(de,Je){let ze,wt;if(Je)for(let Fe=0;Fe<Je.length&&(ze=Fe,wt=this.findOptionIndex(de,this.getOptionGroupChildren(Je[Fe])),-1===wt);Fe++);return-1!==wt?{groupIndex:ze,itemIndex:wt}:-1}updateFilledState(){this.filled=this.multiple?this.value&&this.value.length||this.multiInputEL&&this.multiInputEL.nativeElement&&""!=this.multiInputEL.nativeElement.value:this.inputFieldValue&&""!=this.inputFieldValue||this.inputEL&&this.inputEL.nativeElement&&""!=this.inputEL.nativeElement.value}updateInputField(){let de=this.resolveFieldData(this.value);this.inputFieldValue=de,this.inputEL&&this.inputEL.nativeElement&&(this.inputEL.nativeElement.value=de),this.updateFilledState()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",Je=>{3!==Je.which&&(!this.inputClick&&!this.isDropdownClick(Je)&&this.hide(),this.inputClick=!1,this.cd.markForCheck())}))}isDropdownClick(de){if(this.dropdown){let Je=de.target;return Je===this.dropdownButton.nativeElement||Je.parentNode===this.dropdownButton.nativeElement}return!1}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!l.p.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new l.V(this.containerEL.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay&&(this.overlay=null,this.onHide.emit())}ngOnDestroy(){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&R.P9.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return _t.\u0275fac=function(de){return new(de||_t)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.ZZ4),e.Y36(y.b4),e.Y36(y.F0))},_t.\u0275cmp=e.Xpm({type:_t,selectors:[["p-autoComplete"]],contentQueries:function(de,Je,ze){if(1&de&&e.Suo(ze,y.jx,4),2&de){let wt;e.iGM(wt=e.CRH())&&(Je.templates=wt)}},viewQuery:function(de,Je){if(1&de&&(e.Gf(w,5),e.Gf(x,5),e.Gf(D,5),e.Gf(S,5),e.Gf(U,5),e.Gf(F,5),e.Gf(ce,5)),2&de){let ze;e.iGM(ze=e.CRH())&&(Je.containerEL=ze.first),e.iGM(ze=e.CRH())&&(Je.inputEL=ze.first),e.iGM(ze=e.CRH())&&(Je.multiInputEL=ze.first),e.iGM(ze=e.CRH())&&(Je.multiContainerEL=ze.first),e.iGM(ze=e.CRH())&&(Je.dropdownButton=ze.first),e.iGM(ze=e.CRH())&&(Je.itemsViewChild=ze.first),e.iGM(ze=e.CRH())&&(Je.scroller=ze.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(de,Je){2&de&&e.ekj("p-inputwrapper-filled",Je.filled)("p-inputwrapper-focus",Je.focus&&!Je.disabled||Je.autofocus||Je.overlayVisible)("p-autocomplete-clearable",Je.showClear&&!Je.disabled)},inputs:{minLength:"minLength",delay:"delay",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:"readonly",disabled:"disabled",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",maxlength:"maxlength",name:"name",required:"required",size:"size",appendTo:"appendTo",autoHighlight:"autoHighlight",forceSelection:"forceSelection",type:"type",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",ariaLabel:"ariaLabel",dropdownAriaLabel:"dropdownAriaLabel",ariaLabelledBy:"ariaLabelledBy",dropdownIcon:"dropdownIcon",unique:"unique",group:"group",completeOnFocus:"completeOnFocus",showClear:"showClear",field:"field",dropdown:"dropdown",showEmptyMessage:"showEmptyMessage",dropdownMode:"dropdownMode",multiple:"multiple",tabindex:"tabindex",dataKey:"dataKey",emptyMessage:"emptyMessage",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:"autofocus",autocomplete:"autocomplete",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",itemSize:"itemSize",suggestions:"suggestions"},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide",onLazyLoad:"onLazyLoad"},features:[e._Bn([un])],decls:9,vars:14,consts:[[3,"ngClass","ngStyle"],["container",""],["pAutoFocus","","class","p-autocomplete-input p-inputtext p-component","aria-autocomplete","list","role","searchbox",3,"autofocus","ngStyle","class","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste",4,"ngIf"],["class","p-autocomplete-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-autocomplete-multiple-container p-component p-inputtext",3,"ngClass","click",4,"ngIf"],["class","p-autocomplete-loader pi pi-spinner pi-spin",4,"ngIf"],["type","button","pButton","","class","p-autocomplete-dropdown","pRipple","",3,"icon","disabled","click",4,"ngIf"],[3,"ngClass","max-height","ngStyle","class","click",4,"ngIf"],["pAutoFocus","","aria-autocomplete","list","role","searchbox",1,"p-autocomplete-input","p-inputtext","p-component",3,"autofocus","ngStyle","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste"],["in",""],[1,"p-autocomplete-clear-icon","pi","pi-times",3,"click"],[1,"p-autocomplete-multiple-container","p-component","p-inputtext",3,"ngClass","click"],["multiContainer",""],["class","p-autocomplete-token",4,"ngFor","ngForOf"],[1,"p-autocomplete-input-token"],["pAutoFocus","","aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"autofocus","disabled","readonly","autocomplete","ngStyle","input","click","keydown","keyup","focus","blur","change","paste"],["multiIn",""],[1,"p-autocomplete-token"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-autocomplete-token-label",4,"ngIf"],["class","p-autocomplete-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-autocomplete-token-label"],[1,"p-autocomplete-token-icon","pi","pi-times-circle",3,"click"],[1,"p-autocomplete-loader","pi","pi-spinner","pi-spin"],["type","button","pButton","","pRipple","",1,"p-autocomplete-dropdown",3,"icon","disabled","click"],["ddBtn",""],[3,"ngClass","ngStyle","click"],["panel",""],[4,"ngTemplateOutlet"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["buildInItems",""],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-autocomplete-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-autocomplete-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-autocomplete-item-group",3,"ngStyle"],["role","option","class","p-autocomplete-item","pRipple","",3,"ngStyle","ngClass","id","click",4,"ngFor","ngForOf"],["role","option","pRipple","",1,"p-autocomplete-item",3,"ngStyle","ngClass","id","click"],[1,"p-autocomplete-empty-message",3,"ngStyle"],[4,"ngIf","ngIfElse"],["empty",""]],template:function(de,Je){1&de&&(e.TgZ(0,"span",0,1),e.YNc(2,V,2,23,"input",2),e.YNc(3,k,1,0,"i",3),e.YNc(4,O,1,0,"i",3),e.YNc(5,j,6,23,"ul",4),e.YNc(6,Q,1,0,"i",5),e.YNc(7,K,2,4,"button",6),e.YNc(8,me,8,17,"div",7),e.qZA()),2&de&&(e.Tol(Je.styleClass),e.Q6J("ngClass",e.WLB(11,gt,Je.dropdown,Je.multiple))("ngStyle",Je.style),e.xp6(2),e.Q6J("ngIf",!Je.multiple),e.xp6(1),e.Q6J("ngIf",!Je.multiple&&Je.filled&&!Je.disabled&&Je.showClear),e.xp6(1),e.Q6J("ngIf",Je.multiple&&Je.filled&&!Je.disabled&&Je.showClear),e.xp6(1),e.Q6J("ngIf",Je.multiple),e.xp6(1),e.Q6J("ngIf",Je.loading),e.xp6(1),e.Q6J("ngIf",Je.dropdown),e.xp6(1),e.Q6J("ngIf",Je.overlayVisible))},dependencies:[a.mk,a.sg,a.O5,a.tP,a.PC,_.Hq,y.jx,P.H,J.T,N.P],styles:[".p-autocomplete{display:inline-flex;position:relative}.p-autocomplete-loader{position:absolute;top:50%;margin-top:-.5rem}.p-autocomplete-dd .p-autocomplete-input{flex:1 1 auto;width:1%}.p-autocomplete-dd .p-autocomplete-input,.p-autocomplete-dd .p-autocomplete-multiple-container{border-top-right-radius:0;border-bottom-right-radius:0}.p-autocomplete-dd .p-autocomplete-dropdown{border-top-left-radius:0;border-bottom-left-radius:0}.p-autocomplete .p-autocomplete-panel{min-width:100%;top:0;left:0}.p-autocomplete-panel{position:absolute;overflow:auto}.p-autocomplete-items{margin:0;padding:0;list-style-type:none}.p-autocomplete-item{cursor:pointer;white-space:nowrap;position:relative;overflow:hidden}.p-autocomplete-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-autocomplete-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-autocomplete-token-icon{cursor:pointer}.p-autocomplete-input-token{flex:1 1 auto;display:inline-flex}.p-autocomplete-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-autocomplete{display:flex}.p-fluid .p-autocomplete-dd .p-autocomplete-input{width:1%}.p-autocomplete-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-autocomplete-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,f.X$)("overlayAnimation",[(0,f.eR)(":enter",[(0,f.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,f.jt)("{{showTransitionParams}}")]),(0,f.eR)(":leave",[(0,f.jt)("{{hideTransitionParams}}",(0,f.oB)({opacity:0}))])])]},changeDetection:0}),_t})(),en=(()=>{class _t{}return _t.\u0275fac=function(de){return new(de||_t)},_t.\u0275mod=e.oAB({type:_t}),_t.\u0275inj=e.cJS({imports:[a.ez,g.j,_.hJ,y.m8,P.T,J.v,N.E,y.m8,J.v,N.E]}),_t})()},9618:(mn,ht,b)=>{"use strict";b.d(ht,{E:()=>_,P:()=>g});var e=b(9808),a=b(5e3),f=b(5730);let g=(()=>{class P{constructor(l){this.host=l,this.focused=!1}ngAfterViewChecked(){if(!this.focused&&this.autofocus){const l=f.p.getFocusableElements(this.host.nativeElement);0===l.length&&this.host.nativeElement.focus(),l.length>0&&l[0].focus(),this.focused=!0}}}return P.\u0275fac=function(l){return new(l||P)(a.Y36(a.SBq))},P.\u0275dir=a.lG2({type:P,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:"autofocus"}}),P})(),_=(()=>{class P{}return P.\u0275fac=function(l){return new(l||P)},P.\u0275mod=a.oAB({type:P}),P.\u0275inj=a.cJS({imports:[e.ez]}),P})()},85:(mn,ht,b)=>{"use strict";b.d(ht,{Ct:()=>l,TX:()=>R,lM:()=>y});var e=b(9808),a=b(5e3),f=b(9783),g=b(5730),_=b(5921);function P(L,J){if(1&L&&(a.TgZ(0,"span",1),a._uU(1),a.qZA()),2&L){const N=a.oxw();a.Tol(N.styleClass),a.Q6J("ngClass",N.containerClass())("ngStyle",N.style),a.xp6(1),a.Oqu(N.value)}}let y=(()=>{class L{constructor(N){this.el=N,this.iconPos="left",this._disabled=!1}get disabled(){return this._disabled}set disabled(N){this._disabled=N}ngAfterViewInit(){this.id=(0,_.Th)()+"_badge";let N=-1!=this.el.nativeElement.nodeName.indexOf("-")?this.el.nativeElement.firstChild:this.el.nativeElement;if(this._disabled)return null;let w=document.createElement("span");w.id=this.id,w.className="p-badge p-component",this.severity&&g.p.addClass(w,"p-badge-"+this.severity),null!=this.value?(w.appendChild(document.createTextNode(this.value)),1===String(this.value).length&&g.p.addClass(w,"p-badge-no-gutter")):g.p.addClass(w,"p-badge-dot"),g.p.addClass(N,"p-overlay-badge"),N.appendChild(w),this.initialized=!0}get value(){return this._value}set value(N){if(N!==this._value&&(this._value=N,this.initialized)){let w=document.getElementById(this.id);this._value?(g.p.hasClass(w,"p-badge-dot")&&g.p.removeClass(w,"p-badge-dot"),1===String(this._value).length?g.p.addClass(w,"p-badge-no-gutter"):g.p.removeClass(w,"p-badge-no-gutter")):!this._value&&!g.p.hasClass(w,"p-badge-dot")&&g.p.addClass(w,"p-badge-dot"),w.innerHTML="",w.appendChild(document.createTextNode(this._value))}}ngOnDestroy(){this.initialized=!1}}return L.\u0275fac=function(N){return new(N||L)(a.Y36(a.SBq))},L.\u0275dir=a.lG2({type:L,selectors:[["","pBadge",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",disabled:["badgeDisabled","disabled"],value:"value",severity:"severity"}}),L})(),l=(()=>{class L{constructor(){this.badgeDisabled=!1}containerClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":null!=this.value&&1===String(this.value).length,"p-badge-lg":"large"===this.size,"p-badge-xl":"xlarge"===this.size,"p-badge-info":"info"===this.severity,"p-badge-success":"success"===this.severity,"p-badge-warning":"warning"===this.severity,"p-badge-danger":"danger"===this.severity}}}return L.\u0275fac=function(N){return new(N||L)},L.\u0275cmp=a.Xpm({type:L,selectors:[["p-badge"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",size:"size",severity:"severity",value:"value",badgeDisabled:"badgeDisabled"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"]],template:function(N,w){1&N&&a.YNc(0,P,2,5,"span",0),2&N&&a.Q6J("ngIf",!w.badgeDisabled)},dependencies:[e.mk,e.O5,e.PC],styles:[".p-badge{display:inline-block;border-radius:10px;text-align:center;padding:0 .5rem}.p-overlay-badge{position:relative}.p-overlay-badge .p-badge{position:absolute;top:0;right:0;transform:translate(50%,-50%);transform-origin:100% 0;margin:0}.p-badge-dot{width:.5rem;min-width:.5rem;height:.5rem;border-radius:50%;padding:0}.p-badge-no-gutter{padding:0;border-radius:50%}\n"],encapsulation:2,changeDetection:0}),L})(),R=(()=>{class L{}return L.\u0275fac=function(N){return new(N||L)},L.\u0275mod=a.oAB({type:L}),L.\u0275inj=a.cJS({imports:[e.ez,f.m8]}),L})()},7433:(mn,ht,b)=>{"use strict";b.d(ht,{b:()=>J,u:()=>N});var e=b(5e3),a=b(9808),f=b(9783),g=b(5921),_=b(5730);const P=["mask"];function y(w,x){1&w&&e.GkF(0)}const l=function(w){return{"p-blockui-document":w,"p-blockui p-component-overlay p-component-overlay-enter":!0}},R=function(w){return{display:w}},L=["*"];let J=(()=>{class w{constructor(D,S,U){this.el=D,this.cd=S,this.config=U,this.autoZIndex=!0,this.baseZIndex=0}get blocked(){return this._blocked}set blocked(D){this.mask&&this.mask.nativeElement?D?this.block():this.unblock():this._blocked=D}ngAfterViewInit(){if(this.target&&!this.target.getBlockableElement)throw"Target of BlockUI must implement BlockableUI interface"}ngAfterContentInit(){this.templates.forEach(D=>{D.getType(),this.contentTemplate=D.template})}block(){this._blocked=!0,this.target?(this.target.getBlockableElement().appendChild(this.mask.nativeElement),this.target.getBlockableElement().style.position="relative"):document.body.appendChild(this.mask.nativeElement),this.autoZIndex&&g.P9.set("modal",this.mask.nativeElement,this.baseZIndex+this.config.zIndex.modal)}unblock(){this.animationEndListener=this.destroyModal.bind(this),this.mask.nativeElement.addEventListener("animationend",this.animationEndListener),_.p.addClass(this.mask.nativeElement,"p-component-overlay-leave")}destroyModal(){this._blocked=!1,_.p.removeClass(this.mask.nativeElement,"p-component-overlay-leave"),g.P9.clear(this.mask.nativeElement),this.el.nativeElement.appendChild(this.mask.nativeElement),this.unbindAnimationEndListener(),this.cd.markForCheck()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.nativeElement.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}ngOnDestroy(){this.unblock(),this.destroyModal()}}return w.\u0275fac=function(D){return new(D||w)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(f.b4))},w.\u0275cmp=e.Xpm({type:w,selectors:[["p-blockUI"]],contentQueries:function(D,S,U){if(1&D&&e.Suo(U,f.jx,4),2&D){let F;e.iGM(F=e.CRH())&&(S.templates=F)}},viewQuery:function(D,S){if(1&D&&e.Gf(P,5),2&D){let U;e.iGM(U=e.CRH())&&(S.mask=U.first)}},hostAttrs:[1,"p-element"],inputs:{target:"target",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",styleClass:"styleClass",blocked:"blocked"},ngContentSelectors:L,decls:4,vars:9,consts:[[3,"ngClass","ngStyle"],["mask",""],[4,"ngTemplateOutlet"]],template:function(D,S){1&D&&(e.F$t(),e.TgZ(0,"div",0,1),e.Hsn(2),e.YNc(3,y,1,0,"ng-container",2),e.qZA()),2&D&&(e.Tol(S.styleClass),e.Q6J("ngClass",e.VKq(5,l,!S.target))("ngStyle",e.VKq(7,R,S.blocked?"flex":"none")),e.xp6(3),e.Q6J("ngTemplateOutlet",S.contentTemplate))},dependencies:[a.mk,a.tP,a.PC],styles:[".p-blockui{position:absolute;top:0;left:0;width:100%;height:100%;background-color:transparent;transition-property:background-color;display:flex;align-items:center;justify-content:center}.p-blockui.p-component-overlay{position:absolute}.p-blockui-document.p-component-overlay{position:fixed}.p-blockui-leave.p-component-overlay{background-color:transparent}\n"],encapsulation:2,changeDetection:0}),w})(),N=(()=>{class w{}return w.\u0275fac=function(D){return new(D||w)},w.\u0275mod=e.oAB({type:w}),w.\u0275inj=e.cJS({imports:[a.ez]}),w})()},7658:(mn,ht,b)=>{"use strict";b.d(ht,{a:()=>K,w:()=>z});var e=b(5e3),a=b(9808),f=b(3470),g=b(4119);function _(oe,Te){if(1&oe&&e._UZ(0,"span",10),2&oe){const Ae=e.oxw(3);e.Q6J("ngClass",Ae.home.icon||"pi pi-home")("ngStyle",Ae.home.iconStyle)}}function P(oe,Te){if(1&oe&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&oe){const Ae=e.oxw(4);e.xp6(1),e.Oqu(Ae.home.label)}}function y(oe,Te){if(1&oe&&e._UZ(0,"span",14),2&oe){const Ae=e.oxw(4);e.Q6J("innerHTML",Ae.home.label,e.oJD)}}function l(oe,Te){if(1&oe&&(e.ynx(0),e.YNc(1,P,2,1,"span",11),e.YNc(2,y,1,1,"ng-template",null,12,e.W1O),e.BQk()),2&oe){const Ae=e.MAs(3),Ke=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!1!==Ke.home.escape)("ngIfElse",Ae)}}function R(oe,Te){if(1&oe){const Ae=e.EpF();e.TgZ(0,"a",7),e.NdJ("click",function(be){e.CHM(Ae);const Qe=e.oxw(2);return e.KtG(Qe.itemClick(be,Qe.home))}),e.YNc(1,_,1,2,"span",8),e.YNc(2,l,4,2,"ng-container",9),e.qZA()}if(2&oe){const Ae=e.oxw(2);e.Q6J("href",Ae.home.url?Ae.home.url:null,e.LSH)("target",Ae.home.target),e.uIk("aria-label",Ae.homeAriaLabel)("title",Ae.home.title)("id",Ae.home.id)("tabindex",Ae.home.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",Ae.home.icon),e.xp6(1),e.Q6J("ngIf",Ae.home.label)}}function L(oe,Te){if(1&oe&&e._UZ(0,"span",10),2&oe){const Ae=e.oxw(3);e.Q6J("ngClass",Ae.home.icon||"pi pi-home")("ngStyle",Ae.home.iconStyle)}}function J(oe,Te){if(1&oe&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&oe){const Ae=e.oxw(4);e.xp6(1),e.Oqu(Ae.home.label)}}function N(oe,Te){if(1&oe&&e._UZ(0,"span",14),2&oe){const Ae=e.oxw(4);e.Q6J("innerHTML",Ae.home.label,e.oJD)}}function w(oe,Te){if(1&oe&&(e.ynx(0),e.YNc(1,J,2,1,"span",11),e.YNc(2,N,1,1,"ng-template",null,16,e.W1O),e.BQk()),2&oe){const Ae=e.MAs(3),Ke=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!1!==Ke.home.escape)("ngIfElse",Ae)}}const x=function(){return{exact:!1}};function D(oe,Te){if(1&oe){const Ae=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(be){e.CHM(Ae);const Qe=e.oxw(2);return e.KtG(Qe.itemClick(be,Qe.home))}),e.YNc(1,L,1,2,"span",8),e.YNc(2,w,4,2,"ng-container",9),e.qZA()}if(2&oe){const Ae=e.oxw(2);e.Q6J("routerLink",Ae.home.routerLink)("queryParams",Ae.home.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",Ae.home.routerLinkActiveOptions||e.DdM(17,x))("target",Ae.home.target)("fragment",Ae.home.fragment)("queryParamsHandling",Ae.home.queryParamsHandling)("preserveFragment",Ae.home.preserveFragment)("skipLocationChange",Ae.home.skipLocationChange)("replaceUrl",Ae.home.replaceUrl)("state",Ae.home.state),e.uIk("aria-label",Ae.homeAriaLabel)("title",Ae.home.title)("id",Ae.home.id)("tabindex",Ae.home.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",Ae.home.icon),e.xp6(1),e.Q6J("ngIf",Ae.home.label)}}const S=function(oe){return{"p-breadcrumb-home":!0,"p-disabled":oe}};function U(oe,Te){if(1&oe&&(e.TgZ(0,"li",4),e.YNc(1,R,3,8,"a",5),e.YNc(2,D,3,18,"a",6),e.qZA()),2&oe){const Ae=e.oxw();e.Tol(Ae.home.styleClass),e.Q6J("ngClass",e.VKq(7,S,Ae.home.disabled))("ngStyle",Ae.home.style)("tooltipOptions",Ae.home.tooltipOptions),e.xp6(1),e.Q6J("ngIf",!Ae.home.routerLink),e.xp6(1),e.Q6J("ngIf",Ae.home.routerLink)}}function F(oe,Te){1&oe&&e._UZ(0,"li",17)}function ce(oe,Te){if(1&oe&&e._UZ(0,"span",10),2&oe){const Ae=e.oxw(2).$implicit;e.Q6J("ngClass",Ae.icon)("ngStyle",Ae.iconStyle)}}function te(oe,Te){if(1&oe&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&oe){const Ae=e.oxw(3).$implicit;e.xp6(1),e.Oqu(Ae.label)}}function V(oe,Te){if(1&oe&&e._UZ(0,"span",14),2&oe){const Ae=e.oxw(3).$implicit;e.Q6J("innerHTML",Ae.label,e.oJD)}}function k(oe,Te){if(1&oe&&(e.ynx(0),e.YNc(1,te,2,1,"span",11),e.YNc(2,V,1,1,"ng-template",null,21,e.W1O),e.BQk()),2&oe){const Ae=e.MAs(3),Ke=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",!1!==Ke.escape)("ngIfElse",Ae)}}function O(oe,Te){if(1&oe){const Ae=e.EpF();e.TgZ(0,"a",20),e.NdJ("click",function(be){e.CHM(Ae);const Qe=e.oxw().$implicit,X=e.oxw();return e.KtG(X.itemClick(be,Qe))}),e.YNc(1,ce,1,2,"span",8),e.YNc(2,k,4,2,"ng-container",9),e.qZA()}if(2&oe){const Ae=e.oxw().$implicit;e.Q6J("target",Ae.target),e.uIk("href",Ae.url?Ae.url:null,e.LSH)("title",Ae.title)("id",Ae.id)("tabindex",Ae.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",Ae.icon),e.xp6(1),e.Q6J("ngIf",Ae.label)}}function $(oe,Te){if(1&oe&&e._UZ(0,"span",10),2&oe){const Ae=e.oxw(2).$implicit;e.Q6J("ngClass",Ae.icon)("ngStyle",Ae.iconStyle)}}function ue(oe,Te){if(1&oe&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&oe){const Ae=e.oxw(3).$implicit;e.xp6(1),e.Oqu(Ae.label)}}function q(oe,Te){if(1&oe&&e._UZ(0,"span",14),2&oe){const Ae=e.oxw(3).$implicit;e.Q6J("innerHTML",Ae.label,e.oJD)}}function Y(oe,Te){if(1&oe&&(e.ynx(0),e.YNc(1,ue,2,1,"span",11),e.YNc(2,q,1,1,"ng-template",null,22,e.W1O),e.BQk()),2&oe){const Ae=e.MAs(3),Ke=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",!1!==Ke.escape)("ngIfElse",Ae)}}function G(oe,Te){if(1&oe){const Ae=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(be){e.CHM(Ae);const Qe=e.oxw().$implicit,X=e.oxw();return e.KtG(X.itemClick(be,Qe))}),e.YNc(1,$,1,2,"span",8),e.YNc(2,Y,4,2,"ng-container",9),e.qZA()}if(2&oe){const Ae=e.oxw().$implicit;e.Q6J("routerLink",Ae.routerLink)("queryParams",Ae.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",Ae.routerLinkActiveOptions||e.DdM(16,x))("target",Ae.target)("fragment",Ae.fragment)("queryParamsHandling",Ae.queryParamsHandling)("preserveFragment",Ae.preserveFragment)("skipLocationChange",Ae.skipLocationChange)("replaceUrl",Ae.replaceUrl)("state",Ae.state),e.uIk("title",Ae.title)("id",Ae.id)("tabindex",Ae.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",Ae.icon),e.xp6(1),e.Q6J("ngIf",Ae.label)}}function he(oe,Te){1&oe&&e._UZ(0,"li",17)}const j=function(oe){return{"p-disabled":oe}};function Q(oe,Te){if(1&oe&&(e.TgZ(0,"li",18),e.YNc(1,O,3,7,"a",19),e.YNc(2,G,3,17,"a",6),e.qZA(),e.YNc(3,he,1,0,"li",2)),2&oe){const Ae=Te.$implicit,Ke=Te.last;e.Tol(Ae.styleClass),e.Q6J("ngStyle",Ae.style)("ngClass",e.VKq(8,j,Ae.disabled))("tooltipOptions",Ae.tooltipOptions),e.xp6(1),e.Q6J("ngIf",!Ae.routerLink),e.xp6(1),e.Q6J("ngIf",Ae.routerLink),e.xp6(1),e.Q6J("ngIf",!Ke)}}let K=(()=>{class oe{constructor(){this.onItemClick=new e.vpe}itemClick(Ae,Ke){Ke.disabled?Ae.preventDefault():(!Ke.url&&!Ke.routerLink&&Ae.preventDefault(),Ke.command&&Ke.command({originalEvent:Ae,item:Ke}),this.onItemClick.emit({originalEvent:Ae,item:Ke}))}onHomeClick(Ae){this.home&&this.itemClick(Ae,this.home)}}return oe.\u0275fac=function(Ae){return new(Ae||oe)},oe.\u0275cmp=e.Xpm({type:oe,selectors:[["p-breadcrumb"]],hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",home:"home",homeAriaLabel:"homeAriaLabel"},outputs:{onItemClick:"onItemClick"},decls:5,vars:7,consts:[[3,"ngStyle","ngClass"],["pTooltip","",3,"class","ngClass","ngStyle","tooltipOptions",4,"ngIf"],["class","p-breadcrumb-chevron pi pi-chevron-right",4,"ngIf"],["ngFor","",3,"ngForOf"],["pTooltip","",3,"ngClass","ngStyle","tooltipOptions"],["class","p-menuitem-link",3,"href","target","click",4,"ngIf"],["class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click",4,"ngIf"],[1,"p-menuitem-link",3,"href","target","click"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],[4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlHomeLabel",""],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click"],["htmlHomeRouteLabel",""],[1,"p-breadcrumb-chevron","pi","pi-chevron-right"],["pTooltip","",3,"ngStyle","ngClass","tooltipOptions"],["class","p-menuitem-link",3,"target","click",4,"ngIf"],[1,"p-menuitem-link",3,"target","click"],["htmlLabel",""],["htmlRouteLabel",""]],template:function(Ae,Ke){1&Ae&&(e.TgZ(0,"div",0)(1,"ul"),e.YNc(2,U,3,9,"li",1),e.YNc(3,F,1,0,"li",2),e.YNc(4,Q,4,10,"ng-template",3),e.qZA()()),2&Ae&&(e.Tol(Ke.styleClass),e.Q6J("ngStyle",Ke.style)("ngClass","p-breadcrumb p-component"),e.xp6(2),e.Q6J("ngIf",Ke.home),e.xp6(1),e.Q6J("ngIf",Ke.model&&Ke.home),e.xp6(1),e.Q6J("ngForOf",Ke.model))},dependencies:[a.mk,a.sg,a.O5,a.PC,f.yS,f.Od,g.u],styles:[".p-breadcrumb{overflow-x:auto}.p-breadcrumb ul{margin:0;padding:0;list-style-type:none;display:flex;align-items:center;flex-wrap:nowrap}.p-breadcrumb .p-menuitem-text{line-height:1}.p-breadcrumb .p-menuitem-link{text-decoration:none;cursor:pointer}.p-breadcrumb::-webkit-scrollbar{display:none}\n"],encapsulation:2,changeDetection:0}),oe})(),z=(()=>{class oe{}return oe.\u0275fac=function(Ae){return new(Ae||oe)},oe.\u0275mod=e.oAB({type:oe}),oe.\u0275inj=e.cJS({imports:[a.ez,f.Bz,g.z,f.Bz,g.z]}),oe})()},845:(mn,ht,b)=>{"use strict";b.d(ht,{Hq:()=>x,hJ:()=>S,zx:()=>D});var e=b(9808),a=b(5e3),f=b(9783),g=b(5730),_=b(5787),P=b(5921);function y(U,F){1&U&&a.GkF(0)}const l=function(U,F,ce,te){return{"p-button-icon":!0,"p-button-icon-left":U,"p-button-icon-right":F,"p-button-icon-top":ce,"p-button-icon-bottom":te}};function R(U,F){if(1&U&&a._UZ(0,"span",4),2&U){const ce=a.oxw();a.Tol(ce.loading?"p-button-loading-icon "+ce.loadingIcon:ce.icon),a.Q6J("ngClass",a.l5B(4,l,"left"===ce.iconPos&&ce.label,"right"===ce.iconPos&&ce.label,"top"===ce.iconPos&&ce.label,"bottom"===ce.iconPos&&ce.label)),a.uIk("aria-hidden",!0)}}function L(U,F){if(1&U&&(a.TgZ(0,"span",5),a._uU(1),a.qZA()),2&U){const ce=a.oxw();a.uIk("aria-hidden",ce.icon&&!ce.label),a.xp6(1),a.Oqu(ce.label)}}function J(U,F){if(1&U&&(a.TgZ(0,"span",4),a._uU(1),a.qZA()),2&U){const ce=a.oxw();a.Tol(ce.badgeClass),a.Q6J("ngClass",ce.badgeStyleClass()),a.xp6(1),a.Oqu(ce.badge)}}const N=function(U,F,ce,te,V){return{"p-button p-component":!0,"p-button-icon-only":U,"p-button-vertical":F,"p-disabled":ce,"p-button-loading":te,"p-button-loading-label-only":V}},w=["*"];let x=(()=>{class U{constructor(ce){this.el=ce,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}get label(){return this._label}set label(ce){this._label=ce,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(ce){this._icon=ce,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(ce){this._loading=ce,this.initialized&&(this.updateIcon(),this.setStyleClass())}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,g.p.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let ce="p-button p-component";return this.icon&&!this.label&&P.gb.isEmpty(this.el.nativeElement.textContent)&&(ce+=" p-button-icon-only"),this.loading&&(ce+=" p-disabled p-button-loading",!this.icon&&this.label&&(ce+=" p-button-loading-label-only")),ce}setStyleClass(){let ce=this.getStyleClass();this.el.nativeElement.className=ce+" "+this._initialStyleClass}createLabel(){if(this.label){let ce=document.createElement("span");this.icon&&!this.label&&ce.setAttribute("aria-hidden","true"),ce.className="p-button-label",ce.appendChild(document.createTextNode(this.label)),this.el.nativeElement.appendChild(ce)}}createIcon(){if(this.icon||this.loading){let ce=document.createElement("span");ce.className="p-button-icon",ce.setAttribute("aria-hidden","true");let te=this.label?"p-button-icon-"+this.iconPos:null;te&&g.p.addClass(ce,te);let V=this.getIconClass();V&&g.p.addMultipleClasses(ce,V),this.el.nativeElement.insertBefore(ce,this.el.nativeElement.firstChild)}}updateLabel(){let ce=g.p.findSingle(this.el.nativeElement,".p-button-label");this.label?ce?ce.textContent=this.label:this.createLabel():ce&&this.el.nativeElement.removeChild(ce)}updateIcon(){let ce=g.p.findSingle(this.el.nativeElement,".p-button-icon");this.icon||this.loading?ce?ce.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon():ce&&this.el.nativeElement.removeChild(ce)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}ngOnDestroy(){this.initialized=!1}}return U.\u0275fac=function(ce){return new(ce||U)(a.Y36(a.SBq))},U.\u0275dir=a.lG2({type:U,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),U})(),D=(()=>{class U{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new a.vpe,this.onFocus=new a.vpe,this.onBlur=new a.vpe}ngAfterContentInit(){this.templates.forEach(ce=>{ce.getType(),this.contentTemplate=ce.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return U.\u0275fac=function(ce){return new(ce||U)},U.\u0275cmp=a.Xpm({type:U,selectors:[["p-button"]],contentQueries:function(ce,te,V){if(1&ce&&a.Suo(V,f.jx,4),2&ce){let k;a.iGM(k=a.CRH())&&(te.templates=k)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:w,decls:6,vars:17,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(ce,te){1&ce&&(a.F$t(),a.TgZ(0,"button",0),a.NdJ("click",function(k){return te.onClick.emit(k)})("focus",function(k){return te.onFocus.emit(k)})("blur",function(k){return te.onBlur.emit(k)}),a.Hsn(1),a.YNc(2,y,1,0,"ng-container",1),a.YNc(3,R,1,9,"span",2),a.YNc(4,L,2,2,"span",3),a.YNc(5,J,2,4,"span",2),a.qZA()),2&ce&&(a.Tol(te.styleClass),a.Q6J("ngStyle",te.style)("disabled",te.disabled||te.loading)("ngClass",a.qbA(11,N,te.icon&&!te.label,("top"===te.iconPos||"bottom"===te.iconPos)&&te.label,te.disabled||te.loading,te.loading,te.loading&&!te.icon&&te.label)),a.uIk("type",te.type)("aria-label",te.ariaLabel),a.xp6(2),a.Q6J("ngTemplateOutlet",te.contentTemplate),a.xp6(1),a.Q6J("ngIf",!te.contentTemplate&&(te.icon||te.loading)),a.xp6(1),a.Q6J("ngIf",!te.contentTemplate&&te.label),a.xp6(1),a.Q6J("ngIf",!te.contentTemplate&&te.badge))},dependencies:[e.mk,e.O5,e.tP,e.PC,_.H],encapsulation:2,changeDetection:0}),U})(),S=(()=>{class U{}return U.\u0275fac=function(ce){return new(ce||U)},U.\u0275mod=a.oAB({type:U}),U.\u0275inj=a.cJS({imports:[e.ez,_.T]}),U})()},5652:(mn,ht,b)=>{"use strict";b.d(ht,{_8:()=>st,f:()=>Ye});var e=b(1777),a=b(9808),f=b(5e3),g=b(2382),_=b(9783),P=b(845),y=b(5730),l=b(5787),R=b(5921);const L=["container"],J=["inputfield"],N=["contentWrapper"];function w(je,It){if(1&je){const ne=f.EpF();f.TgZ(0,"i",8),f.NdJ("click",function(){f.CHM(ne);const me=f.oxw(2);return f.KtG(me.clear())}),f.qZA()}}function x(je,It){if(1&je){const ne=f.EpF();f.TgZ(0,"button",9),f.NdJ("click",function(me){f.CHM(ne),f.oxw();const gt=f.MAs(1),un=f.oxw();return f.KtG(un.onButtonClick(me,gt))}),f.qZA()}if(2&je){const ne=f.oxw(2);f.Q6J("icon",ne.icon)("disabled",ne.disabled),f.uIk("aria-label",ne.iconAriaLabel)}}function D(je,It){if(1&je){const ne=f.EpF();f.TgZ(0,"input",4,5),f.NdJ("focus",function(me){f.CHM(ne);const gt=f.oxw();return f.KtG(gt.onInputFocus(me))})("keydown",function(me){f.CHM(ne);const gt=f.oxw();return f.KtG(gt.onInputKeydown(me))})("click",function(){f.CHM(ne);const me=f.oxw();return f.KtG(me.onInputClick())})("blur",function(me){f.CHM(ne);const gt=f.oxw();return f.KtG(gt.onInputBlur(me))})("input",function(me){f.CHM(ne);const gt=f.oxw();return f.KtG(gt.onUserInput(me))}),f.qZA(),f.YNc(2,w,1,0,"i",6),f.YNc(3,x,1,3,"button",7)}if(2&je){const ne=f.oxw();f.Tol(ne.inputStyleClass),f.Q6J("value",ne.inputFieldValue)("readonly",ne.readonlyInput)("ngStyle",ne.inputStyle)("placeholder",ne.placeholder||"")("disabled",ne.disabled)("ngClass","p-inputtext p-component"),f.uIk("id",ne.inputId)("name",ne.name)("required",ne.required)("aria-required",ne.required)("tabindex",ne.tabindex)("inputmode",ne.touchUI?"off":null)("aria-labelledby",ne.ariaLabelledBy),f.xp6(2),f.Q6J("ngIf",ne.showClear&&!ne.disabled&&null!=ne.value),f.xp6(1),f.Q6J("ngIf",ne.showIcon)}}function S(je,It){1&je&&f.GkF(0)}function U(je,It){if(1&je){const ne=f.EpF();f.TgZ(0,"button",30),f.NdJ("keydown",function(me){f.CHM(ne);const gt=f.oxw(4);return f.KtG(gt.onContainerButtonKeydown(me))})("click",function(me){f.CHM(ne);const gt=f.oxw(4);return f.KtG(gt.onPrevButtonClick(me))}),f._UZ(1,"span",31),f.qZA()}}function F(je,It){if(1&je){const ne=f.EpF();f.TgZ(0,"button",32),f.NdJ("click",function(me){f.CHM(ne);const gt=f.oxw(4);return f.KtG(gt.switchToMonthView(me))})("keydown",function(me){f.CHM(ne);const gt=f.oxw(4);return f.KtG(gt.onContainerButtonKeydown(me))}),f._uU(1),f.qZA()}if(2&je){const ne=f.oxw().$implicit,Ne=f.oxw(3);f.Q6J("disabled",Ne.switchViewButtonDisabled()),f.xp6(1),f.hij(" ",Ne.getMonthName(ne.month)," ")}}function ce(je,It){if(1&je){const ne=f.EpF();f.TgZ(0,"button",33),f.NdJ("click",function(me){f.CHM(ne);const gt=f.oxw(4);return f.KtG(gt.switchToYearView(me))})("keydown",function(me){f.CHM(ne);const gt=f.oxw(4);return f.KtG(gt.onContainerButtonKeydown(me))}),f._uU(1),f.qZA()}if(2&je){const ne=f.oxw().$implicit,Ne=f.oxw(3);f.Q6J("disabled",Ne.switchViewButtonDisabled()),f.xp6(1),f.hij(" ",Ne.getYear(ne)," ")}}function te(je,It){if(1&je&&(f.ynx(0),f._uU(1),f.BQk()),2&je){const ne=f.oxw(5);f.xp6(1),f.AsE("",ne.yearPickerValues()[0]," - ",ne.yearPickerValues()[ne.yearPickerValues().length-1],"")}}function V(je,It){1&je&&f.GkF(0)}const k=function(je){return{$implicit:je}};function O(je,It){if(1&je&&(f.TgZ(0,"span",34),f.YNc(1,te,2,2,"ng-container",13),f.YNc(2,V,1,0,"ng-container",35),f.qZA()),2&je){const ne=f.oxw(4);f.xp6(1),f.Q6J("ngIf",!ne.decadeTemplate),f.xp6(1),f.Q6J("ngTemplateOutlet",ne.decadeTemplate)("ngTemplateOutletContext",f.VKq(3,k,ne.yearPickerValues))}}function $(je,It){if(1&je&&(f.TgZ(0,"th",41)(1,"span"),f._uU(2),f.qZA()()),2&je){const ne=f.oxw(5);f.xp6(2),f.Oqu(ne.getTranslation("weekHeader"))}}function ue(je,It){if(1&je&&(f.TgZ(0,"th",42)(1,"span"),f._uU(2),f.qZA()()),2&je){const ne=It.$implicit;f.xp6(2),f.Oqu(ne)}}function q(je,It){if(1&je&&(f.TgZ(0,"td",45)(1,"span",46),f._uU(2),f.qZA()()),2&je){const ne=f.oxw().index,Ne=f.oxw(2).$implicit;f.xp6(2),f.hij(" ",Ne.weekNumbers[ne]," ")}}function Y(je,It){if(1&je&&(f.ynx(0),f._uU(1),f.BQk()),2&je){const ne=f.oxw(2).$implicit;f.xp6(1),f.Oqu(ne.day)}}function G(je,It){1&je&&f.GkF(0)}const he=function(je,It){return{"p-highlight":je,"p-disabled":It}};function j(je,It){if(1&je){const ne=f.EpF();f.ynx(0),f.TgZ(1,"span",48),f.NdJ("click",function(me){f.CHM(ne);const gt=f.oxw().$implicit,un=f.oxw(6);return f.KtG(un.onDateSelect(me,gt))})("keydown",function(me){f.CHM(ne);const gt=f.oxw().$implicit,un=f.oxw(3).index,In=f.oxw(3);return f.KtG(In.onDateCellKeydown(me,gt,un))}),f.YNc(2,Y,2,1,"ng-container",13),f.YNc(3,G,1,0,"ng-container",35),f.qZA(),f.BQk()}if(2&je){const ne=f.oxw().$implicit,Ne=f.oxw(6);f.xp6(1),f.Q6J("ngClass",f.WLB(4,he,Ne.isSelected(ne),!ne.selectable)),f.xp6(1),f.Q6J("ngIf",!Ne.dateTemplate),f.xp6(1),f.Q6J("ngTemplateOutlet",Ne.dateTemplate)("ngTemplateOutletContext",f.VKq(7,k,ne))}}const Q=function(je,It){return{"p-datepicker-other-month":je,"p-datepicker-today":It}};function K(je,It){if(1&je&&(f.TgZ(0,"td",47),f.YNc(1,j,4,9,"ng-container",13),f.qZA()),2&je){const ne=It.$implicit,Ne=f.oxw(6);f.Q6J("ngClass",f.WLB(2,Q,ne.otherMonth,ne.today)),f.xp6(1),f.Q6J("ngIf",!ne.otherMonth||Ne.showOtherMonths)}}function z(je,It){if(1&je&&(f.TgZ(0,"tr"),f.YNc(1,q,3,1,"td",43),f.YNc(2,K,2,5,"td",44),f.qZA()),2&je){const ne=It.$implicit,Ne=f.oxw(5);f.xp6(1),f.Q6J("ngIf",Ne.showWeek),f.xp6(1),f.Q6J("ngForOf",ne)}}function oe(je,It){if(1&je&&(f.TgZ(0,"div",36)(1,"table",37)(2,"thead")(3,"tr"),f.YNc(4,$,3,1,"th",38),f.YNc(5,ue,3,1,"th",39),f.qZA()(),f.TgZ(6,"tbody"),f.YNc(7,z,3,2,"tr",40),f.qZA()()()),2&je){const ne=f.oxw().$implicit,Ne=f.oxw(3);f.xp6(4),f.Q6J("ngIf",Ne.showWeek),f.xp6(1),f.Q6J("ngForOf",Ne.weekDays),f.xp6(2),f.Q6J("ngForOf",ne.dates)}}function Te(je,It){if(1&je){const ne=f.EpF();f.TgZ(0,"div",20)(1,"div",21),f.YNc(2,U,2,0,"button",22),f.TgZ(3,"div",23),f.YNc(4,F,2,2,"button",24),f.YNc(5,ce,2,2,"button",25),f.YNc(6,O,3,5,"span",26),f.qZA(),f.TgZ(7,"button",27),f.NdJ("keydown",function(me){f.CHM(ne);const gt=f.oxw(3);return f.KtG(gt.onContainerButtonKeydown(me))})("click",function(me){f.CHM(ne);const gt=f.oxw(3);return f.KtG(gt.onNextButtonClick(me))}),f._UZ(8,"span",28),f.qZA()(),f.YNc(9,oe,8,3,"div",29),f.qZA()}if(2&je){const ne=It.index,Ne=f.oxw(3);f.xp6(2),f.Q6J("ngIf",0===ne),f.xp6(2),f.Q6J("ngIf","date"===Ne.currentView),f.xp6(1),f.Q6J("ngIf","year"!==Ne.currentView),f.xp6(1),f.Q6J("ngIf","year"===Ne.currentView),f.xp6(1),f.Udp("display",1===Ne.numberOfMonths||ne===Ne.numberOfMonths-1?"inline-flex":"none"),f.xp6(2),f.Q6J("ngIf","date"===Ne.currentView)}}function Ae(je,It){if(1&je){const ne=f.EpF();f.TgZ(0,"span",51),f.NdJ("click",function(me){const un=f.CHM(ne).index,In=f.oxw(4);return f.KtG(In.onMonthSelect(me,un))})("keydown",function(me){const un=f.CHM(ne).index,In=f.oxw(4);return f.KtG(In.onMonthCellKeydown(me,un))}),f._uU(1),f.qZA()}if(2&je){const ne=It.$implicit,Ne=It.index,me=f.oxw(4);f.Q6J("ngClass",f.WLB(2,he,me.isMonthSelected(Ne),me.isMonthDisabled(Ne))),f.xp6(1),f.hij(" ",ne," ")}}function Ke(je,It){if(1&je&&(f.TgZ(0,"div",49),f.YNc(1,Ae,2,5,"span",50),f.qZA()),2&je){const ne=f.oxw(3);f.xp6(1),f.Q6J("ngForOf",ne.monthPickerValues())}}const be=function(je){return{"p-highlight":je}};function Qe(je,It){if(1&je){const ne=f.EpF();f.TgZ(0,"span",54),f.NdJ("click",function(me){const un=f.CHM(ne).$implicit,In=f.oxw(4);return f.KtG(In.onYearSelect(me,un))})("keydown",function(me){const un=f.CHM(ne).$implicit,In=f.oxw(4);return f.KtG(In.onYearCellKeydown(me,un))}),f._uU(1),f.qZA()}if(2&je){const ne=It.$implicit,Ne=f.oxw(4);f.Q6J("ngClass",f.VKq(2,be,Ne.isYearSelected(ne))),f.xp6(1),f.hij(" ",ne," ")}}function X(je,It){if(1&je&&(f.TgZ(0,"div",52),f.YNc(1,Qe,2,4,"span",53),f.qZA()),2&je){const ne=f.oxw(3);f.xp6(1),f.Q6J("ngForOf",ne.yearPickerValues())}}function xe(je,It){if(1&je&&(f.ynx(0),f.TgZ(1,"div",16),f.YNc(2,Te,10,7,"div",17),f.qZA(),f.YNc(3,Ke,2,1,"div",18),f.YNc(4,X,2,1,"div",19),f.BQk()),2&je){const ne=f.oxw(2);f.xp6(2),f.Q6J("ngForOf",ne.months),f.xp6(1),f.Q6J("ngIf","month"===ne.currentView),f.xp6(1),f.Q6J("ngIf","year"===ne.currentView)}}function we(je,It){1&je&&(f.ynx(0),f._uU(1,"0"),f.BQk())}function Oe(je,It){1&je&&(f.ynx(0),f._uU(1,"0"),f.BQk())}function dt(je,It){if(1&je&&(f.TgZ(0,"div",60)(1,"span"),f._uU(2),f.qZA()()),2&je){const ne=f.oxw(3);f.xp6(2),f.Oqu(ne.timeSeparator)}}function bt(je,It){1&je&&(f.ynx(0),f._uU(1,"0"),f.BQk())}function it(je,It){if(1&je){const ne=f.EpF();f.TgZ(0,"div",65)(1,"button",57),f.NdJ("keydown",function(me){f.CHM(ne);const gt=f.oxw(3);return f.KtG(gt.onContainerButtonKeydown(me))})("keydown.enter",function(me){f.CHM(ne);const gt=f.oxw(3);return f.KtG(gt.incrementSecond(me))})("keydown.space",function(me){f.CHM(ne);const gt=f.oxw(3);return f.KtG(gt.incrementSecond(me))})("mousedown",function(me){f.CHM(ne);const gt=f.oxw(3);return f.KtG(gt.onTimePickerElementMouseDown(me,2,1))})("mouseup",function(me){f.CHM(ne);const gt=f.oxw(3);return f.KtG(gt.onTimePickerElementMouseUp(me))})("keyup.enter",function(me){f.CHM(ne);const gt=f.oxw(3);return f.KtG(gt.onTimePickerElementMouseUp(me))})("keyup.space",function(me){f.CHM(ne);const gt=f.oxw(3);return f.KtG(gt.onTimePickerElementMouseUp(me))})("mouseleave",function(){f.CHM(ne);const me=f.oxw(3);return f.KtG(me.onTimePickerElementMouseLeave())}),f._UZ(2,"span",58),f.qZA(),f.TgZ(3,"span"),f.YNc(4,bt,2,0,"ng-container",13),f._uU(5),f.qZA(),f.TgZ(6,"button",57),f.NdJ("keydown",function(me){f.CHM(ne);const gt=f.oxw(3);return f.KtG(gt.onContainerButtonKeydown(me))})("keydown.enter",function(me){f.CHM(ne);const gt=f.oxw(3);return f.KtG(gt.decrementSecond(me))})("keydown.space",function(me){f.CHM(ne);const gt=f.oxw(3);return f.KtG(gt.decrementSecond(me))})("mousedown",function(me){f.CHM(ne);const gt=f.oxw(3);return f.KtG(gt.onTimePickerElementMouseDown(me,2,-1))})("mouseup",function(me){f.CHM(ne);const gt=f.oxw(3);return f.KtG(gt.onTimePickerElementMouseUp(me))})("keyup.enter",function(me){f.CHM(ne);const gt=f.oxw(3);return f.KtG(gt.onTimePickerElementMouseUp(me))})("keyup.space",function(me){f.CHM(ne);const gt=f.oxw(3);return f.KtG(gt.onTimePickerElementMouseUp(me))})("mouseleave",function(){f.CHM(ne);const me=f.oxw(3);return f.KtG(me.onTimePickerElementMouseLeave())}),f._UZ(7,"span",59),f.qZA()()}if(2&je){const ne=f.oxw(3);f.xp6(4),f.Q6J("ngIf",ne.currentSecond<10),f.xp6(1),f.Oqu(ne.currentSecond)}}function Dt(je,It){if(1&je){const ne=f.EpF();f.TgZ(0,"div",66)(1,"button",67),f.NdJ("keydown",function(me){f.CHM(ne);const gt=f.oxw(3);return f.KtG(gt.onContainerButtonKeydown(me))})("click",function(me){f.CHM(ne);const gt=f.oxw(3);return f.KtG(gt.toggleAMPM(me))})("keydown.enter",function(me){f.CHM(ne);const gt=f.oxw(3);return f.KtG(gt.toggleAMPM(me))}),f._UZ(2,"span",58),f.qZA(),f.TgZ(3,"span"),f._uU(4),f.qZA(),f.TgZ(5,"button",67),f.NdJ("keydown",function(me){f.CHM(ne);const gt=f.oxw(3);return f.KtG(gt.onContainerButtonKeydown(me))})("click",function(me){f.CHM(ne);const gt=f.oxw(3);return f.KtG(gt.toggleAMPM(me))})("keydown.enter",function(me){f.CHM(ne);const gt=f.oxw(3);return f.KtG(gt.toggleAMPM(me))}),f._UZ(6,"span",59),f.qZA()()}if(2&je){const ne=f.oxw(3);f.xp6(4),f.Oqu(ne.pm?"PM":"AM")}}function vt(je,It){if(1&je){const ne=f.EpF();f.TgZ(0,"div",55)(1,"div",56)(2,"button",57),f.NdJ("keydown",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.onContainerButtonKeydown(me))})("keydown.enter",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.incrementHour(me))})("keydown.space",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.incrementHour(me))})("mousedown",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.onTimePickerElementMouseDown(me,0,1))})("mouseup",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.onTimePickerElementMouseUp(me))})("keyup.enter",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.onTimePickerElementMouseUp(me))})("keyup.space",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.onTimePickerElementMouseUp(me))})("mouseleave",function(){f.CHM(ne);const me=f.oxw(2);return f.KtG(me.onTimePickerElementMouseLeave())}),f._UZ(3,"span",58),f.qZA(),f.TgZ(4,"span"),f.YNc(5,we,2,0,"ng-container",13),f._uU(6),f.qZA(),f.TgZ(7,"button",57),f.NdJ("keydown",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.onContainerButtonKeydown(me))})("keydown.enter",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.decrementHour(me))})("keydown.space",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.decrementHour(me))})("mousedown",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.onTimePickerElementMouseDown(me,0,-1))})("mouseup",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.onTimePickerElementMouseUp(me))})("keyup.enter",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.onTimePickerElementMouseUp(me))})("keyup.space",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.onTimePickerElementMouseUp(me))})("mouseleave",function(){f.CHM(ne);const me=f.oxw(2);return f.KtG(me.onTimePickerElementMouseLeave())}),f._UZ(8,"span",59),f.qZA()(),f.TgZ(9,"div",60)(10,"span"),f._uU(11),f.qZA()(),f.TgZ(12,"div",61)(13,"button",57),f.NdJ("keydown",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.onContainerButtonKeydown(me))})("keydown.enter",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.incrementMinute(me))})("keydown.space",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.incrementMinute(me))})("mousedown",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.onTimePickerElementMouseDown(me,1,1))})("mouseup",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.onTimePickerElementMouseUp(me))})("keyup.enter",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.onTimePickerElementMouseUp(me))})("keyup.space",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.onTimePickerElementMouseUp(me))})("mouseleave",function(){f.CHM(ne);const me=f.oxw(2);return f.KtG(me.onTimePickerElementMouseLeave())}),f._UZ(14,"span",58),f.qZA(),f.TgZ(15,"span"),f.YNc(16,Oe,2,0,"ng-container",13),f._uU(17),f.qZA(),f.TgZ(18,"button",57),f.NdJ("keydown",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.onContainerButtonKeydown(me))})("keydown.enter",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.decrementMinute(me))})("keydown.space",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.decrementMinute(me))})("mousedown",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.onTimePickerElementMouseDown(me,1,-1))})("mouseup",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.onTimePickerElementMouseUp(me))})("keyup.enter",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.onTimePickerElementMouseUp(me))})("keyup.space",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.onTimePickerElementMouseUp(me))})("mouseleave",function(){f.CHM(ne);const me=f.oxw(2);return f.KtG(me.onTimePickerElementMouseLeave())}),f._UZ(19,"span",59),f.qZA()(),f.YNc(20,dt,3,1,"div",62),f.YNc(21,it,8,2,"div",63),f.YNc(22,Dt,7,1,"div",64),f.qZA()}if(2&je){const ne=f.oxw(2);f.xp6(5),f.Q6J("ngIf",ne.currentHour<10),f.xp6(1),f.Oqu(ne.currentHour),f.xp6(5),f.Oqu(ne.timeSeparator),f.xp6(5),f.Q6J("ngIf",ne.currentMinute<10),f.xp6(1),f.Oqu(ne.currentMinute),f.xp6(3),f.Q6J("ngIf",ne.showSeconds),f.xp6(1),f.Q6J("ngIf",ne.showSeconds),f.xp6(1),f.Q6J("ngIf","12"==ne.hourFormat)}}const Gt=function(je){return[je]};function Ht(je,It){if(1&je){const ne=f.EpF();f.TgZ(0,"div",68)(1,"button",69),f.NdJ("keydown",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.onContainerButtonKeydown(me))})("click",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.onTodayButtonClick(me))}),f.qZA(),f.TgZ(2,"button",69),f.NdJ("keydown",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.onContainerButtonKeydown(me))})("click",function(me){f.CHM(ne);const gt=f.oxw(2);return f.KtG(gt.onClearButtonClick(me))}),f.qZA()()}if(2&je){const ne=f.oxw(2);f.xp6(1),f.Q6J("label",ne.getTranslation("today"))("ngClass",f.VKq(4,Gt,ne.todayButtonStyleClass)),f.xp6(1),f.Q6J("label",ne.getTranslation("clear"))("ngClass",f.VKq(6,Gt,ne.clearButtonStyleClass))}}function Ut(je,It){1&je&&f.GkF(0)}const ct=function(je,It,ne,Ne,me,gt){return{"p-datepicker p-component":!0,"p-datepicker-inline":je,"p-disabled":It,"p-datepicker-timeonly":ne,"p-datepicker-multiple-month":Ne,"p-datepicker-monthpicker":me,"p-datepicker-touch-ui":gt}},at=function(je,It){return{showTransitionParams:je,hideTransitionParams:It}},fe=function(je){return{value:"visibleTouchUI",params:je}},ke=function(je){return{value:"visible",params:je}};function ot(je,It){if(1&je){const ne=f.EpF();f.TgZ(0,"div",10,11),f.NdJ("@overlayAnimation.start",function(me){f.CHM(ne);const gt=f.oxw();return f.KtG(gt.onOverlayAnimationStart(me))})("@overlayAnimation.done",function(me){f.CHM(ne);const gt=f.oxw();return f.KtG(gt.onOverlayAnimationDone(me))})("click",function(me){f.CHM(ne);const gt=f.oxw();return f.KtG(gt.onOverlayClick(me))}),f.Hsn(2),f.YNc(3,S,1,0,"ng-container",12),f.YNc(4,xe,5,3,"ng-container",13),f.YNc(5,vt,23,8,"div",14),f.YNc(6,Ht,3,8,"div",15),f.Hsn(7,1),f.YNc(8,Ut,1,0,"ng-container",12),f.qZA()}if(2&je){const ne=f.oxw();f.Tol(ne.panelStyleClass),f.Q6J("ngStyle",ne.panelStyle)("ngClass",f.HTZ(11,ct,ne.inline,ne.disabled,ne.timeOnly,ne.numberOfMonths>1,"month"===ne.view,ne.touchUI))("@overlayAnimation",ne.touchUI?f.VKq(21,fe,f.WLB(18,at,ne.showTransitionOptions,ne.hideTransitionOptions)):f.VKq(26,ke,f.WLB(23,at,ne.showTransitionOptions,ne.hideTransitionOptions)))("@.disabled",!0===ne.inline),f.xp6(3),f.Q6J("ngTemplateOutlet",ne.headerTemplate),f.xp6(1),f.Q6J("ngIf",!ne.timeOnly),f.xp6(1),f.Q6J("ngIf",(ne.showTime||ne.timeOnly)&&"date"===ne.currentView),f.xp6(1),f.Q6J("ngIf",ne.showButtonBar),f.xp6(2),f.Q6J("ngTemplateOutlet",ne.footerTemplate)}}const Ct=[[["p-header"]],[["p-footer"]]],Ot=function(je,It,ne,Ne){return{"p-calendar":!0,"p-calendar-w-btn":je,"p-calendar-timeonly":It,"p-calendar-disabled":ne,"p-focus":Ne}},Nt=["p-header","p-footer"],Mt={provide:g.JU,useExisting:(0,f.Gpc)(()=>Ye),multi:!0};let Ye=(()=>{class je{constructor(ne,Ne,me,gt,un,In){this.el=ne,this.renderer=Ne,this.cd=me,this.zone=gt,this.config=un,this.overlayService=In,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.showClear=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new f.vpe,this.onBlur=new f.vpe,this.onClose=new f.vpe,this.onSelect=new f.vpe,this.onClear=new f.vpe,this.onInput=new f.vpe,this.onTodayClick=new f.vpe,this.onClearClick=new f.vpe,this.onMonthChange=new f.vpe,this.onYearChange=new f.vpe,this.onClickOutside=new f.vpe,this.onShow=new f.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(en,_t){return"12"==this.hourFormat?12===en?_t?12:0:_t?en+12:en:en}}set content(ne){this.contentViewChild=ne,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(ne){this._view=ne,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(ne){if(this._defaultDate=ne,this.initialized){const Ne=ne||new Date;this.currentMonth=Ne.getMonth(),this.currentYear=Ne.getFullYear(),this.initTime(Ne),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(ne){this._minDate=ne,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(ne){this._maxDate=ne,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(ne){this._disabledDates=ne,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(ne){this._disabledDays=ne,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(ne){if(this._yearRange=ne,ne){const Ne=ne.split(":"),me=parseInt(Ne[0]),gt=parseInt(Ne[1]);this.populateYearOptions(me,gt)}}get showTime(){return this._showTime}set showTime(ne){this._showTime=ne,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(ne){this._responsiveOptions=ne,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(ne){this._numberOfMonths=ne,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(ne){this._firstDayOfWeek=ne,this.createWeekDays()}set locale(ne){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=(0,R.Th)();const ne=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=ne.getMonth(),this.currentYear=ne.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(ne),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(ne=>{switch(ne.getType()){case"date":default:this.dateTemplate=ne.template;break;case"decade":this.decadeTemplate=ne.template;break;case"disabledDate":this.disabledDateTemplate=ne.template;break;case"header":this.headerTemplate=ne.template;break;case"footer":this.footerTemplate=ne.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=y.p.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(ne){return this.config.getTranslation(ne)}populateYearOptions(ne,Ne){this.yearOptions=[];for(let me=ne;me<=Ne;me++)this.yearOptions.push(me)}createWeekDays(){this.weekDays=[];let ne=this.getFirstDateOfWeek(),Ne=this.getTranslation(_.ws.DAY_NAMES_MIN);for(let me=0;me<7;me++)this.weekDays.push(Ne[ne]),ne=6==ne?0:++ne}monthPickerValues(){let ne=[];for(let Ne=0;Ne<=11;Ne++)ne.push(this.config.getTranslation("monthNamesShort")[Ne]);return ne}yearPickerValues(){let ne=[],Ne=this.currentYear-this.currentYear%10;for(let me=0;me<10;me++)ne.push(Ne+me);return ne}createMonths(ne,Ne){this.months=this.months=[];for(let me=0;me<this.numberOfMonths;me++){let gt=ne+me,un=Ne;gt>11&&(gt=gt%11-1,un=Ne+1),this.months.push(this.createMonth(gt,un))}}getWeekNumber(ne){let Ne=new Date(ne.getTime());Ne.setDate(Ne.getDate()+4-(Ne.getDay()||7));let me=Ne.getTime();return Ne.setMonth(0),Ne.setDate(1),Math.floor(Math.round((me-Ne.getTime())/864e5)/7)+1}createMonth(ne,Ne){let me=[],gt=this.getFirstDayOfMonthIndex(ne,Ne),un=this.getDaysCountInMonth(ne,Ne),In=this.getDaysCountInPrevMonth(ne,Ne),en=1,_t=new Date,et=[],de=Math.ceil((un+gt)/7);for(let Je=0;Je<de;Je++){let ze=[];if(0==Je){for(let Fe=In-gt+1;Fe<=In;Fe++){let qt=this.getPreviousMonthAndYear(ne,Ne);ze.push({day:Fe,month:qt.month,year:qt.year,otherMonth:!0,today:this.isToday(_t,Fe,qt.month,qt.year),selectable:this.isSelectable(Fe,qt.month,qt.year,!0)})}let wt=7-ze.length;for(let Fe=0;Fe<wt;Fe++)ze.push({day:en,month:ne,year:Ne,today:this.isToday(_t,en,ne,Ne),selectable:this.isSelectable(en,ne,Ne,!1)}),en++}else for(let wt=0;wt<7;wt++){if(en>un){let Fe=this.getNextMonthAndYear(ne,Ne);ze.push({day:en-un,month:Fe.month,year:Fe.year,otherMonth:!0,today:this.isToday(_t,en-un,Fe.month,Fe.year),selectable:this.isSelectable(en-un,Fe.month,Fe.year,!0)})}else ze.push({day:en,month:ne,year:Ne,today:this.isToday(_t,en,ne,Ne),selectable:this.isSelectable(en,ne,Ne,!1)});en++}this.showWeek&&et.push(this.getWeekNumber(new Date(ze[0].year,ze[0].month,ze[0].day))),me.push(ze)}return{month:ne,year:Ne,dates:me,weekNumbers:et}}initTime(ne){this.pm=ne.getHours()>11,this.showTime?(this.currentMinute=ne.getMinutes(),this.currentSecond=ne.getSeconds(),this.setCurrentHourPM(ne.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(ne){this.disabled?ne.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(ne){this.disabled?ne.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let ne=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-ne,this.yearOptions[this.yearOptions.length-1]-ne)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let ne=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+ne,this.yearOptions[this.yearOptions.length-1]+ne)}}switchToMonthView(ne){this.setCurrentView("month"),ne.preventDefault()}switchToYearView(ne){this.setCurrentView("year"),ne.preventDefault()}onDateSelect(ne,Ne){!this.disabled&&Ne.selectable?(this.isMultipleSelection()&&this.isSelected(Ne)?(this.value=this.value.filter((me,gt)=>!this.isDateEquals(me,Ne)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(Ne)&&this.selectDate(Ne),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{ne.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),ne.preventDefault()):ne.preventDefault()}shouldSelectDate(ne){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(ne,Ne){"month"===this.view?this.onDateSelect(ne,{year:this.currentYear,month:Ne,day:1,selectable:!0}):(this.currentMonth=Ne,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(ne,Ne){"year"===this.view?this.onDateSelect(ne,{year:Ne,month:0,day:1,selectable:!0}):(this.currentYear=Ne,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let ne="";if(this.value)if(this.isSingleSelection())ne=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let Ne=0;Ne<this.value.length;Ne++)ne+=this.formatDateTime(this.value[Ne]),Ne!==this.value.length-1&&(ne+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let me=this.value[1];ne=this.formatDateTime(this.value[0]),me&&(ne+=" "+this.rangeSeparator+" "+this.formatDateTime(me))}this.inputFieldValue=ne,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(ne){let Ne=this.keepInvalid?ne:null;return this.isValidDate(ne)&&(this.timeOnly?Ne=this.formatTime(ne):(Ne=this.formatDate(ne,this.getDateFormat()),this.showTime&&(Ne+=" "+this.formatTime(ne)))),Ne}setCurrentHourPM(ne){"12"==this.hourFormat?(this.pm=ne>11,this.currentHour=ne>=12?12==ne?12:ne-12:0==ne?12:ne):this.currentHour=ne}setCurrentView(ne){this.currentView=ne,this.cd.detectChanges(),this.alignOverlay()}selectDate(ne){let Ne=new Date(ne.year,ne.month,ne.day);if(this.showTime&&(Ne.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),Ne.setMinutes(this.currentMinute),Ne.setSeconds(this.currentSecond)),this.minDate&&this.minDate>Ne&&(Ne=this.minDate,this.setCurrentHourPM(Ne.getHours()),this.currentMinute=Ne.getMinutes(),this.currentSecond=Ne.getSeconds()),this.maxDate&&this.maxDate<Ne&&(Ne=this.maxDate,this.setCurrentHourPM(Ne.getHours()),this.currentMinute=Ne.getMinutes(),this.currentSecond=Ne.getSeconds()),this.isSingleSelection())this.updateModel(Ne);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,Ne]:[Ne]);else if(this.isRangeSelection())if(this.value&&this.value.length){let me=this.value[0],gt=this.value[1];!gt&&Ne.getTime()>=me.getTime()?gt=Ne:(me=Ne,gt=null),this.updateModel([me,gt])}else this.updateModel([Ne,null]);this.onSelect.emit(Ne)}updateModel(ne){if(this.value=ne,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let Ne=null;this.value&&(Ne=this.value.map(me=>this.formatDateTime(me))),this.onModelChange(Ne)}}getFirstDayOfMonthIndex(ne,Ne){let me=new Date;me.setDate(1),me.setMonth(ne),me.setFullYear(Ne);let gt=me.getDay()+this.getSundayIndex();return gt>=7?gt-7:gt}getDaysCountInMonth(ne,Ne){return 32-this.daylightSavingAdjust(new Date(Ne,ne,32)).getDate()}getDaysCountInPrevMonth(ne,Ne){let me=this.getPreviousMonthAndYear(ne,Ne);return this.getDaysCountInMonth(me.month,me.year)}getPreviousMonthAndYear(ne,Ne){let me,gt;return 0===ne?(me=11,gt=Ne-1):(me=ne-1,gt=Ne),{month:me,year:gt}}getNextMonthAndYear(ne,Ne){let me,gt;return 11===ne?(me=0,gt=Ne+1):(me=ne+1,gt=Ne),{month:me,year:gt}}getSundayIndex(){let ne=this.getFirstDateOfWeek();return ne>0?7-ne:0}isSelected(ne){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,ne);if(this.isMultipleSelection()){let Ne=!1;for(let me of this.value)if(Ne=this.isDateEquals(me,ne),Ne)break;return Ne}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],ne)||this.isDateEquals(this.value[1],ne)||this.isDateBetween(this.value[0],this.value[1],ne):this.isDateEquals(this.value[0],ne):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(ne){if(this.isComparable()&&!this.isMultipleSelection()){const[Ne,me]=this.isRangeSelection()?this.value:[this.value,this.value],gt=new Date(this.currentYear,ne,1);return gt>=Ne&&gt<=(null!=me?me:Ne)}return!1}isMonthDisabled(ne){return!this.isSelectable(1,ne,this.currentYear,!1)}isYearSelected(ne){if(this.isComparable()){let Ne=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&Ne.getFullYear()===ne}return!1}isDateEquals(ne,Ne){return!!(ne&&ne instanceof Date)&&ne.getDate()===Ne.day&&ne.getMonth()===Ne.month&&ne.getFullYear()===Ne.year}isDateBetween(ne,Ne,me){if(ne&&Ne){let un=new Date(me.year,me.month,me.day);return ne.getTime()<=un.getTime()&&Ne.getTime()>=un.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(ne,Ne,me,gt){return ne.getDate()===Ne&&ne.getMonth()===me&&ne.getFullYear()===gt}isSelectable(ne,Ne,me,gt){let un=!0,In=!0,en=!0,_t=!0;return!(gt&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>me||this.minDate.getFullYear()===me&&(this.minDate.getMonth()>Ne||this.minDate.getMonth()===Ne&&this.minDate.getDate()>ne))&&(un=!1),this.maxDate&&(this.maxDate.getFullYear()<me||this.maxDate.getFullYear()===me&&(this.maxDate.getMonth()<Ne||this.maxDate.getMonth()===Ne&&this.maxDate.getDate()<ne))&&(In=!1),this.disabledDates&&(en=!this.isDateDisabled(ne,Ne,me)),this.disabledDays&&(_t=!this.isDayDisabled(ne,Ne,me)),un&&In&&en&&_t)}isDateDisabled(ne,Ne,me){if(this.disabledDates)for(let gt of this.disabledDates)if(gt.getFullYear()===me&&gt.getMonth()===Ne&&gt.getDate()===ne)return!0;return!1}isDayDisabled(ne,Ne,me){if(this.disabledDays){let un=new Date(me,Ne,ne).getDay();return-1!==this.disabledDays.indexOf(un)}return!1}onInputFocus(ne){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(ne)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(ne){this.focus=!1,this.onBlur.emit(ne),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(ne,Ne){this.overlayVisible?this.hideOverlay():(Ne.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(ne){this.overlayService.add({originalEvent:ne,target:this.el.nativeElement})}getMonthName(ne){return this.config.getTranslation("monthNames")[ne]}getYear(ne){return"month"===this.currentView?this.currentYear:ne.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(ne){this.navigationState={backward:!0,button:!0},this.navBackward(ne)}onNextButtonClick(ne){this.navigationState={backward:!1,button:!0},this.navForward(ne)}onContainerButtonKeydown(ne){switch(ne.which){case 9:this.inline||this.trapFocus(ne);break;case 27:this.overlayVisible=!1,ne.preventDefault()}}onInputKeydown(ne){this.isKeydown=!0,40===ne.keyCode&&this.contentViewChild?this.trapFocus(ne):27===ne.keyCode||13===ne.keyCode?this.overlayVisible&&(this.overlayVisible=!1,ne.preventDefault()):9===ne.keyCode&&this.contentViewChild&&(y.p.getFocusableElements(this.contentViewChild.nativeElement).forEach(Ne=>Ne.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(ne,Ne,me){const gt=ne.currentTarget,un=gt.parentElement;switch(ne.which){case 40:{gt.tabIndex="-1";let In=y.p.index(un),en=un.parentElement.nextElementSibling;en?y.p.hasClass(en.children[In].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(ne)):(en.children[In].children[0].tabIndex="0",en.children[In].children[0].focus()):(this.navigationState={backward:!1},this.navForward(ne)),ne.preventDefault();break}case 38:{gt.tabIndex="-1";let In=y.p.index(un),en=un.parentElement.previousElementSibling;if(en){let _t=en.children[In].children[0];y.p.hasClass(_t,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(ne)):(_t.tabIndex="0",_t.focus())}else this.navigationState={backward:!0},this.navBackward(ne);ne.preventDefault();break}case 37:{gt.tabIndex="-1";let In=un.previousElementSibling;if(In){let en=In.children[0];y.p.hasClass(en,"p-disabled")||y.p.hasClass(en.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,me):(en.tabIndex="0",en.focus())}else this.navigateToMonth(!0,me);ne.preventDefault();break}case 39:{gt.tabIndex="-1";let In=un.nextElementSibling;if(In){let en=In.children[0];y.p.hasClass(en,"p-disabled")?this.navigateToMonth(!1,me):(en.tabIndex="0",en.focus())}else this.navigateToMonth(!1,me);ne.preventDefault();break}case 13:case 32:this.onDateSelect(ne,Ne),ne.preventDefault();break;case 27:this.overlayVisible=!1,ne.preventDefault();break;case 9:this.inline||this.trapFocus(ne)}}onMonthCellKeydown(ne,Ne){const me=ne.currentTarget;switch(ne.which){case 38:case 40:{me.tabIndex="-1";var gt=me.parentElement.children,un=y.p.index(me);let In=gt[40===ne.which?un+3:un-3];In&&(In.tabIndex="0",In.focus()),ne.preventDefault();break}case 37:{me.tabIndex="-1";let In=me.previousElementSibling;In?(In.tabIndex="0",In.focus()):(this.navigationState={backward:!0},this.navBackward(ne)),ne.preventDefault();break}case 39:{me.tabIndex="-1";let In=me.nextElementSibling;In?(In.tabIndex="0",In.focus()):(this.navigationState={backward:!1},this.navForward(ne)),ne.preventDefault();break}case 13:this.onMonthSelect(ne,Ne),ne.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,ne.preventDefault();break;case 9:this.inline||this.trapFocus(ne)}}onYearCellKeydown(ne,Ne){const me=ne.currentTarget;switch(ne.which){case 38:case 40:{me.tabIndex="-1";var gt=me.parentElement.children,un=y.p.index(me);let In=gt[40===ne.which?un+2:un-2];In&&(In.tabIndex="0",In.focus()),ne.preventDefault();break}case 37:{me.tabIndex="-1";let In=me.previousElementSibling;In?(In.tabIndex="0",In.focus()):(this.navigationState={backward:!0},this.navBackward(ne)),ne.preventDefault();break}case 39:{me.tabIndex="-1";let In=me.nextElementSibling;In?(In.tabIndex="0",In.focus()):(this.navigationState={backward:!1},this.navForward(ne)),ne.preventDefault();break}case 13:case 32:this.onYearSelect(ne,Ne),ne.preventDefault();break;case 27:this.overlayVisible=!1,ne.preventDefault();break;case 9:this.trapFocus(ne)}}navigateToMonth(ne,Ne){if(ne)if(1===this.numberOfMonths||0===Ne)this.navigationState={backward:!0},this.navBackward(event);else{let gt=y.p.find(this.contentViewChild.nativeElement.children[Ne-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),un=gt[gt.length-1];un.tabIndex="0",un.focus()}else if(1===this.numberOfMonths||Ne===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let gt=y.p.findSingle(this.contentViewChild.nativeElement.children[Ne+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");gt.tabIndex="0",gt.focus()}}updateFocus(){let ne;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?y.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():y.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let Ne;Ne=y.p.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),Ne&&Ne.length>0&&(ne=Ne[Ne.length-1])}else ne=y.p.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");ne&&(ne.tabIndex="0",ne.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){var ne;const Ne=null===(ne=this.contentViewChild)||void 0===ne?void 0:ne.nativeElement;let me;if("month"===this.currentView){let gt=y.p.find(Ne,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),un=y.p.findSingle(Ne,".p-monthpicker .p-monthpicker-month.p-highlight");gt.forEach(In=>In.tabIndex=-1),me=un||gt[0],0===gt.length&&y.p.find(Ne,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(en=>en.tabIndex=-1)}else if("year"===this.currentView){let gt=y.p.find(Ne,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),un=y.p.findSingle(Ne,".p-yearpicker .p-yearpicker-year.p-highlight");gt.forEach(In=>In.tabIndex=-1),me=un||gt[0],0===gt.length&&y.p.find(Ne,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(en=>en.tabIndex=-1)}else if(me=y.p.findSingle(Ne,"span.p-highlight"),!me){let gt=y.p.findSingle(Ne,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");me=gt||y.p.findSingle(Ne,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}me&&(me.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{me.focus()},1),this.preventFocus=!1)}trapFocus(ne){let Ne=y.p.getFocusableElements(this.contentViewChild.nativeElement);if(Ne&&Ne.length>0)if(Ne[0].ownerDocument.activeElement){let me=Ne.indexOf(Ne[0].ownerDocument.activeElement);if(ne.shiftKey)if(-1==me||0===me)if(this.focusTrap)Ne[Ne.length-1].focus();else{if(-1===me)return this.hideOverlay();if(0===me)return}else Ne[me-1].focus();else if(-1==me||me===Ne.length-1){if(!this.focusTrap&&-1!=me)return this.hideOverlay();Ne[0].focus()}else Ne[me+1].focus()}else Ne[0].focus();ne.preventDefault()}onMonthDropdownChange(ne){this.currentMonth=parseInt(ne),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(ne){this.currentYear=parseInt(ne),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(ne,Ne,me,gt){let un=this.value;const In=this.convertTo24Hour(ne,gt);this.isRangeSelection()&&(un=this.value[1]||this.value[0]),this.isMultipleSelection()&&(un=this.value[this.value.length-1]);const en=un?un.toDateString():null;return!(this.minDate&&en&&this.minDate.toDateString()===en&&(this.minDate.getHours()>In||this.minDate.getHours()===In&&(this.minDate.getMinutes()>Ne||this.minDate.getMinutes()===Ne&&this.minDate.getSeconds()>me))||this.maxDate&&en&&this.maxDate.toDateString()===en&&(this.maxDate.getHours()<In||this.maxDate.getHours()===In&&(this.maxDate.getMinutes()<Ne||this.maxDate.getMinutes()===Ne&&this.maxDate.getSeconds()<me)))}incrementHour(ne){let me=this.currentHour+this.stepHour,gt=this.pm;"24"==this.hourFormat?me=me>=24?me-24:me:"12"==this.hourFormat&&(this.currentHour<12&&me>11&&(gt=!this.pm),me=me>=13?me-12:me),this.validateTime(me,this.currentMinute,this.currentSecond,gt)&&(this.currentHour=me,this.pm=gt),ne.preventDefault()}onTimePickerElementMouseDown(ne,Ne,me){this.disabled||(this.repeat(ne,null,Ne,me),ne.preventDefault())}onTimePickerElementMouseUp(ne){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(ne,Ne,me,gt){let un=Ne||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(ne,100,me,gt),this.cd.markForCheck()},un),me){case 0:1===gt?this.incrementHour(ne):this.decrementHour(ne);break;case 1:1===gt?this.incrementMinute(ne):this.decrementMinute(ne);break;case 2:1===gt?this.incrementSecond(ne):this.decrementSecond(ne)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(ne){let Ne=this.currentHour-this.stepHour,me=this.pm;"24"==this.hourFormat?Ne=Ne<0?24+Ne:Ne:"12"==this.hourFormat&&(12===this.currentHour&&(me=!this.pm),Ne=Ne<=0?12+Ne:Ne),this.validateTime(Ne,this.currentMinute,this.currentSecond,me)&&(this.currentHour=Ne,this.pm=me),ne.preventDefault()}incrementMinute(ne){let Ne=this.currentMinute+this.stepMinute;Ne=Ne>59?Ne-60:Ne,this.validateTime(this.currentHour,Ne,this.currentSecond,this.pm)&&(this.currentMinute=Ne),ne.preventDefault()}decrementMinute(ne){let Ne=this.currentMinute-this.stepMinute;Ne=Ne<0?60+Ne:Ne,this.validateTime(this.currentHour,Ne,this.currentSecond,this.pm)&&(this.currentMinute=Ne),ne.preventDefault()}incrementSecond(ne){let Ne=this.currentSecond+this.stepSecond;Ne=Ne>59?Ne-60:Ne,this.validateTime(this.currentHour,this.currentMinute,Ne,this.pm)&&(this.currentSecond=Ne),ne.preventDefault()}decrementSecond(ne){let Ne=this.currentSecond-this.stepSecond;Ne=Ne<0?60+Ne:Ne,this.validateTime(this.currentHour,this.currentMinute,Ne,this.pm)&&(this.currentSecond=Ne),ne.preventDefault()}updateTime(){let ne=this.value;this.isRangeSelection()&&(ne=this.value[1]||this.value[0]),this.isMultipleSelection()&&(ne=this.value[this.value.length-1]),ne=ne?new Date(ne.getTime()):new Date,ne.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),ne.setMinutes(this.currentMinute),ne.setSeconds(this.currentSecond),this.isRangeSelection()&&(ne=this.value[1]?[this.value[0],ne]:[ne,null]),this.isMultipleSelection()&&(ne=[...this.value.slice(0,-1),ne]),this.updateModel(ne),this.onSelect.emit(ne),this.updateInputfield()}toggleAMPM(ne){const Ne=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,Ne)&&(this.pm=Ne,this.updateTime()),ne.preventDefault()}onUserInput(ne){if(!this.isKeydown)return;this.isKeydown=!1;let Ne=ne.target.value;try{let me=this.parseValueFromString(Ne);this.isValidSelection(me)&&(this.updateModel(me),this.updateUI())}catch(me){this.updateModel(this.keepInvalid?Ne:null)}this.filled=null!=Ne&&Ne.length,this.onInput.emit(ne)}isValidSelection(ne){let Ne=!0;return this.isSingleSelection()?this.isSelectable(ne.getDate(),ne.getMonth(),ne.getFullYear(),!1)||(Ne=!1):ne.every(me=>this.isSelectable(me.getDate(),me.getMonth(),me.getFullYear(),!1))&&this.isRangeSelection()&&(Ne=ne.length>1&&ne[1]>ne[0]),Ne}parseValueFromString(ne){if(!ne||0===ne.trim().length)return null;let Ne;if(this.isSingleSelection())Ne=this.parseDateTime(ne);else if(this.isMultipleSelection()){let me=ne.split(this.multipleSeparator);Ne=[];for(let gt of me)Ne.push(this.parseDateTime(gt.trim()))}else if(this.isRangeSelection()){let me=ne.split(" "+this.rangeSeparator+" ");Ne=[];for(let gt=0;gt<me.length;gt++)Ne[gt]=this.parseDateTime(me[gt].trim())}return Ne}parseDateTime(ne){let Ne,me=ne.split(" ");if(this.timeOnly)Ne=new Date,this.populateTime(Ne,me[0],me[1]);else{const gt=this.getDateFormat();if(this.showTime){let un="12"==this.hourFormat?me.pop():null,In=me.pop();Ne=this.parseDate(me.join(" "),gt),this.populateTime(Ne,In,un)}else Ne=this.parseDate(ne,gt)}return Ne}populateTime(ne,Ne,me){if("12"==this.hourFormat&&!me)throw"Invalid Time";this.pm="PM"===me||"pm"===me;let gt=this.parseTime(Ne);ne.setHours(gt.hour),ne.setMinutes(gt.minute),ne.setSeconds(gt.second)}isValidDate(ne){return ne instanceof Date&&R.gb.isNotEmpty(ne)}updateUI(){let ne=this.value;Array.isArray(ne)&&(ne=ne[0]);let Ne=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:ne&&this.isValidDate(ne)?ne:new Date;this.currentMonth=Ne.getMonth(),this.currentYear=Ne.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(Ne.getHours()),this.currentMinute=Ne.getMinutes(),this.currentSecond=Ne.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(ne){switch(ne.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=ne.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?R.P9.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):R.P9.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(ne));break;case"void":this.onOverlayHide(),this.onClose.emit(ne)}}onOverlayAnimationDone(ne){switch(ne.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&R.P9.clear(ne.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):y.p.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=y.p.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=y.p.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=y.p.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",y.p.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):y.p.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(ne){this.mask||this.touchUI||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(ne.style.zIndex)-1),y.p.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",me=>{this.disableModality()}),document.body.appendChild(this.mask),y.p.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(y.p.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){if(!this.mask)return;document.body.removeChild(this.mask);let Ne,ne=document.body.children;for(let me=0;me<ne.length;me++)if(y.p.hasClass(ne[me],"p-datepicker-mask-scrollblocker")){Ne=!0;break}Ne||y.p.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(ne){if(this.value=ne,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch(Ne){this.keepInvalid&&(this.value=ne)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(ne){this.onModelChange=ne}registerOnTouched(ne){this.onModelTouched=ne}setDisabledState(ne){this.disabled=ne,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(_.ws.FIRST_DAY_OF_WEEK)}formatDate(ne,Ne){if(!ne)return"";let me;const gt=et=>{const de=me+1<Ne.length&&Ne.charAt(me+1)===et;return de&&me++,de},un=(et,de,Je)=>{let ze=""+de;if(gt(et))for(;ze.length<Je;)ze="0"+ze;return ze},In=(et,de,Je,ze)=>gt(et)?ze[de]:Je[de];let en="",_t=!1;if(ne)for(me=0;me<Ne.length;me++)if(_t)"'"!==Ne.charAt(me)||gt("'")?en+=Ne.charAt(me):_t=!1;else switch(Ne.charAt(me)){case"d":en+=un("d",ne.getDate(),2);break;case"D":en+=In("D",ne.getDay(),this.getTranslation(_.ws.DAY_NAMES_SHORT),this.getTranslation(_.ws.DAY_NAMES));break;case"o":en+=un("o",Math.round((new Date(ne.getFullYear(),ne.getMonth(),ne.getDate()).getTime()-new Date(ne.getFullYear(),0,0).getTime())/864e5),3);break;case"m":en+=un("m",ne.getMonth()+1,2);break;case"M":en+=In("M",ne.getMonth(),this.getTranslation(_.ws.MONTH_NAMES_SHORT),this.getTranslation(_.ws.MONTH_NAMES));break;case"y":en+=gt("y")?ne.getFullYear():(ne.getFullYear()%100<10?"0":"")+ne.getFullYear()%100;break;case"@":en+=ne.getTime();break;case"!":en+=1e4*ne.getTime()+this.ticksTo1970;break;case"'":gt("'")?en+="'":_t=!0;break;default:en+=Ne.charAt(me)}return en}formatTime(ne){if(!ne)return"";let Ne="",me=ne.getHours(),gt=ne.getMinutes(),un=ne.getSeconds();return"12"==this.hourFormat&&me>11&&12!=me&&(me-=12),Ne+="12"==this.hourFormat&&0===me?12:me<10?"0"+me:me,Ne+=":",Ne+=gt<10?"0"+gt:gt,this.showSeconds&&(Ne+=":",Ne+=un<10?"0"+un:un),"12"==this.hourFormat&&(Ne+=ne.getHours()>11?" PM":" AM"),Ne}parseTime(ne){let Ne=ne.split(":");if(Ne.length!==(this.showSeconds?3:2))throw"Invalid time";let gt=parseInt(Ne[0]),un=parseInt(Ne[1]),In=this.showSeconds?parseInt(Ne[2]):null;if(isNaN(gt)||isNaN(un)||gt>23||un>59||"12"==this.hourFormat&&gt>12||this.showSeconds&&(isNaN(In)||In>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==gt&&this.pm?gt+=12:!this.pm&&12===gt&&(gt-=12)),{hour:gt,minute:un,second:In}}parseDate(ne,Ne){if(null==Ne||null==ne)throw"Invalid arguments";if(""===(ne="object"==typeof ne?ne.toString():ne+""))return null;let me,gt,un,wt,In=0,en="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),_t=-1,et=-1,de=-1,Je=-1,ze=!1,Fe=Dn=>{let Rt=me+1<Ne.length&&Ne.charAt(me+1)===Dn;return Rt&&me++,Rt},qt=Dn=>{let Rt=Fe(Dn),rn="@"===Dn?14:"!"===Dn?20:"y"===Dn&&Rt?4:"o"===Dn?3:2,Un=new RegExp("^\\d{"+("y"===Dn?rn:1)+","+rn+"}"),ri=ne.substring(In).match(Un);if(!ri)throw"Missing number at position "+In;return In+=ri[0].length,parseInt(ri[0],10)},fn=(Dn,Rt,rn)=>{let Fn=-1,Un=Fe(Dn)?rn:Rt,ri=[];for(let vi=0;vi<Un.length;vi++)ri.push([vi,Un[vi]]);ri.sort((vi,Ni)=>-(vi[1].length-Ni[1].length));for(let vi=0;vi<ri.length;vi++){let Ni=ri[vi][1];if(ne.substr(In,Ni.length).toLowerCase()===Ni.toLowerCase()){Fn=ri[vi][0],In+=Ni.length;break}}if(-1!==Fn)return Fn+1;throw"Unknown name at position "+In},Jt=()=>{if(ne.charAt(In)!==Ne.charAt(me))throw"Unexpected literal at position "+In;In++};for("month"===this.view&&(de=1),me=0;me<Ne.length;me++)if(ze)"'"!==Ne.charAt(me)||Fe("'")?Jt():ze=!1;else switch(Ne.charAt(me)){case"d":de=qt("d");break;case"D":fn("D",this.getTranslation(_.ws.DAY_NAMES_SHORT),this.getTranslation(_.ws.DAY_NAMES));break;case"o":Je=qt("o");break;case"m":et=qt("m");break;case"M":et=fn("M",this.getTranslation(_.ws.MONTH_NAMES_SHORT),this.getTranslation(_.ws.MONTH_NAMES));break;case"y":_t=qt("y");break;case"@":wt=new Date(qt("@")),_t=wt.getFullYear(),et=wt.getMonth()+1,de=wt.getDate();break;case"!":wt=new Date((qt("!")-this.ticksTo1970)/1e4),_t=wt.getFullYear(),et=wt.getMonth()+1,de=wt.getDate();break;case"'":Fe("'")?Jt():ze=!0;break;default:Jt()}if(In<ne.length&&(un=ne.substr(In),!/^\s+/.test(un)))throw"Extra/unparsed characters found in date: "+un;if(-1===_t?_t=(new Date).getFullYear():_t<100&&(_t+=(new Date).getFullYear()-(new Date).getFullYear()%100+(_t<=en?0:-100)),Je>-1)for(et=1,de=Je;gt=this.getDaysCountInMonth(_t,et-1),!(de<=gt);)et++,de-=gt;if("year"===this.view&&(et=-1===et?1:et,de=-1===de?1:de),wt=this.daylightSavingAdjust(new Date(_t,et-1,de)),wt.getFullYear()!==_t||wt.getMonth()+1!==et||wt.getDate()!==de)throw"Invalid date";return wt}daylightSavingAdjust(ne){return ne?(ne.setHours(ne.getHours()>12?ne.getHours()+2:0),ne):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(ne){let Ne=new Date,me={day:Ne.getDate(),month:Ne.getMonth(),year:Ne.getFullYear(),otherMonth:Ne.getMonth()!==this.currentMonth||Ne.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(ne,me),this.onTodayClick.emit(ne)}onClearButtonClick(ne){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(ne)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let ne="";if(this.responsiveOptions){let Ne=[...this.responsiveOptions].filter(me=>!(!me.breakpoint||!me.numMonths)).sort((me,gt)=>-1*me.breakpoint.localeCompare(gt.breakpoint,void 0,{numeric:!0}));for(let me=0;me<Ne.length;me++){let{breakpoint:gt,numMonths:un}=Ne[me],In=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${un}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let en=un;en<this.numberOfMonths;en++)In+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${en+1}) {\n                                display: none !important;\n                            }\n                        `;ne+=`\n                        @media screen and (max-width: ${gt}) {\n                            ${In}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=ne}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",Ne=>{this.isOutsideClicked(Ne)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(Ne),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new y.V(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(ne){return!(this.el.nativeElement.isSameNode(ne.target)||this.isNavIconClicked(ne)||this.el.nativeElement.contains(ne.target)||this.overlay&&this.overlay.contains(ne.target))}isNavIconClicked(ne){return y.p.hasClass(ne.target,"p-datepicker-prev")||y.p.hasClass(ne.target,"p-datepicker-prev-icon")||y.p.hasClass(ne.target,"p-datepicker-next")||y.p.hasClass(ne.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!y.p.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&R.P9.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return je.\u0275fac=function(ne){return new(ne||je)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.sBO),f.Y36(f.R0b),f.Y36(_.b4),f.Y36(_.F0))},je.\u0275cmp=f.Xpm({type:je,selectors:[["p-calendar"]],contentQueries:function(ne,Ne,me){if(1&ne&&f.Suo(me,_.jx,4),2&ne){let gt;f.iGM(gt=f.CRH())&&(Ne.templates=gt)}},viewQuery:function(ne,Ne){if(1&ne&&(f.Gf(L,5),f.Gf(J,5),f.Gf(N,5)),2&ne){let me;f.iGM(me=f.CRH())&&(Ne.containerViewChild=me.first),f.iGM(me=f.CRH())&&(Ne.inputfieldViewChild=me.first),f.iGM(me=f.CRH())&&(Ne.content=me.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(ne,Ne){2&ne&&f.ekj("p-inputwrapper-filled",Ne.filled)("p-inputwrapper-focus",Ne.focus)("p-calendar-clearable",Ne.showClear&&!Ne.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[f._Bn([Mt])],ngContentSelectors:Nt,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["class","p-calendar-clear-icon pi pi-times",3,"click",4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],[1,"p-calendar-clear-icon","pi","pi-times",3,"click"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(ne,Ne){1&ne&&(f.F$t(Ct),f.TgZ(0,"span",0,1),f.YNc(2,D,4,17,"ng-template",2),f.YNc(3,ot,9,28,"div",3),f.qZA()),2&ne&&(f.Tol(Ne.styleClass),f.Q6J("ngClass",f.l5B(6,Ot,Ne.showIcon,Ne.timeOnly,Ne.disabled,Ne.focus))("ngStyle",Ne.style),f.xp6(2),f.Q6J("ngIf",!Ne.inline),f.xp6(1),f.Q6J("ngIf",Ne.inline||Ne.overlayVisible))},dependencies:[a.mk,a.sg,a.O5,a.tP,a.PC,P.Hq,l.H],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,e.X$)("overlayAnimation",[(0,e.SB)("visibleTouchUI",(0,e.oB)({transform:"translate(-50%,-50%)",opacity:1})),(0,e.eR)("void => visible",[(0,e.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,e.jt)("{{showTransitionParams}}",(0,e.oB)({opacity:1,transform:"*"}))]),(0,e.eR)("visible => void",[(0,e.jt)("{{hideTransitionParams}}",(0,e.oB)({opacity:0}))]),(0,e.eR)("void => visibleTouchUI",[(0,e.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),(0,e.jt)("{{showTransitionParams}}")]),(0,e.eR)("visibleTouchUI => void",[(0,e.jt)("{{hideTransitionParams}}",(0,e.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),je})(),st=(()=>{class je{}return je.\u0275fac=function(ne){return new(ne||je)},je.\u0275mod=f.oAB({type:je}),je.\u0275inj=f.cJS({imports:[a.ez,P.hJ,_.m8,l.T,P.hJ,_.m8]}),je})()},7575:(mn,ht,b)=>{"use strict";b.d(ht,{S:()=>zl,C:()=>Tm});var e=b(5e3),a=b(9808);function f(m){return m+.5|0}const g=(m,u,h)=>Math.max(Math.min(m,h),u);function _(m){return g(f(2.55*m),0,255)}function y(m){return g(f(255*m),0,255)}function l(m){return g(f(m/2.55)/100,0,1)}function R(m){return g(f(100*m),0,100)}const L={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},J=[..."0123456789ABCDEF"],N=m=>J[15&m],w=m=>J[(240&m)>>4]+J[15&m],x=m=>(240&m)>>4==(15&m);const ce=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function te(m,u,h){const C=u*Math.min(h,1-h),I=(M,H=(M+m/30)%12)=>h-C*Math.max(Math.min(H-3,9-H,1),-1);return[I(0),I(8),I(4)]}function V(m,u,h){const C=(I,M=(I+m/60)%6)=>h-h*u*Math.max(Math.min(M,4-M,1),0);return[C(5),C(3),C(1)]}function k(m,u,h){const C=te(m,1,.5);let I;for(u+h>1&&(I=1/(u+h),u*=I,h*=I),I=0;I<3;I++)C[I]*=1-u-h,C[I]+=u;return C}function $(m){const h=m.r/255,C=m.g/255,I=m.b/255,M=Math.max(h,C,I),H=Math.min(h,C,I),ee=(M+H)/2;let ge,De,rt;return M!==H&&(rt=M-H,De=ee>.5?rt/(2-M-H):rt/(M+H),ge=function O(m,u,h,C,I){return m===I?(u-h)/C+(u<h?6:0):u===I?(h-m)/C+2:(m-u)/C+4}(h,C,I,rt,M),ge=60*ge+.5),[0|ge,De||0,ee]}function ue(m,u,h,C){return(Array.isArray(u)?m(u[0],u[1],u[2]):m(u,h,C)).map(y)}function q(m,u,h){return ue(te,m,u,h)}function he(m){return(m%360+360)%360}const z={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},oe={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Ae;const be=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,xe=m=>m<=.0031308?12.92*m:1.055*Math.pow(m,1/2.4)-.055,we=m=>m<=.04045?m/12.92:Math.pow((m+.055)/1.055,2.4);function dt(m,u,h){if(m){let C=$(m);C[u]=Math.max(0,Math.min(C[u]+C[u]*h,0===u?360:1)),C=q(C),m.r=C[0],m.g=C[1],m.b=C[2]}}function bt(m,u){return m&&Object.assign(u||{},m)}function it(m){var u={r:0,g:0,b:0,a:255};return Array.isArray(m)?m.length>=3&&(u={r:m[0],g:m[1],b:m[2],a:255},m.length>3&&(u.a=y(m[3]))):(u=bt(m,{r:0,g:0,b:0,a:1})).a=y(u.a),u}function Dt(m){return"r"===m.charAt(0)?function Qe(m){const u=be.exec(m);let C,I,M,h=255;if(u){if(u[7]!==C){const H=+u[7];h=u[8]?_(H):g(255*H,0,255)}return C=+u[1],I=+u[3],M=+u[5],C=255&(u[2]?_(C):g(C,0,255)),I=255&(u[4]?_(I):g(I,0,255)),M=255&(u[6]?_(M):g(M,0,255)),{r:C,g:I,b:M,a:h}}}(m):function j(m){const u=ce.exec(m);let C,h=255;if(!u)return;u[5]!==C&&(h=u[6]?_(+u[5]):y(+u[5]));const I=he(+u[2]),M=+u[3]/100,H=+u[4]/100;return C="hwb"===u[1]?function Y(m,u,h){return ue(k,m,u,h)}(I,M,H):"hsv"===u[1]?function G(m,u,h){return ue(V,m,u,h)}(I,M,H):q(I,M,H),{r:C[0],g:C[1],b:C[2],a:h}}(m)}class vt{constructor(u){if(u instanceof vt)return u;const h=typeof u;let C;"object"===h?C=it(u):"string"===h&&(C=function S(m){var h,u=m.length;return"#"===m[0]&&(4===u||5===u?h={r:255&17*L[m[1]],g:255&17*L[m[2]],b:255&17*L[m[3]],a:5===u?17*L[m[4]]:255}:(7===u||9===u)&&(h={r:L[m[1]]<<4|L[m[2]],g:L[m[3]]<<4|L[m[4]],b:L[m[5]]<<4|L[m[6]],a:9===u?L[m[7]]<<4|L[m[8]]:255})),h}(u)||function Ke(m){Ae||(Ae=function Te(){const m={},u=Object.keys(oe),h=Object.keys(z);let C,I,M,H,ee;for(C=0;C<u.length;C++){for(H=ee=u[C],I=0;I<h.length;I++)M=h[I],ee=ee.replace(M,z[M]);M=parseInt(oe[H],16),m[ee]=[M>>16&255,M>>8&255,255&M]}return m}(),Ae.transparent=[0,0,0,0]);const u=Ae[m.toLowerCase()];return u&&{r:u[0],g:u[1],b:u[2],a:4===u.length?u[3]:255}}(u)||Dt(u)),this._rgb=C,this._valid=!!C}get valid(){return this._valid}get rgb(){var u=bt(this._rgb);return u&&(u.a=l(u.a)),u}set rgb(u){this._rgb=it(u)}rgbString(){return this._valid?function X(m){return m&&(m.a<255?`rgba(${m.r}, ${m.g}, ${m.b}, ${l(m.a)})`:`rgb(${m.r}, ${m.g}, ${m.b})`)}(this._rgb):void 0}hexString(){return this._valid?function F(m){var u=(m=>x(m.r)&&x(m.g)&&x(m.b)&&x(m.a))(m)?N:w;return m?"#"+u(m.r)+u(m.g)+u(m.b)+((m,u)=>m<255?u(m):"")(m.a,u):void 0}(this._rgb):void 0}hslString(){return this._valid?function K(m){if(!m)return;const u=$(m),h=u[0],C=R(u[1]),I=R(u[2]);return m.a<255?`hsla(${h}, ${C}%, ${I}%, ${l(m.a)})`:`hsl(${h}, ${C}%, ${I}%)`}(this._rgb):void 0}mix(u,h){if(u){const C=this.rgb,I=u.rgb;let M;const H=h===M?.5:h,ee=2*H-1,ge=C.a-I.a,De=((ee*ge==-1?ee:(ee+ge)/(1+ee*ge))+1)/2;M=1-De,C.r=255&De*C.r+M*I.r+.5,C.g=255&De*C.g+M*I.g+.5,C.b=255&De*C.b+M*I.b+.5,C.a=H*C.a+(1-H)*I.a,this.rgb=C}return this}interpolate(u,h){return u&&(this._rgb=function Oe(m,u,h){const C=we(l(m.r)),I=we(l(m.g)),M=we(l(m.b));return{r:y(xe(C+h*(we(l(u.r))-C))),g:y(xe(I+h*(we(l(u.g))-I))),b:y(xe(M+h*(we(l(u.b))-M))),a:m.a+h*(u.a-m.a)}}(this._rgb,u._rgb,h)),this}clone(){return new vt(this.rgb)}alpha(u){return this._rgb.a=y(u),this}clearer(u){return this._rgb.a*=1-u,this}greyscale(){const u=this._rgb,h=f(.3*u.r+.59*u.g+.11*u.b);return u.r=u.g=u.b=h,this}opaquer(u){return this._rgb.a*=1+u,this}negate(){const u=this._rgb;return u.r=255-u.r,u.g=255-u.g,u.b=255-u.b,this}lighten(u){return dt(this._rgb,2,u),this}darken(u){return dt(this._rgb,2,-u),this}saturate(u){return dt(this._rgb,1,u),this}desaturate(u){return dt(this._rgb,1,-u),this}rotate(u){return function Q(m,u){var h=$(m);h[0]=he(h[0]+u),h=q(h),m.r=h[0],m.g=h[1],m.b=h[2]}(this._rgb,u),this}}function Ht(){}const Ut=(()=>{let m=0;return()=>m++})();function ct(m){return null==m}function at(m){if(Array.isArray&&Array.isArray(m))return!0;const u=Object.prototype.toString.call(m);return"[object"===u.slice(0,7)&&"Array]"===u.slice(-6)}function fe(m){return null!==m&&"[object Object]"===Object.prototype.toString.call(m)}function ke(m){return("number"==typeof m||m instanceof Number)&&isFinite(+m)}function ot(m,u){return ke(m)?m:u}function Ct(m,u){return void 0===m?u:m}const Nt=(m,u)=>"string"==typeof m&&m.endsWith("%")?parseFloat(m)/100*u:+m;function Mt(m,u,h){if(m&&"function"==typeof m.call)return m.apply(h,u)}function Ye(m,u,h,C){let I,M,H;if(at(m))if(M=m.length,C)for(I=M-1;I>=0;I--)u.call(h,m[I],I);else for(I=0;I<M;I++)u.call(h,m[I],I);else if(fe(m))for(H=Object.keys(m),M=H.length,I=0;I<M;I++)u.call(h,m[H[I]],H[I])}function st(m,u){let h,C,I,M;if(!m||!u||m.length!==u.length)return!1;for(h=0,C=m.length;h<C;++h)if(I=m[h],M=u[h],I.datasetIndex!==M.datasetIndex||I.index!==M.index)return!1;return!0}function je(m){if(at(m))return m.map(je);if(fe(m)){const u=Object.create(null),h=Object.keys(m),C=h.length;let I=0;for(;I<C;++I)u[h[I]]=je(m[h[I]]);return u}return m}function It(m){return-1===["__proto__","prototype","constructor"].indexOf(m)}function ne(m,u,h,C){if(!It(m))return;const I=u[m],M=h[m];fe(I)&&fe(M)?Ne(I,M,C):u[m]=je(M)}function Ne(m,u,h){const C=at(u)?u:[u],I=C.length;if(!fe(m))return m;const M=(h=h||{}).merger||ne;let H;for(let ee=0;ee<I;++ee){if(H=C[ee],!fe(H))continue;const ge=Object.keys(H);for(let De=0,rt=ge.length;De<rt;++De)M(ge[De],m,H,h)}return m}function me(m,u){return Ne(m,u,{merger:gt})}function gt(m,u,h){if(!It(m))return;const C=u[m],I=h[m];fe(C)&&fe(I)?me(C,I):Object.prototype.hasOwnProperty.call(u,m)||(u[m]=je(I))}const In={"":m=>m,x:m=>m.x,y:m=>m.y};function et(m,u){return(In[u]||(In[u]=function _t(m){const u=function en(m){const u=m.split("."),h=[];let C="";for(const I of u)C+=I,C.endsWith("\\")?C=C.slice(0,-1)+".":(h.push(C),C="");return h}(m);return h=>{for(const C of u){if(""===C)break;h=h&&h[C]}return h}}(u)))(m)}function de(m){return m.charAt(0).toUpperCase()+m.slice(1)}const Je=m=>void 0!==m,ze=m=>"function"==typeof m,wt=(m,u)=>{if(m.size!==u.size)return!1;for(const h of m)if(!u.has(h))return!1;return!0},qt=Math.PI,fn=2*qt,Jt=fn+qt,Dn=Number.POSITIVE_INFINITY,Rt=qt/180,rn=qt/2,Fn=qt/4,Un=2*qt/3,ri=Math.log10,vi=Math.sign;function Ni(m,u,h){return Math.abs(m-u)<h}function oo(m){const u=Math.round(m);m=Ni(m,u,m/1e3)?u:m;const h=Math.pow(10,Math.floor(ri(m))),C=m/h;return(C<=1?1:C<=2?2:C<=5?5:10)*h}function Bt(m){return!isNaN(parseFloat(m))&&isFinite(m)}function ye(m,u,h){let C,I,M;for(C=0,I=m.length;C<I;C++)M=m[C][h],isNaN(M)||(u.min=Math.min(u.min,M),u.max=Math.max(u.max,M))}function Ue(m){return m*(qt/180)}function ut(m){return m*(180/qt)}function gn(m){if(!ke(m))return;let u=1,h=0;for(;Math.round(m*u)/u!==m;)u*=10,h++;return h}function Zt(m,u){const h=u.x-m.x,C=u.y-m.y,I=Math.sqrt(h*h+C*C);let M=Math.atan2(C,h);return M<-.5*qt&&(M+=fn),{angle:M,distance:I}}function an(m,u){return Math.sqrt(Math.pow(u.x-m.x,2)+Math.pow(u.y-m.y,2))}function pn(m,u){return(m-u+Jt)%fn-qt}function zn(m){return(m%fn+fn)%fn}function qn(m,u,h,C){const I=zn(m),M=zn(u),H=zn(h),ee=zn(M-I),ge=zn(H-I),De=zn(I-M),rt=zn(I-H);return I===M||I===H||C&&M===H||ee>ge&&De<rt}function ai(m,u,h){return Math.max(u,Math.min(h,m))}function oi(m,u,h,C=1e-6){return m>=Math.min(u,h)-C&&m<=Math.max(u,h)+C}function ki(m,u,h){h=h||(H=>m[H]<u);let M,C=m.length-1,I=0;for(;C-I>1;)M=I+C>>1,h(M)?I=M:C=M;return{lo:I,hi:C}}const $i=(m,u,h,C)=>ki(m,h,C?I=>{const M=m[I][u];return M<h||M===h&&m[I+1][u]===h}:I=>m[I][u]<h),Do=(m,u,h)=>ki(m,h,C=>m[C][u]>=h),vo=["push","pop","shift","splice","unshift"];function Go(m,u){const h=m._chartjs;if(!h)return;const C=h.listeners,I=C.indexOf(u);-1!==I&&C.splice(I,1),!(C.length>0)&&(vo.forEach(M=>{delete m[M]}),delete m._chartjs)}function Ao(m){const u=new Set(m);return u.size===m.length?m:Array.from(u)}const Xo="undefined"==typeof window?function(m){return m()}:window.requestAnimationFrame;function as(m,u){let h=[],C=!1;return function(...I){h=I,C||(C=!0,Xo.call(window,()=>{C=!1,m.apply(u,h)}))}}const ho=m=>"start"===m?"left":"end"===m?"right":"center",so=(m,u,h)=>"start"===m?u:"end"===m?h:(u+h)/2;function Mo(m,u,h){const C=u.length;let I=0,M=C;if(m._sorted){const{iScale:H,_parsed:ee}=m,ge=H.axis,{min:De,max:rt,minDefined:Tt,maxDefined:Ft}=H.getUserBounds();Tt&&(I=ai(Math.min($i(ee,ge,De).lo,h?C:$i(u,ge,H.getPixelForValue(De)).lo),0,C-1)),M=Ft?ai(Math.max($i(ee,H.axis,rt,!0).hi+1,h?0:$i(u,ge,H.getPixelForValue(rt),!0).hi+1),I,C)-I:C-I}return{start:I,count:M}}function es(m){const{xScale:u,yScale:h,_scaleRanges:C}=m,I={xmin:u.min,xmax:u.max,ymin:h.min,ymax:h.max};if(!C)return m._scaleRanges=I,!0;const M=C.xmin!==u.min||C.xmax!==u.max||C.ymin!==h.min||C.ymax!==h.max;return Object.assign(C,I),M}const bo=m=>0===m||1===m,qo=(m,u,h)=>-Math.pow(2,10*(m-=1))*Math.sin((m-u)*fn/h),Ls=(m,u,h)=>Math.pow(2,-10*m)*Math.sin((m-u)*fn/h)+1,Is={linear:m=>m,easeInQuad:m=>m*m,easeOutQuad:m=>-m*(m-2),easeInOutQuad:m=>(m/=.5)<1?.5*m*m:-.5*(--m*(m-2)-1),easeInCubic:m=>m*m*m,easeOutCubic:m=>(m-=1)*m*m+1,easeInOutCubic:m=>(m/=.5)<1?.5*m*m*m:.5*((m-=2)*m*m+2),easeInQuart:m=>m*m*m*m,easeOutQuart:m=>-((m-=1)*m*m*m-1),easeInOutQuart:m=>(m/=.5)<1?.5*m*m*m*m:-.5*((m-=2)*m*m*m-2),easeInQuint:m=>m*m*m*m*m,easeOutQuint:m=>(m-=1)*m*m*m*m+1,easeInOutQuint:m=>(m/=.5)<1?.5*m*m*m*m*m:.5*((m-=2)*m*m*m*m+2),easeInSine:m=>1-Math.cos(m*rn),easeOutSine:m=>Math.sin(m*rn),easeInOutSine:m=>-.5*(Math.cos(qt*m)-1),easeInExpo:m=>0===m?0:Math.pow(2,10*(m-1)),easeOutExpo:m=>1===m?1:1-Math.pow(2,-10*m),easeInOutExpo:m=>bo(m)?m:m<.5?.5*Math.pow(2,10*(2*m-1)):.5*(2-Math.pow(2,-10*(2*m-1))),easeInCirc:m=>m>=1?m:-(Math.sqrt(1-m*m)-1),easeOutCirc:m=>Math.sqrt(1-(m-=1)*m),easeInOutCirc:m=>(m/=.5)<1?-.5*(Math.sqrt(1-m*m)-1):.5*(Math.sqrt(1-(m-=2)*m)+1),easeInElastic:m=>bo(m)?m:qo(m,.075,.3),easeOutElastic:m=>bo(m)?m:Ls(m,.075,.3),easeInOutElastic:m=>bo(m)?m:m<.5?.5*qo(2*m,.1125,.45):.5+.5*Ls(2*m-1,.1125,.45),easeInBack:m=>m*m*(2.70158*m-1.70158),easeOutBack:m=>(m-=1)*m*(2.70158*m+1.70158)+1,easeInOutBack(m){let u=1.70158;return(m/=.5)<1?m*m*((1+(u*=1.525))*m-u)*.5:.5*((m-=2)*m*((1+(u*=1.525))*m+u)+2)},easeInBounce:m=>1-Is.easeOutBounce(1-m),easeOutBounce:m=>m<1/2.75?7.5625*m*m:m<2/2.75?7.5625*(m-=1.5/2.75)*m+.75:m<2.5/2.75?7.5625*(m-=2.25/2.75)*m+.9375:7.5625*(m-=2.625/2.75)*m+.984375,easeInOutBounce:m=>m<.5?.5*Is.easeInBounce(2*m):.5*Is.easeOutBounce(2*m-1)+.5};function Rs(m){if(m&&"object"==typeof m){const u=m.toString();return"[object CanvasPattern]"===u||"[object CanvasGradient]"===u}return!1}function hs(m){return Rs(m)?m:new vt(m)}function Er(m){return Rs(m)?m:new vt(m).saturate(.5).darken(.1).hexString()}const ga=["x","y","borderWidth","radius","tension"],Cr=["color","borderColor","backgroundColor"],gs=new Map;function Ns(m,u,h){return function la(m,u){u=u||{};const h=m+JSON.stringify(u);let C=gs.get(h);return C||(C=new Intl.NumberFormat(m,u),gs.set(h,C)),C}(u,h).format(m)}const ea={values:m=>at(m)?m:""+m,numeric(m,u,h){if(0===m)return"0";const C=this.chart.options.locale;let I,M=m;if(h.length>1){const De=Math.max(Math.abs(h[0].value),Math.abs(h[h.length-1].value));(De<1e-4||De>1e15)&&(I="scientific"),M=function $s(m,u){let h=u.length>3?u[2].value-u[1].value:u[1].value-u[0].value;return Math.abs(h)>=1&&m!==Math.floor(m)&&(h=m-Math.floor(m)),h}(m,h)}const H=ri(Math.abs(M)),ee=isNaN(H)?1:Math.max(Math.min(-1*Math.floor(H),20),0),ge={notation:I,minimumFractionDigits:ee,maximumFractionDigits:ee};return Object.assign(ge,this.options.ticks.format),Ns(m,C,ge)},logarithmic(m,u,h){if(0===m)return"0";const C=h[u].significand||m/Math.pow(10,Math.floor(ri(m)));return[1,2,3,5,10,15].includes(C)||u>.8*h.length?ea.numeric.call(this,m,u,h):""}};var qi={formatters:ea};const Ii=Object.create(null),Ws=Object.create(null);function vr(m,u){if(!u)return m;const h=u.split(".");for(let C=0,I=h.length;C<I;++C){const M=h[C];m=m[M]||(m[M]=Object.create(null))}return m}function ss(m,u,h){return"string"==typeof u?Ne(vr(m,u),h):Ne(vr(m,""),u)}class kr{constructor(u,h){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=C=>C.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(C,I)=>Er(I.backgroundColor),this.hoverBorderColor=(C,I)=>Er(I.borderColor),this.hoverColor=(C,I)=>Er(I.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(u),this.apply(h)}set(u,h){return ss(this,u,h)}get(u){return vr(this,u)}describe(u,h){return ss(Ws,u,h)}override(u,h){return ss(Ii,u,h)}route(u,h,C,I){const M=vr(this,u),H=vr(this,C),ee="_"+h;Object.defineProperties(M,{[ee]:{value:M[h],writable:!0},[h]:{enumerable:!0,get(){const ge=this[ee],De=H[I];return fe(ge)?Object.assign({},De,ge):Ct(ge,De)},set(ge){this[ee]=ge}}})}apply(u){u.forEach(h=>h(this))}}var Bi=new kr({_scriptable:m=>!m.startsWith("on"),_indexable:m=>"events"!==m,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Sr(m){m.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),m.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:u=>"onProgress"!==u&&"onComplete"!==u&&"fn"!==u}),m.set("animations",{colors:{type:"color",properties:Cr},numbers:{type:"number",properties:ga}}),m.describe("animations",{_fallback:"animation"}),m.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:u=>0|u}}}})},function Ea(m){m.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function hi(m){m.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(u,h)=>h.lineWidth,tickColor:(u,h)=>h.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:qi.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),m.route("scale.ticks","color","","color"),m.route("scale.grid","color","","borderColor"),m.route("scale.border","color","","borderColor"),m.route("scale.title","color","","color"),m.describe("scale",{_fallback:!1,_scriptable:u=>!u.startsWith("before")&&!u.startsWith("after")&&"callback"!==u&&"parser"!==u,_indexable:u=>"borderDash"!==u&&"tickBorderDash"!==u&&"dash"!==u}),m.describe("scales",{_fallback:"scale"}),m.describe("scale.ticks",{_scriptable:u=>"backdropPadding"!==u&&"callback"!==u,_indexable:u=>"backdropPadding"!==u})}]);function Ts(m,u,h,C,I){let M=u[I];return M||(M=u[I]=m.measureText(I).width,h.push(I)),M>C&&(C=M),C}function Fs(m,u,h,C){let I=(C=C||{}).data=C.data||{},M=C.garbageCollect=C.garbageCollect||[];C.font!==u&&(I=C.data={},M=C.garbageCollect=[],C.font=u),m.save(),m.font=u;let H=0;const ee=h.length;let ge,De,rt,Tt,Ft;for(ge=0;ge<ee;ge++)if(Tt=h[ge],null==Tt||at(Tt)){if(at(Tt))for(De=0,rt=Tt.length;De<rt;De++)Ft=Tt[De],null!=Ft&&!at(Ft)&&(H=Ts(m,I,M,H,Ft))}else H=Ts(m,I,M,H,Tt);m.restore();const tn=M.length/2;if(tn>h.length){for(ge=0;ge<tn;ge++)delete I[M[ge]];M.splice(0,tn)}return H}function Xs(m,u,h){const C=m.currentDevicePixelRatio,I=0!==h?Math.max(h/2,.5):0;return Math.round((u-I)*C)/C+I}function Bs(m,u){(u=u||m.getContext("2d")).save(),u.resetTransform(),u.clearRect(0,0,m.width,m.height),u.restore()}function fo(m,u,h,C){As(m,u,h,C,null)}function As(m,u,h,C,I){let M,H,ee,ge,De,rt,Tt,Ft;const tn=u.pointStyle,Cn=u.rotation,yn=u.radius;let xn=(Cn||0)*Rt;if(tn&&"object"==typeof tn&&(M=tn.toString(),"[object HTMLImageElement]"===M||"[object HTMLCanvasElement]"===M))return m.save(),m.translate(h,C),m.rotate(xn),m.drawImage(tn,-tn.width/2,-tn.height/2,tn.width,tn.height),void m.restore();if(!(isNaN(yn)||yn<=0)){switch(m.beginPath(),tn){default:I?m.ellipse(h,C,I/2,yn,0,0,fn):m.arc(h,C,yn,0,fn),m.closePath();break;case"triangle":rt=I?I/2:yn,m.moveTo(h+Math.sin(xn)*rt,C-Math.cos(xn)*yn),xn+=Un,m.lineTo(h+Math.sin(xn)*rt,C-Math.cos(xn)*yn),xn+=Un,m.lineTo(h+Math.sin(xn)*rt,C-Math.cos(xn)*yn),m.closePath();break;case"rectRounded":De=.516*yn,ge=yn-De,H=Math.cos(xn+Fn)*ge,Tt=Math.cos(xn+Fn)*(I?I/2-De:ge),ee=Math.sin(xn+Fn)*ge,Ft=Math.sin(xn+Fn)*(I?I/2-De:ge),m.arc(h-Tt,C-ee,De,xn-qt,xn-rn),m.arc(h+Ft,C-H,De,xn-rn,xn),m.arc(h+Tt,C+ee,De,xn,xn+rn),m.arc(h-Ft,C+H,De,xn+rn,xn+qt),m.closePath();break;case"rect":if(!Cn){ge=Math.SQRT1_2*yn,rt=I?I/2:ge,m.rect(h-rt,C-ge,2*rt,2*ge);break}xn+=Fn;case"rectRot":Tt=Math.cos(xn)*(I?I/2:yn),H=Math.cos(xn)*yn,ee=Math.sin(xn)*yn,Ft=Math.sin(xn)*(I?I/2:yn),m.moveTo(h-Tt,C-ee),m.lineTo(h+Ft,C-H),m.lineTo(h+Tt,C+ee),m.lineTo(h-Ft,C+H),m.closePath();break;case"crossRot":xn+=Fn;case"cross":Tt=Math.cos(xn)*(I?I/2:yn),H=Math.cos(xn)*yn,ee=Math.sin(xn)*yn,Ft=Math.sin(xn)*(I?I/2:yn),m.moveTo(h-Tt,C-ee),m.lineTo(h+Tt,C+ee),m.moveTo(h+Ft,C-H),m.lineTo(h-Ft,C+H);break;case"star":Tt=Math.cos(xn)*(I?I/2:yn),H=Math.cos(xn)*yn,ee=Math.sin(xn)*yn,Ft=Math.sin(xn)*(I?I/2:yn),m.moveTo(h-Tt,C-ee),m.lineTo(h+Tt,C+ee),m.moveTo(h+Ft,C-H),m.lineTo(h-Ft,C+H),xn+=Fn,Tt=Math.cos(xn)*(I?I/2:yn),H=Math.cos(xn)*yn,ee=Math.sin(xn)*yn,Ft=Math.sin(xn)*(I?I/2:yn),m.moveTo(h-Tt,C-ee),m.lineTo(h+Tt,C+ee),m.moveTo(h+Ft,C-H),m.lineTo(h-Ft,C+H);break;case"line":H=I?I/2:Math.cos(xn)*yn,ee=Math.sin(xn)*yn,m.moveTo(h-H,C-ee),m.lineTo(h+H,C+ee);break;case"dash":m.moveTo(h,C),m.lineTo(h+Math.cos(xn)*(I?I/2:yn),C+Math.sin(xn)*yn);break;case!1:m.closePath()}m.fill(),u.borderWidth>0&&m.stroke()}}function ls(m,u,h){return h=h||.5,!u||m&&m.x>u.left-h&&m.x<u.right+h&&m.y>u.top-h&&m.y<u.bottom+h}function Cs(m,u){m.save(),m.beginPath(),m.rect(u.left,u.top,u.right-u.left,u.bottom-u.top),m.clip()}function ms(m){m.restore()}function ws(m,u,h,C,I){if(!u)return m.lineTo(h.x,h.y);if("middle"===I){const M=(u.x+h.x)/2;m.lineTo(M,u.y),m.lineTo(M,h.y)}else"after"===I!=!!C?m.lineTo(u.x,h.y):m.lineTo(h.x,u.y);m.lineTo(h.x,h.y)}function br(m,u,h,C){if(!u)return m.lineTo(h.x,h.y);m.bezierCurveTo(C?u.cp1x:u.cp2x,C?u.cp1y:u.cp2y,C?h.cp2x:h.cp1x,C?h.cp2y:h.cp1y,h.x,h.y)}function Mr(m,u,h,C,I){if(I.strikethrough||I.underline){const M=m.measureText(C),H=u-M.actualBoundingBoxLeft,ee=u+M.actualBoundingBoxRight,ge=h-M.actualBoundingBoxAscent,De=h+M.actualBoundingBoxDescent,rt=I.strikethrough?(ge+De)/2:De;m.strokeStyle=m.fillStyle,m.beginPath(),m.lineWidth=I.decorationWidth||2,m.moveTo(H,rt),m.lineTo(ee,rt),m.stroke()}}function ir(m,u){const h=m.fillStyle;m.fillStyle=u.color,m.fillRect(u.left,u.top,u.width,u.height),m.fillStyle=h}function vs(m,u,h,C,I,M={}){const H=at(u)?u:[u],ee=M.strokeWidth>0&&""!==M.strokeColor;let ge,De;for(m.save(),m.font=I.string,function Dr(m,u){u.translation&&m.translate(u.translation[0],u.translation[1]),ct(u.rotation)||m.rotate(u.rotation),u.color&&(m.fillStyle=u.color),u.textAlign&&(m.textAlign=u.textAlign),u.textBaseline&&(m.textBaseline=u.textBaseline)}(m,M),ge=0;ge<H.length;++ge)De=H[ge],M.backdrop&&ir(m,M.backdrop),ee&&(M.strokeColor&&(m.strokeStyle=M.strokeColor),ct(M.strokeWidth)||(m.lineWidth=M.strokeWidth),m.strokeText(De,h,C,M.maxWidth)),m.fillText(De,h,C,M.maxWidth),Mr(m,h,C,De,M),C+=Number(I.lineHeight);m.restore()}function ts(m,u){const{x:h,y:C,w:I,h:M,radius:H}=u;m.arc(h+H.topLeft,C+H.topLeft,H.topLeft,-rn,qt,!0),m.lineTo(h,C+M-H.bottomLeft),m.arc(h+H.bottomLeft,C+M-H.bottomLeft,H.bottomLeft,qt,rn,!0),m.lineTo(h+I-H.bottomRight,C+M),m.arc(h+I-H.bottomRight,C+M-H.bottomRight,H.bottomRight,rn,0,!0),m.lineTo(h+I,C+H.topRight),m.arc(h+I-H.topRight,C+H.topRight,H.topRight,0,-rn,!0),m.lineTo(h+H.topLeft,C)}const yr=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,St=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function hn(m,u){const h=(""+m).match(yr);if(!h||"normal"===h[1])return 1.2*u;switch(m=+h[2],h[3]){case"px":return m;case"%":m/=100}return u*m}const se=m=>+m||0;function Ge(m,u){const h={},C=fe(u),I=C?Object.keys(u):u,M=fe(m)?C?H=>Ct(m[H],m[u[H]]):H=>m[H]:()=>m;for(const H of I)h[H]=se(M(H));return h}function xt(m){return Ge(m,{top:"y",right:"x",bottom:"y",left:"x"})}function zt(m){return Ge(m,["topLeft","topRight","bottomLeft","bottomRight"])}function Nn(m){const u=xt(m);return u.width=u.left+u.right,u.height=u.top+u.bottom,u}function Wn(m,u){let h=Ct((m=m||{}).size,(u=u||Bi.font).size);"string"==typeof h&&(h=parseInt(h,10));let C=Ct(m.style,u.style);C&&!(""+C).match(St)&&(console.warn('Invalid font style specified: "'+C+'"'),C=void 0);const I={family:Ct(m.family,u.family),lineHeight:hn(Ct(m.lineHeight,u.lineHeight),h),size:h,style:C,weight:Ct(m.weight,u.weight),string:""};return I.string=function Ys(m){return!m||ct(m.size)||ct(m.family)?null:(m.style?m.style+" ":"")+(m.weight?m.weight+" ":"")+m.size+"px "+m.family}(I),I}function si(m,u,h,C){let M,H,ee,I=!0;for(M=0,H=m.length;M<H;++M)if(ee=m[M],void 0!==ee&&(void 0!==u&&"function"==typeof ee&&(ee=ee(u),I=!1),void 0!==h&&at(ee)&&(ee=ee[h%ee.length],I=!1),void 0!==ee))return C&&!I&&(C.cacheable=!1),ee}function Zi(m,u){return Object.assign(Object.create(m),u)}function go(m,u=[""],h,C,I=(()=>m[0])){const M=h||m;void 0===C&&(C=ma("_fallback",m));const H={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:m,_rootScopes:M,_fallback:C,_getTarget:I,override:ee=>go([ee,...m],u,M,C)};return new Proxy(H,{deleteProperty:(ee,ge)=>(delete ee[ge],delete ee._keys,delete m[0][ge],!0),get:(ee,ge)=>Io(ee,ge,()=>function sr(m,u,h,C){let I;for(const M of u)if(I=ma(Fo(M,m),h),void 0!==I)return Qr(m,I)?Ho(h,C,m,I):I}(ge,u,m,ee)),getOwnPropertyDescriptor:(ee,ge)=>Reflect.getOwnPropertyDescriptor(ee._scopes[0],ge),getPrototypeOf:()=>Reflect.getPrototypeOf(m[0]),has:(ee,ge)=>Qn(ee).includes(ge),ownKeys:ee=>Qn(ee),set(ee,ge,De){const rt=ee._storage||(ee._storage=I());return ee[ge]=rt[ge]=De,delete ee._keys,!0}})}function Li(m,u,h,C){const I={_cacheable:!1,_proxy:m,_context:u,_subProxy:h,_stack:new Set,_descriptors:Jr(m,C),setContext:M=>Li(m,M,h,C),override:M=>Li(m.override(M),u,h,C)};return new Proxy(I,{deleteProperty:(M,H)=>(delete M[H],delete m[H],!0),get:(M,H,ee)=>Io(M,H,()=>function So(m,u,h){const{_proxy:C,_context:I,_subProxy:M,_descriptors:H}=m;let ee=C[u];return ze(ee)&&H.isScriptable(u)&&(ee=function Es(m,u,h,C){const{_proxy:I,_context:M,_subProxy:H,_stack:ee}=h;if(ee.has(m))throw new Error("Recursion detected: "+Array.from(ee).join("->")+"->"+m);ee.add(m);let ge=u(M,H||C);return ee.delete(m),Qr(m,ge)&&(ge=Ho(I._scopes,I,m,ge)),ge}(u,ee,m,h)),at(ee)&&ee.length&&(ee=function Di(m,u,h,C){const{_proxy:I,_context:M,_subProxy:H,_descriptors:ee}=h;if(void 0!==M.index&&C(m))return u[M.index%u.length];if(fe(u[0])){const ge=u,De=I._scopes.filter(rt=>rt!==ge);u=[];for(const rt of ge){const Tt=Ho(De,I,m,rt);u.push(Li(Tt,M,H&&H[m],ee))}}return u}(u,ee,m,H.isIndexable)),Qr(u,ee)&&(ee=Li(ee,I,M&&M[u],H)),ee}(M,H,ee)),getOwnPropertyDescriptor:(M,H)=>M._descriptors.allKeys?Reflect.has(m,H)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(m,H),getPrototypeOf:()=>Reflect.getPrototypeOf(m),has:(M,H)=>Reflect.has(m,H),ownKeys:()=>Reflect.ownKeys(m),set:(M,H,ee)=>(m[H]=ee,delete M[H],!0)})}function Jr(m,u={scriptable:!0,indexable:!0}){const{_scriptable:h=u.scriptable,_indexable:C=u.indexable,_allKeys:I=u.allKeys}=m;return{allKeys:I,scriptable:h,indexable:C,isScriptable:ze(h)?h:()=>h,isIndexable:ze(C)?C:()=>C}}const Fo=(m,u)=>m?m+de(u):u,Qr=(m,u)=>fe(u)&&"adapters"!==m&&(null===Object.getPrototypeOf(u)||u.constructor===Object);function Io(m,u,h){if(Object.prototype.hasOwnProperty.call(m,u))return m[u];const C=h();return m[u]=C,C}function $o(m,u,h){return ze(m)?m(u,h):m}const Wo=(m,u)=>!0===m?u:"string"==typeof m?et(u,m):void 0;function or(m,u,h,C,I){for(const M of u){const H=Wo(h,M);if(H){m.add(H);const ee=$o(H._fallback,h,I);if(void 0!==ee&&ee!==h&&ee!==C)return ee}else if(!1===H&&void 0!==C&&h!==C)return null}return!1}function Ho(m,u,h,C){const I=u._rootScopes,M=$o(u._fallback,h,C),H=[...m,...I],ee=new Set;ee.add(C);let ge=wo(ee,H,h,M||h,C);return null!==ge&&(void 0===M||M===h||(ge=wo(ee,H,M,ge,C),null!==ge))&&go(Array.from(ee),[""],I,M,()=>function Ri(m,u,h){const C=m._getTarget();u in C||(C[u]={});const I=C[u];return at(I)&&fe(h)?h:I||{}}(u,h,C))}function wo(m,u,h,C,I){for(;h;)h=or(m,u,h,C,I);return h}function ma(m,u){for(const h of u){if(!h)continue;const C=h[m];if(void 0!==C)return C}}function Qn(m){let u=m._keys;return u||(u=m._keys=function Mi(m){const u=new Set;for(const h of m)for(const C of Object.keys(h).filter(I=>!I.startsWith("_")))u.add(C);return Array.from(u)}(m._scopes)),u}function rr(m,u,h,C){const{iScale:I}=m,{key:M="r"}=this._parsing,H=new Array(C);let ee,ge,De,rt;for(ee=0,ge=C;ee<ge;++ee)De=ee+h,rt=u[De],H[ee]={r:I.parse(et(rt,M),De)};return H}const Gr=Number.EPSILON||1e-14,eo=(m,u)=>u<m.length&&!m[u].skip&&m[u],ta=m=>"x"===m?"y":"x";function ar(m,u,h,C){const I=m.skip?u:m,M=u,H=h.skip?u:h,ee=an(M,I),ge=an(H,M);let De=ee/(ee+ge),rt=ge/(ee+ge);De=isNaN(De)?0:De,rt=isNaN(rt)?0:rt;const Tt=C*De,Ft=C*rt;return{previous:{x:M.x-Tt*(H.x-I.x),y:M.y-Tt*(H.y-I.y)},next:{x:M.x+Ft*(H.x-I.x),y:M.y+Ft*(H.y-I.y)}}}function Zs(m,u,h){return Math.max(Math.min(m,h),u)}function nt(m,u,h,C,I){let M,H,ee,ge;if(u.spanGaps&&(m=m.filter(De=>!De.skip)),"monotone"===u.cubicInterpolationMode)!function fs(m,u="x"){const h=ta(u),C=m.length,I=Array(C).fill(0),M=Array(C);let H,ee,ge,De=eo(m,0);for(H=0;H<C;++H)if(ee=ge,ge=De,De=eo(m,H+1),ge){if(De){const rt=De[u]-ge[u];I[H]=0!==rt?(De[h]-ge[h])/rt:0}M[H]=ee?De?vi(I[H-1])!==vi(I[H])?0:(I[H-1]+I[H])/2:I[H-1]:I[H]}(function Ss(m,u,h){const C=m.length;let I,M,H,ee,ge,De=eo(m,0);for(let rt=0;rt<C-1;++rt)if(ge=De,De=eo(m,rt+1),ge&&De){if(Ni(u[rt],0,Gr)){h[rt]=h[rt+1]=0;continue}I=h[rt]/u[rt],M=h[rt+1]/u[rt],ee=Math.pow(I,2)+Math.pow(M,2),!(ee<=9)&&(H=3/Math.sqrt(ee),h[rt]=I*H*u[rt],h[rt+1]=M*H*u[rt])}})(m,I,M),function ca(m,u,h="x"){const C=ta(h),I=m.length;let M,H,ee,ge=eo(m,0);for(let De=0;De<I;++De){if(H=ee,ee=ge,ge=eo(m,De+1),!ee)continue;const rt=ee[h],Tt=ee[C];H&&(M=(rt-H[h])/3,ee[`cp1${h}`]=rt-M,ee[`cp1${C}`]=Tt-M*u[De]),ge&&(M=(ge[h]-rt)/3,ee[`cp2${h}`]=rt+M,ee[`cp2${C}`]=Tt+M*u[De])}}(m,M,u)}(m,I);else{let De=C?m[m.length-1]:m[0];for(M=0,H=m.length;M<H;++M)ee=m[M],ge=ar(De,ee,m[Math.min(M+1,H-(C?0:1))%H],u.tension),ee.cp1x=ge.previous.x,ee.cp1y=ge.previous.y,ee.cp2x=ge.next.x,ee.cp2y=ge.next.y,De=ee}u.capBezierPoints&&function Wr(m,u){let h,C,I,M,H,ee=ls(m[0],u);for(h=0,C=m.length;h<C;++h)H=M,M=ee,ee=h<C-1&&ls(m[h+1],u),M&&(I=m[h],H&&(I.cp1x=Zs(I.cp1x,u.left,u.right),I.cp1y=Zs(I.cp1y,u.top,u.bottom)),ee&&(I.cp2x=Zs(I.cp2x,u.left,u.right),I.cp2y=Zs(I.cp2y,u.top,u.bottom)))}(m,h)}function Be(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Ee(m){let u=m.parentNode;return u&&"[object ShadowRoot]"===u.toString()&&(u=u.host),u}function kt(m,u,h){let C;return"string"==typeof m?(C=parseInt(m,10),-1!==m.indexOf("%")&&(C=C/100*u.parentNode[h])):C=m,C}const On=m=>m.ownerDocument.defaultView.getComputedStyle(m,null),Qi=["top","right","bottom","left"];function yo(m,u,h){const C={};h=h?"-"+h:"";for(let I=0;I<4;I++){const M=Qi[I];C[M]=parseFloat(m[u+"-"+M+h])||0}return C.width=C.left+C.right,C.height=C.top+C.bottom,C}function js(m,u){if("native"in m)return m;const{canvas:h,currentDevicePixelRatio:C}=u,I=On(h),M="border-box"===I.boxSizing,H=yo(I,"padding"),ee=yo(I,"border","width"),{x:ge,y:De,box:rt}=function cs(m,u){const h=m.touches,C=h&&h.length?h[0]:m,{offsetX:I,offsetY:M}=C;let ee,ge,H=!1;if(((m,u,h)=>(m>0||u>0)&&(!h||!h.shadowRoot))(I,M,m.target))ee=I,ge=M;else{const De=u.getBoundingClientRect();ee=C.clientX-De.left,ge=C.clientY-De.top,H=!0}return{x:ee,y:ge,box:H}}(m,h),Tt=H.left+(rt&&ee.left),Ft=H.top+(rt&&ee.top);let{width:tn,height:Cn}=u;return M&&(tn-=H.width+ee.width,Cn-=H.height+ee.height),{x:Math.round((ge-Tt)/tn*h.width/C),y:Math.round((De-Ft)/Cn*h.height/C)}}const xr=m=>Math.round(10*m)/10;function Or(m,u,h){const C=u||1,I=Math.floor(m.height*C),M=Math.floor(m.width*C);m.height=Math.floor(m.height),m.width=Math.floor(m.width);const H=m.canvas;return H.style&&(h||!H.style.height&&!H.style.width)&&(H.style.height=`${m.height}px`,H.style.width=`${m.width}px`),(m.currentDevicePixelRatio!==C||H.height!==I||H.width!==M)&&(m.currentDevicePixelRatio=C,H.height=I,H.width=M,m.ctx.setTransform(C,0,0,C,0,0),!0)}const er=function(){let m=!1;try{const u={get passive(){return m=!0,!1}};window.addEventListener("test",null,u),window.removeEventListener("test",null,u)}catch(u){}return m}();function Pr(m,u){const h=function mi(m,u){return On(m).getPropertyValue(u)}(m,u),C=h&&h.match(/^(\d+)(\.\d+)?px$/);return C?+C[1]:void 0}function cr(m,u,h,C){return{x:m.x+h*(u.x-m.x),y:m.y+h*(u.y-m.y)}}function fa(m,u,h,C){return{x:m.x+h*(u.x-m.x),y:"middle"===C?h<.5?m.y:u.y:"after"===C?h<1?m.y:u.y:h>0?u.y:m.y}}function Na(m,u,h,C){const I={x:m.cp2x,y:m.cp2y},M={x:u.cp1x,y:u.cp1y},H=cr(m,I,h),ee=cr(I,M,h),ge=cr(M,u,h),De=cr(H,ee,h),rt=cr(ee,ge,h);return cr(De,rt,h)}function pt(m,u,h){return m?function(m,u){return{x:h=>m+m+u-h,setWidth(h){u=h},textAlign:h=>"center"===h?h:"right"===h?"left":"right",xPlus:(h,C)=>h-C,leftForLtr:(h,C)=>h-C}}(u,h):{x:m=>m,setWidth(m){},textAlign:m=>m,xPlus:(m,u)=>m+u,leftForLtr:(m,u)=>m}}function He(m,u){let h,C;("ltr"===u||"rtl"===u)&&(h=m.canvas.style,C=[h.getPropertyValue("direction"),h.getPropertyPriority("direction")],h.setProperty("direction",u,"important"),m.prevTextDirection=C)}function Et(m,u){void 0!==u&&(delete m.prevTextDirection,m.canvas.style.setProperty("direction",u[0],u[1]))}function nn(m){return"angle"===m?{between:qn,compare:pn,normalize:zn}:{between:oi,compare:(u,h)=>u-h,normalize:u=>u}}function kn({start:m,end:u,count:h,loop:C,style:I}){return{start:m%h,end:u%h,loop:C&&(u-m+1)%h==0,style:I}}function ui(m,u,h){if(!h)return[m];const{property:C,start:I,end:M}=h,H=u.length,{compare:ee,between:ge,normalize:De}=nn(C),{start:rt,end:Tt,loop:Ft,style:tn}=function Ln(m,u,h){const{property:C,start:I,end:M}=h,{between:H,normalize:ee}=nn(C),ge=u.length;let Ft,tn,{start:De,end:rt,loop:Tt}=m;if(Tt){for(De+=ge,rt+=ge,Ft=0,tn=ge;Ft<tn&&H(ee(u[De%ge][C]),I,M);++Ft)De--,rt--;De%=ge,rt%=ge}return rt<De&&(rt+=ge),{start:De,end:rt,loop:Tt,style:m.style}}(m,u,h),Cn=[];let Bn,Vn,Yn,yn=!1,xn=null;for(let gi=rt,Si=rt;gi<=Tt;++gi)Vn=u[gi%H],!Vn.skip&&(Bn=De(Vn[C]),Bn!==Yn&&(yn=ge(Bn,I,M),null===xn&&(yn||ge(I,Yn,Bn)&&0!==ee(I,Yn))&&(xn=0===ee(Bn,I)?gi:Si),null!==xn&&(!yn||0===ee(M,Bn)||ge(M,Yn,Bn))&&(Cn.push(kn({start:xn,end:gi,loop:Ft,count:H,style:tn})),xn=null),Si=gi,Yn=Bn));return null!==xn&&Cn.push(kn({start:xn,end:Tt,loop:Ft,count:H,style:tn})),Cn}function to(m,u){const h=[],C=m.segments;for(let I=0;I<C.length;I++){const M=ui(C[I],m.points,u);M.length&&h.push(...M)}return h}function xo(m){return{backgroundColor:m.backgroundColor,borderCapStyle:m.borderCapStyle,borderDash:m.borderDash,borderDashOffset:m.borderDashOffset,borderJoinStyle:m.borderJoinStyle,borderWidth:m.borderWidth,borderColor:m.borderColor}}function Yo(m,u){if(!u)return!1;const h=[],C=function(I,M){return Rs(M)?(h.includes(M)||h.push(M),h.indexOf(M)):M};return JSON.stringify(m,C)!==JSON.stringify(u,C)}class Us{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(u,h,C,I){const H=h.duration;h.listeners[I].forEach(ee=>ee({chart:u,initial:h.initial,numSteps:H,currentStep:Math.min(C-h.start,H)}))}_refresh(){this._request||(this._running=!0,this._request=Xo.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(u=Date.now()){let h=0;this._charts.forEach((C,I)=>{if(!C.running||!C.items.length)return;const M=C.items;let ge,H=M.length-1,ee=!1;for(;H>=0;--H)ge=M[H],ge._active?(ge._total>C.duration&&(C.duration=ge._total),ge.tick(u),ee=!0):(M[H]=M[M.length-1],M.pop());ee&&(I.draw(),this._notify(I,C,u,"progress")),M.length||(C.running=!1,this._notify(I,C,u,"complete"),C.initial=!1),h+=M.length}),this._lastDate=u,0===h&&(this._running=!1)}_getAnims(u){const h=this._charts;let C=h.get(u);return C||(C={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},h.set(u,C)),C}listen(u,h,C){this._getAnims(u).listeners[h].push(C)}add(u,h){!h||!h.length||this._getAnims(u).items.push(...h)}has(u){return this._getAnims(u).items.length>0}start(u){const h=this._charts.get(u);!h||(h.running=!0,h.start=Date.now(),h.duration=h.items.reduce((C,I)=>Math.max(C,I._duration),0),this._refresh())}running(u){if(!this._running)return!1;const h=this._charts.get(u);return!(!h||!h.running||!h.items.length)}stop(u){const h=this._charts.get(u);if(!h||!h.items.length)return;const C=h.items;let I=C.length-1;for(;I>=0;--I)C[I].cancel();h.items=[],this._notify(u,h,Date.now(),"complete")}remove(u){return this._charts.delete(u)}}var us=new Us;const ur="transparent",mt={boolean:(m,u,h)=>h>.5?u:m,color(m,u,h){const C=hs(m||ur),I=C.valid&&hs(u||ur);return I&&I.valid?I.mix(C,h).hexString():u},number:(m,u,h)=>m+(u-m)*h};class ae{constructor(u,h,C,I){const M=h[C];I=si([u.to,I,M,u.from]);const H=si([u.from,M,I]);this._active=!0,this._fn=u.fn||mt[u.type||typeof H],this._easing=Is[u.easing]||Is.linear,this._start=Math.floor(Date.now()+(u.delay||0)),this._duration=this._total=Math.floor(u.duration),this._loop=!!u.loop,this._target=h,this._prop=C,this._from=H,this._to=I,this._promises=void 0}active(){return this._active}update(u,h,C){if(this._active){this._notify(!1);const I=this._target[this._prop],M=C-this._start,H=this._duration-M;this._start=C,this._duration=Math.floor(Math.max(H,u.duration)),this._total+=M,this._loop=!!u.loop,this._to=si([u.to,h,I,u.from]),this._from=si([u.from,I,h])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(u){const h=u-this._start,C=this._duration,I=this._prop,M=this._from,H=this._loop,ee=this._to;let ge;if(this._active=M!==ee&&(H||h<C),!this._active)return this._target[I]=ee,void this._notify(!0);h<0?this._target[I]=M:(ge=h/C%2,ge=H&&ge>1?2-ge:ge,ge=this._easing(Math.min(1,Math.max(0,ge))),this._target[I]=this._fn(M,ee,ge))}wait(){const u=this._promises||(this._promises=[]);return new Promise((h,C)=>{u.push({res:h,rej:C})})}_notify(u){const h=u?"res":"rej",C=this._promises||[];for(let I=0;I<C.length;I++)C[I][h]()}}class pe{constructor(u,h){this._chart=u,this._properties=new Map,this.configure(h)}configure(u){if(!fe(u))return;const h=Object.keys(Bi.animation),C=this._properties;Object.getOwnPropertyNames(u).forEach(I=>{const M=u[I];if(!fe(M))return;const H={};for(const ee of h)H[ee]=M[ee];(at(M.properties)&&M.properties||[I]).forEach(ee=>{(ee===I||!C.has(ee))&&C.set(ee,H)})})}_animateOptions(u,h){const C=h.options,I=function yt(m,u){if(!u)return;let h=m.options;if(h)return h.$shared&&(m.options=h=Object.assign({},h,{$shared:!1,$animations:{}})),h;m.options=u}(u,C);if(!I)return[];const M=this._createAnimations(I,C);return C.$shared&&function We(m,u){const h=[],C=Object.keys(u);for(let I=0;I<C.length;I++){const M=m[C[I]];M&&M.active()&&h.push(M.wait())}return Promise.all(h)}(u.options.$animations,C).then(()=>{u.options=C},()=>{}),M}_createAnimations(u,h){const C=this._properties,I=[],M=u.$animations||(u.$animations={}),H=Object.keys(h),ee=Date.now();let ge;for(ge=H.length-1;ge>=0;--ge){const De=H[ge];if("$"===De.charAt(0))continue;if("options"===De){I.push(...this._animateOptions(u,h));continue}const rt=h[De];let Tt=M[De];const Ft=C.get(De);if(Tt){if(Ft&&Tt.active()){Tt.update(Ft,rt,ee);continue}Tt.cancel()}Ft&&Ft.duration?(M[De]=Tt=new ae(Ft,u,De,rt),I.push(Tt)):u[De]=rt}return I}update(u,h){if(0===this._properties.size)return void Object.assign(u,h);const C=this._createAnimations(u,h);return C.length?(us.add(this._chart,C),!0):void 0}}function Vt(m,u){const h=m&&m.options||{},C=h.reverse,I=void 0===h.min?u:0,M=void 0===h.max?u:0;return{start:C?M:I,end:C?I:M}}function wn(m,u){const h=[],C=m._getSortedDatasetMetas(u);let I,M;for(I=0,M=C.length;I<M;++I)h.push(C[I].index);return h}function Hn(m,u,h,C={}){const I=m.keys,M="single"===C.mode;let H,ee,ge,De;if(null!==u){for(H=0,ee=I.length;H<ee;++H){if(ge=+I[H],ge===h){if(C.all)continue;break}De=m.values[ge],ke(De)&&(M||0===u||vi(u)===vi(De))&&(u+=De)}return u}}function Re(m,u){const h=m&&m.options.stacked;return h||void 0===h&&void 0!==u.stack}function Lt(m,u,h){const C=m[u]||(m[u]={});return C[h]||(C[h]={})}function ln(m,u,h,C){for(const I of u.getMatchingVisibleMetas(C).reverse()){const M=m[I.index];if(h&&M>0||!h&&M<0)return I.index}return null}function Tn(m,u){const{chart:h,_cachedMeta:C}=m,I=h._stacks||(h._stacks={}),{iScale:M,vScale:H,index:ee}=C,ge=M.axis,De=H.axis,rt=function Ze(m,u,h){return`${m.id}.${u.id}.${h.stack||h.type}`}(M,H,C),Tt=u.length;let Ft;for(let tn=0;tn<Tt;++tn){const Cn=u[tn],{[ge]:yn,[De]:xn}=Cn;Ft=(Cn._stacks||(Cn._stacks={}))[De]=Lt(I,rt,yn),Ft[ee]=xn,Ft._top=ln(Ft,H,!0,C.type),Ft._bottom=ln(Ft,H,!1,C.type),(Ft._visualValues||(Ft._visualValues={}))[ee]=xn}}function Mn(m,u){const h=m.scales;return Object.keys(h).filter(C=>h[C].axis===u).shift()}function Ai(m,u){const h=m.controller.index,C=m.vScale&&m.vScale.axis;if(C){u=u||m._parsed;for(const I of u){const M=I._stacks;if(!M||void 0===M[C]||void 0===M[C][h])return;delete M[C][h],void 0!==M[C]._visualValues&&void 0!==M[C]._visualValues[h]&&delete M[C]._visualValues[h]}}}const ji=m=>"reset"===m||"none"===m,Vo=(m,u)=>u?m:Object.assign({},m);class mo{constructor(u,h){this.chart=u,this._ctx=u.ctx,this.index=h,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const u=this._cachedMeta;this.configure(),this.linkScales(),u._stacked=Re(u.vScale,u),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(u){this.index!==u&&Ai(this._cachedMeta),this.index=u}linkScales(){const u=this.chart,h=this._cachedMeta,C=this.getDataset(),I=(Tt,Ft,tn,Cn)=>"x"===Tt?Ft:"r"===Tt?Cn:tn,M=h.xAxisID=Ct(C.xAxisID,Mn(u,"x")),H=h.yAxisID=Ct(C.yAxisID,Mn(u,"y")),ee=h.rAxisID=Ct(C.rAxisID,Mn(u,"r")),ge=h.indexAxis,De=h.iAxisID=I(ge,M,H,ee),rt=h.vAxisID=I(ge,H,M,ee);h.xScale=this.getScaleForId(M),h.yScale=this.getScaleForId(H),h.rScale=this.getScaleForId(ee),h.iScale=this.getScaleForId(De),h.vScale=this.getScaleForId(rt)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(u){return this.chart.scales[u]}_getOtherScale(u){const h=this._cachedMeta;return u===h.iScale?h.vScale:h.iScale}reset(){this._update("reset")}_destroy(){const u=this._cachedMeta;this._data&&Go(this._data,this),u._stacked&&Ai(u)}_dataCheck(){const u=this.getDataset(),h=u.data||(u.data=[]),C=this._data;if(fe(h))this._data=function Yt(m){const u=Object.keys(m),h=new Array(u.length);let C,I,M;for(C=0,I=u.length;C<I;++C)M=u[C],h[C]={x:M,y:m[M]};return h}(h);else if(C!==h){if(C){Go(C,this);const I=this._cachedMeta;Ai(I),I._parsed=[]}h&&Object.isExtensible(h)&&function Ko(m,u){m._chartjs?m._chartjs.listeners.push(u):(Object.defineProperty(m,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[u]}}),vo.forEach(h=>{const C="_onData"+de(h),I=m[h];Object.defineProperty(m,h,{configurable:!0,enumerable:!1,value(...M){const H=I.apply(this,M);return m._chartjs.listeners.forEach(ee=>{"function"==typeof ee[C]&&ee[C](...M)}),H}})}))}(h,this),this._syncList=[],this._data=h}}addElements(){const u=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(u.dataset=new this.datasetElementType)}buildOrUpdateElements(u){const h=this._cachedMeta,C=this.getDataset();let I=!1;this._dataCheck();const M=h._stacked;h._stacked=Re(h.vScale,h),h.stack!==C.stack&&(I=!0,Ai(h),h.stack=C.stack),this._resyncElements(u),(I||M!==h._stacked)&&Tn(this,h._parsed)}configure(){const u=this.chart.config,h=u.datasetScopeKeys(this._type),C=u.getOptionScopes(this.getDataset(),h,!0);this.options=u.createResolver(C,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(u,h){const{_cachedMeta:C,_data:I}=this,{iScale:M,_stacked:H}=C,ee=M.axis;let rt,Tt,Ft,ge=0===u&&h===I.length||C._sorted,De=u>0&&C._parsed[u-1];if(!1===this._parsing)C._parsed=I,C._sorted=!0,Ft=I;else{Ft=at(I[u])?this.parseArrayData(C,I,u,h):fe(I[u])?this.parseObjectData(C,I,u,h):this.parsePrimitiveData(C,I,u,h);const tn=()=>null===Tt[ee]||De&&Tt[ee]<De[ee];for(rt=0;rt<h;++rt)C._parsed[rt+u]=Tt=Ft[rt],ge&&(tn()&&(ge=!1),De=Tt);C._sorted=ge}H&&Tn(this,Ft)}parsePrimitiveData(u,h,C,I){const{iScale:M,vScale:H}=u,ee=M.axis,ge=H.axis,De=M.getLabels(),rt=M===H,Tt=new Array(I);let Ft,tn,Cn;for(Ft=0,tn=I;Ft<tn;++Ft)Cn=Ft+C,Tt[Ft]={[ee]:rt||M.parse(De[Cn],Cn),[ge]:H.parse(h[Cn],Cn)};return Tt}parseArrayData(u,h,C,I){const{xScale:M,yScale:H}=u,ee=new Array(I);let ge,De,rt,Tt;for(ge=0,De=I;ge<De;++ge)rt=ge+C,Tt=h[rt],ee[ge]={x:M.parse(Tt[0],rt),y:H.parse(Tt[1],rt)};return ee}parseObjectData(u,h,C,I){const{xScale:M,yScale:H}=u,{xAxisKey:ee="x",yAxisKey:ge="y"}=this._parsing,De=new Array(I);let rt,Tt,Ft,tn;for(rt=0,Tt=I;rt<Tt;++rt)Ft=rt+C,tn=h[Ft],De[rt]={x:M.parse(et(tn,ee),Ft),y:H.parse(et(tn,ge),Ft)};return De}getParsed(u){return this._cachedMeta._parsed[u]}getDataElement(u){return this._cachedMeta.data[u]}applyStack(u,h,C){const M=this._cachedMeta,H=h[u.axis];return Hn({keys:wn(this.chart,!0),values:h._stacks[u.axis]._visualValues},H,M.index,{mode:C})}updateRangeFromParsed(u,h,C,I){const M=C[h.axis];let H=null===M?NaN:M;const ee=I&&C._stacks[h.axis];I&&ee&&(I.values=ee,H=Hn(I,M,this._cachedMeta.index)),u.min=Math.min(u.min,H),u.max=Math.max(u.max,H)}getMinMax(u,h){const C=this._cachedMeta,I=C._parsed,M=C._sorted&&u===C.iScale,H=I.length,ee=this._getOtherScale(u),ge=((m,u,h)=>m&&!u.hidden&&u._stacked&&{keys:wn(this.chart,!0),values:null})(h,C),De={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:rt,max:Tt}=function ft(m){const{min:u,max:h,minDefined:C,maxDefined:I}=m.getUserBounds();return{min:C?u:Number.NEGATIVE_INFINITY,max:I?h:Number.POSITIVE_INFINITY}}(ee);let Ft,tn;function Cn(){tn=I[Ft];const yn=tn[ee.axis];return!ke(tn[u.axis])||rt>yn||Tt<yn}for(Ft=0;Ft<H&&(Cn()||(this.updateRangeFromParsed(De,u,tn,ge),!M));++Ft);if(M)for(Ft=H-1;Ft>=0;--Ft)if(!Cn()){this.updateRangeFromParsed(De,u,tn,ge);break}return De}getAllParsedValues(u){const h=this._cachedMeta._parsed,C=[];let I,M,H;for(I=0,M=h.length;I<M;++I)H=h[I][u.axis],ke(H)&&C.push(H);return C}getMaxOverflow(){return!1}getLabelAndValue(u){const h=this._cachedMeta,C=h.iScale,I=h.vScale,M=this.getParsed(u);return{label:C?""+C.getLabelForValue(M[C.axis]):"",value:I?""+I.getLabelForValue(M[I.axis]):""}}_update(u){const h=this._cachedMeta;this.update(u||"default"),h._clip=function vn(m){let u,h,C,I;return fe(m)?(u=m.top,h=m.right,C=m.bottom,I=m.left):u=h=C=I=m,{top:u,right:h,bottom:C,left:I,disabled:!1===m}}(Ct(this.options.clip,function dn(m,u,h){if(!1===h)return!1;const C=Vt(m,h),I=Vt(u,h);return{top:I.end,right:C.end,bottom:I.start,left:C.start}}(h.xScale,h.yScale,this.getMaxOverflow())))}update(u){}draw(){const u=this._ctx,C=this._cachedMeta,I=C.data||[],M=this.chart.chartArea,H=[],ee=this._drawStart||0,ge=this._drawCount||I.length-ee,De=this.options.drawActiveElementsOnTop;let rt;for(C.dataset&&C.dataset.draw(u,M,ee,ge),rt=ee;rt<ee+ge;++rt){const Tt=I[rt];Tt.hidden||(Tt.active&&De?H.push(Tt):Tt.draw(u,M))}for(rt=0;rt<H.length;++rt)H[rt].draw(u,M)}getStyle(u,h){const C=h?"active":"default";return void 0===u&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(C):this.resolveDataElementOptions(u||0,C)}getContext(u,h,C){const I=this.getDataset();let M;if(u>=0&&u<this._cachedMeta.data.length){const H=this._cachedMeta.data[u];M=H.$context||(H.$context=function ti(m,u,h){return Zi(m,{active:!1,dataIndex:u,parsed:void 0,raw:void 0,element:h,index:u,mode:"default",type:"data"})}(this.getContext(),u,H)),M.parsed=this.getParsed(u),M.raw=I.data[u],M.index=M.dataIndex=u}else M=this.$context||(this.$context=function Xn(m,u){return Zi(m,{active:!1,dataset:void 0,datasetIndex:u,index:u,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),M.dataset=I,M.index=M.datasetIndex=this.index;return M.active=!!h,M.mode=C,M}resolveDatasetElementOptions(u){return this._resolveElementOptions(this.datasetElementType.id,u)}resolveDataElementOptions(u,h){return this._resolveElementOptions(this.dataElementType.id,h,u)}_resolveElementOptions(u,h="default",C){const I="active"===h,M=this._cachedDataOpts,H=u+"-"+h,ee=M[H],ge=this.enableOptionSharing&&Je(C);if(ee)return Vo(ee,ge);const De=this.chart.config,rt=De.datasetElementScopeKeys(this._type,u),Tt=I?[`${u}Hover`,"hover",u,""]:[u,""],Ft=De.getOptionScopes(this.getDataset(),rt),tn=Object.keys(Bi.elements[u]),yn=De.resolveNamedOptions(Ft,tn,()=>this.getContext(C,I,h),Tt);return yn.$shared&&(yn.$shared=ge,M[H]=Object.freeze(Vo(yn,ge))),yn}_resolveAnimations(u,h,C){const I=this.chart,M=this._cachedDataOpts,H=`animation-${h}`,ee=M[H];if(ee)return ee;let ge;if(!1!==I.options.animation){const rt=this.chart.config,Tt=rt.datasetAnimationScopeKeys(this._type,h),Ft=rt.getOptionScopes(this.getDataset(),Tt);ge=rt.createResolver(Ft,this.getContext(u,C,h))}const De=new pe(I,ge&&ge.animations);return ge&&ge._cacheable&&(M[H]=Object.freeze(De)),De}getSharedOptions(u){if(u.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},u))}includeOptions(u,h){return!h||ji(u)||this.chart._animationsDisabled}_getSharedOptions(u,h){const C=this.resolveDataElementOptions(u,h),I=this._sharedOptions,M=this.getSharedOptions(C),H=this.includeOptions(h,M)||M!==I;return this.updateSharedOptions(M,h,C),{sharedOptions:M,includeOptions:H}}updateElement(u,h,C,I){ji(I)?Object.assign(u,C):this._resolveAnimations(h,I).update(u,C)}updateSharedOptions(u,h,C){u&&!ji(h)&&this._resolveAnimations(void 0,h).update(u,C)}_setStyle(u,h,C,I){u.active=I;const M=this.getStyle(h,I);this._resolveAnimations(h,C,I).update(u,{options:!I&&this.getSharedOptions(M)||M})}removeHoverStyle(u,h,C){this._setStyle(u,C,"active",!1)}setHoverStyle(u,h,C){this._setStyle(u,C,"active",!0)}_removeDatasetHoverStyle(){const u=this._cachedMeta.dataset;u&&this._setStyle(u,void 0,"active",!1)}_setDatasetHoverStyle(){const u=this._cachedMeta.dataset;u&&this._setStyle(u,void 0,"active",!0)}_resyncElements(u){const h=this._data,C=this._cachedMeta.data;for(const[ee,ge,De]of this._syncList)this[ee](ge,De);this._syncList=[];const I=C.length,M=h.length,H=Math.min(M,I);H&&this.parse(0,H),M>I?this._insertElements(I,M-I,u):M<I&&this._removeElements(M,I-M)}_insertElements(u,h,C=!0){const I=this._cachedMeta,M=I.data,H=u+h;let ee;const ge=De=>{for(De.length+=h,ee=De.length-1;ee>=H;ee--)De[ee]=De[ee-h]};for(ge(M),ee=u;ee<H;++ee)M[ee]=new this.dataElementType;this._parsing&&ge(I._parsed),this.parse(u,h),C&&this.updateElements(M,u,h,"reset")}updateElements(u,h,C,I){}_removeElements(u,h){const C=this._cachedMeta;if(this._parsing){const I=C._parsed.splice(u,h);C._stacked&&Ai(C,I)}C.data.splice(u,h)}_sync(u){if(this._parsing)this._syncList.push(u);else{const[h,C,I]=u;this[h](C,I)}this.chart._dataChanges.push([this.index,...u])}_onDataPush(){const u=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-u,u])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(u,h){h&&this._sync(["_removeElements",u,h]);const C=arguments.length-2;C&&this._sync(["_insertElements",u,C])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Po(m){const u=m.iScale,h=function Jo(m,u){if(!m._cache.$bar){const h=m.getMatchingVisibleMetas(u);let C=[];for(let I=0,M=h.length;I<M;I++)C=C.concat(h[I].controller.getAllParsedValues(m));m._cache.$bar=Ao(C.sort((I,M)=>I-M))}return m._cache.$bar}(u,m.type);let I,M,H,ee,C=u._length;const ge=()=>{32767===H||-32768===H||(Je(ee)&&(C=Math.min(C,Math.abs(H-ee)||C)),ee=H)};for(I=0,M=h.length;I<M;++I)H=u.getPixelForValue(h[I]),ge();for(ee=void 0,I=0,M=u.ticks.length;I<M;++I)H=u.getPixelForTick(I),ge();return C}function Hs(m,u,h,C){return at(m)?function Lr(m,u,h,C){const I=h.parse(m[0],C),M=h.parse(m[1],C),H=Math.min(I,M),ee=Math.max(I,M);let ge=H,De=ee;Math.abs(H)>Math.abs(ee)&&(ge=ee,De=H),u[h.axis]=De,u._custom={barStart:ge,barEnd:De,start:I,end:M,min:H,max:ee}}(m,u,h,C):u[h.axis]=h.parse(m,C),u}function Sa(m,u,h,C){const I=m.iScale,M=m.vScale,H=I.getLabels(),ee=I===M,ge=[];let De,rt,Tt,Ft;for(De=h,rt=h+C;De<rt;++De)Ft=u[De],Tt={},Tt[I.axis]=ee||I.parse(H[De],De),ge.push(Hs(Ft,Tt,M,De));return ge}function xi(m){return m&&void 0!==m.barStart&&void 0!==m.barEnd}function no(m,u,h,C){let I=u.borderSkipped;const M={};if(!I)return void(m.borderSkipped=M);if(!0===I)return void(m.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:H,end:ee,reverse:ge,top:De,bottom:rt}=function Oi(m){let u,h,C,I,M;return m.horizontal?(u=m.base>m.x,h="left",C="right"):(u=m.base<m.y,h="bottom",C="top"),u?(I="end",M="start"):(I="start",M="end"),{start:h,end:C,reverse:u,top:I,bottom:M}}(m);"middle"===I&&h&&(m.enableBorderRadius=!0,(h._top||0)===C?I=De:(h._bottom||0)===C?I=rt:(M[Qo(rt,H,ee,ge)]=!0,I=De)),M[Qo(I,H,ee,ge)]=!0,m.borderSkipped=M}function Qo(m,u,h,C){return C?(m=function Lo(m,u,h){return m===u?h:m===h?u:m}(m,u,h),m=ks(m,h,u)):m=ks(m,u,h),m}function ks(m,u,h){return"start"===m?u:"end"===m?h:m}function pr(m,{inflateAmount:u},h){m.inflateAmount="auto"===u?1===h?.33:0:u}Ci(mo,"defaults",{}),Ci(mo,"datasetElementType",null),Ci(mo,"dataElementType",null);class To extends mo{parsePrimitiveData(u,h,C,I){return Sa(u,h,C,I)}parseArrayData(u,h,C,I){return Sa(u,h,C,I)}parseObjectData(u,h,C,I){const{iScale:M,vScale:H}=u,{xAxisKey:ee="x",yAxisKey:ge="y"}=this._parsing,De="x"===M.axis?ee:ge,rt="x"===H.axis?ee:ge,Tt=[];let Ft,tn,Cn,yn;for(Ft=C,tn=C+I;Ft<tn;++Ft)yn=h[Ft],Cn={},Cn[M.axis]=M.parse(et(yn,De),Ft),Tt.push(Hs(et(yn,rt),Cn,H,Ft));return Tt}updateRangeFromParsed(u,h,C,I){super.updateRangeFromParsed(u,h,C,I);const M=C._custom;M&&h===this._cachedMeta.vScale&&(u.min=Math.min(u.min,M.min),u.max=Math.max(u.max,M.max))}getMaxOverflow(){return 0}getLabelAndValue(u){const h=this._cachedMeta,{iScale:C,vScale:I}=h,M=this.getParsed(u),H=M._custom,ee=xi(H)?"["+H.start+", "+H.end+"]":""+I.getLabelForValue(M[I.axis]);return{label:""+C.getLabelForValue(M[C.axis]),value:ee}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(u){const h=this._cachedMeta;this.updateElements(h.data,0,h.data.length,u)}updateElements(u,h,C,I){const M="reset"===I,{index:H,_cachedMeta:{vScale:ee}}=this,ge=ee.getBasePixel(),De=ee.isHorizontal(),rt=this._getRuler(),{sharedOptions:Tt,includeOptions:Ft}=this._getSharedOptions(h,I);for(let tn=h;tn<h+C;tn++){const Cn=this.getParsed(tn),yn=M||ct(Cn[ee.axis])?{base:ge,head:ge}:this._calculateBarValuePixels(tn),xn=this._calculateBarIndexPixels(tn,rt),Bn=(Cn._stacks||{})[ee.axis],Vn={horizontal:De,base:yn.base,enableBorderRadius:!Bn||xi(Cn._custom)||H===Bn._top||H===Bn._bottom,x:De?yn.head:xn.center,y:De?xn.center:yn.head,height:De?xn.size:Math.abs(yn.size),width:De?Math.abs(yn.size):xn.size};Ft&&(Vn.options=Tt||this.resolveDataElementOptions(tn,u[tn].active?"active":I));const Yn=Vn.options||u[tn].options;no(Vn,Yn,Bn,H),pr(Vn,Yn,rt.ratio),this.updateElement(u[tn],tn,Vn,I)}}_getStacks(u,h){const{iScale:C}=this._cachedMeta,I=C.getMatchingVisibleMetas(this._type).filter(ge=>ge.controller.options.grouped),M=C.options.stacked,H=[],ee=ge=>{const De=ge.controller.getParsed(h),rt=De&&De[ge.vScale.axis];if(ct(rt)||isNaN(rt))return!0};for(const ge of I)if((void 0===h||!ee(ge))&&((!1===M||-1===H.indexOf(ge.stack)||void 0===M&&void 0===ge.stack)&&H.push(ge.stack),ge.index===u))break;return H.length||H.push(void 0),H}_getStackCount(u){return this._getStacks(void 0,u).length}_getStackIndex(u,h,C){const I=this._getStacks(u,C),M=void 0!==h?I.indexOf(h):-1;return-1===M?I.length-1:M}_getRuler(){const u=this.options,h=this._cachedMeta,C=h.iScale,I=[];let M,H;for(M=0,H=h.data.length;M<H;++M)I.push(C.getPixelForValue(this.getParsed(M)[C.axis],M));const ee=u.barThickness;return{min:ee||Po(h),pixels:I,start:C._startPixel,end:C._endPixel,stackCount:this._getStackCount(),scale:C,grouped:u.grouped,ratio:ee?1:u.categoryPercentage*u.barPercentage}}_calculateBarValuePixels(u){const{_cachedMeta:{vScale:h,_stacked:C,index:I},options:{base:M,minBarLength:H}}=this,ee=M||0,ge=this.getParsed(u),De=ge._custom,rt=xi(De);let Cn,yn,Tt=ge[h.axis],Ft=0,tn=C?this.applyStack(h,ge,C):Tt;tn!==Tt&&(Ft=tn-Tt,tn=Tt),rt&&(Tt=De.barStart,tn=De.barEnd-De.barStart,0!==Tt&&vi(Tt)!==vi(De.barEnd)&&(Ft=0),Ft+=Tt);const xn=ct(M)||rt?Ft:M;let Bn=h.getPixelForValue(xn);if(Cn=this.chart.getDataVisibility(u)?h.getPixelForValue(Ft+tn):Bn,yn=Cn-Bn,Math.abs(yn)<H){yn=function wi(m,u,h){return 0!==m?vi(m):(u.isHorizontal()?1:-1)*(u.min>=h?1:-1)}(yn,h,ee)*H,Tt===ee&&(Bn-=yn/2);const Vn=h.getPixelForDecimal(0),Yn=h.getPixelForDecimal(1),ei=Math.min(Vn,Yn),Gn=Math.max(Vn,Yn);Bn=Math.max(Math.min(Bn,Gn),ei),Cn=Bn+yn,C&&!rt&&(ge._stacks[h.axis]._visualValues[I]=h.getValueForPixel(Cn)-h.getValueForPixel(Bn))}if(Bn===h.getPixelForValue(ee)){const Vn=vi(yn)*h.getLineWidthForValue(ee)/2;Bn+=Vn,yn-=Vn}return{size:yn,base:Bn,head:Cn,center:Cn+yn/2}}_calculateBarIndexPixels(u,h){const C=h.scale,I=this.options,M=I.skipNull,H=Ct(I.maxBarThickness,1/0);let ee,ge;if(h.grouped){const De=M?this._getStackCount(u):h.stackCount,rt="flex"===I.barThickness?function Yr(m,u,h,C){const I=u.pixels,M=I[m];let H=m>0?I[m-1]:null,ee=m<I.length-1?I[m+1]:null;const ge=h.categoryPercentage;null===H&&(H=M-(null===ee?u.end-u.start:ee-M)),null===ee&&(ee=M+M-H);const De=M-(M-Math.min(H,ee))/2*ge;return{chunk:Math.abs(ee-H)/2*ge/C,ratio:h.barPercentage,start:De}}(u,h,I,De):function dr(m,u,h,C){const I=h.barThickness;let M,H;return ct(I)?(M=u.min*h.categoryPercentage,H=h.barPercentage):(M=I*C,H=1),{chunk:M/C,ratio:H,start:u.pixels[m]-M/2}}(u,h,I,De),Tt=this._getStackIndex(this.index,this._cachedMeta.stack,M?u:void 0);ee=rt.start+rt.chunk*Tt+rt.chunk/2,ge=Math.min(H,rt.chunk*rt.ratio)}else ee=C.getPixelForValue(this.getParsed(u)[C.axis],u),ge=Math.min(H,h.min*h.ratio);return{base:ee-ge/2,head:ee+ge/2,center:ee,size:ge}}draw(){const u=this._cachedMeta,h=u.vScale,C=u.data,I=C.length;let M=0;for(;M<I;++M)null!==this.getParsed(M)[h.axis]&&C[M].draw(this._ctx)}}Ci(To,"id","bar"),Ci(To,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ci(To,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class jr extends mo{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(u,h,C,I){const M=super.parsePrimitiveData(u,h,C,I);for(let H=0;H<M.length;H++)M[H]._custom=this.resolveDataElementOptions(H+C).radius;return M}parseArrayData(u,h,C,I){const M=super.parseArrayData(u,h,C,I);for(let H=0;H<M.length;H++)M[H]._custom=Ct(h[C+H][2],this.resolveDataElementOptions(H+C).radius);return M}parseObjectData(u,h,C,I){const M=super.parseObjectData(u,h,C,I);for(let H=0;H<M.length;H++){const ee=h[C+H];M[H]._custom=Ct(ee&&ee.r&&+ee.r,this.resolveDataElementOptions(H+C).radius)}return M}getMaxOverflow(){const u=this._cachedMeta.data;let h=0;for(let C=u.length-1;C>=0;--C)h=Math.max(h,u[C].size(this.resolveDataElementOptions(C))/2);return h>0&&h}getLabelAndValue(u){const h=this._cachedMeta,C=this.chart.data.labels||[],{xScale:I,yScale:M}=h,H=this.getParsed(u),ee=I.getLabelForValue(H.x),ge=M.getLabelForValue(H.y),De=H._custom;return{label:C[u]||"",value:"("+ee+", "+ge+(De?", "+De:"")+")"}}update(u){const h=this._cachedMeta.data;this.updateElements(h,0,h.length,u)}updateElements(u,h,C,I){const M="reset"===I,{iScale:H,vScale:ee}=this._cachedMeta,{sharedOptions:ge,includeOptions:De}=this._getSharedOptions(h,I),rt=H.axis,Tt=ee.axis;for(let Ft=h;Ft<h+C;Ft++){const tn=u[Ft],Cn=!M&&this.getParsed(Ft),yn={},xn=yn[rt]=M?H.getPixelForDecimal(.5):H.getPixelForValue(Cn[rt]),Bn=yn[Tt]=M?ee.getBasePixel():ee.getPixelForValue(Cn[Tt]);yn.skip=isNaN(xn)||isNaN(Bn),De&&(yn.options=ge||this.resolveDataElementOptions(Ft,tn.active?"active":I),M&&(yn.options.radius=0)),this.updateElement(tn,Ft,yn,I)}}resolveDataElementOptions(u,h){const C=this.getParsed(u);let I=super.resolveDataElementOptions(u,h);I.$shared&&(I=Object.assign({},I,{$shared:!1}));const M=I.radius;return"active"!==h&&(I.radius=0),I.radius+=Ct(C&&C._custom,M),I}}Ci(jr,"id","bubble"),Ci(jr,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Ci(jr,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Ro extends mo{constructor(u,h){super(u,h),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(u,h){const C=this.getDataset().data,I=this._cachedMeta;if(!1===this._parsing)I._parsed=C;else{let H,ee,M=ge=>+C[ge];if(fe(C[u])){const{key:ge="value"}=this._parsing;M=De=>+et(C[De],ge)}for(H=u,ee=u+h;H<ee;++H)I._parsed[H]=M(H)}}_getRotation(){return Ue(this.options.rotation-90)}_getCircumference(){return Ue(this.options.circumference)}_getRotationExtents(){let u=fn,h=-fn;for(let C=0;C<this.chart.data.datasets.length;++C)if(this.chart.isDatasetVisible(C)&&this.chart.getDatasetMeta(C).type===this._type){const I=this.chart.getDatasetMeta(C).controller,M=I._getRotation(),H=I._getCircumference();u=Math.min(u,M),h=Math.max(h,M+H)}return{rotation:u,circumference:h-u}}update(u){const h=this.chart,{chartArea:C}=h,I=this._cachedMeta,M=I.data,H=this.getMaxBorderWidth()+this.getMaxOffset(M)+this.options.spacing,ee=Math.max((Math.min(C.width,C.height)-H)/2,0),ge=Math.min(((m,u)=>"string"==typeof m&&m.endsWith("%")?parseFloat(m)/100:+m/u)(this.options.cutout,ee),1),De=this._getRingWeight(this.index),{circumference:rt,rotation:Tt}=this._getRotationExtents(),{ratioX:Ft,ratioY:tn,offsetX:Cn,offsetY:yn}=function al(m,u,h){let C=1,I=1,M=0,H=0;if(u<fn){const ee=m,ge=ee+u,De=Math.cos(ee),rt=Math.sin(ee),Tt=Math.cos(ge),Ft=Math.sin(ge),tn=(Yn,ei,Gn)=>qn(Yn,ee,ge,!0)?1:Math.max(ei,ei*h,Gn,Gn*h),Cn=(Yn,ei,Gn)=>qn(Yn,ee,ge,!0)?-1:Math.min(ei,ei*h,Gn,Gn*h),yn=tn(0,De,Tt),xn=tn(rn,rt,Ft),Bn=Cn(qt,De,Tt),Vn=Cn(qt+rn,rt,Ft);C=(yn-Bn)/2,I=(xn-Vn)/2,M=-(yn+Bn)/2,H=-(xn+Vn)/2}return{ratioX:C,ratioY:I,offsetX:M,offsetY:H}}(Tt,rt,ge),Vn=Math.max(Math.min((C.width-H)/Ft,(C.height-H)/tn)/2,0),Yn=Nt(this.options.radius,Vn),Gn=(Yn-Math.max(Yn*ge,0))/this._getVisibleDatasetWeightTotal();this.offsetX=Cn*Yn,this.offsetY=yn*Yn,I.total=this.calculateTotal(),this.outerRadius=Yn-Gn*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Gn*De,0),this.updateElements(M,0,M.length,u)}_circumference(u,h){const C=this.options,I=this._cachedMeta,M=this._getCircumference();return h&&C.animation.animateRotate||!this.chart.getDataVisibility(u)||null===I._parsed[u]||I.data[u].hidden?0:this.calculateCircumference(I._parsed[u]*M/fn)}updateElements(u,h,C,I){const M="reset"===I,H=this.chart,ee=H.chartArea,rt=(ee.left+ee.right)/2,Tt=(ee.top+ee.bottom)/2,Ft=M&&H.options.animation.animateScale,tn=Ft?0:this.innerRadius,Cn=Ft?0:this.outerRadius,{sharedOptions:yn,includeOptions:xn}=this._getSharedOptions(h,I);let Vn,Bn=this._getRotation();for(Vn=0;Vn<h;++Vn)Bn+=this._circumference(Vn,M);for(Vn=h;Vn<h+C;++Vn){const Yn=this._circumference(Vn,M),ei=u[Vn],Gn={x:rt+this.offsetX,y:Tt+this.offsetY,startAngle:Bn,endAngle:Bn+Yn,circumference:Yn,outerRadius:Cn,innerRadius:tn};xn&&(Gn.options=yn||this.resolveDataElementOptions(Vn,ei.active?"active":I)),Bn+=Yn,this.updateElement(ei,Vn,Gn,I)}}calculateTotal(){const u=this._cachedMeta,h=u.data;let I,C=0;for(I=0;I<h.length;I++){const M=u._parsed[I];null!==M&&!isNaN(M)&&this.chart.getDataVisibility(I)&&!h[I].hidden&&(C+=Math.abs(M))}return C}calculateCircumference(u){const h=this._cachedMeta.total;return h>0&&!isNaN(u)?fn*(Math.abs(u)/h):0}getLabelAndValue(u){const C=this.chart,I=C.data.labels||[],M=Ns(this._cachedMeta._parsed[u],C.options.locale);return{label:I[u]||"",value:M}}getMaxBorderWidth(u){let h=0;const C=this.chart;let I,M,H,ee,ge;if(!u)for(I=0,M=C.data.datasets.length;I<M;++I)if(C.isDatasetVisible(I)){H=C.getDatasetMeta(I),u=H.data,ee=H.controller;break}if(!u)return 0;for(I=0,M=u.length;I<M;++I)ge=ee.resolveDataElementOptions(I),"inner"!==ge.borderAlign&&(h=Math.max(h,ge.borderWidth||0,ge.hoverBorderWidth||0));return h}getMaxOffset(u){let h=0;for(let C=0,I=u.length;C<I;++C){const M=this.resolveDataElementOptions(C);h=Math.max(h,M.offset||0,M.hoverOffset||0)}return h}_getRingWeightOffset(u){let h=0;for(let C=0;C<u;++C)this.chart.isDatasetVisible(C)&&(h+=this._getRingWeight(C));return h}_getRingWeight(u){return Math.max(Ct(this.chart.data.datasets[u].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ci(Ro,"id","doughnut"),Ci(Ro,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ci(Ro,"descriptors",{_scriptable:u=>"spacing"!==u,_indexable:u=>"spacing"!==u&&!u.startsWith("borderDash")&&!u.startsWith("hoverBorderDash")}),Ci(Ro,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(u){const h=u.data;if(h.labels.length&&h.datasets.length){const{labels:{pointStyle:C,color:I}}=u.legend.options;return h.labels.map((M,H)=>{const ge=u.getDatasetMeta(0).controller.getStyle(H);return{text:M,fillStyle:ge.backgroundColor,strokeStyle:ge.borderColor,fontColor:I,lineWidth:ge.borderWidth,pointStyle:C,hidden:!u.getDataVisibility(H),index:H}})}return[]}},onClick(u,h,C){C.chart.toggleDataVisibility(h.index),C.chart.update()}}}});class Rr extends mo{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(u){const h=this._cachedMeta,{dataset:C,data:I=[],_dataset:M}=h,H=this.chart._animationsDisabled;let{start:ee,count:ge}=Mo(h,I,H);this._drawStart=ee,this._drawCount=ge,es(h)&&(ee=0,ge=I.length),C._chart=this.chart,C._datasetIndex=this.index,C._decimated=!!M._decimated,C.points=I;const De=this.resolveDatasetElementOptions(u);this.options.showLine||(De.borderWidth=0),De.segment=this.options.segment,this.updateElement(C,void 0,{animated:!H,options:De},u),this.updateElements(I,ee,ge,u)}updateElements(u,h,C,I){const M="reset"===I,{iScale:H,vScale:ee,_stacked:ge,_dataset:De}=this._cachedMeta,{sharedOptions:rt,includeOptions:Tt}=this._getSharedOptions(h,I),Ft=H.axis,tn=ee.axis,{spanGaps:Cn,segment:yn}=this.options,xn=Bt(Cn)?Cn:Number.POSITIVE_INFINITY,Bn=this.chart._animationsDisabled||M||"none"===I,Vn=h+C,Yn=u.length;let ei=h>0&&this.getParsed(h-1);for(let Gn=0;Gn<Yn;++Gn){const li=u[Gn],fi=Bn?li:{};if(Gn<h||Gn>=Vn){fi.skip=!0;continue}const gi=this.getParsed(Gn),Si=ct(gi[tn]),po=fi[Ft]=H.getPixelForValue(gi[Ft],Gn),lo=fi[tn]=M||Si?ee.getBasePixel():ee.getPixelForValue(ge?this.applyStack(ee,gi,ge):gi[tn],Gn);fi.skip=isNaN(po)||isNaN(lo)||Si,fi.stop=Gn>0&&Math.abs(gi[Ft]-ei[Ft])>xn,yn&&(fi.parsed=gi,fi.raw=De.data[Gn]),Tt&&(fi.options=rt||this.resolveDataElementOptions(Gn,li.active?"active":I)),Bn||this.updateElement(li,Gn,fi,I),ei=gi}}getMaxOverflow(){const u=this._cachedMeta,h=u.dataset,C=h.options&&h.options.borderWidth||0,I=u.data||[];if(!I.length)return C;const M=I[0].size(this.resolveDataElementOptions(0)),H=I[I.length-1].size(this.resolveDataElementOptions(I.length-1));return Math.max(C,M,H)/2}draw(){const u=this._cachedMeta;u.dataset.updateControlPoints(this.chart.chartArea,u.iScale.axis),super.draw()}}Ci(Rr,"id","line"),Ci(Rr,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ci(Rr,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Vs extends mo{constructor(u,h){super(u,h),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(u){const C=this.chart,I=C.data.labels||[],M=Ns(this._cachedMeta._parsed[u].r,C.options.locale);return{label:I[u]||"",value:M}}parseObjectData(u,h,C,I){return rr.bind(this)(u,h,C,I)}update(u){const h=this._cachedMeta.data;this._updateRadius(),this.updateElements(h,0,h.length,u)}getMinMax(){const h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((C,I)=>{const M=this.getParsed(I).r;!isNaN(M)&&this.chart.getDataVisibility(I)&&(M<h.min&&(h.min=M),M>h.max&&(h.max=M))}),h}_updateRadius(){const u=this.chart,h=u.chartArea,C=u.options,I=Math.min(h.right-h.left,h.bottom-h.top),M=Math.max(I/2,0),ee=(M-Math.max(C.cutoutPercentage?M/100*C.cutoutPercentage:1,0))/u.getVisibleDatasetCount();this.outerRadius=M-ee*this.index,this.innerRadius=this.outerRadius-ee}updateElements(u,h,C,I){const M="reset"===I,H=this.chart,ge=H.options.animation,De=this._cachedMeta.rScale,rt=De.xCenter,Tt=De.yCenter,Ft=De.getIndexAngle(0)-.5*qt;let Cn,tn=Ft;const yn=360/this.countVisibleElements();for(Cn=0;Cn<h;++Cn)tn+=this._computeAngle(Cn,I,yn);for(Cn=h;Cn<h+C;Cn++){const xn=u[Cn];let Bn=tn,Vn=tn+this._computeAngle(Cn,I,yn),Yn=H.getDataVisibility(Cn)?De.getDistanceFromCenterForValue(this.getParsed(Cn).r):0;tn=Vn,M&&(ge.animateScale&&(Yn=0),ge.animateRotate&&(Bn=Vn=Ft));const ei={x:rt,y:Tt,innerRadius:0,outerRadius:Yn,startAngle:Bn,endAngle:Vn,options:this.resolveDataElementOptions(Cn,xn.active?"active":I)};this.updateElement(xn,Cn,ei,I)}}countVisibleElements(){let h=0;return this._cachedMeta.data.forEach((C,I)=>{!isNaN(this.getParsed(I).r)&&this.chart.getDataVisibility(I)&&h++}),h}_computeAngle(u,h,C){return this.chart.getDataVisibility(u)?Ue(this.resolveDataElementOptions(u,h).angle||C):0}}Ci(Vs,"id","polarArea"),Ci(Vs,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Ci(Vs,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(u){const h=u.data;if(h.labels.length&&h.datasets.length){const{labels:{pointStyle:C,color:I}}=u.legend.options;return h.labels.map((M,H)=>{const ge=u.getDatasetMeta(0).controller.getStyle(H);return{text:M,fillStyle:ge.backgroundColor,strokeStyle:ge.borderColor,fontColor:I,lineWidth:ge.borderWidth,pointStyle:C,hidden:!u.getDataVisibility(H),index:H}})}return[]}},onClick(u,h,C){C.chart.toggleDataVisibility(h.index),C.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class _a extends Ro{}Ci(_a,"id","pie"),Ci(_a,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class ka extends mo{getLabelAndValue(u){const h=this._cachedMeta.vScale,C=this.getParsed(u);return{label:h.getLabels()[u],value:""+h.getLabelForValue(C[h.axis])}}parseObjectData(u,h,C,I){return rr.bind(this)(u,h,C,I)}update(u){const h=this._cachedMeta,C=h.dataset,I=h.data||[],M=h.iScale.getLabels();if(C.points=I,"resize"!==u){const H=this.resolveDatasetElementOptions(u);this.options.showLine||(H.borderWidth=0),this.updateElement(C,void 0,{_loop:!0,_fullLoop:M.length===I.length,options:H},u)}this.updateElements(I,0,I.length,u)}updateElements(u,h,C,I){const M=this._cachedMeta.rScale,H="reset"===I;for(let ee=h;ee<h+C;ee++){const ge=u[ee],De=this.resolveDataElementOptions(ee,ge.active?"active":I),rt=M.getPointPositionForValue(ee,this.getParsed(ee).r),Tt=H?M.xCenter:rt.x,Ft=H?M.yCenter:rt.y,tn={x:Tt,y:Ft,angle:rt.angle,skip:isNaN(Tt)||isNaN(Ft),options:De};this.updateElement(ge,ee,tn,I)}}}Ci(ka,"id","radar"),Ci(ka,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Ci(ka,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Fa extends mo{getLabelAndValue(u){const h=this._cachedMeta,C=this.chart.data.labels||[],{xScale:I,yScale:M}=h,H=this.getParsed(u),ee=I.getLabelForValue(H.x),ge=M.getLabelForValue(H.y);return{label:C[u]||"",value:"("+ee+", "+ge+")"}}update(u){const h=this._cachedMeta,{data:C=[]}=h,I=this.chart._animationsDisabled;let{start:M,count:H}=Mo(h,C,I);if(this._drawStart=M,this._drawCount=H,es(h)&&(M=0,H=C.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:ee,_dataset:ge}=h;ee._chart=this.chart,ee._datasetIndex=this.index,ee._decimated=!!ge._decimated,ee.points=C;const De=this.resolveDatasetElementOptions(u);De.segment=this.options.segment,this.updateElement(ee,void 0,{animated:!I,options:De},u)}else this.datasetElementType&&(delete h.dataset,this.datasetElementType=!1);this.updateElements(C,M,H,u)}addElements(){const{showLine:u}=this.options;!this.datasetElementType&&u&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(u,h,C,I){const M="reset"===I,{iScale:H,vScale:ee,_stacked:ge,_dataset:De}=this._cachedMeta,rt=this.resolveDataElementOptions(h,I),Tt=this.getSharedOptions(rt),Ft=this.includeOptions(I,Tt),tn=H.axis,Cn=ee.axis,{spanGaps:yn,segment:xn}=this.options,Bn=Bt(yn)?yn:Number.POSITIVE_INFINITY,Vn=this.chart._animationsDisabled||M||"none"===I;let Yn=h>0&&this.getParsed(h-1);for(let ei=h;ei<h+C;++ei){const Gn=u[ei],li=this.getParsed(ei),fi=Vn?Gn:{},gi=ct(li[Cn]),Si=fi[tn]=H.getPixelForValue(li[tn],ei),po=fi[Cn]=M||gi?ee.getBasePixel():ee.getPixelForValue(ge?this.applyStack(ee,li,ge):li[Cn],ei);fi.skip=isNaN(Si)||isNaN(po)||gi,fi.stop=ei>0&&Math.abs(li[tn]-Yn[tn])>Bn,xn&&(fi.parsed=li,fi.raw=De.data[ei]),Ft&&(fi.options=Tt||this.resolveDataElementOptions(ei,Gn.active?"active":I)),Vn||this.updateElement(Gn,ei,fi,I),Yn=li}this.updateSharedOptions(Tt,I,rt)}getMaxOverflow(){const u=this._cachedMeta,h=u.data||[];if(!this.options.showLine){let ee=0;for(let ge=h.length-1;ge>=0;--ge)ee=Math.max(ee,h[ge].size(this.resolveDataElementOptions(ge))/2);return ee>0&&ee}const C=u.dataset,I=C.options&&C.options.borderWidth||0;if(!h.length)return I;const M=h[0].size(this.resolveDataElementOptions(0)),H=h[h.length-1].size(this.resolveDataElementOptions(h.length-1));return Math.max(I,M,H)/2}}Ci(Fa,"id","scatter"),Ci(Fa,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Ci(Fa,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Sl=Object.freeze({__proto__:null,BarController:To,BubbleController:jr,DoughnutController:Ro,LineController:Rr,PieController:_a,PolarAreaController:Vs,RadarController:ka,ScatterController:Fa});function hr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ba{constructor(u){Ci(this,"options"),this.options=u||{}}static override(u){Object.assign(Ba.prototype,u)}init(){}formats(){return hr()}parse(){return hr()}format(){return hr()}add(){return hr()}diff(){return hr()}startOf(){return hr()}endOf(){return hr()}}var Da__date=Ba;function Za(m,u,h,C){const{controller:I,data:M,_sorted:H}=m,ee=I._cachedMeta.iScale;if(ee&&u===ee.axis&&"r"!==u&&H&&M.length){const ge=ee._reversePixels?Do:$i;if(!C)return ge(M,u,h);if(I._sharedOptions){const De=M[0],rt="function"==typeof De.getRange&&De.getRange(u);if(rt){const Tt=ge(M,u,h-rt),Ft=ge(M,u,h+rt);return{lo:Tt.lo,hi:Ft.hi}}}}return{lo:0,hi:M.length-1}}function na(m,u,h,C,I){const M=m.getSortedVisibleDatasetMetas(),H=h[u];for(let ee=0,ge=M.length;ee<ge;++ee){const{index:De,data:rt}=M[ee],{lo:Tt,hi:Ft}=Za(M[ee],u,H,I);for(let tn=Tt;tn<=Ft;++tn){const Cn=rt[tn];Cn.skip||C(Cn,De,tn)}}}function kl(m,u,h,C,I){const M=[];return!I&&!m.isPointInArea(u)||na(m,h,u,function(ee,ge,De){!I&&!ls(ee,m.chartArea,0)||ee.inRange(u.x,u.y,C)&&M.push({element:ee,datasetIndex:ge,index:De})},!0),M}function ec(m,u,h,C,I,M){return M||m.isPointInArea(u)?"r"!==h||C?function No(m,u,h,C,I,M){let H=[];const ee=function ja(m){const u=-1!==m.indexOf("x"),h=-1!==m.indexOf("y");return function(C,I){const M=u?Math.abs(C.x-I.x):0,H=h?Math.abs(C.y-I.y):0;return Math.sqrt(Math.pow(M,2)+Math.pow(H,2))}}(h);let ge=Number.POSITIVE_INFINITY;return na(m,h,u,function De(rt,Tt,Ft){const tn=rt.inRange(u.x,u.y,I);if(C&&!tn)return;const Cn=rt.getCenterPoint(I);if(!M&&!m.isPointInArea(Cn)&&!tn)return;const xn=ee(u,Cn);xn<ge?(H=[{element:rt,datasetIndex:Tt,index:Ft}],ge=xn):xn===ge&&H.push({element:rt,datasetIndex:Tt,index:Ft})}),H}(m,u,h,C,I,M):function vc(m,u,h,C){let I=[];return na(m,h,u,function M(H,ee,ge){const{startAngle:De,endAngle:rt}=H.getProps(["startAngle","endAngle"],C),{angle:Tt}=Zt(H,{x:u.x,y:u.y});qn(Tt,De,rt)&&I.push({element:H,datasetIndex:ee,index:ge})}),I}(m,u,h,I):[]}function Gc(m,u,h,C,I){const M=[],H="x"===h?"inXRange":"inYRange";let ee=!1;return na(m,h,u,(ge,De,rt)=>{ge[H](u[h],I)&&(M.push({element:ge,datasetIndex:De,index:rt}),ee=ee||ge.inRange(u.x,u.y,I))}),C&&!ee?[]:M}var Lu={evaluateInteractionItems:na,modes:{index(m,u,h,C){const I=js(u,m),M=h.axis||"x",H=h.includeInvisible||!1,ee=h.intersect?kl(m,I,M,C,H):ec(m,I,M,!1,C,H),ge=[];return ee.length?(m.getSortedVisibleDatasetMetas().forEach(De=>{const rt=ee[0].index,Tt=De.data[rt];Tt&&!Tt.skip&&ge.push({element:Tt,datasetIndex:De.index,index:rt})}),ge):[]},dataset(m,u,h,C){const I=js(u,m),M=h.axis||"xy",H=h.includeInvisible||!1;let ee=h.intersect?kl(m,I,M,C,H):ec(m,I,M,!1,C,H);if(ee.length>0){const ge=ee[0].datasetIndex,De=m.getDatasetMeta(ge).data;ee=[];for(let rt=0;rt<De.length;++rt)ee.push({element:De[rt],datasetIndex:ge,index:rt})}return ee},point:(m,u,h,C)=>kl(m,js(u,m),h.axis||"xy",C,h.includeInvisible||!1),nearest:(m,u,h,C)=>ec(m,js(u,m),h.axis||"xy",h.intersect,C,h.includeInvisible||!1),x:(m,u,h,C)=>Gc(m,js(u,m),"x",h.intersect,C),y:(m,u,h,C)=>Gc(m,js(u,m),"y",h.intersect,C)}};const bc=["left","top","right","bottom"];function Dl(m,u){return m.filter(h=>h.pos===u)}function Ru(m,u){return m.filter(h=>-1===bc.indexOf(h.pos)&&h.box.axis===u)}function Ua(m,u){return m.sort((h,C)=>{const I=u?C:h,M=u?h:C;return I.weight===M.weight?I.index-M.index:I.weight-M.weight})}function Ol(m,u,h,C){return Math.max(m[h],u[h])+Math.max(m[C],u[C])}function Ka(m,u){m.top=Math.max(m.top,u.top),m.left=Math.max(m.left,u.left),m.bottom=Math.max(m.bottom,u.bottom),m.right=Math.max(m.right,u.right)}function Fu(m,u,h,C){const{pos:I,box:M}=h,H=m.maxPadding;if(!fe(I)){h.size&&(m[I]-=h.size);const Tt=C[h.stack]||{size:0,count:1};Tt.size=Math.max(Tt.size,h.horizontal?M.height:M.width),h.size=Tt.size/Tt.count,m[I]+=h.size}M.getPadding&&Ka(H,M.getPadding());const ee=Math.max(0,u.outerWidth-Ol(H,m,"left","right")),ge=Math.max(0,u.outerHeight-Ol(H,m,"top","bottom")),De=ee!==m.w,rt=ge!==m.h;return m.w=ee,m.h=ge,h.horizontal?{same:De,other:rt}:{same:rt,other:De}}function Nr(m,u){const h=u.maxPadding;return function C(I){const M={left:0,top:0,right:0,bottom:0};return I.forEach(H=>{M[H]=Math.max(u[H],h[H])}),M}(m?["left","right"]:["top","bottom"])}function Fr(m,u,h,C){const I=[];let M,H,ee,ge,De,rt;for(M=0,H=m.length,De=0;M<H;++M){ee=m[M],ge=ee.box,ge.update(ee.width||u.w,ee.height||u.h,Nr(ee.horizontal,u));const{same:Tt,other:Ft}=Fu(u,h,ee,C);De|=Tt&&I.length,rt=rt||Ft,ge.fullSize||I.push(ee)}return De&&Fr(I,u,h,C)||rt}function qa(m,u,h,C,I){m.top=h,m.left=u,m.right=u+C,m.bottom=h+I,m.width=C,m.height=I}function ll(m,u,h,C){const I=h.padding;let{x:M,y:H}=u;for(const ee of m){const ge=ee.box,De=C[ee.stack]||{count:1,placed:0,weight:1},rt=ee.stackWeight/De.weight||1;if(ee.horizontal){const Tt=u.w*rt,Ft=De.size||ge.height;Je(De.start)&&(H=De.start),ge.fullSize?qa(ge,I.left,H,h.outerWidth-I.right-I.left,Ft):qa(ge,u.left+De.placed,H,Tt,Ft),De.start=H,De.placed+=Tt,H=ge.bottom}else{const Tt=u.h*rt,Ft=De.size||ge.width;Je(De.start)&&(M=De.start),ge.fullSize?qa(ge,M,I.top,Ft,h.outerHeight-I.bottom-I.top):qa(ge,M,u.top+De.placed,Ft,Tt),De.start=M,De.placed+=Tt,M=ge.right}}u.x=M,u.y=H}var Ms={addBox(m,u){m.boxes||(m.boxes=[]),u.fullSize=u.fullSize||!1,u.position=u.position||"top",u.weight=u.weight||0,u._layers=u._layers||function(){return[{z:0,draw(h){u.draw(h)}}]},m.boxes.push(u)},removeBox(m,u){const h=m.boxes?m.boxes.indexOf(u):-1;-1!==h&&m.boxes.splice(h,1)},configure(m,u,h){u.fullSize=h.fullSize,u.position=h.position,u.weight=h.weight},update(m,u,h,C){if(!m)return;const I=Nn(m.options.layout.padding),M=Math.max(u-I.width,0),H=Math.max(h-I.height,0),ee=function Ds(m){const u=function Ml(m){const u=[];let h,C,I,M,H,ee;for(h=0,C=(m||[]).length;h<C;++h)I=m[h],({position:M,options:{stack:H,stackWeight:ee=1}}=I),u.push({index:h,box:I,pos:M,horizontal:I.isHorizontal(),weight:I.weight,stack:H&&M+H,stackWeight:ee});return u}(m),h=Ua(u.filter(De=>De.box.fullSize),!0),C=Ua(Dl(u,"left"),!0),I=Ua(Dl(u,"right")),M=Ua(Dl(u,"top"),!0),H=Ua(Dl(u,"bottom")),ee=Ru(u,"x"),ge=Ru(u,"y");return{fullSize:h,leftAndTop:C.concat(M),rightAndBottom:I.concat(ge).concat(H).concat(ee),chartArea:Dl(u,"chartArea"),vertical:C.concat(I).concat(ge),horizontal:M.concat(H).concat(ee)}}(m.boxes),ge=ee.vertical,De=ee.horizontal;Ye(m.boxes,yn=>{"function"==typeof yn.beforeLayout&&yn.beforeLayout()});const rt=ge.reduce((yn,xn)=>xn.box.options&&!1===xn.box.options.display?yn:yn+1,0)||1,Tt=Object.freeze({outerWidth:u,outerHeight:h,padding:I,availableWidth:M,availableHeight:H,vBoxMaxWidth:M/2/rt,hBoxMaxHeight:H/2}),Ft=Object.assign({},I);Ka(Ft,Nn(C));const tn=Object.assign({maxPadding:Ft,w:M,h:H,x:I.left,y:I.top},I),Cn=function Nu(m,u){const h=function tc(m){const u={};for(const h of m){const{stack:C,pos:I,stackWeight:M}=h;if(!C||!bc.includes(I))continue;const H=u[C]||(u[C]={count:0,placed:0,weight:0,size:0});H.count++,H.weight+=M}return u}(m),{vBoxMaxWidth:C,hBoxMaxHeight:I}=u;let M,H,ee;for(M=0,H=m.length;M<H;++M){ee=m[M];const{fullSize:ge}=ee.box,De=h[ee.stack],rt=De&&ee.stackWeight/De.weight;ee.horizontal?(ee.width=rt?rt*C:ge&&u.availableWidth,ee.height=I):(ee.width=C,ee.height=rt?rt*I:ge&&u.availableHeight)}return h}(ge.concat(De),Tt);Fr(ee.fullSize,tn,Tt,Cn),Fr(ge,tn,Tt,Cn),Fr(De,tn,Tt,Cn)&&Fr(ge,tn,Tt,Cn),function Wc(m){const u=m.maxPadding;function h(C){const I=Math.max(u[C]-m[C],0);return m[C]+=I,I}m.y+=h("top"),m.x+=h("left"),h("right"),h("bottom")}(tn),ll(ee.leftAndTop,tn,Tt,Cn),tn.x+=tn.w,tn.y+=tn.h,ll(ee.rightAndBottom,tn,Tt,Cn),m.chartArea={left:tn.left,top:tn.top,right:tn.left+tn.w,bottom:tn.top+tn.h,height:tn.h,width:tn.w},Ye(ee.chartArea,yn=>{const xn=yn.box;Object.assign(xn,m.chartArea),xn.update(tn.w,tn.h,{left:0,top:0,right:0,bottom:0})})}};class _e{acquireContext(u,h){}releaseContext(u){return!1}addEventListener(u,h,C){}removeEventListener(u,h,C){}getDevicePixelRatio(){return 1}getMaximumSize(u,h,C,I){return h=Math.max(0,h||u.width),C=C||u.height,{width:h,height:Math.max(0,I?Math.floor(h/I):C)}}isAttached(u){return!0}updateConfig(u){}}class ve extends _e{acquireContext(u){return u&&u.getContext&&u.getContext("2d")||null}updateConfig(u){u.options.animation=!1}}const le="$chartjs",Se={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},$e=m=>null===m||""===m,Xt=!!er&&{passive:!0};function An(m,u,h){m.canvas.removeEventListener(u,h,Xt)}function yi(m,u){for(const h of m)if(h===u||h.contains(u))return!0}function di(m,u,h){const C=m.canvas,I=new MutationObserver(M=>{let H=!1;for(const ee of M)H=H||yi(ee.addedNodes,C),H=H&&!yi(ee.removedNodes,C);H&&h()});return I.observe(document,{childList:!0,subtree:!0}),I}function Ki(m,u,h){const C=m.canvas,I=new MutationObserver(M=>{let H=!1;for(const ee of M)H=H||yi(ee.removedNodes,C),H=H&&!yi(ee.addedNodes,C);H&&h()});return I.observe(document,{childList:!0,subtree:!0}),I}const ao=new Map;let zs=0;function Br(){const m=window.devicePixelRatio;m!==zs&&(zs=m,ao.forEach((u,h)=>{h.currentDevicePixelRatio!==m&&u()}))}function ua(m,u,h){const C=m.canvas,I=C&&Ee(C);if(!I)return;const M=as((ee,ge)=>{const De=I.clientWidth;h(ee,ge),De<I.clientWidth&&h()},window),H=new ResizeObserver(ee=>{const ge=ee[0],De=ge.contentRect.width,rt=ge.contentRect.height;0===De&&0===rt||M(De,rt)});return H.observe(I),function ia(m,u){ao.size||window.addEventListener("resize",Br),ao.set(m,u)}(m,M),H}function nc(m,u,h){h&&h.disconnect(),"resize"===u&&function oa(m){ao.delete(m),ao.size||window.removeEventListener("resize",Br)}(m)}function gr(m,u,h){const C=m.canvas,I=as(M=>{null!==m.ctx&&h(function ni(m,u){const h=Se[m.type]||m.type,{x:C,y:I}=js(m,u);return{type:h,chart:u,native:m,x:void 0!==C?C:null,y:void 0!==I?I:null}}(M,m))},m);return function sn(m,u,h){m.addEventListener(u,h,Xt)}(C,u,I),I}class ic extends _e{acquireContext(u,h){const C=u&&u.getContext&&u.getContext("2d");return C&&C.canvas===u?(function At(m,u){const h=m.style,C=m.getAttribute("height"),I=m.getAttribute("width");if(m[le]={initial:{height:C,width:I,style:{display:h.display,height:h.height,width:h.width}}},h.display=h.display||"block",h.boxSizing=h.boxSizing||"border-box",$e(I)){const M=Pr(m,"width");void 0!==M&&(m.width=M)}if($e(C))if(""===m.style.height)m.height=m.width/(u||2);else{const M=Pr(m,"height");void 0!==M&&(m.height=M)}}(u,h),C):null}releaseContext(u){const h=u.canvas;if(!h[le])return!1;const C=h[le].initial;["height","width"].forEach(M=>{const H=C[M];ct(H)?h.removeAttribute(M):h.setAttribute(M,H)});const I=C.style||{};return Object.keys(I).forEach(M=>{h.style[M]=I[M]}),h.width=h.width,delete h[le],!0}addEventListener(u,h,C){this.removeEventListener(u,h),(u.$proxies||(u.$proxies={}))[h]=({attach:di,detach:Ki,resize:ua}[h]||gr)(u,h,C)}removeEventListener(u,h){const C=u.$proxies||(u.$proxies={}),I=C[h];I&&(({attach:nc,detach:nc,resize:nc}[h]||An)(u,h,I),C[h]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(u,h,C,I){return function Ir(m,u,h,C){const I=On(m),M=yo(I,"margin"),H=kt(I.maxWidth,m,"clientWidth")||Dn,ee=kt(I.maxHeight,m,"clientHeight")||Dn,ge=function lr(m,u,h){let C,I;if(void 0===u||void 0===h){const M=Ee(m);if(M){const H=M.getBoundingClientRect(),ee=On(M),ge=yo(ee,"border","width"),De=yo(ee,"padding");u=H.width-De.width-ge.width,h=H.height-De.height-ge.height,C=kt(ee.maxWidth,M,"clientWidth"),I=kt(ee.maxHeight,M,"clientHeight")}else u=m.clientWidth,h=m.clientHeight}return{width:u,height:h,maxWidth:C||Dn,maxHeight:I||Dn}}(m,u,h);let{width:De,height:rt}=ge;if("content-box"===I.boxSizing){const Ft=yo(I,"border","width"),tn=yo(I,"padding");De-=tn.width+Ft.width,rt-=tn.height+Ft.height}return De=Math.max(0,De-M.width),rt=Math.max(0,C?De/C:rt-M.height),De=xr(Math.min(De,H,ge.maxWidth)),rt=xr(Math.min(rt,ee,ge.maxHeight)),De&&!rt&&(rt=xr(De/2)),(void 0!==u||void 0!==h)&&C&&ge.height&&rt>ge.height&&(rt=ge.height,De=xr(Math.floor(rt*C))),{width:De,height:rt}}(u,h,C,I)}isAttached(u){const h=Ee(u);return!(!h||!h.isConnected)}}class mr{constructor(){Ci(this,"x"),Ci(this,"y"),Ci(this,"active",!1),Ci(this,"options"),Ci(this,"$animations")}tooltipPosition(u){const{x:h,y:C}=this.getProps(["x","y"],u);return{x:h,y:C}}hasValue(){return Bt(this.x)&&Bt(this.y)}getProps(u,h){const C=this.$animations;if(!h||!C)return this;const I={};return u.forEach(M=>{I[M]=C[M]&&C[M].active()?C[M]._to:this[M]}),I}}function yc(m,u,h,C,I){const M=Ct(C,0),H=Math.min(Ct(I,m.length),m.length);let ge,De,rt,ee=0;for(h=Math.ceil(h),I&&(ge=I-C,h=ge/Math.floor(ge/h)),rt=M;rt<0;)ee++,rt=Math.round(M+ee*h);for(De=Math.max(M,0);De<H;De++)De===rt&&(u.push(m[De]),ee++,rt=Math.round(M+ee*h))}Ci(mr,"defaults",{}),Ci(mr,"defaultRoutes");const xc=(m,u,h)=>"top"===u||"left"===u?m[u]+h:m[u]-h,Ic=(m,u)=>Math.min(u||m,m);function cl(m,u){const h=[],C=m.length/u,I=m.length;let M=0;for(;M<I;M+=C)h.push(m[Math.floor(M)]);return h}function Gd(m,u,h){const C=m.ticks.length,I=Math.min(u,C-1),M=m._startPixel,H=m._endPixel;let De,ge=m.getPixelForTick(I);if(!(h&&(De=1===C?Math.max(ge-M,H-ge):0===u?(m.getPixelForTick(1)-ge)/2:(ge-m.getPixelForTick(I-1))/2,ge+=I<u?De:-De,ge<M-1e-6||ge>H+1e-6)))return ge}function sc(m){return m.drawTicks?m.tickLength:0}function Tc(m,u){if(!m.display)return 0;const h=Wn(m.font,u),C=Nn(m.padding);return(at(m.text)?m.text.length:1)*h.lineHeight+C.height}function ie(m,u,h){let C=ho(m);return(h&&"right"!==u||!h&&"right"===u)&&(C=(m=>"left"===m?"right":"right"===m?"left":m)(C)),C}class on extends mr{constructor(u){super(),this.id=u.id,this.type=u.type,this.options=void 0,this.ctx=u.ctx,this.chart=u.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(u){this.options=u.setContext(this.getContext()),this.axis=u.axis,this._userMin=this.parse(u.min),this._userMax=this.parse(u.max),this._suggestedMin=this.parse(u.suggestedMin),this._suggestedMax=this.parse(u.suggestedMax)}parse(u,h){return u}getUserBounds(){let{_userMin:u,_userMax:h,_suggestedMin:C,_suggestedMax:I}=this;return u=ot(u,Number.POSITIVE_INFINITY),h=ot(h,Number.NEGATIVE_INFINITY),C=ot(C,Number.POSITIVE_INFINITY),I=ot(I,Number.NEGATIVE_INFINITY),{min:ot(u,C),max:ot(h,I),minDefined:ke(u),maxDefined:ke(h)}}getMinMax(u){let H,{min:h,max:C,minDefined:I,maxDefined:M}=this.getUserBounds();if(I&&M)return{min:h,max:C};const ee=this.getMatchingVisibleMetas();for(let ge=0,De=ee.length;ge<De;++ge)H=ee[ge].controller.getMinMax(this,u),I||(h=Math.min(h,H.min)),M||(C=Math.max(C,H.max));return h=M&&h>C?C:h,C=I&&h>C?h:C,{min:ot(h,ot(C,h)),max:ot(C,ot(h,C))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const u=this.chart.data;return this.options.labels||(this.isHorizontal()?u.xLabels:u.yLabels)||u.labels||[]}getLabelItems(u=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(u))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Mt(this.options.beforeUpdate,[this])}update(u,h,C){const{beginAtZero:I,grace:M,ticks:H}=this.options,ee=H.sampleSize;this.beforeUpdate(),this.maxWidth=u,this.maxHeight=h,this._margins=C=Object.assign({left:0,right:0,top:0,bottom:0},C),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+C.left+C.right:this.height+C.top+C.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function Wi(m,u,h){const{min:C,max:I}=m,M=Nt(u,(I-C)/2),H=(ee,ge)=>h&&0===ee?0:ee+ge;return{min:H(C,-Math.abs(M)),max:H(I,M)}}(this,M,I),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const ge=ee<this.ticks.length;this._convertTicksToLabels(ge?cl(this.ticks,ee):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),H.display&&(H.autoSkip||"auto"===H.source)&&(this.ticks=function Bu(m,u){const h=m.options.ticks,C=function Qd(m){const u=m.options.offset,h=m._tickSize();return Math.floor(Math.min(m._length/h+(u?0:1),m._maxLength/h))}(m),I=Math.min(h.maxTicksLimit||C,C),M=h.major.enabled?function bs(m){const u=[];let h,C;for(h=0,C=m.length;h<C;h++)m[h].major&&u.push(h);return u}(u):[],H=M.length,ee=M[0],ge=M[H-1],De=[];if(H>I)return function Zr(m,u,h,C){let H,I=0,M=h[0];for(C=Math.ceil(C),H=0;H<m.length;H++)H===M&&(u.push(m[H]),I++,M=h[I*C])}(u,De,M,H/I),De;const rt=function Zu(m,u,h){const C=function Js(m){const u=m.length;let h,C;if(u<2)return!1;for(C=m[0],h=1;h<u;++h)if(m[h]-m[h-1]!==C)return!1;return C}(m),I=u.length/h;if(!C)return Math.max(I,1);const M=function Uo(m){const u=[],h=Math.sqrt(m);let C;for(C=1;C<h;C++)m%C==0&&(u.push(C),u.push(m/C));return h===(0|h)&&u.push(h),u.sort((I,M)=>I-M).pop(),u}(C);for(let H=0,ee=M.length-1;H<ee;H++){const ge=M[H];if(ge>I)return ge}return Math.max(I,1)}(M,u,I);if(H>0){let Tt,Ft;const tn=H>1?Math.round((ge-ee)/(H-1)):null;for(yc(u,De,rt,ct(tn)?0:ee-tn,ee),Tt=0,Ft=H-1;Tt<Ft;Tt++)yc(u,De,rt,M[Tt],M[Tt+1]);return yc(u,De,rt,ge,ct(tn)?u.length:ge+tn),De}return yc(u,De,rt),De}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),ge&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let h,C,u=this.options.reverse;this.isHorizontal()?(h=this.left,C=this.right):(h=this.top,C=this.bottom,u=!u),this._startPixel=h,this._endPixel=C,this._reversePixels=u,this._length=C-h,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Mt(this.options.afterUpdate,[this])}beforeSetDimensions(){Mt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Mt(this.options.afterSetDimensions,[this])}_callHooks(u){this.chart.notifyPlugins(u,this.getContext()),Mt(this.options[u],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Mt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(u){const h=this.options.ticks;let C,I,M;for(C=0,I=u.length;C<I;C++)M=u[C],M.label=Mt(h.callback,[M.value,C,u],this)}afterTickToLabelConversion(){Mt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Mt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const u=this.options,h=u.ticks,C=Ic(this.ticks.length,u.ticks.maxTicksLimit),I=h.minRotation||0,M=h.maxRotation;let ee,ge,De,H=I;if(!this._isVisible()||!h.display||I>=M||C<=1||!this.isHorizontal())return void(this.labelRotation=I);const rt=this._getLabelSizes(),Tt=rt.widest.width,Ft=rt.highest.height,tn=ai(this.chart.width-Tt,0,this.maxWidth);ee=u.offset?this.maxWidth/C:tn/(C-1),Tt+6>ee&&(ee=tn/(C-(u.offset?.5:1)),ge=this.maxHeight-sc(u.grid)-h.padding-Tc(u.title,this.chart.options.font),De=Math.sqrt(Tt*Tt+Ft*Ft),H=ut(Math.min(Math.asin(ai((rt.highest.height+6)/ee,-1,1)),Math.asin(ai(ge/De,-1,1))-Math.asin(ai(Ft/De,-1,1)))),H=Math.max(I,Math.min(M,H))),this.labelRotation=H}afterCalculateLabelRotation(){Mt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Mt(this.options.beforeFit,[this])}fit(){const u={width:0,height:0},{chart:h,options:{ticks:C,title:I,grid:M}}=this,H=this._isVisible(),ee=this.isHorizontal();if(H){const ge=Tc(I,h.options.font);if(ee?(u.width=this.maxWidth,u.height=sc(M)+ge):(u.height=this.maxHeight,u.width=sc(M)+ge),C.display&&this.ticks.length){const{first:De,last:rt,widest:Tt,highest:Ft}=this._getLabelSizes(),tn=2*C.padding,Cn=Ue(this.labelRotation),yn=Math.cos(Cn),xn=Math.sin(Cn);ee?u.height=Math.min(this.maxHeight,u.height+(C.mirror?0:xn*Tt.width+yn*Ft.height)+tn):u.width=Math.min(this.maxWidth,u.width+(C.mirror?0:yn*Tt.width+xn*Ft.height)+tn),this._calculatePadding(De,rt,xn,yn)}}this._handleMargins(),ee?(this.width=this._length=h.width-this._margins.left-this._margins.right,this.height=u.height):(this.width=u.width,this.height=this._length=h.height-this._margins.top-this._margins.bottom)}_calculatePadding(u,h,C,I){const{ticks:{align:M,padding:H},position:ee}=this.options,ge=0!==this.labelRotation,De="top"!==ee&&"x"===this.axis;if(this.isHorizontal()){const rt=this.getPixelForTick(0)-this.left,Tt=this.right-this.getPixelForTick(this.ticks.length-1);let Ft=0,tn=0;ge?De?(Ft=I*u.width,tn=C*h.height):(Ft=C*u.height,tn=I*h.width):"start"===M?tn=h.width:"end"===M?Ft=u.width:"inner"!==M&&(Ft=u.width/2,tn=h.width/2),this.paddingLeft=Math.max((Ft-rt+H)*this.width/(this.width-rt),0),this.paddingRight=Math.max((tn-Tt+H)*this.width/(this.width-Tt),0)}else{let rt=h.height/2,Tt=u.height/2;"start"===M?(rt=0,Tt=u.height):"end"===M&&(rt=h.height,Tt=0),this.paddingTop=rt+H,this.paddingBottom=Tt+H}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Mt(this.options.afterFit,[this])}isHorizontal(){const{axis:u,position:h}=this.options;return"top"===h||"bottom"===h||"x"===u}isFullSize(){return this.options.fullSize}_convertTicksToLabels(u){let h,C;for(this.beforeTickToLabelConversion(),this.generateTickLabels(u),h=0,C=u.length;h<C;h++)ct(u[h].label)&&(u.splice(h,1),C--,h--);this.afterTickToLabelConversion()}_getLabelSizes(){let u=this._labelSizes;if(!u){const h=this.options.ticks.sampleSize;let C=this.ticks;h<C.length&&(C=cl(C,h)),this._labelSizes=u=this._computeLabelSizes(C,C.length,this.options.ticks.maxTicksLimit)}return u}_computeLabelSizes(u,h,C){const{ctx:I,_longestTextCache:M}=this,H=[],ee=[],ge=Math.floor(h/Ic(h,C));let Tt,Ft,tn,Cn,yn,xn,Bn,Vn,Yn,ei,Gn,De=0,rt=0;for(Tt=0;Tt<h;Tt+=ge){if(Cn=u[Tt].label,yn=this._resolveTickFontOptions(Tt),I.font=xn=yn.string,Bn=M[xn]=M[xn]||{data:{},gc:[]},Vn=yn.lineHeight,Yn=ei=0,ct(Cn)||at(Cn)){if(at(Cn))for(Ft=0,tn=Cn.length;Ft<tn;++Ft)Gn=Cn[Ft],!ct(Gn)&&!at(Gn)&&(Yn=Ts(I,Bn.data,Bn.gc,Yn,Gn),ei+=Vn)}else Yn=Ts(I,Bn.data,Bn.gc,Yn,Cn),ei=Vn;H.push(Yn),ee.push(ei),De=Math.max(Yn,De),rt=Math.max(ei,rt)}!function Wd(m,u){Ye(m,h=>{const C=h.gc,I=C.length/2;let M;if(I>u){for(M=0;M<I;++M)delete h.data[C[M]];C.splice(0,I)}})}(M,h);const li=H.indexOf(De),fi=ee.indexOf(rt),gi=Si=>({width:H[Si]||0,height:ee[Si]||0});return{first:gi(0),last:gi(h-1),widest:gi(li),highest:gi(fi),widths:H,heights:ee}}getLabelForValue(u){return u}getPixelForValue(u,h){return NaN}getValueForPixel(u){}getPixelForTick(u){const h=this.ticks;return u<0||u>h.length-1?null:this.getPixelForValue(h[u].value)}getPixelForDecimal(u){this._reversePixels&&(u=1-u);const h=this._startPixel+u*this._length;return function pi(m){return ai(m,-32768,32767)}(this._alignToPixels?Xs(this.chart,h,0):h)}getDecimalForPixel(u){const h=(u-this._startPixel)/this._length;return this._reversePixels?1-h:h}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:u,max:h}=this;return u<0&&h<0?h:u>0&&h>0?u:0}getContext(u){const h=this.ticks||[];if(u>=0&&u<h.length){const C=h[u];return C.$context||(C.$context=function Qt(m,u,h){return Zi(m,{tick:h,index:u,type:"tick"})}(this.getContext(),u,C))}return this.$context||(this.$context=function Pe(m,u){return Zi(m,{scale:u,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const u=this.options.ticks,h=Ue(this.labelRotation),C=Math.abs(Math.cos(h)),I=Math.abs(Math.sin(h)),M=this._getLabelSizes(),H=u.autoSkipPadding||0,ee=M?M.widest.width+H:0,ge=M?M.highest.height+H:0;return this.isHorizontal()?ge*C>ee*I?ee/C:ge/I:ge*I<ee*C?ge/C:ee/I}_isVisible(){const u=this.options.display;return"auto"!==u?!!u:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(u){const h=this.axis,C=this.chart,I=this.options,{grid:M,position:H,border:ee}=I,ge=M.offset,De=this.isHorizontal(),Tt=this.ticks.length+(ge?1:0),Ft=sc(M),tn=[],Cn=ee.setContext(this.getContext()),yn=Cn.display?Cn.width:0,xn=yn/2,Bn=function(ns){return Xs(C,ns,yn)};let Vn,Yn,ei,Gn,li,fi,gi,Si,po,lo,ro,Tr;if("top"===H)Vn=Bn(this.bottom),fi=this.bottom-Ft,Si=Vn-xn,lo=Bn(u.top)+xn,Tr=u.bottom;else if("bottom"===H)Vn=Bn(this.top),lo=u.top,Tr=Bn(u.bottom)-xn,fi=Vn+xn,Si=this.top+Ft;else if("left"===H)Vn=Bn(this.right),li=this.right-Ft,gi=Vn-xn,po=Bn(u.left)+xn,ro=u.right;else if("right"===H)Vn=Bn(this.left),po=u.left,ro=Bn(u.right)-xn,li=Vn+xn,gi=this.left+Ft;else if("x"===h){if("center"===H)Vn=Bn((u.top+u.bottom)/2+.5);else if(fe(H)){const ns=Object.keys(H)[0];Vn=Bn(this.chart.scales[ns].getPixelForValue(H[ns]))}lo=u.top,Tr=u.bottom,fi=Vn+xn,Si=fi+Ft}else if("y"===h){if("center"===H)Vn=Bn((u.left+u.right)/2);else if(fe(H)){const ns=Object.keys(H)[0];Vn=Bn(this.chart.scales[ns].getPixelForValue(H[ns]))}li=Vn-xn,gi=li-Ft,po=u.left,ro=u.right}const va=Ct(I.ticks.maxTicksLimit,Tt),Bo=Math.max(1,Math.ceil(Tt/va));for(Yn=0;Yn<Tt;Yn+=Bo){const ns=this.getContext(Yn),qs=M.setContext(ns),ba=ee.setContext(ns),fr=qs.lineWidth,aa=qs.color,gu=ba.dash||[],pc=ba.dashOffset,Qs=qs.tickWidth,ya=qs.tickColor,Bc=qs.tickBorderDash||[],Oa=qs.tickBorderDashOffset;ei=Gd(this,Yn,ge),void 0!==ei&&(Gn=Xs(C,ei,fr),De?li=gi=po=ro=Gn:fi=Si=lo=Tr=Gn,tn.push({tx1:li,ty1:fi,tx2:gi,ty2:Si,x1:po,y1:lo,x2:ro,y2:Tr,width:fr,color:aa,borderDash:gu,borderDashOffset:pc,tickWidth:Qs,tickColor:ya,tickBorderDash:Bc,tickBorderDashOffset:Oa}))}return this._ticksLength=Tt,this._borderValue=Vn,tn}_computeLabelItems(u){const h=this.axis,C=this.options,{position:I,ticks:M}=C,H=this.isHorizontal(),ee=this.ticks,{align:ge,crossAlign:De,padding:rt,mirror:Tt}=M,Ft=sc(C.grid),tn=Ft+rt,Cn=Tt?-rt:tn,yn=-Ue(this.labelRotation),xn=[];let Bn,Vn,Yn,ei,Gn,li,fi,gi,Si,po,lo,ro,Tr="middle";if("top"===I)li=this.bottom-Cn,fi=this._getXAxisLabelAlignment();else if("bottom"===I)li=this.top+Cn,fi=this._getXAxisLabelAlignment();else if("left"===I){const Bo=this._getYAxisLabelAlignment(Ft);fi=Bo.textAlign,Gn=Bo.x}else if("right"===I){const Bo=this._getYAxisLabelAlignment(Ft);fi=Bo.textAlign,Gn=Bo.x}else if("x"===h){if("center"===I)li=(u.top+u.bottom)/2+tn;else if(fe(I)){const Bo=Object.keys(I)[0];li=this.chart.scales[Bo].getPixelForValue(I[Bo])+tn}fi=this._getXAxisLabelAlignment()}else if("y"===h){if("center"===I)Gn=(u.left+u.right)/2-tn;else if(fe(I)){const Bo=Object.keys(I)[0];Gn=this.chart.scales[Bo].getPixelForValue(I[Bo])}fi=this._getYAxisLabelAlignment(Ft).textAlign}"y"===h&&("start"===ge?Tr="top":"end"===ge&&(Tr="bottom"));const va=this._getLabelSizes();for(Bn=0,Vn=ee.length;Bn<Vn;++Bn){Yn=ee[Bn],ei=Yn.label;const Bo=M.setContext(this.getContext(Bn));gi=this.getPixelForTick(Bn)+M.labelOffset,Si=this._resolveTickFontOptions(Bn),po=Si.lineHeight,lo=at(ei)?ei.length:1;const ns=lo/2,qs=Bo.color,ba=Bo.textStrokeColor,fr=Bo.textStrokeWidth;let gu,aa=fi;if(H?(Gn=gi,"inner"===fi&&(aa=Bn===Vn-1?this.options.reverse?"left":"right":0===Bn?this.options.reverse?"right":"left":"center"),ro="top"===I?"near"===De||0!==yn?-lo*po+po/2:"center"===De?-va.highest.height/2-ns*po+po:po/2-va.highest.height:"near"===De||0!==yn?po/2:"center"===De?va.highest.height/2-ns*po:va.highest.height-lo*po,Tt&&(ro*=-1),0!==yn&&!Bo.showLabelBackdrop&&(Gn+=po/2*Math.sin(yn))):(li=gi,ro=(1-lo)*po/2),Bo.showLabelBackdrop){const pc=Nn(Bo.backdropPadding),Qs=va.heights[Bn],ya=va.widths[Bn];let Bc=ro-pc.top,Oa=0-pc.left;switch(Tr){case"middle":Bc-=Qs/2;break;case"bottom":Bc-=Qs}switch(fi){case"center":Oa-=ya/2;break;case"right":Oa-=ya}gu={left:Oa,top:Bc,width:ya+pc.width,height:Qs+pc.height,color:Bo.backdropColor}}xn.push({label:ei,font:Si,textOffset:ro,options:{rotation:yn,color:qs,strokeColor:ba,strokeWidth:fr,textAlign:aa,textBaseline:Tr,translation:[Gn,li],backdrop:gu}})}return xn}_getXAxisLabelAlignment(){const{position:u,ticks:h}=this.options;if(-Ue(this.labelRotation))return"top"===u?"left":"right";let I="center";return"start"===h.align?I="left":"end"===h.align?I="right":"inner"===h.align&&(I="inner"),I}_getYAxisLabelAlignment(u){const{position:h,ticks:{crossAlign:C,mirror:I,padding:M}}=this.options,ee=u+M,ge=this._getLabelSizes().widest.width;let De,rt;return"left"===h?I?(rt=this.right+M,"near"===C?De="left":"center"===C?(De="center",rt+=ge/2):(De="right",rt+=ge)):(rt=this.right-ee,"near"===C?De="right":"center"===C?(De="center",rt-=ge/2):(De="left",rt=this.left)):"right"===h?I?(rt=this.left+M,"near"===C?De="right":"center"===C?(De="center",rt-=ge/2):(De="left",rt-=ge)):(rt=this.left+ee,"near"===C?De="left":"center"===C?(De="center",rt+=ge/2):(De="right",rt=this.right)):De="right",{textAlign:De,x:rt}}_computeLabelArea(){if(this.options.ticks.mirror)return;const u=this.chart,h=this.options.position;return"left"===h||"right"===h?{top:0,left:this.left,bottom:u.height,right:this.right}:"top"===h||"bottom"===h?{top:this.top,left:0,bottom:this.bottom,right:u.width}:void 0}drawBackground(){const{ctx:u,options:{backgroundColor:h},left:C,top:I,width:M,height:H}=this;h&&(u.save(),u.fillStyle=h,u.fillRect(C,I,M,H),u.restore())}getLineWidthForValue(u){const h=this.options.grid;if(!this._isVisible()||!h.display)return 0;const I=this.ticks.findIndex(M=>M.value===u);return I>=0?h.setContext(this.getContext(I)).lineWidth:0}drawGrid(u){const h=this.options.grid,C=this.ctx,I=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(u));let M,H;const ee=(ge,De,rt)=>{!rt.width||!rt.color||(C.save(),C.lineWidth=rt.width,C.strokeStyle=rt.color,C.setLineDash(rt.borderDash||[]),C.lineDashOffset=rt.borderDashOffset,C.beginPath(),C.moveTo(ge.x,ge.y),C.lineTo(De.x,De.y),C.stroke(),C.restore())};if(h.display)for(M=0,H=I.length;M<H;++M){const ge=I[M];h.drawOnChartArea&&ee({x:ge.x1,y:ge.y1},{x:ge.x2,y:ge.y2},ge),h.drawTicks&&ee({x:ge.tx1,y:ge.ty1},{x:ge.tx2,y:ge.ty2},{color:ge.tickColor,width:ge.tickWidth,borderDash:ge.tickBorderDash,borderDashOffset:ge.tickBorderDashOffset})}}drawBorder(){const{chart:u,ctx:h,options:{border:C,grid:I}}=this,M=C.setContext(this.getContext()),H=C.display?M.width:0;if(!H)return;const ee=I.setContext(this.getContext(0)).lineWidth,ge=this._borderValue;let De,rt,Tt,Ft;this.isHorizontal()?(De=Xs(u,this.left,H)-H/2,rt=Xs(u,this.right,ee)+ee/2,Tt=Ft=ge):(Tt=Xs(u,this.top,H)-H/2,Ft=Xs(u,this.bottom,ee)+ee/2,De=rt=ge),h.save(),h.lineWidth=M.width,h.strokeStyle=M.color,h.beginPath(),h.moveTo(De,Tt),h.lineTo(rt,Ft),h.stroke(),h.restore()}drawLabels(u){if(!this.options.ticks.display)return;const C=this.ctx,I=this._computeLabelArea();I&&Cs(C,I);const M=this.getLabelItems(u);for(const H of M)vs(C,H.label,0,H.textOffset,H.font,H.options);I&&ms(C)}drawTitle(){const{ctx:u,options:{position:h,title:C,reverse:I}}=this;if(!C.display)return;const M=Wn(C.font),H=Nn(C.padding),ee=C.align;let ge=M.lineHeight/2;"bottom"===h||"center"===h||fe(h)?(ge+=H.bottom,at(C.text)&&(ge+=M.lineHeight*(C.text.length-1))):ge+=H.top;const{titleX:De,titleY:rt,maxWidth:Tt,rotation:Ft}=function tt(m,u,h,C){const{top:I,left:M,bottom:H,right:ee,chart:ge}=m,{chartArea:De,scales:rt}=ge;let Ft,tn,Cn,Tt=0;const yn=H-I,xn=ee-M;if(m.isHorizontal()){if(tn=so(C,M,ee),fe(h)){const Bn=Object.keys(h)[0];Cn=rt[Bn].getPixelForValue(h[Bn])+yn-u}else Cn="center"===h?(De.bottom+De.top)/2+yn-u:xc(m,h,u);Ft=ee-M}else{if(fe(h)){const Bn=Object.keys(h)[0];tn=rt[Bn].getPixelForValue(h[Bn])-xn+u}else tn="center"===h?(De.left+De.right)/2-xn+u:xc(m,h,u);Cn=so(C,H,I),Tt="left"===h?-rn:rn}return{titleX:tn,titleY:Cn,maxWidth:Ft,rotation:Tt}}(this,ge,h,ee);vs(u,C.text,0,0,M,{color:C.color,maxWidth:Tt,rotation:Ft,textAlign:ie(ee,h,I),textBaseline:"middle",translation:[De,rt]})}draw(u){!this._isVisible()||(this.drawBackground(),this.drawGrid(u),this.drawBorder(),this.drawTitle(),this.drawLabels(u))}_layers(){const u=this.options,h=u.ticks&&u.ticks.z||0,C=Ct(u.grid&&u.grid.z,-1),I=Ct(u.border&&u.border.z,0);return this._isVisible()&&this.draw===on.prototype.draw?[{z:C,draw:M=>{this.drawBackground(),this.drawGrid(M),this.drawTitle()}},{z:I,draw:()=>{this.drawBorder()}},{z:h,draw:M=>{this.drawLabels(M)}}]:[{z:h,draw:M=>{this.draw(M)}}]}getMatchingVisibleMetas(u){const h=this.chart.getSortedVisibleDatasetMetas(),C=this.axis+"AxisID",I=[];let M,H;for(M=0,H=h.length;M<H;++M){const ee=h[M];ee[C]===this.id&&(!u||ee.type===u)&&I.push(ee)}return I}_resolveTickFontOptions(u){return Wn(this.options.ticks.setContext(this.getContext(u)).font)}_maxDigits(){const u=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/u}}class En{constructor(u,h,C){this.type=u,this.scope=h,this.override=C,this.items=Object.create(null)}isForType(u){return Object.prototype.isPrototypeOf.call(this.type.prototype,u.prototype)}register(u){const h=Object.getPrototypeOf(u);let C;(function Ur(m){return"id"in m&&"defaults"in m})(h)&&(C=this.register(h));const I=this.items,M=u.id,H=this.scope+"."+M;if(!M)throw new Error("class does not have id: "+u);return M in I||(I[M]=u,function $n(m,u,h){const C=Ne(Object.create(null),[h?Bi.get(h):{},Bi.get(u),m.defaults]);Bi.set(u,C),m.defaultRoutes&&function Hi(m,u){Object.keys(u).forEach(h=>{const C=h.split("."),I=C.pop(),M=[m].concat(C).join("."),H=u[h].split("."),ee=H.pop(),ge=H.join(".");Bi.route(M,I,ge,ee)})}(u,m.defaultRoutes),m.descriptors&&Bi.describe(u,m.descriptors)}(u,H,C),this.override&&Bi.override(u.id,u.overrides)),H}get(u){return this.items[u]}unregister(u){const h=this.items,C=u.id,I=this.scope;C in h&&delete h[C],I&&C in Bi[I]&&(delete Bi[I][C],this.override&&delete Ii[C])}}class Ma{constructor(){this.controllers=new En(mo,"datasets",!0),this.elements=new En(mr,"elements"),this.plugins=new En(Object,"plugins"),this.scales=new En(on,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...u){this._each("register",u)}remove(...u){this._each("unregister",u)}addControllers(...u){this._each("register",u,this.controllers)}addElements(...u){this._each("register",u,this.elements)}addPlugins(...u){this._each("register",u,this.plugins)}addScales(...u){this._each("register",u,this.scales)}getController(u){return this._get(u,this.controllers,"controller")}getElement(u){return this._get(u,this.elements,"element")}getPlugin(u){return this._get(u,this.plugins,"plugin")}getScale(u){return this._get(u,this.scales,"scale")}removeControllers(...u){this._each("unregister",u,this.controllers)}removeElements(...u){this._each("unregister",u,this.elements)}removePlugins(...u){this._each("unregister",u,this.plugins)}removeScales(...u){this._each("unregister",u,this.scales)}_each(u,h,C){[...h].forEach(I=>{const M=C||this._getRegistryForType(I);C||M.isForType(I)||M===this.plugins&&I.id?this._exec(u,M,I):Ye(I,H=>{const ee=C||this._getRegistryForType(H);this._exec(u,ee,H)})})}_exec(u,h,C){const I=de(u);Mt(C["before"+I],[],C),h[u](C),Mt(C["after"+I],[],C)}_getRegistryForType(u){for(let h=0;h<this._typedRegistries.length;h++){const C=this._typedRegistries[h];if(C.isForType(u))return C}return this.plugins}_get(u,h,C){const I=h.get(u);if(void 0===I)throw new Error('"'+u+'" is not a registered '+C+".");return I}}var Hr=new Ma;class rc{constructor(){this._init=[]}notify(u,h,C,I){"beforeInit"===h&&(this._init=this._createDescriptors(u,!0),this._notify(this._init,u,"install"));const M=I?this._descriptors(u).filter(I):this._descriptors(u),H=this._notify(M,u,h,C);return"afterDestroy"===h&&(this._notify(M,u,"stop"),this._notify(this._init,u,"uninstall")),H}_notify(u,h,C,I){I=I||{};for(const M of u){const H=M.plugin;if(!1===Mt(H[C],[h,I,M.options],H)&&I.cancelable)return!1}return!0}invalidate(){ct(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(u){if(this._cache)return this._cache;const h=this._cache=this._createDescriptors(u);return this._notifyStateChanges(u),h}_createDescriptors(u,h){const C=u&&u.config,I=Ct(C.options&&C.options.plugins,{}),M=function Uu(m){const u={},h=[],C=Object.keys(Hr.plugins.items);for(let M=0;M<C.length;M++)h.push(Hr.getPlugin(C[M]));const I=m.plugins||[];for(let M=0;M<I.length;M++){const H=I[M];-1===h.indexOf(H)&&(h.push(H),u[H.id]=!0)}return{plugins:h,localIds:u}}(C);return!1!==I||h?function ch(m,{plugins:u,localIds:h},C,I){const M=[],H=m.getContext();for(const ee of u){const ge=ee.id,De=Hu(C[ge],I);null!==De&&M.push({plugin:ee,options:nm(m.config,{plugin:ee,local:h[ge]},De,H)})}return M}(u,M,I,h):[]}_notifyStateChanges(u){const h=this._oldCache||[],C=this._cache,I=(M,H)=>M.filter(ee=>!H.some(ge=>ee.plugin.id===ge.plugin.id));this._notify(I(h,C),u,"stop"),this._notify(I(C,h),u,"start")}}function Hu(m,u){return u||!1!==m?!0===m?{}:m:null}function nm(m,{plugin:u,local:h},C,I){const M=m.pluginScopeKeys(u),H=m.getOptionScopes(C,M);return h&&u.defaults&&H.push(u.defaults),m.createResolver(H,I,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function uh(m,u){return((u.datasets||{})[m]||{}).indexAxis||u.indexAxis||(Bi.datasets[m]||{}).indexAxis||"x"}function dh(m){if("x"===m||"y"===m||"r"===m)return m}function Vu(m){return"top"===m||"bottom"===m?"x":"left"===m||"right"===m?"y":void 0}function zu(m,...u){if(dh(m))return m;for(const h of u){const C=h.axis||Vu(h.position)||m.length>1&&dh(m[0].toLowerCase());if(C)return C}throw new Error(`Cannot determine type of '${m}' axis. Please provide 'axis' or 'position' option.`)}function Yd(m,u,h){if(h[u+"AxisID"]===m)return{axis:u}}function jd(m){const u=m.options||(m.options={});u.plugins=Ct(u.plugins,{}),u.scales=function $_(m,u){const h=Ii[m.type]||{scales:{}},C=u.scales||{},I=uh(m.type,u),M=Object.create(null);return Object.keys(C).forEach(H=>{const ee=C[H];if(!fe(ee))return console.error(`Invalid scale configuration for scale: ${H}`);if(ee._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${H}`);const ge=zu(H,ee,function ph(m,u){if(u.data&&u.data.datasets){const h=u.data.datasets.filter(C=>C.xAxisID===m||C.yAxisID===m);if(h.length)return Yd(m,"x",h[0])||Yd(m,"y",h[0])}return{}}(H,m),Bi.scales[ee.type]),De=function om(m,u){return m===u?"_index_":"_value_"}(ge,I),rt=h.scales||{};M[H]=me(Object.create(null),[{axis:ge},ee,rt[ge],rt[De]])}),m.data.datasets.forEach(H=>{const ee=H.type||m.type,ge=H.indexAxis||uh(ee,u),rt=(Ii[ee]||{}).scales||{};Object.keys(rt).forEach(Tt=>{const Ft=function im(m,u){let h=m;return"_index_"===m?h=u:"_value_"===m&&(h="x"===u?"y":"x"),h}(Tt,ge),tn=H[Ft+"AxisID"]||Ft;M[tn]=M[tn]||Object.create(null),me(M[tn],[{axis:Ft},C[tn],rt[Tt]])})}),Object.keys(M).forEach(H=>{const ee=M[H];me(ee,[Bi.scales[ee.type],Bi.scale])}),M}(m,u)}function hh(m){return(m=m||{}).datasets=m.datasets||[],m.labels=m.labels||[],m}const gh=new Map,Ju=new Set;function Kd(m,u){let h=gh.get(m);return h||(h=u(),gh.set(m,h),Ju.add(h)),h}const Yc=(m,u,h)=>{const C=et(u,h);void 0!==C&&m.add(C)};class jc{constructor(u){this._config=function sm(m){return(m=m||{}).data=hh(m.data),jd(m),m}(u),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(u){this._config.type=u}get data(){return this._config.data}set data(u){this._config.data=hh(u)}get options(){return this._config.options}set options(u){this._config.options=u}get plugins(){return this._config.plugins}update(){const u=this._config;this.clearCache(),jd(u)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(u){return Kd(u,()=>[[`datasets.${u}`,""]])}datasetAnimationScopeKeys(u,h){return Kd(`${u}.transition.${h}`,()=>[[`datasets.${u}.transitions.${h}`,`transitions.${h}`],[`datasets.${u}`,""]])}datasetElementScopeKeys(u,h){return Kd(`${u}-${h}`,()=>[[`datasets.${u}.elements.${h}`,`datasets.${u}`,`elements.${h}`,""]])}pluginScopeKeys(u){const h=u.id;return Kd(`${this.type}-plugin-${h}`,()=>[[`plugins.${h}`,...u.additionalOptionScopes||[]]])}_cachedScopes(u,h){const C=this._scopeCache;let I=C.get(u);return(!I||h)&&(I=new Map,C.set(u,I)),I}getOptionScopes(u,h,C){const{options:I,type:M}=this,H=this._cachedScopes(u,C),ee=H.get(h);if(ee)return ee;const ge=new Set;h.forEach(rt=>{u&&(ge.add(u),rt.forEach(Tt=>Yc(ge,u,Tt))),rt.forEach(Tt=>Yc(ge,I,Tt)),rt.forEach(Tt=>Yc(ge,Ii[M]||{},Tt)),rt.forEach(Tt=>Yc(ge,Bi,Tt)),rt.forEach(Tt=>Yc(ge,Ws,Tt))});const De=Array.from(ge);return 0===De.length&&De.push(Object.create(null)),Ju.has(h)&&H.set(h,De),De}chartOptionScopes(){const{options:u,type:h}=this;return[u,Ii[h]||{},Bi.datasets[h]||{},{type:h},Bi,Ws]}resolveNamedOptions(u,h,C,I=[""]){const M={$shared:!0},{resolver:H,subPrefixes:ee}=rm(this._resolverCache,u,I);let ge=H;(function e0(m,u){const{isScriptable:h,isIndexable:C}=Jr(m);for(const I of u){const M=h(I),H=C(I),ee=(H||M)&&m[I];if(M&&(ze(ee)||X_(ee))||H&&at(ee))return!0}return!1})(H,h)&&(M.$shared=!1,ge=Li(H,C=ze(C)?C():C,this.createResolver(u,C,ee)));for(const De of h)M[De]=ge[De];return M}createResolver(u,h,C=[""],I){const{resolver:M}=rm(this._resolverCache,u,C);return fe(h)?Li(M,h,void 0,I):M}}function rm(m,u,h){let C=m.get(u);C||(C=new Map,m.set(u,C));const I=h.join();let M=C.get(I);return M||(M={resolver:go(u,h),subPrefixes:h.filter(ee=>!ee.toLowerCase().includes("hover"))},C.set(I,M)),M}const X_=m=>fe(m)&&Object.getOwnPropertyNames(m).reduce((u,h)=>u||ze(m[h]),!1),n0=["top","bottom","left","right","chartArea"];function mh(m,u){return"top"===m||"bottom"===m||-1===n0.indexOf(m)&&"x"===u}function qd(m,u){return function(h,C){return h[m]===C[m]?h[u]-C[u]:h[m]-C[m]}}function Qu(m){const u=m.chart,h=u.options.animation;u.notifyPlugins("afterRender"),Mt(h&&h.onComplete,[m],u)}function $d(m){const u=m.chart,h=u.options.animation;Mt(h&&h.onProgress,[m],u)}function Xd(m){return Be()&&"string"==typeof m?m=document.getElementById(m):m&&m.length&&(m=m[0]),m&&m.canvas&&(m=m.canvas),m}const Ac={},Ha=m=>{const u=Xd(m);return Object.values(Ac).filter(h=>h.canvas===u).pop()};function Kc(m,u,h){const C=Object.keys(m);for(const I of C){const M=+I;if(M>=u){const H=m[I];delete m[I],(h>0||M>u)&&(m[M+h]=H)}}}class $a{static register(...u){Hr.add(...u),ul()}static unregister(...u){Hr.remove(...u),ul()}constructor(u,h){const C=this.config=new jc(h),I=Xd(u),M=Ha(I);if(M)throw new Error("Canvas is already in use. Chart with ID '"+M.id+"' must be destroyed before the canvas with ID '"+M.canvas.id+"' can be reused.");const H=C.createResolver(C.chartOptionScopes(),this.getContext());this.platform=new(C.platform||function oc(m){return!Be()||"undefined"!=typeof OffscreenCanvas&&m instanceof OffscreenCanvas?ve:ic}(I)),this.platform.updateConfig(C);const ee=this.platform.acquireContext(I,H.aspectRatio),ge=ee&&ee.canvas,De=ge&&ge.height,rt=ge&&ge.width;this.id=Ut(),this.ctx=ee,this.canvas=ge,this.width=rt,this.height=De,this._options=H,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new rc,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function os(m,u){let h;return function(...C){return u?(clearTimeout(h),h=setTimeout(m,u,C)):m.apply(this,C),u}}(Tt=>this.update(Tt),H.resizeDelay||0),this._dataChanges=[],Ac[this.id]=this,ee&&ge?(us.listen(this,"complete",Qu),us.listen(this,"progress",$d),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:u,maintainAspectRatio:h},width:C,height:I,_aspectRatio:M}=this;return ct(u)?h&&M?M:I?C/I:null:u}get data(){return this.config.data}set data(u){this.config.data=u}get options(){return this._options}set options(u){this.config.options=u}get registry(){return Hr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Or(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Bs(this.canvas,this.ctx),this}stop(){return us.stop(this),this}resize(u,h){us.running(this)?this._resizeBeforeDraw={width:u,height:h}:this._resize(u,h)}_resize(u,h){const C=this.options,H=this.platform.getMaximumSize(this.canvas,u,h,C.maintainAspectRatio&&this.aspectRatio),ee=C.devicePixelRatio||this.platform.getDevicePixelRatio(),ge=this.width?"resize":"attach";this.width=H.width,this.height=H.height,this._aspectRatio=this.aspectRatio,Or(this,ee,!0)&&(this.notifyPlugins("resize",{size:H}),Mt(C.onResize,[this,H],this),this.attached&&this._doResize(ge)&&this.render())}ensureScalesHaveIDs(){Ye(this.options.scales||{},(C,I)=>{C.id=I})}buildOrUpdateScales(){const u=this.options,h=u.scales,C=this.scales,I=Object.keys(C).reduce((H,ee)=>(H[ee]=!1,H),{});let M=[];h&&(M=M.concat(Object.keys(h).map(H=>{const ee=h[H],ge=zu(H,ee),De="r"===ge,rt="x"===ge;return{options:ee,dposition:De?"chartArea":rt?"bottom":"left",dtype:De?"radialLinear":rt?"category":"linear"}}))),Ye(M,H=>{const ee=H.options,ge=ee.id,De=zu(ge,ee),rt=Ct(ee.type,H.dtype);(void 0===ee.position||mh(ee.position,De)!==mh(H.dposition))&&(ee.position=H.dposition),I[ge]=!0;let Tt=null;ge in C&&C[ge].type===rt?Tt=C[ge]:(Tt=new(Hr.getScale(rt))({id:ge,type:rt,ctx:this.ctx,chart:this}),C[Tt.id]=Tt),Tt.init(ee,u)}),Ye(I,(H,ee)=>{H||delete C[ee]}),Ye(C,H=>{Ms.configure(this,H,H.options),Ms.addBox(this,H)})}_updateMetasets(){const u=this._metasets,h=this.data.datasets.length,C=u.length;if(u.sort((I,M)=>I.index-M.index),C>h){for(let I=h;I<C;++I)this._destroyDatasetMeta(I);u.splice(h,C-h)}this._sortedMetasets=u.slice(0).sort(qd("order","index"))}_removeUnreferencedMetasets(){const{_metasets:u,data:{datasets:h}}=this;u.length>h.length&&delete this._stacks,u.forEach((C,I)=>{0===h.filter(M=>M===C._dataset).length&&this._destroyDatasetMeta(I)})}buildOrUpdateControllers(){const u=[],h=this.data.datasets;let C,I;for(this._removeUnreferencedMetasets(),C=0,I=h.length;C<I;C++){const M=h[C];let H=this.getDatasetMeta(C);const ee=M.type||this.config.type;if(H.type&&H.type!==ee&&(this._destroyDatasetMeta(C),H=this.getDatasetMeta(C)),H.type=ee,H.indexAxis=M.indexAxis||uh(ee,this.options),H.order=M.order||0,H.index=C,H.label=""+M.label,H.visible=this.isDatasetVisible(C),H.controller)H.controller.updateIndex(C),H.controller.linkScales();else{const ge=Hr.getController(ee),{datasetElementType:De,dataElementType:rt}=Bi.datasets[ee];Object.assign(ge,{dataElementType:Hr.getElement(rt),datasetElementType:De&&Hr.getElement(De)}),H.controller=new ge(this,C),u.push(H.controller)}}return this._updateMetasets(),u}_resetElements(){Ye(this.data.datasets,(u,h)=>{this.getDatasetMeta(h).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(u){const h=this.config;h.update();const C=this._options=h.createResolver(h.chartOptionScopes(),this.getContext()),I=this._animationsDisabled=!C.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:u,cancelable:!0}))return;const M=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let H=0;for(let De=0,rt=this.data.datasets.length;De<rt;De++){const{controller:Tt}=this.getDatasetMeta(De),Ft=!I&&-1===M.indexOf(Tt);Tt.buildOrUpdateElements(Ft),H=Math.max(+Tt.getMaxOverflow(),H)}H=this._minPadding=C.layout.autoPadding?H:0,this._updateLayout(H),I||Ye(M,De=>{De.reset()}),this._updateDatasets(u),this.notifyPlugins("afterUpdate",{mode:u}),this._layers.sort(qd("z","_idx"));const{_active:ee,_lastEvent:ge}=this;ge?this._eventHandler(ge,!0):ee.length&&this._updateHoverStyles(ee,ee,!0),this.render()}_updateScales(){Ye(this.scales,u=>{Ms.removeBox(this,u)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const u=this.options,h=new Set(Object.keys(this._listeners)),C=new Set(u.events);(!wt(h,C)||!!this._responsiveListeners!==u.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:u}=this,h=this._getUniformDataChanges()||[];for(const{method:C,start:I,count:M}of h)Kc(u,I,"_removeElements"===C?-M:M)}_getUniformDataChanges(){const u=this._dataChanges;if(!u||!u.length)return;this._dataChanges=[];const h=this.data.datasets.length,C=M=>new Set(u.filter(H=>H[0]===M).map((H,ee)=>ee+","+H.splice(1).join(","))),I=C(0);for(let M=1;M<h;M++)if(!wt(I,C(M)))return;return Array.from(I).map(M=>M.split(",")).map(M=>({method:M[1],start:+M[2],count:+M[3]}))}_updateLayout(u){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Ms.update(this,this.width,this.height,u);const h=this.chartArea,C=h.width<=0||h.height<=0;this._layers=[],Ye(this.boxes,I=>{C&&"chartArea"===I.position||(I.configure&&I.configure(),this._layers.push(...I._layers()))},this),this._layers.forEach((I,M)=>{I._idx=M}),this.notifyPlugins("afterLayout")}_updateDatasets(u){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:u,cancelable:!0})){for(let h=0,C=this.data.datasets.length;h<C;++h)this.getDatasetMeta(h).controller.configure();for(let h=0,C=this.data.datasets.length;h<C;++h)this._updateDataset(h,ze(u)?u({datasetIndex:h}):u);this.notifyPlugins("afterDatasetsUpdate",{mode:u})}}_updateDataset(u,h){const C=this.getDatasetMeta(u),I={meta:C,index:u,mode:h,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",I)&&(C.controller._update(h),I.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",I))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(us.has(this)?this.attached&&!us.running(this)&&us.start(this):(this.draw(),Qu({chart:this})))}draw(){let u;if(this._resizeBeforeDraw){const{width:C,height:I}=this._resizeBeforeDraw;this._resize(C,I),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const h=this._layers;for(u=0;u<h.length&&h[u].z<=0;++u)h[u].draw(this.chartArea);for(this._drawDatasets();u<h.length;++u)h[u].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(u){const h=this._sortedMetasets,C=[];let I,M;for(I=0,M=h.length;I<M;++I){const H=h[I];(!u||H.visible)&&C.push(H)}return C}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const u=this.getSortedVisibleDatasetMetas();for(let h=u.length-1;h>=0;--h)this._drawDataset(u[h]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(u){const h=this.ctx,C=u._clip,I=!C.disabled,M=function fh(m){const{xScale:u,yScale:h}=m;if(u&&h)return{left:u.left,right:u.right,top:h.top,bottom:h.bottom}}(u)||this.chartArea,H={meta:u,index:u.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",H)&&(I&&Cs(h,{left:!1===C.left?0:M.left-C.left,right:!1===C.right?this.width:M.right+C.right,top:!1===C.top?0:M.top-C.top,bottom:!1===C.bottom?this.height:M.bottom+C.bottom}),u.controller.draw(),I&&ms(h),H.cancelable=!1,this.notifyPlugins("afterDatasetDraw",H))}isPointInArea(u){return ls(u,this.chartArea,this._minPadding)}getElementsAtEventForMode(u,h,C,I){const M=Lu.modes[h];return"function"==typeof M?M(this,u,C,I):[]}getDatasetMeta(u){const h=this.data.datasets[u],C=this._metasets;let I=C.filter(M=>M&&M._dataset===h).pop();return I||(I={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:h&&h.order||0,index:u,_dataset:h,_parsed:[],_sorted:!1},C.push(I)),I}getContext(){return this.$context||(this.$context=Zi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(u){const h=this.data.datasets[u];if(!h)return!1;const C=this.getDatasetMeta(u);return"boolean"==typeof C.hidden?!C.hidden:!h.hidden}setDatasetVisibility(u,h){this.getDatasetMeta(u).hidden=!h}toggleDataVisibility(u){this._hiddenIndices[u]=!this._hiddenIndices[u]}getDataVisibility(u){return!this._hiddenIndices[u]}_updateVisibility(u,h,C){const I=C?"show":"hide",M=this.getDatasetMeta(u),H=M.controller._resolveAnimations(void 0,I);Je(h)?(M.data[h].hidden=!C,this.update()):(this.setDatasetVisibility(u,C),H.update(M,{visible:C}),this.update(ee=>ee.datasetIndex===u?I:void 0))}hide(u,h){this._updateVisibility(u,h,!1)}show(u,h){this._updateVisibility(u,h,!0)}_destroyDatasetMeta(u){const h=this._metasets[u];h&&h.controller&&h.controller._destroy(),delete this._metasets[u]}_stop(){let u,h;for(this.stop(),us.remove(this),u=0,h=this.data.datasets.length;u<h;++u)this._destroyDatasetMeta(u)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:u,ctx:h}=this;this._stop(),this.config.clearCache(),u&&(this.unbindEvents(),Bs(u,h),this.platform.releaseContext(h),this.canvas=null,this.ctx=null),delete Ac[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...u){return this.canvas.toDataURL(...u)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const u=this._listeners,h=this.platform,C=(M,H)=>{h.addEventListener(this,M,H),u[M]=H},I=(M,H,ee)=>{M.offsetX=H,M.offsetY=ee,this._eventHandler(M)};Ye(this.options.events,M=>C(M,I))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const u=this._responsiveListeners,h=this.platform,C=(ge,De)=>{h.addEventListener(this,ge,De),u[ge]=De},I=(ge,De)=>{u[ge]&&(h.removeEventListener(this,ge,De),delete u[ge])},M=(ge,De)=>{this.canvas&&this.resize(ge,De)};let H;const ee=()=>{I("attach",ee),this.attached=!0,this.resize(),C("resize",M),C("detach",H)};H=()=>{this.attached=!1,I("resize",M),this._stop(),this._resize(0,0),C("attach",ee)},h.isAttached(this.canvas)?ee():H()}unbindEvents(){Ye(this._listeners,(u,h)=>{this.platform.removeEventListener(this,h,u)}),this._listeners={},Ye(this._responsiveListeners,(u,h)=>{this.platform.removeEventListener(this,h,u)}),this._responsiveListeners=void 0}updateHoverStyle(u,h,C){const I=C?"set":"remove";let M,H,ee,ge;for("dataset"===h&&(M=this.getDatasetMeta(u[0].datasetIndex),M.controller["_"+I+"DatasetHoverStyle"]()),ee=0,ge=u.length;ee<ge;++ee){H=u[ee];const De=H&&this.getDatasetMeta(H.datasetIndex).controller;De&&De[I+"HoverStyle"](H.element,H.datasetIndex,H.index)}}getActiveElements(){return this._active||[]}setActiveElements(u){const h=this._active||[],C=u.map(({datasetIndex:M,index:H})=>{const ee=this.getDatasetMeta(M);if(!ee)throw new Error("No dataset found at index "+M);return{datasetIndex:M,element:ee.data[H],index:H}});!st(C,h)&&(this._active=C,this._lastEvent=null,this._updateHoverStyles(C,h))}notifyPlugins(u,h,C){return this._plugins.notify(this,u,h,C)}isPluginEnabled(u){return 1===this._plugins._cache.filter(h=>h.plugin.id===u).length}_updateHoverStyles(u,h,C){const I=this.options.hover,M=(ge,De)=>ge.filter(rt=>!De.some(Tt=>rt.datasetIndex===Tt.datasetIndex&&rt.index===Tt.index)),H=M(h,u),ee=C?u:M(u,h);H.length&&this.updateHoverStyle(H,I.mode,!1),ee.length&&I.mode&&this.updateHoverStyle(ee,I.mode,!0)}_eventHandler(u,h){const C={event:u,replay:h,cancelable:!0,inChartArea:this.isPointInArea(u)},I=H=>(H.options.events||this.options.events).includes(u.native.type);if(!1===this.notifyPlugins("beforeEvent",C,I))return;const M=this._handleEvent(u,h,C.inChartArea);return C.cancelable=!1,this.notifyPlugins("afterEvent",C,I),(M||C.changed)&&this.render(),this}_handleEvent(u,h,C){const{_active:I=[],options:M}=this,ee=this._getActiveElements(u,I,C,h),ge=function Fe(m){return"mouseup"===m.type||"click"===m.type||"contextmenu"===m.type}(u),De=function Pi(m,u,h,C){return h&&"mouseout"!==m.type?C?u:m:null}(u,this._lastEvent,C,ge);C&&(this._lastEvent=null,Mt(M.onHover,[u,ee,this],this),ge&&Mt(M.onClick,[u,ee,this],this));const rt=!st(ee,I);return(rt||h)&&(this._active=ee,this._updateHoverStyles(ee,I,h)),this._lastEvent=De,rt}_getActiveElements(u,h,C,I){if("mouseout"===u.type)return[];if(!C)return h;const M=this.options.hover;return this.getElementsAtEventForMode(u,M.mode,M,I)}}function ul(){return Ye($a.instances,m=>m._plugins.invalidate())}function Pl(m,u,h,C){return{x:h+m*Math.cos(u),y:C+m*Math.sin(u)}}function lc(m,u,h,C,I,M){const{x:H,y:ee,startAngle:ge,pixelMargin:De,innerRadius:rt}=u,Tt=Math.max(u.outerRadius+C+h-De,0),Ft=rt>0?rt+C+h+De:0;let tn=0;const Cn=I-ge;if(C){const qs=((rt>0?rt-C:0)+(Tt>0?Tt-C:0))/2;tn=(Cn-(0!==qs?Cn*qs/(qs+C):Cn))/2}const xn=(Cn-Math.max(.001,Cn*Tt-h/qt)/Tt)/2,Bn=ge+xn+tn,Vn=I-xn-tn,{outerStart:Yn,outerEnd:ei,innerStart:Gn,innerEnd:li}=function Ch(m,u,h,C){const I=function _h(m){return Ge(m,["outerStart","outerEnd","innerStart","innerEnd"])}(m.options.borderRadius),M=(h-u)/2,H=Math.min(M,C*u/2),ee=ge=>{const De=(h-Math.min(M,ge))*C/2;return ai(ge,0,Math.min(M,De))};return{outerStart:ee(I.outerStart),outerEnd:ee(I.outerEnd),innerStart:ai(I.innerStart,0,H),innerEnd:ai(I.innerEnd,0,H)}}(u,Ft,Tt,Vn-Bn),fi=Tt-Yn,gi=Tt-ei,Si=Bn+Yn/fi,po=Vn-ei/gi,lo=Ft+Gn,ro=Ft+li,Tr=Bn+Gn/lo,va=Vn-li/ro;if(m.beginPath(),M){const Bo=(Si+po)/2;if(m.arc(H,ee,Tt,Si,Bo),m.arc(H,ee,Tt,Bo,po),ei>0){const fr=Pl(gi,po,H,ee);m.arc(fr.x,fr.y,ei,po,Vn+rn)}const ns=Pl(ro,Vn,H,ee);if(m.lineTo(ns.x,ns.y),li>0){const fr=Pl(ro,va,H,ee);m.arc(fr.x,fr.y,li,Vn+rn,va+Math.PI)}const qs=(Vn-li/Ft+(Bn+Gn/Ft))/2;if(m.arc(H,ee,Ft,Vn-li/Ft,qs,!0),m.arc(H,ee,Ft,qs,Bn+Gn/Ft,!0),Gn>0){const fr=Pl(lo,Tr,H,ee);m.arc(fr.x,fr.y,Gn,Tr+Math.PI,Bn-rn)}const ba=Pl(fi,Bn,H,ee);if(m.lineTo(ba.x,ba.y),Yn>0){const fr=Pl(fi,Si,H,ee);m.arc(fr.x,fr.y,Yn,Bn-rn,Si)}}else{m.moveTo(H,ee);const Bo=Math.cos(Si)*Tt+H,ns=Math.sin(Si)*Tt+ee;m.lineTo(Bo,ns);const qs=Math.cos(po)*Tt+H,ba=Math.sin(po)*Tt+ee;m.lineTo(qs,ba)}m.closePath()}Ci($a,"defaults",Bi),Ci($a,"instances",Ac),Ci($a,"overrides",Ii),Ci($a,"registry",Hr),Ci($a,"version","4.3.3"),Ci($a,"getChart",Ha);class ra extends mr{constructor(h){super(),Ci(this,"circumference"),Ci(this,"endAngle"),Ci(this,"fullCircles"),Ci(this,"innerRadius"),Ci(this,"outerRadius"),Ci(this,"pixelMargin"),Ci(this,"startAngle"),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,h&&Object.assign(this,h)}inRange(h,C,I){const M=this.getProps(["x","y"],I),{angle:H,distance:ee}=Zt(M,{x:h,y:C}),{startAngle:ge,endAngle:De,innerRadius:rt,outerRadius:Tt,circumference:Ft}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],I),tn=(this.options.spacing+this.options.borderWidth)/2,yn=Ct(Ft,De-ge)>=fn||qn(H,ge,De),xn=oi(ee,rt+tn,Tt+tn);return yn&&xn}getCenterPoint(h){const{x:C,y:I,startAngle:M,endAngle:H,innerRadius:ee,outerRadius:ge}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],h),{offset:De,spacing:rt}=this.options,Tt=(M+H)/2,Ft=(ee+ge+rt+De)/2;return{x:C+Math.cos(Tt)*Ft,y:I+Math.sin(Tt)*Ft}}tooltipPosition(h){return this.getCenterPoint(h)}draw(h){const{options:C,circumference:I}=this,M=(C.offset||0)/4,H=(C.spacing||0)/2,ee=C.circular;if(this.pixelMargin="inner"===C.borderAlign?.33:0,this.fullCircles=I>fn?Math.floor(I/fn):0,0===I||this.innerRadius<0||this.outerRadius<0)return;h.save();const ge=(this.startAngle+this.endAngle)/2;h.translate(Math.cos(ge)*M,Math.sin(ge)*M);const rt=M*(1-Math.sin(Math.min(qt,I||0)));h.fillStyle=C.backgroundColor,h.strokeStyle=C.borderColor,function vh(m,u,h,C,I){const{fullCircles:M,startAngle:H,circumference:ee}=u;let ge=u.endAngle;if(M){lc(m,u,h,C,ge,I);for(let De=0;De<M;++De)m.fill();isNaN(ee)||(ge=H+(ee%fn||fn))}lc(m,u,h,C,ge,I),m.fill()}(h,this,rt,H,ee),function sa(m,u,h,C,I){const{fullCircles:M,startAngle:H,circumference:ee,options:ge}=u,{borderWidth:De,borderJoinStyle:rt,borderDash:Tt,borderDashOffset:Ft}=ge,tn="inner"===ge.borderAlign;if(!De)return;m.setLineDash(Tt||[]),m.lineDashOffset=Ft,tn?(m.lineWidth=2*De,m.lineJoin=rt||"round"):(m.lineWidth=De,m.lineJoin=rt||"bevel");let Cn=u.endAngle;if(M){lc(m,u,h,C,Cn,I);for(let yn=0;yn<M;++yn)m.stroke();isNaN(ee)||(Cn=H+(ee%fn||fn))}tn&&function ac(m,u,h){const{startAngle:C,pixelMargin:I,x:M,y:H,outerRadius:ee,innerRadius:ge}=u;let De=I/ee;m.beginPath(),m.arc(M,H,ee,C-De,h+De),ge>I?(De=I/ge,m.arc(M,H,ge,h+De,C-De,!0)):m.arc(M,H,I,h+rn,C-rn),m.closePath(),m.clip()}(m,u,Cn),M||(lc(m,u,h,C,Cn,I),m.stroke())}(h,this,rt,H,ee),h.restore()}}function Gu(m,u,h=u){m.lineCap=Ct(h.borderCapStyle,u.borderCapStyle),m.setLineDash(Ct(h.borderDash,u.borderDash)),m.lineDashOffset=Ct(h.borderDashOffset,u.borderDashOffset),m.lineJoin=Ct(h.borderJoinStyle,u.borderJoinStyle),m.lineWidth=Ct(h.borderWidth,u.borderWidth),m.strokeStyle=Ct(h.borderColor,u.borderColor)}function cn(m,u,h){m.lineTo(h.x,h.y)}function Ks(m,u,h={}){const C=m.length,{start:I=0,end:M=C-1}=h,{start:H,end:ee}=u,ge=Math.max(I,H),De=Math.min(M,ee);return{count:C,start:ge,loop:u.loop,ilen:De<ge&&!(I<H&&M<H||I>ee&&M>ee)?C+De-ge:De-ge}}function jo(m,u,h,C){const{points:I,options:M}=u,{count:H,start:ee,loop:ge,ilen:De}=Ks(I,h,C),rt=function tr(m){return m.stepped?ws:m.tension||"monotone"===m.cubicInterpolationMode?br:cn}(M);let tn,Cn,yn,{move:Tt=!0,reverse:Ft}=C||{};for(tn=0;tn<=De;++tn)Cn=I[(ee+(Ft?De-tn:tn))%H],!Cn.skip&&(Tt?(m.moveTo(Cn.x,Cn.y),Tt=!1):rt(m,yn,Cn,Ft,M.stepped),yn=Cn);return ge&&(Cn=I[(ee+(Ft?De:0))%H],rt(m,yn,Cn,Ft,M.stepped)),!!ge}function am(m,u,h,C){const I=u.points,{count:M,start:H,ilen:ee}=Ks(I,h,C),{move:ge=!0,reverse:De}=C||{};let Ft,tn,Cn,yn,xn,Bn,rt=0,Tt=0;const Vn=ei=>(H+(De?ee-ei:ei))%M,Yn=()=>{yn!==xn&&(m.lineTo(rt,xn),m.lineTo(rt,yn),m.lineTo(rt,Bn))};for(ge&&(tn=I[Vn(0)],m.moveTo(tn.x,tn.y)),Ft=0;Ft<=ee;++Ft){if(tn=I[Vn(Ft)],tn.skip)continue;const ei=tn.x,Gn=tn.y,li=0|ei;li===Cn?(Gn<yn?yn=Gn:Gn>xn&&(xn=Gn),rt=(Tt*rt+ei)/++Tt):(Yn(),m.lineTo(ei,Gn),Cn=li,Tt=0,yn=xn=Gn),Bn=Gn}Yn()}function Wu(m){const u=m.options;return m._decimated||m._loop||u.tension||"monotone"===u.cubicInterpolationMode||u.stepped||u.borderDash&&u.borderDash.length?jo:am}Ci(ra,"id","arc"),Ci(ra,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Ci(ra,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ci(ra,"descriptors",{_scriptable:!0,_indexable:h=>"borderDash"!==h});const da="function"==typeof Path2D;class dl extends mr{constructor(u){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,u&&Object.assign(this,u)}updateControlPoints(u,h){const C=this.options;!C.tension&&"monotone"!==C.cubicInterpolationMode||C.stepped||this._pointsUpdated||(nt(this._points,C,u,C.spanGaps?this._loop:this._fullLoop,h),this._pointsUpdated=!0)}set points(u){this._points=u,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function Yi(m,u){const h=m.points,C=m.options.spanGaps,I=h.length;if(!I)return[];const M=!!m._loop,{start:H,end:ee}=function uo(m,u,h,C){let I=0,M=u-1;if(h&&!C)for(;I<u&&!m[I].skip;)I++;for(;I<u&&m[I].skip;)I++;for(I%=u,h&&(M+=I);M>I&&m[M%u].skip;)M--;return M%=u,{start:I,end:M}}(h,I,M,C);return function Co(m,u,h,C){return C&&C.setContext&&h?function bi(m,u,h,C){const I=m._chart.getContext(),M=xo(m.options),{_datasetIndex:H,options:{spanGaps:ee}}=m,ge=h.length,De=[];let rt=M,Tt=u[0].start,Ft=Tt;function tn(Cn,yn,xn,Bn){const Vn=ee?-1:1;if(Cn!==yn){for(Cn+=ge;h[Cn%ge].skip;)Cn-=Vn;for(;h[yn%ge].skip;)yn+=Vn;Cn%ge!=yn%ge&&(De.push({start:Cn%ge,end:yn%ge,loop:xn,style:Bn}),rt=Bn,Tt=yn%ge)}}for(const Cn of u){Tt=ee?Tt:Cn.start;let xn,yn=h[Tt%ge];for(Ft=Tt+1;Ft<=Cn.end;Ft++){const Bn=h[Ft%ge];xn=xo(C.setContext(Zi(I,{type:"segment",p0:yn,p1:Bn,p0DataIndex:(Ft-1)%ge,p1DataIndex:Ft%ge,datasetIndex:H}))),Yo(xn,rt)&&tn(Tt,Ft-1,Cn.loop,rt),yn=Bn,rt=xn}Tt<Ft-1&&tn(Tt,Ft-1,Cn.loop,rt)}return De}(m,u,h,C):u}(m,!0===C?[{start:H,end:ee,loop:M}]:function _o(m,u,h,C){const I=m.length,M=[];let ge,H=u,ee=m[u];for(ge=u+1;ge<=h;++ge){const De=m[ge%I];De.skip||De.stop?ee.skip||(M.push({start:u%I,end:(ge-1)%I,loop:C=!1}),u=H=De.stop?ge:null):(H=ge,ee.skip&&(u=ge)),ee=De}return null!==H&&M.push({start:u%I,end:H%I,loop:C}),M}(h,H,ee<H?ee+I:ee,!!m._fullLoop&&0===H&&ee===I-1),h,u)}(this,this.options.segment))}first(){const u=this.segments;return u.length&&this.points[u[0].start]}last(){const u=this.segments,C=u.length;return C&&this.points[u[C-1].end]}interpolate(u,h){const C=this.options,I=u[h],M=this.points,H=to(this,{property:h,start:I,end:I});if(!H.length)return;const ee=[],ge=function qc(m){return m.stepped?fa:m.tension||"monotone"===m.cubicInterpolationMode?Na:cr}(C);let De,rt;for(De=0,rt=H.length;De<rt;++De){const{start:Tt,end:Ft}=H[De],tn=M[Tt],Cn=M[Ft];if(tn===Cn){ee.push(tn);continue}const xn=ge(tn,Cn,Math.abs((I-tn[h])/(Cn[h]-tn[h])),C.stepped);xn[h]=u[h],ee.push(xn)}return 1===ee.length?ee[0]:ee}pathSegment(u,h,C){return Wu(this)(u,this,h,C)}path(u,h,C){const I=this.segments,M=Wu(this);let H=this._loop;h=h||0,C=C||this.points.length-h;for(const ee of I)H&=M(u,this,ee,{start:h,end:h+C-1});return!!H}draw(u,h,C,I){(this.points||[]).length&&(this.options||{}).borderWidth&&(u.save(),function wc(m,u,h,C){da&&!u.options.segment?function bh(m,u,h,C){let I=u._path;I||(I=u._path=new Path2D,u.path(I,h,C)&&I.closePath()),Gu(m,u.options),m.stroke(I)}(m,u,h,C):function ep(m,u,h,C){const{segments:I,options:M}=u,H=Wu(u);for(const ee of I)Gu(m,M,ee.style),m.beginPath(),H(m,u,ee,{start:h,end:h+C-1})&&m.closePath(),m.stroke()}(m,u,h,C)}(u,this,C,I),u.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function yh(m,u,h,C){const I=m.options,{[h]:M}=m.getProps([h],C);return Math.abs(u-M)<I.radius+I.hitRadius}Ci(dl,"id","line"),Ci(dl,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ci(dl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ci(dl,"descriptors",{_scriptable:!0,_indexable:u=>"borderDash"!==u&&"fill"!==u});class Ll extends mr{constructor(h){super(),Ci(this,"parsed"),Ci(this,"skip"),Ci(this,"stop"),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,h&&Object.assign(this,h)}inRange(h,C,I){const M=this.options,{x:H,y:ee}=this.getProps(["x","y"],I);return Math.pow(h-H,2)+Math.pow(C-ee,2)<Math.pow(M.hitRadius+M.radius,2)}inXRange(h,C){return yh(this,h,"x",C)}inYRange(h,C){return yh(this,h,"y",C)}getCenterPoint(h){const{x:C,y:I}=this.getProps(["x","y"],h);return{x:C,y:I}}size(h){let C=(h=h||this.options||{}).radius||0;return C=Math.max(C,C&&h.hoverRadius||0),2*(C+(C&&h.borderWidth||0))}draw(h,C){const I=this.options;this.skip||I.radius<.1||!ls(this,C,this.size(I)/2)||(h.strokeStyle=I.borderColor,h.lineWidth=I.borderWidth,h.fillStyle=I.backgroundColor,fo(h,I,this.x,this.y))}getRange(){const h=this.options||{};return h.radius+h.hitRadius}}function cc(m,u){const{x:h,y:C,base:I,width:M,height:H}=m.getProps(["x","y","base","width","height"],u);let ee,ge,De,rt,Tt;return m.horizontal?(Tt=H/2,ee=Math.min(h,I),ge=Math.max(h,I),De=C-Tt,rt=C+Tt):(Tt=M/2,ee=h-Tt,ge=h+Tt,De=Math.min(C,I),rt=Math.max(C,I)),{left:ee,top:De,right:ge,bottom:rt}}function pl(m,u,h,C){return m?0:ai(u,h,C)}function Yu(m,u,h,C){const I=null===u,M=null===h,ee=m&&!(I&&M)&&cc(m,C);return ee&&(I||oi(u,ee.left,ee.right))&&(M||oi(h,ee.top,ee.bottom))}function ju(m,u){m.rect(u.x,u.y,u.w,u.h)}function $c(m,u,h={}){const C=m.x!==h.x?-u:0,I=m.y!==h.y?-u:0;return{x:m.x+C,y:m.y+I,w:m.w+((m.x+m.w!==h.x+h.w?u:0)-C),h:m.h+((m.y+m.h!==h.y+h.h?u:0)-I),radius:m.radius}}Ci(Ll,"id","point"),Ci(Ll,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ci(Ll,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class Sc extends mr{constructor(u){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,u&&Object.assign(this,u)}draw(u){const{inflateAmount:h,options:{borderColor:C,backgroundColor:I}}=this,{inner:M,outer:H}=function Ec(m){const u=cc(m),h=u.right-u.left,C=u.bottom-u.top,I=function tp(m,u,h){const I=m.borderSkipped,M=xt(m.options.borderWidth);return{t:pl(I.top,M.top,0,h),r:pl(I.right,M.right,0,u),b:pl(I.bottom,M.bottom,0,h),l:pl(I.left,M.left,0,u)}}(m,h/2,C/2),M=function hl(m,u,h){const{enableBorderRadius:C}=m.getProps(["enableBorderRadius"]),I=m.options.borderRadius,M=zt(I),H=Math.min(u,h),ee=m.borderSkipped,ge=C||fe(I);return{topLeft:pl(!ge||ee.top||ee.left,M.topLeft,0,H),topRight:pl(!ge||ee.top||ee.right,M.topRight,0,H),bottomLeft:pl(!ge||ee.bottom||ee.left,M.bottomLeft,0,H),bottomRight:pl(!ge||ee.bottom||ee.right,M.bottomRight,0,H)}}(m,h/2,C/2);return{outer:{x:u.left,y:u.top,w:h,h:C,radius:M},inner:{x:u.left+I.l,y:u.top+I.t,w:h-I.l-I.r,h:C-I.t-I.b,radius:{topLeft:Math.max(0,M.topLeft-Math.max(I.t,I.l)),topRight:Math.max(0,M.topRight-Math.max(I.t,I.r)),bottomLeft:Math.max(0,M.bottomLeft-Math.max(I.b,I.l)),bottomRight:Math.max(0,M.bottomRight-Math.max(I.b,I.r))}}}}(this),ee=function np(m){return m.topLeft||m.topRight||m.bottomLeft||m.bottomRight}(H.radius)?ts:ju;u.save(),(H.w!==M.w||H.h!==M.h)&&(u.beginPath(),ee(u,$c(H,h,M)),u.clip(),ee(u,$c(M,-h,H)),u.fillStyle=C,u.fill("evenodd")),u.beginPath(),ee(u,$c(M,h)),u.fillStyle=I,u.fill(),u.restore()}inRange(u,h,C){return Yu(this,u,h,C)}inXRange(u,h){return Yu(this,u,null,h)}inYRange(u,h){return Yu(this,null,u,h)}getCenterPoint(u){const{x:h,y:C,base:I,horizontal:M}=this.getProps(["x","y","base","horizontal"],u);return{x:M?(h+I)/2:h,y:M?C:(C+I)/2}}getRange(u){return"x"===u?this.width/2:this.height/2}}Ci(Sc,"id","bar"),Ci(Sc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ci(Sc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var lm=Object.freeze({__proto__:null,ArcElement:ra,BarElement:Sc,LineElement:dl,PointElement:Ll});const Rl=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Va=Rl.map(m=>m.replace("rgb(","rgba(").replace(")",", 0.5)"));function Ku(m){return Rl[m%Rl.length]}function xh(m){return Va[m%Va.length]}function op(m){let u;for(u in m)if(m[u].borderColor||m[u].backgroundColor)return!0;return!1}var Ih={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(m,u,h){if(!h.enabled)return;const{data:{datasets:C},options:I}=m.config,{elements:M}=I;if(!h.forceOverride&&(op(C)||function kc(m){return m&&(m.borderColor||m.backgroundColor)}(I)||M&&op(M)))return;const H=function ip(m){let u=0;return(h,C)=>{const I=m.getDatasetMeta(C).controller;I instanceof Ro?u=function Nl(m,u){return m.backgroundColor=m.data.map(()=>Ku(u++)),u}(h,u):I instanceof Vs?u=function _s(m,u){return m.backgroundColor=m.data.map(()=>xh(u++)),u}(h,u):I&&(u=function qu(m,u){return m.borderColor=Ku(u),m.backgroundColor=xh(u),++u}(h,u))}}(m);C.forEach(H)}};function Xu(m){if(m._decimated){const u=m._data;delete m._decimated,delete m._data,Object.defineProperty(m,"data",{configurable:!0,enumerable:!0,writable:!0,value:u})}}function eu(m){m.data.datasets.forEach(u=>{Xu(u)})}var Ah={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(m,u,h)=>{if(!h.enabled)return void eu(m);const C=m.width;m.data.datasets.forEach((I,M)=>{const{_data:H,indexAxis:ee}=I,ge=m.getDatasetMeta(M),De=H||I.data;if("y"===si([ee,m.options.indexAxis])||!ge.controller.supportsDecimation)return;const rt=m.scales[ge.xAxisID];if("linear"!==rt.type&&"time"!==rt.type||m.options.parsing)return;let Cn,{start:Tt,count:Ft}=function Th(m,u){const h=u.length;let I,C=0;const{iScale:M}=m,{min:H,max:ee,minDefined:ge,maxDefined:De}=M.getUserBounds();return ge&&(C=ai($i(u,M.axis,H).lo,0,h-1)),I=De?ai($i(u,M.axis,ee).hi+1,C,h)-C:h-C,{start:C,count:I}}(ge,De);if(Ft<=(h.threshold||4*C))Xu(I);else{switch(ct(H)&&(I._data=De,delete I.data,Object.defineProperty(I,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(yn){this._data=yn}})),h.algorithm){case"lttb":Cn=function Xc(m,u,h,C,I){const M=I.samples||C;if(M>=h)return m.slice(u,u+h);const H=[],ee=(h-2)/(M-2);let ge=0;const De=u+h-1;let Tt,Ft,tn,Cn,yn,rt=u;for(H[ge++]=m[rt],Tt=0;Tt<M-2;Tt++){let Vn,xn=0,Bn=0;const Yn=Math.floor((Tt+1)*ee)+1+u,ei=Math.min(Math.floor((Tt+2)*ee)+1,h)+u,Gn=ei-Yn;for(Vn=Yn;Vn<ei;Vn++)xn+=m[Vn].x,Bn+=m[Vn].y;xn/=Gn,Bn/=Gn;const li=Math.floor(Tt*ee)+1+u,fi=Math.min(Math.floor((Tt+1)*ee)+1,h)+u,{x:gi,y:Si}=m[rt];for(tn=Cn=-1,Vn=li;Vn<fi;Vn++)Cn=.5*Math.abs((gi-xn)*(m[Vn].y-Si)-(gi-m[Vn].x)*(Bn-Si)),Cn>tn&&(tn=Cn,Ft=m[Vn],yn=Vn);H[ge++]=Ft,rt=yn}return H[ge++]=m[De],H}(De,Tt,Ft,C,h);break;case"min-max":Cn=function $u(m,u,h,C){let H,ee,ge,De,rt,Tt,Ft,tn,Cn,yn,I=0,M=0;const xn=[],Vn=m[u].x,ei=m[u+h-1].x-Vn;for(H=u;H<u+h;++H){ee=m[H],ge=(ee.x-Vn)/ei*C,De=ee.y;const Gn=0|ge;if(Gn===rt)De<Cn?(Cn=De,Tt=H):De>yn&&(yn=De,Ft=H),I=(M*I+ee.x)/++M;else{const li=H-1;if(!ct(Tt)&&!ct(Ft)){const fi=Math.min(Tt,Ft),gi=Math.max(Tt,Ft);fi!==tn&&fi!==li&&xn.push(cb(lb({},m[fi]),{x:I})),gi!==tn&&gi!==li&&xn.push(cb(lb({},m[gi]),{x:I}))}H>0&&li!==tn&&xn.push(m[li]),xn.push(ee),rt=Gn,M=0,Cn=yn=De,Tt=Ft=tn=H}}return xn}(De,Tt,Ft,C);break;default:throw new Error(`Unsupported decimation algorithm '${h.algorithm}'`)}I._decimated=Cn}})},destroy(m){eu(m)}};function Dc(m,u,h,C){if(C)return;let I=u[m],M=h[m];return"angle"===m&&(I=zn(I),M=zn(M)),{property:m,start:I,end:M}}function tu(m,u,h){for(;u>m;u--){const C=h[u];if(!isNaN(C.x)&&!isNaN(C.y))break}return u}function Mc(m,u,h,C){return m&&u?C(m[h],u[h]):m?m[h]:u?u[h]:0}function wh(m,u){let h=[],C=!1;return at(m)?(C=!0,h=m):h=function Bl(m,u){const{x:h=null,y:C=null}=m||{},I=u.points,M=[];return u.segments.forEach(({start:H,end:ee})=>{ee=tu(H,ee,I);const ge=I[H],De=I[ee];null!==C?(M.push({x:ge.x,y:C}),M.push({x:De.x,y:C})):null!==h&&(M.push({x:h,y:ge.y}),M.push({x:h,y:De.y}))}),M}(m,u),h.length?new dl({points:h,options:{tension:0},_loop:C,_fullLoop:C}):null}function cm(m){return m&&!1!==m.fill}function Oc(m,u,h){let I=m[u].fill;const M=[u];let H;if(!h)return I;for(;!1!==I&&-1===M.indexOf(I);){if(!ke(I))return I;if(H=m[I],!H)return!1;if(H.visible)return I;M.push(I),I=H.fill}return!1}function um(m,u,h){const C=function sp(m){const u=m.options,h=u.fill;let C=Ct(h&&h.target,h);return void 0===C&&(C=!!u.backgroundColor),!1!==C&&null!==C&&(!0===C?"origin":C)}(m);if(fe(C))return!isNaN(C.value)&&C;let I=parseFloat(C);return ke(I)&&Math.floor(I)===I?function Eh(m,u,h,C){return("-"===m||"+"===m)&&(h=u+h),!(h===u||h<0||h>=C)&&h}(C[0],u,I,h):["origin","start","end","stack","shape"].indexOf(C)>=0&&C}function ed(m,u,h){const C=[];for(let I=0;I<h.length;I++){const M=h[I],{first:H,last:ee,point:ge}=iu(M,u,"x");if(!(!ge||H&&ee))if(H)C.unshift(ge);else if(m.push(ge),!ee)break}m.push(...C)}function iu(m,u,h){const C=m.interpolate(u,h);if(!C)return{};const I=C[h],M=m.segments,H=m.points;let ee=!1,ge=!1;for(let De=0;De<M.length;De++){const rt=M[De],Tt=H[rt.start][h],Ft=H[rt.end][h];if(oi(I,Tt,Ft)){ee=I===Tt,ge=I===Ft;break}}return{first:ee,last:ge,point:C}}class Pc{constructor(u){this.x=u.x,this.y=u.y,this.radius=u.radius}pathSegment(u,h,C){const{x:I,y:M,radius:H}=this;return u.arc(I,M,H,(h=h||{start:0,end:fn}).end,h.start,!0),!C.bounds}interpolate(u){const{x:h,y:C,radius:I}=this,M=u.angle;return{x:h+Math.cos(M)*I,y:C+Math.sin(M)*I,angle:M}}}function su(m,u,h){const C=function ou(m){const{chart:u,fill:h,line:C}=m;if(ke(h))return function td(m,u){const h=m.getDatasetMeta(u);return h&&m.isDatasetVisible(u)?h.dataset:null}(u,h);if("stack"===h)return function kh(m){const{scale:u,index:h,line:C}=m,I=[],M=C.segments,H=C.points,ee=function nu(m,u){const h=[],C=m.getMatchingVisibleMetas("line");for(let I=0;I<C.length;I++){const M=C[I];if(M.index===u)break;M.hidden||h.unshift(M.dataset)}return h}(u,h);ee.push(wh({x:null,y:u.bottom},C));for(let ge=0;ge<M.length;ge++){const De=M[ge];for(let rt=De.start;rt<=De.end;rt++)ed(I,H[rt],ee)}return new dl({points:I,options:{}})}(m);if("shape"===h)return!0;const I=function Lc(m){return(m.scale||{}).getPointPositionForValue?function nd(m){const{scale:u,fill:h}=m,C=u.options,I=u.getLabels().length,M=C.reverse?u.max:u.min,H=function dm(m,u,h){let C;return C="start"===m?h:"end"===m?u.options.reverse?u.min:u.max:fe(m)?m.value:u.getBaseValue(),C}(h,u,M),ee=[];if(C.grid.circular){const ge=u.getPointPositionForValue(0,M);return new Pc({x:ge.x,y:ge.y,radius:u.getDistanceFromCenterForValue(H)})}for(let ge=0;ge<I;++ge)ee.push(u.getPointPositionForValue(ge,H));return ee}(m):function rp(m){const{scale:u={},fill:h}=m,C=function Sh(m,u){let h=null;return"start"===m?h=u.bottom:"end"===m?h=u.top:fe(m)?h=u.getPixelForValue(m.value):u.getBasePixel&&(h=u.getBasePixel()),h}(h,u);if(ke(C)){const I=u.isHorizontal();return{x:I?C:null,y:I?null:C}}return null}(m)}(m);return I instanceof Pc?I:wh(I,C)}(u),{line:I,scale:M,axis:H}=u,ee=I.options,ge=ee.fill,De=ee.backgroundColor,{above:rt=De,below:Tt=De}=ge||{};C&&I.points.length&&(Cs(m,h),function pm(m,u){const{line:h,target:C,above:I,below:M,area:H,scale:ee}=u,ge=h._loop?"angle":u.axis;m.save(),"x"===ge&&M!==I&&(id(m,C,H.top),od(m,{line:h,target:C,color:I,scale:ee,property:ge}),m.restore(),m.save(),id(m,C,H.bottom)),od(m,{line:h,target:C,color:M,scale:ee,property:ge}),m.restore()}(m,{line:I,target:C,above:rt,below:Tt,area:h,scale:M,axis:H}),ms(m))}function id(m,u,h){const{segments:C,points:I}=u;let M=!0,H=!1;m.beginPath();for(const ee of C){const{start:ge,end:De}=ee,rt=I[ge],Tt=I[tu(ge,De,I)];M?(m.moveTo(rt.x,rt.y),M=!1):(m.lineTo(rt.x,h),m.lineTo(rt.x,rt.y)),H=!!u.pathSegment(m,ee,{move:H}),H?m.closePath():m.lineTo(Tt.x,h)}m.lineTo(u.first().x,h),m.closePath(),m.clip()}function od(m,u){const{line:h,target:C,property:I,color:M,scale:H}=u,ee=function Fl(m,u,h){const C=m.segments,I=m.points,M=u.points,H=[];for(const ee of C){let{start:ge,end:De}=ee;De=tu(ge,De,I);const rt=Dc(h,I[ge],I[De],ee.loop);if(!u.segments){H.push({source:ee,target:rt,start:I[ge],end:I[De]});continue}const Tt=to(u,rt);for(const Ft of Tt){const tn=Dc(h,M[Ft.start],M[Ft.end],Ft.loop),Cn=ui(ee,I,tn);for(const yn of Cn)H.push({source:yn,target:Ft,start:{[h]:Mc(rt,tn,"start",Math.max)},end:{[h]:Mc(rt,tn,"end",Math.min)}})}}return H}(h,C,I);for(const{source:ge,target:De,start:rt,end:Tt}of ee){const{style:{backgroundColor:Ft=M}={}}=ge,tn=!0!==C;m.save(),m.fillStyle=Ft,sd(m,H,tn&&Dc(I,rt,Tt)),m.beginPath();const Cn=!!h.pathSegment(m,ge);let yn;if(tn){Cn?m.closePath():ru(m,C,Tt,I);const xn=!!C.pathSegment(m,De,{move:Cn,reverse:!0});yn=Cn&&xn,yn||ru(m,C,rt,I)}m.closePath(),m.fill(yn?"evenodd":"nonzero"),m.restore()}}function sd(m,u,h){const{top:C,bottom:I}=u.chart.chartArea,{property:M,start:H,end:ee}=h||{};"x"===M&&(m.beginPath(),m.rect(H,C,ee-H,I-C),m.clip())}function ru(m,u,h,C){const I=u.interpolate(h,C);I&&m.lineTo(I.x,I.y)}var uc={id:"filler",afterDatasetsUpdate(m,u,h){const C=(m.data.datasets||[]).length,I=[];let M,H,ee,ge;for(H=0;H<C;++H)M=m.getDatasetMeta(H),ee=M.dataset,ge=null,ee&&ee.options&&ee instanceof dl&&(ge={visible:m.isDatasetVisible(H),index:H,fill:um(ee,H,C),chart:m,axis:M.controller.options.indexAxis,scale:M.vScale,line:ee}),M.$filler=ge,I.push(ge);for(H=0;H<C;++H)ge=I[H],ge&&!1!==ge.fill&&(ge.fill=Oc(I,H,h.propagate))},beforeDraw(m,u,h){const C="beforeDraw"===h.drawTime,I=m.getSortedVisibleDatasetMetas(),M=m.chartArea;for(let H=I.length-1;H>=0;--H){const ee=I[H].$filler;!ee||(ee.line.updateControlPoints(M,ee.axis),C&&ee.fill&&su(m.ctx,ee,M))}},beforeDatasetsDraw(m,u,h){if("beforeDatasetsDraw"!==h.drawTime)return;const C=m.getSortedVisibleDatasetMetas();for(let I=C.length-1;I>=0;--I){const M=C[I].$filler;cm(M)&&su(m.ctx,M,m.chartArea)}},beforeDatasetDraw(m,u,h){const C=u.meta.$filler;!cm(C)||"beforeDatasetDraw"!==h.drawTime||su(m.ctx,C,m.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Dh=(m,u)=>{let{boxHeight:h=u,boxWidth:C=u}=m;return m.usePointStyle&&(h=Math.min(h,u),C=m.pointStyleWidth||Math.min(C,u)),{boxWidth:C,boxHeight:h,itemHeight:Math.max(u,h)}};class Oh extends mr{constructor(u){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=u.chart,this.options=u.options,this.ctx=u.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(u,h,C){this.maxWidth=u,this.maxHeight=h,this._margins=C,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const u=this.options.labels||{};let h=Mt(u.generateLabels,[this.chart],this)||[];u.filter&&(h=h.filter(C=>u.filter(C,this.chart.data))),u.sort&&(h=h.sort((C,I)=>u.sort(C,I,this.chart.data))),this.options.reverse&&h.reverse(),this.legendItems=h}fit(){const{options:u,ctx:h}=this;if(!u.display)return void(this.width=this.height=0);const C=u.labels,I=Wn(C.font),M=I.size,H=this._computeTitleHeight(),{boxWidth:ee,itemHeight:ge}=Dh(C,M);let De,rt;h.font=I.string,this.isHorizontal()?(De=this.maxWidth,rt=this._fitRows(H,M,ee,ge)+10):(rt=this.maxHeight,De=this._fitCols(H,I,ee,ge)+10),this.width=Math.min(De,u.maxWidth||this.maxWidth),this.height=Math.min(rt,u.maxHeight||this.maxHeight)}_fitRows(u,h,C,I){const{ctx:M,maxWidth:H,options:{labels:{padding:ee}}}=this,ge=this.legendHitBoxes=[],De=this.lineWidths=[0],rt=I+ee;let Tt=u;M.textAlign="left",M.textBaseline="middle";let Ft=-1,tn=-rt;return this.legendItems.forEach((Cn,yn)=>{const xn=C+h/2+M.measureText(Cn.text).width;(0===yn||De[De.length-1]+xn+2*ee>H)&&(Tt+=rt,De[De.length-(yn>0?0:1)]=0,tn+=rt,Ft++),ge[yn]={left:0,top:tn,row:Ft,width:xn,height:I},De[De.length-1]+=xn+ee}),Tt}_fitCols(u,h,C,I){const{ctx:M,maxHeight:H,options:{labels:{padding:ee}}}=this,ge=this.legendHitBoxes=[],De=this.columnSizes=[],rt=H-u;let Tt=ee,Ft=0,tn=0,Cn=0,yn=0;return this.legendItems.forEach((xn,Bn)=>{const{itemWidth:Vn,itemHeight:Yn}=function Ph(m,u,h,C,I){const M=function Rc(m,u,h,C){let I=m.text;return I&&"string"!=typeof I&&(I=I.reduce((M,H)=>M.length>H.length?M:H)),u+h.size/2+C.measureText(I).width}(C,m,u,h),H=function Lh(m,u,h){let C=m;return"string"!=typeof u.text&&(C=ap(u,h)),C}(I,C,u.lineHeight);return{itemWidth:M,itemHeight:H}}(C,h,M,xn,I);Bn>0&&tn+Yn+2*ee>rt&&(Tt+=Ft+ee,De.push({width:Ft,height:tn}),Cn+=Ft+ee,yn++,Ft=tn=0),ge[Bn]={left:Cn,top:tn,col:yn,width:Vn,height:Yn},Ft=Math.max(Ft,Vn),tn+=Yn+ee}),Tt+=Ft,De.push({width:Ft,height:tn}),Tt}adjustHitBoxes(){if(!this.options.display)return;const u=this._computeTitleHeight(),{legendHitBoxes:h,options:{align:C,labels:{padding:I},rtl:M}}=this,H=pt(M,this.left,this.width);if(this.isHorizontal()){let ee=0,ge=so(C,this.left+I,this.right-this.lineWidths[ee]);for(const De of h)ee!==De.row&&(ee=De.row,ge=so(C,this.left+I,this.right-this.lineWidths[ee])),De.top+=this.top+u+I,De.left=H.leftForLtr(H.x(ge),De.width),ge+=De.width+I}else{let ee=0,ge=so(C,this.top+u+I,this.bottom-this.columnSizes[ee].height);for(const De of h)De.col!==ee&&(ee=De.col,ge=so(C,this.top+u+I,this.bottom-this.columnSizes[ee].height)),De.top=ge,De.left+=this.left+I,De.left=H.leftForLtr(H.x(De.left),De.width),ge+=De.height+I}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const u=this.ctx;Cs(u,this),this._draw(),ms(u)}}_draw(){const{options:u,columnSizes:h,lineWidths:C,ctx:I}=this,{align:M,labels:H}=u,ee=Bi.color,ge=pt(u.rtl,this.left,this.width),De=Wn(H.font),{padding:rt}=H,Tt=De.size,Ft=Tt/2;let tn;this.drawTitle(),I.textAlign=ge.textAlign("left"),I.textBaseline="middle",I.lineWidth=.5,I.font=De.string;const{boxWidth:Cn,boxHeight:yn,itemHeight:xn}=Dh(H,Tt),Yn=this.isHorizontal(),ei=this._computeTitleHeight();tn=Yn?{x:so(M,this.left+rt,this.right-C[0]),y:this.top+rt+ei,line:0}:{x:this.left+rt,y:so(M,this.top+ei+rt,this.bottom-h[0].height),line:0},He(this.ctx,u.textDirection);const Gn=xn+rt;this.legendItems.forEach((li,fi)=>{I.strokeStyle=li.fontColor,I.fillStyle=li.fontColor;const gi=I.measureText(li.text).width,Si=ge.textAlign(li.textAlign||(li.textAlign=H.textAlign)),po=Cn+Ft+gi;let lo=tn.x,ro=tn.y;ge.setWidth(this.width),Yn?fi>0&&lo+po+rt>this.right&&(ro=tn.y+=Gn,tn.line++,lo=tn.x=so(M,this.left+rt,this.right-C[tn.line])):fi>0&&ro+Gn>this.bottom&&(lo=tn.x=lo+h[tn.line].width+rt,tn.line++,ro=tn.y=so(M,this.top+ei+rt,this.bottom-h[tn.line].height)),function(li,fi,gi){if(isNaN(Cn)||Cn<=0||isNaN(yn)||yn<0)return;I.save();const Si=Ct(gi.lineWidth,1);if(I.fillStyle=Ct(gi.fillStyle,ee),I.lineCap=Ct(gi.lineCap,"butt"),I.lineDashOffset=Ct(gi.lineDashOffset,0),I.lineJoin=Ct(gi.lineJoin,"miter"),I.lineWidth=Si,I.strokeStyle=Ct(gi.strokeStyle,ee),I.setLineDash(Ct(gi.lineDash,[])),H.usePointStyle){const po={radius:yn*Math.SQRT2/2,pointStyle:gi.pointStyle,rotation:gi.rotation,borderWidth:Si},lo=ge.xPlus(li,Cn/2);As(I,po,lo,fi+Ft,H.pointStyleWidth&&Cn)}else{const po=fi+Math.max((Tt-yn)/2,0),lo=ge.leftForLtr(li,Cn),ro=zt(gi.borderRadius);I.beginPath(),Object.values(ro).some(Tr=>0!==Tr)?ts(I,{x:lo,y:po,w:Cn,h:yn,radius:ro}):I.rect(lo,po,Cn,yn),I.fill(),0!==Si&&I.stroke()}I.restore()}(ge.x(lo),ro,li),lo=((m,u,h,C)=>m===(C?"left":"right")?h:"center"===m?(u+h)/2:u)(Si,lo+Cn+Ft,Yn?lo+po:this.right,u.rtl),function(li,fi,gi){vs(I,gi.text,li,fi+xn/2,De,{strikethrough:gi.hidden,textAlign:ge.textAlign(gi.textAlign)})}(ge.x(lo),ro,li),Yn?tn.x+=po+rt:tn.y+="string"!=typeof li.text?ap(li,De.lineHeight)+rt:Gn}),Et(this.ctx,u.textDirection)}drawTitle(){const u=this.options,h=u.title,C=Wn(h.font),I=Nn(h.padding);if(!h.display)return;const M=pt(u.rtl,this.left,this.width),H=this.ctx,ee=h.position,De=I.top+C.size/2;let rt,Tt=this.left,Ft=this.width;if(this.isHorizontal())Ft=Math.max(...this.lineWidths),rt=this.top+De,Tt=so(u.align,Tt,this.right-Ft);else{const Cn=this.columnSizes.reduce((yn,xn)=>Math.max(yn,xn.height),0);rt=De+so(u.align,this.top,this.bottom-Cn-u.labels.padding-this._computeTitleHeight())}const tn=so(ee,Tt,Tt+Ft);H.textAlign=M.textAlign(ho(ee)),H.textBaseline="middle",H.strokeStyle=h.color,H.fillStyle=h.color,H.font=C.string,vs(H,h.text,tn,rt,C)}_computeTitleHeight(){const u=this.options.title,h=Wn(u.font),C=Nn(u.padding);return u.display?h.lineHeight+C.height:0}_getLegendItemAt(u,h){let C,I,M;if(oi(u,this.left,this.right)&&oi(h,this.top,this.bottom))for(M=this.legendHitBoxes,C=0;C<M.length;++C)if(I=M[C],oi(u,I.left,I.left+I.width)&&oi(h,I.top,I.top+I.height))return this.legendItems[C];return null}handleEvent(u){const h=this.options;if(!function Zl(m,u){return!(("mousemove"!==m&&"mouseout"!==m||!u.onHover&&!u.onLeave)&&(!u.onClick||"click"!==m&&"mouseup"!==m))}(u.type,h))return;const C=this._getLegendItemAt(u.x,u.y);if("mousemove"===u.type||"mouseout"===u.type){const I=this._hoveredItem,M=((m,u)=>null!==m&&null!==u&&m.datasetIndex===u.datasetIndex&&m.index===u.index)(I,C);I&&!M&&Mt(h.onLeave,[u,I,this],this),this._hoveredItem=C,C&&!M&&Mt(h.onHover,[u,C,this],this)}else C&&Mt(h.onClick,[u,C,this],this)}}function ap(m,u){return u*(m.text?m.text.length:0)}var rd={id:"legend",_element:Oh,start(m,u,h){const C=m.legend=new Oh({ctx:m.ctx,options:h,chart:m});Ms.configure(m,C,h),Ms.addBox(m,C)},stop(m){Ms.removeBox(m,m.legend),delete m.legend},beforeUpdate(m,u,h){const C=m.legend;Ms.configure(m,C,h),C.options=h},afterUpdate(m){const u=m.legend;u.buildLabels(),u.adjustHitBoxes()},afterEvent(m,u){u.replay||m.legend.handleEvent(u.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(m,u,h){const C=u.datasetIndex,I=h.chart;I.isDatasetVisible(C)?(I.hide(C),u.hidden=!0):(I.show(C),u.hidden=!1)},onHover:null,onLeave:null,labels:{color:m=>m.chart.options.color,boxWidth:40,padding:10,generateLabels(m){const u=m.data.datasets,{labels:{usePointStyle:h,pointStyle:C,textAlign:I,color:M,useBorderRadius:H,borderRadius:ee}}=m.legend.options;return m._getSortedDatasetMetas().map(ge=>{const De=ge.controller.getStyle(h?0:void 0),rt=Nn(De.borderWidth);return{text:u[ge.index].label,fillStyle:De.backgroundColor,fontColor:M,hidden:!ge.visible,lineCap:De.borderCapStyle,lineDash:De.borderDash,lineDashOffset:De.borderDashOffset,lineJoin:De.borderJoinStyle,lineWidth:(rt.width+rt.height)/4,strokeStyle:De.borderColor,pointStyle:C||De.pointStyle,rotation:De.rotation,textAlign:I||De.textAlign,borderRadius:H&&(ee||De.borderRadius),datasetIndex:ge.index}},this)}},title:{color:m=>m.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:m=>!m.startsWith("on"),labels:{_scriptable:m=>!["generateLabels","filter","sort"].includes(m)}}};class ad extends mr{constructor(u){super(),this.chart=u.chart,this.options=u.options,this.ctx=u.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(u,h){const C=this.options;if(this.left=0,this.top=0,!C.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=u,this.height=this.bottom=h;const I=at(C.text)?C.text.length:1;this._padding=Nn(C.padding);const M=I*Wn(C.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=M:this.width=M}isHorizontal(){const u=this.options.position;return"top"===u||"bottom"===u}_drawArgs(u){const{top:h,left:C,bottom:I,right:M,options:H}=this,ee=H.align;let De,rt,Tt,ge=0;return this.isHorizontal()?(rt=so(ee,C,M),Tt=h+u,De=M-C):("left"===H.position?(rt=C+u,Tt=so(ee,I,h),ge=-.5*qt):(rt=M-u,Tt=so(ee,h,I),ge=.5*qt),De=I-h),{titleX:rt,titleY:Tt,maxWidth:De,rotation:ge}}draw(){const u=this.ctx,h=this.options;if(!h.display)return;const C=Wn(h.font),M=C.lineHeight/2+this._padding.top,{titleX:H,titleY:ee,maxWidth:ge,rotation:De}=this._drawArgs(M);vs(u,h.text,0,0,C,{color:h.color,maxWidth:ge,rotation:De,textAlign:ho(h.align),textBaseline:"middle",translation:[H,ee]})}}var lp={id:"title",_element:ad,start(m,u,h){!function Rh(m,u){const h=new ad({ctx:m.ctx,options:u,chart:m});Ms.configure(m,h,u),Ms.addBox(m,h),m.titleBlock=h}(m,h)},stop(m){Ms.removeBox(m,m.titleBlock),delete m.titleBlock},beforeUpdate(m,u,h){const C=m.titleBlock;Ms.configure(m,C,h),C.options=h},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const za=new WeakMap;var hm={id:"subtitle",start(m,u,h){const C=new ad({ctx:m.ctx,options:h,chart:m});Ms.configure(m,C,h),Ms.addBox(m,C),za.set(m,C)},stop(m){Ms.removeBox(m,za.get(m)),za.delete(m)},beforeUpdate(m,u,h){const C=za.get(m);Ms.configure(m,C,h),C.options=h},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const au={average(m){if(!m.length)return!1;let u,h,C=0,I=0,M=0;for(u=0,h=m.length;u<h;++u){const H=m[u].element;if(H&&H.hasValue()){const ee=H.tooltipPosition();C+=ee.x,I+=ee.y,++M}}return{x:C/M,y:I/M}},nearest(m,u){if(!m.length)return!1;let M,H,ee,h=u.x,C=u.y,I=Number.POSITIVE_INFINITY;for(M=0,H=m.length;M<H;++M){const ge=m[M].element;if(ge&&ge.hasValue()){const rt=an(u,ge.getCenterPoint());rt<I&&(I=rt,ee=ge)}}if(ee){const ge=ee.tooltipPosition();h=ge.x,C=ge.y}return{x:h,y:C}}};function Xa(m,u){return u&&(at(u)?Array.prototype.push.apply(m,u):m.push(u)),m}function gl(m){return("string"==typeof m||m instanceof String)&&m.indexOf("\n")>-1?m.split("\n"):m}function gm(m,u){const{element:h,datasetIndex:C,index:I}=u,M=m.getDatasetMeta(C).controller,{label:H,value:ee}=M.getLabelAndValue(I);return{chart:m,label:H,parsed:M.getParsed(I),raw:m.data.datasets[C].data[I],formattedValue:ee,dataset:M.getDataset(),dataIndex:I,datasetIndex:C,element:h}}function Ja(m,u){const h=m.chart.ctx,{body:C,footer:I,title:M}=m,{boxWidth:H,boxHeight:ee}=u,ge=Wn(u.bodyFont),De=Wn(u.titleFont),rt=Wn(u.footerFont),Tt=M.length,Ft=I.length,tn=C.length,Cn=Nn(u.padding);let yn=Cn.height,xn=0,Bn=C.reduce((ei,Gn)=>ei+Gn.before.length+Gn.lines.length+Gn.after.length,0);Bn+=m.beforeBody.length+m.afterBody.length,Tt&&(yn+=Tt*De.lineHeight+(Tt-1)*u.titleSpacing+u.titleMarginBottom),Bn&&(yn+=tn*(u.displayColors?Math.max(ee,ge.lineHeight):ge.lineHeight)+(Bn-tn)*ge.lineHeight+(Bn-1)*u.bodySpacing),Ft&&(yn+=u.footerMarginTop+Ft*rt.lineHeight+(Ft-1)*u.footerSpacing);let Vn=0;const Yn=function(ei){xn=Math.max(xn,h.measureText(ei).width+Vn)};return h.save(),h.font=De.string,Ye(m.title,Yn),h.font=ge.string,Ye(m.beforeBody.concat(m.afterBody),Yn),Vn=u.displayColors?H+2+u.boxPadding:0,Ye(C,ei=>{Ye(ei.before,Yn),Ye(ei.lines,Yn),Ye(ei.after,Yn)}),Vn=0,h.font=rt.string,Ye(m.footer,Yn),h.restore(),xn+=Cn.width,{width:xn,height:yn}}function fm(m,u,h,C){const{x:I,width:M}=h,{width:H,chartArea:{left:ee,right:ge}}=m;let De="center";return"center"===C?De=I<=(ee+ge)/2?"left":"right":I<=M/2?De="left":I>=H-M/2&&(De="right"),function mm(m,u,h,C){const{x:I,width:M}=C,H=h.caretSize+h.caretPadding;if("left"===m&&I+M+H>u.width||"right"===m&&I-M-H<0)return!0}(De,m,u,h)&&(De="center"),De}function cp(m,u,h){const C=h.yAlign||u.yAlign||function Nc(m,u){const{y:h,height:C}=u;return h<C/2?"top":h>m.height-C/2?"bottom":"center"}(m,h);return{xAlign:h.xAlign||u.xAlign||fm(m,u,h,C),yAlign:C}}function up(m,u,h,C){const{caretSize:I,caretPadding:M,cornerRadius:H}=m,{xAlign:ee,yAlign:ge}=h,De=I+M,{topLeft:rt,topRight:Tt,bottomLeft:Ft,bottomRight:tn}=zt(H);let Cn=function Nh(m,u){let{x:h,width:C}=m;return"right"===u?h-=C:"center"===u&&(h-=C/2),h}(u,ee);const yn=function Fh(m,u,h){let{y:C,height:I}=m;return"top"===u?C+=h:C-="bottom"===u?I+h:I/2,C}(u,ge,De);return"center"===ge?"left"===ee?Cn+=De:"right"===ee&&(Cn-=De):"left"===ee?Cn-=Math.max(rt,Ft)+I:"right"===ee&&(Cn+=Math.max(Tt,tn)+I),{x:ai(Cn,0,C.width-u.width),y:ai(yn,0,C.height-u.height)}}function lu(m,u,h){const C=Nn(h.padding);return"center"===u?m.x+m.width/2:"right"===u?m.x+m.width-C.right:m.x+C.left}function _m(m){return Xa([],gl(m))}function dp(m,u){const h=u&&u.dataset&&u.dataset.tooltip&&u.dataset.tooltip.callbacks;return h?m.override(h):m}const Bh={beforeTitle:Ht,title(m){if(m.length>0){const u=m[0],h=u.chart.data.labels,C=h?h.length:0;if(this&&this.options&&"dataset"===this.options.mode)return u.dataset.label||"";if(u.label)return u.label;if(C>0&&u.dataIndex<C)return h[u.dataIndex]}return""},afterTitle:Ht,beforeBody:Ht,beforeLabel:Ht,label(m){if(this&&this.options&&"dataset"===this.options.mode)return m.label+": "+m.formattedValue||m.formattedValue;let u=m.dataset.label||"";u&&(u+=": ");const h=m.formattedValue;return ct(h)||(u+=h),u},labelColor(m){const h=m.chart.getDatasetMeta(m.datasetIndex).controller.getStyle(m.dataIndex);return{borderColor:h.borderColor,backgroundColor:h.backgroundColor,borderWidth:h.borderWidth,borderDash:h.borderDash,borderDashOffset:h.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(m){const h=m.chart.getDatasetMeta(m.datasetIndex).controller.getStyle(m.dataIndex);return{pointStyle:h.pointStyle,rotation:h.rotation}},afterLabel:Ht,afterBody:Ht,beforeFooter:Ht,footer:Ht,afterFooter:Ht};function Vr(m,u,h,C){const I=m[u].call(h,C);return void 0===I?Bh[u].call(h,C):I}class Qa extends mr{constructor(u){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=u.chart,this.options=u.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(u){this.options=u,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const u=this._cachedAnimations;if(u)return u;const h=this.chart,C=this.options.setContext(this.getContext()),I=C.enabled&&h.options.animation&&C.animations,M=new pe(this.chart,I);return I._cacheable&&(this._cachedAnimations=Object.freeze(M)),M}getContext(){return this.$context||(this.$context=function Cm(m,u,h){return Zi(m,{tooltip:u,tooltipItems:h,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(u,h){const{callbacks:C}=h,I=Vr(C,"beforeTitle",this,u),M=Vr(C,"title",this,u),H=Vr(C,"afterTitle",this,u);let ee=[];return ee=Xa(ee,gl(I)),ee=Xa(ee,gl(M)),ee=Xa(ee,gl(H)),ee}getBeforeBody(u,h){return _m(Vr(h.callbacks,"beforeBody",this,u))}getBody(u,h){const{callbacks:C}=h,I=[];return Ye(u,M=>{const H={before:[],lines:[],after:[]},ee=dp(C,M);Xa(H.before,gl(Vr(ee,"beforeLabel",this,M))),Xa(H.lines,Vr(ee,"label",this,M)),Xa(H.after,gl(Vr(ee,"afterLabel",this,M))),I.push(H)}),I}getAfterBody(u,h){return _m(Vr(h.callbacks,"afterBody",this,u))}getFooter(u,h){const{callbacks:C}=h,I=Vr(C,"beforeFooter",this,u),M=Vr(C,"footer",this,u),H=Vr(C,"afterFooter",this,u);let ee=[];return ee=Xa(ee,gl(I)),ee=Xa(ee,gl(M)),ee=Xa(ee,gl(H)),ee}_createItems(u){const h=this._active,C=this.chart.data,I=[],M=[],H=[];let ge,De,ee=[];for(ge=0,De=h.length;ge<De;++ge)ee.push(gm(this.chart,h[ge]));return u.filter&&(ee=ee.filter((rt,Tt,Ft)=>u.filter(rt,Tt,Ft,C))),u.itemSort&&(ee=ee.sort((rt,Tt)=>u.itemSort(rt,Tt,C))),Ye(ee,rt=>{const Tt=dp(u.callbacks,rt);I.push(Vr(Tt,"labelColor",this,rt)),M.push(Vr(Tt,"labelPointStyle",this,rt)),H.push(Vr(Tt,"labelTextColor",this,rt))}),this.labelColors=I,this.labelPointStyles=M,this.labelTextColors=H,this.dataPoints=ee,ee}update(u,h){const C=this.options.setContext(this.getContext()),I=this._active;let M,H=[];if(I.length){const ee=au[C.position].call(this,I,this._eventPosition);H=this._createItems(C),this.title=this.getTitle(H,C),this.beforeBody=this.getBeforeBody(H,C),this.body=this.getBody(H,C),this.afterBody=this.getAfterBody(H,C),this.footer=this.getFooter(H,C);const ge=this._size=Ja(this,C),De=Object.assign({},ee,ge),rt=cp(this.chart,C,De),Tt=up(C,De,rt,this.chart);this.xAlign=rt.xAlign,this.yAlign=rt.yAlign,M={opacity:1,x:Tt.x,y:Tt.y,width:ge.width,height:ge.height,caretX:ee.x,caretY:ee.y}}else 0!==this.opacity&&(M={opacity:0});this._tooltipItems=H,this.$context=void 0,M&&this._resolveAnimations().update(this,M),u&&C.external&&C.external.call(this,{chart:this.chart,tooltip:this,replay:h})}drawCaret(u,h,C,I){const M=this.getCaretPosition(u,C,I);h.lineTo(M.x1,M.y1),h.lineTo(M.x2,M.y2),h.lineTo(M.x3,M.y3)}getCaretPosition(u,h,C){const{xAlign:I,yAlign:M}=this,{caretSize:H,cornerRadius:ee}=C,{topLeft:ge,topRight:De,bottomLeft:rt,bottomRight:Tt}=zt(ee),{x:Ft,y:tn}=u,{width:Cn,height:yn}=h;let xn,Bn,Vn,Yn,ei,Gn;return"center"===M?(ei=tn+yn/2,"left"===I?(xn=Ft,Bn=xn-H,Yn=ei+H,Gn=ei-H):(xn=Ft+Cn,Bn=xn+H,Yn=ei-H,Gn=ei+H),Vn=xn):(Bn="left"===I?Ft+Math.max(ge,rt)+H:"right"===I?Ft+Cn-Math.max(De,Tt)-H:this.caretX,"top"===M?(Yn=tn,ei=Yn-H,xn=Bn-H,Vn=Bn+H):(Yn=tn+yn,ei=Yn+H,xn=Bn+H,Vn=Bn-H),Gn=Yn),{x1:xn,x2:Bn,x3:Vn,y1:Yn,y2:ei,y3:Gn}}drawTitle(u,h,C){const I=this.title,M=I.length;let H,ee,ge;if(M){const De=pt(C.rtl,this.x,this.width);for(u.x=lu(this,C.titleAlign,C),h.textAlign=De.textAlign(C.titleAlign),h.textBaseline="middle",H=Wn(C.titleFont),ee=C.titleSpacing,h.fillStyle=C.titleColor,h.font=H.string,ge=0;ge<M;++ge)h.fillText(I[ge],De.x(u.x),u.y+H.lineHeight/2),u.y+=H.lineHeight+ee,ge+1===M&&(u.y+=C.titleMarginBottom-ee)}}_drawColorBox(u,h,C,I,M){const H=this.labelColors[C],ee=this.labelPointStyles[C],{boxHeight:ge,boxWidth:De}=M,rt=Wn(M.bodyFont),Tt=lu(this,"left",M),Ft=I.x(Tt),Cn=h.y+(ge<rt.lineHeight?(rt.lineHeight-ge)/2:0);if(M.usePointStyle){const yn={radius:Math.min(De,ge)/2,pointStyle:ee.pointStyle,rotation:ee.rotation,borderWidth:1},xn=I.leftForLtr(Ft,De)+De/2,Bn=Cn+ge/2;u.strokeStyle=M.multiKeyBackground,u.fillStyle=M.multiKeyBackground,fo(u,yn,xn,Bn),u.strokeStyle=H.borderColor,u.fillStyle=H.backgroundColor,fo(u,yn,xn,Bn)}else{u.lineWidth=fe(H.borderWidth)?Math.max(...Object.values(H.borderWidth)):H.borderWidth||1,u.strokeStyle=H.borderColor,u.setLineDash(H.borderDash||[]),u.lineDashOffset=H.borderDashOffset||0;const yn=I.leftForLtr(Ft,De),xn=I.leftForLtr(I.xPlus(Ft,1),De-2),Bn=zt(H.borderRadius);Object.values(Bn).some(Vn=>0!==Vn)?(u.beginPath(),u.fillStyle=M.multiKeyBackground,ts(u,{x:yn,y:Cn,w:De,h:ge,radius:Bn}),u.fill(),u.stroke(),u.fillStyle=H.backgroundColor,u.beginPath(),ts(u,{x:xn,y:Cn+1,w:De-2,h:ge-2,radius:Bn}),u.fill()):(u.fillStyle=M.multiKeyBackground,u.fillRect(yn,Cn,De,ge),u.strokeRect(yn,Cn,De,ge),u.fillStyle=H.backgroundColor,u.fillRect(xn,Cn+1,De-2,ge-2))}u.fillStyle=this.labelTextColors[C]}drawBody(u,h,C){const{body:I}=this,{bodySpacing:M,bodyAlign:H,displayColors:ee,boxHeight:ge,boxWidth:De,boxPadding:rt}=C,Tt=Wn(C.bodyFont);let Ft=Tt.lineHeight,tn=0;const Cn=pt(C.rtl,this.x,this.width),yn=function(gi){h.fillText(gi,Cn.x(u.x+tn),u.y+Ft/2),u.y+=Ft+M},xn=Cn.textAlign(H);let Bn,Vn,Yn,ei,Gn,li,fi;for(h.textAlign=H,h.textBaseline="middle",h.font=Tt.string,u.x=lu(this,xn,C),h.fillStyle=C.bodyColor,Ye(this.beforeBody,yn),tn=ee&&"right"!==xn?"center"===H?De/2+rt:De+2+rt:0,ei=0,li=I.length;ei<li;++ei){for(Bn=I[ei],Vn=this.labelTextColors[ei],h.fillStyle=Vn,Ye(Bn.before,yn),Yn=Bn.lines,ee&&Yn.length&&(this._drawColorBox(h,u,ei,Cn,C),Ft=Math.max(Tt.lineHeight,ge)),Gn=0,fi=Yn.length;Gn<fi;++Gn)yn(Yn[Gn]),Ft=Tt.lineHeight;Ye(Bn.after,yn)}tn=0,Ft=Tt.lineHeight,Ye(this.afterBody,yn),u.y-=M}drawFooter(u,h,C){const I=this.footer,M=I.length;let H,ee;if(M){const ge=pt(C.rtl,this.x,this.width);for(u.x=lu(this,C.footerAlign,C),u.y+=C.footerMarginTop,h.textAlign=ge.textAlign(C.footerAlign),h.textBaseline="middle",H=Wn(C.footerFont),h.fillStyle=C.footerColor,h.font=H.string,ee=0;ee<M;++ee)h.fillText(I[ee],ge.x(u.x),u.y+H.lineHeight/2),u.y+=H.lineHeight+C.footerSpacing}}drawBackground(u,h,C,I){const{xAlign:M,yAlign:H}=this,{x:ee,y:ge}=u,{width:De,height:rt}=C,{topLeft:Tt,topRight:Ft,bottomLeft:tn,bottomRight:Cn}=zt(I.cornerRadius);h.fillStyle=I.backgroundColor,h.strokeStyle=I.borderColor,h.lineWidth=I.borderWidth,h.beginPath(),h.moveTo(ee+Tt,ge),"top"===H&&this.drawCaret(u,h,C,I),h.lineTo(ee+De-Ft,ge),h.quadraticCurveTo(ee+De,ge,ee+De,ge+Ft),"center"===H&&"right"===M&&this.drawCaret(u,h,C,I),h.lineTo(ee+De,ge+rt-Cn),h.quadraticCurveTo(ee+De,ge+rt,ee+De-Cn,ge+rt),"bottom"===H&&this.drawCaret(u,h,C,I),h.lineTo(ee+tn,ge+rt),h.quadraticCurveTo(ee,ge+rt,ee,ge+rt-tn),"center"===H&&"left"===M&&this.drawCaret(u,h,C,I),h.lineTo(ee,ge+Tt),h.quadraticCurveTo(ee,ge,ee+Tt,ge),h.closePath(),h.fill(),I.borderWidth>0&&h.stroke()}_updateAnimationTarget(u){const h=this.chart,C=this.$animations,I=C&&C.x,M=C&&C.y;if(I||M){const H=au[u.position].call(this,this._active,this._eventPosition);if(!H)return;const ee=this._size=Ja(this,u),ge=Object.assign({},H,this._size),De=cp(h,u,ge),rt=up(u,ge,De,h);(I._to!==rt.x||M._to!==rt.y)&&(this.xAlign=De.xAlign,this.yAlign=De.yAlign,this.width=ee.width,this.height=ee.height,this.caretX=H.x,this.caretY=H.y,this._resolveAnimations().update(this,rt))}}_willRender(){return!!this.opacity}draw(u){const h=this.options.setContext(this.getContext());let C=this.opacity;if(!C)return;this._updateAnimationTarget(h);const I={width:this.width,height:this.height},M={x:this.x,y:this.y};C=Math.abs(C)<.001?0:C;const H=Nn(h.padding);h.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(u.save(),u.globalAlpha=C,this.drawBackground(M,u,I,h),He(u,h.textDirection),M.y+=H.top,this.drawTitle(M,u,h),this.drawBody(M,u,h),this.drawFooter(M,u,h),Et(u,h.textDirection),u.restore())}getActiveElements(){return this._active||[]}setActiveElements(u,h){const C=this._active,I=u.map(({datasetIndex:ee,index:ge})=>{const De=this.chart.getDatasetMeta(ee);if(!De)throw new Error("Cannot find a dataset at index "+ee);return{datasetIndex:ee,element:De.data[ge],index:ge}}),M=!st(C,I),H=this._positionChanged(I,h);(M||H)&&(this._active=I,this._eventPosition=h,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(u,h,C=!0){if(h&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const I=this.options,M=this._active||[],H=this._getActiveElements(u,M,h,C),ee=this._positionChanged(H,u),ge=h||!st(H,M)||ee;return ge&&(this._active=H,(I.enabled||I.external)&&(this._eventPosition={x:u.x,y:u.y},this.update(!0,h))),ge}_getActiveElements(u,h,C,I){const M=this.options;if("mouseout"===u.type)return[];if(!I)return h;const H=this.chart.getElementsAtEventForMode(u,M.mode,M,C);return M.reverse&&H.reverse(),H}_positionChanged(u,h){const{caretX:C,caretY:I,options:M}=this,H=au[M.position].call(this,u,h);return!1!==H&&(C!==H.x||I!==H.y)}}Ci(Qa,"positioners",au);var Zh=Object.freeze({__proto__:null,Colors:Ih,Decimation:Ah,Filler:uc,Legend:rd,SubTitle:hm,Title:lp,Tooltip:{id:"tooltip",_element:Qa,positioners:au,afterInit(m,u,h){h&&(m.tooltip=new Qa({chart:m,options:h}))},beforeUpdate(m,u,h){m.tooltip&&m.tooltip.initialize(h)},reset(m,u,h){m.tooltip&&m.tooltip.initialize(h)},afterDraw(m){const u=m.tooltip;if(u&&u._willRender()){const h={tooltip:u};if(!1===m.notifyPlugins("beforeTooltipDraw",cb(lb({},h),{cancelable:!0})))return;u.draw(m.ctx),m.notifyPlugins("afterTooltipDraw",h)}},afterEvent(m,u){m.tooltip&&m.tooltip.handleEvent(u.event,u.replay,u.inChartArea)&&(u.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(m,u)=>u.bodyFont.size,boxWidth:(m,u)=>u.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Bh},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:m=>"filter"!==m&&"itemSort"!==m&&"external"!==m,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function vm(m){const u=this.getLabels();return m>=0&&m<u.length?u[m]:m}class Hh extends on{constructor(u){super(u),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(u){const h=this._addedLabels;if(h.length){const C=this.getLabels();for(const{index:I,label:M}of h)C[I]===M&&C.splice(I,1);this._addedLabels=[]}super.init(u)}parse(u,h){if(ct(u))return null;const C=this.getLabels();return((m,u)=>null===m?null:ai(Math.round(m),0,u))(h=isFinite(h)&&C[h]===u?h:function pp(m,u,h,C){const I=m.indexOf(u);return-1===I?((m,u,h,C)=>("string"==typeof u?(h=m.push(u)-1,C.unshift({index:h,label:u})):isNaN(u)&&(h=null),h))(m,u,h,C):I!==m.lastIndexOf(u)?h:I}(C,u,Ct(h,u),this._addedLabels),C.length-1)}determineDataLimits(){const{minDefined:u,maxDefined:h}=this.getUserBounds();let{min:C,max:I}=this.getMinMax(!0);"ticks"===this.options.bounds&&(u||(C=0),h||(I=this.getLabels().length-1)),this.min=C,this.max=I}buildTicks(){const u=this.min,h=this.max,C=this.options.offset,I=[];let M=this.getLabels();M=0===u&&h===M.length-1?M:M.slice(u,h+1),this._valueRange=Math.max(M.length-(C?0:1),1),this._startValue=this.min-(C?.5:0);for(let H=u;H<=h;H++)I.push({value:H});return I}getLabelForValue(u){return vm.call(this,u)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(u){return"number"!=typeof u&&(u=this.parse(u)),null===u?NaN:this.getPixelForDecimal((u-this._startValue)/this._valueRange)}getPixelForTick(u){const h=this.ticks;return u<0||u>h.length-1?null:this.getPixelForValue(h[u].value)}getValueForPixel(u){return Math.round(this._startValue+this.getDecimalForPixel(u)*this._valueRange)}getBasePixel(){return this.bottom}}function gp(m,u,{horizontal:h,minRotation:C}){const I=Ue(C),M=(h?Math.sin(I):Math.cos(I))||.001;return Math.min(u/M,.75*u*(""+m).length)}Ci(Hh,"id","category"),Ci(Hh,"defaults",{ticks:{callback:vm}});class ld extends on{constructor(u){super(u),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(u,h){return ct(u)||("number"==typeof u||u instanceof Number)&&!isFinite(+u)?null:+u}handleTickRangeOptions(){const{beginAtZero:u}=this.options,{minDefined:h,maxDefined:C}=this.getUserBounds();let{min:I,max:M}=this;const H=ge=>I=h?I:ge,ee=ge=>M=C?M:ge;if(u){const ge=vi(I),De=vi(M);ge<0&&De<0?ee(0):ge>0&&De>0&&H(0)}if(I===M){let ge=0===M?1:Math.abs(.05*M);ee(M+ge),u||H(I-ge)}this.min=I,this.max=M}getTickLimit(){const u=this.options.ticks;let I,{maxTicksLimit:h,stepSize:C}=u;return C?(I=Math.ceil(this.max/C)-Math.floor(this.min/C)+1,I>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${C} would result generating up to ${I} ticks. Limiting to 1000.`),I=1e3)):(I=this.computeTickLimit(),h=h||11),h&&(I=Math.min(h,I)),I}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const u=this.options,h=u.ticks;let C=this.getTickLimit();C=Math.max(2,C);const H=function hp(m,u){const h=[],{bounds:I,step:M,min:H,max:ee,precision:ge,count:De,maxTicks:rt,maxDigits:Tt,includeBounds:Ft}=m,tn=M||1,Cn=rt-1,{min:yn,max:xn}=u,Bn=!ct(H),Vn=!ct(ee),Yn=!ct(De),ei=(xn-yn)/(Tt+1);let li,fi,gi,Si,Gn=oo((xn-yn)/Cn/tn)*tn;if(Gn<1e-14&&!Bn&&!Vn)return[{value:yn},{value:xn}];Si=Math.ceil(xn/Gn)-Math.floor(yn/Gn),Si>Cn&&(Gn=oo(Si*Gn/Cn/tn)*tn),ct(ge)||(li=Math.pow(10,ge),Gn=Math.ceil(Gn*li)/li),"ticks"===I?(fi=Math.floor(yn/Gn)*Gn,gi=Math.ceil(xn/Gn)*Gn):(fi=yn,gi=xn),Bn&&Vn&&M&&function Ve(m,u){const h=Math.round(m);return h-u<=m&&h+u>=m}((ee-H)/M,Gn/1e3)?(Si=Math.round(Math.min((ee-H)/Gn,rt)),Gn=(ee-H)/Si,fi=H,gi=ee):Yn?(fi=Bn?H:fi,gi=Vn?ee:gi,Si=De-1,Gn=(gi-fi)/Si):(Si=(gi-fi)/Gn,Si=Ni(Si,Math.round(Si),Gn/1e3)?Math.round(Si):Math.ceil(Si));const po=Math.max(gn(Gn),gn(fi));li=Math.pow(10,ct(ge)?po:ge),fi=Math.round(fi*li)/li,gi=Math.round(gi*li)/li;let lo=0;for(Bn&&(Ft&&fi!==H?(h.push({value:H}),fi<H&&lo++,Ni(Math.round((fi+lo*Gn)*li)/li,H,gp(H,ei,m))&&lo++):fi<H&&lo++);lo<Si;++lo){const ro=Math.round((fi+lo*Gn)*li)/li;if(Vn&&ro>ee)break;h.push({value:ro})}return Vn&&Ft&&gi!==ee?h.length&&Ni(h[h.length-1].value,ee,gp(ee,ei,m))?h[h.length-1].value=ee:h.push({value:ee}):(!Vn||gi===ee)&&h.push({value:gi}),h}({maxTicks:C,bounds:u.bounds,min:u.min,max:u.max,precision:h.precision,step:h.stepSize,count:h.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:h.minRotation||0,includeBounds:!1!==h.includeBounds},this._range||this);return"ticks"===u.bounds&&ye(H,this,"value"),u.reverse?(H.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),H}configure(){const u=this.ticks;let h=this.min,C=this.max;if(super.configure(),this.options.offset&&u.length){const I=(C-h)/Math.max(u.length-1,1)/2;h-=I,C+=I}this._startValue=h,this._endValue=C,this._valueRange=C-h}getLabelForValue(u){return Ns(u,this.chart.options.locale,this.options.ticks.format)}}class cd extends ld{determineDataLimits(){const{min:u,max:h}=this.getMinMax(!0);this.min=ke(u)?u:0,this.max=ke(h)?h:1,this.handleTickRangeOptions()}computeTickLimit(){const u=this.isHorizontal(),h=u?this.width:this.height,C=Ue(this.options.ticks.minRotation),I=(u?Math.sin(C):Math.cos(C))||.001,M=this._resolveTickFontOptions(0);return Math.ceil(h/Math.min(40,M.lineHeight/I))}getPixelForValue(u){return null===u?NaN:this.getPixelForDecimal((u-this._startValue)/this._valueRange)}getValueForPixel(u){return this._startValue+this.getDecimalForPixel(u)*this._valueRange}}Ci(cd,"id","linear"),Ci(cd,"defaults",{ticks:{callback:qi.formatters.numeric}});const dc=m=>Math.floor(ri(m)),el=(m,u)=>Math.pow(10,dc(m)+u);function Vh(m){return m/Math.pow(10,dc(m))==1}function mp(m,u,h){const C=Math.pow(10,h),I=Math.floor(m/C);return Math.ceil(u/C)-I}class Ul extends on{constructor(u){super(u),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(u,h){const C=ld.prototype.parse.apply(this,[u,h]);if(0!==C)return ke(C)&&C>0?C:null;this._zero=!0}determineDataLimits(){const{min:u,max:h}=this.getMinMax(!0);this.min=ke(u)?Math.max(0,u):null,this.max=ke(h)?Math.max(0,h):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ke(this._userMin)&&(this.min=u===el(this.min,0)?el(this.min,-1):el(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:u,maxDefined:h}=this.getUserBounds();let C=this.min,I=this.max;const M=ee=>C=u?C:ee,H=ee=>I=h?I:ee;C===I&&(C<=0?(M(1),H(10)):(M(el(C,-1)),H(el(I,1)))),C<=0&&M(el(I,-1)),I<=0&&H(el(C,1)),this.min=C,this.max=I}buildTicks(){const u=this.options,C=function fp(m,{min:u,max:h}){u=ot(m.min,u);const C=[],I=dc(u);let M=function bm(m,u){let C=dc(u-m);for(;mp(m,u,C)>10;)C++;for(;mp(m,u,C)<10;)C--;return Math.min(C,dc(m))}(u,h),H=M<0?Math.pow(10,Math.abs(M)):1;const ee=Math.pow(10,M),ge=I>M?Math.pow(10,I):0,De=Math.round((u-ge)*H)/H,rt=Math.floor((u-ge)/ee/10)*ee*10;let Tt=Math.floor((De-rt)/Math.pow(10,M)),Ft=ot(m.min,Math.round((ge+rt+Tt*Math.pow(10,M))*H)/H);for(;Ft<h;)C.push({value:Ft,major:Vh(Ft),significand:Tt}),Tt>=10?Tt=Tt<15?15:20:Tt++,Tt>=20&&(M++,Tt=2,H=M>=0?1:H),Ft=Math.round((ge+rt+Tt*Math.pow(10,M))*H)/H;const tn=ot(m.max,Ft);return C.push({value:tn,major:Vh(tn),significand:Tt}),C}({min:this._userMin,max:this._userMax},this);return"ticks"===u.bounds&&ye(C,this,"value"),u.reverse?(C.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),C}getLabelForValue(u){return void 0===u?"0":Ns(u,this.chart.options.locale,this.options.ticks.format)}configure(){const u=this.min;super.configure(),this._startValue=ri(u),this._valueRange=ri(this.max)-ri(u)}getPixelForValue(u){return(void 0===u||0===u)&&(u=this.min),null===u||isNaN(u)?NaN:this.getPixelForDecimal(u===this.min?0:(ri(u)-this._startValue)/this._valueRange)}getValueForPixel(u){const h=this.getDecimalForPixel(u);return Math.pow(10,this._startValue+h*this._valueRange)}}function ud(m){const u=m.ticks;if(u.display&&m.display){const h=Nn(u.backdropPadding);return Ct(u.font&&u.font.size,Bi.font.size)+h.height}return 0}function _p(m,u,h){return h=at(h)?h:[h],{w:Fs(m,u.string,h),h:h.length*u.lineHeight}}function zh(m,u,h,C,I){return m===C||m===I?{start:u-h/2,end:u+h/2}:m<C||m>I?{start:u-h,end:u}:{start:u,end:u+h}}function zr(m,u,h,C,I){const M=Math.abs(Math.sin(h)),H=Math.abs(Math.cos(h));let ee=0,ge=0;C.start<u.l?(ee=(u.l-C.start)/M,m.l=Math.min(m.l,u.l-ee)):C.end>u.r&&(ee=(C.end-u.r)/M,m.r=Math.max(m.r,u.r+ee)),I.start<u.t?(ge=(u.t-I.start)/H,m.t=Math.min(m.t,u.t-ge)):I.end>u.b&&(ge=(I.end-u.b)/H,m.b=Math.max(m.b,u.b+ge))}function Jh(m,u,h){const C=m.drawingArea,{extra:I,additionalAngle:M,padding:H,size:ee}=h,ge=m.getPointPosition(u,C+I+H,M),De=Math.round(ut(zn(ge.angle+rn))),rt=function Qh(m,u,h){return 90===h||270===h?m-=u/2:(h>270||h<90)&&(m-=u),m}(ge.y,ee.h,De),Tt=function xm(m){return 0===m||180===m?"center":m<180?"left":"right"}(De),Ft=function uu(m,u,h){return"right"===h?m-=u:"center"===h&&(m-=u/2),m}(ge.x,ee.w,Tt);return{visible:!0,x:ge.x,y:rt,textAlign:Tt,left:Ft,top:rt,right:Ft+ee.w,bottom:rt+ee.h}}function Cp(m,u){if(!u)return!0;const{left:h,top:C,right:I,bottom:M}=m;return!(ls({x:h,y:C},u)||ls({x:h,y:M},u)||ls({x:I,y:C},u)||ls({x:I,y:M},u))}function Gh(m,u,h){const{left:C,top:I,right:M,bottom:H}=h,{backdropColor:ee}=u;if(!ct(ee)){const ge=zt(u.borderRadius),De=Nn(u.backdropPadding);m.fillStyle=ee;const rt=C-De.left,Tt=I-De.top,Ft=M-C+De.width,tn=H-I+De.height;Object.values(ge).some(Cn=>0!==Cn)?(m.beginPath(),ts(m,{x:rt,y:Tt,w:Ft,h:tn,radius:ge}),m.fill()):m.fillRect(rt,Tt,Ft,tn)}}function Hl(m,u,h,C){const{ctx:I}=m;if(h)I.arc(m.xCenter,m.yCenter,u,0,fn);else{let M=m.getPointPosition(0,u);I.moveTo(M.x,M.y);for(let H=1;H<C;H++)M=m.getPointPosition(H,u),I.lineTo(M.x,M.y)}}Ci(Ul,"id","logarithmic"),Ci(Ul,"defaults",{ticks:{callback:qi.formatters.logarithmic,major:{enabled:!0}}});class Vl extends ld{constructor(u){super(u),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const u=this._padding=Nn(ud(this.options)/2),h=this.width=this.maxWidth-u.width,C=this.height=this.maxHeight-u.height;this.xCenter=Math.floor(this.left+h/2+u.left),this.yCenter=Math.floor(this.top+C/2+u.top),this.drawingArea=Math.floor(Math.min(h,C)/2)}determineDataLimits(){const{min:u,max:h}=this.getMinMax(!1);this.min=ke(u)&&!isNaN(u)?u:0,this.max=ke(h)&&!isNaN(h)?h:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ud(this.options))}generateTickLabels(u){ld.prototype.generateTickLabels.call(this,u),this._pointLabels=this.getLabels().map((h,C)=>{const I=Mt(this.options.pointLabels.callback,[h,C],this);return I||0===I?I:""}).filter((h,C)=>this.chart.getDataVisibility(C))}fit(){const u=this.options;u.display&&u.pointLabels.display?function Os(m){const u={l:m.left+m._padding.left,r:m.right-m._padding.right,t:m.top+m._padding.top,b:m.bottom-m._padding.bottom},h=Object.assign({},u),C=[],I=[],M=m._pointLabels.length,H=m.options.pointLabels,ee=H.centerPointLabels?qt/M:0;for(let ge=0;ge<M;ge++){const De=H.setContext(m.getPointLabelContext(ge));I[ge]=De.padding;const rt=m.getPointPosition(ge,m.drawingArea+I[ge],ee),Tt=Wn(De.font),Ft=_p(m.ctx,Tt,m._pointLabels[ge]);C[ge]=Ft;const tn=zn(m.getIndexAngle(ge)+ee),Cn=Math.round(ut(tn));zr(h,u,tn,zh(Cn,rt.x,Ft.w,0,180),zh(Cn,rt.y,Ft.h,90,270))}m.setCenterPoint(u.l-h.l,h.r-u.r,u.t-h.t,h.b-u.b),m._pointLabelItems=function ym(m,u,h){const C=[],I=m._pointLabels.length,M=m.options,{centerPointLabels:H,display:ee}=M.pointLabels,ge={extra:ud(M)/2,additionalAngle:H?qt/I:0};let De;for(let rt=0;rt<I;rt++){ge.padding=h[rt],ge.size=u[rt];const Tt=Jh(m,rt,ge);C.push(Tt),"auto"===ee&&(Tt.visible=Cp(Tt,De),Tt.visible&&(De=Tt))}return C}(m,C,I)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(u,h,C,I){this.xCenter+=Math.floor((u-h)/2),this.yCenter+=Math.floor((C-I)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(u,h,C,I))}getIndexAngle(u){return zn(u*(fn/(this._pointLabels.length||1))+Ue(this.options.startAngle||0))}getDistanceFromCenterForValue(u){if(ct(u))return NaN;const h=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-u)*h:(u-this.min)*h}getValueForDistanceFromCenter(u){if(ct(u))return NaN;const h=u/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-h:this.min+h}getPointLabelContext(u){const h=this._pointLabels||[];if(u>=0&&u<h.length){const C=h[u];return function du(m,u,h){return Zi(m,{label:h,index:u,type:"pointLabel"})}(this.getContext(),u,C)}}getPointPosition(u,h,C=0){const I=this.getIndexAngle(u)-rn+C;return{x:Math.cos(I)*h+this.xCenter,y:Math.sin(I)*h+this.yCenter,angle:I}}getPointPositionForValue(u,h){return this.getPointPosition(u,this.getDistanceFromCenterForValue(h))}getBasePosition(u){return this.getPointPositionForValue(u||0,this.getBaseValue())}getPointLabelPosition(u){const{left:h,top:C,right:I,bottom:M}=this._pointLabelItems[u];return{left:h,top:C,right:I,bottom:M}}drawBackground(){const{backgroundColor:u,grid:{circular:h}}=this.options;if(u){const C=this.ctx;C.save(),C.beginPath(),Hl(this,this.getDistanceFromCenterForValue(this._endValue),h,this._pointLabels.length),C.closePath(),C.fillStyle=u,C.fill(),C.restore()}}drawGrid(){const u=this.ctx,h=this.options,{angleLines:C,grid:I,border:M}=h,H=this._pointLabels.length;let ee,ge,De;if(h.pointLabels.display&&function Wh(m,u){const{ctx:h,options:{pointLabels:C}}=m;for(let I=u-1;I>=0;I--){const M=m._pointLabelItems[I];if(!M.visible)continue;const H=C.setContext(m.getPointLabelContext(I));Gh(h,H,M);const ee=Wn(H.font),{x:ge,y:De,textAlign:rt}=M;vs(h,m._pointLabels[I],ge,De+ee.lineHeight/2,ee,{color:H.color,textAlign:rt,textBaseline:"middle"})}}(this,H),I.display&&this.ticks.forEach((rt,Tt)=>{if(0!==Tt){ge=this.getDistanceFromCenterForValue(rt.value);const Ft=this.getContext(Tt),tn=I.setContext(Ft),Cn=M.setContext(Ft);!function vp(m,u,h,C,I){const M=m.ctx,H=u.circular,{color:ee,lineWidth:ge}=u;!H&&!C||!ee||!ge||h<0||(M.save(),M.strokeStyle=ee,M.lineWidth=ge,M.setLineDash(I.dash),M.lineDashOffset=I.dashOffset,M.beginPath(),Hl(m,h,H,C),M.closePath(),M.stroke(),M.restore())}(this,tn,ge,H,Cn)}}),C.display){for(u.save(),ee=H-1;ee>=0;ee--){const rt=C.setContext(this.getPointLabelContext(ee)),{color:Tt,lineWidth:Ft}=rt;!Ft||!Tt||(u.lineWidth=Ft,u.strokeStyle=Tt,u.setLineDash(rt.borderDash),u.lineDashOffset=rt.borderDashOffset,ge=this.getDistanceFromCenterForValue(h.ticks.reverse?this.min:this.max),De=this.getPointPosition(ee,ge),u.beginPath(),u.moveTo(this.xCenter,this.yCenter),u.lineTo(De.x,De.y),u.stroke())}u.restore()}}drawBorder(){}drawLabels(){const u=this.ctx,h=this.options,C=h.ticks;if(!C.display)return;const I=this.getIndexAngle(0);let M,H;u.save(),u.translate(this.xCenter,this.yCenter),u.rotate(I),u.textAlign="center",u.textBaseline="middle",this.ticks.forEach((ee,ge)=>{if(0===ge&&!h.reverse)return;const De=C.setContext(this.getContext(ge)),rt=Wn(De.font);if(M=this.getDistanceFromCenterForValue(this.ticks[ge].value),De.showLabelBackdrop){u.font=rt.string,H=u.measureText(ee.label).width,u.fillStyle=De.backdropColor;const Tt=Nn(De.backdropPadding);u.fillRect(-H/2-Tt.left,-M-rt.size/2-Tt.top,H+Tt.width,rt.size+Tt.height)}vs(u,ee.label,0,-M,rt,{color:De.color,strokeColor:De.textStrokeColor,strokeWidth:De.textStrokeWidth})}),u.restore()}drawTitle(){}}Ci(Vl,"id","radialLinear"),Ci(Vl,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:qi.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:u=>u,padding:5,centerPointLabels:!1}}),Ci(Vl,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Ci(Vl,"descriptors",{angleLines:{_fallback:"grid"}});const pu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Kr=Object.keys(pu);function bp(m,u){return m-u}function yp(m,u){if(ct(u))return null;const h=m._adapter,{parser:C,round:I,isoWeekday:M}=m._parseOpts;let H=u;return"function"==typeof C&&(H=C(H)),ke(H)||(H="string"==typeof C?h.parse(H,C):h.parse(H)),null===H?null:(I&&(H="week"!==I||!Bt(M)&&!0!==M?h.startOf(H,I):h.startOf(H,"isoWeek",M)),+H)}function dd(m,u,h,C){const I=Kr.length;for(let M=Kr.indexOf(m);M<I-1;++M){const H=pu[Kr[M]],ee=H.steps?H.steps:Number.MAX_SAFE_INTEGER;if(H.common&&Math.ceil((h-u)/(ee*H.size))<=C)return Kr[M]}return Kr[I-1]}function Ip(m,u,h){if(h){if(h.length){const{lo:C,hi:I}=ki(h,u);m[h[C]>=u?h[C]:h[I]]=!0}}else m[u]=!0}function pd(m,u,h){const C=[],I={},M=u.length;let H,ee;for(H=0;H<M;++H)ee=u[H],I[ee]=H,C.push({value:ee,major:!1});return 0!==M&&h?function Tp(m,u,h,C){const I=m._adapter,M=+I.startOf(u[0].value,C),H=u[u.length-1].value;let ee,ge;for(ee=M;ee<=H;ee=+I.add(ee,1,C))ge=h[ee],ge>=0&&(u[ge].major=!0);return u}(m,C,I,h):C}class Fc extends on{constructor(u){super(u),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(u,h={}){const C=u.time||(u.time={}),I=this._adapter=new Da__date(u.adapters.date);I.init(h),me(C.displayFormats,I.formats()),this._parseOpts={parser:C.parser,round:C.round,isoWeekday:C.isoWeekday},super.init(u),this._normalized=h.normalized}parse(u,h){return void 0===u?null:yp(this,u)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const u=this.options,h=this._adapter,C=u.time.unit||"day";let{min:I,max:M,minDefined:H,maxDefined:ee}=this.getUserBounds();function ge(De){!H&&!isNaN(De.min)&&(I=Math.min(I,De.min)),!ee&&!isNaN(De.max)&&(M=Math.max(M,De.max))}(!H||!ee)&&(ge(this._getLabelBounds()),("ticks"!==u.bounds||"labels"!==u.ticks.source)&&ge(this.getMinMax(!1))),I=ke(I)&&!isNaN(I)?I:+h.startOf(Date.now(),C),M=ke(M)&&!isNaN(M)?M:+h.endOf(Date.now(),C)+1,this.min=Math.min(I,M-1),this.max=Math.max(I+1,M)}_getLabelBounds(){const u=this.getLabelTimestamps();let h=Number.POSITIVE_INFINITY,C=Number.NEGATIVE_INFINITY;return u.length&&(h=u[0],C=u[u.length-1]),{min:h,max:C}}buildTicks(){const u=this.options,h=u.time,C=u.ticks,I="labels"===C.source?this.getLabelTimestamps():this._generate();"ticks"===u.bounds&&I.length&&(this.min=this._userMin||I[0],this.max=this._userMax||I[I.length-1]);const M=this.min,ee=function ci(m,u,h){let C=0,I=m.length;for(;C<I&&m[C]<u;)C++;for(;I>C&&m[I-1]>h;)I--;return C>0||I<m.length?m.slice(C,I):m}(I,M,this.max);return this._unit=h.unit||(C.autoSkip?dd(h.minUnit,this.min,this.max,this._getLabelCapacity(M)):function xp(m,u,h,C,I){for(let M=Kr.length-1;M>=Kr.indexOf(h);M--){const H=Kr[M];if(pu[H].common&&m._adapter.diff(I,C,H)>=u-1)return H}return Kr[h?Kr.indexOf(h):0]}(this,ee.length,h.minUnit,this.min,this.max)),this._majorUnit=C.major.enabled&&"year"!==this._unit?function ml(m){for(let u=Kr.indexOf(m)+1,h=Kr.length;u<h;++u)if(pu[Kr[u]].common)return Kr[u]}(this._unit):void 0,this.initOffsets(I),u.reverse&&ee.reverse(),pd(this,ee,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(u=>+u.value))}initOffsets(u=[]){let I,M,h=0,C=0;this.options.offset&&u.length&&(I=this.getDecimalForValue(u[0]),h=1===u.length?1-I:(this.getDecimalForValue(u[1])-I)/2,M=this.getDecimalForValue(u[u.length-1]),C=1===u.length?M:(M-this.getDecimalForValue(u[u.length-2]))/2);const H=u.length<3?.5:.25;h=ai(h,0,H),C=ai(C,0,H),this._offsets={start:h,end:C,factor:1/(h+1+C)}}_generate(){const u=this._adapter,h=this.min,C=this.max,I=this.options,M=I.time,H=M.unit||dd(M.minUnit,h,C,this._getLabelCapacity(h)),ee=Ct(I.ticks.stepSize,1),ge="week"===H&&M.isoWeekday,De=Bt(ge)||!0===ge,rt={};let Ft,tn,Tt=h;if(De&&(Tt=+u.startOf(Tt,"isoWeek",ge)),Tt=+u.startOf(Tt,De?"day":H),u.diff(C,h,H)>1e5*ee)throw new Error(h+" and "+C+" are too far apart with stepSize of "+ee+" "+H);const Cn="data"===I.ticks.source&&this.getDataTimestamps();for(Ft=Tt,tn=0;Ft<C;Ft=+u.add(Ft,ee,H),tn++)Ip(rt,Ft,Cn);return(Ft===C||"ticks"===I.bounds||1===tn)&&Ip(rt,Ft,Cn),Object.keys(rt).sort(bp).map(yn=>+yn)}getLabelForValue(u){const C=this.options.time;return this._adapter.format(u,C.tooltipFormat?C.tooltipFormat:C.displayFormats.datetime)}format(u,h){return this._adapter.format(u,h||this.options.time.displayFormats[this._unit])}_tickFormatFunction(u,h,C,I){const M=this.options,H=M.ticks.callback;if(H)return Mt(H,[u,h,C],this);const ee=M.time.displayFormats,ge=this._unit,De=this._majorUnit,Tt=De&&ee[De],Ft=C[h];return this._adapter.format(u,I||(De&&Tt&&Ft&&Ft.major?Tt:ge&&ee[ge]))}generateTickLabels(u){let h,C,I;for(h=0,C=u.length;h<C;++h)I=u[h],I.label=this._tickFormatFunction(I.value,h,u)}getDecimalForValue(u){return null===u?NaN:(u-this.min)/(this.max-this.min)}getPixelForValue(u){const h=this._offsets,C=this.getDecimalForValue(u);return this.getPixelForDecimal((h.start+C)*h.factor)}getValueForPixel(u){const h=this._offsets,C=this.getDecimalForPixel(u)/h.factor-h.end;return this.min+C*(this.max-this.min)}_getLabelSize(u){const h=this.options.ticks,C=this.ctx.measureText(u).width,I=Ue(this.isHorizontal()?h.maxRotation:h.minRotation),M=Math.cos(I),H=Math.sin(I),ee=this._resolveTickFontOptions(0).size;return{w:C*M+ee*H,h:C*H+ee*M}}_getLabelCapacity(u){const h=this.options.time,C=h.displayFormats,I=C[h.unit]||C.millisecond,M=this._tickFormatFunction(u,0,pd(this,[u],this._majorUnit),I),H=this._getLabelSize(M),ee=Math.floor(this.isHorizontal()?this.width/H.w:this.height/H.h)-1;return ee>0?ee:1}getDataTimestamps(){let h,C,u=this._cache.data||[];if(u.length)return u;const I=this.getMatchingVisibleMetas();if(this._normalized&&I.length)return this._cache.data=I[0].controller.getAllParsedValues(this);for(h=0,C=I.length;h<C;++h)u=u.concat(I[h].controller.getAllParsedValues(this));return this._cache.data=this.normalize(u)}getLabelTimestamps(){const u=this._cache.labels||[];let h,C;if(u.length)return u;const I=this.getLabels();for(h=0,C=I.length;h<C;++h)u.push(yp(this,I[h]));return this._cache.labels=this._normalized?u:this.normalize(u)}normalize(u){return Ao(u.sort(bp))}}function hu(m,u,h){let M,H,ee,ge,C=0,I=m.length-1;h?(u>=m[C].pos&&u<=m[I].pos&&({lo:C,hi:I}=$i(m,"pos",u)),({pos:M,time:ee}=m[C]),({pos:H,time:ge}=m[I])):(u>=m[C].time&&u<=m[I].time&&({lo:C,hi:I}=$i(m,"time",u)),({time:M,pos:ee}=m[C]),({time:H,pos:ge}=m[I]));const De=H-M;return De?ee+(ge-ee)*(u-M)/De:ee}Ci(Fc,"id","time"),Ci(Fc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class fl extends Fc{constructor(u){super(u),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const u=this._getTimestampsForTable(),h=this._table=this.buildLookupTable(u);this._minPos=hu(h,this.min),this._tableRange=hu(h,this.max)-this._minPos,super.initOffsets(u)}buildLookupTable(u){const{min:h,max:C}=this,I=[],M=[];let H,ee,ge,De,rt;for(H=0,ee=u.length;H<ee;++H)De=u[H],De>=h&&De<=C&&I.push(De);if(I.length<2)return[{time:h,pos:0},{time:C,pos:1}];for(H=0,ee=I.length;H<ee;++H)rt=I[H+1],ge=I[H-1],De=I[H],Math.round((rt+ge)/2)!==De&&M.push({time:De,pos:H/(ee-1)});return M}_generate(){const u=this.min,h=this.max;let C=super.getDataTimestamps();return(!C.includes(u)||!C.length)&&C.splice(0,0,u),(!C.includes(h)||1===C.length)&&C.push(h),C.sort((I,M)=>I-M)}_getTimestampsForTable(){let u=this._cache.all||[];if(u.length)return u;const h=this.getDataTimestamps(),C=this.getLabelTimestamps();return u=h.length&&C.length?this.normalize(h.concat(C)):h.length?h:C,u=this._cache.all=u,u}getDecimalForValue(u){return(hu(this._table,u)-this._minPos)/this._tableRange}getValueForPixel(u){const h=this._offsets,C=this.getDecimalForPixel(u)/h.factor-h.end;return hu(this._table,C*this._tableRange+this._minPos,!0)}}Ci(fl,"id","timeseries"),Ci(fl,"defaults",Fc.defaults),$a.register(Sl,lm,Zh,Object.freeze({__proto__:null,CategoryScale:Hh,LinearScale:cd,LogarithmicScale:Ul,RadialLinearScale:Vl,TimeScale:Fc,TimeSeriesScale:fl}));const hd=$a;let Tm=(()=>{class m{constructor(h){this.el=h,this.plugins=[],this.responsive=!0,this.onDataSelect=new e.vpe,this._options={}}get data(){return this._data}set data(h){this._data=h,this.reinit()}get options(){return this._options}set options(h){this._options=h,this.reinit()}ngAfterViewInit(){this.initChart(),this.initialized=!0}onCanvasClick(h){if(this.chart){const C=this.chart.getElementsAtEventForMode(h,"nearest",{intersect:!0},!1),I=this.chart.getElementsAtEventForMode(h,"dataset",{intersect:!0},!1);C&&C[0]&&I&&this.onDataSelect.emit({originalEvent:h,element:C[0],dataset:I})}}initChart(){let h=this.options||{};h.responsive=this.responsive,h.responsive&&(this.height||this.width)&&(h.maintainAspectRatio=!1),this.chart=new hd(this.el.nativeElement.children[0].children[0],{type:this.type,data:this.data,options:this.options,plugins:this.plugins})}getCanvas(){return this.el.nativeElement.children[0].children[0]}getBase64Image(){return this.chart.toBase64Image()}generateLegend(){if(this.chart)return this.chart.generateLegend()}refresh(){this.chart&&this.chart.update()}reinit(){this.chart&&(this.chart.destroy(),this.initChart())}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.initialized=!1,this.chart=null)}}return m.\u0275fac=function(h){return new(h||m)(e.Y36(e.SBq))},m.\u0275cmp=e.Xpm({type:m,selectors:[["p-chart"]],hostAttrs:[1,"p-element"],inputs:{type:"type",plugins:"plugins",width:"width",height:"height",responsive:"responsive",data:"data",options:"options"},outputs:{onDataSelect:"onDataSelect"},decls:2,vars:6,consts:[[2,"position","relative"],[3,"click"]],template:function(h,C){1&h&&(e.TgZ(0,"div",0)(1,"canvas",1),e.NdJ("click",function(M){return C.onCanvasClick(M)}),e.qZA()()),2&h&&(e.Udp("width",C.responsive&&!C.width?null:C.width)("height",C.responsive&&!C.height?null:C.height),e.xp6(1),e.uIk("width",C.responsive&&!C.width?null:C.width)("height",C.responsive&&!C.height?null:C.height))},encapsulation:2,changeDetection:0}),m})(),zl=(()=>{class m{}return m.\u0275fac=function(h){return new(h||m)},m.\u0275mod=e.oAB({type:m}),m.\u0275inj=e.cJS({imports:[a.ez]}),m})()},1208:(mn,ht,b)=>{"use strict";b.d(ht,{XZ:()=>J,nD:()=>N});var e=b(5e3),a=b(9808),f=b(2382),g=b(5921);const _=["cb"],P=function(w,x,D){return{"p-checkbox-label":!0,"p-checkbox-label-active":w,"p-disabled":x,"p-checkbox-label-focus":D}};function y(w,x){if(1&w){const D=e.EpF();e.TgZ(0,"label",7),e.NdJ("click",function(U){e.CHM(D);const F=e.oxw(),ce=e.MAs(3);return e.KtG(F.onClick(U,ce,!0))}),e._uU(1),e.qZA()}if(2&w){const D=e.oxw();e.Tol(D.labelStyleClass),e.Q6J("ngClass",e.kEZ(5,P,D.checked(),D.disabled,D.focused)),e.uIk("for",D.inputId),e.xp6(1),e.Oqu(D.label)}}const l=function(w,x,D){return{"p-checkbox p-component":!0,"p-checkbox-checked":w,"p-checkbox-disabled":x,"p-checkbox-focused":D}},R=function(w,x,D){return{"p-highlight":w,"p-disabled":x,"p-focus":D}},L={provide:f.JU,useExisting:(0,e.Gpc)(()=>J),multi:!0};let J=(()=>{class w{constructor(D){this.cd=D,this.checkboxIcon="pi pi-check",this.trueValue=!0,this.falseValue=!1,this.onChange=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.focused=!1}onClick(D,S,U){D.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(D),U&&S.focus())}updateModel(D){let S;this.binary?(S=this.checked()?this.falseValue:this.trueValue,this.model=S,this.onModelChange(S)):(S=this.checked()?this.model.filter(U=>!g.gb.equals(U,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(S),this.model=S,this.formControl&&this.formControl.setValue(S)),this.onChange.emit({checked:S,originalEvent:D})}handleChange(D){this.readonly||this.updateModel(D)}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(D){this.model=D,this.cd.markForCheck()}registerOnChange(D){this.onModelChange=D}registerOnTouched(D){this.onModelTouched=D}setDisabledState(D){this.disabled=D,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:g.gb.contains(this.value,this.model)}}return w.\u0275fac=function(D){return new(D||w)(e.Y36(e.sBO))},w.\u0275cmp=e.Xpm({type:w,selectors:[["p-checkbox"]],viewQuery:function(D,S){if(1&D&&e.Gf(_,5),2&D){let U;e.iGM(U=e.CRH())&&(S.inputViewChild=U.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[e._Bn([L])],decls:7,vars:26,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"readonly","value","checked","disabled","focus","blur","change"],["cb",""],[1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[3,"class","ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(D,S){if(1&D){const U=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),e.NdJ("focus",function(){return S.onFocus()})("blur",function(){return S.onBlur()})("change",function(ce){return S.handleChange(ce)}),e.qZA()(),e.TgZ(4,"div",4),e.NdJ("click",function(ce){e.CHM(U);const te=e.MAs(3);return e.KtG(S.onClick(ce,te,!0))}),e._UZ(5,"span",5),e.qZA()(),e.YNc(6,y,2,9,"label",6)}2&D&&(e.Tol(S.styleClass),e.Q6J("ngStyle",S.style)("ngClass",e.kEZ(18,l,S.checked(),S.disabled,S.focused)),e.xp6(2),e.Q6J("readonly",S.readonly)("value",S.value)("checked",S.checked())("disabled",S.disabled),e.uIk("id",S.inputId)("name",S.name)("tabindex",S.tabindex)("aria-labelledby",S.ariaLabelledBy)("aria-label",S.ariaLabel)("aria-checked",S.checked())("required",S.required),e.xp6(2),e.Q6J("ngClass",e.kEZ(22,R,S.checked(),S.disabled,S.focused)),e.xp6(1),e.Q6J("ngClass",S.checked()?S.checkboxIcon:null),e.xp6(1),e.Q6J("ngIf",S.label))},dependencies:[a.mk,a.O5,a.PC],styles:[".p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}\n"],encapsulation:2,changeDetection:0}),w})(),N=(()=>{class w{}return w.\u0275fac=function(D){return new(D||w)},w.\u0275mod=e.oAB({type:w}),w.\u0275inj=e.cJS({imports:[a.ez]}),w})()},6888:(mn,ht,b)=>{"use strict";b.d(ht,{e4:()=>O,zH:()=>k});var e=b(5e3),a=b(1777),f=b(9808),g=b(5730),_=b(2382),P=b(5921),y=b(9783);const l=["container"],R=["input"],L=["colorSelector"],J=["colorHandle"],N=["hue"],w=["hueHandle"],x=function($){return{"p-disabled":$}};function D($,ue){if(1&$){const q=e.EpF();e.TgZ(0,"input",4,5),e.NdJ("focus",function(){e.CHM(q);const G=e.oxw();return e.KtG(G.onInputFocus())})("click",function(){e.CHM(q);const G=e.oxw();return e.KtG(G.onInputClick())})("keydown",function(G){e.CHM(q);const he=e.oxw();return e.KtG(he.onInputKeydown(G))}),e.qZA()}if(2&$){const q=e.oxw();e.Udp("background-color",q.inputBgColor),e.Q6J("ngClass",e.VKq(6,x,q.disabled))("disabled",q.disabled),e.uIk("id",q.inputId)("tabindex",q.tabindex)}}const S=function($,ue){return{"p-colorpicker-panel":!0,"p-colorpicker-overlay-panel":$,"p-disabled":ue}},U=function($,ue){return{showTransitionParams:$,hideTransitionParams:ue}},F=function($){return{value:"visible",params:$}};function ce($,ue){if(1&$){const q=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(G){e.CHM(q);const he=e.oxw();return e.KtG(he.onOverlayClick(G))})("@overlayAnimation.start",function(G){e.CHM(q);const he=e.oxw();return e.KtG(he.onOverlayAnimationStart(G))})("@overlayAnimation.done",function(G){e.CHM(q);const he=e.oxw();return e.KtG(he.onOverlayAnimationEnd(G))}),e.TgZ(1,"div",7)(2,"div",8,9),e.NdJ("touchstart",function(G){e.CHM(q);const he=e.oxw();return e.KtG(he.onColorTouchStart(G))})("touchmove",function(G){e.CHM(q);const he=e.oxw();return e.KtG(he.onMove(G))})("touchend",function(){e.CHM(q);const G=e.oxw();return e.KtG(G.onDragEnd())})("mousedown",function(G){e.CHM(q);const he=e.oxw();return e.KtG(he.onColorMousedown(G))}),e.TgZ(4,"div",10),e._UZ(5,"div",11,12),e.qZA()(),e.TgZ(7,"div",13,14),e.NdJ("mousedown",function(G){e.CHM(q);const he=e.oxw();return e.KtG(he.onHueMousedown(G))})("touchstart",function(G){e.CHM(q);const he=e.oxw();return e.KtG(he.onHueTouchStart(G))})("touchmove",function(G){e.CHM(q);const he=e.oxw();return e.KtG(he.onMove(G))})("touchend",function(){e.CHM(q);const G=e.oxw();return e.KtG(G.onDragEnd())}),e._UZ(9,"div",15,16),e.qZA()()()}if(2&$){const q=e.oxw();e.Q6J("ngClass",e.WLB(3,S,!q.inline,q.disabled))("@overlayAnimation",e.VKq(9,F,e.WLB(6,U,q.showTransitionOptions,q.hideTransitionOptions)))("@.disabled",!0===q.inline)}}const te=function($,ue){return{"p-colorpicker p-component":!0,"p-colorpicker-overlay":$,"p-colorpicker-dragging":ue}},V={provide:_.JU,useExisting:(0,e.Gpc)(()=>k),multi:!0};let k=(()=>{class ${constructor(q,Y,G,he,j){this.el=q,this.renderer=Y,this.cd=G,this.config=he,this.overlayService=j,this.format="hex",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onChange=new e.vpe,this.onShow=new e.vpe,this.onHide=new e.vpe,this.value={h:0,s:100,b:100},this.defaultColor="ff0000",this.onModelChange=()=>{},this.onModelTouched=()=>{}}set colorSelector(q){this.colorSelectorViewChild=q}set colorHandle(q){this.colorHandleViewChild=q}set hue(q){this.hueViewChild=q}set hueHandle(q){this.hueHandleViewChild=q}onHueMousedown(q){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.hueDragging=!0,this.pickHue(q))}onHueTouchStart(q){this.disabled||(this.hueDragging=!0,this.pickHue(q,q.changedTouches[0]))}onColorTouchStart(q){this.disabled||(this.colorDragging=!0,this.pickColor(q,q.changedTouches[0]))}pickHue(q,Y){let G=Y?Y.pageY:q.pageY,he=this.hueViewChild.nativeElement.getBoundingClientRect().top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0);this.value=this.validateHSB({h:Math.floor(360*(150-Math.max(0,Math.min(150,G-he)))/150),s:this.value.s,b:this.value.b}),this.updateColorSelector(),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:q,value:this.getValueToUpdate()})}onColorMousedown(q){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.colorDragging=!0,this.pickColor(q))}onMove(q){this.colorDragging&&(this.pickColor(q,q.changedTouches[0]),q.preventDefault()),this.hueDragging&&(this.pickHue(q,q.changedTouches[0]),q.preventDefault())}onDragEnd(){this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}pickColor(q,Y){let G=Y?Y.pageX:q.pageX,he=Y?Y.pageY:q.pageY,j=this.colorSelectorViewChild.nativeElement.getBoundingClientRect(),Q=j.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),K=j.left+document.body.scrollLeft,z=Math.floor(100*Math.max(0,Math.min(150,G-K))/150),oe=Math.floor(100*(150-Math.max(0,Math.min(150,he-Q)))/150);this.value=this.validateHSB({h:this.value.h,s:z,b:oe}),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:q,value:this.getValueToUpdate()})}getValueToUpdate(){let q;switch(this.format){case"hex":q="#"+this.HSBtoHEX(this.value);break;case"rgb":q=this.HSBtoRGB(this.value);break;case"hsb":q=this.value}return q}updateModel(){this.onModelChange(this.getValueToUpdate())}writeValue(q){if(q)switch(this.format){case"hex":this.value=this.HEXtoHSB(q);break;case"rgb":this.value=this.RGBtoHSB(q);break;case"hsb":this.value=q}else this.value=this.HEXtoHSB(this.defaultColor);this.updateColorSelector(),this.updateUI(),this.cd.markForCheck()}updateColorSelector(){if(this.colorSelectorViewChild){const q={s:100,b:100};q.h=this.value.h,this.colorSelectorViewChild.nativeElement.style.backgroundColor="#"+this.HSBtoHEX(q)}}updateUI(){this.colorHandleViewChild&&this.hueHandleViewChild.nativeElement&&(this.colorHandleViewChild.nativeElement.style.left=Math.floor(150*this.value.s/100)+"px",this.colorHandleViewChild.nativeElement.style.top=Math.floor(150*(100-this.value.b)/100)+"px",this.hueHandleViewChild.nativeElement.style.top=Math.floor(150-150*this.value.h/360)+"px"),this.inputBgColor="#"+this.HSBtoHEX(this.value)}onInputFocus(){this.onModelTouched()}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(q){switch(q.toState){case"visible":this.inline||(this.overlay=q.element,this.appendOverlay(),this.autoZIndex&&P.P9.set("overlay",this.overlay,this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.updateColorSelector(),this.updateUI());break;case"void":this.onOverlayHide()}}onOverlayAnimationEnd(q){switch(q.toState){case"visible":this.inline||this.onShow.emit({});break;case"void":this.autoZIndex&&P.P9.clear(q.element),this.onHide.emit({})}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):g.p.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.appendTo?g.p.absolutePosition(this.overlay,this.inputViewChild.nativeElement):g.p.relativePosition(this.overlay,this.inputViewChild.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onInputClick(){this.selfClick=!0,this.togglePanel()}togglePanel(){this.overlayVisible?this.hide():this.show()}onInputKeydown(q){switch(q.which){case 32:this.togglePanel(),q.preventDefault();break;case 27:case 9:this.hide()}}onOverlayClick(q){this.overlayService.add({originalEvent:q,target:this.el.nativeElement}),this.selfClick=!0}registerOnChange(q){this.onModelChange=q}registerOnTouched(q){this.onModelTouched=q}setDisabledState(q){this.disabled=q,this.cd.markForCheck()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.selfClick||(this.overlayVisible=!1,this.unbindDocumentClickListener()),this.selfClick=!1,this.cd.markForCheck()}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentMousemoveListener(){this.documentMousemoveListener||(this.documentMousemoveListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousemove",Y=>{this.colorDragging&&this.pickColor(Y),this.hueDragging&&this.pickHue(Y)}))}unbindDocumentMousemoveListener(){this.documentMousemoveListener&&(this.documentMousemoveListener(),this.documentMousemoveListener=null)}bindDocumentMouseupListener(){this.documentMouseupListener||(this.documentMouseupListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mouseup",()=>{this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}))}unbindDocumentMouseupListener(){this.documentMouseupListener&&(this.documentMouseupListener(),this.documentMouseupListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!g.p.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new g.V(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}validateHSB(q){return{h:Math.min(360,Math.max(0,q.h)),s:Math.min(100,Math.max(0,q.s)),b:Math.min(100,Math.max(0,q.b))}}validateRGB(q){return{r:Math.min(255,Math.max(0,q.r)),g:Math.min(255,Math.max(0,q.g)),b:Math.min(255,Math.max(0,q.b))}}validateHEX(q){var Y=6-q.length;if(Y>0){for(var G=[],he=0;he<Y;he++)G.push("0");G.push(q),q=G.join("")}return q}HEXtoRGB(q){let Y=parseInt(q.indexOf("#")>-1?q.substring(1):q,16);return{r:Y>>16,g:(65280&Y)>>8,b:255&Y}}HEXtoHSB(q){return this.RGBtoHSB(this.HEXtoRGB(q))}RGBtoHSB(q){var Y={h:0,s:0,b:0},G=Math.min(q.r,q.g,q.b),he=Math.max(q.r,q.g,q.b),j=he-G;return Y.b=he,Y.s=0!=he?255*j/he:0,Y.h=0!=Y.s?q.r==he?(q.g-q.b)/j:q.g==he?2+(q.b-q.r)/j:4+(q.r-q.g)/j:-1,Y.h*=60,Y.h<0&&(Y.h+=360),Y.s*=100/255,Y.b*=100/255,Y}HSBtoRGB(q){var Y={r:null,g:null,b:null};let G=q.h,he=255*q.s/100,j=255*q.b/100;if(0==he)Y={r:j,g:j,b:j};else{let Q=j,K=(255-he)*j/255,z=G%60*(Q-K)/60;360==G&&(G=0),G<60?(Y.r=Q,Y.b=K,Y.g=K+z):G<120?(Y.g=Q,Y.b=K,Y.r=Q-z):G<180?(Y.g=Q,Y.r=K,Y.b=K+z):G<240?(Y.b=Q,Y.r=K,Y.g=Q-z):G<300?(Y.b=Q,Y.g=K,Y.r=K+z):G<360?(Y.r=Q,Y.g=K,Y.b=Q-z):(Y.r=0,Y.g=0,Y.b=0)}return{r:Math.round(Y.r),g:Math.round(Y.g),b:Math.round(Y.b)}}RGBtoHEX(q){var Y=[q.r.toString(16),q.g.toString(16),q.b.toString(16)];for(var G in Y)1==Y[G].length&&(Y[G]="0"+Y[G]);return Y.join("")}HSBtoHEX(q){return this.RGBtoHEX(this.HSBtoRGB(q))}onOverlayHide(){this.unbindScrollListener(),this.unbindDocumentResizeListener(),this.unbindDocumentClickListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&this.autoZIndex&&P.P9.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return $.\u0275fac=function(q){return new(q||$)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(y.b4),e.Y36(y.F0))},$.\u0275cmp=e.Xpm({type:$,selectors:[["p-colorPicker"]],viewQuery:function(q,Y){if(1&q&&(e.Gf(l,5),e.Gf(R,5),e.Gf(L,5),e.Gf(J,5),e.Gf(N,5),e.Gf(w,5)),2&q){let G;e.iGM(G=e.CRH())&&(Y.containerViewChild=G.first),e.iGM(G=e.CRH())&&(Y.inputViewChild=G.first),e.iGM(G=e.CRH())&&(Y.colorSelector=G.first),e.iGM(G=e.CRH())&&(Y.colorHandle=G.first),e.iGM(G=e.CRH())&&(Y.hue=G.first),e.iGM(G=e.CRH())&&(Y.hueHandle=G.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",inline:"inline",format:"format",appendTo:"appendTo",disabled:"disabled",tabindex:"tabindex",inputId:"inputId",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onChange:"onChange",onShow:"onShow",onHide:"onHide"},features:[e._Bn([V])],decls:4,vars:9,consts:[[3,"ngStyle","ngClass"],["container",""],["type","text","class","p-colorpicker-preview p-inputtext","readonly","readonly",3,"ngClass","disabled","backgroundColor","focus","click","keydown",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["type","text","readonly","readonly",1,"p-colorpicker-preview","p-inputtext",3,"ngClass","disabled","focus","click","keydown"],["input",""],[3,"ngClass","click"],[1,"p-colorpicker-content"],[1,"p-colorpicker-color-selector",3,"touchstart","touchmove","touchend","mousedown"],["colorSelector",""],[1,"p-colorpicker-color"],[1,"p-colorpicker-color-handle"],["colorHandle",""],[1,"p-colorpicker-hue",3,"mousedown","touchstart","touchmove","touchend"],["hue",""],[1,"p-colorpicker-hue-handle"],["hueHandle",""]],template:function(q,Y){1&q&&(e.TgZ(0,"div",0,1),e.YNc(2,D,2,8,"input",2),e.YNc(3,ce,11,11,"div",3),e.qZA()),2&q&&(e.Tol(Y.styleClass),e.Q6J("ngStyle",Y.style)("ngClass",e.WLB(6,te,!Y.inline,Y.colorDragging||Y.hueDragging)),e.xp6(2),e.Q6J("ngIf",!Y.inline),e.xp6(1),e.Q6J("ngIf",Y.inline||Y.overlayVisible))},dependencies:[f.mk,f.O5,f.PC],styles:[".p-colorpicker{display:inline-block}.p-colorpicker-dragging{cursor:pointer}.p-colorpicker-overlay{position:relative}.p-colorpicker-panel{position:relative;width:193px;height:166px}.p-colorpicker-overlay-panel{position:absolute;top:0;left:0}.p-colorpicker-preview{cursor:pointer}.p-colorpicker-panel .p-colorpicker-content{position:relative}.p-colorpicker-panel .p-colorpicker-color-selector{width:150px;height:150px;top:8px;left:8px;position:absolute}.p-colorpicker-panel .p-colorpicker-color{width:150px;height:150px}.p-colorpicker-panel .p-colorpicker-color-handle{position:absolute;top:0;left:150px;border-radius:100%;width:10px;height:10px;border-width:1px;border-style:solid;margin:-5px 0 0 -5px;cursor:pointer;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue{width:17px;height:150px;top:8px;left:167px;position:absolute;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue-handle{position:absolute;top:150px;left:0;width:21px;margin-left:-2px;margin-top:-5px;height:10px;border-width:2px;border-style:solid;opacity:.85;cursor:pointer}\n"],encapsulation:2,data:{animation:[(0,a.X$)("overlayAnimation",[(0,a.eR)(":enter",[(0,a.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,a.jt)("{{showTransitionParams}}")]),(0,a.eR)(":leave",[(0,a.jt)("{{hideTransitionParams}}",(0,a.oB)({opacity:0}))])])]},changeDetection:0}),$})(),O=(()=>{class ${}return $.\u0275fac=function(q){return new(q||$)},$.\u0275mod=e.oAB({type:$}),$.\u0275inj=e.cJS({imports:[f.ez]}),$})()},9114:(mn,ht,b)=>{"use strict";b.d(ht,{D:()=>K,Q:()=>Q});var e=b(5e3),a=b(1777),f=b(9808),g=b(5730),_=b(9783),P=b(845),y=b(5921),l=b(5787);const R=["content"];function L(z,oe){1&z&&e.GkF(0)}function J(z,oe){if(1&z&&(e.TgZ(0,"div",10),e.YNc(1,L,1,0,"ng-container",11),e.qZA()),2&z){const Te=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",Te.headerTemplate)}}function N(z,oe){if(1&z&&(e.TgZ(0,"span",15),e._uU(1),e.qZA()),2&z){const Te=e.oxw(4);e.xp6(1),e.Oqu(Te.option("header"))}}const w=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function x(z,oe){if(1&z){const Te=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(Ke){e.CHM(Te);const be=e.oxw(4);return e.KtG(be.close(Ke))})("keydown.enter",function(Ke){e.CHM(Te);const be=e.oxw(4);return e.KtG(be.close(Ke))}),e._UZ(1,"span",17),e.qZA()}2&z&&e.Q6J("ngClass",e.DdM(1,w))}function D(z,oe){if(1&z&&(e.TgZ(0,"div",10),e.YNc(1,N,2,1,"span",12),e.TgZ(2,"div",13),e.YNc(3,x,2,2,"button",14),e.qZA()()),2&z){const Te=e.oxw(3);e.xp6(1),e.Q6J("ngIf",Te.option("header")),e.xp6(2),e.Q6J("ngIf",Te.closable)}}function S(z,oe){if(1&z&&e._UZ(0,"i",1),2&z){const Te=e.oxw(3);e.Tol(Te.option("icon")),e.Q6J("ngClass","p-confirm-dialog-icon")}}function U(z,oe){1&z&&e.GkF(0)}function F(z,oe){if(1&z&&(e.TgZ(0,"div",18),e.Hsn(1),e.YNc(2,U,1,0,"ng-container",11),e.qZA()),2&z){const Te=e.oxw(3);e.xp6(2),e.Q6J("ngTemplateOutlet",Te.footerTemplate)}}function ce(z,oe){if(1&z){const Te=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(Te);const Ke=e.oxw(4);return e.KtG(Ke.reject())}),e.qZA()}if(2&z){const Te=e.oxw(4);e.Tol(Te.option("rejectButtonStyleClass")),e.Q6J("icon",Te.option("rejectIcon"))("label",Te.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),e.uIk("aria-label",Te.rejectAriaLabel)}}function te(z,oe){if(1&z){const Te=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(Te);const Ke=e.oxw(4);return e.KtG(Ke.accept())}),e.qZA()}if(2&z){const Te=e.oxw(4);e.Tol(Te.option("acceptButtonStyleClass")),e.Q6J("icon",Te.option("acceptIcon"))("label",Te.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),e.uIk("aria-label",Te.acceptAriaLabel)}}function V(z,oe){if(1&z&&(e.TgZ(0,"div",18),e.YNc(1,ce,1,6,"button",19),e.YNc(2,te,1,6,"button",19),e.qZA()),2&z){const Te=e.oxw(3);e.xp6(1),e.Q6J("ngIf",Te.option("rejectVisible")),e.xp6(1),e.Q6J("ngIf",Te.option("acceptVisible"))}}const k=function(z){return{"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":z}},O=function(z,oe){return{transform:z,transition:oe}},$=function(z){return{value:"visible",params:z}};function ue(z,oe){if(1&z){const Te=e.EpF();e.TgZ(0,"div",3),e.NdJ("@animation.start",function(Ke){e.CHM(Te);const be=e.oxw(2);return e.KtG(be.onAnimationStart(Ke))})("@animation.done",function(Ke){e.CHM(Te);const be=e.oxw(2);return e.KtG(be.onAnimationEnd(Ke))}),e.YNc(1,J,2,1,"div",4),e.YNc(2,D,4,2,"div",4),e.TgZ(3,"div",5,6),e.YNc(5,S,1,3,"i",7),e._UZ(6,"span",8),e.qZA(),e.YNc(7,F,3,1,"div",9),e.YNc(8,V,3,2,"div",9),e.qZA()}if(2&z){const Te=e.oxw(2);e.Tol(Te.styleClass),e.Q6J("ngClass",e.VKq(11,k,Te.rtl))("ngStyle",Te.style)("@animation",e.VKq(16,$,e.WLB(13,O,Te.transformOptions,Te.transitionOptions))),e.xp6(1),e.Q6J("ngIf",Te.headerTemplate),e.xp6(1),e.Q6J("ngIf",!Te.headerTemplate),e.xp6(3),e.Q6J("ngIf",Te.option("icon")),e.xp6(1),e.Q6J("innerHTML",Te.option("message"),e.oJD),e.xp6(1),e.Q6J("ngIf",Te.footer||Te.footerTemplate),e.xp6(1),e.Q6J("ngIf",!Te.footer&&!Te.footerTemplate)}}function q(z,oe){if(1&z&&(e.TgZ(0,"div",1),e.YNc(1,ue,9,18,"div",2),e.qZA()),2&z){const Te=e.oxw();e.Tol(Te.maskStyleClass),e.Q6J("ngClass",Te.getMaskClass()),e.xp6(1),e.Q6J("ngIf",Te.visible)}}const Y=[[["p-footer"]]],G=["p-footer"],he=(0,a.oQ)([(0,a.oB)({transform:"{{transform}}",opacity:0}),(0,a.jt)("{{transition}}",(0,a.oB)({transform:"none",opacity:1}))]),j=(0,a.oQ)([(0,a.jt)("{{transition}}",(0,a.oB)({transform:"{{transform}}",opacity:0}))]);let Q=(()=>{class z{constructor(Te,Ae,Ke,be,Qe,X){this.el=Te,this.renderer=Ae,this.confirmationService=Ke,this.zone=be,this.cd=Qe,this.config=X,this.acceptIcon="pi pi-check",this.acceptVisible=!0,this.rejectIcon="pi pi-times",this.rejectVisible=!0,this.closeOnEscape=!0,this.blockScroll=!0,this.closable=!0,this.autoZIndex=!0,this.baseZIndex=0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.focusTrap=!0,this.defaultFocus="accept",this.onHide=new e.vpe,this._position="center",this.transformOptions="scale(0.7)",this.id=(0,y.Th)(),this.subscription=this.confirmationService.requireConfirmation$.subscribe(xe=>{xe?xe.key===this.key&&(this.confirmation=xe,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:null==this.confirmation.rejectVisible?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:null==this.confirmation.acceptVisible?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:!1===this.confirmation.blockScroll||!0===this.confirmation.blockScroll?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:!1===this.confirmation.closeOnEscape||!0===this.confirmation.closeOnEscape?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:!1===this.confirmation.dismissableMask||!0===this.confirmation.dismissableMask?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new e.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new e.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(Te){this._visible=Te,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(Te){switch(this._position=Te,Te){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}ngAfterContentInit(){this.templates.forEach(Te=>{switch(Te.getType()){case"header":this.headerTemplate=Te.template;break;case"footer":this.footerTemplate=Te.template}})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}option(Te){const Ae=this.confirmationOptions||this;if(Ae.hasOwnProperty(Te))return Ae[Te]}onAnimationStart(Te){if("visible"===Te.toState){this.container=Te.element,this.wrapper=this.container.parentElement,this.contentContainer=g.p.findSingle(this.container,".p-dialog-content"),this.container.setAttribute(this.id,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality();const Ae=this.getElementToFocus();Ae&&Ae.focus()}}onAnimationEnd(Te){"void"===Te.toState&&this.onOverlayHide()}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":default:return g.p.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return g.p.findSingle(this.container,".p-confirm-dialog-reject");case"close":return g.p.findSingle(this.container,".p-dialog-header-close");case"none":return null}}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):g.p.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&g.p.addClass(document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",Te=>{this.wrapper&&this.wrapper.isSameNode(Te.target)&&this.close(Te)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&g.p.removeClass(document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let Te="";for(let Ae in this.breakpoints)Te+=`\n                    @media screen and (max-width: ${Ae}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[Ae]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=Te}}close(Te){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(_.wB.CANCEL),this.hide(_.wB.CANCEL),Te.preventDefault()}hide(Te){this.onHide.emit(Te),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(y.P9.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}getMaskClass(){let Te={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return Te[this.getPositionClass().toString()]=!0,Te}getPositionClass(){const Ae=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(Ke=>Ke===this.position);return Ae?`p-dialog-${Ae}`:""}bindGlobalListeners(){(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener)&&(this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",Ae=>{if(27==Ae.which&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===y.P9.get(this.container)&&this.visible&&this.close(Ae),9===Ae.which&&this.focusTrap){Ae.preventDefault();let Ke=g.p.getFocusableElements(this.container);if(Ke&&Ke.length>0)if(Ke[0].ownerDocument.activeElement){let be=Ke.indexOf(Ke[0].ownerDocument.activeElement);Ae.shiftKey?-1==be||0===be?Ke[Ke.length-1].focus():Ke[be-1].focus():-1==be||be===Ke.length-1?Ke[0].focus():Ke[be+1].focus()}else Ke[0].focus()}}))}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.container&&this.autoZIndex&&y.P9.clear(this.container),this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(_.wB.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(_.wB.REJECT),this.hide(_.wB.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(_.ws.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(_.ws.REJECT)}}return z.\u0275fac=function(Te){return new(Te||z)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(_.YP),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(_.b4))},z.\u0275cmp=e.Xpm({type:z,selectors:[["p-confirmDialog"]],contentQueries:function(Te,Ae,Ke){if(1&Te&&(e.Suo(Ke,_.$_,5),e.Suo(Ke,_.jx,4)),2&Te){let be;e.iGM(be=e.CRH())&&(Ae.footer=be.first),e.iGM(be=e.CRH())&&(Ae.templates=be)}},viewQuery:function(Te,Ae){if(1&Te&&e.Gf(R,5),2&Te){let Ke;e.iGM(Ke=e.CRH())&&(Ae.contentViewChild=Ke.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:"acceptVisible",rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:"rejectVisible",acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",blockScroll:"blockScroll",rtl:"rtl",closable:"closable",appendTo:"appendTo",key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",transitionOptions:"transitionOptions",focusTrap:"focusTrap",defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},ngContentSelectors:G,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","ngStyle"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-dialog-message",3,"innerHTML"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button",3,"ngClass","click","keydown.enter"],[1,"pi","pi-times"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","click"]],template:function(Te,Ae){1&Te&&(e.F$t(Y),e.YNc(0,q,2,4,"div",0)),2&Te&&e.Q6J("ngIf",Ae.maskVisible)},dependencies:[f.mk,f.O5,f.tP,f.PC,P.Hq,l.H],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,a.X$)("animation",[(0,a.eR)("void => visible",[(0,a._7)(he)]),(0,a.eR)("visible => void",[(0,a._7)(j)])])]},changeDetection:0}),z})(),K=(()=>{class z{}return z.\u0275fac=function(Te){return new(Te||z)},z.\u0275mod=e.oAB({type:z}),z.\u0275inj=e.cJS({imports:[f.ez,P.hJ,l.T,P.hJ,_.m8]}),z})()},7307:(mn,ht,b)=>{"use strict";b.d(ht,{P:()=>x,n:()=>D});var e=b(5e3),a=b(9808),f=b(9783),g=b(845),_=b(5921),P=b(1777),y=b(5730);function l(S,U){if(1&S&&e._UZ(0,"i",8),2&S){const F=e.oxw(2);e.Tol(F.confirmation.icon),e.Q6J("ngClass","p-confirm-popup-icon")}}function R(S,U){if(1&S){const F=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(F);const te=e.oxw(2);return e.KtG(te.reject())}),e.qZA()}if(2&S){const F=e.oxw(2);e.Tol(F.confirmation.rejectButtonStyleClass||"p-button-text"),e.Q6J("icon",F.confirmation.rejectIcon)("label",F.rejectButtonLabel)("ngClass","p-confirm-popup-reject p-button-sm"),e.uIk("aria-label",F.rejectButtonLabel)}}function L(S,U){if(1&S){const F=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(F);const te=e.oxw(2);return e.KtG(te.accept())}),e.qZA()}if(2&S){const F=e.oxw(2);e.Tol(F.confirmation.acceptButtonStyleClass),e.Q6J("icon",F.confirmation.acceptIcon)("label",F.acceptButtonLabel)("ngClass","p-confirm-popup-accept p-button-sm"),e.uIk("aria-label",F.acceptButtonLabel)}}const J=function(S,U){return{showTransitionParams:S,hideTransitionParams:U}},N=function(S){return{value:"open",params:S}};function w(S,U){if(1&S){const F=e.EpF();e.TgZ(0,"div",1),e.NdJ("click",function(te){e.CHM(F);const V=e.oxw();return e.KtG(V.onOverlayClick(te))})("@animation.start",function(te){e.CHM(F);const V=e.oxw();return e.KtG(V.onAnimationStart(te))})("@animation.done",function(te){e.CHM(F);const V=e.oxw();return e.KtG(V.onAnimationEnd(te))}),e.TgZ(1,"div",2,3),e.YNc(3,l,1,3,"i",4),e.TgZ(4,"span",5),e._uU(5),e.qZA()(),e.TgZ(6,"div",6),e.YNc(7,R,1,6,"button",7),e.YNc(8,L,1,6,"button",7),e.qZA()()}if(2&S){const F=e.oxw();e.Tol(F.styleClass),e.Q6J("ngClass","p-confirm-popup p-component")("ngStyle",F.style)("@animation",e.VKq(12,N,e.WLB(9,J,F.showTransitionOptions,F.hideTransitionOptions))),e.xp6(3),e.Q6J("ngIf",F.confirmation.icon),e.xp6(2),e.Oqu(F.confirmation.message),e.xp6(2),e.Q6J("ngIf",!1!==F.confirmation.rejectVisible),e.xp6(1),e.Q6J("ngIf",!1!==F.confirmation.acceptVisible)}}let x=(()=>{class S{constructor(F,ce,te,V,k,O){this.el=F,this.confirmationService=ce,this.renderer=te,this.cd=V,this.config=k,this.overlayService=O,this.defaultFocus="accept",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autoZIndex=!0,this.baseZIndex=0,this.subscription=this.confirmationService.requireConfirmation$.subscribe($=>{$?$.key===this.key&&(this.confirmation=$,this.confirmation.accept&&(this.confirmation.acceptEvent=new e.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new e.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(F){this._visible=F,this.cd.markForCheck()}onAnimationStart(F){if("open"===F.toState){this.container=F.element,document.body.appendChild(this.container),this.align(),this.bindListeners();const ce=this.getElementToFocus();ce&&ce.focus()}}onAnimationEnd(F){"void"===F.toState&&this.onContainerDestroy()}getElementToFocus(){switch(this.defaultFocus){case"accept":return y.p.findSingle(this.container,".p-confirm-popup-accept");case"reject":return y.p.findSingle(this.container,".p-confirm-popup-reject");case"none":return null}}align(){this.autoZIndex&&_.P9.set("overlay",this.container,this.config.zIndex.overlay),y.p.absolutePosition(this.container,this.confirmation.target);const F=y.p.getOffset(this.container),ce=y.p.getOffset(this.confirmation.target);let te=0;F.left<ce.left&&(te=ce.left-F.left),this.container.style.setProperty("--overlayArrowLeft",`${te}px`),F.top<ce.top&&y.p.addClass(this.container,"p-confirm-popup-flipped")}hide(){this.visible=!1}accept(){this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide()}reject(){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(),this.hide()}onOverlayClick(F){this.overlayService.add({originalEvent:F,target:this.el.nativeElement})}bindListeners(){setTimeout(()=>{this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener()})}unbindListeners(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}bindDocumentClickListener(){if(!this.documentClickListener){let F=y.p.isIOS()?"touchstart":"click";const ce=this.el?this.el.nativeElement.ownerDocument:document;this.documentClickListener=this.renderer.listen(ce,F,te=>{let V=this.confirmation.target;this.container!==te.target&&!this.container.contains(te.target)&&V!==te.target&&!V.contains(te.target)&&this.hide()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}onWindowResize(){this.visible&&!y.p.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new y.V(this.confirmation.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unsubscribeConfirmationSubscriptions(){this.confirmation&&(this.confirmation.acceptEvent&&this.confirmation.acceptEvent.unsubscribe(),this.confirmation.rejectEvent&&this.confirmation.rejectEvent.unsubscribe())}onContainerDestroy(){this.unbindListeners(),this.unsubscribeConfirmationSubscriptions(),this.autoZIndex&&_.P9.clear(this.container),this.confirmation=null,this.container=null}restoreAppend(){this.container&&document.body.removeChild(this.container),this.onContainerDestroy()}get acceptButtonLabel(){return this.confirmation.acceptLabel||this.config.getTranslation(f.ws.ACCEPT)}get rejectButtonLabel(){return this.confirmation.rejectLabel||this.config.getTranslation(f.ws.REJECT)}ngOnDestroy(){this.restoreAppend(),this.subscription&&this.subscription.unsubscribe()}}return S.\u0275fac=function(F){return new(F||S)(e.Y36(e.SBq),e.Y36(f.YP),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(f.b4),e.Y36(f.F0))},S.\u0275cmp=e.Xpm({type:S,selectors:[["p-confirmPopup"]],hostAttrs:[1,"p-element"],inputs:{key:"key",defaultFocus:"defaultFocus",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",visible:"visible"},decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-confirm-popup-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-popup-message"],[1,"p-confirm-popup-footer"],["type","button","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],[3,"ngClass"],["type","button","pButton","",3,"icon","label","ngClass","click"]],template:function(F,ce){1&F&&e.YNc(0,w,9,14,"div",0),2&F&&e.Q6J("ngIf",ce.visible)},dependencies:[a.mk,a.O5,a.PC,g.Hq],styles:['.p-confirm-popup{position:absolute;margin-top:10px;top:0;left:0}.p-confirm-popup-flipped{margin-top:0;margin-bottom:10px}.p-confirm-popup:after,.p-confirm-popup:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-confirm-popup:after{border-width:8px;margin-left:-8px}.p-confirm-popup:before{border-width:10px;margin-left:-10px}.p-confirm-popup-flipped:after,.p-confirm-popup-flipped:before{bottom:auto;top:100%}.p-confirm-popup.p-confirm-popup-flipped:after{border-bottom-color:transparent}.p-confirm-popup.p-confirm-popup-flipped:before{border-bottom-color:transparent}.p-confirm-popup .p-confirm-popup-content{display:flex;align-items:center}\n'],encapsulation:2,data:{animation:[(0,P.X$)("animation",[(0,P.SB)("void",(0,P.oB)({transform:"scaleY(0.8)",opacity:0})),(0,P.SB)("open",(0,P.oB)({transform:"translateY(0)",opacity:1})),(0,P.eR)("void => open",(0,P.jt)("{{showTransitionParams}}")),(0,P.eR)("open => void",(0,P.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),S})(),D=(()=>{class S{}return S.\u0275fac=function(F){return new(F||S)},S.\u0275mod=e.oAB({type:S}),S.\u0275inj=e.cJS({imports:[a.ez,g.hJ]}),S})()},330:(mn,ht,b)=>{"use strict";b.d(ht,{vI:()=>Ke,xV:()=>Ae});var e=b(5e3),a=b(9808),f=b(5730),g=b(9783),_=b(5787),P=b(5921),y=b(3470),l=b(7579),R=b(2722),L=b(4119);const J=["sublist"],N=["menuitem"],w=function(be){return{"p-hidden":be}};function x(be,Qe){if(1&be&&e._UZ(0,"li",5,6),2&be){const X=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,w,!1===X.visible))}}function D(be,Qe){if(1&be&&e._UZ(0,"span",17),2&be){const X=e.oxw(3).$implicit;e.Q6J("ngClass",X.icon)("ngStyle",X.iconStyle)}}function S(be,Qe){if(1&be&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&be){const X=e.oxw(3).$implicit;e.xp6(1),e.Oqu(X.label)}}function U(be,Qe){if(1&be&&e._UZ(0,"span",19),2&be){const X=e.oxw(3).$implicit;e.Q6J("innerHTML",X.label,e.oJD)}}function F(be,Qe){if(1&be&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&be){const X=e.oxw(3).$implicit;e.Q6J("ngClass",X.badgeStyleClass),e.xp6(1),e.Oqu(X.badge)}}function ce(be,Qe){1&be&&e._UZ(0,"span",21)}const te=function(be){return{"p-menuitem-link":!0,"p-disabled":be}};function V(be,Qe){if(1&be){const X=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(we){e.CHM(X),e.oxw();const Oe=e.MAs(1),dt=e.oxw(),bt=dt.$implicit,it=dt.index,Dt=e.oxw();return e.KtG(Dt.onItemClick(we,bt,Oe,Dt.getKey(it)))}),e.YNc(1,D,1,2,"span",12),e.YNc(2,S,2,1,"span",13),e.YNc(3,U,1,1,"ng-template",null,14,e.W1O),e.YNc(5,F,2,2,"span",15),e.YNc(6,ce,1,0,"span",16),e.qZA()}if(2&be){const X=e.MAs(4),xe=e.oxw(2),we=xe.$implicit,Oe=xe.index,dt=e.oxw();e.Q6J("target",we.target)("ngClass",e.VKq(13,te,we.disabled)),e.uIk("href",we.url?we.url:null,e.LSH)("title",we.title)("id",we.id)("tabindex",we.disabled?null:"0")("aria-haspopup",null!=dt.item.items)("aria-expanded",dt.isActive(dt.getKey(Oe))),e.xp6(1),e.Q6J("ngIf",we.icon),e.xp6(1),e.Q6J("ngIf",!1!==we.escape)("ngIfElse",X),e.xp6(3),e.Q6J("ngIf",we.badge),e.xp6(1),e.Q6J("ngIf",we.items)}}function k(be,Qe){if(1&be&&e._UZ(0,"span",17),2&be){const X=e.oxw(3).$implicit;e.Q6J("ngClass",X.icon)("ngStyle",X.iconStyle)}}function O(be,Qe){if(1&be&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&be){const X=e.oxw(3).$implicit;e.xp6(1),e.Oqu(X.label)}}function $(be,Qe){if(1&be&&e._UZ(0,"span",19),2&be){const X=e.oxw(3).$implicit;e.Q6J("innerHTML",X.label,e.oJD)}}function ue(be,Qe){if(1&be&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&be){const X=e.oxw(3).$implicit;e.Q6J("ngClass",X.badgeStyleClass),e.xp6(1),e.Oqu(X.badge)}}function q(be,Qe){1&be&&e._UZ(0,"span",21)}const Y=function(){return{exact:!1}};function G(be,Qe){if(1&be){const X=e.EpF();e.TgZ(0,"a",22),e.NdJ("click",function(we){e.CHM(X),e.oxw();const Oe=e.MAs(1),dt=e.oxw(),bt=dt.$implicit,it=dt.index,Dt=e.oxw();return e.KtG(Dt.onItemClick(we,bt,Oe,Dt.getKey(it)))}),e.YNc(1,k,1,2,"span",12),e.YNc(2,O,2,1,"span",13),e.YNc(3,$,1,1,"ng-template",null,23,e.W1O),e.YNc(5,ue,2,2,"span",15),e.YNc(6,q,1,0,"span",16),e.qZA()}if(2&be){const X=e.MAs(4),xe=e.oxw(2).$implicit;e.Q6J("routerLink",xe.routerLink)("queryParams",xe.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",xe.routerLinkActiveOptions||e.DdM(20,Y))("target",xe.target)("ngClass",e.VKq(21,te,xe.disabled))("fragment",xe.fragment)("queryParamsHandling",xe.queryParamsHandling)("preserveFragment",xe.preserveFragment)("skipLocationChange",xe.skipLocationChange)("replaceUrl",xe.replaceUrl)("state",xe.state),e.uIk("title",xe.title)("id",xe.id)("tabindex",xe.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",xe.icon),e.xp6(1),e.Q6J("ngIf",!1!==xe.escape)("ngIfElse",X),e.xp6(3),e.Q6J("ngIf",xe.badge),e.xp6(1),e.Q6J("ngIf",xe.items)}}function he(be,Qe){if(1&be){const X=e.EpF();e.TgZ(0,"p-contextMenuSub",24),e.NdJ("leafClick",function(){e.CHM(X);const we=e.oxw(3);return e.KtG(we.onLeafClick())}),e.qZA()}if(2&be){const X=e.oxw(2),xe=X.index,we=X.$implicit,Oe=e.oxw();e.Q6J("parentItemKey",Oe.getKey(xe))("item",we)}}const j=function(be,Qe){return{"p-menuitem":!0,"p-menuitem-active":be,"p-hidden":Qe}};function Q(be,Qe){if(1&be){const X=e.EpF();e.TgZ(0,"li",7,6),e.NdJ("mouseenter",function(we){e.CHM(X);const Oe=e.oxw(),dt=Oe.$implicit,bt=Oe.index,it=e.oxw();return e.KtG(it.onItemMouseEnter(we,dt,it.getKey(bt)))})("mouseleave",function(we){e.CHM(X);const Oe=e.oxw().$implicit,dt=e.oxw();return e.KtG(dt.onItemMouseLeave(we,Oe))}),e.YNc(2,V,7,15,"a",8),e.YNc(3,G,7,23,"a",9),e.YNc(4,he,1,2,"p-contextMenuSub",10),e.qZA()}if(2&be){const X=e.oxw(),xe=X.$implicit,we=X.index,Oe=e.oxw();e.Tol(xe.styleClass),e.Q6J("ngClass",e.WLB(9,j,Oe.isActive(Oe.getKey(we)),!1===xe.visible))("ngStyle",xe.style)("tooltipOptions",xe.tooltipOptions),e.uIk("data-ik",Oe.getKey(we)),e.xp6(2),e.Q6J("ngIf",!xe.routerLink),e.xp6(1),e.Q6J("ngIf",xe.routerLink),e.xp6(1),e.Q6J("ngIf",xe.items)}}function K(be,Qe){if(1&be&&(e.YNc(0,x,2,3,"li",3),e.YNc(1,Q,5,12,"li",4)),2&be){const X=Qe.$implicit;e.Q6J("ngIf",X.separator),e.xp6(1),e.Q6J("ngIf",!X.separator)}}const z=function(be){return{"p-submenu-list":be}},oe=["container"];let Te=(()=>{class be{constructor(X){this.leafClick=new e.vpe,this.contextMenu=X}ngOnInit(){this.activeItemKeyChangeSubscription=this.contextMenu.contextMenuService.activeItemKeyChange$.pipe((0,R.R)(this.contextMenu.ngDestroy$)).subscribe(X=>{this.activeItemKey=X,this.isActive(this.parentItemKey)&&f.p.hasClass(this.sublistViewChild.nativeElement,"p-submenu-list-active")&&this.contextMenu.positionSubmenu(this.sublistViewChild.nativeElement),this.contextMenu.cd.markForCheck()})}onItemMouseEnter(X,xe,we){if(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null),xe.disabled)this.activeItemKey=null;else{if(xe.items){let Oe=f.p.findSingle(X.currentTarget,".p-submenu-list");f.p.addClass(Oe,"p-submenu-list-active")}this.contextMenu.contextMenuService.changeKey(we)}}onItemMouseLeave(X,xe){xe.disabled||this.contextMenu.el.nativeElement.contains(X.toElement)&&(xe.items&&this.contextMenu.removeActiveFromSubLists(X.currentTarget),this.root||this.contextMenu.contextMenuService.changeKey(this.parentItemKey))}onItemClick(X,xe,we,Oe){if(xe.disabled)X.preventDefault();else{if(!xe.url&&!xe.routerLink&&X.preventDefault(),xe.command&&xe.command({originalEvent:X,item:xe}),xe.items){let dt=f.p.findSingle(we,".p-submenu-list");dt&&(this.isActive(Oe)&&f.p.hasClass(dt,"p-submenu-list-active")?this.contextMenu.removeActiveFromSubLists(we):f.p.addClass(dt,"p-submenu-list-active"),this.contextMenu.contextMenuService.changeKey(Oe))}xe.items||this.onLeafClick()}}onLeafClick(){this.root&&this.contextMenu.hide(),this.leafClick.emit()}getKey(X){return this.root?String(X):this.parentItemKey+"_"+X}isActive(X){return this.activeItemKey&&(this.activeItemKey.startsWith(X+"_")||this.activeItemKey===X)}}return be.\u0275fac=function(X){return new(X||be)(e.Y36((0,e.Gpc)(()=>Ae)))},be.\u0275cmp=e.Xpm({type:be,selectors:[["p-contextMenuSub"]],viewQuery:function(X,xe){if(1&X&&(e.Gf(J,5),e.Gf(N,5)),2&X){let we;e.iGM(we=e.CRH())&&(xe.sublistViewChild=we.first),e.iGM(we=e.CRH())&&(xe.menuitemViewChild=we.first)}},hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",parentItemKey:"parentItemKey"},outputs:{leafClick:"leafClick"},decls:3,vars:4,consts:[[3,"ngClass"],["sublist",""],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["pTooltip","","role","none",3,"ngClass","ngStyle","class","tooltipOptions","mouseenter","mouseleave",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["menuitem",""],["pTooltip","","role","none",3,"ngClass","ngStyle","tooltipOptions","mouseenter","mouseleave"],["pRipple","",3,"target","ngClass","click",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click",4,"ngIf"],[3,"parentItemKey","item","leafClick",4,"ngIf"],["pRipple","",3,"target","ngClass","click"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],["class","p-submenu-icon pi pi-angle-right",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[1,"p-submenu-icon","pi","pi-angle-right"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click"],["htmlRouteLabel",""],[3,"parentItemKey","item","leafClick"]],template:function(X,xe){1&X&&(e.TgZ(0,"ul",0,1),e.YNc(2,K,2,2,"ng-template",2),e.qZA()),2&X&&(e.Q6J("ngClass",e.VKq(2,z,!xe.root)),e.xp6(2),e.Q6J("ngForOf",xe.root?xe.item:xe.item.items))},dependencies:[a.mk,a.sg,a.O5,a.PC,y.yS,y.Od,_.H,L.u,be],encapsulation:2}),be})(),Ae=(()=>{class be{constructor(X,xe,we,Oe,dt,bt){this.el=X,this.renderer=xe,this.cd=we,this.zone=Oe,this.contextMenuService=dt,this.config=bt,this.autoZIndex=!0,this.baseZIndex=0,this.triggerEvent="contextmenu",this.onShow=new e.vpe,this.onHide=new e.vpe,this.ngDestroy$=new l.x,this.preventDocumentDefault=!1}ngAfterViewInit(){this.global?this.triggerEventListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document",this.triggerEvent,xe=>{this.show(xe),xe.preventDefault()}):this.target&&(this.triggerEventListener=this.renderer.listen(this.target,this.triggerEvent,X=>{this.show(X),X.preventDefault()})),this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.containerViewChild.nativeElement):f.p.appendChild(this.containerViewChild.nativeElement,this.appendTo))}show(X){this.clearActiveItem(),this.position(X),this.moveOnTop(),this.containerViewChild.nativeElement.style.display="block",this.preventDocumentDefault=!0,f.p.fadeIn(this.containerViewChild.nativeElement,250),this.bindGlobalListeners(),X&&X.preventDefault(),this.onShow.emit()}hide(){this.containerViewChild.nativeElement.style.display="none",this.autoZIndex&&P.P9.clear(this.containerViewChild.nativeElement),this.clearActiveItem(),this.unbindGlobalListeners(),this.onHide.emit()}moveOnTop(){this.autoZIndex&&this.containerViewChild&&"block"!==this.containerViewChild.nativeElement.style.display&&P.P9.set("menu",this.containerViewChild.nativeElement,this.baseZIndex+this.config.zIndex.menu)}toggle(X){this.containerViewChild.nativeElement.offsetParent?this.hide():this.show(X)}position(X){if(X){let xe=X.pageX+1,we=X.pageY+1,Oe=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetWidth:f.p.getHiddenElementOuterWidth(this.containerViewChild.nativeElement),dt=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetHeight:f.p.getHiddenElementOuterHeight(this.containerViewChild.nativeElement),bt=f.p.getViewport();xe+Oe-document.scrollingElement.scrollLeft>bt.width&&(xe-=Oe),we+dt-document.scrollingElement.scrollTop>bt.height&&(we-=dt),xe<document.scrollingElement.scrollLeft&&(xe=document.scrollingElement.scrollLeft),we<document.scrollingElement.scrollTop&&(we=document.scrollingElement.scrollTop),this.containerViewChild.nativeElement.style.left=xe+"px",this.containerViewChild.nativeElement.style.top=we+"px"}}positionSubmenu(X){let xe=X.parentElement.parentElement,we=f.p.getViewport(),Oe=X.offsetParent?X.offsetWidth:f.p.getHiddenElementOuterWidth(X),dt=X.offsetHeight?X.offsetHeight:f.p.getHiddenElementOuterHeight(X),bt=f.p.getOuterWidth(xe.children[0]),it=f.p.getOuterHeight(xe.children[0]),Dt=f.p.getOffset(xe.parentElement);X.style.zIndex=++f.p.zindex,parseInt(Dt.top)+it+dt>we.height-f.p.calculateScrollbarHeight()?(X.style.removeProperty("top"),X.style.bottom="0px"):(X.style.removeProperty("bottom"),X.style.top="0px"),X.style.left=parseInt(Dt.left)+bt+Oe>we.width-f.p.calculateScrollbarWidth()?-Oe+"px":bt+"px"}isItemMatched(X){return f.p.hasClass(X,"p-menuitem")&&!f.p.hasClass(X.children[0],"p-disabled")}findNextItem(X,xe){let we=X.nextElementSibling;if(we)return this.isItemMatched(we)?we:this.findNextItem(we,xe);{let Oe=X.parentElement.children[0];return this.isItemMatched(Oe)?Oe:xe?null:this.findNextItem(Oe,!0)}}findPrevItem(X,xe){let we=X.previousElementSibling;if(we)return this.isItemMatched(we)?we:this.findPrevItem(we,xe);{let Oe=X.parentElement.children[X.parentElement.children.length-1];return this.isItemMatched(Oe)?Oe:xe?null:this.findPrevItem(Oe,!0)}}getActiveItem(){let X=this.contextMenuService.activeItemKey;return null==X?null:f.p.findSingle(this.containerViewChild.nativeElement,'.p-menuitem[data-ik="'+X+'"]')}clearActiveItem(){this.contextMenuService.activeItemKey&&(this.removeActiveFromSubLists(this.containerViewChild.nativeElement),this.contextMenuService.reset())}removeActiveFromSubLists(X){let xe=f.p.find(X,".p-submenu-list-active");for(let we of xe)f.p.removeClass(we,"p-submenu-list-active")}removeActiveFromSublist(X){X&&f.p.findSingle(X,".p-submenu-list")&&f.p.hasClass(X,"p-submenu-list-active")&&f.p.removeClass(X,"p-submenu-list-active")}bindGlobalListeners(){if(!this.documentClickListener){const X=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(X,"click",xe=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(xe)&&!xe.ctrlKey&&2!==xe.button&&this.hide()}),this.documentTriggerListener=this.renderer.listen(X,this.triggerEvent,xe=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(xe)&&!this.preventDocumentDefault&&this.hide(),this.preventDocumentDefault=!1})}this.zone.runOutsideAngular(()=>{this.windowResizeListener||(this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener))}),this.documentKeydownListener||(this.documentKeydownListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",xe=>{let we=this.getActiveItem();switch(xe.key){case"ArrowDown":if(we)this.removeActiveFromSublist(we),we=this.findNextItem(we);else{let Oe=f.p.findSingle(this.containerViewChild.nativeElement,".p-menuitem-link").parentElement;we=this.isItemMatched(Oe)?Oe:this.findNextItem(Oe)}we&&this.contextMenuService.changeKey(we.getAttribute("data-ik")),xe.preventDefault();break;case"ArrowUp":if(we)this.removeActiveFromSublist(we),we=this.findPrevItem(we);else{let Oe=f.p.findSingle(this.containerViewChild.nativeElement,"ul"),dt=Oe.children[Oe.children.length-1];we=this.isItemMatched(dt)?dt:this.findPrevItem(dt)}we&&this.contextMenuService.changeKey(we.getAttribute("data-ik")),xe.preventDefault();break;case"ArrowRight":if(we){let Oe=f.p.findSingle(we,".p-submenu-list");Oe&&(f.p.addClass(Oe,"p-submenu-list-active"),we=f.p.findSingle(Oe,".p-menuitem-link:not(.p-disabled)").parentElement,we&&this.contextMenuService.changeKey(we.getAttribute("data-ik")))}xe.preventDefault();break;case"ArrowLeft":if(we){let Oe=we.parentElement;Oe&&f.p.hasClass(Oe,"p-submenu-list-active")&&(f.p.removeClass(Oe,"p-submenu-list-active"),we=Oe.parentElement.parentElement,we&&this.contextMenuService.changeKey(we.getAttribute("data-ik")))}xe.preventDefault();break;case"Escape":this.hide(),xe.preventDefault();break;case"Enter":we&&this.handleItemClick(xe,this.findModelItemFromKey(this.contextMenuService.activeItemKey),we),xe.preventDefault()}}))}findModelItemFromKey(X){return null!=X&&this.model?X.split("_").reduce((we,Oe)=>we?we.items[Oe]:this.model[Oe],null):null}handleItemClick(X,xe,we){if(xe&&!xe.disabled){if(xe.command&&xe.command({originalEvent:X,item:xe}),xe.items){let Oe=f.p.findSingle(we,".p-submenu-list");Oe&&(f.p.hasClass(Oe,"p-submenu-list-active")?this.removeActiveFromSubLists(we):(f.p.addClass(Oe,"p-submenu-list-active"),this.positionSubmenu(Oe)))}xe.items||this.hide()}}unbindGlobalListeners(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null),this.documentTriggerListener&&(this.documentTriggerListener(),this.documentTriggerListener=null),this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),this.windowResizeListener=null),this.documentKeydownListener&&(this.documentKeydownListener(),this.documentKeydownListener=null)}onWindowResize(X){this.containerViewChild.nativeElement.offsetParent&&this.hide()}isOutsideClicked(X){return!(this.containerViewChild.nativeElement.isSameNode(X.target)||this.containerViewChild.nativeElement.contains(X.target))}ngOnDestroy(){this.unbindGlobalListeners(),this.triggerEventListener&&this.triggerEventListener(),this.containerViewChild&&this.autoZIndex&&P.P9.clear(this.containerViewChild.nativeElement),this.appendTo&&this.el.nativeElement.appendChild(this.containerViewChild.nativeElement),this.ngDestroy$.next(!0),this.ngDestroy$.complete()}}return be.\u0275fac=function(X){return new(X||be)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(g.Lk),e.Y36(g.b4))},be.\u0275cmp=e.Xpm({type:be,selectors:[["p-contextMenu"]],viewQuery:function(X,xe){if(1&X&&e.Gf(oe,5),2&X){let we;e.iGM(we=e.CRH())&&(xe.containerViewChild=we.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",global:"global",target:"target",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",triggerEvent:"triggerEvent"},outputs:{onShow:"onShow",onHide:"onHide"},decls:3,vars:6,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"item","root"]],template:function(X,xe){1&X&&(e.TgZ(0,"div",0,1),e._UZ(2,"p-contextMenuSub",2),e.qZA()),2&X&&(e.Tol(xe.styleClass),e.Q6J("ngClass","p-contextmenu p-component")("ngStyle",xe.style),e.xp6(2),e.Q6J("item",xe.model)("root",!0))},dependencies:[a.mk,a.PC,Te],styles:[".p-contextmenu{position:absolute;display:none}.p-contextmenu ul{margin:0;padding:0;list-style:none}.p-contextmenu .p-submenu-list{position:absolute;min-width:100%;z-index:1;display:none}.p-contextmenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-contextmenu .p-menuitem-text{line-height:1}.p-contextmenu .p-menuitem{position:relative}.p-contextmenu .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-contextmenu .p-menuitem-active>p-contextmenusub>.p-submenu-list.p-submenu-list-active{display:block!important}\n"],encapsulation:2,changeDetection:0}),be})(),Ke=(()=>{class be{}return be.\u0275fac=function(X){return new(X||be)},be.\u0275mod=e.oAB({type:be}),be.\u0275inj=e.cJS({providers:[g.Lk],imports:[a.ez,y.Bz,_.T,L.z,y.Bz,L.z]}),be})()},5315:(mn,ht,b)=>{"use strict";b.d(ht,{V:()=>Te,S:()=>Ae});var e=b(5e3),a=b(1777),f=b(9808),g=b(5730),_=b(9783);let P=(()=>{class Ke{constructor(Qe){this.el=Qe}onkeydown(Qe){if(!0!==this.pFocusTrapDisabled){Qe.preventDefault();let X=g.p.getFocusableElements(this.el.nativeElement);if(X&&X.length>0)if(X[0].ownerDocument.activeElement){let xe=X.indexOf(X[0].ownerDocument.activeElement);Qe.shiftKey?-1==xe||0===xe?X[X.length-1].focus():X[xe-1].focus():-1==xe||xe===X.length-1?X[0].focus():X[xe+1].focus()}else X[0].focus()}}}return Ke.\u0275fac=function(Qe){return new(Qe||Ke)(e.Y36(e.SBq))},Ke.\u0275dir=e.lG2({type:Ke,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(Qe,X){1&Qe&&e.NdJ("keydown.tab",function(we){return X.onkeydown(we)})("keydown.shift.tab",function(we){return X.onkeydown(we)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),Ke})(),y=(()=>{class Ke{}return Ke.\u0275fac=function(Qe){return new(Qe||Ke)},Ke.\u0275mod=e.oAB({type:Ke}),Ke.\u0275inj=e.cJS({imports:[f.ez]}),Ke})();var l=b(5787),R=b(5921);const L=["titlebar"],J=["content"],N=["footer"];function w(Ke,be){if(1&Ke){const Qe=e.EpF();e.TgZ(0,"div",11),e.NdJ("mousedown",function(xe){e.CHM(Qe);const we=e.oxw(3);return e.KtG(we.initResize(xe))}),e.qZA()}}function x(Ke,be){if(1&Ke&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&Ke){const Qe=e.oxw(4);e.uIk("id",Qe.id+"-label"),e.xp6(1),e.Oqu(Qe.header)}}function D(Ke,be){if(1&Ke&&(e.TgZ(0,"span",18),e.Hsn(1,1),e.qZA()),2&Ke){const Qe=e.oxw(4);e.uIk("id",Qe.id+"-label")}}function S(Ke,be){1&Ke&&e.GkF(0)}const U=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function F(Ke,be){if(1&Ke){const Qe=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(Qe);const xe=e.oxw(4);return e.KtG(xe.maximize())})("keydown.enter",function(){e.CHM(Qe);const xe=e.oxw(4);return e.KtG(xe.maximize())}),e._UZ(1,"span",20),e.qZA()}if(2&Ke){const Qe=e.oxw(4);e.Q6J("ngClass",e.DdM(2,U)),e.xp6(1),e.Q6J("ngClass",Qe.maximized?Qe.minimizeIcon:Qe.maximizeIcon)}}const ce=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function te(Ke,be){if(1&Ke){const Qe=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(xe){e.CHM(Qe);const we=e.oxw(4);return e.KtG(we.close(xe))})("keydown.enter",function(xe){e.CHM(Qe);const we=e.oxw(4);return e.KtG(we.close(xe))}),e._UZ(1,"span",22),e.qZA()}if(2&Ke){const Qe=e.oxw(4);e.Q6J("ngClass",e.DdM(4,ce)),e.uIk("aria-label",Qe.closeAriaLabel)("tabindex",Qe.closeTabindex),e.xp6(1),e.Q6J("ngClass",Qe.closeIcon)}}function V(Ke,be){if(1&Ke){const Qe=e.EpF();e.TgZ(0,"div",12,13),e.NdJ("mousedown",function(xe){e.CHM(Qe);const we=e.oxw(3);return e.KtG(we.initDrag(xe))}),e.YNc(2,x,2,2,"span",14),e.YNc(3,D,2,1,"span",14),e.YNc(4,S,1,0,"ng-container",9),e.TgZ(5,"div",15),e.YNc(6,F,2,3,"button",16),e.YNc(7,te,2,5,"button",17),e.qZA()()}if(2&Ke){const Qe=e.oxw(3);e.xp6(2),e.Q6J("ngIf",!Qe.headerFacet&&!Qe.headerTemplate),e.xp6(1),e.Q6J("ngIf",Qe.headerFacet),e.xp6(1),e.Q6J("ngTemplateOutlet",Qe.headerTemplate),e.xp6(2),e.Q6J("ngIf",Qe.maximizable),e.xp6(1),e.Q6J("ngIf",Qe.closable)}}function k(Ke,be){1&Ke&&e.GkF(0)}function O(Ke,be){1&Ke&&e.GkF(0)}function $(Ke,be){if(1&Ke&&(e.TgZ(0,"div",23,24),e.Hsn(2,2),e.YNc(3,O,1,0,"ng-container",9),e.qZA()),2&Ke){const Qe=e.oxw(3);e.xp6(3),e.Q6J("ngTemplateOutlet",Qe.footerTemplate)}}const ue=function(Ke,be,Qe,X){return{"p-dialog p-component":!0,"p-dialog-rtl":Ke,"p-dialog-draggable":be,"p-dialog-resizable":Qe,"p-dialog-maximized":X}},q=function(Ke,be){return{transform:Ke,transition:be}},Y=function(Ke){return{value:"visible",params:Ke}};function G(Ke,be){if(1&Ke){const Qe=e.EpF();e.TgZ(0,"div",3,4),e.NdJ("@animation.start",function(xe){e.CHM(Qe);const we=e.oxw(2);return e.KtG(we.onAnimationStart(xe))})("@animation.done",function(xe){e.CHM(Qe);const we=e.oxw(2);return e.KtG(we.onAnimationEnd(xe))}),e.YNc(2,w,1,0,"div",5),e.YNc(3,V,8,5,"div",6),e.TgZ(4,"div",7,8),e.Hsn(6),e.YNc(7,k,1,0,"ng-container",9),e.qZA(),e.YNc(8,$,4,1,"div",10),e.qZA()}if(2&Ke){const Qe=e.oxw(2);e.Tol(Qe.styleClass),e.Q6J("ngClass",e.l5B(15,ue,Qe.rtl,Qe.draggable,Qe.resizable,Qe.maximized))("ngStyle",Qe.style)("pFocusTrapDisabled",!1===Qe.focusTrap)("@animation",e.VKq(23,Y,e.WLB(20,q,Qe.transformOptions,Qe.transitionOptions))),e.uIk("aria-labelledby",Qe.id+"-label"),e.xp6(2),e.Q6J("ngIf",Qe.resizable),e.xp6(1),e.Q6J("ngIf",Qe.showHeader),e.xp6(1),e.Tol(Qe.contentStyleClass),e.Q6J("ngClass","p-dialog-content")("ngStyle",Qe.contentStyle),e.xp6(3),e.Q6J("ngTemplateOutlet",Qe.contentTemplate),e.xp6(1),e.Q6J("ngIf",Qe.footerFacet||Qe.footerTemplate)}}const he=function(Ke,be,Qe,X,xe,we,Oe,dt,bt,it){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":Ke,"p-dialog-mask-scrollblocker":be,"p-dialog-left":Qe,"p-dialog-right":X,"p-dialog-top":xe,"p-dialog-top-left":we,"p-dialog-top-right":Oe,"p-dialog-bottom":dt,"p-dialog-bottom-left":bt,"p-dialog-bottom-right":it}};function j(Ke,be){if(1&Ke&&(e.TgZ(0,"div",1),e.YNc(1,G,9,25,"div",2),e.qZA()),2&Ke){const Qe=e.oxw();e.Tol(Qe.maskStyleClass),e.Q6J("ngClass",e.rFY(4,he,[Qe.modal,Qe.modal||Qe.blockScroll,"left"===Qe.position,"right"===Qe.position,"top"===Qe.position,"topleft"===Qe.position||"top-left"===Qe.position,"topright"===Qe.position||"top-right"===Qe.position,"bottom"===Qe.position,"bottomleft"===Qe.position||"bottom-left"===Qe.position,"bottomright"===Qe.position||"bottom-right"===Qe.position])),e.xp6(1),e.Q6J("ngIf",Qe.visible)}}const Q=["*",[["p-header"]],[["p-footer"]]],K=["*","p-header","p-footer"],z=(0,a.oQ)([(0,a.oB)({transform:"{{transform}}",opacity:0}),(0,a.jt)("{{transition}}")]),oe=(0,a.oQ)([(0,a.jt)("{{transition}}",(0,a.oB)({transform:"{{transform}}",opacity:0}))]);let Te=(()=>{class Ke{constructor(Qe,X,xe,we,Oe){this.el=Qe,this.renderer=X,this.zone=xe,this.cd=we,this.config=Oe,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.closeTabindex="-1",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new e.vpe,this.onHide=new e.vpe,this.visibleChange=new e.vpe,this.onResizeInit=new e.vpe,this.onResizeEnd=new e.vpe,this.onDragEnd=new e.vpe,this.onMaximize=new e.vpe,this.id=(0,R.Th)(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(Qe){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(Qe){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(Qe){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(Qe){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(Qe=>{switch(Qe.getType()){case"header":this.headerTemplate=Qe.template;break;case"content":default:this.contentTemplate=Qe.template;break;case"footer":this.footerTemplate=Qe.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(Qe){this._visible=Qe,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(Qe){Qe&&(this._style=Object.assign({},Qe),this.originalStyle=Qe)}get position(){return this._position}set position(Qe){switch(this._position=Qe,Qe){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let Qe=g.p.findSingle(this.container,"[autofocus]");Qe&&this.zone.runOutsideAngular(()=>{setTimeout(()=>Qe.focus(),5)})}close(Qe){this.visibleChange.emit(!1),Qe.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",Qe=>{this.wrapper&&this.wrapper.isSameNode(Qe.target)&&this.close(Qe)})),this.modal&&g.p.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&g.p.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?g.p.addClass(document.body,"p-overflow-hidden"):g.p.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(R.P9.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let Qe="";for(let X in this.breakpoints)Qe+=`\n                    @media screen and (max-width: ${X}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[X]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=Qe}}initDrag(Qe){g.p.hasClass(Qe.target,"p-dialog-header-icon")||g.p.hasClass(Qe.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=Qe.pageX,this.lastPageY=Qe.pageY,this.container.style.margin="0",g.p.addClass(document.body,"p-unselectable-text"))}onKeydown(Qe){if(this.focusTrap&&9===Qe.which){Qe.preventDefault();let X=g.p.getFocusableElements(this.container);if(X&&X.length>0)if(X[0].ownerDocument.activeElement){let xe=X.indexOf(X[0].ownerDocument.activeElement);Qe.shiftKey?-1==xe||0===xe?X[X.length-1].focus():X[xe-1].focus():-1==xe||xe===X.length-1?X[0].focus():X[xe+1].focus()}else X[0].focus()}}onDrag(Qe){if(this.dragging){let X=g.p.getOuterWidth(this.container),xe=g.p.getOuterHeight(this.container),we=Qe.pageX-this.lastPageX,Oe=Qe.pageY-this.lastPageY,dt=this.container.getBoundingClientRect(),bt=dt.left+we,it=dt.top+Oe,Dt=g.p.getViewport();this.container.style.position="fixed",this.keepInViewport?(bt>=this.minX&&bt+X<Dt.width&&(this._style.left=bt+"px",this.lastPageX=Qe.pageX,this.container.style.left=bt+"px"),it>=this.minY&&it+xe<Dt.height&&(this._style.top=it+"px",this.lastPageY=Qe.pageY,this.container.style.top=it+"px")):(this.lastPageX=Qe.pageX,this.container.style.left=bt+"px",this.lastPageY=Qe.pageY,this.container.style.top=it+"px")}}endDrag(Qe){this.dragging&&(this.dragging=!1,g.p.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(Qe))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(Qe){this.resizable&&(this.resizing=!0,this.lastPageX=Qe.pageX,this.lastPageY=Qe.pageY,g.p.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(Qe))}onResize(Qe){if(this.resizing){let X=Qe.pageX-this.lastPageX,xe=Qe.pageY-this.lastPageY,we=g.p.getOuterWidth(this.container),Oe=g.p.getOuterHeight(this.container),dt=g.p.getOuterHeight(this.contentViewChild.nativeElement),bt=we+X,it=Oe+xe,Dt=this.container.style.minWidth,vt=this.container.style.minHeight,Gt=this.container.getBoundingClientRect(),Ht=g.p.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(bt+=X,it+=xe),(!Dt||bt>parseInt(Dt))&&Gt.left+bt<Ht.width&&(this._style.width=bt+"px",this.container.style.width=this._style.width),(!vt||it>parseInt(vt))&&Gt.top+it<Ht.height&&(this.contentViewChild.nativeElement.style.height=dt+it-Oe+"px",this._style.height&&(this._style.height=it+"px",this.container.style.height=this._style.height)),this.lastPageX=Qe.pageX,this.lastPageY=Qe.pageY}}resizeEnd(Qe){this.resizing&&(this.resizing=!1,g.p.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(Qe))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",X=>{27==X.which&&this.close(X)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):g.p.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(Qe){switch(Qe.toState){case"visible":this.container=Qe.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&g.p.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&g.p.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(Qe){switch(Qe.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(g.p.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&g.p.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&R.P9.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?Object.assign({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return Ke.\u0275fac=function(Qe){return new(Qe||Ke)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(_.b4))},Ke.\u0275cmp=e.Xpm({type:Ke,selectors:[["p-dialog"]],contentQueries:function(Qe,X,xe){if(1&Qe&&(e.Suo(xe,_.h4,5),e.Suo(xe,_.$_,5),e.Suo(xe,_.jx,4)),2&Qe){let we;e.iGM(we=e.CRH())&&(X.headerFacet=we.first),e.iGM(we=e.CRH())&&(X.footerFacet=we.first),e.iGM(we=e.CRH())&&(X.templates=we)}},viewQuery:function(Qe,X){if(1&Qe&&(e.Gf(L,5),e.Gf(J,5),e.Gf(N,5)),2&Qe){let xe;e.iGM(xe=e.CRH())&&(X.headerViewChild=xe.first),e.iGM(xe=e.CRH())&&(X.contentViewChild=xe.first),e.iGM(xe=e.CRH())&&(X.footerViewChild=xe.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:K,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""]],template:function(Qe,X){1&Qe&&(e.F$t(Q),e.YNc(0,j,2,15,"div",0)),2&Qe&&e.Q6J("ngIf",X.maskVisible)},dependencies:[f.mk,f.O5,f.tP,f.PC,P,l.H],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,a.X$)("animation",[(0,a.eR)("void => visible",[(0,a._7)(z)]),(0,a.eR)("visible => void",[(0,a._7)(oe)])])]},changeDetection:0}),Ke})(),Ae=(()=>{class Ke{}return Ke.\u0275fac=function(Qe){return new(Qe||Ke)},Ke.\u0275mod=e.oAB({type:Ke}),Ke.\u0275inj=e.cJS({imports:[f.ez,y,l.T,_.m8]}),Ke})()},5730:(mn,ht,b)=>{"use strict";b.d(ht,{V:()=>a,p:()=>e});let e=(()=>{class f{static addClass(_,P){_&&P&&(_.classList?_.classList.add(P):_.className+=" "+P)}static addMultipleClasses(_,P){if(_&&P)if(_.classList){let y=P.trim().split(" ");for(let l=0;l<y.length;l++)_.classList.add(y[l])}else{let y=P.split(" ");for(let l=0;l<y.length;l++)_.className+=" "+y[l]}}static removeClass(_,P){_&&P&&(_.classList?_.classList.remove(P):_.className=_.className.replace(new RegExp("(^|\\b)"+P.split(" ").join("|")+"(\\b|$)","gi")," "))}static hasClass(_,P){return!(!_||!P)&&(_.classList?_.classList.contains(P):new RegExp("(^| )"+P+"( |$)","gi").test(_.className))}static siblings(_){return Array.prototype.filter.call(_.parentNode.children,function(P){return P!==_})}static find(_,P){return Array.from(_.querySelectorAll(P))}static findSingle(_,P){return _?_.querySelector(P):null}static index(_){let P=_.parentNode.childNodes,y=0;for(var l=0;l<P.length;l++){if(P[l]==_)return y;1==P[l].nodeType&&y++}return-1}static indexWithinGroup(_,P){let y=_.parentNode?_.parentNode.childNodes:[],l=0;for(var R=0;R<y.length;R++){if(y[R]==_)return l;y[R].attributes&&y[R].attributes[P]&&1==y[R].nodeType&&l++}return-1}static appendOverlay(_,P,y="self"){"self"!==y&&_&&P&&this.appendChild(_,P)}static alignOverlay(_,P,y="self",l=!0){_&&P&&(l&&(_.style.minWidth||(_.style.minWidth=f.getOuterWidth(P)+"px")),"self"===y?this.relativePosition(_,P):this.absolutePosition(_,P))}static relativePosition(_,P){const y=F=>{if(F)return"relative"===getComputedStyle(F).getPropertyValue("position")?F:y(F.parentElement)},l=_.offsetParent?{width:_.offsetWidth,height:_.offsetHeight}:this.getHiddenElementDimensions(_),R=P.offsetHeight,L=P.getBoundingClientRect(),J=this.getWindowScrollTop(),N=this.getWindowScrollLeft(),w=this.getViewport(),x=y(_),D=(null==x?void 0:x.getBoundingClientRect())||{top:-1*J,left:-1*N};let S,U;L.top+R+l.height>w.height?(S=L.top-D.top-l.height,_.style.transformOrigin="bottom",L.top+S<0&&(S=-1*L.top)):(S=R+L.top-D.top,_.style.transformOrigin="top"),U=l.width>w.width?-1*(L.left-D.left):L.left-D.left+l.width>w.width?-1*(L.left-D.left+l.width-w.width):L.left-D.left,_.style.top=S+"px",_.style.left=U+"px"}static absolutePosition(_,P){const y=_.offsetParent?{width:_.offsetWidth,height:_.offsetHeight}:this.getHiddenElementDimensions(_),l=y.height,R=y.width,L=P.offsetHeight,J=P.offsetWidth,N=P.getBoundingClientRect(),w=this.getWindowScrollTop(),x=this.getWindowScrollLeft(),D=this.getViewport();let S,U;N.top+L+l>D.height?(S=N.top+w-l,_.style.transformOrigin="bottom",S<0&&(S=w)):(S=L+N.top+w,_.style.transformOrigin="top"),U=N.left+R>D.width?Math.max(0,N.left+x+J-R):N.left+x,_.style.top=S+"px",_.style.left=U+"px"}static getParents(_,P=[]){return null===_.parentNode?P:this.getParents(_.parentNode,P.concat([_.parentNode]))}static getScrollableParents(_){let P=[];if(_){let y=this.getParents(_);const l=/(auto|scroll)/,R=L=>{let J=window.getComputedStyle(L,null);return l.test(J.getPropertyValue("overflow"))||l.test(J.getPropertyValue("overflowX"))||l.test(J.getPropertyValue("overflowY"))};for(let L of y){let J=1===L.nodeType&&L.dataset.scrollselectors;if(J){let N=J.split(",");for(let w of N){let x=this.findSingle(L,w);x&&R(x)&&P.push(x)}}9!==L.nodeType&&R(L)&&P.push(L)}}return P}static getHiddenElementOuterHeight(_){_.style.visibility="hidden",_.style.display="block";let P=_.offsetHeight;return _.style.display="none",_.style.visibility="visible",P}static getHiddenElementOuterWidth(_){_.style.visibility="hidden",_.style.display="block";let P=_.offsetWidth;return _.style.display="none",_.style.visibility="visible",P}static getHiddenElementDimensions(_){let P={};return _.style.visibility="hidden",_.style.display="block",P.width=_.offsetWidth,P.height=_.offsetHeight,_.style.display="none",_.style.visibility="visible",P}static scrollInView(_,P){let y=getComputedStyle(_).getPropertyValue("borderTopWidth"),l=y?parseFloat(y):0,R=getComputedStyle(_).getPropertyValue("paddingTop"),L=R?parseFloat(R):0,J=_.getBoundingClientRect(),w=P.getBoundingClientRect().top+document.body.scrollTop-(J.top+document.body.scrollTop)-l-L,x=_.scrollTop,D=_.clientHeight,S=this.getOuterHeight(P);w<0?_.scrollTop=x+w:w+S>D&&(_.scrollTop=x+w-D+S)}static fadeIn(_,P){_.style.opacity=0;let y=+new Date,l=0,R=function(){l=+_.style.opacity.replace(",",".")+((new Date).getTime()-y)/P,_.style.opacity=l,y=+new Date,+l<1&&(window.requestAnimationFrame&&requestAnimationFrame(R)||setTimeout(R,16))};R()}static fadeOut(_,P){var y=1,L=50/P;let J=setInterval(()=>{(y-=L)<=0&&(y=0,clearInterval(J)),_.style.opacity=y},50)}static getWindowScrollTop(){let _=document.documentElement;return(window.pageYOffset||_.scrollTop)-(_.clientTop||0)}static getWindowScrollLeft(){let _=document.documentElement;return(window.pageXOffset||_.scrollLeft)-(_.clientLeft||0)}static matches(_,P){var y=Element.prototype;return(y.matches||y.webkitMatchesSelector||y.mozMatchesSelector||y.msMatchesSelector||function(R){return-1!==[].indexOf.call(document.querySelectorAll(R),this)}).call(_,P)}static getOuterWidth(_,P){let y=_.offsetWidth;if(P){let l=getComputedStyle(_);y+=parseFloat(l.marginLeft)+parseFloat(l.marginRight)}return y}static getHorizontalPadding(_){let P=getComputedStyle(_);return parseFloat(P.paddingLeft)+parseFloat(P.paddingRight)}static getHorizontalMargin(_){let P=getComputedStyle(_);return parseFloat(P.marginLeft)+parseFloat(P.marginRight)}static innerWidth(_){let P=_.offsetWidth,y=getComputedStyle(_);return P+=parseFloat(y.paddingLeft)+parseFloat(y.paddingRight),P}static width(_){let P=_.offsetWidth,y=getComputedStyle(_);return P-=parseFloat(y.paddingLeft)+parseFloat(y.paddingRight),P}static getInnerHeight(_){let P=_.offsetHeight,y=getComputedStyle(_);return P+=parseFloat(y.paddingTop)+parseFloat(y.paddingBottom),P}static getOuterHeight(_,P){let y=_.offsetHeight;if(P){let l=getComputedStyle(_);y+=parseFloat(l.marginTop)+parseFloat(l.marginBottom)}return y}static getHeight(_){let P=_.offsetHeight,y=getComputedStyle(_);return P-=parseFloat(y.paddingTop)+parseFloat(y.paddingBottom)+parseFloat(y.borderTopWidth)+parseFloat(y.borderBottomWidth),P}static getWidth(_){let P=_.offsetWidth,y=getComputedStyle(_);return P-=parseFloat(y.paddingLeft)+parseFloat(y.paddingRight)+parseFloat(y.borderLeftWidth)+parseFloat(y.borderRightWidth),P}static getViewport(){let _=window,P=document,y=P.documentElement,l=P.getElementsByTagName("body")[0];return{width:_.innerWidth||y.clientWidth||l.clientWidth,height:_.innerHeight||y.clientHeight||l.clientHeight}}static getOffset(_){var P=_.getBoundingClientRect();return{top:P.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:P.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(_,P){let y=_.parentNode;if(!y)throw"Can't replace element";return y.replaceChild(P,_)}static getUserAgent(){return navigator.userAgent}static isIE(){var _=window.navigator.userAgent;return _.indexOf("MSIE ")>0||(_.indexOf("Trident/")>0?(_.indexOf("rv:"),!0):_.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(_,P){if(this.isElement(P))P.appendChild(_);else{if(!P.el||!P.el.nativeElement)throw"Cannot append "+P+" to "+_;P.el.nativeElement.appendChild(_)}}static removeChild(_,P){if(this.isElement(P))P.removeChild(_);else{if(!P.el||!P.el.nativeElement)throw"Cannot remove "+_+" from "+P;P.el.nativeElement.removeChild(_)}}static removeElement(_){"remove"in Element.prototype?_.remove():_.parentNode.removeChild(_)}static isElement(_){return"object"==typeof HTMLElement?_ instanceof HTMLElement:_&&"object"==typeof _&&null!==_&&1===_.nodeType&&"string"==typeof _.nodeName}static calculateScrollbarWidth(_){if(_){let P=getComputedStyle(_);return _.offsetWidth-_.clientWidth-parseFloat(P.borderLeftWidth)-parseFloat(P.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let P=document.createElement("div");P.className="p-scrollbar-measure",document.body.appendChild(P);let y=P.offsetWidth-P.clientWidth;return document.body.removeChild(P),this.calculatedScrollbarWidth=y,y}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let _=document.createElement("div");_.className="p-scrollbar-measure",document.body.appendChild(_);let P=_.offsetHeight-_.clientHeight;return document.body.removeChild(_),this.calculatedScrollbarWidth=P,P}static invokeElementMethod(_,P,y){_[P].apply(_,y)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(_){}}static getBrowser(){if(!this.browser){let _=this.resolveUserAgent();this.browser={},_.browser&&(this.browser[_.browser]=!0,this.browser.version=_.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let _=navigator.userAgent.toLowerCase(),P=/(chrome)[ \/]([\w.]+)/.exec(_)||/(webkit)[ \/]([\w.]+)/.exec(_)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(_)||/(msie) ([\w.]+)/.exec(_)||_.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(_)||[];return{browser:P[1]||"",version:P[2]||"0"}}static isInteger(_){return Number.isInteger?Number.isInteger(_):"number"==typeof _&&isFinite(_)&&Math.floor(_)===_}static isHidden(_){return!_||null===_.offsetParent}static isVisible(_){return _&&null!=_.offsetParent}static isExist(_){return null!=_&&_.nodeName&&_.parentNode}static focus(_,P){_&&document.activeElement!==_&&_.focus(P)}static getFocusableElements(_){let P=f.find(_,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),y=[];for(let l of P)"none"!=getComputedStyle(l).display&&"hidden"!=getComputedStyle(l).visibility&&y.push(l);return y}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(_,P){if(!_)return null;switch(_){case"document":return document;case"window":return window;case"@next":return null==P?void 0:P.nextElementSibling;case"@prev":return null==P?void 0:P.previousElementSibling;case"@parent":return null==P?void 0:P.parentElement;case"@grandparent":return null==P?void 0:P.parentElement.parentElement;default:const y=typeof _;if("string"===y)return document.querySelector(_);if("object"===y&&_.hasOwnProperty("nativeElement"))return this.isExist(_.nativeElement)?_.nativeElement:void 0;const R=(L=_)&&L.constructor&&L.call&&L.apply?_():_;return R&&9===R.nodeType||this.isExist(R)?R:null}var L}}return f.zindex=1e3,f.calculatedScrollbarWidth=null,f.calculatedScrollbarHeight=null,f})();class a{constructor(g,_=(()=>{})){this.element=g,this.listener=_}bindScrollListener(){this.scrollableParents=e.getScrollableParents(this.element);for(let g=0;g<this.scrollableParents.length;g++)this.scrollableParents[g].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let g=0;g<this.scrollableParents.length;g++)this.scrollableParents[g].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},9873:(mn,ht,b)=>{"use strict";b.d(ht,{_l:()=>g,_t:()=>P,bK:()=>_});var e=b(5e3),a=b(9808),f=b(5730);let g=(()=>{class y{constructor(R,L){this.el=R,this.zone=L,this.onDragStart=new e.vpe,this.onDragEnd=new e.vpe,this.onDrag=new e.vpe}get pDraggableDisabled(){return this._pDraggableDisabled}set pDraggableDisabled(R){this._pDraggableDisabled=R,this._pDraggableDisabled?this.unbindMouseListeners():(this.el.nativeElement.draggable=!0,this.bindMouseListeners())}ngAfterViewInit(){this.pDraggableDisabled||(this.el.nativeElement.draggable=!0,this.bindMouseListeners())}bindDragListener(){this.dragListener||this.zone.runOutsideAngular(()=>{this.dragListener=this.drag.bind(this),this.el.nativeElement.addEventListener("drag",this.dragListener)})}unbindDragListener(){this.dragListener&&this.zone.runOutsideAngular(()=>{this.el.nativeElement.removeEventListener("drag",this.dragListener),this.dragListener=null})}bindMouseListeners(){!this.mouseDownListener&&!this.mouseUpListener&&this.zone.runOutsideAngular(()=>{this.mouseDownListener=this.mousedown.bind(this),this.mouseUpListener=this.mouseup.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener),this.el.nativeElement.addEventListener("mouseup",this.mouseUpListener)})}unbindMouseListeners(){this.mouseDownListener&&this.mouseUpListener&&this.zone.runOutsideAngular(()=>{this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),this.el.nativeElement.removeEventListener("mouseup",this.mouseUpListener),this.mouseDownListener=null,this.mouseUpListener=null})}drag(R){this.onDrag.emit(R)}dragStart(R){this.allowDrag()&&!this.pDraggableDisabled?(this.dragEffect&&(R.dataTransfer.effectAllowed=this.dragEffect),R.dataTransfer.setData("text",this.scope),this.onDragStart.emit(R),this.bindDragListener()):R.preventDefault()}dragEnd(R){this.onDragEnd.emit(R),this.unbindDragListener()}mousedown(R){this.handle=R.target}mouseup(R){this.handle=null}allowDrag(){return!this.dragHandle||!this.handle||f.p.matches(this.handle,this.dragHandle)}ngOnDestroy(){this.unbindDragListener(),this.unbindMouseListeners()}}return y.\u0275fac=function(R){return new(R||y)(e.Y36(e.SBq),e.Y36(e.R0b))},y.\u0275dir=e.lG2({type:y,selectors:[["","pDraggable",""]],hostAttrs:[1,"p-element"],hostBindings:function(R,L){1&R&&e.NdJ("dragstart",function(N){return L.dragStart(N)})("dragend",function(N){return L.dragEnd(N)})},inputs:{scope:["pDraggable","scope"],dragEffect:"dragEffect",dragHandle:"dragHandle",pDraggableDisabled:"pDraggableDisabled"},outputs:{onDragStart:"onDragStart",onDragEnd:"onDragEnd",onDrag:"onDrag"}}),y})(),_=(()=>{class y{constructor(R,L){this.el=R,this.zone=L,this.onDragEnter=new e.vpe,this.onDragLeave=new e.vpe,this.onDrop=new e.vpe}ngAfterViewInit(){this.pDroppableDisabled||this.bindDragOverListener()}bindDragOverListener(){this.dragOverListener||this.zone.runOutsideAngular(()=>{this.dragOverListener=this.dragOver.bind(this),this.el.nativeElement.addEventListener("dragover",this.dragOverListener)})}unbindDragOverListener(){this.dragOverListener&&this.zone.runOutsideAngular(()=>{this.el.nativeElement.removeEventListener("dragover",this.dragOverListener),this.dragOverListener=null})}dragOver(R){R.preventDefault()}drop(R){this.allowDrop(R)&&(f.p.removeClass(this.el.nativeElement,"p-draggable-enter"),R.preventDefault(),this.onDrop.emit(R))}dragEnter(R){R.preventDefault(),this.dropEffect&&(R.dataTransfer.dropEffect=this.dropEffect),f.p.addClass(this.el.nativeElement,"p-draggable-enter"),this.onDragEnter.emit(R)}dragLeave(R){R.preventDefault(),f.p.removeClass(this.el.nativeElement,"p-draggable-enter"),this.onDragLeave.emit(R)}allowDrop(R){let L=R.dataTransfer.getData("text");if("string"==typeof this.scope&&L==this.scope)return!0;if(this.scope instanceof Array)for(let J=0;J<this.scope.length;J++)if(L==this.scope[J])return!0;return!1}ngOnDestroy(){this.unbindDragOverListener()}}return y.\u0275fac=function(R){return new(R||y)(e.Y36(e.SBq),e.Y36(e.R0b))},y.\u0275dir=e.lG2({type:y,selectors:[["","pDroppable",""]],hostAttrs:[1,"p-element"],hostBindings:function(R,L){1&R&&e.NdJ("drop",function(N){return L.drop(N)})("dragenter",function(N){return L.dragEnter(N)})("dragleave",function(N){return L.dragLeave(N)})},inputs:{scope:["pDroppable","scope"],pDroppableDisabled:"pDroppableDisabled",dropEffect:"dropEffect"},outputs:{onDragEnter:"onDragEnter",onDragLeave:"onDragLeave",onDrop:"onDrop"}}),y})(),P=(()=>{class y{}return y.\u0275fac=function(R){return new(R||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({imports:[a.ez]}),y})()},4036:(mn,ht,b)=>{"use strict";b.d(ht,{Lt:()=>In,kW:()=>en});var e=b(9808),a=b(5e3),f=b(2382),g=b(9783),_=b(9618),P=b(5730),y=b(8050),l=b(5787),R=b(5871),L=b(4119),J=b(5921);function N(_t,et){if(1&_t&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&_t){const de=a.oxw();a.xp6(1),a.Oqu(de.label||"empty")}}function w(_t,et){1&_t&&a.GkF(0)}const x=function(_t){return{height:_t}},D=function(_t,et){return{"p-dropdown-item":!0,"p-highlight":_t,"p-disabled":et}},S=function(_t){return{$implicit:_t}},U=["container"],F=["filter"],ce=["in"],te=["editableInput"],V=["items"],k=["scroller"],O=["overlay"];function $(_t,et){if(1&_t&&(a.ynx(0),a._uU(1),a.BQk()),2&_t){const de=a.oxw(2);a.xp6(1),a.Oqu(de.label||"empty")}}function ue(_t,et){1&_t&&a.GkF(0)}const q=function(_t){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":_t}};function Y(_t,et){if(1&_t&&(a.TgZ(0,"span",14),a.YNc(1,$,2,1,"ng-container",15),a.YNc(2,ue,1,0,"ng-container",16),a.qZA()),2&_t){const de=a.oxw();a.Q6J("ngClass",a.VKq(9,q,null==de.label||0===de.label.length))("pTooltip",de.tooltip)("tooltipPosition",de.tooltipPosition)("positionStyle",de.tooltipPositionStyle)("tooltipStyleClass",de.tooltipStyleClass),a.uIk("id",de.labelId),a.xp6(1),a.Q6J("ngIf",!de.selectedItemTemplate),a.xp6(1),a.Q6J("ngTemplateOutlet",de.selectedItemTemplate)("ngTemplateOutletContext",a.VKq(11,S,de.selectedOption))}}const G=function(_t){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":_t}};function he(_t,et){if(1&_t&&(a.TgZ(0,"span",17),a._uU(1),a.qZA()),2&_t){const de=a.oxw();a.Q6J("ngClass",a.VKq(2,G,null==de.placeholder||0===de.placeholder.length)),a.xp6(1),a.Oqu(de.placeholder||"empty")}}function j(_t,et){if(1&_t){const de=a.EpF();a.TgZ(0,"input",18,19),a.NdJ("input",function(ze){a.CHM(de);const wt=a.oxw();return a.KtG(wt.onEditableInputChange(ze))})("focus",function(ze){a.CHM(de);const wt=a.oxw();return a.KtG(wt.onEditableInputFocus(ze))})("blur",function(ze){a.CHM(de);const wt=a.oxw();return a.KtG(wt.onInputBlur(ze))}),a.qZA()}if(2&_t){const de=a.oxw();a.Q6J("disabled",de.disabled),a.uIk("maxlength",de.maxlength)("placeholder",de.placeholder)("aria-expanded",de.overlayVisible)}}function Q(_t,et){if(1&_t){const de=a.EpF();a.TgZ(0,"i",20),a.NdJ("click",function(ze){a.CHM(de);const wt=a.oxw();return a.KtG(wt.clear(ze))}),a.qZA()}}function K(_t,et){1&_t&&a.GkF(0)}function z(_t,et){1&_t&&a.GkF(0)}const oe=function(_t){return{options:_t}};function Te(_t,et){if(1&_t&&(a.ynx(0),a.YNc(1,z,1,0,"ng-container",16),a.BQk()),2&_t){const de=a.oxw(3);a.xp6(1),a.Q6J("ngTemplateOutlet",de.filterTemplate)("ngTemplateOutletContext",a.VKq(2,oe,de.filterOptions))}}function Ae(_t,et){if(1&_t){const de=a.EpF();a.TgZ(0,"div",30)(1,"input",31,32),a.NdJ("keydown.enter",function(ze){return ze.preventDefault()})("keydown",function(ze){a.CHM(de);const wt=a.oxw(3);return a.KtG(wt.onKeydown(ze,!1))})("input",function(ze){a.CHM(de);const wt=a.oxw(3);return a.KtG(wt.onFilterInputChange(ze))}),a.qZA(),a._UZ(3,"span",33),a.qZA()}if(2&_t){const de=a.oxw(3);a.xp6(1),a.Q6J("value",de.filterValue||""),a.uIk("placeholder",de.filterPlaceholder)("aria-label",de.ariaFilterLabel)("aria-activedescendant",de.overlayVisible?"p-highlighted-option":de.labelId)}}function Ke(_t,et){if(1&_t&&(a.TgZ(0,"div",27),a.NdJ("click",function(Je){return Je.stopPropagation()}),a.YNc(1,Te,2,4,"ng-container",28),a.YNc(2,Ae,4,4,"ng-template",null,29,a.W1O),a.qZA()),2&_t){const de=a.MAs(3),Je=a.oxw(2);a.xp6(1),a.Q6J("ngIf",Je.filterTemplate)("ngIfElse",de)}}function be(_t,et){1&_t&&a.GkF(0)}const Qe=function(_t,et){return{$implicit:_t,options:et}};function X(_t,et){if(1&_t&&a.YNc(0,be,1,0,"ng-container",16),2&_t){const de=et.$implicit,Je=et.options;a.oxw(2);const ze=a.MAs(7);a.Q6J("ngTemplateOutlet",ze)("ngTemplateOutletContext",a.WLB(2,Qe,de,Je))}}function xe(_t,et){1&_t&&a.GkF(0)}function we(_t,et){if(1&_t&&a.YNc(0,xe,1,0,"ng-container",16),2&_t){const de=et.options,Je=a.oxw(4);a.Q6J("ngTemplateOutlet",Je.loaderTemplate)("ngTemplateOutletContext",a.VKq(2,oe,de))}}function Oe(_t,et){1&_t&&(a.ynx(0),a.YNc(1,we,1,4,"ng-template",36),a.BQk())}function dt(_t,et){if(1&_t){const de=a.EpF();a.TgZ(0,"p-scroller",34,35),a.NdJ("onLazyLoad",function(ze){a.CHM(de);const wt=a.oxw(2);return a.KtG(wt.onLazyLoad.emit(ze))}),a.YNc(2,X,1,5,"ng-template",13),a.YNc(3,Oe,2,0,"ng-container",15),a.qZA()}if(2&_t){const de=a.oxw(2);a.Akn(a.VKq(8,x,de.scrollHeight)),a.Q6J("items",de.optionsToDisplay)("itemSize",de.virtualScrollItemSize||de._itemSize)("autoSize",!0)("lazy",de.lazy)("options",de.virtualScrollOptions),a.xp6(3),a.Q6J("ngIf",de.loaderTemplate)}}function bt(_t,et){1&_t&&a.GkF(0)}const it=function(){return{}};function Dt(_t,et){if(1&_t&&(a.ynx(0),a.YNc(1,bt,1,0,"ng-container",16),a.BQk()),2&_t){a.oxw();const de=a.MAs(7),Je=a.oxw();a.xp6(1),a.Q6J("ngTemplateOutlet",de)("ngTemplateOutletContext",a.WLB(3,Qe,Je.optionsToDisplay,a.DdM(2,it)))}}function vt(_t,et){if(1&_t&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&_t){const de=a.oxw().$implicit,Je=a.oxw(4);a.xp6(1),a.Oqu(Je.getOptionGroupLabel(de)||"empty")}}function Gt(_t,et){1&_t&&a.GkF(0)}function Ht(_t,et){1&_t&&a.GkF(0)}const Ut=function(_t,et){return{$implicit:_t,selectedOption:et}};function ct(_t,et){if(1&_t&&(a.TgZ(0,"li",42),a.YNc(1,vt,2,1,"span",15),a.YNc(2,Gt,1,0,"ng-container",16),a.qZA(),a.YNc(3,Ht,1,0,"ng-container",16)),2&_t){const de=et.$implicit,Je=a.oxw(2).options,ze=a.MAs(5),wt=a.oxw(2);a.Q6J("ngStyle",a.VKq(6,x,Je.itemSize+"px")),a.xp6(1),a.Q6J("ngIf",!wt.groupTemplate),a.xp6(1),a.Q6J("ngTemplateOutlet",wt.groupTemplate)("ngTemplateOutletContext",a.VKq(8,S,de)),a.xp6(1),a.Q6J("ngTemplateOutlet",ze)("ngTemplateOutletContext",a.WLB(10,Ut,wt.getOptionGroupChildren(de),wt.selectedOption))}}function at(_t,et){if(1&_t&&(a.ynx(0),a.YNc(1,ct,4,13,"ng-template",41),a.BQk()),2&_t){const de=a.oxw().$implicit;a.xp6(1),a.Q6J("ngForOf",de)}}function fe(_t,et){1&_t&&a.GkF(0)}function ke(_t,et){if(1&_t&&(a.ynx(0),a.YNc(1,fe,1,0,"ng-container",16),a.BQk()),2&_t){const de=a.oxw().$implicit,Je=a.MAs(5),ze=a.oxw(2);a.xp6(1),a.Q6J("ngTemplateOutlet",Je)("ngTemplateOutletContext",a.WLB(2,Ut,de,ze.selectedOption))}}function ot(_t,et){if(1&_t){const de=a.EpF();a.TgZ(0,"p-dropdownItem",43),a.NdJ("onClick",function(ze){a.CHM(de);const wt=a.oxw(4);return a.KtG(wt.onItemClick(ze))}),a.qZA()}if(2&_t){const de=et.$implicit,Je=a.oxw().selectedOption,ze=a.oxw(3);a.Q6J("option",de)("selected",Je==de)("label",ze.getOptionLabel(de))("disabled",ze.isOptionDisabled(de))("template",ze.itemTemplate)}}function Ct(_t,et){1&_t&&a.YNc(0,ot,1,5,"ng-template",41),2&_t&&a.Q6J("ngForOf",et.$implicit)}function Ot(_t,et){if(1&_t&&(a.ynx(0),a._uU(1),a.BQk()),2&_t){const de=a.oxw(4);a.xp6(1),a.hij(" ",de.emptyFilterMessageLabel," ")}}function Nt(_t,et){1&_t&&a.GkF(0,null,45)}function Mt(_t,et){if(1&_t&&(a.TgZ(0,"li",44),a.YNc(1,Ot,2,1,"ng-container",28),a.YNc(2,Nt,2,0,"ng-container",22),a.qZA()),2&_t){const de=a.oxw().options,Je=a.oxw(2);a.Q6J("ngStyle",a.VKq(4,x,de.itemSize+"px")),a.xp6(1),a.Q6J("ngIf",!Je.emptyFilterTemplate&&!Je.emptyTemplate)("ngIfElse",Je.emptyFilter),a.xp6(1),a.Q6J("ngTemplateOutlet",Je.emptyFilterTemplate||Je.emptyTemplate)}}function Ye(_t,et){if(1&_t&&(a.ynx(0),a._uU(1),a.BQk()),2&_t){const de=a.oxw(4);a.xp6(1),a.hij(" ",de.emptyMessageLabel," ")}}function st(_t,et){1&_t&&a.GkF(0,null,46)}function je(_t,et){if(1&_t&&(a.TgZ(0,"li",44),a.YNc(1,Ye,2,1,"ng-container",28),a.YNc(2,st,2,0,"ng-container",22),a.qZA()),2&_t){const de=a.oxw().options,Je=a.oxw(2);a.Q6J("ngStyle",a.VKq(4,x,de.itemSize+"px")),a.xp6(1),a.Q6J("ngIf",!Je.emptyTemplate)("ngIfElse",Je.empty),a.xp6(1),a.Q6J("ngTemplateOutlet",Je.emptyTemplate)}}function It(_t,et){if(1&_t&&(a.TgZ(0,"ul",37,38),a.YNc(2,at,2,1,"ng-container",15),a.YNc(3,ke,2,5,"ng-container",15),a.YNc(4,Ct,1,1,"ng-template",null,39,a.W1O),a.YNc(6,Mt,3,6,"li",40),a.YNc(7,je,3,6,"li",40),a.qZA()),2&_t){const de=et.options,Je=a.oxw(2);a.Akn(de.contentStyle),a.Q6J("ngClass",de.contentStyleClass),a.uIk("id",Je.listId),a.xp6(2),a.Q6J("ngIf",Je.group),a.xp6(1),a.Q6J("ngIf",!Je.group),a.xp6(3),a.Q6J("ngIf",Je.filterValue&&Je.isEmpty()),a.xp6(1),a.Q6J("ngIf",!Je.filterValue&&Je.isEmpty())}}function ne(_t,et){1&_t&&a.GkF(0)}function Ne(_t,et){if(1&_t&&(a.TgZ(0,"div",21),a.YNc(1,K,1,0,"ng-container",22),a.YNc(2,Ke,4,2,"div",23),a.TgZ(3,"div",24),a.YNc(4,dt,4,10,"p-scroller",25),a.YNc(5,Dt,2,6,"ng-container",15),a.YNc(6,It,8,8,"ng-template",null,26,a.W1O),a.qZA(),a.YNc(8,ne,1,0,"ng-container",22),a.qZA()),2&_t){const de=a.oxw();a.Tol(de.panelStyleClass),a.Q6J("ngClass","p-dropdown-panel p-component")("ngStyle",de.panelStyle),a.xp6(1),a.Q6J("ngTemplateOutlet",de.headerTemplate),a.xp6(1),a.Q6J("ngIf",de.filter),a.xp6(1),a.Udp("max-height",de.virtualScroll?"auto":de.scrollHeight||"auto"),a.xp6(1),a.Q6J("ngIf",de.virtualScroll),a.xp6(1),a.Q6J("ngIf",!de.virtualScroll),a.xp6(3),a.Q6J("ngTemplateOutlet",de.footerTemplate)}}const me=function(_t,et,de,Je){return{"p-dropdown p-component":!0,"p-disabled":_t,"p-dropdown-open":et,"p-focus":de,"p-dropdown-clearable":Je}},gt={provide:f.JU,useExisting:(0,a.Gpc)(()=>In),multi:!0};let un=(()=>{class _t{constructor(){this.onClick=new a.vpe}onOptionClick(de){this.onClick.emit({originalEvent:de,option:this.option})}}return _t.\u0275fac=function(de){return new(de||_t)},_t.\u0275cmp=a.Xpm({type:_t,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(de,Je){1&de&&(a.TgZ(0,"li",0),a.NdJ("click",function(wt){return Je.onOptionClick(wt)}),a.YNc(1,N,2,1,"span",1),a.YNc(2,w,1,0,"ng-container",2),a.qZA()),2&de&&(a.Q6J("ngStyle",a.VKq(8,x,Je.itemSize+"px"))("id",Je.selected?"p-highlighted-option":"")("ngClass",a.WLB(10,D,Je.selected,Je.disabled)),a.uIk("aria-label",Je.label)("aria-selected",Je.selected),a.xp6(1),a.Q6J("ngIf",!Je.template),a.xp6(1),a.Q6J("ngTemplateOutlet",Je.template)("ngTemplateOutletContext",a.VKq(13,S,Je.option)))},dependencies:[e.mk,e.O5,e.tP,e.PC,l.H],encapsulation:2}),_t})(),In=(()=>{class _t{constructor(de,Je,ze,wt,Fe,qt){this.el=de,this.renderer=Je,this.cd=ze,this.zone=wt,this.filterService=Fe,this.config=qt,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.lazy=!1,this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.overlayDirection="end",this.onChange=new a.vpe,this.onFilter=new a.vpe,this.onFocus=new a.vpe,this.onBlur=new a.vpe,this.onClick=new a.vpe,this.onShow=new a.vpe,this.onHide=new a.vpe,this.onClear=new a.vpe,this.onLazyLoad=new a.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.id=(0,J.Th)()}get disabled(){return this._disabled}set disabled(de){de&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=de,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(de){this._itemSize=de,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get autoZIndex(){return this._autoZIndex}set autoZIndex(de){this._autoZIndex=de,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(de){this._baseZIndex=de,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(de){this._showTransitionOptions=de,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(de){this._hideTransitionOptions=de,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}ngAfterContentInit(){this.templates.forEach(de=>{switch(de.getType()){case"item":default:this.itemTemplate=de.template;break;case"selectedItem":this.selectedItemTemplate=de.template;break;case"header":this.headerTemplate=de.template;break;case"filter":this.filterTemplate=de.template;break;case"footer":this.footerTemplate=de.template;break;case"emptyfilter":this.emptyFilterTemplate=de.template;break;case"empty":this.emptyTemplate=de.template;break;case"group":this.groupTemplate=de.template;break;case"loader":this.loaderTemplate=de.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list",this.filterBy&&(this.filterOptions={filter:de=>this.onFilterInputChange(de),reset:()=>this.resetFilter()})}get options(){return this._options}set options(de){this._options=de,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),!this.selectedOption&&J.gb.isNotEmpty(this.value)&&!this.editable&&(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(de){this._filterValue=de,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(g.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(g.ws.EMPTY_FILTER_MESSAGE)}get filled(){return"string"==typeof this.value?!!this.value:this.value||null!=this.value||null!=this.value}get isVisibleClearIcon(){return null!=this.value&&""!==this.value&&this.showClear&&!this.disabled}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(de){return this.optionLabel?J.gb.resolveFieldData(de,this.optionLabel):de&&void 0!==de.label?de.label:de}getOptionValue(de){return this.optionValue?J.gb.resolveFieldData(de,this.optionValue):!this.optionLabel&&de&&void 0!==de.value?de.value:de}isOptionDisabled(de){return this.optionDisabled?J.gb.resolveFieldData(de,this.optionDisabled):!(!de||void 0===de.disabled)&&de.disabled}getOptionGroupLabel(de){return this.optionGroupLabel?J.gb.resolveFieldData(de,this.optionGroupLabel):de&&void 0!==de.label?de.label:de}getOptionGroupChildren(de){return this.optionGroupChildren?J.gb.resolveFieldData(de,this.optionGroupChildren):de.items}onItemClick(de){const Je=de.option;this.isOptionDisabled(Je)||(this.selectItem(de.originalEvent,Je),this.accessibleViewChild.nativeElement.focus({preventScroll:!0})),setTimeout(()=>{this.hide()},1)}selectItem(de,Je){this.selectedOption!=Je&&(this.selectedOption=Je,this.value=this.getOptionValue(Je),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:de,value:this.value}))}ngAfterViewChecked(){this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper&&(P.p.findSingle(this.overlayViewChild.el.nativeElement,"li.p-highlight")&&P.p.scrollInView(this.itemsWrapper,P.p.findSingle(this.overlayViewChild.el.nativeElement,"li.p-highlight")),this.selectedOptionUpdated=!1)}writeValue(de){this.filter&&this.resetFilter(),this.value=de,this.updateSelectedOption(de),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(de){this.selectedOption=this.findOption(de,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(de){this.onModelChange=de}registerOnTouched(de){this.onModelTouched=de}setDisabledState(de){this.disabled=de,this.cd.markForCheck()}onMouseclick(de){this.disabled||this.readonly||this.isInputClick(de)||(this.onClick.emit(de),this.accessibleViewChild.nativeElement.focus({preventScroll:!0}),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}isInputClick(de){return P.p.hasClass(de.target,"p-dropdown-clear-icon")||de.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&de.target.isSameNode(this.editableInputViewChild.nativeElement)}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputFocus(de){this.focused=!0,this.hide(),this.onFocus.emit(de)}onEditableInputChange(de){this.value=de.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:de,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(de){if("visible"===de.toState){if(this.itemsWrapper=P.p.findSingle(this.overlayViewChild.el.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller.setContentEl(this.itemsViewChild.nativeElement),this.options&&this.options.length)if(this.virtualScroll){const Je=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;-1!==Je&&this.scroller.scrollToIndex(Je)}else{let Je=P.p.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");Je&&Je.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(de)}"void"===de.toState&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(de))}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.cd.markForCheck()}onInputFocus(de){this.focused=!0,this.onFocus.emit(de)}onInputBlur(de){this.focused=!1,this.onBlur.emit(de),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(de){let Je;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let ze=de-1;0<=ze;ze--){let wt=this.optionsToDisplay[ze];if(!this.isOptionDisabled(wt)){Je=wt;break}}if(!Je)for(let ze=this.optionsToDisplay.length-1;ze>=de;ze--){let wt=this.optionsToDisplay[ze];if(!this.isOptionDisabled(wt)){Je=wt;break}}}return Je}findNextEnabledOption(de){let Je;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let ze=de+1;ze<this.optionsToDisplay.length;ze++){let wt=this.optionsToDisplay[ze];if(!this.isOptionDisabled(wt)){Je=wt;break}}if(!Je)for(let ze=0;ze<de;ze++){let wt=this.optionsToDisplay[ze];if(!this.isOptionDisabled(wt)){Je=wt;break}}}return Je}onKeydown(de,Je){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(de.which){case 40:if(!this.overlayVisible&&de.altKey)this.show();else if(this.group){let ze=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==ze){let wt=ze.itemIndex+1;wt<this.getOptionGroupChildren(this.optionsToDisplay[ze.groupIndex]).length?(this.selectItem(de,this.getOptionGroupChildren(this.optionsToDisplay[ze.groupIndex])[wt]),this.selectedOptionUpdated=!0):this.optionsToDisplay[ze.groupIndex+1]&&(this.selectItem(de,this.getOptionGroupChildren(this.optionsToDisplay[ze.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(de,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let ze=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,wt=this.findNextEnabledOption(ze);wt&&(this.selectItem(de,wt),this.selectedOptionUpdated=!0)}de.preventDefault();break;case 38:if(this.group){let ze=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==ze){let wt=ze.itemIndex-1;if(wt>=0)this.selectItem(de,this.getOptionGroupChildren(this.optionsToDisplay[ze.groupIndex])[wt]),this.selectedOptionUpdated=!0;else if(wt<0){let Fe=this.optionsToDisplay[ze.groupIndex-1];Fe&&(this.selectItem(de,this.getOptionGroupChildren(Fe)[this.getOptionGroupChildren(Fe).length-1]),this.selectedOptionUpdated=!0)}}}else{let ze=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,wt=this.findPrevEnabledOption(ze);wt&&(this.selectItem(de,wt),this.selectedOptionUpdated=!0)}de.preventDefault();break;case 32:Je&&(this.overlayVisible?this.hide():this.show(),de.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),de.preventDefault();break;case 27:case 9:this.hide();break;default:Je&&!de.metaKey&&17!==de.which&&this.search(de)}}search(de){this.searchTimeout&&clearTimeout(this.searchTimeout);const Je=de.key;let ze;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=Je,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+Je:Je,this.group){let wt=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};ze=this.searchOptionWithinGroup(wt)}else{let wt=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;ze=this.searchOption(++wt)}ze&&!this.isOptionDisabled(ze)&&(this.selectItem(de,ze),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(de){let Je;return this.searchValue&&(Je=this.searchOptionInRange(de,this.optionsToDisplay.length),Je||(Je=this.searchOptionInRange(0,de))),Je}searchOptionInRange(de,Je){for(let ze=de;ze<Je;ze++){let wt=this.optionsToDisplay[ze];if(this.getOptionLabel(wt).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(wt))return wt}return null}searchOptionWithinGroup(de){if(this.searchValue){for(let ze=de.groupIndex;ze<this.optionsToDisplay.length;ze++)for(let wt=de.groupIndex===ze?de.itemIndex+1:0;wt<this.getOptionGroupChildren(this.optionsToDisplay[ze]).length;wt++){let Fe=this.getOptionGroupChildren(this.optionsToDisplay[ze])[wt];if(this.getOptionLabel(Fe).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(Fe))return Fe}for(let ze=0;ze<=de.groupIndex;ze++)for(let wt=0;wt<(de.groupIndex===ze?de.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[ze]).length);wt++){let Fe=this.getOptionGroupChildren(this.optionsToDisplay[ze])[wt];if(this.getOptionLabel(Fe).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(Fe))return Fe}}return null}findOptionIndex(de,Je){let ze=-1;if(Je)for(let wt=0;wt<Je.length;wt++)if(null==de&&null==this.getOptionValue(Je[wt])||J.gb.equals(de,this.getOptionValue(Je[wt]),this.dataKey)){ze=wt;break}return ze}findOptionGroupIndex(de,Je){let ze,wt;if(Je)for(let Fe=0;Fe<Je.length&&(ze=Fe,wt=this.findOptionIndex(de,this.getOptionGroupChildren(Je[Fe])),-1===wt);Fe++);return-1!==wt?{groupIndex:ze,itemIndex:wt}:-1}findOption(de,Je,ze){if(this.group&&!ze){let wt;if(Je&&Je.length)for(let Fe of Je)if(wt=this.findOption(de,this.getOptionGroupChildren(Fe),!0),wt)break;return wt}{let wt=this.findOptionIndex(de,Je);return-1!=wt?Je[wt]:null}}onFilterInputChange(de){let Je=de.target.value;Je&&Je.length?(this._filterValue=Je,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.virtualScroll&&this.scroller.scrollToIndex(0),this.optionsChanged=!0,this.onFilter.emit({originalEvent:de,filter:this._filterValue})}activateFilter(){let de=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let Je=[];for(let ze of this.options){let wt=this.filterService.filter(this.getOptionGroupChildren(ze),de,this.filterValue,this.filterMatchMode,this.filterLocale);wt&&wt.length&&Je.push(Object.assign(Object.assign({},ze),{[this.optionGroupChildren]:wt}))}this.optionsToDisplay=Je}else this.optionsToDisplay=this.filterService.filter(this.options,de,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?P.p.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():P.p.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}clear(de){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:de,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(de)}}return _t.\u0275fac=function(de){return new(de||_t)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(g.iZ),a.Y36(g.b4))},_t.\u0275cmp=a.Xpm({type:_t,selectors:[["p-dropdown"]],contentQueries:function(de,Je,ze){if(1&de&&a.Suo(ze,g.jx,4),2&de){let wt;a.iGM(wt=a.CRH())&&(Je.templates=wt)}},viewQuery:function(de,Je){if(1&de&&(a.Gf(U,5),a.Gf(F,5),a.Gf(ce,5),a.Gf(te,5),a.Gf(V,5),a.Gf(k,5),a.Gf(O,5)),2&de){let ze;a.iGM(ze=a.CRH())&&(Je.containerViewChild=ze.first),a.iGM(ze=a.CRH())&&(Je.filterViewChild=ze.first),a.iGM(ze=a.CRH())&&(Je.accessibleViewChild=ze.first),a.iGM(ze=a.CRH())&&(Je.editableInputViewChild=ze.first),a.iGM(ze=a.CRH())&&(Je.itemsViewChild=ze.first),a.iGM(ze=a.CRH())&&(Je.scroller=ze.first),a.iGM(ze=a.CRH())&&(Je.overlayViewChild=ze.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(de,Je){2&de&&a.ekj("p-inputwrapper-filled",Je.filled)("p-inputwrapper-focus",Je.focused||Je.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",overlayDirection:"overlayDirection",disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[a._Bn([gt])],decls:14,vars:32,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","pAutoFocus","","role","combobox",3,"disabled","autofocus","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",3,"click",4,"ngIf"],[1,"p-dropdown-items-wrapper"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],[1,"p-dropdown-header",3,"click"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-dropdown-filter-container"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-dropdown-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","onClick"],[1,"p-dropdown-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""]],template:function(de,Je){1&de&&(a.TgZ(0,"div",0,1),a.NdJ("click",function(wt){return Je.onMouseclick(wt)}),a.TgZ(2,"div",2)(3,"input",3,4),a.NdJ("focus",function(wt){return Je.onInputFocus(wt)})("blur",function(wt){return Je.onInputBlur(wt)})("keydown",function(wt){return Je.onKeydown(wt,!0)}),a.qZA()(),a.YNc(5,Y,3,13,"span",5),a.YNc(6,he,2,4,"span",6),a.YNc(7,j,2,4,"input",7),a.YNc(8,Q,1,0,"i",8),a.TgZ(9,"div",9),a._UZ(10,"span",10),a.qZA(),a.TgZ(11,"p-overlay",11,12),a.NdJ("visibleChange",function(wt){return Je.overlayVisible=wt})("onAnimationStart",function(wt){return Je.onOverlayAnimationStart(wt)})("onHide",function(){return Je.hide()}),a.YNc(13,Ne,9,11,"ng-template",13),a.qZA()()),2&de&&(a.Tol(Je.styleClass),a.Q6J("ngClass",a.l5B(27,me,Je.disabled,Je.overlayVisible,Je.focused,Je.showClear&&!Je.disabled))("ngStyle",Je.style),a.xp6(3),a.Q6J("disabled",Je.disabled)("autofocus",Je.autofocus),a.uIk("id",Je.inputId)("placeholder",Je.placeholder)("aria-label",Je.ariaLabel)("aria-expanded",!1)("aria-labelledby",Je.ariaLabelledBy)("tabindex",Je.tabindex)("aria-activedescendant",Je.overlayVisible?Je.labelId:null),a.xp6(2),a.Q6J("ngIf",!Je.editable&&null!=Je.label),a.xp6(1),a.Q6J("ngIf",!Je.editable&&null==Je.label),a.xp6(1),a.Q6J("ngIf",Je.editable),a.xp6(1),a.Q6J("ngIf",Je.isVisibleClearIcon),a.xp6(1),a.uIk("aria-expanded",Je.overlayVisible),a.xp6(1),a.Q6J("ngClass",Je.dropdownIcon),a.xp6(1),a.Q6J("visible",Je.overlayVisible)("options",Je.overlayOptions)("target","@parent")("appendTo",Je.appendTo)("autoZIndex",Je.autoZIndex)("baseZIndex",Je.baseZIndex)("showTransitionOptions",Je.showTransitionOptions)("hideTransitionOptions",Je.hideTransitionOptions))},dependencies:[e.mk,e.sg,e.O5,e.tP,e.PC,y.aV,g.jx,L.u,R.T,_.P,un],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,changeDetection:0}),_t})(),en=(()=>{class _t{}return _t.\u0275fac=function(de){return new(de||_t)},_t.\u0275mod=a.oAB({type:_t}),_t.\u0275inj=a.cJS({imports:[e.ez,y.U8,g.m8,L.z,l.T,R.v,_.E,y.U8,g.m8,R.v]}),_t})()},5330:(mn,ht,b)=>{"use strict";b.d(ht,{DL:()=>he,E7:()=>ue,S:()=>$,xA:()=>Q});var e=b(5e3),a=b(1777),f=b(9808),g=b(5730),_=b(5921),P=b(7579),y=b(9783);const l=["mask"],R=["content"],L=["titlebar"];function J(K,z){if(1&K){const oe=e.EpF();e.TgZ(0,"div",11),e.NdJ("mousedown",function(Ae){e.CHM(oe);const Ke=e.oxw(2);return e.KtG(Ke.initResize(Ae))}),e.qZA()}}const N=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function w(K,z){if(1&K){const oe=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(oe);const Ae=e.oxw(3);return e.KtG(Ae.maximize())})("keydown.enter",function(){e.CHM(oe);const Ae=e.oxw(3);return e.KtG(Ae.maximize())}),e._UZ(1,"span",19),e.qZA()}if(2&K){const oe=e.oxw(3);e.Q6J("ngClass",e.DdM(2,N)),e.xp6(1),e.Q6J("ngClass",oe.maximized?oe.minimizeIcon:oe.maximizeIcon)}}function x(K,z){if(1&K){const oe=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(oe);const Ae=e.oxw(3);return e.KtG(Ae.hide())})("keydown.enter",function(){e.CHM(oe);const Ae=e.oxw(3);return e.KtG(Ae.hide())}),e._UZ(1,"span",21),e.qZA()}2&K&&e.Q6J("ngClass","p-dialog-header-icon p-dialog-header-maximize p-link")}function D(K,z){if(1&K){const oe=e.EpF();e.TgZ(0,"div",12,13),e.NdJ("mousedown",function(Ae){e.CHM(oe);const Ke=e.oxw(2);return e.KtG(Ke.initDrag(Ae))}),e.TgZ(2,"span",14),e._uU(3),e.qZA(),e.TgZ(4,"div",15),e.YNc(5,w,2,3,"button",16),e.YNc(6,x,2,1,"button",17),e.qZA()()}if(2&K){const oe=e.oxw(2);e.xp6(3),e.Oqu(oe.config.header),e.xp6(2),e.Q6J("ngIf",oe.config.maximizable),e.xp6(1),e.Q6J("ngIf",!1!==oe.config.closable)}}function S(K,z){}function U(K,z){if(1&K&&(e.TgZ(0,"div",22),e._uU(1),e.qZA()),2&K){const oe=e.oxw(2);e.xp6(1),e.hij(" ",oe.config.footer," ")}}const F=function(K,z,oe,Te){return{"p-dialog p-dynamic-dialog p-component":!0,"p-dialog-rtl":K,"p-dialog-resizable":z,"p-dialog-draggable":oe,"p-dialog-maximized":Te}},ce=function(K,z){return{transform:K,transition:z}},te=function(K){return{value:"visible",params:K}};function V(K,z){if(1&K){const oe=e.EpF();e.TgZ(0,"div",3,4),e.NdJ("@animation.start",function(Ae){e.CHM(oe);const Ke=e.oxw();return e.KtG(Ke.onAnimationStart(Ae))})("@animation.done",function(Ae){e.CHM(oe);const Ke=e.oxw();return e.KtG(Ke.onAnimationEnd(Ae))}),e.YNc(2,J,1,0,"div",5),e.YNc(3,D,7,3,"div",6),e.TgZ(4,"div",7,8),e.YNc(6,S,0,0,"ng-template",9),e.qZA(),e.YNc(7,U,2,1,"div",10),e.qZA()}if(2&K){const oe=e.oxw();e.Tol(oe.config.styleClass),e.Udp("width",oe.config.width)("height",oe.config.height),e.Q6J("ngClass",e.l5B(13,F,oe.config.rtl,oe.config.resizable,oe.config.draggable,oe.maximized))("ngStyle",oe.config.style)("@animation",e.VKq(21,te,e.WLB(18,ce,oe.transformOptions,oe.config.transitionOptions||"150ms cubic-bezier(0, 0, 0.2, 1)"))),e.xp6(2),e.Q6J("ngIf",oe.config.resizable),e.xp6(1),e.Q6J("ngIf",!1!==oe.config.showHeader),e.xp6(1),e.Q6J("ngStyle",oe.config.contentStyle),e.xp6(3),e.Q6J("ngIf",oe.config.footer)}}const k=function(K,z,oe,Te,Ae,Ke,be,Qe,X){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter p-dialog-mask-scrollblocker":K,"p-dialog-left":z,"p-dialog-right":oe,"p-dialog-top":Te,"p-dialog-bottom":Ae,"p-dialog-top-left":Ke,"p-dialog-top-right":be,"p-dialog-bottom-left":Qe,"p-dialog-bottom-right":X}};let O=(()=>{class K{constructor(oe){this.viewContainerRef=oe}}return K.\u0275fac=function(oe){return new(oe||K)(e.Y36(e.s_b))},K.\u0275dir=e.lG2({type:K,selectors:[["","pDynamicDialogContent",""]],hostAttrs:[1,"p-element"]}),K})();class ${}class ue{constructor(){this._onClose=new P.x,this.onClose=this._onClose.asObservable(),this._onDestroy=new P.x,this.onDestroy=this._onDestroy.asObservable(),this._onDragStart=new P.x,this.onDragStart=this._onDragStart.asObservable(),this._onDragEnd=new P.x,this.onDragEnd=this._onDragEnd.asObservable(),this._onResizeInit=new P.x,this.onResizeInit=this._onResizeInit.asObservable(),this._onResizeEnd=new P.x,this.onResizeEnd=this._onResizeEnd.asObservable(),this._onMaximize=new P.x,this.onMaximize=this._onMaximize.asObservable()}close(z){this._onClose.next(z)}destroy(){this._onDestroy.next(null)}dragStart(z){this._onDragStart.next(z)}dragEnd(z){this._onDragEnd.next(z)}resizeInit(z){this._onResizeInit.next(z)}resizeEnd(z){this._onResizeEnd.next(z)}maximize(z){this._onMaximize.next(z)}}const q=(0,a.oQ)([(0,a.oB)({transform:"{{transform}}",opacity:0}),(0,a.jt)("{{transition}}",(0,a.oB)({transform:"none",opacity:1}))]),Y=(0,a.oQ)([(0,a.jt)("{{transition}}",(0,a.oB)({transform:"{{transform}}",opacity:0}))]);let G=(()=>{class K{constructor(oe,Te,Ae,Ke,be,Qe,X){this.componentFactoryResolver=oe,this.cd=Te,this.renderer=Ae,this.config=Ke,this.dialogRef=be,this.zone=Qe,this.primeNGConfig=X,this.visible=!0,this._style={},this.transformOptions="scale(0.7)"}get minX(){return this.config.minX?this.config.minX:0}get minY(){return this.config.minY?this.config.minY:0}get keepInViewport(){return this.config.keepInViewport}get maximizable(){return this.config.maximizable}get maximizeIcon(){return this.config.maximizeIcon?this.config.maximizeIcon:"pi pi-window-maximize"}get minimizeIcon(){return this.config.minimizeIcon?this.config.minimizeIcon:"pi pi-window-minimize"}get style(){return this._style}get position(){return this.config.position}set style(oe){oe&&(this._style=Object.assign({},oe),this.originalStyle=oe)}ngAfterViewInit(){this.loadChildComponent(this.childComponentType),this.cd.detectChanges()}loadChildComponent(oe){var Te;let Ae=this.componentFactoryResolver.resolveComponentFactory(oe),Ke=null===(Te=this.insertionPoint)||void 0===Te?void 0:Te.viewContainerRef;null==Ke||Ke.clear(),this.componentRef=null==Ke?void 0:Ke.createComponent(Ae)}moveOnTop(){!1!==this.config.autoZIndex&&(_.P9.set("modal",this.container,(this.config.baseZIndex||0)+this.primeNGConfig.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}onAnimationStart(oe){switch(oe.toState){case"visible":this.container=oe.element,this.wrapper=this.container.parentElement,this.moveOnTop(),this.bindGlobalListeners(),!1!==this.config.modal&&this.enableModality(),this.focus();break;case"void":this.wrapper&&!1!==this.config.modal&&g.p.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(oe){"void"===oe.toState&&(this.onContainerDestroy(),this.dialogRef.destroy())}onContainerDestroy(){this.unbindGlobalListeners(),this.container&&!1!==this.config.autoZIndex&&_.P9.clear(this.container),!1!==this.config.modal&&this.disableModality(),this.container=null}close(){this.visible=!1,this.cd.markForCheck()}hide(){this.dialogRef&&this.dialogRef.close()}enableModality(){!1!==this.config.closable&&this.config.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",oe=>{this.wrapper&&this.wrapper.isSameNode(oe.target)&&this.hide()})),!1!==this.config.modal&&g.p.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.config.dismissableMask&&this.unbindMaskClickListener(),!1!==this.config.modal&&g.p.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}onKeydown(oe){if(9===oe.which){oe.preventDefault();let Te=g.p.getFocusableElements(this.container);if(Te&&Te.length>0)if(Te[0].ownerDocument.activeElement){let Ae=Te.indexOf(Te[0].ownerDocument.activeElement);oe.shiftKey?-1==Ae||0===Ae?Te[Te.length-1].focus():Te[Ae-1].focus():-1==Ae||Ae===Te.length-1?Te[0].focus():Te[Ae+1].focus()}else Te[0].focus()}}focus(){let oe=g.p.findSingle(this.container,"[autofocus]");oe&&this.zone.runOutsideAngular(()=>{setTimeout(()=>oe.focus(),5)})}maximize(){this.maximized=!this.maximized,this.maximized?g.p.addClass(document.body,"p-overflow-hidden"):g.p.removeClass(document.body,"p-overflow-hidden"),this.dialogRef.maximize({maximized:this.maximized})}initResize(oe){this.config.resizable&&(this.resizing=!0,this.lastPageX=oe.pageX,this.lastPageY=oe.pageY,g.p.addClass(document.body,"p-unselectable-text"),this.dialogRef.resizeInit(oe))}onResize(oe){if(this.resizing){let Te=oe.pageX-this.lastPageX,Ae=oe.pageY-this.lastPageY,Ke=g.p.getOuterWidth(this.container),be=g.p.getOuterHeight(this.container),Qe=g.p.getOuterHeight(this.contentViewChild.nativeElement),X=Ke+Te,xe=be+Ae,we=this.container.style.minWidth,Oe=this.container.style.minHeight,dt=this.container.getBoundingClientRect(),bt=g.p.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(X+=Te,xe+=Ae),(!we||X>parseInt(we))&&dt.left+X<bt.width&&(this._style.width=X+"px",this.container.style.width=this._style.width),(!Oe||xe>parseInt(Oe))&&dt.top+xe<bt.height&&(this.contentViewChild.nativeElement.style.height=Qe+xe-be+"px",this._style.height&&(this._style.height=xe+"px",this.container.style.height=this._style.height)),this.lastPageX=oe.pageX,this.lastPageY=oe.pageY}}resizeEnd(oe){this.resizing&&(this.resizing=!1,g.p.removeClass(document.body,"p-unselectable-text"),this.dialogRef.resizeEnd(oe))}initDrag(oe){g.p.hasClass(oe.target,"p-dialog-header-icon")||g.p.hasClass(oe.target.parentElement,"p-dialog-header-icon")||this.config.draggable&&(this.dragging=!0,this.lastPageX=oe.pageX,this.lastPageY=oe.pageY,this.container.style.margin="0",g.p.addClass(document.body,"p-unselectable-text"),this.dialogRef.dragStart(oe))}onDrag(oe){if(this.dragging){let Te=g.p.getOuterWidth(this.container),Ae=g.p.getOuterHeight(this.container),Ke=oe.pageX-this.lastPageX,be=oe.pageY-this.lastPageY,Qe=this.container.getBoundingClientRect(),X=Qe.left+Ke,xe=Qe.top+be,we=g.p.getViewport();this.container.style.position="fixed",this.keepInViewport?(X>=this.minX&&X+Te<we.width&&(this._style.left=X+"px",this.lastPageX=oe.pageX,this.container.style.left=X+"px"),xe>=this.minY&&xe+Ae<we.height&&(this._style.top=xe+"px",this.lastPageY=oe.pageY,this.container.style.top=xe+"px")):(this.lastPageX=oe.pageX,this.container.style.left=X+"px",this.lastPageY=oe.pageY,this.container.style.top=xe+"px")}}endDrag(oe){this.dragging&&(this.dragging=!1,g.p.removeClass(document.body,"p-unselectable-text"),this.dialogRef.dragEnd(oe),this.cd.detectChanges())}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindGlobalListeners(){this.bindDocumentKeydownListener(),!1!==this.config.closeOnEscape&&!1!==this.config.closable&&this.bindDocumentEscapeListener(),this.config.resizable&&this.bindDocumentResizeListeners(),this.config.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener())}unbindGlobalListeners(){this.unbindDocumentKeydownListener(),this.unbindDocumentEscapeListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener()}bindDocumentKeydownListener(){this.zone.runOutsideAngular(()=>{this.documentKeydownListener=this.onKeydown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener)})}unbindDocumentKeydownListener(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.maskViewChild?this.maskViewChild.nativeElement.ownerDocument:"document","keydown",Te=>{27==Te.which&&parseInt(this.container.style.zIndex)==_.P9.getCurrent()&&this.hide()})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}ngOnDestroy(){this.onContainerDestroy(),this.componentRef&&this.componentRef.destroy()}}return K.\u0275fac=function(oe){return new(oe||K)(e.Y36(e._Vd),e.Y36(e.sBO),e.Y36(e.Qsj),e.Y36($),e.Y36(ue),e.Y36(e.R0b),e.Y36(y.b4))},K.\u0275cmp=e.Xpm({type:K,selectors:[["p-dynamicDialog"]],viewQuery:function(oe,Te){if(1&oe&&(e.Gf(O,5),e.Gf(l,5),e.Gf(R,5),e.Gf(L,5)),2&oe){let Ae;e.iGM(Ae=e.CRH())&&(Te.insertionPoint=Ae.first),e.iGM(Ae=e.CRH())&&(Te.maskViewChild=Ae.first),e.iGM(Ae=e.CRH())&&(Te.contentViewChild=Ae.first),e.iGM(Ae=e.CRH())&&(Te.headerViewChild=Ae.first)}},hostAttrs:[1,"p-element"],decls:3,vars:14,consts:[[3,"ngClass"],["mask",""],["role","dialog",3,"ngClass","ngStyle","class","width","height",4,"ngIf"],["role","dialog",3,"ngClass","ngStyle"],["container",""],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[1,"p-dialog-content",3,"ngStyle"],["content",""],["pDynamicDialogContent",""],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],[1,"p-dialog-title"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon","pi","pi-times"],[1,"p-dialog-footer"]],template:function(oe,Te){1&oe&&(e.TgZ(0,"div",0,1),e.YNc(2,V,8,23,"div",2),e.qZA()),2&oe&&(e.Tol(Te.config.maskStyleClass),e.Q6J("ngClass",e.rFY(4,k,[!1!==Te.config.modal,"left"===Te.position,"right"===Te.position,"top"===Te.position,"bottom"===Te.position,"topleft"===Te.position||"top-left"===Te.position,"topright"===Te.position||"top-right"===Te.position,"bottomleft"===Te.position||"bottom-left"===Te.position,"bottomright"===Te.position||"bottom-right"===Te.position])),e.xp6(2),e.Q6J("ngIf",Te.visible))},dependencies:function(){return[f.mk,f.O5,f.PC,O]},styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,a.X$)("animation",[(0,a.eR)("void => visible",[(0,a._7)(q)]),(0,a.eR)("visible => void",[(0,a._7)(Y)])])]}}),K})(),he=(()=>{class K{}return K.\u0275fac=function(oe){return new(oe||K)},K.\u0275mod=e.oAB({type:K}),K.\u0275inj=e.cJS({imports:[f.ez]}),K})();class j{constructor(z,oe){this._parentInjector=z,this._additionalTokens=oe}get(z,oe,Te){return this._additionalTokens.get(z)||this._parentInjector.get(z,oe)}}let Q=(()=>{class K{constructor(oe,Te,Ae){this.componentFactoryResolver=oe,this.appRef=Te,this.injector=Ae,this.dialogComponentRefMap=new Map}open(oe,Te){const Ae=this.appendDialogComponentToBody(Te);return this.dialogComponentRefMap.get(Ae).instance.childComponentType=oe,Ae}appendDialogComponentToBody(oe){const Te=new WeakMap;Te.set($,oe);const Ae=new ue;Te.set(ue,Ae);const Ke=Ae.onClose.subscribe(()=>{this.dialogComponentRefMap.get(Ae).instance.close()}),be=Ae.onDestroy.subscribe(()=>{this.removeDialogComponentFromBody(Ae),be.unsubscribe(),Ke.unsubscribe()}),X=this.componentFactoryResolver.resolveComponentFactory(G).create(new j(this.injector,Te));return this.appRef.attachView(X.hostView),document.body.appendChild(X.hostView.rootNodes[0]),this.dialogComponentRefMap.set(Ae,X),Ae}removeDialogComponentFromBody(oe){if(!oe||!this.dialogComponentRefMap.has(oe))return;const Te=this.dialogComponentRefMap.get(oe);this.appRef.detachView(Te.hostView),Te.destroy(),this.dialogComponentRefMap.delete(oe)}}return K.\u0275fac=function(oe){return new(oe||K)(e.LFG(e._Vd),e.LFG(e.z2F),e.LFG(e.zs3))},K.\u0275prov=e.Yz7({token:K,factory:K.\u0275fac}),K})()},2537:(mn,ht,b)=>{"use strict";b.d(ht,{vy:()=>L,zz:()=>J});var e=b(5e3),a=b(9808),f=b(5730),g=b(1424),_=b(2382),P=b(9618);const y=["input"];function l(N,w){if(1&N){const x=e.EpF();e.TgZ(0,"i",3),e.NdJ("click",function(){e.CHM(x);const S=e.oxw();return e.KtG(S.clear())}),e.qZA()}}const R={provide:_.JU,useExisting:(0,e.Gpc)(()=>L),multi:!0};let L=(()=>{class N{constructor(x,D){this.el=x,this.cd=D,this.type="text",this.slotChar="_",this.autoClear=!0,this.showClear=!1,this.characterPattern="[A-Za-z]",this.onComplete=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onInput=new e.vpe,this.onKeydown=new e.vpe,this.onClear=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){let x=f.p.getUserAgent();this.androidChrome=/chrome/i.test(x)&&/android/i.test(x),this.initMask()}get mask(){return this._mask}set mask(x){this._mask=x,this.initMask(),this.writeValue(""),this.onModelChange(this.value)}initMask(){this.tests=[],this.partialPosition=this.mask.length,this.len=this.mask.length,this.firstNonMaskPos=null,this.defs={9:"[0-9]",a:this.characterPattern,"*":`${this.characterPattern}|[0-9]`};let x=this.mask.split("");for(let D=0;D<x.length;D++){let S=x[D];"?"==S?(this.len--,this.partialPosition=D):this.defs[S]?(this.tests.push(new RegExp(this.defs[S])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1),D<this.partialPosition&&(this.lastRequiredNonMaskPos=this.tests.length-1)):this.tests.push(null)}this.buffer=[];for(let D=0;D<x.length;D++){let S=x[D];"?"!=S&&this.buffer.push(this.defs[S]?this.getPlaceholder(D):S)}this.defaultBuffer=this.buffer.join("")}writeValue(x){this.value=x,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.value=null==this.value||null==this.value?"":this.value,this.checkVal(),this.focusText=this.inputViewChild.nativeElement.value,this.updateFilledState())}registerOnChange(x){this.onModelChange=x}registerOnTouched(x){this.onModelTouched=x}setDisabledState(x){this.disabled=x,this.cd.markForCheck()}caret(x,D){let S,U,F;if(this.inputViewChild.nativeElement.offsetParent&&this.inputViewChild.nativeElement===this.inputViewChild.nativeElement.ownerDocument.activeElement){if("number"!=typeof x)return this.inputViewChild.nativeElement.setSelectionRange?(U=this.inputViewChild.nativeElement.selectionStart,F=this.inputViewChild.nativeElement.selectionEnd):document.selection&&document.selection.createRange&&(S=document.selection.createRange(),U=0-S.duplicate().moveStart("character",-1e5),F=U+S.text.length),{begin:U,end:F};U=x,F="number"==typeof D?D:U,this.inputViewChild.nativeElement.setSelectionRange?this.inputViewChild.nativeElement.setSelectionRange(U,F):this.inputViewChild.nativeElement.createTextRange&&(S=this.inputViewChild.nativeElement.createTextRange(),S.collapse(!0),S.moveEnd("character",F),S.moveStart("character",U),S.select())}}isCompleted(){for(let D=this.firstNonMaskPos;D<=this.lastRequiredNonMaskPos;D++)if(this.tests[D]&&this.buffer[D]===this.getPlaceholder(D))return!1;return!0}getPlaceholder(x){return this.slotChar.charAt(x<this.slotChar.length?x:0)}seekNext(x){for(;++x<this.len&&!this.tests[x];);return x}seekPrev(x){for(;--x>=0&&!this.tests[x];);return x}shiftL(x,D){let S,U;if(!(x<0)){for(S=x,U=this.seekNext(D);S<this.len;S++)if(this.tests[S]){if(!(U<this.len&&this.tests[S].test(this.buffer[U])))break;this.buffer[S]=this.buffer[U],this.buffer[U]=this.getPlaceholder(U),U=this.seekNext(U)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,x))}}shiftR(x){let D,S,U,F;for(D=x,S=this.getPlaceholder(x);D<this.len;D++)if(this.tests[D]){if(U=this.seekNext(D),F=this.buffer[D],this.buffer[D]=S,!(U<this.len&&this.tests[U].test(F)))break;S=F}}handleAndroidInput(x){var D=this.inputViewChild.nativeElement.value,S=this.caret();if(this.oldVal&&this.oldVal.length&&this.oldVal.length>D.length){for(this.checkVal(!0);S.begin>0&&!this.tests[S.begin-1];)S.begin--;if(0===S.begin)for(;S.begin<this.firstNonMaskPos&&!this.tests[S.begin];)S.begin++;setTimeout(()=>{this.caret(S.begin,S.begin),this.updateModel(x),this.isCompleted()&&this.onComplete.emit()},0)}else{for(this.checkVal(!0);S.begin<this.len&&!this.tests[S.begin];)S.begin++;setTimeout(()=>{this.caret(S.begin,S.begin),this.updateModel(x),this.isCompleted()&&this.onComplete.emit()},0)}}onInputBlur(x){if(this.focused=!1,this.onModelTouched(),this.checkVal(),this.updateFilledState(),this.onBlur.emit(x),this.inputViewChild.nativeElement.value!=this.focusText||this.inputViewChild.nativeElement.value!=this.value){this.updateModel(x);let D=document.createEvent("HTMLEvents");D.initEvent("change",!0,!1),this.inputViewChild.nativeElement.dispatchEvent(D)}}onInputKeydown(x){if(this.readonly)return;let S,U,F,D=x.which||x.keyCode,ce=/iphone/i.test(f.p.getUserAgent());this.oldVal=this.inputViewChild.nativeElement.value,this.onKeydown.emit(x),8===D||46===D||ce&&127===D?(S=this.caret(),U=S.begin,F=S.end,F-U==0&&(U=46!==D?this.seekPrev(U):F=this.seekNext(U-1),F=46===D?this.seekNext(F):F),this.clearBuffer(U,F),this.shiftL(U,F-1),this.updateModel(x),this.onInput.emit(x),x.preventDefault()):13===D?(this.onInputBlur(x),this.updateModel(x)):27===D&&(this.inputViewChild.nativeElement.value=this.focusText,this.caret(0,this.checkVal()),this.updateModel(x),x.preventDefault())}onKeyPress(x){if(!this.readonly){var U,F,ce,te,D=x.which||x.keyCode,S=this.caret();x.ctrlKey||x.altKey||x.metaKey||D<32||D>34&&D<41||(D&&13!==D&&(S.end-S.begin!=0&&(this.clearBuffer(S.begin,S.end),this.shiftL(S.begin,S.end-1)),(U=this.seekNext(S.begin-1))<this.len&&(F=String.fromCharCode(D),this.tests[U].test(F)&&(this.shiftR(U),this.buffer[U]=F,this.writeBuffer(),ce=this.seekNext(U),/android/i.test(f.p.getUserAgent())?setTimeout(()=>{this.caret(ce)},0):this.caret(ce),S.begin<=this.lastRequiredNonMaskPos&&(te=this.isCompleted()),this.onInput.emit(x))),x.preventDefault()),this.updateModel(x),this.updateFilledState(),te&&this.onComplete.emit())}}clearBuffer(x,D){let S;for(S=x;S<D&&S<this.len;S++)this.tests[S]&&(this.buffer[S]=this.getPlaceholder(S))}writeBuffer(){this.inputViewChild.nativeElement.value=this.buffer.join("")}checkVal(x){let U,F,ce,D=this.inputViewChild.nativeElement.value,S=-1;for(U=0,ce=0;U<this.len;U++)if(this.tests[U]){for(this.buffer[U]=this.getPlaceholder(U);ce++<D.length;)if(F=D.charAt(ce-1),this.tests[U].test(F)){this.buffer[U]=F,S=U;break}if(ce>D.length){this.clearBuffer(U+1,this.len);break}}else this.buffer[U]===D.charAt(ce)&&ce++,U<this.partialPosition&&(S=U);return x?this.writeBuffer():S+1<this.partialPosition?this.autoClear||this.buffer.join("")===this.defaultBuffer?(this.inputViewChild.nativeElement.value&&(this.inputViewChild.nativeElement.value=""),this.clearBuffer(0,this.len)):this.writeBuffer():(this.writeBuffer(),this.inputViewChild.nativeElement.value=this.inputViewChild.nativeElement.value.substring(0,S+1)),this.partialPosition?U:this.firstNonMaskPos}onInputFocus(x){if(this.readonly)return;let D;this.focused=!0,clearTimeout(this.caretTimeoutId),this.focusText=this.inputViewChild.nativeElement.value,D=this.checkVal(),this.caretTimeoutId=setTimeout(()=>{this.inputViewChild.nativeElement===this.inputViewChild.nativeElement.ownerDocument.activeElement&&(this.writeBuffer(),D==this.mask.replace("?","").length?this.caret(0,D):this.caret(D))},10),this.onFocus.emit(x)}onInputChange(x){this.androidChrome?this.handleAndroidInput(x):this.handleInputChange(x),this.onInput.emit(x)}handleInputChange(x){this.readonly||setTimeout(()=>{var D=this.checkVal(!0);this.caret(D),this.updateModel(x),this.isCompleted()&&this.onComplete.emit()},0)}getUnmaskedValue(){let x=[];for(let D=0;D<this.buffer.length;D++){let S=this.buffer[D];this.tests[D]&&S!=this.getPlaceholder(D)&&x.push(S)}return x.join("")}updateModel(x){const D=this.unmask?this.getUnmaskedValue():x.target.value;(null!==D||void 0!==D)&&(this.value=D,this.onModelChange(this.value))}updateFilledState(){this.filled=this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}focus(){this.inputViewChild.nativeElement.focus()}clear(){this.inputViewChild.nativeElement.value="",this.value=null,this.onModelChange(this.value),this.onClear.emit()}}return N.\u0275fac=function(x){return new(x||N)(e.Y36(e.SBq),e.Y36(e.sBO))},N.\u0275cmp=e.Xpm({type:N,selectors:[["p-inputMask"]],viewQuery:function(x,D){if(1&x&&e.Gf(y,7),2&x){let S;e.iGM(S=e.CRH())&&(D.inputViewChild=S.first)}},hostAttrs:[1,"p-element"],hostVars:6,hostBindings:function(x,D){2&x&&e.ekj("p-inputwrapper-filled",D.filled)("p-inputwrapper-focus",D.focused)("p-inputmask-clearable",D.showClear&&!D.disabled)},inputs:{type:"type",slotChar:"slotChar",autoClear:"autoClear",showClear:"showClear",style:"style",inputId:"inputId",styleClass:"styleClass",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",disabled:"disabled",readonly:"readonly",unmask:"unmask",name:"name",required:"required",characterPattern:"characterPattern",autoFocus:"autoFocus",autocomplete:"autocomplete",mask:"mask"},outputs:{onComplete:"onComplete",onFocus:"onFocus",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClear:"onClear"},features:[e._Bn([R])],decls:3,vars:18,consts:[["pInputText","","pAutoFocus","",1,"p-inputmask",3,"ngStyle","ngClass","disabled","readonly","autofocus","focus","blur","keydown","keypress","input","paste"],["input",""],["class","p-inputmask-clear-icon pi pi-times",3,"click",4,"ngIf"],[1,"p-inputmask-clear-icon","pi","pi-times",3,"click"]],template:function(x,D){1&x&&(e.TgZ(0,"input",0,1),e.NdJ("focus",function(U){return D.onInputFocus(U)})("blur",function(U){return D.onInputBlur(U)})("keydown",function(U){return D.onInputKeydown(U)})("keypress",function(U){return D.onKeyPress(U)})("input",function(U){return D.onInputChange(U)})("paste",function(U){return D.handleInputChange(U)}),e.qZA(),e.YNc(2,l,1,0,"i",2)),2&x&&(e.Q6J("ngStyle",D.style)("ngClass",D.styleClass)("disabled",D.disabled)("readonly",D.readonly)("autofocus",D.autoFocus),e.uIk("id",D.inputId)("type",D.type)("name",D.name)("placeholder",D.placeholder)("title",D.title)("size",D.size)("autocomplete",D.autocomplete)("maxlength",D.maxlength)("tabindex",D.tabindex)("aria-label",D.ariaLabel)("aria-required",D.ariaRequired)("required",D.required),e.xp6(2),e.Q6J("ngIf",null!=D.value&&D.filled&&D.showClear&&!D.disabled))},dependencies:[a.mk,a.O5,a.PC,g.o,P.P],styles:[".p-inputmask-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputmask-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),N})(),J=(()=>{class N{}return N.\u0275fac=function(x){return new(x||N)},N.\u0275mod=e.oAB({type:N}),N.\u0275inj=e.cJS({imports:[a.ez,g.j,P.E]}),N})()},7010:(mn,ht,b)=>{"use strict";b.d(ht,{L$:()=>U,Rn:()=>S});var e=b(9808),a=b(5e3),f=b(2382),g=b(845),_=b(5730),P=b(1424);const y=["input"];function l(F,ce){if(1&F){const te=a.EpF();a.TgZ(0,"i",6),a.NdJ("click",function(){a.CHM(te);const k=a.oxw();return a.KtG(k.clear())}),a.qZA()}}const R=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},L=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function J(F,ce){if(1&F){const te=a.EpF();a.TgZ(0,"span",7)(1,"button",8),a.NdJ("mousedown",function(k){a.CHM(te);const O=a.oxw();return a.KtG(O.onUpButtonMouseDown(k))})("mouseup",function(){a.CHM(te);const k=a.oxw();return a.KtG(k.onUpButtonMouseUp())})("mouseleave",function(){a.CHM(te);const k=a.oxw();return a.KtG(k.onUpButtonMouseLeave())})("keydown",function(k){a.CHM(te);const O=a.oxw();return a.KtG(O.onUpButtonKeyDown(k))})("keyup",function(){a.CHM(te);const k=a.oxw();return a.KtG(k.onUpButtonKeyUp())}),a.qZA(),a.TgZ(2,"button",8),a.NdJ("mousedown",function(k){a.CHM(te);const O=a.oxw();return a.KtG(O.onDownButtonMouseDown(k))})("mouseup",function(){a.CHM(te);const k=a.oxw();return a.KtG(k.onDownButtonMouseUp())})("mouseleave",function(){a.CHM(te);const k=a.oxw();return a.KtG(k.onDownButtonMouseLeave())})("keydown",function(k){a.CHM(te);const O=a.oxw();return a.KtG(O.onDownButtonKeyDown(k))})("keyup",function(){a.CHM(te);const k=a.oxw();return a.KtG(k.onDownButtonKeyUp())}),a.qZA()()}if(2&F){const te=a.oxw();a.xp6(1),a.Tol(te.incrementButtonClass),a.Q6J("ngClass",a.DdM(10,R))("icon",te.incrementButtonIcon)("disabled",te.disabled),a.xp6(1),a.Tol(te.decrementButtonClass),a.Q6J("ngClass",a.DdM(11,L))("icon",te.decrementButtonIcon)("disabled",te.disabled)}}function N(F,ce){if(1&F){const te=a.EpF();a.TgZ(0,"button",8),a.NdJ("mousedown",function(k){a.CHM(te);const O=a.oxw();return a.KtG(O.onUpButtonMouseDown(k))})("mouseup",function(){a.CHM(te);const k=a.oxw();return a.KtG(k.onUpButtonMouseUp())})("mouseleave",function(){a.CHM(te);const k=a.oxw();return a.KtG(k.onUpButtonMouseLeave())})("keydown",function(k){a.CHM(te);const O=a.oxw();return a.KtG(O.onUpButtonKeyDown(k))})("keyup",function(){a.CHM(te);const k=a.oxw();return a.KtG(k.onUpButtonKeyUp())}),a.qZA()}if(2&F){const te=a.oxw();a.Tol(te.incrementButtonClass),a.Q6J("ngClass",a.DdM(5,R))("icon",te.incrementButtonIcon)("disabled",te.disabled)}}function w(F,ce){if(1&F){const te=a.EpF();a.TgZ(0,"button",8),a.NdJ("mousedown",function(k){a.CHM(te);const O=a.oxw();return a.KtG(O.onDownButtonMouseDown(k))})("mouseup",function(){a.CHM(te);const k=a.oxw();return a.KtG(k.onDownButtonMouseUp())})("mouseleave",function(){a.CHM(te);const k=a.oxw();return a.KtG(k.onDownButtonMouseLeave())})("keydown",function(k){a.CHM(te);const O=a.oxw();return a.KtG(O.onDownButtonKeyDown(k))})("keyup",function(){a.CHM(te);const k=a.oxw();return a.KtG(k.onDownButtonKeyUp())}),a.qZA()}if(2&F){const te=a.oxw();a.Tol(te.decrementButtonClass),a.Q6J("ngClass",a.DdM(5,L))("icon",te.decrementButtonIcon)("disabled",te.disabled)}}const x=function(F,ce,te){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":F,"p-inputnumber-buttons-horizontal":ce,"p-inputnumber-buttons-vertical":te}},D={provide:f.JU,useExisting:(0,a.Gpc)(()=>S),multi:!0};let S=(()=>{class F{constructor(te,V){this.el=te,this.cd=V,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.showClear=!1,this.onInput=new a.vpe,this.onFocus=new a.vpe,this.onBlur=new a.vpe,this.onKeyDown=new a.vpe,this.onClear=new a.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar=""}get disabled(){return this._disabled}set disabled(te){te&&(this.focused=!1),this._disabled=te,this.timer&&this.clearTimer()}ngOnChanges(te){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(k=>!!te[k])&&this.updateConstructParser()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const te=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),V=new Map(te.map((k,O)=>[k,O]));this._numeral=new RegExp(`[${te.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=k=>V.get(k)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(te){return te.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const te=new Intl.NumberFormat(this.locale,Object.assign(Object.assign({},this.getOptions()),{useGrouping:!1}));return new RegExp(`[${te.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const te=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=te.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const te=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${te.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const te=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${te.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const te=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=te.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const te=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=te.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(te){if(null!=te){if("-"===te)return te;if(this.format){let k=new Intl.NumberFormat(this.locale,this.getOptions()).format(te);return this.prefix&&(k=this.prefix+k),this.suffix&&(k+=this.suffix),k}return te.toString()}return""}parseValue(te){let V=te.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(V){if("-"===V)return V;let k=+V;return isNaN(k)?null:k}return null}repeat(te,V,k){if(this.readonly)return;let O=V||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(te,40,k)},O),this.spin(te,k)}spin(te,V){let k=this.step*V,O=this.parseValue(this.input.nativeElement.value)||0,$=this.validateValue(O+k);this.maxlength&&this.maxlength<this.formatValue($).length||(this.updateInput($,null,"spin",null),this.updateModel(te,$),this.handleOnInput(te,O,$))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(te){this.input.nativeElement.focus(),this.repeat(te,null,1),te.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(te){(32===te.keyCode||13===te.keyCode)&&this.repeat(te,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(te){this.input.nativeElement.focus(),this.repeat(te,null,-1),te.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(te){(32===te.keyCode||13===te.keyCode)&&this.repeat(te,null,-1)}onUserInput(te){this.readonly||(this.isSpecialChar&&(te.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(te){if(this.readonly)return;if(this.lastValue=te.target.value,te.shiftKey||te.altKey)return void(this.isSpecialChar=!0);let V=te.target.selectionStart,k=te.target.selectionEnd,O=te.target.value,$=null;switch(te.altKey&&te.preventDefault(),te.which){case 38:this.spin(te,1),te.preventDefault();break;case 40:this.spin(te,-1),te.preventDefault();break;case 37:this.isNumeralChar(O.charAt(V-1))||te.preventDefault();break;case 39:this.isNumeralChar(O.charAt(V))||te.preventDefault();break;case 13:$=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue($),this.input.nativeElement.setAttribute("aria-valuenow",$),this.updateModel(te,$);break;case 8:if(te.preventDefault(),V===k){const ue=O.charAt(V-1),{decimalCharIndex:q,decimalCharIndexWithoutPrefix:Y}=this.getDecimalCharIndexes(O);if(this.isNumeralChar(ue)){const G=this.getDecimalLength(O);if(this._group.test(ue))this._group.lastIndex=0,$=O.slice(0,V-2)+O.slice(V-1);else if(this._decimal.test(ue))this._decimal.lastIndex=0,G?this.input.nativeElement.setSelectionRange(V-1,V-1):$=O.slice(0,V-1)+O.slice(V);else if(q>0&&V>q){const he=this.isDecimalMode()&&(this.minFractionDigits||0)<G?"":"0";$=O.slice(0,V-1)+he+O.slice(V)}else 1===Y?($=O.slice(0,V-1)+"0"+O.slice(V),$=this.parseValue($)>0?$:""):$=O.slice(0,V-1)+O.slice(V)}this.updateValue(te,$,null,"delete-single")}else $=this.deleteRange(O,V,k),this.updateValue(te,$,null,"delete-range");break;case 46:if(te.preventDefault(),V===k){const ue=O.charAt(V),{decimalCharIndex:q,decimalCharIndexWithoutPrefix:Y}=this.getDecimalCharIndexes(O);if(this.isNumeralChar(ue)){const G=this.getDecimalLength(O);if(this._group.test(ue))this._group.lastIndex=0,$=O.slice(0,V)+O.slice(V+2);else if(this._decimal.test(ue))this._decimal.lastIndex=0,G?this.input.nativeElement.setSelectionRange(V+1,V+1):$=O.slice(0,V)+O.slice(V+1);else if(q>0&&V>q){const he=this.isDecimalMode()&&(this.minFractionDigits||0)<G?"":"0";$=O.slice(0,V)+he+O.slice(V+1)}else 1===Y?($=O.slice(0,V)+"0"+O.slice(V+1),$=this.parseValue($)>0?$:""):$=O.slice(0,V)+O.slice(V+1)}this.updateValue(te,$,null,"delete-back-single")}else $=this.deleteRange(O,V,k),this.updateValue(te,$,null,"delete-range")}this.onKeyDown.emit(te)}onInputKeyPress(te){if(this.readonly)return;let V=te.which||te.keyCode,k=String.fromCharCode(V);const O=this.isDecimalSign(k),$=this.isMinusSign(k);13!=V&&te.preventDefault(),(48<=V&&V<=57||$||O)&&this.insert(te,k,{isDecimalSign:O,isMinusSign:$})}onPaste(te){if(!this.disabled&&!this.readonly){te.preventDefault();let V=(te.clipboardData||window.clipboardData).getData("Text");if(V){let k=this.parseValue(V);null!=k&&this.insert(te,k.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign(te){return!(!this._minusSign.test(te)&&"-"!==te||(this._minusSign.lastIndex=0,0))}isDecimalSign(te){return!!this._decimal.test(te)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes(te){let V=te.search(this._decimal);this._decimal.lastIndex=0;const O=te.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:V,decimalCharIndexWithoutPrefix:O}}getCharIndexes(te){const V=te.search(this._decimal);this._decimal.lastIndex=0;const k=te.search(this._minusSign);this._minusSign.lastIndex=0;const O=te.search(this._suffix);this._suffix.lastIndex=0;const $=te.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:V,minusCharIndex:k,suffixCharIndex:O,currencyCharIndex:$}}insert(te,V,k={isDecimalSign:!1,isMinusSign:!1}){const O=V.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==O)return;let $=this.input.nativeElement.selectionStart,ue=this.input.nativeElement.selectionEnd,q=this.input.nativeElement.value.trim();const{decimalCharIndex:Y,minusCharIndex:G,suffixCharIndex:he,currencyCharIndex:j}=this.getCharIndexes(q);let Q;if(k.isMinusSign)0===$&&(Q=q,(-1===G||0!==ue)&&(Q=this.insertText(q,V,0,ue)),this.updateValue(te,Q,V,"insert"));else if(k.isDecimalSign)Y>0&&$===Y?this.updateValue(te,q,V,"insert"):(Y>$&&Y<ue||-1===Y&&this.maxFractionDigits)&&(Q=this.insertText(q,V,$,ue),this.updateValue(te,Q,V,"insert"));else{const K=this.numberFormat.resolvedOptions().maximumFractionDigits,z=$!==ue?"range-insert":"insert";if(Y>0&&$>Y){if($+V.length-(Y+1)<=K){const oe=j>=$?j-1:he>=$?he:q.length;Q=q.slice(0,$)+V+q.slice($+V.length,oe)+q.slice(oe),this.updateValue(te,Q,V,z)}}else Q=this.insertText(q,V,$,ue),this.updateValue(te,Q,V,z)}}insertText(te,V,k,O){if(2===("."===V?V:V.split(".")).length){const ue=te.slice(k,O).search(this._decimal);return this._decimal.lastIndex=0,ue>0?te.slice(0,k)+this.formatValue(V)+te.slice(O):te||this.formatValue(V)}return O-k===te.length?this.formatValue(V):0===k?V+te.slice(O):O===te.length?te.slice(0,k)+V:te.slice(0,k)+V+te.slice(O)}deleteRange(te,V,k){let O;return O=k-V===te.length?"":0===V?te.slice(k):k===te.length?te.slice(0,V):te.slice(0,V)+te.slice(k),O}initCursor(){let te=this.input.nativeElement.selectionStart,V=this.input.nativeElement.value,k=V.length,O=null,$=(this.prefixChar||"").length;V=V.replace(this._prefix,""),te-=$;let ue=V.charAt(te);if(this.isNumeralChar(ue))return te+$;let q=te-1;for(;q>=0;){if(ue=V.charAt(q),this.isNumeralChar(ue)){O=q+$;break}q--}if(null!==O)this.input.nativeElement.setSelectionRange(O+1,O+1);else{for(q=te;q<k;){if(ue=V.charAt(q),this.isNumeralChar(ue)){O=q+$;break}q++}null!==O&&this.input.nativeElement.setSelectionRange(O,O)}return O||0}onInputClick(){!this.readonly&&this.input.nativeElement.value!==_.p.getSelection()&&this.initCursor()}isNumeralChar(te){return!(1!==te.length||!(this._numeral.test(te)||this._decimal.test(te)||this._group.test(te)||this._minusSign.test(te))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(te,V,k,O){let $=this.input.nativeElement.value,ue=null;null!=V&&(ue=this.parseValue(V),ue=ue||this.allowEmpty?ue:0,this.updateInput(ue,k,O,V),this.handleOnInput(te,$,ue))}handleOnInput(te,V,k){this.isValueChanged(V,k)&&this.onInput.emit({originalEvent:te,value:k,formattedValue:V})}isValueChanged(te,V){return null===V&&null!==te||null!=V&&V!==("string"==typeof te?this.parseValue(te):te)}validateValue(te){return"-"===te||null==te?null:null!=this.min&&te<this.min?this.min:null!=this.max&&te>this.max?this.max:te}updateInput(te,V,k,O){V=V||"";let $=this.input.nativeElement.value,ue=this.formatValue(te),q=$.length;if(ue!==O&&(ue=this.concatValues(ue,O)),0===q){this.input.nativeElement.value=ue,this.input.nativeElement.setSelectionRange(0,0);const G=this.initCursor()+V.length;this.input.nativeElement.setSelectionRange(G,G)}else{let Y=this.input.nativeElement.selectionStart,G=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<ue.length)return;this.input.nativeElement.value=ue;let he=ue.length;if("range-insert"===k){const j=this.parseValue(($||"").slice(0,Y)),K=(null!==j?j.toString():"").split("").join(`(${this.groupChar})?`),z=new RegExp(K,"g");z.test(ue);const oe=V.split("").join(`(${this.groupChar})?`),Te=new RegExp(oe,"g");Te.test(ue.slice(z.lastIndex)),G=z.lastIndex+Te.lastIndex,this.input.nativeElement.setSelectionRange(G,G)}else if(he===q)"insert"===k||"delete-back-single"===k?this.input.nativeElement.setSelectionRange(G+1,G+1):"delete-single"===k?this.input.nativeElement.setSelectionRange(G-1,G-1):("delete-range"===k||"spin"===k)&&this.input.nativeElement.setSelectionRange(G,G);else if("delete-back-single"===k){let j=$.charAt(G-1),Q=$.charAt(G),K=q-he,z=this._group.test(Q);z&&1===K?G+=1:!z&&this.isNumeralChar(j)&&(G+=-1*K+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(G,G)}else if("-"===$&&"insert"===k){this.input.nativeElement.setSelectionRange(0,0);const Q=this.initCursor()+V.length+1;this.input.nativeElement.setSelectionRange(Q,Q)}else G+=he-q,this.input.nativeElement.setSelectionRange(G,G)}this.input.nativeElement.setAttribute("aria-valuenow",te)}concatValues(te,V){if(te&&V){let k=V.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?te.replace(this.suffixChar,"").split(this._decimal)[0]+V.replace(this.suffixChar,"").slice(k)+this.suffixChar:-1!==k?te.split(this._decimal)[0]+V.slice(k):te}return te}getDecimalLength(te){if(te){const V=te.split(this._decimal);if(2===V.length)return V[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(te){this.focused=!0,this.onFocus.emit(te)}onInputBlur(te){this.focused=!1;let V=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(V),this.input.nativeElement.setAttribute("aria-valuenow",V),this.updateModel(te,V),this.onBlur.emit(te)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel(te,V){this.value!==V&&(this.value=V,this.onModelChange(V)),this.onModelTouched()}writeValue(te){this.value=te,this.cd.markForCheck()}registerOnChange(te){this.onModelChange=te}registerOnTouched(te){this.onModelTouched=te}setDisabledState(te){this.disabled=te,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return F.\u0275fac=function(te){return new(te||F)(a.Y36(a.SBq),a.Y36(a.sBO))},F.\u0275cmp=a.Xpm({type:F,selectors:[["p-inputNumber"]],viewQuery:function(te,V){if(1&te&&a.Gf(y,5),2&te){let k;a.iGM(k=a.CRH())&&(V.input=k.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(te,V){2&te&&a.ekj("p-inputwrapper-filled",V.filled)("p-inputwrapper-focus",V.focused)("p-inputnumber-clearable",V.showClear&&"vertical"!=V.buttonLayout)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:"showClear",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[a._Bn([D]),a.TTD],decls:7,vars:32,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-clear-icon","pi","pi-times",3,"click"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(te,V){1&te&&(a.TgZ(0,"span",0)(1,"input",1,2),a.NdJ("input",function(O){return V.onUserInput(O)})("keydown",function(O){return V.onInputKeyDown(O)})("keypress",function(O){return V.onInputKeyPress(O)})("paste",function(O){return V.onPaste(O)})("click",function(){return V.onInputClick()})("focus",function(O){return V.onInputFocus(O)})("blur",function(O){return V.onInputBlur(O)}),a.qZA(),a.YNc(3,l,1,0,"i",3),a.YNc(4,J,3,12,"span",4),a.YNc(5,N,1,6,"button",5),a.YNc(6,w,1,6,"button",5),a.qZA()),2&te&&(a.Tol(V.styleClass),a.Q6J("ngClass",a.kEZ(28,x,V.showButtons&&"stacked"===V.buttonLayout,V.showButtons&&"horizontal"===V.buttonLayout,V.showButtons&&"vertical"===V.buttonLayout))("ngStyle",V.style),a.xp6(1),a.Tol(V.inputStyleClass),a.Q6J("ngClass","p-inputnumber-input")("ngStyle",V.inputStyle)("value",V.formattedValue())("disabled",V.disabled)("readonly",V.readonly),a.uIk("placeholder",V.placeholder)("title",V.title)("id",V.inputId)("size",V.size)("name",V.name)("autocomplete",V.autocomplete)("maxlength",V.maxlength)("tabindex",V.tabindex)("aria-label",V.ariaLabel)("aria-required",V.ariaRequired)("required",V.required)("min",V.min)("max",V.max),a.xp6(2),a.Q6J("ngIf","vertical"!=V.buttonLayout&&V.showClear&&V.value),a.xp6(1),a.Q6J("ngIf",V.showButtons&&"stacked"===V.buttonLayout),a.xp6(1),a.Q6J("ngIf",V.showButtons&&"stacked"!==V.buttonLayout),a.xp6(1),a.Q6J("ngIf",V.showButtons&&"stacked"!==V.buttonLayout))},dependencies:[e.mk,e.O5,e.PC,P.o,g.Hq],styles:["p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),F})(),U=(()=>{class F{}return F.\u0275fac=function(te){return new(te||F)},F.\u0275mod=a.oAB({type:F}),F.\u0275inj=a.cJS({imports:[e.ez,P.j,g.hJ]}),F})()},242:(mn,ht,b)=>{"use strict";b.d(ht,{Iu:()=>y,Ql:()=>P});var e=b(5e3),a=b(9808),f=b(2382);const g=function(l,R,L){return{"p-inputswitch p-component":!0,"p-inputswitch-checked":l,"p-disabled":R,"p-focus":L}},_={provide:f.JU,useExisting:(0,e.Gpc)(()=>P),multi:!0};let P=(()=>{class l{constructor(L){this.cd=L,this.trueValue=!0,this.falseValue=!1,this.onChange=new e.vpe,this.modelValue=!1,this.focused=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(L,J){!this.disabled&&!this.readonly&&(L.preventDefault(),this.toggle(L),J.focus())}onInputChange(L){this.readonly||this.updateModel(L,L.target.checked)}toggle(L){this.updateModel(L,!this.checked())}updateModel(L,J){this.modelValue=J?this.trueValue:this.falseValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:L,checked:this.modelValue})}onFocus(L){this.focused=!0}onBlur(L){this.focused=!1,this.onModelTouched()}writeValue(L){this.modelValue=L,this.cd.markForCheck()}registerOnChange(L){this.onModelChange=L}registerOnTouched(L){this.onModelTouched=L}setDisabledState(L){this.disabled=L,this.cd.markForCheck()}checked(){return this.modelValue===this.trueValue}}return l.\u0275fac=function(L){return new(L||l)(e.Y36(e.sBO))},l.\u0275cmp=e.Xpm({type:l,selectors:[["p-inputSwitch"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:"tabindex",inputId:"inputId",name:"name",disabled:"disabled",readonly:"readonly",trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onChange:"onChange"},features:[e._Bn([_])],decls:5,vars:16,consts:[[3,"ngClass","ngStyle","click"],[1,"p-hidden-accessible"],["type","checkbox","role","switch",3,"checked","disabled","change","focus","blur"],["cb",""],[1,"p-inputswitch-slider"]],template:function(L,J){if(1&L){const N=e.EpF();e.TgZ(0,"div",0),e.NdJ("click",function(x){e.CHM(N);const D=e.MAs(3);return e.KtG(J.onClick(x,D))}),e.TgZ(1,"div",1)(2,"input",2,3),e.NdJ("change",function(x){return J.onInputChange(x)})("focus",function(x){return J.onFocus(x)})("blur",function(x){return J.onBlur(x)}),e.qZA()(),e._UZ(4,"span",4),e.qZA()}2&L&&(e.Tol(J.styleClass),e.Q6J("ngClass",e.kEZ(12,g,J.checked(),J.disabled,J.focused))("ngStyle",J.style),e.xp6(2),e.Q6J("checked",J.checked())("disabled",J.disabled),e.uIk("aria-label",J.ariaLabel)("id",J.inputId)("name",J.name)("tabindex",J.tabindex)("aria-checked",J.checked())("aria-labelledby",J.ariaLabelledBy))},dependencies:[a.mk,a.PC],styles:['.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;inset:0}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}\n'],encapsulation:2,changeDetection:0}),l})(),y=(()=>{class l{}return l.\u0275fac=function(L){return new(L||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[a.ez]}),l})()},1424:(mn,ht,b)=>{"use strict";b.d(ht,{j:()=>_,o:()=>g});var e=b(5e3),a=b(9808),f=b(2382);let g=(()=>{class P{constructor(l,R,L){this.el=l,this.ngModel=R,this.cd=L}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(l){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return P.\u0275fac=function(l){return new(l||P)(e.Y36(e.SBq),e.Y36(f.On,8),e.Y36(e.sBO))},P.\u0275dir=e.lG2({type:P,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(l,R){1&l&&e.NdJ("input",function(J){return R.onInput(J)}),2&l&&e.ekj("p-filled",R.filled)}}),P})(),_=(()=>{class P{}return P.\u0275fac=function(l){return new(l||P)},P.\u0275mod=e.oAB({type:P}),P.\u0275inj=e.cJS({imports:[a.ez]}),P})()},3407:(mn,ht,b)=>{"use strict";b.d(ht,{A:()=>_,g:()=>g});var e=b(5e3),a=b(9808),f=b(2382);let g=(()=>{class P{constructor(l,R,L,J){this.el=l,this.ngModel=R,this.control=L,this.cd=J,this.onResize=new e.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(l){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(l){this.autoResize&&this.resize(l)}onBlur(l){this.autoResize&&this.resize(l)}resize(l){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(l||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return P.\u0275fac=function(l){return new(l||P)(e.Y36(e.SBq),e.Y36(f.On,8),e.Y36(f.a5,8),e.Y36(e.sBO))},P.\u0275dir=e.lG2({type:P,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(l,R){1&l&&e.NdJ("input",function(J){return R.onInput(J)})("focus",function(J){return R.onFocus(J)})("blur",function(J){return R.onBlur(J)}),2&l&&e.ekj("p-filled",R.filled)("p-inputtextarea-resizable",R.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),P})(),_=(()=>{class P{}return P.\u0275fac=function(l){return new(l||P)},P.\u0275mod=e.oAB({type:P}),P.\u0275inj=e.cJS({imports:[a.ez]}),P})()},657:(mn,ht,b)=>{"use strict";b.d(ht,{Fr:()=>R,kK:()=>L});var e=b(5e3),a=b(9808),f=b(5730);const _={provide:b(2382).Cf,useExisting:(0,e.Gpc)(()=>R),multi:!0},P={pint:/[\d]/,int:/[\d\-]/,pnum:/[\d\.]/,money:/[\d\.\s,]/,num:/[\d\-\.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_\.\-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/i},l={63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35};let R=(()=>{class J{constructor(w){this.el=w,this.ngModelChange=new e.vpe,this.isAndroid=f.p.isAndroid()}get pattern(){return this._pattern}set pattern(w){this._pattern=w,this.regex=P[this._pattern]||this._pattern}isNavKeyPress(w){let x=w.keyCode;return x=f.p.getBrowser().safari&&l[x]||x,x>=33&&x<=40||13==x||9==x||27==x}isSpecialKey(w){let x=w.keyCode||w.charCode;return 9==x||13==x||27==x||16==x||17==x||x>=18&&x<=20||f.p.getBrowser().opera&&!w.shiftKey&&(8==x||x>=33&&x<=35||x>=36&&x<=39||x>=44&&x<=45)}getKey(w){let x=w.keyCode||w.charCode;return f.p.getBrowser().safari&&l[x]||x}getCharCode(w){return w.charCode||w.keyCode||w.which}findDelta(w,x){let D="";for(let S=0;S<w.length;S++)w.substr(0,S)+w.substr(S+w.length-x.length)===x&&(D=w.substr(S,w.length-x.length));return D}isValidChar(w){return this.regex.test(w)}isValidString(w){for(let x=0;x<w.length;x++)if(!this.isValidChar(w.substr(x,1)))return!1;return!0}onInput(w){if(this.isAndroid&&!this.pValidateOnly){let x=this.el.nativeElement.value,D=this.lastValue||"",S=this.findDelta(x,D),U=this.findDelta(D,x);S.length>1||!S&&!U?this.isValidString(x)||(this.el.nativeElement.value=D,this.ngModelChange.emit(D)):U||this.isValidChar(S)||(this.el.nativeElement.value=D,this.ngModelChange.emit(D)),x=this.el.nativeElement.value,this.isValidString(x)&&(this.lastValue=x)}}onKeyPress(w){if(this.isAndroid||this.pValidateOnly)return;let x=f.p.getBrowser(),D=this.getKey(w);if(x.mozilla&&(w.ctrlKey||w.altKey))return;if(17==D||18==D)return;let S=this.getCharCode(w),U=String.fromCharCode(S),F=!0;!x.mozilla&&(this.isSpecialKey(w)||!U)||(F=this.regex.test(U),F||w.preventDefault())}onPaste(w){const x=w.clipboardData||window.clipboardData.getData("text");if(x){const D=x.getData("text");for(let S of D.toString())if(!this.regex.test(S))return void w.preventDefault()}}validate(w){if(this.pValidateOnly){let x=this.el.nativeElement.value;if(x&&!this.regex.test(x))return{validatePattern:!1}}}}return J.\u0275fac=function(w){return new(w||J)(e.Y36(e.SBq))},J.\u0275dir=e.lG2({type:J,selectors:[["","pKeyFilter",""]],hostAttrs:[1,"p-element"],hostBindings:function(w,x){1&w&&e.NdJ("input",function(S){return x.onInput(S)})("keypress",function(S){return x.onKeyPress(S)})("paste",function(S){return x.onPaste(S)})},inputs:{pValidateOnly:"pValidateOnly",pattern:["pKeyFilter","pattern"]},outputs:{ngModelChange:"ngModelChange"},features:[e._Bn([_])]}),J})(),L=(()=>{class J{}return J.\u0275fac=function(w){return new(w||J)},J.\u0275mod=e.oAB({type:J}),J.\u0275inj=e.cJS({imports:[a.ez]}),J})()},5055:(mn,ht,b)=>{"use strict";b.d(ht,{ON:()=>Ut,Ri:()=>Ht});var e=b(5e3),a=b(9808),f=b(9783),g=b(5730),_=b(5921),P=b(2382),y=b(5787);const l=["headerchkbox"],R=["filter"];function L(ct,at){1&ct&&e.GkF(0)}function J(ct,at){if(1&ct&&(e.TgZ(0,"div",7),e.Hsn(1),e.YNc(2,L,1,0,"ng-container",8),e.qZA()),2&ct){const fe=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",fe.headerTemplate)}}const N=function(ct){return{"p-checkbox-disabled":ct}},w=function(ct,at,fe){return{"p-highlight":ct,"p-focus":at,"p-disabled":fe}},x=function(ct){return{"pi pi-check":ct}};function D(ct,at){if(1&ct){const fe=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"input",14),e.NdJ("focus",function(){e.CHM(fe);const ot=e.oxw(2);return e.KtG(ot.onHeaderCheckboxFocus())})("blur",function(){e.CHM(fe);const ot=e.oxw(2);return e.KtG(ot.onHeaderCheckboxBlur())})("keydown.space",function(ot){e.CHM(fe);const Ct=e.oxw(2);return e.KtG(Ct.toggleAll(ot))}),e.qZA()(),e.TgZ(3,"div",15,16),e.NdJ("click",function(ot){e.CHM(fe);const Ct=e.oxw(2);return e.KtG(Ct.toggleAll(ot))}),e._UZ(5,"span",17),e.qZA()()}if(2&ct){const fe=e.oxw(2);e.Q6J("ngClass",e.VKq(5,N,fe.disabled||fe.toggleAllDisabled)),e.xp6(2),e.Q6J("checked",fe.allChecked)("disabled",fe.disabled||fe.toggleAllDisabled),e.xp6(1),e.Q6J("ngClass",e.kEZ(7,w,fe.allChecked,fe.headerCheckboxFocus,fe.disabled||fe.toggleAllDisabled)),e.xp6(2),e.Q6J("ngClass",e.VKq(11,x,fe.allChecked))}}function S(ct,at){1&ct&&e.GkF(0)}const U=function(ct){return{options:ct}};function F(ct,at){if(1&ct&&(e.ynx(0),e.YNc(1,S,1,0,"ng-container",18),e.BQk()),2&ct){const fe=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",fe.filterTemplate)("ngTemplateOutletContext",e.VKq(2,U,fe.filterOptions))}}function ce(ct,at){if(1&ct){const fe=e.EpF();e.TgZ(0,"div",20)(1,"input",21,22),e.NdJ("input",function(ot){e.CHM(fe);const Ct=e.oxw(3);return e.KtG(Ct.onFilter(ot))}),e.qZA(),e._UZ(3,"span",23),e.qZA()}if(2&ct){const fe=e.oxw(3);e.xp6(1),e.Q6J("value",fe.filterValue||"")("disabled",fe.disabled),e.uIk("placeholder",fe.filterPlaceHolder)("aria-label",fe.ariaFilterLabel)}}function te(ct,at){if(1&ct&&e.YNc(0,ce,4,4,"div",19),2&ct){const fe=e.oxw(2);e.Q6J("ngIf",fe.filter)}}function V(ct,at){if(1&ct&&(e.TgZ(0,"div",7),e.YNc(1,D,6,13,"div",9),e.YNc(2,F,2,4,"ng-container",10),e.YNc(3,te,1,1,"ng-template",null,11,e.W1O),e.qZA()),2&ct){const fe=e.MAs(4),ke=e.oxw();e.xp6(1),e.Q6J("ngIf",ke.checkbox&&ke.multiple&&ke.showToggleAll),e.xp6(1),e.Q6J("ngIf",ke.filterTemplate)("ngIfElse",fe)}}function k(ct,at){if(1&ct&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&ct){const fe=e.oxw().$implicit,ke=e.oxw(2);e.xp6(1),e.Oqu(ke.getOptionGroupLabel(fe)||"empty")}}function O(ct,at){1&ct&&e.GkF(0)}function $(ct,at){1&ct&&e.GkF(0)}const ue=function(ct){return{$implicit:ct}};function q(ct,at){if(1&ct&&(e.TgZ(0,"li",25),e.YNc(1,k,2,1,"span",3),e.YNc(2,O,1,0,"ng-container",18),e.qZA(),e.YNc(3,$,1,0,"ng-container",18)),2&ct){const fe=at.$implicit,ke=e.oxw(2),ot=e.MAs(8);e.xp6(1),e.Q6J("ngIf",!ke.groupTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",ke.groupTemplate)("ngTemplateOutletContext",e.VKq(5,ue,fe)),e.xp6(1),e.Q6J("ngTemplateOutlet",ot)("ngTemplateOutletContext",e.VKq(7,ue,ke.getOptionGroupChildren(fe)))}}function Y(ct,at){if(1&ct&&(e.ynx(0),e.YNc(1,q,4,9,"ng-template",24),e.BQk()),2&ct){const fe=e.oxw();e.xp6(1),e.Q6J("ngForOf",fe.optionsToRender)}}function G(ct,at){1&ct&&e.GkF(0)}function he(ct,at){if(1&ct&&(e.ynx(0),e.YNc(1,G,1,0,"ng-container",18),e.BQk()),2&ct){const fe=e.oxw(),ke=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",ke)("ngTemplateOutletContext",e.VKq(2,ue,fe.optionsToRender))}}const j=function(ct){return{"p-highlight":ct}};function Q(ct,at){if(1&ct&&(e.TgZ(0,"div",12)(1,"div",28),e._UZ(2,"span",17),e.qZA()()),2&ct){const fe=e.oxw().$implicit,ke=e.oxw(2);e.Q6J("ngClass",e.VKq(3,N,ke.disabled||ke.isOptionDisabled(fe))),e.xp6(1),e.Q6J("ngClass",e.VKq(5,j,ke.isSelected(fe))),e.xp6(1),e.Q6J("ngClass",e.VKq(7,x,ke.isSelected(fe)))}}function K(ct,at){if(1&ct&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&ct){const fe=e.oxw().$implicit,ke=e.oxw(2);e.xp6(1),e.Oqu(ke.getOptionLabel(fe))}}function z(ct,at){1&ct&&e.GkF(0)}const oe=function(ct,at){return{"p-listbox-item":!0,"p-highlight":ct,"p-disabled":at}},Te=function(ct,at){return{$implicit:ct,index:at}};function Ae(ct,at){if(1&ct){const fe=e.EpF();e.TgZ(0,"li",27),e.NdJ("click",function(ot){const Ot=e.CHM(fe).$implicit,Nt=e.oxw(2);return e.KtG(Nt.onOptionClick(ot,Ot))})("dblclick",function(ot){const Ot=e.CHM(fe).$implicit,Nt=e.oxw(2);return e.KtG(Nt.onOptionDoubleClick(ot,Ot))})("touchend",function(){const Ct=e.CHM(fe).$implicit,Ot=e.oxw(2);return e.KtG(Ot.onOptionTouchEnd(Ct))})("keydown",function(ot){const Ot=e.CHM(fe).$implicit,Nt=e.oxw(2);return e.KtG(Nt.onOptionKeyDown(ot,Ot))}),e.YNc(1,Q,3,9,"div",9),e.YNc(2,K,2,1,"span",3),e.YNc(3,z,1,0,"ng-container",18),e.qZA()}if(2&ct){const fe=at.$implicit,ke=at.index,ot=e.oxw(2);e.Q6J("ngClass",e.WLB(8,oe,ot.isSelected(fe),ot.isOptionDisabled(fe))),e.uIk("tabindex",ot.disabled||ot.isOptionDisabled(fe)?null:"0")("aria-label",ot.getOptionLabel(fe))("aria-selected",ot.isSelected(fe)),e.xp6(1),e.Q6J("ngIf",ot.checkbox&&ot.multiple),e.xp6(1),e.Q6J("ngIf",!ot.itemTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",ot.itemTemplate)("ngTemplateOutletContext",e.WLB(11,Te,fe,ke))}}function Ke(ct,at){1&ct&&e.YNc(0,Ae,4,14,"li",26),2&ct&&e.Q6J("ngForOf",at.$implicit)}function be(ct,at){if(1&ct&&(e.ynx(0),e._uU(1),e.BQk()),2&ct){const fe=e.oxw(2);e.xp6(1),e.hij(" ",fe.emptyFilterMessageLabel," ")}}function Qe(ct,at){1&ct&&e.GkF(0,null,30)}function X(ct,at){if(1&ct&&(e.TgZ(0,"li",29),e.YNc(1,be,2,1,"ng-container",10),e.YNc(2,Qe,2,0,"ng-container",8),e.qZA()),2&ct){const fe=e.oxw();e.xp6(1),e.Q6J("ngIf",!fe.emptyFilterTemplate&&!fe.emptyTemplate)("ngIfElse",fe.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",fe.emptyFilterTemplate||fe.emptyTemplate)}}function xe(ct,at){if(1&ct&&(e.ynx(0),e._uU(1),e.BQk()),2&ct){const fe=e.oxw(2);e.xp6(1),e.hij(" ",fe.emptyMessageLabel," ")}}function we(ct,at){1&ct&&e.GkF(0,null,31)}function Oe(ct,at){if(1&ct&&(e.TgZ(0,"li",29),e.YNc(1,xe,2,1,"ng-container",10),e.YNc(2,we,2,0,"ng-container",8),e.qZA()),2&ct){const fe=e.oxw();e.xp6(1),e.Q6J("ngIf",!fe.emptyTemplate)("ngIfElse",fe.empty),e.xp6(1),e.Q6J("ngTemplateOutlet",fe.emptyTemplate)}}function dt(ct,at){1&ct&&e.GkF(0)}function bt(ct,at){if(1&ct&&(e.TgZ(0,"div",32),e.Hsn(1,1),e.YNc(2,dt,1,0,"ng-container",8),e.qZA()),2&ct){const fe=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",fe.footerTemplate)}}const it=[[["p-header"]],[["p-footer"]]],Dt=function(ct){return{"p-listbox p-component":!0,"p-disabled":ct}},vt=["p-header","p-footer"],Gt={provide:P.JU,useExisting:(0,e.Gpc)(()=>Ht),multi:!0};let Ht=(()=>{class ct{constructor(fe,ke,ot,Ct){this.el=fe,this.cd=ke,this.filterService=ot,this.config=Ct,this.checkbox=!1,this.filter=!1,this.filterMatchMode="contains",this.metaKeySelection=!0,this.showToggleAll=!0,this.optionGroupChildren="items",this.onChange=new e.vpe,this.onClick=new e.vpe,this.onDblClick=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get options(){return this._options}set options(fe){this._options=fe,this.hasFilter()&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(fe){this._filterValue=fe,this.activateFilter()}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.filterBy&&(this.filterOptions={filter:fe=>this.onFilter(fe),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(fe=>{switch(fe.getType()){case"item":default:this.itemTemplate=fe.template;break;case"group":this.groupTemplate=fe.template;break;case"header":this.headerTemplate=fe.template;break;case"filter":this.filterTemplate=fe.template;break;case"footer":this.footerTemplate=fe.template;break;case"empty":this.emptyTemplate=fe.template;break;case"emptyfilter":this.emptyFilterTemplate=fe.template}})}getOptionLabel(fe){return this.optionLabel?_.gb.resolveFieldData(fe,this.optionLabel):null!=fe.label?fe.label:fe}getOptionGroupChildren(fe){return this.optionGroupChildren?_.gb.resolveFieldData(fe,this.optionGroupChildren):fe.items}getOptionGroupLabel(fe){return this.optionGroupLabel?_.gb.resolveFieldData(fe,this.optionGroupLabel):null!=fe.label?fe.label:fe}getOptionValue(fe){return this.optionValue?_.gb.resolveFieldData(fe,this.optionValue):this.optionLabel||void 0===fe.value?fe:fe.value}isOptionDisabled(fe){return this.optionDisabled?_.gb.resolveFieldData(fe,this.optionDisabled):void 0!==fe.disabled&&fe.disabled}writeValue(fe){this.value=fe,this.cd.markForCheck()}registerOnChange(fe){this.onModelChange=fe}registerOnTouched(fe){this.onModelTouched=fe}setDisabledState(fe){this.disabled=fe,this.cd.markForCheck()}onOptionClick(fe,ke){this.disabled||this.isOptionDisabled(ke)||this.readonly||(this.multiple?this.checkbox?this.onOptionClickCheckbox(fe,ke):this.onOptionClickMultiple(fe,ke):this.onOptionClickSingle(fe,ke),this.onClick.emit({originalEvent:fe,option:ke,value:this.value}),this.optionTouched=!1)}onOptionTouchEnd(fe){this.disabled||this.isOptionDisabled(fe)||this.readonly||(this.optionTouched=!0)}onOptionDoubleClick(fe,ke){this.disabled||this.isOptionDisabled(ke)||this.readonly||this.onDblClick.emit({originalEvent:fe,option:ke,value:this.value})}onOptionClickSingle(fe,ke){let ot=this.isSelected(ke),Ct=!1;if(!this.optionTouched&&this.metaKeySelection){let Nt=fe.metaKey||fe.ctrlKey;ot?Nt&&(this.value=null,Ct=!0):(this.value=this.getOptionValue(ke),Ct=!0)}else this.value=ot?null:this.getOptionValue(ke),Ct=!0;Ct&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:fe,value:this.value}))}onOptionClickMultiple(fe,ke){let ot=this.isSelected(ke),Ct=!1;if(!this.optionTouched&&this.metaKeySelection){let Nt=fe.metaKey||fe.ctrlKey;ot?(Nt?this.removeOption(ke):this.value=[this.getOptionValue(ke)],Ct=!0):(this.value=Nt&&this.value||[],this.value=[...this.value,this.getOptionValue(ke)],Ct=!0)}else ot?this.removeOption(ke):this.value=[...this.value||[],this.getOptionValue(ke)],Ct=!0;Ct&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:fe,value:this.value}))}onOptionClickCheckbox(fe,ke){this.disabled||this.readonly||(this.isSelected(ke)?this.removeOption(ke):(this.value=this.value?this.value:[],this.value=[...this.value,this.getOptionValue(ke)]),this.onModelChange(this.value),this.onChange.emit({originalEvent:fe,value:this.value}))}removeOption(fe){this.value=this.value.filter(ke=>!_.gb.equals(ke,this.getOptionValue(fe),this.dataKey))}isSelected(fe){let ke=!1,ot=this.getOptionValue(fe);if(this.multiple){if(this.value)for(let Ct of this.value)if(_.gb.equals(Ct,ot,this.dataKey)){ke=!0;break}}else ke=_.gb.equals(this.value,ot,this.dataKey);return ke}get allChecked(){let fe=this.optionsToRender;if(!fe||0===fe.length)return!1;{let ke=0,ot=0,Ct=0,Ot=this.group?0:this.optionsToRender.length;for(let Nt of fe)if(this.group)for(let Mt of this.getOptionGroupChildren(Nt)){let Ye=this.isOptionDisabled(Mt),st=this.isSelected(Mt);if(Ye)st?ke++:ot++;else{if(!st)return!1;Ct++}Ot++}else{let Mt=this.isOptionDisabled(Nt),Ye=this.isSelected(Nt);if(Mt)Ye?ke++:ot++;else{if(!Ye)return!1;Ct++}}return Ot===ke||Ot===Ct||Ct&&Ot===Ct+ot+ke}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(f.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(f.ws.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(){return!this.optionsToRender||this.optionsToRender&&0===this.optionsToRender.length}onFilter(fe){this._filterValue=fe.target.value,this.activateFilter()}activateFilter(){if(this.hasFilter()&&this._options)if(this.group){let fe=(this.filterBy||this.optionLabel||"label").split(","),ke=[];for(let ot of this.options){let Ct=this.filterService.filter(this.getOptionGroupChildren(ot),fe,this.filterValue,this.filterMatchMode,this.filterLocale);Ct&&Ct.length&&ke.push(Object.assign(Object.assign({},ot),{[this.optionGroupChildren]:Ct}))}this._filteredOptions=ke}else this._filteredOptions=this._options.filter(fe=>this.filterService.filters[this.filterMatchMode](this.getOptionLabel(fe),this._filterValue,this.filterLocale));else this._filteredOptions=null}resetFilter(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this._filterValue=null,this._filteredOptions=null}get toggleAllDisabled(){let fe=this.optionsToRender;if(!fe||0===fe.length)return!0;for(let ke of fe)if(!this.isOptionDisabled(ke))return!1;return!0}toggleAll(fe){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:fe,value:this.value}),fe.preventDefault())}checkAll(){let ke=[];this.optionsToRender.forEach(ot=>{if(this.group){let Ct=this.getOptionGroupChildren(ot);Ct&&Ct.forEach(Ot=>{let Nt=this.isOptionDisabled(Ot);(!Nt||Nt&&this.isSelected(Ot))&&ke.push(this.getOptionValue(Ot))})}else{let Ct=this.isOptionDisabled(ot);(!Ct||Ct&&this.isSelected(ot))&&ke.push(this.getOptionValue(ot))}}),this.value=ke}uncheckAll(){let ke=[];this.optionsToRender.forEach(ot=>{this.group?ot.items&&ot.items.forEach(Ct=>{this.isOptionDisabled(Ct)&&this.isSelected(Ct)&&ke.push(this.getOptionValue(Ct))}):this.isOptionDisabled(ot)&&this.isSelected(ot)&&ke.push(this.getOptionValue(ot))}),this.value=ke}onOptionKeyDown(fe,ke){if(this.readonly)return;let ot=fe.currentTarget;switch(fe.which){case 40:var Ct=this.findNextItem(ot);Ct&&Ct.focus(),fe.preventDefault();break;case 38:var Ot=this.findPrevItem(ot);Ot&&Ot.focus(),fe.preventDefault();break;case 13:this.onOptionClick(fe,ke),fe.preventDefault()}}findNextItem(fe){let ke=fe.nextElementSibling;return ke?g.p.hasClass(ke,"p-disabled")||g.p.isHidden(ke)||g.p.hasClass(ke,"p-listbox-item-group")?this.findNextItem(ke):ke:null}findPrevItem(fe){let ke=fe.previousElementSibling;return ke?g.p.hasClass(ke,"p-disabled")||g.p.isHidden(ke)||g.p.hasClass(ke,"p-listbox-item-group")?this.findPrevItem(ke):ke:null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}}return ct.\u0275fac=function(fe){return new(fe||ct)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(f.iZ),e.Y36(f.b4))},ct.\u0275cmp=e.Xpm({type:ct,selectors:[["p-listbox"]],contentQueries:function(fe,ke,ot){if(1&fe&&(e.Suo(ot,f.h4,5),e.Suo(ot,f.$_,5),e.Suo(ot,f.jx,4)),2&fe){let Ct;e.iGM(Ct=e.CRH())&&(ke.headerFacet=Ct.first),e.iGM(Ct=e.CRH())&&(ke.footerFacet=Ct.first),e.iGM(Ct=e.CRH())&&(ke.templates=Ct)}},viewQuery:function(fe,ke){if(1&fe&&(e.Gf(l,5),e.Gf(R,5)),2&fe){let ot;e.iGM(ot=e.CRH())&&(ke.headerCheckboxViewChild=ot.first),e.iGM(ot=e.CRH())&&(ke.filterViewChild=ot.first)}},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:"readonly",disabled:"disabled",checkbox:"checkbox",filter:"filter",filterBy:"filterBy",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:"metaKeySelection",dataKey:"dataKey",showToggleAll:"showToggleAll",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:"group",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick"},features:[e._Bn([Gt])],ngContentSelectors:vt,decls:12,vars:18,consts:[[3,"ngClass","ngStyle"],["class","p-listbox-header",4,"ngIf"],["role","listbox",1,"p-listbox-list"],[4,"ngIf"],["itemslist",""],["class","p-listbox-empty-message",4,"ngIf"],["class","p-listbox-footer",4,"ngIf"],[1,"p-listbox-header"],[4,"ngTemplateOutlet"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],[1,"p-checkbox-box",3,"ngClass","click"],["headerchkbox",""],[1,"p-checkbox-icon",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-listbox-filter-container",4,"ngIf"],[1,"p-listbox-filter-container"],["type","text",1,"p-listbox-filter","p-inputtext","p-component",3,"value","disabled","input"],["filter",""],[1,"p-listbox-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-listbox-item-group"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown",4,"ngFor","ngForOf"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-listbox-empty-message"],["emptyFilter",""],["empty",""],[1,"p-listbox-footer"]],template:function(fe,ke){1&fe&&(e.F$t(it),e.TgZ(0,"div",0),e.YNc(1,J,3,1,"div",1),e.YNc(2,V,5,3,"div",1),e.TgZ(3,"div",0)(4,"ul",2),e.YNc(5,Y,2,1,"ng-container",3),e.YNc(6,he,2,4,"ng-container",3),e.YNc(7,Ke,1,1,"ng-template",null,4,e.W1O),e.YNc(9,X,3,3,"li",5),e.YNc(10,Oe,3,3,"li",5),e.qZA()(),e.YNc(11,bt,3,1,"div",6),e.qZA()),2&fe&&(e.Tol(ke.styleClass),e.Q6J("ngClass",e.VKq(16,Dt,ke.disabled))("ngStyle",ke.style),e.xp6(1),e.Q6J("ngIf",ke.headerFacet||ke.headerTemplate),e.xp6(1),e.Q6J("ngIf",ke.checkbox&&ke.multiple&&ke.showToggleAll||ke.filter),e.xp6(1),e.Tol(ke.listStyleClass),e.Q6J("ngClass","p-listbox-list-wrapper")("ngStyle",ke.listStyle),e.xp6(1),e.uIk("aria-multiselectable",ke.multiple),e.xp6(1),e.Q6J("ngIf",ke.group),e.xp6(1),e.Q6J("ngIf",!ke.group),e.xp6(3),e.Q6J("ngIf",ke.hasFilter()&&ke.isEmpty()),e.xp6(1),e.Q6J("ngIf",!ke.hasFilter()&&ke.isEmpty()),e.xp6(1),e.Q6J("ngIf",ke.footerFacet||ke.footerTemplate))},dependencies:[a.mk,a.sg,a.O5,a.tP,a.PC,y.H],styles:[".p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.p-listbox-header{display:flex;align-items:center}.p-listbox-filter-container{position:relative;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}\n"],encapsulation:2,changeDetection:0}),ct})(),Ut=(()=>{class ct{}return ct.\u0275fac=function(fe){return new(fe||ct)},ct.\u0275mod=e.oAB({type:ct}),ct.\u0275inj=e.cJS({imports:[a.ez,f.m8,y.T,f.m8]}),ct})()},1874:(mn,ht,b)=>{"use strict";b.d(ht,{$9:()=>bt,v2:()=>dt});var e=b(5e3),a=b(1777),f=b(9808),g=b(5730),_=b(5921),P=b(3470),y=b(5787),l=b(4119),R=b(9783);const L=["pMenuItemContent",""];function J(it,Dt){if(1&it&&e._UZ(0,"span",7),2&it){const vt=e.oxw(2);e.Tol(vt.item.iconClass),e.Q6J("ngClass",vt.item.icon)("ngStyle",vt.item.iconStyle)}}function N(it,Dt){if(1&it&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&it){const vt=e.oxw(2);e.xp6(1),e.Oqu(vt.item.label)}}function w(it,Dt){if(1&it&&e._UZ(0,"span",9),2&it){const vt=e.oxw(2);e.Q6J("innerHTML",vt.item.label,e.oJD)}}function x(it,Dt){if(1&it&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&it){const vt=e.oxw(2);e.Q6J("ngClass",vt.item.badgeStyleClass),e.xp6(1),e.Oqu(vt.item.badge)}}const D=function(it){return{"p-disabled":it}};function S(it,Dt){if(1&it){const vt=e.EpF();e.TgZ(0,"a",2),e.NdJ("keydown",function(Ht){e.CHM(vt);const Ut=e.oxw();return e.KtG(Ut.onItemKeyDown(Ht))})("click",function(Ht){e.CHM(vt);const Ut=e.oxw();return e.KtG(Ut.menu.itemClick(Ht,Ut.item))}),e.YNc(1,J,1,4,"span",3),e.YNc(2,N,2,1,"span",4),e.YNc(3,w,1,1,"ng-template",null,5,e.W1O),e.YNc(5,x,2,2,"span",6),e.qZA()}if(2&it){const vt=e.MAs(4),Gt=e.oxw();e.Q6J("target",Gt.item.target)("ngClass",e.VKq(12,D,Gt.item.disabled))("target",Gt.item.target),e.uIk("href",Gt.item.url||null,e.LSH)("tabindex",Gt.item.disabled?null:"0")("data-automationid",Gt.item.automationId)("title",Gt.item.title)("id",Gt.item.id),e.xp6(1),e.Q6J("ngIf",Gt.item.icon),e.xp6(1),e.Q6J("ngIf",!1!==Gt.item.escape)("ngIfElse",vt),e.xp6(3),e.Q6J("ngIf",Gt.item.badge)}}function U(it,Dt){if(1&it&&e._UZ(0,"span",14),2&it){const vt=e.oxw(2);e.Q6J("ngClass",vt.item.icon)}}function F(it,Dt){if(1&it&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&it){const vt=e.oxw(2);e.xp6(1),e.Oqu(vt.item.label)}}function ce(it,Dt){if(1&it&&e._UZ(0,"span",9),2&it){const vt=e.oxw(2);e.Q6J("innerHTML",vt.item.label,e.oJD)}}function te(it,Dt){if(1&it&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&it){const vt=e.oxw(2);e.Q6J("ngClass",vt.item.badgeStyleClass),e.xp6(1),e.Oqu(vt.item.badge)}}const V=function(){return{exact:!1}};function k(it,Dt){if(1&it){const vt=e.EpF();e.TgZ(0,"a",11),e.NdJ("keydown",function(Ht){e.CHM(vt);const Ut=e.oxw();return e.KtG(Ut.onItemKeyDown(Ht))})("click",function(Ht){e.CHM(vt);const Ut=e.oxw();return e.KtG(Ut.menu.itemClick(Ht,Ut.item))}),e.YNc(1,U,1,1,"span",12),e.YNc(2,F,2,1,"span",4),e.YNc(3,ce,1,1,"ng-template",null,13,e.W1O),e.YNc(5,te,2,2,"span",6),e.qZA()}if(2&it){const vt=e.MAs(4),Gt=e.oxw();e.Q6J("routerLink",Gt.item.routerLink)("queryParams",Gt.item.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",Gt.item.routerLinkActiveOptions||e.DdM(20,V))("target",Gt.item.target)("ngClass",e.VKq(21,D,Gt.item.disabled))("fragment",Gt.item.fragment)("queryParamsHandling",Gt.item.queryParamsHandling)("preserveFragment",Gt.item.preserveFragment)("skipLocationChange",Gt.item.skipLocationChange)("replaceUrl",Gt.item.replaceUrl)("state",Gt.item.state),e.uIk("data-automationid",Gt.item.automationId)("id",Gt.item.id)("tabindex",Gt.item.disabled?null:"0")("title",Gt.item.title),e.xp6(1),e.Q6J("ngIf",Gt.item.icon),e.xp6(1),e.Q6J("ngIf",!1!==Gt.item.escape)("ngIfElse",vt),e.xp6(3),e.Q6J("ngIf",Gt.item.badge)}}const O=["container"],$=function(it){return{"p-hidden":it}};function ue(it,Dt){if(1&it&&e._UZ(0,"li",8),2&it){const vt=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,$,!1===vt.visible))}}function q(it,Dt){if(1&it&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&it){const vt=e.oxw(2).$implicit;e.xp6(1),e.Oqu(vt.label)}}function Y(it,Dt){if(1&it&&e._UZ(0,"span",12),2&it){const vt=e.oxw(2).$implicit;e.Q6J("innerHTML",vt.label,e.oJD)}}const G=function(it,Dt){return{"p-hidden":it,flex:Dt}};function he(it,Dt){if(1&it&&(e.TgZ(0,"li",9),e.YNc(1,q,2,1,"span",10),e.YNc(2,Y,1,1,"ng-template",null,11,e.W1O),e.qZA()),2&it){const vt=e.MAs(3),Gt=e.oxw().$implicit;e.Q6J("ngClass",e.WLB(5,G,!1===Gt.visible,Gt.visible))("tooltipOptions",Gt.tooltipOptions),e.uIk("data-automationid",Gt.automationId),e.xp6(1),e.Q6J("ngIf",!1!==Gt.escape)("ngIfElse",vt)}}function j(it,Dt){if(1&it&&e._UZ(0,"li",8),2&it){const vt=e.oxw().$implicit,Gt=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,$,!1===vt.visible||!1===Gt.visible))}}function Q(it,Dt){if(1&it&&e._UZ(0,"li",14),2&it){const vt=e.oxw().$implicit,Gt=e.oxw().$implicit;e.Tol(vt.styleClass),e.Q6J("pMenuItemContent",vt)("ngClass",e.VKq(6,$,!1===vt.visible||!1===Gt.visible))("ngStyle",vt.style)("tooltipOptions",vt.tooltipOptions)}}function K(it,Dt){if(1&it&&(e.YNc(0,j,1,3,"li",6),e.YNc(1,Q,1,8,"li",13)),2&it){const vt=Dt.$implicit;e.Q6J("ngIf",vt.separator),e.xp6(1),e.Q6J("ngIf",!vt.separator)}}function z(it,Dt){if(1&it&&(e.YNc(0,ue,1,3,"li",6),e.YNc(1,he,4,8,"li",7),e.YNc(2,K,2,2,"ng-template",5)),2&it){const vt=Dt.$implicit;e.Q6J("ngIf",vt.separator),e.xp6(1),e.Q6J("ngIf",!vt.separator),e.xp6(1),e.Q6J("ngForOf",vt.items)}}function oe(it,Dt){if(1&it&&e.YNc(0,z,3,3,"ng-template",5),2&it){const vt=e.oxw(2);e.Q6J("ngForOf",vt.model)}}function Te(it,Dt){if(1&it&&e._UZ(0,"li",8),2&it){const vt=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,$,!1===vt.visible))}}function Ae(it,Dt){if(1&it&&e._UZ(0,"li",14),2&it){const vt=e.oxw().$implicit;e.Tol(vt.styleClass),e.Q6J("pMenuItemContent",vt)("ngClass",e.VKq(6,$,!1===vt.visible))("ngStyle",vt.style)("tooltipOptions",vt.tooltipOptions)}}function Ke(it,Dt){if(1&it&&(e.YNc(0,Te,1,3,"li",6),e.YNc(1,Ae,1,8,"li",13)),2&it){const vt=Dt.$implicit;e.Q6J("ngIf",vt.separator),e.xp6(1),e.Q6J("ngIf",!vt.separator)}}function be(it,Dt){if(1&it&&e.YNc(0,Ke,2,2,"ng-template",5),2&it){const vt=e.oxw(2);e.Q6J("ngForOf",vt.model)}}const Qe=function(it){return{"p-menu p-component":!0,"p-menu-overlay":it}},X=function(it,Dt){return{showTransitionParams:it,hideTransitionParams:Dt}},xe=function(it){return{value:"visible",params:it}};function we(it,Dt){if(1&it){const vt=e.EpF();e.TgZ(0,"div",1,2),e.NdJ("click",function(Ht){e.CHM(vt);const Ut=e.oxw();return e.KtG(Ut.onOverlayClick(Ht))})("@overlayAnimation.start",function(Ht){e.CHM(vt);const Ut=e.oxw();return e.KtG(Ut.onOverlayAnimationStart(Ht))})("@overlayAnimation.done",function(Ht){e.CHM(vt);const Ut=e.oxw();return e.KtG(Ut.onOverlayAnimationEnd(Ht))}),e.TgZ(2,"ul",3),e.YNc(3,oe,1,1,null,4),e.YNc(4,be,1,1,null,4),e.qZA()()}if(2&it){const vt=e.oxw();e.Tol(vt.styleClass),e.Q6J("ngClass",e.VKq(8,Qe,vt.popup))("ngStyle",vt.style)("@overlayAnimation",e.VKq(13,xe,e.WLB(10,X,vt.showTransitionOptions,vt.hideTransitionOptions)))("@.disabled",!0!==vt.popup),e.xp6(3),e.Q6J("ngIf",vt.hasSubMenu()),e.xp6(1),e.Q6J("ngIf",!vt.hasSubMenu())}}let Oe=(()=>{class it{constructor(vt){this.menu=vt}onItemKeyDown(vt){let Gt=vt.currentTarget.parentElement;switch(vt.code){case"ArrowDown":var Ht=this.findNextItem(Gt);Ht&&Ht.children[0].focus(),vt.preventDefault();break;case"ArrowUp":var Ut=this.findPrevItem(Gt);Ut&&Ut.children[0].focus(),vt.preventDefault();break;case"Space":case"Enter":Gt&&!g.p.hasClass(Gt,"p-disabled")&&Gt.children[0].click(),vt.preventDefault()}}findNextItem(vt){let Gt=vt.nextElementSibling;return Gt?g.p.hasClass(Gt,"p-disabled")||!g.p.hasClass(Gt,"p-menuitem")?this.findNextItem(Gt):Gt:null}findPrevItem(vt){let Gt=vt.previousElementSibling;return Gt?g.p.hasClass(Gt,"p-disabled")||!g.p.hasClass(Gt,"p-menuitem")?this.findPrevItem(Gt):Gt:null}}return it.\u0275fac=function(vt){return new(vt||it)(e.Y36((0,e.Gpc)(()=>dt)))},it.\u0275cmp=e.Xpm({type:it,selectors:[["","pMenuItemContent",""]],hostAttrs:[1,"p-element"],inputs:{item:["pMenuItemContent","item"]},attrs:L,decls:2,vars:2,consts:[["class","p-menuitem-link","role","menuitem",3,"target","ngClass","keydown","click",4,"ngIf"],["class","p-menuitem-link","role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click",4,"ngIf"],["role","menuitem",1,"p-menuitem-link",3,"target","ngClass","keydown","click"],["class","p-menuitem-icon",3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],["role","menuitem","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click"],["class","p-menuitem-icon",3,"ngClass",4,"ngIf"],["htmlRouteLabel",""],[1,"p-menuitem-icon",3,"ngClass"]],template:function(vt,Gt){1&vt&&(e.YNc(0,S,6,14,"a",0),e.YNc(1,k,6,23,"a",1)),2&vt&&(e.Q6J("ngIf",!Gt.item.routerLink),e.xp6(1),e.Q6J("ngIf",Gt.item.routerLink))},dependencies:[f.mk,f.O5,f.PC,P.yS,P.Od,y.H],encapsulation:2}),it})(),dt=(()=>{class it{constructor(vt,Gt,Ht,Ut,ct){this.el=vt,this.renderer=Gt,this.cd=Ht,this.config=Ut,this.overlayService=ct,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new e.vpe,this.onHide=new e.vpe}toggle(vt){this.visible?this.hide():this.show(vt),this.preventDocumentDefault=!0}show(vt){this.target=vt.currentTarget,this.relativeAlign=vt.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(vt){switch(vt.toState){case"visible":this.popup&&(this.container=vt.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.onOverlayHide(),this.onHide.emit({})}}onOverlayAnimationEnd(vt){"void"===vt.toState&&this.autoZIndex&&_.P9.clear(vt.element)}alignOverlay(){this.relativeAlign?g.p.relativePosition(this.container,this.target):g.p.absolutePosition(this.container,this.target)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):g.p.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}moveOnTop(){this.autoZIndex&&_.P9.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.markForCheck()}onWindowResize(){this.visible&&!g.p.isTouchDevice()&&this.hide()}itemClick(vt,Gt){Gt.disabled?vt.preventDefault():(!Gt.url&&!Gt.routerLink&&vt.preventDefault(),Gt.command&&Gt.command({originalEvent:vt,item:Gt}),this.popup&&this.hide())}onOverlayClick(vt){this.popup&&this.overlayService.add({originalEvent:vt,target:this.el.nativeElement}),this.preventDocumentDefault=!0}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.preventDocumentDefault||this.hide(),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new g.V(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&_.P9.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide())}hasSubMenu(){if(this.model)for(var vt of this.model)if(vt.items)return!0;return!1}}return it.\u0275fac=function(vt){return new(vt||it)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(R.b4),e.Y36(R.F0))},it.\u0275cmp=e.Xpm({type:it,selectors:[["p-menu"]],viewQuery:function(vt,Gt){if(1&vt&&e.Gf(O,5),2&vt){let Ht;e.iGM(Ht=e.CRH())&&(Gt.containerViewChild=Ht.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["container",""],["role","menu",1,"p-menu-list","p-reset"],[4,"ngIf"],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["class","p-submenu-header","pTooltip","","role","none",3,"ngClass","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["pTooltip","","role","none",1,"p-submenu-header",3,"ngClass","tooltipOptions"],[4,"ngIf","ngIfElse"],["htmlSubmenuLabel",""],[3,"innerHTML"],["class","p-menuitem","pTooltip","","role","none",3,"pMenuItemContent","ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],["pTooltip","","role","none",1,"p-menuitem",3,"pMenuItemContent","ngClass","ngStyle","tooltipOptions"]],template:function(vt,Gt){1&vt&&e.YNc(0,we,5,15,"div",0),2&vt&&e.Q6J("ngIf",!Gt.popup||Gt.visible)},dependencies:[f.mk,f.sg,f.O5,f.PC,l.u,Oe],styles:[".p-menu-overlay{position:absolute;top:0;left:0}.p-menu ul{margin:0;padding:0;list-style:none}.p-menu .p-submenu-header{align-items:center}.p-menu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menu .p-menuitem-text{line-height:1}\n"],encapsulation:2,data:{animation:[(0,a.X$)("overlayAnimation",[(0,a.eR)(":enter",[(0,a.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,a.jt)("{{showTransitionParams}}")]),(0,a.eR)(":leave",[(0,a.jt)("{{hideTransitionParams}}",(0,a.oB)({opacity:0}))])])]},changeDetection:0}),it})(),bt=(()=>{class it{}return it.\u0275fac=function(vt){return new(vt||it)},it.\u0275mod=e.oAB({type:it}),it.\u0275inj=e.cJS({imports:[f.ez,P.Bz,y.T,l.z,P.Bz,l.z]}),it})()},7172:(mn,ht,b)=>{"use strict";b.d(ht,{W6:()=>we,nm:()=>xe});var e=b(5e3),a=b(9808),f=b(5921),g=b(9783),_=b(3470),P=b(5787),y=b(4119);const l=function(Oe){return{"p-hidden":Oe}};function R(Oe,dt){if(1&Oe&&e._UZ(0,"li",4),2&Oe){const bt=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,l,!1===bt.visible))}}function L(Oe,dt){if(1&Oe&&e._UZ(0,"span",16),2&Oe){const bt=e.oxw(3).$implicit;e.Q6J("ngClass",bt.icon)("ngStyle",bt.iconStyle)}}function J(Oe,dt){if(1&Oe&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&Oe){const bt=e.oxw(3).$implicit;e.xp6(1),e.Oqu(bt.label)}}function N(Oe,dt){if(1&Oe&&e._UZ(0,"span",18),2&Oe){const bt=e.oxw(3).$implicit;e.Q6J("innerHTML",bt.label,e.oJD)}}function w(Oe,dt){if(1&Oe&&(e.TgZ(0,"span",19),e._uU(1),e.qZA()),2&Oe){const bt=e.oxw(3).$implicit;e.Q6J("ngClass",bt.badgeStyleClass),e.xp6(1),e.Oqu(bt.badge)}}const x=function(Oe,dt){return{"pi-angle-down":Oe,"pi-angle-right":dt}};function D(Oe,dt){if(1&Oe&&e._UZ(0,"span",20),2&Oe){const bt=e.oxw(4);e.Q6J("ngClass",e.WLB(1,x,bt.root,!bt.root))}}const S=function(Oe){return{"p-menuitem-link":!0,"p-disabled":Oe}};function U(Oe,dt){if(1&Oe){const bt=e.EpF();e.TgZ(0,"a",10),e.NdJ("click",function(Dt){e.CHM(bt);const vt=e.oxw(2).$implicit,Gt=e.oxw();return e.KtG(Gt.onItemClick(Dt,vt))})("mouseenter",function(Dt){e.CHM(bt);const vt=e.oxw(2).$implicit,Gt=e.oxw();return e.KtG(Gt.onItemMouseEnter(Dt,vt))}),e.YNc(1,L,1,2,"span",11),e.YNc(2,J,2,1,"span",12),e.YNc(3,N,1,1,"ng-template",null,13,e.W1O),e.YNc(5,w,2,2,"span",14),e.YNc(6,D,1,4,"span",15),e.qZA()}if(2&Oe){const bt=e.MAs(4),it=e.oxw(2).$implicit,Dt=e.oxw();e.Q6J("target",it.target)("ngClass",e.VKq(14,S,it.disabled)),e.uIk("href",it.url,e.LSH)("data-automationid",it.automationId)("title",it.title)("id",it.id)("tabindex",it.disabled?null:"0")("aria-haspopup",null!=Dt.item.items)("aria-expanded",Dt.item===Dt.activeItem),e.xp6(1),e.Q6J("ngIf",it.icon),e.xp6(1),e.Q6J("ngIf",!1!==it.escape)("ngIfElse",bt),e.xp6(3),e.Q6J("ngIf",it.badge),e.xp6(1),e.Q6J("ngIf",it.items)}}function F(Oe,dt){if(1&Oe&&e._UZ(0,"span",16),2&Oe){const bt=e.oxw(3).$implicit;e.Q6J("ngClass",bt.icon)("ngStyle",bt.iconStyle)}}function ce(Oe,dt){if(1&Oe&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&Oe){const bt=e.oxw(3).$implicit;e.xp6(1),e.Oqu(bt.label)}}function te(Oe,dt){if(1&Oe&&e._UZ(0,"span",18),2&Oe){const bt=e.oxw(3).$implicit;e.Q6J("innerHTML",bt.label,e.oJD)}}function V(Oe,dt){if(1&Oe&&(e.TgZ(0,"span",19),e._uU(1),e.qZA()),2&Oe){const bt=e.oxw(3).$implicit;e.Q6J("ngClass",bt.badgeStyleClass),e.xp6(1),e.Oqu(bt.badge)}}function k(Oe,dt){if(1&Oe&&e._UZ(0,"span",20),2&Oe){const bt=e.oxw(4);e.Q6J("ngClass",e.WLB(1,x,bt.root,!bt.root))}}const O=function(){return{exact:!1}};function $(Oe,dt){if(1&Oe){const bt=e.EpF();e.TgZ(0,"a",21),e.NdJ("click",function(Dt){e.CHM(bt);const vt=e.oxw(2).$implicit,Gt=e.oxw();return e.KtG(Gt.onItemClick(Dt,vt))})("mouseenter",function(Dt){e.CHM(bt);const vt=e.oxw(2).$implicit,Gt=e.oxw();return e.KtG(Gt.onItemMouseEnter(Dt,vt))}),e.YNc(1,F,1,2,"span",11),e.YNc(2,ce,2,1,"span",12),e.YNc(3,te,1,1,"ng-template",null,22,e.W1O),e.YNc(5,V,2,2,"span",14),e.YNc(6,k,1,4,"span",15),e.qZA()}if(2&Oe){const bt=e.MAs(4),it=e.oxw(2).$implicit;e.Q6J("routerLink",it.routerLink)("queryParams",it.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",it.routerLinkActiveOptions||e.DdM(21,O))("target",it.target)("ngClass",e.VKq(22,S,it.disabled))("fragment",it.fragment)("queryParamsHandling",it.queryParamsHandling)("preserveFragment",it.preserveFragment)("skipLocationChange",it.skipLocationChange)("replaceUrl",it.replaceUrl)("state",it.state),e.uIk("data-automationid",it.automationId)("title",it.title)("id",it.id)("tabindex",it.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",it.icon),e.xp6(1),e.Q6J("ngIf",!1!==it.escape)("ngIfElse",bt),e.xp6(3),e.Q6J("ngIf",it.badge),e.xp6(1),e.Q6J("ngIf",it.items)}}function ue(Oe,dt){if(1&Oe){const bt=e.EpF();e.TgZ(0,"p-menubarSub",23),e.NdJ("leafClick",function(){e.CHM(bt);const Dt=e.oxw(3);return e.KtG(Dt.onLeafClick())}),e.qZA()}if(2&Oe){const bt=e.oxw(2).$implicit,it=e.oxw();e.Q6J("parentActive",bt===it.activeItem)("item",bt)("mobileActive",it.mobileActive)("autoDisplay",it.autoDisplay)}}const q=function(Oe,dt){return{"p-menuitem":!0,"p-menuitem-active":Oe,"p-hidden":dt}};function Y(Oe,dt){if(1&Oe&&(e.TgZ(0,"li",5,6),e.YNc(2,U,7,16,"a",7),e.YNc(3,$,7,24,"a",8),e.YNc(4,ue,1,4,"p-menubarSub",9),e.qZA()),2&Oe){const bt=e.oxw().$implicit,it=e.oxw();e.Tol(bt.styleClass),e.Q6J("ngClass",e.WLB(8,q,bt===it.activeItem,!1===bt.visible))("ngStyle",bt.style)("tooltipOptions",bt.tooltipOptions),e.xp6(2),e.Q6J("ngIf",!bt.routerLink),e.xp6(1),e.Q6J("ngIf",bt.routerLink),e.xp6(1),e.Q6J("ngIf",bt.items)}}function G(Oe,dt){if(1&Oe&&(e.YNc(0,R,1,3,"li",2),e.YNc(1,Y,5,11,"li",3)),2&Oe){const bt=dt.$implicit;e.Q6J("ngIf",bt.separator),e.xp6(1),e.Q6J("ngIf",!bt.separator)}}const he=function(Oe,dt){return{"p-submenu-list":Oe,"p-menubar-root-list":dt}},j=["menubutton"],Q=["rootmenu"];function K(Oe,dt){1&Oe&&e.GkF(0)}function z(Oe,dt){if(1&Oe&&(e.TgZ(0,"div",7),e.YNc(1,K,1,0,"ng-container",8),e.qZA()),2&Oe){const bt=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",bt.startTemplate)}}function oe(Oe,dt){if(1&Oe){const bt=e.EpF();e.TgZ(0,"a",9,10),e.NdJ("click",function(Dt){e.CHM(bt);const vt=e.oxw();return e.KtG(vt.toggle(Dt))}),e._UZ(2,"i",11),e.qZA()}}function Te(Oe,dt){1&Oe&&e.GkF(0)}function Ae(Oe,dt){if(1&Oe&&(e.TgZ(0,"div",12),e.YNc(1,Te,1,0,"ng-container",8),e.qZA()),2&Oe){const bt=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",bt.endTemplate)}}function Ke(Oe,dt){1&Oe&&(e.TgZ(0,"div",12),e.Hsn(1),e.qZA())}const be=function(Oe){return{"p-menubar p-component":!0,"p-menubar-mobile-active":Oe}},Qe=["*"];let X=(()=>{class Oe{constructor(bt,it,Dt){this.el=bt,this.renderer=it,this.cd=Dt,this.autoZIndex=!0,this.baseZIndex=0,this.leafClick=new e.vpe,this.menuHoverActive=!1}get parentActive(){return this._parentActive}set parentActive(bt){this.root||(this._parentActive=bt,bt||(this.activeItem=null))}onItemClick(bt,it){it.disabled?bt.preventDefault():(!it.url&&!it.routerLink&&bt.preventDefault(),it.command&&it.command({originalEvent:bt,item:it}),it.items&&(this.activeItem&&it===this.activeItem?(this.activeItem=null,this.unbindDocumentClickListener()):(this.activeItem=it,this.root&&this.bindDocumentClickListener())),it.items||this.onLeafClick())}onItemMouseEnter(bt,it){it.disabled||this.mobileActive?bt.preventDefault():this.root?(this.activeItem||this.autoDisplay)&&(this.activeItem=it,this.bindDocumentClickListener()):(this.activeItem=it,this.bindDocumentClickListener())}onLeafClick(){this.activeItem=null,this.root&&this.unbindDocumentClickListener(),this.leafClick.emit()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=bt=>{this.el&&!this.el.nativeElement.contains(bt.target)&&(this.activeItem=null,this.cd.markForCheck(),this.unbindDocumentClickListener())},document.addEventListener("click",this.documentClickListener))}unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)}ngOnDestroy(){this.unbindDocumentClickListener()}}return Oe.\u0275fac=function(bt){return new(bt||Oe)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO))},Oe.\u0275cmp=e.Xpm({type:Oe,selectors:[["p-menubarSub"]],hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",mobileActive:"mobileActive",autoDisplay:"autoDisplay",parentActive:"parentActive"},outputs:{leafClick:"leafClick"},decls:2,vars:6,consts:[[3,"ngClass"],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["role","none","pTooltip","",3,"ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["role","none","pTooltip","",3,"ngClass","ngStyle","tooltipOptions"],["listItem",""],["role","menuitem","pRipple","",3,"target","ngClass","click","mouseenter",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","mouseenter",4,"ngIf"],[3,"parentActive","item","mobileActive","autoDisplay","leafClick",4,"ngIf"],["role","menuitem","pRipple","",3,"target","ngClass","click","mouseenter"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],["class","p-submenu-icon pi",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[1,"p-submenu-icon","pi",3,"ngClass"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","mouseenter"],["htmlRouteLabel",""],[3,"parentActive","item","mobileActive","autoDisplay","leafClick"]],template:function(bt,it){1&bt&&(e.TgZ(0,"ul",0),e.YNc(1,G,2,2,"ng-template",1),e.qZA()),2&bt&&(e.Q6J("ngClass",e.WLB(3,he,!it.root,it.root)),e.uIk("role",it.root?"menubar":"menu"),e.xp6(1),e.Q6J("ngForOf",it.root?it.item:it.item.items))},dependencies:[a.mk,a.sg,a.O5,a.PC,_.yS,_.Od,P.H,y.u,Oe],encapsulation:2}),Oe})(),xe=(()=>{class Oe{constructor(bt,it,Dt,vt){this.el=bt,this.renderer=it,this.cd=Dt,this.config=vt,this.autoZIndex=!0,this.baseZIndex=0}ngAfterContentInit(){this.templates.forEach(bt=>{switch(bt.getType()){case"start":this.startTemplate=bt.template;break;case"end":this.endTemplate=bt.template}})}toggle(bt){this.mobileActive?(this.hide(),f.P9.clear(this.rootmenu.el.nativeElement)):(this.mobileActive=!0,f.P9.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu)),this.bindOutsideClickListener(),bt.preventDefault()}bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=bt=>{this.mobileActive&&this.rootmenu.el.nativeElement!==bt.target&&!this.rootmenu.el.nativeElement.contains(bt.target)&&this.menubutton.nativeElement!==bt.target&&!this.menubutton.nativeElement.contains(bt.target)&&this.hide()},document.addEventListener("click",this.outsideClickListener))}hide(){this.mobileActive=!1,this.cd.markForCheck(),f.P9.clear(this.rootmenu.el.nativeElement),this.unbindOutsideClickListener()}onLeafClick(){this.hide()}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}ngOnDestroy(){this.unbindOutsideClickListener()}}return Oe.\u0275fac=function(bt){return new(bt||Oe)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(g.b4))},Oe.\u0275cmp=e.Xpm({type:Oe,selectors:[["p-menubar"]],contentQueries:function(bt,it,Dt){if(1&bt&&e.Suo(Dt,g.jx,4),2&bt){let vt;e.iGM(vt=e.CRH())&&(it.templates=vt)}},viewQuery:function(bt,it){if(1&bt&&(e.Gf(j,5),e.Gf(Q,5)),2&bt){let Dt;e.iGM(Dt=e.CRH())&&(it.menubutton=Dt.first),e.iGM(Dt=e.CRH())&&(it.rootmenu=Dt.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",autoDisplay:"autoDisplay"},ngContentSelectors:Qe,decls:8,vars:15,consts:[[3,"ngClass","ngStyle"],["class","p-menubar-start",4,"ngIf"],["tabindex","0","class","p-menubar-button",3,"click",4,"ngIf"],["root","root",3,"item","baseZIndex","autoZIndex","mobileActive","autoDisplay","leafClick"],["rootmenu",""],["class","p-menubar-end",4,"ngIf","ngIfElse"],["legacy",""],[1,"p-menubar-start"],[4,"ngTemplateOutlet"],["tabindex","0",1,"p-menubar-button",3,"click"],["menubutton",""],[1,"pi","pi-bars"],[1,"p-menubar-end"]],template:function(bt,it){if(1&bt&&(e.F$t(),e.TgZ(0,"div",0),e.YNc(1,z,2,1,"div",1),e.YNc(2,oe,3,0,"a",2),e.TgZ(3,"p-menubarSub",3,4),e.NdJ("leafClick",function(){return it.onLeafClick()}),e.qZA(),e.YNc(5,Ae,2,1,"div",5),e.YNc(6,Ke,2,0,"ng-template",null,6,e.W1O),e.qZA()),2&bt){const Dt=e.MAs(7);e.Tol(it.styleClass),e.Q6J("ngClass",e.VKq(13,be,it.mobileActive))("ngStyle",it.style),e.xp6(1),e.Q6J("ngIf",it.startTemplate),e.xp6(1),e.Q6J("ngIf",it.model&&it.model.length>0),e.xp6(1),e.Q6J("item",it.model)("baseZIndex",it.baseZIndex)("autoZIndex",it.autoZIndex)("mobileActive",it.mobileActive)("autoDisplay",it.autoDisplay),e.xp6(2),e.Q6J("ngIf",it.endTemplate)("ngIfElse",Dt)}},dependencies:[a.mk,a.O5,a.tP,a.PC,X],styles:[".p-menubar{display:flex;align-items:center}.p-menubar ul{margin:0;padding:0;list-style:none}.p-menubar .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menubar .p-menuitem-text{line-height:1}.p-menubar .p-menuitem{position:relative}.p-menubar-root-list{display:flex;align-items:center}.p-menubar-root-list>li ul{display:none;z-index:1}.p-menubar-root-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block}.p-menubar .p-submenu-list{display:none;position:absolute;z-index:1}.p-menubar .p-submenu-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block;left:100%;top:0}.p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-menubar .p-menubar-custom,.p-menubar .p-menubar-end{margin-left:auto;align-self:center}.p-menubar-button{display:none;cursor:pointer;align-items:center;justify-content:center}\n"],encapsulation:2,changeDetection:0}),Oe})(),we=(()=>{class Oe{}return Oe.\u0275fac=function(bt){return new(bt||Oe)},Oe.\u0275mod=e.oAB({type:Oe}),Oe.\u0275inj=e.cJS({imports:[a.ez,_.Bz,P.T,y.z,g.m8,_.Bz,y.z,g.m8]}),Oe})()},6526:(mn,ht,b)=>{"use strict";b.d(ht,{NU:()=>qt,q4:()=>fn});var e=b(9808),a=b(5e3),f=b(2382),g=b(9783),_=b(5730),P=b(8050),y=b(5787),l=b(5871),R=b(4119),L=b(5921);function J(Jt,Dn){if(1&Jt&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&Jt){const Rt=a.oxw();a.xp6(1),a.Oqu(Rt.label)}}function N(Jt,Dn){1&Jt&&a.GkF(0)}const w=function(Jt){return{height:Jt}},x=function(Jt,Dn){return{"p-highlight":Jt,"p-disabled":Dn}},D=function(Jt){return{"p-highlight":Jt}},S=function(Jt){return{"pi pi-check":Jt}},U=function(Jt){return{$implicit:Jt}},F=["container"],ce=["overlay"],te=["filterInput"],V=["in"],k=["items"],O=["scroller"];function $(Jt,Dn){if(1&Jt&&(a.ynx(0),a._uU(1),a.BQk()),2&Jt){const Rt=a.oxw(2);a.xp6(1),a.Oqu(Rt.valuesAsString||"empty")}}function ue(Jt,Dn){if(1&Jt){const Rt=a.EpF();a.TgZ(0,"span",20),a.NdJ("click",function(Fn){a.CHM(Rt);const Un=a.oxw().$implicit,ri=a.oxw(3);return a.KtG(ri.removeChip(Un,Fn))}),a.qZA()}}function q(Jt,Dn){if(1&Jt&&(a.TgZ(0,"div",16,17)(2,"span",18),a._uU(3),a.qZA(),a.YNc(4,ue,1,0,"span",19),a.qZA()),2&Jt){const Rt=Dn.$implicit,rn=a.oxw(3);a.xp6(3),a.Oqu(rn.findLabelByValue(Rt)),a.xp6(1),a.Q6J("ngIf",!rn.disabled)}}function Y(Jt,Dn){if(1&Jt&&(a.ynx(0),a._uU(1),a.BQk()),2&Jt){const Rt=a.oxw(3);a.xp6(1),a.Oqu(Rt.placeholder||Rt.defaultLabel||"empty")}}function G(Jt,Dn){if(1&Jt&&(a.ynx(0),a.YNc(1,q,5,2,"div",15),a.YNc(2,Y,2,1,"ng-container",7),a.BQk()),2&Jt){const Rt=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",Rt.value),a.xp6(1),a.Q6J("ngIf",!Rt.value||0===Rt.value.length)}}function he(Jt,Dn){if(1&Jt&&(a.ynx(0),a.YNc(1,$,2,1,"ng-container",7),a.YNc(2,G,3,2,"ng-container",7),a.BQk()),2&Jt){const Rt=a.oxw();a.xp6(1),a.Q6J("ngIf","comma"===Rt.display),a.xp6(1),a.Q6J("ngIf","chip"===Rt.display)}}function j(Jt,Dn){1&Jt&&a.GkF(0)}function Q(Jt,Dn){if(1&Jt){const Rt=a.EpF();a.TgZ(0,"i",21),a.NdJ("click",function(Fn){a.CHM(Rt);const Un=a.oxw();return a.KtG(Un.clear(Fn))}),a.qZA()}}function K(Jt,Dn){1&Jt&&a.GkF(0)}function z(Jt,Dn){1&Jt&&a.GkF(0)}const oe=function(Jt){return{options:Jt}};function Te(Jt,Dn){if(1&Jt&&(a.ynx(0),a.YNc(1,z,1,0,"ng-container",8),a.BQk()),2&Jt){const Rt=a.oxw(3);a.xp6(1),a.Q6J("ngTemplateOutlet",Rt.filterTemplate)("ngTemplateOutletContext",a.VKq(2,oe,Rt.filterOptions))}}const Ae=function(Jt){return{"p-checkbox-disabled":Jt}},Ke=function(Jt,Dn,Rt){return{"p-highlight":Jt,"p-focus":Dn,"p-disabled":Rt}};function be(Jt,Dn){if(1&Jt){const Rt=a.EpF();a.TgZ(0,"div",36)(1,"div",2)(2,"input",37),a.NdJ("focus",function(){a.CHM(Rt);const Fn=a.oxw(4);return a.KtG(Fn.onHeaderCheckboxFocus())})("blur",function(){a.CHM(Rt);const Fn=a.oxw(4);return a.KtG(Fn.onHeaderCheckboxBlur())})("keydown.space",function(Fn){a.CHM(Rt);const Un=a.oxw(4);return a.KtG(Un.toggleAll(Fn))}),a.qZA()(),a.TgZ(3,"div",38),a.NdJ("click",function(Fn){a.CHM(Rt);const Un=a.oxw(4);return a.KtG(Un.toggleAll(Fn))}),a._UZ(4,"span",39),a.qZA()()}if(2&Jt){const Rt=a.oxw(4);a.Q6J("ngClass",a.VKq(6,Ae,Rt.disabled||Rt.toggleAllDisabled)),a.xp6(2),a.Q6J("checked",Rt.allChecked)("disabled",Rt.disabled||Rt.toggleAllDisabled),a.xp6(1),a.Q6J("ngClass",a.kEZ(8,Ke,Rt.allChecked,Rt.headerCheckboxFocus,Rt.disabled||Rt.toggleAllDisabled)),a.uIk("aria-checked",Rt.allChecked),a.xp6(1),a.Q6J("ngClass",a.VKq(12,S,Rt.allChecked))}}function Qe(Jt,Dn){if(1&Jt){const Rt=a.EpF();a.TgZ(0,"div",40)(1,"input",41,42),a.NdJ("input",function(Fn){a.CHM(Rt);const Un=a.oxw(4);return a.KtG(Un.onFilterInputChange(Fn))}),a.qZA(),a._UZ(3,"span",43),a.qZA()}if(2&Jt){const Rt=a.oxw(4);a.xp6(1),a.Q6J("value",Rt.filterValue||"")("disabled",Rt.disabled),a.uIk("autocomplete",Rt.autocomplete)("placeholder",Rt.filterPlaceHolder)("aria-label",Rt.ariaFilterLabel)}}function X(Jt,Dn){if(1&Jt){const Rt=a.EpF();a.YNc(0,be,5,14,"div",32),a.YNc(1,Qe,4,5,"div",33),a.TgZ(2,"button",34),a.NdJ("click",function(Fn){a.CHM(Rt);const Un=a.oxw(3);return a.KtG(Un.close(Fn))}),a._UZ(3,"span",35),a.qZA()}if(2&Jt){const Rt=a.oxw(3);a.Q6J("ngIf",Rt.showToggleAll&&!Rt.selectionLimit),a.xp6(1),a.Q6J("ngIf",Rt.filter)}}function xe(Jt,Dn){if(1&Jt&&(a.TgZ(0,"div",28),a.Hsn(1),a.YNc(2,K,1,0,"ng-container",29),a.YNc(3,Te,2,4,"ng-container",30),a.YNc(4,X,4,2,"ng-template",null,31,a.W1O),a.qZA()),2&Jt){const Rt=a.MAs(5),rn=a.oxw(2);a.xp6(2),a.Q6J("ngTemplateOutlet",rn.headerTemplate),a.xp6(1),a.Q6J("ngIf",rn.filterTemplate)("ngIfElse",Rt)}}function we(Jt,Dn){1&Jt&&a.GkF(0)}const Oe=function(Jt,Dn){return{$implicit:Jt,options:Dn}};function dt(Jt,Dn){if(1&Jt&&a.YNc(0,we,1,0,"ng-container",8),2&Jt){const Rt=Dn.$implicit,rn=Dn.options;a.oxw(2);const Fn=a.MAs(6);a.Q6J("ngTemplateOutlet",Fn)("ngTemplateOutletContext",a.WLB(2,Oe,Rt,rn))}}function bt(Jt,Dn){1&Jt&&a.GkF(0)}function it(Jt,Dn){if(1&Jt&&a.YNc(0,bt,1,0,"ng-container",8),2&Jt){const Rt=Dn.options,rn=a.oxw(4);a.Q6J("ngTemplateOutlet",rn.loaderTemplate)("ngTemplateOutletContext",a.VKq(2,oe,Rt))}}function Dt(Jt,Dn){1&Jt&&(a.ynx(0),a.YNc(1,it,1,4,"ng-template",46),a.BQk())}function vt(Jt,Dn){if(1&Jt){const Rt=a.EpF();a.TgZ(0,"p-scroller",44,45),a.NdJ("onLazyLoad",function(Fn){a.CHM(Rt);const Un=a.oxw(2);return a.KtG(Un.onLazyLoad.emit(Fn))}),a.YNc(2,dt,1,5,"ng-template",14),a.YNc(3,Dt,2,0,"ng-container",7),a.qZA()}if(2&Jt){const Rt=a.oxw(2);a.Akn(a.VKq(9,w,Rt.scrollHeight)),a.Q6J("items",Rt.optionsToRender)("itemSize",Rt.virtualScrollItemSize||Rt._itemSize)("autoSize",!0)("tabindex",-1)("lazy",Rt.lazy)("options",Rt.virtualScrollOptions),a.xp6(3),a.Q6J("ngIf",Rt.loaderTemplate)}}function Gt(Jt,Dn){1&Jt&&a.GkF(0)}const Ht=function(){return{}};function Ut(Jt,Dn){if(1&Jt&&(a.ynx(0),a.YNc(1,Gt,1,0,"ng-container",8),a.BQk()),2&Jt){a.oxw();const Rt=a.MAs(6),rn=a.oxw();a.xp6(1),a.Q6J("ngTemplateOutlet",Rt)("ngTemplateOutletContext",a.WLB(3,Oe,rn.optionsToRender,a.DdM(2,Ht)))}}function ct(Jt,Dn){if(1&Jt&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&Jt){const Rt=a.oxw().$implicit,rn=a.oxw(4);a.xp6(1),a.Oqu(rn.getOptionGroupLabel(Rt)||"empty")}}function at(Jt,Dn){1&Jt&&a.GkF(0)}function fe(Jt,Dn){1&Jt&&a.GkF(0)}function ke(Jt,Dn){if(1&Jt&&(a.TgZ(0,"li",52),a.YNc(1,ct,2,1,"span",7),a.YNc(2,at,1,0,"ng-container",8),a.qZA(),a.YNc(3,fe,1,0,"ng-container",8)),2&Jt){const Rt=Dn.$implicit,rn=a.oxw(2).options,Fn=a.MAs(5),Un=a.oxw(2);a.Q6J("ngStyle",a.VKq(6,w,rn.itemSize+"px")),a.xp6(1),a.Q6J("ngIf",!Un.groupTemplate),a.xp6(1),a.Q6J("ngTemplateOutlet",Un.groupTemplate)("ngTemplateOutletContext",a.VKq(8,U,Rt)),a.xp6(1),a.Q6J("ngTemplateOutlet",Fn)("ngTemplateOutletContext",a.VKq(10,U,Un.getOptionGroupChildren(Rt)))}}function ot(Jt,Dn){if(1&Jt&&(a.ynx(0),a.YNc(1,ke,4,12,"ng-template",51),a.BQk()),2&Jt){const Rt=a.oxw().$implicit;a.xp6(1),a.Q6J("ngForOf",Rt)}}function Ct(Jt,Dn){1&Jt&&a.GkF(0)}function Ot(Jt,Dn){if(1&Jt&&(a.ynx(0),a.YNc(1,Ct,1,0,"ng-container",8),a.BQk()),2&Jt){const Rt=a.oxw().$implicit,rn=a.MAs(5);a.xp6(1),a.Q6J("ngTemplateOutlet",rn)("ngTemplateOutletContext",a.VKq(2,U,Rt))}}function Nt(Jt,Dn){if(1&Jt){const Rt=a.EpF();a.TgZ(0,"p-multiSelectItem",53),a.NdJ("onClick",function(Fn){a.CHM(Rt);const Un=a.oxw(4);return a.KtG(Un.onOptionClick(Fn))})("onKeydown",function(Fn){a.CHM(Rt);const Un=a.oxw(4);return a.KtG(Un.onOptionKeydown(Fn))}),a.qZA()}if(2&Jt){const Rt=Dn.$implicit,rn=a.oxw(2).options,Fn=a.oxw(2);a.Q6J("option",Rt)("selected",Fn.isSelected(Rt))("label",Fn.getOptionLabel(Rt))("disabled",Fn.isOptionDisabled(Rt))("template",Fn.itemTemplate)("itemSize",rn.itemSize)}}function Mt(Jt,Dn){1&Jt&&a.YNc(0,Nt,1,6,"ng-template",51),2&Jt&&a.Q6J("ngForOf",Dn.$implicit)}function Ye(Jt,Dn){if(1&Jt&&(a.ynx(0),a._uU(1),a.BQk()),2&Jt){const Rt=a.oxw(4);a.xp6(1),a.hij(" ",Rt.emptyFilterMessageLabel," ")}}function st(Jt,Dn){1&Jt&&a.GkF(0,null,55)}function je(Jt,Dn){if(1&Jt&&(a.TgZ(0,"li",54),a.YNc(1,Ye,2,1,"ng-container",30),a.YNc(2,st,2,0,"ng-container",29),a.qZA()),2&Jt){const Rt=a.oxw().options,rn=a.oxw(2);a.Q6J("ngStyle",a.VKq(4,w,Rt.itemSize+"px")),a.xp6(1),a.Q6J("ngIf",!rn.emptyFilterTemplate&&!rn.emptyTemplate)("ngIfElse",rn.emptyFilter),a.xp6(1),a.Q6J("ngTemplateOutlet",rn.emptyFilterTemplate||rn.emptyTemplate)}}function It(Jt,Dn){if(1&Jt&&(a.ynx(0),a._uU(1),a.BQk()),2&Jt){const Rt=a.oxw(4);a.xp6(1),a.hij(" ",Rt.emptyMessageLabel," ")}}function ne(Jt,Dn){1&Jt&&a.GkF(0,null,56)}function Ne(Jt,Dn){if(1&Jt&&(a.TgZ(0,"li",54),a.YNc(1,It,2,1,"ng-container",30),a.YNc(2,ne,2,0,"ng-container",29),a.qZA()),2&Jt){const Rt=a.oxw().options,rn=a.oxw(2);a.Q6J("ngStyle",a.VKq(4,w,Rt.itemSize+"px")),a.xp6(1),a.Q6J("ngIf",!rn.emptyTemplate)("ngIfElse",rn.empty),a.xp6(1),a.Q6J("ngTemplateOutlet",rn.emptyTemplate)}}function me(Jt,Dn){if(1&Jt&&(a.TgZ(0,"ul",47,48),a.YNc(2,ot,2,1,"ng-container",7),a.YNc(3,Ot,2,4,"ng-container",7),a.YNc(4,Mt,1,1,"ng-template",null,49,a.W1O),a.YNc(6,je,3,6,"li",50),a.YNc(7,Ne,3,6,"li",50),a.qZA()),2&Jt){const Rt=Dn.options,rn=a.oxw(2);a.Akn(Rt.contentStyle),a.Q6J("ngClass",Rt.contentStyleClass),a.xp6(2),a.Q6J("ngIf",rn.group),a.xp6(1),a.Q6J("ngIf",!rn.group),a.xp6(3),a.Q6J("ngIf",rn.hasFilter()&&rn.isEmpty()),a.xp6(1),a.Q6J("ngIf",!rn.hasFilter()&&rn.isEmpty())}}function gt(Jt,Dn){1&Jt&&a.GkF(0)}function un(Jt,Dn){if(1&Jt&&(a.TgZ(0,"div",57),a.Hsn(1,1),a.YNc(2,gt,1,0,"ng-container",29),a.qZA()),2&Jt){const Rt=a.oxw(2);a.xp6(2),a.Q6J("ngTemplateOutlet",Rt.footerTemplate)}}const In=function(){return["p-multiselect-panel p-component"]};function en(Jt,Dn){if(1&Jt){const Rt=a.EpF();a.TgZ(0,"div",22),a.NdJ("keydown",function(Fn){a.CHM(Rt);const Un=a.oxw();return a.KtG(Un.onKeydown(Fn))}),a.YNc(1,xe,6,3,"div",23),a.TgZ(2,"div",24),a.YNc(3,vt,4,11,"p-scroller",25),a.YNc(4,Ut,2,6,"ng-container",7),a.YNc(5,me,8,7,"ng-template",null,26,a.W1O),a.qZA(),a.YNc(7,un,3,1,"div",27),a.qZA()}if(2&Jt){const Rt=a.oxw();a.Tol(Rt.panelStyleClass),a.Q6J("ngClass",a.DdM(10,In))("ngStyle",Rt.panelStyle),a.xp6(1),a.Q6J("ngIf",Rt.showHeader),a.xp6(1),a.Udp("max-height",Rt.virtualScroll?"auto":Rt.scrollHeight||"auto"),a.xp6(1),a.Q6J("ngIf",Rt.virtualScroll),a.xp6(1),a.Q6J("ngIf",!Rt.virtualScroll),a.xp6(3),a.Q6J("ngIf",Rt.footerFacet||Rt.footerTemplate)}}const _t=[[["p-header"]],[["p-footer"]]],et=function(Jt,Dn,Rt,rn){return{"p-multiselect p-component":!0,"p-multiselect-open":Jt,"p-multiselect-chip":Dn,"p-focus":Rt,"p-disabled":rn}},de=function(Jt,Dn){return{"p-placeholder":Jt,"p-multiselect-label-empty":Dn}},Je=function(){return{"p-multiselect-trigger":!0}},ze=["p-header","p-footer"],wt={provide:f.JU,useExisting:(0,a.Gpc)(()=>qt),multi:!0};let Fe=(()=>{class Jt{constructor(){this.onClick=new a.vpe,this.onKeydown=new a.vpe}onOptionClick(Rt){this.onClick.emit({originalEvent:Rt,option:this.option})}onOptionKeydown(Rt){this.onKeydown.emit({originalEvent:Rt,option:this.option})}}return Jt.\u0275fac=function(Rt){return new(Rt||Jt)},Jt.\u0275cmp=a.Xpm({type:Jt,selectors:[["p-multiSelectItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick",onKeydown:"onKeydown"},decls:6,vars:20,consts:[["pRipple","",1,"p-multiselect-item",3,"ngStyle","ngClass","click","keydown"],[1,"p-checkbox","p-component"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-checkbox-icon",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(Rt,rn){1&Rt&&(a.TgZ(0,"li",0),a.NdJ("click",function(Un){return rn.onOptionClick(Un)})("keydown",function(Un){return rn.onOptionKeydown(Un)}),a.TgZ(1,"div",1)(2,"div",2),a._UZ(3,"span",3),a.qZA()(),a.YNc(4,J,2,1,"span",4),a.YNc(5,N,1,0,"ng-container",5),a.qZA()),2&Rt&&(a.Q6J("ngStyle",a.VKq(9,w,rn.itemSize+"px"))("ngClass",a.WLB(11,x,rn.selected,rn.disabled)),a.uIk("aria-label",rn.label)("tabindex",rn.disabled?null:"0"),a.xp6(2),a.Q6J("ngClass",a.VKq(14,D,rn.selected)),a.xp6(1),a.Q6J("ngClass",a.VKq(16,S,rn.selected)),a.xp6(1),a.Q6J("ngIf",!rn.template),a.xp6(1),a.Q6J("ngTemplateOutlet",rn.template)("ngTemplateOutletContext",a.VKq(18,U,rn.option)))},dependencies:[e.mk,e.O5,e.tP,e.PC,y.H],encapsulation:2}),Jt})(),qt=(()=>{class Jt{constructor(Rt,rn,Fn,Un,ri,vi,Ni){this.el=Rt,this.renderer=rn,this.cd=Fn,this.zone=Un,this.filterService=ri,this.config=vi,this.overlayService=Ni,this.filter=!0,this.displaySelectedLabel=!0,this.maxSelectedLabels=3,this.selectedItemsLabel="ellipsis",this.showToggleAll=!0,this.emptyFilterMessage="",this.emptyMessage="",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.showHeader=!0,this.scrollHeight="200px",this.lazy=!1,this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.display="comma",this.autocomplete="on",this.showClear=!1,this.onChange=new a.vpe,this.onFilter=new a.vpe,this.onFocus=new a.vpe,this.onBlur=new a.vpe,this.onClick=new a.vpe,this.onClear=new a.vpe,this.onPanelShow=new a.vpe,this.onPanelHide=new a.vpe,this.onLazyLoad=new a.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get autoZIndex(){return this._autoZIndex}set autoZIndex(Rt){this._autoZIndex=Rt,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(Rt){this._baseZIndex=Rt,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(Rt){this._showTransitionOptions=Rt,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(Rt){this._hideTransitionOptions=Rt,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}set defaultLabel(Rt){this._defaultLabel=Rt,this.updateLabel()}get defaultLabel(){return this._defaultLabel}set placeholder(Rt){this._placeholder=Rt,this.updateLabel()}get placeholder(){return this._placeholder}get options(){return this._options}set options(Rt){this._options=Rt,this.updateLabel()}get filterValue(){return this._filterValue}set filterValue(Rt){this._filterValue=Rt,this.activateFilter()}get itemSize(){return this._itemSize}set itemSize(Rt){this._itemSize=Rt,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.updateLabel(),this.filterBy&&(this.filterOptions={filter:Rt=>this.onFilterInputChange(Rt),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(Rt=>{switch(Rt.getType()){case"item":default:this.itemTemplate=Rt.template;break;case"group":this.groupTemplate=Rt.template;break;case"selectedItems":this.selectedItemsTemplate=Rt.template;break;case"header":this.headerTemplate=Rt.template;break;case"filter":this.filterTemplate=Rt.template;break;case"emptyfilter":this.emptyFilterTemplate=Rt.template;break;case"empty":this.emptyTemplate=Rt.template;break;case"footer":this.footerTemplate=Rt.template;break;case"loader":this.loaderTemplate=Rt.template}})}ngAfterViewInit(){this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{var Rt;null===(Rt=this.overlayViewChild)||void 0===Rt||Rt.alignOverlay()},1)}),this.filtered=!1)}getOptionLabel(Rt){return this.optionLabel?L.gb.resolveFieldData(Rt,this.optionLabel):Rt&&null!=Rt.label?Rt.label:Rt}getOptionValue(Rt){return this.optionValue?L.gb.resolveFieldData(Rt,this.optionValue):!this.optionLabel&&Rt&&void 0!==Rt.value?Rt.value:Rt}getOptionGroupLabel(Rt){return this.optionGroupLabel?L.gb.resolveFieldData(Rt,this.optionGroupLabel):Rt&&null!=Rt.label?Rt.label:Rt}getOptionGroupChildren(Rt){return this.optionGroupChildren?L.gb.resolveFieldData(Rt,this.optionGroupChildren):Rt.items}isOptionDisabled(Rt){return(this.optionDisabled?L.gb.resolveFieldData(Rt,this.optionDisabled):!(!Rt||void 0===Rt.disabled)&&Rt.disabled)||this.maxSelectionLimitReached&&!this.isSelected(Rt)}writeValue(Rt){this.value=Rt,this.updateLabel(),this.updateFilledState(),this.checkSelectionLimit(),this.cd.markForCheck()}checkSelectionLimit(){this.maxSelectionLimitReached=!(!this.selectionLimit||!this.value||this.value.length!==this.selectionLimit)}updateFilledState(){this.filled=this.value&&this.value.length>0}registerOnChange(Rt){this.onModelChange=Rt}registerOnTouched(Rt){this.onModelTouched=Rt}setDisabledState(Rt){this.disabled=Rt,this.cd.markForCheck()}onOptionClick(Rt){let rn=Rt.option;if(this.isOptionDisabled(rn))return;let Fn=this.getOptionValue(rn),Un=this.findSelectionIndex(Fn);-1!=Un?(this.value=this.value.filter((ri,vi)=>vi!=Un),this.selectionLimit&&(this.maxSelectionLimitReached=!1)):((!this.selectionLimit||!this.value||this.value.length<this.selectionLimit)&&(this.value=[...this.value||[],Fn]),this.checkSelectionLimit()),this.onModelChange(this.value),this.onChange.emit({originalEvent:Rt.originalEvent,value:this.value,itemValue:Fn}),this.updateLabel(),this.updateFilledState()}isSelected(Rt){return-1!=this.findSelectionIndex(this.getOptionValue(Rt))}findSelectionIndex(Rt){let rn=-1;if(this.value)for(let Fn=0;Fn<this.value.length;Fn++)if(L.gb.equals(this.value[Fn],Rt,this.dataKey)){rn=Fn;break}return rn}get toggleAllDisabled(){let Rt=this.optionsToRender;if(!Rt||0===Rt.length)return!0;for(let rn of Rt)if(!this.isOptionDisabled(rn))return!1;return!0}toggleAll(Rt){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:Rt,value:this.value}),this.updateFilledState(),this.updateLabel(),Rt.preventDefault())}checkAll(){let rn=[];this.optionsToRender.forEach(Fn=>{if(this.group){let Un=this.getOptionGroupChildren(Fn);Un&&Un.forEach(ri=>{let vi=this.isOptionDisabled(ri);(!vi||vi&&this.isSelected(ri))&&rn.push(this.getOptionValue(ri))})}else{let Un=this.isOptionDisabled(Fn);(!Un||Un&&this.isSelected(Fn))&&rn.push(this.getOptionValue(Fn))}}),this.value=rn}uncheckAll(){let rn=[];this.optionsToRender.forEach(Fn=>{this.group?Fn.items&&Fn.items.forEach(Un=>{this.isOptionDisabled(Un)&&this.isSelected(Un)&&rn.push(this.getOptionValue(Un))}):this.isOptionDisabled(Fn)&&this.isSelected(Fn)&&rn.push(this.getOptionValue(Fn))}),this.value=rn}show(){this.overlayVisible||(this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck())}onOverlayAnimationStart(Rt){var rn;switch(Rt.toState){case"visible":this.virtualScroll&&(null===(rn=this.scroller)||void 0===rn||rn.setContentEl(this.itemsViewChild.nativeElement)),this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit();break;case"void":this.onModelTouched()}}hide(){this.overlayVisible=!1,this.resetFilterOnHide&&this.resetFilter(),this.onPanelHide.emit(),this.cd.markForCheck()}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue=null,this._filteredOptions=null}close(Rt){this.hide(),Rt.preventDefault(),Rt.stopPropagation()}clear(Rt){this.value=null,this.updateLabel(),this.updateFilledState(),this.onClear.emit(),this.onModelChange(this.value),Rt.stopPropagation()}onMouseclick(Rt,rn){var Fn,Un,ri;this.disabled||this.readonly||Rt.target.isSameNode(this.accessibleViewChild.nativeElement)||(this.onClick.emit(Rt),(null===(ri=null===(Un=null===(Fn=this.overlayViewChild)||void 0===Fn?void 0:Fn.el)||void 0===Un?void 0:Un.nativeElement)||void 0===ri||!ri.contains(Rt.target))&&!_.p.hasClass(Rt.target,"p-multiselect-token-icon")&&(this.overlayVisible?this.hide():this.show(),rn.focus()))}removeChip(Rt,rn){this.value=this.value.filter(Fn=>!L.gb.equals(Fn,Rt,this.dataKey)),this.onModelChange(this.value),this.checkSelectionLimit(),this.onChange.emit({originalEvent:rn,value:this.value,itemValue:Rt}),this.updateLabel(),this.updateFilledState()}onInputFocus(Rt){this.focus=!0,this.onFocus.emit({originalEvent:Rt})}onInputBlur(Rt){this.focus=!1,this.onBlur.emit({originalEvent:Rt}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onOptionKeydown(Rt){if(!this.readonly)switch(Rt.originalEvent.which){case 40:var rn=this.findNextItem(Rt.originalEvent.target.parentElement);rn&&rn.focus(),Rt.originalEvent.preventDefault();break;case 38:var Fn=this.findPrevItem(Rt.originalEvent.target.parentElement);Fn&&Fn.focus(),Rt.originalEvent.preventDefault();break;case 13:this.onOptionClick(Rt),Rt.originalEvent.preventDefault();break;case 27:case 9:this.hide()}}findNextItem(Rt){let rn=Rt.nextElementSibling;return rn?_.p.hasClass(rn.children[0],"p-disabled")||_.p.isHidden(rn.children[0])||_.p.hasClass(rn,"p-multiselect-item-group")?this.findNextItem(rn):rn.children[0]:null}findPrevItem(Rt){let rn=Rt.previousElementSibling;return rn?_.p.hasClass(rn.children[0],"p-disabled")||_.p.isHidden(rn.children[0])||_.p.hasClass(rn,"p-multiselect-item-group")?this.findPrevItem(rn):rn.children[0]:null}onKeydown(Rt){switch(Rt.which){case 40:!this.overlayVisible&&Rt.altKey&&(this.show(),Rt.preventDefault());break;case 32:this.overlayVisible||(this.show(),Rt.preventDefault());break;case 27:this.hide()}}updateLabel(){if(this.value&&this.options&&this.value.length&&this.displaySelectedLabel){let Rt="";for(let rn=0;rn<this.value.length;rn++){let Fn=this.findLabelByValue(this.value[rn]);Fn&&(Rt.length>0&&(Rt+=", "),Rt+=Fn)}if(this.value.length<=this.maxSelectedLabels||"ellipsis"===this.selectedItemsLabel)this.valuesAsString=Rt;else{let rn=/{(.*?)}/;this.valuesAsString=rn.test(this.selectedItemsLabel)?this.selectedItemsLabel.replace(this.selectedItemsLabel.match(rn)[0],this.value.length+""):this.selectedItemsLabel}}else this.valuesAsString=this.placeholder||this.defaultLabel}findLabelByValue(Rt){if(this.group){let rn=null;for(let Fn=0;Fn<this.options.length;Fn++){let Un=this.getOptionGroupChildren(this.options[Fn]);if(Un&&(rn=this.searchLabelByValue(Rt,Un),rn))break}return rn}return this.searchLabelByValue(Rt,this.options)}searchLabelByValue(Rt,rn){let Fn=null;for(let Un=0;Un<rn.length;Un++){let ri=rn[Un],vi=this.getOptionValue(ri);if(null==Rt&&null==vi||L.gb.equals(Rt,vi,this.dataKey)){Fn=this.getOptionLabel(ri);break}}return Fn}get allChecked(){let Rt=this.optionsToRender;if(!Rt||0===Rt.length)return!1;{let rn=0,Fn=0,Un=0,ri=this.group?0:this.optionsToRender.length;for(let vi of Rt)if(this.group)for(let Ni of this.getOptionGroupChildren(vi)){let oo=this.isOptionDisabled(Ni),Uo=this.isSelected(Ni);if(oo)Uo?rn++:Fn++;else{if(!Uo)return!1;Un++}ri++}else{let Ni=this.isOptionDisabled(vi),oo=this.isSelected(vi);if(Ni)oo?rn++:Fn++;else{if(!oo)return!1;Un++}}return ri===rn||ri===Un||Un&&ri===Un+Fn+rn}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(g.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(g.ws.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(){return!this.optionsToRender||this.optionsToRender&&0===this.optionsToRender.length}onFilterInputChange(Rt){this._filterValue=Rt.target.value,this.activateFilter(),this.onFilter.emit({originalEvent:Rt,filter:this._filterValue}),this.cd.detectChanges()}activateFilter(){if(this.hasFilter()&&this._options){let Rt=(this.filterBy||this.optionLabel||"label").split(",");if(this.group){let rn=[];for(let Fn of this.options){let Un=this.filterService.filter(this.getOptionGroupChildren(Fn),Rt,this.filterValue,this.filterMatchMode,this.filterLocale);Un&&Un.length&&rn.push(Object.assign(Object.assign({},Fn),{[this.optionGroupChildren]:Un}))}this._filteredOptions=rn}else this._filteredOptions=this.filterService.filter(this.options,Rt,this._filterValue,this.filterMatchMode,this.filterLocale)}else this._filteredOptions=null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}}return Jt.\u0275fac=function(Rt){return new(Rt||Jt)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(g.iZ),a.Y36(g.b4),a.Y36(g.F0))},Jt.\u0275cmp=a.Xpm({type:Jt,selectors:[["p-multiSelect"]],contentQueries:function(Rt,rn,Fn){if(1&Rt&&(a.Suo(Fn,g.$_,5),a.Suo(Fn,g.h4,5),a.Suo(Fn,g.jx,4)),2&Rt){let Un;a.iGM(Un=a.CRH())&&(rn.footerFacet=Un.first),a.iGM(Un=a.CRH())&&(rn.headerFacet=Un.first),a.iGM(Un=a.CRH())&&(rn.templates=Un)}},viewQuery:function(Rt,rn){if(1&Rt&&(a.Gf(F,5),a.Gf(ce,5),a.Gf(te,5),a.Gf(V,5),a.Gf(k,5),a.Gf(O,5)),2&Rt){let Fn;a.iGM(Fn=a.CRH())&&(rn.containerViewChild=Fn.first),a.iGM(Fn=a.CRH())&&(rn.overlayViewChild=Fn.first),a.iGM(Fn=a.CRH())&&(rn.filterInputChild=Fn.first),a.iGM(Fn=a.CRH())&&(rn.accessibleViewChild=Fn.first),a.iGM(Fn=a.CRH())&&(rn.itemsViewChild=Fn.first),a.iGM(Fn=a.CRH())&&(rn.scroller=Fn.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(Rt,rn){2&Rt&&a.ekj("p-inputwrapper-filled",rn.filled)("p-inputwrapper-focus",rn.focus||rn.overlayVisible)("p-multiselect-clearable",rn.showClear&&!rn.disabled)},inputs:{style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:"disabled",readonly:"readonly",group:"group",filter:"filter",filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:"overlayVisible",tabindex:"tabindex",appendTo:"appendTo",dataKey:"dataKey",name:"name",label:"label",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:"selectionLimit",selectedItemsLabel:"selectedItemsLabel",showToggleAll:"showToggleAll",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:"showHeader",filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",display:"display",autocomplete:"autocomplete",showClear:"showClear",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue",itemSize:"itemSize"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad"},features:[a._Bn([wt])],ngContentSelectors:ze,decls:15,vars:41,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","readonly","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[1,"p-multiselect-label-container",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[1,"p-multiselect-label",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-multiselect-clear-icon pi pi-times",3,"click",4,"ngIf"],[3,"ngClass"],[1,"p-multiselect-trigger-icon",3,"ngClass"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],["class","p-multiselect-token",4,"ngFor","ngForOf"],[1,"p-multiselect-token"],["token",""],[1,"p-multiselect-token-label"],["class","p-multiselect-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-multiselect-token-icon","pi","pi-times-circle",3,"click"],[1,"p-multiselect-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle","keydown"],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-items-wrapper"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],["class","p-multiselect-footer",4,"ngIf"],[1,"p-multiselect-header"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],["type","button","pRipple","",1,"p-multiselect-close","p-link",3,"click"],[1,"p-multiselect-close-icon","pi","pi-times"],[1,"p-checkbox","p-component",3,"ngClass"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[1,"p-multiselect-filter-container"],["type","text","role","textbox",1,"p-multiselect-filter","p-inputtext","p-component",3,"value","disabled","input"],["filterInput",""],[1,"p-multiselect-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","tabindex","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-items","p-component",3,"ngClass"],["items",""],["itemslist",""],["class","p-multiselect-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-multiselect-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","itemSize","onClick","onKeydown"],[1,"p-multiselect-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""],[1,"p-multiselect-footer"]],template:function(Rt,rn){if(1&Rt){const Fn=a.EpF();a.F$t(_t),a.TgZ(0,"div",0,1),a.NdJ("click",function(ri){a.CHM(Fn);const vi=a.MAs(4);return a.KtG(rn.onMouseclick(ri,vi))}),a.TgZ(2,"div",2)(3,"input",3,4),a.NdJ("focus",function(ri){return rn.onInputFocus(ri)})("blur",function(ri){return rn.onInputBlur(ri)})("keydown",function(ri){return rn.onKeydown(ri)}),a.qZA()(),a.TgZ(5,"div",5)(6,"div",6),a.YNc(7,he,3,2,"ng-container",7),a.YNc(8,j,1,0,"ng-container",8),a.qZA(),a.YNc(9,Q,1,0,"i",9),a.qZA(),a.TgZ(10,"div",10),a._UZ(11,"span",11),a.qZA(),a.TgZ(12,"p-overlay",12,13),a.NdJ("visibleChange",function(ri){return rn.overlayVisible=ri})("onAnimationStart",function(ri){return rn.onOverlayAnimationStart(ri)})("onHide",function(){return rn.hide()}),a.YNc(14,en,8,11,"ng-template",14),a.qZA()()}2&Rt&&(a.Tol(rn.styleClass),a.Q6J("ngClass",a.l5B(30,et,rn.overlayVisible,"chip"===rn.display,rn.focus,rn.disabled))("ngStyle",rn.style),a.xp6(3),a.Q6J("disabled",rn.disabled),a.uIk("label",rn.label)("id",rn.inputId)("name",rn.name)("tabindex",rn.tabindex)("aria-expanded",rn.overlayVisible)("aria-labelledby",rn.ariaLabelledBy),a.xp6(2),a.Q6J("pTooltip",rn.tooltip)("tooltipPosition",rn.tooltipPosition)("positionStyle",rn.tooltipPositionStyle)("tooltipStyleClass",rn.tooltipStyleClass),a.xp6(1),a.Q6J("ngClass",a.WLB(35,de,rn.valuesAsString===(rn.defaultLabel||rn.placeholder),!(null!=rn.valuesAsString&&0!==rn.valuesAsString.length||null!=rn.placeholder&&0!==rn.placeholder.length))),a.xp6(1),a.Q6J("ngIf",!rn.selectedItemsTemplate),a.xp6(1),a.Q6J("ngTemplateOutlet",rn.selectedItemsTemplate)("ngTemplateOutletContext",a.VKq(38,U,rn.value)),a.xp6(1),a.Q6J("ngIf",null!=rn.value&&rn.filled&&!rn.disabled&&rn.showClear),a.xp6(1),a.Q6J("ngClass",a.DdM(40,Je)),a.xp6(1),a.Q6J("ngClass",rn.dropdownIcon),a.xp6(1),a.Q6J("visible",rn.overlayVisible)("options",rn.overlayOptions)("target","@parent")("appendTo",rn.appendTo)("autoZIndex",rn.autoZIndex)("baseZIndex",rn.baseZIndex)("showTransitionOptions",rn.showTransitionOptions)("hideTransitionOptions",rn.hideTransitionOptions))},dependencies:[e.mk,e.sg,e.O5,e.tP,e.PC,P.aV,g.jx,R.u,y.H,l.T,Fe],styles:[".p-multiselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-multiselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-multiselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer}.p-multiselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-multiselect-chip .p-multiselect-label{display:flex}.p-multiselect-label-empty{overflow:hidden;visibility:hidden}.p-multiselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-multiselect-token-icon{cursor:pointer}.p-multiselect-items-wrapper{overflow:auto}.p-multiselect-items{margin:0;padding:0;list-style-type:none}.p-multiselect-item{cursor:pointer;display:flex;align-items:center;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-multiselect-header{display:flex;align-items:center;justify-content:space-between}.p-multiselect-filter-container{position:relative;flex:1 1 auto}.p-multiselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-multiselect-filter-container .p-inputtext{width:100%}.p-multiselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative}.p-fluid .p-multiselect{display:flex}.p-multiselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-multiselect-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),Jt})(),fn=(()=>{class Jt{}return Jt.\u0275fac=function(Rt){return new(Rt||Jt)},Jt.\u0275mod=a.oAB({type:Jt}),Jt.\u0275inj=a.cJS({imports:[e.ez,P.U8,g.m8,R.z,y.T,l.v,P.U8,g.m8,l.v]}),Jt})()},8050:(mn,ht,b)=>{"use strict";b.d(ht,{U8:()=>O,aV:()=>k});var e=b(1777),a=b(9808),f=b(5e3),g=b(2382),_=b(9783),P=b(5730),y=b(5921);const l=["overlay"],R=["content"];function L($,ue){1&$&&f.GkF(0)}const J=function($,ue,q){return{showTransitionParams:$,hideTransitionParams:ue,transform:q}},N=function($){return{value:"visible",params:$}},w=function($){return{mode:$}},x=function($){return{$implicit:$}};function D($,ue){if(1&$){const q=f.EpF();f.TgZ(0,"div",1,3),f.NdJ("click",function(G){f.CHM(q);const he=f.oxw(2);return f.KtG(he.onOverlayContentClick(G))})("@overlayContentAnimation.start",function(G){f.CHM(q);const he=f.oxw(2);return f.KtG(he.onOverlayContentAnimationStart(G))})("@overlayContentAnimation.done",function(G){f.CHM(q);const he=f.oxw(2);return f.KtG(he.onOverlayContentAnimationDone(G))}),f.Hsn(2),f.YNc(3,L,1,0,"ng-container",4),f.qZA()}if(2&$){const q=f.oxw(2);f.Tol(q.contentStyleClass),f.Q6J("ngStyle",q.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",f.VKq(11,N,f.kEZ(7,J,q.showTransitionOptions,q.hideTransitionOptions,q.transformOptions[q.modal?q.overlayResponsiveDirection:"default"]))),f.xp6(3),f.Q6J("ngTemplateOutlet",q.contentTemplate)("ngTemplateOutletContext",f.VKq(15,x,f.VKq(13,w,q.overlayMode)))}}const S=function($,ue,q,Y,G,he,j,Q,K,z,oe,Te,Ae,Ke){return{"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":$,"p-overlay-center":ue,"p-overlay-top":q,"p-overlay-top-start":Y,"p-overlay-top-end":G,"p-overlay-bottom":he,"p-overlay-bottom-start":j,"p-overlay-bottom-end":Q,"p-overlay-left":K,"p-overlay-left-start":z,"p-overlay-left-end":oe,"p-overlay-right":Te,"p-overlay-right-start":Ae,"p-overlay-right-end":Ke}};function U($,ue){if(1&$){const q=f.EpF();f.TgZ(0,"div",1,2),f.NdJ("click",function(G){f.CHM(q);const he=f.oxw();return f.KtG(he.onOverlayClick(G))}),f.YNc(2,D,4,17,"div",0),f.qZA()}if(2&$){const q=f.oxw();f.Tol(q.styleClass),f.Q6J("ngStyle",q.style)("ngClass",f.rFY(5,S,[q.modal,q.modal&&"center"===q.overlayResponsiveDirection,q.modal&&"top"===q.overlayResponsiveDirection,q.modal&&"top-start"===q.overlayResponsiveDirection,q.modal&&"top-end"===q.overlayResponsiveDirection,q.modal&&"bottom"===q.overlayResponsiveDirection,q.modal&&"bottom-start"===q.overlayResponsiveDirection,q.modal&&"bottom-end"===q.overlayResponsiveDirection,q.modal&&"left"===q.overlayResponsiveDirection,q.modal&&"left-start"===q.overlayResponsiveDirection,q.modal&&"left-end"===q.overlayResponsiveDirection,q.modal&&"right"===q.overlayResponsiveDirection,q.modal&&"right-start"===q.overlayResponsiveDirection,q.modal&&"right-end"===q.overlayResponsiveDirection])),f.xp6(2),f.Q6J("ngIf",q.visible)}}const F=["*"],ce={provide:g.JU,useExisting:(0,f.Gpc)(()=>k),multi:!0},te=(0,e.oQ)([(0,e.oB)({transform:"{{transform}}",opacity:0}),(0,e.jt)("{{showTransitionParams}}")]),V=(0,e.oQ)([(0,e.jt)("{{hideTransitionParams}}",(0,e.oB)({transform:"{{transform}}",opacity:0}))]);let k=(()=>{class ${constructor(q,Y,G,he,j,Q){this.document=q,this.el=Y,this.renderer=G,this.config=he,this.overlayService=j,this.cd=Q,this.visibleChange=new f.vpe,this.onBeforeShow=new f.vpe,this.onShow=new f.vpe,this.onBeforeHide=new f.vpe,this.onHide=new f.vpe,this.onAnimationStart=new f.vpe,this.onAnimationDone=new f.vpe,this._visible=!1,this.modalVisible=!1,this.isOverlayClicked=!1,this.isOverlayContentClicked=!1,this.transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"},this.window=this.document.defaultView}get visible(){return this._visible}set visible(q){this._visible=q,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){var q;return this._mode||(null===(q=this.overlayOptions)||void 0===q?void 0:q.mode)}set mode(q){this._mode=q}get style(){var q,Y;return y.gb.merge(this._style,this.modal?null===(q=this.overlayResponsiveOptions)||void 0===q?void 0:q.style:null===(Y=this.overlayOptions)||void 0===Y?void 0:Y.style)}set style(q){this._style=q}get styleClass(){var q,Y;return y.gb.merge(this._styleClass,this.modal?null===(q=this.overlayResponsiveOptions)||void 0===q?void 0:q.styleClass:null===(Y=this.overlayOptions)||void 0===Y?void 0:Y.styleClass)}set styleClass(q){this._styleClass=q}get contentStyle(){var q,Y;return y.gb.merge(this._contentStyle,this.modal?null===(q=this.overlayResponsiveOptions)||void 0===q?void 0:q.contentStyle:null===(Y=this.overlayOptions)||void 0===Y?void 0:Y.contentStyle)}set contentStyle(q){this._contentStyle=q}get contentStyleClass(){var q,Y;return y.gb.merge(this._contentStyleClass,this.modal?null===(q=this.overlayResponsiveOptions)||void 0===q?void 0:q.contentStyleClass:null===(Y=this.overlayOptions)||void 0===Y?void 0:Y.contentStyleClass)}set contentStyleClass(q){this._contentStyleClass=q}get target(){var q;const Y=this._target||(null===(q=this.overlayOptions)||void 0===q?void 0:q.target);return void 0===Y?"@prev":Y}set target(q){this._target=q}get appendTo(){var q;return this._appendTo||(null===(q=this.overlayOptions)||void 0===q?void 0:q.appendTo)}set appendTo(q){this._appendTo=q}get autoZIndex(){var q;const Y=this._autoZIndex||(null===(q=this.overlayOptions)||void 0===q?void 0:q.autoZIndex);return void 0===Y||Y}set autoZIndex(q){this._autoZIndex=q}get baseZIndex(){var q;const Y=this._baseZIndex||(null===(q=this.overlayOptions)||void 0===q?void 0:q.baseZIndex);return void 0===Y?0:Y}set baseZIndex(q){this._baseZIndex=q}get showTransitionOptions(){var q;const Y=this._showTransitionOptions||(null===(q=this.overlayOptions)||void 0===q?void 0:q.showTransitionOptions);return void 0===Y?".12s cubic-bezier(0, 0, 0.2, 1)":Y}set showTransitionOptions(q){this._showTransitionOptions=q}get hideTransitionOptions(){var q;const Y=this._hideTransitionOptions||(null===(q=this.overlayOptions)||void 0===q?void 0:q.hideTransitionOptions);return void 0===Y?".1s linear":Y}set hideTransitionOptions(q){this._hideTransitionOptions=q}get listener(){var q;return this._listener||(null===(q=this.overlayOptions)||void 0===q?void 0:q.listener)}set listener(q){this._listener=q}get responsive(){var q;return this._responsive||(null===(q=this.overlayOptions)||void 0===q?void 0:q.responsive)}set responsive(q){this._responsive=q}get options(){return this._options}set options(q){this._options=q}get modal(){var q,Y;return"modal"===this.mode||this.overlayResponsiveOptions&&(null===(q=this.window)||void 0===q?void 0:q.matchMedia((null===(Y=this.overlayResponsiveOptions.media)||void 0===Y?void 0:Y.replace("@media",""))||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches)}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){var q;return Object.assign(Object.assign({},null===(q=this.config)||void 0===q?void 0:q.overlayOptions),this.options)}get overlayResponsiveOptions(){var q;return Object.assign(Object.assign({},null===(q=this.overlayOptions)||void 0===q?void 0:q.responsive),this.responsive)}get overlayResponsiveDirection(){var q;return(null===(q=this.overlayResponsiveOptions)||void 0===q?void 0:q.direction)||"center"}get overlayEl(){var q;return null===(q=this.overlayViewChild)||void 0===q?void 0:q.nativeElement}get contentEl(){var q;return null===(q=this.contentViewChild)||void 0===q?void 0:q.nativeElement}get targetEl(){var q;return P.p.getTargetElement(this.target,null===(q=this.el)||void 0===q?void 0:q.nativeElement)}ngAfterContentInit(){var q;null===(q=this.templates)||void 0===q||q.forEach(Y=>{Y.getType(),this.contentTemplate=Y.template})}show(q,Y=!1){var G;this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:q||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),Y&&P.p.focus(this.targetEl),this.modal&&P.p.addClass(null===(G=this.document)||void 0===G?void 0:G.body,"p-overflow-hidden")}hide(q,Y=!1){var G;this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:q||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),Y&&P.p.focus(this.targetEl),this.modal&&P.p.removeClass(null===(G=this.document)||void 0===G?void 0:G.body,"p-overflow-hidden")}alignOverlay(){!this.modal&&P.p.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(q){this._visible=q,this.visibleChange.emit(q)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(q){this.overlayService.add({originalEvent:q,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(q){var Y;switch(q.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&y.P9.set(this.overlayMode,this.overlayEl,this.baseZIndex+(null===(Y=this.config)||void 0===Y?void 0:Y.zIndex[this.overlayMode])),P.p.appendOverlay(this.overlayEl,"body"===this.appendTo?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&P.p.addClass(this.overlayEl,"p-component-overlay-leave")}this.handleEvents("onAnimationStart",q)}onOverlayContentAnimationDone(q){const Y=this.overlayEl||q.element.parentElement;switch(q.toState){case"visible":this.show(Y,!0),this.bindListeners();break;case"void":this.hide(Y,!0),this.unbindListeners(),P.p.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),y.P9.clear(Y),this.modalVisible=!1}this.handleEvents("onAnimationDone",q)}handleEvents(q,Y){var G,he,j;this[q].emit(Y),this.options&&this.options[q]&&this.options[q](Y),(null===(G=this.config)||void 0===G?void 0:G.overlayOptions)&&(null===(he=this.config)||void 0===he?void 0:he.overlayOptions[q])&&(null===(j=this.config)||void 0===j||j.overlayOptions[q](Y))}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new P.V(this.targetEl,q=>{(!this.listener||this.listener(q,{type:"scroll",mode:this.overlayMode,valid:!0}))&&this.hide(q,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",q=>{const G=!(this.targetEl&&(this.targetEl.isSameNode(q.target)||!this.isOverlayClicked&&this.targetEl.contains(q.target))||this.isOverlayContentClicked);(this.listener?this.listener(q,{type:"outside",mode:this.overlayMode,valid:3!==q.which&&G}):G)&&this.hide(q),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen("window","resize",q=>{(this.listener?this.listener(q,{type:"resize",mode:this.overlayMode,valid:!P.p.isTouchDevice()}):!P.p.isTouchDevice())&&this.hide(q,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(P.p.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),y.P9.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}}return $.\u0275fac=function(q){return new(q||$)(f.Y36(a.K0),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(_.b4),f.Y36(_.F0),f.Y36(f.sBO))},$.\u0275cmp=f.Xpm({type:$,selectors:[["p-overlay"]],contentQueries:function(q,Y,G){if(1&q&&f.Suo(G,_.jx,4),2&q){let he;f.iGM(he=f.CRH())&&(Y.templates=he)}},viewQuery:function(q,Y){if(1&q&&(f.Gf(l,5),f.Gf(R,5)),2&q){let G;f.iGM(G=f.CRH())&&(Y.overlayViewChild=G.first),f.iGM(G=f.CRH())&&(Y.contentViewChild=G.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[f._Bn([ce])],ngContentSelectors:F,decls:1,vars:1,consts:[[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"ngStyle","ngClass","click"],["overlay",""],["content",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(q,Y){1&q&&(f.F$t(),f.YNc(0,U,3,20,"div",0)),2&q&&f.Q6J("ngIf",Y.modalVisible)},dependencies:[a.mk,a.O5,a.tP,a.PC],styles:[".p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}\n"],encapsulation:2,data:{animation:[(0,e.X$)("overlayContentAnimation",[(0,e.eR)(":enter",[(0,e._7)(te)]),(0,e.eR)(":leave",[(0,e._7)(V)])])]},changeDetection:0}),$})(),O=(()=>{class ${}return $.\u0275fac=function(q){return new(q||$)},$.\u0275mod=f.oAB({type:$}),$.\u0275inj=f.cJS({imports:[a.ez,_.m8,_.m8]}),$})()},3640:(mn,ht,b)=>{"use strict";b.d(ht,{T:()=>x,y:()=>D});var e=b(5e3),a=b(9808),f=b(5730),g=b(9783),_=b(5787),P=b(1777),y=b(5921);function l(S,U){1&S&&e.GkF(0)}function R(S,U){if(1&S){const F=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(te){e.CHM(F);const V=e.oxw(2);return e.KtG(V.onCloseClick(te))})("keydown.enter",function(){e.CHM(F);const te=e.oxw(2);return e.KtG(te.hide())}),e._UZ(1,"span",6),e.qZA()}if(2&S){const F=e.oxw(2);e.uIk("aria-label",F.ariaCloseLabel)}}const L=function(S,U){return{showTransitionParams:S,hideTransitionParams:U}},J=function(S,U){return{value:S,params:U}};function N(S,U){if(1&S){const F=e.EpF();e.TgZ(0,"div",1),e.NdJ("click",function(te){e.CHM(F);const V=e.oxw();return e.KtG(V.onOverlayClick(te))})("@animation.start",function(te){e.CHM(F);const V=e.oxw();return e.KtG(V.onAnimationStart(te))})("@animation.done",function(te){e.CHM(F);const V=e.oxw();return e.KtG(V.onAnimationEnd(te))}),e.TgZ(1,"div",2),e.NdJ("click",function(){e.CHM(F);const te=e.oxw();return e.KtG(te.onContentClick())})("mousedown",function(){e.CHM(F);const te=e.oxw();return e.KtG(te.onContentClick())}),e.Hsn(2),e.YNc(3,l,1,0,"ng-container",3),e.qZA(),e.YNc(4,R,2,1,"button",4),e.qZA()}if(2&S){const F=e.oxw();e.Tol(F.styleClass),e.Q6J("ngClass","p-overlaypanel p-component")("ngStyle",F.style)("@animation",e.WLB(10,J,F.overlayVisible?"open":"close",e.WLB(7,L,F.showTransitionOptions,F.hideTransitionOptions))),e.xp6(3),e.Q6J("ngTemplateOutlet",F.contentTemplate),e.xp6(1),e.Q6J("ngIf",F.showCloseIcon)}}const w=["*"];let x=(()=>{class S{constructor(F,ce,te,V,k,O){this.el=F,this.renderer=ce,this.cd=te,this.zone=V,this.config=k,this.overlayService=O,this.dismissable=!0,this.appendTo="body",this.autoZIndex=!0,this.baseZIndex=0,this.focusOnShow=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new e.vpe,this.onHide=new e.vpe,this.overlayVisible=!1,this.render=!1,this.isOverlayAnimationInProgress=!1,this.selfClick=!1}ngAfterContentInit(){this.templates.forEach(F=>{F.getType(),this.contentTemplate=F.template,this.cd.markForCheck()})}bindDocumentClickListener(){!this.documentClickListener&&this.dismissable&&this.zone.runOutsideAngular(()=>{let F=f.p.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document",F,te=>{!this.container.contains(te.target)&&this.target!==te.target&&!this.target.contains(te.target)&&!this.selfClick&&this.zone.run(()=>{this.hide()}),this.selfClick=!1,this.cd.markForCheck()})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(F,ce){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(F,ce)&&(this.destroyCallback=()=>{this.show(null,ce||F.currentTarget||F.target)}),this.hide()):this.show(F,ce))}show(F,ce){this.isOverlayAnimationInProgress||(this.target=ce||F.currentTarget||F.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(F){this.overlayService.add({originalEvent:F,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(){this.selfClick=!0}hasTargetChanged(F,ce){return null!=this.target&&this.target!==(ce||F.currentTarget||F.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):f.p.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}align(){this.autoZIndex&&y.P9.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),f.p.absolutePosition(this.container,this.target);const F=f.p.getOffset(this.container),ce=f.p.getOffset(this.target);let te=0;F.left<ce.left&&(te=ce.left-F.left),this.container.style.setProperty("--overlayArrowLeft",`${te}px`),F.top<ce.top&&(f.p.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&(this.container.style.marginTop="30px"))}onAnimationStart(F){"open"===F.toState&&(this.container=F.element,this.onShow.emit(null),this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=ce=>{this.container&&this.container.contains(ce.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(F){switch(F.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&y.P9.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}this.isOverlayAnimationInProgress=!1}focus(){let F=f.p.findSingle(this.container,"[autofocus]");F&&this.zone.runOutsideAngular(()=>{setTimeout(()=>F.focus(),5)})}hide(){this.isOverlayAnimationInProgress||(this.overlayVisible=!1,this.cd.markForCheck())}onCloseClick(F){this.hide(),F.preventDefault()}onWindowResize(F){this.overlayVisible&&!f.p.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new f.V(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&y.P9.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}}return S.\u0275fac=function(F){return new(F||S)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(g.b4),e.Y36(g.F0))},S.\u0275cmp=e.Xpm({type:S,selectors:[["p-overlayPanel"]],contentQueries:function(F,ce,te){if(1&F&&e.Suo(te,g.jx,4),2&F){let V;e.iGM(V=e.CRH())&&(ce.templates=V)}},hostAttrs:[1,"p-element"],inputs:{dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:w,decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[1,"p-overlaypanel-close-icon","pi","pi-times"]],template:function(F,ce){1&F&&(e.F$t(),e.YNc(0,N,5,13,"div",0)),2&F&&e.Q6J("ngIf",ce.render)},dependencies:[a.mk,a.O5,a.tP,a.PC,_.H],styles:['.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}\n'],encapsulation:2,data:{animation:[(0,P.X$)("animation",[(0,P.SB)("void",(0,P.oB)({transform:"scaleY(0.8)",opacity:0})),(0,P.SB)("close",(0,P.oB)({opacity:0})),(0,P.SB)("open",(0,P.oB)({transform:"translateY(0)",opacity:1})),(0,P.eR)("void => open",(0,P.jt)("{{showTransitionParams}}")),(0,P.eR)("open => close",(0,P.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),S})(),D=(()=>{class S{}return S.\u0275fac=function(F){return new(F||S)},S.\u0275mod=e.oAB({type:S}),S.\u0275inj=e.cJS({imports:[a.ez,_.T,g.m8,g.m8]}),S})()},4132:(mn,ht,b)=>{"use strict";b.d(ht,{D:()=>G,U:()=>he});var e=b(5e3),a=b(9808),f=b(2382),g=b(4036),_=b(5787),P=b(9783),y=b(7010);function l(j,Q){1&j&&e.GkF(0)}const R=function(j){return{$implicit:j}};function L(j,Q){if(1&j&&(e.TgZ(0,"div",15),e.YNc(1,l,1,0,"ng-container",16),e.qZA()),2&j){const K=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",K.templateLeft)("ngTemplateOutletContext",e.VKq(2,R,K.paginatorState))}}function J(j,Q){if(1&j&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&j){const K=e.oxw(2);e.xp6(1),e.Oqu(K.currentPageReport)}}const N=function(j){return{"p-disabled":j}};function w(j,Q){if(1&j){const K=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(oe){e.CHM(K);const Te=e.oxw(2);return e.KtG(Te.changePageToFirst(oe))}),e._UZ(1,"span",19),e.qZA()}if(2&j){const K=e.oxw(2);e.Q6J("disabled",K.isFirstPage()||K.empty())("ngClass",e.VKq(2,N,K.isFirstPage()||K.empty()))}}const x=function(j){return{"p-highlight":j}};function D(j,Q){if(1&j){const K=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(oe){const Ae=e.CHM(K).$implicit,Ke=e.oxw(3);return e.KtG(Ke.onPageLinkClick(oe,Ae-1))}),e._uU(1),e.qZA()}if(2&j){const K=Q.$implicit,z=e.oxw(3);e.Q6J("ngClass",e.VKq(2,x,K-1==z.getPage())),e.xp6(1),e.hij(" ",K," ")}}function S(j,Q){if(1&j&&(e.TgZ(0,"span",20),e.YNc(1,D,2,4,"button",21),e.qZA()),2&j){const K=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",K.pageLinks)}}function U(j,Q){if(1&j&&e._uU(0),2&j){const K=e.oxw(3);e.Oqu(K.currentPageReport)}}function F(j,Q){if(1&j){const K=e.EpF();e.TgZ(0,"p-dropdown",23),e.NdJ("onChange",function(oe){e.CHM(K);const Te=e.oxw(2);return e.KtG(Te.onPageDropdownChange(oe))}),e.YNc(1,U,1,1,"ng-template",24),e.qZA()}if(2&j){const K=e.oxw(2);e.Q6J("options",K.pageItems)("ngModel",K.getPage())("disabled",K.empty())("appendTo",K.dropdownAppendTo)("scrollHeight",K.dropdownScrollHeight)}}function ce(j,Q){if(1&j){const K=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(oe){e.CHM(K);const Te=e.oxw(2);return e.KtG(Te.changePageToLast(oe))}),e._UZ(1,"span",26),e.qZA()}if(2&j){const K=e.oxw(2);e.Q6J("disabled",K.isLastPage()||K.empty())("ngClass",e.VKq(2,N,K.isLastPage()||K.empty()))}}function te(j,Q){if(1&j){const K=e.EpF();e.TgZ(0,"p-inputNumber",27),e.NdJ("ngModelChange",function(oe){e.CHM(K);const Te=e.oxw(2);return e.KtG(Te.changePage(oe-1))}),e.qZA()}if(2&j){const K=e.oxw(2);e.Q6J("ngModel",K.currentPage())("disabled",K.empty())}}function V(j,Q){1&j&&e.GkF(0)}function k(j,Q){if(1&j&&e.YNc(0,V,1,0,"ng-container",16),2&j){const K=Q.$implicit,z=e.oxw(4);e.Q6J("ngTemplateOutlet",z.dropdownItemTemplate)("ngTemplateOutletContext",e.VKq(2,R,K))}}function O(j,Q){1&j&&(e.ynx(0),e.YNc(1,k,1,4,"ng-template",30),e.BQk())}function $(j,Q){if(1&j){const K=e.EpF();e.TgZ(0,"p-dropdown",28),e.NdJ("ngModelChange",function(oe){e.CHM(K);const Te=e.oxw(2);return e.KtG(Te.rows=oe)})("onChange",function(oe){e.CHM(K);const Te=e.oxw(2);return e.KtG(Te.onRppChange(oe))}),e.YNc(1,O,2,0,"ng-container",29),e.qZA()}if(2&j){const K=e.oxw(2);e.Q6J("options",K.rowsPerPageItems)("ngModel",K.rows)("disabled",K.empty())("appendTo",K.dropdownAppendTo)("scrollHeight",K.dropdownScrollHeight),e.xp6(1),e.Q6J("ngIf",K.dropdownItemTemplate)}}function ue(j,Q){1&j&&e.GkF(0)}function q(j,Q){if(1&j&&(e.TgZ(0,"div",31),e.YNc(1,ue,1,0,"ng-container",16),e.qZA()),2&j){const K=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",K.templateRight)("ngTemplateOutletContext",e.VKq(2,R,K.paginatorState))}}function Y(j,Q){if(1&j){const K=e.EpF();e.TgZ(0,"div",1),e.YNc(1,L,2,4,"div",2),e.YNc(2,J,2,1,"span",3),e.YNc(3,w,2,4,"button",4),e.TgZ(4,"button",5),e.NdJ("click",function(oe){e.CHM(K);const Te=e.oxw();return e.KtG(Te.changePageToPrev(oe))}),e._UZ(5,"span",6),e.qZA(),e.YNc(6,S,2,1,"span",7),e.YNc(7,F,2,5,"p-dropdown",8),e.TgZ(8,"button",9),e.NdJ("click",function(oe){e.CHM(K);const Te=e.oxw();return e.KtG(Te.changePageToNext(oe))}),e._UZ(9,"span",10),e.qZA(),e.YNc(10,ce,2,4,"button",11),e.YNc(11,te,1,2,"p-inputNumber",12),e.YNc(12,$,2,6,"p-dropdown",13),e.YNc(13,q,2,4,"div",14),e.qZA()}if(2&j){const K=e.oxw();e.Tol(K.styleClass),e.Q6J("ngStyle",K.style)("ngClass","p-paginator p-component"),e.xp6(1),e.Q6J("ngIf",K.templateLeft),e.xp6(1),e.Q6J("ngIf",K.showCurrentPageReport),e.xp6(1),e.Q6J("ngIf",K.showFirstLastIcon),e.xp6(1),e.Q6J("disabled",K.isFirstPage()||K.empty())("ngClass",e.VKq(17,N,K.isFirstPage()||K.empty())),e.xp6(2),e.Q6J("ngIf",K.showPageLinks),e.xp6(1),e.Q6J("ngIf",K.showJumpToPageDropdown),e.xp6(1),e.Q6J("disabled",K.isLastPage()||K.empty())("ngClass",e.VKq(19,N,K.isLastPage()||K.empty())),e.xp6(2),e.Q6J("ngIf",K.showFirstLastIcon),e.xp6(1),e.Q6J("ngIf",K.showJumpToPageInput),e.xp6(1),e.Q6J("ngIf",K.rowsPerPageOptions),e.xp6(1),e.Q6J("ngIf",K.templateRight)}}let G=(()=>{class j{constructor(K){this.cd=K,this.pageLinkSize=5,this.onPageChange=new e.vpe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(K){K.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),K.first&&(this._first=K.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),K.rows&&(this.updatePageLinks(),this.updatePaginatorState()),K.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(K){this._first=K}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let K of this.rowsPerPageOptions)"object"==typeof K&&K.showAll?this.rowsPerPageItems.unshift({label:K.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(K),value:K})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let K=this.getPageCount(),z=Math.min(this.pageLinkSize,K),oe=Math.max(0,Math.ceil(this.getPage()-z/2)),Te=Math.min(K-1,oe+z-1);return oe=Math.max(0,oe-(this.pageLinkSize-(Te-oe+1))),[oe,Te]}updatePageLinks(){this.pageLinks=[];let K=this.calculatePageLinkBoundaries(),oe=K[1];for(let Te=K[0];Te<=oe;Te++)this.pageLinks.push(Te+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let Te=0;Te<this.getPageCount();Te++)this.pageItems.push({label:String(Te+1),value:Te})}}changePage(K){var z=this.getPageCount();if(K>=0&&K<z){this._first=this.rows*K;var oe={page:K,first:this.first,rows:this.rows,pageCount:z};this.updatePageLinks(),this.onPageChange.emit(oe),this.updatePaginatorState()}}updateFirst(){const K=this.getPage();K>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(K-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(K){this.isFirstPage()||this.changePage(0),K.preventDefault()}changePageToPrev(K){this.changePage(this.getPage()-1),K.preventDefault()}changePageToNext(K){this.changePage(this.getPage()+1),K.preventDefault()}changePageToLast(K){this.isLastPage()||this.changePage(this.getPageCount()-1),K.preventDefault()}onPageLinkClick(K,z){this.changePage(z),K.preventDefault()}onRppChange(K){this.changePage(this.getPage())}onPageDropdownChange(K){this.changePage(K.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return j.\u0275fac=function(K){return new(K||j)(e.Y36(e.sBO))},j.\u0275cmp=e.Xpm({type:j,selectors:[["p-paginator"]],hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[e.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(K,z){1&K&&e.YNc(0,Y,14,21,"div",0),2&K&&e.Q6J("ngIf",!!z.alwaysShow||z.pageLinks&&z.pageLinks.length>1)},dependencies:[a.mk,a.sg,a.O5,a.tP,a.PC,g.Lt,P.jx,y.Rn,f.JJ,f.On,_.H],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}\n"],encapsulation:2,changeDetection:0}),j})(),he=(()=>{class j{}return j.\u0275fac=function(K){return new(K||j)},j.\u0275mod=e.oAB({type:j}),j.\u0275inj=e.cJS({imports:[a.ez,g.kW,y.L$,f.u5,P.m8,_.T,g.kW,y.L$,f.u5,P.m8]}),j})()},5132:(mn,ht,b)=>{"use strict";b.d(ht,{G:()=>Gt,f:()=>Ht});var e=b(5e3),a=b(9808),f=b(845),g=b(9783),_=b(5730),P=b(5787),y=b(5573),l=b(5921);const R=["sourcelist"],L=["targetlist"],J=["sourceFilter"],N=["targetFilter"];function w(Ut,ct){if(1&Ut){const at=e.EpF();e.TgZ(0,"div",18)(1,"button",19),e.NdJ("click",function(){e.CHM(at);const ke=e.oxw(),ot=e.MAs(6);return e.KtG(ke.moveUp(ot,ke.source,ke.selectedItemsSource,ke.onSourceReorder,ke.SOURCE_LIST))}),e.qZA(),e.TgZ(2,"button",20),e.NdJ("click",function(){e.CHM(at);const ke=e.oxw(),ot=e.MAs(6);return e.KtG(ke.moveTop(ot,ke.source,ke.selectedItemsSource,ke.onSourceReorder,ke.SOURCE_LIST))}),e.qZA(),e.TgZ(3,"button",21),e.NdJ("click",function(){e.CHM(at);const ke=e.oxw(),ot=e.MAs(6);return e.KtG(ke.moveDown(ot,ke.source,ke.selectedItemsSource,ke.onSourceReorder,ke.SOURCE_LIST))}),e.qZA(),e.TgZ(4,"button",22),e.NdJ("click",function(){e.CHM(at);const ke=e.oxw(),ot=e.MAs(6);return e.KtG(ke.moveBottom(ot,ke.source,ke.selectedItemsSource,ke.onSourceReorder,ke.SOURCE_LIST))}),e.qZA()()}if(2&Ut){const at=e.oxw();e.xp6(1),e.Q6J("disabled",at.sourceMoveDisabled()),e.uIk("aria-label",at.upButtonAriaLabel),e.xp6(1),e.Q6J("disabled",at.sourceMoveDisabled()),e.uIk("aria-label",at.topButtonAriaLabel),e.xp6(1),e.Q6J("disabled",at.sourceMoveDisabled()),e.uIk("aria-label",at.downButtonAriaLabel),e.xp6(1),e.Q6J("disabled",at.sourceMoveDisabled()),e.uIk("aria-label",at.bottomButtonAriaLabel)}}function x(Ut,ct){if(1&Ut&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&Ut){const at=e.oxw(2);e.xp6(1),e.Oqu(at.sourceHeader)}}function D(Ut,ct){1&Ut&&e.GkF(0)}function S(Ut,ct){if(1&Ut&&(e.TgZ(0,"div",23),e.YNc(1,x,2,1,"div",24),e.YNc(2,D,1,0,"ng-container",25),e.qZA()),2&Ut){const at=e.oxw();e.xp6(1),e.Q6J("ngIf",!at.sourceHeaderTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",at.sourceHeaderTemplate)}}function U(Ut,ct){1&Ut&&e.GkF(0)}const F=function(Ut){return{options:Ut}};function ce(Ut,ct){if(1&Ut&&(e.ynx(0),e.YNc(1,U,1,0,"ng-container",30),e.BQk()),2&Ut){const at=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",at.sourceFilterTemplate)("ngTemplateOutletContext",e.VKq(2,F,at.sourceFilterOptions))}}function te(Ut,ct){if(1&Ut){const at=e.EpF();e.TgZ(0,"div",31)(1,"input",32,33),e.NdJ("keyup",function(ke){e.CHM(at);const ot=e.oxw(2);return e.KtG(ot.onFilter(ke,ot.SOURCE_LIST))}),e.qZA(),e._UZ(3,"span",34),e.qZA()}if(2&Ut){const at=e.oxw(2);e.xp6(1),e.Q6J("disabled",at.disabled),e.uIk("placeholder",at.sourceFilterPlaceholder)("aria-label",at.ariaSourceFilterLabel)}}function V(Ut,ct){if(1&Ut&&(e.TgZ(0,"div",27),e.YNc(1,ce,2,4,"ng-container",28),e.YNc(2,te,4,3,"ng-template",null,29,e.W1O),e.qZA()),2&Ut){const at=e.MAs(3),fe=e.oxw();e.xp6(1),e.Q6J("ngIf",fe.sourceFilterTemplate)("ngIfElse",at)}}function k(Ut,ct){1&Ut&&e.GkF(0)}const O=function(Ut,ct){return{"p-picklist-item":!0,"p-highlight":Ut,"p-disabled":ct}},$=function(Ut,ct){return{$implicit:Ut,index:ct}};function ue(Ut,ct){if(1&Ut){const at=e.EpF();e.TgZ(0,"li",36),e.NdJ("click",function(ke){e.CHM(at);const ot=e.oxw().$implicit,Ct=e.oxw();return e.KtG(Ct.onItemClick(ke,ot,Ct.selectedItemsSource,Ct.onSourceSelect))})("dblclick",function(){e.CHM(at);const ke=e.oxw(2);return e.KtG(ke.onSourceItemDblClick())})("touchend",function(){e.CHM(at);const ke=e.oxw(2);return e.KtG(ke.onItemTouchEnd())})("keydown",function(ke){e.CHM(at);const ot=e.oxw().$implicit,Ct=e.oxw();return e.KtG(Ct.onItemKeydown(ke,ot,Ct.selectedItemsSource,Ct.onSourceSelect))}),e.YNc(1,k,1,0,"ng-container",30),e.qZA()}if(2&Ut){const at=e.oxw(),fe=at.$implicit,ke=at.index,ot=e.oxw();e.Q6J("ngClass",e.WLB(6,O,ot.isSelected(fe,ot.selectedItemsSource),ot.disabled))("cdkDragData",fe)("cdkDragDisabled",!ot.dragdrop),e.uIk("aria-selected",ot.isSelected(fe,ot.selectedItemsSource)),e.xp6(1),e.Q6J("ngTemplateOutlet",ot.itemTemplate)("ngTemplateOutletContext",e.WLB(9,$,fe,ke))}}function q(Ut,ct){if(1&Ut&&e.YNc(0,ue,2,12,"li",35),2&Ut){const at=ct.$implicit,fe=e.oxw();e.Q6J("ngIf",fe.isItemVisible(at,fe.SOURCE_LIST))}}function Y(Ut,ct){1&Ut&&e.GkF(0)}function G(Ut,ct){if(1&Ut&&(e.TgZ(0,"li",38),e.YNc(1,Y,1,0,"ng-container",25),e.qZA()),2&Ut){const at=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",at.emptyMessageSourceTemplate)}}function he(Ut,ct){1&Ut&&e.GkF(0)}function j(Ut,ct){if(1&Ut&&(e.TgZ(0,"li",38),e.YNc(1,he,1,0,"ng-container",25),e.qZA()),2&Ut){const at=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",at.emptyFilterMessageSourceTemplate)}}function Q(Ut,ct){if(1&Ut&&(e.ynx(0),e.YNc(1,G,2,1,"li",37),e.YNc(2,j,2,1,"li",37),e.BQk()),2&Ut){const at=e.oxw();e.xp6(1),e.Q6J("ngIf",!at.filterValueSource||!at.emptyFilterMessageSourceTemplate),e.xp6(1),e.Q6J("ngIf",at.filterValueSource)}}function K(Ut,ct){if(1&Ut&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&Ut){const at=e.oxw(2);e.xp6(1),e.Oqu(at.targetHeader)}}function z(Ut,ct){1&Ut&&e.GkF(0)}function oe(Ut,ct){if(1&Ut&&(e.TgZ(0,"div",23),e.YNc(1,K,2,1,"div",24),e.YNc(2,z,1,0,"ng-container",25),e.qZA()),2&Ut){const at=e.oxw();e.xp6(1),e.Q6J("ngIf",!at.targetHeaderTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",at.targetHeaderTemplate)}}function Te(Ut,ct){1&Ut&&e.GkF(0)}function Ae(Ut,ct){if(1&Ut&&(e.ynx(0),e.YNc(1,Te,1,0,"ng-container",30),e.BQk()),2&Ut){const at=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",at.targetFilterTemplate)("ngTemplateOutletContext",e.VKq(2,F,at.targetFilterOptions))}}function Ke(Ut,ct){if(1&Ut){const at=e.EpF();e.TgZ(0,"div",31)(1,"input",32,40),e.NdJ("keyup",function(ke){e.CHM(at);const ot=e.oxw(2);return e.KtG(ot.onFilter(ke,ot.TARGET_LIST))}),e.qZA(),e._UZ(3,"span",34),e.qZA()}if(2&Ut){const at=e.oxw(2);e.xp6(1),e.Q6J("disabled",at.disabled),e.uIk("placeholder",at.targetFilterPlaceholder)("aria-label",at.ariaTargetFilterLabel)}}function be(Ut,ct){if(1&Ut&&(e.TgZ(0,"div",27),e.YNc(1,Ae,2,4,"ng-container",28),e.YNc(2,Ke,4,3,"ng-template",null,39,e.W1O),e.qZA()),2&Ut){const at=e.MAs(3),fe=e.oxw();e.xp6(1),e.Q6J("ngIf",fe.targetFilterTemplate)("ngIfElse",at)}}function Qe(Ut,ct){1&Ut&&e.GkF(0)}function X(Ut,ct){if(1&Ut){const at=e.EpF();e.TgZ(0,"li",36),e.NdJ("click",function(ke){e.CHM(at);const ot=e.oxw().$implicit,Ct=e.oxw();return e.KtG(Ct.onItemClick(ke,ot,Ct.selectedItemsTarget,Ct.onTargetSelect))})("dblclick",function(){e.CHM(at);const ke=e.oxw(2);return e.KtG(ke.onTargetItemDblClick())})("touchend",function(){e.CHM(at);const ke=e.oxw(2);return e.KtG(ke.onItemTouchEnd())})("keydown",function(ke){e.CHM(at);const ot=e.oxw().$implicit,Ct=e.oxw();return e.KtG(Ct.onItemKeydown(ke,ot,Ct.selectedItemsTarget,Ct.onTargetSelect))}),e.YNc(1,Qe,1,0,"ng-container",30),e.qZA()}if(2&Ut){const at=e.oxw(),fe=at.$implicit,ke=at.index,ot=e.oxw();e.Q6J("ngClass",e.WLB(6,O,ot.isSelected(fe,ot.selectedItemsTarget),ot.disabled))("cdkDragData",fe)("cdkDragDisabled",!ot.dragdrop),e.uIk("aria-selected",ot.isSelected(fe,ot.selectedItemsTarget)),e.xp6(1),e.Q6J("ngTemplateOutlet",ot.itemTemplate)("ngTemplateOutletContext",e.WLB(9,$,fe,ke))}}function xe(Ut,ct){if(1&Ut&&e.YNc(0,X,2,12,"li",35),2&Ut){const at=ct.$implicit,fe=e.oxw();e.Q6J("ngIf",fe.isItemVisible(at,fe.TARGET_LIST))}}function we(Ut,ct){1&Ut&&e.GkF(0)}function Oe(Ut,ct){if(1&Ut&&(e.TgZ(0,"li",38),e.YNc(1,we,1,0,"ng-container",25),e.qZA()),2&Ut){const at=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",at.emptyMessageTargetTemplate)}}function dt(Ut,ct){1&Ut&&e.GkF(0)}function bt(Ut,ct){if(1&Ut&&(e.TgZ(0,"li",38),e.YNc(1,dt,1,0,"ng-container",25),e.qZA()),2&Ut){const at=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",at.emptyFilterMessageTargetTemplate)}}function it(Ut,ct){if(1&Ut&&(e.ynx(0),e.YNc(1,Oe,2,1,"li",37),e.YNc(2,bt,2,1,"li",37),e.BQk()),2&Ut){const at=e.oxw();e.xp6(1),e.Q6J("ngIf",!at.filterValueTarget||!at.emptyFilterMessageTargetTemplate),e.xp6(1),e.Q6J("ngIf",at.filterValueTarget)}}function Dt(Ut,ct){if(1&Ut){const at=e.EpF();e.TgZ(0,"div",41)(1,"button",19),e.NdJ("click",function(){e.CHM(at);const ke=e.oxw(),ot=e.MAs(18);return e.KtG(ke.moveUp(ot,ke.target,ke.selectedItemsTarget,ke.onTargetReorder,ke.TARGET_LIST))}),e.qZA(),e.TgZ(2,"button",20),e.NdJ("click",function(){e.CHM(at);const ke=e.oxw(),ot=e.MAs(18);return e.KtG(ke.moveTop(ot,ke.target,ke.selectedItemsTarget,ke.onTargetReorder,ke.TARGET_LIST))}),e.qZA(),e.TgZ(3,"button",21),e.NdJ("click",function(){e.CHM(at);const ke=e.oxw(),ot=e.MAs(18);return e.KtG(ke.moveDown(ot,ke.target,ke.selectedItemsTarget,ke.onTargetReorder,ke.TARGET_LIST))}),e.qZA(),e.TgZ(4,"button",22),e.NdJ("click",function(){e.CHM(at);const ke=e.oxw(),ot=e.MAs(18);return e.KtG(ke.moveBottom(ot,ke.target,ke.selectedItemsTarget,ke.onTargetReorder,ke.TARGET_LIST))}),e.qZA()()}if(2&Ut){const at=e.oxw();e.xp6(1),e.Q6J("disabled",at.targetMoveDisabled()),e.uIk("aria-label",at.upButtonAriaLabel),e.xp6(1),e.Q6J("disabled",at.targetMoveDisabled()),e.uIk("aria-label",at.topButtonAriaLabel),e.xp6(1),e.Q6J("disabled",at.targetMoveDisabled()),e.uIk("aria-label",at.downButtonAriaLabel),e.xp6(1),e.Q6J("disabled",at.targetMoveDisabled()),e.uIk("aria-label",at.bottomButtonAriaLabel)}}const vt=function(Ut){return{"p-picklist p-component":!0,"p-picklist-striped":Ut}};let Gt=(()=>{class Ut{constructor(at,fe,ke){this.el=at,this.cd=fe,this.filterService=ke,this.trackBy=(ot,Ct)=>Ct,this.showSourceFilter=!0,this.showTargetFilter=!0,this.metaKeySelection=!0,this.dragdrop=!1,this.showSourceControls=!0,this.showTargetControls=!0,this.disabled=!1,this.filterMatchMode="contains",this.breakpoint="960px",this.keepSelection=!1,this.onMoveToSource=new e.vpe,this.onMoveAllToSource=new e.vpe,this.onMoveAllToTarget=new e.vpe,this.onMoveToTarget=new e.vpe,this.onSourceReorder=new e.vpe,this.onTargetReorder=new e.vpe,this.onSourceSelect=new e.vpe,this.onTargetSelect=new e.vpe,this.onSourceFilter=new e.vpe,this.onTargetFilter=new e.vpe,this.selectedItemsSource=[],this.selectedItemsTarget=[],this.id=(0,l.Th)(),this.SOURCE_LIST=-1,this.TARGET_LIST=1}ngOnInit(){this.responsive&&this.createStyle(),this.filterBy&&(this.sourceFilterOptions={filter:at=>this.filterSource(at),reset:()=>this.resetSourceFilter()},this.targetFilterOptions={filter:at=>this.filterTarget(at),reset:()=>this.resetTargetFilter()})}ngAfterContentInit(){this.templates.forEach(at=>{switch(at.getType()){case"item":default:this.itemTemplate=at.template;break;case"sourceHeader":this.sourceHeaderTemplate=at.template;break;case"targetHeader":this.targetHeaderTemplate=at.template;break;case"sourceFilter":this.sourceFilterTemplate=at.template;break;case"targetFilter":this.targetFilterTemplate=at.template;break;case"emptymessagesource":this.emptyMessageSourceTemplate=at.template;break;case"emptyfiltermessagesource":this.emptyFilterMessageSourceTemplate=at.template;break;case"emptymessagetarget":this.emptyMessageTargetTemplate=at.template;break;case"emptyfiltermessagetarget":this.emptyFilterMessageTargetTemplate=at.template}})}ngAfterViewChecked(){if(this.movedUp||this.movedDown){let fe,at=_.p.find(this.reorderedListElement,"li.p-highlight");fe=this.movedUp?at[0]:at[at.length-1],_.p.scrollInView(this.reorderedListElement,fe),this.movedUp=!1,this.movedDown=!1,this.reorderedListElement=null}}onItemClick(at,fe,ke,ot){if(this.disabled)return;let Ct=this.findIndexInSelection(fe,ke),Ot=-1!=Ct;if(!this.itemTouched&&this.metaKeySelection){let Mt=at.metaKey||at.ctrlKey||at.shiftKey;Ot&&Mt?ke.splice(Ct,1):(Mt||(ke.length=0),ke.push(fe))}else Ot?ke.splice(Ct,1):ke.push(fe);ot.emit({originalEvent:at,items:ke}),this.itemTouched=!1}onSourceItemDblClick(){this.disabled||this.moveRight()}onTargetItemDblClick(){this.disabled||this.moveLeft()}onFilter(at,fe){let ke=at.target.value;fe===this.SOURCE_LIST?this.filterSource(ke):fe===this.TARGET_LIST&&this.filterTarget(ke)}filterSource(at=""){this.filterValueSource=at.trim().toLocaleLowerCase(this.filterLocale),this.filter(this.source,this.SOURCE_LIST)}filterTarget(at=""){this.filterValueTarget=at.trim().toLocaleLowerCase(this.filterLocale),this.filter(this.target,this.TARGET_LIST)}filter(at,fe){let ke=this.filterBy.split(",");fe===this.SOURCE_LIST?(this.visibleOptionsSource=this.filterService.filter(at,ke,this.filterValueSource,this.filterMatchMode,this.filterLocale),this.onSourceFilter.emit({query:this.filterValueSource,value:this.visibleOptionsSource})):fe===this.TARGET_LIST&&(this.visibleOptionsTarget=this.filterService.filter(at,ke,this.filterValueTarget,this.filterMatchMode,this.filterLocale),this.onTargetFilter.emit({query:this.filterValueTarget,value:this.visibleOptionsTarget}))}isItemVisible(at,fe){return fe==this.SOURCE_LIST?this.isVisibleInList(this.visibleOptionsSource,at,this.filterValueSource):this.isVisibleInList(this.visibleOptionsTarget,at,this.filterValueTarget)}isEmpty(at){return at==this.SOURCE_LIST?this.filterValueSource?!this.visibleOptionsSource||0===this.visibleOptionsSource.length:!this.source||0===this.source.length:this.filterValueTarget?!this.visibleOptionsTarget||0===this.visibleOptionsTarget.length:!this.target||0===this.target.length}isVisibleInList(at,fe,ke){if(!ke||!ke.trim().length)return!0;for(let ot=0;ot<at.length;ot++)if(fe==at[ot])return!0}onItemTouchEnd(){this.disabled||(this.itemTouched=!0)}sortByIndexInList(at,fe){return at.sort((ke,ot)=>l.gb.findIndexInList(ke,fe)-l.gb.findIndexInList(ot,fe))}moveUp(at,fe,ke,ot,Ct){if(ke&&ke.length){ke=this.sortByIndexInList(ke,fe);for(let Ot=0;Ot<ke.length;Ot++){let Mt=l.gb.findIndexInList(ke[Ot],fe);if(0==Mt)break;{let st=fe[Mt-1];fe[Mt-1]=fe[Mt],fe[Mt]=st}}this.dragdrop&&(this.filterValueSource&&Ct===this.SOURCE_LIST||this.filterValueTarget&&Ct===this.TARGET_LIST)&&this.filter(fe,Ct),this.movedUp=!0,this.reorderedListElement=at,ot.emit({items:ke})}}moveTop(at,fe,ke,ot,Ct){if(ke&&ke.length){ke=this.sortByIndexInList(ke,fe);for(let Ot=0;Ot<ke.length;Ot++){let Mt=l.gb.findIndexInList(ke[Ot],fe);if(0==Mt)break;{let Ye=fe.splice(Mt,1)[0];fe.unshift(Ye)}}this.dragdrop&&(this.filterValueSource&&Ct===this.SOURCE_LIST||this.filterValueTarget&&Ct===this.TARGET_LIST)&&this.filter(fe,Ct),at.scrollTop=0,ot.emit({items:ke})}}moveDown(at,fe,ke,ot,Ct){if(ke&&ke.length){for(let Ot=(ke=this.sortByIndexInList(ke,fe)).length-1;Ot>=0;Ot--){let Mt=l.gb.findIndexInList(ke[Ot],fe);if(Mt==fe.length-1)break;{let st=fe[Mt+1];fe[Mt+1]=fe[Mt],fe[Mt]=st}}this.dragdrop&&(this.filterValueSource&&Ct===this.SOURCE_LIST||this.filterValueTarget&&Ct===this.TARGET_LIST)&&this.filter(fe,Ct),this.movedDown=!0,this.reorderedListElement=at,ot.emit({items:ke})}}moveBottom(at,fe,ke,ot,Ct){if(ke&&ke.length){for(let Ot=(ke=this.sortByIndexInList(ke,fe)).length-1;Ot>=0;Ot--){let Mt=l.gb.findIndexInList(ke[Ot],fe);if(Mt==fe.length-1)break;{let Ye=fe.splice(Mt,1)[0];fe.push(Ye)}}this.dragdrop&&(this.filterValueSource&&Ct===this.SOURCE_LIST||this.filterValueTarget&&Ct===this.TARGET_LIST)&&this.filter(fe,Ct),at.scrollTop=at.scrollHeight,ot.emit({items:ke})}}moveRight(){if(this.selectedItemsSource&&this.selectedItemsSource.length){for(let at=0;at<this.selectedItemsSource.length;at++){let fe=this.selectedItemsSource[at];-1==l.gb.findIndexInList(fe,this.target)&&(this.target.push(this.source.splice(l.gb.findIndexInList(fe,this.source),1)[0]),this.visibleOptionsSource&&this.visibleOptionsSource.splice(l.gb.findIndexInList(fe,this.visibleOptionsSource),1))}this.onMoveToTarget.emit({items:this.selectedItemsSource}),this.keepSelection&&(this.selectedItemsTarget=[...this.selectedItemsTarget,...this.selectedItemsSource]),this.selectedItemsSource=[],this.filterValueTarget&&this.filter(this.target,this.TARGET_LIST)}}moveAllRight(){if(this.source){let at=[];for(let fe=0;fe<this.source.length;fe++)if(this.isItemVisible(this.source[fe],this.SOURCE_LIST)){let ke=this.source.splice(fe,1)[0];this.target.push(ke),at.push(ke),fe--}this.onMoveAllToTarget.emit({items:at}),this.keepSelection&&(this.selectedItemsTarget=[...this.selectedItemsTarget,...this.selectedItemsSource]),this.selectedItemsSource=[],this.filterValueTarget&&this.filter(this.target,this.TARGET_LIST),this.visibleOptionsSource=[]}}moveLeft(){if(this.selectedItemsTarget&&this.selectedItemsTarget.length){for(let at=0;at<this.selectedItemsTarget.length;at++){let fe=this.selectedItemsTarget[at];-1==l.gb.findIndexInList(fe,this.source)&&(this.source.push(this.target.splice(l.gb.findIndexInList(fe,this.target),1)[0]),this.visibleOptionsTarget&&this.visibleOptionsTarget.splice(l.gb.findIndexInList(fe,this.visibleOptionsTarget),1))}this.onMoveToSource.emit({items:this.selectedItemsTarget}),this.keepSelection&&(this.selectedItemsSource=[...this.selectedItemsSource,...this.selectedItemsTarget]),this.selectedItemsTarget=[],this.filterValueSource&&this.filter(this.source,this.SOURCE_LIST)}}moveAllLeft(){if(this.target){let at=[];for(let fe=0;fe<this.target.length;fe++)if(this.isItemVisible(this.target[fe],this.TARGET_LIST)){let ke=this.target.splice(fe,1)[0];this.source.push(ke),at.push(ke),fe--}this.onMoveAllToSource.emit({items:at}),this.keepSelection&&(this.selectedItemsSource=[...this.selectedItemsSource,...this.selectedItemsTarget]),this.selectedItemsTarget=[],this.filterValueSource&&this.filter(this.source,this.SOURCE_LIST),this.visibleOptionsTarget=[]}}isSelected(at,fe){return-1!=this.findIndexInSelection(at,fe)}findIndexInSelection(at,fe){return l.gb.findIndexInList(at,fe)}onDrop(at,fe){let ke=at.previousContainer!==at.container,ot=this.getDropIndexes(at.previousIndex,at.currentIndex,fe,ke,at.item.data);if(fe===this.SOURCE_LIST){if(ke){(0,y.EA)(at.previousContainer.data,at.container.data,ot.previousIndex,ot.currentIndex);let Ct=l.gb.findIndexInList(at.item.data,this.selectedItemsTarget);-1!=Ct&&(this.selectedItemsTarget.splice(Ct,1),this.keepSelection&&this.selectedItemsTarget.push(at.item.data)),this.visibleOptionsTarget&&this.visibleOptionsTarget.splice(at.previousIndex,1),this.onMoveToSource.emit({items:[at.item.data]})}else(0,y.bA)(at.container.data,ot.previousIndex,ot.currentIndex),this.onSourceReorder.emit({items:[at.item.data]});this.filterValueSource&&this.filter(this.source,this.SOURCE_LIST)}else{if(ke){(0,y.EA)(at.previousContainer.data,at.container.data,ot.previousIndex,ot.currentIndex);let Ct=l.gb.findIndexInList(at.item.data,this.selectedItemsSource);-1!=Ct&&(this.selectedItemsSource.splice(Ct,1),this.keepSelection&&this.selectedItemsTarget.push(at.item.data)),this.visibleOptionsSource&&this.visibleOptionsSource.splice(at.previousIndex,1),this.onMoveToTarget.emit({items:[at.item.data]})}else(0,y.bA)(at.container.data,ot.previousIndex,ot.currentIndex),this.onTargetReorder.emit({items:[at.item.data]});this.filterValueTarget&&this.filter(this.target,this.TARGET_LIST)}}getDropIndexes(at,fe,ke,ot,Ct){let Ot,Nt;return ke===this.SOURCE_LIST?(Ot=ot?this.filterValueTarget?l.gb.findIndexInList(Ct,this.target):at:this.filterValueSource?l.gb.findIndexInList(Ct,this.source):at,Nt=this.filterValueSource?this.findFilteredCurrentIndex(this.visibleOptionsSource,fe,this.source):fe):(Ot=ot?this.filterValueSource?l.gb.findIndexInList(Ct,this.source):at:this.filterValueTarget?l.gb.findIndexInList(Ct,this.target):at,Nt=this.filterValueTarget?this.findFilteredCurrentIndex(this.visibleOptionsTarget,fe,this.target):fe),{previousIndex:Ot,currentIndex:Nt}}findFilteredCurrentIndex(at,fe,ke){return at.length===fe?l.gb.findIndexInList(at[fe-1],ke)+1:l.gb.findIndexInList(at[fe],ke)}resetSourceFilter(){this.visibleOptionsSource=null,this.filterValueSource=null,this.sourceFilterViewChild&&(this.sourceFilterViewChild.nativeElement.value="")}resetTargetFilter(){this.visibleOptionsTarget=null,this.filterValueTarget=null,this.targetFilterViewChild&&(this.targetFilterViewChild.nativeElement.value="")}resetFilter(){this.resetSourceFilter(),this.resetTargetFilter()}onItemKeydown(at,fe,ke,ot){let Ct=at.currentTarget;switch(at.which){case 40:var Ot=this.findNextItem(Ct);Ot&&Ot.focus(),at.preventDefault();break;case 38:var Nt=this.findPrevItem(Ct);Nt&&Nt.focus(),at.preventDefault();break;case 13:this.onItemClick(at,fe,ke,ot),at.preventDefault()}}findNextItem(at){let fe=at.nextElementSibling;return fe?!_.p.hasClass(fe,"p-picklist-item")||_.p.isHidden(fe)?this.findNextItem(fe):fe:null}findPrevItem(at){let fe=at.previousElementSibling;return fe?!_.p.hasClass(fe,"p-picklist-item")||_.p.isHidden(fe)?this.findPrevItem(fe):fe:null}createStyle(){this.styleElement||(this.el.nativeElement.children[0].setAttribute(this.id,""),this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement),this.styleElement.innerHTML=`\n            @media screen and (max-width: ${this.breakpoint}) {\n                .p-picklist[${this.id}] {\n                    flex-direction: column;\n                }\n\n                .p-picklist[${this.id}] .p-picklist-buttons {\n                    padding: var(--content-padding);\n                    flex-direction: row;\n                }\n\n                .p-picklist[${this.id}] .p-picklist-buttons .p-button {\n                    margin-right: var(--inline-spacing);\n                    margin-bottom: 0;\n                }\n\n                .p-picklist[${this.id}] .p-picklist-buttons .p-button:last-child {\n                    margin-right: 0;\n                }\n\n                .p-picklist[${this.id}] .pi-angle-right:before {\n                    content: "\\e930"\n                }\n\n                .p-picklist[${this.id}] .pi-angle-double-right:before {\n                    content: "\\e92c"\n                }\n\n                .p-picklist[${this.id}] .pi-angle-left:before {\n                    content: "\\e933"\n                }\n\n                .p-picklist[${this.id}] .pi-angle-double-left:before {\n                    content: "\\e92f"\n                }\n            }\n            `)}sourceMoveDisabled(){if(this.disabled||!this.selectedItemsSource.length)return!0}targetMoveDisabled(){if(this.disabled||!this.selectedItemsTarget.length)return!0}moveRightDisabled(){return this.disabled||l.gb.isEmpty(this.selectedItemsSource)}moveLeftDisabled(){return this.disabled||l.gb.isEmpty(this.selectedItemsTarget)}moveAllRightDisabled(){return this.disabled||l.gb.isEmpty(this.source)}moveAllLeftDisabled(){return this.disabled||l.gb.isEmpty(this.target)}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.destroyStyle()}}return Ut.\u0275fac=function(at){return new(at||Ut)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(g.iZ))},Ut.\u0275cmp=e.Xpm({type:Ut,selectors:[["p-pickList"]],contentQueries:function(at,fe,ke){if(1&at&&e.Suo(ke,g.jx,4),2&at){let ot;e.iGM(ot=e.CRH())&&(fe.templates=ot)}},viewQuery:function(at,fe){if(1&at&&(e.Gf(R,5),e.Gf(L,5),e.Gf(J,5),e.Gf(N,5)),2&at){let ke;e.iGM(ke=e.CRH())&&(fe.listViewSourceChild=ke.first),e.iGM(ke=e.CRH())&&(fe.listViewTargetChild=ke.first),e.iGM(ke=e.CRH())&&(fe.sourceFilterViewChild=ke.first),e.iGM(ke=e.CRH())&&(fe.targetFilterViewChild=ke.first)}},hostAttrs:[1,"p-element"],inputs:{source:"source",target:"target",sourceHeader:"sourceHeader",rightButtonAriaLabel:"rightButtonAriaLabel",leftButtonAriaLabel:"leftButtonAriaLabel",allRightButtonAriaLabel:"allRightButtonAriaLabel",allLeftButtonAriaLabel:"allLeftButtonAriaLabel",upButtonAriaLabel:"upButtonAriaLabel",downButtonAriaLabel:"downButtonAriaLabel",topButtonAriaLabel:"topButtonAriaLabel",bottomButtonAriaLabel:"bottomButtonAriaLabel",targetHeader:"targetHeader",responsive:"responsive",filterBy:"filterBy",filterLocale:"filterLocale",trackBy:"trackBy",sourceTrackBy:"sourceTrackBy",targetTrackBy:"targetTrackBy",showSourceFilter:"showSourceFilter",showTargetFilter:"showTargetFilter",metaKeySelection:"metaKeySelection",dragdrop:"dragdrop",style:"style",styleClass:"styleClass",sourceStyle:"sourceStyle",targetStyle:"targetStyle",showSourceControls:"showSourceControls",showTargetControls:"showTargetControls",sourceFilterPlaceholder:"sourceFilterPlaceholder",targetFilterPlaceholder:"targetFilterPlaceholder",disabled:"disabled",ariaSourceFilterLabel:"ariaSourceFilterLabel",ariaTargetFilterLabel:"ariaTargetFilterLabel",filterMatchMode:"filterMatchMode",breakpoint:"breakpoint",stripedRows:"stripedRows",keepSelection:"keepSelection"},outputs:{onMoveToSource:"onMoveToSource",onMoveAllToSource:"onMoveAllToSource",onMoveAllToTarget:"onMoveAllToTarget",onMoveToTarget:"onMoveToTarget",onSourceReorder:"onSourceReorder",onTargetReorder:"onTargetReorder",onSourceSelect:"onSourceSelect",onTargetSelect:"onTargetSelect",onSourceFilter:"onSourceFilter",onTargetFilter:"onTargetFilter"},decls:22,vars:30,consts:[["cdkDropListGroup","",3,"ngStyle","ngClass"],["class","p-picklist-buttons p-picklist-source-controls",4,"ngIf"],[1,"p-picklist-list-wrapper","p-picklist-source-wrapper"],["class","p-picklist-header",4,"ngIf"],["class","p-picklist-filter-container",4,"ngIf"],["cdkDropList","","role","listbox","aria-multiselectable","multiple",1,"p-picklist-list","p-picklist-source",3,"cdkDropListData","ngStyle","cdkDropListDropped"],["sourcelist",""],["ngFor","",3,"ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"p-picklist-buttons","p-picklist-transfer-buttons"],["type","button","pButton","","pRipple","","icon","pi pi-angle-right",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-right",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-left",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-left",3,"disabled","click"],[1,"p-picklist-list-wrapper","p-picklist-target-wrapper"],["cdkDropList","","role","listbox","aria-multiselectable","multiple",1,"p-picklist-list","p-picklist-target",3,"cdkDropListData","ngStyle","cdkDropListDropped"],["targetlist",""],["class","p-picklist-buttons p-picklist-target-controls",4,"ngIf"],[1,"p-picklist-buttons","p-picklist-source-controls"],["type","button","pButton","","pRipple","","icon","pi pi-angle-up",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-up",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-down",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-down",3,"disabled","click"],[1,"p-picklist-header"],["class","p-picklist-title",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"p-picklist-title"],[1,"p-picklist-filter-container"],[4,"ngIf","ngIfElse"],["builtInSourceElement",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-picklist-filter"],["type","text","role","textbox",1,"p-picklist-filter-input","p-inputtext","p-component",3,"disabled","keyup"],["sourceFilter",""],[1,"p-picklist-filter-icon","pi","pi-search"],["pRipple","","cdkDrag","","tabindex","0","role","option",3,"ngClass","cdkDragData","cdkDragDisabled","click","dblclick","touchend","keydown",4,"ngIf"],["pRipple","","cdkDrag","","tabindex","0","role","option",3,"ngClass","cdkDragData","cdkDragDisabled","click","dblclick","touchend","keydown"],["class","p-picklist-empty-message",4,"ngIf"],[1,"p-picklist-empty-message"],["builtInTargetElement",""],["targetFilter",""],[1,"p-picklist-buttons","p-picklist-target-controls"]],template:function(at,fe){1&at&&(e.TgZ(0,"div",0),e.YNc(1,w,5,8,"div",1),e.TgZ(2,"div",2),e.YNc(3,S,3,2,"div",3),e.YNc(4,V,4,2,"div",4),e.TgZ(5,"ul",5,6),e.NdJ("cdkDropListDropped",function(ot){return fe.onDrop(ot,fe.SOURCE_LIST)}),e.YNc(7,q,1,1,"ng-template",7),e.YNc(8,Q,3,2,"ng-container",8),e.qZA()(),e.TgZ(9,"div",9)(10,"button",10),e.NdJ("click",function(){return fe.moveRight()}),e.qZA(),e.TgZ(11,"button",11),e.NdJ("click",function(){return fe.moveAllRight()}),e.qZA(),e.TgZ(12,"button",12),e.NdJ("click",function(){return fe.moveLeft()}),e.qZA(),e.TgZ(13,"button",13),e.NdJ("click",function(){return fe.moveAllLeft()}),e.qZA()(),e.TgZ(14,"div",14),e.YNc(15,oe,3,2,"div",3),e.YNc(16,be,4,2,"div",4),e.TgZ(17,"ul",15,16),e.NdJ("cdkDropListDropped",function(ot){return fe.onDrop(ot,fe.TARGET_LIST)}),e.YNc(19,xe,1,1,"ng-template",7),e.YNc(20,it,3,2,"ng-container",8),e.qZA()(),e.YNc(21,Dt,5,8,"div",17),e.qZA()),2&at&&(e.Tol(fe.styleClass),e.Q6J("ngStyle",fe.style)("ngClass",e.VKq(28,vt,fe.stripedRows)),e.xp6(1),e.Q6J("ngIf",fe.showSourceControls),e.xp6(2),e.Q6J("ngIf",fe.sourceHeader||fe.sourceHeaderTemplate),e.xp6(1),e.Q6J("ngIf",fe.filterBy&&!1!==fe.showSourceFilter),e.xp6(1),e.Q6J("cdkDropListData",fe.source)("ngStyle",fe.sourceStyle),e.xp6(2),e.Q6J("ngForOf",fe.source)("ngForTrackBy",fe.sourceTrackBy||fe.trackBy),e.xp6(1),e.Q6J("ngIf",fe.isEmpty(fe.SOURCE_LIST)&&(fe.emptyMessageSourceTemplate||fe.emptyFilterMessageSourceTemplate)),e.xp6(2),e.Q6J("disabled",fe.moveRightDisabled()),e.uIk("aria-label",fe.rightButtonAriaLabel),e.xp6(1),e.Q6J("disabled",fe.moveAllRightDisabled()),e.uIk("aria-label",fe.allRightButtonAriaLabel),e.xp6(1),e.Q6J("disabled",fe.moveLeftDisabled()),e.uIk("aria-label",fe.leftButtonAriaLabel),e.xp6(1),e.Q6J("disabled",fe.moveAllLeftDisabled()),e.uIk("aria-label",fe.allLeftButtonAriaLabel),e.xp6(2),e.Q6J("ngIf",fe.targetHeader||fe.targetHeaderTemplate),e.xp6(1),e.Q6J("ngIf",fe.filterBy&&!1!==fe.showTargetFilter),e.xp6(1),e.Q6J("cdkDropListData",fe.target)("ngStyle",fe.targetStyle),e.xp6(2),e.Q6J("ngForOf",fe.target)("ngForTrackBy",fe.targetTrackBy||fe.trackBy),e.xp6(1),e.Q6J("ngIf",fe.isEmpty(fe.TARGET_LIST)&&(fe.emptyMessageTargetTemplate||fe.emptyFilterMessageTargetTemplate)),e.xp6(1),e.Q6J("ngIf",fe.showTargetControls))},dependencies:[a.mk,a.sg,a.O5,a.tP,a.PC,f.Hq,P.H,y.Wj,y.Fd,y.Zt],styles:[".p-picklist{display:flex}.p-picklist-buttons{display:flex;flex-direction:column;justify-content:center}.p-picklist-list-wrapper{flex:1 1 50%}.p-picklist-list{list-style-type:none;margin:0;padding:0;overflow:auto;min-height:12rem}.p-picklist-item{display:block;cursor:pointer;overflow:hidden;position:relative}.p-picklist-item:not(.cdk-drag-disabled){cursor:move}.p-picklist-item.cdk-drag-placeholder{opacity:0}.p-picklist-item.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.p-picklist-filter{position:relative}.p-picklist-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-picklist-filter-input{width:100%}.p-picklist-list.cdk-drop-list-dragging .p-picklist-item:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}\n"],encapsulation:2,changeDetection:0}),Ut})(),Ht=(()=>{class Ut{}return Ut.\u0275fac=function(at){return new(at||Ut)},Ut.\u0275mod=e.oAB({type:Ut}),Ut.\u0275inj=e.cJS({imports:[a.ez,f.hJ,g.m8,P.T,y._t,g.m8,y._t]}),Ut})()},8185:(mn,ht,b)=>{"use strict";b.d(ht,{k:()=>y,q:()=>l});var e=b(5e3),a=b(9808);function f(R,L){if(1&R&&(e.TgZ(0,"div",5),e._uU(1),e.qZA()),2&R){const J=e.oxw(2);e.Udp("display",null!=J.value&&0!==J.value?"flex":"none"),e.xp6(1),e.AsE("",J.value,"",J.unit,"")}}function g(R,L){if(1&R&&(e.TgZ(0,"div",3),e.YNc(1,f,2,4,"div",4),e.qZA()),2&R){const J=e.oxw();e.Udp("width",J.value+"%"),e.xp6(1),e.Q6J("ngIf",J.showValue)}}function _(R,L){1&R&&(e.TgZ(0,"div",6),e._UZ(1,"div",7),e.qZA())}const P=function(R,L){return{"p-progressbar p-component":!0,"p-progressbar-determinate":R,"p-progressbar-indeterminate":L}};let y=(()=>{class R{constructor(){this.showValue=!0,this.unit="%",this.mode="determinate"}}return R.\u0275fac=function(J){return new(J||R)},R.\u0275cmp=e.Xpm({type:R,selectors:[["p-progressBar"]],hostAttrs:[1,"p-element"],inputs:{value:"value",showValue:"showValue",style:"style",styleClass:"styleClass",unit:"unit",mode:"mode"},decls:3,vars:10,consts:[["role","progressbar","aria-valuemin","0","aria-valuemax","100",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate","style","display:flex",3,"width",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",2,"display","flex"],["class","p-progressbar-label",3,"display",4,"ngIf"],[1,"p-progressbar-label"],[1,"p-progressbar-indeterminate-container"],[1,"p-progressbar-value","p-progressbar-value-animate"]],template:function(J,N){1&J&&(e.TgZ(0,"div",0),e.YNc(1,g,2,3,"div",1),e.YNc(2,_,2,0,"div",2),e.qZA()),2&J&&(e.Tol(N.styleClass),e.Q6J("ngStyle",N.style)("ngClass",e.WLB(7,P,"determinate"===N.mode,"indeterminate"===N.mode)),e.uIk("aria-valuenow",N.value),e.xp6(1),e.Q6J("ngIf","determinate"===N.mode),e.xp6(1),e.Q6J("ngIf","indeterminate"===N.mode))},dependencies:[a.mk,a.O5,a.PC],styles:['.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}\n'],encapsulation:2,changeDetection:0}),R})(),l=(()=>{class R{}return R.\u0275fac=function(J){return new(J||R)},R.\u0275mod=e.oAB({type:R}),R.\u0275inj=e.cJS({imports:[a.ez]}),R})()},6198:(mn,ht,b)=>{"use strict";b.d(ht,{G:()=>f,L:()=>g});var e=b(5e3),a=b(9808);let f=(()=>{class _{constructor(){this.strokeWidth="2",this.fill="none",this.animationDuration="2s"}}return _.\u0275fac=function(y){return new(y||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["p-progressSpinner"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration"},decls:3,vars:6,consts:[["role","alert","aria-busy","true",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(y,l){1&y&&(e.TgZ(0,"div",0),e.O4$(),e.TgZ(1,"svg",1),e._UZ(2,"circle",2),e.qZA()()),2&y&&(e.Q6J("ngStyle",l.style)("ngClass",l.styleClass),e.xp6(1),e.Udp("animation-duration",l.animationDuration),e.xp6(1),e.uIk("fill",l.fill)("stroke-width",l.strokeWidth))},dependencies:[a.mk,a.PC],styles:['.p-progress-spinner{position:relative;margin:0 auto;width:100px;height:100px;display:inline-block}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;inset:0;margin:auto}.p-progress-spinner-circle{stroke-dasharray:89,200;stroke-dashoffset:0;stroke:#d62d20;animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke-linecap:round}@keyframes p-progress-spinner-rotate{to{transform:rotate(360deg)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{to,0%{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}\n'],encapsulation:2,changeDetection:0}),_})(),g=(()=>{class _{}return _.\u0275fac=function(y){return new(y||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[a.ez]}),_})()},5787:(mn,ht,b)=>{"use strict";b.d(ht,{H:()=>_,T:()=>P});var e=b(5e3),a=b(9808),f=b(5730),g=b(9783);let _=(()=>{class y{constructor(R,L,J){this.el=R,this.zone=L,this.config=J}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(R){let L=this.getInk();if(!L||"none"===getComputedStyle(L,null).display)return;if(f.p.removeClass(L,"p-ink-active"),!f.p.getHeight(L)&&!f.p.getWidth(L)){let x=Math.max(f.p.getOuterWidth(this.el.nativeElement),f.p.getOuterHeight(this.el.nativeElement));L.style.height=x+"px",L.style.width=x+"px"}let J=f.p.getOffset(this.el.nativeElement),N=R.pageX-J.left+document.body.scrollTop-f.p.getWidth(L)/2,w=R.pageY-J.top+document.body.scrollLeft-f.p.getHeight(L)/2;L.style.top=w+"px",L.style.left=N+"px",f.p.addClass(L,"p-ink-active"),this.timeout=setTimeout(()=>{let x=this.getInk();x&&f.p.removeClass(x,"p-ink-active")},401)}getInk(){for(let R=0;R<this.el.nativeElement.children.length;R++)if(-1!==this.el.nativeElement.children[R].className.indexOf("p-ink"))return this.el.nativeElement.children[R];return null}resetInk(){let R=this.getInk();R&&f.p.removeClass(R,"p-ink-active")}onAnimationEnd(R){this.timeout&&clearTimeout(this.timeout),f.p.removeClass(R.currentTarget,"p-ink-active")}create(){let R=document.createElement("span");R.className="p-ink",this.el.nativeElement.appendChild(R),this.animationListener=this.onAnimationEnd.bind(this),R.addEventListener("animationend",this.animationListener)}remove(){let R=this.getInk();R&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),R.removeEventListener("animationend",this.animationListener),f.p.removeElement(R))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return y.\u0275fac=function(R){return new(R||y)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(g.b4,8))},y.\u0275dir=e.lG2({type:y,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),y})(),P=(()=>{class y{}return y.\u0275fac=function(R){return new(R||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({imports:[a.ez]}),y})()},5871:(mn,ht,b)=>{"use strict";b.d(ht,{T:()=>oe,v:()=>Te});var e=b(9808),a=b(5e3),f=b(9783),g=b(5730);const _=["element"],P=["content"];function y(Ae,Ke){1&Ae&&a.GkF(0)}const l=function(Ae,Ke){return{$implicit:Ae,options:Ke}};function R(Ae,Ke){if(1&Ae&&(a.ynx(0),a.YNc(1,y,1,0,"ng-container",7),a.BQk()),2&Ae){const be=a.oxw(2);a.xp6(1),a.Q6J("ngTemplateOutlet",be.contentTemplate)("ngTemplateOutletContext",a.WLB(2,l,be.loadedItems,be.getContentOptions()))}}function L(Ae,Ke){1&Ae&&a.GkF(0)}function J(Ae,Ke){if(1&Ae&&(a.ynx(0),a.YNc(1,L,1,0,"ng-container",7),a.BQk()),2&Ae){const be=Ke.$implicit,Qe=Ke.index,X=a.oxw(3);a.xp6(1),a.Q6J("ngTemplateOutlet",X.itemTemplate)("ngTemplateOutletContext",a.WLB(2,l,be,X.getOptions(Qe)))}}const N=function(Ae){return{"p-scroller-loading":Ae}};function w(Ae,Ke){if(1&Ae&&(a.TgZ(0,"div",8,9),a.YNc(2,J,2,5,"ng-container",10),a.qZA()),2&Ae){const be=a.oxw(2);a.Q6J("ngClass",a.VKq(4,N,be.d_loading))("ngStyle",be.contentStyle),a.xp6(2),a.Q6J("ngForOf",be.loadedItems)("ngForTrackBy",be._trackBy||be.index)}}function x(Ae,Ke){if(1&Ae&&a._UZ(0,"div",11),2&Ae){const be=a.oxw(2);a.Q6J("ngStyle",be.spacerStyle)}}function D(Ae,Ke){1&Ae&&a.GkF(0)}const S=function(Ae){return{numCols:Ae}},U=function(Ae){return{options:Ae}};function F(Ae,Ke){if(1&Ae&&(a.ynx(0),a.YNc(1,D,1,0,"ng-container",7),a.BQk()),2&Ae){const be=Ke.index,Qe=a.oxw(4);a.xp6(1),a.Q6J("ngTemplateOutlet",Qe.loaderTemplate)("ngTemplateOutletContext",a.VKq(4,U,Qe.getLoaderOptions(be,Qe.both&&a.VKq(2,S,Qe._numItemsInViewport.cols))))}}function ce(Ae,Ke){if(1&Ae&&(a.ynx(0),a.YNc(1,F,2,6,"ng-container",14),a.BQk()),2&Ae){const be=a.oxw(3);a.xp6(1),a.Q6J("ngForOf",be.loaderArr)}}function te(Ae,Ke){1&Ae&&a.GkF(0)}const V=function(){return{styleClass:"p-scroller-loading-icon"}};function k(Ae,Ke){if(1&Ae&&(a.ynx(0),a.YNc(1,te,1,0,"ng-container",7),a.BQk()),2&Ae){const be=a.oxw(4);a.xp6(1),a.Q6J("ngTemplateOutlet",be.loaderIconTemplate)("ngTemplateOutletContext",a.VKq(3,U,a.DdM(2,V)))}}function O(Ae,Ke){1&Ae&&a._UZ(0,"i",16)}function $(Ae,Ke){if(1&Ae&&(a.YNc(0,k,2,5,"ng-container",0),a.YNc(1,O,1,0,"ng-template",null,15,a.W1O)),2&Ae){const be=a.MAs(2),Qe=a.oxw(3);a.Q6J("ngIf",Qe.loaderIconTemplate)("ngIfElse",be)}}const ue=function(Ae){return{"p-component-overlay":Ae}};function q(Ae,Ke){if(1&Ae&&(a.TgZ(0,"div",12),a.YNc(1,ce,2,1,"ng-container",0),a.YNc(2,$,3,2,"ng-template",null,13,a.W1O),a.qZA()),2&Ae){const be=a.MAs(3),Qe=a.oxw(2);a.Q6J("ngClass",a.VKq(3,ue,!Qe.loaderTemplate)),a.xp6(1),a.Q6J("ngIf",Qe.loaderTemplate)("ngIfElse",be)}}const Y=function(Ae,Ke,be){return{"p-scroller":!0,"p-scroller-inline":Ae,"p-both-scroll":Ke,"p-horizontal-scroll":be}};function G(Ae,Ke){if(1&Ae){const be=a.EpF();a.ynx(0),a.TgZ(1,"div",2,3),a.NdJ("scroll",function(X){a.CHM(be);const xe=a.oxw();return a.KtG(xe.onContainerScroll(X))}),a.YNc(3,R,2,5,"ng-container",0),a.YNc(4,w,3,6,"ng-template",null,4,a.W1O),a.YNc(6,x,1,1,"div",5),a.YNc(7,q,4,5,"div",6),a.qZA(),a.BQk()}if(2&Ae){const be=a.MAs(5),Qe=a.oxw();a.xp6(1),a.Tol(Qe._styleClass),a.Q6J("ngStyle",Qe._style)("ngClass",a.kEZ(10,Y,Qe.inline,Qe.both,Qe.horizontal)),a.uIk("id",Qe._id)("tabindex",Qe.tabindex),a.xp6(2),a.Q6J("ngIf",Qe.contentTemplate)("ngIfElse",be),a.xp6(3),a.Q6J("ngIf",Qe._showSpacer),a.xp6(1),a.Q6J("ngIf",!Qe.loaderDisabled&&Qe._showLoader&&Qe.d_loading)}}function he(Ae,Ke){1&Ae&&a.GkF(0)}const j=function(Ae,Ke){return{rows:Ae,columns:Ke}};function Q(Ae,Ke){if(1&Ae&&(a.ynx(0),a.YNc(1,he,1,0,"ng-container",7),a.BQk()),2&Ae){const be=a.oxw(2);a.xp6(1),a.Q6J("ngTemplateOutlet",be.contentTemplate)("ngTemplateOutletContext",a.WLB(5,l,be.items,a.WLB(2,j,be._items,be.loadedColumns)))}}function K(Ae,Ke){if(1&Ae&&(a.Hsn(0),a.YNc(1,Q,2,8,"ng-container",17)),2&Ae){const be=a.oxw();a.xp6(1),a.Q6J("ngIf",be.contentTemplate)}}const z=["*"];let oe=(()=>{class Ae{constructor(be,Qe){this.cd=be,this.zone=Qe,this.onLazyLoad=new a.vpe,this.onScroll=new a.vpe,this.onScrollIndexChange=new a.vpe,this._tabindex=0,this._itemSize=0,this._orientation="vertical",this._step=0,this._delay=0,this._resizeDelay=10,this._appendOnly=!1,this._inline=!1,this._lazy=!1,this._disabled=!1,this._loaderDisabled=!1,this._showSpacer=!0,this._showLoader=!1,this._autoSize=!1,this.d_loading=!1,this.first=0,this.last=0,this.page=0,this.numItemsInViewport=0,this.lastScrollPos=0,this.lazyLoadState={},this.loaderArr=[],this.spacerStyle={},this.contentStyle={},this.initialized=!1}get id(){return this._id}set id(be){this._id=be}get style(){return this._style}set style(be){this._style=be}get styleClass(){return this._styleClass}set styleClass(be){this._styleClass=be}get tabindex(){return this._tabindex}set tabindex(be){this._tabindex=be}get items(){return this._items}set items(be){this._items=be}get itemSize(){return this._itemSize}set itemSize(be){this._itemSize=be}get scrollHeight(){return this._scrollHeight}set scrollHeight(be){this._scrollHeight=be}get scrollWidth(){return this._scrollWidth}set scrollWidth(be){this._scrollWidth=be}get orientation(){return this._orientation}set orientation(be){this._orientation=be}get step(){return this._step}set step(be){this._step=be}get delay(){return this._delay}set delay(be){this._delay=be}get resizeDelay(){return this._resizeDelay}set resizeDelay(be){this._resizeDelay=be}get appendOnly(){return this._appendOnly}set appendOnly(be){this._appendOnly=be}get inline(){return this._inline}set inline(be){this._inline=be}get lazy(){return this._lazy}set lazy(be){this._lazy=be}get disabled(){return this._disabled}set disabled(be){this._disabled=be}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(be){this._loaderDisabled=be}get columns(){return this._columns}set columns(be){this._columns=be}get showSpacer(){return this._showSpacer}set showSpacer(be){this._showSpacer=be}get showLoader(){return this._showLoader}set showLoader(be){this._showLoader=be}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(be){this._numToleratedItems=be}get loading(){return this._loading}set loading(be){this._loading=be}get autoSize(){return this._autoSize}set autoSize(be){this._autoSize=be}get trackBy(){return this._trackBy}set trackBy(be){this._trackBy=be}get options(){return this._options}set options(be){this._options=be,be&&"object"==typeof be&&Object.entries(be).forEach(([Qe,X])=>this[`_${Qe}`]!==X&&(this[`_${Qe}`]=X))}get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(be=>this._columns?be:be.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}get isPageChanged(){return!this._step||this.page!==this.getPageByFirst()}ngOnInit(){this.setInitialState()}ngOnChanges(be){var Qe,X,xe,we;let Oe=!1;if(be.loading){const{previousValue:dt,currentValue:bt}=be.loading;this.lazy&&dt!==bt&&bt!==this.d_loading&&(this.d_loading=bt,Oe=!0)}if(be.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),be.numToleratedItems){const{previousValue:dt,currentValue:bt}=be.numToleratedItems;dt!==bt&&bt!==this.d_numToleratedItems&&(this.d_numToleratedItems=bt)}if(be.options){const{previousValue:dt,currentValue:bt}=be.options;this.lazy&&(null==dt?void 0:dt.loading)!==(null==bt?void 0:bt.loading)&&(null==bt?void 0:bt.loading)!==this.d_loading&&(this.d_loading=bt.loading,Oe=!0),(null==dt?void 0:dt.numToleratedItems)!==(null==bt?void 0:bt.numToleratedItems)&&(null==bt?void 0:bt.numToleratedItems)!==this.d_numToleratedItems&&(this.d_numToleratedItems=bt.numToleratedItems)}this.initialized&&!Oe&&((null===(X=null===(Qe=be.items)||void 0===Qe?void 0:Qe.previousValue)||void 0===X?void 0:X.length)!==(null===(we=null===(xe=be.items)||void 0===xe?void 0:xe.currentValue)||void 0===we?void 0:we.length)||be.itemSize||be.scrollHeight||be.scrollWidth)&&this.init()}ngAfterContentInit(){this.templates.forEach(be=>{switch(be.getType()){case"content":this.contentTemplate=be.template;break;case"item":default:this.itemTemplate=be.template;break;case"loader":this.loaderTemplate=be.template;break;case"loadericon":this.loaderIconTemplate=be.template}})}ngAfterViewInit(){this.viewInit()}ngAfterViewChecked(){this.initialized||this.viewInit(),this.calculateAutoSize()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){var be;g.p.isVisible(null===(be=this.elementViewChild)||void 0===be?void 0:be.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.defaultWidth=g.p.getWidth(this.elementViewChild.nativeElement),this.defaultHeight=g.p.getHeight(this.elementViewChild.nativeElement),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(be){var Qe,X;this.contentEl=be||(null===(Qe=this.contentViewChild)||void 0===Qe?void 0:Qe.nativeElement)||g.p.findSingle(null===(X=this.elementViewChild)||void 0===X?void 0:X.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(){return Math.floor((this.first+4*this.d_numToleratedItems)/(this._step||1))}scrollTo(be){var Qe,X;this.lastScrollPos=this.both?{top:0,left:0}:0,null===(X=null===(Qe=this.elementViewChild)||void 0===Qe?void 0:Qe.nativeElement)||void 0===X||X.scrollTo(be)}scrollToIndex(be,Qe="auto"){const{numToleratedItems:X}=this.calculateNumItems(),xe=this.getContentPosition(),we=(bt=0,it)=>bt<=it?0:bt,Oe=(bt,it,Dt)=>bt*it+Dt,dt=(bt=0,it=0)=>this.scrollTo({left:bt,top:it,behavior:Qe});this.both?(this.first={rows:we(be[0],X[0]),cols:we(be[1],X[1])},dt(Oe(this.first.cols,this._itemSize[1],xe.left),Oe(this.first.rows,this._itemSize[0],xe.top))):(this.first=we(be,X),this.horizontal?dt(Oe(this.first,this._itemSize,xe.left),0):dt(0,Oe(this.first,this._itemSize,xe.top)))}scrollInView(be,Qe,X="auto"){if(Qe){const{first:xe,viewport:we}=this.getRenderedRange(),Oe=(it=0,Dt=0)=>this.scrollTo({left:it,top:Dt,behavior:X}),bt="to-end"===Qe;if("to-start"===Qe){if(this.both)we.first.rows-xe.rows>be[0]?Oe(we.first.cols*this._itemSize[1],(we.first.rows-1)*this._itemSize[0]):we.first.cols-xe.cols>be[1]&&Oe((we.first.cols-1)*this._itemSize[1],we.first.rows*this._itemSize[0]);else if(we.first-xe>be){const it=(we.first-1)*this._itemSize;this.horizontal?Oe(it,0):Oe(0,it)}}else if(bt)if(this.both)we.last.rows-xe.rows<=be[0]+1?Oe(we.first.cols*this._itemSize[1],(we.first.rows+1)*this._itemSize[0]):we.last.cols-xe.cols<=be[1]+1&&Oe((we.first.cols+1)*this._itemSize[1],we.first.rows*this._itemSize[0]);else if(we.last-xe<=be+1){const it=(we.first+1)*this._itemSize;this.horizontal?Oe(it,0):Oe(0,it)}}else this.scrollToIndex(be,X)}getRenderedRange(){var be;const Qe=(we,Oe)=>Math.floor(we/(Oe||we));let X=this.first,xe=0;if(null!==(be=this.elementViewChild)&&void 0!==be&&be.nativeElement){const{scrollTop:we,scrollLeft:Oe}=this.elementViewChild.nativeElement;this.both?(X={rows:Qe(we,this._itemSize[0]),cols:Qe(Oe,this._itemSize[1])},xe={rows:X.rows+this.numItemsInViewport.rows,cols:X.cols+this.numItemsInViewport.cols}):(X=Qe(this.horizontal?Oe:we,this._itemSize),xe=X+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:X,last:xe}}}calculateNumItems(){var be,Qe;const X=this.getContentPosition(),xe=null!==(be=this.elementViewChild)&&void 0!==be&&be.nativeElement?this.elementViewChild.nativeElement.offsetWidth-X.left:0,we=null!==(Qe=this.elementViewChild)&&void 0!==Qe&&Qe.nativeElement?this.elementViewChild.nativeElement.offsetHeight-X.top:0,Oe=(Dt,vt)=>Math.ceil(Dt/(vt||Dt)),dt=Dt=>Math.ceil(Dt/2),bt=this.both?{rows:Oe(we,this._itemSize[0]),cols:Oe(xe,this._itemSize[1])}:Oe(this.horizontal?xe:we,this._itemSize);return{numItemsInViewport:bt,numToleratedItems:this.d_numToleratedItems||(this.both?[dt(bt.rows),dt(bt.cols)]:dt(bt))}}calculateOptions(){const{numItemsInViewport:be,numToleratedItems:Qe}=this.calculateNumItems(),X=(Oe,dt,bt,it=!1)=>this.getLast(Oe+dt+(Oe<bt?2:3)*bt,it),xe=this.first,we=this.both?{rows:X(this.first.rows,be.rows,Qe[0]),cols:X(this.first.cols,be.cols,Qe[1],!0)}:X(this.first,be,Qe);this.last=we,this.numItemsInViewport=be,this.d_numToleratedItems=Qe,this.showLoader&&(this.loaderArr=this.both?Array.from({length:be.rows}).map(()=>Array.from({length:be.cols})):Array.from({length:be})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:xe.cols}:0:xe,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto";const{offsetWidth:be,offsetHeight:Qe}=this.contentEl;(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=(be<this.defaultWidth?be:this.defaultWidth)+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=(Qe<this.defaultHeight?Qe:this.defaultHeight)+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth=""}})}getLast(be=0,Qe=!1){return this._items?Math.min(Qe?(this._columns||this._items[0]).length:this._items.length,be):0}getContentPosition(){if(this.contentEl){const be=getComputedStyle(this.contentEl),Qe=parseFloat(be.paddingLeft)+Math.max(parseFloat(be.left)||0,0),X=parseFloat(be.paddingRight)+Math.max(parseFloat(be.right)||0,0),xe=parseFloat(be.paddingTop)+Math.max(parseFloat(be.top)||0,0),we=parseFloat(be.paddingBottom)+Math.max(parseFloat(be.bottom)||0,0);return{left:Qe,right:X,top:xe,bottom:we,x:Qe+X,y:xe+we}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){var be;if(null!==(be=this.elementViewChild)&&void 0!==be&&be.nativeElement){const Qe=this.elementViewChild.nativeElement.parentElement.parentElement,X=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||Qe.offsetWidth}px`,xe=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||Qe.offsetHeight}px`,we=(Oe,dt)=>this.elementViewChild.nativeElement.style[Oe]=dt;this.both||this.horizontal?(we("height",xe),we("width",X)):we("height",xe)}}setSpacerSize(){if(this._items){const be=this.getContentPosition(),Qe=(X,xe,we,Oe=0)=>this.spacerStyle=Object.assign(Object.assign({},this.spacerStyle),{[`${X}`]:(xe||[]).length*we+Oe+"px"});this.both?(Qe("height",this._items,this._itemSize[0],be.y),Qe("width",this._columns||this._items[1],this._itemSize[1],be.x)):this.horizontal?Qe("width",this._columns||this._items,this._itemSize,be.x):Qe("height",this._items,this._itemSize,be.y)}}setContentPosition(be){if(this.contentEl&&!this._appendOnly){const Qe=be?be.first:this.first,X=(we,Oe)=>we*Oe,xe=(we=0,Oe=0)=>this.contentStyle=Object.assign(Object.assign({},this.contentStyle),{transform:`translate3d(${we}px, ${Oe}px, 0)`});if(this.both)xe(X(Qe.cols,this._itemSize[1]),X(Qe.rows,this._itemSize[0]));else{const we=X(Qe,this._itemSize);this.horizontal?xe(we,0):xe(0,we)}}}onScrollPositionChange(be){const Qe=be.target,X=this.getContentPosition(),xe=(ct,at)=>ct?ct>at?ct-at:ct:0,we=(ct,at)=>Math.floor(ct/(at||ct)),Oe=(ct,at,fe,ke,ot,Ct)=>ct<=ot?ot:Ct?fe-ke-ot:at+ot-1,dt=(ct,at,fe,ke,ot,Ct,Ot)=>ct<=Ct?0:Math.max(0,Ot?ct<at?fe:ct-Ct:ct>at?fe:ct-2*Ct),bt=(ct,at,fe,ke,ot,Ct=!1)=>{let Ot=at+ke+2*ot;return ct>=ot&&(Ot+=ot+1),this.getLast(Ot,Ct)},it=xe(Qe.scrollTop,X.top),Dt=xe(Qe.scrollLeft,X.left);let vt=this.both?{rows:0,cols:0}:0,Gt=this.last,Ht=!1,Ut=this.lastScrollPos;if(this.both){const ct=this.lastScrollPos.top<=it,at=this.lastScrollPos.left<=Dt;if(!this._appendOnly||this._appendOnly&&(ct||at)){const fe={rows:we(it,this._itemSize[0]),cols:we(Dt,this._itemSize[1])},ke={rows:Oe(fe.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],ct),cols:Oe(fe.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],at)};vt={rows:dt(fe.rows,ke.rows,this.first.rows,0,0,this.d_numToleratedItems[0],ct),cols:dt(fe.cols,ke.cols,this.first.cols,0,0,this.d_numToleratedItems[1],at)},Gt={rows:bt(fe.rows,vt.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:bt(fe.cols,vt.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},Ht=vt.rows!==this.first.rows||Gt.rows!==this.last.rows||vt.cols!==this.first.cols||Gt.cols!==this.last.cols,Ut={top:it,left:Dt}}}else{const ct=this.horizontal?Dt:it,at=this.lastScrollPos<=ct;if(!this._appendOnly||this._appendOnly&&at){const fe=we(ct,this._itemSize);vt=dt(fe,Oe(fe,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,at),this.first,0,0,this.d_numToleratedItems,at),Gt=bt(fe,vt,0,this.numItemsInViewport,this.d_numToleratedItems),Ht=vt!==this.first||Gt!==this.last,Ut=ct}}return{first:vt,last:Gt,isRangeChanged:Ht,scrollPos:Ut}}onScrollChange(be){const{first:Qe,last:X,isRangeChanged:xe,scrollPos:we}=this.onScrollPositionChange(be);if(xe){const Oe={first:Qe,last:X};if(this.setContentPosition(Oe),this.first=Qe,this.last=X,this.lastScrollPos=we,this.handleEvents("onScrollIndexChange",Oe),this._lazy&&this.isPageChanged){const dt={first:this._step?Math.min(this.getPageByFirst()*this._step,this.items.length-this._step):Qe,last:Math.min(this._step?(this.getPageByFirst()+1)*this._step:X,this.items.length)};(this.lazyLoadState.first!==dt.first||this.lazyLoadState.last!==dt.last)&&this.handleEvents("onLazyLoad",dt),this.lazyLoadState=dt}}}onContainerScroll(be){if(this.handleEvents("onScroll",{originalEvent:be}),this._delay&&this.isPageChanged){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:Qe}=this.onScrollPositionChange(be);(Qe||this._step&&this.isPageChanged)&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(be),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(be)}bindResizeListener(){this.windowResizeListener||this.zone.runOutsideAngular(()=>{this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener),window.addEventListener("orientationchange",this.windowResizeListener)})}unbindResizeListener(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),window.removeEventListener("orientationchange",this.windowResizeListener),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{var be;if(g.p.isVisible(null===(be=this.elementViewChild)||void 0===be?void 0:be.nativeElement)){const[Qe,X]=[g.p.getWidth(this.elementViewChild.nativeElement),g.p.getHeight(this.elementViewChild.nativeElement)],[xe,we]=[Qe!==this.defaultWidth,X!==this.defaultHeight];(this.both?xe||we:this.horizontal?xe:this.vertical&&we)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=Qe,this.defaultHeight=X,this.init()})}},this._resizeDelay)}handleEvents(be,Qe){return this.options&&this.options[be]?this.options[be](Qe):this[be].emit(Qe)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:be=>this.getOptions(be),loading:this.d_loading,getLoaderOptions:(be,Qe)=>this.getLoaderOptions(be,Qe),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(be){const Qe=(this._items||[]).length,X=this.both?this.first.rows+be:this.first+be;return{index:X,count:Qe,first:0===X,last:X===Qe-1,even:X%2==0,odd:X%2!=0}}getLoaderOptions(be,Qe){const X=this.loaderArr.length;return Object.assign({index:be,count:X,first:0===be,last:be===X-1,even:be%2==0,odd:be%2!=0},Qe)}}return Ae.\u0275fac=function(be){return new(be||Ae)(a.Y36(a.sBO),a.Y36(a.R0b))},Ae.\u0275cmp=a.Xpm({type:Ae,selectors:[["p-scroller"]],contentQueries:function(be,Qe,X){if(1&be&&a.Suo(X,f.jx,4),2&be){let xe;a.iGM(xe=a.CRH())&&(Qe.templates=xe)}},viewQuery:function(be,Qe){if(1&be&&(a.Gf(_,5),a.Gf(P,5)),2&be){let X;a.iGM(X=a.CRH())&&(Qe.elementViewChild=X.first),a.iGM(X=a.CRH())&&(Qe.contentViewChild=X.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[a.TTD],ngContentSelectors:z,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["disabledContainer",""],[3,"ngStyle","ngClass","scroll"],["element",""],["buildInContent",""],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],["content",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],["buildInLoader",""],[4,"ngFor","ngForOf"],["buildInLoaderIcon",""],[1,"p-scroller-loading-icon","pi","pi-spinner","pi-spin"],[4,"ngIf"]],template:function(be,Qe){if(1&be&&(a.F$t(),a.YNc(0,G,8,14,"ng-container",0),a.YNc(1,K,2,1,"ng-template",null,1,a.W1O)),2&be){const X=a.MAs(2);a.Q6J("ngIf",!Qe._disabled)("ngIfElse",X)}},dependencies:[e.mk,e.sg,e.O5,e.tP,e.PC],styles:["p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{font-size:2rem}.p-scroller-inline .p-scroller-content{position:static}\n"],encapsulation:2}),Ae})(),Te=(()=>{class Ae{}return Ae.\u0275fac=function(be){return new(be||Ae)},Ae.\u0275mod=a.oAB({type:Ae}),Ae.\u0275inj=a.cJS({imports:[e.ez]}),Ae})()},7102:(mn,ht,b)=>{"use strict";b.d(ht,{Qy:()=>D,UN:()=>x});var e=b(5e3),a=b(9808),f=b(5921),g=b(5787),_=b(2382);function P(S,U){if(1&S&&e._UZ(0,"span",8),2&S){const F=e.oxw(2).$implicit;e.Tol(F.icon),e.Q6J("ngClass","p-button-icon p-button-icon-left")}}function y(S,U){if(1&S&&(e.ynx(0),e.YNc(1,P,1,3,"span",6),e.TgZ(2,"span",7),e._uU(3),e.qZA(),e.BQk()),2&S){const F=e.oxw().$implicit,ce=e.oxw();e.xp6(1),e.Q6J("ngIf",F.icon),e.xp6(2),e.Oqu(ce.getOptionLabel(F))}}function l(S,U){1&S&&e.GkF(0)}const R=function(S,U){return{$implicit:S,index:U}};function L(S,U){if(1&S&&e.YNc(0,l,1,0,"ng-container",9),2&S){const F=e.oxw(),ce=F.$implicit,te=F.index,V=e.oxw();e.Q6J("ngTemplateOutlet",V.itemTemplate)("ngTemplateOutletContext",e.WLB(2,R,ce,te))}}const J=function(S,U,F){return{"p-highlight":S,"p-disabled":U,"p-button-icon-only":F}};function N(S,U){if(1&S){const F=e.EpF();e.TgZ(0,"div",2,3),e.NdJ("click",function(te){const V=e.CHM(F),k=V.$implicit,O=V.index,$=e.oxw();return e.KtG($.onItemClick(te,k,O))})("keydown.enter",function(te){const V=e.CHM(F),k=V.$implicit,O=V.index,$=e.oxw();return e.KtG($.onItemClick(te,k,O))})("blur",function(){e.CHM(F);const te=e.oxw();return e.KtG(te.onBlur())}),e.YNc(2,y,4,2,"ng-container",4),e.YNc(3,L,1,5,"ng-template",null,5,e.W1O),e.qZA()}if(2&S){const F=U.$implicit,ce=e.MAs(4),te=e.oxw();e.Tol(F.styleClass),e.Q6J("ngClass",e.kEZ(10,J,te.isSelected(F),te.disabled||te.isOptionDisabled(F),F.icon&&!te.getOptionLabel(F))),e.uIk("aria-pressed",te.isSelected(F))("title",F.title)("aria-label",F.label)("tabindex",te.disabled?null:te.tabindex)("aria-labelledby",te.getOptionLabel(F)),e.xp6(2),e.Q6J("ngIf",!te.itemTemplate)("ngIfElse",ce)}}const w={provide:_.JU,useExisting:(0,e.Gpc)(()=>x),multi:!0};let x=(()=>{class S{constructor(F){this.cd=F,this.tabindex=0,this.onOptionClick=new e.vpe,this.onChange=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(F){return this.optionLabel?f.gb.resolveFieldData(F,this.optionLabel):null!=F.label?F.label:F}getOptionValue(F){return this.optionValue?f.gb.resolveFieldData(F,this.optionValue):this.optionLabel||void 0===F.value?F:F.value}isOptionDisabled(F){return this.optionDisabled?f.gb.resolveFieldData(F,this.optionDisabled):void 0!==F.disabled&&F.disabled}writeValue(F){this.value=F,this.cd.markForCheck()}registerOnChange(F){this.onModelChange=F}registerOnTouched(F){this.onModelTouched=F}setDisabledState(F){this.disabled=F,this.cd.markForCheck()}onItemClick(F,ce,te){if(!this.disabled&&!this.isOptionDisabled(ce)){if(this.multiple)this.isSelected(ce)?this.removeOption(ce):this.value=[...this.value||[],this.getOptionValue(ce)],this.onModelChange(this.value),this.onChange.emit({originalEvent:F,value:this.value});else{let V=this.getOptionValue(ce);this.value!==V&&(this.value=this.getOptionValue(ce),this.onModelChange(this.value),this.onChange.emit({originalEvent:F,value:this.value}))}this.onOptionClick.emit({originalEvent:F,option:ce,index:te})}}onBlur(){this.onModelTouched()}removeOption(F){this.value=this.value.filter(ce=>!f.gb.equals(ce,this.getOptionValue(F),this.dataKey))}isSelected(F){let ce=!1,te=this.getOptionValue(F);if(this.multiple){if(this.value&&this.value instanceof Array)for(let V of this.value)if(f.gb.equals(V,te,this.dataKey)){ce=!0;break}}else ce=f.gb.equals(this.getOptionValue(F),this.value,this.dataKey);return ce}}return S.\u0275fac=function(F){return new(F||S)(e.Y36(e.sBO))},S.\u0275cmp=e.Xpm({type:S,selectors:[["p-selectButton"]],contentQueries:function(F,ce,te){if(1&F&&e.Suo(te,e.Rgc,5),2&F){let V;e.iGM(V=e.CRH())&&(ce.itemTemplate=V.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[e._Bn([w])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(F,ce){1&F&&(e.TgZ(0,"div",0),e.YNc(1,N,5,14,"div",1),e.qZA()),2&F&&(e.Tol(ce.styleClass),e.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",ce.style),e.xp6(1),e.Q6J("ngForOf",ce.options))},dependencies:[a.mk,a.sg,a.O5,a.tP,a.PC,g.H],styles:['.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}\n'],encapsulation:2,changeDetection:0}),S})(),D=(()=>{class S{}return S.\u0275fac=function(F){return new(F||S)},S.\u0275mod=e.oAB({type:S}),S.\u0275inj=e.cJS({imports:[a.ez,g.T]}),S})()},4500:(mn,ht,b)=>{"use strict";b.d(ht,{O:()=>f,m:()=>g});var e=b(5e3),a=b(9808);let f=(()=>{class _{constructor(){this.shape="rectangle",this.animation="wave",this.borderRadius=null,this.size=null,this.width="100%",this.height="1rem"}containerClass(){return{"p-skeleton p-component":!0,"p-skeleton-circle":"circle"===this.shape,"p-skeleton-none":"none"===this.animation}}containerStyle(){return Object.assign(Object.assign({},this.style),this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius})}}return _.\u0275fac=function(y){return new(y||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["p-skeleton"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",shape:"shape",animation:"animation",borderRadius:"borderRadius",size:"size",width:"width",height:"height"},decls:1,vars:4,consts:[[3,"ngClass","ngStyle"]],template:function(y,l){1&y&&e._UZ(0,"div",0),2&y&&(e.Tol(l.styleClass),e.Q6J("ngClass",l.containerClass())("ngStyle",l.containerStyle()))},dependencies:[a.mk,a.PC],styles:['.p-skeleton{position:relative;overflow:hidden}.p-skeleton:after{content:"";animation:p-skeleton-animation 1.2s infinite;height:100%;left:0;position:absolute;right:0;top:0;transform:translate(-100%);z-index:1}.p-skeleton.p-skeleton-circle{border-radius:50%}.p-skeleton-none:after{animation:none}@keyframes p-skeleton-animation{0%{transform:translate(-100%)}to{transform:translate(100%)}}\n'],encapsulation:2,changeDetection:0}),_})(),g=(()=>{class _{}return _.\u0275fac=function(y){return new(y||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[a.ez]}),_})()},4496:(mn,ht,b)=>{"use strict";b.d(ht,{aj:()=>Qe,ce:()=>X});var e=b(5e3),a=b(1777),f=b(9808),g=b(5730),_=b(3470),P=b(5921),y=b(4119),l=b(9783);const R=["sublist"],L=function(xe){return{"p-hidden":xe}};function J(xe,we){if(1&xe&&e._UZ(0,"li",5),2&xe){const Oe=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,L,!1===Oe.visible))}}function N(xe,we){if(1&xe&&e._UZ(0,"span",17),2&xe){const Oe=e.oxw(3).$implicit;e.Q6J("ngClass",Oe.icon)("ngStyle",Oe.iconStyle)}}function w(xe,we){if(1&xe&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&xe){const Oe=e.oxw(3).$implicit;e.xp6(1),e.Oqu(Oe.label)}}function x(xe,we){if(1&xe&&e._UZ(0,"span",19),2&xe){const Oe=e.oxw(3).$implicit;e.Q6J("innerHTML",Oe.label,e.oJD)}}function D(xe,we){if(1&xe&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&xe){const Oe=e.oxw(3).$implicit;e.Q6J("ngClass",Oe.badgeStyleClass),e.xp6(1),e.Oqu(Oe.badge)}}function S(xe,we){1&xe&&e._UZ(0,"span",21)}const U=function(xe){return{"p-disabled":xe}};function F(xe,we){if(1&xe){const Oe=e.EpF();e.TgZ(0,"a",11),e.NdJ("keydown",function(bt){e.CHM(Oe);const it=e.oxw(3);return e.KtG(it.onItemKeyDown(bt))})("click",function(bt){e.CHM(Oe),e.oxw();const it=e.MAs(1),Dt=e.oxw().$implicit,vt=e.oxw();return e.KtG(vt.itemClick(bt,Dt,it))}),e.YNc(1,N,1,2,"span",12),e.YNc(2,w,2,1,"span",13),e.YNc(3,x,1,1,"ng-template",null,14,e.W1O),e.YNc(5,D,2,2,"span",15),e.YNc(6,S,1,0,"span",16),e.qZA()}if(2&xe){const Oe=e.MAs(4),dt=e.oxw(2).$implicit,bt=e.oxw();e.Q6J("target",dt.target)("ngClass",e.VKq(11,U,dt.disabled)),e.uIk("href",dt.url,e.LSH)("title",dt.title)("id",dt.id)("tabindex",dt.disabled||!bt.isActive?null:"0"),e.xp6(1),e.Q6J("ngIf",dt.icon),e.xp6(1),e.Q6J("ngIf",!1!==dt.escape)("ngIfElse",Oe),e.xp6(3),e.Q6J("ngIf",dt.badge),e.xp6(1),e.Q6J("ngIf",dt.items)}}function ce(xe,we){if(1&xe&&e._UZ(0,"span",17),2&xe){const Oe=e.oxw(3).$implicit;e.Q6J("ngClass",Oe.icon)("ngStyle",Oe.iconStyle)}}function te(xe,we){if(1&xe&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&xe){const Oe=e.oxw(3).$implicit;e.xp6(1),e.Oqu(Oe.label)}}function V(xe,we){if(1&xe&&e._UZ(0,"span",19),2&xe){const Oe=e.oxw(3).$implicit;e.Q6J("innerHTML",Oe.label,e.oJD)}}function k(xe,we){if(1&xe&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&xe){const Oe=e.oxw(3).$implicit;e.Q6J("ngClass",Oe.badgeStyleClass),e.xp6(1),e.Oqu(Oe.badge)}}function O(xe,we){1&xe&&e._UZ(0,"span",24)}const $=function(){return{exact:!1}};function ue(xe,we){if(1&xe){const Oe=e.EpF();e.TgZ(0,"a",22),e.NdJ("keydown",function(bt){e.CHM(Oe);const it=e.oxw(3);return e.KtG(it.onItemKeyDown(bt))})("click",function(bt){e.CHM(Oe),e.oxw();const it=e.MAs(1),Dt=e.oxw().$implicit,vt=e.oxw();return e.KtG(vt.itemClick(bt,Dt,it))}),e.YNc(1,ce,1,2,"span",12),e.YNc(2,te,2,1,"span",13),e.YNc(3,V,1,1,"ng-template",null,14,e.W1O),e.YNc(5,k,2,2,"span",15),e.YNc(6,O,1,0,"span",23),e.qZA()}if(2&xe){const Oe=e.MAs(4),dt=e.oxw(2).$implicit,bt=e.oxw();e.Q6J("routerLink",dt.routerLink)("queryParams",dt.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",dt.routerLinkActiveOptions||e.DdM(21,$))("href",dt.url,e.LSH)("target",dt.target)("ngClass",e.VKq(22,U,dt.disabled))("fragment",dt.fragment)("queryParamsHandling",dt.queryParamsHandling)("preserveFragment",dt.preserveFragment)("skipLocationChange",dt.skipLocationChange)("replaceUrl",dt.replaceUrl)("state",dt.state),e.uIk("title",dt.title)("id",dt.id)("tabindex",dt.disabled||!bt.isActive?null:"0"),e.xp6(1),e.Q6J("ngIf",dt.icon),e.xp6(1),e.Q6J("ngIf",!1!==dt.escape)("ngIfElse",Oe),e.xp6(3),e.Q6J("ngIf",dt.badge),e.xp6(1),e.Q6J("ngIf",dt.items)}}function q(xe,we){if(1&xe&&e._UZ(0,"p-slideMenuSub",25),2&xe){const Oe=e.oxw(2).$implicit,dt=e.oxw();e.Q6J("item",Oe)("index",dt.index+1)("menuWidth",dt.menuWidth)}}const Y=function(xe,we){return{"p-menuitem":!0,"p-menuitem-active":xe,"p-hidden":we}};function G(xe,we){if(1&xe&&(e.TgZ(0,"li",6,7),e.YNc(2,F,7,13,"a",8),e.YNc(3,ue,7,24,"a",9),e.YNc(4,q,1,3,"p-slideMenuSub",10),e.qZA()),2&xe){const Oe=e.MAs(1),dt=e.oxw().$implicit,bt=e.oxw();e.Tol(dt.styleClass),e.Q6J("ngClass",e.WLB(8,Y,Oe==bt.activeItem,!1===dt.visible))("tooltipOptions",dt.tooltipOptions)("ngStyle",dt.style),e.xp6(2),e.Q6J("ngIf",!dt.routerLink),e.xp6(1),e.Q6J("ngIf",dt.routerLink),e.xp6(1),e.Q6J("ngIf",dt.items)}}function he(xe,we){if(1&xe&&(e.YNc(0,J,1,3,"li",3),e.YNc(1,G,5,11,"li",4)),2&xe){const Oe=we.$implicit;e.Q6J("ngIf",Oe.separator),e.xp6(1),e.Q6J("ngIf",!Oe.separator)}}const j=function(xe,we,Oe){return{"p-slidemenu-rootlist":xe,"p-submenu-list":we,"p-active-submenu":Oe}},Q=["container"],K=["backward"],z=["slideMenuContent"],oe=function(xe){return{"p-slidemenu p-component":!0,"p-slidemenu-overlay":xe}},Te=function(xe,we){return{showTransitionParams:xe,hideTransitionParams:we}},Ae=function(xe){return{value:"visible",params:xe}};function Ke(xe,we){if(1&xe){const Oe=e.EpF();e.TgZ(0,"div",1,2),e.NdJ("click",function(bt){e.CHM(Oe);const it=e.oxw();return e.KtG(it.onOverlayClick(bt))})("@overlayAnimation.start",function(bt){e.CHM(Oe);const it=e.oxw();return e.KtG(it.onOverlayAnimationStart(bt))})("@overlayAnimation.done",function(bt){e.CHM(Oe);const it=e.oxw();return e.KtG(it.onOverlayAnimationEnd(bt))}),e.TgZ(2,"div",3)(3,"div",4,5),e._UZ(5,"p-slideMenuSub",6),e.qZA(),e.TgZ(6,"a",7,8),e.NdJ("keydown.enter",function(bt){e.CHM(Oe);const it=e.oxw();return e.KtG(it.onBackwardKeydown(bt))})("keydown.space",function(bt){e.CHM(Oe);const it=e.oxw();return e.KtG(it.onBackwardKeydown(bt))})("click",function(){e.CHM(Oe);const bt=e.oxw();return e.KtG(bt.goBack())}),e._UZ(8,"span",9),e.TgZ(9,"span"),e._uU(10),e.qZA()()()()}if(2&xe){const Oe=e.oxw();e.Tol(Oe.styleClass),e.Q6J("ngClass",e.VKq(18,oe,Oe.popup))("ngStyle",Oe.style)("@overlayAnimation",e.VKq(23,Ae,e.WLB(20,Te,Oe.showTransitionOptions,Oe.hideTransitionOptions)))("@.disabled",!0!==Oe.popup),e.xp6(2),e.Udp("height",Oe.left?Oe.viewportHeight+"px":"auto")("width",Oe.menuWidth+"px"),e.xp6(3),e.Q6J("item",Oe.model)("index",0)("menuWidth",Oe.menuWidth)("effectDuration",Oe.effectDuration)("easing",Oe.easing),e.xp6(1),e.Udp("display",Oe.left?"block":"none"),e.xp6(4),e.Oqu(Oe.backLabel)}}let be=(()=>{class xe{constructor(Oe){this.backLabel="Back",this.easing="ease-out",this.slideMenu=Oe}itemClick(Oe,dt,bt){dt.disabled?Oe.preventDefault():(!dt.url&&!dt.routerLink&&Oe.preventDefault(),dt.command&&dt.command({originalEvent:Oe,item:dt}),dt.items&&!this.slideMenu.animating&&(this.slideMenu.left-=this.slideMenu.menuWidth,this.activeItem=bt,this.slideMenu.animating=!0,setTimeout(()=>this.slideMenu.animating=!1,this.effectDuration)),!dt.items&&this.slideMenu.popup&&this.slideMenu.hide())}focusNextList(Oe){if(!this.slideMenu.animating){let dt=g.p.getFocusableElements(Oe);dt&&dt.length>0&&dt[0].focus(),this.unbindTransitionEndListener()}}onItemKeyDown(Oe){let dt=Oe.currentTarget.parentElement;switch(Oe.code){case"Space":case"Enter":dt&&!g.p.hasClass(dt,"p-disabled")&&(dt.children[0].click(),this.transitionEndListener=this.focusNextList.bind(this,dt),this.sublistViewChild.nativeElement.addEventListener("transitionend",this.transitionEndListener)),Oe.preventDefault()}}unbindTransitionEndListener(){this.transitionEndListener&&this.sublistViewChild&&(this.sublistViewChild.nativeElement.removeEventListener("transitionend",this.transitionEndListener),this.transitionEndListener=null)}ngOnDestroy(){this.activeItem=null,this.unbindTransitionEndListener()}get isActive(){return-this.slideMenu.left==this.index*this.menuWidth}}return xe.\u0275fac=function(Oe){return new(Oe||xe)(e.Y36((0,e.Gpc)(()=>Qe)))},xe.\u0275cmp=e.Xpm({type:xe,selectors:[["p-slideMenuSub"]],viewQuery:function(Oe,dt){if(1&Oe&&e.Gf(R,5),2&Oe){let bt;e.iGM(bt=e.CRH())&&(dt.sublistViewChild=bt.first)}},hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",backLabel:"backLabel",menuWidth:"menuWidth",effectDuration:"effectDuration",easing:"easing",index:"index"},decls:3,vars:16,consts:[[3,"ngClass"],["sublist",""],["ngFor","",3,"ngForOf"],["class","p-menu-separator",3,"ngClass",4,"ngIf"],["pTooltip","",3,"ngClass","tooltipOptions","class","ngStyle",4,"ngIf"],[1,"p-menu-separator",3,"ngClass"],["pTooltip","",3,"ngClass","tooltipOptions","ngStyle"],["listitem",""],["class","p-menuitem-link",3,"target","ngClass","keydown","click",4,"ngIf"],["class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","href","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click",4,"ngIf"],["class","p-submenu",3,"item","index","menuWidth",4,"ngIf"],[1,"p-menuitem-link",3,"target","ngClass","keydown","click"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlRouteLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],["class","p-submenu-icon pi pi-fw pi-angle-right",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[1,"p-submenu-icon","pi","pi-fw","pi-angle-right"],[1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","href","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click"],["class","p-submenu-icon pi pi-fw pi-caret-right",4,"ngIf"],[1,"p-submenu-icon","pi","pi-fw","pi-caret-right"],[1,"p-submenu",3,"item","index","menuWidth"]],template:function(Oe,dt){1&Oe&&(e.TgZ(0,"ul",0,1),e.YNc(2,he,2,2,"ng-template",2),e.qZA()),2&Oe&&(e.Udp("width",dt.menuWidth,"px")("left",dt.root?dt.slideMenu.left:dt.slideMenu.menuWidth,"px")("transition-property",dt.root?"left":"none")("transition-duration",dt.effectDuration+"ms")("transition-timing-function",dt.easing),e.Q6J("ngClass",e.kEZ(12,j,dt.root,!dt.root,dt.isActive)),e.xp6(2),e.Q6J("ngForOf",dt.root?dt.item:dt.item.items))},dependencies:[f.mk,f.sg,f.O5,f.PC,_.yS,_.Od,y.u,xe],encapsulation:2}),xe})(),Qe=(()=>{class xe{constructor(Oe,dt,bt,it,Dt){this.el=Oe,this.renderer=dt,this.cd=bt,this.config=it,this.overlayService=Dt,this.menuWidth=190,this.viewportHeight=180,this.effectDuration=250,this.easing="ease-out",this.backLabel="Back",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new e.vpe,this.onHide=new e.vpe,this.left=0,this.animating=!1}ngAfterViewChecked(){!this.viewportUpdated&&!this.popup&&this.containerViewChild&&(this.updateViewPort(),this.viewportUpdated=!0)}set container(Oe){this.containerViewChild=Oe}set backward(Oe){this.backwardViewChild=Oe}set slideMenuContent(Oe){this.slideMenuContentViewChild=Oe}updateViewPort(){this.slideMenuContentViewChild.nativeElement.style.height=this.viewportHeight-g.p.getHiddenElementOuterHeight(this.backwardViewChild.nativeElement)+"px"}toggle(Oe){this.visible?this.hide():this.show(Oe),this.preventDocumentDefault=!0}show(Oe){this.target=Oe.currentTarget,this.visible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayClick(Oe){this.popup&&this.overlayService.add({originalEvent:Oe,target:this.el.nativeElement}),this.preventDocumentDefault=!0}onOverlayAnimationStart(Oe){switch(Oe.toState){case"visible":this.popup&&(this.updateViewPort(),this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),g.p.absolutePosition(this.containerViewChild.nativeElement,this.target),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.onOverlayHide(),this.onHide.emit({})}}onOverlayAnimationEnd(Oe){"void"===Oe.toState&&P.P9.clear(Oe.element)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.containerViewChild.nativeElement):g.p.appendChild(this.containerViewChild.nativeElement,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.containerViewChild.nativeElement)}moveOnTop(){this.autoZIndex&&P.P9.set("menu",this.containerViewChild.nativeElement,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.cd.markForCheck()}onWindowResize(){this.visible&&!g.p.isTouchDevice()&&this.hide()}goBack(){this.left+=this.menuWidth}onBackwardKeydown(Oe){this.goBack(),this.left||setTimeout(()=>{let dt=g.p.getFocusableElements(this.el.nativeElement);dt&&dt.length>0&&dt[0].focus()},1),Oe.preventDefault()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.preventDocumentDefault||(this.hide(),this.cd.detectChanges()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new g.V(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.left=0,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.restoreOverlayAppend(),this.onOverlayHide())}}return xe.\u0275fac=function(Oe){return new(Oe||xe)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(l.b4),e.Y36(l.F0))},xe.\u0275cmp=e.Xpm({type:xe,selectors:[["p-slideMenu"]],viewQuery:function(Oe,dt){if(1&Oe&&(e.Gf(Q,5),e.Gf(K,5),e.Gf(z,5)),2&Oe){let bt;e.iGM(bt=e.CRH())&&(dt.container=bt.first),e.iGM(bt=e.CRH())&&(dt.backward=bt.first),e.iGM(bt=e.CRH())&&(dt.slideMenuContent=bt.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",menuWidth:"menuWidth",viewportHeight:"viewportHeight",effectDuration:"effectDuration",easing:"easing",backLabel:"backLabel",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["container",""],[1,"p-slidemenu-wrapper"],[1,"p-slidemenu-content"],["slideMenuContent",""],["root","root",3,"item","index","menuWidth","effectDuration","easing"],["tabindex","0",1,"p-slidemenu-backward","p-menuitem-link",3,"keydown.enter","keydown.space","click"],["backward",""],[1,"p-slidemenu-backward-icon","pi","pi-fw","pi-caret-left"]],template:function(Oe,dt){1&Oe&&e.YNc(0,Ke,11,25,"div",0),2&Oe&&e.Q6J("ngIf",!dt.popup||dt.visible)},dependencies:[f.mk,f.O5,f.PC,be],styles:[".p-slidemenu{width:12.5rem}.p-slidemenu.p-slidemenu-overlay{position:absolute;top:0;left:0}.p-slidemenu ul{list-style:none;margin:0;padding:0}.p-slidemenu .p-slidemenu-rootlist{position:absolute;top:0}.p-slidemenu .p-submenu-list{display:none;position:absolute;top:0;width:12.5rem}.p-slidemenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden}.p-slidemenu .p-menuitem-icon,.p-slidemenu .p-menuitem-text{vertical-align:middle}.p-slidemenu .p-menuitem{position:relative}.p-slidemenu .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-slidemenu .p-slidemenu-wrapper{position:relative}.p-slidemenu .p-slidemenu-content{overflow-x:hidden;overflow-y:auto;position:relative}.p-slidemenu-backward{position:absolute;bottom:0;width:100%;cursor:pointer;display:none}.p-slidemenu-backward .p-slidemenu-backward-icon,.p-slidemenu-backward span{vertical-align:middle}.p-slidemenu .p-menuitem-active{position:static}.p-slidemenu .p-menuitem-active>.p-submenu>.p-submenu-list{display:block}.p-slidemenu ul:not(.p-active-submenu)>.p-menuitem:not(.p-menuitem-active),.p-slidemenu .p-active-submenu>.p-menuitem-active>.p-submenu>.p-submenu-list{display:none}.p-slidemenu .p-active-submenu>.p-menuitem-active~.p-menuitem{display:block}\n"],encapsulation:2,data:{animation:[(0,a.X$)("overlayAnimation",[(0,a.eR)(":enter",[(0,a.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,a.jt)("{{showTransitionParams}}")]),(0,a.eR)(":leave",[(0,a.jt)("{{hideTransitionParams}}",(0,a.oB)({opacity:0}))])])]},changeDetection:0}),xe})(),X=(()=>{class xe{}return xe.\u0275fac=function(Oe){return new(Oe||xe)},xe.\u0275mod=e.oAB({type:xe}),xe.\u0275inj=e.cJS({imports:[f.ez,_.Bz,y.z,_.Bz,y.z]}),xe})()},4776:(mn,ht,b)=>{"use strict";b.d(ht,{JH:()=>$,iR:()=>O});var e=b(9808),a=b(5e3),f=b(2382),g=b(5730);const _=["sliderHandle"],P=["sliderHandleStart"],y=["sliderHandleEnd"],l=function(ue,q){return{left:ue,width:q}};function R(ue,q){if(1&ue&&a._UZ(0,"span",4),2&ue){const Y=a.oxw();a.Q6J("ngStyle",a.WLB(1,l,null!=Y.offset?Y.offset+"%":Y.handleValues[0]+"%",Y.diff?Y.diff+"%":Y.handleValues[1]-Y.handleValues[0]+"%"))}}const L=function(ue,q){return{bottom:ue,height:q}};function J(ue,q){if(1&ue&&a._UZ(0,"span",4),2&ue){const Y=a.oxw();a.Q6J("ngStyle",a.WLB(1,L,null!=Y.offset?Y.offset+"%":Y.handleValues[0]+"%",Y.diff?Y.diff+"%":Y.handleValues[1]-Y.handleValues[0]+"%"))}}const N=function(ue){return{height:ue}};function w(ue,q){if(1&ue&&a._UZ(0,"span",4),2&ue){const Y=a.oxw();a.Q6J("ngStyle",a.VKq(1,N,Y.handleValue+"%"))}}const x=function(ue){return{width:ue}};function D(ue,q){if(1&ue&&a._UZ(0,"span",4),2&ue){const Y=a.oxw();a.Q6J("ngStyle",a.VKq(1,x,Y.handleValue+"%"))}}const S=function(ue,q){return{left:ue,bottom:q}};function U(ue,q){if(1&ue){const Y=a.EpF();a.TgZ(0,"span",5,6),a.NdJ("keydown",function(he){a.CHM(Y);const j=a.oxw();return a.KtG(j.onHandleKeydown(he))})("mousedown",function(he){a.CHM(Y);const j=a.oxw();return a.KtG(j.onMouseDown(he))})("touchstart",function(he){a.CHM(Y);const j=a.oxw();return a.KtG(j.onTouchStart(he))})("touchmove",function(he){a.CHM(Y);const j=a.oxw();return a.KtG(j.onTouchMove(he))})("touchend",function(he){a.CHM(Y);const j=a.oxw();return a.KtG(j.onTouchEnd(he))}),a.qZA()}if(2&ue){const Y=a.oxw();a.Udp("transition",Y.dragging?"none":null),a.Q6J("ngStyle",a.WLB(8,S,"horizontal"==Y.orientation?Y.handleValue+"%":null,"vertical"==Y.orientation?Y.handleValue+"%":null)),a.uIk("tabindex",Y.disabled?null:Y.tabindex)("aria-valuemin",Y.min)("aria-valuenow",Y.value)("aria-valuemax",Y.max)("aria-labelledby",Y.ariaLabelledBy)}}const F=function(ue){return{"p-slider-handle-active":ue}};function ce(ue,q){if(1&ue){const Y=a.EpF();a.TgZ(0,"span",7,8),a.NdJ("keydown",function(he){a.CHM(Y);const j=a.oxw();return a.KtG(j.onHandleKeydown(he,0))})("mousedown",function(he){a.CHM(Y);const j=a.oxw();return a.KtG(j.onMouseDown(he,0))})("touchstart",function(he){a.CHM(Y);const j=a.oxw();return a.KtG(j.onTouchStart(he,0))})("touchmove",function(he){a.CHM(Y);const j=a.oxw();return a.KtG(j.onTouchMove(he,0))})("touchend",function(he){a.CHM(Y);const j=a.oxw();return a.KtG(j.onTouchEnd(he))}),a.qZA()}if(2&ue){const Y=a.oxw();a.Udp("transition",Y.dragging?"none":null),a.Q6J("ngStyle",a.WLB(9,S,Y.rangeStartLeft,Y.rangeStartBottom))("ngClass",a.VKq(12,F,0==Y.handleIndex)),a.uIk("tabindex",Y.disabled?null:Y.tabindex)("aria-valuemin",Y.min)("aria-valuenow",Y.value?Y.value[0]:null)("aria-valuemax",Y.max)("aria-labelledby",Y.ariaLabelledBy)}}function te(ue,q){if(1&ue){const Y=a.EpF();a.TgZ(0,"span",7,9),a.NdJ("keydown",function(he){a.CHM(Y);const j=a.oxw();return a.KtG(j.onHandleKeydown(he,1))})("mousedown",function(he){a.CHM(Y);const j=a.oxw();return a.KtG(j.onMouseDown(he,1))})("touchstart",function(he){a.CHM(Y);const j=a.oxw();return a.KtG(j.onTouchStart(he,1))})("touchmove",function(he){a.CHM(Y);const j=a.oxw();return a.KtG(j.onTouchMove(he,1))})("touchend",function(he){a.CHM(Y);const j=a.oxw();return a.KtG(j.onTouchEnd(he))}),a.qZA()}if(2&ue){const Y=a.oxw();a.Udp("transition",Y.dragging?"none":null),a.Q6J("ngStyle",a.WLB(9,S,Y.rangeEndLeft,Y.rangeEndBottom))("ngClass",a.VKq(12,F,1==Y.handleIndex)),a.uIk("tabindex",Y.disabled?null:Y.tabindex)("aria-valuemin",Y.min)("aria-valuenow",Y.value?Y.value[1]:null)("aria-valuemax",Y.max)("aria-labelledby",Y.ariaLabelledBy)}}const V=function(ue,q,Y,G){return{"p-slider p-component":!0,"p-disabled":ue,"p-slider-horizontal":q,"p-slider-vertical":Y,"p-slider-animate":G}},k={provide:f.JU,useExisting:(0,a.Gpc)(()=>O),multi:!0};let O=(()=>{class ue{constructor(Y,G,he,j){this.el=Y,this.renderer=G,this.ngZone=he,this.cd=j,this.min=0,this.max=100,this.orientation="horizontal",this.tabindex=0,this.onChange=new a.vpe,this.onSlideEnd=new a.vpe,this.handleValues=[],this.onModelChange=()=>{},this.onModelTouched=()=>{},this.handleIndex=0}onMouseDown(Y,G){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:G,this.bindDragListeners(),Y.target.focus(),Y.preventDefault(),this.animate&&g.p.removeClass(this.el.nativeElement.children[0],"p-slider-animate"))}onTouchStart(Y,G){if(!this.disabled){var he=Y.changedTouches[0];this.startHandleValue=this.range?this.handleValues[G]:this.handleValue,this.dragging=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:G,"horizontal"===this.orientation?(this.startx=parseInt(he.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(he.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),this.animate&&g.p.removeClass(this.el.nativeElement.children[0],"p-slider-animate"),Y.preventDefault()}}onTouchMove(Y,G){if(!this.disabled){var j,he=Y.changedTouches[0];j="horizontal"===this.orientation?Math.floor(100*(parseInt(he.clientX,10)-this.startx)/this.barWidth)+this.startHandleValue:Math.floor(100*(this.starty-parseInt(he.clientY,10))/this.barHeight)+this.startHandleValue,this.setValueFromHandle(Y,j),Y.preventDefault()}}onTouchEnd(Y,G){this.disabled||(this.dragging=!1,this.onSlideEnd.emit(this.range?{originalEvent:Y,values:this.values}:{originalEvent:Y,value:this.value}),this.animate&&g.p.addClass(this.el.nativeElement.children[0],"p-slider-animate"),Y.preventDefault())}onBarClick(Y){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(Y)),this.sliderHandleClick=!1)}onHandleKeydown(Y,G){this.disabled||(38==Y.which||39==Y.which?this.spin(Y,1,G):(37==Y.which||40==Y.which)&&this.spin(Y,-1,G))}spin(Y,G,he){let j=(this.step||1)*G;this.range?(this.handleIndex=he,this.updateValue(this.values[this.handleIndex]+j),this.updateHandleValue()):(this.updateValue(this.value+j),this.updateHandleValue()),Y.preventDefault()}handleChange(Y){let G=this.calculateHandleValue(Y);this.setValueFromHandle(Y,G)}bindDragListeners(){this.ngZone.runOutsideAngular(()=>{const Y=this.el?this.el.nativeElement.ownerDocument:"document";this.dragListener||(this.dragListener=this.renderer.listen(Y,"mousemove",G=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(G)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(Y,"mouseup",G=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.onSlideEnd.emit(this.range?{originalEvent:G,values:this.values}:{originalEvent:G,value:this.value}),this.animate&&g.p.addClass(this.el.nativeElement.children[0],"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&this.dragListener(),this.mouseupListener&&this.mouseupListener()}setValueFromHandle(Y,G){this.sliderHandleClick=!1;let he=this.getValueFromHandle(G);this.range?this.step?this.handleStepChange(he,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=G,this.updateValue(he,Y)):this.step?this.handleStepChange(he,this.value):(this.handleValue=G,this.updateValue(he,Y)),this.cd.markForCheck()}handleStepChange(Y,G){let he=Y-G,j=G;he<0?j=G+Math.ceil(Y/this.step-G/this.step)*this.step:he>0&&(j=G+Math.floor(Y/this.step-G/this.step)*this.step),this.updateValue(j),this.updateHandleValue()}writeValue(Y){this.range?this.values=Y||[0,0]:this.value=Y||0,this.updateHandleValue(),this.updateDiffAndOffset(),this.cd.markForCheck()}registerOnChange(Y){this.onModelChange=Y}registerOnTouched(Y){this.onModelTouched=Y}setDisabledState(Y){this.disabled=Y,this.cd.markForCheck()}get rangeStartLeft(){return this.isVertical()?null:this.handleValues[0]>100?"100%":this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?null:this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return"vertical"===this.orientation}updateDomData(){let Y=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=Y.left+g.p.getWindowScrollLeft(),this.initY=Y.top+g.p.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight}calculateHandleValue(Y){return"horizontal"===this.orientation?100*(Y.pageX-this.initX)/this.barWidth:100*(this.initY+this.barHeight-Y.pageY)/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=100*(this.values[0]<this.min?0:this.values[0]-this.min)/(this.max-this.min),this.handleValues[1]=100*(this.values[1]>this.max?100:this.values[1]-this.min)/(this.max-this.min)):this.handleValue=this.value<this.min?0:this.value>this.max?100:100*(this.value-this.min)/(this.max-this.min),this.step&&this.updateDiffAndOffset()}updateDiffAndOffset(){this.diff=this.getDiff(),this.offset=this.getOffset()}getDiff(){return Math.abs(this.handleValues[0]-this.handleValues[1])}getOffset(){return Math.min(this.handleValues[0],this.handleValues[1])}updateValue(Y,G){if(this.range){let he=Y;0==this.handleIndex?(he<this.min?(he=this.min,this.handleValues[0]=0):he>this.values[1]&&he>this.max&&(he=this.max,this.handleValues[0]=100),this.sliderHandleStart.nativeElement.focus()):(he>this.max?(he=this.max,this.handleValues[1]=100,this.offset=this.handleValues[1]):he<this.min?(he=this.min,this.handleValues[1]=0):he<this.values[0]&&(this.offset=this.handleValues[1]),this.sliderHandleEnd.nativeElement.focus()),this.step?this.updateHandleValue():this.updateDiffAndOffset(),this.values[this.handleIndex]=this.getNormalizedValue(he),this.onModelChange([this.minVal,this.maxVal]),this.onChange.emit({event:G,values:this.values})}else Y<this.min?(Y=this.min,this.handleValue=0):Y>this.max&&(Y=this.max,this.handleValue=100),this.value=this.getNormalizedValue(Y),this.onModelChange(this.value),this.onChange.emit({event:G,value:this.value}),this.sliderHandle.nativeElement.focus()}getValueFromHandle(Y){return Y/100*(this.max-this.min)+this.min}getDecimalsCount(Y){return Y&&Math.floor(Y)!==Y&&Y.toString().split(".")[1].length||0}getNormalizedValue(Y){let G=this.getDecimalsCount(this.step);return G>0?+parseFloat(Y.toString()).toFixed(G):Math.floor(Y)}ngOnDestroy(){this.unbindDragListeners()}get minVal(){return Math.min(this.values[1],this.values[0])}get maxVal(){return Math.max(this.values[1],this.values[0])}}return ue.\u0275fac=function(Y){return new(Y||ue)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.R0b),a.Y36(a.sBO))},ue.\u0275cmp=a.Xpm({type:ue,selectors:[["p-slider"]],viewQuery:function(Y,G){if(1&Y&&(a.Gf(_,5),a.Gf(P,5),a.Gf(y,5)),2&Y){let he;a.iGM(he=a.CRH())&&(G.sliderHandle=he.first),a.iGM(he=a.CRH())&&(G.sliderHandleStart=he.first),a.iGM(he=a.CRH())&&(G.sliderHandleEnd=he.first)}},hostAttrs:[1,"p-element"],inputs:{animate:"animate",disabled:"disabled",min:"min",max:"max",orientation:"orientation",step:"step",range:"range",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex"},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[a._Bn([k])],decls:8,vars:16,consts:[[3,"ngStyle","ngClass","click"],["class","p-slider-range",3,"ngStyle",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[1,"p-slider-range",3,"ngStyle"],[1,"p-slider-handle",3,"ngStyle","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandle",""],[1,"p-slider-handle",3,"ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandleStart",""],["sliderHandleEnd",""]],template:function(Y,G){1&Y&&(a.TgZ(0,"div",0),a.NdJ("click",function(j){return G.onBarClick(j)}),a.YNc(1,R,1,4,"span",1),a.YNc(2,J,1,4,"span",1),a.YNc(3,w,1,3,"span",1),a.YNc(4,D,1,3,"span",1),a.YNc(5,U,2,11,"span",2),a.YNc(6,ce,2,14,"span",3),a.YNc(7,te,2,14,"span",3),a.qZA()),2&Y&&(a.Tol(G.styleClass),a.Q6J("ngStyle",G.style)("ngClass",a.l5B(11,V,G.disabled,"horizontal"==G.orientation,"vertical"==G.orientation,G.animate)),a.xp6(1),a.Q6J("ngIf",G.range&&"horizontal"==G.orientation),a.xp6(1),a.Q6J("ngIf",G.range&&"vertical"==G.orientation),a.xp6(1),a.Q6J("ngIf",!G.range&&"vertical"==G.orientation),a.xp6(1),a.Q6J("ngIf",!G.range&&"horizontal"==G.orientation),a.xp6(1),a.Q6J("ngIf",!G.range),a.xp6(1),a.Q6J("ngIf",G.range),a.xp6(1),a.Q6J("ngIf",G.range))},dependencies:[e.mk,e.O5,e.PC],styles:[".p-slider{position:relative}.p-slider .p-slider-handle{position:absolute;cursor:grab;touch-action:none;display:block}.p-slider-range{position:absolute;display:block}.p-slider-horizontal .p-slider-range{top:0;left:0;height:100%}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}\n"],encapsulation:2,changeDetection:0}),ue})(),$=(()=>{class ue{}return ue.\u0275fac=function(Y){return new(Y||ue)},ue.\u0275mod=a.oAB({type:ue}),ue.\u0275inj=a.cJS({imports:[e.ez]}),ue})()},9955:(mn,ht,b)=>{"use strict";b.d(ht,{l:()=>Oe});var e=b(5e3),a=b(9808),f=b(845),g=b(3470),_=b(5787),P=b(4119);let Te=(()=>{class dt{}return dt.\u0275fac=function(it){return new(it||dt)},dt.\u0275mod=e.oAB({type:dt}),dt.\u0275inj=e.cJS({imports:[a.ez,g.Bz,_.T,P.z,g.Bz,P.z]}),dt})(),Oe=(()=>{class dt{}return dt.\u0275fac=function(it){return new(it||dt)},dt.\u0275mod=e.oAB({type:dt}),dt.\u0275inj=e.cJS({imports:[a.ez,f.hJ,Te,f.hJ,Te]}),dt})()},8952:(mn,ht,b)=>{"use strict";b.d(ht,{YL:()=>ms,Wq:()=>Bs,on:()=>Ws,jB:()=>Ts,Ei:()=>kr,fz:()=>ss,lQ:()=>vr,iA:()=>qi,U$:()=>yr});var e=b(9808),a=b(5e3),f=b(2382),g=b(9783),_=b(845),P=b(5652),y=b(5730),l=b(4036),R=b(7010),L=b(1424),J=b(4132),N=b(5871),w=b(7102);const x=function(St,hn,se){return{"p-checkbox-label-active":St,"p-disabled":hn,"p-checkbox-label-focus":se}};function D(St,hn){if(1&St){const se=a.EpF();a.TgZ(0,"label",7),a.NdJ("click",function(xt){a.CHM(se);const zt=a.oxw(),Nn=a.MAs(3);return a.KtG(zt.onClick(xt,Nn))}),a._uU(1),a.qZA()}if(2&St){const se=a.oxw();a.Q6J("ngClass",a.kEZ(3,x,null!=se.value,se.disabled,se.focused)),a.uIk("for",se.inputId),a.xp6(1),a.Oqu(se.label)}}const S=function(St,hn){return{"p-checkbox p-component":!0,"p-checkbox-disabled":St,"p-checkbox-focused":hn}},U=function(St,hn,se){return{"p-highlight":St,"p-disabled":hn,"p-focus":se}},F={provide:f.JU,useExisting:(0,a.Gpc)(()=>ce),multi:!0};let ce=(()=>{class St{constructor(se){this.cd=se,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new a.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(se,Ge){!this.disabled&&!this.readonly&&(this.toggle(se),this.focused=!0,Ge.focus())}onKeydown(se){32==se.keyCode&&se.preventDefault()}onKeyup(se){32==se.keyCode&&!this.readonly&&(this.toggle(se),se.preventDefault())}toggle(se){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:se,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(se){this.onModelChange=se}registerOnTouched(se){this.onModelTouched=se}writeValue(se){this.value=se,this.cd.markForCheck()}setDisabledState(se){this.disabled=se,this.cd.markForCheck()}}return St.\u0275fac=function(se){return new(se||St)(a.Y36(a.sBO))},St.\u0275cmp=a.Xpm({type:St,selectors:[["p-triStateCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[a._Bn([F])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(se,Ge){if(1&se){const xt=a.EpF();a.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),a.NdJ("keyup",function(Nn){return Ge.onKeyup(Nn)})("keydown",function(Nn){return Ge.onKeydown(Nn)})("focus",function(){return Ge.onFocus()})("blur",function(){return Ge.onBlur()}),a.qZA()(),a.TgZ(4,"div",4),a.NdJ("click",function(Nn){a.CHM(xt);const Wn=a.MAs(3);return a.KtG(Ge.onClick(Nn,Wn))}),a._UZ(5,"span",5),a.qZA()(),a.YNc(6,D,2,7,"label",6)}2&se&&(a.Tol(Ge.styleClass),a.Q6J("ngStyle",Ge.style)("ngClass",a.WLB(14,S,Ge.disabled,Ge.focused)),a.xp6(2),a.Q6J("name",Ge.name)("readonly",Ge.readonly)("disabled",Ge.disabled),a.uIk("id",Ge.inputId)("tabindex",Ge.tabindex)("aria-labelledby",Ge.ariaLabelledBy),a.xp6(2),a.Q6J("ngClass",a.kEZ(17,U,null!=Ge.value,Ge.disabled,Ge.focused)),a.uIk("aria-checked",!0===Ge.value),a.xp6(1),a.Q6J("ngClass",!0===Ge.value?Ge.checkboxTrueIcon:!1===Ge.value?Ge.checkboxFalseIcon:""),a.xp6(1),a.Q6J("ngIf",Ge.label))},dependencies:[e.mk,e.O5,e.PC],encapsulation:2,changeDetection:0}),St})(),te=(()=>{class St{}return St.\u0275fac=function(se){return new(se||St)},St.\u0275mod=a.oAB({type:St}),St.\u0275inj=a.cJS({imports:[e.ez]}),St})();var V=b(5921),k=b(7579);const O=["container"],$=["resizeHelper"],ue=["reorderIndicatorUp"],q=["reorderIndicatorDown"],Y=["wrapper"],G=["table"],he=["thead"],j=["tfoot"],Q=["scroller"];function K(St,hn){if(1&St&&(a.TgZ(0,"div",15),a._UZ(1,"i"),a.qZA()),2&St){const se=a.oxw();a.xp6(1),a.Tol("p-datatable-loading-icon pi-spin "+se.loadingIcon)}}function z(St,hn){1&St&&a.GkF(0)}function oe(St,hn){if(1&St&&(a.TgZ(0,"div",16),a.YNc(1,z,1,0,"ng-container",17),a.qZA()),2&St){const se=a.oxw();a.xp6(1),a.Q6J("ngTemplateOutlet",se.captionTemplate)}}function Te(St,hn){if(1&St){const se=a.EpF();a.TgZ(0,"p-paginator",18),a.NdJ("onPageChange",function(xt){a.CHM(se);const zt=a.oxw();return a.KtG(zt.onPageChange(xt))}),a.qZA()}if(2&St){const se=a.oxw();a.Q6J("rows",se.rows)("first",se.first)("totalRecords",se.totalRecords)("pageLinkSize",se.pageLinks)("alwaysShow",se.alwaysShowPaginator)("rowsPerPageOptions",se.rowsPerPageOptions)("templateLeft",se.paginatorLeftTemplate)("templateRight",se.paginatorRightTemplate)("dropdownAppendTo",se.paginatorDropdownAppendTo)("dropdownScrollHeight",se.paginatorDropdownScrollHeight)("currentPageReportTemplate",se.currentPageReportTemplate)("showFirstLastIcon",se.showFirstLastIcon)("dropdownItemTemplate",se.paginatorDropdownItemTemplate)("showCurrentPageReport",se.showCurrentPageReport)("showJumpToPageDropdown",se.showJumpToPageDropdown)("showJumpToPageInput",se.showJumpToPageInput)("showPageLinks",se.showPageLinks)}}function Ae(St,hn){1&St&&a.GkF(0)}const Ke=function(St,hn){return{$implicit:St,options:hn}};function be(St,hn){if(1&St&&a.YNc(0,Ae,1,0,"ng-container",22),2&St){const se=hn.$implicit,Ge=hn.options;a.oxw(2);const xt=a.MAs(10);a.Q6J("ngTemplateOutlet",xt)("ngTemplateOutletContext",a.WLB(2,Ke,se,Ge))}}const Qe=function(St){return{height:St}};function X(St,hn){if(1&St){const se=a.EpF();a.TgZ(0,"p-scroller",19,20),a.NdJ("onLazyLoad",function(xt){a.CHM(se);const zt=a.oxw();return a.KtG(zt.onLazyItemLoad(xt))}),a.YNc(2,be,1,5,"ng-template",21),a.qZA()}if(2&St){const se=a.oxw();a.Akn(a.VKq(14,Qe,"flex"!==se.scrollHeight?se.scrollHeight:void 0)),a.Q6J("items",se.processedData)("columns",se.columns)("scrollHeight","flex"!==se.scrollHeight?void 0:"100%")("itemSize",se.virtualScrollItemSize||se._virtualRowHeight)("step",se.rows)("delay",se.lazy?se.virtualScrollDelay:0)("inline",!0)("lazy",se.lazy)("loaderDisabled",!0)("showSpacer",!1)("showLoader",se.loadingBodyTemplate)("options",se.virtualScrollOptions)}}function xe(St,hn){1&St&&a.GkF(0)}const we=function(St){return{columns:St}};function Oe(St,hn){if(1&St&&(a.ynx(0),a.YNc(1,xe,1,0,"ng-container",22),a.BQk()),2&St){const se=a.oxw(),Ge=a.MAs(10);a.xp6(1),a.Q6J("ngTemplateOutlet",Ge)("ngTemplateOutletContext",a.WLB(4,Ke,se.processedData,a.VKq(2,we,se.columns)))}}function dt(St,hn){1&St&&a.GkF(0)}function bt(St,hn){1&St&&a.GkF(0)}function it(St,hn){if(1&St&&a._UZ(0,"tbody",31),2&St){const se=a.oxw().options,Ge=a.oxw();a.Q6J("value",Ge.frozenValue)("frozenRows",!0)("pTableBody",se.columns)("pTableBodyTemplate",Ge.frozenBodyTemplate)("frozen",!0)}}function Dt(St,hn){if(1&St&&a._UZ(0,"tbody",32),2&St){const se=a.oxw().options;a.Akn("height: calc("+se.spacerStyle.height+" - "+se.rows.length*se.itemSize+"px);")}}function vt(St,hn){1&St&&a.GkF(0)}const Gt=function(St){return{$implicit:St}};function Ht(St,hn){if(1&St&&(a.TgZ(0,"tfoot",33,34),a.YNc(2,vt,1,0,"ng-container",22),a.qZA()),2&St){const se=a.oxw().options,Ge=a.oxw();a.xp6(2),a.Q6J("ngTemplateOutlet",Ge.footerGroupedTemplate||Ge.footerTemplate)("ngTemplateOutletContext",a.VKq(2,Gt,se.columns))}}const Ut=function(St,hn,se){return{"p-datatable-table":!0,"p-datatable-scrollable-table":St,"p-datatable-resizable-table":hn,"p-datatable-resizable-table-fit":se}};function ct(St,hn){if(1&St&&(a.TgZ(0,"table",23,24),a.YNc(2,dt,1,0,"ng-container",22),a.TgZ(3,"thead",25,26),a.YNc(5,bt,1,0,"ng-container",22),a.qZA(),a.YNc(6,it,1,5,"tbody",27),a._UZ(7,"tbody",28),a.YNc(8,Dt,1,2,"tbody",29),a.YNc(9,Ht,3,4,"tfoot",30),a.qZA()),2&St){const se=hn.options,Ge=a.oxw();a.Akn(Ge.tableStyle),a.Tol(Ge.tableStyleClass),a.Q6J("ngClass",a.kEZ(20,Ut,Ge.scrollable,Ge.resizableColumns,Ge.resizableColumns&&"fit"===Ge.columnResizeMode)),a.uIk("id",Ge.id+"-table"),a.xp6(2),a.Q6J("ngTemplateOutlet",Ge.colGroupTemplate)("ngTemplateOutletContext",a.VKq(24,Gt,se.columns)),a.xp6(3),a.Q6J("ngTemplateOutlet",Ge.headerGroupedTemplate||Ge.headerTemplate)("ngTemplateOutletContext",a.VKq(26,Gt,se.columns)),a.xp6(1),a.Q6J("ngIf",Ge.frozenValue||Ge.frozenBodyTemplate),a.xp6(1),a.Akn(se.contentStyle),a.Q6J("ngClass",se.contentStyleClass)("value",Ge.dataToRender(se.rows))("pTableBody",se.columns)("pTableBodyTemplate",Ge.bodyTemplate)("scrollerOptions",se),a.xp6(1),a.Q6J("ngIf",se.spacerStyle),a.xp6(1),a.Q6J("ngIf",Ge.footerGroupedTemplate||Ge.footerTemplate)}}function at(St,hn){if(1&St){const se=a.EpF();a.TgZ(0,"p-paginator",35),a.NdJ("onPageChange",function(xt){a.CHM(se);const zt=a.oxw();return a.KtG(zt.onPageChange(xt))}),a.qZA()}if(2&St){const se=a.oxw();a.Q6J("rows",se.rows)("first",se.first)("totalRecords",se.totalRecords)("pageLinkSize",se.pageLinks)("alwaysShow",se.alwaysShowPaginator)("rowsPerPageOptions",se.rowsPerPageOptions)("templateLeft",se.paginatorLeftTemplate)("templateRight",se.paginatorRightTemplate)("dropdownAppendTo",se.paginatorDropdownAppendTo)("dropdownScrollHeight",se.paginatorDropdownScrollHeight)("currentPageReportTemplate",se.currentPageReportTemplate)("showFirstLastIcon",se.showFirstLastIcon)("dropdownItemTemplate",se.paginatorDropdownItemTemplate)("showCurrentPageReport",se.showCurrentPageReport)("showJumpToPageDropdown",se.showJumpToPageDropdown)("showJumpToPageInput",se.showJumpToPageInput)("showPageLinks",se.showPageLinks)}}function fe(St,hn){1&St&&a.GkF(0)}function ke(St,hn){if(1&St&&(a.TgZ(0,"div",36),a.YNc(1,fe,1,0,"ng-container",17),a.qZA()),2&St){const se=a.oxw();a.xp6(1),a.Q6J("ngTemplateOutlet",se.summaryTemplate)}}function ot(St,hn){1&St&&a._UZ(0,"div",37,38)}function Ct(St,hn){1&St&&a._UZ(0,"span",39,40)}function Ot(St,hn){1&St&&a._UZ(0,"span",41,42)}const Nt=function(St,hn,se){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":St,"p-datatable-scrollable":hn,"p-datatable-flex-scrollable":se}},Mt=function(St){return{maxHeight:St}},Ye=["pTableBody",""];function st(St,hn){1&St&&a.GkF(0)}const je=function(St,hn,se,Ge,xt){return{$implicit:St,rowIndex:hn,columns:se,editing:Ge,frozen:xt}};function It(St,hn){if(1&St&&(a.ynx(0,3),a.YNc(1,st,1,0,"ng-container",4),a.BQk()),2&St){const se=a.oxw(),Ge=se.$implicit,xt=se.index,zt=a.oxw(2);a.xp6(1),a.Q6J("ngTemplateOutlet",zt.dt.groupHeaderTemplate)("ngTemplateOutletContext",a.qbA(2,je,Ge,zt.getRowIndex(xt),zt.columns,"row"===zt.dt.editMode&&zt.dt.isRowEditing(Ge),zt.frozen))}}function ne(St,hn){1&St&&a.GkF(0)}function Ne(St,hn){if(1&St&&(a.ynx(0),a.YNc(1,ne,1,0,"ng-container",4),a.BQk()),2&St){const se=a.oxw(),Ge=se.$implicit,xt=se.index,zt=a.oxw(2);a.xp6(1),a.Q6J("ngTemplateOutlet",Ge?zt.template:zt.dt.loadingBodyTemplate)("ngTemplateOutletContext",a.qbA(2,je,Ge,zt.getRowIndex(xt),zt.columns,"row"===zt.dt.editMode&&zt.dt.isRowEditing(Ge),zt.frozen))}}function me(St,hn){1&St&&a.GkF(0)}const gt=function(St,hn,se,Ge,xt,zt,Nn){return{$implicit:St,rowIndex:hn,columns:se,editing:Ge,frozen:xt,rowgroup:zt,rowspan:Nn}};function un(St,hn){if(1&St&&(a.ynx(0),a.YNc(1,me,1,0,"ng-container",4),a.BQk()),2&St){const se=a.oxw(),Ge=se.$implicit,xt=se.index,zt=a.oxw(2);a.xp6(1),a.Q6J("ngTemplateOutlet",Ge?zt.template:zt.dt.loadingBodyTemplate)("ngTemplateOutletContext",a.Hh0(2,gt,Ge,zt.getRowIndex(xt),zt.columns,"row"===zt.dt.editMode&&zt.dt.isRowEditing(Ge),zt.frozen,zt.shouldRenderRowspan(zt.value,Ge,xt),zt.calculateRowGroupSize(zt.value,Ge,xt)))}}function In(St,hn){1&St&&a.GkF(0)}function en(St,hn){if(1&St&&(a.ynx(0,3),a.YNc(1,In,1,0,"ng-container",4),a.BQk()),2&St){const se=a.oxw(),Ge=se.$implicit,xt=se.index,zt=a.oxw(2);a.xp6(1),a.Q6J("ngTemplateOutlet",zt.dt.groupFooterTemplate)("ngTemplateOutletContext",a.qbA(2,je,Ge,zt.getRowIndex(xt),zt.columns,"row"===zt.dt.editMode&&zt.dt.isRowEditing(Ge),zt.frozen))}}function _t(St,hn){if(1&St&&(a.YNc(0,It,2,8,"ng-container",2),a.YNc(1,Ne,2,8,"ng-container",0),a.YNc(2,un,2,10,"ng-container",0),a.YNc(3,en,2,8,"ng-container",2)),2&St){const se=hn.$implicit,Ge=hn.index,xt=a.oxw(2);a.Q6J("ngIf",xt.dt.groupHeaderTemplate&&!xt.dt.virtualScroll&&"subheader"===xt.dt.rowGroupMode&&xt.shouldRenderRowGroupHeader(xt.value,se,Ge)),a.xp6(1),a.Q6J("ngIf","rowspan"!==xt.dt.rowGroupMode),a.xp6(1),a.Q6J("ngIf","rowspan"===xt.dt.rowGroupMode),a.xp6(1),a.Q6J("ngIf",xt.dt.groupFooterTemplate&&!xt.dt.virtualScroll&&"subheader"===xt.dt.rowGroupMode&&xt.shouldRenderRowGroupFooter(xt.value,se,Ge))}}function et(St,hn){if(1&St&&(a.ynx(0),a.YNc(1,_t,4,4,"ng-template",1),a.BQk()),2&St){const se=a.oxw();a.xp6(1),a.Q6J("ngForOf",se.value)("ngForTrackBy",se.dt.rowTrackBy)}}function de(St,hn){1&St&&a.GkF(0)}const Je=function(St,hn,se,Ge,xt,zt){return{$implicit:St,rowIndex:hn,columns:se,expanded:Ge,editing:xt,frozen:zt}};function ze(St,hn){if(1&St&&(a.ynx(0),a.YNc(1,de,1,0,"ng-container",4),a.BQk()),2&St){const se=a.oxw(),Ge=se.$implicit,xt=se.index,zt=a.oxw(2);a.xp6(1),a.Q6J("ngTemplateOutlet",zt.template)("ngTemplateOutletContext",a.HTZ(2,Je,Ge,zt.getRowIndex(xt),zt.columns,zt.dt.isRowExpanded(Ge),"row"===zt.dt.editMode&&zt.dt.isRowEditing(Ge),zt.frozen))}}function wt(St,hn){1&St&&a.GkF(0)}function Fe(St,hn){if(1&St&&(a.ynx(0,3),a.YNc(1,wt,1,0,"ng-container",4),a.BQk()),2&St){const se=a.oxw(),Ge=se.$implicit,xt=se.index,zt=a.oxw(2);a.xp6(1),a.Q6J("ngTemplateOutlet",zt.dt.groupHeaderTemplate)("ngTemplateOutletContext",a.HTZ(2,Je,Ge,zt.getRowIndex(xt),zt.columns,zt.dt.isRowExpanded(Ge),"row"===zt.dt.editMode&&zt.dt.isRowEditing(Ge),zt.frozen))}}function qt(St,hn){1&St&&a.GkF(0)}function fn(St,hn){1&St&&a.GkF(0)}function Jt(St,hn){if(1&St&&(a.ynx(0,3),a.YNc(1,fn,1,0,"ng-container",4),a.BQk()),2&St){const se=a.oxw(2),Ge=se.$implicit,xt=se.index,zt=a.oxw(2);a.xp6(1),a.Q6J("ngTemplateOutlet",zt.dt.groupFooterTemplate)("ngTemplateOutletContext",a.HTZ(2,Je,Ge,zt.getRowIndex(xt),zt.columns,zt.dt.isRowExpanded(Ge),"row"===zt.dt.editMode&&zt.dt.isRowEditing(Ge),zt.frozen))}}const Dn=function(St,hn,se,Ge){return{$implicit:St,rowIndex:hn,columns:se,frozen:Ge}};function Rt(St,hn){if(1&St&&(a.ynx(0),a.YNc(1,qt,1,0,"ng-container",4),a.YNc(2,Jt,2,9,"ng-container",2),a.BQk()),2&St){const se=a.oxw(),Ge=se.$implicit,xt=se.index,zt=a.oxw(2);a.xp6(1),a.Q6J("ngTemplateOutlet",zt.dt.expandedRowTemplate)("ngTemplateOutletContext",a.l5B(3,Dn,Ge,zt.getRowIndex(xt),zt.columns,zt.frozen)),a.xp6(1),a.Q6J("ngIf",zt.dt.groupFooterTemplate&&"subheader"===zt.dt.rowGroupMode&&zt.shouldRenderRowGroupFooter(zt.value,Ge,zt.getRowIndex(xt)))}}function rn(St,hn){if(1&St&&(a.YNc(0,ze,2,9,"ng-container",0),a.YNc(1,Fe,2,9,"ng-container",2),a.YNc(2,Rt,3,8,"ng-container",0)),2&St){const se=hn.$implicit,Ge=hn.index,xt=a.oxw(2);a.Q6J("ngIf",!xt.dt.groupHeaderTemplate),a.xp6(1),a.Q6J("ngIf",xt.dt.groupHeaderTemplate&&"subheader"===xt.dt.rowGroupMode&&xt.shouldRenderRowGroupHeader(xt.value,se,xt.getRowIndex(Ge))),a.xp6(1),a.Q6J("ngIf",xt.dt.isRowExpanded(se))}}function Fn(St,hn){if(1&St&&(a.ynx(0),a.YNc(1,rn,3,3,"ng-template",1),a.BQk()),2&St){const se=a.oxw();a.xp6(1),a.Q6J("ngForOf",se.value)("ngForTrackBy",se.dt.rowTrackBy)}}function Un(St,hn){1&St&&a.GkF(0)}function ri(St,hn){1&St&&a.GkF(0)}function vi(St,hn){if(1&St&&(a.ynx(0),a.YNc(1,ri,1,0,"ng-container",4),a.BQk()),2&St){const se=a.oxw(),Ge=se.$implicit,xt=se.index,zt=a.oxw(2);a.xp6(1),a.Q6J("ngTemplateOutlet",zt.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",a.l5B(2,Dn,Ge,zt.getRowIndex(xt),zt.columns,zt.frozen))}}function Ni(St,hn){if(1&St&&(a.YNc(0,Un,1,0,"ng-container",4),a.YNc(1,vi,2,7,"ng-container",0)),2&St){const se=hn.$implicit,Ge=hn.index,xt=a.oxw(2);a.Q6J("ngTemplateOutlet",xt.template)("ngTemplateOutletContext",a.HTZ(3,Je,se,xt.getRowIndex(Ge),xt.columns,xt.dt.isRowExpanded(se),"row"===xt.dt.editMode&&xt.dt.isRowEditing(se),xt.frozen)),a.xp6(1),a.Q6J("ngIf",xt.dt.isRowExpanded(se))}}function oo(St,hn){if(1&St&&(a.ynx(0),a.YNc(1,Ni,2,10,"ng-template",1),a.BQk()),2&St){const se=a.oxw();a.xp6(1),a.Q6J("ngForOf",se.value)("ngForTrackBy",se.dt.rowTrackBy)}}function Uo(St,hn){1&St&&a.GkF(0)}const Bt=function(St,hn){return{$implicit:St,frozen:hn}};function Ve(St,hn){if(1&St&&(a.ynx(0),a.YNc(1,Uo,1,0,"ng-container",4),a.BQk()),2&St){const se=a.oxw();a.xp6(1),a.Q6J("ngTemplateOutlet",se.dt.loadingBodyTemplate)("ngTemplateOutletContext",a.WLB(2,Bt,se.columns,se.frozen))}}function ye(St,hn){1&St&&a.GkF(0)}function Ue(St,hn){if(1&St&&(a.ynx(0),a.YNc(1,ye,1,0,"ng-container",4),a.BQk()),2&St){const se=a.oxw();a.xp6(1),a.Q6J("ngTemplateOutlet",se.dt.emptyMessageTemplate)("ngTemplateOutletContext",a.WLB(2,Bt,se.columns,se.frozen))}}function ut(St,hn){if(1&St&&(a.TgZ(0,"span",2),a._uU(1),a.qZA()),2&St){const se=a.oxw();a.xp6(1),a.Oqu(se.getBadgeValue())}}const gn=function(St,hn,se){return{"pi-sort-amount-up-alt":St,"pi-sort-amount-down":hn,"pi-sort-alt":se}};function Zt(St,hn){1&St&&a.GkF(0)}function an(St,hn){if(1&St&&(a.ynx(0),a.YNc(1,Zt,1,0,"ng-container",1),a.BQk()),2&St){const se=a.oxw();a.xp6(1),a.Q6J("ngTemplateOutlet",se.inputTemplate)}}function pn(St,hn){1&St&&a.GkF(0)}function zn(St,hn){if(1&St&&(a.ynx(0),a.YNc(1,pn,1,0,"ng-container",1),a.BQk()),2&St){const se=a.oxw();a.xp6(1),a.Q6J("ngTemplateOutlet",se.outputTemplate)}}let $s=(()=>{class St{constructor(){this.sortSource=new k.x,this.selectionSource=new k.x,this.contextMenuSource=new k.x,this.valueSource=new k.x,this.totalRecordsSource=new k.x,this.columnsSource=new k.x,this.resetSource=new k.x,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(se){this.sortSource.next(se)}onSelectionChange(){this.selectionSource.next(null)}onResetChange(){this.resetSource.next(null)}onContextMenu(se){this.contextMenuSource.next(se)}onValueChange(se){this.valueSource.next(se)}onTotalRecordsChange(se){this.totalRecordsSource.next(se)}onColumnsChange(se){this.columnsSource.next(se)}}return St.\u0275fac=function(se){return new(se||St)},St.\u0275prov=a.Yz7({token:St,factory:St.\u0275fac}),St})(),qi=(()=>{class St{constructor(se,Ge,xt,zt,Nn,Wn){this.el=se,this.zone=Ge,this.tableService=xt,this.cd=zt,this.filterService=Nn,this.overlayService=Wn,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectAllChange=new a.vpe,this.selectionChange=new a.vpe,this.contextMenuSelectionChange=new a.vpe,this.contextMenuSelectionMode="separate",this.rowTrackBy=(si,Wi)=>Wi,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.scrollDirection="vertical",this.virtualScrollDelay=250,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.groupRowsByOrder=1,this.responsiveLayout="scroll",this.breakpoint="960px",this.onRowSelect=new a.vpe,this.onRowUnselect=new a.vpe,this.onPage=new a.vpe,this.onSort=new a.vpe,this.onFilter=new a.vpe,this.onLazyLoad=new a.vpe,this.onRowExpand=new a.vpe,this.onRowCollapse=new a.vpe,this.onContextMenuSelect=new a.vpe,this.onColResize=new a.vpe,this.onColReorder=new a.vpe,this.onRowReorder=new a.vpe,this.onEditInit=new a.vpe,this.onEditComplete=new a.vpe,this.onEditCancel=new a.vpe,this.onHeaderCheckboxToggle=new a.vpe,this.sortFunction=new a.vpe,this.firstChange=new a.vpe,this.rowsChange=new a.vpe,this.onStateSave=new a.vpe,this.onStateRestore=new a.vpe,this._virtualRowHeight=28,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1,this._selectAll=null,this.columnResizing=!1,this.rowGroupHeaderStyleObject={},this.id=(0,V.Th)()}get responsive(){return this._responsive}set responsive(se){this._responsive=se,console.warn("responsive propery is deprecated as table is always responsive with scrollable behavior.")}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(se){this._virtualRowHeight=se,console.warn("The virtualRowHeight property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(se=>{switch(se.getType()){case"caption":this.captionTemplate=se.template;break;case"header":this.headerTemplate=se.template;break;case"headergrouped":this.headerGroupedTemplate=se.template;break;case"body":this.bodyTemplate=se.template;break;case"loadingbody":this.loadingBodyTemplate=se.template;break;case"footer":this.footerTemplate=se.template;break;case"footergrouped":this.footerGroupedTemplate=se.template;break;case"summary":this.summaryTemplate=se.template;break;case"colgroup":this.colGroupTemplate=se.template;break;case"rowexpansion":this.expandedRowTemplate=se.template;break;case"groupheader":this.groupHeaderTemplate=se.template;break;case"rowspan":this.rowspanTemplate=se.template;break;case"groupfooter":this.groupFooterTemplate=se.template;break;case"frozenrows":this.frozenRowsTemplate=se.template;break;case"frozenheader":this.frozenHeaderTemplate=se.template;break;case"frozenbody":this.frozenBodyTemplate=se.template;break;case"frozenfooter":this.frozenFooterTemplate=se.template;break;case"frozencolgroup":this.frozenColGroupTemplate=se.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=se.template;break;case"emptymessage":this.emptyMessageTemplate=se.template;break;case"paginatorleft":this.paginatorLeftTemplate=se.template;break;case"paginatorright":this.paginatorRightTemplate=se.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=se.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths()}ngOnChanges(se){se.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=se.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&(this.sortField||this.groupRowsBy)?this.sortSingle():"multiple"==this.sortMode&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(se.value.currentValue)),se.columns&&(this._columns=se.columns.currentValue,this.tableService.onColumnsChange(se.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),se.sortField&&(this._sortField=se.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),se.groupRowsBy&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),se.sortOrder&&(this._sortOrder=se.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),se.groupRowsByOrder&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),se.multiSortMeta&&(this._multiSortMeta=se.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),se.selection&&(this._selection=se.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),se.selectAll&&(this._selectAll=se.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(se){this._value=se}get columns(){return this._columns}set columns(se){this._columns=se}get first(){return this._first}set first(se){this._first=se}get rows(){return this._rows}set rows(se){this._rows=se}get totalRecords(){return this._totalRecords}set totalRecords(se){this._totalRecords=se,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(se){this._sortField=se}get sortOrder(){return this._sortOrder}set sortOrder(se){this._sortOrder=se}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(se){this._multiSortMeta=se}get selection(){return this._selection}set selection(se){this._selection=se}get selectAll(){return this._selection}set selectAll(se){this._selection=se}get processedData(){return this.filteredValue||this.value||[]}dataToRender(se){const Ge=se||this.processedData;if(Ge&&this.paginator){const xt=this.lazy?0:this.first;return Ge.slice(xt,xt+this.rows)}return Ge}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let se of this._selection)this.selectionKeys[String(V.gb.resolveFieldData(se,this.dataKey))]=1;else this.selectionKeys[String(V.gb.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(se){this.first=se.first,this.rows=se.rows,this.onPage.emit({first:this.first,rows:this.rows}),this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(se){let Ge=se.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===se.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=se.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let xt=Ge.metaKey||Ge.ctrlKey,zt=this.getSortMeta(se.field);zt?xt?zt.order=-1*zt.order:(this._multiSortMeta=[{field:se.field,order:-1*zt.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!xt||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:se.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let se=this.sortField||this.groupRowsBy,Ge=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField)return this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],void this.sortMultiple();if(se&&Ge){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:se,order:Ge}):(this.value.sort((zt,Nn)=>{let Wn=V.gb.resolveFieldData(zt,se),si=V.gb.resolveFieldData(Nn,se),Wi=null;return Wi=null==Wn&&null!=si?-1:null!=Wn&&null==si?1:null==Wn&&null==si?0:"string"==typeof Wn&&"string"==typeof si?Wn.localeCompare(si):Wn<si?-1:Wn>si?1:0,Ge*Wi}),this._value=[...this.value]),this.hasFilter()&&this._filter());let xt={field:se,order:Ge};this.onSort.emit(xt),this.tableService.onSort(xt)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((se,Ge)=>this.multisortField(se,Ge,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(se,Ge,xt,zt){const Nn=V.gb.resolveFieldData(se,xt[zt].field),Wn=V.gb.resolveFieldData(Ge,xt[zt].field);return 0===V.gb.compare(Nn,Wn,this.filterLocale)?xt.length-1>zt?this.multisortField(se,Ge,xt,zt+1):0:this.compareValuesOnSort(Nn,Wn,xt[zt].order)}compareValuesOnSort(se,Ge,xt){return V.gb.sort(se,Ge,xt,this.filterLocale,this.sortOrder)}getSortMeta(se){if(this.multiSortMeta&&this.multiSortMeta.length)for(let Ge=0;Ge<this.multiSortMeta.length;Ge++)if(this.multiSortMeta[Ge].field===se)return this.multiSortMeta[Ge];return null}isSorted(se){if("single"===this.sortMode)return this.sortField&&this.sortField===se;if("multiple"===this.sortMode){let Ge=!1;if(this.multiSortMeta)for(let xt=0;xt<this.multiSortMeta.length;xt++)if(this.multiSortMeta[xt].field==se){Ge=!0;break}return Ge}}handleRowClick(se){let Ge=se.originalEvent.target,xt=Ge.nodeName,zt=Ge.parentElement&&Ge.parentElement.nodeName;if("INPUT"!=xt&&"BUTTON"!=xt&&"A"!=xt&&"INPUT"!=zt&&"BUTTON"!=zt&&"A"!=zt&&!y.p.hasClass(se.originalEvent.target,"p-clickable")){if(this.selectionMode){let Nn=se.rowData,Wn=se.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&se.originalEvent.shiftKey&&null!=this.anchorRowIndex)y.p.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(se.originalEvent),this.rangeRowIndex=Wn,this.selectRange(se.originalEvent,Wn);else{let si=this.isSelected(Nn);if(!si&&!this.isRowSelectable(Nn,Wn))return;let Wi=!this.rowTouched&&this.metaKeySelection,Zi=this.dataKey?String(V.gb.resolveFieldData(Nn,this.dataKey)):null;if(this.anchorRowIndex=Wn,this.rangeRowIndex=Wn,Wi){let go=se.originalEvent.metaKey||se.originalEvent.ctrlKey;if(si&&go){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let Li=this.findIndexInSelection(Nn);this._selection=this.selection.filter((Jr,Fo)=>Fo!=Li),this.selectionChange.emit(this.selection),Zi&&delete this.selectionKeys[Zi]}this.onRowUnselect.emit({originalEvent:se.originalEvent,data:Nn,type:"row"})}else this.isSingleSelectionMode()?(this._selection=Nn,this.selectionChange.emit(Nn),Zi&&(this.selectionKeys={},this.selectionKeys[Zi]=1)):this.isMultipleSelectionMode()&&(go?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,Nn],this.selectionChange.emit(this.selection),Zi&&(this.selectionKeys[Zi]=1)),this.onRowSelect.emit({originalEvent:se.originalEvent,data:Nn,type:"row",index:Wn})}else if("single"===this.selectionMode)si?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:se.originalEvent,data:Nn,type:"row",index:Wn})):(this._selection=Nn,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:se.originalEvent,data:Nn,type:"row",index:Wn}),Zi&&(this.selectionKeys={},this.selectionKeys[Zi]=1));else if("multiple"===this.selectionMode)if(si){let go=this.findIndexInSelection(Nn);this._selection=this.selection.filter((Li,Jr)=>Jr!=go),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:se.originalEvent,data:Nn,type:"row",index:Wn}),Zi&&delete this.selectionKeys[Zi]}else this._selection=this.selection?[...this.selection,Nn]:[Nn],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:se.originalEvent,data:Nn,type:"row",index:Wn}),Zi&&(this.selectionKeys[Zi]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(se){this.rowTouched=!0}handleRowRightClick(se){if(this.contextMenu){const Ge=se.rowData,xt=se.rowIndex;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=Ge,this.contextMenuSelectionChange.emit(Ge),this.onContextMenuSelect.emit({originalEvent:se.originalEvent,data:Ge,index:se.rowIndex}),this.contextMenu.show(se.originalEvent),this.tableService.onContextMenu(Ge);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let zt=this.isSelected(Ge),Nn=this.dataKey?String(V.gb.resolveFieldData(Ge,this.dataKey)):null;if(!zt){if(!this.isRowSelectable(Ge,xt))return;this.isSingleSelectionMode()?(this.selection=Ge,this.selectionChange.emit(Ge),Nn&&(this.selectionKeys={},this.selectionKeys[Nn]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,Ge]:[Ge],this.selectionChange.emit(this.selection),Nn&&(this.selectionKeys[Nn]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(se.originalEvent),this.onContextMenuSelect.emit({originalEvent:se,data:Ge,index:se.rowIndex})}}}selectRange(se,Ge){let xt,zt;this.anchorRowIndex>Ge?(xt=Ge,zt=this.anchorRowIndex):this.anchorRowIndex<Ge?(xt=this.anchorRowIndex,zt=Ge):(xt=Ge,zt=Ge),this.lazy&&this.paginator&&(xt-=this.first,zt-=this.first);let Nn=[];for(let Wn=xt;Wn<=zt;Wn++){let si=this.filteredValue?this.filteredValue[Wn]:this.value[Wn];if(!this.isSelected(si)){if(!this.isRowSelectable(si,Ge))continue;Nn.push(si),this._selection=[...this.selection,si];let Wi=this.dataKey?String(V.gb.resolveFieldData(si,this.dataKey)):null;Wi&&(this.selectionKeys[Wi]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:se,data:Nn,type:"row"})}clearSelectionRange(se){let Ge,xt;this.rangeRowIndex>this.anchorRowIndex?(Ge=this.anchorRowIndex,xt=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(Ge=this.rangeRowIndex,xt=this.anchorRowIndex):(Ge=this.rangeRowIndex,xt=this.rangeRowIndex);for(let zt=Ge;zt<=xt;zt++){let Nn=this.value[zt],Wn=this.findIndexInSelection(Nn);this._selection=this.selection.filter((Wi,Zi)=>Zi!=Wn);let si=this.dataKey?String(V.gb.resolveFieldData(Nn,this.dataKey)):null;si&&delete this.selectionKeys[si],this.onRowUnselect.emit({originalEvent:se,data:Nn,type:"row"})}}isSelected(se){return!(!se||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[V.gb.resolveFieldData(se,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(se)>-1:this.equals(se,this.selection))}findIndexInSelection(se){let Ge=-1;if(this.selection&&this.selection.length)for(let xt=0;xt<this.selection.length;xt++)if(this.equals(se,this.selection[xt])){Ge=xt;break}return Ge}isRowSelectable(se,Ge){return!(this.rowSelectable&&!this.rowSelectable({data:se,index:Ge}))}toggleRowWithRadio(se,Ge){if(this.preventSelectionSetterPropagation=!0,this.selection!=Ge){if(!this.isRowSelectable(Ge,se.rowIndex))return;this._selection=Ge,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:se.originalEvent,index:se.rowIndex,data:Ge,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(V.gb.resolveFieldData(Ge,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:se.originalEvent,index:se.rowIndex,data:Ge,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(se,Ge){this.selection=this.selection||[];let xt=this.isSelected(Ge),zt=this.dataKey?String(V.gb.resolveFieldData(Ge,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,xt){let Nn=this.findIndexInSelection(Ge);this._selection=this.selection.filter((Wn,si)=>si!=Nn),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:se.originalEvent,index:se.rowIndex,data:Ge,type:"checkbox"}),zt&&delete this.selectionKeys[zt]}else{if(!this.isRowSelectable(Ge,se.rowIndex))return;this._selection=this.selection?[...this.selection,Ge]:[Ge],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:se.originalEvent,index:se.rowIndex,data:Ge,type:"checkbox"}),zt&&(this.selectionKeys[zt]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(se,Ge){if(null!==this._selectAll)this.selectAllChange.emit({originalEvent:se,checked:Ge});else{const xt=this.selectionPageOnly?this.dataToRender(this.processedData):this.processedData;let zt=this.selectionPageOnly&&this._selection?this._selection.filter(Nn=>!xt.some(Wn=>this.equals(Nn,Wn))):[];Ge&&(zt=this.frozenValue?[...zt,...this.frozenValue,...xt]:[...zt,...xt],zt=this.rowSelectable?zt.filter((Nn,Wn)=>this.rowSelectable({data:Nn,index:Wn})):zt),this._selection=zt,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:se,checked:Ge}),this.isStateful()&&this.saveState()}}equals(se,Ge){return"equals"===this.compareSelectionBy?se===Ge:V.gb.equals(se,Ge,this.dataKey)}filter(se,Ge,xt){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(se)?this.filters[Ge]&&delete this.filters[Ge]:this.filters[Ge]={value:se,matchMode:xt},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(se,Ge){this.filter(se,"global",Ge)}isFilterBlank(se){return null==se||"string"==typeof se&&0==se.trim().length||se instanceof Array&&0==se.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let se;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");se=this.globalFilterFields||this.columns}this.filteredValue=[];for(let Ge=0;Ge<this.value.length;Ge++){let Wn,xt=!0,zt=!1,Nn=!1;for(let si in this.filters)if(this.filters.hasOwnProperty(si)&&"global"!==si){Nn=!0;let Wi=si,Zi=this.filters[Wi];if(Array.isArray(Zi)){for(let go of Zi)if(xt=this.executeLocalFilter(Wi,this.value[Ge],go),go.operator===g.pg.OR&&xt||go.operator===g.pg.AND&&!xt)break}else xt=this.executeLocalFilter(Wi,this.value[Ge],Zi);if(!xt)break}if(this.filters.global&&!zt&&se)for(let si=0;si<se.length&&(zt=this.filterService.filters[this.filters.global.matchMode](V.gb.resolveFieldData(this.value[Ge],se[si].field||se[si]),this.filters.global.value,this.filterLocale),!zt);si++);Wn=this.filters.global?Nn?Nn&&xt&&zt:zt:Nn&&xt,Wn&&this.filteredValue.push(this.value[Ge])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(se,Ge,xt){let zt=xt.value,Nn=xt.matchMode||g.a6.STARTS_WITH,Wn=V.gb.resolveFieldData(Ge,se);return(0,this.filterService.filters[Nn])(Wn,zt,this.filterLocale)}hasFilter(){let se=!0;for(let Ge in this.filters)if(this.filters.hasOwnProperty(Ge)){se=!1;break}return!se}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filters.global&&(this.filters.global.value=null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}getExportHeader(se){return se[this.exportHeader]||se.header||se.field}exportCSV(se){let Ge,xt="",zt=this.columns;se&&se.selectionOnly?Ge=this.selection||[]:(Ge=this.filteredValue||this.value,this.frozenValue&&(Ge=Ge?[...this.frozenValue,...Ge]:this.frozenValue));for(let si=0;si<zt.length;si++){let Wi=zt[si];!1!==Wi.exportable&&Wi.field&&(xt+='"'+this.getExportHeader(Wi)+'"',si<zt.length-1&&(xt+=this.csvSeparator))}Ge.forEach((si,Wi)=>{xt+="\n";for(let Zi=0;Zi<zt.length;Zi++){let go=zt[Zi];if(!1!==go.exportable&&go.field){let Li=V.gb.resolveFieldData(si,go.field);Li=null!=Li?this.exportFunction?this.exportFunction({data:Li,field:go.field}):String(Li).replace(/"/g,'""'):"",xt+='"'+Li+'"',Zi<zt.length-1&&(xt+=this.csvSeparator)}}});let Nn=new Blob([xt],{type:"text/csv;charset=utf-8;"}),Wn=document.createElement("a");Wn.style.display="none",document.body.appendChild(Wn),void 0!==Wn.download?(Wn.setAttribute("href",URL.createObjectURL(Nn)),Wn.setAttribute("download",this.exportFilename+".csv"),Wn.click()):(xt="data:text/csv;charset=utf-8,"+xt,window.open(encodeURI(xt))),document.body.removeChild(Wn)}onLazyItemLoad(se){this.onLazyLoad.emit(Object.assign(Object.assign(Object.assign({},this.createLazyLoadMetadata()),se),{rows:se.last-se.first}))}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(se){this.virtualScroll&&this.scroller.scrollToIndex(se)}scrollTo(se){this.virtualScroll?this.scroller.scrollTo(se):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(se):(this.wrapperViewChild.nativeElement.scrollLeft=se.left,this.wrapperViewChild.nativeElement.scrollTop=se.top))}updateEditingCell(se,Ge,xt,zt){this.editingCell=se,this.editingCellData=Ge,this.editingCellField=xt,this.editingCellRowIndex=zt,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===y.p.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=se=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(y.p.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:se,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(se){let Ge=String(V.gb.resolveFieldData(se,this.dataKey));this.editingRowKeys[Ge]=!0}saveRowEdit(se,Ge){if(0===y.p.find(Ge,".ng-invalid.ng-dirty").length){let xt=String(V.gb.resolveFieldData(se,this.dataKey));delete this.editingRowKeys[xt]}}cancelRowEdit(se){let Ge=String(V.gb.resolveFieldData(se,this.dataKey));delete this.editingRowKeys[Ge]}toggleRow(se,Ge){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let xt=String(V.gb.resolveFieldData(se,this.dataKey));null!=this.expandedRowKeys[xt]?(delete this.expandedRowKeys[xt],this.onRowCollapse.emit({originalEvent:Ge,data:se})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[xt]=!0,this.onRowExpand.emit({originalEvent:Ge,data:se})),Ge&&Ge.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(se){return!0===this.expandedRowKeys[String(V.gb.resolveFieldData(se,this.dataKey))]}isRowEditing(se){return!0===this.editingRowKeys[String(V.gb.resolveFieldData(se,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(se){let Ge=y.p.getOffset(this.containerViewChild.nativeElement).left;this.resizeColumnElement=se.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=se.pageX-Ge+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(se),se.preventDefault()}onColumnResize(se){let Ge=y.p.getOffset(this.containerViewChild.nativeElement).left;y.p.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=se.pageX-Ge+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let se=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,xt=this.resizeColumnElement.offsetWidth+se;if(xt>=(this.resizeColumnElement.style.minWidth.replace(/[^\d.]/g,"")||15)){if("fit"===this.columnResizeMode){let Wn=this.resizeColumnElement.nextElementSibling.offsetWidth-se;xt>15&&Wn>15&&this.resizeTableCells(xt,Wn)}else"expand"===this.columnResizeMode&&(this.setResizeTableWidth(this.tableViewChild.nativeElement.offsetWidth+se+"px"),this.resizeTableCells(xt,null));this.onColResize.emit({element:this.resizeColumnElement,delta:se}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",y.p.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}resizeTableCells(se,Ge){let xt=y.p.index(this.resizeColumnElement),zt=[];const Nn=y.p.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");y.p.find(Nn,"tr > th").forEach(Wi=>zt.push(y.p.getOuterWidth(Wi))),this.destroyStyleElement(),this.createStyleElement();let si="";zt.forEach((Wi,Zi)=>{let go=Zi===xt?se:Ge&&Zi===xt+1?Ge:Wi;si+=`\n                #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${Zi+1}),\n                #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${Zi+1}),\n                #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${Zi+1}) {\n                    width: ${go}px !important; max-width: ${go}px !important;\n                }\n            `}),this.styleElement.innerHTML=si}onColumnDragStart(se,Ge){this.reorderIconWidth=y.p.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=y.p.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=Ge,se.dataTransfer.setData("text","b")}onColumnDragEnter(se,Ge){if(this.reorderableColumns&&this.draggedColumn&&Ge){se.preventDefault();let xt=y.p.getOffset(this.containerViewChild.nativeElement),zt=y.p.getOffset(Ge);if(this.draggedColumn!=Ge){let Nn=y.p.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),Wn=y.p.indexWithinGroup(Ge,"preorderablecolumn"),si=zt.left-xt.left,Zi=zt.left+Ge.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=zt.top-xt.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=zt.top-xt.top+Ge.offsetHeight+"px",se.pageX>Zi?(this.reorderIndicatorUpViewChild.nativeElement.style.left=si+Ge.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=si+Ge.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=si-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=si-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),Wn-Nn==1&&-1===this.dropPosition||Wn-Nn==-1&&1===this.dropPosition?(this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none"):(this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block")}else se.dataTransfer.dropEffect="none"}}onColumnDragLeave(se){this.reorderableColumns&&this.draggedColumn&&(se.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(se,Ge){if(se.preventDefault(),this.draggedColumn){let xt=y.p.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),zt=y.p.indexWithinGroup(Ge,"preorderablecolumn"),Nn=xt!=zt;Nn&&(zt-xt==1&&-1===this.dropPosition||xt-zt==1&&1===this.dropPosition)&&(Nn=!1),Nn&&zt<xt&&1===this.dropPosition&&(zt+=1),Nn&&zt>xt&&-1===this.dropPosition&&(zt-=1),Nn&&(V.gb.reorderArray(this.columns,xt,zt),this.onColReorder.emit({dragIndex:xt,dropIndex:zt,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(se,Ge){this.rowDragging=!0,this.draggedRowIndex=Ge,se.dataTransfer.setData("text","b")}onRowDragOver(se,Ge,xt){if(this.rowDragging&&this.draggedRowIndex!==Ge){let zt=y.p.getOffset(xt).top+y.p.getWindowScrollTop(),Nn=se.pageY,Wn=zt+y.p.getOuterHeight(xt)/2,si=xt.previousElementSibling;Nn<Wn?(y.p.removeClass(xt,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=Ge,si?y.p.addClass(si,"p-datatable-dragpoint-bottom"):y.p.addClass(xt,"p-datatable-dragpoint-top")):(si?y.p.removeClass(si,"p-datatable-dragpoint-bottom"):y.p.addClass(xt,"p-datatable-dragpoint-top"),this.droppedRowIndex=Ge+1,y.p.addClass(xt,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(se,Ge){let xt=Ge.previousElementSibling;xt&&y.p.removeClass(xt,"p-datatable-dragpoint-bottom"),y.p.removeClass(Ge,"p-datatable-dragpoint-bottom"),y.p.removeClass(Ge,"p-datatable-dragpoint-top")}onRowDragEnd(se){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(se,Ge){if(null!=this.droppedRowIndex){let xt=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;V.gb.reorderArray(this.value,this.draggedRowIndex,xt),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:xt})}this.onRowDragLeave(se,Ge),this.onRowDragEnd(se)}isEmpty(){let se=this.filteredValue||this.value;return null==se||0==se.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const se=this.getStorage();let Ge={};this.paginator&&(Ge.first=this.first,Ge.rows=this.rows),this.sortField&&(Ge.sortField=this.sortField,Ge.sortOrder=this.sortOrder),this.multiSortMeta&&(Ge.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(Ge.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(Ge),this.reorderableColumns&&this.saveColumnOrder(Ge),this.selection&&(Ge.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(Ge.expandedRowKeys=this.expandedRowKeys),se.setItem(this.stateKey,JSON.stringify(Ge)),this.onStateSave.emit(Ge)}clearState(){const se=this.getStorage();this.stateKey&&se.removeItem(this.stateKey)}restoreState(){const Ge=this.getStorage().getItem(this.stateKey),xt=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(Ge){let Nn=JSON.parse(Ge,function(Nn,Wn){return"string"==typeof Wn&&xt.test(Wn)?new Date(Wn):Wn});this.paginator&&(void 0!==this.first&&(this.first=Nn.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=Nn.rows,this.rowsChange.emit(this.rows))),Nn.sortField&&(this.restoringSort=!0,this._sortField=Nn.sortField,this._sortOrder=Nn.sortOrder),Nn.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=Nn.multiSortMeta),Nn.filters&&(this.restoringFilter=!0,this.filters=Nn.filters),this.resizableColumns&&(this.columnWidthsState=Nn.columnWidths,this.tableWidthState=Nn.tableWidth),Nn.expandedRowKeys&&(this.expandedRowKeys=Nn.expandedRowKeys),Nn.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(Nn.selection)),this.stateRestored=!0,this.onStateRestore.emit(Nn)}}saveColumnWidths(se){let Ge=[];y.p.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(zt=>Ge.push(y.p.getOuterWidth(zt))),se.columnWidths=Ge.join(","),"expand"===this.columnResizeMode&&(se.tableWidth=y.p.getOuterWidth(this.tableViewChild.nativeElement)+"px")}setResizeTableWidth(se){this.tableViewChild.nativeElement.style.width=se,this.tableViewChild.nativeElement.style.minWidth=se}restoreColumnWidths(){if(this.columnWidthsState){let se=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&this.setResizeTableWidth(this.tableWidthState+"px"),V.gb.isNotEmpty(se)){this.createStyleElement();let Ge="";se.forEach((xt,zt)=>{Ge+=`\n                        #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${zt+1}),\n                        #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${zt+1}),\n                        #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${zt+1}) {\n                            width: ${xt}px !important; max-width: ${xt}px !important\n                        }\n                    `}),this.styleElement.innerHTML=Ge}}}saveColumnOrder(se){if(this.columns){let Ge=[];this.columns.map(xt=>{Ge.push(xt.field||xt.key)}),se.columnOrder=Ge}}restoreColumnOrder(){const Ge=this.getStorage().getItem(this.stateKey);if(Ge){let zt=JSON.parse(Ge).columnOrder;if(zt){let Nn=[];zt.map(Wn=>{let si=this.findColumnByKey(Wn);si&&Nn.push(si)}),this.columnOrderStateRestored=!0,this.columns=Nn}}}findColumnByKey(se){if(!this.columns)return null;for(let Ge of this.columns)if(Ge.key===se||Ge.field===se)return Ge}createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement),this.responsiveStyleElement.innerHTML=`\n@media screen and (max-width: ${this.breakpoint}) {\n    #${this.id}-table > .p-datatable-thead > tr > th,\n    #${this.id}-table > .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    #${this.id}.p-datatable-gridlines > .p-datatable-wrapper > .p-datatable-table > .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n`)}destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.destroyStyleElement(),this.destroyResponsiveStyle()}}return St.\u0275fac=function(se){return new(se||St)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36($s),a.Y36(a.sBO),a.Y36(g.iZ),a.Y36(g.F0))},St.\u0275cmp=a.Xpm({type:St,selectors:[["p-table"]],contentQueries:function(se,Ge,xt){if(1&se&&a.Suo(xt,g.jx,4),2&se){let zt;a.iGM(zt=a.CRH())&&(Ge.templates=zt)}},viewQuery:function(se,Ge){if(1&se&&(a.Gf(O,5),a.Gf($,5),a.Gf(ue,5),a.Gf(q,5),a.Gf(Y,5),a.Gf(G,5),a.Gf(he,5),a.Gf(j,5),a.Gf(Q,5)),2&se){let xt;a.iGM(xt=a.CRH())&&(Ge.containerViewChild=xt.first),a.iGM(xt=a.CRH())&&(Ge.resizeHelperViewChild=xt.first),a.iGM(xt=a.CRH())&&(Ge.reorderIndicatorUpViewChild=xt.first),a.iGM(xt=a.CRH())&&(Ge.reorderIndicatorDownViewChild=xt.first),a.iGM(xt=a.CRH())&&(Ge.wrapperViewChild=xt.first),a.iGM(xt=a.CRH())&&(Ge.tableViewChild=xt.first),a.iGM(xt=a.CRH())&&(Ge.tableHeaderViewChild=xt.first),a.iGM(xt=a.CRH())&&(Ge.tableFooterViewChild=xt.first),a.iGM(xt=a.CRH())&&(Ge.scroller=xt.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",selectionPageOnly:"selectionPageOnly",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:"virtualScrollDelay",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:"groupRowsByOrder",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",virtualRowHeight:"virtualRowHeight",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll"},outputs:{selectAllChange:"selectAllChange",selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[a._Bn([$s]),a.TTD],decls:16,vars:22,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],[3,"items","columns","style","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["buildInTable",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display:none",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display:none",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[3,"items","columns","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","onLazyLoad"],["scroller",""],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","table",3,"ngClass"],["table",""],[1,"p-datatable-thead"],["thead",""],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"ngClass","value","pTableBody","pTableBodyTemplate","scrollerOptions"],["class","p-datatable-scroller-spacer",3,"style",4,"ngIf"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-scroller-spacer"],[1,"p-datatable-tfoot"],["tfoot",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(se,Ge){1&se&&(a.TgZ(0,"div",0,1),a.YNc(2,K,2,2,"div",2),a.YNc(3,oe,2,1,"div",3),a.YNc(4,Te,1,17,"p-paginator",4),a.TgZ(5,"div",5,6),a.YNc(7,X,3,16,"p-scroller",7),a.YNc(8,Oe,2,7,"ng-container",8),a.YNc(9,ct,10,28,"ng-template",null,9,a.W1O),a.qZA(),a.YNc(11,at,1,17,"p-paginator",10),a.YNc(12,ke,2,1,"div",11),a.YNc(13,ot,2,0,"div",12),a.YNc(14,Ct,2,0,"span",13),a.YNc(15,Ot,2,0,"span",14),a.qZA()),2&se&&(a.Tol(Ge.styleClass),a.Q6J("ngStyle",Ge.style)("ngClass",a.kEZ(16,Nt,Ge.rowHover||Ge.selectionMode,Ge.scrollable,Ge.scrollable&&"flex"===Ge.scrollHeight)),a.uIk("id",Ge.id),a.xp6(2),a.Q6J("ngIf",Ge.loading&&Ge.showLoader),a.xp6(1),a.Q6J("ngIf",Ge.captionTemplate),a.xp6(1),a.Q6J("ngIf",Ge.paginator&&("top"===Ge.paginatorPosition||"both"==Ge.paginatorPosition)),a.xp6(1),a.Q6J("ngStyle",a.VKq(20,Mt,Ge.virtualScroll?"":Ge.scrollHeight)),a.xp6(2),a.Q6J("ngIf",Ge.virtualScroll),a.xp6(1),a.Q6J("ngIf",!Ge.virtualScroll),a.xp6(3),a.Q6J("ngIf",Ge.paginator&&("bottom"===Ge.paginatorPosition||"both"==Ge.paginatorPosition)),a.xp6(1),a.Q6J("ngIf",Ge.summaryTemplate),a.xp6(1),a.Q6J("ngIf",Ge.resizableColumns),a.xp6(1),a.Q6J("ngIf",Ge.reorderableColumns),a.xp6(1),a.Q6J("ngIf",Ge.reorderableColumns))},dependencies:function(){return[e.mk,e.O5,e.tP,e.PC,J.D,g.jx,N.T,hi]},styles:[".p-datatable{position:relative}.p-datatable>.p-datatable-wrapper{overflow:auto}.p-datatable-table{border-spacing:0px;width:100%}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable>.p-datatable-wrapper{position:relative}.p-datatable-scrollable-table>.p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable>.p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable-table>.p-datatable-tbody>.p-rowgroup-header{position:sticky;z-index:1}.p-datatable-resizable-table>.p-datatable-thead>tr>th,.p-datatable-resizable-table>.p-datatable-tfoot>tr>td,.p-datatable-resizable-table>.p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable-table>.p-datatable-thead>tr>th.p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-table-fit>.p-datatable-thead>tr>th.p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute;display:none}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable-tbody>tr>td>.p-column-title{display:none}.p-datatable-scroller-spacer{display:flex}.p-datatable .p-scroller .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}\n"],encapsulation:2}),St})(),hi=(()=>{class St{constructor(se,Ge,xt,zt){this.dt=se,this.tableService=Ge,this.cd=xt,this.el=zt,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}get value(){return this._value}set value(se){this._value=se,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}shouldRenderRowGroupHeader(se,Ge,xt){let zt=V.gb.resolveFieldData(Ge,this.dt.groupRowsBy),Nn=se[xt-1];return!Nn||zt!==V.gb.resolveFieldData(Nn,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(se,Ge,xt){let zt=V.gb.resolveFieldData(Ge,this.dt.groupRowsBy),Nn=se[xt+1];return!Nn||zt!==V.gb.resolveFieldData(Nn,this.dt.groupRowsBy)}shouldRenderRowspan(se,Ge,xt){let zt=V.gb.resolveFieldData(Ge,this.dt.groupRowsBy),Nn=se[xt-1];return!Nn||zt!==V.gb.resolveFieldData(Nn,this.dt.groupRowsBy)}calculateRowGroupSize(se,Ge,xt){let zt=V.gb.resolveFieldData(Ge,this.dt.groupRowsBy),Nn=zt,Wn=0;for(;zt===Nn;){Wn++;let si=se[++xt];if(!si)break;Nn=V.gb.resolveFieldData(si,this.dt.groupRowsBy)}return 1===Wn?null:Wn}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=y.p.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let se=y.p.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=se+"px"}}getScrollerOption(se,Ge){return this.dt.virtualScroll&&(Ge=Ge||this.scrollerOptions)?Ge[se]:null}getRowIndex(se){const Ge=this.dt.paginator?this.dt.first+se:se,xt=this.getScrollerOption("getItemOptions");return xt?xt(Ge).index:Ge}}return St.\u0275fac=function(se){return new(se||St)(a.Y36(qi),a.Y36($s),a.Y36(a.sBO),a.Y36(a.SBq))},St.\u0275cmp=a.Xpm({type:St,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows",scrollerOptions:"scrollerOptions"},attrs:Ye,decls:5,vars:5,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(se,Ge){1&se&&(a.YNc(0,et,2,2,"ng-container",0),a.YNc(1,Fn,2,2,"ng-container",0),a.YNc(2,oo,2,2,"ng-container",0),a.YNc(3,Ve,2,5,"ng-container",0),a.YNc(4,Ue,2,5,"ng-container",0)),2&se&&(a.Q6J("ngIf",!Ge.dt.expandedRowTemplate),a.xp6(1),a.Q6J("ngIf",Ge.dt.expandedRowTemplate&&!(Ge.frozen&&Ge.dt.frozenExpandedRowTemplate)),a.xp6(1),a.Q6J("ngIf",Ge.dt.frozenExpandedRowTemplate&&Ge.frozen),a.xp6(1),a.Q6J("ngIf",Ge.dt.loading),a.xp6(1),a.Q6J("ngIf",Ge.dt.isEmpty()&&!Ge.dt.loading))},dependencies:[e.sg,e.O5,e.tP],encapsulation:2}),St})(),Ws=(()=>{class St{constructor(se){this.el=se,this.alignFrozen="left",this._frozen=!0}get frozen(){return this._frozen}set frozen(se){this._frozen=se,this.updateStickyPosition()}ngAfterViewInit(){setTimeout(()=>{this.updateStickyPosition()},1e3)}updateStickyPosition(){if(this._frozen){if("right"===this.alignFrozen){let Ge=0,xt=this.el.nativeElement.nextElementSibling;xt&&(Ge=y.p.getOuterWidth(xt)+(parseFloat(xt.style.right)||0)),this.el.nativeElement.style.right=Ge+"px"}else{let Ge=0,xt=this.el.nativeElement.previousElementSibling;xt&&(Ge=y.p.getOuterWidth(xt)+(parseFloat(xt.style.left)||0)),this.el.nativeElement.style.left=Ge+"px"}let se=this.el.nativeElement.parentElement.nextElementSibling;if(se){let Ge=y.p.index(this.el.nativeElement);se.children&&se.children[Ge]&&(se.children[Ge].style.left=this.el.nativeElement.style.left,se.children[Ge].style.right=this.el.nativeElement.style.right)}}}}return St.\u0275fac=function(se){return new(se||St)(a.Y36(a.SBq))},St.\u0275dir=a.lG2({type:St,selectors:[["","pFrozenColumn",""]],hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(se,Ge){2&se&&a.ekj("p-frozen-column",Ge.frozen)},inputs:{frozen:"frozen",alignFrozen:"alignFrozen"}}),St})(),vr=(()=>{class St{constructor(se){this.dt=se,this.isEnabled()&&(this.subscription=this.dt.tableService.sortSource$.subscribe(Ge=>{this.updateSortState()}))}ngOnInit(){this.isEnabled()&&this.updateSortState()}updateSortState(){this.sorted=this.dt.isSorted(this.field),this.sortOrder=this.sorted?1===this.dt.sortOrder?"ascending":"descending":"none"}onClick(se){this.isEnabled()&&!this.isFilterElement(se.target)&&(this.updateSortState(),this.dt.sort({originalEvent:se,field:this.field}),y.p.clearSelection())}onEnterKey(se){this.onClick(se)}isEnabled(){return!0!==this.pSortableColumnDisabled}isFilterElement(se){return y.p.hasClass(se,"pi-filter-icon")||y.p.hasClass(se,"p-column-filter-menu-button")}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return St.\u0275fac=function(se){return new(se||St)(a.Y36(qi))},St.\u0275dir=a.lG2({type:St,selectors:[["","pSortableColumn",""]],hostAttrs:[1,"p-element"],hostVars:7,hostBindings:function(se,Ge){1&se&&a.NdJ("click",function(zt){return Ge.onClick(zt)})("keydown.enter",function(zt){return Ge.onEnterKey(zt)}),2&se&&(a.uIk("tabindex",Ge.isEnabled()?"0":null)("role","columnheader")("aria-sort",Ge.sortOrder),a.ekj("p-sortable-column",Ge.isEnabled())("p-highlight",Ge.sorted))},inputs:{field:["pSortableColumn","field"],pSortableColumnDisabled:"pSortableColumnDisabled"}}),St})(),ss=(()=>{class St{constructor(se,Ge){this.dt=se,this.cd=Ge,this.subscription=this.dt.tableService.sortSource$.subscribe(xt=>{this.updateSortState()})}ngOnInit(){this.updateSortState()}onClick(se){se.preventDefault()}updateSortState(){if("single"===this.dt.sortMode)this.sortOrder=this.dt.isSorted(this.field)?this.dt.sortOrder:0;else if("multiple"===this.dt.sortMode){let se=this.dt.getSortMeta(this.field);this.sortOrder=se?se.order:0}this.cd.markForCheck()}getMultiSortMetaIndex(){let se=this.dt._multiSortMeta,Ge=-1;if(se&&"multiple"===this.dt.sortMode&&(this.dt.showInitialSortBadge||se.length>1))for(let xt=0;xt<se.length;xt++){let zt=se[xt];if(zt.field===this.field||zt.field===this.field){Ge=xt;break}}return Ge}getBadgeValue(){let se=this.getMultiSortMetaIndex();return this.dt.groupRowsBy&&se>-1?se:se+1}isMultiSorted(){return"multiple"===this.dt.sortMode&&this.getMultiSortMetaIndex()>-1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return St.\u0275fac=function(se){return new(se||St)(a.Y36(qi),a.Y36(a.sBO))},St.\u0275cmp=a.Xpm({type:St,selectors:[["p-sortIcon"]],hostAttrs:[1,"p-element"],inputs:{field:"field"},decls:2,vars:6,consts:[[1,"p-sortable-column-icon","pi","pi-fw",3,"ngClass"],["class","p-sortable-column-badge",4,"ngIf"],[1,"p-sortable-column-badge"]],template:function(se,Ge){1&se&&(a._UZ(0,"i",0),a.YNc(1,ut,2,1,"span",1)),2&se&&(a.Q6J("ngClass",a.kEZ(2,gn,1===Ge.sortOrder,-1===Ge.sortOrder,0===Ge.sortOrder)),a.xp6(1),a.Q6J("ngIf",Ge.isMultiSorted()))},dependencies:[e.mk,e.O5],encapsulation:2,changeDetection:0}),St})(),kr=(()=>{class St{constructor(se,Ge){this.dt=se,this.tableService=Ge,this.isEnabled()&&(this.subscription=this.dt.tableService.selectionSource$.subscribe(()=>{this.selected=this.dt.isSelected(this.data)}))}ngOnInit(){this.isEnabled()&&(this.selected=this.dt.isSelected(this.data))}onClick(se){this.isEnabled()&&this.dt.handleRowClick({originalEvent:se,rowData:this.data,rowIndex:this.index})}onTouchEnd(se){this.isEnabled()&&this.dt.handleRowTouchEnd(se)}onArrowDownKeyDown(se){if(!this.isEnabled())return;const xt=this.findNextSelectableRow(se.currentTarget);xt&&xt.focus(),se.preventDefault()}onArrowUpKeyDown(se){if(!this.isEnabled())return;const xt=this.findPrevSelectableRow(se.currentTarget);xt&&xt.focus(),se.preventDefault()}onEnterKeyDown(se){!this.isEnabled()||this.dt.handleRowClick({originalEvent:se,rowData:this.data,rowIndex:this.index})}onPageDownKeyDown(){this.dt.virtualScroll&&this.dt.scroller.elementViewChild.nativeElement.focus()}onSpaceKeydown(){this.dt.virtualScroll&&!this.dt.editingCell&&this.dt.scroller.elementViewChild.nativeElement.focus()}findNextSelectableRow(se){let Ge=se.nextElementSibling;return Ge?y.p.hasClass(Ge,"p-selectable-row")?Ge:this.findNextSelectableRow(Ge):null}findPrevSelectableRow(se){let Ge=se.previousElementSibling;return Ge?y.p.hasClass(Ge,"p-selectable-row")?Ge:this.findPrevSelectableRow(Ge):null}isEnabled(){return!0!==this.pSelectableRowDisabled}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return St.\u0275fac=function(se){return new(se||St)(a.Y36(qi),a.Y36($s))},St.\u0275dir=a.lG2({type:St,selectors:[["","pSelectableRow",""]],hostAttrs:[1,"p-element"],hostVars:5,hostBindings:function(se,Ge){1&se&&a.NdJ("click",function(zt){return Ge.onClick(zt)})("touchend",function(zt){return Ge.onTouchEnd(zt)})("keydown.arrowdown",function(zt){return Ge.onArrowDownKeyDown(zt)})("keydown.arrowup",function(zt){return Ge.onArrowUpKeyDown(zt)})("keydown.enter",function(zt){return Ge.onEnterKeyDown(zt)})("keydown.shift.enter",function(zt){return Ge.onEnterKeyDown(zt)})("keydown.meta.enter",function(zt){return Ge.onEnterKeyDown(zt)})("keydown.pagedown",function(){return Ge.onPageDownKeyDown()})("keydown.pageup",function(){return Ge.onPageDownKeyDown()})("keydown.home",function(){return Ge.onPageDownKeyDown()})("keydown.end",function(){return Ge.onPageDownKeyDown()})("keydown.space",function(){return Ge.onSpaceKeydown()}),2&se&&(a.uIk("tabindex",Ge.isEnabled()?0:void 0),a.ekj("p-selectable-row",Ge.isEnabled())("p-highlight",Ge.selected))},inputs:{data:["pSelectableRow","data"],index:["pSelectableRowIndex","index"],pSelectableRowDisabled:"pSelectableRowDisabled"}}),St})(),Ts=(()=>{class St{constructor(se){this.dt=se}onClick(se){this.isEnabled()&&(this.dt.toggleRow(this.data,se),se.preventDefault())}isEnabled(){return!0!==this.pRowTogglerDisabled}}return St.\u0275fac=function(se){return new(se||St)(a.Y36(qi))},St.\u0275dir=a.lG2({type:St,selectors:[["","pRowToggler",""]],hostAttrs:[1,"p-element"],hostBindings:function(se,Ge){1&se&&a.NdJ("click",function(zt){return Ge.onClick(zt)})},inputs:{data:["pRowToggler","data"],pRowTogglerDisabled:"pRowTogglerDisabled"}}),St})(),Bs=(()=>{class St{constructor(se,Ge,xt){this.dt=se,this.el=Ge,this.zone=xt}ngAfterViewInit(){this.isEnabled()&&y.p.addClass(this.el.nativeElement,"p-editable-column")}onClick(se){if(this.isEnabled())if(this.dt.selfClick=!0,this.dt.editingCell){if(this.dt.editingCell!==this.el.nativeElement){if(!this.dt.isEditingCellValid())return;this.closeEditingCell(!0,se),this.openCell()}}else this.openCell()}openCell(){this.dt.updateEditingCell(this.el.nativeElement,this.data,this.field,this.rowIndex),y.p.addClass(this.el.nativeElement,"p-cell-editing"),this.dt.onEditInit.emit({field:this.field,data:this.data,index:this.rowIndex}),this.zone.runOutsideAngular(()=>{setTimeout(()=>{let Ge=y.p.findSingle(this.el.nativeElement,this.pFocusCellSelector||"input, textarea, select");Ge&&Ge.focus()},50)}),this.overlayEventListener=se=>{this.el&&this.el.nativeElement.contains(se.target)&&(this.dt.selfClick=!0)},this.dt.overlaySubscription=this.dt.overlayService.clickObservable.subscribe(this.overlayEventListener)}closeEditingCell(se,Ge){se?this.dt.onEditComplete.emit({field:this.dt.editingCellField,data:this.dt.editingCellData,originalEvent:Ge,index:this.dt.editingCellRowIndex}):this.dt.onEditCancel.emit({field:this.dt.editingCellField,data:this.dt.editingCellData,originalEvent:Ge,index:this.dt.editingCellRowIndex}),y.p.removeClass(this.dt.editingCell,"p-cell-editing"),this.dt.editingCell=null,this.dt.editingCellData=null,this.dt.editingCellField=null,this.dt.unbindDocumentEditListener(),this.dt.overlaySubscription&&this.dt.overlaySubscription.unsubscribe()}onEnterKeyDown(se){this.isEnabled()&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,se),se.preventDefault())}onTabKeyDown(se){this.isEnabled()&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,se),se.preventDefault())}onEscapeKeyDown(se){this.isEnabled()&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!1,se),se.preventDefault())}onShiftKeyDown(se){this.isEnabled()&&(se.shiftKey?this.moveToPreviousCell(se):this.moveToNextCell(se))}onArrowDown(se){if(this.isEnabled()){let Ge=this.findCell(se.target);if(Ge){let xt=y.p.index(Ge),zt=this.findNextEditableColumnByIndex(Ge,xt);zt&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,se),y.p.invokeElementMethod(se.target,"blur"),y.p.invokeElementMethod(zt,"click")),se.preventDefault()}}}onArrowUp(se){if(this.isEnabled()){let Ge=this.findCell(se.target);if(Ge){let xt=y.p.index(Ge),zt=this.findPrevEditableColumnByIndex(Ge,xt);zt&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,se),y.p.invokeElementMethod(se.target,"blur"),y.p.invokeElementMethod(zt,"click")),se.preventDefault()}}}onArrowLeft(se){this.isEnabled()&&this.moveToPreviousCell(se)}onArrowRight(se){this.isEnabled()&&this.moveToNextCell(se)}findCell(se){if(se){let Ge=se;for(;Ge&&!y.p.hasClass(Ge,"p-cell-editing");)Ge=Ge.parentElement;return Ge}return null}moveToPreviousCell(se){let Ge=this.findCell(se.target);if(Ge){let xt=this.findPreviousEditableColumn(Ge);xt&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,se),y.p.invokeElementMethod(se.target,"blur"),y.p.invokeElementMethod(xt,"click"),se.preventDefault())}}moveToNextCell(se){let Ge=this.findCell(se.target);if(Ge){let xt=this.findNextEditableColumn(Ge);xt&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,se),y.p.invokeElementMethod(se.target,"blur"),y.p.invokeElementMethod(xt,"click"),se.preventDefault())}}findPreviousEditableColumn(se){let Ge=se.previousElementSibling;if(!Ge){let xt=se.parentElement.previousElementSibling;xt&&(Ge=xt.lastElementChild)}return Ge?y.p.hasClass(Ge,"p-editable-column")?Ge:this.findPreviousEditableColumn(Ge):null}findNextEditableColumn(se){let Ge=se.nextElementSibling;if(!Ge){let xt=se.parentElement.nextElementSibling;xt&&(Ge=xt.firstElementChild)}return Ge?y.p.hasClass(Ge,"p-editable-column")?Ge:this.findNextEditableColumn(Ge):null}findNextEditableColumnByIndex(se,Ge){let xt=se.parentElement.nextElementSibling;if(xt){let zt=xt.children[Ge];return zt&&y.p.hasClass(zt,"p-editable-column")?zt:null}return null}findPrevEditableColumnByIndex(se,Ge){let xt=se.parentElement.previousElementSibling;if(xt){let zt=xt.children[Ge];return zt&&y.p.hasClass(zt,"p-editable-column")?zt:null}return null}isEnabled(){return!0!==this.pEditableColumnDisabled}ngOnDestroy(){this.dt.overlaySubscription&&this.dt.overlaySubscription.unsubscribe()}}return St.\u0275fac=function(se){return new(se||St)(a.Y36(qi),a.Y36(a.SBq),a.Y36(a.R0b))},St.\u0275dir=a.lG2({type:St,selectors:[["","pEditableColumn",""]],hostAttrs:[1,"p-element"],hostBindings:function(se,Ge){1&se&&a.NdJ("click",function(zt){return Ge.onClick(zt)})("keydown.enter",function(zt){return Ge.onEnterKeyDown(zt)})("keydown.tab",function(zt){return Ge.onShiftKeyDown(zt)})("keydown.escape",function(zt){return Ge.onEscapeKeyDown(zt)})("keydown.shift.tab",function(zt){return Ge.onShiftKeyDown(zt)})("keydown.meta.tab",function(zt){return Ge.onShiftKeyDown(zt)})("keydown.arrowdown",function(zt){return Ge.onArrowDown(zt)})("keydown.arrowup",function(zt){return Ge.onArrowUp(zt)})("keydown.arrowleft",function(zt){return Ge.onArrowLeft(zt)})("keydown.arrowright",function(zt){return Ge.onArrowRight(zt)})},inputs:{data:["pEditableColumn","data"],field:["pEditableColumnField","field"],rowIndex:["pEditableColumnRowIndex","rowIndex"],pEditableColumnDisabled:"pEditableColumnDisabled",pFocusCellSelector:"pFocusCellSelector"}}),St})(),fo=(()=>{class St{constructor(se){this.el=se}isEnabled(){return!0!==this.pEditableRowDisabled}}return St.\u0275fac=function(se){return new(se||St)(a.Y36(a.SBq))},St.\u0275dir=a.lG2({type:St,selectors:[["","pEditableRow",""]],hostAttrs:[1,"p-element"],inputs:{data:["pEditableRow","data"],pEditableRowDisabled:"pEditableRowDisabled"}}),St})(),ms=(()=>{class St{constructor(se,Ge,xt){this.dt=se,this.editableColumn=Ge,this.editableRow=xt}ngAfterContentInit(){this.templates.forEach(se=>{switch(se.getType()){case"input":this.inputTemplate=se.template;break;case"output":this.outputTemplate=se.template}})}get editing(){return this.dt.editingCell&&this.editableColumn&&this.dt.editingCell===this.editableColumn.el.nativeElement||this.editableRow&&"row"===this.dt.editMode&&this.dt.isRowEditing(this.editableRow.data)}}return St.\u0275fac=function(se){return new(se||St)(a.Y36(qi),a.Y36(Bs,8),a.Y36(fo,8))},St.\u0275cmp=a.Xpm({type:St,selectors:[["p-cellEditor"]],contentQueries:function(se,Ge,xt){if(1&se&&a.Suo(xt,g.jx,4),2&se){let zt;a.iGM(zt=a.CRH())&&(Ge.templates=zt)}},hostAttrs:[1,"p-element"],decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(se,Ge){1&se&&(a.YNc(0,an,2,1,"ng-container",0),a.YNc(1,zn,2,1,"ng-container",0)),2&se&&(a.Q6J("ngIf",Ge.editing),a.xp6(1),a.Q6J("ngIf",!Ge.editing))},dependencies:[e.O5,e.tP],encapsulation:2}),St})(),yr=(()=>{class St{}return St.\u0275fac=function(se){return new(se||St)},St.\u0275mod=a.oAB({type:St}),St.\u0275inj=a.cJS({imports:[e.ez,J.U,L.j,l.kW,f.u5,_.hJ,w.Qy,P._8,R.L$,te,N.v,g.m8,N.v]}),St})()},3725:(mn,ht,b)=>{"use strict";b.d(ht,{LU:()=>j,x4:()=>G,xf:()=>he});var e=b(5e3),a=b(9808),f=b(4119),g=b(5787),_=b(9783),P=b(5730);function y(Q,K){1&Q&&e.GkF(0)}function l(Q,K){if(1&Q&&(e.ynx(0),e.YNc(1,y,1,0,"ng-container",3),e.BQk()),2&Q){const z=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",z.contentTemplate)}}function R(Q,K){if(1&Q&&(e.TgZ(0,"div",1),e.Hsn(1),e.YNc(2,l,2,1,"ng-container",2),e.qZA()),2&Q){const z=e.oxw();e.Q6J("hidden",!z.selected),e.uIk("id",z.id)("aria-hidden",!z.selected)("aria-labelledby",z.id+"-label"),e.xp6(2),e.Q6J("ngIf",z.contentTemplate&&(z.cache?z.loaded:z.selected))}}const L=["*"],J=["content"],N=["navbar"],w=["prevBtn"],x=["nextBtn"],D=["inkbar"];function S(Q,K){if(1&Q){const z=e.EpF();e.TgZ(0,"button",12,13),e.NdJ("click",function(){e.CHM(z);const Te=e.oxw();return e.KtG(Te.navBackward())}),e._UZ(2,"span",14),e.qZA()}}function U(Q,K){if(1&Q&&e._UZ(0,"span",24),2&Q){const z=e.oxw(3).$implicit;e.Q6J("ngClass",z.leftIcon)}}function F(Q,K){if(1&Q&&e._UZ(0,"span",25),2&Q){const z=e.oxw(3).$implicit;e.Q6J("ngClass",z.rightIcon)}}function ce(Q,K){if(1&Q&&(e.ynx(0),e.YNc(1,U,1,1,"span",21),e.TgZ(2,"span",22),e._uU(3),e.qZA(),e.YNc(4,F,1,1,"span",23),e.BQk()),2&Q){const z=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",z.leftIcon),e.xp6(2),e.Oqu(z.header),e.xp6(1),e.Q6J("ngIf",z.rightIcon)}}function te(Q,K){1&Q&&e.GkF(0)}function V(Q,K){if(1&Q){const z=e.EpF();e.TgZ(0,"span",26),e.NdJ("click",function(Te){e.CHM(z);const Ae=e.oxw(2).$implicit,Ke=e.oxw();return e.KtG(Ke.close(Te,Ae))}),e.qZA()}}const k=function(Q,K){return{"p-highlight":Q,"p-disabled":K}};function O(Q,K){if(1&Q){const z=e.EpF();e.TgZ(0,"li",16)(1,"a",17),e.NdJ("click",function(Te){e.CHM(z);const Ae=e.oxw().$implicit,Ke=e.oxw();return e.KtG(Ke.open(Te,Ae))})("keydown.enter",function(Te){e.CHM(z);const Ae=e.oxw().$implicit,Ke=e.oxw();return e.KtG(Ke.open(Te,Ae))}),e.YNc(2,ce,5,3,"ng-container",18),e.YNc(3,te,1,0,"ng-container",19),e.YNc(4,V,1,0,"span",20),e.qZA()()}if(2&Q){const z=e.oxw().$implicit;e.Tol(z.headerStyleClass),e.Q6J("ngClass",e.WLB(16,k,z.selected,z.disabled))("ngStyle",z.headerStyle),e.xp6(1),e.Q6J("pTooltip",z.tooltip)("tooltipPosition",z.tooltipPosition)("positionStyle",z.tooltipPositionStyle)("tooltipStyleClass",z.tooltipStyleClass),e.uIk("id",z.id+"-label")("aria-selected",z.selected)("aria-controls",z.id)("aria-selected",z.selected)("tabindex",z.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",!z.headerTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",z.headerTemplate),e.xp6(1),e.Q6J("ngIf",z.closable)}}function $(Q,K){1&Q&&e.YNc(0,O,5,19,"li",15),2&Q&&e.Q6J("ngIf",!K.$implicit.closed)}function ue(Q,K){if(1&Q){const z=e.EpF();e.TgZ(0,"button",27,28),e.NdJ("click",function(){e.CHM(z);const Te=e.oxw();return e.KtG(Te.navForward())}),e._UZ(2,"span",29),e.qZA()}}const q=function(Q){return{"p-tabview p-component":!0,"p-tabview-scrollable":Q}};let Y=0,G=(()=>{class Q{constructor(z,oe,Te){this.viewContainer=oe,this.cd=Te,this.cache=!0,this.tooltipPosition="top",this.tooltipPositionStyle="absolute",this.id="p-tabpanel-"+Y++,this.tabView=z}ngAfterContentInit(){this.templates.forEach(z=>{"header"===z.getType()?this.headerTemplate=z.template:this.contentTemplate=z.template})}get selected(){return this._selected}set selected(z){this._selected=z,this.loaded||this.cd.detectChanges(),z&&(this.loaded=!0)}get disabled(){return this._disabled}set disabled(z){this._disabled=z,this.tabView.cd.markForCheck()}get header(){return this._header}set header(z){this._header=z,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(z){this._leftIcon=z,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(z){this._rightIcon=z,this.tabView.cd.markForCheck()}ngOnDestroy(){this.view=null}}return Q.\u0275fac=function(z){return new(z||Q)(e.Y36((0,e.Gpc)(()=>he)),e.Y36(e.s_b),e.Y36(e.sBO))},Q.\u0275cmp=e.Xpm({type:Q,selectors:[["p-tabPanel"]],contentQueries:function(z,oe,Te){if(1&z&&e.Suo(Te,_.jx,4),2&z){let Ae;e.iGM(Ae=e.CRH())&&(oe.templates=Ae)}},hostAttrs:[1,"p-element"],inputs:{closable:"closable",headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:"cache",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},ngContentSelectors:L,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(z,oe){1&z&&(e.F$t(),e.YNc(0,R,3,5,"div",0)),2&z&&e.Q6J("ngIf",!oe.closed)},dependencies:[a.O5,a.tP],encapsulation:2}),Q})(),he=(()=>{class Q{constructor(z,oe){this.el=z,this.cd=oe,this.orientation="top",this.onChange=new e.vpe,this.onClose=new e.vpe,this.activeIndexChange=new e.vpe,this.backwardIsDisabled=!0,this.forwardIsDisabled=!1}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(z=>{this.initTabs()})}ngAfterViewChecked(){this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe()}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}open(z,oe){if(oe.disabled)z&&z.preventDefault();else{if(!oe.selected){let Te=this.findSelectedTab();Te&&(Te.selected=!1),this.tabChanged=!0,oe.selected=!0;let Ae=this.findTabIndex(oe);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(Ae),this.onChange.emit({originalEvent:z,index:Ae}),this.updateScrollBar(Ae)}z&&z.preventDefault()}}close(z,oe){this.controlClose?this.onClose.emit({originalEvent:z,index:this.findTabIndex(oe),close:()=>{this.closeTab(oe)}}):(this.closeTab(oe),this.onClose.emit({originalEvent:z,index:this.findTabIndex(oe)})),z.stopPropagation()}closeTab(z){if(!z.disabled){if(z.selected){this.tabChanged=!0,z.selected=!1;for(let oe=0;oe<this.tabs.length;oe++){let Te=this.tabs[oe];if(!Te.closed&&!z.disabled){Te.selected=!0;break}}}z.closed=!0}}findSelectedTab(){for(let z=0;z<this.tabs.length;z++)if(this.tabs[z].selected)return this.tabs[z];return null}findTabIndex(z){let oe=-1;for(let Te=0;Te<this.tabs.length;Te++)if(this.tabs[Te]==z){oe=Te;break}return oe}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(z){this._activeIndex=z,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(z))}updateInkBar(){if(this.navbar){const z=P.p.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!z)return;this.inkbar.nativeElement.style.width=P.p.getWidth(z)+"px",this.inkbar.nativeElement.style.left=P.p.getOffset(z).left-P.p.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(z){this.navbar.nativeElement.children[z].scrollIntoView({block:"nearest"})}updateButtonState(){const z=this.content.nativeElement,{scrollLeft:oe,scrollWidth:Te}=z,Ae=P.p.getWidth(z);this.backwardIsDisabled=0===oe,this.forwardIsDisabled=parseInt(oe)===Te-Ae}onScroll(z){this.scrollable&&this.updateButtonState(),z.preventDefault()}getVisibleButtonWidths(){var z,oe;return[null===(z=this.prevBtn)||void 0===z?void 0:z.nativeElement,null===(oe=this.nextBtn)||void 0===oe?void 0:oe.nativeElement].reduce((Te,Ae)=>Ae?Te+P.p.getWidth(Ae):Te,0)}navBackward(){const z=this.content.nativeElement,oe=P.p.getWidth(z)-this.getVisibleButtonWidths(),Te=z.scrollLeft-oe;z.scrollLeft=Te<=0?0:Te}navForward(){const z=this.content.nativeElement,oe=P.p.getWidth(z)-this.getVisibleButtonWidths(),Te=z.scrollLeft+oe,Ae=z.scrollWidth-oe;z.scrollLeft=Te>=Ae?Ae:Te}}return Q.\u0275fac=function(z){return new(z||Q)(e.Y36(e.SBq),e.Y36(e.sBO))},Q.\u0275cmp=e.Xpm({type:Q,selectors:[["p-tabView"]],contentQueries:function(z,oe,Te){if(1&z&&e.Suo(Te,G,4),2&z){let Ae;e.iGM(Ae=e.CRH())&&(oe.tabPanels=Ae)}},viewQuery:function(z,oe){if(1&z&&(e.Gf(J,5),e.Gf(N,5),e.Gf(w,5),e.Gf(x,5),e.Gf(D,5)),2&z){let Te;e.iGM(Te=e.CRH())&&(oe.content=Te.first),e.iGM(Te=e.CRH())&&(oe.navbar=Te.first),e.iGM(Te=e.CRH())&&(oe.prevBtn=Te.first),e.iGM(Te=e.CRH())&&(oe.nextBtn=Te.first),e.iGM(Te=e.CRH())&&(oe.inkbar=Te.first)}},hostAttrs:[1,"p-element"],inputs:{orientation:"orientation",style:"style",styleClass:"styleClass",controlClose:"controlClose",scrollable:"scrollable",activeIndex:"activeIndex"},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},ngContentSelectors:L,decls:13,vars:9,consts:[[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["content",""],["role","tablist",1,"p-tabview-nav"],["navbar",""],["ngFor","",3,"ngForOf"],[1,"p-tabview-ink-bar"],["inkbar",""],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],["prevBtn",""],[1,"pi","pi-chevron-left"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","click","keydown.enter"],[4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tabview-close pi pi-times",3,"click",4,"ngIf"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-close","pi","pi-times",3,"click"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"],["nextBtn",""],[1,"pi","pi-chevron-right"]],template:function(z,oe){1&z&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,S,3,0,"button",2),e.TgZ(3,"div",3,4),e.NdJ("scroll",function(Ae){return oe.onScroll(Ae)}),e.TgZ(5,"ul",5,6),e.YNc(7,$,1,1,"ng-template",7),e._UZ(8,"li",8,9),e.qZA()(),e.YNc(10,ue,3,0,"button",10),e.qZA(),e.TgZ(11,"div",11),e.Hsn(12),e.qZA()()),2&z&&(e.Tol(oe.styleClass),e.Q6J("ngClass",e.VKq(7,q,oe.scrollable))("ngStyle",oe.style),e.xp6(2),e.Q6J("ngIf",oe.scrollable&&!oe.backwardIsDisabled),e.xp6(5),e.Q6J("ngForOf",oe.tabs),e.xp6(3),e.Q6J("ngIf",oe.scrollable&&!oe.forwardIsDisabled))},dependencies:[a.mk,a.sg,a.O5,a.tP,a.PC,f.u,g.H],styles:[".p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:flex;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}\n"],encapsulation:2,changeDetection:0}),Q})(),j=(()=>{class Q{}return Q.\u0275fac=function(z){return new(z||Q)},Q.\u0275mod=e.oAB({type:Q}),Q.\u0275inj=e.cJS({imports:[a.ez,_.m8,f.z,g.T,_.m8]}),Q})()},7773:(mn,ht,b)=>{"use strict";b.d(ht,{EV:()=>ce,FN:()=>F});var e=b(5e3),a=b(9808),f=b(9783),g=b(5921),_=b(5787),P=b(1777);const y=["container"],l=function(te,V,k,O){return{"pi-info-circle":te,"pi-exclamation-triangle":V,"pi-times-circle":k,"pi-check":O}};function R(te,V){if(1&te&&(e.ynx(0),e._UZ(1,"span",6),e.TgZ(2,"div",7)(3,"div",8),e._uU(4),e.qZA(),e.TgZ(5,"div",9),e._uU(6),e.qZA()(),e.BQk()),2&te){const k=e.oxw();e.xp6(1),e.Tol("p-toast-message-icon pi"+(k.message.icon?" "+k.message.icon:"")),e.Q6J("ngClass",e.l5B(5,l,"info"==k.message.severity,"warn"==k.message.severity,"error"==k.message.severity,"success"==k.message.severity)),e.xp6(3),e.Oqu(k.message.summary),e.xp6(2),e.Oqu(k.message.detail)}}function L(te,V){1&te&&e.GkF(0)}function J(te,V){if(1&te){const k=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function($){e.CHM(k);const ue=e.oxw();return e.KtG(ue.onCloseIconClick($))})("keydown.enter",function($){e.CHM(k);const ue=e.oxw();return e.KtG(ue.onCloseIconClick($))}),e._UZ(1,"span",11),e.qZA()}}const N=function(te){return[te,"p-toast-message"]},w=function(te,V,k,O){return{showTransformParams:te,hideTransformParams:V,showTransitionParams:k,hideTransitionParams:O}},x=function(te){return{value:"visible",params:te}},D=function(te){return{$implicit:te}};function S(te,V){if(1&te){const k=e.EpF();e.TgZ(0,"p-toastItem",3),e.NdJ("onClose",function($){e.CHM(k);const ue=e.oxw();return e.KtG(ue.onMessageClose($))})("@toastAnimation.start",function($){e.CHM(k);const ue=e.oxw();return e.KtG(ue.onAnimationStart($))})("@toastAnimation.done",function($){e.CHM(k);const ue=e.oxw();return e.KtG(ue.onAnimationEnd($))}),e.qZA()}if(2&te){const k=V.$implicit,O=V.index,$=e.oxw();e.Q6J("message",k)("index",O)("template",$.template)("@toastAnimation",void 0)("showTransformOptions",$.showTransformOptions)("hideTransformOptions",$.hideTransformOptions)("showTransitionOptions",$.showTransitionOptions)("hideTransitionOptions",$.hideTransitionOptions)}}let U=(()=>{class te{constructor(k){this.zone=k,this.onClose=new e.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(k){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),k.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return te.\u0275fac=function(k){return new(k||te)(e.Y36(e.R0b))},te.\u0275cmp=e.Xpm({type:te,selectors:[["p-toastItem"]],viewQuery:function(k,O){if(1&k&&e.Gf(y,5),2&k){let $;e.iGM($=e.CRH())&&(O.containerViewChild=$.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(k,O){1&k&&(e.TgZ(0,"div",0,1),e.NdJ("mouseenter",function(){return O.onMouseEnter()})("mouseleave",function(){return O.onMouseLeave()}),e.TgZ(2,"div",2),e.YNc(3,R,7,10,"ng-container",3),e.YNc(4,L,1,0,"ng-container",4),e.YNc(5,J,2,0,"button",5),e.qZA()()),2&k&&(e.Tol(O.message.styleClass),e.Q6J("ngClass",e.VKq(10,N,"p-toast-message-"+O.message.severity))("@messageState",e.VKq(17,x,e.l5B(12,w,O.showTransformOptions,O.hideTransformOptions,O.showTransitionOptions,O.hideTransitionOptions))),e.uIk("id",O.message.id),e.xp6(2),e.Q6J("ngClass",O.message.contentStyleClass),e.xp6(1),e.Q6J("ngIf",!O.template),e.xp6(1),e.Q6J("ngTemplateOutlet",O.template)("ngTemplateOutletContext",e.VKq(19,D,O.message)),e.xp6(1),e.Q6J("ngIf",!1!==O.message.closable))},dependencies:[a.mk,a.O5,a.tP,_.H],encapsulation:2,data:{animation:[(0,P.X$)("messageState",[(0,P.SB)("visible",(0,P.oB)({transform:"translateY(0)",opacity:1})),(0,P.eR)("void => *",[(0,P.oB)({transform:"{{showTransformParams}}",opacity:0}),(0,P.jt)("{{showTransitionParams}}")]),(0,P.eR)("* => void",[(0,P.jt)("{{hideTransitionParams}}",(0,P.oB)({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),te})(),F=(()=>{class te{constructor(k,O,$){this.messageService=k,this.cd=O,this.config=$,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new e.vpe,this.id=(0,g.Th)()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(k=>{if(k)if(k instanceof Array){const O=k.filter($=>this.canAdd($));this.add(O)}else this.canAdd(k)&&this.add([k])}),this.clearSubscription=this.messageService.clearObserver.subscribe(k=>{k?this.key===k&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(k){this.messages=this.messages?[...this.messages,...k]:[...k],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...k]:[...k]),this.cd.markForCheck()}canAdd(k){let O=this.key===k.key;return O&&this.preventOpenDuplicates&&(O=!this.containsMessage(this.messages,k)),O&&this.preventDuplicates&&(O=!this.containsMessage(this.messagesArchieve,k)),O}containsMessage(k,O){return!!k&&null!=k.find($=>$.summary===O.summary&&$.detail==O.detail&&$.severity===O.severity)}ngAfterContentInit(){this.templates.forEach(k=>{k.getType(),this.template=k.template})}onMessageClose(k){this.messages.splice(k.index,1),this.onClose.emit({message:k.message}),this.cd.detectChanges()}onAnimationStart(k){"void"===k.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&""===this.containerViewChild.nativeElement.style.zIndex&&g.P9.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(k){"void"===k.toState&&this.autoZIndex&&g.gb.isEmpty(this.messages)&&g.P9.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let k="";for(let O in this.breakpoints){let $="";for(let ue in this.breakpoints[O])$+=ue+":"+this.breakpoints[O][ue]+" !important;";k+=`\n                    @media screen and (max-width: ${O}) {\n                        .p-toast[${this.id}] {\n                           ${$}\n                        }\n                    }\n                `}this.styleElement.innerHTML=k}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&g.P9.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return te.\u0275fac=function(k){return new(k||te)(e.Y36(f.ez),e.Y36(e.sBO),e.Y36(f.b4))},te.\u0275cmp=e.Xpm({type:te,selectors:[["p-toast"]],contentQueries:function(k,O,$){if(1&k&&e.Suo($,f.jx,4),2&k){let ue;e.iGM(ue=e.CRH())&&(O.templates=ue)}},viewQuery:function(k,O){if(1&k&&e.Gf(y,5),2&k){let $;e.iGM($=e.CRH())&&(O.containerViewChild=$.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(k,O){1&k&&(e.TgZ(0,"div",0,1),e.YNc(2,S,1,8,"p-toastItem",2),e.qZA()),2&k&&(e.Tol(O.styleClass),e.Q6J("ngClass","p-toast p-component p-toast-"+O.position)("ngStyle",O.style),e.xp6(2),e.Q6J("ngForOf",O.messages))},dependencies:[a.mk,a.sg,a.PC,U],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[(0,P.X$)("toastAnimation",[(0,P.eR)(":enter, :leave",[(0,P.IO)("@*",(0,P.pV)())])])]},changeDetection:0}),te})(),ce=(()=>{class te{}return te.\u0275fac=function(k){return new(k||te)},te.\u0275mod=e.oAB({type:te}),te.\u0275inj=e.cJS({imports:[a.ez,_.T,f.m8]}),te})()},4119:(mn,ht,b)=>{"use strict";b.d(ht,{u:()=>P,z:()=>y});var e=b(5e3),a=b(9808),f=b(5730),g=b(5921),_=b(9783);let P=(()=>{class l{constructor(L,J,N){this.el=L,this.zone=J,this.config=N,this.escape=!0,this.fitContent=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(L){this._disabled=L,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let L=this.getTarget(this.el.nativeElement);L.addEventListener("focus",this.focusListener),L.addEventListener("blur",this.blurListener)}})}ngOnChanges(L){L.tooltipPosition&&this.setOption({tooltipPosition:L.tooltipPosition.currentValue}),L.tooltipEvent&&this.setOption({tooltipEvent:L.tooltipEvent.currentValue}),L.appendTo&&this.setOption({appendTo:L.appendTo.currentValue}),L.positionStyle&&this.setOption({positionStyle:L.positionStyle.currentValue}),L.tooltipStyleClass&&this.setOption({tooltipStyleClass:L.tooltipStyleClass.currentValue}),L.tooltipZIndex&&this.setOption({tooltipZIndex:L.tooltipZIndex.currentValue}),L.escape&&this.setOption({escape:L.escape.currentValue}),L.showDelay&&this.setOption({showDelay:L.showDelay.currentValue}),L.hideDelay&&this.setOption({hideDelay:L.hideDelay.currentValue}),L.life&&this.setOption({life:L.life.currentValue}),L.positionTop&&this.setOption({positionTop:L.positionTop.currentValue}),L.positionLeft&&this.setOption({positionLeft:L.positionLeft.currentValue}),L.disabled&&this.setOption({disabled:L.disabled.currentValue}),L.text&&(this.setOption({tooltipLabel:L.text.currentValue}),this.active&&(L.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),L.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),L.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(L){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(L){this.deactivate()}onFocus(L){this.activate()}onBlur(L){this.deactivate()}onClick(L){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let L=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},L)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let L=document.createElement("div");L.className="p-tooltip-arrow",this.container.appendChild(L),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?f.p.appendChild(this.container,this.el.nativeElement):f.p.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content")}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),f.p.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?g.P9.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&g.P9.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let L=this.el.nativeElement.getBoundingClientRect();return{left:L.left+f.p.getWindowScrollLeft(),top:L.top+f.p.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let L=this.getHostOffset(),J=L.left+f.p.getOuterWidth(this.el.nativeElement),N=L.top+(f.p.getOuterHeight(this.el.nativeElement)-f.p.getOuterHeight(this.container))/2;this.container.style.left=J+this.getOption("positionLeft")+"px",this.container.style.top=N+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let L=this.getHostOffset(),J=L.left-f.p.getOuterWidth(this.container),N=L.top+(f.p.getOuterHeight(this.el.nativeElement)-f.p.getOuterHeight(this.container))/2;this.container.style.left=J+this.getOption("positionLeft")+"px",this.container.style.top=N+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let L=this.getHostOffset(),J=L.left+(f.p.getOuterWidth(this.el.nativeElement)-f.p.getOuterWidth(this.container))/2,N=L.top-f.p.getOuterHeight(this.container);this.container.style.left=J+this.getOption("positionLeft")+"px",this.container.style.top=N+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let L=this.getHostOffset(),J=L.left+(f.p.getOuterWidth(this.el.nativeElement)-f.p.getOuterWidth(this.container))/2,N=L.top+f.p.getOuterHeight(this.el.nativeElement);this.container.style.left=J+this.getOption("positionLeft")+"px",this.container.style.top=N+this.getOption("positionTop")+"px"}setOption(L){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),L)}getOption(L){return this._tooltipOptions[L]}getTarget(L){return f.p.hasClass(L,"p-inputwrapper")?f.p.findSingle(L,"input"):L}preAlign(L){this.container.style.left="-999px",this.container.style.top="-999px";let J="p-tooltip p-component p-tooltip-"+L;this.container.className=this.getOption("tooltipStyleClass")?J+" "+this.getOption("tooltipStyleClass"):J}isOutOfBounds(){let L=this.container.getBoundingClientRect(),J=L.top,N=L.left,w=f.p.getOuterWidth(this.container),x=f.p.getOuterHeight(this.container),D=f.p.getViewport();return N+w>D.width||N<0||J<0||J+x>D.height}onWindowResize(L){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new f.V(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let L=this.getTarget(this.el.nativeElement);L.removeEventListener("focus",this.focusListener),L.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):f.p.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&g.P9.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return l.\u0275fac=function(L){return new(L||l)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(_.b4))},l.\u0275dir=e.lG2({type:l,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",fitContent:"fitContent",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[e.TTD]}),l})(),y=(()=>{class l{}return l.\u0275fac=function(L){return new(L||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[a.ez]}),l})()},2629:(mn,ht,b)=>{"use strict";b.d(ht,{mp:()=>de,xc:()=>Je});var e=b(5e3),a=b(9808),f=b(9783),g=b(5921),_=b(5730),P=b(5787),y=b(5871);const l=function(ze){return{"p-treenode-droppoint-active":ze}};function R(ze,wt){if(1&ze){const Fe=e.EpF();e.TgZ(0,"li",4),e.NdJ("drop",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt.onDropPoint(fn,-1))})("dragover",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt.onDropPointDragOver(fn))})("dragenter",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt.onDropPointDragEnter(fn,-1))})("dragleave",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt.onDropPointDragLeave(fn))}),e.qZA()}if(2&ze){const Fe=e.oxw(2);e.Q6J("ngClass",e.VKq(1,l,Fe.draghoverPrev))}}const L=function(ze){return{"p-checkbox-disabled":ze}},J=function(ze,wt){return{"p-highlight":ze,"p-indeterminate":wt}},N=function(ze,wt){return{"pi-check":ze,"pi-minus":wt}};function w(ze,wt){if(1&ze&&(e.TgZ(0,"div",13)(1,"div",14),e._UZ(2,"span",15),e.qZA()()),2&ze){const Fe=e.oxw(3);e.Q6J("ngClass",e.VKq(4,L,!1===Fe.node.selectable)),e.uIk("aria-checked",Fe.isSelected()),e.xp6(1),e.Q6J("ngClass",e.WLB(6,J,Fe.isSelected(),Fe.node.partialSelected)),e.xp6(1),e.Q6J("ngClass",e.WLB(9,N,Fe.isSelected(),Fe.node.partialSelected))}}function x(ze,wt){if(1&ze&&e._UZ(0,"span"),2&ze){const Fe=e.oxw(3);e.Tol(Fe.getIcon())}}function D(ze,wt){if(1&ze&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&ze){const Fe=e.oxw(3);e.xp6(1),e.Oqu(Fe.node.label)}}function S(ze,wt){1&ze&&e.GkF(0)}const U=function(ze){return{$implicit:ze}};function F(ze,wt){if(1&ze&&(e.TgZ(0,"span"),e.YNc(1,S,1,0,"ng-container",16),e.qZA()),2&ze){const Fe=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",Fe.tree.getTemplateForNode(Fe.node))("ngTemplateOutletContext",e.VKq(2,U,Fe.node))}}function ce(ze,wt){if(1&ze&&e._UZ(0,"p-treeNode",19),2&ze){const Fe=wt.$implicit,qt=wt.first,fn=wt.last,Jt=wt.index,Dn=e.oxw(4);e.Q6J("node",Fe)("parentNode",Dn.node)("firstChild",qt)("lastChild",fn)("index",Jt)("itemSize",Dn.itemSize)("level",Dn.level+1)}}function te(ze,wt){if(1&ze&&(e.TgZ(0,"ul",17),e.YNc(1,ce,1,7,"p-treeNode",18),e.qZA()),2&ze){const Fe=e.oxw(3);e.Udp("display",Fe.node.expanded?"block":"none"),e.xp6(1),e.Q6J("ngForOf",Fe.node.children)("ngForTrackBy",Fe.tree.trackBy)}}const V=function(ze,wt){return["p-treenode",ze,wt]},k=function(ze){return{height:ze}},O=function(ze,wt,Fe){return{"p-treenode-selectable":ze,"p-treenode-dragover":wt,"p-highlight":Fe}},$=function(ze,wt){return{"pi-chevron-right":ze,"pi-chevron-down":wt}};function ue(ze,wt){if(1&ze){const Fe=e.EpF();e.TgZ(0,"li",5)(1,"div",6),e.NdJ("click",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt.onNodeClick(fn))})("contextmenu",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt.onNodeRightClick(fn))})("touchend",function(){e.CHM(Fe);const fn=e.oxw(2);return e.KtG(fn.onNodeTouchEnd())})("drop",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt.onDropNode(fn))})("dragover",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt.onDropNodeDragOver(fn))})("dragenter",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt.onDropNodeDragEnter(fn))})("dragleave",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt.onDropNodeDragLeave(fn))})("dragstart",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt.onDragStart(fn))})("dragend",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt.onDragStop(fn))})("keydown",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt.onKeyDown(fn))}),e.TgZ(2,"button",7),e.NdJ("click",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt.toggle(fn))}),e._UZ(3,"span",8),e.qZA(),e.YNc(4,w,3,12,"div",9),e.YNc(5,x,1,2,"span",3),e.TgZ(6,"span",10),e.YNc(7,D,2,1,"span",11),e.YNc(8,F,2,4,"span",11),e.qZA()(),e.YNc(9,te,2,4,"ul",12),e.qZA()}if(2&ze){const Fe=e.oxw(2);e.Akn(Fe.node.style),e.Q6J("ngClass",e.WLB(20,V,Fe.node.styleClass||"",Fe.isLeaf()?"p-treenode-leaf":""))("ngStyle",e.VKq(23,k,Fe.itemSize+"px")),e.xp6(1),e.Udp("padding-left",Fe.level*Fe.indentation+"rem"),e.Q6J("draggable",Fe.tree.draggableNodes)("ngClass",e.kEZ(25,O,Fe.tree.selectionMode&&!1!==Fe.node.selectable,Fe.draghoverNode,Fe.isSelected())),e.uIk("tabindex",0)("aria-posinset",Fe.index+1)("aria-expanded",Fe.node.expanded)("aria-selected",Fe.isSelected())("aria-label",Fe.node.label),e.xp6(1),e.uIk("aria-label",Fe.tree.togglerAriaLabel),e.xp6(1),e.Q6J("ngClass",e.WLB(29,$,!Fe.node.expanded,Fe.node.expanded)),e.xp6(1),e.Q6J("ngIf","checkbox"==Fe.tree.selectionMode),e.xp6(1),e.Q6J("ngIf",Fe.node.icon||Fe.node.expandedIcon||Fe.node.collapsedIcon),e.xp6(2),e.Q6J("ngIf",!Fe.tree.getTemplateForNode(Fe.node)),e.xp6(1),e.Q6J("ngIf",Fe.tree.getTemplateForNode(Fe.node)),e.xp6(1),e.Q6J("ngIf",!Fe.tree.virtualScroll&&Fe.node.children&&Fe.node.expanded)}}function q(ze,wt){if(1&ze){const Fe=e.EpF();e.TgZ(0,"li",4),e.NdJ("drop",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt.onDropPoint(fn,1))})("dragover",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt.onDropPointDragOver(fn))})("dragenter",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt.onDropPointDragEnter(fn,1))})("dragleave",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt.onDropPointDragLeave(fn))}),e.qZA()}if(2&ze){const Fe=e.oxw(2);e.Q6J("ngClass",e.VKq(1,l,Fe.draghoverNext))}}const Y=function(ze){return{"p-treenode-connector-line":ze}};function G(ze,wt){if(1&ze&&(e.TgZ(0,"td",25)(1,"table",26)(2,"tbody")(3,"tr"),e._UZ(4,"td",27),e.qZA(),e.TgZ(5,"tr"),e._UZ(6,"td",27),e.qZA()()()()),2&ze){const Fe=e.oxw(3);e.xp6(4),e.Q6J("ngClass",e.VKq(2,Y,!Fe.firstChild)),e.xp6(2),e.Q6J("ngClass",e.VKq(4,Y,!Fe.lastChild))}}const he=function(ze,wt){return{"pi-plus":ze,"pi-minus":wt}};function j(ze,wt){if(1&ze){const Fe=e.EpF();e.TgZ(0,"span",28),e.NdJ("click",function(fn){e.CHM(Fe);const Jt=e.oxw(3);return e.KtG(Jt.toggle(fn))}),e.qZA()}if(2&ze){const Fe=e.oxw(3);e.Q6J("ngClass",e.WLB(2,he,!Fe.node.expanded,Fe.node.expanded)),e.uIk("aria-label",Fe.tree.togglerAriaLabel)}}function Q(ze,wt){if(1&ze&&e._UZ(0,"span"),2&ze){const Fe=e.oxw(3);e.Tol(Fe.getIcon())}}function K(ze,wt){if(1&ze&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&ze){const Fe=e.oxw(3);e.xp6(1),e.Oqu(Fe.node.label)}}function z(ze,wt){1&ze&&e.GkF(0)}function oe(ze,wt){if(1&ze&&(e.TgZ(0,"span"),e.YNc(1,z,1,0,"ng-container",16),e.qZA()),2&ze){const Fe=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",Fe.tree.getTemplateForNode(Fe.node))("ngTemplateOutletContext",e.VKq(2,U,Fe.node))}}function Te(ze,wt){if(1&ze&&e._UZ(0,"p-treeNode",32),2&ze){const qt=wt.first,fn=wt.last;e.Q6J("node",wt.$implicit)("firstChild",qt)("lastChild",fn)}}function Ae(ze,wt){if(1&ze&&(e.TgZ(0,"td",29)(1,"div",30),e.YNc(2,Te,1,3,"p-treeNode",31),e.qZA()()),2&ze){const Fe=e.oxw(3);e.Udp("display",Fe.node.expanded?"table-cell":"none"),e.xp6(2),e.Q6J("ngForOf",Fe.node.children)("ngForTrackBy",Fe.tree.trackBy)}}const Ke=function(ze){return{"p-treenode-collapsed":ze}},be=function(ze,wt){return{"p-treenode-selectable":ze,"p-highlight":wt}};function Qe(ze,wt){if(1&ze){const Fe=e.EpF();e.TgZ(0,"table")(1,"tbody")(2,"tr"),e.YNc(3,G,7,6,"td",20),e.TgZ(4,"td",21)(5,"div",22),e.NdJ("click",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt.onNodeClick(fn))})("contextmenu",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt.onNodeRightClick(fn))})("touchend",function(){e.CHM(Fe);const fn=e.oxw(2);return e.KtG(fn.onNodeTouchEnd())})("keydown",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt.onNodeKeydown(fn))}),e.YNc(6,j,1,5,"span",23),e.YNc(7,Q,1,2,"span",3),e.TgZ(8,"span",10),e.YNc(9,K,2,1,"span",11),e.YNc(10,oe,2,4,"span",11),e.qZA()()(),e.YNc(11,Ae,3,4,"td",24),e.qZA()()()}if(2&ze){const Fe=e.oxw(2);e.Tol(Fe.node.styleClass),e.xp6(3),e.Q6J("ngIf",!Fe.root),e.xp6(1),e.Q6J("ngClass",e.VKq(10,Ke,!Fe.node.expanded)),e.xp6(1),e.Q6J("ngClass",e.WLB(12,be,Fe.tree.selectionMode,Fe.isSelected())),e.xp6(1),e.Q6J("ngIf",!Fe.isLeaf()),e.xp6(1),e.Q6J("ngIf",Fe.node.icon||Fe.node.expandedIcon||Fe.node.collapsedIcon),e.xp6(2),e.Q6J("ngIf",!Fe.tree.getTemplateForNode(Fe.node)),e.xp6(1),e.Q6J("ngIf",Fe.tree.getTemplateForNode(Fe.node)),e.xp6(1),e.Q6J("ngIf",Fe.node.children&&Fe.node.expanded)}}function X(ze,wt){if(1&ze&&(e.YNc(0,R,1,3,"li",1),e.YNc(1,ue,10,32,"li",2),e.YNc(2,q,1,3,"li",1),e.YNc(3,Qe,12,15,"table",3)),2&ze){const Fe=e.oxw();e.Q6J("ngIf",Fe.tree.droppableNodes),e.xp6(1),e.Q6J("ngIf",!Fe.tree.horizontal),e.xp6(1),e.Q6J("ngIf",Fe.tree.droppableNodes&&Fe.lastChild),e.xp6(1),e.Q6J("ngIf",Fe.tree.horizontal)}}const xe=["filter"],we=["scroller"],Oe=["wrapper"];function dt(ze,wt){if(1&ze&&(e.TgZ(0,"div",9),e._UZ(1,"i"),e.qZA()),2&ze){const Fe=e.oxw(2);e.xp6(1),e.Tol("p-tree-loading-icon pi-spin "+Fe.loadingIcon)}}function bt(ze,wt){1&ze&&e.GkF(0)}function it(ze,wt){if(1&ze){const Fe=e.EpF();e.TgZ(0,"div",10)(1,"input",11,12),e.NdJ("keydown.enter",function(fn){return fn.preventDefault()})("input",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt._filter(fn.target.value))}),e.qZA(),e._UZ(3,"span",13),e.qZA()}if(2&ze){const Fe=e.oxw(2);e.xp6(1),e.uIk("placeholder",Fe.filterPlaceholder)}}function Dt(ze,wt){if(1&ze&&e._UZ(0,"p-treeNode",20),2&ze){const Fe=wt.$implicit,qt=wt.first,fn=wt.last,Jt=wt.index,Dn=e.oxw(2).options,Rt=e.oxw(3);e.Q6J("level",Fe.level)("rowNode",Fe)("node",Fe.node)("firstChild",qt)("lastChild",fn)("index",Rt.getIndex(Dn,Jt))("itemSize",Dn.itemSize)("indentation",Rt.indentation)}}function vt(ze,wt){if(1&ze&&(e.TgZ(0,"ul",18),e.YNc(1,Dt,1,8,"p-treeNode",19),e.qZA()),2&ze){const Fe=e.oxw(),qt=Fe.options,fn=Fe.$implicit,Jt=e.oxw(3);e.Akn(qt.contentStyle),e.Q6J("ngClass",qt.contentStyleClass),e.uIk("aria-label",Jt.ariaLabel)("aria-labelledby",Jt.ariaLabelledBy),e.xp6(1),e.Q6J("ngForOf",fn)("ngForTrackBy",Jt.trackBy)}}function Gt(ze,wt){1&ze&&e.YNc(0,vt,2,7,"ul",17),2&ze&&e.Q6J("ngIf",wt.$implicit)}function Ht(ze,wt){1&ze&&e.GkF(0)}const Ut=function(ze){return{options:ze}};function ct(ze,wt){if(1&ze&&e.YNc(0,Ht,1,0,"ng-container",22),2&ze){const Fe=wt.options,qt=e.oxw(4);e.Q6J("ngTemplateOutlet",qt.loaderTemplate)("ngTemplateOutletContext",e.VKq(2,Ut,Fe))}}function at(ze,wt){1&ze&&(e.ynx(0),e.YNc(1,ct,1,4,"ng-template",21),e.BQk())}function fe(ze,wt){if(1&ze){const Fe=e.EpF();e.TgZ(0,"p-scroller",14,15),e.NdJ("onScroll",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt.onScroll.emit(fn))})("onScrollIndexChange",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt.onScrollIndexChange.emit(fn))})("onLazyLoad",function(fn){e.CHM(Fe);const Jt=e.oxw(2);return e.KtG(Jt.onLazyLoad.emit(fn))}),e.YNc(2,Gt,1,1,"ng-template",16),e.YNc(3,at,2,0,"ng-container",7),e.qZA()}if(2&ze){const Fe=e.oxw(2);e.Akn(e.VKq(7,k,Fe.scrollHeight)),e.Q6J("items",Fe.serializedValue)("itemSize",Fe.virtualScrollItemSize||Fe._virtualNodeHeight)("lazy",Fe.lazy)("options",Fe.virtualScrollOptions),e.xp6(3),e.Q6J("ngIf",Fe.loaderTemplate)}}function ke(ze,wt){if(1&ze&&e._UZ(0,"p-treeNode",28),2&ze){const qt=wt.first,fn=wt.last,Jt=wt.index;e.Q6J("node",wt.$implicit)("firstChild",qt)("lastChild",fn)("index",Jt)("level",0)}}function ot(ze,wt){if(1&ze&&(e.TgZ(0,"ul",26),e.YNc(1,ke,1,5,"p-treeNode",27),e.qZA()),2&ze){const Fe=e.oxw(3);e.uIk("aria-label",Fe.ariaLabel)("aria-labelledby",Fe.ariaLabelledBy),e.xp6(1),e.Q6J("ngForOf",Fe.getRootNode())("ngForTrackBy",Fe.trackBy)}}function Ct(ze,wt){if(1&ze&&(e.ynx(0),e.TgZ(1,"div",23,24),e.YNc(3,ot,2,4,"ul",25),e.qZA(),e.BQk()),2&ze){const Fe=e.oxw(2);e.xp6(1),e.Udp("max-height",Fe.scrollHeight),e.xp6(2),e.Q6J("ngIf",Fe.getRootNode())}}function Ot(ze,wt){if(1&ze&&(e.ynx(0),e._uU(1),e.BQk()),2&ze){const Fe=e.oxw(3);e.xp6(1),e.hij(" ",Fe.emptyMessageLabel," ")}}function Nt(ze,wt){1&ze&&e.GkF(0,null,31)}function Mt(ze,wt){if(1&ze&&(e.TgZ(0,"div",29),e.YNc(1,Ot,2,1,"ng-container",30),e.YNc(2,Nt,2,0,"ng-container",4),e.qZA()),2&ze){const Fe=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!Fe.emptyMessageTemplate)("ngIfElse",Fe.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",Fe.emptyMessageTemplate)}}function Ye(ze,wt){1&ze&&e.GkF(0)}const st=function(ze,wt,Fe,qt){return{"p-tree p-component":!0,"p-tree-selectable":ze,"p-treenode-dragover":wt,"p-tree-loading":Fe,"p-tree-flex-scrollable":qt}};function je(ze,wt){if(1&ze){const Fe=e.EpF();e.TgZ(0,"div",2),e.NdJ("drop",function(fn){e.CHM(Fe);const Jt=e.oxw();return e.KtG(Jt.onDrop(fn))})("dragover",function(fn){e.CHM(Fe);const Jt=e.oxw();return e.KtG(Jt.onDragOver(fn))})("dragenter",function(){e.CHM(Fe);const fn=e.oxw();return e.KtG(fn.onDragEnter())})("dragleave",function(fn){e.CHM(Fe);const Jt=e.oxw();return e.KtG(Jt.onDragLeave(fn))}),e.YNc(1,dt,2,2,"div",3),e.YNc(2,bt,1,0,"ng-container",4),e.YNc(3,it,4,1,"div",5),e.YNc(4,fe,4,9,"p-scroller",6),e.YNc(5,Ct,4,3,"ng-container",7),e.YNc(6,Mt,3,3,"div",8),e.YNc(7,Ye,1,0,"ng-container",4),e.qZA()}if(2&ze){const Fe=e.oxw();e.Tol(Fe.styleClass),e.Q6J("ngClass",e.l5B(11,st,Fe.selectionMode,Fe.dragHover,Fe.loading,"flex"===Fe.scrollHeight))("ngStyle",Fe.style),e.xp6(1),e.Q6J("ngIf",Fe.loading),e.xp6(1),e.Q6J("ngTemplateOutlet",Fe.headerTemplate),e.xp6(1),e.Q6J("ngIf",Fe.filter),e.xp6(1),e.Q6J("ngIf",Fe.virtualScroll),e.xp6(1),e.Q6J("ngIf",!Fe.virtualScroll),e.xp6(1),e.Q6J("ngIf",!Fe.loading&&(null==Fe.getRootNode()||0===Fe.getRootNode().length)),e.xp6(1),e.Q6J("ngTemplateOutlet",Fe.footerTemplate)}}function It(ze,wt){1&ze&&e.GkF(0)}function ne(ze,wt){if(1&ze&&(e.TgZ(0,"div",34),e._UZ(1,"i"),e.qZA()),2&ze){const Fe=e.oxw(2);e.xp6(1),e.Tol("p-tree-loading-icon pi-spin "+Fe.loadingIcon)}}function Ne(ze,wt){if(1&ze&&(e.TgZ(0,"table"),e._UZ(1,"p-treeNode",35),e.qZA()),2&ze){const Fe=e.oxw(2);e.xp6(1),e.Q6J("node",Fe.value[0])("root",!0)}}function me(ze,wt){if(1&ze&&(e.ynx(0),e._uU(1),e.BQk()),2&ze){const Fe=e.oxw(3);e.xp6(1),e.hij(" ",Fe.emptyMessageLabel," ")}}function gt(ze,wt){1&ze&&e.GkF(0,null,31)}function un(ze,wt){if(1&ze&&(e.TgZ(0,"div",29),e.YNc(1,me,2,1,"ng-container",30),e.YNc(2,gt,2,0,"ng-container",4),e.qZA()),2&ze){const Fe=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!Fe.emptyMessageTemplate)("ngIfElse",Fe.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",Fe.emptyMessageTemplate)}}function In(ze,wt){1&ze&&e.GkF(0)}const en=function(ze){return{"p-tree p-tree-horizontal p-component":!0,"p-tree-selectable":ze}};function _t(ze,wt){if(1&ze&&(e.TgZ(0,"div",32),e.YNc(1,It,1,0,"ng-container",4),e.YNc(2,ne,2,2,"div",33),e.YNc(3,Ne,2,2,"table",7),e.YNc(4,un,3,3,"div",8),e.YNc(5,In,1,0,"ng-container",4),e.qZA()),2&ze){const Fe=e.oxw();e.Tol(Fe.styleClass),e.Q6J("ngClass",e.VKq(9,en,Fe.selectionMode))("ngStyle",Fe.style),e.xp6(1),e.Q6J("ngTemplateOutlet",Fe.headerTemplate),e.xp6(1),e.Q6J("ngIf",Fe.loading),e.xp6(1),e.Q6J("ngIf",Fe.value&&Fe.value[0]),e.xp6(1),e.Q6J("ngIf",!Fe.loading&&(null==Fe.getRootNode()||0===Fe.getRootNode().length)),e.xp6(1),e.Q6J("ngTemplateOutlet",Fe.footerTemplate)}}let et=(()=>{class ze{constructor(Fe){this.tree=Fe}ngOnInit(){this.node.parent=this.parentNode,this.parentNode&&this.tree.syncNodeOption(this.node,this.tree.value,"parent",this.tree.getNodeWithKey(this.parentNode.key,this.tree.value))}getIcon(){let Fe;return Fe=this.node.icon?this.node.icon:this.node.expanded&&this.node.children&&this.node.children.length?this.node.expandedIcon:this.node.collapsedIcon,ze.ICON_CLASS+" "+Fe}isLeaf(){return this.tree.isNodeLeaf(this.node)}toggle(Fe){this.node.expanded?this.collapse(Fe):this.expand(Fe)}expand(Fe){this.node.expanded=!0,this.tree.virtualScroll&&this.tree.updateSerializedValue(),this.tree.onNodeExpand.emit({originalEvent:Fe,node:this.node})}collapse(Fe){this.node.expanded=!1,this.tree.virtualScroll&&this.tree.updateSerializedValue(),this.tree.onNodeCollapse.emit({originalEvent:Fe,node:this.node})}onNodeClick(Fe){this.tree.onNodeClick(Fe,this.node)}onNodeKeydown(Fe){13===Fe.which&&this.tree.onNodeClick(Fe,this.node)}onNodeTouchEnd(){this.tree.onNodeTouchEnd()}onNodeRightClick(Fe){this.tree.onNodeRightClick(Fe,this.node)}isSelected(){return this.tree.isSelected(this.node)}onDropPoint(Fe,qt){Fe.preventDefault();let fn=this.tree.dragNode,Rt=this.tree.dragNodeTree!==this.tree||1===qt||this.tree.dragNodeIndex!==this.index-1;if(this.tree.allowDrop(fn,this.node,this.tree.dragNodeScope)&&Rt){let rn=Object.assign({},this.createDropPointEventMetadata(qt));this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:Fe,dragNode:fn,dropNode:this.node,index:this.index,accept:()=>{this.processPointDrop(rn)}}):(this.processPointDrop(rn),this.tree.onNodeDrop.emit({originalEvent:Fe,dragNode:fn,dropNode:this.node,index:this.index}))}this.draghoverPrev=!1,this.draghoverNext=!1}processPointDrop(Fe){let qt=Fe.dropNode.parent?Fe.dropNode.parent.children:this.tree.value;Fe.dragNodeSubNodes.splice(Fe.dragNodeIndex,1);let fn=this.index;Fe.position<0?(fn=Fe.dragNodeSubNodes===qt?Fe.dragNodeIndex>Fe.index?Fe.index:Fe.index-1:Fe.index,qt.splice(fn,0,Fe.dragNode)):(fn=qt.length,qt.push(Fe.dragNode)),this.tree.dragDropService.stopDrag({node:Fe.dragNode,subNodes:Fe.dropNode.parent?Fe.dropNode.parent.children:this.tree.value,index:Fe.dragNodeIndex})}createDropPointEventMetadata(Fe){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node,index:this.index,position:Fe}}onDropPointDragOver(Fe){Fe.dataTransfer.dropEffect="move",Fe.preventDefault()}onDropPointDragEnter(Fe,qt){this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(qt<0?this.draghoverPrev=!0:this.draghoverNext=!0)}onDropPointDragLeave(Fe){this.draghoverPrev=!1,this.draghoverNext=!1}onDragStart(Fe){this.tree.draggableNodes&&!1!==this.node.draggable?(Fe.dataTransfer.setData("text","data"),this.tree.dragDropService.startDrag({tree:this,node:this.node,subNodes:this.node.parent?this.node.parent.children:this.tree.value,index:this.index,scope:this.tree.draggableScope})):Fe.preventDefault()}onDragStop(Fe){this.tree.dragDropService.stopDrag({node:this.node,subNodes:this.node.parent?this.node.parent.children:this.tree.value,index:this.index})}onDropNodeDragOver(Fe){Fe.dataTransfer.dropEffect="move",this.tree.droppableNodes&&(Fe.preventDefault(),Fe.stopPropagation())}onDropNode(Fe){if(this.tree.droppableNodes&&!1!==this.node.droppable){let qt=this.tree.dragNode;if(this.tree.allowDrop(qt,this.node,this.tree.dragNodeScope)){let fn=Object.assign({},this.createDropNodeEventMetadata());this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:Fe,dragNode:qt,dropNode:this.node,index:this.index,accept:()=>{this.processNodeDrop(fn)}}):(this.processNodeDrop(fn),this.tree.onNodeDrop.emit({originalEvent:Fe,dragNode:qt,dropNode:this.node,index:this.index}))}}Fe.preventDefault(),Fe.stopPropagation(),this.draghoverNode=!1}createDropNodeEventMetadata(){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node}}processNodeDrop(Fe){let qt=Fe.dragNodeIndex;Fe.dragNodeSubNodes.splice(qt,1),Fe.dropNode.children?Fe.dropNode.children.push(Fe.dragNode):Fe.dropNode.children=[Fe.dragNode],this.tree.dragDropService.stopDrag({node:Fe.dragNode,subNodes:Fe.dropNode.parent?Fe.dropNode.parent.children:this.tree.value,index:qt})}onDropNodeDragEnter(Fe){this.tree.droppableNodes&&!1!==this.node.droppable&&this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(this.draghoverNode=!0)}onDropNodeDragLeave(Fe){if(this.tree.droppableNodes){let qt=Fe.currentTarget.getBoundingClientRect();(Fe.x>qt.left+qt.width||Fe.x<qt.left||Fe.y>=Math.floor(qt.top+qt.height)||Fe.y<qt.top)&&(this.draghoverNode=!1)}}onKeyDown(Fe){const qt=Fe.target.parentElement.parentElement;if(!("P-TREENODE"!==qt.nodeName||this.tree.contextMenu&&"block"===this.tree.contextMenu.containerViewChild.nativeElement.style.display))switch(Fe.which){case 40:const fn=this.tree.droppableNodes?qt.children[1].children[1]:qt.children[0].children[1];if(fn&&fn.children.length>0)this.focusNode(fn.children[0]);else{const Jt=qt.nextElementSibling;if(Jt)this.focusNode(Jt);else{let Dn=this.findNextSiblingOfAncestor(qt);Dn&&this.focusNode(Dn)}}Fe.preventDefault();break;case 38:if(qt.previousElementSibling)this.focusNode(this.findLastVisibleDescendant(qt.previousElementSibling));else{let Jt=this.getParentNodeElement(qt);Jt&&this.focusNode(Jt)}Fe.preventDefault();break;case 39:!this.node.expanded&&!this.tree.isNodeLeaf(this.node)&&this.expand(Fe),Fe.preventDefault();break;case 37:if(this.node.expanded)this.collapse(Fe);else{let Jt=this.getParentNodeElement(qt);Jt&&this.focusNode(Jt)}Fe.preventDefault();break;case 13:this.tree.onNodeClick(Fe,this.node),Fe.preventDefault()}}findNextSiblingOfAncestor(Fe){let qt=this.getParentNodeElement(Fe);return qt?qt.nextElementSibling?qt.nextElementSibling:this.findNextSiblingOfAncestor(qt):null}findLastVisibleDescendant(Fe){const fn=Array.from(Fe.children).find(Jt=>_.p.hasClass(Jt,"p-treenode")).children[1];return fn&&fn.children.length>0?this.findLastVisibleDescendant(fn.children[fn.children.length-1]):Fe}getParentNodeElement(Fe){const qt=Fe.parentElement.parentElement.parentElement;return"P-TREENODE"===qt.tagName?qt:null}focusNode(Fe){this.tree.droppableNodes?Fe.children[1].children[0].focus():Fe.children[0].children[0].focus()}}return ze.ICON_CLASS="p-treenode-icon ",ze.\u0275fac=function(Fe){return new(Fe||ze)(e.Y36((0,e.Gpc)(()=>de)))},ze.\u0275cmp=e.Xpm({type:ze,selectors:[["p-treeNode"]],hostAttrs:[1,"p-element"],inputs:{rowNode:"rowNode",node:"node",parentNode:"parentNode",root:"root",index:"index",firstChild:"firstChild",lastChild:"lastChild",level:"level",indentation:"indentation",itemSize:"itemSize"},decls:1,vars:1,consts:[[3,"ngIf"],["class","p-treenode-droppoint",3,"ngClass","drop","dragover","dragenter","dragleave",4,"ngIf"],[3,"ngClass","ngStyle","style",4,"ngIf"],[3,"class",4,"ngIf"],[1,"p-treenode-droppoint",3,"ngClass","drop","dragover","dragenter","dragleave"],[3,"ngClass","ngStyle"],["role","treeitem",1,"p-treenode-content",3,"draggable","ngClass","click","contextmenu","touchend","drop","dragover","dragenter","dragleave","dragstart","dragend","keydown"],["type","button","pRipple","","tabindex","-1",1,"p-tree-toggler","p-link",3,"click"],[1,"p-tree-toggler-icon","pi","pi-fw",3,"ngClass"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[1,"p-treenode-label"],[4,"ngIf"],["class","p-treenode-children","style","display: none;","role","group",3,"display",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-checkbox-icon","pi",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","group",1,"p-treenode-children",2,"display","none"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level"],["class","p-treenode-connector",4,"ngIf"],[1,"p-treenode",3,"ngClass"],["tabindex","0",1,"p-treenode-content",3,"ngClass","click","contextmenu","touchend","keydown"],["class","p-tree-toggler pi pi-fw",3,"ngClass","click",4,"ngIf"],["class","p-treenode-children-container",3,"display",4,"ngIf"],[1,"p-treenode-connector"],[1,"p-treenode-connector-table"],[3,"ngClass"],[1,"p-tree-toggler","pi","pi-fw",3,"ngClass","click"],[1,"p-treenode-children-container"],[1,"p-treenode-children"],[3,"node","firstChild","lastChild",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild"]],template:function(Fe,qt){1&Fe&&e.YNc(0,X,4,4,"ng-template",0),2&Fe&&e.Q6J("ngIf",qt.node)},dependencies:[a.mk,a.sg,a.O5,a.tP,a.PC,P.H,ze],encapsulation:2}),ze})(),de=(()=>{class ze{constructor(Fe,qt,fn){this.el=Fe,this.dragDropService=qt,this.config=fn,this.layout="vertical",this.metaKeySelection=!0,this.propagateSelectionUp=!0,this.propagateSelectionDown=!0,this.loadingIcon="pi pi-spinner",this.emptyMessage="",this.filterBy="label",this.filterMode="lenient",this.lazy=!1,this.indentation=1.5,this.trackBy=(Jt,Dn)=>Dn,this.selectionChange=new e.vpe,this.onNodeSelect=new e.vpe,this.onNodeUnselect=new e.vpe,this.onNodeExpand=new e.vpe,this.onNodeCollapse=new e.vpe,this.onNodeContextMenuSelect=new e.vpe,this.onNodeDrop=new e.vpe,this.onLazyLoad=new e.vpe,this.onScroll=new e.vpe,this.onScrollIndexChange=new e.vpe,this.onFilter=new e.vpe}get virtualNodeHeight(){return this._virtualNodeHeight}set virtualNodeHeight(Fe){this._virtualNodeHeight=Fe,console.warn("The virtualNodeHeight property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.droppableNodes&&(this.dragStartSubscription=this.dragDropService.dragStart$.subscribe(Fe=>{this.dragNodeTree=Fe.tree,this.dragNode=Fe.node,this.dragNodeSubNodes=Fe.subNodes,this.dragNodeIndex=Fe.index,this.dragNodeScope=Fe.scope}),this.dragStopSubscription=this.dragDropService.dragStop$.subscribe(Fe=>{this.dragNodeTree=null,this.dragNode=null,this.dragNodeSubNodes=null,this.dragNodeIndex=null,this.dragNodeScope=null,this.dragHover=!1}))}ngOnChanges(Fe){Fe.value&&this.updateSerializedValue()}get horizontal(){return"horizontal"==this.layout}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(f.ws.EMPTY_MESSAGE)}ngAfterContentInit(){this.templates.length&&(this._templateMap={}),this.templates.forEach(Fe=>{switch(Fe.getType()){case"header":this.headerTemplate=Fe.template;break;case"empty":this.emptyMessageTemplate=Fe.template;break;case"footer":this.footerTemplate=Fe.template;break;case"loader":this.loaderTemplate=Fe.template;break;default:this._templateMap[Fe.name]=Fe.template}})}updateSerializedValue(){this.serializedValue=[],this.serializeNodes(null,this.getRootNode(),0,!0)}serializeNodes(Fe,qt,fn,Jt){if(qt&&qt.length)for(let Dn of qt){Dn.parent=Fe;const Rt={node:Dn,parent:Fe,level:fn,visible:Jt&&(!Fe||Fe.expanded)};this.serializedValue.push(Rt),Rt.visible&&Dn.expanded&&this.serializeNodes(Dn,Dn.children,fn+1,Rt.visible)}}onNodeClick(Fe,qt){let fn=Fe.target;if(!_.p.hasClass(fn,"p-tree-toggler")&&!_.p.hasClass(fn,"p-tree-toggler-icon")){if(this.selectionMode){if(!1===qt.selectable||this.hasFilteredNodes()&&!(qt=this.getNodeWithKey(qt.key,this.value)))return;let Jt=this.findIndexInSelection(qt),Dn=Jt>=0;if(this.isCheckboxSelectionMode())Dn?(this.propagateSelectionDown?this.propagateDown(qt,!1):this.selection=this.selection.filter((Rt,rn)=>rn!=Jt),this.propagateSelectionUp&&qt.parent&&this.propagateUp(qt.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:Fe,node:qt})):(this.propagateSelectionDown?this.propagateDown(qt,!0):this.selection=[...this.selection||[],qt],this.propagateSelectionUp&&qt.parent&&this.propagateUp(qt.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:Fe,node:qt}));else if(!this.nodeTouched&&this.metaKeySelection){let rn=Fe.metaKey||Fe.ctrlKey;Dn&&rn?(this.isSingleSelectionMode()?this.selectionChange.emit(null):(this.selection=this.selection.filter((Fn,Un)=>Un!=Jt),this.selectionChange.emit(this.selection)),this.onNodeUnselect.emit({originalEvent:Fe,node:qt})):(this.isSingleSelectionMode()?this.selectionChange.emit(qt):this.isMultipleSelectionMode()&&(this.selection=rn&&this.selection||[],this.selection=[...this.selection,qt],this.selectionChange.emit(this.selection)),this.onNodeSelect.emit({originalEvent:Fe,node:qt}))}else this.isSingleSelectionMode()?Dn?(this.selection=null,this.onNodeUnselect.emit({originalEvent:Fe,node:qt})):(this.selection=qt,this.onNodeSelect.emit({originalEvent:Fe,node:qt})):Dn?(this.selection=this.selection.filter((rn,Fn)=>Fn!=Jt),this.onNodeUnselect.emit({originalEvent:Fe,node:qt})):(this.selection=[...this.selection||[],qt],this.onNodeSelect.emit({originalEvent:Fe,node:qt})),this.selectionChange.emit(this.selection)}this.nodeTouched=!1}}onNodeTouchEnd(){this.nodeTouched=!0}onNodeRightClick(Fe,qt){if(this.contextMenu){let fn=Fe.target;if(fn.className&&0===fn.className.indexOf("p-tree-toggler"))return;this.findIndexInSelection(qt)>=0||(this.isSingleSelectionMode()?this.selectionChange.emit(qt):this.selectionChange.emit([qt])),this.contextMenu.show(Fe),this.onNodeContextMenuSelect.emit({originalEvent:Fe,node:qt})}}findIndexInSelection(Fe){let qt=-1;if(this.selectionMode&&this.selection)if(this.isSingleSelectionMode())qt=this.selection.key&&this.selection.key===Fe.key||this.selection==Fe?0:-1;else for(let fn=0;fn<this.selection.length;fn++){let Jt=this.selection[fn];if(Jt.key&&Jt.key===Fe.key||Jt==Fe){qt=fn;break}}return qt}syncNodeOption(Fe,qt,fn,Jt){const Dn=this.hasFilteredNodes()?this.getNodeWithKey(Fe.key,qt):null;Dn&&(Dn[fn]=Jt||Fe[fn])}hasFilteredNodes(){return this.filter&&this.filteredNodes&&this.filteredNodes.length}getNodeWithKey(Fe,qt){for(let fn of qt){if(fn.key===Fe)return fn;if(fn.children){let Jt=this.getNodeWithKey(Fe,fn.children);if(Jt)return Jt}}}propagateUp(Fe,qt){if(Fe.children&&Fe.children.length){let Jt=0,Dn=!1;for(let Rt of Fe.children)this.isSelected(Rt)?Jt++:Rt.partialSelected&&(Dn=!0);if(qt&&Jt==Fe.children.length)this.selection=[...this.selection||[],Fe],Fe.partialSelected=!1;else{if(!qt){let Rt=this.findIndexInSelection(Fe);Rt>=0&&(this.selection=this.selection.filter((rn,Fn)=>Fn!=Rt))}Fe.partialSelected=!!(Dn||Jt>0&&Jt!=Fe.children.length)}this.syncNodeOption(Fe,this.filteredNodes,"partialSelected")}let fn=Fe.parent;fn&&this.propagateUp(fn,qt)}propagateDown(Fe,qt){let fn=this.findIndexInSelection(Fe);if(qt&&-1==fn?this.selection=[...this.selection||[],Fe]:!qt&&fn>-1&&(this.selection=this.selection.filter((Jt,Dn)=>Dn!=fn)),Fe.partialSelected=!1,this.syncNodeOption(Fe,this.filteredNodes,"partialSelected"),Fe.children&&Fe.children.length)for(let Jt of Fe.children)this.propagateDown(Jt,qt)}isSelected(Fe){return-1!=this.findIndexInSelection(Fe)}isSingleSelectionMode(){return this.selectionMode&&"single"==this.selectionMode}isMultipleSelectionMode(){return this.selectionMode&&"multiple"==this.selectionMode}isCheckboxSelectionMode(){return this.selectionMode&&"checkbox"==this.selectionMode}isNodeLeaf(Fe){return 0!=Fe.leaf&&!(Fe.children&&Fe.children.length)}getRootNode(){return this.filteredNodes?this.filteredNodes:this.value}getTemplateForNode(Fe){return this._templateMap?Fe.type?this._templateMap[Fe.type]:this._templateMap.default:null}onDragOver(Fe){this.droppableNodes&&(!this.value||0===this.value.length)&&(Fe.dataTransfer.dropEffect="move",Fe.preventDefault())}onDrop(Fe){if(this.droppableNodes&&(!this.value||0===this.value.length)){Fe.preventDefault();let qt=this.dragNode;if(this.allowDrop(qt,null,this.dragNodeScope)){let fn=this.dragNodeIndex;this.value=this.value||[],this.validateDrop?this.onNodeDrop.emit({originalEvent:Fe,dragNode:qt,dropNode:null,index:fn,accept:()=>{this.processTreeDrop(qt,fn)}}):(this.onNodeDrop.emit({originalEvent:Fe,dragNode:qt,dropNode:null,index:fn}),this.processTreeDrop(qt,fn))}}}processTreeDrop(Fe,qt){this.dragNodeSubNodes.splice(qt,1),this.value.push(Fe),this.dragDropService.stopDrag({node:Fe})}onDragEnter(){this.droppableNodes&&this.allowDrop(this.dragNode,null,this.dragNodeScope)&&(this.dragHover=!0)}onDragLeave(Fe){if(this.droppableNodes){let qt=Fe.currentTarget.getBoundingClientRect();(Fe.x>qt.left+qt.width||Fe.x<qt.left||Fe.y>qt.top+qt.height||Fe.y<qt.top)&&(this.dragHover=!1)}}allowDrop(Fe,qt,fn){if(Fe){if(this.isValidDragScope(fn)){let Jt=!0;if(qt)if(Fe===qt)Jt=!1;else{let Dn=qt.parent;for(;null!=Dn;){if(Dn===Fe){Jt=!1;break}Dn=Dn.parent}}return Jt}return!1}return!1}isValidDragScope(Fe){let qt=this.droppableScope;if(qt){if("string"==typeof qt){if("string"==typeof Fe)return qt===Fe;if(Fe instanceof Array)return-1!=Fe.indexOf(qt)}else if(qt instanceof Array){if("string"==typeof Fe)return-1!=qt.indexOf(Fe);if(Fe instanceof Array)for(let fn of qt)for(let Jt of Fe)if(fn===Jt)return!0}return!1}return!0}_filter(Fe){let qt=Fe;if(""===qt)this.filteredNodes=null;else{this.filteredNodes=[];const fn=this.filterBy.split(","),Jt=g.gb.removeAccents(qt).toLocaleLowerCase(this.filterLocale),Dn="strict"===this.filterMode;for(let Rt of this.value){let rn=Object.assign({},Rt),Fn={searchFields:fn,filterText:Jt,isStrictMode:Dn};(Dn&&(this.findFilteredNodes(rn,Fn)||this.isFilterMatched(rn,Fn))||!Dn&&(this.isFilterMatched(rn,Fn)||this.findFilteredNodes(rn,Fn)))&&this.filteredNodes.push(rn)}}this.updateSerializedValue(),this.onFilter.emit({filter:qt,filteredValue:this.filteredNodes})}resetFilter(){this.filteredNodes=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}scrollToVirtualIndex(Fe){this.virtualScroll&&this.scroller.scrollToIndex(Fe)}scrollTo(Fe){this.virtualScroll?this.scroller.scrollTo(Fe):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(Fe):(this.wrapperViewChild.nativeElement.scrollLeft=Fe.left,this.wrapperViewChild.nativeElement.scrollTop=Fe.top))}findFilteredNodes(Fe,qt){if(Fe){let fn=!1;if(Fe.children){let Jt=[...Fe.children];Fe.children=[];for(let Dn of Jt){let Rt=Object.assign({},Dn);this.isFilterMatched(Rt,qt)&&(fn=!0,Fe.children.push(Rt))}}if(fn)return Fe.expanded=!0,!0}}isFilterMatched(Fe,{searchFields:qt,filterText:fn,isStrictMode:Jt}){let Dn=!1;for(let Rt of qt)g.gb.removeAccents(String(g.gb.resolveFieldData(Fe,Rt))).toLocaleLowerCase(this.filterLocale).indexOf(fn)>-1&&(Dn=!0);return(!Dn||Jt&&!this.isNodeLeaf(Fe))&&(Dn=this.findFilteredNodes(Fe,{searchFields:qt,filterText:fn,isStrictMode:Jt})||Dn),Dn}getIndex(Fe,qt){const fn=Fe.getItemOptions;return fn?fn(qt).index:qt}getBlockableElement(){return this.el.nativeElement.children[0]}ngOnDestroy(){this.dragStartSubscription&&this.dragStartSubscription.unsubscribe(),this.dragStopSubscription&&this.dragStopSubscription.unsubscribe()}}return ze.\u0275fac=function(Fe){return new(Fe||ze)(e.Y36(e.SBq),e.Y36(f.Y,8),e.Y36(f.b4))},ze.\u0275cmp=e.Xpm({type:ze,selectors:[["p-tree"]],contentQueries:function(Fe,qt,fn){if(1&Fe&&e.Suo(fn,f.jx,4),2&Fe){let Jt;e.iGM(Jt=e.CRH())&&(qt.templates=Jt)}},viewQuery:function(Fe,qt){if(1&Fe&&(e.Gf(xe,5),e.Gf(we,5),e.Gf(Oe,5)),2&Fe){let fn;e.iGM(fn=e.CRH())&&(qt.filterViewChild=fn.first),e.iGM(fn=e.CRH())&&(qt.scroller=fn.first),e.iGM(fn=e.CRH())&&(qt.wrapperViewChild=fn.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",selectionMode:"selectionMode",selection:"selection",style:"style",styleClass:"styleClass",contextMenu:"contextMenu",layout:"layout",draggableScope:"draggableScope",droppableScope:"droppableScope",draggableNodes:"draggableNodes",droppableNodes:"droppableNodes",metaKeySelection:"metaKeySelection",propagateSelectionUp:"propagateSelectionUp",propagateSelectionDown:"propagateSelectionDown",loading:"loading",loadingIcon:"loadingIcon",emptyMessage:"emptyMessage",ariaLabel:"ariaLabel",togglerAriaLabel:"togglerAriaLabel",ariaLabelledBy:"ariaLabelledBy",validateDrop:"validateDrop",filter:"filter",filterBy:"filterBy",filterMode:"filterMode",filterPlaceholder:"filterPlaceholder",filteredNodes:"filteredNodes",filterLocale:"filterLocale",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",indentation:"indentation",_templateMap:"_templateMap",trackBy:"trackBy",virtualNodeHeight:"virtualNodeHeight"},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onNodeContextMenuSelect:"onNodeContextMenuSelect",onNodeDrop:"onNodeDrop",onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange",onFilter:"onFilter"},features:[e.TTD],decls:2,vars:2,consts:[[3,"ngClass","ngStyle","class","drop","dragover","dragenter","dragleave",4,"ngIf"],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","ngStyle","drop","dragover","dragenter","dragleave"],["class","p-tree-loading-overlay p-component-overlay",4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tree-filter-container",4,"ngIf"],["styleClass","p-tree-wrapper",3,"items","style","itemSize","lazy","options","onScroll","onScrollIndexChange","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-tree-empty-message",4,"ngIf"],[1,"p-tree-loading-overlay","p-component-overlay"],[1,"p-tree-filter-container"],["type","text","autocomplete","off",1,"p-tree-filter","p-inputtext","p-component",3,"keydown.enter","input"],["filter",""],[1,"p-tree-filter-icon","pi","pi-search"],["styleClass","p-tree-wrapper",3,"items","itemSize","lazy","options","onScroll","onScrollIndexChange","onLazyLoad"],["scroller",""],["pTemplate","content"],["class","p-tree-container","role","tree",3,"ngClass","style",4,"ngIf"],["role","tree",1,"p-tree-container",3,"ngClass"],[3,"level","rowNode","node","firstChild","lastChild","index","itemSize","indentation",4,"ngFor","ngForOf","ngForTrackBy"],[3,"level","rowNode","node","firstChild","lastChild","index","itemSize","indentation"],["pTemplate","loader"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-tree-wrapper"],["wrapper",""],["class","p-tree-container","role","tree",4,"ngIf"],["role","tree",1,"p-tree-container"],[3,"node","firstChild","lastChild","index","level",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild","index","level"],[1,"p-tree-empty-message"],[4,"ngIf","ngIfElse"],["emptyFilter",""],[3,"ngClass","ngStyle"],["class","p-tree-loading-mask p-component-overlay",4,"ngIf"],[1,"p-tree-loading-mask","p-component-overlay"],[3,"node","root"]],template:function(Fe,qt){1&Fe&&(e.YNc(0,je,8,16,"div",0),e.YNc(1,_t,6,11,"div",1)),2&Fe&&(e.Q6J("ngIf",!qt.horizontal),e.xp6(1),e.Q6J("ngIf",qt.horizontal))},dependencies:[a.mk,a.sg,a.O5,a.tP,a.PC,f.jx,y.T,et],styles:[".p-tree-container{margin:0;padding:0;list-style-type:none;overflow:auto}.p-treenode-children{margin:0;padding:0;list-style-type:none}.p-tree-wrapper{overflow:auto}.p-treenode-selectable{cursor:pointer;-webkit-user-select:none;user-select:none}.p-tree-toggler{cursor:pointer;-webkit-user-select:none;user-select:none;display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex-shrink:0}.p-treenode-leaf>.p-treenode-content .p-tree-toggler{visibility:hidden}.p-treenode-content{display:flex;align-items:center}.p-tree-filter{width:100%}.p-tree-filter-container{position:relative;display:block;width:100%}.p-tree-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-tree-loading{position:relative;min-height:4rem}.p-tree .p-tree-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-tree-flex-scrollable{display:flex;flex:1;height:100%;flex-direction:column}.p-tree-flex-scrollable .p-tree-wrapper{flex:1}.p-tree .p-treenode-droppoint{height:4px;list-style-type:none}.p-tree .p-treenode-droppoint-active{border:0 none}.p-tree-horizontal{width:auto;padding-left:0;padding-right:0;overflow:auto}.p-tree.p-tree-horizontal table,.p-tree.p-tree-horizontal tr,.p-tree.p-tree-horizontal td{border-collapse:collapse;margin:0;padding:0;vertical-align:middle}.p-tree-horizontal .p-treenode-content{font-weight:400;padding:.4em 1em .4em .2em;display:flex;align-items:center}.p-tree-horizontal .p-treenode-parent .p-treenode-content{font-weight:400;white-space:nowrap}.p-tree.p-tree-horizontal .p-treenode{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-x scroll center center transparent;padding:.25rem 2.5rem}.p-tree.p-tree-horizontal .p-treenode.p-treenode-leaf,.p-tree.p-tree-horizontal .p-treenode.p-treenode-collapsed{padding-right:0}.p-tree.p-tree-horizontal .p-treenode-children{padding:0;margin:0}.p-tree.p-tree-horizontal .p-treenode-connector{width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-table{height:100%;width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-line{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-y scroll 0 0 transparent;width:1px}.p-tree.p-tree-horizontal table{height:0}.p-scroller .p-tree-container{overflow:visible}\n"],encapsulation:2}),ze})(),Je=(()=>{class ze{}return ze.\u0275fac=function(Fe){return new(Fe||ze)},ze.\u0275mod=e.oAB({type:ze}),ze.\u0275inj=e.cJS({imports:[a.ez,f.m8,P.T,y.v,f.m8,y.v]}),ze})()},5921:(mn,ht,b)=>{"use strict";b.d(ht,{P9:()=>_,Th:()=>f,gb:()=>e});class e{static equals(y,l,R){return R?this.resolveFieldData(y,R)===this.resolveFieldData(l,R):this.equalsByValue(y,l)}static equalsByValue(y,l){if(y===l)return!0;if(y&&l&&"object"==typeof y&&"object"==typeof l){var J,N,w,R=Array.isArray(y),L=Array.isArray(l);if(R&&L){if((N=y.length)!=l.length)return!1;for(J=N;0!=J--;)if(!this.equalsByValue(y[J],l[J]))return!1;return!0}if(R!=L)return!1;var x=y instanceof Date,D=l instanceof Date;if(x!=D)return!1;if(x&&D)return y.getTime()==l.getTime();var S=y instanceof RegExp,U=l instanceof RegExp;if(S!=U)return!1;if(S&&U)return y.toString()==l.toString();var F=Object.keys(y);if((N=F.length)!==Object.keys(l).length)return!1;for(J=N;0!=J--;)if(!Object.prototype.hasOwnProperty.call(l,F[J]))return!1;for(J=N;0!=J--;)if(!this.equalsByValue(y[w=F[J]],l[w]))return!1;return!0}return y!=y&&l!=l}static resolveFieldData(y,l){if(y&&l){if(this.isFunction(l))return l(y);if(-1==l.indexOf("."))return y[l];{let R=l.split("."),L=y;for(let J=0,N=R.length;J<N;++J){if(null==L)return null;L=L[R[J]]}return L}}return null}static isFunction(y){return!!(y&&y.constructor&&y.call&&y.apply)}static reorderArray(y,l,R){y&&l!==R&&(R>=y.length&&(R%=y.length,l%=y.length),y.splice(R,0,y.splice(l,1)[0]))}static insertIntoOrderedArray(y,l,R,L){if(R.length>0){let J=!1;for(let N=0;N<R.length;N++)if(this.findIndexInList(R[N],L)>l){R.splice(N,0,y),J=!0;break}J||R.push(y)}else R.push(y)}static findIndexInList(y,l){let R=-1;if(l)for(let L=0;L<l.length;L++)if(l[L]==y){R=L;break}return R}static contains(y,l){if(null!=y&&l&&l.length)for(let R of l)if(this.equals(y,R))return!0;return!1}static removeAccents(y){return y&&y.search(/[\xC0-\xFF]/g)>-1&&(y=y.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),y}static isEmpty(y){return null==y||""===y||Array.isArray(y)&&0===y.length||!(y instanceof Date)&&"object"==typeof y&&0===Object.keys(y).length}static isNotEmpty(y){return!this.isEmpty(y)}static compare(y,l,R,L=1){let J=-1;const N=this.isEmpty(y),w=this.isEmpty(l);return J=N&&w?0:N?L:w?-L:"string"==typeof y&&"string"==typeof l?y.localeCompare(l,R,{numeric:!0}):y<l?-1:y>l?1:0,J}static sort(y,l,R=1,L,J=1){return(1===J?R:J)*e.compare(y,l,L,R)}static merge(y,l){return null!=y&&"object"!=typeof y||null!=l&&"object"!=typeof l?null!=y&&"string"!=typeof y||null!=l&&"string"!=typeof l?l||y:[y||"",l||""].join(" "):Object.assign(Object.assign({},y||{}),l||{})}}var a=0;function f(){return"pr_id_"+ ++a}var _=function g(){let P=[];const L=J=>J&&parseInt(J.style.zIndex,10)||0;return{get:L,set:(J,N,w)=>{N&&(N.style.zIndex=String(((J,N)=>{let w=P.length>0?P[P.length-1]:{key:J,value:N},x=w.value+(w.key===J?0:N)+1;return P.push({key:J,value:x}),x})(J,w)))},clear:J=>{J&&((J=>{P=P.filter(N=>N.value!==J)})(L(J)),J.style.zIndex="")},getCurrent:()=>P.length>0?P[P.length-1].value:0}}()},5861:(mn,ht,b)=>{"use strict";function e(f,g,_,P,y,l,R){try{var L=f[l](R),J=L.value}catch(N){return void _(N)}L.done?g(J):Promise.resolve(J).then(P,y)}function a(f){return function(){var g=this,_=arguments;return new Promise(function(P,y){var l=f.apply(g,_);function R(J){e(l,P,y,R,L,"next",J)}function L(J){e(l,P,y,R,L,"throw",J)}R(void 0)})}}b.d(ht,{Z:()=>a})}},mn=>{mn(mn.s=8255)}]);