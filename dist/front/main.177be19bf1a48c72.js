var DZ=Object.defineProperty,MZ=Object.defineProperties,OZ=Object.getOwnPropertyDescriptors,KA=Object.getOwnPropertySymbols,PZ=Object.prototype.hasOwnProperty,LZ=Object.prototype.propertyIsEnumerable,dI=(hn,ht,b)=>ht in hn?DZ(hn,ht,{enumerable:!0,configurable:!0,writable:!0,value:b}):hn[ht]=b,cb=(hn,ht)=>{for(var b in ht||(ht={}))PZ.call(ht,b)&&dI(hn,b,ht[b]);if(KA)for(var b of KA(ht))LZ.call(ht,b)&&dI(hn,b,ht[b]);return hn},ub=(hn,ht)=>MZ(hn,OZ(ht)),Ci=(hn,ht,b)=>(dI(hn,"symbol"!=typeof ht?ht+"":ht,b),b);(self.webpackChunkfront=self.webpackChunkfront||[]).push([[179],{4e3:(hn,ht,b)=>{"use strict";b.d(ht,{Ji:()=>P,PJ:()=>x,S9:()=>d,U1:()=>_,aq:()=>L,ls:()=>u,mo:()=>a,x$:()=>R,zW:()=>f});var e=b(1777);const d=(0,e.X$)("flowInChild",[(0,e.eR)("* => *",[(0,e.IO)(":enter",[(0,e.oB)({opacity:0,transform:"translateY(-2rem)"}),(0,e.EY)(30,(0,e.jt)(".3s",(0,e.oB)({opacity:1,transform:"translateY(0)"})))],{optional:!0})])]),u=(0,e.X$)("flow",[(0,e.eR)(":enter",[(0,e.oB)({opacity:.6,transform:"translateY(.6rem)"}),(0,e.jt)("0.2s",(0,e.oB)({opacity:1,transform:"translateY(0)"}))]),(0,e.eR)(":leave",[(0,e.oB)({opacity:1,transform:"translateY(0)"}),(0,e.jt)("0.2s",(0,e.oB)({opacity:0,transform:"translateY(.6rem)"}))])]),f=(0,e.X$)("flowLeft",[(0,e.eR)(":enter",[(0,e.oB)({opacity:0,transform:"translateX(10rem)"}),(0,e.jt)("0.2s",(0,e.oB)({opacity:1,transform:"translateX(0)"}))]),(0,e.eR)(":leave",[(0,e.oB)({opacity:1,transform:"translateX(0)"}),(0,e.jt)("0.2s",(0,e.oB)({opacity:0,transform:"translateX(10rem)",height:0}))])]),_=(0,e.X$)("fade",[(0,e.eR)(":enter",[(0,e.oB)({opacity:0}),(0,e.jt)("0.2s",(0,e.oB)({opacity:1}))]),(0,e.eR)(":leave",[(0,e.oB)({opacity:1}),(0,e.jt)("0.2s",(0,e.oB)({opacity:0}))])]),P=(0,e.X$)("fadeIn",[(0,e.eR)(":enter",[(0,e.oB)({opacity:0}),(0,e.jt)("0.2s",(0,e.oB)({opacity:1}))])]),x=(0,e.X$)("fadeAlt",[(0,e.SB)("fade",(0,e.oB)({opacity:0})),(0,e.SB)("unfade",(0,e.oB)({opacity:.2})),(0,e.eR)("* => unfade",[(0,e.jt)("0.2s")]),(0,e.eR)("* => fade",[(0,e.jt)("0.2s")])]),a=(0,e.X$)("fadeFullAlt",[(0,e.SB)("fade",(0,e.oB)({opacity:0})),(0,e.SB)("unfade",(0,e.oB)({opacity:1})),(0,e.eR)("* => unfade",[(0,e.jt)("0.2s")]),(0,e.eR)("* => fade",[(0,e.jt)("0.2s")])]),R=(0,e.X$)("swipeChild",[(0,e.eR)("* => *",[(0,e.IO)(":enter",[(0,e.oB)({opacity:0,transform:"translateX(-2rem)"}),(0,e.EY)(85,[(0,e.jt)("250ms",(0,e.oB)({opacity:1,transform:"none"}))])],{optional:!0})])]),L=(0,e.X$)("swipe",[(0,e.SB)("default",(0,e.oB)({opacity:1,transform:"translateX(0)"})),(0,e.SB)("right",(0,e.oB)({opacity:0,transform:"translateX(10%) scale(0.9)",transformOrigin:"center right"})),(0,e.SB)("left",(0,e.oB)({opacity:0,transform:"translateX(-10%) scale(0.9)",transformOrigin:"center left"})),(0,e.eR)("default <=> right",(0,e.jt)("200ms ease-out")),(0,e.eR)("default <=> left",(0,e.jt)("200ms ease-out")),(0,e.eR)("right <=> left",(0,e.jt)("0s"))])},158:(hn,ht,b)=>{"use strict";b.d(ht,{_:()=>_,q:()=>P});var e=b(3470),d=b(5107),u=b(383),f=b(5e3);const _=[{path:"",loadChildren:()=>u.Ke.loadOrDefault("isOffsite",!1)?b.e(31).then(b.bind(b,8031)).then(x=>x.InstallersModule):Promise.resolve().then(b.bind(b,2022)).then(x=>x.MainModule),canActivate:[d.a],canActivateChild:[d.a]},{path:"login",loadChildren:()=>Promise.resolve().then(b.bind(b,975)).then(x=>x.LoginModule)}];let P=(()=>{class x{}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=f.oAB({type:x}),x.\u0275inj=f.cJS({imports:[e.Bz.forRoot(_,{}),e.Bz]}),x})()},6081:(hn,ht,b)=>{"use strict";b.d(ht,{G:()=>_t});var e=b(655),d=b(5677),u=b(7579),f=b(9841),_=b(9300),P=b(8372),x=b(1135),a=b(8675),R=b(4004),L=b(3900),V=b(8505),F=b(7384),T=b(2382),y=b(5e3),D=b(8738),k=b(8007),B=b(6768),N=b(9783),ce=b(9808),$=b(1874),z=b(3470),S=b(845),O=b(5315),K=b(1424),ue=b(4500),q=b(8952),G=b(1828),j=b(6847),fe=b(7514),ne=b(4383);function J(tt,de){1&tt&&(y.ynx(0),y.TgZ(1,"th",28),y._uU(2,"\u041f\u043e\u0440\u0442\u044b "),y._UZ(3,"p-sortIcon",29),y.qZA(),y.BQk())}function X(tt,de){1&tt&&(y.ynx(0),y.TgZ(1,"th"),y._uU(2,"\u0421\u0442\u0430\u0442\u0443\u0441"),y.qZA(),y.TgZ(3,"th",30),y._uU(4,"\u041b\u043e\u0433\u0438\u043d "),y._UZ(5,"p-sortIcon",31),y.qZA(),y.BQk())}function W(tt,de){1&tt&&(y.ynx(0),y.TgZ(1,"th"),y._uU(2,"\u0421\u0442\u0430\u0442\u0443\u0441"),y.qZA(),y.BQk())}function Y(tt,de){1&tt&&(y.TgZ(0,"th"),y._uU(1,"Ping"),y.qZA())}function Te(tt,de){if(1&tt&&(y.TgZ(0,"tr"),y.YNc(1,J,4,0,"ng-container",15),y.YNc(2,X,6,0,"ng-container",15),y.YNc(3,W,3,0,"ng-container",15),y.TgZ(4,"th",16),y._uU(5,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f "),y._UZ(6,"p-sortIcon",17),y.qZA(),y.TgZ(7,"th",18),y._uU(8,"\u0412 \u0441\u0435\u0442\u0438 "),y._UZ(9,"p-sortIcon",19),y.qZA(),y.TgZ(10,"th"),y._uU(11,"\u0410\u0434\u0440\u0435\u0441"),y.qZA(),y.TgZ(12,"th",20),y._uU(13,"IP \u0410\u0434\u0440\u0435\u0441 "),y._UZ(14,"p-sortIcon",21),y.qZA(),y.TgZ(15,"th",22),y._uU(16,"MAC \u0410\u0434\u0440\u0435\u0441 "),y._UZ(17,"p-sortIcon",23),y.qZA(),y.TgZ(18,"th",24),y._uU(19,"VLAN "),y._UZ(20,"p-sortIcon",25),y.qZA(),y.TgZ(21,"th",26),y._uU(22,"\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 "),y._UZ(23,"p-sortIcon",27),y.qZA(),y.YNc(24,Y,2,0,"th",15),y.qZA()),2&tt){const Qe=y.oxw();y.xp6(1),y.Q6J("ngIf","commutator"===Qe.filterMode),y.xp6(1),y.Q6J("ngIf","login"!==Qe.filterMode),y.xp6(1),y.Q6J("ngIf","login"===Qe.filterMode),y.xp6(21),y.Q6J("ngIf",Qe.ping)}}function Ae(tt,de){if(1&tt&&(y.ynx(0),y.TgZ(1,"td")(2,"span"),y._uU(3),y.qZA()(),y.BQk()),2&tt){const Qe=y.oxw().$implicit;y.xp6(3),y.Oqu(Qe.portList)}}function Ke(tt,de){if(1&tt&&y._UZ(0,"app-colored-tag",41),2&tt){const Qe=de.ngIf;y.Q6J("caption",Qe.statusName)("color",Qe.statusColor)}}function be(tt,de){1&tt&&y.GkF(0)}const Ge=function(){return{width:"65px"}};function ee(tt,de){if(1&tt&&(y.ynx(0),y.YNc(1,be,1,0,"ng-container",42),y.BQk()),2&tt){y.oxw(4);const Qe=y.MAs(15);y.xp6(1),y.Q6J("ngTemplateOutlet",Qe)("ngTemplateOutletContext",y.DdM(2,Ge))}}function xe(tt,de){if(1&tt&&(y.ynx(0),y.YNc(1,Ke,1,2,"app-colored-tag",40),y.YNc(2,ee,2,3,"ng-container",15),y.BQk()),2&tt){const Qe=y.oxw(2).$implicit,ze=y.oxw();y.xp6(1),y.Q6J("ngIf",ze.bindingsUserBriefs[Qe.authName]),y.xp6(1),y.Q6J("ngIf",!ze.bindingsUserBriefs[Qe.authName])}}const we=function(tt){return["/clients","billing","user",tt]};function Pe(tt,de){if(1&tt&&(y.TgZ(0,"span",43),y._uU(1),y.qZA()),2&tt){const Qe=y.oxw(2).$implicit;y.Q6J("routerLink",y.VKq(2,we,Qe.authName)),y.xp6(1),y.hij(" ",Qe.authName," ")}}function dt(tt,de){if(1&tt&&(y.ynx(0),y.TgZ(1,"td"),y.YNc(2,xe,3,2,"ng-container",36),y.qZA(),y.TgZ(3,"td",38),y.NdJ("click",function(ze){return ze.stopPropagation()}),y.YNc(4,Pe,2,4,"span",39),y.qZA(),y.BQk()),2&tt){const Qe=y.oxw().$implicit;y.oxw();const ze=y.MAs(17);y.xp6(2),y.Q6J("ngIf",Qe.authName)("ngIfElse",ze),y.xp6(2),y.Q6J("ngIf",Qe.authName)("ngIfElse",ze)}}function bt(tt,de){1&tt&&(y.TgZ(0,"span",44),y._uU(1,"\u041e\u043d\u043b\u0430\u0439\u043d"),y.qZA())}function it(tt,de){1&tt&&(y.TgZ(0,"span",45),y._uU(1,"\u041e\u0444\u043b\u0430\u0439\u043d"),y.qZA())}function Dt(tt,de){if(1&tt&&(y.ynx(0),y.TgZ(1,"td"),y.YNc(2,bt,2,0,"span",33),y.YNc(3,it,2,0,"span",34),y.qZA(),y.BQk()),2&tt){const Qe=y.oxw().$implicit;y.xp6(2),y.Q6J("ngIf","ONLINE"===Qe.onlineStatus),y.xp6(1),y.Q6J("ngIf","ONLINE"!==Qe.onlineStatus)}}function vt(tt,de){1&tt&&(y.TgZ(0,"span",44),y._uU(1,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),y.qZA())}function Wt(tt,de){1&tt&&(y.TgZ(0,"span",45),y._uU(1,"\u041d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),y.qZA())}function zt(tt,de){if(1&tt&&(y.TgZ(0,"span"),y._uU(1),y.qZA()),2&tt){const Qe=de.ngIf;y.xp6(1),y.hij(" ",Qe.address," ")}}function Ut(tt,de){1&tt&&y.GkF(0)}const ct=function(){return{width:"105px"}};function at(tt,de){if(1&tt&&(y.ynx(0),y.YNc(1,Ut,1,0,"ng-container",42),y.BQk()),2&tt){y.oxw(3);const Qe=y.MAs(15);y.xp6(1),y.Q6J("ngTemplateOutlet",Qe)("ngTemplateOutletContext",y.DdM(2,ct))}}function me(tt,de){if(1&tt&&(y.ynx(0),y.YNc(1,zt,2,1,"span",15),y.YNc(2,at,2,3,"ng-container",15),y.BQk()),2&tt){const Qe=y.oxw().$implicit,ze=y.oxw();y.xp6(1),y.Q6J("ngIf",ze.bindingsUserBriefs[Qe.authName]),y.xp6(1),y.Q6J("ngIf",!ze.bindingsUserBriefs[Qe.authName])}}function De(tt,de){if(1&tt&&(y.TgZ(0,"td"),y._uU(1),y.qZA()),2&tt){const Qe=y.oxw().$implicit;y.xp6(1),y.Oqu(Qe.macaddr)}}function ot(tt,de){if(1&tt&&(y.TgZ(0,"td"),y._UZ(1,"app-binding-connection-location-view",46),y.qZA()),2&tt){const Qe=y.oxw().$implicit;y.xp6(1),y.Q6J("binding",Qe)}}function Ct(tt,de){if(1&tt&&(y.ynx(0),y.TgZ(1,"span",0)(2,"span"),y._uU(3),y.ALo(4,"number"),y.qZA(),y.TgZ(5,"span"),y._uU(6),y.ALo(7,"number"),y.qZA()(),y.BQk()),2&tt){const Qe=de.ngIf;y.xp6(1),y.Q6J("ngClass",Qe.styleClass),y.xp6(2),y.hij(" ",999===Qe.latency?"- ":y.xi3(4,3,Qe.latency,"1.2-2"),"\u043c\u0441 "),y.xp6(3),y.hij(" ",y.xi3(7,6,Qe.loss,"1.2-2"),"% ")}}function Ot(tt,de){1&tt&&y.GkF(0)}const Ft=function(){return{width:"85px"}};function Mt(tt,de){if(1&tt&&(y.ynx(0),y.YNc(1,Ot,1,0,"ng-container",42),y.BQk()),2&tt){y.oxw(4);const Qe=y.MAs(15);y.xp6(1),y.Q6J("ngTemplateOutlet",Qe)("ngTemplateOutletContext",y.DdM(2,Ft))}}function Ye(tt,de){if(1&tt&&(y.ynx(0),y.YNc(1,Ct,8,9,"ng-container",15),y.ALo(2,"async"),y.YNc(3,Mt,2,3,"ng-container",15),y.ALo(4,"async"),y.BQk()),2&tt){const Qe=y.oxw(2).$implicit,ze=y.oxw();y.xp6(1),y.Q6J("ngIf",y.lcZ(2,2,ze.bindingsPings[Qe.ipaddr])),y.xp6(2),y.Q6J("ngIf",!y.lcZ(4,4,ze.bindingsPings[Qe.ipaddr]))}}function st(tt,de){if(1&tt&&(y.TgZ(0,"td"),y.YNc(1,Ye,5,6,"ng-container",36),y.qZA()),2&tt){const Qe=y.oxw().$implicit;y.oxw();const ze=y.MAs(17);y.xp6(1),y.Q6J("ngIf",Qe.ipaddr)("ngIfElse",ze)}}function je(tt,de){if(1&tt){const Qe=y.EpF();y.TgZ(0,"tr",32),y.NdJ("click",function(Et){const qt=y.CHM(Qe).$implicit,gn=y.oxw(),Qt=y.MAs(6);return y.KtG(gn.selectBinding(Et,qt,Qt))}),y.YNc(1,Ae,4,1,"ng-container",15),y.YNc(2,dt,5,4,"ng-container",15),y.YNc(3,Dt,4,2,"ng-container",15),y.TgZ(4,"td"),y.YNc(5,vt,2,0,"span",33),y.YNc(6,Wt,2,0,"span",34),y.qZA(),y.TgZ(7,"td"),y._UZ(8,"app-time-elapsed",35),y.qZA(),y.TgZ(9,"td"),y.YNc(10,me,3,2,"ng-container",36),y.qZA(),y.TgZ(11,"td"),y._uU(12),y.qZA(),y.YNc(13,De,2,1,"td",15),y.YNc(14,ot,2,1,"td",15),y.TgZ(15,"td"),y._uU(16),y.qZA(),y.TgZ(17,"td")(18,"div",37),y._uU(19),y.qZA()(),y.YNc(20,st,2,2,"td",15),y.qZA()}if(2&tt){const Qe=de.$implicit,ze=y.oxw(),Et=y.MAs(17);y.xp6(1),y.Q6J("ngIf","commutator"===ze.filterMode),y.xp6(1),y.Q6J("ngIf","login"!==ze.filterMode),y.xp6(1),y.Q6J("ngIf","login"===ze.filterMode),y.xp6(2),y.Q6J("ngIf",Qe.isAuth),y.xp6(1),y.Q6J("ngIf",!Qe.isAuth),y.xp6(2),y.Q6J("startTime",Qe.leaseStart),y.xp6(2),y.Q6J("ngIf",Qe.authName)("ngIfElse",Et),y.xp6(2),y.Oqu(Qe.ipaddr),y.xp6(1),y.Q6J("ngIf","commutator"===ze.filterMode),y.xp6(1),y.Q6J("ngIf","commutator"!==ze.filterMode),y.xp6(2),y.Oqu(Qe.vlanid),y.xp6(3),y.hij(" ",Qe.dhcpHostname," "),y.xp6(1),y.Q6J("ngIf",ze.ping)}}function It(tt,de){if(1&tt){const Qe=y.EpF();y.TgZ(0,"p-button",47),y.NdJ("onClick",function(){y.CHM(Qe);const Et=y.oxw();return y.KtG(Et.bindingsUpdator$.next(!0))}),y.qZA()}if(2&tt){const Qe=y.oxw();y.Q6J("disabled",Qe.bindingsLoadingState!==Qe.LoadingState.READY)}}function se(tt,de){1&tt&&y._UZ(0,"p-skeleton",48),2&tt&&y.Q6J("width",de.width)}function Fe(tt,de){1&tt&&(y.TgZ(0,"span",49),y._uU(1," - "),y.qZA())}const he=function(tt){return{"flex flex-grow-1 overflow-hidden border-round border-1 border-bluegray-100":tt}},gt=function(){return[]},cn=function(tt){return{field:"leaseStart",order:tt}},Tn=function(tt){return[tt]},en=function(){return[10,25,50,100]};let _t=class{constructor(de,Qe,ze,Et){this.api=de,this.rt=Qe,this.blockService=ze,this.toast=Et,this.LoadingState=F.Gu,this.inline=!1,this.ping=!0,this.filterId$=new u.x,this.filterMode$=new u.x,this.bindingsStatus$=new u.x,this.filterOptionsChanged$=(0,f.a)([this.filterId$.pipe((0,_.h)(Be=>!!Be)),this.filterMode$.pipe((0,_.h)(Be=>!!Be))]).pipe((0,P.b)(1)),this.bindingsLoadingState=F.Gu.LOADING,this.bindingsTableOffset=0,this.bindingsPings={},this.bindingsUserBriefs={},this.bindingContextOptions=[],this.userAuthDialogVisible=!1,this.selectBindingForAuth=null,this.authUserForm=new T.cw({login:new T.NI("",[T.kI.required]),macaddr:new T.NI("",[T.kI.required])}),this.bindingsLazyLoad$=new u.x,this.bindingsUpdator$=new x.X(!0),this.filterData$=(0,f.a)([this.bindingsLazyLoad$,this.bindingsStatus$.pipe((0,a.O)(void 0))]).pipe((0,P.b)(1),(0,R.U)(([{first:Be,rows:qt,multiSortMeta:gn},Qt])=>({page:Be/qt,filter:{size:qt,status:Qt,sort:gn}}))),this.bindingRTUpdate$=this.filterOptionsChanged$.pipe((0,L.w)(([Be,qt])=>this.rt.acpDhcpBindingUpdated().pipe((0,_.h)(gn=>"login"===qt?gn.authName===Be:"vlan"===qt&&gn.vlanid===Number.parseInt(Be)))),(0,a.O)(null)),this.bindings$=(0,f.a)([this.filterOptionsChanged$,this.filterData$,this.bindingsUpdator$,this.bindingRTUpdate$]).pipe((0,V.b)(()=>this.bindingsLoadingState=F.Gu.LOADING),(0,L.w)(([[Be,qt],{page:gn,filter:Qt}])=>"login"===qt?this.api.getBindingsByLogin(Be,gn,Qt):"vlan"===qt?this.api.getBindingsByVlan(Number.parseInt(Be),gn,Qt):"building-by-login"===qt?this.api.getBindingsFromBuildingByLogin(Be,gn,Qt):"commutator"===qt?this.api.getBindingsByCommutator(Be,gn,Qt):this.api.getBindingsByBuildingId(Number.parseInt(Be),gn,Qt)),(0,V.b)({next:Be=>{this.bindingsLoadingState=F.Gu.READY,this.bindingsPings={},this.bindingsUserBriefs={};for(const{ipaddr:qt}of Be.content)qt&&(this.bindingsPings[qt]=this.pingObserver(qt));this.api.getBulkUserBriefInfo(Be.content.filter(qt=>qt.authName).map(qt=>qt.authName)).subscribe(qt=>this.bindingsUserBriefs=qt)},error:()=>this.bindingsLoadingState=F.Gu.ERROR})),this.bindingsPage=null,this.bindingsPageSub=this.bindings$.subscribe(Be=>this.bindingsPage=Be)}ngOnInit(){}selectBinding(de,Qe,ze){const{clientX:Et,clientY:Be}=de,qt=document.createElement("div");qt.className="fixed w-1rem h-1rem pointer-events-none",qt.style.left=Et+"px",qt.style.top=Be+"px",document.body.appendChild(qt),this.bindingContextOptions=[{icon:"mdi-web",label:"\u0423\u0434\u0430\u043b\u0435\u043d\u043a\u0430",disabled:!Qe.ipaddr,command:()=>{this.openWeb(Qe.ipaddr)}},{icon:"mdi-password",label:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c",command:()=>{this.selectBindingForAuth=Qe,this.userAuthDialogVisible=!0,this.authUserForm.reset({login:this.preparedAuthLogin?this.preparedAuthLogin:"",macaddr:Qe.macaddr})}}],ze.show(de),setTimeout(()=>{ze.target=qt,ze.alignOverlay(),document.body.removeChild(qt)})}authUser(){const{login:de,macaddr:Qe}=this.authUserForm.value;!de||!Qe||(this.blockService.wait({message:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"}),this.api.authDhcpBinding(de,Qe).subscribe({next:()=>{this.blockService.unblock(),this.userAuthDialogVisible=!1},error:()=>this.blockService.unblock()}))}openWeb(de){this.blockService.wait({message:"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430"}),this.api.checkRemoteControl(de).subscribe({next:Qe=>{this.blockService.unblock(),Qe.hasAccess&&Qe.webPort?window.open(`http://${de}:${Qe.webPort}`,"_blank"):this.toast.add({detail:"\u041d\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430",severity:"dark",key:"darktoast",icon:"mdi-web",closable:!1})},error:()=>{this.blockService.unblock()}})}pingObserver(de){return this.rt.pingMonitoring(de).pipe((0,R.U)(Qe=>{const ze=100-Qe.reachablePercentage;return{online:Qe.isReachable,latency:Qe.delayAvg,loss:ze,styleClass:ze>0?"text-red-400":"text-green-400"}}))}};_t.\u0275fac=function(de){return new(de||_t)(y.Y36(D.s),y.Y36(k.U),y.Y36(B.A),y.Y36(N.ez))},_t.\u0275cmp=y.Xpm({type:_t,selectors:[["app-bindings-table"]],inputs:{filterId:"filterId",filterMode:"filterMode",bindingsStatus:"bindingsStatus",inline:"inline",preparedAuthLogin:"preparedAuthLogin",ping:"ping"},decls:18,vars:30,consts:[[3,"ngClass"],["styleClass","p-datatable-sm flex-grow-1","dataKey","id","paginatorDropdownAppendTo","body","currentPageReportTemplate","\u041d\u0430\u0439\u0434\u0435\u043d\u043e {totalRecords} \u0441\u0435\u0441\u0441\u0438\u0439","sortMode","multiple",1,"flex-grow-1",3,"value","totalRecords","showCurrentPageReport","multiSortMeta","rowsPerPageOptions","paginator","first","lazy","rows","firstChange","onLazyLoad"],["pTemplate","header"],["pTemplate","body"],["pTemplate","paginatorright"],["appendTo","body",3,"popup","model"],["bindingContextPanel",""],["header","\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0434 \u043b\u043e\u0433\u0438\u043d\u043e\u043c","appendTo","body","contentStyleClass","flex flex-column gap-3",3,"visible","modal","draggable","dismissableMask","visibleChange"],["userAuthDialog",""],[1,"font-bold","text-bluegray-500"],[1,"flex","gap-3",3,"formGroup"],["pInputText","","placeholder","\u041b\u043e\u0433\u0438\u043d \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438","formControlName","login",1,"flex-grow-1",3,"autofocus"],["pButton","","type","button","label","\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c",1,"p-button-success",3,"disabled","click"],["loadingCellTemplate",""],["emptyCellTemplate",""],[4,"ngIf"],["pSortableColumn","authExpire"],["field","authExpire"],["pSortableColumn","leaseStart"],["field","leaseStart"],["pSortableColumn","ipaddr"],["field","ipaddr"],["pSortableColumn","macaddr"],["field","macaddr"],["pSortableColumn","vlanid"],["field","vlanid"],["pSortableColumn","dhcpHostname"],["field","dhcpHostname"],["pSortableColumn","ports"],["field","ports"],["pSortableColumn","authName"],["field","authName"],[1,"cursor-pointer","hover:bg-bluegray-50",3,"click"],["class","font-bold text-green-400",4,"ngIf"],["class","font-bold text-gray-400",4,"ngIf"],["type","short",3,"startTime"],[4,"ngIf","ngIfElse"],["appTicker","",1,"max-w-10rem","white-space-nowrap","overflow-hidden"],[1,"font-bold","text-primary","hover:text-primary-700","cursor-pointer",3,"click"],[3,"routerLink",4,"ngIf","ngIfElse"],[3,"caption","color",4,"ngIf"],[3,"caption","color"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"routerLink"],[1,"font-bold","text-green-400"],[1,"font-bold","text-gray-400"],[3,"binding"],["type","button","icon","mdi-update","label","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c","styleClass","p-button-text",3,"disabled","onClick"],[3,"width"],[1,"text-bluegray-300","text-xl","font-bold"]],template:function(de,Qe){if(1&de&&(y.TgZ(0,"div",0)(1,"p-table",1),y.NdJ("firstChange",function(Et){return Qe.bindingsTableOffset=Et})("onLazyLoad",function(Et){return Qe.bindingsLazyLoad$.next(Et)}),y.YNc(2,Te,25,4,"ng-template",2),y.YNc(3,je,21,14,"ng-template",3),y.YNc(4,It,1,1,"ng-template",4),y.qZA()(),y._UZ(5,"p-menu",5,6),y.TgZ(7,"p-dialog",7,8),y.NdJ("visibleChange",function(Et){return Qe.userAuthDialogVisible=Et}),y.TgZ(9,"span",9),y._uU(10),y.qZA(),y.TgZ(11,"div",10),y._UZ(12,"input",11),y.TgZ(13,"button",12),y.NdJ("click",function(){return Qe.authUser()}),y.qZA()()(),y.YNc(14,se,1,1,"ng-template",null,13,y.W1O),y.YNc(16,Fe,2,0,"ng-template",null,14,y.W1O)),2&de){let ze,Et;y.Q6J("ngClass",y.VKq(22,he,!Qe.inline)),y.xp6(1),y.Q6J("value",null!==(ze=null==Qe.bindingsPage?null:Qe.bindingsPage.content)&&void 0!==ze?ze:y.DdM(24,gt))("totalRecords",null!==(Et=null==Qe.bindingsPage?null:Qe.bindingsPage.totalElements)&&void 0!==Et?Et:0)("showCurrentPageReport",!0)("multiSortMeta",y.VKq(27,Tn,y.VKq(25,cn,-1)))("rowsPerPageOptions",y.DdM(29,en))("paginator",!0)("first",Qe.bindingsTableOffset)("lazy",!0)("rows",10),y.xp6(4),y.Q6J("popup",!0)("model",Qe.bindingContextOptions),y.xp6(2),y.Q6J("visible",Qe.userAuthDialogVisible)("modal",!0)("draggable",!0)("dismissableMask",!0),y.xp6(3),y.lnq("\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 ",null==Qe.selectBindingForAuth?null:Qe.selectBindingForAuth.dhcpHostname," ",null==Qe.selectBindingForAuth?null:Qe.selectBindingForAuth.ipaddr," ",null==Qe.selectBindingForAuth?null:Qe.selectBindingForAuth.macaddr,""),y.xp6(1),y.Q6J("formGroup",Qe.authUserForm),y.xp6(1),y.Q6J("autofocus",!0),y.xp6(1),y.Q6J("disabled",Qe.authUserForm.invalid)}},dependencies:[ce.mk,ce.O5,ce.tP,$.v2,z.rH,S.Hq,S.zx,T.Fj,T.JJ,T.JL,N.jx,O.V,K.o,ue.O,T.sg,T.u,q.iA,q.lQ,q.fz,G.C,j.j,fe.x,ne.O,ce.Ov,ce.JJ]}),(0,e.gn)([(0,d.bQ)("filterId")],_t.prototype,"filterId$",void 0),(0,e.gn)([(0,d.bQ)("filterMode")],_t.prototype,"filterMode$",void 0),(0,e.gn)([(0,d.bQ)("bindingsStatus")],_t.prototype,"bindingsStatus$",void 0),_t=(0,e.gn)([(0,d.kG)()],_t)},9706:(hn,ht,b)=>{"use strict";b.d(ht,{J:()=>ne});var e=b(4004),d=b(2382),u=b(5e3),f=b(8028),_=b(3470),P=b(8738),x=b(9744),a=b(9808),R=b(1874),L=b(845),V=b(4036),F=b(9783),T=b(5315),y=b(85),D=b(3877),k=b(5072),B=b(3460);const N=["menu"];function ce(J,X){1&J&&u.GkF(0)}function $(J,X){if(1&J){const W=u.EpF();u.ynx(0),u.TgZ(1,"p-button",26),u.NdJ("onClick",function(Te){u.CHM(W),u.oxw(2);const Ae=u.MAs(19);return u.KtG(Ae.toggle(Te))}),u.qZA(),u.YNc(2,ce,1,0,"ng-container",27),u.BQk()}if(2&J){const W=u.oxw(2),Y=u.MAs(23),Te=u.MAs(21);u.xp6(2),u.Q6J("ngIf",W.notifyService.isHasUnread)("ngIfThen",Y)("ngIfElse",Te)}}function z(J,X){if(1&J&&(u.ynx(0),u._UZ(1,"app-avatar",21),u.TgZ(2,"div",22)(3,"span",23),u._uU(4),u.qZA(),u.TgZ(5,"span",24),u._uU(6),u.qZA()(),u.YNc(7,$,3,3,"ng-container",25),u.BQk()),2&J){const W=X.ngIf;u.oxw();const Y=u.MAs(25);u.xp6(1),u.Q6J("name",W.fullName)("size",3)("src",W.avatar),u.xp6(3),u.Oqu(W.fullName),u.xp6(2),u.Oqu(null==W.position?null:W.position.name),u.xp6(1),u.Q6J("ngIf",!W.offsite)("ngIfElse",Y)}}function S(J,X){1&J&&(u.TgZ(0,"div",28),u._UZ(1,"i",29),u.qZA())}function O(J,X){if(1&J&&u._UZ(0,"img",30),2&J){const W=u.oxw();u.Q6J("src",W.croppedImage,u.LSH)}}const K=function(){return[]};function ue(J,X){if(1&J){const W=u.EpF();u._UZ(0,"p-dropdown",31),u.ALo(1,"async"),u.TgZ(2,"p-button",32),u.NdJ("onClick",function(){u.CHM(W);const Te=u.oxw();return u.KtG(Te.bindPhone())}),u.qZA()}if(2&J){const W=u.oxw();let Y;u.Q6J("options",null!==(Y=u.lcZ(1,4,W.phones$))&&void 0!==Y?Y:u.DdM(6,K))("formControl",W.phyPhoneControl)("disabled",W.isPhyPhoneIsBinding),u.xp6(2),u.Q6J("loading",W.isPhyPhoneIsBinding)}}function q(J,X){if(1&J){const W=u.EpF();u.TgZ(0,"p-button",33),u.NdJ("onClick",function(){u.CHM(W);const Te=u.oxw();return u.KtG(Te.notifyService.showSideBar())}),u.qZA()}}function G(J,X){if(1&J){const W=u.EpF();u.TgZ(0,"span",34)(1,"p-button",35),u.NdJ("onClick",function(){u.CHM(W);const Te=u.oxw();return u.KtG(Te.notifyService.showSideBar())}),u.qZA()()}if(2&J){const W=u.oxw();u.Q6J("value",W.notifyService.unreadCount.toString())}}function j(J,X){if(1&J){const W=u.EpF();u.TgZ(0,"p-button",36),u.NdJ("onClick",function(){u.CHM(W);const Te=u.oxw();return u.KtG(Te.exitFromAccount())}),u.qZA()}}const fe=function(){return{maxWidth:"40vw",minWidth:"15rem",height:"fit-content"}};let ne=(()=>{class J{constructor(W,Y,Te,Ae){this.personality=W,this.router=Y,this.api=Te,this.notifyService=Ae,this.avatarChangeDialogVisible=!1,this.phyPhoneSelectionDialogVisible=!1,this.phyPhoneControl=new d.NI(null),this.isPhyPhoneIsBinding=!1,this.controls=[{label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",command:()=>this.avatarChangeDialogVisible=!0},{label:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0435\u043b\u0435\u0444\u043e\u043d",command:()=>this.openPhyPhoneSelectionDialog()},{label:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",command:this.exitFromAccount.bind(this)}],this.imageChangedEvent="",this.croppedImage="",this.avatarUpload=!1,this.phones$=this.api.getPhyPhoneList().pipe((0,e.U)(Ke=>[{label:"\u0411\u0435\u0437 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",value:null},...Ke]))}ngOnInit(){}exitFromAccount(){this.api.signOut().subscribe(()=>{this.router.navigate(["/login"]).then()})}openPhyPhoneSelectionDialog(){var W,Y;this.personality.me&&this.phyPhoneControl.setValue(null!==(Y=null===(W=this.personality.me.phyPhoneInfo)||void 0===W?void 0:W.phyPhoneInfoId)&&void 0!==Y?Y:null),this.phyPhoneSelectionDialogVisible=!0}imageCropped(W){this.croppedImage=W.base64}imageLoaded(W){}cropperReady(){}loadImageFailed(){}saveAvatar(){!this.croppedImage||(this.avatarUpload=!0,this.api.setAvatar(this.croppedImage).subscribe({next:()=>{this.avatarUpload=!1,this.avatarChangeDialogVisible=!1,this.imageChangedEvent=void 0},error:()=>{this.avatarUpload=!1}}))}selectFile(W){W.click()}bindPhone(){this.isPhyPhoneIsBinding=!0,this.api.setPhyPhoneBind(this.phyPhoneControl.value).subscribe({next:()=>{this.isPhyPhoneIsBinding=!1,this.phyPhoneSelectionDialogVisible=!1},error:()=>{this.isPhyPhoneIsBinding=!1}})}ngOnDestroy(){}}return J.\u0275fac=function(W){return new(W||J)(u.Y36(f.F),u.Y36(_.F0),u.Y36(P.s),u.Y36(x.T))},J.\u0275cmp=u.Xpm({type:J,selectors:[["app-account-panel"]],viewQuery:function(W,Y){if(1&W&&u.Gf(N,5),2&W){let Te;u.iGM(Te=u.CRH())&&(Y.accountPanelMenu=Te.first)}},decls:26,vars:31,consts:[[1,"flexed","hcenter","gap5","wrapper"],[4,"ngIf"],["appendTo","body","header","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",3,"visible","draggable","modal","resizable","dismissableMask","visibleChange"],[1,"avatar-change-content"],[1,"flexed","gap10","p5","hcenter","vcenter"],[1,"preview-wrapper"],["class","preview unselect",4,"ngIf"],["class","preview","alt","",3,"src",4,"ngIf"],[1,"flexed","column","gap5"],["label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","icon","mdi-image","styleClass","p-button-text p-button-secondary",3,"disabled","onClick"],["label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","icon","mdi-upload",3,"loading","disabled","onClick"],["type","file","accept","image/jpeg, image/png, image/jpg, image/bmp",3,"change"],["fileInput",""],["format","png",3,"aspectRatio","cropperMinWidth","cropperMinHeight","imageChangedEvent","maintainAspectRatio","cropperReady","imageCropped","imageLoaded","loadImageFailed"],["appendTo","body","header","\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c \u0442\u0435\u043b\u0435\u0444\u043e\u043d","contentStyleClass","flex gap-3 align-items-center pt-1",3,"visible","draggable","modal","resizable","dismissableMask","visibleChange"],["pTemplate","content"],["appendTo","body","appCloseIfScroll","",3,"model","popup","baseZIndex","isVisible","alignFn"],["menu",""],["emptyNoti",""],["fullNoti",""],["logoutButtonTemp",""],[3,"name","size","src"],[1,"flexed","column","account"],[1,"account-name"],[1,"account-position"],[4,"ngIf","ngIfElse"],["icon","mdi-more_vert","styleClass","p-button-text p-button-icon p-button-rounded",3,"onClick"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"preview","unselect"],[1,"mdi-image"],["alt","",1,"preview",3,"src"],["appendTo","body",3,"options","formControl","disabled"],["label","\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c",3,"loading","onClick"],["icon","mdi-notifications_none","styleClass","p-button-text p-button-icon p-button-rounded",3,"onClick"],["pBadge","","severity","warning",3,"value"],["icon","mdi-notifications_active","styleClass","p-button-text p-button-icon p-button-rounded",3,"onClick"],["label","\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430","icon","mdi-logout","styleClass","p-button-text p-button-secondary",3,"onClick"]],template:function(W,Y){if(1&W){const Te=u.EpF();u.TgZ(0,"div",0),u.YNc(1,z,8,7,"ng-container",1),u.qZA(),u.TgZ(2,"p-dialog",2),u.NdJ("visibleChange",function(Ke){return Y.avatarChangeDialogVisible=Ke}),u.TgZ(3,"div",3)(4,"div",4)(5,"div",5),u.YNc(6,S,2,0,"div",6),u.YNc(7,O,1,1,"img",7),u.TgZ(8,"span"),u._uU(9," \u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 "),u.qZA()(),u.TgZ(10,"div",8)(11,"p-button",9),u.NdJ("onClick",function(){u.CHM(Te);const Ke=u.MAs(14);return u.KtG(Y.selectFile(Ke))}),u.qZA(),u.TgZ(12,"p-button",10),u.NdJ("onClick",function(){return Y.saveAvatar()}),u.qZA()(),u.TgZ(13,"input",11,12),u.NdJ("change",function(Ke){return Y.imageChangedEvent=Ke}),u.qZA()(),u.TgZ(15,"image-cropper",13),u.NdJ("cropperReady",function(){return Y.cropperReady()})("imageCropped",function(Ke){return Y.imageCropped(Ke)})("imageLoaded",function(Ke){return Y.imageLoaded(Ke)})("loadImageFailed",function(){return Y.loadImageFailed()}),u.qZA()()(),u.TgZ(16,"p-dialog",14),u.NdJ("visibleChange",function(Ke){return Y.phyPhoneSelectionDialogVisible=Ke}),u.YNc(17,ue,3,7,"ng-template",15),u.qZA(),u._UZ(18,"p-menu",16,17),u.YNc(20,q,1,0,"ng-template",null,18,u.W1O),u.YNc(22,G,2,1,"ng-template",null,19,u.W1O),u.YNc(24,j,1,0,"ng-template",null,20,u.W1O)}if(2&W){const Te=u.MAs(19);u.xp6(1),u.Q6J("ngIf",Y.personality.me),u.xp6(1),u.Q6J("visible",Y.avatarChangeDialogVisible)("draggable",!1)("modal",!0)("resizable",!1)("dismissableMask",!0),u.xp6(4),u.Q6J("ngIf",!Y.croppedImage),u.xp6(1),u.Q6J("ngIf",Y.croppedImage),u.xp6(4),u.Q6J("disabled",Y.avatarUpload),u.xp6(1),u.Q6J("loading",Y.avatarUpload)("disabled",!Y.croppedImage),u.xp6(1),u.Udp("display","none"),u.xp6(2),u.Akn(u.DdM(30,fe)),u.Q6J("aspectRatio",1)("cropperMinWidth",64)("cropperMinHeight",64)("imageChangedEvent",Y.imageChangedEvent)("maintainAspectRatio",!0),u.xp6(1),u.Q6J("visible",Y.phyPhoneSelectionDialogVisible)("draggable",!0)("modal",!0)("resizable",!1)("dismissableMask",!0),u.xp6(2),u.Q6J("model",Y.controls)("popup",!0)("baseZIndex",2e3)("isVisible",Te.visible)("alignFn",Te.alignOverlay.bind(Te))}},dependencies:[a.O5,R.v2,L.zx,d.JJ,V.Lt,F.jx,T.V,y.lM,D.ap,d.oH,k.A,B.j,a.Ov],styles:[".avatar-change-content[_ngcontent-%COMP%]{display:grid;grid:min-content 1fr/1fr}.avatar-change-content[_ngcontent-%COMP%]   .avatar-change-buttons[_ngcontent-%COMP%]{display:grid;gap:1rem}.avatar-change-content[_ngcontent-%COMP%]   .avatar-change-buttons[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.preview-wrapper[_ngcontent-%COMP%]{display:grid;gap:.5rem;background-color:var(--bgc-100);border-radius:1rem;color:var(--tc-600);justify-items:center;padding:1rem;font-weight:700}.preview-wrapper[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:6rem;height:6rem;border-radius:50%;object-fit:cover;object-position:center}.preview-wrapper[_ngcontent-%COMP%]   .preview.unselect[_ngcontent-%COMP%]{background-color:var(--bgc-400);border:1px solid var(--bgc-500);color:#fff;font-size:1.5rem;position:relative}.preview-wrapper[_ngcontent-%COMP%]   .preview.unselect[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;transform-origin:center;top:50%;left:50%;transform:translate(-50%,-50%)}.account-name[_ngcontent-%COMP%]{color:var(--tc-700);font-size:1.1rem;white-space:nowrap}.account-position[_ngcontent-%COMP%]{color:var(--tc-500);font-size:.9rem}.cropper-style[_ngcontent-%COMP%]{min-width:20rem;min-height:20rem;max-width:50vw;max-height:50vh;border:1px solid var(--bgc-300);border-radius:.5rem;overflow:hidden}.avatar-preview[_ngcontent-%COMP%]{width:10rem;height:10rem;margin-top:.5rem;overflow:hidden;border-radius:50%;display:grid;grid:1fr/1fr;outline:var(--bgc-300) solid 2px;outline-offset:1px}.avatar-preview[_ngcontent-%COMP%] > .ph[_ngcontent-%COMP%]{background-color:var(--bgc-500);color:#fff;font-weight:500}.avatar-preview[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-area:1/1/2/2;width:inherit;height:inherit}.avatar-preview-image[_ngcontent-%COMP%]{width:inherit;height:inherit;z-index:1}.noti[_ngcontent-%COMP%]{margin:0}"]}),J})()},9138:(hn,ht,b)=>{"use strict";b.d(ht,{N:()=>T});var e=b(5e3),d=b(2382),u=b(7579),f=b(8372),_=b(3900),P=b(599),x=b(4782),a=b(383),R=b(8738),L=b(2145),V=b(9808);const F=function(){return[]};let T=(()=>{class y{constructor(k){this.api=k,this.control=new d.NI(null),this.queryInput=new u.x,this.suggestions$=this.queryInput.pipe((0,f.b)(500),(0,_.w)(B=>this.api.getBuildings(B)),(0,P.r)(),(0,x.d)(1)),this.subscriptions=new a.xf,this.onChange=B=>{},this.onTouched=()=>{}}ngOnInit(){this.subscriptions.addSubscription("chng",this.control.valueChanges.subscribe(k=>{this.onChange(k)}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(k){this.onChange=k}registerOnTouched(k){this.onTouched=k}setDisabledState(k){k?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}writeValue(k){this.control.patchValue(k)}}return y.\u0275fac=function(k){return new(k||y)(e.Y36(R.s))},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-acp-house-input"]],features:[e._Bn([{provide:d.JU,useExisting:(0,e.Gpc)(()=>y),multi:!0}])],decls:2,vars:9,consts:[["emptyMessage","\u0410\u0434\u0440\u0435\u0441\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b","field","fullName","placeholder","\u0410\u0434\u0440\u0435\u0441...","appendTo","body",3,"formControl","showClear","showEmptyMessage","suggestions","forceSelection","completeOnFocus","onClear","onBlur","completeMethod"]],template:function(k,B){if(1&k&&(e.TgZ(0,"p-autoComplete",0),e.NdJ("onClear",function(){return B.control.patchValue(null)})("onBlur",function(){return B.onTouched()})("completeMethod",function(ce){return B.queryInput.next(ce.query)}),e.ALo(1,"async"),e.qZA()),2&k){let N;e.Q6J("formControl",B.control)("showClear",!0)("showEmptyMessage",!0)("suggestions",null!==(N=e.lcZ(1,6,B.suggestions$))&&void 0!==N?N:e.DdM(8,F))("forceSelection",!0)("completeOnFocus",!0)}},dependencies:[d.JJ,d.oH,L.Qc,V.Ov]}),y})()},1179:(hn,ht,b)=>{"use strict";b.d(ht,{r:()=>ue});var e=b(7579),d=b(8372),u=b(3900),f=b(4782),_=b(2529),P=b(9841),x=b(4004),a=b(4464),R=b(590),L=b(2382),V=b(5e3),F=b(8738),T=b(9808),y=b(845),D=b(8050),k=b(7010),B=b(5315),N=b(2537),ce=b(2145),$=b(242),z=b(9138);const S=["houseControl"],O=function(){return[]};function K(q,G){if(1&q){const j=V.EpF();V.TgZ(0,"p-autoComplete",19,20),V.NdJ("ngModelChange",function(ne){V.CHM(j);const J=V.oxw();return V.KtG(J.selectedAddress=ne)})("ngModelChange",function(ne){V.CHM(j);const J=V.oxw();return V.KtG(J.onChange(ne))})("completeMethod",function(ne){V.CHM(j);const J=V.oxw();return V.KtG(J.addressSearch(ne.query))}),V.ALo(2,"async"),V.qZA()}if(2&q){const j=V.oxw();let fe;V.Q6J("ngClass",j.inputClasses)("ngModel",j.selectedAddress)("suggestions",null!==(fe=V.lcZ(2,7,j.addressSuggestions$))&&void 0!==fe?fe:V.DdM(9,O))("showClear",!0)("size",16)("forceSelection",!0)("autoHighlight",!0)}}let ue=(()=>{class q{constructor(j){this.api=j,this.isAcpConnected=null,this.isHouseOnly=!1,this.inputClasses={},this.searchStreetSubject=new e.x,this.searchStreetChange$=this.searchStreetSubject.pipe((0,d.b)(500)),this.streetSuggestions$=this.searchStreetChange$.pipe((0,u.w)(fe=>this.api.getStreetSuggestions(fe))),this.selectedStreet=null,this.searchAddressSubject=new e.x,this.searchAddressChange$=this.searchAddressSubject.pipe((0,d.b)(500),(0,f.d)(1)),this.addressSuggestions$=this.searchAddressChange$.pipe((0,_.o)(()=>!!this.selectedStreet),(0,u.w)(fe=>this.api.getAddressSuggestionsAlt(this.selectedStreet.streetId,fe,this.isAcpConnected,this.isHouseOnly))),this.isEmptyAddressSuggestions$=(0,P.a)([this.addressSuggestions$,this.searchAddressChange$]).pipe((0,x.U)(([fe,ne])=>0===fe.length&&ne.length>0&&!this.selectedAddress)),this.selectedAddress=null,this.isDisabled=!1,this.createHouseVisible=!1,this.isHouseCreating=!1,this.createHouseForm=new L.cw({houseNum:new L.NI(null,[L.kI.required,L.kI.min(1),L.kI.max(999999)]),letter:new L.NI(null,[L.kI.maxLength(1)]),fraction:new L.NI(null,[L.kI.min(1),L.kI.max(999)]),build:new L.NI(null,[L.kI.min(1),L.kI.max(99)]),isApartmentHouse:new L.NI(!1),acpHouseBind:new L.NI(null)}),this.onChange=fe=>{},this.onTouched=()=>{},this.createHouseResponseHandler={next:fe=>{this.createHouseVisible=!1,this.isHouseCreating=!1,this.searchAddressSubject.next(""),this.selectedAddress=fe},error:()=>{this.isHouseCreating=!1}}}writeValue(j){if(j&&"city"in j&&"street"in j&&"houseNum"in j)return this.selectedAddress=j,void(this.selectedStreet={streetId:j.street.streetId,name:j.streetNamePart,cityId:j.city.cityId});this.selectedStreet=null,this.selectedAddress=null}registerOnChange(j){this.onChange=j}registerOnTouched(j){this.onTouched=j}setDisabledState(j){this.isDisabled=j}ngOnInit(){}streetSearch(j){this.searchStreetSubject.next(j)}addressSearch(j){this.searchAddressSubject.next(j)}streetChange(){this.selectedAddress=null,this.onChange(null)}focusHouseControl(){return new Promise(j=>{setTimeout(()=>{this.houseControl.focusInput(),j(this.houseControl)})})}showCreateHouseDialog(){const j=new RegExp("^(?<houseNum>\\d{1,6})(\\/(?<fraction>\\d{1,3}))?(?<letter>[\u0430-\u044f]{1})?((_| \u0441\u0442?\u0440?\\.?)(?<build>\\d{1,2}))?");(0,a.n)(this.searchAddressChange$.pipe((0,R.P)())).then(fe=>{var ne,J;const X=null===(ne=j.exec(fe))||void 0===ne?void 0:ne.groups;this.createHouseForm.setValue(X?{houseNum:X.houseNum?parseInt(X.houseNum):null,letter:null!==(J=X.letter)&&void 0!==J?J:null,fraction:X.fraction?parseInt(X.fraction):null,build:X.build?parseInt(X.build):null,isApartmentHouse:!1,acpHouseBind:null}:{houseNum:null,letter:null,fraction:null,build:null,isApartmentHouse:!1,acpHouseBind:null})}).catch(()=>{this.createHouseForm.setValue({houseNum:null,letter:null,fraction:null,build:null,isApartmentHouse:!1,acpHouseBind:null})}),this.createHouseVisible=!0}createHouse(){this.selectedStreet&&(this.isHouseCreating=!0,this.api.createHouse(this.selectedStreet.streetId,this.createHouseForm.value).subscribe(this.createHouseResponseHandler))}}return q.\u0275fac=function(j){return new(j||q)(V.Y36(F.s))},q.\u0275cmp=V.Xpm({type:q,selectors:[["app-address-input-alt"]],viewQuery:function(j,fe){if(1&j&&V.Gf(S,5),2&j){let ne;V.iGM(ne=V.CRH())&&(fe.houseControl=ne.first)}},inputs:{isAcpConnected:"isAcpConnected",isHouseOnly:"isHouseOnly",inputClasses:"inputClasses"},features:[V._Bn([{provide:L.JU,useExisting:q,multi:!0}])],decls:37,vars:26,consts:[[1,"flex","align-items-center","gap-1",3,"focusin"],["appendTo","body","placeholder","\u0423\u043b\u0438\u0446\u0430","field","name","emptyMessage","\u0423\u043b\u0438\u0446 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",3,"ngModel","ngClass","suggestions","size","showClear","showEmptyMessage","forceSelection","autoHighlight","ngModelChange","onSelect","completeMethod"],["class","flipleft animation-duration-150","appendTo","body","placeholder","\u0414\u043e\u043c \u041a\u0432.","field","tailPart",3,"ngClass","ngModel","suggestions","showClear","size","forceSelection","autoHighlight","ngModelChange","completeMethod",4,"ngIf"],["appendTo","body",3,"visible"],[1,"bg-white","border-round","flex","flex-column","gap-1","shadow-1","p-3","w-fit"],[1,"text-orange-500","font-bold"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c","styleClass","p-button-success p-button-sm w-full",3,"onClick"],["appendTo","body","header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u043c",3,"modal","resizable","draggable","dismissableMask","visible","visibleChange"],[1,"flex","flex-column","gap-3",3,"formGroup"],[1,"input-label-wrapper"],[1,"caption","size-small","wt-bold","f-color-500"],["formControlName","houseNum"],["formControlName","fraction",3,"min","max"],["formControlName","letter","mask","a","characterPattern","[\u0430-\u044f]"],["formControlName","build",3,"min","max"],["formControlName","isApartmentHouse"],[1,"flex","gap-1","flex-column"],["formControlName","acpHouseBind"],["label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success","icon","mdi-add",1,"align-self-end",3,"disabled","onClick"],["appendTo","body","placeholder","\u0414\u043e\u043c \u041a\u0432.","field","tailPart",1,"flipleft","animation-duration-150",3,"ngClass","ngModel","suggestions","showClear","size","forceSelection","autoHighlight","ngModelChange","completeMethod"],["houseControl",""]],template:function(j,fe){if(1&j&&(V.TgZ(0,"div",0),V.NdJ("focusin",function(){return fe.onTouched()}),V.TgZ(1,"p-autoComplete",1),V.NdJ("ngModelChange",function(J){return fe.selectedStreet=J})("onSelect",function(){return fe.focusHouseControl()})("ngModelChange",function(){return fe.streetChange()})("completeMethod",function(J){return fe.streetSearch(J.query)}),V.ALo(2,"async"),V.qZA(),V.YNc(3,K,3,10,"p-autoComplete",2),V.TgZ(4,"p-overlay",3),V.ALo(5,"async"),V.TgZ(6,"div",4)(7,"span",5),V._uU(8,"\u0414\u043e\u043c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),V.qZA(),V.TgZ(9,"p-button",6),V.NdJ("onClick",function(){return fe.showCreateHouseDialog()}),V.qZA()()()(),V.TgZ(10,"p-dialog",7),V.NdJ("visibleChange",function(J){return fe.createHouseVisible=J}),V.TgZ(11,"div",8)(12,"div",9)(13,"label",10),V._uU(14,"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430"),V.qZA(),V._UZ(15,"p-inputNumber",11),V.qZA(),V.TgZ(16,"div",9)(17,"label",10),V._uU(18,"\u0414\u0440\u043e\u0431\u044c (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),V.qZA(),V._UZ(19,"p-inputNumber",12),V.qZA(),V.TgZ(20,"div",9)(21,"label",10),V._uU(22,"\u041b\u0438\u0442\u0435\u0440\u0430 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),V.qZA(),V._UZ(23,"p-inputMask",13),V.qZA(),V.TgZ(24,"div",9)(25,"label",10),V._uU(26,"\u0421\u0442\u0440\u043e\u0435\u043d\u0438\u0435 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),V.qZA(),V._UZ(27,"p-inputNumber",14),V.qZA(),V.TgZ(28,"div",9)(29,"label",10),V._uU(30,"\u041c\u043d\u043e\u0433\u043e\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u043d\u044b\u0439 \u0434\u043e\u043c?"),V.qZA(),V._UZ(31,"p-inputSwitch",15),V.qZA(),V.TgZ(32,"div",16)(33,"label",10),V._uU(34,"\u041f\u0440\u0438\u0432\u044f\u0437\u043a\u0430 \u043a ACP"),V.qZA(),V._UZ(35,"app-acp-house-input",17),V.qZA(),V.TgZ(36,"p-button",18),V.NdJ("onClick",function(){return fe.createHouse()}),V.qZA()()()),2&j){let ne,J;V.xp6(1),V.Q6J("ngModel",fe.selectedStreet)("ngClass",fe.inputClasses)("suggestions",null!==(ne=V.lcZ(2,21,fe.streetSuggestions$))&&void 0!==ne?ne:V.DdM(25,O))("size",30)("showClear",!0)("showEmptyMessage",!0)("forceSelection",!0)("autoHighlight",!0),V.xp6(2),V.Q6J("ngIf",fe.selectedStreet),V.xp6(1),V.Q6J("visible",null!==(J=V.lcZ(5,23,fe.isEmptyAddressSuggestions$))&&void 0!==J&&J),V.xp6(6),V.Q6J("modal",!0)("resizable",!1)("draggable",!1)("dismissableMask",!0)("visible",fe.createHouseVisible),V.xp6(1),V.Q6J("formGroup",fe.createHouseForm),V.xp6(8),V.Q6J("min",1)("max",999),V.xp6(8),V.Q6J("min",1)("max",99),V.xp6(9),V.Q6J("disabled",!fe.createHouseForm.valid)}},dependencies:[T.mk,T.O5,y.zx,L.JJ,L.JL,L.On,D.aV,k.Rn,B.V,N.vy,L.sg,L.u,ce.Qc,$.Ql,z.N,T.Ov]}),q})()},7092:(hn,ht,b)=>{"use strict";b.d(ht,{_:()=>f});var e=b(5e3),d=b(8738);function u(_,P){1&_&&e._UZ(0,"app-employee-label",1),2&_&&e.Q6J("employee",P.$implicit)("inline",!0)}let f=(()=>{class _{constructor(x){this.api=x,this.workLog={}}set logId(x){this.api.getWorkLog(x,!0).subscribe(a=>{this.workLog=a})}ngOnInit(){}static createElement(x){const a=document.createElement("appointed-installers-element");return a.logId=x,a}}return _.\u0275fac=function(x){return new(x||_)(e.Y36(d.s))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-appointed-installers"]],inputs:{logId:"logId"},decls:1,vars:1,consts:[[3,"employee","inline",4,"ngFor","ngForOf"],[3,"employee","inline"]],template:function(x,a){1&x&&e.YNc(0,u,1,2,"app-employee-label",0),2&x&&e.Q6J("ngForOf",a.workLog.employees)},styles:["[_nghost-%COMP%]{display:inline-flex;flex-wrap:wrap;gap:.5rem}"]}),_})()},7231:(hn,ht,b)=>{"use strict";b.d(ht,{D:()=>D});var e=b(1135),d=b(8372),u=b(383),f=b(5e3),_=b(3064),P=b(9808),x=b(3640),a=b(7514);const R=["overlayPanelEl"];function L(k,B){1&k&&f.GkF(0)}function V(k,B){if(1&k&&(f.TgZ(0,"a",6),f.YNc(1,L,1,0,"ng-container",7),f.qZA()),2&k){const N=f.oxw(),ce=f.MAs(3);f.Q6J("download",N.download())("href",N.url(),f.LSH),f.xp6(1),f.Q6J("ngTemplateOutlet",ce)}}function F(k,B){1&k&&f.GkF(0)}function T(k,B){if(1&k){const N=f.EpF();f.TgZ(0,"div",8),f.NdJ("click",function(){f.CHM(N);const $=f.oxw();return f.KtG($.attachmentOpen())})("mouseenter",function($){f.CHM(N);const z=f.oxw();return f.KtG(z.showPreview($))})("mouseleave",function(){f.CHM(N);const $=f.oxw();return f.KtG($.hidePreview())}),f.YNc(1,F,1,0,"ng-container",7),f.qZA()}if(2&k){f.oxw();const N=f.MAs(3);f.xp6(1),f.Q6J("ngTemplateOutlet",N)}}function y(k,B){if(1&k&&(f.TgZ(0,"span",9),f._uU(1),f.qZA(),f.TgZ(2,"span",10),f._uU(3),f.qZA(),f.TgZ(4,"span",11),f._uU(5),f.qZA()),2&k){const N=f.oxw();let ce;f.Udp("font-size","1.4rem"),f.xp6(1),f.hij(" ",N.attachmentIconName()," "),f.xp6(2),f.hij(" ",null==N.attachment?null:N.attachment.name," "),f.xp6(2),f.hij(" ",((null!==(ce=null==N.attachment?null:N.attachment.size)&&void 0!==ce?ce:0)/1048576).toFixed(2)," \u041c\u0431\u0430\u0439\u0442 ")}}let D=(()=>{class k{constructor(N){this.mediaViewer=N,this.previewVisibleSubject=new e.X(null),this.previewVisible$=this.previewVisibleSubject.pipe((0,d.b)(300)),this.previewLoading=!1,this.subscriptions=new u.xf}get previewSrcUrl(){return this.attachment?"workLogTargetFileId"in this.attachment?"/api/private/work-log/thumbnail/"+this.attachment.workLogTargetFileId:"/api/private/thumbnail/"+this.attachment.name:""}ngOnInit(){this.subscriptions.addSubscription("previewVisible",this.previewVisible$.subscribe(N=>{var ce,$;N?null===($=this.overlayPanelEl)||void 0===$||$.show(N):(this.previewLoading=!1,null===(ce=this.overlayPanelEl)||void 0===ce||ce.hide())}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}attachmentIconName(){var N;switch(null===(N=this.attachment)||void 0===N?void 0:N.type){case"PHOTO":return"image";case"VIDEO":return"movie";case"AUDIO":return"music_note";case"DOCUMENT":return"picture_as_pdf";case"FILE":return"description";default:return"question_mark"}}url(){var N;return"FILE"==(null===(N=this.attachment)||void 0===N?void 0:N.type)?"/api/private/attachment/":""}download(){var N;return"FILE"==(null===(N=this.attachment)||void 0===N?void 0:N.type)?this.attachment.name:""}attachmentOpen(){var N;switch(null===(N=this.attachment)||void 0===N?void 0:N.type){case"PHOTO":case"VIDEO":case"AUDIO":this.mediaViewer.showMedia(this.attachment);break;case"DOCUMENT":window.open("/api/private/attachment/"+this.attachment.name,"_blank")}this.previewLoading=!1}showPreview(N){var ce,$;("PHOTO"===(null===(ce=this.attachment)||void 0===ce?void 0:ce.type)||"VIDEO"===(null===($=this.attachment)||void 0===$?void 0:$.type))&&this.previewVisibleSubject.next(N)}hidePreview(){this.previewVisibleSubject.next(null)}align(N){setTimeout(()=>{N.overlayVisible&&N.align()},100)}}return k.\u0275fac=function(N){return new(N||k)(f.Y36(_.E))},k.\u0275cmp=f.Xpm({type:k,selectors:[["app-attachment-link"]],viewQuery:function(N,ce){if(1&N&&f.Gf(R,5),2&N){let $;f.iGM($=f.CRH())&&(ce.overlayPanelEl=$.first)}},inputs:{attachment:"attachment"},decls:7,vars:3,consts:[["class","attachment-wrapper",3,"download","href",4,"ngIf"],["class","attachment-wrapper",3,"click","mouseenter","mouseleave",4,"ngIf"],["content",""],["appendTo","body","styleClass","overlay-panel-unpadding"],["overlayPanelEl",""],[1,"preview-image",3,"src","load"],[1,"attachment-wrapper",3,"download","href"],[4,"ngTemplateOutlet"],[1,"attachment-wrapper",3,"click","mouseenter","mouseleave"],[1,"material-icons-round"],["appTicker","",1,"max-w-10rem","white-space-nowrap","overflow-hidden"],[1,"caption","size-small","wt-bold","f-color-500"]],template:function(N,ce){if(1&N){const $=f.EpF();f.YNc(0,V,2,3,"a",0),f.YNc(1,T,2,1,"div",1),f.YNc(2,y,6,5,"ng-template",null,2,f.W1O),f.TgZ(4,"p-overlayPanel",3,4)(6,"img",5),f.NdJ("load",function(){f.CHM($);const S=f.MAs(5);return f.KtG(ce.align(S))}),f.qZA()()}2&N&&(f.Q6J("ngIf","FILE"===(null==ce.attachment?null:ce.attachment.type)),f.xp6(1),f.Q6J("ngIf","FILE"!==(null==ce.attachment?null:ce.attachment.type)),f.xp6(5),f.Q6J("src",ce.previewSrcUrl,f.LSH))},dependencies:[P.O5,P.tP,x.T,a.x],styles:[".attachment-wrapper[_ngcontent-%COMP%]{display:flex;gap:.3rem;align-items:center;color:var(--tc-600);font-weight:500;font-size:.9rem;cursor:pointer;transition:color .2s ease-out;text-decoration:none!important;width:max-content}.attachment-wrapper[_ngcontent-%COMP%]:hover{color:var(--tc-800)}.photo-preview-panel[_ngcontent-%COMP%]{position:absolute;display:grid;grid:1fr/1fr;padding:.7rem;border-radius:.5rem;background-color:#fff;box-shadow:0 0 2px #0003,0 4px 8px #0000000d;width:max-content;height:max-content;max-width:21rem;min-width:8rem;min-height:8rem;align-items:center;justify-content:center;z-index:3;overflow:hidden;transform:translate(100%,-50%)}.preview-image[_ngcontent-%COMP%]{border-radius:.4rem;width:100%;height:100%;min-width:5rem;min-height:5rem;max-height:21rem}.preview-loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;grid-area:1/1/2/2;width:100%;height:100%}"]}),k})()},5072:(hn,ht,b)=>{"use strict";b.d(ht,{A:()=>V});var e=b(383),d=b(7384),u=b(5e3),f=b(9808);const _=["wrapperEl"],P=["captionEl"];function x(F,T){1&F&&u._UZ(0,"i",8)}function a(F,T){if(1&F&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&F){const y=u.oxw();u.xp6(1),u.Oqu(y.getInitials())}}function R(F,T){if(1&F){const y=u.EpF();u.TgZ(0,"img",9),u.NdJ("load",function(){u.CHM(y);const k=u.oxw();return u.KtG(k.isLoad=!0)}),u.qZA()}if(2&F){const y=u.oxw();u.Q6J("src","api/private/avatar/"+y.src,u.LSH)}}function L(F,T){if(1&F&&u._UZ(0,"div",10),2&F){const y=u.oxw();u.Akn(y.indicatorStyle)}}let V=(()=>{class F{constructor(){this.size=3.5,this.deleted=!1,this.shape="circle",this.isLoad=!1}get captionStyle(){return{}}get wrapperStyle(){return{borderRadius:"circle"===this.shape?"999px":"25%",width:this.size+"rem",height:this.size+"rem",fontSize:this.size+"rem",background:this.isLoad?"transparent":this.deleted?"var(--bgc-500)":this.colorize()}}get indicatorStyle(){const y={};switch("square"===this.shape&&(y.transform="translate(25%, -25%)"),this.status){case d.LE.ONLINE:y.backgroundColor="#36ff3b";break;case d.LE.AWAY:y.backgroundColor="#ffc107";break;case d.LE.OFFLINE:y.backgroundColor="#d5dde1"}return y}ngOnInit(){}getInitials(){if(this.name){const y=this.name.trim();return(y.charAt(0)+(y.indexOf(" ")>=0?y.charAt(y.indexOf(" ")+1):"")).toUpperCase()}return"?"}colorize(){var y;return e.cQ.stringToGradient(null!==(y=this.name)&&void 0!==y?y:"?")}ngOnChanges(y){this.isLoad=!1}}return F.\u0275fac=function(y){return new(y||F)},F.\u0275cmp=u.Xpm({type:F,selectors:[["app-avatar"]],viewQuery:function(y,D){if(1&y&&(u.Gf(_,5),u.Gf(P,5)),2&y){let k;u.iGM(k=u.CRH())&&(D.wrapperEl=k.first),u.iGM(k=u.CRH())&&(D.captionEl=k.first)}},inputs:{size:"size",deleted:"deleted",src:"src",name:"name",status:"status",shape:"shape"},features:[u.TTD],decls:8,vars:8,consts:[[1,"avatar","select-none"],["wrapperEl",""],[1,"avatar-caption"],["captionEl",""],["class","mdi-person_off",4,"ngIf"],[4,"ngIf"],["alt","avatar","class","avatar-image",3,"src","load",4,"ngIf"],["class","status-indicator",3,"style",4,"ngIf"],[1,"mdi-person_off"],["alt","avatar",1,"avatar-image",3,"src","load"],[1,"status-indicator"]],template:function(y,D){1&y&&(u.TgZ(0,"div",0,1)(2,"div",2,3),u.YNc(4,x,1,0,"i",4),u.YNc(5,a,2,1,"span",5),u.qZA(),u.YNc(6,R,1,1,"img",6),u.YNc(7,L,1,2,"div",7),u.qZA()),2&y&&(u.Akn(D.wrapperStyle),u.xp6(2),u.Akn(D.captionStyle),u.xp6(2),u.Q6J("ngIf",D.deleted),u.xp6(1),u.Q6J("ngIf",!D.deleted),u.xp6(1),u.Q6J("ngIf",null!=D.src),u.xp6(1),u.Q6J("ngIf",D.status))},dependencies:[f.O5],styles:["[_nghost-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content}.avatar[_ngcontent-%COMP%]{position:relative;aspect-ratio:1;border-radius:50%;overflow:hidden}.avatar-caption[_ngcontent-%COMP%]{display:inline-block;position:absolute;top:50%;left:50%;transform:translate(-47%,-47%);transform-origin:center;text-transform:uppercase;color:#fff;font-size:.38em}.avatar-image[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;object-fit:cover;top:0;left:0}.status-indicator[_ngcontent-%COMP%]{width:30%;aspect-ratio:1;border-radius:999px;background-color:#1aff12;box-shadow:0 0 1px 1px #00000040,0 1px 10px #00000020;position:absolute;top:0;right:0}"]}),F})()},446:(hn,ht,b)=>{"use strict";b.d(ht,{r:()=>L});var e=b(5e3),d=b(9808),u=b(845),f=b(9783);function _(V,F){if(1&V&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&V){const T=e.oxw(3);e.xp6(1),e.Oqu(T.icon)}}function P(V,F){if(1&V&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&V){const T=e.oxw(3);e.xp6(1),e.Oqu(T.icon)}}function x(V,F){if(1&V&&(e.TgZ(0,"div",5),e.YNc(1,_,2,1,"span",6),e._uU(2),e.YNc(3,P,2,1,"span",7),e.qZA()),2&V){const T=e.oxw(2);e.xp6(1),e.Q6J("ngIf",T.icon&&"left"===T.iconPos),e.xp6(1),e.hij(" ",T.label," "),e.xp6(1),e.Q6J("ngIf",T.icon&&"right"===T.iconPos)}}function a(V,F){if(1&V&&(e.TgZ(0,"div",10)(1,"div",11),e._UZ(2,"div"),e.qZA()()),2&V){const T=e.oxw(2);e.xp6(2),e.Tol("loading-indicator__spinner "+T.model)}}function R(V,F){if(1&V&&(e.YNc(0,x,4,3,"div",3),e.YNc(1,a,3,2,"div",4)),2&V){const T=e.oxw();e.Q6J("ngIf",!T.loading),e.xp6(1),e.Q6J("ngIf",T.loading)}}let L=(()=>{class V{constructor(){this.disabled=!1,this.iconPos="left",this.onClick=new e.vpe,this.loading=!1}ngOnInit(){}}return V.\u0275fac=function(T){return new(T||V)},V.\u0275cmp=e.Xpm({type:V,selectors:[["app-button"]],inputs:{model:"model",icon:"icon",label:"label",disabled:"disabled",iconPos:"iconPos",loading:"loading"},outputs:{onClick:"onClick"},decls:3,vars:2,consts:[[3,"styleClass","disabled","onClick"],["button",""],["pTemplate","content"],["class","flexed hcenter gap1 button-content",4,"ngIf"],["class","flexed hcenter vcenter",4,"ngIf"],[1,"flexed","hcenter","gap1","button-content"],["class","material-icons-round left",4,"ngIf"],["class","material-icons-round right",4,"ngIf"],[1,"material-icons-round","left"],[1,"material-icons-round","right"],[1,"flexed","hcenter","vcenter"],[1,"loading-indicator"]],template:function(T,y){1&T&&(e.TgZ(0,"p-button",0,1),e.NdJ("onClick",function(k){return!y.loading&&y.onClick.emit(k)}),e.YNc(2,R,2,2,"ng-template",2),e.qZA()),2&T&&e.Q6J("styleClass","button "+y.model)("disabled",y.disabled)},dependencies:[d.O5,u.zx,f.jx],styles:[".button-content[_ngcontent-%COMP%]{font-size:1.1rem;white-space:nowrap}.button-content[_ngcontent-%COMP%] > span.left[_ngcontent-%COMP%]{font-size:1.35rem!important;transform:translate(-.3rem)}.button-content[_ngcontent-%COMP%] > span.right[_ngcontent-%COMP%]{font-size:1.35rem!important;transform:translate(.3rem)}.loading-indicator[_ngcontent-%COMP%]{width:20px;height:20px;display:flex;align-items:center;justify-content:center}.loading-indicator__spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(0,0,0,0);border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite}.loading-indicator__spinner.p-button-text.p-button-primary[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-primary[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-primary[_ngcontent-%COMP%]{border-top-color:var(--mc-500)}.loading-indicator__spinner.p-button-text.p-button-success[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-success[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-success[_ngcontent-%COMP%]{border-top-color:#22c55e}.loading-indicator__spinner.p-button-text.p-button-secondary[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-secondary[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-secondary[_ngcontent-%COMP%]{border-top-color:#64748b}.loading-indicator__spinner.p-button-text.p-button-info[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-info[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-info[_ngcontent-%COMP%]{border-top-color:#3b82f6}.loading-indicator__spinner.p-button-text.p-button-danger[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-danger[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-danger[_ngcontent-%COMP%]{border-top-color:#ef4444}.loading-indicator__spinner.p-button-text.p-button-warning[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-warning[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-warning[_ngcontent-%COMP%]{border-top-color:#f59e0b}.loading-indicator__spinner.p-button-text.p-button-help[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-help[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-help[_ngcontent-%COMP%]{border-top-color:#a855f7}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),V})()},6890:(hn,ht,b)=>{"use strict";b.d(ht,{K:()=>R});var e=b(7384),d=b(5e3),u=b(8738),f=b(9014),_=b(9808);function P(L,V){if(1&L){const F=d.EpF();d.TgZ(0,"span",4),d.NdJ("click",function(){d.CHM(F);const y=d.oxw();return d.KtG(y.openChat())}),d._uU(1),d.qZA()}if(2&L){const F=d.oxw();d.xp6(1),d.Oqu(null==F.chat?null:F.chat.title)}}function x(L,V){1&L&&(d.TgZ(0,"span",5),d._uU(1,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),d.qZA())}function a(L,V){1&L&&(d.TgZ(0,"span",6),d._uU(1,"\u041e\u0448\u0438\u0431\u043a\u0430"),d.qZA())}let R=(()=>{class L{constructor(F,T){this.api=F,this.chatService=T,this.loadingState=e.Gu.LOADING}set chatId(F){this.loadingState=e.Gu.LOADING,this.api.getChat(F).subscribe({next:T=>{this._chat=T,this.loadingState=e.Gu.READY},error:()=>this.loadingState=e.Gu.ERROR})}get chat(){return this._chat}ngOnInit(){}static createElement(F){const T=document.createElement("chat-link-element");return T.chatId=F,T}openChat(){this.chat&&this.chatService.open.emit(this.chat.chatId)}}return L.\u0275fac=function(F){return new(F||L)(d.Y36(u.s),d.Y36(f.a))},L.\u0275cmp=d.Xpm({type:L,selectors:[["app-chat-link"]],inputs:{chatId:"chatId"},decls:4,vars:4,consts:[[3,"ngSwitch"],["class","text-primary cursor-pointer hover:text-primary-600",3,"click",4,"ngSwitchCase"],["class","text-primary",4,"ngSwitchCase"],["class","text-red-400",4,"ngSwitchCase"],[1,"text-primary","cursor-pointer","hover:text-primary-600",3,"click"],[1,"text-primary"],[1,"text-red-400"]],template:function(F,T){1&F&&(d.ynx(0,0),d.YNc(1,P,2,1,"span",1),d.YNc(2,x,2,0,"span",2),d.YNc(3,a,2,0,"span",3),d.BQk()),2&F&&(d.Q6J("ngSwitch",T.loadingState),d.xp6(1),d.Q6J("ngSwitchCase","READY"),d.xp6(1),d.Q6J("ngSwitchCase","LOADING"),d.xp6(1),d.Q6J("ngSwitchCase","ERROR"))},dependencies:[_.RF,_.n9]}),L})()},1828:(hn,ht,b)=>{"use strict";b.d(ht,{C:()=>f});var e=b(383),d=b(5e3);const u=["wrapper"];let f=(()=>{class _{constructor(){}ngAfterViewInit(){this.colorize()}ngOnInit(){}colorize(){!this.wrapper||(this.color?this.wrapper.nativeElement.style.background=this.color:this.captionForColor?this.wrapper.nativeElement.style.background=e.cQ.stringToGradient(this.captionForColor):this.caption&&(this.wrapper.nativeElement.style.background=e.cQ.stringToGradient(this.caption)))}ngOnChanges(x){this.colorize()}}return _.\u0275fac=function(x){return new(x||_)},_.\u0275cmp=d.Xpm({type:_,selectors:[["app-colored-tag"]],viewQuery:function(x,a){if(1&x&&d.Gf(u,5),2&x){let R;d.iGM(R=d.CRH())&&(a.wrapper=R.first)}},inputs:{caption:"caption",captionForColor:"captionForColor",color:"color"},features:[d.TTD],decls:3,vars:1,consts:[[1,"tag"],["wrapper",""]],template:function(x,a){1&x&&(d.TgZ(0,"span",0,1),d._uU(2),d.qZA()),2&x&&(d.xp6(2),d.hij(" ",a.caption,"\n"))},styles:[".tag[_ngcontent-%COMP%]{display:inline-block;color:#fff;text-align:center;min-width:2rem;font-size:.85rem;font-weight:700;padding:.15rem .4rem;border-radius:999px;line-height:normal}"]}),_})()},7805:(hn,ht,b)=>{"use strict";b.d(ht,{y:()=>D});var e=b(5e3),d=b(8738);const u=["preview"];function f(k,B){1&k&&e.GkF(0)}function _(k,B){1&k&&e.GkF(0)}function P(k,B){if(1&k&&(e.ynx(0),e._uU(1),e.BQk()),2&k){const N=e.oxw(2);e.xp6(1),e.hij("$",N._departmentId,"")}}function x(k,B){if(1&k&&(e.TgZ(0,"span",7),e.YNc(1,f,1,0,"ng-container",8),e.YNc(2,_,1,0,"ng-container",8),e.YNc(3,P,2,1,"ng-container",1),e.qZA()),2&k){const N=e.oxw(),ce=e.MAs(5),$=e.MAs(3);e.xp6(1),e.Q6J("ngIf",N.department&&(null==N.department?null:N.department.departmentId))("ngIfThen",ce),e.xp6(1),e.Q6J("ngIf",!(N.department&&null!=N.department&&N.department.departmentId||N.failed))("ngIfThen",$),e.xp6(1),e.Q6J("ngIf",N.failed)}}function a(k,B){if(1&k){const N=e.EpF();e.TgZ(0,"span",11),e.NdJ("mouseenter",function($){e.CHM(N);const z=e.oxw(2);return e.KtG(z.showPreview($))})("mouseleave",function(){e.CHM(N);const $=e.oxw(2);return e.KtG($.hidePreview())}),e._uU(1),e.qZA()}if(2&k){const N=e.oxw(2);e.xp6(1),e.Oqu(N.department.name)}}function R(k,B){if(1&k&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&k){const N=e.oxw(2);e.xp6(1),e.hij(" ",N._departmentId," ")}}function L(k,B){1&k&&e._UZ(0,"p-skeleton",12)}function V(k,B){if(1&k&&(e.ynx(0),e.YNc(1,a,2,1,"span",9),e.YNc(2,R,2,1,"span",1),e.YNc(3,L,1,0,"p-skeleton",10),e.BQk()),2&k){const N=e.oxw();e.xp6(1),e.Q6J("ngIf",N.department&&(null==N.department?null:N.department.name)),e.xp6(1),e.Q6J("ngIf",N.failed),e.xp6(1),e.Q6J("ngIf",!(N.department&&null!=N.department&&N.department.name||N.failed))}}function F(k,B){if(1&k&&e._UZ(0,"p-skeleton",13)(1,"p-skeleton",14),2&k){const N=e.oxw();e.Q6J("shape",N.inline?"square":"circle")}}function T(k,B){if(1&k&&(e._UZ(0,"app-avatar",15),e.TgZ(1,"span",16),e._uU(2),e.qZA()),2&k){const N=e.oxw();e.Q6J("name",null==N.department?null:N.department.name)("size",N.size)("shape",N.inline?"square":"circle"),e.xp6(2),e.hij(" ",null==N.department?null:N.department.name," ")}}function y(k,B){if(1&k&&(e.TgZ(0,"div",17),e._UZ(1,"app-avatar",18),e.TgZ(2,"div",19),e._uU(3),e.qZA(),e.TgZ(4,"div",20),e._uU(5),e.qZA()()),2&k){const N=e.oxw();e.xp6(1),e.Q6J("size",6)("deleted",null==N.department?null:N.department.deleted)("name",null==N.department?null:N.department.name),e.xp6(2),e.hij(" ",null==N.department?null:N.department.name," "),e.xp6(2),e.Oqu(null==N.department?null:N.department.description)}}let D=(()=>{class k{constructor(N){this.api=N,this.department={},this.size=1.7,this.inline=!1,this.failed=!1}set departmentId(N){this._departmentId=N,this.api.getDepartment(N,!0).subscribe({next:ce=>this.department=ce,error:()=>this.failed=!0})}static createElement(N,ce){const $=document.createElement("department-label-element");return $.departmentId=N,$.inline=ce,$}ngOnInit(){}showPreview(N){this.preview&&this.preview.show(N)}hidePreview(){setTimeout(()=>{this.preview&&this.preview.hide()})}}return k.\u0275fac=function(N){return new(N||k)(e.Y36(d.s))},k.\u0275cmp=e.Xpm({type:k,selectors:[["app-department-label"]],viewQuery:function(N,ce){if(1&N&&e.Gf(u,5),2&N){let $;e.iGM($=e.CRH())&&(ce.preview=$.first)}},inputs:{department:"department",size:"size",inline:"inline",departmentId:"departmentId"},decls:9,vars:2,consts:[["class","flexed gap2 one-line hcenter",4,"ngIf"],[4,"ngIf"],["loading",""],["info",""],["appendTo","body","showTransitionOptions","0ms","hideTransitionOptions","0ms"],["preview",""],["pTemplate","content"],[1,"flexed","gap2","one-line","hcenter"],[4,"ngIf","ngIfThen"],["class","like-link",3,"mouseenter","mouseleave",4,"ngIf"],["height",".9rem","width","5rem",4,"ngIf"],[1,"like-link",3,"mouseenter","mouseleave"],["height",".9rem","width","5rem"],["size","1.7rem",3,"shape"],["width","8rem","height",".8rem"],[3,"name","size","shape"],[1,"caption","size-small"],[1,"department-preview"],["shape","square",1,"avatar",3,"size","deleted","name"],[1,"name","caption","size-big"],[1,"description","caption","size-small","f-color-500"]],template:function(N,ce){1&N&&(e.YNc(0,x,4,5,"span",0),e.YNc(1,V,4,3,"ng-container",1),e.YNc(2,F,2,1,"ng-template",null,2,e.W1O),e.YNc(4,T,3,4,"ng-template",null,3,e.W1O),e.TgZ(6,"p-overlayPanel",4,5),e.YNc(8,y,6,5,"ng-template",6),e.qZA()),2&N&&(e.Q6J("ngIf",!ce.inline),e.xp6(1),e.Q6J("ngIf",ce.inline))},styles:['.department-preview[_ngcontent-%COMP%]{display:grid;grid:min-content 1fr/repeat(2,max-content);grid-template-areas:"avatar name" "avatar description";column-gap:1rem}.department-preview[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{grid-area:avatar}.department-preview[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{grid-area:name}.department-preview[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{grid-area:description;max-width:20rem;display:-webkit-box;overflow:hidden;-webkit-line-clamp:3;-webkit-box-orient:vertical}']}),k})()},4304:(hn,ht,b)=>{"use strict";b.d(ht,{h:()=>L});var e=b(5e3),d=b(9808),u=b(2382),f=b(9618),_=b(5651);function P(V,F){if(1&V&&(e.ynx(0),e._uU(1),e.BQk()),2&V){const T=e.oxw();e.xp6(1),e.Oqu(T.caption)}}function x(V,F){if(1&V){const T=e.EpF();e.TgZ(0,"input",5),e.NdJ("blur",function(){e.CHM(T);const D=e.oxw();return e.KtG(D.stopEditing())})("keyup",function(D){e.CHM(T);const k=e.oxw();return e.KtG(k.stopEditing(D))})("ngModelChange",function(D){e.CHM(T);const k=e.oxw();return e.KtG(k.captionChange.emit(D))})("ngModelChange",function(D){e.CHM(T);const k=e.oxw();return e.KtG(k.caption=D)}),e.qZA()}if(2&V){const T=e.oxw();e.Q6J("ngModel",T.caption)("autofocus",!0)}}function a(V,F){if(1&V){const T=e.EpF();e.TgZ(0,"app-icon-button",6),e.NdJ("click",function(){e.CHM(T);const D=e.oxw();return e.KtG(D.editing=!0)}),e.qZA()}2&V&&e.Q6J("size",1.2)}function R(V,F){if(1&V){const T=e.EpF();e.TgZ(0,"app-icon-button",7),e.NdJ("click",function(){e.CHM(T);const D=e.oxw();return e.KtG(D.stopEditing())}),e.qZA()}2&V&&e.Q6J("size",1.2)}let L=(()=>{class V{constructor(){this.editing=!1,this.caption="",this.captionChange=new e.vpe,this.onStopEditing=new e.vpe}ngOnInit(){}stopEditing(T){if(!T)return this.editing=!1,void this.onStopEditing.emit(this.caption);("Enter"===T.key||"Escape"===T.key)&&(this.editing=!1,this.onStopEditing.emit(this.caption))}}return V.\u0275fac=function(T){return new(T||V)},V.\u0275cmp=e.Xpm({type:V,selectors:[["app-editing-caption"]],inputs:{caption:"caption"},outputs:{captionChange:"captionChange",onStopEditing:"onStopEditing"},decls:6,vars:4,consts:[[1,"flexed","hcenter","gap2"],[4,"ngIf"],["class","caption-input","pAutoFocus","","type","text",3,"ngModel","autofocus","blur","keyup","ngModelChange",4,"ngIf"],["icon","edit",3,"size","click",4,"ngIf"],["icon","check",3,"size","click",4,"ngIf"],["pAutoFocus","","type","text",1,"caption-input",3,"ngModel","autofocus","blur","keyup","ngModelChange"],["icon","edit",3,"size","click"],["icon","check",3,"size","click"]],template:function(T,y){1&T&&(e.TgZ(0,"div",0)(1,"span"),e.YNc(2,P,2,1,"ng-container",1),e.YNc(3,x,1,2,"input",2),e.qZA(),e.YNc(4,a,1,1,"app-icon-button",3),e.YNc(5,R,1,1,"app-icon-button",4),e.qZA()),2&T&&(e.xp6(2),e.Q6J("ngIf",!y.editing),e.xp6(1),e.Q6J("ngIf",y.editing),e.xp6(1),e.Q6J("ngIf",!y.editing),e.xp6(1),e.Q6J("ngIf",y.editing))},dependencies:[d.O5,u.Fj,u.JJ,u.On,f.P,_.r],styles:[".caption-input[_ngcontent-%COMP%]{outline:0;border:0}"]}),V})()},1110:(hn,ht,b)=>{"use strict";b.d(ht,{x:()=>S});var e=b(7384),d=b(417),u=b(5e3),f=b(8738),_=b(8007);const P=["preview"];function x(O,K){if(1&O&&u._UZ(0,"app-avatar",11),2&O){const ue=u.oxw(3);let q;u.Q6J("deleted",null==ue._employee?null:ue._employee.deleted)("name",null!==(q=null==ue._employee?null:ue._employee.fullName)&&void 0!==q?q:"")("shape","circle")("size",ue.size)("src",null==ue._employee?null:ue._employee.avatar)("status",null==ue._employee?null:ue._employee.status)}}function a(O,K){if(1&O&&u._UZ(0,"app-avatar",12),2&O){const ue=u.oxw(3);let q;u.Q6J("deleted",null==ue._employee?null:ue._employee.deleted)("name",null!==(q=null==ue._employee?null:ue._employee.fullName)&&void 0!==q?q:"")("shape","circle")("size",ue.size)("src",null==ue._employee?null:ue._employee.avatar)}}function R(O,K){if(1&O&&(u.ynx(0),u.YNc(1,x,1,6,"app-avatar",8),u.YNc(2,a,1,5,"app-avatar",9),u.TgZ(3,"span",10),u._uU(4),u.qZA(),u.BQk()),2&O){const ue=u.oxw(2);u.xp6(1),u.Q6J("ngIf",ue.showStatus),u.xp6(1),u.Q6J("ngIf",!ue.showStatus),u.xp6(2),u.hij(" ",null==ue._employee?null:ue._employee.fullName," ")}}function L(O,K){if(1&O&&(u.ynx(0),u._UZ(1,"p-skeleton",13)(2,"p-skeleton",14),u.BQk()),2&O){const ue=u.oxw(2);u.xp6(1),u.Q6J("shape","circle")("size",ue.size+"rem")}}function V(O,K){1&O&&(u.ynx(0),u.TgZ(1,"span",15),u._uU(2,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),u.qZA(),u.BQk())}function F(O,K){1&O&&u.GkF(0)}function T(O,K){if(1&O&&(u.TgZ(0,"span",5),u.ynx(1,6),u.YNc(2,R,5,3,"ng-container",7),u.YNc(3,L,3,2,"ng-container",7),u.YNc(4,V,3,0,"ng-container",7),u.YNc(5,F,1,0,"ng-container",7),u.BQk(),u.qZA()),2&O){const ue=u.oxw();u.xp6(1),u.Q6J("ngSwitch",ue.loadStatus),u.xp6(1),u.Q6J("ngSwitchCase","ready"),u.xp6(1),u.Q6J("ngSwitchCase","loading"),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","empty")}}function y(O,K){if(1&O){const ue=u.EpF();u.ynx(0),u.TgZ(1,"span",16),u.NdJ("mouseenter",function(G){u.CHM(ue);const j=u.oxw(2);return u.KtG(j.showPreview(G))})("mouseleave",function(){u.CHM(ue);const G=u.oxw(2);return u.KtG(G.hidePreview())}),u._uU(2),u.qZA(),u.BQk()}if(2&O){const ue=u.oxw(2);u.xp6(2),u.Oqu(null==ue._employee?null:ue._employee.fullName)}}function D(O,K){1&O&&(u.ynx(0),u._UZ(1,"p-skeleton",17),u.BQk()),2&O&&(u.xp6(1),u.Udp("display","inline-block"))}function k(O,K){1&O&&(u.ynx(0),u.TgZ(1,"span",15),u._uU(2,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),u.qZA(),u.BQk())}function B(O,K){1&O&&u.GkF(0)}function N(O,K){if(1&O&&(u.ynx(0)(1,6),u.YNc(2,y,3,1,"ng-container",7),u.YNc(3,D,2,2,"ng-container",7),u.YNc(4,k,3,0,"ng-container",7),u.YNc(5,B,1,0,"ng-container",7),u.BQk()()),2&O){const ue=u.oxw();u.xp6(1),u.Q6J("ngSwitch",ue.loadStatus),u.xp6(1),u.Q6J("ngSwitchCase","ready"),u.xp6(1),u.Q6J("ngSwitchCase","loading"),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","empty")}}function ce(O,K){if(1&O&&(u.TgZ(0,"span",26),u._uU(1),u.qZA()),2&O){const ue=u.oxw(2);u.Akn(ue.statusStyle),u.xp6(1),u.Oqu(ue.status)}}function $(O,K){1&O&&(u.TgZ(0,"span",27),u._uU(1,"(\u0443\u0434\u0430\u043b\u0435\u043d)"),u.qZA())}function z(O,K){if(1&O&&(u.TgZ(0,"div",18),u._UZ(1,"app-avatar",19),u.TgZ(2,"div",20),u._uU(3),u.qZA(),u.TgZ(4,"div",21),u.YNc(5,ce,2,3,"span",22),u.YNc(6,$,2,0,"span",23),u.qZA(),u.TgZ(7,"div",24),u._uU(8),u.qZA(),u.TgZ(9,"div",25),u._uU(10),u.qZA()()),2&O){const ue=u.oxw();let q;u.xp6(1),u.Q6J("size",6)("deleted",null==ue._employee?null:ue._employee.deleted)("src",null==ue._employee?null:ue._employee.avatar)("name",null!==(q=null==ue._employee?null:ue._employee.fullName)&&void 0!==q?q:"")("status",null==ue._employee?null:ue._employee.status),u.xp6(2),u.hij(" ",null==ue._employee?null:ue._employee.fullName," "),u.xp6(2),u.Q6J("ngIf",ue.status),u.xp6(1),u.Q6J("ngIf",null==ue._employee?null:ue._employee.deleted),u.xp6(2),u.Oqu(null==ue._employee||null==ue._employee.department?null:ue._employee.department.name),u.xp6(2),u.Oqu(null==ue._employee||null==ue._employee.position?null:ue._employee.position.name)}}let S=(()=>{class O{constructor(ue,q){this.api=ue,this.rt=q,this.size=1.7,this.inline=!1,this.showStatus=!1,this.loadStatus="loading"}get statusStyle(){var ue;const q={};switch(null===(ue=this._employee)||void 0===ue?void 0:ue.status){case e.LE.ONLINE:q.color="#36ff3b";break;case e.LE.AWAY:q.color="#ffc107";break;case e.LE.OFFLINE:q.color="#d5dde1"}return q}get status(){var ue,q;switch(null===(ue=this._employee)||void 0===ue?void 0:ue.status){case e.LE.ONLINE:return"\u0412 \u0441\u0435\u0442\u0438";case e.LE.AWAY:return"\u041e\u0442\u043e\u0448\u0435\u043b";case e.LE.OFFLINE:return(new d.t).transform(null===(q=this._employee)||void 0===q?void 0:q.lastSeen,"\u0411\u044b\u043b(\u0430) \u0432 \u0441\u0435\u0442\u0438 "," \u043d\u0430\u0437\u0430\u0434");default:return""}}static createElement(ue,q){const G=document.createElement("employee-label-element");return G.employee=ue,G.inline=q,G}ngOnInit(){this.loadingEmployee()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}showPreview(ue){this.preview&&this.preview.show(ue)}hidePreview(){setTimeout(()=>{this.preview&&this.preview.hide()})}ngOnChanges(ue){const q=ue.employee;q&&q.currentValue&&this.loadingEmployee()}loadingEmployee(){this.employee?"string"==typeof this.employee?this.api.getEmployee(this.employee,!0).subscribe({next:ue=>{this._employee=ue,this.sub=this.rt.employeeUpdated(this._employee.login).subscribe(q=>{this._employee=q}),this.loadStatus="ready"},error:()=>{this.loadStatus="error"}}):(this._employee=this.employee,this.loadStatus="ready",this.sub=this.rt.employeeUpdated(this._employee.login).subscribe(ue=>{this._employee=ue})):this.loadStatus="empty"}}return O.\u0275fac=function(ue){return new(ue||O)(u.Y36(f.s),u.Y36(_.U))},O.\u0275cmp=u.Xpm({type:O,selectors:[["app-employee-label"]],viewQuery:function(ue,q){if(1&ue&&u.Gf(P,5),2&ue){let G;u.iGM(G=u.CRH())&&(q.preview=G.first)}},inputs:{size:"size",inline:"inline",showStatus:"showStatus",employee:"employee"},features:[u.TTD],decls:5,vars:2,consts:[["class","flexed gap4 hcenter",4,"ngIf"],[4,"ngIf"],["appendTo","body","showTransitionOptions","0ms","hideTransitionOptions","0ms"],["preview",""],["pTemplate","content"],[1,"flexed","gap4","hcenter"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"deleted","name","shape","size","src","status",4,"ngIf"],[3,"deleted","name","shape","size","src",4,"ngIf"],[1,"caption","size-small","one-line"],[3,"deleted","name","shape","size","src","status"],[3,"deleted","name","shape","size","src"],[3,"shape","size"],["height",".8rem","width","8rem"],[1,""],[1,"like-link",3,"mouseenter","mouseleave"],["height",".8rem","width","5rem"],[1,"employee-preview"],["shape","square",1,"avatar",3,"size","deleted","src","name","status"],[1,"name","caption","size-big"],[1,"status"],["class","caption size-small wt-bold f-color-500",3,"style",4,"ngIf"],["class","caption size-small",4,"ngIf"],[1,"department","caption","size-small","f-color-500"],[1,"position","caption","size-small","f-color-500"],[1,"caption","size-small","wt-bold","f-color-500"],[1,"caption","size-small"]],template:function(ue,q){1&ue&&(u.YNc(0,T,6,5,"span",0),u.YNc(1,N,6,5,"ng-container",1),u.TgZ(2,"p-overlayPanel",2,3),u.YNc(4,z,11,10,"ng-template",4),u.qZA()),2&ue&&(u.Q6J("ngIf",!q.inline),u.xp6(1),u.Q6J("ngIf",q.inline))},styles:['.employee-preview[_ngcontent-%COMP%]{display:grid;grid:repeat(3,min-content) 1fr/repeat(2,max-content);grid-template-areas:"avatar name" "avatar status" "avatar department" "avatar position";column-gap:1rem}.employee-preview[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{grid-area:avatar}.employee-preview[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{grid-area:name}.employee-preview[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{grid-area:status}.employee-preview[_ngcontent-%COMP%]   .department[_ngcontent-%COMP%]{grid-area:department}.employee-preview[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{grid-area:position}']}),O})()},6288:(hn,ht,b)=>{"use strict";b.d(ht,{Y:()=>T});var e=b(5e3),d=b(2382),u=b(9783),f=b(9808),_=b(1874),P=b(4119),x=b(845),a=b(85);const R=["fileManager"],L=function(){return{fontSize:".65rem",minWidth:"1.2rem",height:"1.2rem"}};function V(y,D){if(1&y&&e._UZ(0,"p-badge",7),2&y){const k=e.oxw();e.Akn(e.DdM(3,L)),e.Q6J("value",k.filesLoaded.toString())}}let T=(()=>{class y{constructor(k){this.toast=k,this.files=[],this.short=!1,this.filesChange=new e.vpe,this.filesCatching=0,this.filesLoaded=0,this.loading=!1,this.disabled=!1,this.menuItems=[{label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",icon:"mdi-edit",command:this.openFileManager.bind(this)},{label:"\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c",icon:"mdi-highlight_off",command:this.clear.bind(this)}],this.onChange=B=>{},this.onTouched=()=>{}}get hasFiles(){return this.files.length>0}get style(){return this.short?"p-button-text p-button-icon p-button-rounded"+(this.hasFiles?" p-button-info":" p-button-secondary"):"p-button-text"+(this.hasFiles?" p-button-info":" p-button-secondary")}get label(){return this.short?"":"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c"}ngOnInit(){}openFileManager(){this.clear(),this.fileManager.nativeElement.click()}clear(){this.filesCatching=0,this.filesLoaded=0,this.files=[],this.filesChange.emit([]),this.onChange([]),this.fileManager.nativeElement.value=""}catchFiles(k){var B;if(0===k.target.files.length)return;this.loading=!0,this.filesCatching=0,this.filesLoaded=0;const N=Object.values(null!==(B=this.fileManager.nativeElement.files)&&void 0!==B?B:{});this.loadFiles(N)}appendFiles(k){if(!k.clipboardData)return;this.loading=!0,this.filesCatching+=k.clipboardData.files.length;const B=[];for(let N=0;N<k.clipboardData.files.length;N++)B.push(k.clipboardData.files[N]);this.loadFiles(B)}loadFiles(k){this.filesCatching=k.length+this.files.length;for(const B of k){if(B.size>20971520){this.toast.add({severity:"warn",summary:"\u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d \u0440\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430",detail:`\u0424\u0430\u0439\u043b ${B.name} \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c ${(B.size/1048576).toFixed(2)} \u041c\u0431\u0430\u0439\u0442 \u043f\u0440\u0435\u0432\u044b\u0441\u0438\u043b \u043b\u0438\u043c\u0438\u0442 \u0432 ${20..toFixed(2)} \u041c\u0431\u0430\u0439\u0442`}),this.filesCatching--,this.filesLoaded===this.filesCatching&&(this.loading=!1);continue}const N=new FileReader;N.onload=ce=>{var $;const z=null===($=ce.target)||void 0===$?void 0:$.result;z instanceof ArrayBuffer&&(Array.isArray(this.files)||(this.files=[]),this.files.push({name:B.name,modified:B.lastModified,data:Object.values(new Uint8Array(z)),type:B.type}),this.lastFileName=B.name,this.filesLoaded=this.files.length,this.filesChange.emit(this.files),this.onChange(this.files),this.filesLoaded===this.filesCatching&&(this.loading=!1))},N.onerror=ce=>{this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0447\u0442\u0435\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u0430",detail:ce.type}),this.filesCatching--,this.filesLoaded===this.filesCatching&&(this.loading=!1)},N.readAsArrayBuffer(B)}}ngOnDestroy(){}registerOnChange(k){this.onChange=k}registerOnTouched(k){this.onTouched=k}setDisabledState(k){this.disabled=k}writeValue(k){this.files=k,this.filesChange.emit(this.files)}}return y.\u0275fac=function(k){return new(k||y)(e.Y36(u.ez))},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-file-input"]],viewQuery:function(k,B){if(1&k&&e.Gf(R,5),2&k){let N;e.iGM(N=e.CRH())&&(B.fileManager=N.first)}},inputs:{files:"files",short:"short",disabled:"disabled"},outputs:{filesChange:"filesChange"},features:[e._Bn([{provide:d.JU,useExisting:y,multi:!0}])],decls:7,vars:11,consts:[["tooltipPosition","left",1,"button-wrapper",3,"pTooltip","tooltipDisabled"],["icon","mdi-attach_file",3,"disabled","label","styleClass","onClick"],["class","ur-badge",3,"style","value",4,"ngIf"],["appendTo","body",3,"model","popup"],["menu",""],["type","file",3,"multiple","change"],["fileManager",""],[1,"ur-badge",3,"value"]],template:function(k,B){if(1&k){const N=e.EpF();e.TgZ(0,"div",0)(1,"p-button",1),e.NdJ("onClick",function($){e.CHM(N);const z=e.MAs(4);return e.KtG(B.hasFiles?z.toggle($):B.openFileManager())}),e.qZA(),e.YNc(2,V,1,4,"p-badge",2),e._UZ(3,"p-menu",3,4),e.qZA(),e.TgZ(5,"input",5,6),e.NdJ("change",function($){return B.catchFiles($)}),e.qZA()}2&k&&(e.Q6J("pTooltip","\u0424\u0430\u0439\u043b\u043e\u0432 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e "+B.filesLoaded+"/"+B.filesCatching+"\n\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0439: \n"+B.lastFileName)("tooltipDisabled",!B.hasFiles),e.xp6(1),e.Q6J("disabled",B.disabled||B.loading)("label",B.label)("styleClass",B.style),e.xp6(1),e.Q6J("ngIf",B.hasFiles),e.xp6(1),e.Q6J("model",B.menuItems)("popup",!0),e.xp6(2),e.Udp("display","none"),e.Q6J("multiple",!0))},dependencies:[f.O5,_.v2,P.u,x.zx,a.Ct],styles:[".button-wrapper[_ngcontent-%COMP%]{position:relative}"]}),y})()},5651:(hn,ht,b)=>{"use strict";b.d(ht,{r:()=>P});var e=b(5e3),d=b(9808);function u(x,a){if(1&x&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&x){const R=e.oxw();e.Udp("font-size",R.size+"rem"),e.xp6(1),e.Oqu(R.icon)}}function f(x,a){if(1&x&&(e.TgZ(0,"div",4)(1,"div",5),e._UZ(2,"div"),e.qZA()()),2&x){const R=e.oxw();e.xp6(2),e.Tol("loading-indicator__spinner "+R.model)}}const _=function(x){return{disabled:x}};let P=(()=>{class x{constructor(){this.icon="",this.size=1.9,this.disabled=!1,this.onClick=new e.vpe,this.model="primary",this.loading=!1}ngOnInit(){}clickHandler(R){this.disabled||this.onClick.emit(R)}}return x.\u0275fac=function(R){return new(R||x)},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-icon-button"]],inputs:{icon:"icon",size:"size",disabled:"disabled",model:"model",loading:"loading"},outputs:{onClick:"onClick"},decls:3,vars:7,consts:[[3,"ngClass","click"],["class","material-icons-round",3,"font-size",4,"ngIf"],["class","flexed hcenter vcenter",4,"ngIf"],[1,"material-icons-round"],[1,"flexed","hcenter","vcenter"],[1,"loading-indicator"]],template:function(R,L){1&R&&(e.TgZ(0,"div",0),e.NdJ("click",function(F){return L.clickHandler(F)}),e.YNc(1,u,2,3,"span",1),e.YNc(2,f,3,2,"div",2),e.qZA()),2&R&&(e.Tol("button "+L.model),e.Q6J("ngClass",e.VKq(5,_,L.disabled)),e.xp6(1),e.Q6J("ngIf",!L.loading),e.xp6(1),e.Q6J("ngIf",L.loading))},dependencies:[d.mk,d.O5],styles:[".button[_ngcontent-%COMP%]{display:flex;padding:.2rem;-webkit-user-select:none;user-select:none;cursor:pointer;border-radius:.4rem;transition:color .2s ease-out}.button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{line-height:normal!important}.button.primary[_ngcontent-%COMP%]{color:var(--mc-500)}.button.primary[_ngcontent-%COMP%]:hover{color:#2542a4}.button.danger[_ngcontent-%COMP%]{color:#ef4444}.button.danger[_ngcontent-%COMP%]:hover{color:#b73030}.button.success[_ngcontent-%COMP%]{color:#22c55e}.button.success[_ngcontent-%COMP%]:hover{color:#1ba94f}.button.secondary[_ngcontent-%COMP%]{color:#64748b}.button.secondary[_ngcontent-%COMP%]:hover{color:#4d5a6c}.button.info[_ngcontent-%COMP%]{color:#3b82f6}.button.info[_ngcontent-%COMP%]:hover{color:#2c61b7}.button.warning[_ngcontent-%COMP%]{color:#f59e0b}.button.warning[_ngcontent-%COMP%]:hover{color:#c07d09}.button.help[_ngcontent-%COMP%]{color:#a855f7}.button.help[_ngcontent-%COMP%]:hover{color:#7b3db6}.button.light[_ngcontent-%COMP%]{color:var(--tc-100)}.button.light[_ngcontent-%COMP%]:hover{color:var(--tc-300)}.disabled[_ngcontent-%COMP%]{color:var(--bgc-300)!important;cursor:default}.loading-indicator[_ngcontent-%COMP%]{width:20px;height:20px;display:flex;align-items:center;justify-content:center}.loading-indicator__spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(0,0,0,0);border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite}.loading-indicator__spinner.primary[_ngcontent-%COMP%]{border-top-color:var(--mc-500)}.loading-indicator__spinner.success[_ngcontent-%COMP%]{border-top-color:#22c55e}.loading-indicator__spinner.secondary[_ngcontent-%COMP%]{border-top-color:#64748b}.loading-indicator__spinner.info[_ngcontent-%COMP%]{border-top-color:#3b82f6}.loading-indicator__spinner.danger[_ngcontent-%COMP%]{border-top-color:#ef4444}.loading-indicator__spinner.warning[_ngcontent-%COMP%]{border-top-color:#f59e0b}.loading-indicator__spinner.help[_ngcontent-%COMP%]{border-top-color:#a855f7}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),x})()},1560:(hn,ht,b)=>{"use strict";b.d(ht,{_:()=>f});var e=b(5e3),d=b(9808);const u=["*"];let f=(()=>{class _{constructor(){this.label=""}ngOnInit(){}}return _.\u0275fac=function(x){return new(x||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-label"]],inputs:{label:"label",styleClass:"styleClass"},ngContentSelectors:u,decls:4,vars:2,consts:[[1,"input-label-wrapper"],[3,"ngClass"]],template:function(x,a){1&x&&(e.F$t(),e.TgZ(0,"span",0)(1,"label",1),e._uU(2),e.qZA(),e.Hsn(3),e.qZA()),2&x&&(e.xp6(1),e.Q6J("ngClass",a.styleClass),e.xp6(1),e.Oqu(a.label))},dependencies:[d.mk]}),_})()},1004:(hn,ht,b)=>{"use strict";b.d(ht,{a:()=>y});var e=b(5e3),d=b(7579),u=b(8372),f=b(5577),_=b(4004),P=b(2382),x=b(8738),a=b(9808),R=b(9783),L=b(2145);function V(D,k){if(1&D&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&D){const B=k.$implicit;e.xp6(1),e.Oqu(B.label)}}function F(D,k){if(1&D&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&D){const B=k.$implicit;e.xp6(1),e.hij(" ",B.label," ")}}const T=function(){return[]};let y=(()=>{class D{constructor(B){this.api=B,this.control=new P.NI([]),this.connectionServicesSuggestions=new d.x,this.connectionServices$=this.connectionServicesSuggestions.pipe((0,u.b)(500),(0,f.z)(N=>N?this.api.getConnectionServicesSuggestionsList(N):this.api.getConnectionServicesList())),this.isDisabled=!1,this.inputClasses={},this.changeIsDisabled=new e.vpe,this.onBlur=new e.vpe,this.onChange=N=>{},this.onTouched=()=>{}}ngOnInit(){this.changeValueSubscription=this.control.valueChanges.pipe((0,_.U)(B=>B?B.map(N=>({connectionService:N.value})):[])).subscribe(B=>this.onChange(B))}ngOnDestroy(){var B;null===(B=this.changeValueSubscription)||void 0===B||B.unsubscribe()}registerOnChange(B){this.onChange=B}registerOnTouched(B){this.onTouched=B}setDisabledState(B){this.isDisabled=B}writeValue(B){this.api.getConnectionServicesList().pipe((0,_.U)(N=>B?B.map(ce=>N.find($=>$.value===ce.connectionService)).filter(ce=>void 0!==ce):[])).subscribe(N=>{this.control.setValue(N)})}}return D.\u0275fac=function(B){return new(B||D)(e.Y36(x.s))},D.\u0275cmp=e.Xpm({type:D,selectors:[["app-connection-services-input"]],inputs:{isDisabled:"isDisabled",inputClasses:"inputClasses"},outputs:{changeIsDisabled:"changeIsDisabled",onBlur:"onBlur"},features:[e._Bn([{provide:P.JU,useExisting:(0,e.Gpc)(()=>D),multi:!0}])],decls:4,vars:8,consts:[["placeholder","\u0423\u0441\u043b\u0443\u0433\u0438","styleClass","w-full block transparent-ac-token","inputStyleClass","w-5rem","appendTo","body",3,"ngClass","suggestions","formControl","multiple","completeOnFocus","onBlur","completeMethod"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"px-2","py-1","bg-primary-50","text-primary-400","border-round-md","font-bold","text-xs"]],template:function(B,N){if(1&B&&(e.TgZ(0,"p-autoComplete",0),e.NdJ("onBlur",function(){return N.onTouched(),N.onBlur.emit()})("completeMethod",function($){return N.connectionServicesSuggestions.next($.query)}),e.ALo(1,"async"),e.YNc(2,V,2,1,"ng-template",1),e.YNc(3,F,2,1,"ng-template",2),e.qZA()),2&B){let ce;e.Q6J("ngClass",N.inputClasses)("suggestions",null!==(ce=e.lcZ(1,5,N.connectionServices$))&&void 0!==ce?ce:e.DdM(7,T))("formControl",N.control)("multiple",!0)("completeOnFocus",!0)}},dependencies:[a.mk,P.JJ,R.jx,P.oH,L.Qc,a.Ov]}),D})()},8508:(hn,ht,b)=>{"use strict";b.d(ht,{Z:()=>P});var e=b(5e3),d=b(2382),u=b(4004),f=b(9808);let _=(()=>{class x{constructor(R){this.el=R,this.dfPlaceholder="",this.itemToMeasure=document.createElement("span")}set update(R){this.adjust(this.el.nativeElement)}onInput(R){this.adjust(R.target)}onBlur(R){setTimeout(()=>this.adjust(R.target))}onFocus(R){this.adjust(R.target)}ngOnInit(){const R=getComputedStyle(this.el.nativeElement);this.itemToMeasure.style.fontSize=R.fontSize,this.itemToMeasure.style.fontFamily=R.fontFamily,this.itemToMeasure.style.fontWeight=R.fontWeight,this.itemToMeasure.style.fontStyle=R.fontStyle,this.itemToMeasure.style.visibility="hidden",this.itemToMeasure.style.position="fixed",this.itemToMeasure.style.whiteSpace="nowrap",this.el.nativeElement.style.transition="width .2s ease-in-out",this.el.nativeElement.style.boxSizing="content-box",this.el.nativeElement.placeholder=this.dfPlaceholder,document.body.append(this.itemToMeasure),this.adjust(this.el.nativeElement)}ngOnDestroy(){document.body.removeChild(this.itemToMeasure)}ngOnChanges(R){R.dfPlaceholder&&(this.itemToMeasure.innerText=R.dfPlaceholder.currentValue,this.el.nativeElement.placeholder=R.dfPlaceholder.currentValue),this.adjust(this.el.nativeElement)}adjust(R){this.itemToMeasure.innerText=R.value?R.value:this.dfPlaceholder;const{width:L}=this.itemToMeasure.getBoundingClientRect();R.style.width=`${L}px`}}return x.\u0275fac=function(R){return new(R||x)(e.Y36(e.SBq))},x.\u0275dir=e.lG2({type:x,selectors:[["","appAdjustInputWidth",""]],hostBindings:function(R,L){1&R&&e.NdJ("input",function(F){return L.onInput(F)})("blur",function(F){return L.onBlur(F)})("focus",function(F){return L.onFocus(F)})},inputs:{dfPlaceholder:"dfPlaceholder",update:"update"},features:[e.TTD]}),x})(),P=(()=>{class x{constructor(){this.inputClasses={},this.onBlur=new e.vpe,this.control1=new d.NI(0),this.control2=new d.NI(0),this.control3=new d.NI(0),this.control4=new d.NI(0),this.formGroup=new d.cw({octets:new d.Oe([this.control1,this.control2,this.control3,this.control4])}),this.updateValue="",this.onChange=R=>{},this.onTouch=()=>{}}setDisabledState(R){R?this.formGroup.disable({emitEvent:!1}):this.formGroup.enable({emitEvent:!1})}parseString(R){return R?R.trim().split(".").map(L=>{let V=parseInt(L.replace(/\D/g,""));return isNaN(V)?0:V}).slice(0,4):[0,0,0,0]}registerOnChange(R){this.onChange=R}registerOnTouched(R){this.onTouch=R}writeValue(R){R&&("string"==typeof R&&(R=this.parseString(R)),4!==R.length&&(R=[0,0,0,0]),this.formGroup.patchValue({octets:this.mapOctets(R)}),this.updateValue=R.join("."))}mapOctets(R){return R.map(L=>"number"!=typeof(L=parseInt(L))||isNaN(L)?0:Math.min(Math.max(0,L),255))}octetFocus(R){R.target.select()}ngOnInit(){this.subscription=this.formGroup.valueChanges.pipe((0,u.U)(R=>{let L=R.octets;return void 0===L?(this.formGroup.patchValue({octets:[0,0,0,0]},{emitEvent:!1}),"0.0.0.0"):(L=this.mapOctets(L),this.formGroup.patchValue({octets:L},{emitEvent:!1,onlySelf:!0}),L.join("."))})).subscribe(R=>{this.onChange("0.0.0.0"===R?null:R)})}ngOnDestroy(){var R;null===(R=this.subscription)||void 0===R||R.unsubscribe()}focusNext(R,L){3===R.target.value.length&&L.focus()}}return x.\u0275fac=function(R){return new(R||x)},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-ip-input"]],inputs:{inputClasses:"inputClasses"},outputs:{onBlur:"onBlur"},features:[e._Bn([{provide:d.JU,useExisting:(0,e.Gpc)(()=>x),multi:!0}])],decls:15,vars:12,consts:[[1,"flex","gap-1","p-component","p-inputtext","p-element","error-border",3,"ngClass","formGroup","click"],["appAdjustInputWidth","",1,"octet-input","text-bluegray-600",3,"formControl","update","click","focus","blur","input"],["octOne",""],["octTwo",""],["octThree",""],["appAdjustInputWidth","",1,"octet-input","text-bluegray-600",3,"formControl","update","click","focus","blur"],["octFour",""]],template:function(R,L){if(1&R){const V=e.EpF();e.TgZ(0,"div",0),e.NdJ("click",function(){e.CHM(V);const T=e.MAs(2);return e.KtG(T.focus())}),e.TgZ(1,"input",1,2),e.NdJ("click",function(T){return T.stopPropagation()})("focus",function(T){return L.octetFocus(T)})("blur",function(){return L.onBlur.emit(),L.onTouch()})("input",function(T){e.CHM(V);const y=e.MAs(6);return e.KtG(L.focusNext(T,y))}),e.qZA(),e.TgZ(3,"span"),e._uU(4,"."),e.qZA(),e.TgZ(5,"input",1,3),e.NdJ("click",function(T){return T.stopPropagation()})("focus",function(T){return L.octetFocus(T)})("blur",function(){return L.onBlur.emit(),L.onTouch()})("input",function(T){e.CHM(V);const y=e.MAs(10);return e.KtG(L.focusNext(T,y))}),e.qZA(),e.TgZ(7,"span"),e._uU(8,"."),e.qZA(),e.TgZ(9,"input",1,4),e.NdJ("click",function(T){return T.stopPropagation()})("focus",function(T){return L.octetFocus(T)})("blur",function(){return L.onBlur.emit(),L.onTouch()})("input",function(T){e.CHM(V);const y=e.MAs(14);return e.KtG(L.focusNext(T,y))}),e.qZA(),e.TgZ(11,"span"),e._uU(12,"."),e.qZA(),e.TgZ(13,"input",5,6),e.NdJ("click",function(T){return T.stopPropagation()})("focus",function(T){return L.octetFocus(T)})("blur",function(){return L.onBlur.emit(),L.onTouch()}),e.qZA()()}2&R&&(e.Udp("cursor","text"),e.Q6J("ngClass",L.inputClasses)("formGroup",L.formGroup),e.xp6(1),e.Q6J("formControl",L.control1)("update",L.updateValue),e.xp6(4),e.Q6J("formControl",L.control2)("update",L.updateValue),e.xp6(4),e.Q6J("formControl",L.control3)("update",L.updateValue),e.xp6(4),e.Q6J("formControl",L.control4)("update",L.updateValue))},dependencies:[f.mk,d.Fj,d.JJ,d.JL,d.oH,d.sg,_],styles:[".octet-input[_ngcontent-%COMP%]{padding:0;border:none;outline:none;width:3rem;text-align:center;font-size:1.1rem}"]}),x})()},2777:(hn,ht,b)=>{"use strict";b.d(ht,{U:()=>T});var e=b(1135),d=b(8372),u=b(5e3),f=b(8738);const _=["previewConnectedTask"],P=function(y){return["/task",y]};function x(y,D){if(1&y){const k=u.EpF();u.TgZ(0,"span",6),u.NdJ("click",function(){u.CHM(k);const N=u.oxw();return u.KtG(N.panelShowSubject.next(null))})("mouseenter",function(N){u.CHM(k);const ce=u.oxw();return u.KtG(ce.panelShowSubject.next(N))})("mouseleave",function(){u.CHM(k);const N=u.oxw();return u.KtG(N.panelShowSubject.next(null))}),u._uU(1),u.qZA()}if(2&y){const k=u.oxw();u.Q6J("routerLink",u.VKq(2,P,null==k.task?null:k.task.taskId)),u.xp6(1),u.hij("#",null==k.task?null:k.task.taskId,"")}}function a(y,D){1&y&&u._UZ(0,"p-skeleton",7),2&y&&u.Udp("display","inline-block")}function R(y,D){if(1&y&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&y){const k=u.oxw();u.xp6(1),u.hij("#",k._taskId,"")}}const L=function(){return{width:"40vw",minWidth:"min-content"}};function V(y,D){if(1&y&&u._UZ(0,"app-task-list-element",9),2&y){const k=u.oxw(2);u.Akn(u.DdM(5,L)),u.Q6J("isHover",!1)("item",k.task)("inlined",!0)}}function F(y,D){if(1&y&&u.YNc(0,V,1,6,"app-task-list-element",8),2&y){const k=u.oxw();u.Q6J("ngIf",null==k.task?null:k.task.taskId)}}let T=(()=>{class y{constructor(k){this.api=k,this.failed=!1,this.panelShowSubject=new e.X(null),this.panelShow$=this.panelShowSubject.pipe((0,d.b)(500))}set taskId(k){0!==k&&(this._taskId=k,this.api.getTask(this._taskId,!0).subscribe({next:B=>this.task=B,error:()=>this.failed=!0}))}static createElement(k){const B=document.createElement("task-link-element");return B.taskId=k,B}ngOnInit(){this.panelShowSub=this.panelShow$.subscribe(k=>{k?this.showPreview(k):this.hidePreview()})}ngOnDestroy(){var k;null===(k=this.panelShowSub)||void 0===k||k.unsubscribe()}showPreview(k){this.previewConnectedTask&&this.previewConnectedTask.show(k)}hidePreview(){setTimeout(()=>{this.previewConnectedTask&&this.previewConnectedTask.hide()})}}return y.\u0275fac=function(k){return new(k||y)(u.Y36(f.s))},y.\u0275cmp=u.Xpm({type:y,selectors:[["app-task-link"]],viewQuery:function(k,B){if(1&k&&u.Gf(_,5),2&k){let N;u.iGM(N=u.CRH())&&(B.previewConnectedTask=N.first)}},inputs:{task:"task",taskId:"taskId"},decls:6,vars:3,consts:[["class","like-link",3,"routerLink","click","mouseenter","mouseleave",4,"ngIf"],["width","4rem","height",".8rem",3,"display",4,"ngIf"],[4,"ngIf"],["appendTo","body"],["previewConnectedTask",""],["pTemplate","content"],[1,"like-link",3,"routerLink","click","mouseenter","mouseleave"],["width","4rem","height",".8rem"],[3,"isHover","item","inlined","style",4,"ngIf"],[3,"isHover","item","inlined"]],template:function(k,B){1&k&&(u.YNc(0,x,2,4,"span",0),u.YNc(1,a,1,2,"p-skeleton",1),u.YNc(2,R,2,1,"span",2),u.TgZ(3,"p-overlayPanel",3,4),u.YNc(5,F,1,1,"ng-template",5),u.qZA()),2&k&&(u.Q6J("ngIf",0!==(null==B.task?null:B.task.taskId)),u.xp6(1),u.Q6J("ngIf",0===(null==B.task?null:B.task.taskId)&&!B.failed),u.xp6(1),u.Q6J("ngIf",B.failed))}}),y})()},1403:(hn,ht,b)=>{"use strict";b.d(ht,{a:()=>O});var e=b(5e3),d=b(2382),u=b(1135),f=b(9841),_=b(4004),P=b(8738),x=b(9808),a=b(9783),R=b(3640),L=b(5055),V=b(7433);function F(K,ue){if(1&K){const q=e.EpF();e.TgZ(0,"span",13),e.NdJ("click",function(){e.CHM(q);const j=e.oxw().$implicit,fe=e.oxw(2);return e.KtG(fe.removeTag(j))}),e.qZA()}}function T(K,ue){if(1&K&&(e.TgZ(0,"div",10)(1,"div",11),e._uU(2),e.qZA(),e.YNc(3,F,1,0,"span",12),e.qZA()),2&K){const q=ue.$implicit,G=e.oxw(2);e.Udp("background-color",q.color),e.xp6(2),e.hij(" ",q.name," "),e.xp6(1),e.Q6J("ngIf",G.isEdit)}}function y(K,ue){1&K&&(e.TgZ(0,"div",14),e._uU(1," \u041d\u0435\u0442 \u0442\u0435\u0433\u043e\u0432 "),e.qZA())}function D(K,ue){if(1&K){const q=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(j){e.CHM(q);const fe=e.oxw(2),ne=e.MAs(4);return e.KtG(fe.editTags(j,ne,fe.element.nativeElement))}),e.TgZ(1,"span",16),e._uU(2,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),e.qZA()()}}const k=function(){return{"z-index":2101}};function B(K,ue){if(1&K){const q=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(j){return j.stopPropagation()})("mouseenter",function(){e.CHM(q);const j=e.oxw();return e.KtG(j.isWrapperHovered=!0)})("mouseleave",function(){e.CHM(q);const j=e.oxw();return e.KtG(j.isWrapperHovered=!1)}),e.YNc(1,T,4,4,"div",7),e.YNc(2,y,2,0,"div",8),e.YNc(3,D,3,0,"div",9),e.qZA()}if(2&K){const q=e.oxw();e.Akn(q.isEdit?e.DdM(5,k):null),e.xp6(1),e.Q6J("ngForOf",q.tags),e.xp6(1),e.Q6J("ngIf",0===q.tags.length),e.xp6(1),e.Q6J("ngIf",!q.isEdit&&q.isWrapperHovered)}}function N(K,ue){if(1&K){const q=e.EpF();e.TgZ(0,"div",17),e.NdJ("click",function(j){e.CHM(q);const fe=e.oxw(),ne=e.MAs(4);return e.KtG(fe.editTags(j,ne,fe.element.nativeElement))}),e._uU(1," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0433\u0438 "),e.qZA()}}function ce(K,ue){if(1&K&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&K){const q=ue.$implicit;e.Udp("color",q.value.color),e.xp6(1),e.Oqu(q.label)}}const $=function(){return[]},z=function(){return{"max-height":"35vh"}};function S(K,ue){if(1&K){const q=e.EpF();e.TgZ(0,"p-listbox",18),e.NdJ("onChange",function(j){e.CHM(q);const fe=e.oxw();return e.KtG(fe.appendTag(j.value))}),e.ALo(1,"async"),e.YNc(2,ce,2,3,"ng-template",19),e.qZA()}if(2&K){const q=e.oxw();let G;e.Q6J("options",null!==(G=e.lcZ(1,3,q.loadedTags$))&&void 0!==G?G:e.DdM(5,$))("filter",!0)("listStyle",e.DdM(6,z))}}let O=(()=>{class K{constructor(q,G){this.api=q,this.element=G,this.isEdit=!1,this.isDisabled=!1,this.isWrapperHovered=!1,this.tags=[],this.selectedTagsSubject=new u.X(this.tags),this.alreadySelected$=this.selectedTagsSubject.asObservable(),this.loadedTags$=(0,f.a)([this.api.getTaskTags(null,!1),this.alreadySelected$]).pipe((0,_.U)(([j,fe])=>j.filter(ne=>!fe.find(J=>J.taskTagId===ne.taskTagId)).map(ne=>({label:ne.name,value:ne})))),this.initialTags=[],this.onShow=new e.vpe,this.onHide=new e.vpe,this.onChange=j=>{},this.onTouched=()=>{}}ngOnInit(){}ngOnDestroy(){}registerOnChange(q){this.onChange=q}registerOnTouched(q){this.onTouched=q}setDisabledState(q){this.isDisabled=q}writeValue(q){if(!q)return this.tags=[],void this.selectedTagsSubject.next(this.tags);this.tags=q,this.selectedTagsSubject.next(this.tags)}appendTag(q){!q||(this.tags.push(q),this.selectedTagsSubject.next(this.tags))}removeTag(q){this.tags.splice(this.tags.indexOf(q),1),this.selectedTagsSubject.next(this.tags)}initializeTags(){this.initialTags=[...this.tags]}isHasChanges(){return!(this.tags.length===this.initialTags.length&&!this.tags.some(q=>this.initialTags.every(G=>G.taskTagId!==q.taskTagId))&&!this.initialTags.some(q=>this.tags.every(G=>q.taskTagId!==G.taskTagId)))}changeTags(){this.isEdit=!1,this.onHide.emit(),this.isHasChanges()&&this.onChange(this.tags)}editTags(q,G,j){q.stopPropagation(),this.isEdit=!0,this.initializeTags(),G.toggle(q,j),this.onShow.emit()}}return K.\u0275fac=function(q){return new(q||K)(e.Y36(P.s),e.Y36(e.SBq))},K.\u0275cmp=e.Xpm({type:K,selectors:[["app-task-tag-inline-selector"]],outputs:{onShow:"onShow",onHide:"onHide"},features:[e._Bn([{provide:d.JU,multi:!0,useExisting:K}])],decls:7,vars:5,consts:[["class","flex gap-2 align-items-center flex-wrap user-select-none relative w-fit",3,"style","click","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["emptyTagsTemplate",""],["appendTo","body","styleClass","overlay-panel-unpadding",3,"onHide"],["appendTagPanel",""],["pTemplate","content"],[3,"blocked","autoZIndex","baseZIndex"],[1,"flex","gap-2","align-items-center","flex-wrap","user-select-none","relative","w-fit",3,"click","mouseenter","mouseleave"],["class","flex align-items-center px-3 py-2 text-white flex border-round-3xl gap-1 cursor-default",3,"background-color",4,"ngFor","ngForOf"],["class","text-bluegray-300 font-bold px-2 py-1",4,"ngIf"],["class","absolute flex min-w-max w-full h-full align-items-center justify-content-center cursor-pointer\n          border-round-xl py-2 px-4 back-blured border-1 border-orange-500",3,"click",4,"ngIf"],[1,"flex","align-items-center","px-3","py-2","text-white","flex","border-round-3xl","gap-1","cursor-default"],[1,"white-space-nowrap"],["class","mdi-cancel cursor-pointer hover:text-red-100",3,"click",4,"ngIf"],[1,"mdi-cancel","cursor-pointer","hover:text-red-100",3,"click"],[1,"text-bluegray-300","font-bold","px-2","py-1"],[1,"absolute","flex","min-w-max","w-full","h-full","align-items-center","justify-content-center","cursor-pointer","border-round-xl","py-2","px-4","back-blured","border-1","border-orange-500",3,"click"],[1,"text-orange-500"],[1,"text-primary","px-3","py-2","border-round-3xl","border-1","border-primary","w-fit","hover:bg-primary","hover:text-white","cursor-pointer",3,"click"],["filterBy","name",3,"options","filter","listStyle","onChange"],["pTemplate","item"]],template:function(q,G){if(1&q&&(e.YNc(0,B,4,6,"div",0),e.YNc(1,N,2,0,"ng-template",null,1,e.W1O),e.TgZ(3,"p-overlayPanel",2,3),e.NdJ("onHide",function(){return G.changeTags()}),e.YNc(5,S,3,7,"ng-template",4),e.qZA(),e._UZ(6,"p-blockUI",5)),2&q){const j=e.MAs(2);e.Q6J("ngIf",G.tags.length>0||G.isEdit)("ngIfElse",j),e.xp6(6),e.Q6J("blocked",G.isEdit)("autoZIndex",!1)("baseZIndex",1101)}},dependencies:[x.sg,x.O5,a.jx,R.T,L.Ri,V.b,x.Ov]}),K})()},6502:(hn,ht,b)=>{"use strict";b.d(ht,{o:()=>Wt});var e=b(5e3),d=b(7384),u=b(2382),f=b(8738);function _(zt,Ut){1&zt&&e.GkF(0)}const P=function(){return{label:"\u0414\u0430",value:!0}},x=function(){return{label:"\u041d\u0435\u0442",value:!1}},a=function(){return{label:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",value:null}},R=function(zt,Ut,ct){return[zt,Ut,ct]};function L(zt,Ut){if(1&zt){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,_,1,0,"ng-container",7),e.TgZ(2,"p-dropdown",8),e.NdJ("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.onChange(me))})("onBlur",function(){e.CHM(ct);const me=e.oxw();return e.KtG(me.onTouched())})("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.controlValue=me)}),e.qZA()()}if(2&zt){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("ngModel",ct.controlValue)("ngClass",ct.classes)("options",e.kEZ(8,R,e.DdM(5,P),e.DdM(6,x),e.DdM(7,a)))("disabled",ct.disable)}}function V(zt,Ut){1&zt&&e.GkF(0)}function F(zt,Ut){if(1&zt){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,V,1,0,"ng-container",7),e.TgZ(2,"input",9),e.NdJ("blur",function(){e.CHM(ct);const me=e.oxw();return e.KtG(me.onTouched())})("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.onChange(me))})("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.controlValue=me)}),e.qZA()()}if(2&zt){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("disabled",ct.disable)("ngClass",ct.classes)("ngModel",ct.controlValue)}}function T(zt,Ut){1&zt&&e.GkF(0)}function y(zt,Ut){if(1&zt){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,T,1,0,"ng-container",7),e.TgZ(2,"textarea",10),e.NdJ("blur",function(){e.CHM(ct);const me=e.oxw();return e.KtG(me.onTouched())})("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.onChange(me))})("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.controlValue=me)}),e.qZA()()}if(2&zt){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("ngModel",ct.controlValue)("autoResize",!0)("disabled",ct.disable)("ngClass",ct.classes)("rows",7)}}function D(zt,Ut){1&zt&&e.GkF(0)}function k(zt,Ut){if(1&zt){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,D,1,0,"ng-container",7),e.TgZ(2,"app-counting-lives-input",11),e.NdJ("onBlur",function(){e.CHM(ct);const me=e.oxw();return e.KtG(me.onTouched())})("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.onChange(me))})("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.controlValue=me)}),e.qZA()()}if(2&zt){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("inputClasses",ct.classes)("ngModel",ct.controlValue)("disabled",ct.disable)}}function B(zt,Ut){1&zt&&e.GkF(0)}function N(zt,Ut){if(1&zt){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,B,1,0,"ng-container",7),e.TgZ(2,"p-inputNumber",12),e.NdJ("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.onChange(me))})("onBlur",function(){e.CHM(ct);const me=e.oxw();return e.KtG(me.onTouched())})("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.controlValue=me)}),e.qZA()()}if(2&zt){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("disabled",ct.disable)("ngClass",ct.classes)("ngModel",ct.controlValue)}}function ce(zt,Ut){1&zt&&e.GkF(0)}function $(zt,Ut){if(1&zt){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,ce,1,0,"ng-container",7),e.TgZ(2,"p-inputNumber",13),e.NdJ("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.onChange(me))})("onBlur",function(){e.CHM(ct);const me=e.oxw();return e.KtG(me.onTouched())})("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.controlValue=me)}),e.qZA()()}if(2&zt){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("ngModel",ct.controlValue)("ngClass",ct.classes)("disabled",ct.disable)("minFractionDigits",1)}}function z(zt,Ut){1&zt&&e.GkF(0)}function S(zt,Ut){if(1&zt){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,z,1,0,"ng-container",7),e.TgZ(2,"app-address-input-alt",14),e.NdJ("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.onChange(me))})("focusin",function(){e.CHM(ct);const me=e.oxw();return e.KtG(me.onTouched())})("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.controlValue=me)}),e.qZA()()}if(2&zt){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("inputClasses",ct.classes)("disabled",ct.disable)("ngModel",ct.controlValue)}}function O(zt,Ut){1&zt&&e.GkF(0)}function K(zt,Ut){if(1&zt&&e._UZ(0,"p-contextMenu",18),2&zt){e.oxw();const ct=e.MAs(3),at=e.oxw();e.Q6J("target",ct)("model",at.loginInputContextMenuModel)}}function ue(zt,Ut){if(1&zt){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,O,1,0,"ng-container",7),e.TgZ(2,"input",15,16),e.NdJ("blur",function(){e.CHM(ct);const me=e.oxw();return e.KtG(me.onTouched())})("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.onChange(me))})("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.controlValue=me)}),e.qZA(),e.YNc(4,K,1,2,"p-contextMenu",17),e.qZA()}if(2&zt){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("ngModel",ct.controlValue)("disabled",ct.disable)("ngClass",ct.classes),e.xp6(2),e.Q6J("ngIf",ct.isHasModelItemId&&!ct.controlValue)}}function q(zt,Ut){1&zt&&e.GkF(0)}const G=function(){return[]};function j(zt,Ut){if(1&zt){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,q,1,0,"ng-container",7),e.TgZ(2,"p-dropdown",19),e.NdJ("onBlur",function(){e.CHM(ct);const me=e.oxw();return e.KtG(me.onTouched())})("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.onChange(me))})("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.controlValue=me)}),e.ALo(3,"async"),e.qZA()()}if(2&zt){const ct=e.oxw(),at=e.MAs(23);let me;e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("ngModel",ct.controlValue)("disabled",ct.disable)("options",null!==(me=e.lcZ(3,5,ct.adSources$))&&void 0!==me?me:e.DdM(7,G))("ngClass",ct.classes)}}function fe(zt,Ut){1&zt&&e.GkF(0)}function ne(zt,Ut){if(1&zt){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,fe,1,0,"ng-container",7),e.TgZ(2,"input",15),e.NdJ("blur",function(){e.CHM(ct);const me=e.oxw();return e.KtG(me.onTouched())})("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.onChange(me))})("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.controlValue=me)}),e.qZA()()}if(2&zt){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("ngModel",ct.controlValue)("disabled",ct.disable)("ngClass",ct.classes)}}function J(zt,Ut){1&zt&&e.GkF(0)}function X(zt,Ut){if(1&zt){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,J,1,0,"ng-container",7),e.TgZ(2,"app-ip-input",20),e.NdJ("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.onChange(me))})("onBlur",function(){e.CHM(ct);const me=e.oxw();return e.KtG(me.onTouched())})("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.controlValue=me)}),e.qZA()()}if(2&zt){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("inputClasses",ct.classes)("disabled",ct.disable)("ngModel",ct.controlValue)}}function W(zt,Ut){1&zt&&e.GkF(0)}function Y(zt,Ut){if(1&zt){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,W,1,0,"ng-container",7),e.TgZ(2,"app-client-equipment-list-input",21),e.NdJ("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.onChange(me))})("onBlur",function(){e.CHM(ct);const me=e.oxw();return e.KtG(me.onTouched())})("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.controlValue=me)}),e.qZA()()}if(2&zt){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("disabled",ct.disable)("ngModel",ct.controlValue)("inputClasses",ct.classes)}}function Te(zt,Ut){1&zt&&e.GkF(0)}function Ae(zt,Ut){if(1&zt){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,Te,1,0,"ng-container",7),e.TgZ(2,"app-connection-services-input",22),e.NdJ("onBlur",function(){e.CHM(ct);const me=e.oxw();return e.KtG(me.onTouched())})("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.onChange(me))})("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.controlValue=me)}),e.qZA()()}if(2&zt){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("isDisabled",ct.disable)("ngModel",ct.controlValue)("inputClasses",ct.classes)}}function Ke(zt,Ut){1&zt&&e.GkF(0)}function be(zt,Ut){if(1&zt){const ct=e.EpF();e.TgZ(0,"div",6),e.YNc(1,Ke,1,0,"ng-container",7),e.TgZ(2,"p-dropdown",23),e.NdJ("onBlur",function(){e.CHM(ct);const me=e.oxw();return e.KtG(me.onTouched())})("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.onChange(me))})("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.controlValue=me)}),e.ALo(3,"async"),e.qZA()()}if(2&zt){const ct=e.oxw(),at=e.MAs(23);let me;e.xp6(1),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("ngModel",ct.controlValue)("disabled",ct.disable)("options",null!==(me=e.lcZ(3,5,ct.connectionTypes$))&&void 0!==me?me:e.DdM(7,G))("ngClass",ct.classes)}}function Ge(zt,Ut){1&zt&&e.GkF(0)}function ee(zt,Ut){if(1&zt){const ct=e.EpF();e.TgZ(0,"div",6)(1,"fieldset",24)(2,"legend"),e.YNc(3,Ge,1,0,"ng-container",7),e.qZA(),e.TgZ(4,"app-phone-list-input",25),e.NdJ("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.onChange(me))})("onBlur",function(){e.CHM(ct);const me=e.oxw();return e.KtG(me.onTouched())})("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.controlValue=me)}),e.qZA()()()}if(2&zt){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngClass",ct.classes),e.xp6(2),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("disabled",ct.disable)("ngModel",ct.controlValue)}}function xe(zt,Ut){1&zt&&e.GkF(0)}function we(zt,Ut){if(1&zt){const ct=e.EpF();e.TgZ(0,"div",6)(1,"fieldset",24)(2,"legend"),e.YNc(3,xe,1,0,"ng-container",7),e.qZA(),e.TgZ(4,"app-passport-details-input",26),e.NdJ("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.onChange(me))})("ngModelChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.controlValue=me)})("onBlur",function(){e.CHM(ct);const me=e.oxw();return e.KtG(me.onTouched())}),e.qZA()()()}if(2&zt){const ct=e.oxw(),at=e.MAs(23);e.xp6(1),e.Q6J("ngClass",ct.classes),e.xp6(2),e.Q6J("ngTemplateOutlet",at),e.xp6(1),e.Q6J("ngModel",ct.controlValue)}}function Pe(zt,Ut){1&zt&&e._UZ(0,"div"),2&zt&&e.Udp("background-color","red")}function dt(zt,Ut){if(1&zt){const ct=e.EpF();e.TgZ(0,"label",27)(1,"app-editing-caption",28),e.NdJ("captionChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.setName(me))}),e.qZA(),e.TgZ(2,"app-input-variation-selector",29),e.NdJ("valueChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.currentVariation=me)}),e.qZA(),e.TgZ(3,"app-input-variation-selector",29),e.NdJ("valueChange",function(me){e.CHM(ct);const De=e.oxw();return e.KtG(De.currentDisplayType=me)}),e.ALo(4,"async"),e.qZA()()}if(2&zt){const ct=e.oxw();let at;e.xp6(1),e.Q6J("caption",null==ct.field?null:ct.field.name),e.xp6(1),e.Q6J("variationList",ct.currentVariationsList)("value",ct.currentVariation),e.xp6(1),e.Q6J("variationList",null!==(at=e.lcZ(4,5,ct.displayTypeOptions$))&&void 0!==at?at:e.DdM(7,G))("value",ct.currentDisplayType)}}function bt(zt,Ut){1&zt&&(e.TgZ(0,"span",31),e._uU(1,"*"),e.qZA())}function it(zt,Ut){if(1&zt&&(e.TgZ(0,"label"),e._uU(1),e.YNc(2,bt,2,0,"span",30),e.qZA()),2&zt){const ct=e.oxw();e.xp6(1),e.hij(" ",null==ct.field?null:ct.field.name," "),e.xp6(1),e.Q6J("ngIf","OPTIONAL"!==ct.currentVariation)}}function Dt(zt,Ut){1&zt&&e.GkF(0)}function vt(zt,Ut){if(1&zt&&e.YNc(0,Dt,1,0,"ng-container",32),2&zt){const ct=e.oxw(),at=e.MAs(19),me=e.MAs(21);e.Q6J("ngIf",ct.isExample)("ngIfThen",at)("ngIfElse",me)}}let Wt=(()=>{class zt{constructor(ct,at){this.api=ct,this.el=at,this.isExample=!1,this.disable=!1,this.connectionTypes$=this.api.getConnectionTypesList(),this.adSources$=this.api.getAdSourcesList(),this.displayTypeOptions$=this.api.getFieldDisplayTypes(),this.onChange=me=>{},this.onTouched=()=>{},this.loginInputContextMenuModel=[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043b\u043e\u0433\u0438\u043d",command:()=>{this.field&&"modelItemId"in this.field&&this.field.modelItemId&&this.api.createUserInBilling(this.field.modelItemId).subscribe()}},{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c BIZ \u043b\u043e\u0433\u0438\u043d",command:()=>{this.field&&"modelItemId"in this.field&&this.field.modelItemId&&this.api.createUserInBilling(this.field.modelItemId,!0).subscribe()}}]}get classes(){const ct=this.el.nativeElement;return{"ng-dirty":ct.classList.contains("ng-touched"),"ng-invalid":ct.classList.contains("ng-invalid")}}get type(){return this.field?"type"in this.field?this.field.type:"wireframeFieldType"in this.field?this.field.wireframeFieldType:"":""}get currentVariationsList(){if(!this.field)return[];if("type"in this.field)switch(this.field.type){case d._r.SMALL_TEXT:case d._r.LARGE_TEXT:case d._r.BOOLEAN:case d._r.INTEGER:case d._r.FLOAT:case d._r.LOGIN:case d._r.IP:case d._r.CONNECTION_TYPE:case d._r.CONNECTION_SERVICES:case d._r.EQUIPMENTS:case d._r.PHONE_ARRAY:case d._r.AD_SOURCE:case d._r.REQUEST_INITIATOR:case d._r.COUNTING_LIVES:case d._r.PASSPORT_DETAILS:return[{value:"MANDATORY",label:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"},{value:"OPTIONAL",label:"\u041d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}];case d._r.ADDRESS:return[{value:"ALL",label:"\u0412\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"},{value:"APARTMENT_ONLY",label:"\u0422\u043e\u043b\u044c\u043a\u043e \u043d\u043e\u043c\u0435\u0440 \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u044b"},{value:"HOUSE_ONLY",label:"\u0422\u043e\u043b\u044c\u043a\u043e \u043d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430"},{value:"OPTIONAL",label:"\u041d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}];default:return[]}return[]}get currentVariation(){var ct;return this.field&&"variation"in this.field&&null!==(ct=this.field.variation)&&void 0!==ct?ct:""}set currentVariation(ct){!this.field||"type"in this.field&&(this.field.variation=ct)}get currentDisplayType(){var ct;return this.field?"displayType"in this.field?null!==(ct=this.field.displayType)&&void 0!==ct?ct:"LIST_AND_TELEGRAM":"":"LIST_AND_TELEGRAM"}set currentDisplayType(ct){!this.field||"displayType"in this.field&&(this.field.displayType=ct)}get isHasModelItemId(){return this.field&&"modelItemId"in this.field&&this.field.modelItemId}registerOnChange(ct){this.onChange=ct}registerOnTouched(ct){this.onTouched=ct}writeValue(ct){this.controlValue=ct}setDisabledState(ct){this.disable=ct}ngOnInit(){}isName(ct){return"name"in ct}setName(ct){this.field&&"name"in this.field&&(this.field.name=ct)}}return zt.\u0275fac=function(ct){return new(ct||zt)(e.Y36(f.s),e.Y36(e.SBq))},zt.\u0275cmp=e.Xpm({type:zt,selectors:[["app-task-template-input"]],inputs:{field:"field",isExample:"isExample"},features:[e._Bn([{provide:u.JU,useExisting:(0,e.Gpc)(()=>zt),multi:!0}])],decls:24,vars:17,consts:[[3,"ngSwitch"],["class","input-label-wrapper",4,"ngSwitchCase"],[3,"background-color",4,"ngSwitchDefault"],["editedLabel",""],["staticLabel",""],["label",""],[1,"input-label-wrapper"],[4,"ngTemplateOutlet"],[3,"ngModel","ngClass","options","disabled","ngModelChange","onBlur"],["pInputText","",3,"disabled","ngClass","ngModel","blur","ngModelChange"],["pInputTextarea","",3,"ngModel","autoResize","disabled","ngClass","rows","blur","ngModelChange"],[3,"inputClasses","ngModel","disabled","onBlur","ngModelChange"],[3,"disabled","ngClass","ngModel","ngModelChange","onBlur"],[3,"ngModel","ngClass","disabled","minFractionDigits","ngModelChange","onBlur"],[3,"inputClasses","disabled","ngModel","ngModelChange","focusin"],["appRegexPatternChecker","","pInputText","","patternRx","^[\\dA-z_]+$",3,"ngModel","disabled","ngClass","blur","ngModelChange"],["loginInput",""],["appendTo","body",3,"target","model",4,"ngIf"],["appendTo","body",3,"target","model"],["placeholder","\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a","appendTo","body",3,"ngModel","disabled","options","ngClass","onBlur","ngModelChange"],[3,"inputClasses","disabled","ngModel","ngModelChange","onBlur"],[3,"disabled","ngModel","inputClasses","ngModelChange","onBlur"],[3,"isDisabled","ngModel","inputClasses","onBlur","ngModelChange"],["placeholder","\u0422\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f","appendTo","body",3,"ngModel","disabled","options","ngClass","onBlur","ngModelChange"],[1,"node","flexed","gap5","column",3,"ngClass"],[3,"disabled","ngModel","ngModelChange","onBlur"],[3,"ngModel","ngModelChange","onBlur"],[1,"flexed","hcenter","gap5"],[3,"caption","captionChange"],[3,"variationList","value","valueChange"],["class","text-red-400 text-xs",4,"ngIf"],[1,"text-red-400","text-xs"],[4,"ngIf","ngIfThen","ngIfElse"]],template:function(ct,at){1&ct&&(e.ynx(0,0),e.YNc(1,L,3,12,"div",1),e.YNc(2,F,3,4,"div",1),e.YNc(3,y,3,6,"div",1),e.YNc(4,k,3,4,"div",1),e.YNc(5,N,3,4,"div",1),e.YNc(6,$,3,5,"div",1),e.YNc(7,S,3,4,"div",1),e.YNc(8,ue,5,5,"div",1),e.YNc(9,j,4,8,"div",1),e.YNc(10,ne,3,4,"div",1),e.YNc(11,X,3,4,"div",1),e.YNc(12,Y,3,4,"div",1),e.YNc(13,Ae,3,4,"div",1),e.YNc(14,be,4,8,"div",1),e.YNc(15,ee,5,4,"div",1),e.YNc(16,we,5,3,"div",1),e.YNc(17,Pe,1,2,"div",2),e.BQk(),e.YNc(18,dt,5,8,"ng-template",null,3,e.W1O),e.YNc(20,it,3,2,"ng-template",null,4,e.W1O),e.YNc(22,vt,1,3,"ng-template",null,5,e.W1O)),2&ct&&(e.Q6J("ngSwitch",at.type),e.xp6(1),e.Q6J("ngSwitchCase","BOOLEAN"),e.xp6(1),e.Q6J("ngSwitchCase","SMALL_TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","LARGE_TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","COUNTING_LIVES"),e.xp6(1),e.Q6J("ngSwitchCase","INTEGER"),e.xp6(1),e.Q6J("ngSwitchCase","FLOAT"),e.xp6(1),e.Q6J("ngSwitchCase","ADDRESS"),e.xp6(1),e.Q6J("ngSwitchCase","LOGIN"),e.xp6(1),e.Q6J("ngSwitchCase","AD_SOURCE"),e.xp6(1),e.Q6J("ngSwitchCase","REQUEST_INITIATOR"),e.xp6(1),e.Q6J("ngSwitchCase","IP"),e.xp6(1),e.Q6J("ngSwitchCase","EQUIPMENTS"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_SERVICES"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_TYPE"),e.xp6(1),e.Q6J("ngSwitchCase","PHONE_ARRAY"),e.xp6(1),e.Q6J("ngSwitchCase","PASSPORT_DETAILS"))}}),zt})()},6847:(hn,ht,b)=>{"use strict";b.d(ht,{j:()=>f});var e=b(383),d=b(7445),u=b(5e3);let f=(()=>{class _{constructor(){this.type="long",this.value="-- \u0441\u0435\u043a\u0443\u043d\u0434",this.subscriptions=new e.xf}set timePeriod(x){this.startTime=x?Date.now()-1e3*x:void 0}ngOnInit(){this.subscriptions.addSubscription("time",(0,d.F)(100).subscribe(this.updateTime.bind(this)))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}updateTime(){if(!this.startTime)return void(this.value="-- \u0441\u0435\u043a\u0443\u043d\u0434");let x=0;x=this.startTime instanceof Date?this.startTime.getTime():"string"==typeof this.startTime?new Date(this.startTime).getTime():this.startTime;const a=(new Date).getTime()-x,R=Math.floor(a/1e3)%60,L=e.cQ.declineOfNumber(R,["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"]),V=Math.floor(a/6e4)%60,F=e.cQ.declineOfNumber(V,["\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"]),T=Math.floor(a/36e5)%24,y=e.cQ.declineOfNumber(T,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"]),D=Math.floor(a/864e5),k=e.cQ.declineOfNumber(D,["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"]);if(D||T||V||R)switch(this.type){case"short":D>0?this.value=`${D} ${k}`:T>0?this.value=`${T} ${y}`:V>0?this.value=`${V} ${F}`:R>0&&(this.value=`${R} ${L}`);break;case"long":this.value="",D>0&&(this.value+=`${D} ${k}`),T>0&&(D>0&&(this.value+=" "),this.value+=`${T} ${y}`),V>0&&((T>0||D>0)&&(this.value+=" "),this.value+=`${V} ${F}`),R>0&&0===D&&0===T&&0===V&&((V>0||T>0||D>0)&&(this.value+=" "),this.value+=`${R} ${L}`)}else this.value="-- \u0441\u0435\u043a\u0443\u043d\u0434"}}return _.\u0275fac=function(x){return new(x||_)},_.\u0275cmp=u.Xpm({type:_,selectors:[["app-time-elapsed"]],inputs:{type:"type",startTime:"startTime",timePeriod:"timePeriod"},decls:2,vars:1,template:function(x,a){1&x&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&x&&(u.xp6(1),u.hij(" ",a.value,"\n"))}}),_})()},3078:(hn,ht,b)=>{"use strict";b.d(ht,{g:()=>P});var e=b(5e3),d=b(9808);function u(x,a){if(1&x&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&x){const R=e.oxw();e.xp6(1),e.Oqu(R.icon)}}function f(x,a){if(1&x&&(e.TgZ(0,"span",4),e._uU(1),e.qZA()),2&x){const R=e.oxw();e.xp6(1),e.Oqu(R.label)}}const _=function(x,a){return{disabled:x,iconed:a}};let P=(()=>{class x{constructor(){this.disabled=!1,this.size=1,this.model="primary",this.onClick=new e.vpe}ngOnInit(){}clickHandler(R){this.disabled||this.onClick.emit(R)}}return x.\u0275fac=function(R){return new(R||x)},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-tiny-button"]],inputs:{icon:"icon",label:"label",disabled:"disabled",size:"size",model:"model"},outputs:{onClick:"onClick"},decls:3,vars:10,consts:[[3,"ngClass","click"],["class","material-icons-round t-button-icon",4,"ngIf"],["class","t-button-label",4,"ngIf"],[1,"material-icons-round","t-button-icon"],[1,"t-button-label"]],template:function(R,L){1&R&&(e.TgZ(0,"div",0),e.NdJ("click",function(F){return L.clickHandler(F)}),e.YNc(1,u,2,1,"span",1),e.YNc(2,f,2,1,"span",2),e.qZA()),2&R&&(e.Tol("t-button "+L.model),e.Udp("font-size",L.size+"rem"),e.Q6J("ngClass",e.WLB(7,_,L.disabled,L.icon&&L.label)),e.xp6(1),e.Q6J("ngIf",L.icon),e.xp6(1),e.Q6J("ngIf",L.label))},dependencies:[d.mk,d.O5],styles:[".t-button[_ngcontent-%COMP%]{display:flex;gap:.2rem;align-items:center;padding:.3rem;transition:background-color .2s ease-in;cursor:pointer;color:var(--mc-500);font-weight:700;border-radius:.3rem}.t-button.disabled[_ngcontent-%COMP%]{cursor:default;background-color:var(--bgc-200)!important;color:var(--tc-400)!important}.t-button.iconed[_ngcontent-%COMP%]{padding-right:.6rem}.t-button.primary[_ngcontent-%COMP%]{color:var(--mc-500)}.t-button.primary[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--mc-0)}.t-button.secondary[_ngcontent-%COMP%]{color:var(--text-color-secondary)}.t-button.secondary[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--mc-0)}.t-button.success[_ngcontent-%COMP%]{color:var(--green-500)}.t-button.success[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--green-100)}.t-button.danger[_ngcontent-%COMP%]{color:#ef4444}.t-button.danger[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--red-100)}.t-button.warn[_ngcontent-%COMP%]{color:#f59e0b}.t-button.warn[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--yellow-100)}.t-button.info[_ngcontent-%COMP%]{color:var(--blue-500)}.t-button.info[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--blue-100)}.t-button[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--mc-0)}.t-button-icon[_ngcontent-%COMP%]{color:inherit;font-size:1.3em}.t-button-label[_ngcontent-%COMP%]{color:inherit;font-size:inherit;line-height:normal;white-space:nowrap}"]}),x})()},1787:(hn,ht,b)=>{"use strict";b.d(ht,{k:()=>y});var e=b(383),d=b(1135),u=b(8372),f=b(5e3),_=b(9808),P=b(8050),x=b(9783),a=b(5072),R=b(1110);function L(D,k){if(1&D&&f._UZ(0,"app-avatar",5),2&D){const B=k.$implicit,N=k.index,ce=f.oxw();f.Akn(ce.avatarStyle(N)),f.Q6J("deleted",B.deleted)("name",B.fullName)("size",ce.size)("src",B.avatar)}}function V(D,k){if(1&D&&(f.TgZ(0,"span"),f._uU(1),f.qZA()),2&D){const B=f.oxw();f.xp6(1),f.hij(" +",B.numberOfOverflowed," ")}}function F(D,k){1&D&&f._UZ(0,"app-employee-label",8),2&D&&f.Q6J("employee",k.$implicit)}function T(D,k){if(1&D&&(f.TgZ(0,"div",6),f.YNc(1,F,1,1,"app-employee-label",7),f.qZA()),2&D){const B=f.oxw();f.xp6(1),f.Q6J("ngForOf",B.employees)("ngForTrackBy",B.trackByEmployee)}}let y=(()=>{class D{constructor(){this.employees=[],this.size=2,this.vertical=!1,this.visibleSubject=new d.X(!1),this.visible$=this.visibleSubject.pipe((0,u.b)(300)),this.subscriptions=new e.xf}avatarStyle(B){const N={mask:B<this.sliced.length-1?this.mask:"",webkitMask:B<this.sliced.length-1?this.mask:""};return this.vertical?N.marginBottom=B>0?this.margin+"rem":"":N.marginRight=this.margin+"rem",N}get margin(){return-2*(.2+this.shift())}get mask(){return this.vertical?`radial-gradient(circle at 50% ${this.size-(this.size+this.size/2+this.margin)}rem, transparent ${this.size/2+.1}rem, white ${this.size/2+.2}rem)`:`radial-gradient(circle at ${this.size+this.size/2+this.margin}rem, transparent ${this.size/2+.1}rem, white ${this.size/2+.2}rem)`}get sliced(){return this.employees.slice(0,6)}get numberOfOverflowed(){let B=this.employees.length-6;return B<0&&(B=0),B}trackByEmployee(B,N){return N.login}ngOnInit(){}ngAfterViewInit(){}ngOnDestroy(){this.subscriptions.unsubscribeAll()}shift(){let B=.05*this.sliced.length;return B>.3&&(B=.3),B}}return D.\u0275fac=function(B){return new(B||D)},D.\u0275cmp=f.Xpm({type:D,selectors:[["app-avatar-list"]],inputs:{employees:"employees",size:"size",vertical:"vertical"},decls:6,vars:9,consts:[[1,"avatars",3,"ngClass","mouseenter","mouseleave"],[3,"deleted","name","size","src","style",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["appendTo","body",3,"visible","autoZIndex","baseZIndex"],["pTemplate","content"],[3,"deleted","name","size","src"],[1,"employees-overlay-list"],[3,"employee",4,"ngFor","ngForOf","ngForTrackBy"],[3,"employee"]],template:function(B,N){if(1&B&&(f.TgZ(0,"div",0),f.NdJ("mouseenter",function(){return N.visibleSubject.next(!0)})("mouseleave",function(){return N.visibleSubject.next(!1)}),f.YNc(1,L,1,6,"app-avatar",1),f.YNc(2,V,2,1,"span",2),f.qZA(),f.TgZ(3,"p-overlay",3),f.ALo(4,"async"),f.YNc(5,T,2,2,"ng-template",4),f.qZA()),2&B){let ce;f.Q6J("ngClass",N.vertical?"flex-column-reverse":""),f.xp6(1),f.Q6J("ngForOf",N.sliced)("ngForTrackBy",N.trackByEmployee),f.xp6(1),f.Q6J("ngIf",N.numberOfOverflowed>0),f.xp6(1),f.Q6J("visible",null!==(ce=f.lcZ(4,7,N.visible$))&&void 0!==ce&&ce)("autoZIndex",!1)("baseZIndex",3500)}},dependencies:[_.mk,_.sg,_.O5,P.aV,x.jx,a.A,R.x,_.Ov],styles:[".avatars[_ngcontent-%COMP%]{display:flex;position:relative;align-items:center;cursor:default;-webkit-user-select:none;user-select:none;padding:.1rem}.avatars[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--tc-500);margin-left:.2rem}.employees-overlay-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;border-radius:.5rem;background-color:#fff;padding:.7rem;height:max-content;width:-moz-fit-content;width:fit-content;box-shadow:0 .2px .7px #00000006,0 .6px 1.9px #00000009,0 1.5px 4.5px #0000000c,0 5px 15px #00000012}"]}),D})()},4383:(hn,ht,b)=>{"use strict";b.d(ht,{O:()=>k});var e=b(1135),d=b(8372),u=b(5e3),f=b(8738),_=b(9808),P=b(4119),x=b(8050),a=b(6198),R=b(6847);function L(B,N){if(1&B&&u._UZ(0,"span",10),2&B){const ce=u.oxw();u.Q6J("ngClass",ce.binding.lastConnectionLocation.isHasLink?"text-green-400":"text-red-400")}}function V(B,N){if(1&B){const ce=u.EpF();u.TgZ(0,"span",11),u.NdJ("click",function(z){u.CHM(ce);const S=u.oxw();return u.KtG(S.refreshConnectionLocation(z,null==S.binding?null:S.binding.vlanid))}),u.qZA()}}function F(B,N){1&B&&u._UZ(0,"p-progressSpinner",12)}function T(B,N){if(1&B&&(u.TgZ(0,"div",13)(1,"div",14)(2,"span",15),u._uU(3),u.qZA(),u.TgZ(4,"span",15),u._uU(5),u.qZA(),u.TgZ(6,"span",16),u._uU(7),u.qZA()(),u.TgZ(8,"div",14)(9,"span"),u._uU(10),u.qZA(),u.TgZ(11,"span"),u._uU(12),u.qZA()(),u.TgZ(13,"div",17)(14,"span"),u._uU(15,"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d:"),u.qZA(),u._UZ(16,"app-time-elapsed",18),u.TgZ(17,"span"),u._uU(18,"\u043d\u0430\u0437\u0430\u0434"),u.qZA()()()),2&B){const ce=u.oxw();let $;u.xp6(3),u.Oqu(ce.binding.lastConnectionLocation.commutatorName),u.xp6(2),u.hij("",ce.binding.lastConnectionLocation.portName," \u043f\u043e\u0440\u0442"),u.xp6(1),u.Q6J("ngClass",ce.binding.lastConnectionLocation.isHasLink?"text-green-400":"text-red-400"),u.xp6(1),u.Oqu(ce.binding.lastConnectionLocation.isHasLink?"\u0415\u0441\u0442\u044c \u043b\u0438\u043d\u043a":"\u041d\u0435\u0442 \u043b\u0438\u043d\u043a\u0430"),u.xp6(3),u.hij("IP: ",ce.binding.lastConnectionLocation.commutatorIp,""),u.xp6(2),u.hij("\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c: ",null!==($=ce.binding.lastConnectionLocation.portSpeed)&&void 0!==$?$:"-",""),u.xp6(4),u.Q6J("startTime",ce.binding.lastConnectionLocation.lastPortCheck)}}function y(B,N){1&B&&u._UZ(0,"span",19)}function D(B,N){1&B&&(u.TgZ(0,"div",20),u._UZ(1,"span",21),u.TgZ(2,"span",22),u._uU(3," \u041d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043c\u0435\u0441\u0442\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c "),u.qZA()()),2&B&&(u.xp6(1),u.Udp("font-size","3rem"))}let k=(()=>{class B{constructor(ce){this.api=ce,this.overlayVisibleChange=new e.X(!1),this.overlayVisible=this.overlayVisibleChange.pipe((0,d.b)(200)),this.isLocationRefreshing=!1}ngOnInit(){}refreshConnectionLocation(ce,$){ce.stopPropagation(),$&&(this.isLocationRefreshing=!0,this.api.commutatorRemoteUpdateByVlan($).subscribe({next:()=>this.isLocationRefreshing=!1,error:()=>this.isLocationRefreshing=!1}))}}return B.\u0275fac=function(ce){return new(ce||B)(u.Y36(f.s))},B.\u0275cmp=u.Xpm({type:B,selectors:[["app-binding-connection-location-view"]],inputs:{binding:"binding"},decls:14,vars:13,consts:[[1,"flex","align-items-center","font-bold","text-bluegray-400","w-fit","border-1","border-bluegray-100","bg-white","border-round-md",3,"mouseenter","mouseleave"],["class","mdi-dns text-sm p-2 terminator-right",3,"ngClass",4,"ngIf","ngIfElse"],[1,"px-2","border-right-1","border-bluegray-100","text-sm"],[3,"ngSwitch"],["class","mdi-refresh text-sm p-2 cursor-pointer text-primary-400 hover:text-primary","pTooltip","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",3,"click",4,"ngSwitchCase"],["class","custom-spinner custom-spinner-primary custom-spinner-sm m-2","strokeWidth","2",4,"ngSwitchCase"],["appendTo","body","contentStyleClass","overlay",3,"visible"],["class","p-3 flex flex-column gap-2 text-sm text-bluegray-400 fit-content",4,"ngIf","ngIfElse"],["notFinded",""],["notFindedOverlay",""],[1,"mdi-dns","text-sm","p-2","terminator-right",3,"ngClass"],["pTooltip","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",1,"mdi-refresh","text-sm","p-2","cursor-pointer","text-primary-400","hover:text-primary",3,"click"],["strokeWidth","2",1,"custom-spinner","custom-spinner-primary","custom-spinner-sm","m-2"],[1,"p-3","flex","flex-column","gap-2","text-sm","text-bluegray-400","fit-content"],[1,"flex","align-items-center","gap-2"],[1,"font-bold"],[1,"font-bold",3,"ngClass"],[1,"flex","align-items-center","gap-1","justify-content-end","text-xs","text-bluegray-300"],["type","short",3,"startTime"],[1,"mdi-check_box_outline_blank","text-sm","p-2","terminator-right"],[1,"text-sm","text-bluegray-300","font-bold","flex","flex-column","align-items-center","justify-content-center","p-3"],[1,"mds-dns"],[1,"text-center","max-w-20rem"]],template:function(ce,$){if(1&ce&&(u.TgZ(0,"div",0),u.NdJ("mouseenter",function(){return $.overlayVisibleChange.next(!0)})("mouseleave",function(){return $.overlayVisibleChange.next(!1)}),u.YNc(1,L,1,1,"span",1),u.TgZ(2,"span",2),u._uU(3),u.qZA(),u.ynx(4,3),u.YNc(5,V,1,0,"span",4),u.YNc(6,F,1,0,"p-progressSpinner",5),u.BQk(),u.qZA(),u.TgZ(7,"p-overlay",6),u.ALo(8,"async"),u.YNc(9,T,19,7,"div",7),u.qZA(),u.YNc(10,y,1,0,"ng-template",null,8,u.W1O),u.YNc(12,D,4,2,"ng-template",null,9,u.W1O)),2&ce){const z=u.MAs(11),S=u.MAs(13);let O;u.Udp("cursor","default"),u.xp6(1),u.Q6J("ngIf",$.binding&&$.binding.lastConnectionLocation)("ngIfElse",z),u.xp6(2),u.hij(" ",null==$.binding?null:$.binding.macaddr," "),u.xp6(1),u.Q6J("ngSwitch",$.isLocationRefreshing),u.xp6(1),u.Q6J("ngSwitchCase",!1),u.xp6(1),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("visible",null!==(O=u.lcZ(8,11,$.overlayVisible))&&void 0!==O&&O),u.xp6(2),u.Q6J("ngIf",$.binding&&$.binding.lastConnectionLocation)("ngIfElse",S)}},dependencies:[_.mk,_.O5,_.RF,_.n9,P.u,x.aV,a.G,R.j,_.Ov]}),B})()},8322:(hn,ht,b)=>{"use strict";b.d(ht,{S:()=>Ge});var e=b(7384),d=b(1135),u=b(8505),f=b(3900),_=b(9646),P=b(5625),x=b(5e3),a=b(8738);const R=["macPanel"],L=function(ee){return{"border-2 border-primary-400":ee}};function V(ee,xe){if(1&ee){const we=x.EpF();x.TgZ(0,"div",25),x.NdJ("click",function(){const bt=x.CHM(we).$implicit,it=x.oxw(5);return x.KtG(it.selectPort(bt))}),x.ALo(1,"async"),x.TgZ(2,"span",26),x._uU(3),x.qZA(),x.TgZ(4,"span",26),x._uU(5),x.qZA()()}if(2&ee){const we=xe.$implicit,Pe=x.oxw(5);let dt;x.Tol("w-3rem h-2rem border-round-lg cursor-pointer user-select-none flex flex-column align-items-center justify-content-center "+Pe.portStatusStyle(we)),x.Q6J("ngClass",x.VKq(7,L,(null==(dt=x.lcZ(1,5,Pe.selectPortChange$))?null:dt.portInfoId)===we.portInfoId)),x.xp6(3),x.Oqu(we.name),x.xp6(2),x.Oqu(Pe.portSpeedName(we))}}const F=function(){return[]};function T(ee,xe){if(1&ee&&(x.TgZ(0,"div",23),x.YNc(1,V,6,9,"div",24),x.qZA()),2&ee){const we=x.oxw(4);let Pe;x.xp6(1),x.Q6J("ngForOf",null!==(Pe=we.commutator.additionalInfo.ports)&&void 0!==Pe?Pe:x.DdM(1,F))}}function y(ee,xe){1&ee&&(x.TgZ(0,"tr")(1,"th"),x._uU(2,"MAC-\u0430\u0434\u0440\u0435\u0441"),x.qZA(),x.TgZ(3,"th"),x._uU(4,"VID"),x.qZA(),x.TgZ(5,"th"),x._uU(6,"\u0418\u043c\u044f vlan"),x.qZA(),x.TgZ(7,"th"),x._uU(8,"\u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439"),x.qZA(),x.TgZ(9,"th"),x._uU(10,"\u0421\u0435\u0441\u0441\u0438\u044f"),x.qZA()())}function D(ee,xe){if(1&ee&&(x.TgZ(0,"tr")(1,"td"),x._uU(2),x.qZA(),x.TgZ(3,"td"),x._uU(4),x.qZA(),x.TgZ(5,"td"),x._uU(6),x.qZA(),x.TgZ(7,"td"),x._uU(8),x.qZA(),x.TgZ(9,"td"),x._uU(10),x.qZA()()),2&ee){const we=xe.$implicit;x.xp6(2),x.Oqu(we.mac),x.xp6(2),x.Oqu(we.vid),x.xp6(2),x.Oqu(we.vlanName),x.xp6(2),x.Oqu(we.dynamic),x.xp6(2),x.Oqu(null==we.dhcpBinding?null:we.dhcpBinding.authName)}}function k(ee,xe){1&ee&&(x.TgZ(0,"div",33),x._UZ(1,"span",34),x.TgZ(2,"span"),x._uU(3,"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 MAC-\u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u043f\u0443\u0441\u0442\u0430"),x.qZA()())}function B(ee,xe){1&ee&&(x.TgZ(0,"div",35),x._UZ(1,"span",36),x.TgZ(2,"span"),x._uU(3,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b MAC-\u0430\u0434\u0440\u0435\u0441\u043e\u0432"),x.qZA()())}function N(ee,xe){if(1&ee&&(x.TgZ(0,"div")(1,"p-table",27),x.ALo(2,"async"),x.YNc(3,y,11,0,"ng-template",28),x.YNc(4,D,11,5,"ng-template",29),x.qZA(),x.ynx(5,30),x.YNc(6,k,4,0,"div",31),x.YNc(7,B,4,0,"div",32),x.BQk(),x.qZA()),2&ee){const we=x.oxw(4);let Pe;x.xp6(1),x.Q6J("hidden","EMPTY"==we.fdbTableLoadingState||"ERROR"==we.fdbTableLoadingState)("loading","LOADING"===we.fdbTableLoadingState)("scrollable",!0)("value",null!==(Pe=x.lcZ(2,7,we.fdbTable$))&&void 0!==Pe?Pe:x.DdM(9,F)),x.xp6(4),x.Q6J("ngSwitch",we.fdbTableLoadingState),x.xp6(1),x.Q6J("ngSwitchCase","EMPTY"),x.xp6(1),x.Q6J("ngSwitchCase","ERROR")}}function ce(ee,xe){if(1&ee){const we=x.EpF();x.ynx(0),x.TgZ(1,"div",14)(2,"span"),x._uU(3," \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d: "),x.qZA(),x._UZ(4,"app-time-elapsed",15),x.TgZ(5,"app-tiny-button",16),x.NdJ("onClick",function(){x.CHM(we);const dt=x.oxw(3);return x.KtG(dt.refresh())}),x.qZA()(),x.TgZ(6,"div",17)(7,"div",18)(8,"span"),x._uU(9),x.qZA(),x.TgZ(10,"span",19),x._uU(11),x.qZA(),x.TgZ(12,"span",20)(13,"span"),x._uU(14,"\u0410\u043f\u0442\u0430\u0439\u043c"),x.qZA(),x._UZ(15,"app-time-elapsed",15),x.qZA()(),x.YNc(16,T,2,2,"div",21),x.qZA(),x.YNc(17,N,8,10,"div",13),x.ALo(18,"async"),x._UZ(19,"app-bindings-table",22),x.BQk()}if(2&ee){const we=x.oxw(3);x.xp6(4),x.Q6J("startTime",we.commutator.additionalInfo.systemInfo.lastUpdate),x.xp6(1),x.Q6J("disabled",we.isUpdating),x.xp6(4),x.AsE(" ",we.commutator.additionalInfo.systemInfo.device," ",we.commutator.additionalInfo.systemInfo.hwVersion," "),x.xp6(2),x.hij(" FW: ",we.commutator.additionalInfo.systemInfo.fwVersion," "),x.xp6(4),x.Q6J("startTime",we.uptime),x.xp6(1),x.Q6J("ngIf",we.commutator.additionalInfo),x.xp6(1),x.Q6J("ngIf",x.lcZ(18,10,we.selectPortChange$)),x.xp6(2),x.Q6J("filterId",we.commutator.id)("ping",!1)}}function $(ee,xe){if(1&ee&&(x.TgZ(0,"div",12),x.YNc(1,ce,20,12,"ng-container",13),x.qZA()),2&ee){const we=x.oxw(2);x.xp6(1),x.Q6J("ngIf",we.commutator.additionalInfo)}}function z(ee,xe){if(1&ee&&(x.TgZ(0,"div",39)(1,"span",40),x._uU(2),x.qZA(),x.TgZ(3,"span",41),x._uU(4),x.ALo(5,"date"),x.qZA()()),2&ee){const we=xe.$implicit;x.xp6(1),x.Q6J("ngClass",we.isError?"text-red-400":"text-green-400"),x.xp6(1),x.hij(" ",we.message," "),x.xp6(2),x.hij(" ",x.xi3(5,3,we.timestamp,"dd.MM.yyyy HH:mm:ss")," ")}}function S(ee,xe){if(1&ee&&(x.TgZ(0,"div",37),x.YNc(1,z,6,6,"div",38),x.qZA()),2&ee){const we=x.oxw(2);x.Udp("overscroll-behavior","contain"),x.xp6(1),x.Q6J("ngForOf",null==we.commutator||null==we.commutator.additionalInfo?null:we.commutator.additionalInfo.remoteUpdateLogs)("ngForTrackBy",we.trackByLog)}}function O(ee,xe){if(1&ee&&(x.TgZ(0,"p-tabView",7)(1,"p-tabPanel",8),x.YNc(2,$,2,1,"div",9),x.qZA(),x.TgZ(3,"p-tabPanel",10),x.YNc(4,S,2,4,"div",11),x.qZA()()),2&ee){const we=x.oxw(),Pe=x.MAs(8),dt=x.MAs(6);x.xp6(2),x.Q6J("ngIf",we.commutator&&we.commutator.additionalInfo&&we.commutator.additionalInfo.systemInfo)("ngIfElse",Pe),x.xp6(2),x.Q6J("ngIf",null==we.commutator||null==we.commutator.additionalInfo||null==we.commutator.additionalInfo.remoteUpdateLogs?null:we.commutator.additionalInfo.remoteUpdateLogs.length)("ngIfElse",dt)}}const K=function(ee){return[ee,"","",!1,!0]};function ue(ee,xe){if(1&ee&&(x._UZ(0,"span",51),x.ALo(1,"elapsedTime")),2&ee){const we=x.oxw(2);x.Q6J("pTooltip",x.G7q(1,1,x.VKq(7,K,we.uptime)))}}const q=function(){return{fontSize:"0.5rem"}};function G(ee,xe){if(1&ee){const we=x.EpF();x.TgZ(0,"div",25),x.NdJ("click",function(dt){const it=x.CHM(we).$implicit,Dt=x.oxw(3),vt=x.MAs(3);return Dt.selectPortChange$.next(it),x.KtG(vt.show(dt))}),x.ALo(1,"async"),x.TgZ(2,"span",53),x._uU(3),x.qZA()()}if(2&ee){const we=xe.$implicit,Pe=x.oxw(3);let dt;x.Tol("w-2rem h-1rem border-round-lg cursor-pointer user-select-none flex flex-column align-items-center justify-content-center "+Pe.portStatusStyle(we)),x.Q6J("ngClass",x.VKq(8,L,(null==(dt=x.lcZ(1,6,Pe.selectPortChange$))?null:dt.portInfoId)===we.portInfoId)),x.xp6(2),x.Akn(x.DdM(10,q)),x.xp6(1),x.Oqu(we.name)}}function j(ee,xe){if(1&ee&&(x.TgZ(0,"div",52),x.YNc(1,G,4,11,"div",24),x.qZA()),2&ee){const we=x.oxw(2);let Pe;x.xp6(1),x.Q6J("ngForOf",null!==(Pe=null==we.commutator||null==we.commutator.additionalInfo?null:we.commutator.additionalInfo.ports)&&void 0!==Pe?Pe:x.DdM(1,F))}}function fe(ee,xe){if(1&ee&&x._UZ(0,"span",54),2&ee){const we=x.oxw(2);let Pe;x.Q6J("pTooltip",null!==(Pe=null==we.commutator||null==we.commutator.additionalInfo?null:we.commutator.additionalInfo.lastErrorMessage)&&void 0!==Pe?Pe:"")}}function ne(ee,xe){if(1&ee){const we=x.EpF();x.TgZ(0,"div",42)(1,"div",18)(2,"span",19),x._uU(3),x.qZA(),x.TgZ(4,"div",43),x.YNc(5,ue,2,9,"span",44),x.TgZ(6,"span",45),x._uU(7),x.qZA(),x.TgZ(8,"span",46),x._uU(9),x.qZA()()(),x.YNc(10,j,2,2,"div",47),x._UZ(11,"div",48),x.YNc(12,fe,1,1,"span",49),x.TgZ(13,"app-tiny-button",50),x.NdJ("onClick",function(){x.CHM(we);const dt=x.oxw();return x.KtG(dt.refresh())}),x.ALo(14,"titlecase"),x.ALo(15,"date"),x.qZA()()}if(2&ee){const we=x.oxw();let Pe;x.xp6(3),x.hij(" ",null==we.commutator?null:we.commutator.name," "),x.xp6(2),x.Q6J("ngIf",(null==we.commutator||null==we.commutator.additionalInfo?null:we.commutator.additionalInfo.available)&&(null==we.commutator||null==we.commutator.additionalInfo||null==we.commutator.additionalInfo.systemInfo?null:we.commutator.additionalInfo.systemInfo.uptime)),x.xp6(1),x.Q6J("ngClass",null!=we.commutator&&null!=we.commutator.additionalInfo&&we.commutator.additionalInfo.available?"text-green-400":"text-red-400"),x.xp6(1),x.hij(" ",null!=we.commutator&&null!=we.commutator.additionalInfo&&we.commutator.additionalInfo.available?"\u0412 \u0441\u0435\u0442\u0438":"\u041d\u0435 \u0432 \u0441\u0435\u0442\u0438"," "),x.xp6(2),x.hij(" ",null==we.commutator?null:we.commutator.ipaddr," "),x.xp6(1),x.Q6J("ngIf",null==we.commutator?null:we.commutator.additionalInfo),x.xp6(2),x.Q6J("ngIf",null==we.commutator||null==we.commutator.additionalInfo?null:we.commutator.additionalInfo.isLastUpdateError),x.xp6(1),x.Q6J("disabled",we.isUpdating)("pTooltip",null!==(Pe=x.lcZ(14,9,x.xi3(15,11,null==we.commutator||null==we.commutator.additionalInfo||null==we.commutator.additionalInfo.systemInfo?null:we.commutator.additionalInfo.systemInfo.lastUpdate,"dd MMMM yyyy HH:mm")))&&void 0!==Pe?Pe:"")}}function J(ee,xe){1&ee&&(x.TgZ(0,"tr")(1,"th"),x._uU(2,"MAC-\u0430\u0434\u0440\u0435\u0441"),x.qZA(),x.TgZ(3,"th"),x._uU(4,"VID"),x.qZA(),x.TgZ(5,"th"),x._uU(6,"\u0418\u043c\u044f vlan"),x.qZA(),x.TgZ(7,"th"),x._uU(8,"\u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439"),x.qZA(),x.TgZ(9,"th"),x._uU(10,"\u0421\u0435\u0441\u0441\u0438\u044f"),x.qZA()())}function X(ee,xe){if(1&ee&&(x.TgZ(0,"tr")(1,"td"),x._uU(2),x.qZA(),x.TgZ(3,"td"),x._uU(4),x.qZA(),x.TgZ(5,"td"),x._uU(6),x.qZA(),x.TgZ(7,"td"),x._uU(8),x.qZA(),x.TgZ(9,"td"),x._uU(10),x.qZA()()),2&ee){const we=xe.$implicit;x.xp6(2),x.Oqu(we.mac),x.xp6(2),x.Oqu(we.vid),x.xp6(2),x.Oqu(we.vlanName),x.xp6(2),x.Oqu(we.dynamic),x.xp6(2),x.Oqu(null==we.dhcpBinding?null:we.dhcpBinding.authName)}}function W(ee,xe){1&ee&&(x.TgZ(0,"tr")(1,"td",58),x._uU(2,"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 MAC-\u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u043f\u0443\u0441\u0442\u0430"),x.qZA()()),2&ee&&(x.xp6(1),x.uIk("colspan",5))}function Y(ee,xe){if(1&ee&&(x.TgZ(0,"p-table",56),x.YNc(1,J,11,0,"ng-template",28),x.YNc(2,X,11,5,"ng-template",29),x.YNc(3,W,3,1,"ng-template",57),x.qZA()),2&ee){const we=x.oxw().ngIf,Pe=x.oxw(2);x.Q6J("loading","LOADING"===Pe.fdbTableLoadingState)("scrollable",!0)("value",we)}}function Te(ee,xe){if(1&ee&&(x.ynx(0),x.YNc(1,Y,4,3,"p-table",55),x.BQk()),2&ee){const we=x.oxw(2);x.xp6(1),x.Q6J("ngIf","ERROR"!==we.fdbTableLoadingState)}}function Ae(ee,xe){if(1&ee&&(x.YNc(0,Te,2,1,"ng-container",13),x.ALo(1,"async")),2&ee){const we=x.oxw();x.Q6J("ngIf",x.lcZ(1,1,we.fdbTable$))}}function Ke(ee,xe){1&ee&&(x.TgZ(0,"div",59),x._UZ(1,"span",60),x.TgZ(2,"span"),x._uU(3,"\u041d\u0435\u0442 \u043b\u043e\u0433\u043e\u0432"),x.qZA()())}function be(ee,xe){if(1&ee){const we=x.EpF();x.TgZ(0,"div",61),x._UZ(1,"span",62),x.TgZ(2,"span"),x._uU(3,"\u041d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438"),x.qZA(),x.TgZ(4,"p-button",63),x.NdJ("onClick",function(){x.CHM(we);const dt=x.oxw();return x.KtG(dt.refresh())}),x.qZA()()}if(2&ee){const we=x.oxw();x.xp6(4),x.Q6J("disabled",we.isUpdating)}}let Ge=(()=>{class ee{constructor(we){this.api=we,this.tiny=!1,this.isUpdating=!1,this.lastSelectedPortId=null,this.selectPortChange$=new d.X(null),this.fdbTableLoadingState=e.Gu.LOADING,this.fdbTable$=this.selectPortChange$.pipe((0,u.b)(()=>this.fdbTableLoadingState=e.Gu.LOADING),(0,f.w)(Pe=>Pe?this.api.fdbTableByPort(Pe.portInfoId):(0,_.of)(null)),(0,u.b)({next:Pe=>{this.fdbTableLoadingState=Pe&&Pe.length>0?e.Gu.READY:e.Gu.EMPTY},error:Pe=>{var dt;this.fdbTableLoadingState=e.Gu.ERROR,null===(dt=this.macPanel)||void 0===dt||dt.hide()}}),(0,P.X)()),this.changeMacPanelVisible$=new d.X([null,null]),this.overlayPanelPort=null,this.trackByLog=(Pe,dt)=>dt.remoteUpdateLogId}get uptime(){return this.commutator&&this.commutator.additionalInfo&&this.commutator.additionalInfo.systemInfo&&this.commutator.additionalInfo.systemInfo.uptime?new Date(this.commutator.additionalInfo.systemInfo.lastUpdate).getTime()-1e3*this.commutator.additionalInfo.systemInfo.uptime:0}ngOnInit(){this.fdbTable$.subscribe(()=>{setTimeout(()=>{var we;null!==(we=this.macPanel)&&void 0!==we&&we.overlayVisible&&this.macPanel.align()},100)})}portSpeedName(we){switch(null==we?void 0:we.speed){case"HALF10":return"10H";case"FULL10":return"10F";case"HALF100":return"100H";case"FULL100":return"100F";case"HALF1000":return"1000H";case"FULL1000":return"1000F"}return""}portStatusStyle(we){if(!we)return"";switch(we.status){case"UP":return"bg-green-400";case"DOWN":return"bg-bluegray-100";case"ADMIN_DOWN":return"bg-red-400";case"PREPARE":return"bg-yellow-400"}return""}refresh(){!this.commutator||(this.isUpdating=!0,this.api.commutatorRemoteUpdate(this.commutator.id).subscribe({next:()=>this.isUpdating=!1,error:()=>this.isUpdating=!1}))}selectPort(we){if(we.portInfoId===this.lastSelectedPortId)return this.lastSelectedPortId=null,void this.selectPortChange$.next(null);this.lastSelectedPortId=we.portInfoId,this.selectPortChange$.next(we)}loadingFdbTable(){this.selectPortChange$.next(this.overlayPanelPort)}}return ee.\u0275fac=function(we){return new(we||ee)(x.Y36(a.s))},ee.\u0275cmp=x.Xpm({type:ee,selectors:[["app-commutator-view"]],viewQuery:function(we,Pe){if(1&we&&x.Gf(R,5),2&we){let dt;x.iGM(dt=x.CRH())&&(Pe.macPanel=dt.first)}},inputs:{commutator:"commutator",tiny:"tiny"},decls:9,vars:2,consts:[["styleClass","border-round-lg border-bluegray-100 border-1 overflow-hidden",4,"ngIf"],["class","flex align-items-center gap-2 p-2 border-1 border-bluegray-100 border-round-md",4,"ngIf"],["appendTo","body",3,"onHide"],["macPanel",""],["pTemplate","content"],["notags",""],["noinfo",""],["styleClass","border-round-lg border-bluegray-100 border-1 overflow-hidden"],["header","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"],["class","flex flex-column gap-2",4,"ngIf","ngIfElse"],["header","\u041b\u043e\u0433\u0438"],["class","flex flex-column-reverse overflow-y-auto max-h-20rem",3,"overscroll-behavior",4,"ngIf","ngIfElse"],[1,"flex","flex-column","gap-2"],[4,"ngIf"],[1,"flex","gap-1","align-items-center","text-xs","text-bluegray-300","font-bold","justify-content-end"],[3,"startTime"],["icon","refresh",3,"disabled","onClick"],[1,"flex","gap-3"],[1,"flex","flex-column","text-bluegray-400"],[1,"text-sm"],[1,"text-xs","font-bold","text-bluegray-300"],["class","port-grille",4,"ngIf"],["filterMode","commutator",3,"filterId","ping"],[1,"port-grille"],[3,"class","ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[1,"text-white","text-xs","font-bold"],["scrollHeight","30rem","styleClass","p-datatable-sm border-1 border-round-md border-bluegray-100 overflow-hidden",3,"hidden","loading","scrollable","value"],["pTemplate","header"],["pTemplate","body"],[3,"ngSwitch"],["class","flex flex-column align-items-center justify-content-center p-3 text-bluegray-300 font-bold",4,"ngSwitchCase"],["class","flex flex-column align-items-center justify-content-center p-3 text-red-400 font-bold",4,"ngSwitchCase"],[1,"flex","flex-column","align-items-center","justify-content-center","p-3","text-bluegray-300","font-bold"],[1,"mds-dns"],[1,"flex","flex-column","align-items-center","justify-content-center","p-3","text-red-400","font-bold"],[1,"mds-error"],[1,"flex","flex-column-reverse","overflow-y-auto","max-h-20rem"],["class","flex flex-column p-2 text-xs split-line",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-column","p-2","text-xs","split-line"],[1,"font-bold",3,"ngClass"],[1,"align-self-end","text-bluegray-300"],[1,"flex","align-items-center","gap-2","p-2","border-1","border-bluegray-100","border-round-md"],[1,"flex","align-items-center","gap-1"],["class","mdi-schedule text-green-400 text-sm",3,"pTooltip",4,"ngIf"],[1,"text-xs","font-bold",3,"ngClass"],[1,"text-xs","font-bold","text-bluegray-400"],["class","port-grille-tiny",4,"ngIf"],[1,"flex-grow-1"],["class","mdi-warning text-red-400",3,"pTooltip",4,"ngIf"],["icon","refresh",3,"disabled","pTooltip","onClick"],[1,"mdi-schedule","text-green-400","text-sm",3,"pTooltip"],[1,"port-grille-tiny"],[1,"text-white","font-bold"],[1,"mdi-warning","text-red-400",3,"pTooltip"],["scrollHeight","30rem","styleClass","p-datatable-sm border-1 border-round-md border-bluegray-100 overflow-hidden",3,"loading","scrollable","value",4,"ngIf"],["scrollHeight","30rem","styleClass","p-datatable-sm border-1 border-round-md border-bluegray-100 overflow-hidden",3,"loading","scrollable","value"],["pTemplate","emptymessage"],[1,"text-center","font-bold","text-bluegray-300"],[1,"flex","flex-column","align-items-center","justify-content-center","text-bluegray-300","font-bold","text-sm"],[1,"mds-list"],[1,"flex","flex-column","align-items-center","text-bluegray-300","font-bold","text-sm"],[1,"mds-visibility_off"],["icon","mdi-refresh","label","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c","styleClass","p-button-outlined p-button-warning mt-3",3,"disabled","onClick"]],template:function(we,Pe){1&we&&(x.YNc(0,O,5,4,"p-tabView",0),x.YNc(1,ne,16,14,"div",1),x.TgZ(2,"p-overlayPanel",2,3),x.NdJ("onHide",function(){return Pe.selectPortChange$.next(null)}),x.YNc(4,Ae,2,3,"ng-template",4),x.qZA(),x.YNc(5,Ke,4,0,"ng-template",null,5,x.W1O),x.YNc(7,be,5,1,"ng-template",null,6,x.W1O)),2&we&&(x.Q6J("ngIf",!Pe.tiny),x.xp6(1),x.Q6J("ngIf",Pe.tiny))},styles:[".port-grille[_ngcontent-%COMP%]{display:grid;grid:2rem 2rem/auto-flow 3rem;gap:.5rem}.port-grille-tiny[_ngcontent-%COMP%]{display:grid;grid:1rem 1rem/auto-flow 2rem;gap:.2rem}"]}),ee})()},5948:(hn,ht,b)=>{"use strict";b.d(ht,{h:()=>In});var e=b(4004),d=b(4782),u=b(9814),f=b(6309),_=b(5e3),P=b(8738),x=b(3470),a=b(8028);function R(Rt,bn){1&Rt&&_.GkF(0)}function L(Rt,bn){if(1&Rt&&(_.ynx(0),_.YNc(1,R,1,0,"ng-container",14),_.BQk()),2&Rt){_.oxw();const yn=_.MAs(13);_.xp6(1),_.Q6J("ngTemplateOutlet",yn)}}function V(Rt,bn){1&Rt&&_.GkF(0)}function F(Rt,bn){if(1&Rt&&(_.ynx(0),_.YNc(1,V,1,0,"ng-container",14),_.BQk()),2&Rt){_.oxw();const yn=_.MAs(15);_.xp6(1),_.Q6J("ngTemplateOutlet",yn)}}function T(Rt,bn){1&Rt&&_.GkF(0)}function y(Rt,bn){if(1&Rt&&(_.ynx(0),_.YNc(1,T,1,0,"ng-container",14),_.BQk()),2&Rt){_.oxw();const yn=_.MAs(17);_.xp6(1),_.Q6J("ngTemplateOutlet",yn)}}function D(Rt,bn){1&Rt&&_.GkF(0)}function k(Rt,bn){if(1&Rt&&(_.ynx(0),_.YNc(1,D,1,0,"ng-container",14),_.BQk()),2&Rt){_.oxw();const yn=_.MAs(25);_.xp6(1),_.Q6J("ngTemplateOutlet",yn)}}function B(Rt,bn){1&Rt&&_.GkF(0)}function N(Rt,bn){if(1&Rt&&(_.ynx(0),_.YNc(1,B,1,0,"ng-container",14),_.BQk()),2&Rt){_.oxw();const yn=_.MAs(27);_.xp6(1),_.Q6J("ngTemplateOutlet",yn)}}function ce(Rt,bn){1&Rt&&_.GkF(0)}function $(Rt,bn){if(1&Rt&&(_.ynx(0),_.YNc(1,ce,1,0,"ng-container",14),_.BQk()),2&Rt){_.oxw();const yn=_.MAs(29);_.xp6(1),_.Q6J("ngTemplateOutlet",yn)}}function z(Rt,bn){1&Rt&&_.GkF(0)}function S(Rt,bn){if(1&Rt&&(_.ynx(0),_.YNc(1,z,1,0,"ng-container",14),_.BQk()),2&Rt){_.oxw();const yn=_.MAs(19);_.xp6(1),_.Q6J("ngTemplateOutlet",yn)}}function O(Rt,bn){1&Rt&&_.GkF(0)}function K(Rt,bn){if(1&Rt&&(_.ynx(0),_.YNc(1,O,1,0,"ng-container",14),_.BQk()),2&Rt){_.oxw();const yn=_.MAs(21);_.xp6(1),_.Q6J("ngTemplateOutlet",yn)}}function ue(Rt,bn){1&Rt&&_.GkF(0)}function q(Rt,bn){if(1&Rt&&(_.ynx(0),_.YNc(1,ue,1,0,"ng-container",14),_.BQk()),2&Rt){_.oxw();const yn=_.MAs(23);_.xp6(1),_.Q6J("ngTemplateOutlet",yn)}}function G(Rt,bn){1&Rt&&_.GkF(0)}function j(Rt,bn){if(1&Rt&&(_.ynx(0),_.YNc(1,G,1,0,"ng-container",14),_.BQk()),2&Rt){_.oxw();const yn=_.MAs(13);_.xp6(1),_.Q6J("ngTemplateOutlet",yn)}}const fe=function(){return["/clients","billing","search"]};function ne(Rt,bn){1&Rt&&_._UZ(0,"app-extended-menu-item",25),2&Rt&&_.Q6J("link",_.DdM(1,fe))}const J=function(){return["/addresses","list"]};function X(Rt,bn){1&Rt&&_._UZ(0,"app-extended-menu-item",26),2&Rt&&_.Q6J("link",_.DdM(1,J))}const W=function(){return["/topology","houses"]};function Y(Rt,bn){1&Rt&&_._UZ(0,"app-extended-menu-item",27),2&Rt&&_.Q6J("link",_.DdM(1,W))}const Te=function(){return["/employees"]};function Ae(Rt,bn){1&Rt&&_._UZ(0,"app-extended-menu-item",28),2&Rt&&_.Q6J("link",_.DdM(1,Te))}const Ke=function(){return["/salary","table"]};function be(Rt,bn){1&Rt&&_._UZ(0,"app-extended-menu-item",29),2&Rt&&_.Q6J("link",_.DdM(1,Ke))}const Ge=function(){return["/contracts","inspection"]};function ee(Rt,bn){1&Rt&&_._UZ(0,"app-extended-menu-item",30),2&Rt&&_.Q6J("link",_.DdM(1,Ge))}const xe=function(){return["/statistics","employee-works"]};function we(Rt,bn){1&Rt&&_._UZ(0,"app-extended-menu-item",31),2&Rt&&_.Q6J("link",_.DdM(1,xe))}const Pe=function(){return["/files"]};function dt(Rt,bn){1&Rt&&_._UZ(0,"app-extended-menu-item",32),2&Rt&&_.Q6J("link",_.DdM(1,Pe))}const bt=function(){return["/system","billing"]};function it(Rt,bn){1&Rt&&_._UZ(0,"app-extended-menu-item",33),2&Rt&&_.Q6J("link",_.DdM(1,bt))}const Dt=function(){return["/tasks","catalog"]};function vt(Rt,bn){if(1&Rt&&(_._UZ(0,"app-extended-menu-item",15),_.ALo(1,"async"),_.YNc(2,ne,1,2,"app-extended-menu-item",16),_.YNc(3,X,1,2,"app-extended-menu-item",17),_.YNc(4,Y,1,2,"app-extended-menu-item",18),_.YNc(5,Ae,1,2,"app-extended-menu-item",19),_.YNc(6,be,1,2,"app-extended-menu-item",20),_.YNc(7,ee,1,2,"app-extended-menu-item",21),_.YNc(8,we,1,2,"app-extended-menu-item",22),_.YNc(9,dt,1,2,"app-extended-menu-item",23),_.YNc(10,it,1,2,"app-extended-menu-item",24)),2&Rt){const yn=_.oxw();let Wn;_.Q6J("link",null!==(Wn=_.lcZ(1,10,yn.lastCatalogRoute$))&&void 0!==Wn?Wn:_.DdM(12,Dt)),_.xp6(2),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.BILLING)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.EDIT_ADDRESS_BOOK,yn.AccessFlag.EDIT_HOUSE_ADDRESS_BOOK)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.VIEW_SWITCH,yn.AccessFlag.EDIT_SWITCH)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.MANAGE_EMPLOYEES,yn.AccessFlag.MANAGE_DEPARTMENTS,yn.AccessFlag.MANAGE_POSITIONS)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.COUNT_SALARY,yn.AccessFlag.EDIT_PRICE)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.MANAGE_CONTRACTS_TYPES,yn.AccessFlag.VIEW_CONTRACTS)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.VIEW_STATISTICS)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.READ_WRITE_FILES)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.MANAGE_SYSTEM_SETTINGS))}}function Wt(Rt,bn){1&Rt&&_.GkF(0)}const zt=function(){return["/tasks","templates"]};function Ut(Rt,bn){1&Rt&&_._UZ(0,"app-extended-menu-item",39),2&Rt&&_.Q6J("link",_.DdM(1,zt))}const ct=function(){return{name:"\u0417\u0430\u0434\u0430\u0447\u0438"}},at=function(){return["/tasks","registry"]},me=function(){return["/tasks","calendar"]};function De(Rt,bn){if(1&Rt&&(_.YNc(0,Wt,1,0,"ng-container",34),_._UZ(1,"app-extended-menu-item",35),_.ALo(2,"async"),_._UZ(3,"app-extended-menu-item",36)(4,"app-extended-menu-item",37),_.YNc(5,Ut,1,2,"app-extended-menu-item",38)),2&Rt){const yn=_.oxw(),Wn=_.MAs(31);let ii;_.Q6J("ngTemplateOutlet",Wn)("ngTemplateOutletContext",_.DdM(8,ct)),_.xp6(1),_.Q6J("link",null!==(ii=_.lcZ(2,6,yn.lastCatalogRoute$))&&void 0!==ii?ii:_.DdM(9,Dt)),_.xp6(2),_.Q6J("link",_.DdM(10,at)),_.xp6(1),_.Q6J("link",_.DdM(11,me)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.EDIT_TASK_TEMPLATES,yn.AccessFlag.EDIT_TASK_TAGS,yn.AccessFlag.EDIT_DEVICES))}}function ot(Rt,bn){1&Rt&&_.GkF(0)}function Ct(Rt,bn){1&Rt&&_._UZ(0,"app-extended-menu-item",45),2&Rt&&_.Q6J("link",_.DdM(1,Ke))}const Ot=function(){return["/salary","estimation"]};function Ft(Rt,bn){1&Rt&&_._UZ(0,"app-extended-menu-item",46),2&Rt&&_.Q6J("link",_.DdM(2,Ot))("exact",!0)}const Mt=function(){return["/salary","estimation","bypass"]};function Ye(Rt,bn){1&Rt&&_._UZ(0,"app-extended-menu-item",47),2&Rt&&_.Q6J("link",_.DdM(1,Mt))}const st=function(){return["/salary","works"]};function je(Rt,bn){1&Rt&&_._UZ(0,"app-extended-menu-item",48),2&Rt&&_.Q6J("link",_.DdM(1,st))}const It=function(){return["/salary","paid-actions"]};function se(Rt,bn){1&Rt&&_._UZ(0,"app-extended-menu-item",49),2&Rt&&_.Q6J("link",_.DdM(1,It))}const Fe=function(){return{name:"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430"}};function he(Rt,bn){if(1&Rt&&(_.YNc(0,ot,1,0,"ng-container",34),_.YNc(1,Ct,1,2,"app-extended-menu-item",40),_.YNc(2,Ft,1,3,"app-extended-menu-item",41),_.YNc(3,Ye,1,2,"app-extended-menu-item",42),_.YNc(4,je,1,2,"app-extended-menu-item",43),_.YNc(5,se,1,2,"app-extended-menu-item",44)),2&Rt){const yn=_.oxw(),Wn=_.MAs(31);_.Q6J("ngTemplateOutlet",Wn)("ngTemplateOutletContext",_.DdM(7,Fe)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.COUNT_SALARY)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.COUNT_SALARY)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.COUNT_SALARY)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.EDIT_PRICE)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.EDIT_PRICE))}}function gt(Rt,bn){1&Rt&&_.GkF(0)}const cn=function(){return{name:"\u0410\u0431\u043e\u043d\u0435\u043d\u0442\u044b"}},Tn=function(){return["/clients","sessions"]};function en(Rt,bn){if(1&Rt&&(_.YNc(0,gt,1,0,"ng-container",34),_._UZ(1,"app-extended-menu-item",50)(2,"app-extended-menu-item",51)),2&Rt){_.oxw();const yn=_.MAs(31);_.Q6J("ngTemplateOutlet",yn)("ngTemplateOutletContext",_.DdM(4,cn)),_.xp6(1),_.Q6J("link",_.DdM(5,fe)),_.xp6(1),_.Q6J("link",_.DdM(6,Tn))}}function _t(Rt,bn){1&Rt&&_.GkF(0)}function tt(Rt,bn){1&Rt&&_._UZ(0,"app-extended-menu-item",54),2&Rt&&_.Q6J("link",_.DdM(1,Ge))}const de=function(){return["/contracts","types"]};function Qe(Rt,bn){1&Rt&&_._UZ(0,"app-extended-menu-item",55),2&Rt&&_.Q6J("link",_.DdM(1,de))}const ze=function(){return{name:"\u0414\u043e\u0433\u043e\u0432\u043e\u0440\u044b"}};function Et(Rt,bn){if(1&Rt&&(_.YNc(0,_t,1,0,"ng-container",34),_.YNc(1,tt,1,2,"app-extended-menu-item",52),_.YNc(2,Qe,1,2,"app-extended-menu-item",53)),2&Rt){const yn=_.oxw(),Wn=_.MAs(31);_.Q6J("ngTemplateOutlet",Wn)("ngTemplateOutletContext",_.DdM(4,ze)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.VIEW_CONTRACTS)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.MANAGE_CONTRACTS_TYPES))}}function Be(Rt,bn){1&Rt&&_.GkF(0)}const qt=function(){return{name:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"}};function gn(Rt,bn){if(1&Rt&&(_.YNc(0,Be,1,0,"ng-container",34),_._UZ(1,"app-extended-menu-item",56)),2&Rt){_.oxw();const yn=_.MAs(31);_.Q6J("ngTemplateOutlet",yn)("ngTemplateOutletContext",_.DdM(3,qt)),_.xp6(1),_.Q6J("link",_.DdM(4,xe))}}function Qt(Rt,bn){1&Rt&&_.GkF(0)}const Mn=function(){return{name:"\u0410\u0434\u0440\u0435\u0441\u0430"}},Nt=function(){return["/addresses","schemes"]};function rn(Rt,bn){if(1&Rt&&(_.YNc(0,Qt,1,0,"ng-container",34),_._UZ(1,"app-extended-menu-item",57)(2,"app-extended-menu-item",58)),2&Rt){_.oxw();const yn=_.MAs(31);_.Q6J("ngTemplateOutlet",yn)("ngTemplateOutletContext",_.DdM(4,Mn)),_.xp6(1),_.Q6J("link",_.DdM(5,J)),_.xp6(1),_.Q6J("link",_.DdM(6,Nt))}}function Bn(Rt,bn){1&Rt&&_.GkF(0)}const Hn=function(){return{name:"\u0422\u043e\u043f\u043e\u043b\u043e\u0433\u0438\u044f"}},ai=function(){return["/topology","commutators"]},vi=function(){return["/topology","nets"]},Ni=function(){return["/topology","sessions"]};function io(Rt,bn){if(1&Rt&&(_.YNc(0,Bn,1,0,"ng-container",34),_._UZ(1,"app-extended-menu-item",59)(2,"app-extended-menu-item",60)(3,"app-extended-menu-item",61)(4,"app-extended-menu-item",51)),2&Rt){_.oxw();const yn=_.MAs(31);_.Q6J("ngTemplateOutlet",yn)("ngTemplateOutletContext",_.DdM(6,Hn)),_.xp6(1),_.Q6J("link",_.DdM(7,W)),_.xp6(1),_.Q6J("link",_.DdM(8,ai)),_.xp6(1),_.Q6J("link",_.DdM(9,vi)),_.xp6(1),_.Q6J("link",_.DdM(10,Ni))}}function Ho(Rt,bn){1&Rt&&_.GkF(0)}const Ht=function(){return{name:"\u0421\u0438\u0441\u0442\u0435\u043c\u0430"}},Je=function(){return["/system","telegram"]},ye=function(){return["/system","acp"]};function He(Rt,bn){if(1&Rt&&(_.YNc(0,Ho,1,0,"ng-container",34),_._UZ(1,"app-extended-menu-item",62)(2,"app-extended-menu-item",63)(3,"app-extended-menu-item",64)),2&Rt){_.oxw();const yn=_.MAs(31);_.Q6J("ngTemplateOutlet",yn)("ngTemplateOutletContext",_.DdM(5,Ht)),_.xp6(1),_.Q6J("link",_.DdM(6,bt)),_.xp6(1),_.Q6J("link",_.DdM(7,Je)),_.xp6(1),_.Q6J("link",_.DdM(8,ye))}}const ut=function(){return["/"]};function dn(Rt,bn){if(1&Rt&&(_.TgZ(0,"div")(1,"div",65),_._UZ(2,"span",66),_.TgZ(3,"span"),_._uU(4),_.qZA()(),_._UZ(5,"div",67),_.qZA()),2&Rt){const yn=bn.name;_.xp6(1),_.Q6J("routerLink",_.DdM(4,ut)),_.xp6(3),_.Oqu(yn),_.xp6(1),_.Udp("margin",".7rem 1rem 1rem 1rem")}}let In=(()=>{class Rt{constructor(yn,Wn,ii,pi){this.api=yn,this.route=Wn,this.personality=ii,this.taskCatalogCache=pi,this.AccessFlag=f.j,this.stagesMenuItems=[],this.stageMenuExtended=!1,this.stagesLoaded=!1,this.category="main",this.incomingCount$=this.api.getCountIncomingTasks().pipe((0,e.U)(ti=>ti.toString()),(0,d.d)(1)),this.lastCatalogRoute$=this.taskCatalogCache.lastRoute$.pipe((0,e.U)(ti=>u.d.convertToPath(ti,!0)),(0,e.U)(ti=>["/tasks","catalog",...ti]))}ngOnInit(){this.route.url.pipe((0,e.U)(yn=>yn.map(Wn=>Wn.path))).subscribe(yn=>{this.category=yn[0],this.stagesLoaded||this.api.getWireframesNames().subscribe(Wn=>{Wn.forEach(ii=>{const pi=["/tasks/stages",ii.wireframeId.toString()];this.stagesMenuItems=[...this.stagesMenuItems,{label:ii.name,link:pi,extended:!1}],"/"+yn.join("/")===pi.join("/")&&(this.stageMenuExtended=!0)}),this.stagesLoaded=!0})})}}return Rt.\u0275fac=function(yn){return new(yn||Rt)(_.Y36(P.s),_.Y36(x.gz),_.Y36(a.F),_.Y36(u.d))},Rt.\u0275cmp=_.Xpm({type:Rt,selectors:[["app-main-menu-panel"]],decls:32,vars:10,consts:[[1,"menu-panel"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["main",""],["tasks",""],["salary",""],["clients",""],["contracts",""],["statistics",""],["addresses",""],["topology",""],["system",""],["backButton",""],[4,"ngTemplateOutlet"],["caption","\u0417\u0430\u0434\u0430\u0447\u0438","icon","mdi-task",3,"link"],["caption","\u0410\u0431\u043e\u043d\u0435\u043d\u0442\u044b","icon","mdi-group",3,"link",4,"ngIf"],["caption","\u0410\u0434\u0440\u0435\u0441\u0430","icon","mdi-home_work",3,"link",4,"ngIf"],["caption","\u0422\u043e\u043f\u043e\u043b\u043e\u0433\u0438\u044f","icon","mdi-hub",3,"link",4,"ngIf"],["caption","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438","icon","mdi-account_circle",3,"link",4,"ngIf"],["caption","\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430","icon","mdi-currency_ruble",3,"link",4,"ngIf"],["caption","\u0414\u043e\u0433\u043e\u0432\u043e\u0440\u044b","icon","mdi-description",3,"link",4,"ngIf"],["caption","\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430","icon","mdi-analytics",3,"link",4,"ngIf"],["caption","\u0424\u0430\u0439\u043b\u044b","icon","mdi-insert_drive_file",3,"link",4,"ngIf"],["caption","\u0421\u0438\u0441\u0442\u0435\u043c\u0430","icon","mdi-settings",3,"link",4,"ngIf"],["caption","\u0410\u0431\u043e\u043d\u0435\u043d\u0442\u044b","icon","mdi-group",3,"link"],["caption","\u0410\u0434\u0440\u0435\u0441\u0430","icon","mdi-home_work",3,"link"],["caption","\u0422\u043e\u043f\u043e\u043b\u043e\u0433\u0438\u044f","icon","mdi-hub",3,"link"],["caption","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438","icon","mdi-account_circle",3,"link"],["caption","\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430","icon","mdi-currency_ruble",3,"link"],["caption","\u0414\u043e\u0433\u043e\u0432\u043e\u0440\u044b","icon","mdi-description",3,"link"],["caption","\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430","icon","mdi-analytics",3,"link"],["caption","\u0424\u0430\u0439\u043b\u044b","icon","mdi-insert_drive_file",3,"link"],["caption","\u0421\u0438\u0441\u0442\u0435\u043c\u0430","icon","mdi-settings",3,"link"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["caption","\u041a\u0430\u0442\u0430\u043b\u043e\u0433","icon","mdi-inventory_2",3,"link"],["caption","\u0420\u0435\u0435\u0441\u0442\u0440","icon","mdi-format_list_bulleted",3,"link"],["caption","\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c","icon","mdi-calendar_month",3,"link"],["caption","\u0422\u0435\u0433\u0438/\u0428\u0430\u0431\u043b\u043e\u043d\u044b","icon","mdi-ballot",3,"link",4,"ngIf"],["caption","\u0422\u0435\u0433\u0438/\u0428\u0430\u0431\u043b\u043e\u043d\u044b","icon","mdi-ballot",3,"link"],["caption","\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430","icon","mdi-table_chart",3,"link",4,"ngIf"],["caption","\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0440\u0430\u0431\u043e\u0442","icon","mdi-exposure_plus_2",3,"link","exact",4,"ngIf"],["caption","\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0440\u0430\u0431\u043e\u0442 (\u0430\u043b\u044c\u0442.)","icon","mdi-auto_awesome",3,"link",4,"ngIf"],["caption","\u0421\u043f\u0438\u0441\u043e\u043a \u0440\u0430\u0431\u043e\u0442","icon","mdi-construction",3,"link",4,"ngIf"],["caption","\u041f\u043b\u0430\u0442\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f","icon","mdi-toc",3,"link",4,"ngIf"],["caption","\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430","icon","mdi-table_chart",3,"link"],["caption","\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0440\u0430\u0431\u043e\u0442","icon","mdi-exposure_plus_2",3,"link","exact"],["caption","\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0440\u0430\u0431\u043e\u0442 (\u0430\u043b\u044c\u0442.)","icon","mdi-auto_awesome",3,"link"],["caption","\u0421\u043f\u0438\u0441\u043e\u043a \u0440\u0430\u0431\u043e\u0442","icon","mdi-construction",3,"link"],["caption","\u041f\u043b\u0430\u0442\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f","icon","mdi-toc",3,"link"],["caption","\u0411\u0438\u043b\u043b\u0438\u043d\u0433","icon","mdi-manage_accounts",3,"link"],["caption","\u0421\u0435\u0441\u0441\u0438\u0438","icon","mdi-stream",3,"link"],["caption","\u041f\u0440\u0438\u0435\u043c\u043a\u0430","icon","mdi-verified",3,"link",4,"ngIf"],["caption","\u0422\u0438\u043f\u044b \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432","icon","mdi-plagiarism",3,"link",4,"ngIf"],["caption","\u041f\u0440\u0438\u0435\u043c\u043a\u0430","icon","mdi-verified",3,"link"],["caption","\u0422\u0438\u043f\u044b \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432","icon","mdi-plagiarism",3,"link"],["caption","\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a/\u0420\u0430\u0431\u043e\u0442\u0430","icon","mdi-work_history",3,"link"],["caption","\u0421\u043f\u0438\u0441\u043e\u043a","icon","mdi-view_list",3,"link"],["caption","\u0421\u0445\u0435\u043c\u044b \u0434\u043e\u043c\u043e\u0432","icon","mdi-schema",3,"link"],["caption","\u0414\u043e\u043c\u0430","icon","mdi-maps_home_work",3,"link"],["caption","\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u044b","icon","mdi-dns",3,"link"],["caption","\u0421\u0435\u0442\u0438","icon","mdi-lan",3,"link"],["caption","\u0411\u0438\u043b\u043b\u0438\u043d\u0433","icon","mdi-person_search",3,"link"],["caption","Telegram","icon","pi pi-telegram text-2xl",3,"link"],["caption","ACP","icon","mdi-developer_board",3,"link"],[1,"back-button",3,"routerLink"],[1,"mdi-navigate_before"],[1,"border-bottom-1","border-bluegray-100"]],template:function(yn,Wn){1&yn&&(_.TgZ(0,"div",0),_.ynx(1,1),_.YNc(2,L,2,1,"ng-container",2),_.YNc(3,F,2,1,"ng-container",2),_.YNc(4,y,2,1,"ng-container",2),_.YNc(5,k,2,1,"ng-container",2),_.YNc(6,N,2,1,"ng-container",2),_.YNc(7,$,2,1,"ng-container",2),_.YNc(8,S,2,1,"ng-container",2),_.YNc(9,K,2,1,"ng-container",2),_.YNc(10,q,2,1,"ng-container",2),_.YNc(11,j,2,1,"ng-container",3),_.BQk(),_.qZA(),_.YNc(12,vt,11,13,"ng-template",null,4,_.W1O),_.YNc(14,De,6,12,"ng-template",null,5,_.W1O),_.YNc(16,he,6,8,"ng-template",null,6,_.W1O),_.YNc(18,en,3,7,"ng-template",null,7,_.W1O),_.YNc(20,Et,3,5,"ng-template",null,8,_.W1O),_.YNc(22,gn,2,5,"ng-template",null,9,_.W1O),_.YNc(24,rn,3,7,"ng-template",null,10,_.W1O),_.YNc(26,io,5,11,"ng-template",null,11,_.W1O),_.YNc(28,He,4,9,"ng-template",null,12,_.W1O),_.YNc(30,dn,6,5,"ng-template",null,13,_.W1O)),2&yn&&(_.xp6(1),_.Q6J("ngSwitch",Wn.category),_.xp6(1),_.Q6J("ngSwitchCase","main"),_.xp6(1),_.Q6J("ngSwitchCase","tasks"),_.xp6(1),_.Q6J("ngSwitchCase","salary"),_.xp6(1),_.Q6J("ngSwitchCase","addresses"),_.xp6(1),_.Q6J("ngSwitchCase","topology"),_.xp6(1),_.Q6J("ngSwitchCase","system"),_.xp6(1),_.Q6J("ngSwitchCase","clients"),_.xp6(1),_.Q6J("ngSwitchCase","contracts"),_.xp6(1),_.Q6J("ngSwitchCase","statistics"))},styles:[".menu-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-shadow:var(--shadow-0);background-color:#fff;border-radius:var(--br-200);height:-moz-fit-content;height:fit-content;min-width:20rem;padding:1rem;gap:1rem;position:sticky;top:calc(var(--top-panel-height) + 1.5rem)}.back-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;padding:.5rem;border-radius:.5rem;color:var(--tc-800);font-size:1.2rem;transition:color .15s ease-out,background-color .15s ease-out;outline:none}.back-button[_ngcontent-%COMP%]:hover{color:var(--mc-400)}.back-button[_ngcontent-%COMP%]:active{color:var(--mc-0);background-color:var(--mc-300)}"]}),Rt})()},4881:(hn,ht,b)=>{"use strict";b.d(ht,{E:()=>Tn});var e=b(5e3),d=b(7384),u=b(383),f=b(2382),_=b(4004),P=b(4488),x=b(8738),a=b(8007),R=b(963);const L=["tagsPreview"],V=["typeChangePanel"],F=["categoryChangePanel"],T=["contextMenuPanel"];function y(en,_t){if(1&en){const tt=e.EpF();e.TgZ(0,"p-checkbox",43),e.NdJ("click",function(Qe){return Qe.stopPropagation()})("ngModelChange",function(Qe){e.CHM(tt);const ze=e.oxw();return e.KtG(ze.checkChange.emit(Qe))})("ngModelChange",function(Qe){e.CHM(tt);const ze=e.oxw();return e.KtG(ze.check=Qe)}),e.qZA()}if(2&en){const tt=e.oxw();e.Q6J("ngModel",tt.check)("name",tt.checkGroup)("value",null==tt.item?null:tt.item.taskId)}}function D(en,_t){1&en&&e.GkF(0)}function k(en,_t){1&en&&e.GkF(0)}function B(en,_t){1&en&&e.GkF(0)}const N=function(en){return{label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",value:en}};function ce(en,_t){if(1&en){const tt=e.EpF();e.TgZ(0,"div",44),e.NdJ("click",function(Qe){e.CHM(tt),e.oxw();const ze=e.MAs(48),Et=e.MAs(45);return Qe.stopPropagation(),ze.toggle(Qe),e.KtG(Et.hide())}),e.YNc(1,B,1,0,"ng-container",5),e.qZA()}if(2&en){const tt=e.oxw(),de=e.MAs(39);let Qe;e.xp6(1),e.Q6J("ngTemplateOutlet",de)("ngTemplateOutletContext",e.VKq(2,N,null!==(Qe=null==tt.item||null==tt.item.currentDirectory?null:tt.item.currentDirectory.name)&&void 0!==Qe?Qe:"\u0411\u0435\u0437 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"))}}function $(en,_t){1&en&&e.GkF(0)}const z=function(en){return{label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430",value:en}};function S(en,_t){if(1&en&&(e.ynx(0),e.YNc(1,$,1,0,"ng-container",5),e.ALo(2,"date"),e.BQk()),2&en){const tt=e.oxw(2),de=e.MAs(39);e.xp6(1),e.Q6J("ngTemplateOutlet",de)("ngTemplateOutletContext",e.VKq(5,z,e.xi3(2,2,null==tt.item?null:tt.item.actualFrom,"dd/MM/yyyy HH:mm")))}}function O(en,_t){1&en&&e.GkF(0)}const K=function(en,_t){return{label:en,value:_t}};function ue(en,_t){if(1&en&&(e.ynx(0),e.YNc(1,O,1,0,"ng-container",5),e.ALo(2,"date"),e.BQk()),2&en){const tt=e.oxw(2),de=e.MAs(39);e.xp6(1),e.Q6J("ngTemplateOutlet",de)("ngTemplateOutletContext",e.WLB(5,K,tt.isExpired?"\u041f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d\u0430":"\u0421\u0440\u043e\u043a",e.xi3(2,2,null==tt.item?null:tt.item.actualTo,"dd/MM/yyyy HH:mm")))}}function q(en,_t){if(1&en&&(e.ynx(0),e.YNc(1,S,3,7,"ng-container",8),e.YNc(2,ue,3,8,"ng-container",8),e.BQk()),2&en){const tt=e.oxw();e.xp6(1),e.Q6J("ngIf",null==tt.item?null:tt.item.actualFrom),e.xp6(1),e.Q6J("ngIf",(null==tt.item?null:tt.item.actualTo)&&!(null!=tt.item&&tt.item.actualFrom))}}function G(en,_t){if(1&en){const tt=e.EpF();e.TgZ(0,"app-task-tag-inline-selector",45),e.NdJ("onShow",function(){e.CHM(tt);const Qe=e.oxw();return e.KtG(Qe.onStartEdit.emit(Qe.item))})("onHide",function(){e.CHM(tt);const Qe=e.oxw();return e.KtG(Qe.onStopEdit.emit(Qe.item))}),e.qZA()}if(2&en){const tt=e.oxw();e.Q6J("formControl",tt.tagsControl)}}function j(en,_t){1&en&&e.GkF(0)}function fe(en,_t){1&en&&e.GkF(0)}const ne=function(en){return{$implicit:en}};function J(en,_t){if(1&en&&(e.ynx(0),e.YNc(1,fe,1,0,"ng-container",5),e.BQk()),2&en){const tt=_t.$implicit;e.oxw(2);const de=e.MAs(28);e.xp6(1),e.Q6J("ngTemplateOutlet",de)("ngTemplateOutletContext",e.VKq(2,ne,tt))}}function X(en,_t){if(1&en&&(e.TgZ(0,"div",46),e.YNc(1,J,2,4,"ng-container",47),e.qZA()),2&en){const tt=e.oxw();e.xp6(1),e.Q6J("ngForOf",tt.item.lastComments)}}function W(en,_t){if(1&en){const tt=e.EpF();e.TgZ(0,"div",48),e.NdJ("dragstart",function(Qe){return Qe.stopPropagation(),Qe.preventDefault()}),e.TgZ(1,"textarea",49),e.NdJ("keydown.control.enter",function(){e.CHM(tt);const Qe=e.oxw();return e.KtG(Qe.sendComment())})("focus",function(){e.CHM(tt);const Qe=e.oxw();return e.KtG(Qe.onStartEdit.emit(Qe.item))})("blur",function(){e.CHM(tt);const Qe=e.oxw();return e.KtG(Qe.onStopEdit.emit(Qe.item))})("click",function(Qe){return Qe.stopPropagation()}),e.qZA(),e.TgZ(2,"p-button",50),e.NdJ("onClick",function(Qe){e.CHM(tt);const ze=e.oxw();return Qe.stopPropagation(),e.KtG(ze.sendComment())}),e.qZA()()}if(2&en){const tt=e.oxw();e.Q6J("draggable",!0),e.xp6(1),e.Q6J("autoResize",!0)("rows",1)("formControl",tt.commentInputControl)("readonly",tt.commentSending),e.xp6(1),e.Q6J("loading",tt.commentSending)}}function Y(en,_t){if(1&en){const tt=e.EpF();e.TgZ(0,"div",51),e.NdJ("click",function(Qe){e.CHM(tt);const ze=e.oxw();return Qe.stopPropagation(),e.KtG(ze.openTaskInOldTracker(null==ze.item?null:ze.item.oldTrackerTaskId))}),e._UZ(1,"span",52),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&en){const tt=e.oxw();e.xp6(3),e.Oqu(null==tt.item?null:tt.item.oldTrackerTaskId)}}const Te=function(){return{whiteSpace:"pre-wrap",wordWrap:"break-word",textAlign:"left"}};function Ae(en,_t){if(1&en&&(e.TgZ(0,"div",53)(1,"span",54),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"span",55),e._uU(5),e.qZA(),e.TgZ(6,"div",56),e._uU(7),e.qZA()()),2&en){const tt=_t.$implicit;e.xp6(2),e.hij(" ",e.xi3(3,5,tt.created,"dd-MM-yyyy HH:mm")," "),e.xp6(3),e.hij(" ",null==tt.creator?null:tt.creator.fullName,": "),e.xp6(1),e.Akn(e.DdM(8,Te)),e.xp6(1),e.hij(" ",tt.simpleText," ")}}function Ke(en,_t){if(1&en&&(e.TgZ(0,"div",60),e._uU(1),e.qZA()),2&en){const tt=_t.$implicit;e.Udp("background-color",tt.color),e.xp6(1),e.Oqu(tt.name)}}function be(en,_t){if(1&en){const tt=e.EpF();e.TgZ(0,"div",61),e.NdJ("mouseenter",function(Qe){e.CHM(tt);const ze=e.oxw(2);return e.KtG(ze.tagsPreviewShow(Qe))})("mouseleave",function(){e.CHM(tt);const Qe=e.oxw(2);return e.KtG(Qe.tagsPreviewHide())}),e._uU(1),e.qZA()}if(2&en){const tt=e.oxw(2);e.xp6(1),e.hij("",tt.remainingNumberOfTags,"+ ")}}function Ge(en,_t){if(1&en&&(e.TgZ(0,"div",57),e.YNc(1,Ke,2,3,"div",58),e.ALo(2,"slice"),e.YNc(3,be,2,1,"div",59),e.qZA()),2&en){const tt=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.Dn7(2,3,null==tt.item?null:tt.item.tags,0,4))("ngForTrackBy",tt.trackByTag),e.xp6(2),e.Q6J("ngIf",tt.isMoreTags)}}function ee(en,_t){if(1&en&&(e.TgZ(0,"div",62),e._uU(1),e.qZA()),2&en){const tt=_t.$implicit;e.Udp("background-color",tt.color),e.xp6(1),e.Oqu(tt.name)}}function xe(en,_t){if(1&en&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&en){const tt=e.oxw().$implicit;e.xp6(1),e.Oqu(null==tt?null:tt.textRepresentation)}}function we(en,_t){if(1&en&&(e.ynx(0),e.YNc(1,xe,2,1,"span",8),e.BQk()),2&en){const tt=_t.index,de=e.oxw(3);e.xp6(1),e.Q6J("ngIf",tt<de.fieldCountArray.length)}}function Pe(en,_t){if(1&en&&(e.ynx(0),e.YNc(1,we,2,1,"ng-container",64),e.BQk()),2&en){const tt=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",null==tt.item?null:tt.item.listItemFields)("ngForTrackBy",tt.trackByField)}}function dt(en,_t){if(1&en){const tt=e.EpF();e.ynx(0),e.TgZ(1,"app-select-field-to-view-button",65),e.NdJ("selectView",function(Qe){e.CHM(tt);const ze=e.oxw(3);return e.KtG(ze.selectFieldToView.emit(Qe))}),e.qZA(),e.BQk()}if(2&en){const tt=_t.$implicit,de=e.oxw(3);e.xp6(1),e.Q6J("fields",de.wireframeFieldsList)("index",tt)}}function bt(en,_t){if(1&en&&(e.ynx(0),e.YNc(1,dt,2,2,"ng-container",64),e.BQk()),2&en){const tt=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",tt.fieldCountArray)("ngForTrackBy",tt.trackByIndex)}}function it(en,_t){if(1&en&&(e.TgZ(0,"div",63),e.YNc(1,Pe,2,2,"ng-container",8),e.YNc(2,bt,2,2,"ng-container",8),e.qZA()),2&en){const tt=e.oxw();e.Q6J("ngClass",null==tt.item||null==tt.item.modelWireframe?null:tt.item.modelWireframe.listViewType),e.xp6(1),e.Q6J("ngIf",!tt.viewExample),e.xp6(1),e.Q6J("ngIf",tt.viewExample)}}function Dt(en,_t){if(1&en&&(e.TgZ(0,"span",66)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span",67),e._uU(4),e.qZA()()),2&en){const tt=_t.label,de=_t.value,Qe=e.oxw();e.xp6(2),e.Oqu(tt),e.xp6(1),e.Q6J("ngClass",Qe.statusColor),e.xp6(1),e.Oqu(de)}}function vt(en,_t){1&en&&e.GkF(0)}const Wt=function(en){return{label:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439",value:en}};function zt(en,_t){if(1&en&&(e.ynx(0),e.YNc(1,vt,1,0,"ng-container",5),e.BQk()),2&en){const tt=e.oxw(2),de=e.MAs(39);e.xp6(1),e.Q6J("ngTemplateOutlet",de)("ngTemplateOutletContext",e.VKq(2,Wt,null==tt.item||null==tt.item.responsible?null:tt.item.responsible.fullName))}}function Ut(en,_t){if(1&en&&e.YNc(0,zt,2,4,"ng-container",8),2&en){const tt=e.oxw();e.Q6J("ngIf",null==tt.item?null:tt.item.responsible)}}function ct(en,_t){1&en&&e.GkF(0)}const at=function(en){return{label:"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438",value:en}};function me(en,_t){if(1&en&&(e.ynx(0),e.YNc(1,ct,1,0,"ng-container",5),e.BQk()),2&en){const tt=e.oxw(2),de=e.MAs(39);e.xp6(1),e.Q6J("ngTemplateOutlet",de)("ngTemplateOutletContext",e.VKq(2,at,tt.actualWorkLogWorkers))}}function De(en,_t){if(1&en&&e.YNc(0,me,2,4,"ng-container",8),2&en){const tt=e.oxw();e.Q6J("ngIf",tt.actualWorkLogWorkers)}}function ot(en,_t){if(1&en&&(e.ynx(0),e._UZ(1,"p-menu",69),e.BQk()),2&en){const tt=e.oxw().ngIf;e.xp6(1),e.Q6J("model",tt)}}function Ct(en,_t){1&en&&(e.ynx(0),e.TgZ(1,"div",70),e._uU(2,"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432"),e.qZA(),e.BQk())}function Ot(en,_t){if(1&en&&(e.ynx(0),e.YNc(1,ot,2,1,"ng-container",8),e.YNc(2,Ct,3,0,"ng-container",8),e.BQk()),2&en){const tt=_t.ngIf;e.xp6(1),e.Q6J("ngIf",tt&&tt.length>0),e.xp6(1),e.Q6J("ngIf",tt&&0===tt.length)}}function Ft(en,_t){if(1&en&&(e.YNc(0,Ot,3,2,"ng-container",68),e.ALo(1,"async")),2&en){const tt=e.oxw(),de=e.MAs(59);e.Q6J("ngIf",e.lcZ(1,2,tt.typesMenuModel$))("ngIfElse",de)}}function Mt(en,_t){if(1&en&&(e.ynx(0),e._UZ(1,"p-menu",69),e.BQk()),2&en){const tt=e.oxw().ngIf;e.xp6(1),e.Q6J("model",tt)}}function Ye(en,_t){1&en&&(e.ynx(0),e.TgZ(1,"div",70),e._uU(2,"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439"),e.qZA(),e.BQk())}function st(en,_t){if(1&en&&(e.ynx(0),e.YNc(1,Mt,2,1,"ng-container",8),e.YNc(2,Ye,3,0,"ng-container",8),e.BQk()),2&en){const tt=_t.ngIf;e.xp6(1),e.Q6J("ngIf",tt&&tt.length>0),e.xp6(1),e.Q6J("ngIf",tt&&0===tt.length)}}function je(en,_t){if(1&en&&(e.YNc(0,st,3,2,"ng-container",68),e.ALo(1,"async")),2&en){const tt=e.oxw(),de=e.MAs(59);e.Q6J("ngIf",e.lcZ(1,2,tt.categoryMenuModel$))("ngIfElse",de)}}function It(en,_t){if(1&en&&e._UZ(0,"p-menu",69),2&en){const tt=e.oxw();e.Q6J("model",tt.contextMenuModel)}}function se(en,_t){1&en&&e._UZ(0,"p-progressSpinner",71)}const Fe=function(en,_t,tt){return{processing:en,inlined:_t,hovered:tt}},he=function(en){return["/task",en]},gt=function(en){return{label:"\u041a\u043b\u0430\u0441\u0441",value:en}},cn=function(en){return{label:"\u0422\u0438\u043f",value:en}};let Tn=(()=>{class en{constructor(tt,de,Qe,ze){this.taskService=tt,this.api=de,this.rt=Qe,this.commentCachingService=ze,this.viewExample=!1,this.wireframeFieldsList=[],this.checkChange=new e.vpe,this.checkGroup="task",this.selectFieldToView=new e.vpe,this.isHover=!0,this.inlined=!1,this.onClick=new e.vpe,this.customClickHandler=!1,this.isCommentInput=!1,this.onStartEdit=new e.vpe,this.onStopEdit=new e.vpe,this.isWide$=(0,u.cy)("(min-width: 1024px)"),this.statusClass={},this.itemClass={},this.commentInputControl=new f.NI(""),this.commentSending=!1,this.dotAnimation=u.xn,this.tagsControl=new f.NI([]),this.isBlockBackground=!1,this.contextMenuModel=[],this.contextMenuTargetX=0,this.contextMenuTargetY=0,this.isAppointInstallersDialogVisible=!1,this.isShowEditTaskDialogVisible=!1,this.isShowTaskSchedulingDialogVisible=!1,this.taskSchedulingType="from",this.subscription=new u.xf}get contextMenuTargetStyle(){return{top:this.contextMenuTargetY+"px",left:this.contextMenuTargetX+"px"}}get fieldCountArray(){var tt,de;switch(null===(de=null===(tt=this.item)||void 0===tt?void 0:tt.modelWireframe)||void 0===de?void 0:de.listViewType){case"SIMPLE":return[1];case"COMPOSITE":return[1,2];case"DETAILED":return[1,2,3];default:return[]}}get statusColor(){var tt,de,Qe;return{"text-primary":(null===(tt=this.item)||void 0===tt?void 0:tt.taskStatus)===d.hY.ACTIVE,"text-orange-400":(null===(de=this.item)||void 0===de?void 0:de.taskStatus)===d.hY.PROCESSING,"text-bluegray-200":(null===(Qe=this.item)||void 0===Qe?void 0:Qe.taskStatus)===d.hY.CLOSE}}get isExpired(){let tt=!1;return this.item&&this.item.actualTo&&(tt=new Date(this.item.actualTo).getTime()<(new Date).getTime()),tt}get statusBgColor(){if(this.item){const{taskStatus:tt}=this.item;return{"bg-red-500":tt===d.hY.ACTIVE&&this.isExpired,"bg-primary":tt===d.hY.ACTIVE&&!this.isExpired,"bg-orange-500":tt===d.hY.PROCESSING,"bg-bluegray-200":tt===d.hY.CLOSE}}return null}get taskFields(){var tt,de,Qe,ze,Et,Be;const qt=["LARGE_TEXT","COUNTING_LIVES"];return{inline:null!==(Qe=null===(de=null===(tt=this.item)||void 0===tt?void 0:tt.fields)||void 0===de?void 0:de.filter(gn=>!qt.includes(gn.wireframeFieldType)))&&void 0!==Qe?Qe:[],block:null!==(Be=null===(Et=null===(ze=this.item)||void 0===ze?void 0:ze.fields)||void 0===Et?void 0:Et.filter(gn=>qt.includes(gn.wireframeFieldType)))&&void 0!==Be?Be:[]}}get isMoreTags(){var tt;return!(null===(tt=this.item)||void 0===tt||!tt.tags)&&this.item.tags.length>4}get remainingNumberOfTags(){var tt;return null!==(tt=this.item)&&void 0!==tt&&tt.tags?this.item.tags.length-2:0}get bodyClass(){var tt,de,Qe,ze,Et,Be;return{simple:"SIMPLE"===(null===(de=null===(tt=this.item)||void 0===tt?void 0:tt.modelWireframe)||void 0===de?void 0:de.listViewType),composite:"COMPOSITE"===(null===(ze=null===(Qe=this.item)||void 0===Qe?void 0:Qe.modelWireframe)||void 0===ze?void 0:ze.listViewType),detailed:"DETAILED"===(null===(Be=null===(Et=this.item)||void 0===Et?void 0:Et.modelWireframe)||void 0===Be?void 0:Be.listViewType)}}get actualWorkLogWorkers(){var tt,de;return null!==(de=null===(tt=this.actualWorkLog)||void 0===tt?void 0:tt.employees.map(Qe=>Qe.fullName).join(", "))&&void 0!==de?de:""}trackByIndex(tt,de){return tt}trackByTag(tt,de){return de.taskTagId+de.name+de.color}trackByField(tt,de){return de?de.id+de.name+de.textRepresentation:""}ngOnInit(){var tt,de,Qe;!(null===(tt=this.item)||void 0===tt)&&tt.taskStatus&&(this.statusClass={active:this.item.taskStatus===d.hY.ACTIVE,processed:this.item.taskStatus===d.hY.PROCESSING,close:this.item.taskStatus===d.hY.CLOSE}),this.updateActualWorkLog(),this.itemClass=Object.assign({"view-example":this.viewExample,hovered:this.isHover,selected:this.check},this.statusClass),!(null===(de=this.item)||void 0===de)&&de.taskId&&this.commentInputControl.setValue(this.commentCachingService.read(null===(Qe=this.item)||void 0===Qe?void 0:Qe.taskId)),this.subscription.addSubscription("comInp",this.commentInputControl.valueChanges.subscribe(ze=>{var Et;null!==(Et=this.item)&&void 0!==Et&&Et.taskId&&this.commentCachingService.write(this.item.taskId,null!=ze?ze:"")}))}tagsPreviewShow(tt){var de;null===(de=this.tagsPreview)||void 0===de||de.show(tt)}tagsPreviewHide(){setTimeout(()=>{var tt;null===(tt=this.tagsPreview)||void 0===tt||tt.hide()})}getFieldValue(tt){return this.item&&null!=this.item.listItemFields[tt]?this.item.listItemFields[tt].textRepresentation:""}ngOnChanges(tt){const{item:de,externalUpdater:Qe}=tt;de&&de.currentValue&&(this.tagsControl.setValue(de.currentValue.tags,{emitEvent:!1}),this.typesMenuModel$=this.api.getAvailableTaskTypesToChange(de.currentValue.taskId).pipe((0,_.U)(ze=>ze.map(Et=>({label:Et.label,command:()=>{var Be;this.api.changeTaskStage(de.currentValue.taskId,Et.stageId).subscribe(),null===(Be=this.typeChangePanel)||void 0===Be||Be.hide()}})))),this.categoryMenuModel$=this.api.getAvailableDirectoriesToChange(de.currentValue.taskId).pipe((0,_.U)(ze=>ze.map(Et=>({label:Et.name,command:()=>{var Be;this.api.moveTaskToDirectory([de.currentValue.taskId],Et.taskTypeDirectoryId).subscribe(),null===(Be=this.categoryChangePanel)||void 0===Be||Be.hide()}})))),this.contextMenuModel=[{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",disabled:de.currentValue.taskStatus!==d.hY.ACTIVE,command:()=>{var ze;this.isShowEditTaskDialogVisible=!0,null===(ze=this.contextMenuPanel)||void 0===ze||ze.hide()}},{label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-event_available",disabled:de.currentValue.taskStatus!==d.hY.ACTIVE,command:()=>{var ze;this.isShowTaskSchedulingDialogVisible=!0,this.taskSchedulingType="from",null===(ze=this.contextMenuPanel)||void 0===ze||ze.hide()}},{label:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0440\u043e\u043a",icon:"mdi-event_available",disabled:de.currentValue.taskStatus!==d.hY.ACTIVE,command:()=>{var ze;this.isShowTaskSchedulingDialogVisible=!0,this.taskSchedulingType="to",null===(ze=this.contextMenuPanel)||void 0===ze||ze.hide()}},{label:"\u041e\u0442\u0434\u0430\u0442\u044c \u0432 \u0440\u0430\u0431\u043e\u0442\u0443",icon:"mdi-how_to_reg",disabled:de.currentValue.taskStatus!==d.hY.ACTIVE,command:()=>{var ze;this.isAppointInstallersDialogVisible=!0,null===(ze=this.contextMenuPanel)||void 0===ze||ze.hide()}}],this.updateActualWorkLog(),this.subscription.addSubscription("updateObs",Qe&&Qe.currentValue?Qe.currentValue.subscribe(Et=>this.item=Et):this.rt.taskUpdated(de.currentValue.taskId).subscribe(ze=>this.item=ze)),this.subscription.addSubscription("chTags",this.tagsControl.valueChanges.subscribe(ze=>this.api.setTaskTags(de.currentValue.taskId,null!=ze?ze:[]).subscribe())))}ngOnDestroy(){this.subscription.unsubscribeAll()}sendComment(){var tt,de;null===(tt=this.item)||void 0===tt||!tt.taskId||""===this.commentInputControl.value||(this.commentSending=!0,this.api.createComment(this.commentInputControl.value,null===(de=this.item)||void 0===de?void 0:de.taskId,null).subscribe({next:()=>{var Qe,ze;this.commentSending=!1,this.commentInputControl.setValue(""),null!==(Qe=this.item)&&void 0!==Qe&&Qe.taskId&&this.commentCachingService.flush(null===(ze=this.item)||void 0===ze?void 0:ze.taskId)},error:()=>this.commentSending=!1}))}callToPhone(tt){this.api.callToPhone(tt.value).subscribe({})}openTaskInOldTracker(tt){tt&&window.open(`http://tracker.vdonsk.ru/main.php?mode=show_obji&obji=${tt}&from_cat=1`,"_blank")}positioningContextMenuTarget(tt){tt.preventDefault(),this.contextMenuTargetX=tt.clientX,this.contextMenuTargetY=tt.clientY}startEdit(){this.isBlockBackground=!0,this.onStartEdit.emit(this.item)}stopEdit(){this.isBlockBackground=!1,!this.isAppointInstallersDialogVisible&&!this.isShowEditTaskDialogVisible&&!this.isShowTaskSchedulingDialogVisible&&this.onStopEdit.emit(this.item)}updateActualWorkLog(){var tt;(null===(tt=this.item)||void 0===tt?void 0:tt.taskStatus)===d.hY.PROCESSING&&this.api.getActiveWorkLogByTaskId(this.item.taskId).subscribe({next:de=>{this.actualWorkLog=de}})}}return en.\u0275fac=function(tt){return new(tt||en)(e.Y36(P.U),e.Y36(x.s),e.Y36(a.U),e.Y36(R.f))},en.\u0275cmp=e.Xpm({type:en,selectors:[["app-task-list-element"]],viewQuery:function(tt,de){if(1&tt&&(e.Gf(L,5),e.Gf(V,5),e.Gf(F,5),e.Gf(T,5)),2&tt){let Qe;e.iGM(Qe=e.CRH())&&(de.tagsPreview=Qe.first),e.iGM(Qe=e.CRH())&&(de.typeChangePanel=Qe.first),e.iGM(Qe=e.CRH())&&(de.categoryChangePanel=Qe.first),e.iGM(Qe=e.CRH())&&(de.contextMenuPanel=Qe.first)}},inputs:{item:"item",viewExample:"viewExample",wireframeFieldsList:"wireframeFieldsList",check:"check",checkGroup:"checkGroup",isHover:"isHover",inlined:"inlined",customClickHandler:"customClickHandler",isCommentInput:"isCommentInput",externalUpdater:"externalUpdater"},outputs:{checkChange:"checkChange",selectFieldToView:"selectFieldToView",onClick:"onClick",onStartEdit:"onStartEdit",onStopEdit:"onStopEdit"},features:[e.TTD],decls:62,vars:60,consts:[[1,"flex","flex-column","bg-white","outline-none","cursor-pointer","hover:bg-gray-50","relative","pl-1",3,"ngClass","routerLink","click","contextmenu"],["taskWrapper",""],[1,"absolute","top-0","left-0","h-full","opacity-50",3,"ngClass"],[1,"flex","gap-3","p-3","border-bottom-1","border-bluegray-50","align-items-center"],[3,"ngModel","name","value","click","ngModelChange",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click"],["class","hover:text-orange-500",3,"click",4,"ngIf"],[4,"ngIf"],[3,"formControl","onShow","onHide",4,"ngIf"],[1,"stretched"],[4,"ngIf","ngIfThen","ngIfElse"],[3,"task","isTaskBody"],["class","border-top-1 border-bottom-1 border-bluegray-100 p-3 gap-1 flex flex-column",4,"ngIf"],["class","flex relative",3,"draggable","dragstart",4,"ngIf"],[1,"flex","p-3","gap-2"],["class","flex align-items-center gap-1 text-bluegray-400 hover:text-primary text-sm",3,"click",4,"ngIf"],[1,"flex-grow-1"],[1,"text-bluegray-500","text-sm","font-semibold"],[1,"font-semibold","text-sm",3,"ngClass"],["lastCommentTemplate",""],["statusTags",""],["hideTransitionOptions","0ms","showTransitionOptions","0ms",3,"appendTo"],["tagsPreview",""],[1,"tags-view","wrap","max"],["class","tags-view-item",3,"background-color",4,"ngFor","ngForOf","ngForTrackBy"],["bodyView",""],["headerItem",""],["responsibleEmployee",""],["workersEmployee",""],["appendTo","body","styleClass","overlay-panel-unpadding",3,"onShow","onHide"],["typeChangePanel",""],["pTemplate","content"],["categoryChangePanel",""],[1,"fixed","max-w-0","max-h-0","pointer-events-none"],["contextMenuTarget",""],[3,"visible","taskId","visibleChange"],[3,"visible","task","visibleChange"],[3,"visible","schedulingType","taskId","visibleChange"],["contextMenuPanel",""],["loadingTemplate",""],[3,"blocked","baseZIndex","autoZIndex"],[1,"w-full","h-full",3,"contextmenu"],[3,"ngModel","name","value","click","ngModelChange"],[1,"hover:text-orange-500",3,"click"],[3,"formControl","onShow","onHide"],[1,"border-top-1","border-bottom-1","border-bluegray-100","p-3","gap-1","flex","flex-column"],[4,"ngFor","ngForOf"],[1,"flex","relative",3,"draggable","dragstart"],["pInputTextarea","","placeholder","\u041d\u043e\u0432\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",1,"mt-2","mx-3","flex-grow-1",3,"autoResize","rows","formControl","readonly","keydown.control.enter","focus","blur","click"],["icon","mdi-send","styleClass","p-button-text p-button-icon",1,"absolute","bottom-0","right-0","mr-3",3,"loading","onClick"],[1,"flex","align-items-center","gap-1","text-bluegray-400","hover:text-primary","text-sm",3,"click"],[1,"mdi-sync"],[1,"flex","gap-2"],[1,"text-sm","white-space-nowrap","text-bluegray-400","line-height-4"],[1,"text-sm","white-space-nowrap","text-primary-600","line-height-4"],[1,"text-bluegray-500"],[1,"tags-view"],["class","tags-view-item small",3,"background-color",4,"ngFor","ngForOf","ngForTrackBy"],["class","tags-view-item small",3,"mouseenter","mouseleave",4,"ngIf"],[1,"tags-view-item","small"],[1,"tags-view-item","small",3,"mouseenter","mouseleave"],[1,"tags-view-item"],[1,"task-item-body",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"fields","index","selectView"],[1,"flex","flex-column","text-sm"],[1,"font-semibold",3,"ngClass"],[4,"ngIf","ngIfElse"],[3,"model"],[1,"p-4","text-bluegray-300","font-bold"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"]],template:function(tt,de){if(1&tt){const Qe=e.EpF();e.TgZ(0,"div",0,1),e.NdJ("click",function(){return de.onClick.emit(de.item)})("contextmenu",function(Et){e.CHM(Qe);const Be=e.MAs(51),qt=e.MAs(56);return de.positioningContextMenuTarget(Et),e.KtG(qt.toggle(Et,Be))}),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.YNc(4,y,1,3,"p-checkbox",4),e.YNc(5,D,1,0,"ng-container",5),e.TgZ(6,"div",6),e.NdJ("click",function(Et){e.CHM(Qe);const Be=e.MAs(45),qt=e.MAs(48);return Et.stopPropagation(),"CLOSE"!==(null==de.item?null:de.item.taskStatus)&&Be.toggle(Et),e.KtG(qt.hide())}),e.YNc(7,k,1,0,"ng-container",5),e.qZA(),e.YNc(8,ce,2,4,"div",7),e.YNc(9,q,3,2,"ng-container",8),e.YNc(10,G,1,1,"app-task-tag-inline-selector",9),e._UZ(11,"div",10),e.YNc(12,j,1,0,"ng-container",11),e.qZA(),e._UZ(13,"app-task-fields-table-view",12),e.YNc(14,X,2,1,"div",13),e.YNc(15,W,3,6,"div",14),e.TgZ(16,"div",15),e.YNc(17,Y,4,1,"div",16),e._UZ(18,"div",17),e.TgZ(19,"span",18),e._uU(20),e.qZA(),e.TgZ(21,"span",19),e._uU(22),e.ALo(23,"taskStatus"),e.qZA(),e.TgZ(24,"span",18),e._uU(25),e.ALo(26,"date"),e.qZA()()(),e.YNc(27,Ae,8,9,"ng-template",null,20,e.W1O),e.YNc(29,Ge,4,7,"ng-template",null,21,e.W1O),e.TgZ(31,"p-overlayPanel",22,23)(33,"div",24),e.YNc(34,ee,2,3,"div",25),e.ALo(35,"slice"),e.qZA()(),e.YNc(36,it,3,3,"ng-template",null,26,e.W1O),e.YNc(38,Dt,5,3,"ng-template",null,27,e.W1O),e.YNc(40,Ut,1,1,"ng-template",null,28,e.W1O),e.YNc(42,De,1,1,"ng-template",null,29,e.W1O),e.TgZ(44,"p-overlayPanel",30,31),e.NdJ("onShow",function(){return de.startEdit()})("onHide",function(){return de.stopEdit()}),e.YNc(46,Ft,2,4,"ng-template",32),e.qZA(),e.TgZ(47,"p-overlayPanel",30,33),e.NdJ("onShow",function(){return de.startEdit()})("onHide",function(){return de.stopEdit()}),e.YNc(49,je,2,4,"ng-template",32),e.qZA(),e._UZ(50,"div",34,35),e.TgZ(52,"app-appoint-installers-dialog",36),e.NdJ("visibleChange",function(Et){return de.isAppointInstallersDialogVisible=Et})("visibleChange",function(Et){return!Et&&de.stopEdit()}),e.qZA(),e.TgZ(53,"app-edit-task-dialog",37),e.NdJ("visibleChange",function(Et){return de.isShowEditTaskDialogVisible=Et})("visibleChange",function(Et){return!Et&&de.stopEdit()}),e.qZA(),e.TgZ(54,"app-task-scheduling-dialog",38),e.NdJ("visibleChange",function(Et){return de.isShowTaskSchedulingDialogVisible=Et})("visibleChange",function(Et){return!Et&&de.stopEdit()}),e.qZA(),e.TgZ(55,"p-overlayPanel",30,39),e.NdJ("onShow",function(){return de.startEdit()})("onHide",function(){return de.stopEdit()}),e.YNc(57,It,1,1,"ng-template",32),e.qZA(),e.YNc(58,se,1,0,"ng-template",null,40,e.W1O),e.TgZ(60,"p-blockUI",41)(61,"div",42),e.NdJ("contextmenu",function(Et){return Et.stopPropagation(),Et.preventDefault()}),e.qZA()()}if(2&tt){const Qe=e.MAs(39),ze=e.MAs(41),Et=e.MAs(43);e.Q6J("ngClass",e.kEZ(50,Fe,"PROCESSING"===(null==de.item?null:de.item.taskStatus),de.inlined,de.isHover))("routerLink",de.viewExample||de.customClickHandler?null:e.VKq(54,he,null==de.item?null:de.item.taskId)),e.xp6(2),e.Udp("width",".3rem"),e.Q6J("ngClass",de.statusBgColor),e.xp6(2),e.Q6J("ngIf",de.check),e.xp6(1),e.Q6J("ngTemplateOutlet",Qe)("ngTemplateOutletContext",e.VKq(56,gt,null==de.item||null==de.item.modelWireframe?null:de.item.modelWireframe.name)),e.xp6(1),e.Tol("CLOSE"!==(null==de.item?null:de.item.taskStatus)?"hover:text-orange-500":null),e.xp6(1),e.Q6J("ngTemplateOutlet",Qe)("ngTemplateOutletContext",e.VKq(58,cn,null==de.item||null==de.item.currentStage?null:de.item.currentStage.label)),e.xp6(1),e.Q6J("ngIf","ACTIVE"===(null==de.item?null:de.item.taskStatus)),e.xp6(1),e.Q6J("ngIf",(null==de.item?null:de.item.actualFrom)||(null==de.item?null:de.item.actualTo)),e.xp6(1),e.Q6J("ngIf",!de.inlined),e.xp6(2),e.Q6J("ngIf","PROCESSING"===(null==de.item?null:de.item.taskStatus))("ngIfThen",Et)("ngIfElse",ze),e.xp6(1),e.Q6J("task",de.item)("isTaskBody",!1),e.xp6(1),e.Q6J("ngIf",de.item&&de.item.lastComments&&de.item.lastComments.length>0&&!de.inlined),e.xp6(1),e.Q6J("ngIf",de.isCommentInput&&"CLOSE"!==(null==de.item?null:de.item.taskStatus)),e.xp6(2),e.Q6J("ngIf",null==de.item?null:de.item.oldTrackerTaskId),e.xp6(3),e.hij("\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c: ",null==de.item||null==de.item.creator?null:de.item.creator.fullName,""),e.xp6(1),e.Q6J("ngClass",de.statusColor),e.xp6(1),e.Oqu(e.lcZ(23,42,de.item)),e.xp6(3),e.Oqu(e.xi3(26,44,null==de.item?null:de.item.created,"dd-MM-yyyy HH:mm")),e.xp6(6),e.Q6J("appendTo","body"),e.xp6(3),e.Q6J("ngForOf",e.xi3(35,47,null==de.item?null:de.item.tags,2))("ngForTrackBy",de.trackByTag),e.xp6(16),e.Akn(de.contextMenuTargetStyle),e.xp6(2),e.Q6J("visible",de.isAppointInstallersDialogVisible)("taskId",null==de.item?null:de.item.taskId),e.xp6(1),e.Q6J("visible",de.isShowEditTaskDialogVisible)("task",de.item),e.xp6(1),e.Q6J("visible",de.isShowTaskSchedulingDialogVisible)("schedulingType",de.taskSchedulingType)("taskId",null==de.item?null:de.item.taskId),e.xp6(6),e.Q6J("blocked",de.isBlockBackground)("baseZIndex",1101)("autoZIndex",!1)}},styles:["[_nghost-%COMP%]{width:100%;display:block;text-align:initial}.task-item[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;padding:1rem;gap:.5rem;transition:box-shadow .1s ease-in-out;cursor:pointer;background-color:#fff;outline-offset:-1px}.task-item[_ngcontent-%COMP%]:not(.inlined){border:1px solid var(--bgc-300);border-radius:var(--br-200)}.task-item.inlined[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-300)}.task-item.checking[_ngcontent-%COMP%]{grid:auto-flow/min-content 1fr}.task-item.hovered[_ngcontent-%COMP%]:not(.inlined):hover{box-shadow:0 0 .3rem var(--mc-200)}.task-item.hovered.inlined[_ngcontent-%COMP%]:hover{outline:1px solid var(--mc-200)}.task-item[_ngcontent-%COMP%]:active{background-color:var(--bgc-001)}.task-item.processing[_ngcontent-%COMP%]{border:1px solid var(--warm-400)}.task-item-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:1rem;padding:.5rem;border-bottom:1px solid var(--bgc-200)}.task-item-header[_ngcontent-%COMP%]   .status-caption[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600}.task-item-header[_ngcontent-%COMP%]   .status-caption.active[_ngcontent-%COMP%]{color:var(--mc-400)}.task-item-header[_ngcontent-%COMP%]   .status-caption.processing[_ngcontent-%COMP%]{color:var(--warm-400)}.task-item-header[_ngcontent-%COMP%]   .status-caption.close[_ngcontent-%COMP%]{color:var(--tc-400)}.task-item-body[_ngcontent-%COMP%]{row-gap:.3rem;column-gap:.8rem;font-size:.9rem;color:var(--tc-700);margin:0 1rem}.task-item-body.SIMPLE[_ngcontent-%COMP%]{display:flex}.task-item-body.COMPOSITE[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/1fr}.task-item-body.COMPOSITE[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:3}.task-item-body.DETAILED[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/fit-content(50%) 1fr}.task-item-body.DETAILED[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:not(:last-child){display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2}.task-item-body.DETAILED[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:last-child{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:3;grid-area:2/1/3/3}.task-item-last-comment[_ngcontent-%COMP%]{display:flex;align-items:flex-start;padding:.4rem .8rem;gap:.5rem;font-size:.9rem;color:var(--tc-600);margin:0 1rem;border-radius:.8rem;background-color:var(--bgc-200)}.task-item-last-comment[_ngcontent-%COMP%] > .autor[_ngcontent-%COMP%]{color:var(--tc-500);white-space:nowrap}.task-item-last-comment[_ngcontent-%COMP%] > .comment[_ngcontent-%COMP%]{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2}.task-item-footer[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.with-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:-moz-fit-content;width:fit-content;height:min-content;font-size:.9rem;font-weight:600;color:var(--tc-600)}.with-label[_ngcontent-%COMP%] > .label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.2rem}.with-label[_ngcontent-%COMP%] > .value[_ngcontent-%COMP%]{margin-left:1.5rem;color:var(--tc-700)}"]}),en})()},1819:(hn,ht,b)=>{"use strict";b.d(ht,{g:()=>x});var e=b(5e3),d=b(9808),u=b(1874);const f=["menu"];function _(a,R){if(1&a){const L=e.EpF();e.TgZ(0,"span",4),e.NdJ("click",function(F){e.CHM(L);const T=e.oxw();return e.KtG(T.openContextMenu(F))}),e._uU(1," \u0412\u044b\u0431\u0440\u0430\u0442\u044c\n"),e.qZA()}}function P(a,R){if(1&a){const L=e.EpF();e.TgZ(0,"span",5),e.NdJ("click",function(F){e.CHM(L);const T=e.oxw();return e.KtG(T.openContextMenu(F))}),e._uU(1),e.qZA()}if(2&a){const L=e.oxw();e.Tol(L.classes+" highlight"),e.xp6(1),e.hij(" ",L.selectedField.label,"\n")}}let x=(()=>{class a{constructor(){this.selectView=new e.vpe}openContextMenu(L){this.fields=this.fields.map(V=>(V.command=()=>{this.selectedField=V,V.listViewIndex=this.index,this.selectView.emit({id:V.id,index:this.index})},V)),this.selectingField(),this.menu.toggle(L)}ngOnInit(){this.selectingField()}ngAfterViewInit(){}selectingField(){var L;null===(L=this.fields)||void 0===L||L.forEach(V=>{V.listViewIndex&&V.listViewIndex===this.index&&(this.selectedField=V)})}}return a.\u0275fac=function(L){return new(L||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-select-field-to-view-button"]],viewQuery:function(L,V){if(1&L&&e.Gf(f,5),2&L){let F;e.iGM(F=e.CRH())&&(V.menu=F.first)}},inputs:{classes:"classes",index:"index",fields:"fields"},outputs:{selectView:"selectView"},decls:4,vars:4,consts:[["class","caption highlight",3,"click",4,"ngIf"],[3,"class","click",4,"ngIf"],[3,"model","popup"],["menu",""],[1,"caption","highlight",3,"click"],[3,"click"]],template:function(L,V){1&L&&(e.YNc(0,_,2,0,"span",0),e.YNc(1,P,2,3,"span",1),e._UZ(2,"p-menu",2,3)),2&L&&(e.Q6J("ngIf",!V.selectedField),e.xp6(1),e.Q6J("ngIf",V.selectedField),e.xp6(1),e.Q6J("model",V.fields)("popup",!0))},dependencies:[d.O5,u.v2],styles:[".highlight[_ngcontent-%COMP%]{cursor:pointer;transition:color .2s ease-out}.highlight[_ngcontent-%COMP%]:hover{color:var(--mc-500)}"]}),a})()},6501:(hn,ht,b)=>{"use strict";b.d(ht,{g:()=>it});var e=b(5e3),d=b(8738),u=b(2382),f=b(4036),_=b(9783),P=b(3407),x=b(5315),a=b(1208),R=b(5132),L=b(446),V=b(6288),F=b(1110),T=b(7579),y=b(8372),D=b(3900),k=b(4782),B=b(1135),N=b(9808),ce=b(3640),$=b(2145);const z=["photoPreviewPanel"];function S(Dt,vt){1&Dt&&e.GkF(0)}const O=function(Dt){return{$implicit:Dt}};function K(Dt,vt){if(1&Dt&&e.YNc(0,S,1,0,"ng-container",9),2&Dt){const Wt=vt.$implicit;e.oxw();const zt=e.MAs(5);e.Q6J("ngTemplateOutlet",zt)("ngTemplateOutletContext",e.VKq(2,O,Wt))}}function ue(Dt,vt){1&Dt&&e.GkF(0)}function q(Dt,vt){if(1&Dt&&e.YNc(0,ue,1,0,"ng-container",9),2&Dt){const Wt=vt.$implicit;e.oxw();const zt=e.MAs(7);e.Q6J("ngTemplateOutlet",zt)("ngTemplateOutletContext",e.VKq(2,O,Wt))}}function G(Dt,vt){1&Dt&&e.GkF(0)}function j(Dt,vt){if(1&Dt){const Wt=e.EpF();e.TgZ(0,"div",10),e.NdJ("mouseenter",function(Ut){const at=e.CHM(Wt).$implicit,me=e.oxw();return e.KtG(me.preview(at,Ut))})("mouseleave",function(){e.CHM(Wt);const Ut=e.oxw();return e.KtG(Ut.hidePreview())}),e.YNc(1,G,1,0,"ng-container",9),e.TgZ(2,"span",11),e._uU(3),e.qZA()()}if(2&Dt){const Wt=vt.$implicit;e.oxw();const zt=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",zt)("ngTemplateOutletContext",e.VKq(3,O,Wt.type)),e.xp6(2),e.hij(" ",Wt.name," ")}}function fe(Dt,vt){1&Dt&&e.GkF(0)}function ne(Dt,vt){if(1&Dt&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&Dt){const Wt=e.oxw().$implicit;e.xp6(1),e.hij(" ",Wt.path," ")}}function J(Dt,vt){if(1&Dt){const Wt=e.EpF();e.TgZ(0,"div",10),e.NdJ("mouseenter",function(Ut){const at=e.CHM(Wt).$implicit,me=e.oxw();return e.KtG(me.preview(at,Ut))})("mouseleave",function(){e.CHM(Wt);const Ut=e.oxw();return e.KtG(Ut.hidePreview())}),e.YNc(1,fe,1,0,"ng-container",9),e.TgZ(2,"div",12),e.YNc(3,ne,2,1,"span",13),e.TgZ(4,"span",11),e._uU(5),e.qZA()()()}if(2&Dt){const Wt=vt.$implicit;e.oxw();const zt=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",zt)("ngTemplateOutletContext",e.VKq(4,O,Wt.type)),e.xp6(2),e.Q6J("ngIf",Wt.path),e.xp6(2),e.hij(" ",Wt.name," ")}}function X(Dt,vt){1&Dt&&e._UZ(0,"span",20)}function W(Dt,vt){1&Dt&&e._UZ(0,"span",21)}function Y(Dt,vt){1&Dt&&e._UZ(0,"span",22)}function Te(Dt,vt){1&Dt&&e._UZ(0,"span",23)}function Ae(Dt,vt){1&Dt&&e._UZ(0,"span",24)}function Ke(Dt,vt){1&Dt&&(e.ynx(0,14),e.YNc(1,X,1,0,"span",15),e.YNc(2,W,1,0,"span",16),e.YNc(3,Y,1,0,"span",17),e.YNc(4,Te,1,0,"span",18),e.YNc(5,Ae,1,0,"span",19),e.BQk()),2&Dt&&(e.Q6J("ngSwitch",vt.$implicit),e.xp6(1),e.Q6J("ngSwitchCase","PHOTO"),e.xp6(1),e.Q6J("ngSwitchCase","VIDEO"),e.xp6(1),e.Q6J("ngSwitchCase","AUDIO"),e.xp6(1),e.Q6J("ngSwitchCase","DOCUMENT"))}const be=function(){return[]};let Ge=(()=>{class Dt{constructor(Wt){this.api=Wt,this.control=new u.NI([]),this.controlChange$=this.control.valueChanges,this.onChange=zt=>{},this.onTouched=()=>{},this.isDisabled=!1,this.querySubject=new T.x,this.queryChange$=this.querySubject.pipe((0,y.b)(1e3)),this.suggestions$=this.queryChange$.pipe((0,D.w)(zt=>this.api.getFilesSuggestions(zt)),(0,k.d)(1)),this.previewVisibleSubject=new B.X(null),this.previewVisible$=this.previewVisibleSubject.pipe((0,y.b)(300)),this.previewUrl="",this.imageLoaded=!1}writeValue(Wt){this.control.setValue(Wt||[])}registerOnChange(Wt){this.onChange=Wt}registerOnTouched(Wt){this.onTouched=Wt}setDisabledState(Wt){this.isDisabled=Wt}ngOnInit(){this.previewSubscription=this.previewVisible$.subscribe(Wt=>{Wt?this.photoPreviewPanel.overlayVisible?(this.photoPreviewPanel.target=Wt.target,this.photoPreviewPanel.align()):this.photoPreviewPanel.show(Wt):this.photoPreviewPanel.hide()}),this.controlChangeSubscription=this.controlChange$.subscribe(Wt=>{this.onChange(null!=Wt?Wt:[])})}ngOnDestroy(){var Wt,zt;null===(Wt=this.previewSubscription)||void 0===Wt||Wt.unsubscribe(),null===(zt=this.controlChangeSubscription)||void 0===zt||zt.unsubscribe()}preview(Wt,zt){"PHOTO"===Wt.type?(this.previewUrl="/api/private/file-thumbnail/"+Wt.id,this.imageLoaded=!1,this.previewVisibleSubject.next(zt)):(this.previewUrl="",this.imageLoaded=!1,this.previewVisibleSubject.next(null))}hidePreview(){this.previewUrl="",this.imageLoaded=!1,this.previewVisibleSubject.next(null)}}return Dt.\u0275fac=function(Wt){return new(Wt||Dt)(e.Y36(d.s))},Dt.\u0275cmp=e.Xpm({type:Dt,selectors:[["app-server-documents-input"]],viewQuery:function(Wt,zt){if(1&Wt&&e.Gf(z,5),2&Wt){let Ut;e.iGM(Ut=e.CRH())&&(zt.photoPreviewPanel=Ut.first)}},features:[e._Bn([{provide:u.JU,useExisting:Dt,multi:!0}])],decls:13,vars:7,consts:[["placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u0430...","appendTo","body",3,"formControl","multiple","suggestions","completeMethod"],["pTemplate","selectedItem"],["pTemplate","item"],["documentTemplate",""],["suggestionTemplate",""],["fileIcon",""],["appendTo","body","styleClass","overlay-panel-unpadding"],["photoPreviewPanel",""],["alt","",1,"max-w-20rem","border-round","absolute",3,"src"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","gap-1","align-items-center","text-bluegray-500",3,"mouseenter","mouseleave"],[1,"text-sm"],[1,"flex"],["class","text-sm",4,"ngIf"],[3,"ngSwitch"],["class","mdi-image",4,"ngSwitchCase"],["class","mdi-videocam",4,"ngSwitchCase"],["class","mdi-audiotrack",4,"ngSwitchCase"],["class","mdi-picture_as_pdf",4,"ngSwitchCase"],["class","mdi-insert_drive_file",4,"ngSwitchDefault"],[1,"mdi-image"],[1,"mdi-videocam"],[1,"mdi-audiotrack"],[1,"mdi-picture_as_pdf"],[1,"mdi-insert_drive_file"]],template:function(Wt,zt){if(1&Wt&&(e.TgZ(0,"p-autoComplete",0),e.NdJ("completeMethod",function(ct){return zt.querySubject.next(ct.query)}),e.ALo(1,"async"),e.YNc(2,K,1,4,"ng-template",1),e.YNc(3,q,1,4,"ng-template",2),e.qZA(),e.YNc(4,j,4,5,"ng-template",2,3,e.W1O),e.YNc(6,J,6,6,"ng-template",2,4,e.W1O),e.YNc(8,Ke,6,5,"ng-template",null,5,e.W1O),e.TgZ(10,"p-overlayPanel",6,7),e._UZ(12,"img",8),e.qZA()),2&Wt){let Ut;e.Q6J("formControl",zt.control)("multiple",!0)("suggestions",null!==(Ut=e.lcZ(1,4,zt.suggestions$))&&void 0!==Ut?Ut:e.DdM(6,be)),e.xp6(12),e.Q6J("src",zt.previewUrl,e.LSH)}},dependencies:[N.O5,N.tP,N.RF,N.n9,N.ED,u.JJ,_.jx,ce.T,u.oH,$.Qc,N.Ov]}),Dt})();function ee(Dt,vt){if(1&Dt&&(e.TgZ(0,"div",19),e._UZ(1,"app-employee-label",20),e.qZA()),2&Dt){const Wt=vt.$implicit;e.xp6(1),e.Q6J("employee",Wt)("size",1.9)}}const xe=function(){return{height:"40vh",maxHeight:"15rem"}},we=function(){return{minHeight:"8rem"}};function Pe(Dt,vt){if(1&Dt){const Wt=e.EpF();e.TgZ(0,"p-pickList",2),e.NdJ("onMoveAllToSource",function(){e.CHM(Wt);const Ut=e.oxw();return e.KtG(Ut.updateGangLeaders())})("onMoveAllToTarget",function(){e.CHM(Wt);const Ut=e.oxw();return e.KtG(Ut.updateGangLeaders())})("onMoveToSource",function(){e.CHM(Wt);const Ut=e.oxw();return e.KtG(Ut.updateGangLeaders())})("onMoveToTarget",function(){e.CHM(Wt);const Ut=e.oxw();return e.KtG(Ut.updateGangLeaders())}),e.YNc(1,ee,2,2,"ng-template",3),e.qZA(),e.TgZ(2,"div",4)(3,"div",5)(4,"div",6),e._uU(5,"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0446\u0435\u043b\u044c (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)"),e.qZA(),e.TgZ(6,"textarea",7),e.NdJ("ngModelChange",function(Ut){e.CHM(Wt);const ct=e.oxw();return e.KtG(ct.targetDescription=Ut)})("paste",function(Ut){e.CHM(Wt);const ct=e.MAs(10);return e.KtG(ct.appendFiles(Ut))}),e.qZA()(),e.TgZ(7,"div",8)(8,"app-server-documents-input",9),e.NdJ("ngModelChange",function(Ut){e.CHM(Wt);const ct=e.oxw();return e.KtG(ct.serverFiles=Ut)}),e.qZA(),e.TgZ(9,"app-file-input",10,11),e.NdJ("filesChange",function(Ut){e.CHM(Wt);const ct=e.oxw();return e.KtG(ct.loadingFiles=Ut)}),e.qZA()()(),e.TgZ(11,"div",12)(12,"div",13)(13,"label"),e._uU(14,"\u0411\u0440\u0438\u0433\u0430\u0434\u0438\u0440"),e.qZA(),e.TgZ(15,"p-dropdown",14),e.NdJ("ngModelChange",function(Ut){e.CHM(Wt);const ct=e.oxw();return e.KtG(ct.gangLeader=Ut)}),e.qZA()(),e.TgZ(16,"div",15)(17,"span"),e._uU(18,"\u041e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0439 \u043e\u0442\u0447\u0435\u0442"),e.qZA(),e.TgZ(19,"p-checkbox",16),e.NdJ("ngModelChange",function(Ut){e.CHM(Wt);const ct=e.oxw();return e.KtG(ct.deferredReport=Ut)}),e.qZA()(),e.TgZ(20,"app-button",17),e.NdJ("onClick",function(){e.CHM(Wt);const Ut=e.oxw();return e.KtG(Ut.resetListAppointedInstallers())}),e.qZA(),e.TgZ(21,"app-button",18),e.NdJ("onClick",function(){e.CHM(Wt);const Ut=e.oxw();return e.KtG(Ut.sendListAppointedInstallers())}),e.qZA()()}if(2&Dt){const Wt=e.oxw();e.Q6J("dragdrop",!0)("showSourceControls",!1)("showTargetControls",!1)("sourceStyle",e.DdM(21,xe))("source",Wt.sourceInstallers)("targetStyle",e.DdM(22,xe))("target",Wt.targetInstallers),e.xp6(2),e.Akn(e.DdM(23,we)),e.xp6(4),e.Q6J("ngModel",Wt.targetDescription)("autoResize",!0)("rows",3),e.xp6(2),e.Q6J("ngModel",Wt.serverFiles),e.xp6(1),e.Q6J("files",Wt.loadingFiles),e.xp6(6),e.Q6J("ngModel",Wt.gangLeader)("options",Wt.gangLeaders),e.xp6(4),e.Q6J("ngModel",Wt.deferredReport)("binary",!0),e.xp6(1),e.Q6J("disabled",0===Wt.targetInstallers.length||Wt.appointmentRequested),e.xp6(1),e.Q6J("disabled",0===Wt.targetInstallers.length)("loading",Wt.appointmentRequested)}}const dt=function(){return{width:"50vw"}},bt=function(){return{"960px":"75vw","640px":"100vw"}};let it=(()=>{class Dt{constructor(Wt){this.api=Wt,this.visible=!1,this.visibleChange=new e.vpe,this.sourceInstallers=[],this.targetInstallers=[],this.targetDescription="",this.deferredReport=!1,this.gangLeaders=[{label:"\u0411\u0435\u0437 \u0431\u0440\u0438\u0433\u0430\u0434\u0438\u0440\u0430",value:null}],this.appointmentRequested=!1,this.loadingFiles=[],this.serverFiles=[]}ngOnInit(){}setVisible(Wt=!1){this.visible=Wt,this.visibleChange.emit(Wt)}loadAppointInstallers(){this.api.getInstallersEmployees().subscribe(Wt=>{this.sourceInstallers=Wt,this.targetInstallers=[]})}updateGangLeaders(){setTimeout(()=>{this.gangLeaders=this.targetInstallers.length>1?[{label:"\u0411\u0435\u0437 \u0431\u0440\u0438\u0433\u0430\u0434\u0438\u0440\u0430",value:null},...this.targetInstallers.map(Wt=>{var zt;return{label:null!==(zt=Wt.fullName)&&void 0!==zt?zt:Wt.login,value:Wt.login}})]:[{label:"\u0411\u0435\u0437 \u0431\u0440\u0438\u0433\u0430\u0434\u0438\u0440\u0430",value:null}]})}resetListAppointedInstallers(){this.sourceInstallers=[...this.sourceInstallers,...this.targetInstallers],this.targetInstallers=[]}clearAppointInstallers(){this.targetDescription="",this.targetInstallers=[],this.gangLeader=void 0,this.deferredReport=!1}sendListAppointedInstallers(){!this.taskId||(this.appointmentRequested=!0,this.api.assignInstallersToTask(this.taskId,{installers:this.targetInstallers,description:this.targetDescription,gangLeader:this.gangLeader,deferredReport:this.deferredReport,files:this.loadingFiles,serverFiles:this.serverFiles}).subscribe({next:()=>{this.appointmentRequested=!1,this.setVisible(!1)},error:()=>this.appointmentRequested=!1}))}}return Dt.\u0275fac=function(Wt){return new(Wt||Dt)(e.Y36(d.s))},Dt.\u0275cmp=e.Xpm({type:Dt,selectors:[["app-appoint-installers-dialog"]],inputs:{taskId:"taskId",visible:"visible"},outputs:{visibleChange:"visibleChange"},decls:2,vars:12,consts:[["appendTo","body","contentStyleClass","flex flex-column gap-3","header","\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432",3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","autoZIndex","baseZIndex","onHide","visibleChange","onShow"],["pTemplate","content"],["sourceHeader","\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435","targetHeader","\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044b\u0435",3,"dragdrop","showSourceControls","showTargetControls","sourceStyle","source","targetStyle","target","onMoveAllToSource","onMoveAllToTarget","onMoveToSource","onMoveToTarget"],["pTemplate","item"],[1,"flex","flex-column","gap-2"],[1,"flex","flex-column"],[1,"text-bluegray-500","text-sm"],["pInputTextarea","",1,"stretched",3,"ngModel","autoResize","rows","ngModelChange","paste"],[1,"flex","gap-2","align-items-center","justify-content-end"],[3,"ngModel","ngModelChange"],[3,"files","filesChange"],["fileInputComponent",""],[1,"flex","gap-3","align-items-end","justify-content-end"],[1,"input-label-wrapper"],["appendTo","body",3,"ngModel","options","ngModelChange"],[1,"flex","gap-2","text-bluegray-500","font-bold","align-items-center","h-3rem"],[3,"ngModel","binary","ngModelChange"],["icon","delete","label","\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c","model","p-button-text p-button-secondary",3,"disabled","onClick"],["icon","assignment","label","\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",3,"disabled","loading","onClick"],[1,"flex","align-items-center","gap-2"],[3,"employee","size"]],template:function(Wt,zt){1&Wt&&(e.TgZ(0,"p-dialog",0),e.NdJ("onHide",function(){return zt.clearAppointInstallers()})("visibleChange",function(ct){return zt.visible=ct})("visibleChange",function(ct){return zt.visibleChange.emit(ct)})("onShow",function(){return zt.loadAppointInstallers()}),e.YNc(1,Pe,22,24,"ng-template",1),e.qZA()),2&Wt&&(e.Akn(e.DdM(10,dt)),e.Q6J("visible",zt.visible)("breakpoints",e.DdM(11,bt))("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1)("autoZIndex",!1)("baseZIndex",2101))},dependencies:[u.Fj,u.JJ,u.On,f.Lt,_.jx,P.g,x.V,a.XZ,R.G,L.r,V.Y,F.x,Ge]}),Dt})()},1318:(hn,ht,b)=>{"use strict";b.d(ht,{s:()=>T});var e=b(5e3),d=b(2382),u=b(383),f=b(4280),_=b(8738),P=b(9808),x=b(5315),a=b(446),R=b(6502);function L(y,D){if(1&y&&e._UZ(0,"app-task-template-input",7),2&y){const k=D.$implicit;e.Q6J("field",k)("formControlName",k.modelItemId)}}const V=function(){return{width:"50vw",maxHeight:"70vh"}},F=function(){return{"960px":"75vw","640px":"100vw"}};let T=(()=>{class y{constructor(k){this.api=k,this.visible=!1,this.visibleChange=new e.vpe,this.editTaskForm=new d.cw({}),this.editBlocked=!1}setVisible(k){this.visible=k,this.visibleChange.emit(k)}get taskFields(){var k,B;return this.visible&&null!==(B=null===(k=this.task)||void 0===k?void 0:k.fields)&&void 0!==B?B:[]}ngOnInit(){}ngOnChanges(k){const B=k.task;B&&B.currentValue&&this.showEditTaskDialog()}doEditTask(){var k,B;if(null!==(k=this.task)&&void 0!==k&&k.modelWireframe){if(!this.editTaskForm.valid)return void this.editTaskForm.markAllAsTouched();this.editBlocked=!0,this.api.editTask(this.task.taskId,u.PU.editExisting(this.editTaskForm.getRawValue(),null!==(B=this.task.fields)&&void 0!==B?B:[])).subscribe({next:()=>{this.editBlocked=!1,this.setVisible(!1)},error:()=>{this.editBlocked=!1}})}}showEditTaskDialog(){var k;this.editTaskForm=new d.cw(null!==(k=this.task)&&void 0!==k&&k.fields?this.task.fields.reduce((B,N)=>Object.assign(Object.assign({},B),{[N.modelItemId]:new d.NI(u.cQ.getValueFromModelItem(N),f.d.taskInput(N.wireframeFieldType,N.variation))}),{}):{})}}return y.\u0275fac=function(k){return new(k||y)(e.Y36(_.s))},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-edit-task-dialog"]],inputs:{task:"task",visible:"visible"},outputs:{visibleChange:"visibleChange"},features:[e.TTD],decls:7,vars:15,consts:[["appendTo","body","header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435",3,"visible","breakpoints","autoZIndex","baseZIndex","dismissableMask","draggable","modal","resizable","visibleChange"],[1,"flex","flex-column","gap-3"],[1,"flex","flex-column","gap-2",3,"formGroup"],["class","flex-grow-1",3,"field","formControlName",4,"ngFor","ngForOf"],[1,"flex-grow-1"],[1,"flexed","vend","hcenter","sticky","bottom0"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","model","p-button-success",3,"loading","onClick"],[1,"flex-grow-1",3,"field","formControlName"]],template:function(k,B){1&k&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(ce){return B.visible=ce})("visibleChange",function(ce){return B.visibleChange.emit(ce)}),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,L,1,2,"app-task-template-input",3),e.qZA(),e._UZ(4,"div",4),e.TgZ(5,"div",5)(6,"app-button",6),e.NdJ("onClick",function(){return B.doEditTask()}),e.qZA()()()()),2&k&&(e.Akn(e.DdM(13,V)),e.Q6J("visible",B.visible)("breakpoints",e.DdM(14,F))("autoZIndex",!1)("baseZIndex",2101)("dismissableMask",!0)("draggable",!0)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("formGroup",B.editTaskForm),e.xp6(1),e.Q6J("ngForOf",B.taskFields),e.xp6(3),e.Q6J("loading",B.editBlocked))},dependencies:[P.sg,d.JJ,d.JL,x.V,d.sg,d.u,a.r,R.o]}),y})()},6083:(hn,ht,b)=>{"use strict";b.d(ht,{j:()=>L});var e=b(5e3),d=b(8738),u=b(845),f=b(2382),_=b(9783),P=b(3407),x=b(5315);function a(V,F){if(1&V){const T=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"label"),e._uU(3,"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f"),e.qZA(),e.TgZ(4,"textarea",4),e.NdJ("ngModelChange",function(D){e.CHM(T);const k=e.oxw();return e.KtG(k.reason=D)}),e.qZA()(),e.TgZ(5,"div",5)(6,"p-button",6),e.NdJ("onClick",function(){e.CHM(T);const D=e.oxw();return D.setVisible(!1),e.KtG(D.reason="")}),e.qZA(),e.TgZ(7,"p-button",7),e.NdJ("onClick",function(){e.CHM(T);const D=e.oxw();return e.KtG(D.forceCloseWorkLog())}),e.qZA()()()}if(2&V){const T=e.oxw();e.xp6(4),e.Q6J("ngModel",T.reason)("autoResize",!0)("rows",5),e.xp6(2),e.Q6J("disabled",T.requestRunning),e.xp6(1),e.Q6J("disabled",!T.reason)("loading",T.requestRunning)}}const R=function(){return{width:"50vw",minWidth:"fit-content"}};let L=(()=>{class V{constructor(T){this.api=T,this.visible=!1,this.visibleChange=new e.vpe,this.reason="",this.requestRunning=!1}ngOnInit(){}setVisible(T){this.visible=T,this.visibleChange.emit(T)}forceCloseWorkLog(){!this.taskId||this.api.forceCloseWorkLog(this.taskId,this.reason).subscribe({next:()=>{this.setVisible(!1),this.reason="",this.requestRunning=!1},error:()=>this.requestRunning=!1})}}return V.\u0275fac=function(T){return new(T||V)(e.Y36(d.s))},V.\u0275cmp=e.Xpm({type:V,selectors:[["app-force-close-dialog"]],inputs:{visible:"visible",taskId:"taskId"},outputs:{visibleChange:"visibleChange"},decls:2,vars:8,consts:[["header","\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u0436\u0443\u0440\u043d\u0430\u043b \u0440\u0430\u0431\u043e\u0442?","appendTo","body",3,"visible","dismissableMask","draggable","modal","resizable","visibleChange"],["pTemplate","content"],[1,"flexed","column","gap10"],[1,"input-label-wrapper"],["pInputTextarea","",1,"stretched",3,"ngModel","autoResize","rows","ngModelChange"],[1,"flexed","hcenter","vend","gap10"],["icon","mdi-close","label","\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-secondary p-button-text",3,"disabled","onClick"],["icon","mdi-check","label","\u0417\u0430\u043a\u0440\u044b\u0442\u044c","styleClass","p-button-danger",3,"disabled","loading","onClick"]],template:function(T,y){1&T&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(k){return y.visibleChange.emit(k)}),e.YNc(1,a,8,6,"ng-template",1),e.qZA()),2&T&&(e.Akn(e.DdM(7,R)),e.Q6J("visible",y.visible)("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1))},dependencies:[u.zx,f.Fj,f.JJ,f.On,_.jx,P.g,x.V]}),V})()},3435:(hn,ht,b)=>{"use strict";b.d(ht,{M:()=>R});var e=b(655),d=b(5e3),u=b(2382),f=b(5677),_=b(8675),P=b(8505),x=b(8738);function a(L,V){if(1&L){const F=d.EpF();d._UZ(0,"span")(1,"p-calendar",2)(2,"app-time-picker",3),d.TgZ(3,"app-button",4),d.NdJ("onClick",function(){d.CHM(F);const y=d.oxw();return d.KtG(y.setDateTimeOfTaskRelevance())}),d.ALo(4,"date"),d.qZA()}if(2&L){const F=d.oxw();d.xp6(1),d.Q6J("firstDayOfWeek",1)("formControl",F.dateControl)("inline",!0)("selectOtherMonths",!0),d.xp6(1),d.Q6J("formControl",F.dateTimeControl),d.xp6(1),d.Q6J("loading",F.changingTaskDateTime)("label",F.buttonLabel+d.xi3(4,7,F.dateTimeControl.value,"dd-MM-yyyy HH:mm"))}}let R=class{constructor(V){this.api=V,this.visible=!1,this.visibleChange=new d.vpe,this.schedulingType="from",this.dateControl=new u.NI(new Date),this.dateTimeControl=new u.NI(new Date),this.dateTimeUpdateSub=this.dateControl.valueChanges.pipe((0,_.O)(new Date),(0,P.b)(F=>{if(0===(null==F?void 0:F.getHours()))null==F||F.setHours(8,0,0,0);else{const T=((null==F?void 0:F.getMinutes())||0)%10;let y=(null==F?void 0:F.getHours())||0,D=(null==F?void 0:F.getMinutes())||0;T>0&&(D+=10-T),null==F||F.setHours(y+1,D,0,0)}})).subscribe(F=>this.dateTimeControl.setValue(F)),this.changingTaskDateTime=!1}get title(){return"from"===this.schedulingType?"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0440\u043e\u043a \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f"}get buttonLabel(){return"from"===this.schedulingType?"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c c ":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0440\u043e\u043a \u0434\u043e "}ngOnInit(){}setVisible(V){this.visible=V,this.visibleChange.emit(V)}setDateTimeOfTaskRelevance(){!this.taskId||null==this.dateControl.value||(this.changingTaskDateTime=!0,"from"===this.schedulingType?this.changeTaskActualFrom():"to"===this.schedulingType&&this.changeTaskActualTo())}resetDate(){this.dateControl.reset(new Date)}changeTaskActualFrom(){!this.taskId||null==this.dateTimeControl.value||this.api.changeTaskActualFrom(this.taskId,this.dateTimeControl.value).subscribe({next:()=>{this.changingTaskDateTime=!1,this.setVisible(!1)},error:()=>{this.changingTaskDateTime=!1}})}changeTaskActualTo(){!this.taskId||null==this.dateTimeControl.value||this.api.changeTaskActualTo(this.taskId,this.dateTimeControl.value).subscribe({next:()=>{this.changingTaskDateTime=!1,this.setVisible(!1)},error:()=>{this.changingTaskDateTime=!1}})}};R.\u0275fac=function(V){return new(V||R)(d.Y36(x.s))},R.\u0275cmp=d.Xpm({type:R,selectors:[["app-task-scheduling-dialog"]],inputs:{visible:"visible",schedulingType:"schedulingType",taskId:"taskId"},outputs:{visibleChange:"visibleChange"},decls:2,vars:6,consts:[["appendTo","body","contentStyleClass","flex flex-column gap-3 pt-1",3,"visible","dismissableMask","draggable","modal","resizable","header","visibleChange","onHide"],["pTemplate","content"],[1,"w-fit","align-self-center",3,"firstDayOfWeek","formControl","inline","selectOtherMonths"],[3,"formControl"],[3,"loading","label","onClick"]],template:function(V,F){1&V&&(d.TgZ(0,"p-dialog",0),d.NdJ("visibleChange",function(y){return F.visible=y})("visibleChange",function(y){return F.visibleChange.emit(y)})("onHide",function(){return F.resetDate()}),d.YNc(1,a,5,10,"ng-template",1),d.qZA()),2&V&&d.Q6J("visible",F.visible)("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1)("header",F.title)}}),R=(0,e.gn)([(0,f.kG)()],R)},6759:(hn,ht,b)=>{"use strict";b.d(ht,{C:()=>F});var e=b(383),d=b(5e3),u=b(9783);function f(T,y){if(1&T&&d._UZ(0,"app-billing-login",12),2&T){const D=d.oxw().$implicit;d.Q6J("loginData",D.stringData)}}function _(T,y){if(1&T&&(d.TgZ(0,"span",13),d._UZ(1,"app-dial-buttons-list",14),d.qZA()),2&T){const D=d.oxw().$implicit;d.xp6(1),d.Q6J("phoneData",D.phoneData)}}function P(T,y){if(1&T&&(d.TgZ(0,"span",15),d._uU(1),d.qZA()),2&T){const D=d.oxw().$implicit;d.xp6(1),d.hij(" ",D.textRepresentation," ")}}function x(T,y){if(1&T&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&T){const D=d.oxw().$implicit;d.xp6(1),d.Oqu(D.textRepresentation)}}function a(T,y){if(1&T){const D=d.EpF();d.TgZ(0,"div",4)(1,"span",5),d.NdJ("click",function(B){const ce=d.CHM(D).$implicit,$=d.oxw(2);return B.stopPropagation(),d.KtG($.copyField(ce))}),d._uU(2),d.qZA(),d.TgZ(3,"span",6),d.ynx(4,7),d.YNc(5,f,1,1,"app-billing-login",8),d.YNc(6,_,2,1,"span",9),d.YNc(7,P,2,1,"span",10),d.YNc(8,x,2,1,"span",11),d.BQk(),d.qZA()()}if(2&T){const D=y.$implicit;d.xp6(1),d.Q6J("pTooltip","\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c "+D.name),d.xp6(1),d.Oqu(D.name),d.xp6(2),d.Q6J("ngSwitch",D.wireframeFieldType),d.xp6(1),d.Q6J("ngSwitchCase","LOGIN"),d.xp6(1),d.Q6J("ngSwitchCase","PHONE_ARRAY"),d.xp6(1),d.Q6J("ngSwitchCase","ADDRESS")}}function R(T,y){if(1&T&&(d.ynx(0),d.TgZ(1,"div",2),d.YNc(2,a,9,6,"div",3),d.qZA(),d.BQk()),2&T){const D=d.oxw();d.xp6(2),d.Q6J("ngForOf",D.taskFields.inline)("ngForTrackBy",D.trackByField)}}function L(T,y){if(1&T){const D=d.EpF();d.TgZ(0,"div",4)(1,"span",5),d.NdJ("click",function(B){const ce=d.CHM(D).$implicit,$=d.oxw(2);return B.stopPropagation(),d.KtG($.copyField(ce))}),d._uU(2),d.qZA(),d.TgZ(3,"span",6)(4,"span"),d._uU(5),d.qZA()()()}if(2&T){const D=y.$implicit;d.xp6(1),d.Q6J("pTooltip","\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c "+D.name),d.xp6(1),d.Oqu(D.name),d.xp6(3),d.Oqu(null==D?null:D.textRepresentation)}}function V(T,y){if(1&T&&(d.ynx(0),d.TgZ(1,"div",16),d.YNc(2,L,6,3,"div",3),d.qZA(),d.BQk()),2&T){const D=d.oxw();d.xp6(2),d.Q6J("ngForOf",D.taskFields.block)("ngForTrackBy",D.trackByField)}}let F=(()=>{class T{constructor(D){this.toast=D,this.isTaskBody=!0}get taskFields(){var D,k,B,N,ce;const{fields:$,modelWireframe:z}=null!==(D=this.task)&&void 0!==D?D:{};if(!$||!z)return{inline:[],block:[]};const S=["LARGE_TEXT","COUNTING_LIVES"],O=["LIST_ONLY","LIST_AND_TELEGRAM","EXCEPT_THE_REGISTRY",null,void 0];return this.isTaskBody?{inline:null!==(k=$.filter(K=>!S.includes(K.wireframeFieldType)))&&void 0!==k?k:[],block:null!==(B=$.filter(K=>S.includes(K.wireframeFieldType)))&&void 0!==B?B:[]}:{inline:null!==(N=$.filter(K=>O.includes(this.getDisplayType(K.id))).filter(K=>!S.includes(K.wireframeFieldType)))&&void 0!==N?N:[],block:null!==(ce=$.filter(K=>O.includes(this.getDisplayType(K.id))).filter(K=>S.includes(K.wireframeFieldType)))&&void 0!==ce?ce:[]}}getDisplayType(D){var k,B,N,ce,$;return null!==($=null===(ce=null===(N=null===(B=null===(k=this.task)||void 0===k?void 0:k.modelWireframe)||void 0===B?void 0:B.allFields)||void 0===N?void 0:N.find(z=>z.id===D))||void 0===ce?void 0:ce.displayType)&&void 0!==$?$:null}trackByField(D,k){return k?k.id+k.name+k.textRepresentation:""}ngOnInit(){}copyField(D){var k;e.cQ.copyToClipboard(null!==(k=D.textRepresentation)&&void 0!==k?k:"",this.toast,"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430","\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c "+D.name)}}return T.\u0275fac=function(D){return new(D||T)(d.Y36(u.ez))},T.\u0275cmp=d.Xpm({type:T,selectors:[["app-task-fields-table-view"]],inputs:{task:"task",isTaskBody:"isTaskBody"},decls:3,vars:2,consts:[[1,"p-3","flex","flex-column","gap-2"],[4,"ngIf"],[1,"flex","flex-wrap","gap-4"],["class","flex flex-column gap-1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-column","gap-1"],["tooltipPosition","bottom",1,"text-bluegray-500","font-bold","hover:text-primary","w-fit",3,"pTooltip","click"],[1,"text-bluegray-600","text-xl"],[3,"ngSwitch"],[3,"loginData",4,"ngSwitchCase"],["class","flex flex-column",4,"ngSwitchCase"],["class","font-bold",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"loginData"],[1,"flex","flex-column"],[3,"phoneData"],[1,"font-bold"],[1,"flex","flex-column","gap-2"]],template:function(D,k){1&D&&(d.TgZ(0,"div",0),d.YNc(1,R,3,2,"ng-container",1),d.YNc(2,V,3,2,"ng-container",1),d.qZA()),2&D&&(d.xp6(1),d.Q6J("ngIf",k.taskFields.inline.length>0),d.xp6(1),d.Q6J("ngIf",k.taskFields.block.length>0))}}),T})()},4280:(hn,ht,b)=>{"use strict";b.d(ht,{d:()=>d});var e=b(7384);class d{static taskInput(f,_){if("OPTIONAL"===_)return null;switch(f){case e._r.BOOLEAN:return P=>d.isValueEmpty(P.value)?{required:!0}:!0===P.value||!1===P.value?null:{required:!0};case e._r.IP:return P=>d.isValueEmpty(P.value)||"0.0.0.0"===P.value?{required:!0}:null;case e._r.AD_SOURCE:case e._r.FLOAT:case e._r.INTEGER:case e._r.LOGIN:case e._r.LARGE_TEXT:case e._r.CONNECTION_TYPE:case e._r.COUNTING_LIVES:case e._r.REQUEST_INITIATOR:case e._r.SMALL_TEXT:return P=>d.isValueEmpty(P.value)?{required:!0}:null;case e._r.CONNECTION_SERVICES:case e._r.EQUIPMENTS:return P=>d.isValueEmpty(P.value)?{required:!0}:Array.isArray(P.value)&&0!==P.value.length?null:{required:!0};case e._r.PHONE_ARRAY:return P=>d.isValueEmpty(P.value)||Array.isArray(P.value)&&0===P.value.length||Object.keys(P.value).some(x=>!d.isValidUUID(x))||Object.values(P.value).some(x=>!d.isValidPhone(x))?{required:!0}:null;case e._r.ADDRESS:return P=>{var x,a,R,L,V,F;const T=P.value;if(d.isValueEmpty(T))return{required:!0};switch(_){case"APARTMENT_ONLY":if(d.isValueEmpty(null===(x=T.city)||void 0===x?void 0:x.cityId)||d.isValueEmpty(null===(a=T.street)||void 0===a?void 0:a.streetId)||d.isValueEmpty(T.houseNum)||d.isValueEmpty(T.apartmentNum))return{required:!0};break;case"HOUSE_ONLY":if(d.isValueEmpty(null===(R=T.city)||void 0===R?void 0:R.cityId)||d.isValueEmpty(null===(L=T.street)||void 0===L?void 0:L.streetId)||d.isValueEmpty(T.houseNum))return{required:!0};break;case"ALL":if(d.isValueEmpty(null===(V=T.city)||void 0===V?void 0:V.cityId)||d.isValueEmpty(null===(F=T.street)||void 0===F?void 0:F.streetId)||d.isValueEmpty(T.houseNum)||d.isValueEmpty(T.entrance)||d.isValueEmpty(T.floor)||d.isValueEmpty(T.apartmentNum))return{required:!0};break;default:return null}return null};case e._r.PASSPORT_DETAILS:return P=>{const x=P.value;return x?d.isValueEmpty(x.passportSeries)||d.isValueEmpty(x.passportNumber)||d.isValueEmpty(x.passportIssuedBy)||d.isValueEmpty(x.passportIssuedDate)?{required:!0}:null:{required:!0}};default:return P=>d.isValueEmpty(P.value)?{required:!0}:null}}static notEmpty(f){return d.isValueEmpty(f.value)||Array.isArray(f.value)&&0===f.value.length?{required:!0}:null}static isValueEmpty(f){return null==f||""===f}static isValidUUID(f){return"string"==typeof f&&/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(f)}static isValidPhone(f){return"string"==typeof f&&/^8 \(\d{3}\) \d{3}-\d{2}-\d{2}$/.test(f)}static typeIsSwitchWithAddress(){return f=>!f||"commutator"in f.value&&f.value.commutator?null:{typized:!0}}}},5677:(hn,ht,b)=>{"use strict";b.d(ht,{GU:()=>L,Hw:()=>R,_P:()=>a,bQ:()=>V,kG:()=>F,v4:()=>x});var e=b(7579),d=b(4968),u=b(9300),f=b(4004),_=b(1884),P=b(727);function x(T,y){return function(D,k){const B=D.ngAfterViewInit?D.ngAfterViewInit:()=>{},N=D.ngOnDestroy?D.ngOnDestroy:()=>{},ce=new e.x;let $;Object.defineProperty(D,k,{value:ce.asObservable()}),D.ngAfterViewInit=function(){const z=document.getElementById(T);if(!z)throw new Error(`Element with id ${T} not found`);$=(0,d.R)(z,y).subscribe(ce),B.apply(this,arguments)},D.ngOnDestroy=function(){null==$||$.unsubscribe(),N.apply(this,arguments)}}}function a(T){return function(y,D,k){const B=y.ngAfterViewInit?y.ngAfterViewInit:()=>{};y.ngAfterViewInit=function(){const N=document.getElementById(T);N&&k.value.call(this,N),B.apply(this,arguments)}}}function R(T){return function(y,D){const k=y.ngAfterViewInit?y.ngAfterViewInit:()=>{};y.ngAfterViewInit=function(){this.route.params.pipe((0,u.h)(B=>void 0!==B[T||D]),(0,f.U)(B=>B[T||D]),(0,_.x)()).subscribe(this[D]),k.apply(this,arguments)}}}function L(T){return function(y,D,k){const B=y.ngOnChanges?y.ngOnChanges:()=>{};y.ngOnChanges=function(N){N[T]&&k.value.call(this,N[T].currentValue),B.apply(this,arguments)}}}function V(T){return function(y,D){const k=y.ngOnChanges?y.ngOnChanges:()=>{};y.ngOnChanges=function(B){B[T]&&this[D].next(B[T].currentValue),k.apply(this,arguments)}}}function F(){return function(T){const y=T.prototype.ngOnDestroy?T.prototype.ngOnDestroy:()=>{};T.prototype.ngOnDestroy=function(){for(let D in this)this[D]instanceof P.w0&&this[D].unsubscribe();y.apply(this,arguments)}}}},3460:(hn,ht,b)=>{"use strict";b.d(ht,{j:()=>d});var e=b(5e3);let d=(()=>{class u{constructor(){this.isVisible=!1}onScrollEvent(_){this.isVisible&&this.alignFn&&this.alignFn()}}return u.\u0275fac=function(_){return new(_||u)},u.\u0275dir=e.lG2({type:u,selectors:[["","appCloseIfScroll",""]],hostBindings:function(_,P){1&_&&e.NdJ("scroll",function(a){return P.onScrollEvent(a)},!1,e.Jf7)},inputs:{isVisible:"isVisible",alignFn:"alignFn"}}),u})()},1886:(hn,ht,b)=>{"use strict";b.d(ht,{k:()=>d});var e=b(5e3);let d=(()=>{class u{constructor(){}letterChange(_){!_.ctrlKey&&this.patternRx&&!new RegExp(this.patternRx).test(_.target.value+_.key)&&!["Enter","Space","Tab","Backspace"].some(a=>a===_.key)&&_.preventDefault()}}return u.\u0275fac=function(_){return new(_||u)},u.\u0275dir=e.lG2({type:u,selectors:[["","appRegexPatternChecker",""]],hostBindings:function(_,P){1&_&&e.NdJ("keydown",function(a){return P.letterChange(a)})},inputs:{patternRx:"patternRx"}}),u})()},2716:(hn,ht,b)=>{"use strict";b.d(ht,{J:()=>x});var e=b(2777),d=b(1110),u=b(7805),f=b(7092),_=b(6890),P=b(5e3);let x=(()=>{class a{constructor(L,V,F){this.element=L,this.viewContainerRef=V,this.componentFactoryResolver=F,this.arrayOfSubstitutions=[],this.loaded=!1}set value(L){!this.loaded||(this.findTagsAndReplaceToPlaceholders(),this.replacePlaceholdersToComponents())}ngAfterViewInit(){this.findTagsAndReplaceToPlaceholders(),this.replacePlaceholdersToComponents(),this.loaded=!0}ngOnInit(){}findTagsAndReplaceToPlaceholders(){const L=this.element.nativeElement;L.innerHTML=L.innerHTML.replaceAll(/\B#(\d+)/g,(k,B)=>(this.arrayOfSubstitutions.push({data:parseInt(B),type:"task"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i> `)),L.innerHTML=L.innerHTML.replaceAll(/\B@([A-z\d.\-_]+)/g,(k,B)=>(this.arrayOfSubstitutions.push({data:B,type:"employee"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i> `)),L.innerHTML=L.innerHTML.replaceAll(/\B\$(\d+)/g,(k,B)=>(this.arrayOfSubstitutions.push({data:parseInt(B),type:"department"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i> `)),L.innerHTML=L.innerHTML.replaceAll(/\B\^\((\d+)\)/g,(k,B)=>(this.arrayOfSubstitutions.push({data:parseInt(B),type:"appointedInstallers"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i>`)),L.innerHTML=L.innerHTML.replaceAll(/#CHAT\((\d+)\)/g,(k,B)=>(this.arrayOfSubstitutions.push({data:parseInt(B),type:"chat"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i>`))}replacePlaceholdersToComponents(){this.arrayOfSubstitutions.forEach((L,V)=>{const T=this.element.nativeElement.querySelector(`#replace${V}`);switch(L.type){case"task":T.replaceWith(e.U.createElement(parseInt(L.data)));break;case"employee":T.replaceWith(d.x.createElement(L.data,!0));break;case"department":T.replaceWith(u.y.createElement(L.data,!0));break;case"appointedInstallers":T.replaceWith(f._.createElement(L.data));break;case"chat":T.replaceWith(_.K.createElement(L.data))}})}}return a.\u0275fac=function(L){return new(L||a)(P.Y36(P.SBq),P.Y36(P.s_b),P.Y36(P._Vd))},a.\u0275dir=P.lG2({type:a,selectors:[["","appTextRevival",""]],inputs:{value:"value"}}),a})()},7514:(hn,ht,b)=>{"use strict";b.d(ht,{x:()=>T});var e=b(7445),d=b(2529),u=b(8505),f=b(2035),_=b(9646),P=b(4326),x=b(4482),a=b(5403),L=b(3900),V=b(599),F=b(5e3);let T=(()=>{class y{constructor(k){this.elementRef=k}ngOnInit(){const k=this.elementRef.nativeElement,B=(0,e.F)(60).pipe((0,d.o)(()=>k.scrollWidth>k.scrollLeft+k.clientWidth),(0,u.b)(()=>{let N=Math.floor((k.scrollWidth-k.clientWidth)/55);N<1&&(N=1),k.scrollBy({left:N})}),(0,f.h)(1));this.subscription=(0,_.of)(null).pipe((0,P.g)(1e3),function R(y){return(0,x.e)((D,k)=>{let B=!1,N=0;D.subscribe(new a.Q(k,ce=>(B||(B=!y(ce,N++)))&&k.next(ce)))})}(()=>k.scrollWidth<=k.clientWidth),(0,L.w)(()=>B),(0,P.g)(1e3),(0,u.b)(()=>k.scrollTo({left:0})),(0,V.r)()).subscribe()}ngOnDestroy(){var k;null===(k=this.subscription)||void 0===k||k.unsubscribe()}}return y.\u0275fac=function(k){return new(k||y)(F.Y36(F.SBq))},y.\u0275dir=F.lG2({type:y,selectors:[["","appTicker",""]]}),y})()},5107:(hn,ht,b)=>{"use strict";b.d(ht,{a:()=>x});var e=b(3470),d=b(262),u=b(9646),f=b(4004),_=b(5e3),P=b(8738);let x=(()=>{class a{constructor(L,V){this.api=L,this.router=V}canActivate(L,V){return this.api.authCheckout().pipe((0,d.K)((F,T)=>(0,u.of)(this.router.createUrlTree(["/login"]))),(0,f.U)(F=>!(F instanceof e.lo)||F))}canActivateChild(L,V){return this.api.authCheckout().pipe((0,d.K)((F,T)=>(0,u.of)(this.router.createUrlTree(["/login"]))),(0,f.U)(F=>!(F instanceof e.lo)||F))}}return a.\u0275fac=function(L){return new(L||a)(_.LFG(P.s),_.LFG(e.F0))},a.\u0275prov=_.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},8913:(hn,ht,b)=>{"use strict";b.d(ht,{U:()=>lc});var e=b(9808),d=b(9706),u=b(5072),f=b(446),_=b(4304),P=b(655),x=b(5677),a=b(5e3),R=b(3470);const L=["titleElem"],V=["wrapperElem"],F=["childElem"];function T(Ee,Bt){if(1&Ee&&a._UZ(0,"app-colored-tag",9),2&Ee){const ie=a.oxw();a.Q6J("caption",ie.badge)}}const y=function(Ee){return{rotated:Ee}};function D(Ee,Bt){if(1&Ee&&(a.TgZ(0,"span",10),a._uU(1,"expand_more"),a.qZA()),2&Ee){const ie=a.oxw();a.Q6J("ngClass",a.VKq(1,y,ie._isExtended))}}function k(Ee,Bt){if(1&Ee&&a._UZ(0,"app-sub-extended-menu-item",11),2&Ee){const ie=Bt.$implicit;a.Q6J("caption",ie.label)("children",ie.children)("isExtended",ie.extended)("link",ie.link)("nLevel",ie.nestingLevel)}}const B=function(Ee){return{exact:Ee}};class N{constructor(Bt){this.route=Bt,this.extendable=!1,this.icon="",this.caption="",this.elements=[],this.exact=!1,this._isExtended=!1,this.contextOptions=[]}set isExtended(Bt){this.extendable&&(this._isExtended=Bt,this.extending())}linkChanged(Bt){this.contextOptions=Bt&&Bt.length>0?[{label:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0432 \u043d\u043e\u0432\u043e\u0439 \u0432\u043a\u043b\u0430\u0434\u043a\u0435",icon:"mdi-open_in_new",command:()=>window.open(Bt.join("/"),"_blank")},{label:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0432 \u043d\u043e\u0432\u043e\u043c \u043e\u043a\u043d\u0435",icon:"mdi-web_asset",command:()=>window.open(Bt.join("/"),"_blank","popup")}]:[]}ngAfterViewInit(){this.extendable&&this.extending()}ngOnInit(){}toggle(){!this.hasChild()||(this.isExtended=!this._isExtended)}hasChild(){return this.elements&&this.elements.length>0}extending(){!this.wrapperElem||!this.titleElem||(this._isExtended?(this.wrapperElem.nativeElement.style.height=this.wrapperElem.nativeElement.scrollHeight+"px",this.animationTimer=setTimeout(()=>{this._isExtended&&(this.wrapperElem.nativeElement.style.height="auto"),this.animationTimer=void 0},200)):(this.animationTimer&&clearTimeout(this.animationTimer),this.wrapperElem.nativeElement.style.height=this.wrapperElem.nativeElement.scrollHeight+"px",setTimeout(()=>{this.wrapperElem.nativeElement.style.height=this.titleElem.nativeElement.offsetHeight+"px"})))}}N.\u0275fac=function(Bt){return new(Bt||N)(a.Y36(R.gz))},N.\u0275cmp=a.Xpm({type:N,selectors:[["app-extended-menu-item"]],viewQuery:function(Bt,ie){if(1&Bt&&(a.Gf(L,5),a.Gf(V,5),a.Gf(F,5)),2&Bt){let Xe;a.iGM(Xe=a.CRH())&&(ie.titleElem=Xe.first),a.iGM(Xe=a.CRH())&&(ie.wrapperElem=Xe.first),a.iGM(Xe=a.CRH())&&(ie.childElem=Xe.first)}},inputs:{extendable:"extendable",icon:"icon",caption:"caption",elements:"elements",link:"link",badge:"badge",exact:"exact",isExtended:"isExtended"},decls:11,vars:12,consts:[[1,"flexed","column","wrapper"],["wrapperElem",""],["routerLinkActive","active",1,"title","flexed","gap6","hcenter",3,"routerLink","routerLinkActiveOptions","click"],["titleElem",""],[1,"stretched"],["color","var(--mc-500)",3,"caption",4,"ngIf"],["class","material-icons-round title-expanded-icon",3,"ngClass",4,"ngIf"],[3,"caption","children","isExtended","link","nLevel",4,"ngFor","ngForOf"],["appendTo","body",3,"model","target"],["color","var(--mc-500)",3,"caption"],[1,"material-icons-round","title-expanded-icon",3,"ngClass"],[3,"caption","children","isExtended","link","nLevel"]],template:function(Bt,ie){if(1&Bt&&(a.TgZ(0,"div",0,1)(2,"div",2,3),a.NdJ("click",function(){return ie.toggle()}),a._UZ(4,"span"),a._uU(5),a._UZ(6,"div",4),a.YNc(7,T,1,1,"app-colored-tag",5),a.YNc(8,D,2,3,"span",6),a.qZA(),a.YNc(9,k,1,5,"app-sub-extended-menu-item",7),a.qZA(),a._UZ(10,"p-contextMenu",8)),2&Bt){const Xe=a.MAs(1);a.xp6(2),a.Q6J("routerLink",ie.link)("routerLinkActiveOptions",a.VKq(10,B,ie.exact)),a.xp6(2),a.Tol(ie.icon),a.xp6(1),a.hij(" ",ie.caption," "),a.xp6(2),a.Q6J("ngIf",ie.badge),a.xp6(1),a.Q6J("ngIf",ie.hasChild()),a.xp6(1),a.Q6J("ngForOf",ie.elements),a.xp6(1),a.Q6J("model",ie.contextOptions)("target",Xe)}},styles:[".wrapper[_ngcontent-%COMP%]{overflow:hidden;transition:height .2s ease-out;border-radius:.5rem}.title[_ngcontent-%COMP%]{padding:.7rem;font-size:1.2rem;color:var(--tc-700);cursor:pointer;-webkit-user-select:none;user-select:none;transition:color .15s ease-out,background-color .15s ease-out;outline:none}.title.active[_ngcontent-%COMP%]{color:var(--mc-0);background-color:var(--mc-500);cursor:default}.title[_ngcontent-%COMP%]:not(.active):hover{color:var(--mc-500)}.title[_ngcontent-%COMP%]:not(.active):active{color:var(--mc-500);background-color:var(--mc-0)}.title-icon[_ngcontent-%COMP%]{font-size:1.5rem}.title-expanded-icon[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(1,-.6,0,1.65)}.title-expanded-icon.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}"]}),(0,P.gn)([(0,x.GU)("link")],N.prototype,"linkChanged",null);const ce=["parentWrapper"],$=["titleElement"],z=function(Ee){return{rotated:Ee}};function S(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"span",8),a.NdJ("click",function(){a.CHM(ie);const nn=a.oxw();return a.KtG(nn.toggleExtend())}),a._uU(1,"expand_more"),a.qZA()}if(2&Ee){const ie=a.oxw();a.Q6J("ngClass",a.VKq(1,z,ie._isExtended))}}function O(Ee,Bt){if(1&Ee&&a._UZ(0,"app-sub-extended-menu-item",9),2&Ee){const ie=Bt.$implicit;let Xe;a.Q6J("caption",ie.label)("link",ie.link)("children",ie.children)("nLevel",(null!==(Xe=ie.nestingLevel)&&void 0!==Xe?Xe:0)+1)}}const K=function(Ee){return{"can-extend":Ee}},ue=function(Ee){return{show:Ee}},q=function(){return[]};let G=(()=>{class Ee{constructor(ie){this.route=ie,this.caption="",this._isExtended=!1}set isExtended(ie){this._isExtended=ie,this.extending()}ngOnInit(){}ngAfterViewInit(){!this.hasElements()||this.extending()}toggleExtend(){!this.hasElements()||(this.isExtended=!this._isExtended)}extending(){var ie;null===(ie=this.parentWrapper)||void 0===ie||!ie.nativeElement||(this._isExtended?(this.parentWrapper.nativeElement.style.height=this.parentWrapper.nativeElement.scrollHeight+"px",this.animationTimer=setTimeout(()=>{this._isExtended&&(this.parentWrapper.nativeElement.style.height="auto"),this.animationTimer=void 0},200)):(this.animationTimer&&clearTimeout(this.animationTimer),this.parentWrapper.nativeElement.style.height=this.parentWrapper.nativeElement.scrollHeight+"px",setTimeout(()=>{this.parentWrapper.nativeElement.style.height=this.titleElement.nativeElement.offsetHeight+"px"})))}hasElements(){return this.parentWrapper&&this.titleElement}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(a.Y36(R.gz))},Ee.\u0275cmp=a.Xpm({type:Ee,selectors:[["app-sub-extended-menu-item"]],viewQuery:function(ie,Xe){if(1&ie&&(a.Gf(ce,5),a.Gf($,5)),2&ie){let nn;a.iGM(nn=a.CRH())&&(Xe.parentWrapper=nn.first),a.iGM(nn=a.CRH())&&(Xe.titleElement=nn.first)}},inputs:{caption:"caption",link:"link",children:"children",nLevel:"nLevel",isExtended:"isExtended"},decls:9,vars:11,consts:[[1,"parent-wrapper"],["parentWrapper",""],[1,"flexed","title",3,"ngClass"],["class","material-icons-round title-expanded-icon",3,"ngClass","click",4,"ngIf"],["routerLinkActive","active",1,"item",3,"routerLink"],["titleElement",""],[1,"child-wrapper",3,"ngClass"],[3,"caption","link","children","nLevel",4,"ngFor","ngForOf"],[1,"material-icons-round","title-expanded-icon",3,"ngClass","click"],[3,"caption","link","children","nLevel"]],template:function(ie,Xe){if(1&ie&&(a.TgZ(0,"div",0,1)(2,"div",2),a.YNc(3,S,2,3,"span",3),a.TgZ(4,"div",4,5),a._uU(6),a.qZA()(),a.TgZ(7,"div",6),a.YNc(8,O,1,4,"app-sub-extended-menu-item",7),a.qZA()()),2&ie){let nn;a.xp6(2),a.Q6J("ngClass",a.VKq(6,K,Xe.children)),a.xp6(1),a.Q6J("ngIf",Xe.children),a.xp6(1),a.Q6J("routerLink",Xe.link),a.xp6(2),a.hij(" ",Xe.caption," "),a.xp6(1),a.Q6J("ngClass",a.VKq(8,ue,Xe._isExtended)),a.xp6(1),a.Q6J("ngForOf",null!==(nn=Xe.children)&&void 0!==nn?nn:a.DdM(10,q))}},dependencies:[e.mk,e.sg,e.O5,R.rH,R.Od,Ee],styles:[".item[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--tc-500);padding:.2rem 0;transition:color .2s ease-out;cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center}.item.active[_ngcontent-%COMP%]{color:var(--mc-500)}.item.can-extend[_ngcontent-%COMP%]{transform:translate(-.8rem)}.title-expanded-icon[_ngcontent-%COMP%]{color:var(--bgc-400);cursor:pointer;-webkit-user-select:none;user-select:none;transition:transform .3s cubic-bezier(1,-.6,0,1.65),color .2s ease-out;transform:rotate(270deg)}.title-expanded-icon.rotated[_ngcontent-%COMP%]{transform:rotate(0);color:var(--mc-500)}.title-expanded-icon[_ngcontent-%COMP%]:hover{color:var(--bgc-600)}.item[_ngcontent-%COMP%]:hover{color:var(--tc-700)}.parent-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:2rem;overflow:hidden;padding-left:1.5rem;transition:height .2s ease-out}.child-wrapper[_ngcontent-%COMP%]{padding-left:2rem;opacity:0;transition:opacity .3s ease-out}.child-wrapper.show[_ngcontent-%COMP%]{opacity:1}"]}),Ee})();var j=b(6502),fe=b(5948),ne=b(4e3),J=b(3064),X=b(6198),W=b(9936);function Y(Ee,Bt){1&Ee&&a.GkF(0)}function Te(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",4),a.NdJ("click",function(nn){a.CHM(ie);const Sn=a.oxw();return a.KtG(Sn.hide(nn))}),a.YNc(1,Y,1,0,"ng-container",5),a.qZA()}if(2&Ee){a.oxw();const ie=a.MAs(2);a.xp6(1),a.Q6J("ngTemplateOutlet",ie)}}function Ae(Ee,Bt){1&Ee&&(a.TgZ(0,"div",13),a._UZ(1,"p-progressSpinner",14),a.qZA())}function Ke(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",15),a.NdJ("mouseenter",function(){a.CHM(ie);const nn=a.oxw(3);return a.KtG(nn.showNavigation="unfade")})("mouseleave",function(){a.CHM(ie);const nn=a.oxw(3);return a.KtG(nn.showNavigation="fade")}),a.TgZ(1,"div",16),a.NdJ("click",function(){a.CHM(ie);const nn=a.oxw(3);return a.KtG(nn.goPrev())}),a.TgZ(2,"span",17),a._uU(3,"arrow_back_ios"),a.qZA()(),a.TgZ(4,"div",18),a._uU(5),a.qZA(),a.TgZ(6,"div",19),a.NdJ("click",function(){a.CHM(ie);const nn=a.oxw(3);return a.KtG(nn.goNext())}),a.TgZ(7,"span",17),a._uU(8,"arrow_forward_ios"),a.qZA()()()}if(2&Ee){const ie=a.oxw(3);a.xp6(1),a.Q6J("@fadeAlt",ie.showNavigation),a.xp6(3),a.Q6J("@fadeFullAlt",ie.showNavigation),a.xp6(1),a.AsE(" ",ie.albumIndex+1," / ",ie.mediaAlbum.length," "),a.xp6(1),a.Q6J("@fadeAlt",ie.showNavigation)}}function be(Ee,Bt){1&Ee&&a._UZ(0,"ng-component")}function Ge(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",9),a.YNc(1,Ae,2,0,"div",10),a.TgZ(2,"img",11),a.NdJ("error",function(nn){a.CHM(ie);const Sn=a.oxw(2);return a.KtG(Sn.imageLoadError(nn))})("load",function(nn){a.CHM(ie);const Sn=a.oxw(2);return a.KtG(Sn.imageLoad(nn))}),a.qZA(),a.YNc(3,Ke,9,5,"div",12),a.YNc(4,be,1,0,"ng-component",5),a.qZA()}if(2&Ee){const ie=a.oxw(2),Xe=a.MAs(4);a.xp6(1),a.Q6J("ngIf",ie.imageLoadingIndicator),a.xp6(1),a.Q6J("src",ie.url,a.LSH),a.xp6(1),a.Q6J("ngIf",ie.mediaAlbum&&ie.mediaAlbum.length>1),a.xp6(1),a.Q6J("ngTemplateOutlet",Xe)}}function ee(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",24)(1,"div",25),a.NdJ("click",function(){a.CHM(ie);const nn=a.oxw(3);return a.KtG(nn.goPrev())}),a.TgZ(2,"span",17),a._uU(3,"arrow_back_ios"),a.qZA()(),a.TgZ(4,"div",26),a._uU(5),a.qZA(),a.TgZ(6,"div",27),a.NdJ("click",function(){a.CHM(ie);const nn=a.oxw(3);return a.KtG(nn.goNext())}),a.TgZ(7,"span",17),a._uU(8,"arrow_forward_ios"),a.qZA()()()}if(2&Ee){const ie=a.oxw(3);a.xp6(5),a.AsE(" ",ie.albumIndex+1," / ",ie.mediaAlbum.length," ")}}function xe(Ee,Bt){1&Ee&&a._UZ(0,"ng-component")}const we=function(Ee){return{"controls-out":Ee}};function Pe(Ee,Bt){if(1&Ee&&(a.TgZ(0,"div",20)(1,"div",21),a._UZ(2,"video",22),a.YNc(3,ee,9,2,"div",23),a.qZA(),a.YNc(4,xe,1,0,"ng-component",5),a.qZA()),2&Ee){const ie=a.oxw(2),Xe=a.MAs(4);a.xp6(2),a.Q6J("ngClass",a.VKq(5,we,!(ie.mediaAlbum&&ie.mediaAlbum.length>1)))("controls",!0)("src",ie.url,a.LSH),a.xp6(1),a.Q6J("ngIf",ie.mediaAlbum&&ie.mediaAlbum.length>1),a.xp6(1),a.Q6J("ngTemplateOutlet",Xe)}}function dt(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",31)(1,"div",32),a.NdJ("click",function(){a.CHM(ie);const nn=a.oxw(3);return a.KtG(nn.goPrev())}),a.TgZ(2,"span",17),a._uU(3,"arrow_back_ios"),a.qZA()(),a.TgZ(4,"div",33),a._uU(5),a.qZA(),a.TgZ(6,"div",34),a.NdJ("click",function(){a.CHM(ie);const nn=a.oxw(3);return a.KtG(nn.goNext())}),a.TgZ(7,"span",17),a._uU(8,"arrow_forward_ios"),a.qZA()()()}if(2&Ee){const ie=a.oxw(3);a.xp6(5),a.AsE(" ",ie.albumIndex+1," / ",ie.mediaAlbum.length," ")}}function bt(Ee,Bt){1&Ee&&a._UZ(0,"ng-component")}function it(Ee,Bt){if(1&Ee&&(a.TgZ(0,"div",28),a._UZ(1,"audio",29),a.YNc(2,dt,9,2,"div",30),a.YNc(3,bt,1,0,"ng-component",5),a.qZA()),2&Ee){const ie=a.oxw(2),Xe=a.MAs(4);a.xp6(1),a.Q6J("controls",!0)("src",ie.url,a.LSH),a.xp6(1),a.Q6J("ngIf",ie.mediaAlbum&&ie.mediaAlbum.length>1),a.xp6(1),a.Q6J("ngTemplateOutlet",Xe)}}function Dt(Ee,Bt){1&Ee&&(a.YNc(0,Ge,5,4,"div",6),a.YNc(1,Pe,5,7,"div",7),a.YNc(2,it,4,4,"div",8)),2&Ee&&(a.Q6J("ngSwitchCase","PHOTO"),a.xp6(1),a.Q6J("ngSwitchCase","VIDEO"),a.xp6(1),a.Q6J("ngSwitchCase","AUDIO"))}function vt(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",35)(1,"span",36),a._uU(2,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0444\u0430\u0439\u043b\u0435"),a.qZA(),a.TgZ(3,"div",37)(4,"div",38)(5,"span",39),a._uU(6,"\u0418\u043c\u044f"),a.qZA(),a.TgZ(7,"span",40),a._uU(8),a.qZA()(),a.TgZ(9,"div",38)(10,"span",39),a._uU(11,"\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430"),a.qZA(),a.TgZ(12,"span",40),a._uU(13),a.qZA()(),a.TgZ(14,"div",38)(15,"span",39),a._uU(16,"\u0414\u0430\u0442\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f"),a.qZA(),a.TgZ(17,"span",40),a._uU(18),a.ALo(19,"date"),a.qZA()()(),a._UZ(20,"div",41),a.TgZ(21,"app-button",42),a.NdJ("onClick",function(){a.CHM(ie);const nn=a.MAs(23);return a.KtG(nn.click())}),a.qZA(),a._UZ(22,"a",43,44),a.qZA()}if(2&Ee){const ie=a.oxw();let Xe;a.xp6(8),a.Oqu(null==ie.media?null:ie.media.name),a.xp6(5),a.hij("",((null!==(Xe=null==ie.media?null:ie.media.size)&&void 0!==Xe?Xe:0)/1048576).toFixed(2)," \u041c\u0431\u0430\u0439\u0442"),a.xp6(5),a.Oqu(a.lcZ(19,7,null==ie.media?null:ie.media.createdAt)),a.xp6(4),a.Udp("display","none"),a.Q6J("download",null==ie.media?null:ie.media.name)("href",ie.url,a.LSH)}}let Wt=(()=>{class Ee{constructor(ie){this.service=ie,this.showFullscreen=!1,this.albumIndex=0,this.showNavigation="fade",this.imageLoadingIndicator=!0}get url(){return this.media?"fileSystemItemId"in this.media?"/api/private/file/"+this.media.fileSystemItemId:"workLogTargetFileId"in this.media?"/api/private/work-log/target-file/"+this.media.workLogTargetFileId:"/api/private/attachment/"+this.media.name:null}ngOnInit(){this.service.media().subscribe({next:ie=>{this.imageLoadingIndicator=!0,this.showFullscreen=!0,this.media=ie,this.albumIndex=0,this.mediaAlbum=void 0}}),this.service.mediaAlbum().subscribe({next:ie=>{this.imageLoadingIndicator=!0,this.showFullscreen=!0,this.albumIndex=ie.index,this.mediaAlbum=ie.album,this.media=this.mediaAlbum[this.albumIndex]}})}hide(ie){ie.target===ie.currentTarget&&(this.showFullscreen=!1)}imageLoad(ie){this.imageLoadingIndicator=!1}imageLoadError(ie){}goPrev(){this.mediaAlbum&&this.mediaAlbum.length>0&&(this.albumIndex>0?this.media=this.mediaAlbum[--this.albumIndex]:(this.albumIndex=this.mediaAlbum.length-1,this.media=this.mediaAlbum[this.albumIndex]))}goNext(){this.mediaAlbum&&this.mediaAlbum.length>0&&(this.albumIndex<this.mediaAlbum.length-1?this.media=this.mediaAlbum[++this.albumIndex]:(this.albumIndex=0,this.media=this.mediaAlbum[this.albumIndex]))}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(a.Y36(J.E))},Ee.\u0275cmp=a.Xpm({type:Ee,selectors:[["app-media-viewer"]],decls:5,vars:2,consts:[["class","page-cover",3,"click",4,"ngIf"],[3,"ngSwitch"],["content",""],["metadata",""],[1,"page-cover",3,"click"],[4,"ngTemplateOutlet"],["class","photo-view",4,"ngSwitchCase"],["class","video-view",4,"ngSwitchCase"],["class","audio-view",4,"ngSwitchCase"],[1,"photo-view"],["class","image-loading-indicator",4,"ngIf"],[3,"src","error","load"],["class","navigation",3,"mouseenter","mouseleave",4,"ngIf"],[1,"image-loading-indicator"],[1,"white-spinner"],[1,"navigation",3,"mouseenter","mouseleave"],[1,"navigation-button","back",3,"click"],[1,"material-icons-round"],[1,"navigation-counter"],[1,"navigation-button","forward",3,"click"],[1,"video-view"],[1,"video-wrapper"],[3,"ngClass","controls","src"],["class","video-navigation",4,"ngIf"],[1,"video-navigation"],[1,"video-navigation-button","back",3,"click"],[1,"video-navigation-counter"],[1,"video-navigation-button","forward",3,"click"],[1,"audio-view"],[3,"controls","src"],["class","audio-navigation",4,"ngIf"],[1,"audio-navigation"],[1,"audio-navigation-button","back",3,"click"],[1,"audio-navigation-counter"],[1,"audio-navigation-button","forward",3,"click"],[1,"metadata"],[1,"caption","size-big"],[1,"flexed","column","gap3","p5"],[1,"flexed","hcenter","gap3"],[1,"caption","size-small","wt-bold","f-color-500"],[1,"caption","size-small","f-inline"],[1,"stretched"],["icon","download","label","\u0421\u043a\u0430\u0447\u0430\u0442\u044c","model","p-button-success",3,"onClick"],[3,"download","href"],["downloadLink",""]],template:function(ie,Xe){1&ie&&(a.YNc(0,Te,2,1,"div",0),a.YNc(1,Dt,3,3,"ng-template",1,2,a.W1O),a.YNc(3,vt,24,9,"ng-template",null,3,a.W1O)),2&ie&&(a.Q6J("ngIf",Xe.showFullscreen),a.xp6(1),a.Q6J("ngSwitch",null==Xe.media?null:Xe.media.type))},dependencies:[e.mk,e.O5,e.tP,e.RF,e.n9,R.fw,X.G,f.r,W.h,e.uU],styles:[".page-cover[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000b3;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);display:flex;align-items:center;justify-content:center;z-index:4201}.page-cover[_ngcontent-%COMP%]   .photo-view[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr;grid-template-columns:1fr 20rem;margin:3rem;align-items:center;justify-content:center;width:max-content;height:max-content;max-width:90vw;max-height:90vh;min-height:20rem;overflow:hidden}.page-cover[_ngcontent-%COMP%]   .photo-view[_ngcontent-%COMP%]   .image-loading-indicator[_ngcontent-%COMP%]{min-width:50vw;min-height:40vh;width:100%;height:100%;background-color:var(--bgc-200);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:2rem;grid-area:1/1/2/2;border-radius:.5rem 0 0 .5rem}.page-cover[_ngcontent-%COMP%]   .photo-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{grid-area:1/1/2/2;width:100%;height:100%;border-radius:.5rem 0 0 .5rem;min-width:5rem;min-height:5rem;max-height:93vh;object-fit:cover;object-position:center}.page-cover[_ngcontent-%COMP%]   .photo-view[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]{height:100%;min-width:20rem;border-radius:0 .5rem .5rem 0;background-color:#fff;display:flex;flex-direction:column;gap:.5rem;padding:1rem}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr;grid-template-columns:1fr 20rem;margin:3rem;align-items:center;justify-content:center;width:max-content;height:max-content;max-width:90vw;max-height:90vh;min-height:20rem;overflow:hidden}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-area:1/1/2/2;width:100%;height:100%;border-radius:.5rem 0 0 .5rem;min-width:5rem;min-height:5rem;max-height:93vh;overflow:hidden}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:calc(100% - 4rem);background-color:#000}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   video.controls-out[_ngcontent-%COMP%]{height:100%!important}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;height:4rem;background-color:#fff}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-counter[_ngcontent-%COMP%]{color:var(--tc-600);width:max-content;height:max-content;font-size:1.2rem;font-weight:500}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-button[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;padding:1rem;display:flex;align-items:center;flex:1;color:var(--tc-600);transition:color .2s ease-out}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-button[_ngcontent-%COMP%]:hover{color:var(--tc-800)}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-button.forward[_ngcontent-%COMP%]{justify-content:flex-end}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-button.back[_ngcontent-%COMP%]{justify-content:flex-start}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]{height:100%;min-width:20rem;border-radius:0 .5rem .5rem 0;background-color:#fff;display:flex;flex-direction:column;gap:.5rem;padding:1rem}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]{display:flex;padding-top:1rem;gap:.5rem;flex-direction:column;align-items:center;width:max-content;height:max-content;background-color:#fff;border-radius:1rem;overflow:hidden}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation[_ngcontent-%COMP%]{display:flex;flex:1;padding:.5rem;align-self:stretch;align-items:center}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-counter[_ngcontent-%COMP%]{color:var(--tc-600);width:max-content;height:max-content;font-size:1.2rem;font-weight:500}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-button[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;display:flex;align-items:center;flex:1;color:var(--tc-600);transition:color .2s ease-out}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-button[_ngcontent-%COMP%]:hover{color:var(--tc-800)}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-button.forward[_ngcontent-%COMP%]{justify-content:flex-end}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-button.back[_ngcontent-%COMP%]{justify-content:flex-start}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]{height:100%;min-width:20rem;background-color:#fff;display:flex;flex-direction:column;gap:.5rem;padding:1rem}.navigation[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;grid-area:1/1/2/2}.navigation-counter[_ngcontent-%COMP%]{color:var(--tc-100);width:max-content;height:max-content;align-self:flex-end;margin-bottom:2rem;font-size:1.2rem;font-weight:500;text-shadow:0 0 4px rgba(0,0,0,.3)}.navigation-button[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;padding:1rem;display:flex;align-items:center;flex:1;opacity:.2;transition:opacity .2s ease-out;color:var(--tc-100)}.navigation-button[_ngcontent-%COMP%]:hover{opacity:1!important}.navigation-button.forward[_ngcontent-%COMP%]{justify-content:flex-end;background:linear-gradient(90deg,rgba(0,0,0,0),rgba(0,0,0,.15))}.navigation-button.back[_ngcontent-%COMP%]{justify-content:flex-start;background:linear-gradient(270deg,rgba(0,0,0,0),rgba(0,0,0,.15))}"],data:{animation:[ne.PJ,ne.mo]}}),Ee})();var zt=b(4881),Ut=b(1819),ct=b(1874),at=b(845),me=b(2382),De=b(4036),ot=b(7010),Ct=b(3407),Ot=b(5315),Ft=b(3725),Mt=b(85),Ye=b(7773),st=b(1424),je=b(2537),It=b(9925),se=b(3877),Fe=b(4500),he=b(1886),gt=b(8508),cn=b(1828),Tn=b(1208),en=b(9354),_t=b(3640),tt=b(6073),de=b(2340);function ze(){const Ee=new tt.f;return Ee.configure((()=>{var Ee;return{brokerURL:de.N.wsHost,connectHeaders:{passcode:"guest",login:null!==(Ee=localStorage.getItem("token"))&&void 0!==Ee?Ee:""},heartbeatIncoming:0,heartbeatOutgoing:2e4,reconnectDelay:200,debug:Bt=>{}}})()),Ee.activate(),Ee}var Et=b(3078),Be=b(2777),qt=b(6526),gn=b(7307),Qt=b(6888),Mn=b(9618),Nt=b(1588);let rn=(()=>{class Ee{constructor(ie){this.hostElement=ie,this.focusAfterInit=!0}ngAfterViewInit(){this.focusAfterInit&&setTimeout(()=>this.hostElement.focus())}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(a.Y36(je.vy))},Ee.\u0275dir=a.lG2({type:Ee,selectors:[["","focusAfterInit",""]],inputs:{focusAfterInit:"focusAfterInit"}}),Ee})();const Bn=function(){return{width:"100%"}};function Hn(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",3)(1,"p-inputMask",4),a.NdJ("ngModelChange",function(nn){const Xn=a.CHM(ie).$implicit,Vi=a.oxw();return a.KtG(Vi.controlValue[Xn.key]=nn)})("ngModelChange",function(nn){const Xn=a.CHM(ie).$implicit,Vi=a.oxw();return Vi.controlValue[Xn.key]=nn,a.KtG(Vi.onChange(Vi.controlValue))})("onBlur",function(){a.CHM(ie);const nn=a.oxw();return a.KtG(nn.onBlur.emit())}),a.qZA(),a.TgZ(2,"button",5),a.NdJ("click",function(){const Sn=a.CHM(ie).$implicit,Xn=a.oxw();return a.KtG(Xn.removePhone(Sn.key))}),a.qZA()()}if(2&Ee){const ie=Bt.$implicit,Xe=a.oxw();a.xp6(1),a.Akn(a.DdM(6,Bn)),a.Q6J("ngModel",Xe.controlValue[ie.key])("focusAfterInit",!0)("disabled",Xe.disable),a.xp6(1),a.Q6J("disabled",Xe.count<2||Xe.disable)}}let ai=(()=>{class Ee{constructor(){this.controlValue={},this.disable=!1,this.autoFocusFlag=!1,this.inputClasses={},this.onBlur=new a.vpe,this.onChange=ie=>{},this.onTouched=()=>{}}get count(){return this.controlValue?Object.keys(this.controlValue).length:0}setDisabledState(ie){this.disable=ie}ngAfterViewInit(){}ngOnInit(){}registerOnChange(ie){this.onChange=ie}registerOnTouched(ie){this.onTouched=ie}writeValue(ie){this.controlValue=ie}appendPhone(){this.controlValue||(this.controlValue={});const ie=(0,Nt.Z)();this.controlValue[ie]="",this.onChange(this.controlValue)}removePhone(ie){!this.controlValue||(delete this.controlValue[ie],this.onChange(this.controlValue))}valuesTrack(ie,Xe){return Xe.key}}return Ee.\u0275fac=function(ie){return new(ie||Ee)},Ee.\u0275cmp=a.Xpm({type:Ee,selectors:[["app-phone-list-input"]],inputs:{inputClasses:"inputClasses"},outputs:{onBlur:"onBlur"},features:[a._Bn([{provide:me.JU,useExisting:(0,a.Gpc)(()=>Ee),multi:!0}])],decls:4,vars:5,consts:[[1,"flexed","gap5","column"],["class","p-inputgroup",4,"ngFor","ngForOf","ngForTrackBy"],["icon","add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u043c\u0435\u0440",3,"disabled","onClick"],[1,"p-inputgroup"],["mask","8 (999) 999-99-99",3,"ngModel","focusAfterInit","disabled","ngModelChange","onBlur"],["icon","pi pi-trash","pButton","","type","button",1,"p-button-danger",3,"disabled","click"]],template:function(ie,Xe){1&ie&&(a.TgZ(0,"div",0),a.YNc(1,Hn,3,7,"div",1),a.ALo(2,"keyvalue"),a.TgZ(3,"app-button",2),a.NdJ("onClick",function(){return Xe.appendPhone()}),a.qZA()()),2&ie&&(a.xp6(1),a.Q6J("ngForOf",a.lcZ(2,3,Xe.controlValue))("ngForTrackBy",Xe.valuesTrack),a.xp6(2),a.Q6J("disabled",Xe.disable))},dependencies:[e.sg,at.Hq,me.JJ,me.On,je.vy,f.r,rn,e.Nd]}),Ee})();var vi=b(1110),Ni=b(5787);let ti=(()=>{class Ee{}return Ee.\u0275fac=function(ie){return new(ie||Ee)},Ee.\u0275mod=a.oAB({type:Ee}),Ee.\u0275inj=a.cJS({imports:[e.ez,Ni.T]}),Ee})();var Di=b(9744),qi=b(2716);const Do=function(Ee){return{unread:Ee}};let li=(()=>{class Ee{constructor(ie){this.notifyService=ie,this.notification={}}ngOnInit(){}getIcon(ie){return this.notifyService.icons[ie]+" icon header"}getTitle(ie){return this.notifyService.titles[ie]}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(a.Y36(Di.T))},Ee.\u0275cmp=a.Xpm({type:Ee,selectors:[["app-notification-item"]],inputs:{notification:"notification"},decls:9,vars:11,consts:[[1,"notification",3,"ngClass"],[1,"title","header"],["appTextRevival","",1,"description","indent05"],[1,"timestamp"]],template:function(ie,Xe){1&ie&&(a.TgZ(0,"div",0),a._UZ(1,"i"),a.TgZ(2,"span",1),a._uU(3),a.qZA(),a.TgZ(4,"div",2),a._uU(5),a.qZA(),a.TgZ(6,"span",3),a._uU(7),a.ALo(8,"date"),a.qZA()()),2&ie&&(a.Q6J("ngClass",a.VKq(9,Do,Xe.notification.unread)),a.xp6(1),a.Tol(Xe.getIcon(Xe.notification.type)),a.xp6(2),a.hij(" ",Xe.getTitle(Xe.notification.type)," "),a.xp6(2),a.hij(" ",Xe.notification.message," "),a.xp6(2),a.hij(" ",a.xi3(8,6,Xe.notification.created,"dd MMMM yyyy HH:mm")," "))},dependencies:[e.mk,qi.J,e.uU],styles:['[_nghost-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-100)}[_nghost-%COMP%]{flex:1}.notification[_ngcontent-%COMP%]{display:grid;gap:.3rem;padding:.5rem;align-items:center;opacity:.5;transition:opacity .2s ease-in-out;cursor:default;grid:repeat(3,min-content)/repeat(2,min-content);grid-template-areas:"icon title title" ". description description" "timestamp timestamp timestamp"}.notification[_ngcontent-%COMP%]:hover, .notification.unread[_ngcontent-%COMP%]{opacity:1}.notification.unread[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{color:var(--mc-400)}.notification[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{grid-area:icon}.notification[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{grid-area:title}.notification[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{grid-area:description;font-weight:500;font-size:.9rem;color:var(--tc-700);white-space:pre-line}.notification[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{grid-area:timestamp;font-size:.8rem;font-weight:700;place-self:flex-end;color:var(--tc-300)}.header[_ngcontent-%COMP%]{color:var(--tc-600)}.header.icon[_ngcontent-%COMP%]{font-size:1.4rem}.header.title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:400}']}),Ee})();var Co=b(2436),Go=b(3460),Wo=b(9955),xo=b(7805),$i=b(7092),Xo=b(4132),rs=b(5055),os=b(5652),ho=b(7433),oo=b(1777),Bi=b(5730),Mo=b(9783),es=b(5921);function vo(Ee,Bt){1&Ee&&a.GkF(0)}function qo(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"button",8),a.NdJ("click",function(nn){a.CHM(ie);const Sn=a.oxw(2);return a.KtG(Sn.close(nn))})("keydown.enter",function(nn){a.CHM(ie);const Sn=a.oxw(2);return a.KtG(Sn.close(nn))}),a._UZ(1,"span",9),a.qZA()}if(2&Ee){const ie=a.oxw(2);a.uIk("aria-label",ie.ariaCloseLabel)}}function Ls(Ee,Bt){1&Ee&&a.GkF(0)}function ws(Ee,Bt){1&Ee&&a.GkF(0)}const Rs=function(Ee,Bt,ie,Xe,nn,Sn){return{"p-sidebar":!0,"p-sidebar-active":Ee,"p-sidebar-left":Bt,"p-sidebar-right":ie,"p-sidebar-top":Xe,"p-sidebar-bottom":nn,"p-sidebar-full":Sn}},as=function(Ee,Bt){return{transform:Ee,transition:Bt}},Cr=function(Ee){return{value:"visible",params:Ee}};function ga(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",1,2),a.NdJ("@panelState.start",function(nn){a.CHM(ie);const Sn=a.oxw();return a.KtG(Sn.onAnimationStart(nn))})("@panelState.done",function(nn){a.CHM(ie);const Sn=a.oxw();return a.KtG(Sn.onAnimationEnd(nn))}),a.TgZ(2,"div",3),a.YNc(3,vo,1,0,"ng-container",4),a.YNc(4,qo,2,1,"button",5),a.qZA(),a.TgZ(5,"div",6),a.Hsn(6),a.YNc(7,Ls,1,0,"ng-container",4),a.qZA(),a.TgZ(8,"div",7),a.YNc(9,ws,1,0,"ng-container",4),a.qZA()()}if(2&Ee){const ie=a.oxw();a.Tol(ie.styleClass),a.Q6J("ngClass",a.HTZ(10,Rs,ie.visible,"left"===ie.position&&!ie.fullScreen,"right"===ie.position&&!ie.fullScreen,"top"===ie.position&&!ie.fullScreen,"bottom"===ie.position&&!ie.fullScreen,ie.fullScreen))("@panelState",a.VKq(20,Cr,a.WLB(17,as,ie.transformOptions,ie.transitionOptions)))("ngStyle",ie.style),a.uIk("aria-modal",ie.modal),a.xp6(3),a.Q6J("ngTemplateOutlet",ie.headerTemplate),a.xp6(1),a.Q6J("ngIf",ie.showCloseIcon),a.xp6(3),a.Q6J("ngTemplateOutlet",ie.contentTemplate),a.xp6(2),a.Q6J("ngTemplateOutlet",ie.footerTemplate)}}const vr=["*"],br=(0,oo.oQ)([(0,oo.oB)({transform:"{{transform}}",opacity:0}),(0,oo.jt)("{{transition}}")]),Da=(0,oo.oQ)([(0,oo.jt)("{{transition}}",(0,oo.oB)({transform:"{{transform}}",opacity:0}))]);let gs=(()=>{class Ee{constructor(ie,Xe,nn,Sn){this.el=ie,this.renderer=Xe,this.cd=nn,this.config=Sn,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.modal=!0,this.dismissible=!0,this.showCloseIcon=!0,this.closeOnEscape=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.onShow=new a.vpe,this.onHide=new a.vpe,this.visibleChange=new a.vpe,this._position="left",this._fullScreen=!1,this.transformOptions="translate3d(-100%, 0px, 0px)"}ngAfterViewInit(){this.initialized=!0}ngAfterContentInit(){this.templates.forEach(ie=>{switch(ie.getType()){case"content":default:this.contentTemplate=ie.template;break;case"header":this.headerTemplate=ie.template;break;case"footer":this.footerTemplate=ie.template}})}get visible(){return this._visible}set visible(ie){this._visible=ie}get position(){return this._position}set position(ie){switch(this._position=ie,ie){case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)"}}get fullScreen(){return this._fullScreen}set fullScreen(ie){this._fullScreen=ie,ie&&(this.transformOptions="none")}show(){this.autoZIndex&&es.P9.set("modal",this.container,this.baseZIndex||this.config.zIndex.modal),this.modal&&this.enableModality(),this.onShow.emit({}),this.visibleChange.emit(!0)}hide(){this.onHide.emit({}),this.modal&&this.disableModality()}close(ie){this.hide(),this.visibleChange.emit(!1),ie.preventDefault()}enableModality(){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(this.container.style.zIndex)-1),Bi.p.addMultipleClasses(this.mask,"p-component-overlay p-sidebar-mask p-component-overlay p-component-overlay-enter"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",ie=>{this.dismissible&&this.close(ie)})),document.body.appendChild(this.mask),this.blockScroll&&Bi.p.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(Bi.p.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyModal.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyModal(){this.unbindMaskClickListener(),this.mask&&document.body.removeChild(this.mask),this.blockScroll&&Bi.p.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.mask=null}onAnimationStart(ie){"visible"===ie.toState&&(this.container=ie.element,this.appendContainer(),this.show(),this.closeOnEscape&&this.bindDocumentEscapeListener())}onAnimationEnd(ie){"void"===ie.toState&&(this.hide(),es.P9.clear(this.container),this.unbindGlobalListeners())}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):Bi.p.appendChild(this.container,this.appendTo))}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",Xe=>{27==Xe.which&&parseInt(this.container.style.zIndex)===es.P9.get(this.container)&&this.close(Xe)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindGlobalListeners(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}ngOnDestroy(){this.initialized=!1,this.visible&&this.modal&&this.destroyModal(),this.appendTo&&this.container&&this.el.nativeElement.appendChild(this.container),this.container&&this.autoZIndex&&es.P9.clear(this.container),this.container=null,this.unbindGlobalListeners(),this.unbindAnimationEndListener()}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(Mo.b4))},Ee.\u0275cmp=a.Xpm({type:Ee,selectors:[["p-sidebar"]],contentQueries:function(ie,Xe,nn){if(1&ie&&a.Suo(nn,Mo.jx,4),2&ie){let Sn;a.iGM(Sn=a.CRH())&&(Xe.templates=Sn)}},hostAttrs:[1,"p-element"],inputs:{appendTo:"appendTo",blockScroll:"blockScroll",style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",modal:"modal",dismissible:"dismissible",showCloseIcon:"showCloseIcon",closeOnEscape:"closeOnEscape",transitionOptions:"transitionOptions",visible:"visible",position:"position",fullScreen:"fullScreen"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},ngContentSelectors:vr,decls:1,vars:1,consts:[["role","complementary",3,"ngClass","ngStyle","class",4,"ngIf"],["role","complementary",3,"ngClass","ngStyle"],["container",""],[1,"p-sidebar-header"],[4,"ngTemplateOutlet"],["type","button","class","p-sidebar-close p-sidebar-icon p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[1,"p-sidebar-content"],[1,"p-sidebar-footer"],["type","button","pRipple","",1,"p-sidebar-close","p-sidebar-icon","p-link",3,"click","keydown.enter"],[1,"p-sidebar-close-icon","pi","pi-times"]],template:function(ie,Xe){1&ie&&(a.F$t(),a.YNc(0,ga,10,22,"div",0)),2&ie&&a.Q6J("ngIf",Xe.visible)},dependencies:[e.mk,e.O5,e.tP,e.PC,Ni.H],styles:[".p-sidebar{position:fixed;transition:transform .3s;display:flex;flex-direction:column}.p-sidebar-content{position:relative;overflow-y:auto}.p-sidebar-header{display:flex;align-items:center}.p-sidebar-icon{display:flex;align-items:center;justify-content:center;margin-left:auto}.p-sidebar-left{top:0;left:0;width:20rem;height:100%}.p-sidebar-right{top:0;right:0;width:20rem;height:100%}.p-sidebar-top{top:0;left:0;width:100%;height:10rem}.p-sidebar-bottom{bottom:0;left:0;width:100%;height:10rem}.p-sidebar-full{width:100%;height:100%;top:0;left:0;transition:none}.p-sidebar-left.p-sidebar-sm,.p-sidebar-right.p-sidebar-sm{width:20rem}.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-md{width:40rem}.p-sidebar-left.p-sidebar-lg,.p-sidebar-right.p-sidebar-lg{width:60rem}.p-sidebar-top.p-sidebar-sm,.p-sidebar-bottom.p-sidebar-sm{height:10rem}.p-sidebar-top.p-sidebar-md,.p-sidebar-bottom.p-sidebar-md{height:20rem}.p-sidebar-top.p-sidebar-lg,.p-sidebar-bottom.p-sidebar-lg{height:30rem}@media screen and (max-width: 64em){.p-sidebar-left.p-sidebar-lg,.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-lg,.p-sidebar-right.p-sidebar-md{width:20rem}}\n"],encapsulation:2,data:{animation:[(0,oo.X$)("panelState",[(0,oo.eR)("void => visible",[(0,oo._7)(br)]),(0,oo.eR)("visible => void",[(0,oo._7)(Da)])])]},changeDetection:0}),Ee})(),la=(()=>{class Ee{}return Ee.\u0275fac=function(ie){return new(ie||Ee)},Ee.\u0275mod=a.oAB({type:Ee}),Ee.\u0275inj=a.cJS({imports:[e.ez,Ni.T]}),Ee})(),Ns=(()=>{class Ee{constructor(){this.onScrollToBottom=new a.vpe}onScroll(ie){ie.target.scrollHeight-Math.abs(ie.target.scrollTop)-ie.target.clientHeight<25&&this.onScrollToBottom.emit()}}return Ee.\u0275fac=function(ie){return new(ie||Ee)},Ee.\u0275dir=a.lG2({type:Ee,selectors:[["","appScrollToBottomEmitter",""]],hostBindings:function(ie,Xe){1&ie&&a.NdJ("scroll",function(Sn){return Xe.onScroll(Sn)})},outputs:{onScrollToBottom:"onScrollToBottom"}}),Ee})();function Wr(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",1),a.NdJ("mouseleave",function(){const Sn=a.CHM(ie).$implicit,Xn=a.oxw();return a.KtG(Xn.notifyService.resumeClosure(Sn.notificationId))})("mouseenter",function(){const Sn=a.CHM(ie).$implicit,Xn=a.oxw();return a.KtG(Xn.notifyService.suspendClosing(Sn.notificationId))}),a._UZ(1,"app-notification-item",2),a.TgZ(2,"div",3),a.NdJ("click",function(){const Sn=a.CHM(ie).$implicit,Xn=a.oxw();return a.KtG(Xn.notifyService.close(Sn.notificationId))}),a.qZA()()}if(2&Ee){const ie=Bt.$implicit;a.Q6J("@flowLeft",void 0),a.xp6(1),a.Q6J("notification",ie)}}let Mr=(()=>{class Ee{constructor(ie){this.notifyService=ie}ngOnInit(){}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(a.Y36(Di.T))},Ee.\u0275cmp=a.Xpm({type:Ee,selectors:[["app-notifications-popup-panel"]],decls:1,vars:1,consts:[["class","notification-wrapper",3,"mouseleave","mouseenter",4,"ngFor","ngForOf"],[1,"notification-wrapper",3,"mouseleave","mouseenter"],[3,"notification"],[1,"close-button","mdi-close",3,"click"]],template:function(ie,Xe){1&ie&&a.YNc(0,Wr,3,2,"div",0),2&ie&&a.Q6J("ngForOf",Xe.notifyService.receivedNotifications)},dependencies:[e.sg,li],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:max-content;min-width:25rem;max-width:30vw;height:auto;max-height:70vh;position:fixed;top:100px;right:1rem;z-index:1010;gap:1rem;transition:all .5s ease-in-out}.notification-wrapper[_ngcontent-%COMP%]{display:flex;background-color:#fff;box-shadow:0 0 1px 1px #0000001a,0 .1rem 1rem #0000000d;border-radius:.5rem;padding:.3rem .6rem;position:relative}.close-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:.7rem;cursor:pointer;transition:all .2s ease-in-out;color:var(--tc-500)}.close-button[_ngcontent-%COMP%]:hover{color:var(--mc-500)}"],data:{animation:[ne.zW]}}),Ee})();var so=b(383),si=b(8050);const Ii=["contextMenu"];function Ks(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",4),a.NdJ("click",function(){const Sn=a.CHM(ie).$implicit;a.oxw();const Xn=a.MAs(1);return Sn.command(),a.KtG(Xn.hide())}),a._UZ(1,"i"),a.TgZ(2,"span"),a._uU(3),a.qZA()()}if(2&Ee){const ie=Bt.$implicit;a.Tol("context-button "+ie.style),a.xp6(1),a.Tol(ie.icon),a.xp6(2),a.Oqu(ie.label)}}const yr=function(){return{minWidth:"max-content",transform:"translate(1rem, .3rem)"}};var ss=(()=>((ss||(ss={})).DANGER="danger",ss))();let Or=(()=>{class Ee{constructor(){this.contextMenuVisible=!1,this.contextButtons=[],this.onShow=new a.vpe,this.onHide=new a.vpe}ngOnInit(){}show(ie,Xe){!this.contextMenu||(ie.preventDefault(),this.contextButtons=Xe,this.contextMenu.target=ie.target,this.contextMenuVisible?this.contextMenu.alignOverlay():setTimeout(()=>{!this.contextMenu||this.contextMenu.show()}))}onScrollEvent(ie){!this.contextMenu||this.contextMenu.visible&&this.contextMenu.alignOverlay()}}return Ee.\u0275fac=function(ie){return new(ie||Ee)},Ee.\u0275cmp=a.Xpm({type:Ee,selectors:[["app-context-menu"]],viewQuery:function(ie,Xe){if(1&ie&&a.Gf(Ii,5),2&ie){let nn;a.iGM(nn=a.CRH())&&(Xe.contextMenu=nn.first)}},hostBindings:function(ie,Xe){1&ie&&a.NdJ("scroll",function(Sn){return Xe.onScrollEvent(Sn)},!1,a.Jf7)},outputs:{onShow:"onShow",onHide:"onHide"},decls:4,vars:5,consts:[["appendTo","body",3,"visible","visibleChange","onShow","onHide"],["contextMenu",""],[1,"context-body"],["pRipple","",3,"class","click",4,"ngFor","ngForOf"],["pRipple","",3,"click"]],template:function(ie,Xe){1&ie&&(a.TgZ(0,"p-overlay",0,1),a.NdJ("visibleChange",function(Sn){return Xe.contextMenuVisible=Sn})("onShow",function(){return Xe.onShow.emit()})("onHide",function(){return Xe.onHide.emit()}),a.TgZ(2,"div",2),a.YNc(3,Ks,4,5,"div",3),a.qZA()()),2&ie&&(a.Akn(a.DdM(4,yr)),a.Q6J("visible",Xe.contextMenuVisible),a.xp6(3),a.Q6J("ngForOf",Xe.contextButtons))},dependencies:[e.sg,si.aV,Ni.H],styles:[".context-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:.5rem;background-color:#fff;overflow:hidden;box-shadow:0 0 .8px #00000006,0 0 2.1px #00000009,0 0 5.1px #0000000c,0 0 17px #00000012}.context-body[_ngcontent-%COMP%]   .context-button[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:min-content;padding:.7rem 1.4rem .7rem 1.2rem;cursor:pointer;gap:.3rem;transition:all .15s ease-in-out;font-size:1rem;color:var(--tc-600);-webkit-user-select:none;user-select:none}.context-body[_ngcontent-%COMP%]   .context-button[_ngcontent-%COMP%]:hover{background-color:var(--mc-0);color:var(--mc-500)}.context-body[_ngcontent-%COMP%]   .context-button.danger[_ngcontent-%COMP%]{color:var(--danger-500)}.context-body[_ngcontent-%COMP%]   .context-button.danger[_ngcontent-%COMP%]:hover{background-color:var(--danger-100);color:var(--danger-800)}"]}),Ee})();var Zi=b(8505),Gs=b(8372),Fs=b(8028),fs=b(8738),qs=b(9014),$s=b(8007),go=b(4968),Cs=b(4482),ls=b(5403),vs=b(8421),bs=b(5032);function ys(Ee){return(0,Cs.e)((Bt,ie)=>{let Xe=!1;const nn=new ls.Q(ie,()=>{null==nn||nn.unsubscribe(),Xe=!0},bs.Z);(0,vs.Xf)(Ee).subscribe(nn),Bt.subscribe(new ls.Q(ie,Sn=>Xe&&ie.next(Sn)))})}var xr=b(2722),Pr=b(599),Lr=b(8185),ir=b(4776);let xs=(()=>{class Ee{transform(ie){return null!=ie||null!=ie?Math.floor("string"==typeof ie?parseFloat(ie):ie):null}}return Ee.\u0275fac=function(ie){return new(ie||Ee)},Ee.\u0275pipe=a.Yjl({name:"floor",type:Ee,pure:!0}),Ee})();const Yo=["player"],Ir=["volumeOverlay"],Tr=["durationControl"],At=["timeOverlay"];function pn(Ee,Bt){1&Ee&&a._UZ(0,"i",28)}function oe(Ee,Bt){1&Ee&&a._UZ(0,"i",29)}function Le(Ee,Bt){1&Ee&&a._UZ(0,"i",30)}function xt(Ee,Bt){1&Ee&&a._UZ(0,"i",31)}function Vt(Ee,Bt){if(1&Ee&&a._UZ(0,"div",32),2&Ee){const ie=a.oxw();a.Udp("left",ie.markerPosition+"px")}}function Pn(Ee,Bt){1&Ee&&a._UZ(0,"i",33)}function qn(Ee,Bt){1&Ee&&a._UZ(0,"i",34)}function gi(Ee,Bt){1&Ee&&a._UZ(0,"i",35)}function Hi(Ee,Bt){1&Ee&&a._UZ(0,"i",36)}const Fi=function(Ee){return{disabled:Ee}},Si=function(){return{height:".7rem"}},cs=function(){return{transform:"translate(-25%, 1rem)"}};var Oo=(()=>{return(Ee=Oo||(Oo={})).Paused="Paused",Ee.Playing="Playing",Ee.Loading="Loading",Ee.Error="Error",Oo;var Ee})();let Ar=(()=>{class Ee{constructor(){this.playerState=Oo.Loading,this.currentTime=0,this.totalTime=0,this.subscriptions=new so.xf,this.showVolumeLevel=!1,this.showTimeMarker=!1}get markerPosition(){return this.totalTime&&this.durationControl?this.currentTime/this.totalTime*this.durationControl.nativeElement.clientWidth:0}get totalMinutes(){return Math.floor(this.totalTime/60).toString().padStart(2,"0")}get totalSeconds(){return Math.floor(this.totalTime%60).toString().padStart(2,"0")}get currentMinutes(){return Math.floor(this.currentTime/60).toString().padStart(2,"0")}get currentSeconds(){return Math.floor(this.currentTime%60).toString().padStart(2,"0")}ngOnInit(){}ngAfterViewInit(){if(this.player){const ie=this.player.nativeElement;this.subscriptions.addSubscription("onLoad",(0,go.R)(ie,"loadeddata",{capture:!0}).subscribe(()=>{this.playerState=Oo.Paused})),this.subscriptions.addSubscription("onPlay",(0,go.R)(ie,"play",{capture:!0}).subscribe(()=>{this.playerState=Oo.Playing})),this.subscriptions.addSubscription("onPause",(0,go.R)(ie,"pause",{capture:!0}).subscribe(()=>{this.playerState=Oo.Paused})),this.subscriptions.addSubscription("onAbort",(0,go.R)(ie,"abort",{capture:!0}).subscribe(()=>{this.playerState=Oo.Error})),this.subscriptions.addSubscription("onError",(0,go.R)(ie,"error",{capture:!0}).subscribe(()=>{this.playerState=Oo.Error})),this.subscriptions.addSubscription("onEmptied",(0,go.R)(ie,"emptied",{capture:!0}).subscribe(()=>{this.playerState=Oo.Error})),this.subscriptions.addSubscription("onTimeupdate",(0,go.R)(ie,"timeupdate",{capture:!0}).subscribe(()=>{this.currentTime=ie.currentTime})),this.subscriptions.addSubscription("onDurationchange",(0,go.R)(ie,"durationchange",{capture:!0}).subscribe(()=>{this.totalTime=ie.duration}))}if(this.player&&this.durationControl){const ie=this.player.nativeElement,Xe=this.durationControl.nativeElement,nn=(0,go.R)(document,"mousemove"),Sn=(0,go.R)(Xe,"mousedown").pipe((0,Zi.b)(()=>{ie.pause(),this.showTimeMarker=!0})),Xn=(0,go.R)(document,"mouseup").pipe(ys(Sn),(0,Zi.b)(this.calculateTime.bind(this)),(0,Zi.b)(()=>{this.playerState=Oo.Loading}),(0,Zi.b)(this.changeTime.bind(this))),Vi=nn.pipe(ys(Sn),(0,xr.R)(Xn),(0,Pr.r)()).subscribe(this.calculateTime.bind(this));this.subscriptions.addSubscription("mouseMove",Vi)}}ngOnDestroy(){this.subscriptions.unsubscribeAll()}calculateTime(ie){var Xe;if(this.player&&this.durationControl){const Sn=this.durationControl.nativeElement,Xn=this.player.nativeElement;let oa=(ie.clientX-Sn.getBoundingClientRect().left)/Sn.clientWidth;oa<0?oa=0:oa>1&&(oa=1),this.currentTime=oa*Xn.duration,null===(Xe=this.timeOverlay)||void 0===Xe||Xe.alignOverlay()}}changeTime(ie){if(this.showTimeMarker=!1,this.player){const Xe=this.player.nativeElement;Xe.currentTime=this.currentTime,Xe.play()}}playerButtonClick(){var ie,Xe;switch(this.playerState){case Oo.Playing:null===(ie=this.player)||void 0===ie||ie.nativeElement.pause();break;case Oo.Paused:null===(Xe=this.player)||void 0===Xe||Xe.nativeElement.play()}}changeVolume(ie){this.player&&(this.player.nativeElement.volume=ie.value)}openVolumeOverlay(){this.showVolumeLevel=!0}}return Ee.\u0275fac=function(ie){return new(ie||Ee)},Ee.\u0275cmp=a.Xpm({type:Ee,selectors:[["app-audio-player"]],viewQuery:function(ie,Xe){if(1&ie&&(a.Gf(Yo,5),a.Gf(Ir,5),a.Gf(Tr,5),a.Gf(At,5)),2&ie){let nn;a.iGM(nn=a.CRH())&&(Xe.player=nn.first),a.iGM(nn=a.CRH())&&(Xe.volumeOverlay=nn.first),a.iGM(nn=a.CRH())&&(Xe.durationControl=nn.first),a.iGM(nn=a.CRH())&&(Xe.timeOverlay=nn.first)}},inputs:{url:"url"},decls:33,vars:39,consts:[[1,"flexed","hend","full-width","gap5"],[1,"play-button",3,"ngClass","click"],[3,"ngSwitch"],["class","mdi-play_arrow",4,"ngSwitchCase"],["class","mdi-pause",4,"ngSwitchCase"],["class","mdi-downloading",4,"ngSwitchCase"],["class","mdi-warning",4,"ngSwitchCase"],[1,"flexed","column","stretched","gap3"],[1,"timeline"],["durationControl",""],[3,"showValue","value"],["class","timeline-marker",3,"left",4,"ngIf"],["appendTo","body",3,"visible"],["timeOverlay",""],[1,"time-overlay"],[1,"flexed","hcenter","gap10"],[1,"duration"],[1,"volume-button",3,"click"],["class","mdi-volume_up",4,"ngIf"],["class","mdi-volume_down",4,"ngIf"],["class","mdi-volume_mute",4,"ngIf"],["class","mdi-volume_off",4,"ngIf"],["appendTo","body",3,"visible","visibleChange"],[1,"volume-level"],["volumeOverlay",""],["orientation","vertical",3,"min","max","step","ngModel","onChange"],[3,"src"],["player",""],[1,"mdi-play_arrow"],[1,"mdi-pause"],[1,"mdi-downloading"],[1,"mdi-warning"],[1,"timeline-marker"],[1,"mdi-volume_up"],[1,"mdi-volume_down"],[1,"mdi-volume_mute"],[1,"mdi-volume_off"]],template:function(ie,Xe){if(1&ie&&(a.TgZ(0,"div",0)(1,"div",1),a.NdJ("click",function(){return Xe.playerButtonClick()}),a.ynx(2,2),a.YNc(3,pn,1,0,"i",3),a.YNc(4,oe,1,0,"i",4),a.YNc(5,Le,1,0,"i",5),a.YNc(6,xt,1,0,"i",6),a.BQk(),a.qZA(),a.TgZ(7,"div",7)(8,"div",8,9),a._UZ(10,"p-progressBar",10),a.YNc(11,Vt,1,2,"div",11),a.TgZ(12,"p-overlay",12,13)(14,"div",14),a._uU(15),a.qZA()()(),a.TgZ(16,"div",15)(17,"span",16),a._uU(18),a.qZA(),a.TgZ(19,"div",17),a.NdJ("click",function(){return Xe.openVolumeOverlay()}),a.YNc(20,Pn,1,0,"i",18),a.YNc(21,qn,1,0,"i",19),a.YNc(22,gi,1,0,"i",20),a.YNc(23,Hi,1,0,"i",21),a.qZA(),a.TgZ(24,"p-overlay",22),a.NdJ("visibleChange",function(Sn){return Xe.showVolumeLevel=Sn}),a.TgZ(25,"div",23,24)(27,"p-slider",25),a.NdJ("onChange",function(Sn){return Xe.changeVolume(Sn)}),a.qZA(),a.TgZ(28,"div"),a._uU(29),a.ALo(30,"floor"),a.qZA()()()()()(),a._UZ(31,"audio",26,27)),2&ie){const nn=a.MAs(32);a.Udp("user-select","none"),a.xp6(1),a.Q6J("ngClass",a.VKq(35,Fi,!Xe.url||"Loading"===Xe.playerState||"Error"===Xe.playerState)),a.xp6(1),a.Q6J("ngSwitch",Xe.playerState),a.xp6(1),a.Q6J("ngSwitchCase","Paused"),a.xp6(1),a.Q6J("ngSwitchCase","Playing"),a.xp6(1),a.Q6J("ngSwitchCase","Loading"),a.xp6(1),a.Q6J("ngSwitchCase","Error"),a.xp6(4),a.Akn(a.DdM(37,Si)),a.Q6J("showValue",!1)("value",Xe.currentTime/Xe.totalTime*100),a.xp6(1),a.Q6J("ngIf",Xe.showTimeMarker),a.xp6(1),a.Akn(a.DdM(38,cs)),a.Q6J("visible",Xe.showTimeMarker),a.xp6(3),a.AsE(" ",Xe.currentMinutes,":",Xe.currentSeconds," "),a.xp6(3),a.HOy("",Xe.currentMinutes,":",Xe.currentSeconds," / ",Xe.totalMinutes,":",Xe.totalSeconds,""),a.xp6(2),a.Q6J("ngIf",nn.volume>.8),a.xp6(1),a.Q6J("ngIf",nn.volume<=.8&&nn.volume>.5),a.xp6(1),a.Q6J("ngIf",nn.volume<=.5&&nn.volume>0),a.xp6(1),a.Q6J("ngIf",0===nn.volume),a.xp6(1),a.Q6J("visible",Xe.showVolumeLevel),a.xp6(3),a.Q6J("min",0)("max",1)("step",.05)("ngModel",nn.volume),a.xp6(2),a.hij("",a.lcZ(30,33,100*nn.volume),"%"),a.xp6(2),a.Q6J("src",Xe.url,a.LSH)}},dependencies:[e.mk,e.O5,e.RF,e.n9,me.JJ,me.On,si.aV,Lr.k,ir.iR,xs],styles:[".play-button[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;background-color:var(--mc-500);display:flex;justify-content:center;align-items:center;color:#fff;font-size:1.5rem;cursor:pointer;transition:all .3s}.play-button.disabled[_ngcontent-%COMP%]{background-color:var(--tc-300);cursor:default}.play-button[_ngcontent-%COMP%]:not(.disabled):hover{background-color:var(--mc-600)}.volume-button[_ngcontent-%COMP%]{color:var(--tc-500);cursor:pointer;display:flex;align-items:center;justify-content:center;position:relative}.volume-level[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;padding:1.2rem .7rem .5rem;box-shadow:0 .4px .4px #00000005,0 1px 1px #00000007,0 1.9px 1.9px #00000009,0 3.4px 3.4px #0000000b,0 6.3px 6.3px #0000000d,0 15px 15px #00000012}.volume-level[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;color:var(--tc-500)}.timeline[_ngcontent-%COMP%]{position:relative}.timeline-marker[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transform:translate(-50%,-.25rem);width:1.2rem;height:1.2rem;border-radius:50%;background-color:var(--mc-300);box-shadow:0 0 .4px #00000005,0 0 1px #00000007,0 0 1.9px #00000009,0 0 3.4px #0000000b,0 0 6.3px #0000000d,0 0 15px #00000012}.time-overlay[_ngcontent-%COMP%]{border-radius:.3rem;padding:.5rem;background-color:#fff;box-shadow:0 0 .4px #00000005,0 0 1px #00000007,0 0 1.9px #00000009,0 0 3.4px #0000000b,0 0 6.3px #0000000d,0 0 15px #00000012}"]}),Ee})(),Io=(()=>{class Ee{constructor(ie){this.element=ie}ngAfterViewInit(){const ie=this.element.nativeElement;ie.innerHTML=ie.innerHTML.replace(new RegExp(/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/,"g"),'<span class="emoji">$&</span>')}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(a.Y36(a.SBq))},Ee.\u0275dir=a.lG2({type:Ee,selectors:[["","appEmojiStyleApply",""]]}),Ee})();function Eo(Ee,Bt){1&Ee&&a._UZ(0,"i",10)}function Es(Ee,Bt){1&Ee&&a._UZ(0,"i",11)}function Mi(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",6),a.NdJ("click",function(nn){a.CHM(ie);const Sn=a.oxw();return a.KtG(Sn.open(nn))}),a.ynx(1,7),a.YNc(2,Eo,1,0,"i",8),a.YNc(3,Es,1,0,"i",9),a.BQk(),a.qZA()}if(2&Ee){const ie=a.oxw();a.xp6(1),a.Q6J("ngSwitch",ie.attachmentType),a.xp6(1),a.Q6J("ngSwitchCase","DOCUMENT"),a.xp6(1),a.Q6J("ngSwitchCase","FILE")}}function $o(Ee,Bt){1&Ee&&(a.TgZ(0,"div",12),a._UZ(1,"i",13),a.qZA())}let Fo=(()=>{class Ee{constructor(ie){this.router=ie,this.baseUrl="/api/private/attachment/"}get hasAttachment(){return!!this.attachment}get attachmentType(){var ie,Xe;return null!==(Xe=null===(ie=this.attachment)||void 0===ie?void 0:ie.type)&&void 0!==Xe?Xe:"unknown"}get name(){var ie,Xe;return null!==(Xe=null===(ie=this.attachment)||void 0===ie?void 0:ie.name)&&void 0!==Xe?Xe:"\u041d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d"}get size(){return this.attachment&&this.attachment.size?this.attachment.size>1e6?(this.attachment.size/1e6).toFixed(2)+" MByte":this.attachment.size>1e3?(this.attachment.size/1e3).toFixed(2)+" KByte":this.attachment.size+" byte":"-- byte"}ngOnInit(){}open(ie){this.attachment&&window.open(this.baseUrl+this.attachment.name,"_blank")}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(a.Y36(R.F0))},Ee.\u0275cmp=a.Xpm({type:Ee,selectors:[["app-file-attachment"]],inputs:{attachment:"attachment"},decls:8,vars:6,consts:[[1,"flexed","hend","full-width","gap5"],["class","file-button",3,"click",4,"ngIf"],["class","file-button disabled",4,"ngIf"],[1,"flexed","column","stretched","gap3"],[1,"caption","one-line"],[1,"caption","size-small","f-color-500"],[1,"file-button",3,"click"],[3,"ngSwitch"],["class","mdi-description",4,"ngSwitchCase"],["class","mdi-insert_drive_file",4,"ngSwitchCase"],[1,"mdi-description"],[1,"mdi-insert_drive_file"],[1,"file-button","disabled"],[1,"mdi-warning"]],template:function(ie,Xe){1&ie&&(a.TgZ(0,"div",0),a.YNc(1,Mi,4,3,"div",1),a.YNc(2,$o,2,0,"div",2),a.TgZ(3,"div",3)(4,"span",4),a._uU(5),a.qZA(),a.TgZ(6,"span",5),a._uU(7),a.qZA()()()),2&ie&&(a.Udp("user-select","none"),a.xp6(1),a.Q6J("ngIf",Xe.hasAttachment),a.xp6(1),a.Q6J("ngIf",!Xe.hasAttachment),a.xp6(3),a.Oqu(Xe.name),a.xp6(2),a.Oqu(Xe.size))},dependencies:[e.O5,e.RF,e.n9],styles:[".file-button[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;background-color:var(--mc-500);display:flex;justify-content:center;align-items:center;color:#fff;font-size:1rem;cursor:pointer;transition:all .3s}.file-button.disabled[_ngcontent-%COMP%]{background-color:var(--tc-300);cursor:default}.file-button[_ngcontent-%COMP%]:not(.disabled):hover{background-color:var(--mc-600)}"]}),Ee})();var or=b(1787);const Vo=["messageInput"],Ao=["contextMenu"],Ri=function(){return[]};function sr(Ee,Bt){if(1&Ee&&(a.TgZ(0,"div",7)(1,"span",8),a._UZ(2,"i",9),a._uU(3),a.qZA(),a._UZ(4,"app-avatar-list",10),a.qZA()),2&Ee){const ie=a.oxw();let Xe;a.xp6(3),a.hij(" ",null==ie.currentChat?null:ie.currentChat.title,""),a.xp6(1),a.Q6J("employees",null!==(Xe=null==ie.currentChat?null:ie.currentChat.members)&&void 0!==Xe?Xe:a.DdM(2,Ri))}}function fa(Ee,Bt){1&Ee&&a.GkF(0)}const Qn=function(Ee){return{shaded:Ee}},Oi=function(Ee){return{$implicit:Ee}};function rr(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",21),a.NdJ("contextmenu",function(nn){const Xn=a.CHM(ie).$implicit,Vi=a.oxw(3);return a.KtG(Vi.showContext(nn,Xn))}),a._UZ(1,"app-avatar",22),a.YNc(2,fa,1,0,"ng-container",23),a.qZA()}if(2&Ee){const ie=Bt.$implicit,Xe=a.oxw(3),nn=a.MAs(6);a.Q6J("@fade",void 0)("ngClass",a.VKq(9,Qn,Xe.messageContexted===ie.superMessageId)),a.uIk("data-msg",Xe.getMessagesIds(ie)),a.xp6(1),a.Q6J("deleted",ie.author.deleted)("name",ie.author.fullName)("size",2.3)("src",ie.author.avatar),a.xp6(1),a.Q6J("ngTemplateOutlet",nn)("ngTemplateOutletContext",a.VKq(11,Oi,ie))}}function Yr(Ee,Bt){1&Ee&&(a.TgZ(0,"div",25),a._UZ(1,"p-skeleton",26)(2,"p-skeleton",27),a.qZA())}function Xi(Ee,Bt){if(1&Ee&&(a.ynx(0),a.YNc(1,Yr,3,0,"div",24),a.BQk()),2&Ee){const ie=a.oxw(3);a.xp6(1),a.Q6J("ngForOf",ie.loadingsStubs)}}function na(Ee,Bt){if(1&Ee&&a._UZ(0,"div",28),2&Ee){a.oxw();const ie=a.MAs(1);a.Udp("transform","translateY("+ie.scrollTop+"px)"),a.Q6J("@fade",void 0)}}const ar=function(){return{fontSize:".65rem",minWidth:"1.2rem",height:"1.2rem"}};function Ss(Ee,Bt){if(1&Ee&&a._UZ(0,"p-badge",32),2&Ee){const ie=a.oxw(4);a.Akn(a.DdM(3,ar)),a.Q6J("value",ie.unreadCount.toString())}}function ca(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",29),a.NdJ("click",function(){a.CHM(ie),a.oxw();const nn=a.MAs(1);return a.KtG(nn.scrollTo({top:0,behavior:"smooth"}))}),a.YNc(1,Ss,1,4,"p-badge",30),a._UZ(2,"i",31),a.qZA()}if(2&Ee){a.oxw();const ie=a.MAs(1),Xe=a.oxw(2);a.Udp("transform","translateY("+ie.scrollTop+"px)"),a.Q6J("@fade",void 0),a.xp6(1),a.Q6J("ngIf",Xe.unreadCount>0)}}const ms=function(Ee){return{unread:Ee}};function Bs(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",13,14),a.NdJ("onScrollToBottom",function(){a.CHM(ie);const nn=a.oxw(2);return a.KtG(nn.loadMessages())})("scroll",function(){a.CHM(ie);const nn=a.oxw(2);return a.KtG(nn.startButtonVisibleEmitter.emit())}),a.YNc(2,rr,3,13,"div",15),a.YNc(3,Xi,2,1,"ng-container",16),a.YNc(4,na,1,3,"div",17),a.TgZ(5,"app-context-menu",18,19),a.NdJ("onHide",function(){a.CHM(ie);const nn=a.oxw(2);return a.KtG(nn.shaderVisible=!1)})("onShow",function(){a.CHM(ie);const nn=a.oxw(2);return a.KtG(nn.shaderVisible=!0)}),a.qZA(),a.YNc(7,ca,3,4,"div",20),a.qZA()}if(2&Ee){const ie=a.MAs(1),Xe=a.oxw(2);a.Udp("overflow",Xe.shaderVisible?"hidden":""),a.Q6J("ngClass",a.VKq(8,ms,Xe.unreadCount>0)),a.xp6(2),a.Q6J("ngForOf",Xe.messages)("ngForTrackBy",Xe.trackMessages),a.xp6(1),a.Q6J("ngIf",Xe.isLoading),a.xp6(1),a.Q6J("ngIf",Xe.shaderVisible),a.xp6(3),a.Q6J("ngIf",ie.scrollTop<-100&&Xe.startButtonVisible&&!Xe.shaderVisible)}}function jr(Ee,Bt){1&Ee&&(a.TgZ(0,"div",33),a._UZ(1,"i",9),a.TgZ(2,"span"),a._uU(3," \u0427\u0430\u0442 \u043f\u0443\u0441\u0442 "),a.qZA()())}function nt(Ee,Bt){if(1&Ee&&(a.YNc(0,Bs,8,10,"div",11),a.YNc(1,jr,4,0,"div",12)),2&Ee){const ie=a.oxw();a.Q6J("ngIf",ie.isLoading||ie.messages.length>0),a.xp6(1),a.Q6J("ngIf",!ie.isLoading&&0===ie.messages.length)}}function Ze(Ee,Bt){if(1&Ee&&(a.TgZ(0,"div",34),a._UZ(1,"app-avatar",35),a.TgZ(2,"span",36),a._uU(3),a.qZA(),a.TgZ(4,"span",37),a._uU(5),a.qZA()()),2&Ee){const ie=Bt.$implicit;a.xp6(1),a.Q6J("name",ie.author.fullName)("size",1.7)("src",ie.author.avatar),a.xp6(2),a.Oqu(ie.author.fullName),a.xp6(2),a.Oqu(ie.text)}}function Se(Ee,Bt){1&Ee&&a.GkF(0)}function kt(Ee,Bt){if(1&Ee&&(a.ynx(0),a.YNc(1,Se,1,0,"ng-container",23),a.BQk()),2&Ee){const ie=a.oxw(2).$implicit;a.oxw();const Xe=a.MAs(8);a.xp6(1),a.Q6J("ngTemplateOutlet",Xe)("ngTemplateOutletContext",a.VKq(2,Oi,ie.replyTo))}}function Ln(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",49),a.NdJ("click",function(){a.CHM(ie);const nn=a.oxw().$implicit,Sn=a.oxw(5);return a.KtG(Sn.mediaViewer.showMedia(nn))}),a._UZ(1,"img",50),a.qZA()}if(2&Ee){const ie=a.oxw().$implicit,Xe=a.oxw(5);a.xp6(1),a.Q6J("src",Xe.thumbnailUrl+ie.name,a.LSH)}}function fi(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",51),a.NdJ("click",function(){a.CHM(ie);const nn=a.oxw().$implicit,Sn=a.oxw(5);return a.KtG(Sn.mediaViewer.showMedia(nn))}),a._UZ(1,"img",50),a.TgZ(2,"div",52),a._UZ(3,"i",53),a.qZA()()}if(2&Ee){const ie=a.oxw().$implicit,Xe=a.oxw(5);a.xp6(1),a.Q6J("src",Xe.thumbnailUrl+ie.name,a.LSH)}}function Gi(Ee,Bt){if(1&Ee&&(a.TgZ(0,"div",43),a.YNc(1,Ln,2,1,"div",47),a.YNc(2,fi,4,1,"div",48),a.qZA()),2&Ee){const ie=Bt.$implicit;a.Tol("media-item i"+Bt.index),a.Q6J("ngSwitch",ie.type),a.xp6(1),a.Q6J("ngSwitchCase","PHOTO"),a.xp6(1),a.Q6J("ngSwitchCase","VIDEO")}}function bo(Ee,Bt){if(1&Ee&&(a.TgZ(0,"div"),a.YNc(1,Gi,3,5,"div",46),a.qZA()),2&Ee){const ie=a.oxw(3).$implicit,Xe=a.oxw();a.Tol("media-grid g"+ie.attachments.length),a.xp6(1),a.Q6J("ngForOf",ie.attachments)("ngForTrackBy",Xe.trackAttachment)}}function Po(Ee,Bt){if(1&Ee&&a._UZ(0,"app-audio-player",56),2&Ee){const ie=Bt.$implicit,Xe=a.oxw(5);a.Q6J("url",Xe.fileUrl+ie.name)}}function us(Ee,Bt){if(1&Ee&&(a.TgZ(0,"div",54),a.YNc(1,Po,1,1,"app-audio-player",55),a.qZA()),2&Ee){const ie=a.oxw(3).$implicit;a.xp6(1),a.Q6J("ngForOf",ie.attachments)}}function Ws(Ee,Bt){1&Ee&&a._UZ(0,"app-file-attachment",58),2&Ee&&a.Q6J("attachment",Bt.$implicit)}function lr(Ee,Bt){if(1&Ee&&(a.TgZ(0,"div",54),a.YNc(1,Ws,1,1,"app-file-attachment",57),a.qZA()),2&Ee){const ie=a.oxw(3).$implicit;a.xp6(1),a.Q6J("ngForOf",ie.attachments)}}function wr(Ee,Bt){if(1&Ee&&(a.ynx(0,43),a.YNc(1,bo,2,4,"div",44),a.YNc(2,us,2,1,"div",45),a.YNc(3,lr,2,1,"div",45),a.BQk()),2&Ee){const ie=a.oxw(2).$implicit;a.Q6J("ngSwitch",ie.attachmentType),a.xp6(1),a.Q6J("ngSwitchCase","VISUAL"),a.xp6(1),a.Q6J("ngSwitchCase","AUDIO"),a.xp6(1),a.Q6J("ngSwitchCase","FILE")}}const Er=function(Ee,Bt){return{my:Ee,reply:Bt}};function Rr(Ee,Bt){if(1&Ee&&(a.ynx(0),a.TgZ(1,"div",38),a.YNc(2,kt,2,4,"ng-container",16),a.TgZ(3,"div",39),a._uU(4),a.qZA(),a.YNc(5,wr,4,4,"ng-container",40),a.TgZ(6,"div",37)(7,"span",41),a._uU(8),a.qZA(),a.TgZ(9,"div",42)(10,"span"),a._uU(11),a.ALo(12,"date"),a.qZA()()()(),a.BQk()),2&Ee){const ie=a.oxw().$implicit,Xe=a.oxw();a.xp6(1),a.Q6J("ngClass",a.WLB(9,Er,Xe.isMy(ie.author),ie.replyTo)),a.xp6(1),a.Q6J("ngIf",ie.replyTo),a.xp6(2),a.hij(" ",ie.author.fullName," "),a.xp6(1),a.Q6J("ngIf",ie.mediaGroup),a.xp6(3),a.Oqu(ie.text),a.xp6(3),a.Oqu(a.xi3(12,6,ie.sendAt,"HH:mm"))}}function Xs(Ee,Bt){1&Ee&&a.GkF(0)}function Nr(Ee,Bt){if(1&Ee&&(a.ynx(0),a.YNc(1,Xs,1,0,"ng-container",23),a.BQk()),2&Ee){const ie=a.oxw(2).$implicit;a.oxw();const Xe=a.MAs(8);a.xp6(1),a.Q6J("ngTemplateOutlet",Xe)("ngTemplateOutletContext",a.VKq(2,Oi,ie.replyTo))}}function cr(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",49),a.NdJ("click",function(){a.CHM(ie);const nn=a.oxw(2).$implicit,Sn=a.oxw();return a.KtG(Sn.mediaViewer.showMedia(nn.attachments[0]))}),a._UZ(1,"img",50),a.qZA()}if(2&Ee){const ie=a.oxw(2).$implicit,Xe=a.oxw();a.xp6(1),a.Q6J("src",Xe.thumbnailUrl+ie.attachments[0].name,a.LSH)}}function ma(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",51),a.NdJ("click",function(){a.CHM(ie);const nn=a.oxw(2).$implicit,Sn=a.oxw();return a.KtG(Sn.mediaViewer.showMedia(nn.attachments[0]))}),a._UZ(1,"img",50),a.TgZ(2,"div",52),a._UZ(3,"i",53),a.qZA()()}if(2&Ee){const ie=a.oxw(2).$implicit,Xe=a.oxw();a.xp6(1),a.Q6J("src",Xe.thumbnailUrl+ie.attachments[0].name,a.LSH)}}function Fa(Ee,Bt){if(1&Ee&&(a.TgZ(0,"div",62),a._UZ(1,"app-audio-player",56),a.qZA()),2&Ee){const ie=a.oxw(2).$implicit,Xe=a.oxw();a.xp6(1),a.Q6J("url",Xe.fileUrl+ie.attachments[0].name)}}function Xa(Ee,Bt){if(1&Ee&&(a.TgZ(0,"div",63),a._UZ(1,"app-file-attachment",58),a.qZA()),2&Ee){const ie=a.oxw(2).$implicit;a.xp6(1),a.Q6J("attachment",ie.attachments[0])}}function Oe(Ee,Bt){if(1&Ee&&(a.ynx(0),a.TgZ(1,"div",59),a.YNc(2,Nr,2,4,"ng-container",16),a.TgZ(3,"div",39),a._uU(4),a.qZA(),a.ynx(5,43),a.YNc(6,cr,2,1,"div",47),a.YNc(7,ma,4,1,"div",48),a.YNc(8,Fa,2,1,"div",60),a.YNc(9,Xa,2,1,"div",61),a.BQk(),a.TgZ(10,"div",37)(11,"span",41),a._uU(12),a.qZA(),a.TgZ(13,"div",42)(14,"span"),a._uU(15),a.ALo(16,"date"),a.qZA()()()(),a.BQk()),2&Ee){const ie=a.oxw().$implicit,Xe=a.oxw();a.xp6(1),a.Q6J("ngClass",a.WLB(12,Er,Xe.isMy(ie.author),ie.replyTo)),a.xp6(1),a.Q6J("ngIf",ie.replyTo),a.xp6(2),a.hij(" ",ie.author.fullName," "),a.xp6(1),a.Q6J("ngSwitch",ie.attachments[0].type),a.xp6(1),a.Q6J("ngSwitchCase","PHOTO"),a.xp6(1),a.Q6J("ngSwitchCase","VIDEO"),a.xp6(1),a.Q6J("ngSwitchCase","AUDIO"),a.xp6(4),a.Oqu(ie.text),a.xp6(3),a.Oqu(a.xi3(16,9,ie.sendAt,"HH:mm"))}}function pt(Ee,Bt){1&Ee&&a.GkF(0)}function Ve(Ee,Bt){if(1&Ee&&(a.ynx(0),a.YNc(1,pt,1,0,"ng-container",23),a.BQk()),2&Ee){const ie=a.oxw(2).$implicit;a.oxw();const Xe=a.MAs(8);a.xp6(1),a.Q6J("ngTemplateOutlet",Xe)("ngTemplateOutletContext",a.VKq(2,Oi,ie.replyTo))}}function St(Ee,Bt){if(1&Ee&&(a.ynx(0),a.TgZ(1,"div",64),a.YNc(2,Ve,2,4,"ng-container",16),a.TgZ(3,"div",39),a._uU(4),a.qZA(),a.TgZ(5,"div",37)(6,"span",41),a._uU(7),a.qZA(),a.TgZ(8,"div",42)(9,"span"),a._uU(10),a.ALo(11,"date"),a.qZA()()()(),a.BQk()),2&Ee){const ie=a.oxw().$implicit,Xe=a.oxw();a.xp6(1),a.Q6J("ngClass",a.WLB(8,Er,Xe.isMy(ie.author),ie.replyTo)),a.xp6(1),a.Q6J("ngIf",ie.replyTo),a.xp6(2),a.hij(" ",ie.author.fullName," "),a.xp6(3),a.Oqu(ie.text),a.xp6(3),a.Oqu(a.xi3(11,5,ie.sendAt,"HH:mm"))}}function on(Ee,Bt){if(1&Ee&&(a.YNc(0,Rr,13,12,"ng-container",16),a.YNc(1,Oe,17,15,"ng-container",16),a.YNc(2,St,12,11,"ng-container",16)),2&Ee){const ie=Bt.$implicit;a.Q6J("ngIf",ie.attachments.length>1),a.xp6(1),a.Q6J("ngIf",1===ie.attachments.length),a.xp6(1),a.Q6J("ngIf",0===ie.attachments.length)}}function Dn(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",49),a.NdJ("click",function(){a.CHM(ie);const nn=a.oxw(2).$implicit,Sn=a.oxw();return a.KtG(Sn.mediaViewer.showMedia(nn.attachments[0]))}),a._UZ(1,"img",50),a.qZA()}if(2&Ee){const ie=a.oxw(2).$implicit,Xe=a.oxw();a.xp6(1),a.Q6J("src",Xe.thumbnailUrl+ie.attachments[0].name,a.LSH)}}function Nn(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",51),a.NdJ("click",function(){a.CHM(ie);const nn=a.oxw(2).$implicit,Sn=a.oxw();return a.KtG(Sn.mediaViewer.showMedia(nn.attachments[0]))}),a._UZ(1,"video",66),a.TgZ(2,"div",52),a._UZ(3,"i",53),a.qZA()()}if(2&Ee){const ie=a.oxw(2).$implicit,Xe=a.oxw();a.xp6(1),a.Q6J("controls",!1)("src",Xe.thumbnailUrl+ie.attachments[0].name,a.LSH)}}function ui(Ee,Bt){if(1&Ee&&(a.TgZ(0,"div",62),a._UZ(1,"app-audio-player",56),a.qZA()),2&Ee){const ie=a.oxw(2).$implicit,Xe=a.oxw();a.xp6(1),a.Q6J("url",Xe.fileUrl+ie.attachments[0].name)}}function eo(Ee,Bt){if(1&Ee&&(a.TgZ(0,"div",63),a._UZ(1,"app-file-attachment",58),a.qZA()),2&Ee){const ie=a.oxw(2).$implicit;a.xp6(1),a.Q6J("attachment",ie.attachments[0])}}function uo(Ee,Bt){if(1&Ee&&(a.ynx(0)(1,43),a.YNc(2,Dn,2,1,"div",47),a.YNc(3,Nn,4,2,"div",48),a.YNc(4,ui,2,1,"div",60),a.YNc(5,eo,2,1,"div",61),a.BQk()()),2&Ee){const ie=a.oxw().$implicit;a.xp6(1),a.Q6J("ngSwitch",ie.attachments[0].type),a.xp6(1),a.Q6J("ngSwitchCase","PHOTO"),a.xp6(1),a.Q6J("ngSwitchCase","VIDEO"),a.xp6(1),a.Q6J("ngSwitchCase","AUDIO")}}function mo(Ee,Bt){if(1&Ee&&(a.TgZ(0,"div",65)(1,"div",39),a._uU(2),a.qZA(),a.YNc(3,uo,6,4,"ng-container",16),a.TgZ(4,"div",37)(5,"span",41),a._uU(6),a.qZA()()()),2&Ee){const ie=Bt.$implicit;a.xp6(2),a.hij(" ",ie.author.fullName," "),a.xp6(1),a.Q6J("ngIf",ie.attachments&&1===ie.attachments.length),a.xp6(3),a.Oqu(ie.text)}}function ji(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"span",67),a._uU(1),a.qZA(),a.TgZ(2,"textarea",68),a.NdJ("ngModelChange",function(nn){a.CHM(ie);const Sn=a.oxw();return a.KtG(Sn.attDescription=nn)}),a.qZA(),a.TgZ(3,"div",69)(4,"p-button",70),a.NdJ("onClick",function(){a.CHM(ie);const nn=a.oxw();return a.KtG(nn.sendATT())}),a.qZA()()}if(2&Ee){const ie=a.oxw();a.xp6(1),a.hij("\u0412 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 \u043a \u0437\u0430\u0434\u0430\u0447\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043e ",ie.attFilesCount," \u0444\u0430\u0439\u043b\u043e\u0432"),a.xp6(1),a.Q6J("autoResize",!0)("cols",50)("rows",4)("ngModel",ie.attDescription),a.xp6(2),a.Q6J("loading",ie.attRequestBegin)}}const _o=function(){return{width:"min-content",height:"50vh",minWidth:"27rem",minHeight:"15rem",maxWidth:"70vw",maxHeight:"90vh"}},bi=function(){return{display:"grid",padding:"0",height:"100%",grid:"1fr min-content / 1fr"}};let jo=(()=>{class Ee{constructor(ie,Xe,nn,Sn,Xn){this.personality=ie,this.api=Xe,this.mediaViewer=nn,this.chatService=Sn,this.rt=Xn,this.chatId=0,this.isShow=!1,this.thumbnailUrl="/api/private/thumbnail/",this.fileUrl="/api/private/attachment/",this.messages=[],this.first=0,this.totalMessages=0,this.sendingText="",this.sendingFiles=[],this.unreadCount=0,this.isBeginSending=!1,this.isLoading=!1,this.isEnd=!1,this.shaderVisible=!1,this.messageContexted=-1,this.startButtonVisibleEmitter=new a.vpe,this.startButtonVisible=!0,this.loadingsStubs=Array(5).fill(null),this.subscriptions=new so.xf,this.attDialogVisible=!1,this.attDescription="",this.attRequestBegin=!1,this.attFilesCount=0,this.attMessageId=null}get isNotReady(){return 0===this.sendingText.trim().length&&0===this.sendingFiles.length}trackAttachment(ie,Xe){return Xe.name}isMy(ie){var Xe;return(null===(Xe=this.personality.me)||void 0===Xe?void 0:Xe.login)===ie.login}ngOnInit(){}ngAfterViewInit(){const ie=this.startButtonVisibleEmitter.pipe((0,Zi.b)(()=>this.startButtonVisible=!1),(0,Gs.b)(300));this.subscriptions.addSubscription("startButton",ie.subscribe(()=>this.startButtonVisible=!0))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}show(ie){const Xe=this.chatId!==ie;if(this.chatId=ie,this.isShow&&Xe)return this.isShow=!1,void setTimeout(()=>{this.isShow=!0},500);this.isShow=!0}trackMessages(ie,Xe){return Xe.superMessageId+Xe.text}loadChat(){this.api.getChat(this.chatId).subscribe({next:ie=>{this.currentChat=ie,this.chatService.currentOpenChat=ie.chatId}}),this.api.getCountOfUnreadMessages(this.chatId).subscribe(ie=>this.unreadCount=ie),this.subscriptions.addSubscription("chatUpd",this.rt.chatUpdated().subscribe(this.updateChat.bind(this)))}loadMessages(){!this.isEnd&&!this.isLoading&&(this.isLoading=!0,this.api.getChatMessages(this.chatId,this.first,25).subscribe({next:ie=>{this.first=this.first+ie.size,this.totalMessages=ie.totalElements,this.isEnd=ie.last,this.isLoading=!1,this.messages=[...this.messages,...ie.content]},error:()=>{this.isLoading=!1}}))}sendMessage(){var ie;this.isBeginSending=!0,this.editMessage?this.api.editChatMessage(this.editMessage.superMessageId,this.sendingText).subscribe({next:()=>{this.isBeginSending=!1,this.sendingText="",this.sendingFiles=[],this.editMessage=void 0,setTimeout(()=>{var Xe;null===(Xe=this.messageInput)||void 0===Xe||Xe.nativeElement.focus()})},error:()=>{this.isBeginSending=!1,setTimeout(()=>{var Xe;null===(Xe=this.messageInput)||void 0===Xe||Xe.nativeElement.focus()})}}):this.api.sendChatMessage(this.chatId,this.sendingText,this.sendingFiles,null===(ie=this.replyMessage)||void 0===ie?void 0:ie.superMessageId).subscribe({next:()=>{this.isBeginSending=!1,this.sendingText="",this.sendingFiles=[],this.replyMessage=void 0,setTimeout(()=>{var Xe;null===(Xe=this.messageInput)||void 0===Xe||Xe.nativeElement.focus()})},error:()=>{this.isBeginSending=!1,setTimeout(()=>{var Xe;null===(Xe=this.messageInput)||void 0===Xe||Xe.nativeElement.focus()})}})}messageInputKeyDown(ie){var Xe,nn;if("Enter"===ie.key)if(ie.ctrlKey||this.isNotReady){const Sn=ie.target,Xn=Sn.selectionStart,Vi=Sn.selectionEnd;Sn.value=Sn.value.substring(0,null!=Xn?Xn:-1)+"\n"+Sn.value.substring(null!=Vi?Vi:-1),this.sendingText=Sn.value,Sn.selectionStart=null!==(Xe=Xn+1)&&void 0!==Xe?Xe:0,Sn.selectionEnd=null!==(nn=Xn+1)&&void 0!==nn?nn:0}else ie.preventDefault(),this.sendMessage()}insertEmoji(ie){var Xe,nn,Sn;if(null===(Xe=this.messageInput)||void 0===Xe||!Xe.nativeElement)return;const Xn=this.messageInput.nativeElement;Xn.focus();const Vi=Xn.selectionStart,er=Xn.selectionEnd;Xn.value=Xn.value.substring(0,null!=Vi?Vi:-1)+ie+Xn.value.substring(null!=er?er:-1),Xn.selectionStart=null!==(nn=Vi+1)&&void 0!==nn?nn:0,Xn.selectionEnd=null!==(Sn=Vi+1)&&void 0!==Sn?Sn:0,this.sendingText=Xn.value}whenOpenPanel(){var ie,Xe;this.loadChat(),this.loadMessages(),this.subscriptions.addSubscription("msgCr",this.rt.chatMessageCreatedByChat(this.chatId).subscribe(this.createMessage.bind(this))),this.subscriptions.addSubscription("msgUpd",this.rt.chatMessageUpdated(this.chatId).subscribe(this.updateMessage.bind(this))),this.subscriptions.addSubscription("msgDel",this.rt.chatMessageDeleted(this.chatId).subscribe(this.deleteMessage.bind(this))),this.subscriptions.addSubscription("unreadCount",this.rt.updateCountUnreadMessages(null!==(Xe=null===(ie=this.personality.me)||void 0===ie?void 0:ie.login)&&void 0!==Xe?Xe:"").subscribe(nn=>{this.chatId===nn.chatId&&(this.unreadCount=nn.count)}))}flushMessages(){this.messages=[],this.first=0,this.totalMessages=0,this.sendingText="",this.sendingFiles=[],this.replyMessage=void 0,this.isBeginSending=!1,this.isLoading=!1,this.isEnd=!1,this.chatService.currentOpenChat=void 0,this.subscriptions.unsubscribeAll()}getMessagesIds(ie){return ie.includedMessages?JSON.stringify(ie.includedMessages):"[]"}showContext(ie,Xe){if(!this.contextMenu)return;this.messageContexted=Xe.superMessageId;const nn=[{label:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c",icon:"mdi-reply",command:()=>{var Sn;this.replyMessage=Xe,null===(Sn=this.messageInput)||void 0===Sn||Sn.nativeElement.focus()}}];Xe.attachments.length>0&&nn.push({label:"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043a \u0437\u0430\u0434\u0430\u0447\u0435",icon:"mdi-add_link",command:()=>{this.attFilesCount=Xe.attachments.length,this.attDialogVisible=!0,this.attMessageId=Xe.superMessageId}}),this.isMy(Xe.author)&&nn.push({label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",command:()=>{var Sn;this.editMessage=Xe,this.sendingText=Xe.text,null===(Sn=this.messageInput)||void 0===Sn||Sn.nativeElement.focus()}},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"mdi-delete",style:ss.DANGER,command:()=>{this.api.deleteChatMessage(this.chatId,Xe.superMessageId).subscribe()}}),this.contextMenu.show(ie,nn)}clearReplyMessage(){this.replyMessage=void 0}clearEditMessage(){this.editMessage=void 0,this.sendingText=""}sendATT(){this.attMessageId&&(this.attRequestBegin=!0,this.api.attachToTask(this.attMessageId,this.chatId,this.attDescription).subscribe({next:()=>this.clearATT(),error:()=>this.attRequestBegin=!1}))}clearATT(){this.attRequestBegin=!1,this.attDialogVisible=!1,this.attDescription="",this.attMessageId=null,this.attFilesCount=0}createMessage(ie){this.messages=[ie,...this.messages],this.first++,this.totalMessages++}updateMessage(ie){const Xe=this.messages.findIndex(nn=>nn.superMessageId===ie.superMessageId);-1!=Xe&&this.messages.splice(Xe,1,ie)}deleteMessage(ie){this.messages=this.messages.filter(Xe=>Xe.superMessageId!==ie.superMessageId)}updateChat(ie){ie.chatId===this.chatId&&(this.currentChat=ie)}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(a.Y36(Fs.F),a.Y36(fs.s),a.Y36(J.E),a.Y36(qs.a),a.Y36($s.U))},Ee.\u0275cmp=a.Xpm({type:Ee,selectors:[["app-chat-panel"]],viewQuery:function(ie,Xe){if(1&ie&&(a.Gf(Vo,5),a.Gf(Ao,5)),2&ie){let nn;a.iGM(nn=a.CRH())&&(Xe.messageInput=nn.first),a.iGM(nn=a.CRH())&&(Xe.contextMenu=nn.first)}},decls:11,vars:12,consts:[["appendTo","body","position","bottom-right",3,"visible","contentStyle","dismissableMask","onHide","onShow","visibleChange"],["pTemplate","header"],["pTemplate","content"],["editMessagePreview",""],["messageBody",""],["replyMessageTemp",""],["appendTo","body","contentStyleClass","flex flex-column gap-2",3,"header","dismissableMask","visible","modal","draggable","visibleChange","onHide"],[1,"flexed","hcenter","gap5"],[1,"caption","size-small","f-color-500","flexed","hcenter","gap3"],[1,"mdi-chat"],[3,"employees"],["appScrollToBottomEmitter","","class","chat-view",3,"ngClass","overflow","onScrollToBottom","scroll",4,"ngIf"],["class","chat-view empty caption size-big wt-bold f-color-500",4,"ngIf"],["appScrollToBottomEmitter","",1,"chat-view",3,"ngClass","onScrollToBottom","scroll"],["list",""],["class","message-wrapper",3,"ngClass","contextmenu",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["class","shader",3,"transform",4,"ngIf"],[3,"onHide","onShow"],["contextMenu",""],["class","scroll-to-start-button",3,"transform","click",4,"ngIf"],[1,"message-wrapper",3,"ngClass","contextmenu"],[3,"deleted","name","size","src"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","message-wrapper",4,"ngFor","ngForOf"],[1,"message-wrapper"],["size","2.3rem","shape","circle"],["width","15rem","height","5rem","borderRadius","1rem 1rem 1rem .3rem"],[1,"shader"],[1,"scroll-to-start-button",3,"click"],["class","ur-badge","severity","warning",3,"style","value",4,"ngIf"],[1,"mdi-arrow_downward"],["severity","warning",1,"ur-badge",3,"value"],[1,"chat-view","empty","caption","size-big","wt-bold","f-color-500"],[1,"message-preview"],["shape","square",1,"avatar",3,"name","size","src"],[1,"author-name"],[1,"message-text"],[1,"chat-message","media-group",3,"ngClass"],[1,"message-header"],[3,"ngSwitch",4,"ngIf"],["appEmojiStyleApply","",1,"content"],[1,"message-footer"],[3,"ngSwitch"],[3,"class",4,"ngSwitchCase"],["class","flexed column gap5",4,"ngSwitchCase"],[3,"class","ngSwitch",4,"ngFor","ngForOf","ngForTrackBy"],["class","img-container",3,"click",4,"ngSwitchCase"],["class","vid-container",3,"click",4,"ngSwitchCase"],[1,"img-container",3,"click"],["alt","",3,"src"],[1,"vid-container",3,"click"],[1,"play-icon"],[1,"mdi-play_arrow"],[1,"flexed","column","gap5"],[3,"url",4,"ngFor","ngForOf"],[3,"url"],[3,"attachment",4,"ngFor","ngForOf"],[3,"attachment"],[1,"chat-message","single-media",3,"ngClass"],["class","aud-container",4,"ngSwitchCase"],["class","file-container",4,"ngSwitchDefault"],[1,"aud-container"],[1,"file-container"],[1,"chat-message",3,"ngClass"],[1,"reply-message"],[3,"controls","src"],[1,"text-lg","font-semibold","text-bluegray-400"],["pInputTextarea","","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0444\u0430\u0439\u043b\u0430\u043c...",3,"autoResize","cols","rows","ngModel","ngModelChange"],[1,"flex","gap-3","justify-content-end"],["label","\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c","icon","mdi-add_link",3,"loading","onClick"]],template:function(ie,Xe){1&ie&&(a.TgZ(0,"p-dialog",0),a.NdJ("onHide",function(){return Xe.flushMessages()})("onShow",function(){return Xe.whenOpenPanel()})("visibleChange",function(Sn){return Xe.isShow=Sn}),a.YNc(1,sr,5,3,"ng-template",1),a.YNc(2,nt,2,2,"ng-template",2),a.qZA(),a.YNc(3,Ze,6,5,"ng-template",null,3,a.W1O),a.YNc(5,on,3,3,"ng-template",null,4,a.W1O),a.YNc(7,mo,7,3,"ng-template",null,5,a.W1O),a.TgZ(9,"p-dialog",6),a.NdJ("visibleChange",function(Sn){return Xe.attDialogVisible=Sn})("onHide",function(){return Xe.clearATT()}),a.YNc(10,ji,5,6,"ng-template",2),a.qZA()),2&ie&&(a.Akn(a.DdM(10,_o)),a.Q6J("visible",Xe.isShow)("contentStyle",a.DdM(11,bi))("dismissableMask",!0),a.xp6(9),a.Q6J("header","\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043a \u0437\u0430\u0434\u0430\u0447\u0435")("dismissableMask",!0)("visible",Xe.attDialogVisible)("modal",!0)("draggable",!1))},dependencies:[e.mk,e.sg,e.O5,e.tP,e.RF,e.n9,e.ED,at.zx,me.Fj,me.JJ,me.On,Mo.jx,Ct.g,Ot.V,Mt.Ct,Fe.O,u.A,Ns,Ar,Io,Fo,or.k,Or,e.uU],styles:['.chat-view[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column-reverse;position:relative;gap:.5rem;overflow-y:auto;overflow-x:hidden;padding:.5rem 1rem 1.5rem;overscroll-behavior-y:none;background-color:var(--bgc-001);border-top:1px solid var(--bgc-200)}.chat-view.empty[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.5rem;align-items:center;justify-content:center;height:100%;width:100%}.chat-view.unread[_ngcontent-%COMP%]{box-shadow:inset 0 0 2px var(--warm-500)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]{display:grid;grid:100%/min-content 1fr;gap:.5rem;width:100%;align-items:flex-end;cursor:pointer}.chat-view[_ngcontent-%COMP%]   .message-wrapper.shaded[_ngcontent-%COMP%]{z-index:1}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]{display:grid;grid:min-content 1fr/1fr;padding:.7rem 1rem;background-color:var(--bgc-200);box-shadow:0 0 1px 1px var(--tc-300);border-radius:1rem 1rem 1rem .3rem;width:-moz-fit-content;width:fit-content;max-width:100%}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.reply[_ngcontent-%COMP%]{grid:min-content min-content 1fr/1fr}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.my[_ngcontent-%COMP%]{background-color:var(--mc-0);box-shadow:0 0 1px 1px var(--mc-300)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.my[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{color:var(--mc-400)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.my[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:var(--mc-500)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.my[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .message-footer[_ngcontent-%COMP%]{color:var(--mc-300)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.unread[_ngcontent-%COMP%]{background-color:var(--warm-100);box-shadow:0 0 1px 1px var(--warm-300)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.unread[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{color:var(--warm-500)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.unread[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:var(--warm-700)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.unread[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .message-footer[_ngcontent-%COMP%]{color:var(--warm-500)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]{overflow:hidden}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]{padding:.4rem;display:grid;gap:.3rem;width:100%;height:100%;max-width:20rem;top:0;left:0}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g[_ngcontent-%COMP%]{width:100%;height:100%}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g2[_ngcontent-%COMP%]{grid-template-areas:"a b"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g3[_ngcontent-%COMP%]{grid-template-areas:"a a" "b c"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g4[_ngcontent-%COMP%]{grid-template-areas:"a a a" "b c d"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g5[_ngcontent-%COMP%]{grid-template-areas:"a a" "b c" "d e"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g6[_ngcontent-%COMP%]{grid-template-areas:"a a a" "b b c" "d e f"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g7[_ngcontent-%COMP%]{grid-template-areas:"a b c" "d d d" "e f g"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g8[_ngcontent-%COMP%]{grid-template-areas:"a b" "c d" "e f" "g h"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g9[_ngcontent-%COMP%]{grid-template-areas:"a a b" "c d e" "f g g" "h h i"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g10[_ngcontent-%COMP%]{grid-template-areas:"a b c" "d d e" "f g h" "i j j"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:.3rem;cursor:pointer}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i0[_ngcontent-%COMP%]{grid-area:a}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i1[_ngcontent-%COMP%]{grid-area:b}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i2[_ngcontent-%COMP%]{grid-area:c}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i3[_ngcontent-%COMP%]{grid-area:d}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i4[_ngcontent-%COMP%]{grid-area:e}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i5[_ngcontent-%COMP%]{grid-area:f}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i6[_ngcontent-%COMP%]{grid-area:g}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i7[_ngcontent-%COMP%]{grid-area:h}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i8[_ngcontent-%COMP%]{grid-area:i}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i9[_ngcontent-%COMP%]{grid-area:j}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden;filter:brightness(.9);cursor:pointer;transition:filter .2s ease-in-out}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:100%;height:100%;border-radius:.3rem}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]:hover, .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]:hover{filter:brightness(1)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]{padding:.4rem;position:relative;width:100%;height:100%;max-width:20rem;min-width:5rem;aspect-ratio:1;overflow:hidden;filter:brightness(.9);cursor:pointer;transition:filter .2s ease-in-out}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:100%;height:100%;border-radius:.3rem}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]:hover, .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]:hover{filter:brightness(1)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .aud-container[_ngcontent-%COMP%]{padding:.4rem}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{color:var(--tc-600);font-size:.85rem;font-weight:700;margin-bottom:.2rem}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:var(--tc-700);font-size:1rem;display:flex;flex-wrap:wrap;justify-content:flex-end;overflow-wrap:break-word;white-space:pre-wrap;overflow:hidden}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0;max-width:100%}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .message-footer[_ngcontent-%COMP%]{display:flex;transform:translateY(.3rem);align-items:flex-end;color:var(--tc-400);font-size:.8rem;font-weight:700;margin-left:.5rem}.scroll-to-start-button[_ngcontent-%COMP%]{position:absolute;bottom:1rem;right:.5rem;z-index:1;cursor:pointer;color:#fff;background-color:var(--bgc-400);width:3rem;height:3rem;border-radius:50%;display:flex;align-items:center;justify-content:center;opacity:.7;font-size:1.2rem;box-shadow:0 0 .7px #00000006,0 0 1.9px #00000009,0 0 4.5px #0000000c,0 0 15px #00000012;transition:all .2s ease-in-out}.scroll-to-start-button[_ngcontent-%COMP%]:hover{opacity:1}.message-preview[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/min-content 1fr;grid-template-areas:"avatar name" "avatar message";height:max-content;row-gap:0;column-gap:.5rem;flex:1;margin-left:.7rem}.message-preview[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{grid-area:avatar}.message-preview[_ngcontent-%COMP%]   .author-name[_ngcontent-%COMP%]{grid-area:name;font-size:.8rem;font-weight:700;color:var(--tc-600)}.message-preview[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{grid-area:message;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;color:var(--tc-700);font-size:.9rem;font-weight:500}.chat-input[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/100%;height:max-content;z-index:1;box-shadow:0 0 .3px #00000005,0 0 .8px #00000007,0 0 1.5px #00000009,0 0 2.7px #0000000b,0 0 5px #0000000d,0 0 12px #00000012}.chat-input[_ngcontent-%COMP%]   .preview-message-wrapper[_ngcontent-%COMP%]{display:grid;gap:.3rem;padding:.5rem;border-bottom:1px solid var(--bgc-200)}.chat-input[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:.3rem;height:max-content}.chat-input.unread[_ngcontent-%COMP%]{box-shadow:0 0 .3px #ff961f05,0 0 .8px #ff961f07,0 0 1.5px #ff961f09,0 0 2.7px #ff961f0b,0 0 5px #ff961f0d,0 0 12px #ff961f12}.chat-input[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem}.shader[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;pointer-events:none}.play-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#00000080;border-radius:50%;width:2rem;height:2rem;font-size:1rem;display:flex;justify-content:center;align-items:center;color:#fff}.reply-message[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/100%;border-left:2px solid var(--mc-300);padding:.1rem .5rem;border-radius:.2rem;margin-bottom:.4rem}'],data:{animation:[ne.U1]}}),Ee})();var Zs=b(9114);let We=(()=>{class Ee{}return Ee.\u0275fac=function(ie){return new(ie||Ee)},Ee.\u0275mod=a.oAB({type:Ee}),Ee.\u0275inj=a.cJS({}),Ee})();var yt=b(6954),Jt=b(6847);function un(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"span",4),a.NdJ("click",function(nn){a.CHM(ie),a.oxw();const Sn=a.MAs(2);return a.KtG(Sn.toggle(nn))}),a.TgZ(1,"span"),a._uU(2),a.qZA(),a._UZ(3,"i",5),a.qZA()}if(2&Ee){const ie=a.oxw();a.xp6(2),a.Oqu(ie.currentName)}}function _n(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",7),a.NdJ("click",function(){const Sn=a.CHM(ie).$implicit,Xn=a.oxw(2),Vi=a.MAs(2);return Xn.onChange(Sn.value),a.KtG(Vi.hide())}),a._uU(1),a.qZA()}if(2&Ee){const ie=Bt.$implicit;a.xp6(1),a.hij(" ",ie.label," ")}}function En(Ee,Bt){if(1&Ee&&a.YNc(0,_n,2,1,"div",6),2&Ee){const ie=a.oxw();a.Q6J("ngForOf",ie.variationList)("ngForTrackBy",ie.trackByVariation)}}let Vn=(()=>{class Ee{constructor(){this.variationList=[],this.value="",this.valueChange=new a.vpe}get currentName(){var ie,Xe;return this.value&&null!==(Xe=null===(ie=this.variationList.find(nn=>nn.value===this.value))||void 0===ie?void 0:ie.label)&&void 0!==Xe?Xe:""}trackByVariation(ie,Xe){return Xe.value}ngOnInit(){}ngOnChanges(ie){const Xe=ie.value;Xe&&!Xe.currentValue&&this.variationList&&this.variationList.length&&this.onChange(this.variationList[0].value)}onChange(ie){this.value=ie,this.valueChange.emit(ie)}}return Ee.\u0275fac=function(ie){return new(ie||Ee)},Ee.\u0275cmp=a.Xpm({type:Ee,selectors:[["app-input-variation-selector"]],inputs:{variationList:"variationList",value:"value"},outputs:{valueChange:"valueChange"},features:[a.TTD],decls:4,vars:1,consts:[["class","caption size-small wt-bold f-color-primary flexed hstart input-field",3,"click",4,"ngIf"],["styleClass","no-paddings"],["overlayPanelEl",""],["pTemplate","content"],[1,"caption","size-small","wt-bold","f-color-primary","flexed","hstart","input-field",3,"click"],[1,"mdi-arrow_drop_down"],["pRipple","","class","list-item",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["pRipple","",1,"list-item",3,"click"]],template:function(ie,Xe){1&ie&&(a.YNc(0,un,4,1,"span",0),a.TgZ(1,"p-overlayPanel",1,2),a.YNc(3,En,1,2,"ng-template",3),a.qZA()),2&ie&&a.Q6J("ngIf",Xe.variationList&&Xe.variationList.length)},dependencies:[e.sg,e.O5,Mo.jx,_t.T,Ni.H],styles:[".input-field[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:opacity .15s ease-in-out}.input-field[_ngcontent-%COMP%]:hover{opacity:.8}.list-item[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .15s ease-in-out;color:var(--tc-600);padding:.5rem .9rem}.list-item[_ngcontent-%COMP%]:hover{background-color:var(--mc-0);color:var(--mc-500)}"]}),Ee})();var Yt=b(7102),Ne=b(2145),Ue=b(8952),mt=b(4496),Lt=b(9873),an=b(7575),An=b(1004),On=b(7384),$n=b(7579),ni=b(8675),Ai=b(1884),Wi=b(4004),zo=b(4782),Jo=b(9300),fo=b(1135),Bo=b(3900),Lo=b(590);let dr=(()=>{class Ee{constructor(){this.control=new me.NI(0),this.onZero=new a.vpe,this.subscriptions=new so.xf,this.onChange=ie=>{},this.onTouched=()=>{}}add(ie=1){var Xe;this.control.setValue((null!==(Xe=this.control.value)&&void 0!==Xe?Xe:0)+ie)}remove(ie=1){var Xe;this.control.setValue((null!==(Xe=this.control.value)&&void 0!==Xe?Xe:0)-ie)}ngOnInit(){this.subscriptions.addSubscription("cgVl",this.control.valueChanges.pipe((0,Wi.U)(ie=>"number"==typeof ie&&!isNaN(ie)&&ie>=0?ie:(this.control.setValue(0,{emitEvent:!1}),0)),(0,Zi.b)(ie=>0===ie&&this.onZero.emit())).subscribe(ie=>this.onChange(ie)))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(ie){this.onChange=ie}registerOnTouched(ie){this.onTouched=ie}setDisabledState(ie){ie?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}writeValue(ie){null==ie||"number"!=typeof ie||isNaN(ie)?this.control.setValue(0,{emitEvent:!1}):this.control.setValue(ie,{emitEvent:!1})}}return Ee.\u0275fac=function(ie){return new(ie||Ee)},Ee.\u0275cmp=a.Xpm({type:Ee,selectors:[["app-count-input"]],outputs:{onZero:"onZero"},features:[a._Bn([{provide:me.JU,useExisting:(0,a.Gpc)(()=>Ee),multi:!0}])],decls:4,vars:1,consts:[[1,"flex","align-items-center","border-1","border-round-md","border-bluegray-100","text-xs","overflow-hidden"],[1,"mdi-remove","p-1","cursor-pointer","hover:text-red-400","hover:bg-red-50",3,"click"],[1,"block","appearance-none","border-x-1","border-y-none","border-bluegray-100","outline-none","w-2rem","text-sm","text-center",3,"formControl"],[1,"mdi-add","p-1","cursor-pointer","hover:text-green-400","hover:bg-green-50",3,"click"]],template:function(ie,Xe){1&ie&&(a.TgZ(0,"span",0)(1,"span",1),a.NdJ("click",function(){return Xe.remove()}),a.qZA(),a._UZ(2,"input",2),a.TgZ(3,"span",3),a.NdJ("click",function(){return Xe.add()}),a.qZA()()),2&ie&&(a.xp6(2),a.Q6J("formControl",Xe.control))},dependencies:[me.Fj,me.JJ,me.oH]}),Ee})();const Kr=["overlayPanel"];function Fr(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",8)(1,"span",9),a._uU(2),a.qZA(),a.TgZ(3,"app-count-input",10),a.NdJ("onZero",function(){const Sn=a.CHM(ie).index,Xn=a.oxw();return a.KtG(Xn.removeEquipment.next(Sn))}),a.qZA()()}if(2&Ee){const ie=Bt.$implicit;a.Q6J("formGroup",ie),a.xp6(2),a.Oqu(null==ie.value.equipment?null:ie.value.equipment.name)}}function Us(Ee,Bt){1&Ee&&(a.TgZ(0,"div",21),a._UZ(1,"span",22),a.TgZ(2,"span"),a._uU(3,"\u041f\u0443\u0441\u0442\u043e"),a.qZA()())}function Ma(Ee,Bt){1&Ee&&(a.TgZ(0,"div",23),a._UZ(1,"span",24),a.TgZ(2,"span"),a._uU(3,"\u041e\u0448\u0438\u0431\u043a\u0430"),a.qZA()())}function xi(Ee,Bt){1&Ee&&(a.TgZ(0,"div",25),a._UZ(1,"p-progressSpinner",26),a.qZA())}const wi=function(Ee){return{"bg-primary-50":Ee}};function Pi(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",28),a.NdJ("mouseenter",function(){const Sn=a.CHM(ie).index,Xn=a.oxw(4);return a.KtG(Xn.selectedAvailableEquipmentsIndex.next(Sn))})("mouseleave",function(){a.CHM(ie);const nn=a.oxw(4);return a.KtG(nn.selectedAvailableEquipmentsIndex.next(-1))})("click",function(){const Sn=a.CHM(ie).index,Xn=a.oxw(4);return a.KtG(Xn.selectAvailableEquipment.next(Sn))}),a.ALo(1,"async"),a.TgZ(2,"span",29),a.ALo(3,"async"),a._uU(4),a.qZA(),a.TgZ(5,"span",30),a.ALo(6,"async"),a._uU(7),a.qZA()()}if(2&Ee){const ie=Bt.$implicit,Xe=Bt.index,nn=a.oxw(4);a.Q6J("ngClass",a.VKq(11,wi,a.lcZ(1,5,nn.selectedAvailableEquipments$)===Xe)),a.xp6(2),a.Q6J("ngClass",a.lcZ(3,7,nn.selectedAvailableEquipments$)===Xe?"text-primary-400":"text-bluegray-600"),a.xp6(2),a.hij(" ",ie.name," "),a.xp6(1),a.Q6J("ngClass",a.lcZ(6,9,nn.selectedAvailableEquipments$)===Xe?"text-primary-400":"text-bluegray-400"),a.xp6(2),a.hij(" ",ie.price," \u0440\u0443\u0431. ")}}function to(Ee,Bt){if(1&Ee&&(a.ynx(0),a.YNc(1,Pi,8,13,"div",27),a.BQk()),2&Ee){const ie=a.oxw().ngIf;a.xp6(1),a.Q6J("ngForOf",ie.value)}}function Qo(Ee,Bt){if(1&Ee&&(a.TgZ(0,"div",16),a.YNc(1,Us,4,0,"div",17),a.YNc(2,Ma,4,0,"div",18),a.YNc(3,xi,2,0,"div",19),a.YNc(4,to,2,1,"ng-container",20),a.qZA()),2&Ee){const ie=Bt.ngIf,Xe=a.oxw(2);a.Udp("max-height","20rem"),a.Q6J("ngSwitch",ie.loadingState),a.xp6(1),a.Q6J("ngSwitchCase",Xe.LoadingState.EMPTY),a.xp6(1),a.Q6J("ngSwitchCase",Xe.LoadingState.ERROR),a.xp6(1),a.Q6J("ngSwitchCase",Xe.LoadingState.LOADING),a.xp6(1),a.Q6J("ngSwitchCase",Xe.LoadingState.READY)}}function Ro(Ee,Bt){if(1&Ee&&(a.TgZ(0,"div",11)(1,"span",12),a._UZ(2,"i",13)(3,"input",14),a.qZA(),a.YNc(4,Qo,5,7,"div",15),a.ALo(5,"async"),a.qZA()),2&Ee){const ie=a.oxw();a.xp6(3),a.Q6J("formControl",ie.queryFilterControl),a.xp6(1),a.Q6J("ngIf",a.lcZ(5,2,ie.equipments$))}}let ks=(()=>{class Ee{constructor(ie){this.api=ie,this.equipmentsList=new me.Oe([]),this.availableEquipmentsLoadingState=On.Gu.LOADING,this.queryFilterControl=new me.NI(""),this.openAvailableEquipmentsView=new $n.x,this.openAvailableEquipmentsView$=this.openAvailableEquipmentsView.pipe((0,Zi.b)(()=>{this.availableEquipmentsLoadingState=On.Gu.LOADING,this.selectedAvailableEquipmentsIndex.next(-1)})),this.closeAvailableEquipmentsView$=new $n.x,this.filterChange$=this.queryFilterControl.valueChanges.pipe((0,ni.O)(""),(0,Gs.b)(500),(0,Ai.x)(),(0,Wi.U)(Xe=>[Xe])),this.LoadingState=On.Gu,this.selectAvailableEquipment=new $n.x,this.removeEquipment=new $n.x,this.equipments$=so.aN.ofAltAll(this.filterChange$,this.api.getClientEquipments.bind(this.api),[this.selectAvailableEquipment.asObservable(),this.removeEquipment.asObservable()]).pipe((0,Wi.U)(Xe=>(Xe.value=Xe.value.filter(nn=>this.equipmentsList.value.map(Sn=>Sn.equipment).every(Sn=>(null==Sn?void 0:Sn.clientEquipmentId)!==nn.clientEquipmentId)),Xe)),(0,zo.d)(1)),this.keysControl$=(0,go.R)(document.body,"keydown").pipe(ys(this.openAvailableEquipmentsView$),(0,Jo.h)(Xe=>["ArrowDown","ArrowUp","Enter"].includes(Xe.key)),(0,Wi.U)(Xe=>(Xe.preventDefault(),Xe.stopPropagation(),Xe.key)),(0,xr.R)(this.closeAvailableEquipmentsView$),(0,Pr.r)()),this.selectedAvailableEquipmentsIndex=new fo.X(-1),this.selectedAvailableEquipments$=this.selectedAvailableEquipmentsIndex.pipe((0,Bo.w)(Xe=>this.equipments$.pipe((0,Wi.U)(nn=>-2===Xe?nn.value.length-1:Xe>nn.value.length-1?-1:Math.min(nn.value.length-1,Math.max(-1,Xe))))),(0,zo.d)(1)),this.selectAvailableEquipment$=this.selectAvailableEquipment.pipe((0,Bo.w)(Xe=>this.equipments$.pipe((0,Lo.P)(),(0,Wi.U)(nn=>-1===Xe?null:nn.value[Xe]))),(0,Jo.h)(Xe=>null!==Xe),(0,Wi.U)(Xe=>new me.cw({equipment:new me.NI(Xe),count:new me.NI(1)})),(0,Zi.b)(()=>{var Xe;return null===(Xe=this.overlayPanel)||void 0===Xe?void 0:Xe.hide()})),this.subscriptions=new so.xf,this.onChange=Xe=>{},this.onTouch=()=>{},this.isDisabled=!1,this.inputClasses={},this.onBlur=new a.vpe}ngOnInit(){this.subscriptions.addSubscription("kctrl",this.keysControl$.pipe((0,Bo.w)(ie=>this.selectedAvailableEquipments$.pipe((0,Lo.P)(),(0,Wi.U)(Xe=>({key:ie,index:Xe}))))).subscribe(({key:ie,index:Xe})=>{switch(ie){case"ArrowDown":this.selectedAvailableEquipmentsIndex.next(Xe+1);break;case"ArrowUp":this.selectedAvailableEquipmentsIndex.next(Xe-1);break;case"Enter":this.selectAvailableEquipment.next(Xe)}})),this.subscriptions.addSubscription("slctrl",this.selectAvailableEquipment$.subscribe(ie=>this.equipmentsList.push(ie))),this.subscriptions.addSubscription("chng",this.equipmentsList.valueChanges.subscribe(ie=>this.onChange(ie))),this.subscriptions.addSubscription("removeEq",this.removeEquipment.subscribe(ie=>{this.equipmentsList.removeAt(ie),this.onTouch(),this.onBlur.emit()}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(ie){this.onChange=ie}registerOnTouched(ie){this.onTouch=ie}setDisabledState(ie){this.isDisabled=ie,ie?this.equipmentsList.disable({emitEvent:!1}):this.equipmentsList.enable({emitEvent:!1})}writeValue(ie){if(null!=ie)for(let Xe of ie)null===Xe.equipment||null===Xe.count||this.equipmentsList.push(new me.cw({equipment:new me.NI(Xe.equipment),count:new me.NI(Xe.count)}));else this.equipmentsList.clear()}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(a.Y36(fs.s))},Ee.\u0275cmp=a.Xpm({type:Ee,selectors:[["app-client-equipment-list-input"]],viewQuery:function(ie,Xe){if(1&ie&&a.Gf(Kr,5),2&ie){let nn;a.iGM(nn=a.CRH())&&(Xe.overlayPanel=nn.first)}},inputs:{inputClasses:"inputClasses"},outputs:{onBlur:"onBlur"},features:[a._Bn([{provide:me.JU,useExisting:(0,a.Gpc)(()=>Ee),multi:!0}])],decls:8,vars:3,consts:[[1,"flex","flex-column","border-1","border-round-md","border-bluegray-100","overflow-x-auto","bg-white","w-fit","error-border",3,"ngClass","blur"],[1,"flex","flex-column","flex-grow-1"],["class","flex align-items-center gap-2 p-3 split-line",3,"formGroup",4,"ngFor","ngForOf"],[1,"flex","p-3"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435","icon","mdi-add",3,"disabled","onClick"],[3,"onHide","onShow"],["overlayPanel",""],["pTemplate","content"],[1,"flex","align-items-center","gap-2","p-3","split-line",3,"formGroup"],[1,"flex-grow-1"],["formControlName","count",3,"onZero"],[1,"flex","flex-column","gap-3"],[1,"p-input-icon-left"],[1,"mdi-search"],["pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a...",3,"formControl"],["class","flex flex-column border-1 border-bluegray-50 border-round-md overflow-y-auto overflow-x-hidden",3,"max-height","ngSwitch",4,"ngIf"],[1,"flex","flex-column","border-1","border-bluegray-50","border-round-md","overflow-y-auto","overflow-x-hidden",3,"ngSwitch"],["class","flex flex-column py-8 align-items-center text-bluegray-600",4,"ngSwitchCase"],["class","flex flex-column py-8 align-items-center text-red-600",4,"ngSwitchCase"],["class","flex py-8 justify-content-center",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"flex","flex-column","py-8","align-items-center","text-bluegray-600"],[1,"mds-router"],[1,"flex","flex-column","py-8","align-items-center","text-red-600"],[1,"mds-error"],[1,"flex","py-8","justify-content-center"],["strokeWidth","1",1,"custom-spinner","custom-spinner-gray","custom-spinner-6xl"],["class","flex align-items-baseline gap-2 p-2 split-line cursor-pointer user-select-none",3,"ngClass","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],[1,"flex","align-items-baseline","gap-2","p-2","split-line","cursor-pointer","user-select-none",3,"ngClass","mouseenter","mouseleave","click"],[3,"ngClass"],[1,"text-xs","font-bold",3,"ngClass"]],template:function(ie,Xe){if(1&ie){const nn=a.EpF();a.TgZ(0,"div",0),a.NdJ("blur",function(){return Xe.onBlur.emit()}),a.TgZ(1,"div",1),a.YNc(2,Fr,4,2,"div",2),a.qZA(),a.TgZ(3,"div",3)(4,"p-button",4),a.NdJ("onClick",function(Xn){return a.CHM(nn),a.MAs(6).show(Xn),Xe.onTouch(),a.KtG(Xe.onBlur.emit())}),a.qZA()()(),a.TgZ(5,"p-overlayPanel",5,6),a.NdJ("onHide",function(){return Xe.closeAvailableEquipmentsView$.next(null)})("onShow",function(){return Xe.openAvailableEquipmentsView.next(Xe.queryFilterControl.value)}),a.YNc(7,Ro,6,4,"ng-template",7),a.qZA()}2&ie&&(a.Q6J("ngClass",Xe.inputClasses),a.xp6(2),a.Q6J("ngForOf",Xe.equipmentsList.controls),a.xp6(2),a.Q6J("disabled",Xe.isDisabled))},dependencies:[e.mk,e.sg,e.O5,e.RF,e.n9,at.zx,me.Fj,me.JJ,me.JL,Mo.jx,X.G,st.o,_t.T,me.oH,me.sg,me.u,dr,e.Ov]}),Ee})();var pr=b(8322),To=b(657),qr=b(1179);let pl=(()=>{class Ee{constructor(ie){this.api=ie,this.addressCounterLivesForm=new me.cw({address:new me.NI(null,me.kI.required),startApart:new me.NI(null,me.kI.required),endApart:new me.NI(null,me.kI.required)}),this.control=new me.NI(""),this.isDisabled=!1,this.isLoading=!1,this.inputClasses={},this.onBlur=new a.vpe,this.subscriptions=new so.xf,this.onChange=Xe=>{},this.onTouched=()=>{}}ngOnInit(){this.subscriptions.addSubscription("chng",this.control.valueChanges.subscribe(ie=>{this.onChange(null!=ie?ie:""),this.onTouched()}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(ie){this.onChange=ie}registerOnTouched(ie){this.onTouched=ie}setDisabledState(ie){this.isDisabled=ie}writeValue(ie){!ie||this.control.setValue(ie)}getCalculation(){this.addressCounterLivesForm.invalid||(this.isLoading=!0,this.api.getCountingLivesCalculation(this.addressCounterLivesForm.value).subscribe({next:ie=>{this.isLoading=!1,this.control.setValue(this.control.value+" "+ie.result)},error:()=>{this.isLoading=!1}}))}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(a.Y36(fs.s))},Ee.\u0275cmp=a.Xpm({type:Ee,selectors:[["app-counting-lives-input"]],inputs:{inputClasses:"inputClasses"},outputs:{onBlur:"onBlur"},features:[a._Bn([{provide:me.JU,useExisting:(0,a.Gpc)(()=>Ee),multi:!0}])],decls:7,vars:17,consts:[[1,"flex","flex-column","gap-1"],[1,"flex","gap-1",3,"formGroup"],["formControlName","address",3,"isHouseOnly"],["placeholder","\u0421 \u043a\u0432.","formControlName","startApart",3,"useGrouping","min","max","size","keyup.enter"],["placeholder","\u041f\u043e \u043a\u0432.","formControlName","endApart",3,"useGrouping","min","max","size","keyup.enter"],["icon","mdi-people","styleClass","p-button-icon",3,"disabled","loading","onClick"],["pInputTextarea","",3,"formControl","autoResize","disabled","ngClass","rows","blur","ngModelChange"]],template:function(ie,Xe){1&ie&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"app-address-input-alt",2),a.TgZ(3,"p-inputNumber",3),a.NdJ("keyup.enter",function(){return!Xe.isLoading&&Xe.getCalculation()}),a.qZA(),a.TgZ(4,"p-inputNumber",4),a.NdJ("keyup.enter",function(){return!Xe.isLoading&&Xe.getCalculation()}),a.qZA(),a.TgZ(5,"p-button",5),a.NdJ("onClick",function(){return Xe.getCalculation()}),a.qZA()(),a.TgZ(6,"textarea",6),a.NdJ("blur",function(){return Xe.onTouched(),Xe.onBlur.emit()})("ngModelChange",function(Sn){return Xe.onChange(Sn)}),a.qZA()()),2&ie&&(a.xp6(1),a.Q6J("formGroup",Xe.addressCounterLivesForm),a.xp6(1),a.Q6J("isHouseOnly",!0),a.xp6(1),a.Q6J("useGrouping",!1)("min",0)("max",999)("size",4),a.xp6(1),a.Q6J("useGrouping",!1)("min",0)("max",999)("size",4),a.xp6(1),a.Q6J("disabled",Xe.isDisabled)("loading",Xe.isLoading),a.xp6(1),a.Q6J("formControl",Xe.control)("autoResize",!0)("disabled",Xe.isDisabled)("ngClass",Xe.inputClasses)("rows",5))},dependencies:[e.mk,at.zx,me.Fj,me.JJ,me.JL,ot.Rn,Ct.g,me.oH,me.sg,me.u,qr.r]}),Ee})();var No=b(2629),Br=b(7658),Hs=b(7172);function _a(Ee,Bt){1&Ee&&a.GkF(0)}function Oa(Ee,Bt){1&Ee&&a.GkF(0)}function Ba(Ee,Bt){if(1&Ee&&a.YNc(0,Oa,1,0,"ng-container",0),2&Ee){const ie=a.oxw(),Xe=a.MAs(4),nn=a.MAs(6);a.Q6J("ngIf",ie.phone)("ngIfThen",Xe)("ngIfElse",nn)}}function Pl(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"span",5),a.NdJ("click",function(nn){a.CHM(ie);const Sn=a.oxw();return nn.stopPropagation(),a.KtG(Sn.callToPhone())}),a._uU(1),a.qZA()}if(2&Ee){const ie=a.oxw();a.xp6(1),a.hij(" ",ie.phone," ")}}function hr(Ee,Bt){1&Ee&&(a.TgZ(0,"span",6),a._uU(1," \u041d\u0435\u0442 \u043d\u043e\u043c\u0435\u0440\u0430 "),a.qZA())}function Za(Ee,Bt){1&Ee&&(a.TgZ(0,"span",7),a._UZ(1,"span",8),a.TgZ(2,"span"),a._uU(3,"\u041d\u0430\u0431\u043e\u0440"),a.qZA()())}let Ua=(()=>{class Ee{constructor(ie){this.api=ie,this.isCalling=!1,this.dotAnimation=so.xn}ngOnInit(){}callToPhone(){this.phone&&(this.isCalling=!0,this.api.callToPhone(this.phone).subscribe({next:()=>{setTimeout(()=>{this.isCalling=!1},2e3)},error:()=>{this.isCalling=!1}}))}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(a.Y36(fs.s))},Ee.\u0275cmp=a.Xpm({type:Ee,selectors:[["app-dial-button"]],inputs:{phone:"phone"},decls:9,vars:3,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["phoneTemp",""],["fullNumber",""],["emptyNumber",""],["callingTemp",""],[1,"text-primary","font-semibold","cursor-pointer","hover:text-primary-700",3,"click"],[1,"text-bluegray-300","font-semibold"],[1,"text-green-500","font-semibold","flex","align-items-center","gap-1"],[1,"mdi-phone","phone"]],template:function(ie,Xe){if(1&ie&&(a.YNc(0,_a,1,0,"ng-container",0),a.YNc(1,Ba,1,3,"ng-template",null,1,a.W1O),a.YNc(3,Pl,2,1,"ng-template",null,2,a.W1O),a.YNc(5,hr,2,0,"ng-template",null,3,a.W1O),a.YNc(7,Za,4,0,"ng-template",null,4,a.W1O)),2&ie){const nn=a.MAs(2),Sn=a.MAs(8);a.Q6J("ngIf",Xe.isCalling)("ngIfThen",Sn)("ngIfElse",nn)}},dependencies:[e.O5],styles:[".phone[_ngcontent-%COMP%]{animation:callAnimate 2s ease 0s infinite normal forwards}@keyframes callAnimate{0%,to{transform:rotate(0);transform-origin:50% 50%}10%{transform:rotate(8deg)}20%,40%,60%{transform:rotate(-10deg)}30%,50%,70%{transform:rotate(10deg)}80%{transform:rotate(-8deg)}90%{transform:rotate(8deg)}}"]}),Ee})();function Ha(Ee,Bt){1&Ee&&a._UZ(0,"app-dial-button",2),2&Ee&&a.Q6J("phone",Bt.$implicit)}let Ca=(()=>{class Ee{constructor(){}get phones(){return this.phoneData?Object.values(this.phoneData):[]}ngOnInit(){}}return Ee.\u0275fac=function(ie){return new(ie||Ee)},Ee.\u0275cmp=a.Xpm({type:Ee,selectors:[["app-dial-buttons-list"]],inputs:{phoneData:"phoneData"},decls:2,vars:1,consts:[[1,"flex","flex-column"],[3,"phone",4,"ngFor","ngForOf"],[3,"phone"]],template:function(ie,Xe){1&ie&&(a.TgZ(0,"div",0),a.YNc(1,Ha,1,1,"app-dial-button",1),a.qZA()),2&ie&&(a.xp6(1),a.Q6J("ngForOf",Xe.phones))},dependencies:[e.sg,Ua]}),Ee})();var hl=b(4707);const nc=function(Ee){return["/clients","billing","user",Ee]};let va=class{constructor(Bt){this.api=Bt,this.loginChange$=new hl.t(1),this.loginColor$=this.loginChange$.pipe((0,Bo.w)(ie=>this.api.getActiveBindingByLogin(ie)),(0,Wi.U)(ie=>null===ie?"text-gray-400":"ONLINE"===ie.onlineStatus?"text-green-400":"text-red-400"))}ngOnInit(){}};va.\u0275fac=function(Bt){return new(Bt||va)(a.Y36(fs.s))},va.\u0275cmp=a.Xpm({type:va,selectors:[["app-billing-login"]],inputs:{loginData:"loginData"},decls:3,vars:7,consts:[[1,"select-none","cursor-pointer","hover:text-primary-700","no-underline",3,"ngClass","routerLink","contextmenu","click"]],template:function(Bt,ie){1&Bt&&(a.TgZ(0,"a",0),a.NdJ("contextmenu",function(nn){return nn.stopPropagation()})("click",function(nn){return nn.stopPropagation()}),a.ALo(1,"async"),a._uU(2),a.qZA()),2&Bt&&(a.Q6J("ngClass",a.lcZ(1,3,ie.loginColor$))("routerLink",a.VKq(5,nc,ie.loginData)),a.xp6(2),a.Oqu(ie.loginData))},dependencies:[e.mk,R.yS,e.Ov]}),(0,P.gn)([(0,x.bQ)("loginData")],va.prototype,"loginChange$",void 0),va=(0,P.gn)([(0,x.kG)()],va);var So=b(6759);let xc=(()=>{class Ee{constructor(){this.inputClasses={},this.onBlur=new a.vpe,this.dataForm=new me.cw({passportSeries:new me.NI(""),passportNumber:new me.NI(""),passportIssuedDate:new me.NI(null),passportIssuedBy:new me.NI(""),departmentCode:new me.NI(""),registrationAddress:new me.NI("")}),this.disabled=!1,this.onChange=ie=>{},this.onTouched=()=>{}}ngOnInit(){this.changeSubscription=this.dataForm.valueChanges.subscribe(ie=>this.onChange(ie))}ngOnDestroy(){var ie;null===(ie=this.changeSubscription)||void 0===ie||ie.unsubscribe()}registerOnChange(ie){this.onChange=ie}registerOnTouched(ie){this.onTouched=ie}setDisabledState(ie){this.disabled=ie}writeValue(ie){var Xe,nn,Sn,Xn,Vi;this.dataForm.patchValue(ie?{passportSeries:null!==(Xe=ie.passportSeries)&&void 0!==Xe?Xe:"",passportNumber:null!==(nn=ie.passportNumber)&&void 0!==nn?nn:"",passportIssuedBy:null!==(Sn=ie.passportIssuedBy)&&void 0!==Sn?Sn:"",passportIssuedDate:ie.passportIssuedDate?new Date(ie.passportIssuedDate):null,departmentCode:null!==(Xn=ie.departmentCode)&&void 0!==Xn?Xn:"",registrationAddress:null!==(Vi=ie.registrationAddress)&&void 0!==Vi?Vi:""}:{passportSeries:"",passportNumber:"",passportIssuedBy:"",passportIssuedDate:null,departmentCode:"",registrationAddress:""})}}return Ee.\u0275fac=function(ie){return new(ie||Ee)},Ee.\u0275cmp=a.Xpm({type:Ee,selectors:[["app-passport-details-input"]],inputs:{inputClasses:"inputClasses"},outputs:{onBlur:"onBlur"},features:[a._Bn([{provide:me.JU,useExisting:Ee,multi:!0}])],decls:10,vars:14,consts:[[1,"flex","flex-column","gap-2",3,"formGroup","ngClass"],["pInputText","","formControlName","passportSeries","placeholder","0000","pKeyFilter","pint",3,"maxlength","disabled","size","blur"],["pInputText","","formControlName","passportNumber","placeholder","000000","pKeyFilter","pint",3,"maxlength","disabled","size","blur"],["pInputText","","formControlName","passportIssuedBy","placeholder","\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d",3,"disabled","blur"],[1,"flex","gap-2"],["formControlName","passportIssuedDate","placeholder","\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438",3,"disabled","firstDayOfWeek","blur"],["formControlName","departmentCode","placeholder","\u041a\u043e\u0434 \u043f\u043e\u0434\u0440.","mask","999-999",3,"disabled","size","blur"],["pInputText","","formControlName","registrationAddress","placeholder","\u0410\u0434\u0440\u0435\u0441 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",3,"disabled","blur"]],template:function(ie,Xe){1&ie&&(a.TgZ(0,"div",0)(1,"div")(2,"input",1),a.NdJ("blur",function(){return Xe.onTouched(),Xe.onBlur.emit()}),a.qZA(),a._uU(3," - "),a.TgZ(4,"input",2),a.NdJ("blur",function(){return Xe.onTouched(),Xe.onBlur.emit()}),a.qZA()(),a.TgZ(5,"input",3),a.NdJ("blur",function(){return Xe.onTouched(),Xe.onBlur.emit()}),a.qZA(),a.TgZ(6,"div",4)(7,"p-calendar",5),a.NdJ("blur",function(){return Xe.onTouched(),Xe.onBlur.emit()}),a.qZA(),a.TgZ(8,"p-inputMask",6),a.NdJ("blur",function(){return Xe.onTouched(),Xe.onBlur.emit()}),a.qZA()(),a.TgZ(9,"input",7),a.NdJ("blur",function(){return Xe.onTouched(),Xe.onBlur.emit()}),a.qZA()()),2&ie&&(a.Q6J("formGroup",Xe.dataForm)("ngClass",Xe.inputClasses),a.xp6(2),a.Q6J("maxlength",4)("disabled",Xe.disabled)("size",4),a.xp6(2),a.Q6J("maxlength",6)("disabled",Xe.disabled)("size",6),a.xp6(1),a.Q6J("disabled",Xe.disabled),a.xp6(2),a.Q6J("disabled",Xe.disabled)("firstDayOfWeek",1),a.xp6(1),a.Q6J("disabled",Xe.disabled)("size",7),a.xp6(1),a.Q6J("disabled",Xe.disabled))},dependencies:[e.mk,me.Fj,me.JJ,me.JL,me.nD,st.o,je.vy,me.sg,me.u,os.f,To.Fr]}),Ee})();var qc=b(1403),Ju=b(6501),Ic=b(5132),Ll=b(1318),$c=b(3435),Va=b(242),el=b(330);let Tc=(()=>{class Ee{constructor(ie,Xe,nn,Sn){this.api=ie,this.rt=Xe,this.router=nn,this.personality=Sn,this.afterWorks$=this.personality.userLogin$.pipe((0,Bo.w)(Xn=>so.aN.of(this.api.getAfterWorkList(),"workLogId",this.rt.afterWorksAppend(Xn),null,this.rt.afterWorksRemoved(Xn).pipe((0,Wi.U)(Vi=>({workLogId:Vi})))))),this._isEmpty=!0,this.afterWorks$.subscribe(Xn=>this._isEmpty=!Xn.value||0===Xn.value.length)}get isEmpty(){return this._isEmpty}markAsCompleted(ie,Xe){return this.api.markWorkLogAsCompleted(ie.workLogId,null!=Xe?Xe:void 0)}markAsUncompleted(ie,Xe=!1){this.api.markWorkLogAsUncompleted(ie.workLogId).subscribe(()=>{Xe&&this.openTask(ie)})}closeAndMarkAsUncompleted(ie){this.api.markWorkLogAsUncompletedAndClose(ie.workLogId).subscribe()}openTask(ie){this.router.navigate(["/task",ie.task.taskId])}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(a.LFG(fs.s),a.LFG($s.U),a.LFG(R.F0),a.LFG(Fs.F))},Ee.\u0275prov=a.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})(),Xc=(()=>{class Ee{constructor(ie,Xe){this.api=ie,this.rt=Xe,this._isEmpty=!0,this.employeeWorkLogs$=so.aN.ofAll(this.api.getEmployeeWorkLogs(),[this.rt.workLogCreated(),this.rt.workLogClosed(),this.rt.workLogUpdated()]).pipe((0,Zi.b)({next:nn=>{this._isEmpty=!(nn.value.length>0)},error:()=>{this._isEmpty=!0}}),(0,zo.d)(1))}get isEmpty(){return this._isEmpty}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(a.LFG(fs.s),a.LFG($s.U))},Ee.\u0275prov=a.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})(),Ds=(()=>{class Ee{constructor(ie,Xe){this.elementRef=ie,this.document=Xe,this.subscriptions=[]}ngOnInit(){this.element=this.elementRef.nativeElement,this.initDrag()}initDrag(){const ie=(0,go.R)(this.dragHandle?this.dragHandle:this.element,"mousedown"),Xe=(0,go.R)(this.document,"mouseup"),nn=(0,go.R)(this.document,"mousemove").pipe((0,xr.R)(Xe));let Sn,Xn,oa,Vi=0,er=0;const iu=ie.subscribe(ip=>{Sn=ip.clientX-Vi,Xn=ip.clientY-er,this.element.classList.add("free-dragging"),oa=nn.subscribe(cc=>{cc.preventDefault(),Vi=cc.clientX-Sn,er=cc.clientY-Xn,this.element.style.transform="translate3d("+Vi+"px, "+er+"px, 0)"})}),qu=Xe.subscribe(()=>{Sn=Vi,Xn=er,this.element.classList.remove("free-dragging"),oa&&oa.unsubscribe()});this.subscriptions.push.apply(this.subscriptions,[iu,oa,qu])}ngOnDestroy(){this.subscriptions.forEach(ie=>null==ie?void 0:ie.unsubscribe())}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(a.Y36(a.SBq),a.Y36(e.K0))},Ee.\u0275dir=a.lG2({type:Ee,selectors:[["","appFreeDrag",""]],inputs:{dragHandle:"dragHandle"}}),Ee})();var Rl=b(7231),za=b(1560),Qu=b(6083);function eu(Ee,Bt){if(1&Ee&&a._UZ(0,"p-badge",12),2&Ee){const ie=a.oxw().$implicit;a.Q6J("value",ie.unactive.length+"")}}function Zr(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",9)(1,"app-avatar",10),a.NdJ("click",function(nn){const Xn=a.CHM(ie).$implicit,Vi=a.oxw(),er=a.MAs(3);return a.KtG(Vi.openPanel(nn,er,Xn))}),a.qZA(),a.YNc(2,eu,1,1,"p-badge",11),a.qZA()}if(2&Ee){const ie=Bt.$implicit;a.xp6(1),a.Q6J("name",ie.employees[0].fullName)("size",3)("src",ie.employees[0].avatar),a.xp6(1),a.Q6J("ngIf",!ie.active)}}function Ur(Ee,Bt){1&Ee&&a.GkF(0)}const tl=function(Ee){return{activeWorkLog:Ee}};function gl(Ee,Bt){if(1&Ee&&(a.TgZ(0,"div",14)(1,"span",15),a._uU(2,"\u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f "),a._UZ(3,"app-time-elapsed",16),a.qZA(),a.YNc(4,Ur,1,0,"ng-container",17),a.qZA()),2&Ee){const ie=a.oxw(2),Xe=a.MAs(6);a.xp6(3),a.Q6J("startTime",ie.activeWorkLog.lastAcceptedTimestamp),a.xp6(1),a.Q6J("ngTemplateOutlet",Xe)("ngTemplateOutletContext",a.VKq(3,tl,ie.activeWorkLog))}}function Ms(Ee,Bt){1&Ee&&a.GkF(0)}const _e=function(Ee){return{workLog:Ee}};function ve(Ee,Bt){if(1&Ee&&(a.ynx(0),a.YNc(1,Ms,1,0,"ng-container",17),a.BQk()),2&Ee){const ie=Bt.$implicit;a.oxw(3);const Xe=a.MAs(8);a.xp6(1),a.Q6J("ngTemplateOutlet",Xe)("ngTemplateOutletContext",a.VKq(2,_e,ie))}}function le(Ee,Bt){if(1&Ee&&(a.TgZ(0,"div",14)(1,"span",18),a._uU(2,"\u041d\u0435 \u043f\u0440\u0438\u043d\u044f\u0442\u044b\u0435"),a.qZA(),a.TgZ(3,"div",0),a.YNc(4,ve,2,4,"ng-container",19),a.qZA()()),2&Ee){const ie=a.oxw(2);a.xp6(4),a.Q6J("ngForOf",ie.unactiveWorkLogs)("ngForTrackBy",ie.trackByWorkLog)}}function ke(Ee,Bt){if(1&Ee&&(a.YNc(0,gl,5,5,"div",13),a.YNc(1,le,5,2,"div",13)),2&Ee){const ie=a.oxw();a.Q6J("ngIf",ie.activeWorkLog),a.xp6(1),a.Q6J("ngIf",ie.unactiveWorkLogs.length>0)}}function et(Ee,Bt){1&Ee&&a.GkF(0)}function wt(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",20)(1,"div",21),a._UZ(2,"app-task-link",22),a.TgZ(3,"app-label",23),a._UZ(4,"app-avatar-list",24),a.qZA(),a.TgZ(5,"app-label",25)(6,"span"),a._uU(7),a.ALo(8,"date"),a.qZA()()(),a.YNc(9,et,1,0,"ng-container",17),a._UZ(10,"div",26),a.TgZ(11,"p-button",27),a.NdJ("onClick",function(){const Sn=a.CHM(ie).activeWorkLog,Xn=a.oxw();return a.KtG(Xn.forceCloseWorkLog(Sn.task.taskId))}),a.qZA()()}if(2&Ee){const ie=Bt.activeWorkLog;a.oxw();const Xe=a.MAs(10);a.xp6(2),a.Q6J("task",ie.task),a.xp6(2),a.Q6J("employees",ie.employees)("size",2),a.xp6(3),a.Oqu(a.xi3(8,6,ie.created,"dd-MM-yyyy HH:mm")),a.xp6(2),a.Q6J("ngTemplateOutlet",Xe)("ngTemplateOutletContext",a.VKq(9,_e,ie))}}function Xt(Ee,Bt){1&Ee&&a.GkF(0)}function sn(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",20)(1,"div",21),a._UZ(2,"app-task-link",22),a.TgZ(3,"app-label",23),a._UZ(4,"app-avatar-list",24),a.qZA(),a.TgZ(5,"app-label",25)(6,"span"),a._uU(7),a.ALo(8,"date"),a.qZA()()(),a.YNc(9,Xt,1,0,"ng-container",17),a._UZ(10,"div",26),a.TgZ(11,"p-button",27),a.NdJ("onClick",function(){const Sn=a.CHM(ie).workLog,Xn=a.oxw();return a.KtG(Xn.forceCloseWorkLog(Sn.task.taskId))}),a.qZA()()}if(2&Ee){const ie=Bt.workLog;a.oxw();const Xe=a.MAs(10);a.xp6(2),a.Q6J("task",ie.task),a.xp6(2),a.Q6J("employees",ie.employees)("size",2),a.xp6(3),a.Oqu(a.xi3(8,6,ie.created,"dd-MM-yyyy HH:mm")),a.xp6(2),a.Q6J("ngTemplateOutlet",Xe)("ngTemplateOutletContext",a.VKq(9,_e,ie))}}function wn(Ee,Bt){1&Ee&&a._UZ(0,"app-attachment-link",32),2&Ee&&a.Q6J("attachment",Bt.$implicit)}function oi(Ee,Bt){if(1&Ee&&(a.TgZ(0,"app-label",29)(1,"div",30)(2,"span"),a._uU(3),a.qZA(),a.TgZ(4,"div",14),a.YNc(5,wn,1,1,"app-attachment-link",31),a.qZA()()()),2&Ee){const ie=a.oxw().workLog;a.xp6(3),a.Oqu(ie.targetDescription),a.xp6(2),a.Q6J("ngForOf",ie.targetImages)}}function yi(Ee,Bt){if(1&Ee&&a.YNc(0,oi,6,2,"app-label",28),2&Ee){const ie=Bt.workLog;a.Q6J("ngIf",ie.targetDescription||ie.targetImages.length>0)}}let di=(()=>{class Ee{constructor(ie){this.service=ie,this.workLogs=[],this.unactiveWorkLogs=[],this.forceCloseDialogVisible=!1}ngOnInit(){}ngOnDestroy(){}trackByWorkLog(ie,Xe){return Xe.workLogId+JSON.stringify(Xe.whoAccepted)+JSON.stringify(Xe.workReports)}openPanel(ie,Xe,nn){Xe.toggle(ie),this.activeWorkLog=nn.active,this.unactiveWorkLogs=nn.unactive}forceCloseWorkLog(ie){this.targetTaskId=ie,this.forceCloseDialogVisible=!0}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(a.Y36(Xc))},Ee.\u0275cmp=a.Xpm({type:Ee,selectors:[["app-active-work-logs-panel"]],inputs:{workLogs:"workLogs"},decls:12,vars:4,consts:[[1,"flex","flex-column","gap-3"],["class","relative w-fit p-overlay-badge",4,"ngFor","ngForOf"],["appendTo","body","styleClass","flex flex-column gap-2",3,"baseZIndex"],["overlayPanelEl",""],["pTemplate","content"],["activeWorkLogTemplate",""],["unactiveWorkLogTemplate",""],["targetDescriptionTemplate",""],[3,"taskId","visible","visibleChange"],[1,"relative","w-fit","p-overlay-badge"],[1,"cursor-pointer",3,"name","size","src","click"],["severity","danger",3,"value",4,"ngIf"],["severity","danger",3,"value"],["class","flex flex-column",4,"ngIf"],[1,"flex","flex-column"],[1,"font-bold","text-orange-400","text-lg"],[3,"startTime"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"font-bold","text-bluegray-400","text-lg"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","terminated","p-3"],[1,"flex","flex-column","gap-2"],[3,"task"],["label","\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438","styleClass","translate-x-0"],[3,"employees","size"],["label","\u041e\u0442\u0434\u0430\u043d\u0430","styleClass","translate-x-0"],[1,"flex-grow-1"],["label","\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u0431\u0440\u0430\u0442\u044c","styleClass","p-button-danger p-button-outlined",1,"ml-3",3,"onClick"],["label","\u0426\u0435\u043b\u044c \u0437\u0430\u0434\u0430\u0447\u0438","class","ml-3","styleClass","translate-x-0",4,"ngIf"],["label","\u0426\u0435\u043b\u044c \u0437\u0430\u0434\u0430\u0447\u0438","styleClass","translate-x-0",1,"ml-3"],[1,"max-w-30rem","flex","flex-column","gap-2"],[3,"attachment",4,"ngFor","ngForOf"],[3,"attachment"]],template:function(ie,Xe){1&ie&&(a.TgZ(0,"div",0),a.YNc(1,Zr,3,4,"div",1),a.qZA(),a.TgZ(2,"p-overlayPanel",2,3),a.YNc(4,ke,2,2,"ng-template",4),a.qZA(),a.YNc(5,wt,12,11,"ng-template",null,5,a.W1O),a.YNc(7,sn,12,11,"ng-template",null,6,a.W1O),a.YNc(9,yi,1,1,"ng-template",null,7,a.W1O),a.TgZ(11,"app-force-close-dialog",8),a.NdJ("visibleChange",function(Sn){return Xe.forceCloseDialogVisible=Sn}),a.qZA()),2&ie&&(a.xp6(1),a.Q6J("ngForOf",Xe.workLogs),a.xp6(1),a.Q6J("baseZIndex",2e3),a.xp6(9),a.Q6J("taskId",Xe.targetTaskId)("visible",Xe.forceCloseDialogVisible))},dependencies:[e.sg,e.O5,e.tP,at.zx,Mo.jx,Mt.Ct,_t.T,Rl.D,u.A,Be.U,or.k,Jt.j,za._,Qu.j,e.uU],styles:[".title[_ngcontent-%COMP%]{padding-bottom:.3rem;border-bottom:1px solid var(--bgc-200)}.work-log-item[_ngcontent-%COMP%]{display:grid;grid:min-content/max-content max-content 1fr;gap:.5rem;padding:.5rem;align-items:center}.work-log-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-200)}"]}),Ee})();var Ki=b(4326);const ao=function(){return[]};let Vs=(()=>{class Ee{constructor(ie){this.api=ie,this.querySubject=new $n.x,this.typesOfContracts$=this.querySubject.pipe((0,Bo.w)(Xe=>this.api.getContractTypesSuggestionList(Xe))),this.control=new me.NI([]),this.isDisabled=!1,this.subscriptions=new so.xf,this.onAfterChange=new a.vpe,this.onChange=Xe=>{},this.onTouched=()=>{}}ngOnInit(){this.subscriptions.addSubscription("ch",this.control.valueChanges.subscribe(ie=>this.onChange(null!=ie?ie:[]))),this.subscriptions.addSubscription("ach",this.control.valueChanges.pipe((0,Ki.g)(100)).subscribe(ie=>this.onAfterChange.emit(null!=ie?ie:[])))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(ie){this.onChange=ie}registerOnTouched(ie){this.onTouched=ie}setDisabledState(ie){this.isDisabled=ie}writeValue(ie){Array.isArray(ie)?this.control.setValue(ie||[]):this.control.setValue([])}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(a.Y36(fs.s))},Ee.\u0275cmp=a.Xpm({type:Ee,selectors:[["app-types-contracts-multi-selector"]],outputs:{onAfterChange:"onAfterChange"},features:[a._Bn([{provide:me.JU,useExisting:Ee,multi:!0}])],decls:2,vars:12,consts:[["appendTo","body","dataKey","value","field","label","emptyMessage","\u0422\u0438\u043f\u043e\u0432 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430...",3,"autoHighlight","forceSelection","formControl","unique","dropdown","multiple","showEmptyMessage","suggestions","delay","completeMethod"]],template:function(ie,Xe){if(1&ie&&(a.TgZ(0,"p-autoComplete",0),a.NdJ("completeMethod",function(Sn){return Xe.querySubject.next(Sn.query)}),a.ALo(1,"async"),a.qZA()),2&ie){let nn;a.Q6J("autoHighlight",!0)("forceSelection",!0)("formControl",Xe.control)("unique",!1)("dropdown",!0)("multiple",!0)("showEmptyMessage",!0)("suggestions",null!==(nn=a.lcZ(1,9,Xe.typesOfContracts$))&&void 0!==nn?nn:a.DdM(11,ao))("delay",500)}},dependencies:[me.JJ,me.oH,Ne.Qc,e.Ov]}),Ee})();function Hr(Ee,Bt){1&Ee&&a.GkF(0)}const Vr=function(Ee){return{workLog:Ee}};function ia(Ee,Bt){if(1&Ee&&(a.ynx(0),a.YNc(1,Hr,1,0,"ng-container",21),a.BQk()),2&Ee){const ie=Bt.$implicit;a.oxw();const Xe=a.MAs(12);a.xp6(1),a.Q6J("ngTemplateOutlet",Xe)("ngTemplateOutletContext",a.VKq(2,Vr,ie))}}function ua(Ee,Bt){if(1&Ee&&(a.TgZ(0,"div",22),a._uU(1),a.qZA()),2&Ee){const ie=a.oxw();a.Udp("translate","-100% -25%")("min-width","1.8rem"),a.xp6(1),a.hij(" ",ie.afterWorks.length," ")}}function ic(Ee,Bt){1&Ee&&(a.TgZ(0,"div",36),a._UZ(1,"span",37),a.TgZ(2,"span"),a._uU(3,"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e"),a.qZA()())}function gr(Ee,Bt){1&Ee&&a.GkF(0)}function oc(Ee,Bt){if(1&Ee&&(a.ynx(0),a.YNc(1,gr,1,0,"ng-container",21),a.BQk()),2&Ee){const ie=a.oxw().workLog;a.oxw();const Xe=a.MAs(16);a.xp6(1),a.Q6J("ngTemplateOutlet",Xe)("ngTemplateOutletContext",a.VKq(2,Vr,ie))}}function Ac(Ee,Bt){1&Ee&&a.GkF(0)}function ba(Ee,Bt){if(1&Ee&&(a.ynx(0),a.YNc(1,Ac,1,0,"ng-container",21),a.BQk()),2&Ee){const ie=a.oxw().workLog;a.oxw();const Xe=a.MAs(14);a.xp6(1),a.Q6J("ngTemplateOutlet",Xe)("ngTemplateOutletContext",a.VKq(2,Vr,ie))}}function Xd(Ee,Bt){if(1&Ee&&(a.TgZ(0,"div",23)(1,"div",24)(2,"div",25),a._UZ(3,"app-task-link",26)(4,"app-avatar-list",27),a.TgZ(5,"app-label",28)(6,"div",29)(7,"span",30),a._uU(8),a.ALo(9,"date"),a.qZA(),a.TgZ(10,"span"),a._uU(11,"-"),a.qZA(),a.TgZ(12,"span",30),a._uU(13),a.ALo(14,"date"),a.qZA()()()(),a.YNc(15,ic,4,0,"div",31),a.TgZ(16,"app-label",32)(17,"span"),a._uU(18),a.qZA()()(),a._UZ(19,"div",33),a.TgZ(20,"div",34),a.YNc(21,oc,2,4,"ng-container",35),a.YNc(22,ba,2,4,"ng-container",35),a.qZA()()),2&Ee){const ie=Bt.workLog;a.xp6(3),a.Q6J("task",ie.task),a.xp6(1),a.Q6J("employees",ie.employees),a.xp6(4),a.Oqu(a.xi3(9,8,ie.created,"dd-MM-yyyy HH:mm")),a.xp6(5),a.Oqu(a.xi3(14,11,ie.closed,"dd-MM-yyyy HH:mm")),a.xp6(2),a.Q6J("ngIf",ie.isForceClosed),a.xp6(3),a.Oqu(ie.report),a.xp6(3),a.Q6J("ngIf",ie.isForceClosed),a.xp6(1),a.Q6J("ngIf",!ie.isForceClosed)}}function ep(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"p-button",38),a.NdJ("onClick",function(nn){const Xn=a.CHM(ie).workLog,Vi=a.oxw();return a.MAs(18).toggle(nn),a.KtG(Vi.targetWorkLog=Xn)}),a.qZA(),a.TgZ(1,"p-button",39),a.NdJ("onClick",function(){const Sn=a.CHM(ie).workLog,Xn=a.oxw();return a.KtG(Xn.afterWorkService.markAsUncompleted(Sn,!0))}),a.qZA()}}function Gu(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"p-button",40),a.NdJ("onClick",function(){const Sn=a.CHM(ie).workLog,Xn=a.oxw();return a.KtG(Xn.afterWorkService.markAsUncompleted(Sn))}),a.qZA(),a.TgZ(1,"p-button",41),a.NdJ("onClick",function(nn){const Xn=a.CHM(ie).workLog,Vi=a.oxw();return a.MAs(18).toggle(nn),a.KtG(Vi.targetWorkLog=Xn)}),a.qZA(),a.TgZ(2,"p-button",42),a.NdJ("onClick",function(){const Sn=a.CHM(ie).workLog,Xn=a.oxw();return a.KtG(Xn.afterWorkService.closeAndMarkAsUncompleted(Sn))}),a.qZA()}}let Is=(()=>{class Ee{constructor(ie){this.afterWorkService=ie,this.afterWorks=[],this.panelVisible=!1,this.concludedContractsControl=new me.NI([],[me.kI.required]),this.isRequestInProcess=!1}ngOnInit(){}toggle(){this.panelVisible=!this.panelVisible}markAsCompleted(ie){!this.targetWorkLog||(this.isRequestInProcess=!0,this.afterWorkService.markAsCompleted(this.targetWorkLog,this.concludedContractsControl.value).subscribe(()=>ie.hide()))}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(a.Y36(Tc))},Ee.\u0275cmp=a.Xpm({type:Ee,selectors:[["app-after-work-panel"]],inputs:{afterWorks:"afterWorks"},decls:27,vars:10,consts:[["pRipple","",1,"bg-white","text-primary","border-circle","shadow-3","p-3","flex","relative","cursor-pointer","transition-colors","transition-duration-150","hover:bg-primary","hover:text-white",3,"click"],[1,"mds-work","text-4xl"],["appendTo","body","styleClass","overlay-panel-unpadding",3,"dismissable","showCloseIcon"],["workPanel",""],[1,"p-4","surface-overlay","shadow-2","border-round","flex","flex-column","gap-3"],[1,"text-bluegray-500","font-bold"],[1,"flex","flex-column","overflow-y-auto","overflow-x-hidden","max-h-30rem","w-fit","overscroll-none"],[4,"ngFor","ngForOf"],["class","absolute flex justify-content-center bg-primary border-round-3xl p-2 line-height-1 text-xs font-semibold top-0 left-100 pointer-events-none",3,"translate","min-width",4,"ngIf"],["workLogItemTemplate",""],["normalButtonsTemplate",""],["forceClosedButtonsTemplate",""],["styleClass","flex flex-column gap-3",3,"dismissable","onShow"],["contractsOverlay",""],[1,"flex","flex-column","gap-4","max-w-30rem",3,"click"],[1,"text-bluegray-500","text-lg","font-semibold"],[1,"flex","flex-column","gap-2"],[3,"formControl","onAfterChange"],[1,"flex","gap-3"],["label","\u041f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0435\u043d\u043d\u044b\u0435","styleClass","p-button-success w-full",1,"flex-grow-1",3,"disabled","onClick"],["label","\u0411\u0435\u0437 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432","styleClass","p-button-info w-full",1,"flex-grow-1",3,"disabled","onClick"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"absolute","flex","justify-content-center","bg-primary","border-round-3xl","p-2","line-height-1","text-xs","font-semibold","top-0","left-100","pointer-events-none"],[1,"flex","align-items-center","gap-1","terminated","p-3"],[1,"flex","flex-column","gap-2","w-min"],[1,"flex","justify-content-between","align-items-center","gap-3"],[3,"task"],[3,"employees"],["label","\u041e\u0442\u0434\u0430\u043d\u0430/\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430","styleClass","font-bold translate-x-0"],[1,"flex","align-items-center","gap-1","white-space-nowrap"],[1,"white-space-nowrap"],["class","flex align-items-center gap-1 text-orange-400 font-bold",4,"ngIf"],["label","\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430 \u0441 \u043e\u0442\u0447\u0435\u0442\u043e\u043c","styleClass","font-bold translate-x-0"],[1,"flex-grow-1"],[1,"flex","flex-column","gap-3"],[4,"ngIf"],[1,"flex","align-items-center","gap-1","text-orange-400","font-bold"],[1,"mdi-warning"],["label","\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u0443\u044e","styleClass","p-button-sm",3,"onClick"],["label","\u041f\u0435\u0440\u0435\u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0438 \u043f\u0435\u0440\u0435\u0439\u0442\u0438","styleClass","p-button-sm p-button-secondary p-button-outlined",3,"onClick"],["label","\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u043d\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u0443\u044e","styleClass","p-button-sm",3,"onClick"],["label","\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u043a \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u0443\u044e","styleClass","p-button-sm p-button-warning p-button-outlined",3,"onClick"],["label","\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u043a \u043d\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u0443\u044e","styleClass","p-button-sm p-button-secondary p-button-outlined",3,"onClick"]],template:function(ie,Xe){if(1&ie){const nn=a.EpF();a.TgZ(0,"div",0),a.NdJ("click",function(Xn){a.CHM(nn);const Vi=a.MAs(3);return a.KtG(Vi.toggle(Xn))}),a._UZ(1,"span",1),a.qZA(),a.TgZ(2,"p-overlayPanel",2,3)(4,"div",4)(5,"span",5),a._uU(6,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442"),a.qZA(),a.TgZ(7,"div",6),a.YNc(8,ia,2,4,"ng-container",7),a.qZA()()(),a.ynx(9),a.YNc(10,ua,2,5,"div",8),a.BQk(),a.YNc(11,Xd,23,14,"ng-template",null,9,a.W1O),a.YNc(13,ep,2,0,"ng-template",null,10,a.W1O),a.YNc(15,Gu,3,0,"ng-template",null,11,a.W1O),a.TgZ(17,"p-overlayPanel",12,13),a.NdJ("onShow",function(){return Xe.concludedContractsControl.reset([])}),a.TgZ(19,"div",14),a.NdJ("click",function(Xn){return Xn.stopPropagation()}),a.TgZ(20,"span",15),a._uU(21,"\u041a\u0430\u043a\u0438\u0435 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u044b \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u0434\u0430\u0442\u044c \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a?"),a.qZA(),a.TgZ(22,"div",16)(23,"app-types-contracts-multi-selector",17),a.NdJ("onAfterChange",function(){a.CHM(nn);const Xn=a.MAs(18);return a.KtG(Xn.overlayVisible&&Xn.align())}),a.qZA(),a.TgZ(24,"div",18)(25,"p-button",19),a.NdJ("onClick",function(){a.CHM(nn);const Xn=a.MAs(18);return a.KtG(Xe.markAsCompleted(Xn))}),a.qZA(),a.TgZ(26,"p-button",20),a.NdJ("onClick",function(){a.CHM(nn);const Xn=a.MAs(18);return a.KtG(Xe.markAsCompleted(Xn))}),a.qZA()()()()()}2&ie&&(a.xp6(2),a.Q6J("dismissable",!1)("showCloseIcon",!0),a.xp6(5),a.Udp("max-width","60vw"),a.xp6(1),a.Q6J("ngForOf",Xe.afterWorks),a.xp6(2),a.Q6J("ngIf",Xe.afterWorks.length>0),a.xp6(7),a.Q6J("dismissable",!0),a.xp6(6),a.Q6J("formControl",Xe.concludedContractsControl),a.xp6(2),a.Q6J("disabled",Xe.concludedContractsControl.invalid),a.xp6(1),a.Q6J("disabled",!Xe.concludedContractsControl.invalid))},dependencies:[e.sg,e.O5,e.tP,at.zx,me.JJ,_t.T,me.oH,Ni.H,Be.U,or.k,za._,Vs,e.uU],styles:["[_nghost-%COMP%]{display:flex;position:relative}"]}),Ee})();function zr(Ee,Bt){if(1&Ee&&a._UZ(0,"app-active-work-logs-panel",8),2&Ee){const ie=a.oxw().ngIf;a.Q6J("workLogs",ie.value)}}function wc(Ee,Bt){if(1&Ee&&(a.ynx(0),a.YNc(1,zr,1,1,"app-active-work-logs-panel",7),a.BQk()),2&Ee){const ie=a.oxw(2);a.xp6(1),a.Q6J("ngIf",!ie.isActiveWorkEmpty)}}function zs(Ee,Bt){if(1&Ee&&a._UZ(0,"app-after-work-panel",10),2&Ee){const ie=a.oxw().ngIf;a.Q6J("afterWorks",ie.value)}}function tu(Ee,Bt){if(1&Ee&&(a.ynx(0),a.YNc(1,zs,1,1,"app-after-work-panel",9),a.BQk()),2&Ee){const ie=a.oxw(2);a.xp6(1),a.Q6J("ngIf",!ie.isAfterWorkEmpty)}}function nu(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",1),a.NdJ("mouseenter",function(){a.CHM(ie);const nn=a.oxw();return a.KtG(nn.dockPanelHover())})("mouseleave",function(){a.CHM(ie);const nn=a.oxw();return a.KtG(nn.dockPanelUnhover())}),a._UZ(1,"div",2)(2,"span",3,4),a.TgZ(4,"div",5),a.YNc(5,wc,2,1,"ng-container",6),a.ALo(6,"async"),a.YNc(7,tu,2,1,"ng-container",6),a.ALo(8,"async"),a.qZA()()}if(2&Ee){const ie=a.MAs(3),Xe=a.oxw();a.Q6J("dragHandle",ie),a.xp6(1),a.Udp("opacity",Xe.dockPanelHovered?"1":"0"),a.xp6(1),a.Udp("opacity",Xe.dockPanelHovered?"1":".1"),a.xp6(2),a.Udp("opacity",Xe.dockPanelHovered?"1":".5"),a.xp6(1),a.Q6J("ngIf",a.lcZ(6,9,Xe.activeWorkLogService.employeeWorkLogs$)),a.xp6(2),a.Q6J("ngIf",a.lcZ(8,11,Xe.afterWorkService.afterWorks$))}}let Ec=(()=>{class Ee{constructor(ie,Xe){this.afterWorkService=ie,this.activeWorkLogService=Xe,this.dockPanelHovered=!1}get isActiveWorkEmpty(){return this.activeWorkLogService.isEmpty}get isAfterWorkEmpty(){return this.afterWorkService.isEmpty}get isAllEmpty(){return this.isAfterWorkEmpty&&this.isActiveWorkEmpty}ngOnInit(){}dockPanelHover(){this.dockPanelHovered=!0}dockPanelUnhover(){this.dockPanelHovered=!1}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(a.Y36(Tc),a.Y36(Xc))},Ee.\u0275cmp=a.Xpm({type:Ee,selectors:[["app-float-dock-panel"]],decls:1,vars:1,consts:[["class","fixed bottom-0 right-0 mb-8 mr-5 p-3 flex flex-column gap-3 border-round-xl","appFreeDrag","",3,"dragHandle","mouseenter","mouseleave",4,"ngIf"],["appFreeDrag","",1,"fixed","bottom-0","right-0","mb-8","mr-5","p-3","flex","flex-column","gap-3","border-round-xl",3,"dragHandle","mouseenter","mouseleave"],[1,"absolute","top-0","left-0","w-full","h-full","border-round-xl","border-1","border-bluegray-300","transition-all","transition-duration-150"],[1,"mdi-drag_indicator","align-self-end","cursor-move","border-bluegray-300","transition-all","transition-duration-150","z-1"],["draghandle",""],[1,"flex","flex-column","gap-3","transition-all","transition-duration-150","align-items-center"],[4,"ngIf"],[3,"workLogs",4,"ngIf"],[3,"workLogs"],[3,"afterWorks",4,"ngIf"],[3,"afterWorks"]],template:function(ie,Xe){1&ie&&a.YNc(0,nu,9,13,"div",0),2&ie&&a.Q6J("ngIf",!Xe.isAllEmpty)},dependencies:[e.O5,Ds,di,Is,e.Ov]}),Ee})();class fl{constructor(){this.initialDate=new Date,this.timeOffset=0,this.value=0,this.thumbStyle={},this.isDisabled=!1,this.onChange=Bt=>{},this.onTouched=()=>{}}get time(){const Bt=Math.floor(this.value/36e5),ie=Math.floor((this.value-36e5*Bt)/6e4);return`${Bt<10?"0"+Bt:Bt}:${ie<10?"0"+ie:ie}`}writeValue(Bt){this.initialDate=Bt||new Date,this.updateDate()}registerOnChange(Bt){this.onChange=Bt}registerOnTouched(Bt){this.onTouched=Bt}setDisabledState(Bt){this.isDisabled=Bt}ngOnInit(){}wrapperInit(Bt){this.wrapper=Bt,this.updateThumbStyle(this.value)}changeValue(Bt){const ie=this.value%6e5;ie>0&&(this.value+=6e5-ie),this.changeTime()}updateDate(){this.timeOffset=this.initialDate.getTime()%864e5,this.value=this.timeOffset+108e5,this.changeTime()}changeTime(){this.onChange(new Date(this.initialDate.getTime()-(this.timeOffset+108e5)+this.value)),this.updateThumbStyle(this.value)}updateThumbStyle(Bt){if(!this.wrapper)return;const{width:ie}=this.wrapper.getBoundingClientRect();this.thumbStyle={bottom:"1rem",left:Bt/8634e4*ie+"px",transform:"translateX(-50%)"}}}fl.\u0275fac=function(Bt){return new(Bt||fl)},fl.\u0275cmp=a.Xpm({type:fl,selectors:[["app-time-picker"]],features:[a._Bn([{provide:me.JU,useExisting:fl,multi:!0}])],decls:5,vars:7,consts:[["id","wrapper",1,"flex","flex-column","gap-2","w-25rem","pt-6","relative"],["wrapper",""],[1,"font-semibold","absolute","bg-primary","text-white","border-round-2xl","shadow-1","p-2"],["styleClass","h-1rme",3,"ngModel","disabled","max","step","ngModelChange","onChange"]],template:function(Bt,ie){1&Bt&&(a.TgZ(0,"div",0,1)(2,"span",2),a._uU(3),a.qZA(),a.TgZ(4,"p-slider",3),a.NdJ("ngModelChange",function(nn){return ie.value=nn})("onChange",function(nn){return ie.changeValue(nn.value)}),a.qZA()()),2&Bt&&(a.xp6(2),a.Akn(ie.thumbStyle),a.xp6(1),a.Oqu(ie.time),a.xp6(1),a.Q6J("ngModel",ie.value)("disabled",ie.isDisabled)("max",8634e4)("step",6e5))},dependencies:[me.JJ,me.On,ir.iR]}),(0,P.gn)([(0,x._P)("wrapper")],fl.prototype,"wrapperInit",null);var Wu=b(6451),sc=b(9664);function Sc(Ee,Bt){1&Ee&&a.GkF(0)}const rc=function(Ee){return{session:Ee}};function Yu(Ee,Bt){if(1&Ee&&(a.ynx(0),a.YNc(1,Sc,1,0,"ng-container",4),a.BQk()),2&Ee){const ie=Bt.$implicit;a.oxw();const Xe=a.MAs(4);a.xp6(1),a.Q6J("ngTemplateOutlet",Xe)("ngTemplateOutletContext",a.VKq(2,rc,ie))}}function ac(Ee,Bt){if(1&Ee){const ie=a.EpF();a.TgZ(0,"div",5),a.NdJ("click",function(){const Sn=a.CHM(ie).session,Xn=a.oxw();return a.KtG(Xn.service.openTerminalDialog(Sn))}),a.TgZ(1,"span",6),a._uU(2),a.qZA(),a.TgZ(3,"span",7),a.NdJ("click",function(nn){const Xn=a.CHM(ie).session,Vi=a.oxw();return nn.stopPropagation(),a.KtG(Vi.service.removeSession(Xn.sessionId))}),a.qZA()()}if(2&Ee){const ie=Bt.session,Xe=a.oxw();a.Q6J("ngClass",Xe.service.isDialogOpen(ie.sessionId)?"border-primary text-white bg-primary cursor-default":"border-bluegray-500 cursor-pointer hover:bg-bluegray-50"),a.xp6(2),a.hij(" ",ie.name," ")}}const tp=function(Ee,Bt){return{flex:Ee,hidden:Bt}};let Sr=class{constructor(Bt){this.service=Bt,this.panelPosition={transform:"translate(-50%, 75%)",opacity:"0.5"},this.panelSub=(0,Wu.T)(this.panelMouseEnter$.pipe((0,Wi.U)(()=>!0)),(0,Wu.T)(this.panelMouseEnter$.pipe((0,Wi.U)(()=>!0)),this.panelMouseLeave$.pipe((0,Wi.U)(()=>!1))).pipe((0,Gs.b)(1e3),(0,Jo.h)(ie=>!ie))).pipe().subscribe(ie=>{ie?(this.panelPosition.transform="translate(-50%, 0%)",this.panelPosition.opacity="1"):(this.panelPosition.transform="translate(-50%, 75%)",this.panelPosition.opacity="0.5")})}ngOnInit(){}};Sr.\u0275fac=function(Bt){return new(Bt||Sr)(a.Y36(sc.M))},Sr.\u0275cmp=a.Xpm({type:Sr,selectors:[["app-terminal-float-panel"]],decls:5,vars:6,consts:[["id","wrapper-panel",1,"flex","p-2","gap-2","bg-white","border-1","border-primary-300","border-round-top-lg","shadow-2","w-fit","align-items-center","fixed","bottom-0","left-50","text-bluegray-500","transition-all","transition-duration-300",3,"ngClass","ngStyle"],[1,"mds-terminal","text-5xl"],[4,"ngFor","ngForOf"],["panelItemTemplate",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","gap-2","px-2","py-1","border-round-lg","border-1","align-items-center","select-none",3,"ngClass","click"],[1,"font-bold"],[1,"mdi-close","text-lg","hover:text-primary-700","cursor-pointer",3,"click"]],template:function(Bt,ie){1&Bt&&(a.TgZ(0,"div",0),a._UZ(1,"span",1),a.YNc(2,Yu,2,4,"ng-container",2),a.qZA(),a.YNc(3,ac,4,2,"ng-template",null,3,a.W1O)),2&Bt&&(a.Q6J("ngClass",a.WLB(3,tp,ie.service.sessions.length>0,0===ie.service.sessions.length))("ngStyle",ie.panelPosition),a.xp6(2),a.Q6J("ngForOf",ie.service.sessions))},dependencies:[e.mk,e.sg,e.tP,e.PC]}),(0,P.gn)([(0,x.v4)("wrapper-panel","mouseenter")],Sr.prototype,"panelMouseEnter$",void 0),(0,P.gn)([(0,x.v4)("wrapper-panel","mouseleave")],Sr.prototype,"panelMouseLeave$",void 0),Sr=(0,P.gn)([(0,x.kG)()],Sr);var Ja=b(5330),kc=b(430),ju=b(6081),np=b(7728),Ku=b(4119),Jr=b(417);let lc=(()=>{class Ee{}return Ee.\u0275fac=function(ie){return new(ie||Ee)},Ee.\u0275mod=a.oAB({type:Ee}),Ee.\u0275inj=a.cJS({providers:[{provide:tt.f,useFactory:ze},Ja.xA],imports:[It.z,e.ez,ct.$9,at.hJ,me.u5,De.kW,ot.L$,Ct.A,Ot.S,Ft.LU,Mt.TX,X.L,Ye.EV,st.j,je.zz,se.QG,Fe.m,Tn.nD,en.JP,_t.y,qt.q4,gn.n,Qt.e4,Mn.E,me.UX,ti,Co.qH,Wo.l,Xo.U,rs.ON,os._8,ho.u,la,Zs.D,Lr.q,ir.JH,We,Ni.T,yt.x,Yt.Qy,Ne.WN,Ue.U$,mt.ce,Lt._t,an.S,To.kK,No.xc,Br.w,Hs.W6,Ic.f,Va.Iu,el.vI,Ja.DL,kc.qZ]}),Ee})();a.B6R(N,[e.mk,e.sg,e.O5,R.rH,R.Od,el.xV,G,cn.C],[]),a.B6R(j.o,[e.mk,e.O5,e.tP,e.RF,e.n9,e.ED,me.Fj,me.JJ,me.On,De.Lt,ot.Rn,Ct.g,st.o,el.xV,_.h,he.k,gt.Z,ai,Vn,An.a,ks,pl,xc,qr.r],[e.Ov]),a.B6R(fe.h,[e.O5,e.tP,e.RF,e.n9,e.ED,R.rH,N],[e.Ov]),a.B6R(zt.E,[e.mk,e.sg,e.O5,e.tP,ct.v2,R.rH,at.zx,me.Fj,me.JJ,me.On,Mo.jx,Ct.g,X.G,Tn.XZ,_t.T,me.oH,ho.b,Ut.g,So.C,qc.a,Ju.g,Ll.s,$c.M],[np.A,e.Ov,e.OU,e.uU]),a.B6R(W.h,[e.mk,e.sg,e.O5,e.tP,R.lC,R.rH,at.zx,si.aV,Mo.jx,Mt.Ct,X.G,Ye.FN,ho.b,gs,Zs.Q,d.J,f.r,Wt,li,Go.j,Ns,Mr,jo,Ec,Sr],[e.Ov]),a.B6R(Be.U,[e.O5,R.rH,Mo.jx,Fe.O,_t.T,zt.E],[]),a.B6R(vi.x,[e.O5,e.RF,e.n9,Mo.jx,Fe.O,_t.T,u.A],[]),a.B6R(xo.y,[e.O5,Mo.jx,Fe.O,_t.T,u.A],[]),a.B6R($i._,[e.sg,vi.x],[]),a.B6R(pr.S,[e.mk,e.sg,e.O5,e.RF,e.n9,Ku.u,at.zx,Mo.jx,Ft.xf,Ft.x4,_t.T,Ue.iA,Et.g,Jt.j,ju.G],[Jr.t,e.Ov,e.rS,e.uU]),a.B6R(So.C,[e.sg,e.O5,e.RF,e.n9,e.ED,Ku.u,Ca,va],[]),a.B6R($c.M,[me.JJ,Mo.jx,Ot.V,me.oH,os.f,f.r,fl],[e.uU])},9925:(hn,ht,b)=>{"use strict";b.d(ht,{z:()=>u});var e=b(9808),d=b(5e3);let u=(()=>{class f{}return f.\u0275fac=function(P){return new(P||f)},f.\u0275mod=d.oAB({type:f}),f.\u0275inj=d.cJS({imports:[e.ez]}),f})()},975:(hn,ht,b)=>{"use strict";b.r(ht),b.d(ht,{LoginModule:()=>Ke});var e=b(3470),d=b(2382),u=b(4e3),f=b(158),_=b(5e3),P=b(8738),x=b(8028),a=b(1424),R=b(9808),L=b(845);function V(be,Ge){1&be&&(_.TgZ(0,"span",9),_._uU(1,"\u041b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0432\u0435\u0440\u043d\u044b"),_.qZA()),2&be&&_.Q6J("@fade",void 0)}const T=[{path:"",component:(()=>{class be{constructor(ee,xe,we){this.api=ee,this.personalityService=xe,this.router=we,this.loginForm=new d.cw({login:new d.NI("",d.kI.required),password:new d.NI("",d.kI.required)}),this.isWrongCredentials=!1,this.isLogining=!1}ngOnInit(){}setWrongCredentials(){this.wrongCredentialsTimer&&clearTimeout(this.wrongCredentialsTimer),this.isWrongCredentials=!0,this.wrongCredentialsTimer=setTimeout(()=>this.isWrongCredentials=!1,3e3)}signIn(){!this.loginForm.valid||(this.isLogining=!0,this.api.signIn(this.loginForm.getRawValue()).subscribe({next:ee=>{this.personalityService.updateMe().subscribe(),this.router.resetConfig(f._),setTimeout(()=>this.router.navigate(["/"]).then(()=>this.isLogining=!1),100)},error:ee=>{this.setWrongCredentials(),this.isLogining=!1}}))}}return be.\u0275fac=function(ee){return new(ee||be)(_.Y36(P.s),_.Y36(x.F),_.Y36(e.F0))},be.\u0275cmp=_.Xpm({type:be,selectors:[["ng-component"]],decls:15,vars:5,consts:[[1,"page-wrapper"],[1,"login-panel",3,"formGroup","keyup.enter"],[1,"caption"],["src","assets/logo-dark.svg"],[1,"input-label-wrapper","full-width"],["formControlName","login","pInputText","",3,"autocomplete"],["formControlName","password","pInputText","","type","password",3,"autocomplete"],["styleClass","b-stretched p-button-outlined","icon","mdi-login","label","\u0412\u043e\u0439\u0442\u0438",3,"loading","onClick"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(ee,xe){1&ee&&(_.TgZ(0,"div",0)(1,"form",1),_.NdJ("keyup.enter",function(){return xe.signIn()}),_.TgZ(2,"span",2),_._UZ(3,"img",3),_.qZA(),_.TgZ(4,"span",4)(5,"label"),_._uU(6,"\u041b\u043e\u0433\u0438\u043d"),_.qZA(),_._UZ(7,"input",5),_.qZA(),_.TgZ(8,"span",4)(9,"label"),_._uU(10,"\u041f\u0430\u0440\u043e\u043b\u044c"),_.qZA(),_._UZ(11,"input",6),_.qZA(),_._UZ(12,"span"),_.TgZ(13,"p-button",7),_.NdJ("onClick",function(){return xe.signIn()}),_.qZA()(),_.YNc(14,V,2,1,"span",8),_.qZA()),2&ee&&(_.xp6(1),_.Q6J("formGroup",xe.loginForm),_.xp6(6),_.Q6J("autocomplete","off"),_.xp6(4),_.Q6J("autocomplete","off"),_.xp6(2),_.Q6J("loading",xe.isLogining),_.xp6(1),_.Q6J("ngIf",xe.isWrongCredentials))},dependencies:[a.o,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u,R.O5,L.zx],styles:[".page-wrapper[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center}.page-wrapper[_ngcontent-%COMP%]   .login-panel[_ngcontent-%COMP%]{width:max-content;height:max-content;min-width:27rem;display:flex;flex-direction:column;gap:1rem;padding:2rem;border-radius:1rem;background-color:#fff;box-shadow:var(--shadow-200)}.error-message[_ngcontent-%COMP%]{position:absolute;background-color:#f56262;color:#fff;border-radius:.5rem;padding:.7rem 1rem;font-size:.9rem;font-weight:700;bottom:10%}"],data:{animation:[u.U1]}}),be})()}];let y=(()=>{class be{}return be.\u0275fac=function(ee){return new(ee||be)},be.\u0275mod=_.oAB({type:be}),be.\u0275inj=_.cJS({imports:[e.Bz.forChild(T),e.Bz]}),be})();var D=b(1777),k=b(5730),B=b(9783),N=b(5921);const ce=["input"];function $(be,Ge){if(1&be){const ee=_.EpF();_.TgZ(0,"i",5),_.NdJ("click",function(){_.CHM(ee);const we=_.oxw();return _.KtG(we.clear())}),_.qZA()}}function z(be,Ge){if(1&be){const ee=_.EpF();_.TgZ(0,"i",6),_.NdJ("click",function(){_.CHM(ee);const we=_.oxw();return _.KtG(we.onMaskToggle())}),_.ALo(1,"mapper"),_.qZA()}if(2&be){const ee=_.oxw();_.Q6J("ngClass",_.xi3(1,1,ee.unmasked,ee.toggleIconClass))}}function S(be,Ge){1&be&&_.GkF(0)}function O(be,Ge){1&be&&_.GkF(0)}function K(be,Ge){if(1&be&&(_.ynx(0),_.YNc(1,O,1,0,"ng-container",8),_.BQk()),2&be){const ee=_.oxw(2);_.xp6(1),_.Q6J("ngTemplateOutlet",ee.contentTemplate)}}const ue=function(be){return{width:be}};function q(be,Ge){if(1&be&&(_.TgZ(0,"div",11),_._UZ(1,"div",0),_.ALo(2,"mapper"),_.qZA(),_.TgZ(3,"div",12),_._uU(4),_.qZA()),2&be){const ee=_.oxw(2);_.xp6(1),_.Q6J("ngClass",_.xi3(2,3,ee.meter,ee.strengthClass))("ngStyle",_.VKq(6,ue,ee.meter?ee.meter.width:"")),_.xp6(3),_.Oqu(ee.infoText)}}function G(be,Ge){1&be&&_.GkF(0)}const j=function(be,Ge){return{showTransitionParams:be,hideTransitionParams:Ge}},fe=function(be){return{value:"visible",params:be}};function ne(be,Ge){if(1&be){const ee=_.EpF();_.TgZ(0,"div",6,7),_.NdJ("click",function(we){_.CHM(ee);const Pe=_.oxw();return _.KtG(Pe.onOverlayClick(we))})("@overlayAnimation.start",function(we){_.CHM(ee);const Pe=_.oxw();return _.KtG(Pe.onAnimationStart(we))})("@overlayAnimation.done",function(we){_.CHM(ee);const Pe=_.oxw();return _.KtG(Pe.onAnimationEnd(we))}),_.YNc(2,S,1,0,"ng-container",8),_.YNc(3,K,2,1,"ng-container",9),_.YNc(4,q,5,8,"ng-template",null,10,_.W1O),_.YNc(6,G,1,0,"ng-container",8),_.qZA()}if(2&be){const ee=_.MAs(5),xe=_.oxw();_.Q6J("ngClass","p-password-panel p-component")("@overlayAnimation",_.VKq(9,fe,_.WLB(6,j,xe.showTransitionOptions,xe.hideTransitionOptions))),_.xp6(2),_.Q6J("ngTemplateOutlet",xe.headerTemplate),_.xp6(1),_.Q6J("ngIf",xe.contentTemplate)("ngIfElse",ee),_.xp6(3),_.Q6J("ngTemplateOutlet",xe.footerTemplate)}}let X=(()=>{class be{transform(ee,xe,...we){return xe(ee,...we)}}return be.\u0275fac=function(ee){return new(ee||be)},be.\u0275pipe=_.Yjl({name:"mapper",type:be,pure:!0}),be})();const W={provide:d.JU,useExisting:(0,_.Gpc)(()=>Y),multi:!0};let Y=(()=>{class be{constructor(ee,xe,we,Pe){this.cd=ee,this.config=xe,this.el=we,this.overlayService=Pe,this.mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})",this.strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})",this.feedback=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.showClear=!1,this.onFocus=new _.vpe,this.onBlur=new _.vpe,this.onClear=new _.vpe,this.overlayVisible=!1,this.focused=!1,this.unmasked=!1,this.value=null,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(ee=>{switch(ee.getType()){case"content":default:this.contentTemplate=ee.template;break;case"header":this.headerTemplate=ee.template;break;case"footer":this.footerTemplate=ee.template}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(ee){switch(ee.toState){case"visible":this.overlay=ee.element,N.P9.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null}}onAnimationEnd(ee){"void"===ee.toState&&N.P9.clear(ee.element)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=k.p.getOuterWidth(this.input.nativeElement)+"px",k.p.absolutePosition(this.overlay,this.input.nativeElement)):k.p.relativePosition(this.overlay,this.input.nativeElement)}onInput(ee){this.value=ee.target.value,this.onModelChange(this.value),this.onModelTouched()}onInputFocus(ee){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(ee)}onInputBlur(ee){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onBlur.emit(ee)}onKeyDown(ee){"Escape"===ee.key&&(this.overlayVisible=!1)}onKeyUp(ee){this.feedback&&(this.updateUI(ee.target.value),this.overlayVisible||(this.overlayVisible=!0))}updateUI(ee){let xe=null,we=null;switch(this.testStrength(ee)){case 1:xe=this.weakText(),we={strength:"weak",width:"33.33%"};break;case 2:xe=this.mediumText(),we={strength:"medium",width:"66.66%"};break;case 3:xe=this.strongText(),we={strength:"strong",width:"100%"};break;default:xe=this.promptText(),we=null}this.meter=we,this.infoText=xe}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(ee){this.overlayService.add({originalEvent:ee,target:this.el.nativeElement})}testStrength(ee){let xe=0;return this.strongCheckRegExp.test(ee)?xe=3:this.mediumCheckRegExp.test(ee)?xe=2:ee.length&&(xe=1),xe}writeValue(ee){this.value=void 0===ee?null:ee,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(ee){this.onModelChange=ee}registerOnTouched(ee){this.onModelTouched=ee}setDisabledState(ee){this.disabled=ee}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new k.V(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()}bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!k.p.isTouchDevice()&&(this.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}containerClass(ee){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":ee}}inputFieldClass(ee){return{"p-password-input":!0,"p-disabled":ee}}toggleIconClass(ee){return ee?"pi pi-eye-slash":"pi pi-eye"}strengthClass(ee){return`p-password-strength ${ee?ee.strength:""}`}filled(){return null!=this.value&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(B.ws.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(B.ws.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(B.ws.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(B.ws.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&("body"===this.appendTo?document.body.removeChild(this.overlay):document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(ee){return ee?"text":"password"}getTranslation(ee){return this.config.getTranslation(ee)}clear(){this.value=null,this.onModelChange(this.value),this.writeValue(this.value),this.onClear.emit()}ngOnDestroy(){this.overlay&&(N.P9.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}}return be.\u0275fac=function(ee){return new(ee||be)(_.Y36(_.sBO),_.Y36(B.b4),_.Y36(_.SBq),_.Y36(B.F0))},be.\u0275cmp=_.Xpm({type:be,selectors:[["p-password"]],contentQueries:function(ee,xe,we){if(1&ee&&_.Suo(we,B.jx,4),2&ee){let Pe;_.iGM(Pe=_.CRH())&&(xe.templates=Pe)}},viewQuery:function(ee,xe){if(1&ee&&_.Gf(ce,5),2&ee){let we;_.iGM(we=_.CRH())&&(xe.input=we.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:8,hostBindings:function(ee,xe){2&ee&&_.ekj("p-inputwrapper-filled",xe.filled())("p-inputwrapper-focus",xe.focused)("p-password-clearable",xe.showClear)("p-password-mask",xe.toggleMask)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",label:"label",disabled:"disabled",promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",strongLabel:"strongLabel",inputId:"inputId",feedback:"feedback",appendTo:"appendTo",toggleMask:"toggleMask",inputStyleClass:"inputStyleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",placeholder:"placeholder",showClear:"showClear"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClear:"onClear"},features:[_._Bn([W])],decls:9,vars:27,consts:[[3,"ngClass","ngStyle"],["pInputText","",3,"ngClass","ngStyle","value","input","focus","blur","keyup","keydown"],["input",""],["class","p-password-clear-icon pi pi-times",3,"click",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[1,"p-password-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","click"],["overlay",""],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["content",""],[1,"p-password-meter"],["className","p-password-info"]],template:function(ee,xe){1&ee&&(_.TgZ(0,"div",0),_.ALo(1,"mapper"),_.TgZ(2,"input",1,2),_.NdJ("input",function(Pe){return xe.onInput(Pe)})("focus",function(Pe){return xe.onInputFocus(Pe)})("blur",function(Pe){return xe.onInputBlur(Pe)})("keyup",function(Pe){return xe.onKeyUp(Pe)})("keydown",function(Pe){return xe.onKeyDown(Pe)}),_.ALo(4,"mapper"),_.ALo(5,"mapper"),_.qZA(),_.YNc(6,$,1,0,"i",3),_.YNc(7,z,2,4,"i",4),_.YNc(8,ne,7,11,"div",4),_.qZA()),2&ee&&(_.Tol(xe.styleClass),_.Q6J("ngClass",_.xi3(1,18,xe.toggleMask,xe.containerClass))("ngStyle",xe.style),_.xp6(2),_.Tol(xe.inputStyleClass),_.Q6J("ngClass",_.xi3(4,21,xe.disabled,xe.inputFieldClass))("ngStyle",xe.inputStyle)("value",xe.value),_.uIk("label",xe.label)("aria-label",xe.ariaLabel)("aria-labelledBy",xe.ariaLabelledBy)("id",xe.inputId)("type",_.xi3(5,24,xe.unmasked,xe.inputType))("placeholder",xe.placeholder),_.xp6(4),_.Q6J("ngIf",xe.showClear&&null!=xe.value),_.xp6(1),_.Q6J("ngIf",xe.toggleMask),_.xp6(1),_.Q6J("ngIf",xe.overlayVisible))},dependencies:[R.mk,R.O5,R.tP,R.PC,a.o,X],styles:[".p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0%;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}.p-password-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-password-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,D.X$)("overlayAnimation",[(0,D.eR)(":enter",[(0,D.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,D.jt)("{{showTransitionParams}}")]),(0,D.eR)(":leave",[(0,D.jt)("{{hideTransitionParams}}",(0,D.oB)({opacity:0}))])])]},changeDetection:0}),be})(),Te=(()=>{class be{}return be.\u0275fac=function(ee){return new(ee||be)},be.\u0275mod=_.oAB({type:be}),be.\u0275inj=_.cJS({imports:[R.ez,a.j,B.m8]}),be})();var Ae=b(8913);let Ke=(()=>{class be{}return be.\u0275fac=function(ee){return new(ee||be)},be.\u0275mod=_.oAB({type:be}),be.\u0275inj=_.cJS({imports:[y,a.j,Te,Ae.U,d.UX,L.hJ]}),be})()},2022:(hn,ht,b)=>{"use strict";b.r(ht),b.d(ht,{MainModule:()=>SZ});var e=b(5e3),d=b(3470),u=b(4e3),f=b(2382),_=b(383),P=b(4280),x=b(4968),a=b(9300),R=b(3900),L=b(8738),V=b(8028),F=b(9783),T=b(2248),y=b(5072),D=b(446),k=b(6502);let B=(()=>{class n{constructor(t){this.host=t,this.limited=!1,this.shift=0,"complete"===document.readyState&&setTimeout(this.onResize.bind(this),0)}onLoad(){}onResize(){const{y:t}=this.host.element.nativeElement.getBoundingClientRect(),i=window.innerHeight;this.limited||(this.host.element.nativeElement.style.minHeight=i-(t<0?0:t)-this.shift+"px"),this.limited&&(this.host.element.nativeElement.style.height=i-(t<0?0:t)-this.shift+"px")}onScroll(t){this.onResize()}ngAfterViewInit(){this.onResize()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.s_b))},n.\u0275dir=e.lG2({type:n,selectors:[["","appExtendPageHeight",""]],hostBindings:function(t,i){1&t&&e.NdJ("load",function(){return i.onLoad()},!1,e.Jf7)("resize",function(){return i.onResize()},!1,e.Jf7)("scroll",function(p){return i.onScroll(p)},!1,e.Jf7)},inputs:{limited:"limited",shift:"shift"}}),n})();var N=b(2145);function ce(n,o){if(1&n&&(e.TgZ(0,"div",3),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}function $(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}let z=(()=>{class n{constructor(t){this.api=t,this.control=new f.NI([]),this.suggestions=[],this.onChange=i=>{},this.onTouched=()=>{}}ngOnInit(){this.subscription=this.control.valueChanges.subscribe(t=>{this.onChange(null!=t?t:[])})}search(t){this.api.getAvailableObserversSuggestions(t.query).subscribe(i=>{this.suggestions=i})}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}setDisabledState(t){t?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.control.setValue(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-observer-selector-input"]],features:[e._Bn([{provide:f.JU,useExisting:n,multi:!0}])],decls:3,vars:7,consts:[["emptyMessage","\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b","styleClass","w-full block transparent-ac-token","inputStyleClass","w-7rem","field","name","placeholder","\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438","appendTo","body",3,"formControl","showClear","showEmptyMessage","suggestions","forceSelection","completeOnFocus","multiple","onBlur","completeMethod"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"text-xs","text-primary-400","px-2","py-1","bg-primary-50","border-round-md","font-bold"]],template:function(t,i){1&t&&(e.TgZ(0,"p-autoComplete",0),e.NdJ("onBlur",function(){return i.onTouched()})("completeMethod",function(p){return i.search(p)}),e.YNc(1,ce,2,1,"ng-template",1),e.YNc(2,$,2,1,"ng-template",2),e.qZA()),2&t&&e.Q6J("formControl",i.control)("showClear",!0)("showEmptyMessage",!0)("suggestions",i.suggestions)("forceSelection",!0)("completeOnFocus",!0)("multiple",!0)},dependencies:[f.JJ,F.jx,f.oH,N.Qc],styles:["[_nghost-%COMP%]{display:flex}"]}),n})();var S=b(9808),O=b(845),K=b(8050);const ue=["inputEl"];function q(n,o){1&n&&(e.TgZ(0,"span",7),e._uU(1,"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0435\u0433\u0438..."),e.qZA())}function G(n,o){if(1&n&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.Oqu(t.name)}}function j(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",9),e.NdJ("mouseenter",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.extraPreviewVisible=!0)})("mouseleave",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.extraPreviewVisible=!1)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.hij(" +",t.control.value.length-2," ")}}function fe(n,o){if(1&n&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.Oqu(t.name)}}const ne=function(n){return{disabled:n}};function J(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.focusing())}),e.YNc(1,q,2,0,"span",3),e.YNc(2,G,2,3,"span",4),e.ALo(3,"slice"),e.YNc(4,j,2,1,"span",5),e.TgZ(5,"p-overlay",6),e.NdJ("visibleChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.extraPreviewVisible=s)}),e.YNc(6,fe,2,3,"span",4),e.ALo(7,"slice"),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(15,ne,t.control.disabled)),e.xp6(1),e.Q6J("ngIf",0===(null==t.control.value?null:t.control.value.length)),e.xp6(1),e.Q6J("ngForOf",e.Dn7(3,8,t.control.value,0,2))("ngForTrackBy",t.trackByTaskTag),e.xp6(2),e.Q6J("ngIf",t.control.value&&t.control.value.length>2),e.xp6(1),e.Q6J("visible",t.extraPreviewVisible),e.xp6(1),e.Q6J("ngForOf",e.xi3(7,12,t.control.value,2))("ngForTrackBy",t.trackByTaskTag)}}function X(n,o){if(1&n&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.Oqu(t.name)}}function W(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("color",t.color),e.xp6(1),e.hij(" ",t.name," ")}}function Y(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.accept())}),e.qZA()}}function Te(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"p-autoComplete",11,12),e.NdJ("completeMethod",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.search(s))}),e.YNc(3,X,2,3,"ng-template",13),e.YNc(4,W,2,3,"ng-template",14),e.qZA(),e.YNc(5,Y,1,0,"button",15),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formControl",t.control)("suggestions",t.suggestions)("multiple",!0)("completeOnFocus",!0),e.xp6(4),e.Q6J("ngIf",!t.autoAccept)}}let Ae=(()=>{class n{constructor(t){this.api=t,this._autoAccept=!1,this.control=new f.NI([]),this.suggestions=[],this.focused=!1,this.extraPreviewVisible=!1,this.previousVariableValue="",this.onChange=i=>{},this.onTouched=()=>{}}set autoAccept(t){var i;this._autoAccept=t,t&&(null===(i=this.changeSubscription)||void 0===i||i.unsubscribe(),this.changeSubscription=this.control.valueChanges.subscribe(s=>{this.onChange(s)}))}get autoAccept(){return this._autoAccept}search(t){this.api.getTaskTags(t.query).subscribe(i=>{this.suggestions=i.filter(s=>{var p;return!(null!==(p=this.control.value)&&void 0!==p&&p.some(w=>s.taskTagId===w.taskTagId))})})}trackByTaskTag(t,i){return i.taskTagId+i.name+i.color}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?(this.control.disable({emitEvent:!1}),this.focused=!1):this.control.enable({emitEvent:!1})}writeValue(t){this.control.setValue(t),this.previousVariableValue=JSON.stringify(t)}ngOnInit(){}ngOnDestroy(){var t;null===(t=this.changeSubscription)||void 0===t||t.unsubscribe()}accept(){JSON.stringify(this.control.value)!==this.previousVariableValue&&this.onChange(this.control.value),this.focused=!1}focusing(){this.control.disabled||(this.previousVariableValue=JSON.stringify(this.control.value),this.focused=!0,this.onTouched(),setTimeout(()=>{var t,i;null===(i=null===(t=this.inputEl)||void 0===t?void 0:t.multiInputEL)||void 0===i||i.nativeElement.focus()}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-tag-selector"]],viewQuery:function(t,i){if(1&t&&e.Gf(ue,5),2&t){let s;e.iGM(s=e.CRH())&&(i.inputEl=s.first)}},inputs:{autoAccept:"autoAccept"},features:[e._Bn([{provide:f.JU,multi:!0,useExisting:n}])],decls:2,vars:2,consts:[["class","p-component p-inputtext wrapper",3,"ngClass","click",4,"ngIf"],["class","p-inputgroup",4,"ngIf"],[1,"p-component","p-inputtext","wrapper",3,"ngClass","click"],["class","placeholder-text",4,"ngIf"],["class","tags-view-item",3,"background-color",4,"ngFor","ngForOf","ngForTrackBy"],["class","tags-view-item",3,"mouseenter","mouseleave",4,"ngIf"],["contentStyleClass","overlay flexed wrapped p10 gap5","showTransitionOptions","0ms","hideTransitionOptions","0ms","appendTo","body",3,"visible","visibleChange"],[1,"placeholder-text"],[1,"tags-view-item"],[1,"tags-view-item",3,"mouseenter","mouseleave"],[1,"p-inputgroup"],["styleClass","transparent-ac-token w-full","inputStyleClass","w-full","appendTo","body",3,"formControl","suggestions","multiple","completeOnFocus","completeMethod"],["inputEl",""],["pTemplate","selectedItem"],["pTemplate","item"],["pButton","","icon","mdi-save",3,"click",4,"ngIf"],["pButton","","icon","mdi-save",3,"click"]],template:function(t,i){1&t&&(e.YNc(0,J,8,17,"div",0),e.YNc(1,Te,6,5,"div",1)),2&t&&(e.Q6J("ngIf",!(i.focused||0===(null==i.control.value?null:i.control.value.length)&&i.control.disabled)),e.xp6(1),e.Q6J("ngIf",i.focused))},dependencies:[S.mk,S.sg,S.O5,O.Hq,f.JJ,K.aV,F.jx,f.oH,N.Qc,S.OU],styles:[".placeholder-text[_ngcontent-%COMP%]{color:var(--tc-400)}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;cursor:text}.wrapper.disabled[_ngcontent-%COMP%]{cursor:default}.wrapper[_ngcontent-%COMP%]:not(.disabled):hover{border-color:var(--mc-500)}"]}),n})();var Ke=b(4036),be=b(5787);const Ge=function(n,o){return{"p-button-icon":!0,"p-button-icon-left":n,"p-button-icon-right":o}};function ee(n,o){if(1&n&&e._UZ(0,"span",3),2&n){const t=e.oxw();e.Tol(t.checked?t.onIcon:t.offIcon),e.Q6J("ngClass",e.WLB(3,Ge,"left"===t.iconPos,"right"===t.iconPos))}}const xe=function(n,o,t){return{"p-button p-togglebutton p-component":!0,"p-button-icon-only":n,"p-highlight":o,"p-disabled":t}},we={provide:f.JU,useExisting:(0,e.Gpc)(()=>Pe),multi:!0};let Pe=(()=>{class n{constructor(t){this.cd=t,this.iconPos="left",this.onChange=new e.vpe,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}toggle(t){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:t,checked:this.checked}),this.cd.markForCheck())}onBlur(){this.onModelTouched()}writeValue(t){this.checked=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-toggleButton"]],hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:"tabindex",iconPos:"iconPos"},outputs:{onChange:"onChange"},features:[e._Bn([we])],decls:4,vars:12,consts:[["role","checkbox","pRipple","",3,"ngClass","ngStyle","click","keydown.enter"],[3,"class","ngClass",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(p){return i.toggle(p)})("keydown.enter",function(p){return i.toggle(p)}),e.YNc(1,ee,1,6,"span",1),e.TgZ(2,"span",2),e._uU(3),e.qZA()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass",e.kEZ(8,xe,i.onIcon&&i.offIcon&&!i.hasOnLabel&&!i.hasOffLabel,i.checked,i.disabled))("ngStyle",i.style),e.uIk("tabindex",i.disabled?null:"0")("aria-checked",i.checked),e.xp6(1),e.Q6J("ngIf",i.onIcon||i.offIcon),e.xp6(2),e.Oqu(i.checked?i.hasOnLabel?i.onLabel:"":i.hasOffLabel?i.offLabel:""))},dependencies:[S.mk,S.O5,S.PC,be.H],styles:['.p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child){border-right:0 none}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus{position:relative;z-index:1}'],changeDetection:0}),n})(),dt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[S.ez,be.T]}),n})();var bt=b(3407),it=b(6198);function Dt(n,o){1&n&&e.GkF(0)}function vt(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Dt,1,0,"ng-container",7),e.BQk()),2&n){const t=e.oxw(),i=e.MAs(8),s=e.MAs(6);e.xp6(1),e.Q6J("ngIf",t.isTemplateSelected)("ngIfThen",i)("ngIfElse",s)}}function Wt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-template-input",23),e.NdJ("focusin",function(){const p=e.CHM(t).index,w=e.oxw(2);return e.KtG(w.currentFieldFocus=p)})("focusout",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.currentFieldFocus=void 0)}),e.qZA()}if(2&n){const t=o.$implicit;e.Q6J("formControlName",t.id)("field",t)}}function zt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"span",17),e._uU(2,"\u0422\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.TgZ(3,"p-dropdown",24),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.type=s)})("ngModelChange",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.changeTaskType(s))}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("options",t.types)("ngModel",t.type)}}function Ut(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"span",17),e._uU(2,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"),e.qZA(),e.TgZ(3,"p-dropdown",25),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.directory=s)}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("options",t.directories)("ngModel",t.directory)}}function ct(n,o){1&n&&(e.TgZ(0,"span",26),e._UZ(1,"span",27),e.TgZ(2,"span"),e._uU(3," \u0414\u043b\u044f \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0443 \u0432\u0430\u0441 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430 \u0432 \u0441\u0442\u0430\u0440\u044b\u0438\u0306 \u0442\u0440\u0435\u043a\u0435\u0440 "),e.qZA()())}function at(n,o){if(1&n&&e._UZ(0,"app-avatar",28),2&n){const t=e.oxw(2);e.Q6J("name",t.personality.me.fullName)("src",t.personality.me.avatar)("size",3)}}function me(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9),e.YNc(2,Wt,1,2,"app-task-template-input",10),e.qZA(),e.TgZ(3,"div",11)(4,"div",12),e.YNc(5,zt,4,2,"div",13),e.YNc(6,Ut,4,2,"div",13),e.TgZ(7,"p-toggleButton",14),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.isDuplicateInOldTracker=s)}),e.qZA(),e.YNc(8,ct,4,0,"span",15),e.qZA(),e.TgZ(9,"div",16)(10,"span",17),e._uU(11,"\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438"),e.qZA(),e.TgZ(12,"app-observer-selector-input",18),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.initialObservers=s)}),e.qZA()(),e.TgZ(13,"div",16)(14,"span",17),e._uU(15,"\u0422\u0435\u0433\u0438"),e.qZA(),e.TgZ(16,"app-task-tag-selector",19),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.initialTags=s)}),e.qZA()(),e.TgZ(17,"div",16)(18,"span",17),e._uU(19,"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),e.qZA(),e.TgZ(20,"div",20),e.YNc(21,at,1,3,"app-avatar",21),e.TgZ(22,"textarea",22),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.initialComment=s)}),e.qZA()()()()()}if(2&n){const t=e.oxw();e.Q6J("@flow",void 0),e.xp6(1),e.Q6J("@swipeChild",t.currentStepFields.length)("formGroup",t.currentStepForm),e.xp6(1),e.Q6J("ngForOf",t.currentStepFields),e.xp6(3),e.Q6J("ngIf",t.types.length>0),e.xp6(1),e.Q6J("ngIf",t.directories.length>0),e.xp6(1),e.Q6J("ngModel",t.isDuplicateInOldTracker)("disabled",!t.isCurrentTypeHasBind||!t.isUserHasOldTrackerCredentials),e.xp6(1),e.Q6J("ngIf",!t.isUserHasOldTrackerCredentials),e.xp6(4),e.Q6J("ngModel",t.initialObservers),e.xp6(4),e.Q6J("autoAccept",!0)("ngModel",t.initialTags),e.xp6(5),e.Q6J("ngIf",t.personality.me),e.xp6(1),e.Q6J("autoResize",!0)("rows",5)("ngModel",t.initialComment)}}function De(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31),e._UZ(1,"div",32),e.TgZ(2,"app-button",33),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.changeCreationStep(1))}),e.qZA()()}if(2&n){const t=e.oxw(2);let i;e.xp6(2),e.Q6J("label",null!==(i=t.nextStepName)&&void 0!==i?i:"\u0414\u0430\u043b\u0435\u0435")}}function ot(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"app-button",34),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.changeCreationStep(-1))}),e.qZA(),e._UZ(2,"div",32),e.TgZ(3,"app-button",33),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.changeCreationStep(1))}),e.qZA()()}if(2&n){const t=e.oxw(2);let i,s;e.xp6(1),e.Q6J("label",null!==(i=t.prevStepName)&&void 0!==i?i:"\u041d\u0430\u0437\u0430\u0434"),e.xp6(2),e.Q6J("label",null!==(s=t.nextStepName)&&void 0!==s?s:"\u0414\u0430\u043b\u0435\u0435")}}function Ct(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"app-button",34),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.changeCreationStep(-1))}),e.qZA(),e._UZ(2,"div",32),e.TgZ(3,"p-button",35),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createTaskAndClose())}),e.qZA(),e.TgZ(4,"p-button",36),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createTask())}),e.qZA()()}if(2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("label",null!==(i=t.prevStepName)&&void 0!==i?i:"\u041d\u0430\u0437\u0430\u0434")}}function Ot(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31),e._UZ(1,"div",32),e.TgZ(2,"p-button",35),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createTaskAndClose())}),e.qZA(),e.TgZ(3,"p-button",36),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createTask())}),e.qZA()()}}function Ft(n,o){if(1&n&&(e.ynx(0,29),e.YNc(1,De,3,1,"div",30),e.YNc(2,ot,4,2,"div",30),e.YNc(3,Ct,5,1,"div",30),e.YNc(4,Ot,4,0,"div",30),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.controlsType()),e.xp6(1),e.Q6J("ngSwitchCase","NEXT_ONLY"),e.xp6(1),e.Q6J("ngSwitchCase","BOTH"),e.xp6(1),e.Q6J("ngSwitchCase","PREV_FIN"),e.xp6(1),e.Q6J("ngSwitchCase","FIN_ONLY")}}const Mt=function(){return[]};function Ye(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",37)(1,"span",38),e._uU(2,"\u041a\u043b\u0430\u0441\u0441 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.TgZ(3,"div",39)(4,"p-dropdown",40),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.selectedTemplate=s)}),e.ALo(5,"async"),e.qZA(),e.TgZ(6,"app-button",41),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.selectTemplateForTask())}),e.qZA()()()}if(2&n){const t=e.oxw();let i;e.xp6(4),e.Q6J("ngModel",t.selectedTemplate)("disabled",t.isTemplateSelected)("options",null!==(i=e.lcZ(5,4,t.templateOptionsList$))&&void 0!==i?i:e.DdM(6,Mt)),e.xp6(2),e.Q6J("disabled",t.isTemplateSelected)}}function st(n,o){1&n&&e.GkF(0)}function je(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"div",43)(2,"span",44),e._uU(3,"\u041a\u043b\u0430\u0441\u0441"),e.qZA(),e.TgZ(4,"span",45),e._uU(5),e.qZA()(),e.TgZ(6,"app-button",46),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.unselectTemplateForTask())}),e.qZA(),e._UZ(7,"div",47),e.YNc(8,st,1,0,"ng-container",48),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(4);e.xp6(5),e.Oqu(null==t.selectedTemplate?null:t.selectedTemplate.name),e.xp6(1),e.Q6J("disabled",!t.isTemplateSelected),e.xp6(2),e.Q6J("ngTemplateOutlet",i)}}function It(n,o){1&n&&(e.TgZ(0,"div",49),e._UZ(1,"p-progressSpinner",50),e.qZA())}var se=(()=>{return(n=se||(se={})).NEXT_ONLY="NEXT_ONLY",n.BOTH="BOTH",n.PREV_FIN="PREV_FIN",n.FIN_ONLY="FIN_ONLY",n.NONE="NONE",se;var n})();let Fe=(()=>{class n{constructor(t,i,s,p,w){this.api=t,this.route=i,this.personality=s,this.toast=p,this.taskCreation=w,this.templateOptionsList$=this.api.getWireframes(),this.isTemplateSelected=!1,this.currentStep=0,this.isCreatedTask=!1,this.taskCreationForm=new f.Oe([]),this.openMode="standard",this.subscriptions=new _.xf,this.initialObservers=[],this.initialTags=[],this.types=[],this.directories=[],this.isDuplicateInOldTracker=!0,this.enterPressed$=(0,x.R)(document.body,"keydown").pipe((0,a.h)(Q=>"Tab"===Q.key),(0,a.h)(()=>this.controlsType()===se.NEXT_ONLY||this.controlsType()===se.BOTH),(0,a.h)(()=>this.isValidCurrentStep),(0,a.h)(()=>this.currentStepFields.length-1===this.currentFieldFocus)),this._selectedTemplate=null,this.openBillingCreationWindowHandle={next:Q=>{this.selectedTemplate=Q,this.selectTemplateForTask()},error:()=>{window.close()}},document.body.classList.add("whited")}get selectedTemplate(){return this._selectedTemplate}set selectedTemplate(t){var i,s;this._selectedTemplate=t,null!=t&&t.stages?(this.types=null!==(i=t.stages.sort((p,w)=>p.orderIndex-w.orderIndex))&&void 0!==i?i:[],this.type=this.types[0].stageId,this.directories=this.types[0].directories?this.types[0].directories:[],this.directory=null===(s=this.directories[0])||void 0===s?void 0:s.taskTypeDirectoryId,this.isDuplicateInOldTracker=!!this.types[0].oldTrackerBind&&this.isUserHasOldTrackerCredentials):(this.types=[],this.type=void 0,this.directories=[],this.directory=void 0,this.isDuplicateInOldTracker=!1)}get nextStepName(){var t,i;return null===(i=null===(t=this.selectedTemplate)||void 0===t?void 0:t.steps[this.currentStep+1])||void 0===i?void 0:i.name}get prevStepName(){var t,i;return null===(i=null===(t=this.selectedTemplate)||void 0===t?void 0:t.steps[this.currentStep-1])||void 0===i?void 0:i.name}changeTaskType(t){t||(this.isDuplicateInOldTracker=!1);const i=this.types.find(s=>s.stageId===t);if(i)return this.isDuplicateInOldTracker=!!i.oldTrackerBind&&this.isUserHasOldTrackerCredentials,void(this.directories=i.directories);this.directories=[],this.isDuplicateInOldTracker=!1}get isUserHasOldTrackerCredentials(){var t;const i=null===(t=this.personality.me)||void 0===t?void 0:t.oldTrackerCredentials;return!!i&&!!i.username&&!!i.password}get currentStepFields(){var t,i;return this.isTemplateSelected&&null!==(i=null===(t=this.selectedTemplate)||void 0===t?void 0:t.steps[this.currentStep].fields)&&void 0!==i?i:[]}get currentStepForm(){return this.taskCreationForm.at(this.currentStep)}get isValidCurrentStep(){return this.currentStepForm.valid}get taskCreationBody(){if(!this.selectedTemplate)return null;const t=this.taskCreationForm.getRawValue().reduce((i,s)=>Object.assign(Object.assign({},i),s),{});return{wireframeId:this.selectedTemplate.wireframeId,childId:this.childId,parentId:this.parentId,fields:_.PU.convert(t,this.selectedTemplate),initialComment:this.initialComment,tags:this.initialTags,observers:this.initialObservers,type:this.type,directory:this.directory,isDuplicateInOldTracker:this.isDuplicateInOldTracker}}ngOnInit(){this.subscriptions.addSubscription("nextStep",this.enterPressed$.subscribe(()=>this.changeCreationStep(1))),window.addEventListener("message",t=>{const i=t.data;switch(this.openMode=i.mode,i.mode){case"standard":break;case"parent":this.parentId=i.dependencyIdentifier;break;case"child":this.childId=i.dependencyIdentifier;break;case"billing":i.wireframeId?(this.defaultValues=i.billingInfo,this.api.getWireframe(i.wireframeId).subscribe(this.openBillingCreationWindowHandle)):window.close()}},!1)}ngOnDestroy(){this.subscriptions.unsubscribeAll()}selectTemplateForTask(){var t;!this.selectedTemplate||(this.isTemplateSelected=!0,this.initialObservers=null!==(t=this.selectedTemplate.defaultObservers)&&void 0!==t?t:[],this.taskCreationForm=new f.Oe(this.selectedTemplate.steps.map(i=>new f.cw(i.fields.reduce((s,p)=>{let w=null;if(this.defaultValues)switch(p.name.toLowerCase()){case"\u043b\u043e\u0433\u0438\u043d":w=this.defaultValues.login;break;case"\u0430\u0434\u0440\u0435\u0441":w=this.defaultValues.address}return Object.assign(Object.assign({},s),{[p.id]:new f.NI(w,P.d.taskInput(p.type,p.variation))})},{})))))}unselectTemplateForTask(){this.selectedTemplate=null,this.isTemplateSelected=!1,this.currentStep=0,this.isTemplateSelected=!1}changeCreationStep(t=0){!this.isValidCurrentStep&&t>0?this.currentStepForm.markAllAsTouched():this.currentStep+=t}controlsType(){return this.selectedTemplate?0===this.currentStep?this.selectedTemplate.steps.length>1?se.NEXT_ONLY:se.FIN_ONLY:this.selectedTemplate.steps.length-1===this.currentStep?se.PREV_FIN:se.BOTH:se.NONE}get isCurrentTypeHasBind(){if(!this.type)return!1;const t=this.types.find(i=>i.stageId===this.type);return!!t&&!!t.oldTrackerBind}createTask(){this.taskCreationBody?this.taskCreationForm.valid?(this.isCreatedTask=!0,this.api.createTask(this.taskCreationBody).subscribe({next:()=>{this.isCreatedTask=!1,window.close()},error:()=>{this.isCreatedTask=!1}})):this.taskCreationForm.markAllAsTouched():this.toast.add({severity:"danger",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d \u0448\u0430\u0431\u043b\u043e\u043d \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438"})}createTaskAndClose(){this.taskCreationBody?this.taskCreationForm.valid?(this.isCreatedTask=!0,this.api.createTask(this.taskCreationBody).pipe((0,R.w)(t=>this.api.closeTask(t.taskId))).subscribe({next:t=>{this.isCreatedTask=!1,window.close()},error:()=>{this.isCreatedTask=!1}})):this.taskCreationForm.markAllAsTouched():this.toast.add({severity:"danger",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d \u0448\u0430\u0431\u043b\u043e\u043d \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(d.gz),e.Y36(V.F),e.Y36(F.ez),e.Y36(T.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:10,vars:6,consts:[["appExtendPageHeight","",1,"flexed","gap10","column"],[4,"ngIf","ngIfElse"],["class","stage-view",4,"ngIf"],["controls",""],["unselectedTemplatePanel",""],["selectedTemplatePanel",""],["class","stub-when-creating-a-task",4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"stage-view"],[1,"flex","flex-column","p-3","gap-3",3,"formGroup"],["class","flex-grow-1",3,"formControlName","field","focusin","focusout",4,"ngFor","ngForOf"],[1,"flex","flex-column","gap-3","mt-3"],[1,"flex","flex-wrap","gap-3","align-items-end"],["class","flex flex-column gap-1",4,"ngIf"],["onLabel","\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0441\u0442\u0430\u0440\u044b\u0439 \u0442\u0440\u0435\u043a\u0435\u0440","offLabel","\u041d\u0435 \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0441\u0442\u0430\u0440\u044b\u0439 \u0442\u0440\u0435\u043a\u0435\u0440","styleClass","white-space-nowrap",3,"ngModel","disabled","ngModelChange"],["class","font-bold text-sm text-orange-400 flex gap-2 align-items-center",4,"ngIf"],[1,"flex","flex-column","gap-1"],[1,"font-semibold","text-lg","text-bluegray-400"],[3,"ngModel","ngModelChange"],[3,"autoAccept","ngModel","ngModelChange"],[1,"flex","gap-2"],[3,"name","src","size",4,"ngIf"],["pInputTextarea","","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",1,"flex-grow-1",3,"autoResize","rows","ngModel","ngModelChange"],[1,"flex-grow-1",3,"formControlName","field","focusin","focusout"],["optionValue","stageId",3,"options","ngModel","ngModelChange"],["placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u0430\u0442\u0430\u043b\u043e\u0433","optionLabel","name","optionValue","taskTypeDirectoryId",3,"options","ngModel","ngModelChange"],[1,"font-bold","text-sm","text-orange-400","flex","gap-2","align-items-center"],[1,"mdi-warning"],[3,"name","src","size"],[3,"ngSwitch"],["class","flex gap-3",4,"ngSwitchCase"],[1,"flex","gap-3"],[1,"stretched"],["icon","navigate_next","iconPos","right",3,"label","onClick"],["icon","navigate_before","model","p-button-text p-button-secondary",3,"label","onClick"],["icon","mdi-add_circle_outline","styleClass","p-button-secondary p-button-outlined","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0438 \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",3,"onClick"],["icon","mdi-add_circle_outline","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"onClick"],[1,"flexed","gap10","column"],[1,"header400"],[1,"flexed","gap5","hcenter"],["optionLabel","name","placeholder","\u041a\u043b\u0430\u0441\u0441\u044b \u0437\u0430\u0434\u0430\u0447",3,"ngModel","disabled","options","ngModelChange"],["icon","done","label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","model","fit-content p-button-success",3,"disabled","onClick"],[1,"flex","align-items-center","gap-2"],[1,"flex","flex-column"],[1,"text-bluegray-500"],[1,"text-bluegray-500","text-lg","font-bold"],["icon","published_with_changes","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u044b\u0431\u043e\u0440","model","p-button-text p-button-danger fit-content",3,"disabled","onClick"],[1,"flex-grow-1"],[4,"ngTemplateOutlet"],[1,"stub-when-creating-a-task"],[1,"white-spinner"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,vt,2,3,"ng-container",1),e.YNc(2,me,23,16,"div",2),e.qZA(),e.YNc(3,Ft,5,5,"ng-template",null,3,e.W1O),e.YNc(5,Ye,7,7,"ng-template",null,4,e.W1O),e.YNc(7,je,9,3,"ng-template",null,5,e.W1O),e.YNc(9,It,2,0,"div",6)),2&t){const s=e.MAs(8);e.Udp("padding","0 2rem 2rem 2rem"),e.xp6(1),e.Q6J("ngIf","billing"!=i.openMode)("ngIfElse",s),e.xp6(1),e.Q6J("ngIf",i.isTemplateSelected),e.xp6(7),e.Q6J("ngIf",i.isCreatedTask)}},dependencies:[y.A,D.r,k.o,B,z,Ae,f.Fj,f.JJ,f.JL,f.On,S.sg,f.sg,f.u,Ke.Lt,Pe,S.O5,bt.g,O.zx,S.tP,S.RF,S.n9,it.G,S.Ov],styles:[".stage-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:0 2rem;width:100%;max-width:54rem;align-self:center}.stub-when-creating-a-task[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;z-index:10000;display:flex;justify-content:center;align-items:center;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}"],data:{animation:[u.U1,u.ls,u.x$]}}),n})();var he=b(7384),gt=b(4004),cn=b(4782),Tn=b(9646),en=b(4326),_t=b(9014),tt=b(1514),de=b(8007),Qe=b(963);const ze=["filesInput"],Et=["taskActualDateSetPanel"],Be=["commentEditor"],qt=["taskLinkingDialog"],gn=["workLogsDialogEl"],Qt=["fileInput"],Mn=["oldTrackerPanel"];function Nt(n,o){1&n&&(e.ynx(0),e._UZ(1,"p-progressSpinner",49),e.BQk())}function rn(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",50)(2,"div",51),e._UZ(3,"span",52),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"p-button",53),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.customNav.backOrDefault(["/tasks","catalog"]))}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(5),e.hij(" \u0417\u0430\u0434\u0430\u0447\u0438 #",t.taskId," \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 ")}}function Bn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",78)(1,"p-button",79),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.customNav.backOrDefault(["/tasks","catalog"]))}),e.qZA(),e.TgZ(2,"div",80)(3,"span",81),e._uU(4),e.qZA(),e.TgZ(5,"div",82)(6,"span"),e._uU(7,"\u0422\u0438\u043f:"),e.qZA(),e.TgZ(8,"app-tiny-button",83),e.NdJ("onClick",function(s){e.CHM(t),e.oxw(2);const p=e.MAs(57);return e.KtG(p.toggle(s))}),e.qZA()()()()}if(2&n){const t=e.oxw(2);let i,s;e.xp6(4),e.Oqu(null!==(i=null==t.currentTask||null==t.currentTask.modelWireframe?null:t.currentTask.modelWireframe.name)&&void 0!==i?i:""),e.xp6(4),e.Q6J("disabled",!(null!=t.currentTask&&t.currentTask.currentStage)||"CLOSE"===(null==t.currentTask?null:t.currentTask.taskStatus))("label",null!==(s=null==t.currentTask||null==t.currentTask.currentStage?null:t.currentTask.currentStage.label)&&void 0!==s?s:"\u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430")("size",.9)}}function Hn(n,o){1&n&&e.GkF(0)}function ai(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Hn,1,0,"ng-container",85),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw(3),i=e.MAs(62),s=e.MAs(64);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,t.isBeforeActualFrom$))("ngIfThen",i)("ngIfElse",s)}}function vi(n,o){if(1&n&&(e.YNc(0,ai,3,5,"ng-container",84),e.ALo(1,"async")),2&n){const t=e.oxw(2);e.Q6J("ngIf",(null==t.currentTask?null:t.currentTask.actualTo)||(null==t.currentTask?null:t.currentTask.actualFrom)&&e.lcZ(1,1,t.isBeforeActualFrom$))}}function Ni(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",89),e._UZ(1,"i",90),e.TgZ(2,"div",80),e._UZ(3,"app-employee-label",91),e.TgZ(4,"div",92),e._uU(5),e.qZA()(),e._UZ(6,"div",93),e.TgZ(7,"p-button",94),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.replyComment=void 0)}),e.qZA()()}if(2&n){const t=e.oxw(3);e.Udp("padding","1rem 1.5rem"),e.xp6(3),e.Q6J("employee",t.replyComment.creator)("size",2),e.xp6(2),e.hij(" ",t.replyComment.simpleText," "),e.xp6(2),e.Q6J("disabled",t.commentInputForm.disabled)}}function io(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",89),e._UZ(1,"i",95),e.TgZ(2,"div",96)(3,"span"),e._uU(4,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(5,"div",97),e._uU(6),e.qZA()(),e._UZ(7,"div",93),e.TgZ(8,"p-button",94),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(3);return s.editComment=void 0,e.KtG(s.commentInputForm.reset({text:"",files:[]}))}),e.qZA()()}if(2&n){const t=e.oxw(3);e.Udp("padding","1rem 1.5rem"),e.xp6(6),e.hij(" ",t.editComment.simpleText," "),e.xp6(2),e.Q6J("disabled",t.commentInputForm.disabled)}}function Ho(n,o){1&n&&e._UZ(0,"app-file-input",103,104),2&n&&e.Q6J("short",!0)}function Ht(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",98)(2,"p-button",99),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(4);return e.KtG(s.commentEditorMode="extended")}),e.qZA(),e.TgZ(3,"textarea",100),e.NdJ("keydown",function(s){e.CHM(t);const p=e.oxw(4);return e.KtG(p.sendCommentByEnter(s))})("paste",function(s){e.CHM(t);const p=e.oxw(4);return e.KtG(p.pasteFiles(s))}),e.qZA(),e.YNc(4,Ho,2,1,"app-file-input",101),e.TgZ(5,"p-button",102),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(4);return e.KtG(s.sendComment())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(4);e.xp6(1),e.Udp("padding",".5rem 1rem"),e.Q6J("@fadeIn",void 0),e.xp6(1),e.Q6J("disabled",t.commentInputForm.disabled),e.xp6(1),e.Q6J("disabled",t.isTaskClose()),e.xp6(1),e.Q6J("ngIf",!t.editComment),e.xp6(1),e.Q6J("disabled",t.commentInputForm.disabled)}}function Je(n,o){1&n&&e._UZ(0,"app-file-input",112,104)}const ye=function(){return{maxHeight:"30vh",minHeight:"10rem",overflow:"auto"}};function He(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",105)(2,"span",106)(3,"p-button",107),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(4);return s.commentEditorMode="simple",e.KtG(s.clearCommentText())}),e.qZA(),e._UZ(4,"div",93),e.YNc(5,Je,2,0,"app-file-input",108),e.TgZ(6,"p-button",109),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(4);return e.KtG(s.sendComment())}),e.qZA()(),e.TgZ(7,"quill-editor",110,111),e.NdJ("keydown",function(s){e.CHM(t);const p=e.oxw(4);return e.KtG(p.sendCommentByEnter(s))})("onContentChanged",function(s){e.CHM(t),e.oxw(4);const p=e.MAs(60);return e.KtG(p.setQuillEvent(s))})("paste",function(s){e.CHM(t);const p=e.oxw(4);return e.KtG(p.pasteFiles(s))}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(4);e.xp6(1),e.Udp("padding","1rem 1rem"),e.Q6J("@fadeIn",void 0),e.xp6(2),e.Q6J("disabled",t.commentInputForm.disabled),e.xp6(2),e.Q6J("ngIf",!t.editComment),e.xp6(1),e.Q6J("disabled",t.commentInputForm.disabled),e.xp6(1),e.Q6J("disabled",t.isTaskClose())("formats",t.quillFormats)("modules",t.quillModules)("styles",e.DdM(10,ye))}}function ut(n,o){if(1&n&&(e.ynx(0,1),e.YNc(1,Ht,6,7,"ng-container",2),e.YNc(2,He,9,11,"ng-container",2),e.BQk()),2&n){const t=e.oxw(3);e.Q6J("ngSwitch",t.commentEditorMode),e.xp6(1),e.Q6J("ngSwitchCase","simple"),e.xp6(1),e.Q6J("ngSwitchCase","extended")}}function dn(n,o){if(1&n&&(e.TgZ(0,"div",86),e.YNc(1,Ni,8,6,"div",87),e.YNc(2,io,9,4,"div",87),e.YNc(3,ut,3,3,"ng-container",88),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("formGroup",t.commentInputForm),e.xp6(1),e.Q6J("ngIf",t.replyComment),e.xp6(1),e.Q6J("ngIf",t.editComment),e.xp6(1),e.Q6J("ngIf",!t.isTaskClose())}}function In(n,o){if(1&n&&(e.TgZ(0,"div",69)(1,"div",70),e._UZ(2,"span",72),e.TgZ(3,"span"),e._uU(4," \u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 "),e.qZA()(),e.TgZ(5,"span"),e._UZ(6,"app-employee-label",73),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("employee",null==t.currentTask?null:t.currentTask.responsible)}}function Rt(n,o){1&n&&e._UZ(0,"app-employee-label",73),2&n&&e.Q6J("employee",o.$implicit)}function bn(n,o){if(1&n&&(e.TgZ(0,"div",113)(1,"div",70),e._UZ(2,"span",114),e.TgZ(3,"span"),e._uU(4," \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438 "),e.qZA()(),e.TgZ(5,"span",115),e.YNc(6,Rt,1,1,"app-employee-label",116),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",t.activeWorkLog.employees)}}function yn(n,o){1&n&&e._UZ(0,"app-department-label",118),2&n&&e.Q6J("department",o.$implicit)}function Wn(n,o){1&n&&e._UZ(0,"app-employee-label",73),2&n&&e.Q6J("employee",o.$implicit)}function ii(n,o){if(1&n&&(e.TgZ(0,"div",113)(1,"div",70),e._UZ(2,"span",114),e.TgZ(3,"span"),e._uU(4," \u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438 "),e.qZA()(),e.TgZ(5,"span",115),e.YNc(6,yn,1,1,"app-department-label",117),e.YNc(7,Wn,1,1,"app-employee-label",116),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",null==t.currentTask?null:t.currentTask.departmentsObservers),e.xp6(1),e.Q6J("ngForOf",null==t.currentTask?null:t.currentTask.employeesObservers)}}function pi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-tiny-button",128),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(4);return e.KtG(s.unlinkParentTask())}),e.qZA()}}function ti(n,o){if(1&n&&(e.TgZ(0,"div",124)(1,"span",125),e._uU(2,"\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f:"),e.qZA(),e._UZ(3,"app-task-link",126),e.YNc(4,pi,1,0,"app-tiny-button",127),e.qZA()),2&n){const t=e.oxw(3);let i;e.xp6(3),e.Q6J("taskId",null!==(i=null==t.currentTask?null:t.currentTask.parent)&&void 0!==i?i:0),e.xp6(1),e.Q6J("ngIf",!(null==t.currentTask||!t.currentTask.parent))}}function Di(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",131),e._UZ(1,"app-task-link",61),e.TgZ(2,"app-tiny-button",128),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(4);return e.KtG(w.unlinkParentTask(p.taskId))}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Q6J("task",t)}}function qi(n,o){if(1&n&&(e.TgZ(0,"div",129)(1,"span"),e._uU(2,"\u0414\u043e\u0447\u0435\u0440\u043d\u0438\u0435:"),e.qZA(),e.TgZ(3,"div",96),e.YNc(4,Di,3,1,"span",130),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("ngForOf",null==t.currentTask?null:t.currentTask.children)}}function Do(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",113)(1,"div",70),e._UZ(2,"span",119),e.TgZ(3,"span"),e._uU(4," \u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 "),e.qZA(),e.TgZ(5,"app-tiny-button",120),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openTaskChainDialog())}),e.qZA()(),e.TgZ(6,"span",121),e.YNc(7,ti,5,2,"div",122),e.YNc(8,qi,5,1,"div",123),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("ngIf",t.isTaskHasParent()),e.xp6(1),e.Q6J("ngIf",t.isTaskHasChilds())}}const li=function(){return{border:"none"}};function Co(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",54)(2,"p-menubar",55),e.YNc(3,Bn,9,4,"ng-template",56),e.YNc(4,vi,2,3,"ng-template",57),e.qZA(),e.TgZ(5,"div",58)(6,"div",54)(7,"div",59)(8,"label"),e._uU(9,"\u0422\u0435\u0433\u0438"),e.qZA(),e._UZ(10,"app-task-tag-inline-selector",60),e.qZA(),e._UZ(11,"app-task-fields-table-view",61),e.qZA()(),e.TgZ(12,"div",62)(13,"span",63)(14,"span"),e._uU(15," \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 "),e.qZA(),e.TgZ(16,"p-dropdown",64),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.taskJournalSorting=s)}),e.qZA(),e.TgZ(17,"p-toggleButton",65),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.taskEventsVisible=s)}),e.qZA()(),e.TgZ(18,"app-task-journal",66),e.NdJ("editCommentChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.editCommentChanged(s))})("onFirstLoad",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.journalVisible=s)})("editCommentChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.editComment=s)})("replyCommentChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.replyComment=s)}),e.qZA()(),e.YNc(19,dn,4,4,"div",67),e.qZA(),e.TgZ(20,"div",68)(21,"div",69)(22,"div",70),e._UZ(23,"span",71),e.TgZ(24,"span"),e._uU(25," \u0421\u0442\u0430\u0442\u0443\u0441 "),e.qZA()(),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"taskStatus"),e.qZA()(),e.TgZ(29,"div",69)(30,"div",70),e._UZ(31,"span",72),e.TgZ(32,"span"),e._uU(33," \u0410\u0432\u0442\u043e\u0440 "),e.qZA()(),e.TgZ(34,"span"),e._UZ(35,"app-employee-label",73),e.qZA()(),e.TgZ(36,"div",69)(37,"div",70),e._UZ(38,"span",74),e.TgZ(39,"span"),e._uU(40," \u0421\u043e\u0437\u0434\u0430\u043d\u0430 "),e.qZA()(),e.TgZ(41,"span",75),e._uU(42),e.ALo(43,"titlecase"),e.ALo(44,"date"),e.qZA()(),e.YNc(45,In,7,1,"div",76),e.YNc(46,bn,7,1,"div",77),e.YNc(47,ii,8,2,"div",77),e.YNc(48,Do,9,2,"div",77),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(2),e.Akn(e.DdM(33,li)),e.Q6J("model",t.managementMenu),e.xp6(8),e.Q6J("formControl",t.installedTags),e.xp6(1),e.Q6J("task",t.currentTask),e.xp6(1),e.Q6J("hidden",!t.journalVisible),e.xp6(4),e.Q6J("ngModel",t.taskJournalSorting)("options",t.taskJournalSortingOptions),e.xp6(1),e.Q6J("ngModel",t.taskEventsVisible),e.xp6(1),e.Q6J("editComment",t.editComment)("replyComment",t.replyComment)("showEvents",t.taskEventsVisible)("sortingType",t.taskJournalSorting)("taskId",t.taskId),e.xp6(1),e.Q6J("ngIf",!t.isTaskClose()),e.xp6(1),e.Udp("top","10rem"),e.xp6(6),e.Tol(t.taskStatusColor),e.xp6(1),e.hij(" ",e.lcZ(28,26,t.currentTask)," "),e.xp6(8),e.Q6J("employee",null==t.currentTask?null:t.currentTask.creator),e.xp6(7),e.hij(" ",e.lcZ(43,28,e.xi3(44,30,null==t.currentTask?null:t.currentTask.created,"dd MMM yyyy HH:mm"))," "),e.xp6(3),e.Q6J("ngIf",null==t.currentTask?null:t.currentTask.responsible),e.xp6(1),e.Q6J("ngIf",t.activeWorkLog),e.xp6(1),e.Q6J("ngIf",t.isTaskHasObservers()),e.xp6(1),e.Q6J("ngIf",t.isTaskHasParent()||t.isTaskHasChilds())}}function Go(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",132)(1,"p-checkbox",133),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.selectedDepartmentObservers=s)}),e.qZA(),e.TgZ(2,"span",134),e._uU(3),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngModel",i.selectedDepartmentObservers)("value",t.departmentId),e.xp6(2),e.Oqu(t.name)}}function Wo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",132)(1,"p-checkbox",135),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.selectedEmployeeObservers=s)}),e.qZA(),e._UZ(2,"app-employee-label",91),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngModel",i.selectedEmployeeObservers)("value",t.login),e.xp6(1),e.Q6J("employee",t)("size",2.3)}}function xo(n,o){1&n&&(e.TgZ(0,"span",140),e._uU(1,"(\u0412\u044b\u0431\u0440\u0430\u043d)"),e.qZA())}const $i=function(n){return{selected:n}};function Xo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",136),e.NdJ("click",function(){const p=e.CHM(t).$implicit,w=e.oxw();return e.KtG(w.selectedEmployeeAsResponsible=p)}),e._UZ(1,"app-avatar",137),e.TgZ(2,"div",80)(3,"span",97),e._uU(4),e.qZA(),e.TgZ(5,"span",138),e._uU(6),e.qZA()(),e.YNc(7,xo,2,0,"span",139),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngClass",e.VKq(7,$i,(null==i.selectedEmployeeAsResponsible?null:i.selectedEmployeeAsResponsible.login)===t.login)),e.xp6(1),e.Q6J("name",t.fullName)("size",2.3)("src",t.avatar),e.xp6(3),e.Oqu(t.fullName),e.xp6(2),e.Oqu(null==t.department?null:t.department.name),e.xp6(1),e.Q6J("ngIf",(null==i.selectedEmployeeAsResponsible?null:i.selectedEmployeeAsResponsible.login)===t.login)}}const rs=function(){return{maxWidth:"45rem",minWidth:"35rem"}};function os(n,o){if(1&n&&e._UZ(0,"app-task-list-element",141),2&n){const t=o.$implicit;e.Akn(e.DdM(3,rs)),e.Q6J("item",t.data)}}function ho(n,o){if(1&n&&(e.TgZ(0,"div",142)(1,"span",124),e._uU(2," \u0412\u0440\u0435\u043c\u044f: "),e.TgZ(3,"span",143),e._uU(4),e.ALo(5,"date"),e.qZA()(),e.TgZ(6,"span",144),e._uU(7," \u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440: "),e._UZ(8,"app-employee-label",73),e.qZA(),e.TgZ(9,"span",143),e._uU(10),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.hij(" ",e.xi3(5,4,t.editTaskSnapshots[t.indexEditSnapshot].whenEdited,"dd MMMM yyyy HH:mm")," "),e.xp6(4),e.Q6J("employee",t.editTaskSnapshots[t.indexEditSnapshot].whoEdited),e.xp6(2),e.AsE(" \u0421\u043d\u0438\u043c\u043e\u043a ",t.indexEditSnapshot+1," \u0438\u0437 ",t.editTaskSnapshots.length," ")}}function oo(n,o){1&n&&(e.TgZ(0,"span",147),e._uU(1,"keyboard_double_arrow_right"),e.qZA())}function Bi(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td")(2,"span",145),e._uU(3),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e.YNc(7,oo,2,0,"span",146),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA()()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(3),e.hij(" ",t.before.name," "),e.xp6(2),e.hij(" ",t.before.textRepresentation," "),e.xp6(2),e.Q6J("ngIf",!i.areFieldsEqual(t.before,t.after)),e.xp6(2),e.hij(" ",t.after.textRepresentation," ")}}function Mo(n,o){if(1&n&&(e.TgZ(0,"div",148),e.ALo(1,"date"),e._UZ(2,"i",149),e.TgZ(3,"span"),e._uU(4," \u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0447\u0435\u0440\u0435\u0437 "),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"async"),e.qZA()()),2&n){const t=e.oxw();let i;e.Udp("color","#f7ce2a"),e.Q6J("pTooltip",null!==(i=e.xi3(1,4,null==t.currentTask?null:t.currentTask.actualFrom,"dd MMMM yyyy HH:mm"))&&void 0!==i?i:""),e.xp6(6),e.hij(" ",e.lcZ(7,7,t.actualFromTime$)," ")}}function es(n,o){if(1&n&&(e.TgZ(0,"div",148),e.ALo(1,"date"),e._UZ(2,"i",149),e.TgZ(3,"span"),e._uU(4," \u0421\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f "),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"async"),e.qZA()()),2&n){const t=e.oxw();let i;e.Udp("color","#ff512a"),e.Q6J("pTooltip",null!==(i=e.xi3(1,4,null==t.currentTask?null:t.currentTask.actualTo,"dd MMMM yyyy HH:mm"))&&void 0!==i?i:""),e.xp6(6),e.hij(" ",e.lcZ(7,7,t.actualToTime$)," ")}}function vo(n,o){if(1&n&&(e.TgZ(0,"div",158)(1,"span",159),e._uU(2,"\u041a\u043b\u0430\u0441\u0441 \u0437\u0430\u0434\u0430\u0447 \u0432 \u0441\u0442\u0430\u0440\u043e\u043c \u0442\u0440\u0435\u043a\u0435\u0440\u0435"),e.qZA(),e.TgZ(3,"span",160),e._uU(4),e.qZA()()),2&n){const t=o.ngIf;e.xp6(4),e.Oqu(t.name)}}function qo(n,o){if(1&n&&(e.TgZ(0,"span",161),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("@fadeIn",void 0),e.xp6(1),e.hij(" ",t.oldTrackerBindInfoForm.controls.id.errors.error," ")}}function Ls(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",162),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.bindTaskToTask())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("@fadeIn",void 0)("disabled",t.oldTrackerBindInfoForm.controls.id.invalid||t.oldTrackerBindInfoForm.controls.id.pending)("loading",t.isTaskInConnectionProcess)}}function ws(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",163),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.changeTaskStageInOldTracker())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("@fadeIn",void 0)("loading",t.isTaskInStageChangeProcess)}}const Rs=function(){return[]};function as(n,o){if(1&n&&(e.TgZ(0,"div",150),e.YNc(1,vo,5,1,"div",151),e.ALo(2,"async"),e.TgZ(3,"div",152)(4,"label"),e._uU(5,"ID \u0417\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(6,"input",153),e.YNc(7,qo,2,2,"span",154),e.qZA(),e.YNc(8,Ls,1,3,"p-button",155),e.TgZ(9,"div",152)(10,"label"),e._uU(11,"\u042d\u0442\u0430\u043f \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(12,"p-dropdown",156),e.ALo(13,"async"),e.qZA(),e.YNc(14,ws,1,2,"p-button",157),e.qZA()),2&n){const t=e.oxw();let i;e.Q6J("formGroup",t.oldTrackerBindInfoForm),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,7,t.currentOldTrackerClass$)),e.xp6(5),e.Q6J("readonly",t.isChangeOldTrackerBindDisabled),e.xp6(1),e.Q6J("ngIf",t.oldTrackerBindInfoForm.controls.id.errors),e.xp6(1),e.Q6J("ngIf",t.oldTrackerBindInfoForm.controls.id.dirty&&t.oldTrackerBindInfoForm.value.id&&!t.isChangeOldTrackerBindDisabled),e.xp6(4),e.Q6J("options",null!==(i=e.lcZ(13,9,t.oldTrackerStageOptions$))&&void 0!==i?i:e.DdM(11,Rs)),e.xp6(2),e.Q6J("ngIf",t.oldTrackerBindInfoForm.controls.taskStageId.dirty&&t.oldTrackerBindInfoForm.value.taskStageId&&t.isChangeOldTrackerBindDisabled)}}function Cr(n,o){1&n&&(e.TgZ(0,"div",164),e._UZ(1,"span",165),e.TgZ(2,"span"),e._uU(3," \u0414\u043b\u044f \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0437\u0430\u0434\u0430\u0447\u0438 \u0441\u043e \u0441\u0442\u0430\u0440\u044b\u043c \u0442\u0440\u0435\u043a\u0435\u0440\u043e\u043c \u043d\u0443\u0436\u043d\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043f\u0440\u0438\u0432\u044f\u0437\u043a\u0443 \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 "),e.qZA()())}const ga=function(){return{width:"50vw"}},vr=function(){return{"960px":"75vw","640px":"100vw"}},br=function(){return{width:"35rem",height:"50vh"}},Da=function(){return{"960px":"50vw","640px":"100vw"}},gs=function(){return{width:"60vw"}},la=function(){return{overflow:"auto",minHeight:"100%"}},Ns=function(){return{width:"75vw",maxHeight:"70vh"}},Wr=function(){return{"960px":"85vw","640px":"100vw"}};let Mr=(()=>{class n{constructor(t,i,s,p,w,Q,Ce,qe,$e){this.api=t,this.route=i,this.chatService=s,this.confirmation=p,this.toast=w,this.customNav=Q,this.rt=Ce,this.taskCreator=qe,this.commentCachingService=$e,this.loadingState=he.Gu.LOADING,this.commentSending=!1,this.quillModules=_.tg,this.attachedFiles=[],this.countAllAttachments=0,this.showFilesHistory=!1,this.stageMenuItems=[],this.showAppointInstallersMenu=!1,this.showChangeObserversDialog=!1,this.showTaskLinkingDialog=!1,this.taskLinkingType="parent",this.isLinkingBegin=!1,this.listOfChildTaskLinking=[],this.departmentList=[],this.employeeList=[],this.selectedDepartmentObservers=[],this.selectedEmployeeObservers=[],this.changingTaskObservers=!1,this.employees$=this.api.getEmployeesOptionsList(),this.linkingTaskSkeletonArray=Array.from({length:50}),this.subscriptions=new _.xf,this.taskChain=[],this.showTaskChainDialog=!1,this.listOfExistingTasksToLink=[],this.totalExistingTasksToLink=0,this.loadingExistingTasksToLink=!1,this.globalTaskSearchString="",this.taskCreationDateFilterForLinking=[],this.taskAuthorEmployeeFilter="",this.showChangeResponsibleDialog=!1,this.selectingResponsible=!1,this.schedulingTaskDialogVisible=!1,this.schedulingTaskType="from",this.showChatHistory=!1,this.isShowEditTaskDialog=!1,this.isShowEditHistoryDialog=!1,this.editTaskSnapshots=[],this.indexEditSnapshot=0,this.managementMenu=[],this.forceCloseWorkLogDialogVisible=!1,this.isForceClosingWorkLog=!1,this.commentInputForm=new f.cw({text:new f.NI(""),files:new f.NI([])}),this.commentEditorMode="simple",this.taskEventsVisible=!0,this.journalVisible=!1,this.installedTags=new f.NI([]),this.actualFromDurationCounter=new _.pd,this.actualFromTime$=this.actualFromDurationCounter.observer.pipe((0,gt.U)($t=>$t.actualLabel)),this.isBeforeActualFrom$=this.actualFromDurationCounter.observer.pipe((0,gt.U)($t=>"before"==$t.mode)),this.actualToDurationCounter=new _.pd,this.actualToTime$=this.actualToDurationCounter.observer.pipe((0,gt.U)($t=>"after"===$t.mode?"-"+$t.actualLabel:$t.actualLabel)),this.oldTrackerBindInfoForm=new f.cw({id:new f.NI(null,[],[this.compatibilityTaskValidator()]),taskClassId:new f.NI(null),taskStageId:new f.NI(null)}),this.oldTrackerClassOptions$=this.api.getOldTrackerClasses().pipe((0,cn.d)(1)),this.currentOldTrackerClass$=this.oldTrackerClassOptions$.pipe((0,gt.U)($t=>$t.find(jt=>{var Gt,fn,Rn;return jt.id===(null===(Rn=null===(fn=null===(Gt=this.currentTask)||void 0===Gt?void 0:Gt.currentStage)||void 0===fn?void 0:fn.oldTrackerBind)||void 0===Rn?void 0:Rn.classId)}))),this.oldTrackerStageOptions$=this.oldTrackerBindInfoForm.controls.taskClassId.valueChanges.pipe((0,R.w)($t=>this.oldTrackerClassOptions$.pipe((0,gt.U)(jt=>{var Gt,fn;return null!==(fn=null===(Gt=jt.find(Rn=>Rn.id===$t))||void 0===Gt?void 0:Gt.stages)&&void 0!==fn?fn:[]}))),(0,cn.d)(1)),this.isChangeOldTrackerBindDisabled=!1,this.isTaskInConnectionProcess=!1,this.isTaskInStageChangeProcess=!1,this._taskId=0,this.quillFormats=["background","bold","color","font","code","italic","link","size","strike","script","underline","blockquote","header","indent","list","align","direction","code-block","formula"],this.taskJournalSorting=_.Ke.loadOrDefault("taskJournalSortingType",he.Rh.CREATE_DATE_DESC),this.taskJournalSortingOptions=[{label:"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u043e\u0432\u044b\u0435",value:he.Rh.CREATE_DATE_DESC},{label:"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0442\u0430\u0440\u044b\u0435",value:he.Rh.CREATE_DATE_ASC}]}compatibilityTaskValidator(){return t=>this._taskId&&t.value?(0,Tn.of)(t.value).pipe((0,en.g)(1500),(0,R.w)(i=>this.api.checkCompatibility(this._taskId,i))):(0,Tn.of)({})}get taskStatusColor(){if(this.currentTask)switch(this.currentTask.taskStatus){case"ACTIVE":return"text-primary";case"PROCESSING":return"text-orange-400";case"CLOSE":return"text-bluegray-300"}return""}get taskId(){return this._taskId}set taskId(t){this._taskId=t,this.api.getTask(this._taskId).subscribe({next:i=>{var s;this.currentTask=i,this.loadingState=i.deleted?he.Gu.ERROR:he.Gu.READY,this.installedTags.setValue(null!==(s=i.tags)&&void 0!==s?s:[],{emitEvent:!1}),this.isTaskClose()?this.installedTags.disable({emitEvent:!1}):this.installedTags.enable({emitEvent:!1}),this.subscriptions.addSubscription("edTaskTg",this.installedTags.valueChanges.subscribe(p=>{!p||this.api.setTaskTags(i.taskId,p).subscribe()})),this.api.getActiveWorkLogByTaskId(i.taskId).subscribe(p=>{this.activeWorkLog=p}),this.orderFields(),this.stageMenuItems=this.getStageMenuItems(),this.subscriptions.addSubscription("taskUpd",this.rt.taskUpdated(t).subscribe(p=>{var w;this.currentTask=p,this.installedTags.setValue(null!==(w=p.tags)&&void 0!==w?w:[],{emitEvent:!1}),this.isTaskClose()?this.installedTags.disable({emitEvent:!1}):this.installedTags.enable({emitEvent:!1}),this.stageMenuItems=this.getStageMenuItems(),this.orderFields(),this.managementMenu=this.taskManagementMenu(),this.updateTaskActualTimers()})),this.managementMenu=this.taskManagementMenu(),this.updateTaskActualTimers()},error:()=>{this.loadingState=he.Gu.ERROR}})}get excludedTasks(){if(!this.currentTask)return[];const t=[];return this.currentTask.children&&this.currentTask.children.forEach(i=>t.push(i.taskId)),this.currentTask.parent&&t.push(this.currentTask.parent),t.push(this._taskId),t}trackSnapshotPair(t,i){return i.before.modelItemId}snapshotFieldPairs(t){if(!t)return[];const i=[];return t.beforeEditing.forEach(s=>{const p=t.afterEditing.find(w=>w.id===s.id);p&&i.push({before:s,after:p})}),i}areFieldsEqual(t,i){return JSON.stringify(t)===JSON.stringify(i)}ngOnInit(){this.route.params.subscribe(t=>{this.taskId=parseInt(t.id),this.api.getCountAllTaskAttachments(this._taskId).subscribe(i=>this.countAllAttachments=i),this.updateObservableList()}),this.commentInputForm.patchValue({text:this.commentCachingService.read(this.taskId)}),this.subscriptions.addSubscription("wlCrd",this.rt.workLogCreated().subscribe(this.workLogCreated.bind(this))),this.subscriptions.addSubscription("wlCls",this.rt.workLogClosed().subscribe(this.workLogClosed.bind(this))),this.subscriptions.addSubscription("comCh",this.commentInputForm.controls.text.valueChanges.subscribe(t=>{this.commentCachingService.write(this.taskId,null!=t?t:"")}))}updateObservableList(){this.api.getDepartments().subscribe(t=>{var i,s,p;this.departmentList=t,this.selectedDepartmentObservers=[];for(const w of t)w.departmentId&&null!==(p=null===(s=null===(i=this.currentTask)||void 0===i?void 0:i.departmentsObservers)||void 0===s?void 0:s.some(Q=>Q.departmentId===w.departmentId))&&void 0!==p&&p&&this.selectedDepartmentObservers.push(w.departmentId)}),this.api.getEmployees(void 0,!1,!1).subscribe(t=>{var i,s,p;this.employeeList=t,this.selectedEmployeeObservers=[];for(const w of t)w.login&&null!==(p=null===(s=null===(i=this.currentTask)||void 0===i?void 0:i.employeesObservers)||void 0===s?void 0:s.some(Q=>Q.login===w.login))&&void 0!==p&&p&&this.selectedEmployeeObservers.push(w.login)})}sendComment(){var t,i,s;const p=this.commentInputForm.getRawValue();if(0!==(null===(t=p.text)||void 0===t?void 0:t.trim().length)||0!==(null===(i=p.files)||void 0===i?void 0:i.length)){if(this.commentInputForm.disable({emitEvent:!1}),this.editComment){if(null===p.text||0===p.text.trim().length||p.text===this.editComment.message)return;return this.editComment.message=p.text,void this.api.updateComment(this.editComment).subscribe({complete:()=>{this.commentInputForm.enable({emitEvent:!1}),this.commentInputForm.reset({text:"",files:[]}),this.editComment=void 0},error:()=>this.commentInputForm.enable({emitEvent:!1})})}this.api.createComment(p.text,this._taskId,p.files,null===(s=this.replyComment)||void 0===s?void 0:s.commentId).subscribe({complete:()=>{this.commentInputForm.enable({emitEvent:!1}),this.commentInputForm.reset({text:"",files:[]}),this.replyComment=void 0,this.commentCachingService.flush(this.taskId)},error:()=>this.commentInputForm.enable({emitEvent:!1})})}}sendCommentByEnter(t){"Enter"===t.key&&t.ctrlKey&&this.sendComment()}deleteTask(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u0437\u0430\u0434\u0430\u0447\u0443?",accept:()=>this.api.deleteTask(this._taskId).subscribe()})}getStageMenuItems(){var t,i;return null!==(i=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)&&void 0!==i&&i.stages?this.currentTask.modelWireframe.stages.sort((s,p)=>s.orderIndex-p.orderIndex).map(s=>{var p,w,Q,Ce;return s.stageId==(null===(w=null===(p=this.currentTask)||void 0===p?void 0:p.currentStage)||void 0===w?void 0:w.stageId)?{label:null!==(Q=`${s.label}`)&&void 0!==Q?Q:"",disabled:!0,icon:"pi pi-fw pi-check"}:{label:null!==(Ce=s.label)&&void 0!==Ce?Ce:"",command:()=>this.api.changeTaskStage(this.taskId,s.stageId).subscribe(),icon:"pi pi-fw pi-chevron-circle-right"}}):[]}moveToNextStage(){var t,i;if(null===(i=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)||void 0===i||!i.stages)return;const s=this.currentTask.modelWireframe.stages.sort((w,Q)=>w.orderIndex-Q.orderIndex),p=s.findIndex(w=>{var Q,Ce;return w.stageId===(null===(Ce=null===(Q=this.currentTask)||void 0===Q?void 0:Q.currentStage)||void 0===Ce?void 0:Ce.stageId)});p<s.length-1&&this.api.changeTaskStage(this.taskId,s[p+1].stageId).subscribe()}isLastStage(){var t,i;if(null===(i=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)||void 0===i||!i.stages)return;const s=this.currentTask.modelWireframe.stages.sort((w,Q)=>w.orderIndex-Q.orderIndex);return s.findIndex(w=>{var Q,Ce;return w.stageId===(null===(Ce=null===(Q=this.currentTask)||void 0===Q?void 0:Q.currentStage)||void 0===Ce?void 0:Ce.stageId)})===s.length-1}editCommentChanged(t){this.commentInputForm.patchValue({text:t.message})}ngOnDestroy(){this.subscriptions.unsubscribeAll()}sendObservableList(){this.changingTaskObservers=!0,this.api.changeTaskObservers(this._taskId,this.selectedDepartmentObservers,this.selectedEmployeeObservers).subscribe({next:()=>{this.showChangeObserversDialog=!1,this.changingTaskObservers=!1},error:()=>{this.changingTaskObservers=!1}})}createLinkedTask(t){window.open(`/task/create?${t}=${this._taskId}`,"_blank",`popup=yes,width=800,height=800,left=${screen.width/2-400},top=${screen.height/2-400}`)}unlinkParentTask(t){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u041e\u0442\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443?",accept:()=>{this.api.unlinkParentTask(t||this._taskId).subscribe()}})}openTaskChainDialog(){var t,i;this.taskChain=[],null!==(t=this.currentTask)&&void 0!==t&&t.taskId&&this.api.getRootTask(null===(i=this.currentTask)||void 0===i?void 0:i.taskId).subscribe(s=>{this.taskChain=[{data:s,expanded:!0,type:"task",children:this.recursivelyCreatingChainOfTasks(s)}],this.showTaskChainDialog=!0})}changeTaskListPageToLink(t){var i,s,p,w;this.loadingExistingTasksToLink=!0;const Q=[this._taskId,...null!==(p=null===(s=null===(i=this.currentTask)||void 0===i?void 0:i.children)||void 0===s?void 0:s.map(Ce=>Ce.taskId))&&void 0!==p?p:[]];!(null===(w=this.currentTask)||void 0===w)&&w.parent&&Q.push(this.currentTask.parent),this.api.getPageOfTasks(t.page,{status:[he.hY.ACTIVE,he.hY.PROCESSING,he.hY.CLOSE],searchPhrase:this.globalTaskSearchString,author:this.taskAuthorEmployeeFilter,exclusionIds:Q}).subscribe({next:Ce=>{this.applyPageOfTasks(Ce),this.loadingExistingTasksToLink=!1},error:()=>{this.loadingExistingTasksToLink=!1}})}applyPageOfTasks(t){this.listOfExistingTasksToLink=t.content,this.totalExistingTasksToLink=t.totalElements}filteringTasksToLink(){setTimeout(()=>{this.changeTaskListPageToLink({page:0})})}openChangeResponsibleDialog(){var t;this.showChangeResponsibleDialog=!0,this.selectedEmployeeAsResponsible=null===(t=this.currentTask)||void 0===t?void 0:t.responsible}changeResponsible(){!this.selectedEmployeeAsResponsible||(this.selectingResponsible=!0,this.api.changeTaskResponsible(this._taskId,this.selectedEmployeeAsResponsible).subscribe({next:()=>{this.showChangeResponsibleDialog=!1,this.selectingResponsible=!1},error:()=>{this.selectingResponsible=!1}}))}confirmUnbindResponsible(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0431\u0440\u0430\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e?",accept:()=>{this.api.unbindResponsible(this._taskId).subscribe()}})}openChangeObserversDialog(){this.showChangeObserversDialog=!0,this.updateObservableList()}removeActualFromDate(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0430\u0442\u0443 \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0430?",accept:()=>{this.api.clearActualFromDate(this._taskId).subscribe()}})}removeActualToDate(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0430\u0442\u0443 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0437\u0430\u0434\u0430\u0447\u0438?",accept:()=>{this.api.clearActualToDate(this._taskId).subscribe()}})}closeTask(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443?",accept:()=>{this.api.closeTask(this._taskId).subscribe()}})}isTaskActive(){var t,i;return!(null===(t=this.currentTask)||void 0===t||!t.taskStatus)&&(null===(i=this.currentTask)||void 0===i?void 0:i.taskStatus)===he.hY.ACTIVE}isTaskProcessing(){var t,i;return!(null===(t=this.currentTask)||void 0===t||!t.taskStatus)&&(null===(i=this.currentTask)||void 0===i?void 0:i.taskStatus)===he.hY.PROCESSING}isTaskClose(){var t,i;return!(null===(t=this.currentTask)||void 0===t||!t.taskStatus)&&(null===(i=this.currentTask)||void 0===i?void 0:i.taskStatus)===he.hY.CLOSE}reopenTask(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u043d\u043e\u0432\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0434\u0430\u043d\u043d\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443?",accept:()=>{this.api.reopenTask(this._taskId).subscribe()}})}showEditHistoryDialog(){this.api.getEditTaskSnapshots(this._taskId).subscribe(t=>{this.editTaskSnapshots=t,this.indexEditSnapshot=0,this.isShowEditHistoryDialog=!0})}changeCurrentSnapshot(t){this.indexEditSnapshot+=t,this.indexEditSnapshot>this.editTaskSnapshots.length-1?this.indexEditSnapshot=0:this.indexEditSnapshot<0&&(this.indexEditSnapshot=this.editTaskSnapshots.length-1)}isTaskHasParent(){var t;return"number"==typeof(null===(t=this.currentTask)||void 0===t?void 0:t.parent)}isTaskHasChilds(){var t,i;return(null===(t=this.currentTask)||void 0===t?void 0:t.children)&&(null===(i=this.currentTask)||void 0===i?void 0:i.children.length)>0}isTaskHasObservers(){var t,i,s,p;return(null===(t=this.currentTask)||void 0===t?void 0:t.employeesObservers)&&(null===(i=this.currentTask)||void 0===i?void 0:i.employeesObservers.length)>0||(null===(s=this.currentTask)||void 0===s?void 0:s.departmentsObservers)&&(null===(p=this.currentTask)||void 0===p?void 0:p.departmentsObservers.length)>0}insertEmployeeToCommentEditor(t){setTimeout(()=>{var i,s;const p=null===(i=this.commentEditor)||void 0===i?void 0:i.quillEditor;if(!p)return;const w=p.getSelection(!0),Q=null!==(s=t.login+" ")&&void 0!==s?s:"";p.insertText(w.index,Q,"user"),p.setSelection(w.index+Q.length,0)},100)}forceFocusCommentInput(){var t;null===(t=this.commentEditor)||void 0===t||t.quillEditor.focus()}linkToParentTask(t){!t||this.api.changeLinkToParentTask(this._taskId,t).subscribe({next:()=>{},error:()=>{}})}linkToChildTasks(t){!t||0===t.length||this.api.appendLinksToChildrenTasks(this._taskId,t).subscribe({next:()=>{},error:()=>{}})}clearCommentText(){let t=this.commentInputForm.value.text;t&&(t=t.replace(/<\/?[^>]+(>|$)/g,"")),this.commentInputForm.patchValue({text:t})}workLogCreated(t){t.task.taskId===this._taskId&&(this.activeWorkLog=t)}workLogClosed(t){t.task.taskId===this._taskId&&(this.activeWorkLog=void 0)}openWorkLogsDialog(){!this.workLogsDialogEl||this.workLogsDialogEl.open(this._taskId)}taskManagementMenu(){var t,i,s,p;const w=null!==(p=null===(s=null===(i=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)||void 0===i?void 0:i.documentTemplates)||void 0===s?void 0:s.map(Q=>({label:Q.name,command:()=>{var Ce;window.open(`api/private/document-template?taskId=${null===(Ce=this.currentTask)||void 0===Ce?void 0:Ce.taskId}&documentTemplateId=${Q.documentTemplateId}`)}})))&&void 0!==p?p:[];return[{icon:"mdi-task",label:"\u0417\u0430\u0434\u0430\u0447\u0430",items:[{label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439",icon:"mdi-history",command:this.showEditHistoryDialog.bind(this)},{label:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b",icon:"mdi-document_scanner",disabled:0===w.length,items:w},{label:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439",icon:"mdi-person",items:[{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",icon:"mdi-edit",command:this.openChangeResponsibleDialog.bind(this)},{label:"\u0423\u0431\u0440\u0430\u0442\u044c",icon:"mdi-close",command:this.confirmUnbindResponsible.bind(this)}],disabled:this.isTaskClose()},{label:"\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438",icon:"mdi-groups",items:[{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",command:this.openChangeObserversDialog.bind(this)}],disabled:this.isTaskClose()},{label:"\u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",icon:"mdi-link",items:[{label:"\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f",icon:"mdi-call_merge",items:[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",icon:"mdi-add",command:()=>this.taskCreator.dependency("child",this._taskId)},{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",icon:"mdi-edit",command:()=>{var Q;null===(Q=this.taskLinkingDialog)||void 0===Q||Q.open("single")}}]},{label:"\u0414\u043e\u0447\u0435\u0440\u043d\u0438\u0435",icon:"mdi-call_split",items:[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",icon:"mdi-add",command:()=>this.taskCreator.dependency("parent",this._taskId)},{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",icon:"mdi-edit",command:()=>{var Q;null===(Q=this.taskLinkingDialog)||void 0===Q||Q.open("multiply")}}]}]},{label:"\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",icon:"mdi-schedule",items:[{label:"\u041d\u0430\u0447\u0430\u043b\u043e",icon:"mdi-pending_actions",items:[{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",command:()=>{this.schedulingTaskDialogVisible=!0,this.schedulingTaskType="from"}},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",command:()=>this.confirmUnbindDate("from")}]},{label:"\u041a\u043e\u043d\u0435\u0446",icon:"mdi-today",items:[{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",command:()=>{this.schedulingTaskDialogVisible=!0,this.schedulingTaskType="to"}},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",command:()=>this.confirmUnbindDate("to")}]}],disabled:this.isTaskClose()},{label:"\u041f\u0435\u0440\u0435\u043e\u0442\u043a\u0440\u044b\u0442\u044c",icon:"mdi-swipe_up_alt",command:this.reopenTask.bind(this),visible:this.isTaskClose()},{label:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",icon:"mdi-swipe_down_alt",command:this.closeTask.bind(this),visible:this.isTaskActive()},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"mdi-delete",command:this.deleteTask.bind(this),disabled:!this.isTaskActive()}]},{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",icon:"mdi-edit",command:()=>this.isShowEditTaskDialog=!0,disabled:this.isTaskClose()},{icon:"mdi-engineering",label:"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438",items:[{label:"\u041e\u0442\u0434\u0430\u0442\u044c \u0432 \u0440\u0430\u0431\u043e\u0442\u0443",icon:"mdi-how_to_reg",command:()=>this.showAppointInstallersMenu=!0,visible:this.isTaskActive()},{label:"\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u0431\u0440\u0430\u0442\u044c",icon:"mdi-assignment_return",command:()=>this.forceCloseWorkLogDialogVisible=!0,visible:this.isTaskProcessing()},{label:"\u041e\u0442\u0447\u0435\u0442\u044b",icon:"mdi-history_edu",command:this.openWorkLogsDialog.bind(this)}]},{icon:"mdi-inventory_2",label:"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b",command:()=>this.showFilesHistory=!0},{icon:"mdi-sync",label:"\u0421\u0442\u0430\u0440\u044b\u0439 \u0442\u0440\u0435\u043a\u0435\u0440",command:Q=>{this.openOldTrackerDialog(Q.originalEvent)}}]}updateTaskActualTimers(){var t,i;this.actualFromDurationCounter.setTime(null===(t=this.currentTask)||void 0===t?void 0:t.actualFrom),this.actualToDurationCounter.setTime(null===(i=this.currentTask)||void 0===i?void 0:i.actualTo)}orderFields(){var t,i,s,p;const w=[];null===(i=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)||void 0===i||i.steps.forEach(Q=>Q.fields.forEach(Ce=>w.push(Ce))),null===(p=null===(s=this.currentTask)||void 0===s?void 0:s.fields)||void 0===p||p.sort((Q,Ce)=>{var qe,$e,$t,jt;return(null!==($e=null===(qe=w.find(Rn=>Rn.id===Q.id))||void 0===qe?void 0:qe.orderPosition)&&void 0!==$e?$e:0)-(null!==(jt=null===($t=w.find(Rn=>Rn.id===Ce.id))||void 0===$t?void 0:$t.orderPosition)&&void 0!==jt?jt:0)})}recursivelyCreatingChainOfTasks(t){var i,s;return t&&null!==(s=null===(i=t.children)||void 0===i?void 0:i.map(p=>({data:p,expanded:!0,type:"task",children:this.recursivelyCreatingChainOfTasks(p)})))&&void 0!==s?s:[]}confirmUnbindDate(t){this.confirmation.confirm("from"===t?{header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0443\u044e \u0434\u0430\u0442\u0443?",accept:()=>this.api.clearActualFromDate(this.taskId).subscribe()}:{header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f?",accept:()=>this.api.clearActualToDate(this.taskId).subscribe()})}pasteFiles(t){var i;null===(i=this.fileInput)||void 0===i||i.appendFiles(t)}openOldTrackerDialog(t){var i,s,p;this.oldTrackerPanel&&this.currentTask&&(this.isChangeOldTrackerBindDisabled=!!this.currentTask.oldTrackerTaskId,this.isChangeOldTrackerBindDisabled&&this.oldTrackerBindInfoForm.setValue({id:null!==(i=this.currentTask.oldTrackerTaskId)&&void 0!==i?i:null,taskClassId:null!==(s=this.currentTask.oldTrackerTaskClassId)&&void 0!==s?s:null,taskStageId:null!==(p=this.currentTask.oldTrackerCurrentStageId)&&void 0!==p?p:null}),this.oldTrackerPanel.show(t))}bindTaskToTask(){this.currentTask&&this.oldTrackerBindInfoForm.value.id&&this.oldTrackerBindInfoForm.controls.id.valid&&!this.oldTrackerBindInfoForm.controls.id.pending&&(this.isTaskInConnectionProcess=!0,this.api.connectToOldTracker(this.currentTask.taskId,this.oldTrackerBindInfoForm.value.id).subscribe({next:()=>{var t;this.isTaskInConnectionProcess=!1,null===(t=this.oldTrackerPanel)||void 0===t||t.hide()},error:()=>{this.isTaskInConnectionProcess=!1}}))}changeTaskStageInOldTracker(){this.currentTask&&this.oldTrackerBindInfoForm.value.taskStageId&&(this.isTaskInStageChangeProcess=!0,this.api.changeTaskStageInOldTracker(this.currentTask.taskId,this.oldTrackerBindInfoForm.value.taskStageId).subscribe({next:()=>{var t;this.isTaskInStageChangeProcess=!1,null===(t=this.oldTrackerPanel)||void 0===t||t.hide()},error:()=>{this.isTaskInStageChangeProcess=!1}}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(d.gz),e.Y36(_t.a),e.Y36(F.YP),e.Y36(F.ez),e.Y36(tt.r),e.Y36(de.U),e.Y36(T.e),e.Y36(Qe.f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ze,5),e.Gf(Et,5),e.Gf(Be,5),e.Gf(qt,5),e.Gf(gn,5),e.Gf(Qt,5),e.Gf(Mn,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.filesInput=s.first),e.iGM(s=e.CRH())&&(i.taskActualDateSetPanel=s.first),e.iGM(s=e.CRH())&&(i.commentEditor=s.first),e.iGM(s=e.CRH())&&(i.taskLinkingDialog=s.first),e.iGM(s=e.CRH())&&(i.workLogsDialogEl=s.first),e.iGM(s=e.CRH())&&(i.fileInput=s.first),e.iGM(s=e.CRH())&&(i.oldTrackerPanel=s.first)}},decls:70,vars:79,consts:[["appExtendPageHeight","",1,"flex","gap-5","px-5"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"show","taskId","showChange"],[3,"visible","taskId","visibleChange"],["header","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445",3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","visibleChange"],["header","\u041e\u0442\u0434\u0435\u043b\u044b"],[1,"list-view"],["class","list-view-item bordered flexed hcenter gap10",4,"ngFor","ngForOf"],["header","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"],[1,"flexed","gap10","hcenter","vend"],["icon","cancel","label","\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c","model","p-button-text p-button-secondary",3,"onClick"],["icon","assignment","label","\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c","model","p-button-success",3,"loading","onClick"],["header","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e",3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","visibleChange"],[1,"flexed","column","gap10","full-height"],[1,"list-view","stretched","p5","gap5"],["class","list-view-item hovered bordered flexed hcenter gap10",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flexed","vend","hcenter","gap10"],["icon","check","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",3,"disabled","loading","onClick"],["header","\u0421\u0432\u044f\u0437\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0438",3,"excludedTasks","onMultiplySelected","onSelected"],["taskLinkingDialog",""],["header","\u0426\u0435\u043f\u043e\u0447\u043a\u0430 \u0437\u0430\u0434\u0430\u0447",3,"visible","breakpoints","dismissableMask","draggable","maximizable","modal","resizable","visibleChange"],["appDragScrolling",""],[3,"value"],["pTemplate","task"],[3,"visible","task","visibleChange"],["header","\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438",3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","visibleChange"],[1,"flexed","column","gap10"],[1,"flexed","hcenter","vcenter","gap20","p5"],["icon","chevron_left","label","\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439","model","p-button-text",3,"onClick"],["class","flexed column hcenter vcenter gap5",4,"ngIf"],["icon","chevron_right","iconPos","right","label","\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439","model","p-button-text",3,"onClick"],[1,"change-comparison-table"],[1,"one-line"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"visible","schedulingType","taskId","visibleChange"],[3,"taskId","visible","visibleChange"],["workLogsDialogEl",""],["appendTo","body",3,"model","popup"],["stageMenu",""],["key","popup"],[3,"onReturnFocus","onSelect"],["empInsertPanel",""],["actualFromLabel",""],["actualToLabel",""],["appendTo","body",3,"dismissable"],["oldTrackerPanel",""],["class","flex flex-column gap-3",3,"formGroup",4,"ngIf","ngIfElse"],["oldTrackerBindWarningTemp",""],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary","center-of-page"],[1,"panel","flexed","column","hcenter","vcenter","gap15","p20","caption","size-big","wt-bold","f-color-danger","responsive-wrapper"],[1,"flexed","column","hcenter"],[1,"mds-error"],["icon","mdi-chevron_left","label","\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430\u0437\u0430\u0434","styleClass","p-button-outlined",3,"onClick"],[1,"flex","flex-column","flex-grow-1","gap-3"],["styleClass","bg-transparent p-0",3,"model"],["pTemplate","start"],["pTemplate","end"],[1,"flex","gap-3"],[1,"input-label-wrapper","w","max-fit"],[3,"formControl"],[3,"task"],[1,"flex","flex-column","gap-4","mb-8",3,"hidden"],[1,"text-bluegray-400","text-3xl","font-semibold","flex","gap-3","align-items-center"],[3,"ngModel","options","ngModelChange"],["offIcon","mdi-visibility_off","offLabel","C\u043e\u0431\u044b\u0442\u0438\u044f","onIcon","mdi-visibility","onLabel","C\u043e\u0431\u044b\u0442\u0438\u044f",3,"ngModel","ngModelChange"],[1,"indent1",3,"editComment","replyComment","showEvents","sortingType","taskId","editCommentChange","onFirstLoad","replyCommentChange"],["class","fixed left-0 bottom-0 flex flex-column gap-3 justify-content-center w-full",3,"formGroup",4,"ngIf"],[1,"flex","flex-column","gap-3","text-bluegray-500","font-bold","sticky","h-fit"],[1,"flex","align-items-center","gap-2"],[1,"flex","align-items-center"],[1,"mdi-flag"],[1,"mdi-person"],[3,"employee"],[1,"mdi-event"],[1,"white-space-nowrap"],["class","flex align-items-center gap-2",4,"ngIf"],["class","flex flex-column gap-2",4,"ngIf"],[1,"flexed","gap10","p5","indent1","hcenter"],["icon","mdi-arrow_back","pTooltip","\u041d\u0430\u0437\u0430\u0434","styleClass","p-button-icon p-button-text","tooltipPosition","bottom",3,"onClick"],[1,"flexed","column"],[1,"header400"],[1,"flex","align-items-baseline","gap-2","text-bluegray-500"],["pTooltip","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","tooltipPosition","bottom",3,"disabled","label","size","onClick"],[4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"fixed","left-0","bottom-0","flex","flex-column","gap-3","justify-content-center","w-full",3,"formGroup"],["class","flexed hcenter gap15 panel caption size-small wt-bold f-color-primary mx-3",3,"padding",4,"ngIf"],[3,"ngSwitch",4,"ngIf"],[1,"flexed","hcenter","gap15","panel","caption","size-small","wt-bold","f-color-primary","mx-3"],[1,"mdi-reply"],[3,"employee","size"],[1,"caption","indent2"],[1,"stretched"],["icon","mdi-cancel","styleClass","p-button-icon p-button-text",3,"disabled","onClick"],[1,"mdi-edit"],[1,"flexed","column","gap3"],[1,"caption"],[1,"flex","align-items-center","gap-2","shadow-1","bg-white"],["icon","mdi-text_fields","pTooltip","\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0439 \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440","styleClass","p-button-icon p-button-text",3,"disabled","onClick"],["appTextareaAutoresize","","formControlName","text","placeholder","\u041d\u043e\u0432\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",1,"borderless-text-field","stretched",3,"disabled","keydown","paste"],["formControlName","files",3,"short",4,"ngIf"],["icon","mdi-send","styleClass","p-button-icon p-button-text p-button-rounded",3,"disabled","onClick"],["formControlName","files",3,"short"],["fileInput",""],[1,"flex","flex-column","gap-2","shadow-1","bg-white"],[1,"flexed","hcenter","gap5"],["icon","mdi-short_text","label","\u0421\u0442\u0440\u043e\u043a\u0430 \u0432\u0432\u043e\u0434\u0430","pTooltip","\u0421\u0442\u0440\u043e\u043a\u0430 \u0432\u0432\u043e\u0434\u0430","styleClass","p-button-icon p-button-text",3,"disabled","onClick"],["formControlName","files",4,"ngIf"],["icon","mdi-send","label","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","styleClass"," p-button-text",3,"disabled","onClick"],["formControlName","text","placeholder","\u041d\u043e\u0432\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",1,"input",3,"disabled","formats","modules","styles","keydown","onContentChanged","paste"],["commentEditor",""],["formControlName","files"],[1,"flex","flex-column","gap-2"],[1,"mdi-groups"],[1,"ml-4","flex","flex-column","gap-2"],[3,"employee",4,"ngFor","ngForOf"],[3,"department",4,"ngFor","ngForOf"],[3,"department"],[1,"mdi-account_tree"],["icon","account_tree","pTooltip","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0445\u0435\u043c\u0443","tooltipPosition","bottom",3,"onClick"],[1,"ml-4"],["class","flexed hcenter gap3",4,"ngIf"],["class","flexed gap5 caption size-small f-color-500",4,"ngIf"],[1,"flexed","hcenter","gap3"],[1,"caption","size-small","f-color-500"],[3,"taskId"],["icon","link_off","model","danger","pTooltip","\u041e\u0442\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","tooltipPosition","bottom",3,"onClick",4,"ngIf"],["icon","link_off","model","danger","pTooltip","\u041e\u0442\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","tooltipPosition","bottom",3,"onClick"],[1,"flexed","gap5","caption","size-small","f-color-500"],["class","flexed gap3 hcenter",4,"ngFor","ngForOf"],[1,"flexed","gap3","hcenter"],[1,"list-view-item","bordered","flexed","hcenter","gap10"],["name","dep",3,"ngModel","value","ngModelChange"],["appColorize","",1,"caption"],["name","emp",3,"ngModel","value","ngModelChange"],[1,"list-view-item","hovered","bordered","flexed","hcenter","gap10",3,"ngClass","click"],[3,"name","size","src"],[1,"caption","size-small","wt-bold","f-color-500"],["class","caption size-small wt-bold f-color-primary",4,"ngIf"],[1,"caption","size-small","wt-bold","f-color-primary"],[3,"item"],[1,"flexed","column","hcenter","vcenter","gap5"],[1,"caption","size-small"],[1,"flexed","hcenter","gap6"],[1,"caption","size-big","one-line"],["class","material-icons-round caption size-small wt-bold f-color-primary",4,"ngIf"],[1,"material-icons-round","caption","size-small","wt-bold","f-color-primary"],["tooltipPosition","bottom",1,"flexed","gap3","caption","hcenter","p10",3,"pTooltip"],[1,"mdi-today","parent-inherit"],[1,"flex","flex-column","gap-3",3,"formGroup"],["class","flex flex-column gap-1",4,"ngIf"],[1,"input-label-wrapper"],["formControlName","id","pInputText","","pKeyFilter","pint",3,"readonly"],["class","text-red-400 text-xs font-bold w-15rem",4,"ngIf"],["icon","mdi-add_link","label","\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c","styleClass","p-button-success w-full",3,"disabled","loading","onClick",4,"ngIf"],["appendTo","body","formControlName","taskStageId","optionLabel","name","optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c",3,"options"],["icon","mdi-redo","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u044d\u0442\u0430\u043f","styleClass","p-button-success w-full",3,"loading","onClick",4,"ngIf"],[1,"flex","flex-column","gap-1"],[1,"text-bluegray-400","text-sm","font-bold"],[1,"text-primary"],[1,"text-red-400","text-xs","font-bold","w-15rem"],["icon","mdi-add_link","label","\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c","styleClass","p-button-success w-full",3,"disabled","loading","onClick"],["icon","mdi-redo","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u044d\u0442\u0430\u043f","styleClass","p-button-success w-full",3,"loading","onClick"],[1,"flex","gap-2","align-items-center","text-orange-400","font-bold","w-20rem"],[1,"mdi-warning"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e.ynx(1,1),e.YNc(2,Nt,2,0,"ng-container",2),e.YNc(3,rn,7,1,"ng-container",2),e.YNc(4,Co,49,34,"ng-container",2),e.BQk(),e.qZA(),e.TgZ(5,"app-attachments-history-dialog",3),e.NdJ("showChange",function(p){return i.showFilesHistory=p}),e.qZA(),e.TgZ(6,"app-appoint-installers-dialog",4),e.NdJ("visibleChange",function(p){return i.showAppointInstallersMenu=p}),e.qZA(),e.TgZ(7,"p-dialog",5),e.NdJ("visibleChange",function(p){return i.showChangeObserversDialog=p}),e.TgZ(8,"p-tabView")(9,"p-tabPanel",6)(10,"div",7),e.YNc(11,Go,4,3,"div",8),e.qZA()(),e.TgZ(12,"p-tabPanel",9)(13,"div",7),e.YNc(14,Wo,3,4,"div",8),e.qZA()()(),e.TgZ(15,"div",10)(16,"app-button",11),e.NdJ("onClick",function(){return i.updateObservableList()}),e.qZA(),e.TgZ(17,"app-button",12),e.NdJ("onClick",function(){return i.sendObservableList()}),e.qZA()()(),e.TgZ(18,"p-dialog",13),e.NdJ("visibleChange",function(p){return i.showChangeResponsibleDialog=p}),e.TgZ(19,"div",14)(20,"div",15),e.YNc(21,Xo,8,9,"div",16),e.qZA(),e.TgZ(22,"div",17)(23,"app-button",18),e.NdJ("onClick",function(){return i.changeResponsible()}),e.qZA()()()(),e.TgZ(24,"app-task-selecting-dialog",19,20),e.NdJ("onMultiplySelected",function(p){return i.linkToChildTasks(p)})("onSelected",function(p){return i.linkToParentTask(p)}),e.qZA(),e.TgZ(26,"p-dialog",21),e.NdJ("visibleChange",function(p){return i.showTaskChainDialog=p}),e.TgZ(27,"div",22)(28,"p-organizationChart",23),e.YNc(29,os,1,4,"ng-template",24),e.qZA()()(),e.TgZ(30,"app-edit-task-dialog",25),e.NdJ("visibleChange",function(p){return i.isShowEditTaskDialog=p}),e.qZA(),e.TgZ(31,"p-dialog",26),e.NdJ("visibleChange",function(p){return i.isShowEditHistoryDialog=p}),e.TgZ(32,"div",27)(33,"div",28)(34,"app-button",29),e.NdJ("onClick",function(){return i.changeCurrentSnapshot(-1)}),e.qZA(),e.YNc(35,ho,11,7,"div",30),e.TgZ(36,"app-button",31),e.NdJ("onClick",function(){return i.changeCurrentSnapshot(1)}),e.qZA()(),e.TgZ(37,"table",32)(38,"thead")(39,"tr")(40,"th")(41,"span",33),e._uU(42," \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044f "),e.qZA()(),e.TgZ(43,"th")(44,"span",33),e._uU(45," \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e "),e.qZA()(),e._UZ(46,"th"),e.TgZ(47,"th")(48,"span",33),e._uU(49," \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0435 "),e.qZA()()()(),e.TgZ(50,"tbody"),e.YNc(51,Bi,10,4,"tr",34),e.qZA()()()(),e.TgZ(52,"app-task-scheduling-dialog",35),e.NdJ("visibleChange",function(p){return i.schedulingTaskDialogVisible=p}),e.qZA(),e.TgZ(53,"app-force-close-dialog",36),e.NdJ("visibleChange",function(p){return i.forceCloseWorkLogDialogVisible=p}),e.qZA(),e._UZ(54,"app-work-logs-dialog",null,37)(56,"p-menu",38,39)(58,"p-confirmPopup",40),e.TgZ(59,"app-employee-insert-panel",41,42),e.NdJ("onReturnFocus",function(){return i.forceFocusCommentInput()})("onSelect",function(p){return i.insertEmployeeToCommentEditor(p)}),e.qZA(),e.YNc(61,Mo,8,9,"ng-template",null,43,e.W1O),e.YNc(63,es,8,9,"ng-template",null,44,e.W1O),e.TgZ(65,"p-overlayPanel",45,46),e.YNc(67,as,15,12,"div",47),e.qZA(),e.YNc(68,Cr,4,0,"ng-template",null,48,e.W1O)),2&t){const s=e.MAs(69);e.xp6(1),e.Q6J("ngSwitch",i.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("show",i.showFilesHistory)("taskId",i.taskId),e.xp6(1),e.Q6J("visible",i.showAppointInstallersMenu)("taskId",i.taskId),e.xp6(1),e.Akn(e.DdM(70,ga)),e.Q6J("visible",i.showChangeObserversDialog)("breakpoints",e.DdM(71,vr))("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1),e.xp6(3),e.Udp("max-height","50vh"),e.xp6(1),e.Q6J("ngForOf",i.departmentList),e.xp6(2),e.Udp("max-height","50vh"),e.xp6(1),e.Q6J("ngForOf",i.employeeList),e.xp6(3),e.Q6J("loading",i.changingTaskObservers),e.xp6(1),e.Akn(e.DdM(72,br)),e.Q6J("visible",i.showChangeResponsibleDialog)("breakpoints",e.DdM(73,Da))("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1),e.xp6(3),e.Q6J("ngForOf",i.employeeList),e.xp6(2),e.Q6J("disabled",!i.selectedEmployeeAsResponsible)("loading",i.selectingResponsible),e.xp6(1),e.Q6J("excludedTasks",i.excludedTasks),e.xp6(2),e.Akn(e.DdM(74,gs)),e.Q6J("visible",i.showTaskChainDialog)("breakpoints",e.DdM(75,vr))("dismissableMask",!0)("draggable",!1)("maximizable",!0)("modal",!0)("resizable",!1),e.xp6(1),e.Akn(e.DdM(76,la)),e.xp6(1),e.Q6J("value",i.taskChain),e.xp6(2),e.Q6J("visible",i.isShowEditTaskDialog)("task",i.currentTask),e.xp6(1),e.Akn(e.DdM(77,Ns)),e.Q6J("visible",i.isShowEditHistoryDialog)("breakpoints",e.DdM(78,Wr))("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1),e.xp6(4),e.Q6J("ngIf",null==i.editTaskSnapshots?null:i.editTaskSnapshots.length),e.xp6(16),e.Q6J("ngForOf",i.snapshotFieldPairs(i.editTaskSnapshots[i.indexEditSnapshot]))("ngForTrackBy",i.trackSnapshotPair),e.xp6(1),e.Q6J("visible",i.schedulingTaskDialogVisible)("schedulingType",i.schedulingTaskType)("taskId",i.taskId),e.xp6(1),e.Q6J("taskId",i.taskId)("visible",i.forceCloseWorkLogDialogVisible),e.xp6(3),e.Q6J("model",i.stageMenuItems)("popup",!0),e.xp6(9),e.Q6J("dismissable",!0),e.xp6(2),e.Q6J("ngIf",!(null==i.currentTask||null==i.currentTask.currentStage||!i.currentTask.currentStage.oldTrackerBind))("ngIfElse",s)}},styles:['.comment-panel[_ngcontent-%COMP%]{margin:.5rem 0}.status.ACTIVE[_ngcontent-%COMP%]{color:var(--mc-400)}.status.PROCESSING[_ngcontent-%COMP%]{color:var(--warm-400)}.status.CLOSE[_ngcontent-%COMP%]{color:var(--tc-400)}.stage-button[_ngcontent-%COMP%]{color:var(--mc-500);cursor:pointer;-webkit-user-select:none;user-select:none;transition:color .2s ease-out}.stage-button[_ngcontent-%COMP%]:hover{color:var(--mc-500)}.next-stage-button[_ngcontent-%COMP%]{color:var(--green-400);cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;font-size:.85rem;font-weight:700;transition:color .2s ease-out}.next-stage-button[_ngcontent-%COMP%] > .material-icons-round[_ngcontent-%COMP%]{font-size:.95rem!important}.next-stage-button[_ngcontent-%COMP%]:hover{color:var(--green-600)}.text-preview[_ngcontent-%COMP%]{padding:1rem;background-color:var(--bgc-100)}.task-control-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.task-control-panel-item[_ngcontent-%COMP%]{display:flex;align-items:center;width:max-content;gap:.2rem}.task-control-panel-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6rem;color:var(--tc-600);line-height:normal}.task-control-panel-item-name[_ngcontent-%COMP%]{font-size:.9rem;color:var(--tc-600);line-height:normal;font-weight:700}.task-control-panel-item-value[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;margin-left:.5rem;font-size:1.1rem;color:var(--tc-700);line-height:normal}.dedicated-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.dedicated-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1;gap:.2rem}.dedicated-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6rem;color:var(--tc-600);line-height:normal}.dedicated-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:.9rem;color:var(--tc-600);line-height:normal;font-weight:700;flex:1}.dedicated-panel[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.2rem;margin-left:2rem}.reply-comment-preview[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/min-content 1fr;grid-template-areas:"icon name cancel" "icon message cancel";column-gap:1rem;row-gap:.3rem;align-items:center;padding:1rem 1.2rem;border:1px solid var(--bgc-300);border-bottom:none}.reply-comment-preview[_ngcontent-%COMP%]   .preview-icon[_ngcontent-%COMP%]{grid-area:icon;color:var(--bgc-600);font-size:2.5rem;line-height:normal}.reply-comment-preview[_ngcontent-%COMP%]   .whose-comment[_ngcontent-%COMP%]{grid-area:name;color:var(--tc-800);font-size:1.1rem;line-height:normal;font-weight:600}.reply-comment-preview[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]{grid-area:message;color:var(--tc-700);font-size:1rem;line-height:normal;font-weight:400}.reply-comment-preview[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{grid-area:cancel}.comment-input-wrapper[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;gap:1rem}.flow-button[_ngcontent-%COMP%]{position:absolute;transform:translateY(-110%);right:0}.global-filters[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;justify-content:center;position:sticky;top:0;padding:1rem 0;z-index:1;background-color:#ffffff80;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.linked-tasks-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;flex:1;height:60vh;overflow-y:auto}.linked-task-skeleton[_ngcontent-%COMP%]:not(:last-child){display:block;margin-bottom:1rem}.tasks-loading-panel[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;grid-area:1/1/-1/-1;display:flex;align-items:center;justify-content:center;background-color:#00000030;z-index:2}.change-comparison-table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:.5rem 1rem}'],data:{animation:[u.U1,u.Ji]}}),n})();var so=b(6451),si=b(8505),Ii=b(6309);function Ks(n,o){1&n&&e.GkF(0)}function yr(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",27),e._UZ(2,"p-progressSpinner",28),e.qZA(),e.BQk())}function ss(n,o){1&n&&e.GkF(0)}const Or=function(n){return{$implicit:n}};function Zi(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ss,1,0,"ng-container",30),e.BQk()),2&n){const t=o.$implicit;e.oxw(4);const i=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,Or,t))}}function Gs(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Zi,2,4,"ng-container",29),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.templateItems)("ngForTrackBy",t.trackByTemplate)}}function Fs(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",31),e._UZ(2,"i",32),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432"),e.qZA()(),e.BQk())}function fs(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",33),e._UZ(2,"i",32),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435\u0442 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432"),e.qZA()(),e.BQk())}const qs=function(){return["constructor"]};function $s(n,o){if(1&n&&(e.TgZ(0,"p-tabPanel",21)(1,"div",22),e._UZ(2,"p-button",23)(3,"p-toggleButton",24),e.qZA(),e.ynx(4,25),e.YNc(5,yr,3,0,"ng-container",26),e.YNc(6,Gs,2,2,"ng-container",26),e.YNc(7,Fs,5,0,"ng-container",26),e.YNc(8,fs,5,0,"ng-container",26),e.BQk(),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Udp("padding-bottom","1rem"),e.xp6(1),e.Q6J("routerLink",e.DdM(9,qs)),e.xp6(1),e.Q6J("formControl",t.deletedTemplatesSwitcher),e.xp6(1),e.Q6J("ngSwitch",t.templateLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function go(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",27),e._UZ(2,"p-progressSpinner",28),e.qZA(),e.BQk())}function Cs(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-tag-list-item",38),e.NdJ("onEditTag",function(s){e.CHM(t);const p=e.oxw(4);return e.KtG(p.openEditTagDialog(s))}),e.qZA()}2&n&&e.Q6J("tag",o.$implicit)}function ls(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Cs,1,1,"app-task-tag-list-item",37),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.availableTags)("ngForTrackBy",t.trackByTag)}}function vs(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",31),e._UZ(2,"i",32),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0442\u0435\u0433\u043e\u0432"),e.qZA()(),e.BQk())}function bs(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",33),e._UZ(2,"i",32),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435\u0442 \u0442\u0435\u0433\u043e\u0432"),e.qZA()(),e.BQk())}function ys(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-tabPanel",34)(1,"div",35)(2,"p-button",36),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openCreateTagDialog())}),e.qZA(),e._UZ(3,"p-toggleButton",24),e.qZA(),e.ynx(4,25),e.YNc(5,go,3,0,"ng-container",26),e.YNc(6,ls,2,2,"ng-container",26),e.YNc(7,vs,5,0,"ng-container",26),e.YNc(8,bs,5,0,"ng-container",26),e.BQk(),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("formControl",t.deletedTagsSwitcher),e.xp6(1),e.Q6J("ngSwitch",t.tagLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function xr(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",46),e._UZ(2,"p-progressSpinner",28),e.qZA(),e.BQk())}function Pr(n,o){1&n&&e._UZ(0,"span",55)}function Lr(n,o){if(1&n&&(e.TgZ(0,"span",56),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.description)}}function ir(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",57)(1,"p-button",58),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw().$implicit,p=e.oxw(5);return e.KtG(p.openEditEquipmentDialog(s))}),e.qZA(),e.TgZ(2,"p-button",59),e.NdJ("onClick",function(s){e.CHM(t);const p=e.oxw().$implicit,w=e.oxw(5);return e.KtG(w.confirmDeleteEquipment(s,p))}),e.qZA()()}}function xs(n,o){1&n&&e._UZ(0,"div")}const Yo=function(n){return{"opacity-80":n}};function Ir(n,o){if(1&n&&(e.TgZ(0,"div",48)(1,"div",49)(2,"div",50),e.YNc(3,Pr,1,0,"span",51),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"span",52),e._uU(7),e.qZA()(),e.YNc(8,Lr,2,1,"span",53),e.qZA(),e.YNc(9,ir,3,0,"div",54),e.YNc(10,xs,1,0,"div",45),e.qZA()),2&n){const t=o.$implicit;e.Q6J("ngClass",e.VKq(9,Yo,t.deleted)),e.xp6(3),e.Q6J("ngIf",t.deleted),e.xp6(1),e.Tol(t.deleted?"text-bluegray-300":"text-bluegray-600"),e.xp6(1),e.Oqu(t.name),e.xp6(2),e.hij("",t.price,"\u0440\u0443\u0431."),e.xp6(1),e.Q6J("ngIf",t.description),e.xp6(1),e.Q6J("ngIf",!t.deleted),e.xp6(1),e.Q6J("ngIf",t.deleted)}}function Tr(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Ir,11,11,"div",47),e.BQk()),2&n){const t=e.oxw().ngIf,i=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",i.trackByClientEquipment)}}function At(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",60),e._UZ(2,"i",61),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u0433\u043e \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f"),e.qZA()(),e.BQk())}function pn(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",62),e._UZ(2,"i",63),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u0433\u043e \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f"),e.qZA()(),e.BQk())}function oe(n,o){if(1&n&&(e.ynx(0)(1,25),e.YNc(2,xr,3,0,"ng-container",26),e.YNc(3,Tr,2,2,"ng-container",26),e.YNc(4,At,5,0,"ng-container",26),e.YNc(5,pn,5,0,"ng-container",26),e.BQk()()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngSwitch",t.equipmentLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function Le(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-tabPanel",39)(1,"div",35)(2,"p-button",36),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openCreateEquipmentDialog())}),e.qZA(),e.ynx(3,40),e._UZ(4,"p-toggleButton",41),e.TgZ(5,"span",42),e._UZ(6,"i",43)(7,"input",44),e.qZA(),e.BQk(),e.qZA(),e.YNc(8,oe,6,5,"ng-container",45),e.ALo(9,"async"),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("formGroup",t.equipmentsFilterForm),e.xp6(5),e.Q6J("ngIf",e.lcZ(9,2,t.equipments$))}}function xt(n,o){if(1&n&&(e.TgZ(0,"p-tabView"),e.YNc(1,$s,9,10,"p-tabPanel",18),e.YNc(2,ys,9,6,"p-tabPanel",19),e.YNc(3,Le,10,4,"p-tabPanel",20),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.EDIT_TASK_TEMPLATES)),e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.EDIT_TASK_TAGS)),e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.EDIT_DEVICES))}}function Vt(n,o){1&n&&e._UZ(0,"i",72)}function Pn(n,o){if(1&n&&(e.TgZ(0,"span",73),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.description," ")}}const qn=function(n){return{editingId:n}};function gi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",64)(1,"div",65)(2,"span",66),e.YNc(3,Vt,1,0,"i",67),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"span",68),e._uU(7),e.ALo(8,"date"),e.qZA()(),e.YNc(9,Pn,2,1,"span",69),e.qZA(),e._UZ(10,"p-button",70),e.TgZ(11,"p-button",71),e.NdJ("onClick",function(s){const w=e.CHM(t).$implicit,Q=e.oxw();return e.KtG(Q.confirmDeleteWireframe(s,w.wireframeId))}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Udp("opacity",t.deleted?.5:1),e.xp6(1),e.Q6J("ngIf",t.deleted),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" \u0421\u043e\u0437\u0434\u0430\u043d\u0430: ",e.xi3(8,10,t.created,"dd MMMM yyyy HH:mm")," "),e.xp6(2),e.Q6J("ngIf",t.description),e.xp6(1),e.Q6J("disabled",t.deleted)("queryParams",e.VKq(13,qn,t.wireframeId))("routerLink",e.DdM(15,qs)),e.xp6(1),e.Q6J("disabled",t.deleted)}}function Hi(n,o){1&n&&e.GkF(0)}function Fi(n,o){if(1&n){const t=e.EpF();e.YNc(0,Hi,1,0,"ng-container",3),e.TgZ(1,"app-button",74),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.createTag())}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(30);e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("disabled",t.tagDialogForm.invalid)("loading",t.isTagSaving)}}function Si(n,o){1&n&&e.GkF(0)}function cs(n,o){if(1&n){const t=e.EpF();e.YNc(0,Si,1,0,"ng-container",3),e.TgZ(1,"app-button",75),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.editTag())}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(30);e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("disabled",t.tagDialogForm.invalid)("loading",t.isTagSaving)}}function Oo(n,o){if(1&n&&(e.TgZ(0,"div",76)(1,"span",11)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0433\u0430"),e.qZA(),e._UZ(4,"input",77),e.qZA(),e.TgZ(5,"span",11)(6,"label"),e._uU(7,"\u0424\u043e\u043d \u0442\u0435\u0433\u0430"),e.qZA(),e._UZ(8,"p-colorPicker",78),e.qZA(),e.TgZ(9,"span",11)(10,"label"),e._uU(11,"\u041e\u0442\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f"),e.qZA(),e._UZ(12,"p-inputSwitch",79),e.qZA()()),2&n){const t=e.oxw();e.Q6J("formGroup",t.tagDialogForm)}}const Ar=function(){return{width:"max-content"}},Io=function(){return{"960px":"75vw"}},Eo=function(){return{width:"450px"}},Es=function(){return{"960px":"450px"}};let Mi=(()=>{class n{constructor(t,i,s,p){this.api=t,this.rt=i,this.personality=s,this.confirmation=p,this.AccessFlag=Ii.j,this.templateItems=[],this.availableTags=[],this.createTagDialogVisible=!1,this.editTagDialogVisible=!1,this.tagDialogForm=new f.cw({id:new f.NI(null),name:new f.NI("",f.kI.required),color:new f.NI("",f.kI.required),unbindAfterClose:new f.NI(!1)}),this.isTagSaving=!1,this.subscription=new _.xf,this.deletedTemplatesSwitcher=new f.NI(!1),this.deletedTagsSwitcher=new f.NI(!1),this.templateLoadingState=he.Gu.LOADING,this.tagLoadingState=he.Gu.LOADING,this.equipmentLoadingState=he.Gu.LOADING,this.templateLoadingHandler={next:w=>{this.templateLoadingState=w.length>0?he.Gu.READY:he.Gu.EMPTY,this.templateItems=w},error:()=>{this.templateLoadingState=he.Gu.ERROR}},this.tagLoadingHandler={next:w=>{this.tagLoadingState=w.length>0?he.Gu.READY:he.Gu.EMPTY,this.availableTags=w},error:()=>{this.tagLoadingState=he.Gu.ERROR}},this.equipmentsFilterForm=new f.cw({query:new f.NI(""),isDeleted:new f.NI(!1)}),this.changeEquipmentFilters$=this.equipmentsFilterForm.valueChanges.pipe((0,cn.d)(1)),this.equipmentsLoading$=(0,so.T)(this.changeEquipmentFilters$,(0,Tn.of)({query:"",isDeleted:!1})).pipe((0,si.b)(()=>this.equipmentLoadingState=he.Gu.LOADING),(0,R.w)(w=>this.api.getClientEquipments(w.query,w.isDeleted)),(0,si.b)({next:w=>this.equipmentLoadingState=w.length>0?he.Gu.READY:he.Gu.EMPTY,error:()=>this.equipmentLoadingState=he.Gu.ERROR}),(0,cn.d)(1)),this.equipmentsCreating$=this.rt.clientEquipmentsCreated().pipe((0,R.w)(w=>this.equipmentsLoading$.pipe((0,gt.U)(Q=>(-1===Q.findIndex(qe=>qe.clientEquipmentId===w.clientEquipmentId)&&Q.unshift(w),Q))))),this.equipmentsUpdating$=this.rt.clientEquipmentsUpdated().pipe((0,R.w)(w=>this.equipmentsLoading$.pipe((0,gt.U)(Q=>{const Ce=Q.findIndex(qe=>qe.clientEquipmentId===w.clientEquipmentId);return-1!==Ce&&(Q[Ce]=w),Q})))),this.equipmentDeleting$=this.rt.clientEquipmentsDeleted().pipe((0,R.w)(w=>this.equipmentsLoading$.pipe((0,gt.U)(Q=>{const Ce=Q.findIndex(qe=>qe.clientEquipmentId===w.clientEquipmentId);return this.equipmentsFilterForm.value.isDeleted?Q[Ce]=w:-1!==Ce&&Q.splice(Ce,1),Q})))),this.equipments$=(0,so.T)(this.equipmentsLoading$,this.equipmentsCreating$,this.equipmentsUpdating$,this.equipmentDeleting$).pipe((0,cn.d)(1)),this.showEquipmentDialog=!1,this.isEquipmentCreating=!1,this.equipmentForm=new f.cw({name:new f.NI("",[f.kI.required]),description:new f.NI(""),price:new f.NI(0,[f.kI.required])})}ngOnInit(){this.subscription.addSubscription("crTag",this.rt.taskTagCreated().subscribe(this.tagCreated.bind(this))),this.subscription.addSubscription("updTag",this.rt.taskTagUpdated().subscribe(this.tagUpdated.bind(this))),this.subscription.addSubscription("delTag",this.rt.taskTagDeleted().subscribe(this.tagDeleted.bind(this))),this.subscription.addSubscription("crTemp",this.rt.wireframeCreated().subscribe(this.templateCreated.bind(this))),this.subscription.addSubscription("updTemp",this.rt.wireframeUpdated().subscribe(this.templateUpdated.bind(this))),this.subscription.addSubscription("delTemp",this.rt.wireframeDeleted().subscribe(this.templateDeleted.bind(this))),this.api.getWireframes(!1).subscribe(this.templateLoadingHandler),this.subscription.addSubscription("swDelTemp",this.deletedTemplatesSwitcher.valueChanges.subscribe(t=>{this.templateLoadingState=he.Gu.LOADING,this.api.getWireframes(null!=t&&t).subscribe(this.templateLoadingHandler)})),this.api.getTaskTags().subscribe(this.tagLoadingHandler),this.subscription.addSubscription("swDelTag",this.deletedTagsSwitcher.valueChanges.subscribe(t=>{this.tagLoadingState=he.Gu.LOADING,this.api.getTaskTags(null,null!=t&&t).subscribe(this.tagLoadingHandler)}))}ngOnDestroy(){this.subscription.unsubscribeAll()}tagCreated(t){this.availableTags.some(i=>i.taskTagId===t.taskTagId)||this.availableTags.unshift(t)}tagUpdated(t){const i=this.availableTags.findIndex(s=>s.taskTagId===t.taskTagId);i>=0&&(this.availableTags[i]=t)}tagDeleted(t){const i=this.availableTags.findIndex(s=>s.taskTagId===t.taskTagId);if(i>=0){if(t.deleted&&this.deletedTagsSwitcher.value)return void(this.availableTags[i].deleted=!0);this.availableTags.splice(i,1)}}templateCreated(t){this.templateItems.some(i=>i.wireframeId===t.wireframeId)||this.templateItems.unshift(t)}templateUpdated(t){const i=this.templateItems.findIndex(s=>s.wireframeId===t.wireframeId);i>=0&&(this.templateItems[i]=t)}templateDeleted(t){const i=this.templateItems.findIndex(s=>s.wireframeId===t.wireframeId);if(i>=0){if(t.deleted&&this.deletedTemplatesSwitcher.value)return void(this.templateItems[i].deleted=!0);this.templateItems.splice(i,1)}}createTag(){this.isTagSaving=!0,this.api.createTaskTag(this.tagDialogForm.value).subscribe({next:()=>{this.isTagSaving=!1,this.createTagDialogVisible=!1},error:()=>{this.isTagSaving=!1}})}editTag(){this.isTagSaving=!0,this.api.modifyTaskTag(this.tagDialogForm.value).subscribe({next:()=>{this.isTagSaving=!1,this.editTagDialogVisible=!1},error:()=>{this.isTagSaving=!1}})}openCreateTagDialog(){this.tagDialogForm.setValue({id:null,name:"",color:this.generateRandomHslColor(),unbindAfterClose:!1}),this.createTagDialogVisible=!0,this.isTagSaving=!1}openEditTagDialog(t){this.tagDialogForm.setValue({id:t.taskTagId,name:t.name,color:t.color,unbindAfterClose:t.unbindAfterClose}),this.editTagDialogVisible=!0,this.isTagSaving=!1}openCreateEquipmentDialog(){this.equipmentForm.reset(),this.showEquipmentDialog=!0,this.editionEquipmentId=void 0}openEditEquipmentDialog(t){this.equipmentForm.patchValue(t),this.showEquipmentDialog=!0,this.editionEquipmentId=t.clientEquipmentId}confirmDeleteWireframe(t,i){t.stopPropagation(),this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d?",accept:()=>this.api.deleteWireframe(i).subscribe()})}trackByTemplate(t,i){return i.wireframeId+i.name+i.description}trackByTag(t,i){return i.taskTagId+i.name+i.color}trackByClientEquipment(t,i){return i.clientEquipmentId+i.name+i.description+i.price}createEquipment(){this.isEquipmentCreating=!0,this.api.createClientEquipment(this.equipmentForm.value).subscribe({next:()=>{this.isEquipmentCreating=!1,this.showEquipmentDialog=!1},error:()=>{this.isEquipmentCreating=!1}})}editEquipment(){!this.editionEquipmentId||(this.isEquipmentCreating=!0,this.api.editClientEquipment(this.editionEquipmentId,this.equipmentForm.value).subscribe({next:()=>{this.isEquipmentCreating=!1,this.showEquipmentDialog=!1},error:()=>{this.isEquipmentCreating=!1}}))}confirmDeleteEquipment(t,i){t.stopPropagation(),this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435?",accept:()=>this.api.deleteClientEquipment(i.clientEquipmentId).subscribe()})}hslToHex(t,i,s){let p,w,Q;if(t/=360,s/=100,0==(i/=100))p=w=Q=s;else{const qe=(jt,Gt,fn)=>(fn<0&&(fn+=1),fn>1&&(fn-=1),fn<.16666666666666666?jt+6*(Gt-jt)*fn:fn<.5?Gt:fn<.6666666666666666?jt+(Gt-jt)*(.6666666666666666-fn)*6:jt),$e=s<.5?s*(1+i):s+i-s*i,$t=2*s-$e;p=qe($t,$e,t+1/3),w=qe($t,$e,t),Q=qe($t,$e,t-1/3)}const Ce=qe=>{const $e=Math.round(255*qe).toString(16);return 1===$e.length?"0"+$e:$e};return`#${Ce(p)}${Ce(w)}${Ce(Q)}`}generateRandomHslColor(t=50,i=60,s=50,p=60){let w=Math.floor(360*Math.random()),Q=Math.floor(Math.random()*(i-t)+t),Ce=Math.floor(Math.random()*(p-s)+s);return this.hslToHex(w,Q,Ce)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(V.F),e.Y36(F.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:31,vars:41,consts:[["appExtendPageHeight","",1,"flex","justify-content-center"],[1,"responsive-wrapper","flex","gap-3"],[1,"flex","flex-column","flex-grow-1","gap-3","shadow-1","overflow-hidden"],[4,"ngTemplateOutlet"],["tabview",""],["templateItem",""],["header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u0433","contentStyleClass","flex flex-column gap-3 pt-1",3,"visible","breakpoints","draggable","modal","resizable","dismissableMask","visibleChange"],["pTemplate","content"],["header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0435\u0433","contentStyleClass","flex flex-column gap-3 pt-1",3,"visible","breakpoints","draggable","modal","resizable","dismissableMask","visibleChange"],[3,"visible","breakpoints","draggable","dismissableMask","header","modal","resizable","visibleChange"],[1,"flex","flex-column","gap-3","p-1",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","name","pInputText",""],["formControlName","description","pInputTextarea","",3,"autoResize"],["currency","RUB","formControlName","price","locale","ru-RU","mode","currency"],[1,"flex","justify-content-end"],["icon","mdi-add","styleClass","p-button-success",3,"disabled","label","loading","onClick"],["tagFormTemplate",""],["header","\u0428\u0430\u0431\u043b\u043e\u043d\u044b","leftIcon","mdi-list_alt",4,"ngIf"],["header","\u0422\u0435\u0433\u0438","leftIcon","mdi-local_offer",4,"ngIf"],["header","\u0410\u0431\u043e\u043d. \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435","leftIcon","mdi-router",4,"ngIf"],["header","\u0428\u0430\u0431\u043b\u043e\u043d\u044b","leftIcon","mdi-list_alt"],[1,"flex","gap-3"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-outlined p-button-success",3,"routerLink"],["offLabel","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435","onLabel","\u0421\u043a\u0440\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435",3,"formControl"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"flex","align-items-center","justify-content-center","p-5"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","align-items-center","justify-content-center","p-5","text-5xl","font-bold","text-red-400"],[1,"mdi-alert"],[1,"flex","align-items-center","justify-content-center","p-5","text-5xl","font-bold","text-bluegray-300"],["header","\u0422\u0435\u0433\u0438","leftIcon","mdi-local_offer"],[1,"flex","gap-3","pb-3"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-outlined p-button-success",3,"click"],[3,"tag","onEditTag",4,"ngFor","ngForOf","ngForTrackBy"],[3,"tag","onEditTag"],["header","\u0410\u0431\u043e\u043d. \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435","leftIcon","mdi-router"],[3,"formGroup"],["formControlName","isDeleted","offLabel","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435","onLabel","\u0421\u043a\u0440\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435"],[1,"p-input-icon-left"],[1,"mdi-search"],["formControlName","query","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e..."],[4,"ngIf"],[1,"flex","align-items-center","justify-content-center","py-8"],["class","flex p-3 gap-3 split-line",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","p-3","gap-3","split-line",3,"ngClass"],[1,"flex","flex-column","justify-content-center","gap-1","flex-grow-1"],[1,"flex","gap-2","align-items-baseline"],["class","mdi-not_interested text-bluegray-300 text-sm",4,"ngIf"],[1,"text-primary-400","text-sm"],["class","text-bluegray-300 text-sm font-bold",4,"ngIf"],["class","flex",4,"ngIf"],[1,"mdi-not_interested","text-bluegray-300","text-sm"],[1,"text-bluegray-300","text-sm","font-bold"],[1,"flex"],["icon","mdi-edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","styleClass","p-button-warning p-button-text",3,"onClick"],["icon","mdi-delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","styleClass","p-button-danger p-button-text",3,"onClick"],[1,"flex","flex-column","py-8","align-items-center","font-bold","text-red-400","text-lg"],[1,"mds-error"],[1,"flex","flex-column","py-8","align-items-center","font-bold","text-bluegray-400","text-lg"],[1,"mds-router"],[1,"template-item","flex","align-items-center","gap-2"],[1,"flex","flex-column","gap-2","flex-grow-1"],[1,"flex","align-items-center","flex-grow-1","gap-1"],["class","mdi-not_interested",4,"ngIf"],[1,"caption","size-tiny","wt-bold","f-color-500","indent1"],["class","caption size-small wt-bold f-color-500",4,"ngIf"],["icon","mdi-edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","styleClass","p-button-warning p-button-text",3,"disabled","queryParams","routerLink"],["icon","mdi-delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","styleClass","p-button-danger p-button-text",3,"disabled","onClick"],[1,"mdi-not_interested"],[1,"caption","size-small","wt-bold","f-color-500"],["icon","check","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"disabled","loading","onClick"],["icon","check","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"disabled","loading","onClick"],[1,"flex","flex-column","gap-2",3,"formGroup"],["formControlName","name","pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435...","type","text"],["formControlName","color","appendTo","body"],["formControlName","unbindAfterClose",1,"w-fit","h-fit"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.YNc(4,Ks,1,0,"ng-container",3),e.qZA()()(),e.YNc(5,xt,4,3,"ng-template",null,4,e.W1O),e.YNc(7,gi,12,16,"ng-template",null,5,e.W1O),e.TgZ(9,"p-dialog",6),e.NdJ("visibleChange",function(p){return i.createTagDialogVisible=p}),e.YNc(10,Fi,2,3,"ng-template",7),e.qZA(),e.TgZ(11,"p-dialog",8),e.NdJ("visibleChange",function(p){return i.editTagDialogVisible=p}),e.YNc(12,cs,2,3,"ng-template",7),e.qZA(),e.TgZ(13,"p-dialog",9),e.NdJ("visibleChange",function(p){return i.showEquipmentDialog=p}),e.TgZ(14,"div",10)(15,"div",11)(16,"label"),e._uU(17,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(18,"input",12),e.qZA(),e.TgZ(19,"div",11)(20,"label"),e._uU(21,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(22,"textarea",13),e.qZA(),e.TgZ(23,"div",11)(24,"label"),e._uU(25,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),e.qZA(),e._UZ(26,"p-inputNumber",14),e.qZA(),e.TgZ(27,"div",15)(28,"p-button",16),e.NdJ("onClick",function(){return i.editionEquipmentId?i.editEquipment():i.createEquipment()}),e.qZA()()()(),e.YNc(29,Oo,13,1,"ng-template",null,17,e.W1O)),2&t){const s=e.MAs(6);e.xp6(3),e.Udp("margin-bottom","1rem"),e.xp6(1),e.Q6J("ngTemplateOutlet",s),e.xp6(5),e.Akn(e.DdM(35,Ar)),e.Q6J("visible",i.createTagDialogVisible)("breakpoints",e.DdM(36,Io))("draggable",!1)("modal",!0)("resizable",!1)("dismissableMask",!0),e.xp6(2),e.Akn(e.DdM(37,Ar)),e.Q6J("visible",i.editTagDialogVisible)("breakpoints",e.DdM(38,Io))("draggable",!1)("modal",!0)("resizable",!1)("dismissableMask",!0),e.xp6(2),e.Akn(e.DdM(39,Eo)),e.Q6J("visible",i.showEquipmentDialog)("breakpoints",e.DdM(40,Es))("draggable",!1)("dismissableMask",!0)("header",i.editionEquipmentId?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435")("modal",!0)("resizable",!1),e.xp6(1),e.Q6J("formGroup",i.equipmentForm),e.xp6(8),e.Udp("min-height","5rem"),e.Q6J("autoResize",!0),e.xp6(6),e.Q6J("disabled",!i.equipmentForm.valid)("label",i.editionEquipmentId?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")("loading",i.isEquipmentCreating)}},styles:[".templates-scroller[_ngcontent-%COMP%]{height:100%}.template-item[_ngcontent-%COMP%]{padding:.8rem .8rem 1.1rem 1.1rem;font-size:1.2rem;color:var(--tc-700);transition:background-color .2s ease-out}.template-item-main-info-description[_ngcontent-%COMP%]{font-size:.9rem;color:var(--tc-500)}.template-item-created-date[_ngcontent-%COMP%]{font-size:.8rem;color:var(--tc-500);display:flex;flex-direction:column;align-items:flex-end}.title[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:300;color:var(--tc-600)}.task-tags-list[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;overflow-y:auto}.append-tag-button[_ngcontent-%COMP%]{background-color:#fff;color:var(--tc-500);font-size:1rem;font-weight:700;padding:1rem;display:flex;align-items:center;justify-content:center;cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .1s ease-out}.append-tag-button[_ngcontent-%COMP%]:hover{background-color:var(--mc-0);color:var(--mc-500)}.template-create-button[_ngcontent-%COMP%]{background-color:#fff;color:var(--tc-500);font-size:1.2rem;font-weight:700;padding:2rem 1rem;display:flex;align-items:center;justify-content:center;cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .2s ease-out}.template-create-button[_ngcontent-%COMP%]:hover{background-color:var(--mc-0);color:var(--mc-500)}"]}),n})();var $o=b(1588),Fo=b(9841),or=b(4304),Vo=b(1819),Ao=b(5315),Ri=b(1777);function sr(n,o){if(1&n&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.uIk("id",t.id+"_header"),e.xp6(1),e.Oqu(t.header)}}function fa(n,o){1&n&&e.GkF(0)}function Qn(n,o){}function Oi(n,o){1&n&&e.YNc(0,Qn,0,0,"ng-template")}function rr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.onIconClick(s))})("keydown.enter",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.onIconClick(s))}),e._UZ(1,"span"),e.qZA()}if(2&n){const t=e.oxw(2);e.uIk("aria-label","collapse button")("id",t.id+"-label")("aria-controls",t.id+"-content")("aria-expanded",!t.collapsed),e.xp6(1),e.Tol(t.collapsed?t.expandIcon:t.collapseIcon)}}const Yr=function(n,o,t){return{"p-panel-icons-start":n,"p-panel-icons-end":o,"p-panel-icons-center":t}};function Xi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.onHeaderClick(s))}),e.YNc(1,sr,2,2,"span",7),e.Hsn(2,1),e.YNc(3,fa,1,0,"ng-container",4),e.TgZ(4,"div",8),e.YNc(5,Oi,1,0,null,4),e.YNc(6,rr,2,6,"button",9),e.qZA()()}if(2&n){const t=e.oxw();e.uIk("id",t.id+"-titlebar"),e.xp6(1),e.Q6J("ngIf",t.header),e.xp6(2),e.Q6J("ngTemplateOutlet",t.headerTemplate),e.xp6(1),e.Q6J("ngClass",e.kEZ(6,Yr,"start"===t.iconPos,"end"===t.iconPos,"center"===t.iconPos)),e.xp6(1),e.Q6J("ngTemplateOutlet",t.iconTemplate),e.xp6(1),e.Q6J("ngIf",t.toggleable)}}function na(n,o){1&n&&e.GkF(0)}function ar(n,o){1&n&&e.GkF(0)}function Ss(n,o){if(1&n&&(e.TgZ(0,"div",12),e.Hsn(1,2),e.YNc(2,ar,1,0,"ng-container",4),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}const ca=["*",[["p-header"]],[["p-footer"]]],ms=function(n,o){return{"p-panel p-component":!0,"p-panel-toggleable":n,"p-panel-expanded":o}},Bs=function(n){return{transitionParams:n,height:"0",opacity:"0"}},jr=function(n){return{value:"hidden",params:n}},nt=function(n){return{transitionParams:n,height:"*",opacity:"1"}},Ze=function(n){return{value:"visible",params:n}},Se=["*","p-header","p-footer"];let kt=0,Ln=(()=>{class n{constructor(t){this.el=t,this.collapsed=!1,this.iconPos="end",this.expandIcon="pi pi-plus",this.collapseIcon="pi pi-minus",this.showHeader=!0,this.toggler="icon",this.collapsedChange=new e.vpe,this.onBeforeToggle=new e.vpe,this.onAfterToggle=new e.vpe,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-panel-"+kt++}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"icons":this.iconTemplate=t.template}})}onHeaderClick(t){"header"===this.toggler&&this.toggle(t)}onIconClick(t){"icon"===this.toggler&&this.toggle(t)}toggle(t){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:t,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand(t):this.collapse(t)),t.preventDefault()}expand(t){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(t){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onToggleDone(t){this.animating=!1,this.onAfterToggle.emit({originalEvent:t,collapsed:this.collapsed})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-panel"]],contentQueries:function(t,i,s){if(1&t&&(e.Suo(s,F.$_,5),e.Suo(s,F.jx,4)),2&t){let p;e.iGM(p=e.CRH())&&(i.footerFacet=p.first),e.iGM(p=e.CRH())&&(i.templates=p)}},hostAttrs:[1,"p-element"],inputs:{toggleable:"toggleable",header:"header",collapsed:"collapsed",style:"style",styleClass:"styleClass",iconPos:"iconPos",expandIcon:"expandIcon",collapseIcon:"collapseIcon",showHeader:"showHeader",toggler:"toggler",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:Se,decls:7,vars:23,consts:[[3,"ngClass","ngStyle"],["class","p-panel-header",3,"click",4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-panel-content"],[4,"ngTemplateOutlet"],["class","p-panel-footer",4,"ngIf"],[1,"p-panel-header",3,"click"],["class","p-panel-title",4,"ngIf"],["role","tablist",1,"p-panel-icons",3,"ngClass"],["type","button","class","p-panel-header-icon p-panel-toggler p-link","pRipple","","role","tab",3,"click","keydown.enter",4,"ngIf"],[1,"p-panel-title"],["type","button","pRipple","","role","tab",1,"p-panel-header-icon","p-panel-toggler","p-link",3,"click","keydown.enter"],[1,"p-panel-footer"]],template:function(t,i){1&t&&(e.F$t(ca),e.TgZ(0,"div",0),e.YNc(1,Xi,7,10,"div",1),e.TgZ(2,"div",2),e.NdJ("@panelContent.done",function(p){return i.onToggleDone(p)}),e.TgZ(3,"div",3),e.Hsn(4),e.YNc(5,na,1,0,"ng-container",4),e.qZA(),e.YNc(6,Ss,3,1,"div",5),e.qZA()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass",e.WLB(12,ms,i.toggleable,!i.collapsed&&i.toggleable))("ngStyle",i.style),e.uIk("id",i.id),e.xp6(1),e.Q6J("ngIf",i.showHeader),e.xp6(1),e.Q6J("@panelContent",i.collapsed?e.VKq(17,jr,e.VKq(15,Bs,i.animating?i.transitionOptions:"0ms")):e.VKq(21,Ze,e.VKq(19,nt,i.animating?i.transitionOptions:"0ms"))),e.uIk("id",i.id+"-content")("aria-hidden",i.collapsed)("aria-labelledby",i.id+"-titlebar"),e.xp6(3),e.Q6J("ngTemplateOutlet",i.contentTemplate),e.xp6(1),e.Q6J("ngIf",i.footerFacet||i.footerTemplate))},dependencies:[S.mk,S.O5,S.tP,S.PC,be.H],styles:[".p-panel-header{display:flex;align-items:center}.p-panel-title{line-height:1;order:1}.p-panel-header-icon{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-panel-toggleable.p-panel-expanded .p-toggleable-content:not(.ng-animating){overflow:visible}.p-panel-toggleable .p-toggleable-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[(0,Ri.X$)("panelContent",[(0,Ri.SB)("hidden",(0,Ri.oB)({height:"0"})),(0,Ri.SB)("void",(0,Ri.oB)({height:"{{height}}"}),{params:{height:"0"}}),(0,Ri.SB)("visible",(0,Ri.oB)({height:"*"})),(0,Ri.eR)("visible <=> hidden",[(0,Ri.jt)("{{transitionParams}}")]),(0,Ri.eR)("void => hidden",(0,Ri.jt)("{{transitionParams}}")),(0,Ri.eR)("void => visible",(0,Ri.jt)("{{transitionParams}}"))])]},changeDetection:0}),n})(),fi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[S.ez,F.m8,be.T,F.m8]}),n})();var Gi=b(4119),bo=b(5730),Po=b(5921),us=b(5573);const Ws=["listelement"],lr=["filter"];function wr(n,o){if(1&n&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.header)}}function Er(n,o){1&n&&e.GkF(0)}function Rr(n,o){if(1&n&&(e.TgZ(0,"div",13),e.YNc(1,wr,2,1,"div",14),e.YNc(2,Er,1,0,"ng-container",15),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.headerTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.headerTemplate)}}function Xs(n,o){1&n&&e.GkF(0)}const Nr=function(n){return{options:n}};function cr(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Xs,1,0,"ng-container",20),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.filterTemplate)("ngTemplateOutletContext",e.VKq(2,Nr,t.filterOptions))}}function ma(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"input",22,23),e.NdJ("keyup",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.onFilterKeyup(s))}),e.qZA(),e._UZ(3,"span",24),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.disabled),e.uIk("placeholder",t.filterPlaceholder)("aria-label",t.ariaFilterLabel)}}function Fa(n,o){if(1&n&&(e.TgZ(0,"div",17),e.YNc(1,cr,2,4,"ng-container",18),e.YNc(2,ma,4,3,"ng-template",null,19,e.W1O),e.qZA()),2&n){const t=e.MAs(3),i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.filterTemplate)("ngIfElse",t)}}function Xa(n,o){1&n&&e.GkF(0)}const Oe=function(n,o){return{"p-highlight":n,"p-disabled":o}},pt=function(n,o){return{$implicit:n,index:o}};function Ve(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",26),e.NdJ("click",function(s){e.CHM(t);const p=e.oxw(),w=p.$implicit,Q=p.index,Ce=e.oxw();return e.KtG(Ce.onItemClick(s,w,Q))})("touchend",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onItemTouchEnd())})("keydown",function(s){e.CHM(t);const p=e.oxw(),w=p.$implicit,Q=p.index,Ce=e.oxw();return e.KtG(Ce.onItemKeydown(s,w,Q))}),e.YNc(1,Xa,1,0,"ng-container",20),e.qZA()}if(2&n){const t=e.oxw(),i=t.$implicit,s=t.index,p=e.oxw();e.Q6J("ngClass",e.WLB(6,Oe,p.isSelected(i),p.disabled))("cdkDragData",i)("cdkDragDisabled",!p.dragdrop),e.uIk("aria-selected",p.isSelected(i)),e.xp6(1),e.Q6J("ngTemplateOutlet",p.itemTemplate)("ngTemplateOutletContext",e.WLB(9,pt,i,s))}}function St(n,o){if(1&n&&e.YNc(0,Ve,2,12,"li",25),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngIf",i.isItemVisible(t))}}function on(n,o){1&n&&e.GkF(0)}function Dn(n,o){if(1&n&&(e.TgZ(0,"li",28),e.YNc(1,on,1,0,"ng-container",15),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyMessageTemplate)}}function Nn(n,o){1&n&&e.GkF(0)}function ui(n,o){if(1&n&&(e.TgZ(0,"li",28),e.YNc(1,Nn,1,0,"ng-container",15),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyFilterMessageTemplate)}}function eo(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Dn,2,1,"li",27),e.YNc(2,ui,2,1,"li",27),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.filterValue||!t.emptyFilterMessageTemplate),e.xp6(1),e.Q6J("ngIf",t.filterValue)}}const uo=function(n,o,t){return{"p-orderlist p-component":!0,"p-orderlist-striped":n,"p-orderlist-controls-left":o,"p-orderlist-controls-right":t}};let mo=(()=>{class n{constructor(t,i,s){this.el=t,this.cd=i,this.filterService=s,this.metaKeySelection=!0,this.dragdrop=!1,this.controlsPosition="left",this.filterMatchMode="contains",this.breakpoint="960px",this.disabled=!1,this.selectionChange=new e.vpe,this.trackBy=(p,w)=>w,this.onReorder=new e.vpe,this.onSelectionChange=new e.vpe,this.onFilterEvent=new e.vpe,this._selection=[],this.id=(0,Po.Th)()}get selection(){return this._selection}set selection(t){this._selection=t}ngOnInit(){this.responsive&&this.createStyle(),this.filterBy&&(this.filterOptions={filter:t=>this.onFilterKeyup(t),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"empty":this.emptyMessageTemplate=t.template;break;case"emptyfilter":this.emptyFilterMessageTemplate=t.template;break;case"filter":this.filterTemplate=t.template;break;case"header":this.headerTemplate=t.template}})}ngAfterViewChecked(){if(this.movedUp||this.movedDown){let i,t=bo.p.find(this.listViewChild.nativeElement,"li.p-highlight");t.length>0&&(i=this.movedUp?t[0]:t[t.length-1],bo.p.scrollInView(this.listViewChild.nativeElement,i)),this.movedUp=!1,this.movedDown=!1}}get value(){return this._value}set value(t){this._value=t,this.filterValue&&this.filter()}onItemClick(t,i,s){this.itemTouched=!1;let p=Po.gb.findIndexInList(i,this.selection),w=-1!=p;if(!this.itemTouched&&this.metaKeySelection){let Ce=t.metaKey||t.ctrlKey||t.shiftKey;w&&Ce?this._selection=this._selection.filter((qe,$e)=>$e!==p):(this._selection=Ce&&this._selection?[...this._selection]:[],Po.gb.insertIntoOrderedArray(i,s,this._selection,this.value))}else w?this._selection=this._selection.filter((Ce,qe)=>qe!==p):(this._selection=this._selection?[...this._selection]:[],Po.gb.insertIntoOrderedArray(i,s,this._selection,this.value));this.selectionChange.emit(this._selection),this.onSelectionChange.emit({originalEvent:t,value:this._selection})}onFilterKeyup(t){this.filterValue=t.target.value.trim().toLocaleLowerCase(this.filterLocale),this.filter(),this.onFilterEvent.emit({originalEvent:t,value:this.visibleOptions})}filter(){let t=this.filterBy.split(",");this.visibleOptions=this.filterService.filter(this.value,t,this.filterValue,this.filterMatchMode,this.filterLocale)}resetFilter(){this.filterValue=null,this.filterViewChild&&(this.filterViewChild.nativeElement.value="")}isItemVisible(t){if(!this.filterValue||!this.filterValue.trim().length)return!0;for(let i=0;i<this.visibleOptions.length;i++)if(t==this.visibleOptions[i])return!0}onItemTouchEnd(){this.itemTouched=!0}isSelected(t){return-1!=Po.gb.findIndexInList(t,this.selection)}isEmpty(){return this.filterValue?!this.visibleOptions||0===this.visibleOptions.length:!this.value||0===this.value.length}moveUp(){if(this.selection){for(let t=0;t<this.selection.length;t++){let s=Po.gb.findIndexInList(this.selection[t],this.value);if(0==s)break;{let w=this.value[s-1];this.value[s-1]=this.value[s],this.value[s]=w}}this.dragdrop&&this.filterValue&&this.filter(),this.movedUp=!0,this.onReorder.emit(this.selection)}}moveTop(){if(this.selection){for(let t=this.selection.length-1;t>=0;t--){let s=Po.gb.findIndexInList(this.selection[t],this.value);if(0==s)break;{let p=this.value.splice(s,1)[0];this.value.unshift(p)}}this.dragdrop&&this.filterValue&&this.filter(),this.onReorder.emit(this.selection),this.listViewChild.nativeElement.scrollTop=0}}moveDown(){if(this.selection){for(let t=this.selection.length-1;t>=0;t--){let s=Po.gb.findIndexInList(this.selection[t],this.value);if(s==this.value.length-1)break;{let w=this.value[s+1];this.value[s+1]=this.value[s],this.value[s]=w}}this.dragdrop&&this.filterValue&&this.filter(),this.movedDown=!0,this.onReorder.emit(this.selection)}}moveBottom(){if(this.selection){for(let t=0;t<this.selection.length;t++){let s=Po.gb.findIndexInList(this.selection[t],this.value);if(s==this.value.length-1)break;{let p=this.value.splice(s,1)[0];this.value.push(p)}}this.dragdrop&&this.filterValue&&this.filter(),this.onReorder.emit(this.selection),this.listViewChild.nativeElement.scrollTop=this.listViewChild.nativeElement.scrollHeight}}onDrop(t){let i=t.previousIndex,s=t.currentIndex;i!==s&&(this.visibleOptions&&(this.filterValue&&(i=Po.gb.findIndexInList(t.item.data,this.value),s=Po.gb.findIndexInList(this.visibleOptions[s],this.value)),(0,us.bA)(this.visibleOptions,t.previousIndex,t.currentIndex)),(0,us.bA)(this.value,i,s),this.onReorder.emit([t.item.data]))}onItemKeydown(t,i,s){let p=t.currentTarget;switch(t.which){case 40:var w=this.findNextItem(p);w&&w.focus(),t.preventDefault();break;case 38:var Q=this.findPrevItem(p);Q&&Q.focus(),t.preventDefault();break;case 13:this.onItemClick(t,i,s),t.preventDefault()}}findNextItem(t){let i=t.nextElementSibling;return i?!bo.p.hasClass(i,"p-orderlist-item")||bo.p.isHidden(i)?this.findNextItem(i):i:null}findPrevItem(t){let i=t.previousElementSibling;return i?!bo.p.hasClass(i,"p-orderlist-item")||bo.p.isHidden(i)?this.findPrevItem(i):i:null}moveDisabled(){if(this.disabled||!this.selection.length)return!0}createStyle(){this.styleElement||(this.el.nativeElement.children[0].setAttribute(this.id,""),this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement),this.styleElement.innerHTML=`\n                @media screen and (max-width: ${this.breakpoint}) {\n                    .p-orderlist[${this.id}] {\n                        flex-direction: column;\n                    }\n\n                    .p-orderlist[${this.id}] .p-orderlist-controls {\n                        padding: var(--content-padding);\n                        flex-direction: row;\n                    }\n\n                    .p-orderlist[${this.id}] .p-orderlist-controls .p-button {\n                        margin-right: var(--inline-spacing);\n                        margin-bottom: 0;\n                    }\n\n                    .p-orderlist[${this.id}] .p-orderlist-controls .p-button:last-child {\n                        margin-right: 0;\n                    }\n                }\n            `)}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.destroyStyle()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(F.iZ))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-orderList"]],contentQueries:function(t,i,s){if(1&t&&e.Suo(s,F.jx,4),2&t){let p;e.iGM(p=e.CRH())&&(i.templates=p)}},viewQuery:function(t,i){if(1&t&&(e.Gf(Ws,5),e.Gf(lr,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.listViewChild=s.first),e.iGM(s=e.CRH())&&(i.filterViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",style:"style",styleClass:"styleClass",listStyle:"listStyle",responsive:"responsive",filterBy:"filterBy",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",metaKeySelection:"metaKeySelection",dragdrop:"dragdrop",controlsPosition:"controlsPosition",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",breakpoint:"breakpoint",stripedRows:"stripedRows",disabled:"disabled",trackBy:"trackBy",selection:"selection",value:"value"},outputs:{selectionChange:"selectionChange",onReorder:"onReorder",onSelectionChange:"onSelectionChange",onFilterEvent:"onFilterEvent"},decls:13,vars:18,consts:[[3,"ngClass","ngStyle"],[1,"p-orderlist-controls"],["type","button","pButton","","pRipple","","icon","pi pi-angle-up",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-up",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-down",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-down",3,"disabled","click"],[1,"p-orderlist-list-container"],["class","p-orderlist-header",4,"ngIf"],["class","p-orderlist-filter-container",4,"ngIf"],["cdkDropList","",1,"p-orderlist-list",3,"ngStyle","cdkDropListDropped"],["listelement",""],["ngFor","",3,"ngForTrackBy","ngForOf"],[4,"ngIf"],[1,"p-orderlist-header"],["class","p-orderlist-title",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"p-orderlist-title"],[1,"p-orderlist-filter-container"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-orderlist-filter"],["type","text","role","textbox",1,"p-orderlist-filter-input","p-inputtext","p-component",3,"disabled","keyup"],["filter",""],[1,"p-orderlist-filter-icon","pi","pi-search"],["class","p-orderlist-item","tabindex","0","cdkDrag","","pRipple","","role","option",3,"ngClass","cdkDragData","cdkDragDisabled","click","touchend","keydown",4,"ngIf"],["tabindex","0","cdkDrag","","pRipple","","role","option",1,"p-orderlist-item",3,"ngClass","cdkDragData","cdkDragDisabled","click","touchend","keydown"],["class","p-orderlist-empty-message",4,"ngIf"],[1,"p-orderlist-empty-message"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return i.moveUp()}),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){return i.moveTop()}),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){return i.moveDown()}),e.qZA(),e.TgZ(5,"button",5),e.NdJ("click",function(){return i.moveBottom()}),e.qZA()(),e.TgZ(6,"div",6),e.YNc(7,Rr,3,2,"div",7),e.YNc(8,Fa,4,2,"div",8),e.TgZ(9,"ul",9,10),e.NdJ("cdkDropListDropped",function(p){return i.onDrop(p)}),e.YNc(11,St,1,1,"ng-template",11),e.YNc(12,eo,3,2,"ng-container",12),e.qZA()()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass",e.kEZ(14,uo,i.stripedRows,"left"===i.controlsPosition,"right"===i.controlsPosition))("ngStyle",i.style),e.xp6(2),e.Q6J("disabled",i.moveDisabled()),e.xp6(1),e.Q6J("disabled",i.moveDisabled()),e.xp6(1),e.Q6J("disabled",i.moveDisabled()),e.xp6(1),e.Q6J("disabled",i.moveDisabled()),e.xp6(2),e.Q6J("ngIf",i.header||i.headerTemplate),e.xp6(1),e.Q6J("ngIf",i.filterBy),e.xp6(1),e.Q6J("ngStyle",i.listStyle),e.xp6(2),e.Q6J("ngForTrackBy",i.trackBy)("ngForOf",i.value),e.xp6(1),e.Q6J("ngIf",i.isEmpty()&&(i.emptyMessageTemplate||i.emptyFilterMessageTemplate)))},dependencies:[S.mk,S.sg,S.O5,S.tP,S.PC,O.Hq,be.H,us.Wj,us.Zt],styles:[".p-orderlist{display:flex}.p-orderlist-controls{display:flex;flex-direction:column;justify-content:center}.p-orderlist-list-container{flex:1 1 auto}.p-orderlist-list{list-style-type:none;margin:0;padding:0;overflow:auto;min-height:12rem}.p-orderlist-item{display:block;cursor:pointer;overflow:hidden;position:relative}.p-orderlist-item:not(.cdk-drag-disabled){cursor:move}.p-orderlist-item.cdk-drag-placeholder{opacity:0}.p-orderlist-item.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.p-orderlist.p-state-disabled .p-orderlist-item,.p-orderlist.p-state-disabled .p-button{cursor:default}.p-orderlist.p-state-disabled .p-orderlist-list{overflow:hidden}.p-orderlist-filter{position:relative}.p-orderlist-filter-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-orderlist-filter-input{width:100%}.p-orderlist-controls-right .p-orderlist-controls{order:2}.p-orderlist-controls-right .p-orderlist-list-container{order:1}.p-orderlist-list.cdk-drop-list-dragging .p-orderlist-item:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}\n"],encapsulation:2,changeDetection:0}),n})(),ji=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[S.ez,O.hJ,F.m8,be.T,us._t,F.m8,us._t]}),n})();var _o=b(1874),bi=b(1424),yo=b(5055),jo=b(9873);const Zs=["stepsContextMenuElem"];function ds(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",55),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().index,p=e.oxw(2);return e.KtG(p.removeStep(s))}),e.qZA()}}const ur=function(n,o){return{"cursor-pointer hover:text-primary-400":n,"cursor-default font-bold":o}},ft=function(n){return{"bg-primary":n}};function ae(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",50),e.NdJ("click",function(){const p=e.CHM(t).index,w=e.oxw(2);return e.KtG(w.activeStepIndex!==p&&(w.activeStepIndex=p))}),e.TgZ(1,"div",51),e._uU(2),e.qZA(),e.TgZ(3,"div",52)(4,"span"),e._uU(5),e.qZA(),e.YNc(6,ds,1,0,"span",53),e.qZA(),e.TgZ(7,"div",54),e.NdJ("onDragEnter",function(s){const w=e.CHM(t).index,Q=e.oxw(2);return e.KtG(Q.dragEnterStage(s,w))})("onDragLeave",function(s){const w=e.CHM(t).index,Q=e.oxw(2);return e.KtG(Q.dragLeaveStage(s,w))})("onDrop",function(s){const w=e.CHM(t).index,Q=e.oxw(2);return e.KtG(Q.dropToStage(s,w))}),e.qZA()()}if(2&n){const t=o.$implicit,i=o.index,s=e.oxw(2);e.Q6J("ngClass",e.WLB(5,ur,s.activeStepIndex!==i,s.activeStepIndex===i)),e.xp6(2),e.Oqu(i+1),e.xp6(3),e.Oqu(t.label),e.xp6(1),e.Q6J("ngIf",i>0),e.xp6(1),e.Q6J("ngClass",e.VKq(8,ft,s.stageHoverTarget===i))}}const pe=function(n){return{"pointer-events-none":n}};function We(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",62),e.NdJ("onDrop",function(s){e.CHM(t);const p=e.oxw().index,w=e.oxw(2);return e.KtG(w.drop(s,p,"up"))})("onDragEnter",function(s){e.CHM(t);const p=e.oxw().index,w=e.oxw(2);return e.KtG(w.dragEnter(s,p,"top"))})("onDragLeave",function(s){e.CHM(t);const p=e.oxw().index,w=e.oxw(2);return e.KtG(w.dragLeave(s,p,"top"))}),e.qZA()}if(2&n){const t=e.oxw(3);e.Udp("height","50%"),e.Q6J("ngClass",e.VKq(3,pe,!t.draggedField))}}function yt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",63),e.NdJ("onDrop",function(s){e.CHM(t);const p=e.oxw().index,w=e.oxw(2);return e.KtG(w.drop(s,p,"down"))})("onDragEnter",function(s){e.CHM(t);const p=e.oxw().index,w=e.oxw(2);return e.KtG(w.dragEnter(s,p,"bottom"))})("onDragLeave",function(s){e.CHM(t);const p=e.oxw().index,w=e.oxw(2);return e.KtG(w.dragLeave(s,p,"bottom"))}),e.qZA()}if(2&n){const t=e.oxw(3);e.Udp("height","50%"),e.Q6J("ngClass",e.VKq(3,pe,!t.draggedField))}}const Jt=function(n){return{"opacity-50":n}};function un(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",56),e.NdJ("onDragStart",function(s){const w=e.CHM(t).$implicit,Q=e.oxw(2);return e.KtG(Q.dragStart(s,w))})("onDrag",function(s){const w=e.CHM(t).$implicit,Q=e.oxw(2);return e.KtG(Q.drag(s,w))})("onDragEnd",function(s){const w=e.CHM(t).$implicit,Q=e.oxw(2);return e.KtG(Q.dragEnd(s,w))}),e.YNc(1,We,1,5,"div",57),e._UZ(2,"span",58)(3,"app-task-template-input",59),e.TgZ(4,"p-button",60),e.NdJ("click",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.deleteField(p.id))}),e.qZA(),e.YNc(5,yt,1,5,"div",61),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("ngClass",e.VKq(5,Jt,i.draggedField===t)),e.xp6(1),e.Q6J("ngIf",i.draggedField!==t),e.xp6(2),e.Q6J("field",t)("isExample",!0),e.xp6(2),e.Q6J("ngIf",i.draggedField!==t)}}function _n(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",28)(2,"div",29)(3,"p-button",30),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.nav.backOrDefault(["/"]))}),e.qZA(),e.TgZ(4,"p-button",31),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.changeStagesSettingsStep())}),e.qZA()(),e.TgZ(5,"div",32)(6,"div",33)(7,"label"),e._uU(8,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.TgZ(9,"input",34),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.wireframe.name=s)}),e.qZA()()(),e.TgZ(10,"div",33)(11,"label"),e._uU(12,"\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"),e.qZA(),e.TgZ(13,"app-observer-selector-input",35),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.wireframe.defaultObservers=s)}),e.qZA()(),e.TgZ(14,"div",36)(15,"div",37)(16,"label"),e._uU(17,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.TgZ(18,"textarea",38),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.wireframe.description=s)}),e.qZA()()(),e.TgZ(19,"p-button",39),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.createStep())}),e.qZA(),e.TgZ(20,"div",40),e.YNc(21,ae,8,10,"div",41),e.qZA()(),e.TgZ(22,"div",42)(23,"div",43)(24,"div",44)(25,"span",45),e._uU(26),e.qZA(),e.TgZ(27,"app-editing-caption",46),e.NdJ("captionChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.stepsPanelCaptionUpdate(s))})("onStopEditing",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.fillingEmptyStepName())})("captionChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.wireframe.steps[p.activeStepIndex].name=s)}),e.qZA()(),e.TgZ(28,"div",47),e.YNc(29,un,6,7,"div",48),e.TgZ(30,"app-button",49),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.chooseFieldTypeDialogVisible=!0)}),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("disabled",!t.wireframe.name),e.xp6(5),e.Q6J("ngModel",t.wireframe.name)("disabled",void 0!==t.editingId),e.xp6(4),e.Q6J("ngModel",t.wireframe.defaultObservers),e.xp6(5),e.Q6J("ngModel",t.wireframe.description)("autoResize",!0),e.xp6(3),e.Q6J("ngForOf",t.stepsArray)("ngForTrackBy",t.trackByStep),e.xp6(2),e.Udp("min-width","40rem"),e.xp6(3),e.hij("\u042d\u0442\u0430\u043f ",t.activeStepIndex+1,":"),e.xp6(1),e.Q6J("caption",t.wireframe.steps[t.activeStepIndex].name),e.xp6(2),e.Q6J("ngForOf",t.wireframe.steps[t.activeStepIndex].fields)}}function En(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",73)(1,"span",74),e._uU(2,"drag_indicator"),e.qZA(),e.TgZ(3,"span",75),e._uU(4),e.qZA(),e.TgZ(5,"input",76,77),e.NdJ("mousedown",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.mouseDown(s))})("focus",function(){e.CHM(t);const s=e.MAs(6);return e.KtG(s.select())})("ngModelChange",function(s){const w=e.CHM(t).$implicit;return e.KtG(w.label=s)}),e.qZA(),e._UZ(7,"div",78),e.TgZ(8,"p-button",79),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.openTaskTypeDirectoriesDialog(p))})("mousedown",function(s){return s.stopPropagation()}),e.qZA(),e.TgZ(9,"p-button",80),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.openOldTrackerStageBind(p))})("mousedown",function(s){return s.stopPropagation()}),e.qZA(),e.TgZ(10,"p-button",81),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.removeStage(p.stageId))})("mousedown",function(s){return s.stopPropagation()}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(4),e.hij("",t.orderIndex+1,"."),e.xp6(1),e.Q6J("ngModel",t.label)}}const Vn=function(){return[]};function Yt(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",64)(2,"div",65)(3,"app-button",66),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.constructStage="FIELDS")}),e.qZA(),e.TgZ(4,"app-button",67),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.changeViewSettingsStep())}),e.qZA()()(),e.TgZ(5,"div",68)(6,"p-panel",69)(7,"div",64)(8,"app-button",70),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.createStage())}),e.qZA(),e.TgZ(9,"p-orderList",71),e.NdJ("onReorder",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.reorderStages())}),e.YNc(10,En,11,2,"ng-template",72),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw();let i;e.xp6(3),e.Q6J("disabled",!t.wireframe.name),e.xp6(1),e.Q6J("disabled",!t.wireframe.name),e.xp6(5),e.Q6J("dragdrop",!0)("value",null!==(i=t.wireframe.stages)&&void 0!==i?i:e.DdM(4,Vn))}}function Ne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",92),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createWireframe())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",!t.wireframe.name)}}function Ue(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",93),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.updateWireframe())}),e.qZA()}}function mt(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.label," ")}}function Lt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",94),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openAppendDocumentDialog())}),e.qZA()}}function an(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",95)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"p-button",96),e.NdJ("mousedown",function(s){return s.stopPropagation()})("onClick",function(s){const w=e.CHM(t).index,Q=e.oxw(2);return s.stopPropagation(),e.KtG(Q.deleteDocumentTemplate(w))}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.name)}}function An(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"\u041d\u0435\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432"),e.qZA())}function On(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",82)(2,"div",83)(3,"app-button",66),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.constructStage="STAGES")}),e.qZA(),e.YNc(4,Ne,1,1,"app-button",84),e.YNc(5,Ue,1,0,"app-button",85),e.qZA(),e.TgZ(6,"div",86)(7,"span",87),e._uU(8," \u041f\u043e\u0440\u044f\u0434\u043e\u043a \u043f\u043e\u043b\u0435\u0439 "),e.qZA(),e.TgZ(9,"div",88)(10,"p-orderList",71),e.NdJ("onReorder",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.reorderFields())}),e.YNc(11,mt,2,1,"ng-template",72),e.qZA()()(),e.TgZ(12,"div",86)(13,"span",87),e._uU(14," \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f "),e.qZA(),e.TgZ(15,"div",88)(16,"p-listbox",89),e.NdJ("onClick",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.openEditDocumentDialog(s.option))}),e.YNc(17,Lt,1,0,"ng-template",90),e.YNc(18,an,4,1,"ng-template",72),e.YNc(19,An,2,0,"ng-template",91),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw();let i;e.xp6(3),e.Q6J("disabled",!t.wireframe.name),e.xp6(1),e.Q6J("ngIf",void 0===t.editingId),e.xp6(1),e.Q6J("ngIf",void 0!==t.editingId),e.xp6(5),e.Q6J("dragdrop",!0)("value",t.wireframeFieldsList),e.xp6(6),e.Q6J("options",null!==(i=t.wireframe.documentTemplates)&&void 0!==i?i:e.DdM(6,Vn))}}function $n(n,o){1&n&&e.GkF(0)}const ni=function(n){return{$implicit:n}};function Ai(n,o){if(1&n&&(e.ynx(0),e.YNc(1,$n,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw(2),i=e.MAs(11);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ni,t.documentDialogForm))}}function Wi(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",102),e._UZ(2,"span",103),e.TgZ(3,"span"),e._uU(4,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"),e.qZA()(),e.BQk())}function zo(n,o){1&n&&e.GkF(0)}function Jo(n,o){if(1&n&&(e.ynx(0),e.YNc(1,zo,1,0,"ng-container",104),e.BQk()),2&n){const t=e.oxw(2),i=e.MAs(7),s=e.MAs(9);e.xp6(1),e.Q6J("ngIf","new"===t.documentDialogMode)("ngIfThen",i)("ngIfElse",s)}}function fo(n,o){if(1&n&&(e.TgZ(0,"div",33)(1,"label"),e._uU(2,"\u0422\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"),e.qZA(),e._UZ(3,"p-dropdown",97),e.ALo(4,"async"),e.qZA(),e.ynx(5,98),e.YNc(6,Ai,2,4,"ng-container",1),e.YNc(7,Wi,5,0,"ng-container",99),e.YNc(8,Jo,2,3,"ng-container",100),e.BQk()),2&n){const t=e.oxw();let i;e.xp6(3),e.Q6J("options",null!==(i=e.lcZ(4,5,t.documentTypesOptions$))&&void 0!==i?i:e.DdM(7,Vn))("disabled","edit"===t.documentDialogMode),e.xp6(2),e.Q6J("ngSwitch",t.documentDialogForm.value.type),e.xp6(1),e.Q6J("ngSwitchCase","ConnectionAgreementTemplate"),e.xp6(2),e.Q6J("ngIf",t.documentDialogForm.value.type)}}function Bo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",105),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.createDocumentTemplate())}),e.qZA()}}function Lo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",106),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.editDocumentTemplate())}),e.qZA()}}function dr(n,o){if(1&n&&(e.TgZ(0,"div",107)(1,"div",108)(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u043b\u043e\u0433\u0438\u043d\u0430"),e.qZA(),e._UZ(5,"p-dropdown",109),e.qZA(),e.TgZ(6,"div",33)(7,"label"),e._uU(8,"\u041f\u043e\u043b\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"),e.qZA(),e._UZ(9,"p-dropdown",110),e.qZA(),e.TgZ(10,"div",33)(11,"label"),e._uU(12,"\u041f\u043e\u043b\u0435 \u0424\u0418\u041e"),e.qZA(),e._UZ(13,"p-dropdown",111),e.qZA(),e.TgZ(14,"div",33)(15,"label"),e._uU(16,"\u041f\u043e\u043b\u0435 \u0434\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),e.qZA(),e._UZ(17,"p-dropdown",112),e.qZA(),e.TgZ(18,"div",33)(19,"label"),e._uU(20,"\u041f\u043e\u043b\u0435 \u0440\u0435\u0433\u0438\u043e\u043d \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),e.qZA(),e._UZ(21,"p-dropdown",113),e.qZA()(),e.TgZ(22,"div",108)(23,"div",33)(24,"label"),e._uU(25,"\u041f\u043e\u043b\u0435 \u0433\u043e\u0440\u043e\u0434 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),e.qZA(),e._UZ(26,"p-dropdown",114),e.qZA(),e.TgZ(27,"div",33)(28,"label"),e._uU(29,"\u041f\u043e\u043b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430"),e.qZA(),e._UZ(30,"p-dropdown",115),e.qZA(),e.TgZ(31,"div",33)(32,"label"),e._uU(33,"\u041f\u043e\u043b\u0435 \u0430\u0434\u0440\u0435\u0441 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),e.qZA(),e._UZ(34,"p-dropdown",116),e.qZA(),e.TgZ(35,"div",33)(36,"label"),e._uU(37,"\u041f\u043e\u043b\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d"),e.qZA(),e._UZ(38,"p-dropdown",117),e.qZA(),e.TgZ(39,"div",33)(40,"label"),e._uU(41,"\u041f\u043e\u043b\u0435 \u0442\u0430\u0440\u0438\u0444"),e.qZA(),e._UZ(42,"p-dropdown",118),e.qZA()()()),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("formGroup",t),e.xp6(5),e.Q6J("options",i.wireframeFieldsList),e.xp6(4),e.Q6J("options",i.wireframeFieldsList),e.xp6(4),e.Q6J("options",i.wireframeFieldsList),e.xp6(4),e.Q6J("options",i.wireframeFieldsList),e.xp6(4),e.Q6J("options",i.wireframeFieldsList),e.xp6(5),e.Q6J("options",i.wireframeFieldsList),e.xp6(4),e.Q6J("options",i.wireframeFieldsList),e.xp6(4),e.Q6J("options",i.wireframeFieldsList),e.xp6(4),e.Q6J("options",i.wireframeFieldsList),e.xp6(4),e.Q6J("options",i.wireframeFieldsList)}}function Kr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",119)(1,"p-dropdown",120),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.createFieldType=s)}),e.ALo(2,"async"),e.qZA(),e.TgZ(3,"app-button",121),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.createField(s.createFieldType))}),e.qZA()()}if(2&n){const t=e.oxw();let i;e.xp6(1),e.Q6J("ngModel",t.createFieldType)("options",null!==(i=e.lcZ(2,2,t.fieldTypeOptions))&&void 0!==i?i:e.DdM(4,Vn))}}function Fr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",123)(1,"app-select-field-to-view-button",124),e.NdJ("selectView",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.selectFieldToView(s))}),e.qZA(),e._UZ(2,"div",78),e.TgZ(3,"div",29),e._UZ(4,"app-avatar",125),e.TgZ(5,"span",126),e._uU(6,"Creator"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("fields",t.wireframeFieldsList)("index",1),e.xp6(3),e.Q6J("size",1.8)}}function Us(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",123)(1,"div",127)(2,"app-select-field-to-view-button",124),e.NdJ("selectView",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.selectFieldToView(s))}),e.qZA(),e.TgZ(3,"app-select-field-to-view-button",128),e.NdJ("selectView",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.selectFieldToView(s))}),e.qZA()(),e._UZ(4,"div",78),e.TgZ(5,"div",29),e._UZ(6,"app-avatar",125),e.TgZ(7,"span",126),e._uU(8,"Creator"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("fields",t.wireframeFieldsList)("index",1),e.xp6(1),e.Q6J("fields",t.wireframeFieldsList)("index",2),e.xp6(3),e.Q6J("size",1.8)}}function Ma(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",123)(1,"div",127)(2,"div",129)(3,"app-select-field-to-view-button",124),e.NdJ("selectView",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.selectFieldToView(s))}),e.qZA(),e.TgZ(4,"span",126),e._uU(5,"-"),e.qZA(),e.TgZ(6,"app-select-field-to-view-button",130),e.NdJ("selectView",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.selectFieldToView(s))}),e.qZA()(),e.TgZ(7,"app-select-field-to-view-button",128),e.NdJ("selectView",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.selectFieldToView(s))}),e.qZA()(),e._UZ(8,"div",78),e.TgZ(9,"div",29),e._UZ(10,"app-avatar",125),e.TgZ(11,"span",126),e._uU(12,"Creator"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("fields",t.wireframeFieldsList)("index",1),e.xp6(3),e.Q6J("fields",t.wireframeFieldsList)("index",2),e.xp6(1),e.Q6J("fields",t.wireframeFieldsList)("index",3),e.xp6(3),e.Q6J("size",1.8)}}function xi(n,o){if(1&n&&(e.ynx(0,98),e.YNc(1,Fr,7,3,"div",122),e.YNc(2,Us,9,5,"div",122),e.YNc(3,Ma,13,7,"div",122),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.wireframe.listViewType),e.xp6(1),e.Q6J("ngSwitchCase","SIMPLE"),e.xp6(1),e.Q6J("ngSwitchCase","COMPOSITE"),e.xp6(1),e.Q6J("ngSwitchCase","DETAILED")}}function wi(n,o){1&n&&e.GkF(0)}function Pi(n,o){if(1&n&&(e.TgZ(0,"div",133),e._UZ(1,"span",134),e.TgZ(2,"span",135),e._uU(3,"\u041d\u0435\u0442 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438\u0306 \u0432 \u044d\u0442\u043e\u043c \u0442\u0438\u043f\u0435 \u0437\u0430\u0434\u0430\u0447"),e.qZA(),e.YNc(4,wi,1,0,"ng-container",136),e.qZA()),2&n){e.oxw(2);const t=e.MAs(23);e.xp6(4),e.Q6J("ngTemplateOutlet",t)}}function to(n,o){}function Qo(n,o){1&n&&e.YNc(0,to,0,0,"ng-template")}function Ro(n,o){1&n&&e.GkF(0)}function ks(n,o){if(1&n&&e.YNc(0,Ro,1,0,"ng-container",101),2&n){const t=o.$implicit;e.oxw(3);const i=e.MAs(21);e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ni,t))}}const pr=function(){return{"max-height":"35rem"}};function To(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.YNc(1,Qo,1,0,null,136),e.TgZ(2,"p-orderList",137),e.NdJ("onReorder",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.reorderTaskTypeDirectories())}),e.YNc(3,ks,1,4,"ng-template",72),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2),i=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("value",t.taskTypeDirectoriesList)("dragdrop",!0)("trackBy",t.trackByTaskTypeDirectories)("listStyle",e.DdM(5,pr))}}function qr(n,o){if(1&n){const t=e.EpF();e.YNc(0,Pi,5,1,"div",131),e.YNc(1,To,4,6,"ng-container",100),e.TgZ(2,"p-button",132),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.saveTaskTypeDirectories())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngIf",0===t.taskTypeDirectoriesFormArray.controls.length),e.xp6(1),e.Q6J("ngIf",t.taskTypeDirectoriesFormArray.controls.length>0),e.xp6(1),e.Q6J("disabled",t.taskTypeDirectoriesFormArray.invalid||!t.taskTypeDirectoriesFormArray.dirty)}}function pl(n,o){1&n&&e.GkF(0)}function No(n,o){if(1&n&&(e.TgZ(0,"div",138)(1,"div",139)(2,"div",33)(3,"label"),e._uU(4,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438"),e.qZA(),e._UZ(5,"input",140),e.qZA(),e.YNc(6,pl,1,0,"ng-container",101),e.qZA(),e.TgZ(7,"div",33)(8,"label"),e._uU(9,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(10,"textarea",141),e.qZA()()),2&n){const t=o.$implicit;e.oxw();const i=e.MAs(25);e.Q6J("formGroup",t),e.xp6(5),e.Q6J("size",32),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(7,ni,t.value.taskTypeDirectoryId)),e.xp6(4),e.Q6J("autoResize",!0)("rows",3)("cols",60)}}function Br(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",142),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.addTaskTypeDirectory())}),e.qZA()}}function Hs(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",143),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw();return e.KtG(w.removeTaskTypeDirectory(p))})("mousedown",function(s){return s.stopPropagation()}),e.qZA()}}function _a(n,o){1&n&&e.GkF(0)}function Oa(n,o){if(1&n&&(e.ynx(0),e.YNc(1,_a,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const i=e.MAs(37);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ni,t))}}function Ba(n,o){1&n&&e.GkF(0)}function Pl(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Ba,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const i=e.MAs(39);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ni,t))}}function hr(n,o){1&n&&e.GkF(0)}function Za(n,o){if(1&n&&(e.ynx(0),e.YNc(1,hr,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const i=e.MAs(43);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ni,t))}}function Ua(n,o){1&n&&e.GkF(0)}function Ha(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Ua,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const i=e.MAs(45);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ni,t))}}function Ca(n,o){1&n&&e.GkF(0)}function hl(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Ca,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const i=e.MAs(47);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ni,t))}}function nc(n,o){1&n&&e.GkF(0)}function va(n,o){if(1&n&&(e.ynx(0),e.YNc(1,nc,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const i=e.MAs(49);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ni,t))}}function So(n,o){1&n&&e.GkF(0)}function xc(n,o){1&n&&e.GkF(0)}function qc(n,o){1&n&&e.GkF(0)}function Ju(n,o){1&n&&e.GkF(0)}function Ic(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Ju,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const i=e.MAs(35);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ni,t))}}function Ll(n,o){1&n&&e.GkF(0)}function $c(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Ll,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const i=e.MAs(41);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ni,t))}}function Va(n,o){1&n&&(e.ynx(0,98),e.YNc(1,Oa,2,4,"ng-container",1),e.YNc(2,Pl,2,4,"ng-container",1),e.YNc(3,Za,2,4,"ng-container",1),e.YNc(4,Ha,2,4,"ng-container",1),e.YNc(5,hl,2,4,"ng-container",1),e.YNc(6,va,2,4,"ng-container",1),e.YNc(7,So,1,0,"ng-container",1),e.YNc(8,xc,1,0,"ng-container",1),e.YNc(9,qc,1,0,"ng-container",1),e.YNc(10,Ic,2,4,"ng-container",1),e.YNc(11,$c,2,4,"ng-container",1),e.BQk()),2&n&&(e.Q6J("ngSwitch",o.$implicit.value.type),e.xp6(1),e.Q6J("ngSwitchCase","AddressFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","PassportDetailsFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","AdSourceFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","ConnectionTypeFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","DateFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","DateTimeFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","DefaultFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","InstallersHardAssignFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","InstallersSimpleAssignFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","TextFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","FullNameFieldDataBind"))}function el(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",108)(2,"div",33)(3,"label"),e._uU(4,"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 \u044d\u0442\u0430\u043f \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(5,"p-dropdown",145),e.qZA(),e.TgZ(6,"div",33)(7,"label"),e._uU(8,"\u042d\u0442\u0430\u043f \u0437\u0430\u0434\u0430\u0447\u0438 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435"),e.qZA(),e._UZ(9,"p-dropdown",146),e.qZA(),e.TgZ(10,"div",33)(11,"label"),e._uU(12,"\u042d\u0442\u0430\u043f \u0437\u0430\u0434\u0430\u0447\u0438 \u0437\u0430\u043a\u0440\u044b\u0442 \u0432 \u0440\u0443\u0447\u043d\u0443\u044e"),e.qZA(),e._UZ(13,"p-dropdown",147),e.qZA(),e.TgZ(14,"div",33)(15,"label"),e._uU(16,"\u042d\u0442\u0430\u043f \u0437\u0430\u0434\u0430\u0447\u0438 \u0437\u0430\u043a\u0440\u044b\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438"),e.qZA(),e._UZ(17,"p-dropdown",148),e.qZA()(),e.TgZ(18,"div",149)(19,"p-button",150),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openAppendBindToIntegrationDialog())}),e.qZA(),e.TgZ(20,"div",64),e.YNc(21,Va,12,12,"ng-container",151),e.qZA()(),e.TgZ(22,"p-button",152),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.saveOldTrackerIntegration())}),e.qZA(),e.BQk()}if(2&n){const t=o.ngIf,i=e.oxw(2);e.xp6(5),e.Q6J("options",t.stages),e.xp6(4),e.Q6J("options",t.stages),e.xp6(4),e.Q6J("options",t.stages),e.xp6(4),e.Q6J("options",t.stages),e.xp6(4),e.Q6J("ngForOf",i.oldTrackerIntegrationForm.controls.fieldDataBinds.controls)}}function Tc(n,o){if(1&n&&(e.TgZ(0,"div",33)(1,"label"),e._uU(2,"\u0426\u0435\u043b\u0435\u0432\u043e\u0439 \u043a\u043b\u0430\u0441\u0441 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(3,"p-dropdown",144),e.ALo(4,"async"),e.qZA(),e.YNc(5,el,23,5,"ng-container",100),e.ALo(6,"async")),2&n){const t=e.oxw();let i;e.xp6(3),e.Q6J("options",null!==(i=e.lcZ(4,2,t.oldTrackerTaskClasses$))&&void 0!==i?i:e.DdM(6,Vn)),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,4,t.selectedTaskClass$))}}function Xc(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",153),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.selectedDataBind=s)}),e.qZA(),e.TgZ(1,"p-button",154),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.appendBindToIntegration())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("options",t.dataBindFieldOptions)("ngModel",t.selectedDataBind)}}function Ds(n,o){if(1&n&&(e.TgZ(0,"div",155)(1,"label"),e._uU(2,"\u041f\u043e\u043b\u0435 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435"),e.qZA(),e._UZ(3,"p-dropdown",156),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("formGroup",t),e.xp6(3),e.Q6J("options",i.wireframeFieldsList)}}function Rl(n,o){if(1&n){const t=e.EpF();e._UZ(0,"div",157),e.TgZ(1,"p-button",158),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw();return e.KtG(w.removeBind(p))}),e.qZA()}}function za(n,o){1&n&&e.GkF(0)}function Qu(n,o){1&n&&e.GkF(0)}function eu(n,o){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,za,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435 \u0442\u0440\u0435\u043a\u0435\u0440\u0430"),e.qZA(),e._UZ(5,"p-dropdown",161),e.qZA(),e.YNc(6,Qu,1,0,"ng-container",101),e.qZA()),2&n){const t=o.ngIf,i=e.oxw().$implicit;e.oxw();const s=e.MAs(31),p=e.MAs(33);e.Q6J("formGroup",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(6,ni,i)),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",e.VKq(8,ni,i))}}function Zr(n,o){if(1&n&&(e.YNc(0,eu,7,10,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function Ur(n,o){1&n&&e.GkF(0)}function tl(n,o){1&n&&e.GkF(0)}function gl(n,o){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,Ur,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0443\u043b\u0438\u0446\u044b"),e.qZA(),e._UZ(5,"p-dropdown",162),e.qZA(),e.TgZ(6,"div",33)(7,"label"),e._uU(8,"\u041f\u043e\u043b\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u0434\u043e\u043c\u0430"),e.qZA(),e._UZ(9,"p-dropdown",163),e.qZA(),e.TgZ(10,"div",33)(11,"label"),e._uU(12,"\u041f\u043e\u043b\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u044b"),e.qZA(),e._UZ(13,"p-dropdown",164),e.qZA(),e.TgZ(14,"div",33)(15,"label"),e._uU(16,"\u041f\u043e\u043b\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u043f\u043e\u0434\u044a\u0435\u0437\u0434\u0430"),e.qZA(),e._UZ(17,"p-dropdown",165),e.qZA(),e.TgZ(18,"div",33)(19,"label"),e._uU(20,"\u041f\u043e\u043b\u0435 \u044d\u0442\u0430\u0436\u0430"),e.qZA(),e._UZ(21,"p-dropdown",166),e.qZA(),e.TgZ(22,"div",33)(23,"label"),e._uU(24,"\u0417\u0430\u043f\u0430\u0441\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),e.qZA(),e._UZ(25,"p-dropdown",167),e.qZA(),e.YNc(26,tl,1,0,"ng-container",101),e.qZA()),2&n){const t=o.ngIf,i=e.oxw().$implicit;e.oxw();const s=e.MAs(31),p=e.MAs(33);e.Q6J("formGroup",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(11,ni,i)),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",e.VKq(13,ni,i))}}function Ms(n,o){if(1&n&&(e.YNc(0,gl,27,15,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function _e(n,o){1&n&&e.GkF(0)}function ve(n,o){1&n&&e.GkF(0)}function le(n,o){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,_e,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0441\u0435\u0440\u0438\u0438 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430"),e.qZA(),e._UZ(5,"p-dropdown",168),e.qZA(),e.TgZ(6,"div",33)(7,"label"),e._uU(8,"\u041f\u043e\u043b\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430"),e.qZA(),e._UZ(9,"p-dropdown",169),e.qZA(),e.TgZ(10,"div",33)(11,"label"),e._uU(12,"\u041f\u043e\u043b\u0435 \u043a\u0435\u043c \u0432\u044b\u0434\u0430\u043d \u043f\u0430\u0441\u043f\u043e\u0440\u0442"),e.qZA(),e._UZ(13,"p-dropdown",170),e.qZA(),e.TgZ(14,"div",33)(15,"label"),e._uU(16,"\u041f\u043e\u043b\u0435 \u0434\u0430\u0442\u044b \u0432\u044b\u0434\u0430\u0447\u0438 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430"),e.qZA(),e._UZ(17,"p-dropdown",171),e.qZA(),e.TgZ(18,"div",33)(19,"label"),e._uU(20,"\u041f\u043e\u043b\u0435 \u0430\u0434\u0440\u0435\u0441\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"),e.qZA(),e._UZ(21,"p-dropdown",172),e.qZA(),e.YNc(22,ve,1,0,"ng-container",101),e.qZA()),2&n){const t=o.ngIf,i=e.oxw().$implicit;e.oxw();const s=e.MAs(31),p=e.MAs(33);e.Q6J("formGroup",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(10,ni,i)),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",e.VKq(12,ni,i))}}function ke(n,o){if(1&n&&(e.YNc(0,le,23,14,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function et(n,o){1&n&&e.GkF(0)}function wt(n,o){1&n&&e.GkF(0)}function Xt(n,o){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,et,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u0438"),e.qZA(),e._UZ(5,"p-dropdown",173),e.qZA(),e.TgZ(6,"div",33)(7,"label"),e._uU(8,"\u041f\u043e\u043b\u0435 \u0438\u043c\u0435\u043d\u0438"),e.qZA(),e._UZ(9,"p-dropdown",174),e.qZA(),e.TgZ(10,"div",33)(11,"label"),e._uU(12,"\u041f\u043e\u043b\u0435 \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u0430"),e.qZA(),e._UZ(13,"p-dropdown",175),e.qZA(),e.YNc(14,wt,1,0,"ng-container",101),e.qZA()),2&n){const t=o.ngIf,i=e.oxw().$implicit;e.oxw();const s=e.MAs(31),p=e.MAs(33);e.Q6J("formGroup",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(8,ni,i)),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",e.VKq(10,ni,i))}}function sn(n,o){if(1&n&&(e.YNc(0,Xt,15,12,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function wn(n,o){1&n&&e.GkF(0)}function oi(n,o){1&n&&e.GkF(0)}function yi(n,o){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,wn,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0440\u0435\u043a\u043b\u0430\u043c\u043d\u043e\u0433\u043e \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430"),e.qZA(),e._UZ(5,"p-dropdown",176),e.qZA(),e.YNc(6,oi,1,0,"ng-container",101),e.qZA()),2&n){const t=o.ngIf,i=e.oxw().$implicit;e.oxw();const s=e.MAs(31),p=e.MAs(33);e.Q6J("formGroup",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(6,ni,i)),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",e.VKq(8,ni,i))}}function di(n,o){if(1&n&&(e.YNc(0,yi,7,10,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function Ki(n,o){1&n&&e.GkF(0)}function ao(n,o){1&n&&e.GkF(0)}function Vs(n,o){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,Ki,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432"),e.qZA(),e._UZ(5,"p-dropdown",177),e.qZA(),e.TgZ(6,"div",33)(7,"label"),e._uU(8,"\u041f\u043e\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0442\u0438\u043f\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),e.qZA(),e._UZ(9,"p-dropdown",178),e.qZA(),e.YNc(10,ao,1,0,"ng-container",101),e.qZA()),2&n){const t=o.ngIf,i=e.oxw().$implicit,s=e.oxw(),p=e.MAs(31),w=e.MAs(33);e.Q6J("formGroup",i),e.xp6(1),e.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",e.VKq(7,ni,i)),e.xp6(4),e.Q6J("options",s.wireframeFieldsList),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",e.VKq(9,ni,i))}}function Hr(n,o){if(1&n&&(e.YNc(0,Vs,11,11,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function Vr(n,o){1&n&&e.GkF(0)}function ia(n,o){1&n&&e.GkF(0)}function ua(n,o){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,Vr,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0434\u0430\u0442\u044b"),e.qZA(),e._UZ(5,"p-dropdown",179),e.qZA(),e.YNc(6,ia,1,0,"ng-container",101),e.qZA()),2&n){const t=o.ngIf,i=e.oxw().$implicit;e.oxw();const s=e.MAs(31),p=e.MAs(33);e.Q6J("formGroup",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(6,ni,i)),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",e.VKq(8,ni,i))}}function ic(n,o){if(1&n&&(e.YNc(0,ua,7,10,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function gr(n,o){1&n&&e.GkF(0)}function oc(n,o){1&n&&e.GkF(0)}function Ac(n,o){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,gr,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0434\u0430\u0442\u044b \u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u0438"),e.qZA(),e._UZ(5,"p-dropdown",180),e.qZA(),e.YNc(6,oc,1,0,"ng-container",101),e.qZA()),2&n){const t=o.ngIf,i=e.oxw().$implicit;e.oxw();const s=e.MAs(31),p=e.MAs(33);e.Q6J("formGroup",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(6,ni,i)),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",e.VKq(8,ni,i))}}function ba(n,o){if(1&n&&(e.YNc(0,Ac,7,10,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}const Xd=function(){return{width:"30vw"}},ep={id:0,name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",fields:[]};let Gu=(()=>{class n{constructor(t,i,s){this.api=t,this.route=i,this.nav=s,this.activeStepIndex=0,this.stepsArray=[{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",command:()=>this.selectStep(0)}],this.wireframeFieldsList=[],this.stepsContextMenu=[],this.chooseFieldTypeDialogVisible=!1,this.fieldTypeOptions=this.api.getWireframeFieldTypesList(),this.createFieldType=he._r.SMALL_TEXT,this.constructStage="FIELDS",this.listItemViewOptions=[{label:"\u041f\u0440\u043e\u0441\u0442\u043e\u0439",value:"SIMPLE"},{label:"\u0421\u043e\u0441\u0442\u0430\u0432\u043d\u043e\u0439",value:"COMPOSITE"},{label:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0439",value:"DETAILED"}],this.stageHoverTarget=null,this.oldTrackerIntegrationDialogVisible=!1,this.oldTrackerTaskClasses$=this.api.getOldTrackerClasses(),this.oldTrackerIntegrationForm=new f.cw({classId:new f.NI(null,[f.kI.required]),initialStageId:new f.NI(null,[f.kI.required]),processingStageId:new f.NI(null,[f.kI.required]),manualCloseStageId:new f.NI(null,[f.kI.required]),autoCloseStageId:new f.NI(null,[f.kI.required]),fieldDataBinds:new f.Oe([])}),this.taskTypeDirectoriesDialogVisible=!1,this.taskTypeDirectoriesFormArray=new f.Oe([]),this.taskTypeDirectoriesList=[],this.selectedTaskClass$=(0,Fo.a)([this.oldTrackerIntegrationForm.controls.classId.valueChanges,this.oldTrackerTaskClasses$]).pipe((0,si.b)(console.log),(0,gt.U)(([p,w])=>{var Q;return null!==(Q=null==w?void 0:w.find(Ce=>Ce.id===p))&&void 0!==Q?Q:null}),(0,cn.d)(1)),this.selectedClassFields$=this.selectedTaskClass$.pipe((0,gt.U)(p=>{var w;return[{label:"\u041d\u0435\u0442",value:null},...null!==(w=null==p?void 0:p.fields.map(Q=>({label:Q.name,value:Q.id})))&&void 0!==w?w:[]]}),(0,cn.d)(1)),this.appendBindToIntegrationDialogVisible=!1,this.dataBindFieldOptions=[{label:"\u041f\u0440\u043e\u0441\u0442\u043e\u0439 \u0442\u0435\u043a\u0441\u0442",value:this.simpleTextFieldFormGroup},{label:"\u0424\u0418\u041e",value:this.fullNameFieldFormGroup},{label:"\u0410\u0434\u0440\u0435\u0441",value:this.addressFieldFormGroup},{label:"\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a",value:this.adSourceFieldFormGroup},{label:"\u0422\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f",value:this.connectionTypeFieldFormGroup},{label:"\u0414\u0430\u0442\u0430",value:this.dateFieldFormGroup},{label:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f",value:this.dateTimeFieldFormGroup},{label:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",value:this.passportFieldFormGroup}],this.documentDialogVisible=!1,this.documentDialogMode="new",this.documentTypesOptions$=this.api.getDocumentTemplateTypes().pipe((0,cn.d)(1)),this.documentDialogForm=new f.cw({temporalId:new f.NI(null),documentTemplateId:new f.NI(null),type:new f.NI(null,[f.kI.required]),name:new f.NI(""),loginFieldId:new f.NI(null),fullNameFieldId:new f.NI(null),dateOfBirthFieldId:new f.NI(null),regionOfBirthFieldId:new f.NI(null),cityOfBirthFieldId:new f.NI(null),passportDetailsFieldId:new f.NI(null),addressFieldId:new f.NI(null),phoneFieldId:new f.NI(null),passwordFieldId:new f.NI(null),tariffFieldId:new f.NI(null)}),this.subscriptions=new _.xf,this._wireframe={wireframeId:0,created:"",deleted:!1,name:"",description:"",creator:{login:"admin"},wireframeType:he.Ez.MODEL,steps:[ep],defaultObservers:[],stages:[{label:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u0442\u0438\u043f",stageId:(0,$o.Z)(),orderIndex:0,directories:[]}],listViewType:"SIMPLE"},this.trackByStep=(p,w)=>{var Q;return p+(null!==(Q=w.label)&&void 0!==Q?Q:"")}}get documentDialogHeader(){return"new"===this.documentDialogMode?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"}get wireframe(){return this._wireframe}set wireframe(t){this._wireframe=t,this.wireframeFieldsList=this.fieldsLabelsList()}getTaskTypeDirectoryFormTemplate(t,i,s,p){return new f.cw({taskTypeDirectoryId:new f.NI(t||(0,$o.Z)()),name:new f.NI(null!=i?i:"",[f.kI.required,f.kI.minLength(3)]),description:new f.NI(null!=s?s:""),orderIndex:new f.NI(p)})}addTaskTypeDirectory(){this.taskTypeDirectoriesFormArray.push(this.getTaskTypeDirectoryFormTemplate(void 0,void 0,void 0,this.taskTypeDirectoriesFormArray.controls.length)),this.taskTypeDirectoriesList=[...this.taskTypeDirectoriesFormArray.controls]}removeTaskTypeDirectory(t){this.taskTypeDirectoriesFormArray.removeAt(this.taskTypeDirectoriesFormArray.controls.findIndex(i=>i.value.taskTypeDirectoryId===t)),this.taskTypeDirectoriesList=[...this.taskTypeDirectoriesFormArray.controls]}reorderTaskTypeDirectories(){this.taskTypeDirectoriesFormArray.markAsDirty(),this.taskTypeDirectoriesList.forEach((t,i)=>t.patchValue({orderIndex:i}))}trackByTaskTypeDirectories(t,i){return i.value.taskTypeDirectoryId}simpleTextFieldFormGroup(){return new f.cw({type:new f.NI("TextFieldDataBind"),fieldDataBindId:new f.NI(null),fieldItemId:new f.NI(null,[f.kI.required]),textFieldId:new f.NI(null,[f.kI.required])})}fullNameFieldFormGroup(){return new f.cw({type:new f.NI("FullNameFieldDataBind"),fieldDataBindId:new f.NI(null),fieldItemId:new f.NI(null,[f.kI.required]),lastNameFieldId:new f.NI(null,[f.kI.required]),firstNameFieldId:new f.NI(null,[f.kI.required]),patronymicFieldId:new f.NI(null,[f.kI.required])})}addressFieldFormGroup(){return new f.cw({type:new f.NI("AddressFieldDataBind"),fieldDataBindId:new f.NI(null),fieldItemId:new f.NI(null,[f.kI.required]),streetFieldId:new f.NI(null,[f.kI.required]),houseFieldId:new f.NI(null),apartmentFieldId:new f.NI(null),entranceFieldId:new f.NI(null),floorFieldId:new f.NI(null),backupFieldId:new f.NI(null)})}adSourceFieldFormGroup(){return new f.cw({type:new f.NI("AdSourceFieldDataBind"),fieldDataBindId:new f.NI(null),fieldItemId:new f.NI(null,[f.kI.required]),adSourceFieldId:new f.NI(null,[f.kI.required])})}connectionTypeFieldFormGroup(){return new f.cw({type:new f.NI("ConnectionTypeFieldDataBind"),fieldDataBindId:new f.NI(null),fieldItemId:new f.NI(null,[f.kI.required]),connectionServicesInnerFieldId:new f.NI(null,[f.kI.required]),ctFieldDataBindId:new f.NI(null,[f.kI.required])})}dateFieldFormGroup(){return new f.cw({type:new f.NI("DateFieldDataBind"),fieldDataBindId:new f.NI(null),fieldItemId:new f.NI(null,[f.kI.required]),dateFieldDataBind:new f.NI(null,[f.kI.required])})}dateTimeFieldFormGroup(){return new f.cw({type:new f.NI("DateTimeFieldDataBind"),fieldDataBindId:new f.NI(null),fieldItemId:new f.NI(null,[f.kI.required]),dateTimeFieldDataBind:new f.NI(null,[f.kI.required])})}passportFieldFormGroup(){return new f.cw({type:new f.NI("PassportDetailsFieldDataBind"),fieldDataBindId:new f.NI(null),fieldItemId:new f.NI(null,[f.kI.required]),passportSeriesFieldId:new f.NI(null),passportNumberFieldId:new f.NI(null),passportIssuedByFieldId:new f.NI(null),passportIssuedDateFieldId:new f.NI(null),registrationAddressFieldId:new f.NI(null)})}ngOnInit(){this.route.queryParams.subscribe(t=>{t.editingId&&(this.editingId=t.editingId,this.api.getWireframe(t.editingId).subscribe(i=>{var s;this.wireframe=i,this.fillingSteps(i.steps),null===(s=this.wireframe.stages)||void 0===s||s.sort((p,w)=>p.orderIndex-w.orderIndex),this.wireframe=this.wireframe}))}),this.subscriptions.addSubscription("docNameUpd",this.documentDialogForm.controls.type.valueChanges.pipe((0,R.w)(t=>this.documentTypesOptions$.pipe((0,gt.U)(i=>{var s,p;return null!==(p=null===(s=i.find(w=>w.value===t))||void 0===s?void 0:s.label)&&void 0!==p?p:""})))).subscribe(t=>this.documentDialogForm.controls.name.setValue(t)))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}createDocumentTemplate(){this.documentDialogForm.valid&&(this.wireframe.documentTemplates||(this.wireframe.documentTemplates=[]),this.wireframe.documentTemplates.push(this.documentDialogForm.value),this.wireframe.documentTemplates=[...this.wireframe.documentTemplates],this.documentDialogVisible=!1)}editDocumentTemplate(){if(this.documentDialogForm.valid&&this.wireframe.documentTemplates){const t=this.wireframe.documentTemplates.findIndex(i=>i.temporalId===this.documentDialogForm.value.temporalId);t>-1&&(this.wireframe.documentTemplates[t]=this.documentDialogForm.value,this.wireframe.documentTemplates=[...this.wireframe.documentTemplates]),this.documentDialogVisible=!1}}deleteDocumentTemplate(t){var i;null===(i=this.wireframe.documentTemplates)||void 0===i||i.splice(t,1)}createField(t){const i=(0,$o.Z)(),s=this.wireframe.steps.find(p=>p.id===this.activeStepIndex);s?s.fields.push({name:"\u0418\u043c\u044f \u043f\u043e\u043b\u044f",id:i,type:t,variation:"MANDATORY",displayType:"LIST_AND_TELEGRAM"}):console.error("\u042d\u0442\u0430\u043f \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")}deleteField(t){const i=this.wireframe.steps.find(s=>s.id===this.activeStepIndex);i&&(i.fields=i.fields.filter(s=>s.id!==t))}createStep(){const t=this.stepsArray.length;this.stepsArray.push({label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",command:i=>this.openStepContextMenu(t,i.originalEvent)}),this.wireframe.steps.push({name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",fields:[],id:t}),this.selectStep(t)}selectStep(t){this.activeStepIndex=t}removeStep(t){this.activeStepIndex>=t&&this.selectStep(this.activeStepIndex-1),this.stepsArray.splice(t,1),this.wireframe.steps.splice(t,1),this.wireframe.steps=this.wireframe.steps.map((i,s)=>(i.id=s,i))}openStepContextMenu(t,i){this.stepsContextMenu=[{label:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",command:this.selectStep.bind(this,t)},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",command:this.removeStep.bind(this,t)}],this.stepsContextMenuElem&&this.stepsContextMenuElem.toggle(i)}stepsPanelCaptionUpdate(t){this.stepsArray[this.activeStepIndex].label=t,this.stepsArray=[...this.stepsArray]}fillingEmptyStepName(){this.wireframe.steps[this.activeStepIndex]&&""===this.wireframe.steps[this.activeStepIndex].name&&(this.wireframe.steps[this.activeStepIndex].name="\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",this.stepsArray[this.activeStepIndex].label="\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",this.stepsArray=[...this.stepsArray])}createWireframe(){this.api.createWireframe(this.wireframe).subscribe(()=>{this.nav.backOrDefault(["/"])})}fillingSteps(t){this.stepsArray=t.map((i,s)=>({label:i.name,command:0===s?()=>this.selectStep(i.id):p=>this.openStepContextMenu(i.id,p.originalEvent)}))}updateWireframe(){this.api.updateWireframe(this.wireframe.wireframeId,this.wireframe).subscribe(()=>{this.nav.backOrDefault(["/"])})}fieldsLabelsList(){const t=[];return this.wireframe.steps.forEach(i=>{i.fields.forEach(s=>{t.push({label:s.name,id:s.id,listViewIndex:s.listViewIndex,orderPosition:s.orderPosition})})}),t.sort((i,s)=>i.orderPosition-s.orderPosition),t}selectFieldToView(t){this._wireframe.steps.forEach(i=>{i.fields.forEach(s=>{s.id===t.id?s.listViewIndex=t.index:s.listViewIndex===t.index&&(s.listViewIndex=void 0)})})}reorderFields(){this.wireframeFieldsList.forEach((t,i)=>{this.wireframe.steps.forEach(s=>{s.fields.forEach(p=>{p.id===t.id&&(p.orderPosition=i)})})})}changeStagesSettingsStep(){this.constructStage="STAGES",this.wireframe=this.wireframe,this.reorderFields()}changeViewSettingsStep(){this.constructStage="VIEW"}taskItemForView(){return{taskId:0,modelWireframe:this.wireframe,listItemFields:[],allEmployeesObservers:[]}}createStage(){var t,i,s;this.wireframe.stages=[...null!==(t=this.wireframe.stages)&&void 0!==t?t:[],{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0437\u0430\u0434\u0430\u0447\u0438",stageId:(0,$o.Z)(),orderIndex:null!==(s=null===(i=this.wireframe.stages)||void 0===i?void 0:i.length)&&void 0!==s?s:0,directories:[]}]}removeStage(t){var i;this.wireframe.stages=null===(i=this.wireframe.stages)||void 0===i?void 0:i.filter(s=>s.stageId!==t).map((s,p)=>(s.orderIndex=p,s))}mouseDown(t){t.stopPropagation()}reorderStages(){var t;this.wireframe.stages=null===(t=this.wireframe.stages)||void 0===t?void 0:t.map((i,s)=>(i.orderIndex=s,i))}dragStart(t,i){this.draggedField=i}drag(t,i){}dragEnd(t,i){this.draggedField=void 0}drop(t,i,s){if(t.target.classList.remove("border-top-2","border-bottom-2","border-primary"),this.draggedField){const w=this.wireframe.steps[this.activeStepIndex].fields,Q=w.findIndex(Ce=>Ce===this.draggedField);Q<i&&"up"===s?i--:Q>i&&"down"===s&&i++,w.splice(Q,1),w.splice(i,0,this.draggedField)}}dragEnter(t,i,s){t.target.classList.add("border-"+s+"-2","border-primary")}dragLeave(t,i,s){t.target.classList.remove("border-"+s+"-2","border-primary")}dropToStage(t,i){if(this.stageHoverTarget=null,i!==this.activeStepIndex){const s=this.wireframe.steps.find(w=>w.id===this.activeStepIndex),p=this.wireframe.steps.find(w=>w.id===i);s&&p&&this.draggedField&&(s.fields.splice(s.fields.findIndex(w=>w===this.draggedField),1),p.fields.unshift(this.draggedField),this.draggedField=void 0)}}dragEnterStage(t,i){i!==this.activeStepIndex&&(this.stageHoverTarget=i)}dragLeaveStage(t,i){this.stageHoverTarget=null}openOldTrackerStageBind(t){this.oldTrackerIntegrationDialogVisible=!0,this.selectedStageForIntegration=t,setTimeout(()=>{var i,s,p,w,Q,Ce,qe,$e,$t,jt,Gt;this.oldTrackerIntegrationForm.patchValue({classId:null!==(s=null===(i=t.oldTrackerBind)||void 0===i?void 0:i.classId)&&void 0!==s?s:null,initialStageId:null!==(w=null===(p=t.oldTrackerBind)||void 0===p?void 0:p.initialStageId)&&void 0!==w?w:null,processingStageId:null!==(Ce=null===(Q=t.oldTrackerBind)||void 0===Q?void 0:Q.processingStageId)&&void 0!==Ce?Ce:null,manualCloseStageId:null!==($e=null===(qe=t.oldTrackerBind)||void 0===qe?void 0:qe.manualCloseStageId)&&void 0!==$e?$e:null,autoCloseStageId:null!==(jt=null===($t=t.oldTrackerBind)||void 0===$t?void 0:$t.autoCloseStageId)&&void 0!==jt?jt:null}),this.oldTrackerIntegrationForm.controls.fieldDataBinds.clear(),null===(Gt=t.oldTrackerBind)||void 0===Gt||Gt.fieldDataBinds.forEach(fn=>this.oldTrackerIntegrationForm.controls.fieldDataBinds.push(new f.cw({type:new f.NI(fn.type),fieldDataBindId:new f.NI(fn.fieldDataBindId),fieldItemId:new f.NI(fn.fieldItemId),streetFieldId:new f.NI(fn.streetFieldId),houseFieldId:new f.NI(fn.houseFieldId),apartmentFieldId:new f.NI(fn.apartmentFieldId),entranceFieldId:new f.NI(fn.entranceFieldId),floorFieldId:new f.NI(fn.floorFieldId),adSourceFieldId:new f.NI(fn.adSourceFieldId),connectionServicesInnerFieldId:new f.NI(fn.connectionServicesInnerFieldId),ctFieldDataBind:new f.NI(fn.ctFieldDataBind),dateFieldDataBind:new f.NI(fn.dateFieldDataBind),dateTimeFieldDataBind:new f.NI(fn.dateTimeFieldDataBind),defaultFieldId:new f.NI(fn.defaultFieldId),hardAssignTimeFieldId:new f.NI(fn.hardAssignTimeFieldId),hardAssignNamesFieldId:new f.NI(fn.hardAssignNamesFieldId),simpleAssignFieldId:new f.NI(fn.simpleAssignFieldId),textFieldId:new f.NI(fn.textFieldId),lastNameFieldId:new f.NI(fn.lastNameFieldId),firstNameFieldId:new f.NI(fn.firstNameFieldId),patronymicFieldId:new f.NI(fn.patronymicFieldId),backupFieldId:new f.NI(fn.backupFieldId),passportSeriesFieldId:new f.NI(fn.passportSeriesFieldId),passportNumberFieldId:new f.NI(fn.passportNumberFieldId),passportIssuedByFieldId:new f.NI(fn.passportIssuedByFieldId),passportIssuedDateFieldId:new f.NI(fn.passportIssuedDateFieldId),registrationAddressFieldId:new f.NI(fn.registrationAddressFieldId)})))},100)}openTaskTypeDirectoriesDialog(t){var i;this.taskTypeDirectoriesDialogVisible=!0,this.selectedStageForDirectoriesSetup=t,this.taskTypeDirectoriesFormArray.clear(),null===(i=t.directories)||void 0===i||i.sort((s,p)=>{var w,Q;return(null!==(w=s.orderIndex)&&void 0!==w?w:0)-(null!==(Q=p.orderIndex)&&void 0!==Q?Q:0)}).forEach((s,p)=>{var w;this.taskTypeDirectoriesFormArray.push(this.getTaskTypeDirectoryFormTemplate(s.taskTypeDirectoryId,s.name,s.description,null!==(w=s.orderIndex)&&void 0!==w?w:p))}),this.taskTypeDirectoriesList=[...this.taskTypeDirectoriesFormArray.controls]}saveTaskTypeDirectories(){this.selectedStageForDirectoriesSetup&&this.taskTypeDirectoriesFormArray.valid&&(this.selectedStageForDirectoriesSetup.directories=this.taskTypeDirectoriesFormArray.controls.map(({value:t})=>("string"==typeof t.taskTypeDirectoryId&&(t.taskTypeDirectoryId=null),t)),this.taskTypeDirectoriesDialogVisible=!1)}appendBindToIntegration(){this.selectedDataBind&&(this.oldTrackerIntegrationForm.controls.fieldDataBinds.push(this.selectedDataBind()),this.appendBindToIntegrationDialogVisible=!1)}openAppendBindToIntegrationDialog(){this.appendBindToIntegrationDialogVisible=!0}saveOldTrackerIntegration(){this.selectedStageForIntegration&&(this.selectedStageForIntegration.oldTrackerBind=this.oldTrackerIntegrationForm.value)}removeBind(t){this.oldTrackerIntegrationForm.controls.fieldDataBinds.removeAt(this.oldTrackerIntegrationForm.controls.fieldDataBinds.controls.indexOf(t))}openAppendDocumentDialog(){this.clearDocumentDialogForm(),this.documentDialogVisible=!0,this.documentDialogMode="new"}openEditDocumentDialog(t){this.clearDocumentDialogForm(),this.documentDialogVisible=!0,this.documentDialogMode="edit",this.documentDialogForm.patchValue(t)}clearDocumentDialogForm(){this.documentDialogForm.reset({temporalId:(0,$o.Z)(),documentTemplateId:null,name:"",type:null,addressFieldId:null,regionOfBirthFieldId:null,cityOfBirthFieldId:null,dateOfBirthFieldId:null,fullNameFieldId:null,loginFieldId:null,passportDetailsFieldId:null,passwordFieldId:null,phoneFieldId:null,tariffFieldId:null})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(d.gz),e.Y36(tt.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-wireframe-constructor-page"]],viewQuery:function(t,i){if(1&t&&e.Gf(Zs,5),2&t){let s;e.iGM(s=e.CRH())&&(i.stepsContextMenuElem=s.first)}},decls:50,vars:30,consts:[["appExtendPageHeight","",1,"flex","flex-column","align-items-center","gap-4",3,"ngSwitch"],[4,"ngSwitchCase"],["contentStyleClass","flex flex-column gap-3 pt-1",3,"visible","modal","dismissableMask","header","visibleChange"],["pTemplate","content",3,"formGroup"],["createDocumentButtonTemplate",""],["editDocumentButtonTemplate",""],["connectionAgreementFieldsTemplate",""],[3,"model","popup"],["stepsContextMenuElem",""],["header","\u0412\u044b\u0431\u043e\u0440 \u0442\u0438\u043f\u0430 \u0434\u0430\u043d\u043d\u044b\u0445",3,"visible","modal","dismissableMask","visibleChange"],["pTemplate","content"],["listElementTemplate",""],["contentStyleClass","flex flex-column gap-3 pt-2","header","\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 \u0437\u0430\u0434\u0430\u0447","appendTo","body",3,"visible","modal","dismissableMask","autoZIndex","visibleChange"],["taskTypeDirectoryTemplate",""],["appendDirectoryButtonTemplate",""],["removeDirectoryButtonTemplate",""],["contentStyleClass","flex flex-column gap-3 pt-1","header","\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044e \u0441\u043e \u0441\u0442\u0430\u0440\u044b\u043c \u0442\u0440\u0435\u043a\u0435\u0440\u043e\u043c",3,"visible","modal","dismissableMask","visibleChange"],["contentStyleClass","flex flex-column gap-3 pt-1","header","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435",3,"visible","modal","dismissableMask","visibleChange"],["fieldSelectorTemp",""],["removeButtonTemp",""],["simpleTextBindTemp",""],["addressBindTemp",""],["passportBindTemp",""],["fullNameBindTemp",""],["adSourceBindTemp",""],["connectionTypeBindTemp",""],["dateBindTemp",""],["dateTimeBindTemp",""],[1,"flexed","column","gap10","panel","p10"],[1,"flexed","gap5"],["label","\u0412\u044b\u0439\u0442\u0438","icon","mdi-close","styleClass","p-button-secondary p-button-text",3,"onClick"],["label","\u0414\u0430\u043b\u0435\u0435: \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0441\u0442\u0430\u0434\u0438\u0439 \u0437\u0430\u0434\u0430\u0447\u0438","icon","mdi-navigate_next",3,"disabled","onClick"],[1,"gap10","flexed","hend"],[1,"input-label-wrapper"],["pInputText","",3,"ngModel","disabled","ngModelChange"],[3,"ngModel","ngModelChange"],[1,"flexed"],[1,"input-label-wrapper","stretched"],["pInputTextarea","",3,"ngModel","autoResize","ngModelChange"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u0430\u043f","icon","mdi-add","styleClass","p-button-success",1,"self-center",3,"onClick"],[1,"flex","justify-content-around","align-items-center","gap-3"],["class","flex flex-column align-items-center justify-content-center gap-1 relative p-2 border-round-lg overflow-hidden",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-column","align-items-center","flex-grow-1","bg-white"],[1,"w-max","border-round-lg","shadow-5"],[1,"flex","p-3","gap-2","align-items-center","border-bottom-1","border-bluegray-100"],[1,"font-bold","text-bluegray-400"],[1,"font-bold","text-bluegray-400",3,"caption","captionChange","onStopEditing"],[1,"flex","flex-column","px-3","pt-1","pb-3"],["class","flex gap-2 align-items-center relative py-2","pDraggable","field","dragHandle",".dg","dragEffect","linkMove",3,"ngClass","onDragStart","onDrag","onDragEnd",4,"ngFor","ngForOf"],["icon","add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u0435","model","p-button-success",1,"pt-2",3,"onClick"],[1,"flex","flex-column","align-items-center","justify-content-center","gap-1","relative","p-2","border-round-lg","overflow-hidden",3,"ngClass","click"],[1,"flex","align-items-center","justify-content-center","border-circle","border-1","border-bluegray-100","text-lg","w-2rem","h-2rem"],[1,"flex","align-items-center","gap-1"],["class","mdi-close text-red-400 hover:text-red-600 cursor-pointer text-lg z-1",3,"click",4,"ngIf"],["pDroppable","field",1,"opacity-25","absolute","top-0","left-0","w-full","h-full",3,"ngClass","onDragEnter","onDragLeave","onDrop"],[1,"mdi-close","text-red-400","hover:text-red-600","cursor-pointer","text-lg","z-1",3,"click"],["pDraggable","field","dragHandle",".dg","dragEffect","linkMove",1,"flex","gap-2","align-items-center","relative","py-2",3,"ngClass","onDragStart","onDrag","onDragEnd"],["class","absolute w-full top-0 z-1","pDroppable","field",3,"ngClass","height","onDrop","onDragEnter","onDragLeave",4,"ngIf"],[1,"mdi-drag_indicator","text-4xl","text-bluegray-400","mt-4","dg","cursor-move"],[1,"stretched",3,"field","isExample"],["styleClass","p-button-text p-button-danger mt-4","icon","mdi-delete",3,"click"],["class","absolute w-full bottom-0 z-1","pDroppable","field",3,"ngClass","height","onDrop","onDragEnter","onDragLeave",4,"ngIf"],["pDroppable","field",1,"absolute","w-full","top-0","z-1",3,"ngClass","onDrop","onDragEnter","onDragLeave"],["pDroppable","field",1,"absolute","w-full","bottom-0","z-1",3,"ngClass","onDrop","onDragEnter","onDragLeave"],[1,"flex","flex-column","gap-3"],[1,"gap15","flexed","hend","panel","p10"],["icon","arrow_back_ios","label","\u041d\u0430\u0437\u0430\u0434","model","p-button-secondary p-button-text",3,"disabled","onClick"],["icon","navigate_next","label","\u0414\u0430\u043b\u0435\u0435: \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f",3,"disabled","onClick"],[1,"flex","flex-column","flex-grow-1","align-items-center"],["header","\u0422\u0438\u043f\u044b \u0437\u0430\u0434\u0430\u0447\u0438",1,"stage-list-panel"],["icon","add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0438\u043f","model","p-button-success",3,"onClick"],[3,"dragdrop","value","onReorder"],["pTemplate","item"],[1,"flex","align-items-center","gap-2","text-bluegray-500"],[1,"material-icons-round","drag-icon"],[1,"caption","size-small","f-color-500"],[1,"inline-input",3,"ngModel","mousedown","focus","ngModelChange"],["taskTypeInput",""],[1,"stretched"],["icon","mdi-folder","styleClass","p-button-warning p-button-icon p-button-text","pTooltip","\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438",3,"onClick","mousedown"],["icon","mdi-link","styleClass","p-button-warning p-button-icon p-button-text","pTooltip","\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044e \u0441\u043e \u0441\u0442\u0430\u0440\u044b\u043c \u0442\u0440\u0435\u043a\u0435\u0440\u043e\u043c",3,"onClick","mousedown"],["icon","mdi-delete","styleClass","p-button-danger p-button-icon p-button-text","pTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438",3,"onClick","mousedown"],[1,"flexed","column","gap20","panel","p10"],[1,"gap15","flexed","hend","vend"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u0434\u0430\u0447\u0438",3,"disabled","onClick",4,"ngIf"],["icon","edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u0434\u0430\u0447\u0438",3,"onClick",4,"ngIf"],[1,"flex","flex-column","p-3","gap-2"],[1,"header400"],[1,"flex","flex-column","overflow-hidden","gap-2"],["dataKey","temporalId",3,"options","onClick"],["pTemplate","header"],["pTemplate","empty"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u0434\u0430\u0447\u0438",3,"disabled","onClick"],["icon","edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u0434\u0430\u0447\u0438",3,"onClick"],["icon","mdi-add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c","styleClass","p-button-success",3,"onClick"],[1,"flex","justify-content-between","align-items-center","w-full"],["icon","mdi-delete","styleClass","p-button-icon p-button-text p-button-danger",3,"mousedown","onClick"],["placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","formControlName","type","appendTo","body",3,"options","disabled"],[3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"w-30rem","h-20rem","flex","flex-column","align-items-center","justify-content-center","text-3xl","text-bluegray-300","font-bold"],[1,"mds-check_circle"],[4,"ngIf","ngIfThen","ngIfElse"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",1,"align-self-end",3,"onClick"],["label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",1,"align-self-end",3,"onClick"],[1,"flex","flex-column","gap-3","px-3",3,"formGroup"],[1,"flex","gap-3"],["appendTo","body","formControlName","loginFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","passwordFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","fullNameFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","dateOfBirthFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","regionOfBirthFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","cityOfBirthFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","passportDetailsFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","addressFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","phoneFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","tariffFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],[1,"flexed","column","p10","gap10"],["appendTo","body","styleClass","full-width",3,"ngModel","options","ngModelChange"],["icon","add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",3,"onClick"],["class","flexed p8 hcenter item-example",4,"ngSwitchCase"],[1,"flexed","p8","hcenter","item-example"],["classes","caption",3,"fields","index","selectView"],[3,"size"],[1,"caption"],[1,"flexed","column","gap5"],["classes","caption size-small wt-bold f-color-500",3,"fields","index","selectView"],[1,"flexed","gap5","hcenter"],["classes","caption size-small",3,"fields","index","selectView"],["class","flex flex-column align-items-center justify-content-center text-bluegray-400 text-2xl w-full h-full p-8",4,"ngIf"],["label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","icon","mdi-save",1,"align-self-end",3,"disabled","onClick"],[1,"flex","flex-column","align-items-center","justify-content-center","text-bluegray-400","text-2xl","w-full","h-full","p-8"],[1,"mds-folder_open"],[1,"mb-3"],[4,"ngTemplateOutlet"],[3,"value","dragdrop","trackBy","listStyle","onReorder"],[1,"flex","flex-column","gap-2",3,"formGroup"],[1,"flex","flex","gap-2","align-items-end"],["type","text","pInputText","","formControlName","name",3,"size"],["pInputTextarea","","formControlName","description",3,"autoResize","rows","cols"],["icon","mdi-add","styleClass","p-button-success p-button-outlined","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",3,"onClick"],["icon","mdi-delete","styleClass","p-button-danger p-button-outlined","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",3,"onClick","mousedown"],["formControlName","classId","optionLabel","name","optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"options"],["formControlName","initialStageId","optionLabel","name","optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"options"],["formControlName","processingStageId","optionLabel","name","optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"options"],["formControlName","manualCloseStageId","optionLabel","name","optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"options"],["formControlName","autoCloseStageId","optionLabel","name","optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"options"],[1,"flex","flex-column","gap-2","px-3"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435","styleClass","p-button-success p-button-outlined","icon","mdi-add",1,"align-self-center",3,"onClick"],[3,"ngSwitch",4,"ngFor","ngForOf"],["label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","icon","mdi-save",1,"align-self-end",3,"onClick"],["appendTo","body",3,"options","ngModel","ngModelChange"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",3,"onClick"],[1,"input-label-wrapper",3,"formGroup"],["appendTo","body","formControlName","fieldItemId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],[1,"flex-grow-1"],["icon","mdi-delete","styleClass","p-button-danger p-button-outlined p-button-icon",1,"align-self-end",3,"onClick"],["class","flex gap-3",3,"formGroup",4,"ngIf"],[1,"flex","gap-3",3,"formGroup"],["appendTo","body","formControlName","textFieldId",3,"options"],["appendTo","body","formControlName","streetFieldId",3,"options"],["appendTo","body","formControlName","houseFieldId",3,"options"],["appendTo","body","formControlName","apartmentFieldId",3,"options"],["appendTo","body","formControlName","entranceFieldId",3,"options"],["appendTo","body","formControlName","floorFieldId",3,"options"],["appendTo","body","formControlName","backupFieldId",3,"options"],["appendTo","body","formControlName","passportSeriesFieldId",3,"options"],["appendTo","body","formControlName","passportNumberFieldId",3,"options"],["appendTo","body","formControlName","passportIssuedByFieldId",3,"options"],["appendTo","body","formControlName","passportIssuedDateFieldId",3,"options"],["appendTo","body","formControlName","registrationAddressFieldId",3,"options"],["appendTo","body","formControlName","lastNameFieldId",3,"options"],["appendTo","body","formControlName","firstNameFieldId",3,"options"],["appendTo","body","formControlName","patronymicFieldId",3,"options"],["appendTo","body","formControlName","adSourceFieldId",3,"options"],["appendTo","body","formControlName","connectionServicesInnerFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","ctFieldDataBind",3,"options"],["appendTo","body","formControlName","dateFieldDataBind",3,"options"],["appendTo","body","formControlName","dateTimeFieldDataBind",3,"options"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,_n,31,13,"ng-container",1),e.YNc(2,Yt,11,5,"ng-container",1),e.YNc(3,On,20,7,"ng-container",1),e.qZA(),e.TgZ(4,"p-dialog",2),e.NdJ("visibleChange",function(p){return i.documentDialogVisible=p}),e.YNc(5,fo,9,8,"ng-template",3),e.qZA(),e.YNc(6,Bo,1,0,"ng-template",null,4,e.W1O),e.YNc(8,Lo,1,0,"ng-template",null,5,e.W1O),e.YNc(10,dr,43,11,"ng-template",null,6,e.W1O),e._UZ(12,"p-menu",7,8),e.TgZ(14,"p-dialog",9),e.NdJ("visibleChange",function(p){return i.chooseFieldTypeDialogVisible=p}),e.YNc(15,Kr,4,5,"ng-template",10),e.qZA(),e.YNc(16,xi,4,4,"ng-template",null,11,e.W1O),e.TgZ(18,"p-dialog",12),e.NdJ("visibleChange",function(p){return i.taskTypeDirectoriesDialogVisible=p}),e.YNc(19,qr,3,3,"ng-template",10),e.qZA(),e.YNc(20,No,11,9,"ng-template",null,13,e.W1O),e.YNc(22,Br,1,0,"ng-template",null,14,e.W1O),e.YNc(24,Hs,1,0,"ng-template",null,15,e.W1O),e.TgZ(26,"p-dialog",16),e.NdJ("visibleChange",function(p){return i.oldTrackerIntegrationDialogVisible=p}),e.YNc(27,Tc,7,7,"ng-template",3),e.qZA(),e.TgZ(28,"p-dialog",17),e.NdJ("visibleChange",function(p){return i.appendBindToIntegrationDialogVisible=p}),e.YNc(29,Xc,2,2,"ng-template",10),e.qZA(),e.YNc(30,Ds,4,2,"ng-template",null,18,e.W1O),e.YNc(32,Rl,2,0,"ng-template",null,19,e.W1O),e.YNc(34,Zr,2,3,"ng-template",null,20,e.W1O),e.YNc(36,Ms,2,3,"ng-template",null,21,e.W1O),e.YNc(38,ke,2,3,"ng-template",null,22,e.W1O),e.YNc(40,sn,2,3,"ng-template",null,23,e.W1O),e.YNc(42,di,2,3,"ng-template",null,24,e.W1O),e.YNc(44,Hr,2,3,"ng-template",null,25,e.W1O),e.YNc(46,ic,2,3,"ng-template",null,26,e.W1O),e.YNc(48,ba,2,3,"ng-template",null,27,e.W1O)),2&t&&(e.Udp("padding-bottom","2rem"),e.Q6J("ngSwitch",i.constructStage),e.xp6(1),e.Q6J("ngSwitchCase","FIELDS"),e.xp6(1),e.Q6J("ngSwitchCase","STAGES"),e.xp6(1),e.Q6J("ngSwitchCase","VIEW"),e.xp6(1),e.Q6J("visible",i.documentDialogVisible)("modal",!0)("dismissableMask",!0)("header",i.documentDialogHeader),e.xp6(1),e.Q6J("formGroup",i.documentDialogForm),e.xp6(7),e.Q6J("model",i.stepsContextMenu)("popup",!0),e.xp6(2),e.Akn(e.DdM(29,Xd)),e.Q6J("visible",i.chooseFieldTypeDialogVisible)("modal",!0)("dismissableMask",!0),e.xp6(4),e.Q6J("visible",i.taskTypeDirectoriesDialogVisible)("modal",!0)("dismissableMask",!0)("autoZIndex",!1),e.xp6(8),e.Q6J("visible",i.oldTrackerIntegrationDialogVisible)("modal",!0)("dismissableMask",!0),e.xp6(1),e.Q6J("formGroup",i.oldTrackerIntegrationForm),e.xp6(1),e.Q6J("visible",i.appendBindToIntegrationDialogVisible)("modal",!0)("dismissableMask",!0))},dependencies:[y.A,D.r,or.h,k.o,Vo.g,B,z,f.Fj,f.JJ,f.JL,f.On,F.jx,S.sg,Ao.V,f.sg,f.u,Ke.Lt,Ln,S.O5,bt.g,O.zx,S.tP,S.RF,S.n9,S.ED,Gi.u,mo,_o.v2,bi.o,S.mk,yo.Ri,jo._l,jo.bK,S.Ov],styles:[".item-example[_ngcontent-%COMP%]{box-shadow:0 0 2px #0003,0 .5rem 1rem #0000001a}.step-enumerator-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:min-content;min-width:40rem}.stage-list-panel[_ngcontent-%COMP%]{min-width:30rem}.inline-input[_ngcontent-%COMP%]{border:0;outline:0;background-color:transparent;color:var(--tc-600);transition:color .2s ease-in-out}.inline-input[_ngcontent-%COMP%]:hover{color:var(--tc-900)}.drag-icon[_ngcontent-%COMP%]{color:var(--tc-300)}"]}),n})();var Is=b(8372),zr=b(1884);function wc(n,o){1&n&&(e.TgZ(0,"div",23),e._UZ(1,"i",24),e.TgZ(2,"span"),e._uU(3," \u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 "),e.qZA()())}function zs(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",25),e._UZ(1,"app-avatar",26),e.TgZ(2,"div",13)(3,"span",27),e._uU(4),e.qZA(),e.TgZ(5,"div",28)(6,"span",29),e._uU(7),e.qZA(),e.TgZ(8,"span",29),e._uU(9),e.qZA()()(),e._UZ(10,"div",30),e.TgZ(11,"p-button",31),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.openEmployeeEditor(p.login))}),e.qZA(),e.TgZ(12,"p-button",32),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.employeeDeleteConfirm(p))}),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw(2);let s,p,w;e.xp6(1),e.Q6J("deleted",null!==(s=t.deleted)&&void 0!==s&&s)("name",t.fullName)("size",2.5)("src",t.avatar),e.xp6(3),e.Oqu(t.fullName),e.xp6(3),e.hij(" ",null==t.department?null:t.department.name," "),e.xp6(2),e.hij(" ",null==t.position?null:t.position.name," "),e.xp6(2),e.Q6J("disabled",null!==(p=t.deleted)&&void 0!==p&&p),e.xp6(1),e.Q6J("disabled",null!==(w=t.deleted)&&void 0!==w&&w)("loading",!!t.login&&i.isBeingDeleteEmployee[t.login])}}const tu=function(){return{lineHeight:"0"}};function nu(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-tabPanel"),e.YNc(1,wc,4,0,"ng-template",12),e.TgZ(2,"div",13)(3,"div",14)(4,"span",15),e._UZ(5,"i",16)(6,"input",17),e.qZA(),e.TgZ(7,"span",18),e._UZ(8,"p-inputSwitch",19),e._uU(9," \u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435? "),e.qZA(),e.TgZ(10,"span")(11,"app-button",20),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openEmployeeCreator())}),e.qZA()()(),e.TgZ(12,"div",21),e.YNc(13,zs,13,10,"div",22),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.employeeFiltrationForm),e.xp6(5),e.Q6J("falseValue",!1)("ngStyle",e.DdM(6,tu))("trueValue",!0),e.xp6(5),e.Q6J("ngForOf",t.employees)("ngForTrackBy",t.trackByEmployee)}}function Ec(n,o){1&n&&(e.TgZ(0,"div",23),e._UZ(1,"i",37),e.TgZ(2,"span"),e._uU(3," \u041e\u0442\u0434\u0435\u043b\u044b "),e.qZA()())}const nl=function(){return{maxWidth:"20rem",marginLeft:".5rem"}};function fl(n,o){if(1&n&&(e.TgZ(0,"div",43),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Akn(e.DdM(3,nl)),e.xp6(1),e.hij(" ",t.description," ")}}function Wu(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"span",40),e._uU(3),e.qZA(),e.YNc(4,fl,2,4,"div",41),e.qZA(),e._UZ(5,"div",30),e.TgZ(6,"p-button",31),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);let Q;return e.KtG(w.openDepartmentEditor(p.name,null!==(Q=p.description)&&void 0!==Q?Q:"",p.departmentId))}),e.qZA(),e.TgZ(7,"p-button",42),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.departmentDeleteConfirm(p))}),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw(2);let s;e.xp6(3),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.description),e.xp6(2),e.Q6J("disabled",null!==(s=t.deleted)&&void 0!==s&&s),e.xp6(1),e.Q6J("loading",!!t.departmentId&&i.isBeginDeleteDepartment[t.departmentId])}}function sc(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-tabPanel"),e.YNc(1,Ec,4,0,"ng-template",12),e.TgZ(2,"div",33)(3,"div")(4,"app-button",34),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openDepartmentCreator())}),e.qZA()(),e.TgZ(5,"div",35),e.YNc(6,Wu,8,4,"div",36),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("ngForOf",t.departments)("ngForTrackBy",t.trackByDepartment)}}function Sc(n,o){1&n&&(e.TgZ(0,"div",23),e._UZ(1,"i",45),e.TgZ(2,"span"),e._uU(3," \u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438 "),e.qZA()())}function rc(n,o){if(1&n&&(e.TgZ(0,"div",43),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Akn(e.DdM(3,nl)),e.xp6(1),e.hij(" ",t.description," ")}}function Yu(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"span",40),e._uU(3),e.qZA(),e.YNc(4,rc,2,4,"div",41),e.qZA(),e._UZ(5,"div",30),e.TgZ(6,"p-button",31),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);let Q;return e.KtG(w.openPositionEditor(p.name,null!==(Q=p.description)&&void 0!==Q?Q:"",null!==(Q=p.access)&&void 0!==Q?Q:0,p.positionId))}),e.qZA(),e.TgZ(7,"p-button",42),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.positionDeleteConfirm(p))}),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw(2);let s;e.xp6(3),e.hij(" ",null==t?null:t.name," "),e.xp6(1),e.Q6J("ngIf",t.description),e.xp6(2),e.Q6J("disabled",null!==(s=t.deleted)&&void 0!==s&&s),e.xp6(1),e.Q6J("loading",!!t.positionId&&i.isBeginDeletePosition[t.positionId])}}function ac(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-tabPanel"),e.YNc(1,Sc,4,0,"ng-template",12),e.TgZ(2,"div",44)(3,"app-button",34),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openPositionCreator())}),e.qZA(),e.TgZ(4,"div",35),e.YNc(5,Yu,8,4,"div",36),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.positions)("ngForTrackBy",t.trackByPosition)}}function tp(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",46)(1,"span",47)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(4,"input",48),e.qZA(),e.TgZ(5,"span",47)(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(8,"textarea",49),e.qZA(),e.TgZ(9,"app-button",50),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.departmentCreate())}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.departmentForm),e.xp6(8),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(1),e.Q6J("disabled",!t.departmentForm.valid)("loading",t.isBeginCreatingDepartment)}}function Sr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",46)(1,"span",47)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(4,"input",48),e.qZA(),e.TgZ(5,"span",47)(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(8,"textarea",49),e.qZA(),e.TgZ(9,"app-button",51),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.departmentEdit())}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.departmentForm),e.xp6(8),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(1),e.Q6J("disabled",!t.departmentForm.valid)("loading",t.isBeginEditingDepartment)}}function Ja(n,o){if(1&n&&e._UZ(0,"p-checkbox",57),2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("label",t.name)("value",t.value)("formControl",i.positionForm.controls.access)}}function kc(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",52)(1,"span",47)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(4,"input",48),e.qZA(),e.TgZ(5,"span",47)(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(8,"textarea",49),e.qZA(),e.TgZ(9,"p-panel",53)(10,"p-toggleButton",54),e.NdJ("onChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.checkAllAccessPosition(s))}),e.qZA(),e.TgZ(11,"div",55),e.YNc(12,Ja,1,3,"p-checkbox",56),e.qZA()(),e.TgZ(13,"app-button",50),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.positionCreate())}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("max-width","40rem"),e.Q6J("formGroup",t.positionForm),e.xp6(8),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(4),e.Q6J("ngForOf",t.accessFlags())("ngForTrackBy",t.AccessFlag.trackByFlag),e.xp6(1),e.Q6J("disabled",!t.positionForm.valid)("loading",t.isBeginCreatingPosition)}}function ju(n,o){if(1&n&&e._UZ(0,"p-checkbox",57),2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("label",t.name)("value",t.value)("formControl",i.positionForm.controls.access)}}function np(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",52)(1,"span",47)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(4,"input",48),e.qZA(),e.TgZ(5,"span",47)(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(8,"textarea",49),e.qZA(),e.TgZ(9,"p-panel",53)(10,"p-toggleButton",54),e.NdJ("onChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.checkAllAccessPosition(s))}),e.qZA(),e.TgZ(11,"div",55),e.YNc(12,ju,1,3,"p-checkbox",56),e.qZA()(),e.TgZ(13,"app-button",51),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.positionEdit())}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("max-width","40rem"),e.Q6J("formGroup",t.positionForm),e.xp6(8),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(4),e.Q6J("ngForOf",t.accessFlags())("ngForTrackBy",t.AccessFlag.trackByFlag),e.xp6(1),e.Q6J("disabled",!t.positionForm.valid)("loading",t.isBeginEditingPosition)}}function Ku(n,o){1&n&&e.GkF(0)}function Jr(n,o){if(1&n){const t=e.EpF();e.YNc(0,Ku,1,0,"ng-container",58),e.TgZ(1,"app-button",59),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.employeeCreate())}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(20);e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("disabled",!t.employeeForm.valid)("loading",t.isBeingCreatingEmployee)}}function lc(n,o){1&n&&e.GkF(0)}function Ee(n,o){if(1&n){const t=e.EpF();e.YNc(0,lc,1,0,"ng-container",58),e.TgZ(1,"app-button",51),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.employeeEdit())}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(20);e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("disabled",!t.employeeForm.valid)("loading",t.isBeingEditingEmployee)}}function Bt(n,o){if(1&n&&(e.TgZ(0,"div",93),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("colorString",t.name),e.xp6(1),e.Oqu(t.name)}}function ie(n,o){if(1&n&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}function Xe(n,o){if(1&n&&(e.TgZ(0,"div",93),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("colorString",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function nn(n,o){if(1&n&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function Sn(n,o){if(1&n&&(e.TgZ(0,"span",61)(1,"label"),e._uU(2,"ID \u0420\u0430\u0431\u043e\u0447\u0435\u0439 \u0433\u0440\u0443\u043f\u043f\u044b"),e.qZA(),e._UZ(3,"input",94),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee)}}function Xn(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"app-label",82),e._UZ(2,"input",83),e.qZA(),e.TgZ(3,"app-label",84),e._UZ(4,"input",85),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(2),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee)}}function Vi(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"app-label",95),e._UZ(2,"input",96),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee)}}function er(n,o){if(1&n&&e._UZ(0,"p-checkbox",98),2&n){const t=o.$implicit,i=e.oxw(3);e.Q6J("label",t.name)("value",t.value)("disabled",i.isBeingCreatingEmployee||i.isBeingEditingEmployee)("formControl",i.employeeForm.controls.access)}}function oa(n,o){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,er,1,4,"p-checkbox",97),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.accessFlags())("ngForTrackBy",t.AccessFlag.trackByFlag)}}const iu=function(){return{standalone:!0}};function qu(n,o){if(1&n&&e._UZ(0,"p-checkbox",100),2&n){const t=o.$implicit,i=e.oxw(3);e.Q6J("disabled",i.isBeingCreatingEmployee||i.isBeingEditingEmployee||!0)("label",t.name)("ngModelOptions",e.DdM(5,iu))("ngModel",i.accessOfSelectedPosition)("value",t.value)}}function ip(n,o){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,qu,1,6,"p-checkbox",99),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.accessFlags())("ngForTrackBy",t.AccessFlag.trackByFlag)}}function cc(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",52)(1,"div",60)(2,"span",61)(3,"label"),e._uU(4,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),e.qZA(),e._UZ(5,"input",62),e.qZA(),e.TgZ(6,"span",61)(7,"label"),e._uU(8,"\u0418\u043c\u044f"),e.qZA(),e._UZ(9,"input",63),e.qZA(),e.TgZ(10,"span",61)(11,"label"),e._uU(12,"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"),e.qZA(),e._UZ(13,"input",64),e.qZA()(),e.TgZ(14,"div",60)(15,"span",61)(16,"label"),e._uU(17,"\u041b\u043e\u0433\u0438\u043d"),e.qZA(),e._UZ(18,"input",65),e.qZA(),e.TgZ(19,"span",61)(20,"label"),e._uU(21,"\u041f\u0430\u0440\u043e\u043b\u044c"),e.qZA(),e._UZ(22,"input",66),e.qZA()(),e.TgZ(23,"div",60)(24,"span",61)(25,"label"),e._uU(26,"\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"),e.qZA(),e._UZ(27,"input",67),e.qZA(),e.TgZ(28,"span",61)(29,"label"),e._uU(30,"Telegram ID"),e.qZA(),e._UZ(31,"input",68),e.qZA()(),e.TgZ(32,"div",60)(33,"span",47)(34,"label"),e._uU(35,"\u041e\u0442\u0434\u0435\u043b"),e.qZA(),e.TgZ(36,"p-dropdown",69),e.YNc(37,Bt,2,2,"ng-template",70),e.YNc(38,ie,2,1,"ng-template",71),e.qZA()(),e.TgZ(39,"span",47)(40,"label"),e._uU(41,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),e.qZA(),e.TgZ(42,"p-dropdown",72),e.NdJ("onChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.positionSelecting(s))}),e.YNc(43,Xe,2,2,"ng-template",70),e.YNc(44,nn,2,1,"ng-template",71),e.qZA()(),e.TgZ(45,"span",73)(46,"label"),e._uU(47,"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a?"),e.qZA(),e._UZ(48,"p-inputSwitch",74),e.qZA(),e.YNc(49,Sn,4,1,"span",75),e.qZA(),e.TgZ(50,"p-panel",76)(51,"div",77)(52,"div",78)(53,"span",79),e._uU(54,"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043e\u0442 \u0441\u0442\u0430\u0440\u043e\u0433\u043e \u0442\u0440\u0435\u043a\u0435\u0440\u0430"),e.qZA(),e.TgZ(55,"div",80),e.YNc(56,Xn,5,2,"ng-container",3),e.YNc(57,Vi,3,1,"ng-container",3),e.qZA()(),e.TgZ(58,"div",78)(59,"span",79),e._uU(60,"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0430 1785"),e.qZA(),e.TgZ(61,"div",81)(62,"app-label",82),e._UZ(63,"input",83),e.qZA(),e.TgZ(64,"app-label",84),e._UZ(65,"input",85),e.qZA()()(),e.TgZ(66,"div",78)(67,"span",79),e._uU(68,"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0430 781"),e.qZA(),e.TgZ(69,"div",86)(70,"app-label",82),e._UZ(71,"input",83),e.qZA(),e.TgZ(72,"app-label",84),e._UZ(73,"input",85),e.qZA()()(),e.TgZ(74,"div",78)(75,"span",79),e._uU(76,"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0430 1783"),e.qZA(),e.TgZ(77,"div",87)(78,"app-label",82),e._UZ(79,"input",83),e.qZA(),e.TgZ(80,"app-label",84),e._UZ(81,"input",85),e.qZA()()()()(),e.TgZ(82,"p-panel",88)(83,"div",89)(84,"div",60)(85,"p-toggleButton",90),e.NdJ("onChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.checkAllAccessEmployee(s))}),e.qZA(),e.TgZ(86,"p-toggleButton",91),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.accessOverrideChange(s))})("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.isAccessOverride=s)}),e.qZA()(),e.YNc(87,oa,2,2,"div",92),e.YNc(88,ip,2,2,"div",92),e.qZA()()()}if(2&n){const t=e.oxw();e.Udp("max-width","55rem"),e.Q6J("formGroup",t.employeeForm),e.xp6(5),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(4),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(4),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(5),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee||t.showEditEmployeeDialog),e.xp6(4),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(5),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(4),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(5),e.Q6J("options",t.departments)("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(6),e.Q6J("options",t.positions)("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(6),e.Q6J("falseValue",!1)("ngStyle",e.DdM(37,tu))("trueValue",!0)("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(1),e.Q6J("ngIf",t.employeeForm.value.offsite),e.xp6(1),e.Q6J("toggleable",!0)("collapsed",!0),e.xp6(6),e.Q6J("ngIf",!t.employeeForm.value.offsite),e.xp6(1),e.Q6J("ngIf",t.employeeForm.value.offsite),e.xp6(6),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(2),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(6),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(2),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(6),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(2),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(1),e.Q6J("toggleable",!0)("collapsed",!0),e.xp6(3),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee||!t.isAccessOverride),e.xp6(1),e.Q6J("ngModel",t.isAccessOverride)("ngModelOptions",e.DdM(38,iu))("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(1),e.Q6J("ngIf",t.isAccessOverride),e.xp6(1),e.Q6J("ngIf",!t.isAccessOverride)}}let Ch=(()=>{class n{constructor(t,i,s,p){this.api=t,this.confirm=i,this.personality=s,this.rt=p,this.AccessFlag=Ii.j,this.employees=[],this.departments=[],this.positions=[],this.showCreateDepartmentDialog=!1,this.showEditDepartmentDialog=!1,this.isBeginCreatingDepartment=!1,this.isBeginEditingDepartment=!1,this.isBeginDeleteDepartment={},this.departmentForm=new f.cw({id:new f.NI(null),name:new f.NI("",f.kI.required),description:new f.NI("")}),this.positionForm=new f.cw({id:new f.NI(null),name:new f.NI("",f.kI.required),description:new f.NI(""),access:new f.NI([])}),this.showCreatePositionDialog=!1,this.showEditPositionDialog=!1,this.isBeginCreatingPosition=!1,this.isBeginEditingPosition=!1,this.isBeginDeletePosition={},this.showCreateEmployeeDialog=!1,this.showEditEmployeeDialog=!1,this.employeeFiltrationForm=new f.cw({query:new f.NI(""),showDeleted:new f.NI(!1)}),this.employeeForm=new f.cw({lastName:new f.NI(""),firstName:new f.NI("",f.kI.required),secondName:new f.NI(""),internalPhoneNumber:new f.NI(null),access:new f.NI([]),login:new f.NI("",[f.kI.required,f.kI.minLength(4)]),password:new f.NI("",f.kI.required),telegramUserId:new f.NI(""),telegramGroupChatId:new f.NI(null),department:new f.NI(null,f.kI.required),position:new f.NI(null,f.kI.required),offsite:new f.NI(!1),oldTrackerCredentials:new f.cw({username:new f.NI(""),password:new f.NI(""),installerId:new f.NI("")}),base1785Credentials:new f.cw({username:new f.NI(""),password:new f.NI("")}),base781Credentials:new f.cw({username:new f.NI(""),password:new f.NI("")}),base1783Credentials:new f.cw({username:new f.NI(""),password:new f.NI("")})}),this.isAccessOverride=!1,this.accessOfSelectedPosition=[],this.isBeingDeleteEmployee={},this.isBeingCreatingEmployee=!1,this.isBeingEditingEmployee=!1,this.subscriptions=new _.xf}trackByEmployee(t,i){return i.login+i.fullName+JSON.stringify(i.position)+JSON.stringify(i.department)+i.deleted+i.avatar+i.deleted}trackByPosition(t,i){return i.positionId+i.name+i.description+i.deleted}trackByDepartment(t,i){return i.departmentId+i.name+i.description+i.deleted}ngOnDestroy(){this.subscriptions.unsubscribeAll()}ngOnInit(){this.api.getEmployees(void 0,!1).subscribe(t=>this.employees=t),this.api.getDepartments().subscribe(t=>this.departments=t),this.api.getPositions().subscribe(t=>this.positions=t),this.subscriptions.addSubscription("empUpd",this.rt.employeeUpdated().subscribe(t=>{const i=this.employees.findIndex(s=>s.login===t.login);i>=0&&(this.employees[i]=t)})),this.subscriptions.addSubscription("empCr",this.rt.employeeCreated().subscribe(t=>{this.employees.push(t)})),this.subscriptions.addSubscription("empDel",this.rt.employeeDeleted().subscribe(t=>{const i=this.employees.findIndex(s=>s.login===t.login);i>=0&&this.employees.splice(i,1)})),this.subscriptions.addSubscription("depUpd",this.rt.departmentUpdated().subscribe(t=>{const i=this.departments.findIndex(s=>s.departmentId===t.departmentId);i>=0&&(this.departments[i]=t),this.employees.filter(s=>{var p;return(null===(p=s.department)||void 0===p?void 0:p.departmentId)===t.departmentId}).forEach(s=>{s.department=t})})),this.subscriptions.addSubscription("depCr",this.rt.departmentCreated().subscribe(t=>{this.departments.push(t)})),this.subscriptions.addSubscription("depDel",this.rt.departmentDeleted().subscribe(t=>{const i=this.departments.findIndex(s=>s.departmentId===t.departmentId);i>=0&&this.departments.splice(i,1)})),this.subscriptions.addSubscription("posUpd",this.rt.positionUpdated().subscribe(t=>{const i=this.positions.findIndex(s=>s.positionId===t.positionId);i>=0&&(this.positions[i]=t),this.employees.filter(s=>{var p;return(null===(p=s.position)||void 0===p?void 0:p.positionId)===t.positionId}).forEach(s=>{s.position=t})})),this.subscriptions.addSubscription("posCr",this.rt.positionCreated().subscribe(t=>{this.positions.push(t)})),this.subscriptions.addSubscription("posDel",this.rt.positionDeleted().subscribe(t=>{const i=this.positions.findIndex(s=>s.positionId===t.positionId);i>=0&&this.positions.splice(i,1)})),this.subscriptions.addSubscription("empSearch",this.employeeFiltrationForm.valueChanges.pipe((0,Is.b)(1e3),(0,zr.x)()).subscribe(t=>{var i,s;this.employeeFiltrationForm.disable({emitEvent:!1}),this.api.getEmployees(null!==(i=t.query)&&void 0!==i?i:void 0,null!==(s=t.showDeleted)&&void 0!==s?s:void 0).subscribe({next:p=>{this.employees=p,this.employeeFiltrationForm.enable({emitEvent:!1})},error:()=>this.employeeFiltrationForm.enable({emitEvent:!1})})}))}departmentCreate(){this.isBeginCreatingDepartment=!0,this.api.createDepartment(this.departmentForm.getRawValue()).subscribe({complete:()=>{this.isBeginCreatingDepartment=!1,this.showCreateDepartmentDialog=!1},error:()=>{this.isBeginCreatingDepartment=!1}})}departmentDelete(t){"number"==typeof t&&(this.isBeginDeleteDepartment[t]=!0,this.api.deleteDepartment(t).subscribe({complete:()=>{delete this.isBeginDeleteDepartment[t]},error:()=>{delete this.isBeginDeleteDepartment[t]}}))}departmentDeleteConfirm(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0442\u0434\u0435\u043b: "+t.name+"?",accept:()=>{this.departmentDelete(t.departmentId)}})}departmentEdit(){const t=this.departmentForm.value.id;"number"==typeof t&&(this.isBeginEditingDepartment=!0,this.api.editDepartment(this.departmentForm.getRawValue(),t).subscribe({complete:()=>{this.isBeginEditingDepartment=!1,this.showEditDepartmentDialog=!1},error:()=>{this.isBeginEditingDepartment=!1}}))}openDepartmentEditor(t,i,s){"number"==typeof s&&(this.showEditDepartmentDialog=!0,this.departmentForm.setValue({id:s,name:t,description:i}))}openDepartmentCreator(){this.showCreateDepartmentDialog=!0,this.departmentForm.reset()}openPositionCreator(){this.showCreatePositionDialog=!0,this.positionForm.reset()}openPositionEditor(t,i,s,p){"number"==typeof p&&(this.showEditPositionDialog=!0,this.positionForm.setValue({id:p,name:t,description:i,access:Ii.j.read(s)}))}accessFlags(){return Ii.j.flagList()}positionCreate(){var t,i;this.isBeginCreatingPosition=!0;const s={name:this.positionForm.value.name,description:this.positionForm.value.description,access:null!==(i=null===(t=this.positionForm.value.access)||void 0===t?void 0:t.reduce((p,w)=>p+w,0))&&void 0!==i?i:0};this.api.createPosition(s).subscribe({complete:()=>{this.isBeginCreatingPosition=!1,this.showCreatePositionDialog=!1},error:()=>{this.isBeginCreatingPosition=!1}})}positionEdit(){var t,i;if("number"!=typeof this.positionForm.value.id)return;this.isBeginEditingPosition=!0;const s={name:this.positionForm.value.name,description:this.positionForm.value.description,access:null!==(i=null===(t=this.positionForm.value.access)||void 0===t?void 0:t.reduce((p,w)=>p+w,0))&&void 0!==i?i:0};this.api.editPosition(s,this.positionForm.value.id).subscribe({complete:()=>{this.isBeginEditingPosition=!1,this.showEditPositionDialog=!1},error:()=>{this.isBeginEditingPosition=!1}})}positionDelete(t){"number"==typeof t&&(this.isBeginDeletePosition[t]=!0,this.api.deletePosition(t).subscribe({complete:()=>{delete this.isBeginDeletePosition[t]},error:()=>{delete this.isBeginDeletePosition[t]}}))}positionDeleteConfirm(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c: "+t.name+"?",accept:()=>{this.positionDelete(t.positionId)}})}openEmployeeCreator(){this.showCreateEmployeeDialog=!0,this.employeeForm.reset({login:"",password:"",access:[],department:null,position:null,secondName:"",firstName:"",lastName:"",internalPhoneNumber:"",telegramUserId:"",offsite:!1})}accessOverrideChange(t){t||this.employeeForm.patchValue({access:[]})}positionSelecting(t){const i=this.positions.find(s=>s.positionId===t.value);i&&i.access&&(this.accessOfSelectedPosition=Ii.j.read(i.access))}checkAllAccessEmployee(t){const{checked:i}=t;this.employeeForm.patchValue(i?{access:Ii.j.array()}:{access:[]})}checkAllAccessPosition(t){const{checked:i}=t;this.positionForm.patchValue(i?{access:Ii.j.array()}:{access:[]})}employeeCreate(){const t=this.employeeForm.getRawValue();this.isBeingCreatingEmployee=!0;let i=0;Array.isArray(t.access)&&(i=t.access.reduce((s,p)=>s+p,0)),this.api.createEmployee(Object.assign(Object.assign({},t),{access:i})).subscribe({complete:()=>{this.isBeingCreatingEmployee=!1,this.showCreateEmployeeDialog=!1},error:()=>{this.isBeingCreatingEmployee=!1}})}employeeDeleteConfirm(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430: "+t.login+"?",accept:()=>{this.employeeDelete(t.login)}})}employeeDelete(t){"string"==typeof t&&(this.isBeingDeleteEmployee[t]=!0,this.api.deleteEmployee(t).subscribe({complete:()=>{delete this.isBeingDeleteEmployee[t]},error:()=>{delete this.isBeingDeleteEmployee[t]}}))}employeeEdit(){const t=this.employeeForm.getRawValue();if("string"!=typeof t.login)return;this.isBeingEditingEmployee=!0;let i=0;Array.isArray(t.access)&&(i=t.access.reduce((s,p)=>s+p,0)),this.api.editEmployee(Object.assign(Object.assign({},t),{access:i}),t.login).subscribe({complete:()=>{this.isBeingEditingEmployee=!1,this.showEditEmployeeDialog=!1},error:()=>{this.isBeingEditingEmployee=!1}})}openEmployeeEditor(t){"string"==typeof t&&this.api.getEmployee(t).subscribe({next:i=>{var s,p,w,Q,Ce,qe,$e,$t,jt,Gt,fn,Rn,Fn,jn,Ti,no,Qi,wo,hs,Ps,ko,tc;this.employeeForm.patchValue({login:i.login,password:"password",access:Ii.j.read(null!==(s=i.access)&&void 0!==s?s:0),department:null===(p=i.department)||void 0===p?void 0:p.departmentId,position:null===(w=i.position)||void 0===w?void 0:w.positionId,secondName:i.secondName,firstName:i.firstName,lastName:i.lastName,internalPhoneNumber:i.internalPhoneNumber,telegramUserId:i.telegramUserId,telegramGroupChatId:i.telegramGroupChatId,offsite:i.offsite,oldTrackerCredentials:{username:null!==(Ce=null===(Q=i.oldTrackerCredentials)||void 0===Q?void 0:Q.username)&&void 0!==Ce?Ce:"",password:null!==($e=null===(qe=i.oldTrackerCredentials)||void 0===qe?void 0:qe.password)&&void 0!==$e?$e:"",installerId:null!==(jt=null===($t=i.oldTrackerCredentials)||void 0===$t?void 0:$t.installerId)&&void 0!==jt?jt:""},base1785Credentials:{username:null!==(fn=null===(Gt=i.base1785Credentials)||void 0===Gt?void 0:Gt.username)&&void 0!==fn?fn:"",password:null!==(Fn=null===(Rn=i.base1785Credentials)||void 0===Rn?void 0:Rn.password)&&void 0!==Fn?Fn:""},base781Credentials:{username:null!==(Ti=null===(jn=i.base781Credentials)||void 0===jn?void 0:jn.username)&&void 0!==Ti?Ti:"",password:null!==(Qi=null===(no=i.base781Credentials)||void 0===no?void 0:no.password)&&void 0!==Qi?Qi:""},base1783Credentials:{username:null!==(hs=null===(wo=i.base1783Credentials)||void 0===wo?void 0:wo.username)&&void 0!==hs?hs:"",password:null!==(ko=null===(Ps=i.base1783Credentials)||void 0===Ps?void 0:Ps.password)&&void 0!==ko?ko:""}}),this.positionSelecting({value:null===(tc=i.position)||void 0===tc?void 0:tc.positionId}),this.showEditEmployeeDialog=!0},error:()=>{}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(F.YP),e.Y36(V.F),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:21,vars:29,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"stretched","panel","overflow"],[4,"ngIf"],["header","\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u0442\u0434\u0435\u043b\u0430",3,"visible","modal","dismissableMask","resizable","visibleChange"],["pTemplate","content"],["header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0434\u0435\u043b\u0430",3,"visible","modal","dismissableMask","resizable","visibleChange"],["header","\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",3,"visible","modal","dismissableMask","resizable","visibleChange"],["header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",3,"visible","modal","dismissableMask","resizable","visibleChange"],["contentStyleClass","flex flex-column gap-3","header","\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",3,"visible","modal","dismissableMask","resizable","visibleChange"],["contentStyleClass","flex flex-column gap-3","header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",3,"visible","modal","dismissableMask","resizable","visibleChange"],["employeeFormTemplate",""],["pTemplate","header"],[1,"flexed","column"],[1,"flexed","gap10","vcenter","hcenter",3,"formGroup"],[1,"p-input-icon-left"],[1,"mdi-search"],["formControlName","query","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a...","type","text"],[1,"caption","size-small","f-color-500","flexed","column","hcenter"],["formControlName","showDeleted",3,"falseValue","ngStyle","trueValue"],["icon","person_add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","model","p-button-text p-button-success",3,"onClick"],[1,"employee-list"],["class","employee-list-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","gap3","hcenter"],[1,"mdi-person"],[1,"employee-list-item"],[3,"deleted","name","size","src"],[1,"caption"],[1,"flexed","gap5","hcenter"],["appColorize",""],[1,"stretched"],["icon","mdi-edit","styleClass","p-button-text p-button-warning","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",3,"disabled","onClick"],["icon","mdi-delete","styleClass","p-button-text p-button-danger","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",3,"disabled","loading","onClick"],[1,"flexed","column","gap10"],["icon","add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","model","p-button-success",3,"onClick"],[1,"list-view"],["class","list-view-item bordered",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mdi-groups"],[1,"list-view-item","bordered"],[1,"flexed","column","gap5"],["appColorize","",1,"caption","size-small","f-color-500"],["class","caption size-small",3,"style",4,"ngIf"],["icon","mdi-delete","styleClass","p-button-text p-button-danger","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",3,"loading","onClick"],[1,"caption","size-small"],[1,"flexed","gap10","column"],[1,"mdi-badge"],[1,"flexed","column","gap5",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","name","pInputText","","type","text"],["formControlName","description","pInputTextarea","",3,"autoResize","cols","rows"],["icon","add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"disabled","loading","onClick"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"disabled","loading","onClick"],[1,"flex","flex-column","gap-2",3,"formGroup"],["header","\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043e\u0441\u0442\u0443\u043f\u0430"],["offLabel","\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0441\u0451","onLabel","\u0421\u043d\u044f\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435",3,"onChange"],[1,"flex","gap-3","flex-wrap","max-h-15rem","p-2","overflow-y-auto"],["name","access",3,"label","value","formControl",4,"ngFor","ngForOf","ngForTrackBy"],["name","access",3,"label","value","formControl"],[4,"ngTemplateOutlet"],["icon","person_add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"disabled","loading","onClick"],[1,"flex","gap-3","align-items-center"],[1,"input-label-wrapper","full-width"],["appRegexPatternChecker","","patternRx","^[\u0410-\u044f]+$","formControlName","lastName","pInputText","","type","text",3,"disabled"],["appRegexPatternChecker","","formControlName","firstName","pInputText","","patternRx","^[\u0410-\u044f]+$","type","text",3,"disabled"],["appRegexPatternChecker","","formControlName","secondName","pInputText","","patternRx","^[\u0410-\u044f]+$","type","text",3,"disabled"],["appRegexPatternChecker","","formControlName","login","pInputText","","patternRx","^[\\w\\.]+$$","type","text",3,"disabled"],["appRegexPatternChecker","","formControlName","password","pInputText","","patternRx","^[\\w\\.]+$$","type","password",3,"disabled"],["appRegexPatternChecker","","formControlName","internalPhoneNumber","pInputText","","patternRx","^\\d+$","type","text",3,"disabled"],["appRegexPatternChecker","","formControlName","telegramUserId","pInputText","","patternRx","^\\d+$","type","text",3,"disabled"],["formControlName","department","optionLabel","name","optionValue","departmentId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c",3,"options","disabled"],["pTemplate","selectedItem"],["pTemplate","item"],["formControlName","position","optionLabel","name","optionValue","positionId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c",3,"options","disabled","onChange"],[1,"input-label-wrapper","flexed","vcenter"],["formControlName","offsite",3,"falseValue","ngStyle","trueValue","disabled"],["class","input-label-wrapper full-width",4,"ngIf"],["header","\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438",3,"toggleable","collapsed"],[1,"flex","flex-column","gap-2"],[1,"flex","flex-column"],[1,"text-bluegray-400","font-bold"],["formGroupName","oldTrackerCredentials",1,"flex","gap-3","align-items-center"],["formGroupName","base1785Credentials",1,"flex","gap-3","align-items-center"],["label","\u041b\u043e\u0433\u0438\u043d"],["appRegexPatternChecker","","formControlName","username","pInputText","","patternRx","^[\\w\\.]+$","type","text",3,"disabled"],["label","\u041f\u0430\u0440\u043e\u043b\u044c"],["appRegexPatternChecker","","formControlName","password","pInputText","","patternRx","^[\\w\\.]+$","type","text",3,"disabled"],["formGroupName","base781Credentials",1,"flex","gap-3","align-items-center"],["formGroupName","base1783Credentials",1,"flex","gap-3","align-items-center"],["header","\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043e\u0441\u0442\u0443\u043f\u0430",3,"toggleable","collapsed"],[1,"flex","gap-3","flex-column"],["offLabel","\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0441\u0451","onLabel","\u0421\u043d\u044f\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435",3,"disabled","onChange"],["offLabel","\u041f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c","onLabel","\u0418\u0437 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",3,"ngModel","ngModelOptions","disabled","ngModelChange"],["class","flex gap-3 flex-wrap max-h-15rem p-2 overflow-y-auto",4,"ngIf"],["appColorize","",3,"colorString"],["appRegexPatternChecker","","formControlName","telegramGroupChatId","pInputText","","patternRx","^\\d+$","type","text",3,"disabled"],["label","ID \u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0430 \u0432 \u0442\u0440\u0435\u043a\u0435\u0440\u0435"],["appRegexPatternChecker","","formControlName","installerId","pInputText","","patternRx","^[\\d]+$","type","text",3,"disabled"],["name","access",3,"label","value","disabled","formControl",4,"ngFor","ngForOf","ngForTrackBy"],["name","access",3,"label","value","disabled","formControl"],["name","accessPosition",3,"disabled","label","ngModelOptions","ngModel","value",4,"ngFor","ngForOf","ngForTrackBy"],["name","accessPosition",3,"disabled","label","ngModelOptions","ngModel","value"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"p-tabView",2),e.YNc(4,nu,14,7,"p-tabPanel",3),e.YNc(5,sc,7,2,"p-tabPanel",3),e.YNc(6,ac,6,2,"p-tabPanel",3),e.qZA()()(),e.TgZ(7,"p-dialog",4),e.NdJ("visibleChange",function(p){return i.showCreateDepartmentDialog=p}),e.YNc(8,tp,10,6,"ng-template",5),e.qZA(),e.TgZ(9,"p-dialog",6),e.NdJ("visibleChange",function(p){return i.showEditDepartmentDialog=p}),e.YNc(10,Sr,10,6,"ng-template",5),e.qZA(),e.TgZ(11,"p-dialog",7),e.NdJ("visibleChange",function(p){return i.showCreatePositionDialog=p}),e.YNc(12,kc,14,10,"ng-template",5),e.qZA(),e.TgZ(13,"p-dialog",8),e.NdJ("visibleChange",function(p){return i.showEditPositionDialog=p}),e.YNc(14,np,14,10,"ng-template",5),e.qZA(),e.TgZ(15,"p-dialog",9),e.NdJ("visibleChange",function(p){return i.showCreateEmployeeDialog=p}),e.YNc(16,Jr,2,3,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",10),e.NdJ("visibleChange",function(p){return i.showEditEmployeeDialog=p}),e.YNc(18,Ee,2,3,"ng-template",5),e.qZA(),e.YNc(19,cc,89,39,"ng-template",null,11,e.W1O)),2&t&&(e.xp6(1),e.Udp("padding-bottom","2rem"),e.xp6(3),e.Q6J("ngIf",i.personality.isHasAccess(i.AccessFlag.MANAGE_EMPLOYEES)),e.xp6(1),e.Q6J("ngIf",i.personality.isHasAccess(i.AccessFlag.MANAGE_DEPARTMENTS)),e.xp6(1),e.Q6J("ngIf",i.personality.isHasAccess(i.AccessFlag.MANAGE_POSITIONS)),e.xp6(1),e.Q6J("visible",i.showCreateDepartmentDialog)("modal",!0)("dismissableMask",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showEditDepartmentDialog)("modal",!0)("dismissableMask",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showCreatePositionDialog)("modal",!0)("dismissableMask",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showEditPositionDialog)("modal",!0)("dismissableMask",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showCreateEmployeeDialog)("modal",!0)("dismissableMask",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showEditEmployeeDialog)("modal",!0)("dismissableMask",!0)("resizable",!1))},styles:[".employee-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem}.employee-list-item[_ngcontent-%COMP%]{display:flex;cursor:pointer;padding:1rem;gap:1rem;align-items:center;transition:background-color .2s ease-out}.employee-list-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-100)}.department-menu[_ngcontent-%COMP%]{border-left:1px solid var(--bgc-300)}"]}),n})();var cf=b(9936);function vh(n,o){1&n&&e._UZ(0,"app-dashboard-task-statistic-panel",6),2&n&&e.Q6J("wireframe",o.$implicit)}function $u(n,o){if(1&n&&(e.ynx(0),e.YNc(1,vh,1,1,"app-dashboard-task-statistic-panel",5),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function op(n,o){1&n&&(e.TgZ(0,"div",7),e._UZ(1,"span",8),e.TgZ(2,"span"),e._uU(3,"\u041d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u0437\u0430\u0434\u0430\u0447"),e.qZA()())}let ou=(()=>{class n{constructor(t){this.api=t,this.wireframes$=this.api.getWireframes()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:8,vars:4,consts:[["appExtendPageHeight","",1,"flex","justify-content-center"],[1,"responsive-wrapper","flex","gap-3"],[1,"grid","h-fit","w-full"],[4,"ngIf","ngIfElse"],["empty",""],["class","col-4",3,"wireframe",4,"ngFor","ngForOf"],[1,"col-4",3,"wireframe"],[1,"flex","flex-column","flex-grow-1","w-full","align-items-center","justify-content-center","p-5","text-bluegray-400","text-4xl","font-light"],[1,"mds-frame_source"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.YNc(4,$u,2,1,"ng-container",3),e.ALo(5,"async"),e.qZA()()(),e.YNc(6,op,4,0,"ng-template",null,4,e.W1O)),2&t){const s=e.MAs(7);e.xp6(4),e.Q6J("ngIf",e.lcZ(5,2,i.wireframes$))("ngIfElse",s)}}}),n})();var su=b(9751),uf=b(515),t0=b(727),n0=b(4482),o0=b(5403),bh=b(8737),sp=b(4986),Xu=b(3269),rp=b(9672),Dc=b(430);let Qa=(()=>{class n{constructor(t,i,s){this.api=t,this.rt=i,this.personality=s,this.items=[],this.AccessFlag=Ii.j,this.fields=[{name:"\u0411\u0443\u043b\u0435\u0432\u043e",id:(0,$o.Z)(),type:he._r.BOOLEAN,orderPosition:1,listViewIndex:1},{name:"\u0418\u043d\u0442\u0435\u0433\u0435\u0440",id:(0,$o.Z)(),type:he._r.INTEGER,orderPosition:1,listViewIndex:1},{name:"\u0424\u043b\u043e\u0430\u0442",id:(0,$o.Z)(),type:he._r.FLOAT,orderPosition:1,listViewIndex:1},{name:"\u0422\u0435\u043a\u0441\u0442",id:(0,$o.Z)(),type:he._r.LARGE_TEXT,orderPosition:1,listViewIndex:1},{name:"\u0421\u0442\u0440\u043e\u043a\u0430",id:(0,$o.Z)(),type:he._r.SMALL_TEXT,orderPosition:1,listViewIndex:1},{name:"\u0410\u0434\u0440\u0435\u0441",id:(0,$o.Z)(),type:he._r.ADDRESS,orderPosition:1,listViewIndex:1},{name:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",id:(0,$o.Z)(),type:he._r.PHONE_ARRAY,orderPosition:1,listViewIndex:1}],this.ips$=function e0(n,o,t){if(null==o&&(o=n,n=0),o<=0)return uf.E;const i=o+n;return new su.y(t?s=>{let p=n;return t.schedule(function(){p<i?(s.next(p++),this.schedule()):s.complete()})}:s=>{let p=n;for(;p<i&&!s.closed;)s.next(p++);s.complete()})}(1,150).pipe((0,gt.U)(p=>`10.163.35.${p}`),function ap(n,...o){var t,i;const s=null!==(t=(0,Xu.yG)(o))&&void 0!==t?t:sp.z,p=null!==(i=o[0])&&void 0!==i?i:null,w=o[1]||1/0;return(0,n0.e)((Q,Ce)=>{let qe=[],$e=!1;const $t=fn=>{const{buffer:Rn,subs:Fn}=fn;Fn.unsubscribe(),(0,bh.P)(qe,fn),Ce.next(Rn),$e&&jt()},jt=()=>{if(qe){const fn=new t0.w0;Ce.add(fn);const Fn={buffer:[],subs:fn};qe.push(Fn),(0,rp.f)(fn,s,()=>$t(Fn),n)}};null!==p&&p>=0?(0,rp.f)(Ce,s,jt,p,!0):$e=!0,jt();const Gt=new o0.Q(Ce,fn=>{const Rn=qe.slice();for(const Fn of Rn){const{buffer:jn}=Fn;jn.push(fn),w<=jn.length&&$t(Fn)}},()=>{for(;null!=qe&&qe.length;)Ce.next(qe.shift().buffer);null==Gt||Gt.unsubscribe(),Ce.complete(),Ce.unsubscribe()},void 0,()=>qe=null);Q.subscribe(Gt)})}(1e3)),this.form=new f.cw({}),this.employees$=this.api.getEmployees(),this.users=[],this.filterForm=new f.cw({mode:new f.NI("login"),query:new f.NI("")}),this.filterChange$=this.filterForm.valueChanges.pipe((0,Is.b)(1e3),(0,zr.x)(),(0,R.w)(p=>{if(!p.query)return(0,Tn.of)([]);switch(p.mode){case"login":return this.api.getBillingUsersByLogin(p.query,!0);case"fio":return this.api.getBillingUsersByFio(p.query,!0);case"address":return this.api.getBillingUsersByAddress(p.query,!0)}return(0,Tn.of)([])})),this.filterModeItems=[{label:"\u041b\u043e\u0433\u0438\u043d",value:"login"},{label:"\u0424\u0418\u041e",value:"fio"},{label:"\u0410\u0434\u0440\u0435\u0441",value:"address"}],this.usersHandler={next:p=>{this.users=p}},this.ips=["10.163.35.26"],this.workPickerControl=new f.NI(null),this.unsub=!0,this.control=new f.NI([{equipment:{clientEquipmentId:2,name:"\u0420\u043e\u0443\u0442\u0435\u0440 5",description:"\u041d\u0435\u043e\u0431\u044b\u0447\u043d\u044b\u0439 \u0440\u043e\u0443\u0442\u0435\u0440",price:2e3,created:"2023-08-16T07:12:42.701+00:00",creator:{login:"admin",department:{departmentId:1,name:"\u0422\u041f",description:null,deleted:!1,created:"2023-05-02T13:35:15.746+00:00"},position:{positionId:1,name:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430\u044f",description:null,access:0,created:"2023-05-02T13:40:51.279+00:00",deleted:!1},avatar:"9599810d-5d86-4aba-b71b-83fa120ace9c.png",secondName:"\u0410\u043d\u0434\u0440\u0435\u0435\u0432\u0438\u0447",firstName:"\u041c\u0430\u043a\u0441\u0438\u043c",lastName:"\u0423\u0448\u0430\u043a\u043e\u0432",internalPhoneNumber:"",access:0,created:"2023-05-01T15:53:59.919+00:00",telegramUserId:"",offsite:!1,deleted:!1,status:"ONLINE",lastSeen:"2023-08-16T13:08:43.102+00:00",fullName:"\u041c\u0430\u043a\u0441\u0438\u043c \u0423\u0448\u0430\u043a\u043e\u0432"},editedBy:[],deleted:!1,lastEdit:null},count:1}]),this.ctrl$=this.control.valueChanges.pipe((0,cn.d)(1)),this.value=new Date,this.testControl=new f.NI(null,P.d.taskInput(he._r.ADDRESS,"APARTMENT_ONLY")),this.sessionId=(0,$o.Z)(),this.telnetCon$=this.rt.remoteTelnetConnection("10.100.164.62",this.sessionId).pipe((0,gt.U)(p=>p.data))}telnetSendData(t){"\x7f"!==t?this.api.sendDataToTelnetSession(this.sessionId,t).subscribe():this.api.sendDataToTelnetSession(this.sessionId,"\b").subscribe()}ngOnInit(){for(let t=0;t<1e4;t++)this.generateRandomString();for(const t of this.fields)this.form.addControl(t.id,new f.NI(null));this.filterChange$.subscribe(this.usersHandler)}valueChange(t){}generateRandomString(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let i="";const s=t.length;for(let p=0;p<5;p++)i+=t.charAt(Math.floor(Math.random()*s));this.items.push(i)}loadDocument(){}ngAfterContentInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(V.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:2,vars:3,consts:[["appExtendPageHeight","",1,"flex","flex-column","p-3","w-full","align-items-center","justify-content-center"],[3,"dataSource","cols","rows","keyInput"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"ng-terminal",1),e.NdJ("keyInput",function(p){return i.telnetSendData(p)}),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("dataSource",i.telnetCon$)("cols",80)("rows",24))},dependencies:[B,Dc.Eo],styles:[".hovered[_ngcontent-%COMP%]{background-color:#fff;transition:background-color .2s ease-in-out;cursor:pointer}.hovered[_ngcontent-%COMP%]:hover{background-color:#00f}"]}),n})();var ru,Li,yh,ml,uc,xh,Ih,Nl,dc={},Th=[],sa=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ra(n,o){for(var t in o)n[t]=o[t];return n}function ed(n){var o=n.parentNode;o&&o.removeChild(n)}function ln(n,o,t){var i,s,p,w={};for(p in o)"key"==p?i=o[p]:"ref"==p?s=o[p]:w[p]=o[p];if(arguments.length>2&&(w.children=arguments.length>3?ru.call(arguments,2):t),"function"==typeof n&&null!=n.defaultProps)for(p in n.defaultProps)void 0===w[p]&&(w[p]=n.defaultProps[p]);return tr(n,w,i,s,null)}function tr(n,o,t,i,s){var p={type:n,props:o,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==s?++yh:s};return null==s&&null!=Li.vnode&&Li.vnode(p),p}function Ko(n){return n.children}function td(n,o,t){"-"===o[0]?n.setProperty(o,null==t?"":t):n[o]=null==t?"":"number"!=typeof t||sa.test(o)?t:t+"px"}function au(n,o,t,i,s){var p;e:if("style"===o)if("string"==typeof t)n.style.cssText=t;else{if("string"==typeof i&&(n.style.cssText=i=""),i)for(o in i)t&&o in t||td(n.style,o,"");if(t)for(o in t)i&&t[o]===i[o]||td(n.style,o,t[o])}else if("o"===o[0]&&"n"===o[1])p=o!==(o=o.replace(/Capture$/,"")),o=o.toLowerCase()in n?o.toLowerCase().slice(2):o.slice(2),n.l||(n.l={}),n.l[o+p]=t,t?i||n.addEventListener(o,p?lp:Ah,p):n.removeEventListener(o,p?lp:Ah,p);else if("dangerouslySetInnerHTML"!==o){if(s)o=o.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==o&&"height"!==o&&"href"!==o&&"list"!==o&&"form"!==o&&"tabIndex"!==o&&"download"!==o&&o in n)try{n[o]=null==t?"":t;break e}catch(w){}"function"==typeof t||(null==t||!1===t&&-1==o.indexOf("-")?n.removeAttribute(o):n.setAttribute(o,t))}}function Ah(n){ml=!0;try{return this.l[n.type+!1](Li.event?Li.event(n):n)}finally{ml=!1}}function lp(n){ml=!0;try{return this.l[n.type+!0](Li.event?Li.event(n):n)}finally{ml=!1}}function da(n,o){this.props=n,this.context=o}function Mc(n,o){if(null==o)return n.__?Mc(n.__,n.__.__k.indexOf(n)+1):null;for(var t;o<n.__k.length;o++)if(null!=(t=n.__k[o])&&null!=t.__e)return t.__e;return"function"==typeof n.type?Mc(n):null}function _l(n){var o,t;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,o=0;o<n.__k.length;o++)if(null!=(t=n.__k[o])&&null!=t.__e){n.__e=n.__c.base=t.__e;break}return _l(n)}}function wh(n){ml?setTimeout(n):Ih(n)}function Fl(n){(!n.__d&&(n.__d=!0)&&uc.push(n)&&!pc.__r++||xh!==Li.debounceRendering)&&((xh=Li.debounceRendering)||wh)(pc)}function pc(){var n,o,t,i,s,p,w,Q;for(uc.sort(function(Ce,qe){return Ce.__v.__b-qe.__v.__b});n=uc.shift();)n.__d&&(o=uc.length,i=void 0,s=void 0,w=(p=(t=n).__v).__e,(Q=t.__P)&&(i=[],(s=ra({},p)).__v=p.__v+1,up(Q,p,s,t.__n,void 0!==Q.ownerSVGElement,null!=p.__h?[w]:null,i,null==w?Mc(p):w,p.__h),id(i,p),p.__e!=w&&_l(p)),uc.length>o&&uc.sort(function(Ce,qe){return Ce.__v.__b-qe.__v.__b}));pc.__r=0}function Cl(n,o,t,i,s,p,w,Q,Ce,qe){var $e,$t,jt,Gt,fn,Rn,Fn,jn=i&&i.__k||Th,Ti=jn.length;for(t.__k=[],$e=0;$e<o.length;$e++)if(null!=(Gt=t.__k[$e]=null==(Gt=o[$e])||"boolean"==typeof Gt?null:"string"==typeof Gt||"number"==typeof Gt||"bigint"==typeof Gt?tr(null,Gt,null,null,Gt):Array.isArray(Gt)?tr(Ko,{children:Gt},null,null,null):Gt.__b>0?tr(Gt.type,Gt.props,Gt.key,Gt.ref?Gt.ref:null,Gt.__v):Gt)){if(Gt.__=t,Gt.__b=t.__b+1,null===(jt=jn[$e])||jt&&Gt.key==jt.key&&Gt.type===jt.type)jn[$e]=void 0;else for($t=0;$t<Ti;$t++){if((jt=jn[$t])&&Gt.key==jt.key&&Gt.type===jt.type){jn[$t]=void 0;break}jt=null}up(n,Gt,jt=jt||dc,s,p,w,Q,Ce,qe),fn=Gt.__e,($t=Gt.ref)&&jt.ref!=$t&&(Fn||(Fn=[]),jt.ref&&Fn.push(jt.ref,null,Gt),Fn.push($t,Gt.__c||fn,Gt)),null!=fn?(null==Rn&&(Rn=fn),"function"==typeof Gt.type&&Gt.__k===jt.__k?Gt.__d=Ce=cp(Gt,Ce,n):Ce=Oc(n,Gt,jt,jn,fn,Ce),"function"==typeof t.type&&(t.__d=Ce)):Ce&&jt.__e==Ce&&Ce.parentNode!=n&&(Ce=Mc(jt))}for(t.__e=Rn,$e=Ti;$e--;)null!=jn[$e]&&("function"==typeof t.type&&null!=jn[$e].__e&&jn[$e].__e==t.__d&&(t.__d=nd(i).nextSibling),pf(jn[$e],jn[$e]));if(Fn)for($e=0;$e<Fn.length;$e++)Pc(Fn[$e],Fn[++$e],Fn[++$e])}function cp(n,o,t){for(var i,s=n.__k,p=0;s&&p<s.length;p++)(i=s[p])&&(i.__=n,o="function"==typeof i.type?cp(i,o,t):Oc(t,i,i,s,i.__e,o));return o}function vl(n,o){return o=o||[],null==n||"boolean"==typeof n||(Array.isArray(n)?n.some(function(t){vl(t,o)}):o.push(n)),o}function Oc(n,o,t,i,s,p){var w,Q,Ce;if(void 0!==o.__d)w=o.__d,o.__d=void 0;else if(null==t||s!=p||null==s.parentNode)e:if(null==p||p.parentNode!==n)n.appendChild(s),w=null;else{for(Q=p,Ce=0;(Q=Q.nextSibling)&&Ce<i.length;Ce+=1)if(Q==s)break e;n.insertBefore(s,p),w=p}return void 0!==w?w:s.nextSibling}function nd(n){var o,t,i;if(null==n.type||"string"==typeof n.type)return n.__e;if(n.__k)for(o=n.__k.length-1;o>=0;o--)if((t=n.__k[o])&&(i=nd(t)))return i;return null}function up(n,o,t,i,s,p,w,Q,Ce){var qe,$e,$t,jt,Gt,fn,Rn,Fn,jn,Ti,no,Qi,wo,hs,Ps,ko=o.type;if(void 0!==o.constructor)return null;null!=t.__h&&(Ce=t.__h,Q=o.__e=t.__e,o.__h=null,p=[Q]),(qe=Li.__b)&&qe(o);try{e:if("function"==typeof ko){if(Fn=o.props,jn=(qe=ko.contextType)&&i[qe.__c],Ti=qe?jn?jn.props.value:qe.__:i,t.__c?Rn=($e=o.__c=t.__c).__=$e.__E:("prototype"in ko&&ko.prototype.render?o.__c=$e=new ko(Fn,Ti):(o.__c=$e=new da(Fn,Ti),$e.constructor=ko,$e.render=Bl),jn&&jn.sub($e),$e.props=Fn,$e.state||($e.state={}),$e.context=Ti,$e.__n=i,$t=$e.__d=!0,$e.__h=[],$e._sb=[]),null==$e.__s&&($e.__s=$e.state),null!=ko.getDerivedStateFromProps&&($e.__s==$e.state&&($e.__s=ra({},$e.__s)),ra($e.__s,ko.getDerivedStateFromProps(Fn,$e.__s))),jt=$e.props,Gt=$e.state,$e.__v=o,$t)null==ko.getDerivedStateFromProps&&null!=$e.componentWillMount&&$e.componentWillMount(),null!=$e.componentDidMount&&$e.__h.push($e.componentDidMount);else{if(null==ko.getDerivedStateFromProps&&Fn!==jt&&null!=$e.componentWillReceiveProps&&$e.componentWillReceiveProps(Fn,Ti),!$e.__e&&null!=$e.shouldComponentUpdate&&!1===$e.shouldComponentUpdate(Fn,$e.__s,Ti)||o.__v===t.__v){for(o.__v!==t.__v&&($e.props=Fn,$e.state=$e.__s,$e.__d=!1),o.__e=t.__e,o.__k=t.__k,o.__k.forEach(function(tc){tc&&(tc.__=o)}),no=0;no<$e._sb.length;no++)$e.__h.push($e._sb[no]);$e._sb=[],$e.__h.length&&w.push($e);break e}null!=$e.componentWillUpdate&&$e.componentWillUpdate(Fn,$e.__s,Ti),null!=$e.componentDidUpdate&&$e.__h.push(function(){$e.componentDidUpdate(jt,Gt,fn)})}if($e.context=Ti,$e.props=Fn,$e.__P=n,Qi=Li.__r,wo=0,"prototype"in ko&&ko.prototype.render){for($e.state=$e.__s,$e.__d=!1,Qi&&Qi(o),qe=$e.render($e.props,$e.state,$e.context),hs=0;hs<$e._sb.length;hs++)$e.__h.push($e._sb[hs]);$e._sb=[]}else do{$e.__d=!1,Qi&&Qi(o),qe=$e.render($e.props,$e.state,$e.context),$e.state=$e.__s}while($e.__d&&++wo<25);$e.state=$e.__s,null!=$e.getChildContext&&(i=ra(ra({},i),$e.getChildContext())),$t||null==$e.getSnapshotBeforeUpdate||(fn=$e.getSnapshotBeforeUpdate(jt,Gt)),Ps=null!=qe&&qe.type===Ko&&null==qe.key?qe.props.children:qe,Cl(n,Array.isArray(Ps)?Ps:[Ps],o,t,i,s,p,w,Q,Ce),$e.base=o.__e,o.__h=null,$e.__h.length&&w.push($e),Rn&&($e.__E=$e.__=null),$e.__e=!1}else null==p&&o.__v===t.__v?(o.__k=t.__k,o.__e=t.__e):o.__e=function lu(n,o,t,i,s,p,w,Q){var Ce,qe,$e,$t=t.props,jt=o.props,Gt=o.type,fn=0;if("svg"===Gt&&(s=!0),null!=p)for(;fn<p.length;fn++)if((Ce=p[fn])&&"setAttribute"in Ce==!!Gt&&(Gt?Ce.localName===Gt:3===Ce.nodeType)){n=Ce,p[fn]=null;break}if(null==n){if(null===Gt)return document.createTextNode(jt);n=s?document.createElementNS("http://www.w3.org/2000/svg",Gt):document.createElement(Gt,jt.is&&jt),p=null,Q=!1}if(null===Gt)$t===jt||Q&&n.data===jt||(n.data=jt);else{if(p=p&&ru.call(n.childNodes),qe=($t=t.props||dc).dangerouslySetInnerHTML,$e=jt.dangerouslySetInnerHTML,!Q){if(null!=p)for($t={},fn=0;fn<n.attributes.length;fn++)$t[n.attributes[fn].name]=n.attributes[fn].value;($e||qe)&&($e&&(qe&&$e.__html==qe.__html||$e.__html===n.innerHTML)||(n.innerHTML=$e&&$e.__html||""))}if(function df(n,o,t,i,s){var p;for(p in t)"children"===p||"key"===p||p in o||au(n,p,null,t[p],i);for(p in o)s&&"function"!=typeof o[p]||"children"===p||"key"===p||"value"===p||"checked"===p||t[p]===o[p]||au(n,p,o[p],t[p],i)}(n,jt,$t,s,Q),$e)o.__k=[];else if(fn=o.props.children,Cl(n,Array.isArray(fn)?fn:[fn],o,t,i,s&&"foreignObject"!==Gt,p,w,p?p[0]:t.__k&&Mc(t,0),Q),null!=p)for(fn=p.length;fn--;)null!=p[fn]&&ed(p[fn]);Q||("value"in jt&&void 0!==(fn=jt.value)&&(fn!==n.value||"progress"===Gt&&!fn||"option"===Gt&&fn!==$t.value)&&au(n,"value",fn,$t.value,!1),"checked"in jt&&void 0!==(fn=jt.checked)&&fn!==n.checked&&au(n,"checked",fn,$t.checked,!1))}return n}(t.__e,o,t,i,s,p,w,Ce);(qe=Li.diffed)&&qe(o)}catch(tc){o.__v=null,(Ce||null!=p)&&(o.__e=Q,o.__h=!!Ce,p[p.indexOf(Q)]=null),Li.__e(tc,o,t)}}function id(n,o){Li.__c&&Li.__c(o,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(i){i.call(t)})}catch(i){Li.__e(i,t.__v)}})}function Pc(n,o,t){try{"function"==typeof n?n(o):n.current=o}catch(i){Li.__e(i,t)}}function pf(n,o,t){var i,s;if(Li.unmount&&Li.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||Pc(i,null,o)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(p){Li.__e(p,o)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(s=0;s<i.length;s++)i[s]&&pf(i[s],o,t||"function"!=typeof n.type);t||null==n.__e||ed(n.__e),n.__=n.__e=n.__d=void 0}function Bl(n,o,t){return this.constructor(n,t)}function Ga(n,o,t){var i,s,p;Li.__&&Li.__(n,o),s=(i="function"==typeof t)?null:t&&t.__k||o.__k,p=[],up(o,n=(!i&&t||o).__k=ln(Ko,null,[n]),s||dc,dc,void 0!==o.ownerSVGElement,!i&&t?[t]:s?null:o.firstChild?ru.call(o.childNodes):null,p,!i&&t?t:s?s.__e:o.firstChild,i),id(p,n)}ru=Th.slice,Li={__e:function(n,o,t,i){for(var s,p,w;o=o.__;)if((s=o.__c)&&!s.__)try{if((p=s.constructor)&&null!=p.getDerivedStateFromError&&(s.setState(p.getDerivedStateFromError(n)),w=s.__d),null!=s.componentDidCatch&&(s.componentDidCatch(n,i||{}),w=s.__d),w)return s.__E=s}catch(Q){n=Q}throw n}},yh=0,ml=!1,da.prototype.setState=function(n,o){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=ra({},this.state),"function"==typeof n&&(n=n(ra({},t),this.props)),n&&ra(t,n),null!=n&&this.__v&&(o&&this._sb.push(o),Fl(this))},da.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Fl(this))},da.prototype.render=Ko,uc=[],Ih="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,pc.__r=0,Nl=0;var _s,dp,pp,Sh=[],cu=[],rd=Li.__b,ad=Li.__r,uu=Li.diffed,kh=Li.__c,Dh=Li.unmount;function Lh(){for(var n;n=Sh.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(hu),n.__H.__h.forEach(Bc),n.__H.__h=[]}catch(o){n.__H.__h=[],Li.__e(o,n.__v)}}Li.__b=function(n){_s=null,rd&&rd(n)},Li.__r=function(n){ad&&ad(n);var o=(_s=n.__c).__H;o&&(dp===_s?(o.__h=[],_s.__h=[],o.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=cu,t.__N=t.i=void 0})):(o.__h.forEach(hu),o.__h.forEach(Bc),o.__h=[])),dp=_s},Li.diffed=function(n){uu&&uu(n);var o=n.__c;o&&o.__H&&(o.__H.__h.length&&(1!==Sh.push(o)&&pp===Li.requestAnimationFrame||((pp=Li.requestAnimationFrame)||ld)(Lh)),o.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==cu&&(t.__=t.__V),t.i=void 0,t.__V=cu})),dp=_s=null},Li.__c=function(n,o){o.some(function(t){try{t.__h.forEach(hu),t.__h=t.__h.filter(function(i){return!i.__||Bc(i)})}catch(i){o.some(function(s){s.__h&&(s.__h=[])}),o=[],Li.__e(i,t.__v)}}),kh&&kh(n,o)},Li.unmount=function(n){Dh&&Dh(n);var o,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{hu(i)}catch(s){o=s}}),t.__H=void 0,o&&Li.__e(o,t.__v))};var pu="function"==typeof requestAnimationFrame;function ld(n){var o,t=function(){clearTimeout(i),pu&&cancelAnimationFrame(o),setTimeout(n)},i=setTimeout(t,100);pu&&(o=requestAnimationFrame(t))}function hu(n){var o=_s,t=n.__c;"function"==typeof t&&(n.__c=void 0,t()),_s=o}function Bc(n){var o=_s;n.__c=n.__(),_s=o}function gp(n,o){for(var t in n)if("__source"!==t&&!(t in o))return!0;for(var i in o)if("__source"!==i&&n[i]!==o[i])return!0;return!1}function fu(n){this.props=n}(fu.prototype=new da).isPureReactComponent=!0,fu.prototype.shouldComponentUpdate=function(n,o){return gp(this.props,n)||gp(this.state,o)};var dd=Li.__b;Li.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),dd&&dd(n)},"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var Rh=Li.__e;Li.__e=function(n,o,t,i){if(n.then)for(var s,p=o;p=p.__;)if((s=p.__c)&&s.__c)return null==o.__e&&(o.__e=t.__e,o.__k=t.__k),s.__c(n,o);Rh(n,o,t,i)};var Nh=Li.unmount;function Fh(n,o,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(i){"function"==typeof i.__c&&i.__c()}),n.__c.__H=null),null!=(n=function Zc(n,o){for(var t in o)n[t]=o[t];return n}({},n)).__c&&(n.__c.__P===t&&(n.__c.__P=o),n.__c=null),n.__k=n.__k&&n.__k.map(function(i){return Fh(i,o,t)})),n}function Bh(n,o,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(i){return Bh(i,o,t)}),n.__c&&n.__c.__P===o&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function Uc(){this.__u=0,this.t=null,this.__b=null}function Zh(n){var o=n.__.__c;return o&&o.__a&&o.__a(n)}function Vl(){this.u=null,this.o=null}Li.unmount=function(n){var o=n.__c;o&&o.__R&&o.__R(),o&&!0===n.__h&&(n.type=null),Nh&&Nh(n)},(Uc.prototype=new da).__c=function(n,o){var t=o.__c,i=this;null==i.t&&(i.t=[]),i.t.push(t);var s=Zh(i.__v),p=!1,w=function(){p||(p=!0,t.__R=null,s?s(Q):Q())};t.__R=w;var Q=function(){if(!--i.__u){if(i.state.__a){var qe=i.state.__a;i.__v.__k[0]=Bh(qe,qe.__c.__P,qe.__c.__O)}var $e;for(i.setState({__a:i.__b=null});$e=i.t.pop();)$e.forceUpdate()}},Ce=!0===o.__h;i.__u++||Ce||i.setState({__a:i.__b=i.__v.__k[0]}),n.then(w,w)},Uc.prototype.componentWillUnmount=function(){this.t=[]},Uc.prototype.render=function(n,o){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=Fh(this.__b,t,i.__O=i.__P)}this.__b=null}var s=o.__a&&ln(Ko,null,n.fallback);return s&&(s.__h=null),[ln(Ko,null,o.__a?null:n.children),s]};var gd=function(n,o,t){if(++t[1]===t[0]&&n.o.delete(o),n.props.revealOrder&&("t"!==n.props.revealOrder[0]||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function fd(n){return this.getChildContext=function(){return n.context},n.children}function Uh(n){var o=this,t=n.i;o.componentWillUnmount=function(){Ga(null,o.l),o.l=null,o.i=null},o.i&&o.i!==t&&o.componentWillUnmount(),n.__v?(o.l||(o.i=t,o.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(i){this.childNodes.push(i),o.i.appendChild(i)},insertBefore:function(i,s){this.childNodes.push(i),o.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),o.i.removeChild(i)}}),Ga(ln(fd,{context:o.context},n.__v),o.l)):o.l&&o.componentWillUnmount()}(Vl.prototype=new da).__a=function(n){var o=this,t=Zh(o.__v),i=o.o.get(n);return i[0]++,function(s){var p=function(){o.props.revealOrder?(i.push(s),gd(o,n,i)):s()};t?t(p):p()}},Vl.prototype.render=function(n){this.u=null,this.o=new Map;var o=vl(n.children);n.revealOrder&&"b"===n.revealOrder[0]&&o.reverse();for(var t=o.length;t--;)this.o.set(o[t],this.u=[1,0,this.u]);return n.children},Vl.prototype.componentDidUpdate=Vl.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(o,t){gd(n,t,o)})};var Wa="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,_f=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,_u="undefined"!=typeof document,ol=function(n){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};da.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(da.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(o){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:o})}})});var Ya=Li.event;function Hc(){}function vf(){return this.cancelBubble}function bf(){return this.defaultPrevented}Li.event=function(n){return Ya&&(n=Ya(n)),n.persist=Hc,n.isPropagationStopped=vf,n.isDefaultPrevented=bf,n.nativeEvent=n};var Hh={configurable:!0,get:function(){return this.class}},Vh=Li.vnode;Li.vnode=function(n){var o=n.type,t=n.props,i=t;if("string"==typeof o){var s=-1===o.indexOf("-");for(var p in i={},t){var w=t[p];_u&&"children"===p&&"noscript"===o||"value"===p&&"defaultValue"in t&&null==w||("defaultValue"===p&&"value"in t&&null==t.value?p="value":"download"===p&&!0===w?w="":/ondoubleclick/i.test(p)?p="ondblclick":/^onchange(textarea|input)/i.test(p+o)&&!ol(t.type)?p="oninput":/^onfocus$/i.test(p)?p="onfocusin":/^onblur$/i.test(p)?p="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(p)?p=p.toLowerCase():s&&_f.test(p)?p=p.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===w&&(w=void 0),/^oninput$/i.test(p)&&(p=p.toLowerCase(),i[p]&&(p="oninputCapture")),i[p]=w)}"select"==o&&i.multiple&&Array.isArray(i.value)&&(i.value=vl(t.children).forEach(function(Q){Q.props.selected=-1!=i.value.indexOf(Q.props.value)})),"select"==o&&null!=i.defaultValue&&(i.value=vl(t.children).forEach(function(Q){Q.props.selected=i.multiple?-1!=i.defaultValue.indexOf(Q.props.value):i.defaultValue==Q.props.value})),n.props=i,t.class!=t.className&&(Hh.enumerable="className"in t,null!=t.className&&(i.class=t.className),Object.defineProperty(i,"className",Hh))}n.$$typeof=Wa,Vh&&Vh(n)};var Cp=Li.__r;Li.__r=function(n){Cp&&Cp(n)};const md=[],_d=new Map,gc=" fullcalendar styles ";function sl(n){md.push(n),_d.forEach(o=>{Tp(n,o)})}function Ip(n,o=n,t=o.firstChild){if(!_d.has(n)){const i=document.createComment(gc),s=document.createComment(` END${gc}`);o.insertBefore(s,t),o.insertBefore(i,s),_d.set(n,s),function Tf(n){for(const o of md)Tp(o,n)}(s)}}function Tp(n,o){const t=document.createElement("style"),i=function Cd(){return void 0===zl&&(zl=function Ap(){const n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");const o=document.querySelector("script[nonce]");return o&&o.nonce||""}()),zl}();i&&(t.nonce=i),t.innerText=n,o.parentNode.insertBefore(t,o)}let zl;function Os(n){n.parentNode&&n.parentNode.removeChild(n)}function Gr(n,o){if(n.closest)return n.closest(o);if(!document.documentElement.contains(n))return null;do{if(jh(n,o))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null}function jh(n,o){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,o)}"undefined"!=typeof document&&Ip(document,document.head,document.head.querySelector("script,link,style")),sl(':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{border-style:none;padding:0}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}');const wf=/(top|left|right|bottom|width|height)$/i;function bu(n,o){for(let t in o)Kh(n,t,o[t])}function Kh(n,o,t){n.style[o]=null==t?"":"number"==typeof t&&wf.test(o)?`${t}px`:t}function qh(n){var o,t;return null!==(t=null===(o=n.composedPath)||void 0===o?void 0:o.call(n)[0])&&void 0!==t?t:n.target}let $h=0;function Jl(){return $h+=1,"fc-dom-"+$h}function Ep(n){n.preventDefault()}function Ql(n,o,t,i){let s=function yu(n,o){return t=>{let i=Gr(t.target,n);i&&o.call(i,t,i)}}(t,i);return n.addEventListener(o,s),()=>{n.removeEventListener(o,s)}}const $r=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function kp(n){return Object.assign({onClick:n},vd(n))}function vd(n){return{tabIndex:0,onKeyDown(o){("Enter"===o.key||" "===o.key)&&(n(o),o.preventDefault())}}}let Dp=0;function yl(){return Dp+=1,String(Dp)}function Mp(){document.body.classList.add("fc-not-allowed")}function Op(){document.body.classList.remove("fc-not-allowed")}function yd(n,o,t){return t.func?t.func(n,o):function Sf(n,o){return n||o?null==o?-1:null==n?1:"string"==typeof n||"string"==typeof o?String(n).localeCompare(String(o)):n-o:0}(n[t.field],o[t.field])*(t.order||1)}function Gl(n,o){let t=String(n);return"000".substr(0,o-t.length)+t}function m(n,o,t){return"function"==typeof n?n(...o):"string"==typeof n?o.reduce((i,s,p)=>i.replace("$"+p,s||""),n):t}function c(n,o){return n-o}function g(n){return n%1==0}function C(n){let o=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!o)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-o.getBoundingClientRect().width+t.getBoundingClientRect().width}const I=["years","months","days","milliseconds"],M=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function H(n,o){return"string"==typeof n?function te(n){let o=M.exec(n);if(o){let t=o[1]?-1:1;return{years:0,months:0,days:t*(o[2]?parseInt(o[2],10):0),milliseconds:t*(60*(o[3]?parseInt(o[3],10):0)*60*1e3+60*(o[4]?parseInt(o[4],10):0)*1e3+1e3*(o[5]?parseInt(o[5],10):0)+(o[6]?parseInt(o[6],10):0))}}return null}(n):"object"==typeof n&&n?ge(n):"number"==typeof n?ge({[o||"milliseconds"]:n}):null}function ge(n){let o={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:60*(n.hours||n.hour||0)*60*1e3+60*(n.minutes||n.minute||0)*1e3+1e3*(n.seconds||n.second||0)+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(o.days+=7*t,o.specifiedWeeks=!0),o}function Tt(n,o){return{years:n.years+o.years,months:n.months+o.months,days:n.days+o.days,milliseconds:n.milliseconds+o.milliseconds}}function xn(n){return Yn(n)/864e5}function Yn(n){return 31536e6*n.years+2592e6*n.months+864e5*n.days+n.milliseconds}function ei(n,o){let t=null;for(let i=0;i<I.length;i+=1){let s=I[i];if(o[s]){let p=n[s]/o[s];if(!g(p)||null!==t&&t!==p)return null;t=p}else if(n[s])return null}return t}function Gn(n){let o=n.milliseconds;if(o){if(o%1e3!=0)return{unit:"millisecond",value:o};if(o%6e4!=0)return{unit:"second",value:o/1e3};if(o%36e5!=0)return{unit:"minute",value:o/6e4};if(o)return{unit:"hour",value:o/36e5}}return n.days?n.specifiedWeeks&&n.days%7==0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}const{hasOwnProperty:ci}=Object.prototype;function mi(n,o){let t={};if(o)for(let i in o)if(o[i]===Wl){let s=[];for(let p=n.length-1;p>=0;p-=1){let w=n[p][i];if("object"==typeof w&&w)s.unshift(w);else if(void 0!==w){t[i]=w;break}}s.length&&(t[i]=mi(s))}for(let i=n.length-1;i>=0;i-=1){let s=n[i];for(let p in s)p in t||(t[p]=s[p])}return t}function hi(n,o){let t={};for(let i in n)o(n[i],i)&&(t[i]=n[i]);return t}function ki(n,o){let t={};for(let i in n)t[i]=o(n[i],i);return t}function po(n){let o={};for(let t of n)o[t]=!0;return o}function lo(n){let o=[];for(let t in n)o.push(n[t]);return o}function ro(n,o){if(n===o)return!0;for(let t in n)if(ci.call(n,t)&&!(t in o))return!1;for(let t in o)if(ci.call(o,t)&&n[t]!==o[t])return!1;return!0}const kr=/^on[A-Z]/;function Zo(n,o){let t=[];for(let i in n)ci.call(n,i)&&(i in o||t.push(i));for(let i in o)ci.call(o,i)&&n[i]!==o[i]&&t.push(i);return t}function ts(n,o,t={}){if(n===o)return!0;for(let i in o)if(!(i in n)||!js(n[i],o[i],t[i]))return!1;for(let i in n)if(!(i in o))return!1;return!0}function js(n,o,t){return n===o||!0===t||!!t&&t(n,o)}function aa(n,o,t){if(n===o)return!0;let s,i=n.length;if(i!==o.length)return!1;for(s=0;s<i;s+=1)if(!(t?t(n[s],o[s]):n[s]===o[s]))return!1;return!0}const Tu=["sun","mon","tue","wed","thu","fri","sat"];function fc(n,o){let t=Xr(n);return t[2]+=7*o,La(t)}function Js(n,o){let t=Xr(n);return t[2]+=o,La(t)}function Ia(n,o){let t=Xr(n);return t[6]+=o,La(t)}function Pa(n,o){return(o.valueOf()-n.valueOf())/864e5}function kf(n,o){return Jc(n)===Jc(o)?Math.round(Pa(n,o)):null}function ps(n){return La([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function Df(n,o,t,i){let s=La([o,0,1+l0(o,t,i)]),p=ps(n),w=Math.round(Pa(s,p));return Math.floor(w/7)+1}function l0(n,o,t){let i=7+o-t;return-(7+La([n,0,i]).getUTCDay()-o)%7+i-1}function c0(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function u0(n){return new Date(n[0],n[1]||0,null==n[2]?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function Xr(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function La(n){return 1===n.length&&(n=n.concat([0])),new Date(Date.UTC(...n))}function Mf(n){return!isNaN(n.valueOf())}function Jc(n){return 1e3*n.getUTCHours()*60*60+1e3*n.getUTCMinutes()*60+1e3*n.getUTCSeconds()+n.getUTCMilliseconds()}function d0(n,o,t=!1){let i=n.toISOString();return i=i.replace(".000",""),t&&(i=i.replace("T00:00:00Z","")),i.length>10&&(null==o?i=i.replace("Z",""):0!==o&&(i=i.replace("Z",Of(o,!0)))),i}function Lp(n){return n.toISOString().replace(/T.*$/,"")}function p0(n){return Gl(n.getUTCHours(),2)+":"+Gl(n.getUTCMinutes(),2)+":"+Gl(n.getUTCSeconds(),2)}function Of(n,o=!1){let t=n<0?"-":"+",i=Math.abs(n),s=Math.floor(i/60),p=Math.round(i%60);return o?`${t+Gl(s,2)}:${Gl(p,2)}`:`GMT${t}${s}${p?`:${Gl(p,2)}`:""}`}function zi(n,o,t){let i,s;return function(...p){if(i){if(!aa(i,p)){t&&t(s);let w=n.apply(this,p);(!o||!o(w,s))&&(s=w)}}else s=n.apply(this,p);return i=p,s}}function Xh(n,o,t){let i,s;return p=>{if(i){if(!ro(i,p)){t&&t(s);let w=n.call(this,p);(!o||!o(w,s))&&(s=w)}}else s=n.call(this,p);return i=p,s}}const Pf={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Rp={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},eg=/\s*([ap])\.?m\.?/i,fb=/,/g,h0=/\s+/g,mb=/\u200e/g,g0=/UTC|GMT/;class _b{constructor(o){let t={},i={},s=0;for(let p in o)p in Pf?(i[p]=o[p],s=Math.max(Pf[p],s)):(t[p]=o[p],p in Rp&&(s=Math.max(Rp[p],s)));this.standardDateProps=t,this.extendedSettings=i,this.severity=s,this.buildFormattingFunc=zi(f0)}format(o,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(o)}formatRange(o,t,i,s){let{standardDateProps:p,extendedSettings:w}=this,Q=function Lf(n,o,t){return t.getMarkerYear(n)!==t.getMarkerYear(o)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(o)?4:t.getMarkerDay(n)!==t.getMarkerDay(o)?2:Jc(n)!==Jc(o)?1:0}(o.marker,t.marker,i.calendarSystem);if(!Q)return this.format(o,i);let Ce=Q;Ce>1&&("numeric"===p.year||"2-digit"===p.year)&&("numeric"===p.month||"2-digit"===p.month)&&("numeric"===p.day||"2-digit"===p.day)&&(Ce=1);let qe=this.format(o,i),$e=this.format(t,i);if(qe===$e)return qe;let $t=function Rf(n,o){let t={};for(let i in n)(!(i in Rp)||Rp[i]<=o)&&(t[i]=n[i]);return t}(p,Ce),jt=f0($t,w,i),Gt=jt(o),fn=jt(t),Rn=function vb(n,o,t,i){let s=0;for(;s<n.length;){let p=n.indexOf(o,s);if(-1===p)break;let w=n.substr(0,p);s=p+o.length;let Q=n.substr(s),Ce=0;for(;Ce<t.length;){let qe=t.indexOf(i,Ce);if(-1===qe)break;let $e=t.substr(0,qe);Ce=qe+i.length;let $t=t.substr(Ce);if(w===$e&&Q===$t)return{before:w,after:Q}}}return null}(qe,Gt,$e,fn),Fn=w.separator||s||i.defaultSeparator||"";return Rn?Rn.before+Gt+Fn+fn+Rn.after:qe+Fn+$e}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function f0(n,o,t){let i=Object.keys(n).length;return 1===i&&"short"===n.timeZoneName?s=>Of(s.timeZoneOffset):0===i&&o.week?s=>function Cb(n,o,t,i,s){let p=[];return"long"===s?p.push(t):("short"===s||"narrow"===s)&&p.push(o),("long"===s||"short"===s)&&p.push(" "),p.push(i.simpleNumberFormat.format(n)),"rtl"===i.options.direction&&p.reverse(),p.join("")}(t.computeWeekNumber(s.marker),t.weekText,t.weekTextLong,t.locale,o.week):function fI(n,o,t){n=Object.assign({},n),o=Object.assign({},o),function m0(n,o){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),"long"===n.timeZoneName&&(n.timeZoneName="short"),o.omitZeroMinute&&(n.second||n.millisecond)&&delete o.omitZeroMinute}(n,o),n.timeZone="UTC";let s,i=new Intl.DateTimeFormat(t.locale.codes,n);if(o.omitZeroMinute){let p=Object.assign({},n);delete p.minute,s=new Intl.DateTimeFormat(t.locale.codes,p)}return p=>{let Q,{marker:w}=p;return Q=s&&!w.getUTCMinutes()?s:i,function _0(n,o,t,i,s){return n=n.replace(mb,""),"short"===t.timeZoneName&&(n=function Au(n,o){let t=!1;return n=n.replace(g0,()=>(t=!0,o)),t||(n+=` ${o}`),n}(n,"UTC"===s.timeZone||null==o.timeZoneOffset?"UTC":Of(o.timeZoneOffset))),i.omitCommas&&(n=n.replace(fb,"").trim()),i.omitZeroMinute&&(n=n.replace(":00","")),!1===i.meridiem?n=n.replace(eg,"").trim():"narrow"===i.meridiem?n=n.replace(eg,(p,w)=>w.toLocaleLowerCase()):"short"===i.meridiem?n=n.replace(eg,(p,w)=>`${w.toLocaleLowerCase()}m`):"lowercase"===i.meridiem&&(n=n.replace(eg,p=>p.toLocaleLowerCase())),(n=n.replace(h0," ")).trim()}(Q.format(w),p,n,o,t)}}(n,o,t)}function bb(n,o){let t=o.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function Nf(n,o,t,i){let s=bb(n,t.calendarSystem);return{date:s,start:s,end:o?bb(o,t.calendarSystem):null,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:i||t.defaultSeparator}}class mI{constructor(o){this.cmdStr=o}format(o,t,i){return t.cmdFormatter(this.cmdStr,Nf(o,null,t,i))}formatRange(o,t,i,s){return i.cmdFormatter(this.cmdStr,Nf(o,t,i,s))}}class yb{constructor(o){this.func=o}format(o,t,i){return this.func(Nf(o,null,t,i))}formatRange(o,t,i,s){return this.func(Nf(o,t,i,s))}}function Ts(n){return"object"==typeof n&&n?new _b(n):"string"==typeof n?new mI(n):"function"==typeof n?new yb(n):null}const xb={navLinkDayClick:Un,navLinkWeekClick:Un,duration:H,bootstrapFontAwesome:Un,buttonIcons:Un,customButtons:Un,defaultAllDayEventDuration:H,defaultTimedEventDuration:H,nextDayThreshold:H,scrollTime:H,scrollTimeReset:Boolean,slotMinTime:H,slotMaxTime:H,dayPopoverFormat:Ts,slotDuration:H,snapDuration:H,headerToolbar:Un,footerToolbar:Un,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Ts,dayHeaderClassNames:Un,dayHeaderContent:Un,dayHeaderDidMount:Un,dayHeaderWillUnmount:Un,dayCellClassNames:Un,dayCellContent:Un,dayCellDidMount:Un,dayCellWillUnmount:Un,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Un,weekNumbers:Boolean,weekNumberClassNames:Un,weekNumberContent:Un,weekNumberDidMount:Un,weekNumberWillUnmount:Un,editable:Boolean,viewClassNames:Un,viewDidMount:Un,viewWillUnmount:Un,nowIndicator:Boolean,nowIndicatorClassNames:Un,nowIndicatorContent:Un,nowIndicatorDidMount:Un,nowIndicatorWillUnmount:Un,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Un,locale:Un,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Un,eventOrder:function Ef(n){let i,s,o=[],t=[];for("string"==typeof n?t=n.split(/\s*,\s*/):"function"==typeof n?t=[n]:Array.isArray(n)&&(t=n),i=0;i<t.length;i+=1)s=t[i],"string"==typeof s?o.push("-"===s.charAt(0)?{field:s.substring(1),order:-1}:{field:s,order:1}):"function"==typeof s&&o.push({func:s});return o},eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Un,contentHeight:Un,direction:String,weekNumberFormat:Ts,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Un,initialDate:Un,now:Un,eventDataTransform:Un,stickyHeaderDates:Un,stickyFooterScrollbar:Un,viewHeight:Un,defaultAllDay:Boolean,eventSourceFailure:Un,eventSourceSuccess:Un,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Un,eventConstraint:Un,eventAllow:Un,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Un,eventContent:Un,eventDidMount:Un,eventWillUnmount:Un,selectConstraint:Un,selectOverlap:Un,selectAllow:Un,droppable:Boolean,unselectCancel:String,slotLabelFormat:Un,slotLaneClassNames:Un,slotLaneContent:Un,slotLaneDidMount:Un,slotLaneWillUnmount:Un,slotLabelClassNames:Un,slotLabelContent:Un,slotLabelDidMount:Un,slotLabelWillUnmount:Un,dayMaxEvents:Un,dayMaxEventRows:Un,dayMinWidth:Number,slotLabelInterval:H,allDayText:String,allDayClassNames:Un,allDayContent:Un,allDayDidMount:Un,allDayWillUnmount:Un,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Ts,rerenderDelay:Number,moreLinkText:Un,moreLinkHint:Un,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Un,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:H,hiddenDays:Un,fixedWeekCount:Boolean,validRange:Un,visibleRange:Un,titleFormat:Un,eventInteractive:Boolean,noEventsText:String,viewHint:Un,navLinkHint:Un,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Un,moreLinkClassNames:Un,moreLinkContent:Un,moreLinkDidMount:Un,moreLinkWillUnmount:Un,monthStartFormat:Ts,handleCustomRendering:Un,customRenderingMetaMap:Un,customRenderingReplacesEl:Boolean},Np={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},wu={datesSet:Un,eventsSet:Un,eventAdd:Un,eventChange:Un,eventRemove:Un,windowResize:Un,eventClick:Un,eventMouseEnter:Un,eventMouseLeave:Un,select:Un,unselect:Un,loading:Un,_unmount:Un,_beforeprint:Un,_afterprint:Un,_noEventDrop:Un,_noEventResize:Un,_resize:Un,_scrollRequest:Un},C0={buttonText:Un,buttonHints:Un,views:Un,plugins:Un,initialEvents:Un,events:Un,eventSources:Un},Qc={headerToolbar:Wl,footerToolbar:Wl,buttonText:Wl,buttonHints:Wl,buttonIcons:Wl,dateIncrement:Wl,plugins:tg,events:tg,eventSources:tg,resources:tg};function Wl(n,o){return"object"==typeof n&&"object"==typeof o&&n&&o?ro(n,o):n===o}function tg(n,o){return Array.isArray(n)&&Array.isArray(o)?aa(n,o):n===o}const v0={type:String,component:Un,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Un,usesMinMaxTime:Boolean,classNames:Un,content:Un,didMount:Un,willUnmount:Un};function Ff(n){return mi(n,Qc)}function ng(n,o){let t={},i={};for(let s in o)s in n&&(t[s]=o[s](n[s]));for(let s in n)s in o||(i[s]=n[s]);return{refined:t,extra:i}}function Un(n){return n}function Bf(n,o,t,i){return{instanceId:yl(),defId:n,range:o,forcedStartTzo:null==t?null:t,forcedEndTzo:null==i?null:i}}function Gc(n,o,t){let{dateEnv:i,pluginHooks:s,options:p}=t,{defs:w,instances:Q}=n;Q=hi(Q,Ce=>!w[Ce.defId].recurringDef);for(let Ce in w){let qe=w[Ce];if(qe.recurringDef){let{duration:$e}=qe.recurringDef;$e||($e=qe.allDay?p.defaultAllDayEventDuration:p.defaultTimedEventDuration);let $t=Tb(qe,$e,o,i,s.recurringTypes);for(let jt of $t){let Gt=Bf(Ce,{start:jt,end:i.add(jt,$e)});Q[Gt.instanceId]=Gt}}}return{defs:w,instances:Q}}function Tb(n,o,t,i,s){let w=s[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:i.subtract(t.start,o),end:t.end},i);return n.allDay&&(w=w.map(ps)),w}function Id(n,o,t,i,s,p){let w={defs:{},instances:{}},Q=rg(t);for(let Ce of n){let qe=sg(Ce,o,t,i,Q,s,p);qe&&ig(qe,w)}return w}function ig(n,o={defs:{},instances:{}}){return o.defs[n.def.defId]=n.def,n.instance&&(o.instances[n.instance.instanceId]=n.instance),o}function Fp(n,o){let t=n.instances[o];if(t){let i=n.defs[t.defId],s=Uf(n,p=>function _I(n,o){return Boolean(n.groupId&&n.groupId===o.groupId)}(i,p));return s.defs[i.defId]=i,s.instances[t.instanceId]=t,s}return{defs:{},instances:{}}}function Zf(n,o){return{defs:Object.assign(Object.assign({},n.defs),o.defs),instances:Object.assign(Object.assign({},n.instances),o.instances)}}function Uf(n,o){let t=hi(n.defs,o),i=hi(n.instances,s=>t[s.defId]);return{defs:t,instances:i}}function Hf(n){return Array.isArray(n)?n:"string"==typeof n?n.split(/\s+/):[]}const Eu={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Un,overlap:Un,allow:Un,className:Hf,classNames:Hf,color:String,backgroundColor:String,borderColor:String,textColor:String},Il={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Bp(n,o){let t=function b0(n,o){return Array.isArray(n)?Id(n,null,o,!0):"object"==typeof n&&n?Id([n],null,o,!0):null!=n?String(n):null}(n.constraint,o);return{display:n.display||null,startEditable:null!=n.startEditable?n.startEditable:n.editable,durationEditable:null!=n.durationEditable?n.durationEditable:n.editable,constraints:null!=t?[t]:[],overlap:null!=n.overlap?n.overlap:null,allows:null!=n.allow?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function y0(n){return n.reduce(Vf,Il)}function Vf(n,o){return{display:null!=o.display?o.display:n.display,startEditable:null!=o.startEditable?o.startEditable:n.startEditable,durationEditable:null!=o.durationEditable?o.durationEditable:n.durationEditable,constraints:n.constraints.concat(o.constraints),overlap:"boolean"==typeof o.overlap?o.overlap:n.overlap,allows:n.allows.concat(o.allows),backgroundColor:o.backgroundColor||n.backgroundColor,borderColor:o.borderColor||n.borderColor,textColor:o.textColor||n.textColor,classNames:n.classNames.concat(o.classNames)}}const rl={id:String,groupId:String,title:String,url:String,interactive:Boolean},og={start:Un,end:Un,date:Un,allDay:Boolean},x0=Object.assign(Object.assign(Object.assign({},rl),og),{extendedProps:Un});function sg(n,o,t,i,s=rg(t),p,w){let{refined:Q,extra:Ce}=Ab(n,t,s),qe=function lg(n,o){let t=null;return n&&(t=n.defaultAllDay),null==t&&(t=o.options.defaultAllDay),t}(o,t),$e=function Ib(n,o,t,i){for(let s=0;s<i.length;s+=1){let p=i[s].parse(n,t);if(p){let{allDay:w}=n;return null==w&&(w=o,null==w&&(w=p.allDayGuess,null==w&&(w=!1))),{allDay:w,duration:p.duration,typeData:p.typeData,typeId:s}}}return null}(Q,qe,t.dateEnv,t.pluginHooks.recurringTypes);if($e){let jt=I0(Q,Ce,o?o.sourceId:"",$e.allDay,Boolean($e.duration),t,p);return jt.recurringDef={typeId:$e.typeId,typeData:$e.typeData,duration:$e.duration},{def:jt,instance:null}}let $t=function ag(n,o,t,i){let p,Ce,{allDay:s}=n,w=null,Q=!1,qe=null;if(p=t.dateEnv.createMarkerMeta(null!=n.start?n.start:n.date),p)w=p.marker;else if(!i)return null;return null!=n.end&&(Ce=t.dateEnv.createMarkerMeta(n.end)),null==s&&(s=null!=o?o:(!p||p.isTimeUnspecified)&&(!Ce||Ce.isTimeUnspecified)),s&&w&&(w=ps(w)),Ce&&(qe=Ce.marker,s&&(qe=ps(qe)),w&&qe<=w&&(qe=null)),qe?Q=!0:i||(Q=t.options.forceEventDuration||!1,qe=t.dateEnv.add(w,s?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:s,hasEnd:Q,range:{start:w,end:qe},forcedStartTzo:p?p.forcedTzo:null,forcedEndTzo:Ce?Ce.forcedTzo:null}}(Q,qe,t,i);if($t){let jt=I0(Q,Ce,o?o.sourceId:"",$t.allDay,$t.hasEnd,t,p),Gt=Bf(jt.defId,$t.range,$t.forcedStartTzo,$t.forcedEndTzo);return w&&jt.publicId&&w[jt.publicId]&&(Gt.instanceId=w[jt.publicId]),{def:jt,instance:Gt}}return null}function Ab(n,o,t=rg(o)){return ng(n,t)}function rg(n){return Object.assign(Object.assign(Object.assign({},Eu),x0),n.pluginHooks.eventRefiners)}function I0(n,o,t,i,s,p,w){let Q={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(w&&n.id?w[n.id]:"")||yl(),sourceId:t,allDay:i,hasEnd:s,interactive:n.interactive,ui:Bp(n,p),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),o)};for(let Ce of p.pluginHooks.eventDefMemberAdders)Object.assign(Q,Ce(n));return Object.freeze(Q.ui.classNames),Object.freeze(Q.extendedProps),Q}const zf={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function wb(n){let o=Math.floor(Pa(n.start,n.end))||1,t=ps(n.start);return{start:t,end:Js(t,o)}}function Gf(n,o=H(0)){let t=null,i=null;if(n.end){i=ps(n.end);let s=n.end.valueOf()-i.valueOf();s&&s>=Yn(o)&&(i=Js(i,1))}return n.start&&(t=ps(n.start),i&&i<=t&&(i=Js(t,1))),{start:t,end:i}}function Ad(n,o,t,i){return"year"===i?H(t.diffWholeYears(n,o),"year"):"month"===i?H(t.diffWholeMonths(n,o),"month"):function pb(n,o){let t=ps(n),i=ps(o);return{years:0,months:0,days:Math.round(Pa(t,i)),milliseconds:o.valueOf()-i.valueOf()-(n.valueOf()-t.valueOf())}}(n,o)}function Sb(n,o){return n.left>=o.left&&n.left<o.right&&n.top>=o.top&&n.top<o.bottom}function Wf(n,o){let t={left:Math.max(n.left,o.left),right:Math.min(n.right,o.right),top:Math.max(n.top,o.top),bottom:Math.min(n.bottom,o.bottom)};return t.left<t.right&&t.top<t.bottom&&t}let cg;function A0(){return null==cg&&(cg=function Yf(){if("undefined"==typeof document)return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}()),cg}const w0={defs:{},instances:{}};function bI(n,o,t){let i=[];n&&i.push(n),o&&i.push(o);let s={"":y0(i)};return t&&Object.assign(s,t),s}function Db(n,o){let s,p,t=[],{start:i}=o;for(n.sort(xI),s=0;s<n.length;s+=1)p=n[s],p.start>i&&t.push({start:i,end:p.start}),p.end>i&&(i=p.end);return i<o.end&&t.push({start:i,end:o.end}),t}function xI(n,o){return n.start.valueOf()-o.start.valueOf()}function Su(n,o){let{start:t,end:i}=n,s=null;return null!==o.start&&(t=null===t?o.start:new Date(Math.max(t.valueOf(),o.start.valueOf()))),null!=o.end&&(i=null===i?o.end:new Date(Math.min(i.valueOf(),o.end.valueOf()))),(null===t||null===i||t<i)&&(s={start:t,end:i}),s}function E0(n,o){return(null===n.end||null===o.start||n.end>o.start)&&(null===n.start||null===o.end||n.start<o.end)}function jf(n,o){return(null===n.start||null!==o.start&&o.start>=n.start)&&(null===n.end||null!==o.end&&o.end<=n.end)}function pa(n,o){return(null===n.start||o>=n.start)&&(null===n.end||o<n.end)}function qf(n,o,t,i){return{dow:n.getUTCDay(),isDisabled:Boolean(i&&!pa(i.activeRange,n)),isOther:Boolean(i&&!pa(i.currentRange,n)),isToday:Boolean(o&&pa(o,n)),isPast:Boolean(t?n<t:!!o&&n<o.start),isFuture:Boolean(t?n>t:!!o&&n>=o.end)}}function Zp(n,o){let t=["fc-day",`fc-day-${Tu[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(o.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}const k0=Ts({year:"numeric",month:"long",day:"numeric"}),$f=Ts({week:"long"});function wd(n,o,t="day",i=!0){const{dateEnv:s,options:p,calendarApi:w}=n;let Q=s.format(o,"week"===t?$f:k0);if(p.navLinks){let Ce=s.toDate(o);const qe=$e=>{let $t="day"===t?p.navLinkDayClick:"week"===t?p.navLinkWeekClick:null;"function"==typeof $t?$t.call(w,s.toDate(o),$e):("string"==typeof $t&&(t=$t),w.zoomTo(o,t))};return Object.assign({title:m(p.navLinkHint,[Q,Ce],Q),"data-navlink":""},i?kp(qe):{onClick:qe})}return{"aria-label":Q}}let Xf,Yl=null;function O0(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function Ed(n,o=!1,t){let i=t?n.getBoundingClientRect():Up(n),s=function ug(n,o=!1){let t=window.getComputedStyle(n),i=parseInt(t.borderLeftWidth,10)||0,s=parseInt(t.borderRightWidth,10)||0,p=parseInt(t.borderTopWidth,10)||0,w=parseInt(t.borderBottomWidth,10)||0,Q=O0(n),Ce=Q.y-i-s,$e={borderLeft:i,borderRight:s,borderTop:p,borderBottom:w,scrollbarBottom:Q.x-p-w,scrollbarLeft:0,scrollbarRight:0};return function D0(){return null===Yl&&(Yl=function Mb(){let n=document.createElement("div");bu(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return Os(n),t}()),Yl}()&&"rtl"===t.direction?$e.scrollbarLeft=Ce:$e.scrollbarRight=Ce,o&&($e.paddingLeft=parseInt(t.paddingLeft,10)||0,$e.paddingRight=parseInt(t.paddingRight,10)||0,$e.paddingTop=parseInt(t.paddingTop,10)||0,$e.paddingBottom=parseInt(t.paddingBottom,10)||0),$e}(n,o),p={left:i.left+s.borderLeft+s.scrollbarLeft,right:i.right-s.borderRight-s.scrollbarRight,top:i.top+s.borderTop,bottom:i.bottom-s.borderBottom-s.scrollbarBottom};return o&&(p.left+=s.paddingLeft,p.right-=s.paddingRight,p.top+=s.paddingTop,p.bottom-=s.paddingBottom),p}function Up(n){let o=n.getBoundingClientRect();return{left:o.left+window.pageXOffset,top:o.top+window.pageYOffset,right:o.right+window.pageXOffset,bottom:o.bottom+window.pageYOffset}}function dg(n){let o=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if("fixed"===t.position)break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&o.push(n),n=n.parentNode}return o}class Hp{constructor(){this.handlers={},this.thisContext=null}setThisContext(o){this.thisContext=o}setOptions(o){this.options=o}on(o,t){!function P0(n,o,t){(n[o]||(n[o]=[])).push(t)}(this.handlers,o,t)}off(o,t){!function em(n,o,t){t?n[o]&&(n[o]=n[o].filter(i=>i!==t)):delete n[o]}(this.handlers,o,t)}trigger(o,...t){let p=[].concat(this.options&&this.options[o]||[],this.handlers[o]||[]);for(let w of p)w.apply(this.thisContext,t)}hasHandlers(o){return Boolean(this.handlers[o]&&this.handlers[o].length||this.options&&this.options[o])}}class Wc{constructor(o,t,i,s){this.els=t;let p=this.originClientRect=o.getBoundingClientRect();i&&this.buildElHorizontals(p.left),s&&this.buildElVerticals(p.top)}buildElHorizontals(o){let t=[],i=[];for(let s of this.els){let p=s.getBoundingClientRect();t.push(p.left-o),i.push(p.right-o)}this.lefts=t,this.rights=i}buildElVerticals(o){let t=[],i=[];for(let s of this.els){let p=s.getBoundingClientRect();t.push(p.top-o),i.push(p.bottom-o)}this.tops=t,this.bottoms=i}leftToIndex(o){let p,{lefts:t,rights:i}=this,s=t.length;for(p=0;p<s;p+=1)if(o>=t[p]&&o<i[p])return p}topToIndex(o){let p,{tops:t,bottoms:i}=this,s=t.length;for(p=0;p<s;p+=1)if(o>=t[p]&&o<i[p])return p}getWidth(o){return this.rights[o]-this.lefts[o]}getHeight(o){return this.bottoms[o]-this.tops[o]}similarTo(o){return Vp(this.tops||[],o.tops||[])&&Vp(this.bottoms||[],o.bottoms||[])&&Vp(this.lefts||[],o.lefts||[])&&Vp(this.rights||[],o.rights||[])}}function Vp(n,o){const t=n.length;if(t!==o.length)return!1;for(let i=0;i<t;i++)if(Math.round(n[i])!==Math.round(o[i]))return!1;return!0}class zp{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class Pb extends zp{constructor(o){super(),this.el=o}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(o){this.el.scrollTop=o}setScrollLeft(o){this.el.scrollLeft=o}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class TI extends zp{getScrollTop(){return window.pageYOffset}getScrollLeft(){return window.pageXOffset}setScrollTop(o){window.scroll(window.pageXOffset,o)}setScrollLeft(o){window.scroll(o,window.pageYOffset)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Jp{constructor(o){this.iconOverrideOption&&this.setIconOverride(o[this.iconOverrideOption])}setIconOverride(o){let t,i;if("object"==typeof o&&o){for(i in t=Object.assign({},this.iconClasses),o)t[i]=this.applyIconOverridePrefix(o[i]);this.iconClasses=t}else!1===o&&(this.iconClasses={})}applyIconOverridePrefix(o){let t=this.iconOverridePrefix;return t&&0!==o.indexOf(t)&&(o=t+o),o}getClass(o){return this.classes[o]||""}getIconClass(o,t){let i;return i=t&&this.rtlIconClasses&&this.rtlIconClasses[o]||this.iconClasses[o],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(o){let t;return this.iconOverrideCustomButtonOption&&(t=o[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}function tm(n){n();let o=Li.debounceRendering,t=[];for(Li.debounceRendering=function i(s){t.push(s)},Ga(ln(Lb,{}),document.createElement("div"));t.length;)t.shift()();Li.debounceRendering=o}Jp.prototype.classes={},Jp.prototype.iconClasses={},Jp.prototype.baseIconClass="",Jp.prototype.iconOverridePrefix="";class Lb extends da{render(){return ln("div",{})}componentDidMount(){this.setState({})}}function nm(n){let o=function sd(n,o){var t={__c:o="__cC"+Nl++,__:n,Consumer:function(i,s){return i.children(s)},Provider:function(i){var s,p;return this.getChildContext||(s=[],(p={})[o]=this,this.getChildContext=function(){return p},this.shouldComponentUpdate=function(w){this.props.value!==w.value&&s.some(function(Q){Q.__e=!0,Fl(Q)})},this.sub=function(w){s.push(w);var Q=w.componentWillUnmount;w.componentWillUnmount=function(){s.splice(s.indexOf(w),1),Q&&Q.call(w)}}),i.children}};return t.Provider.__=t.Consumer.contextType=t}(n),t=o.Provider;return o.Provider=function(){let i=!this.getChildContext,s=t.apply(this,arguments);if(i){let p=[];this.shouldComponentUpdate=w=>{this.props.value!==w.value&&p.forEach(Q=>{Q.context=w.value,Q.forceUpdate()})},this.sub=w=>{p.push(w);let Q=w.componentWillUnmount;w.componentWillUnmount=()=>{p.splice(p.indexOf(w),1),Q&&Q.call(w)}}}return s},o}class L0{constructor(o,t,i,s){this.execFunc=o,this.emitter=t,this.scrollTime=i,this.scrollTimeReset=s,this.handleScrollRequest=p=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},p),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(o){o&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const _c=nm({});function Ka(n,o,t,i,s,p,w,Q,Ce,qe,$e,$t,jt){return{dateEnv:s,options:t,pluginHooks:w,emitter:qe,dispatch:Q,getCurrentData:Ce,calendarApi:$e,viewSpec:n,viewApi:o,dateProfileGenerator:i,theme:p,isRtl:"rtl"===t.direction,addResizeHandler(Gt){qe.on("_resize",Gt)},removeResizeHandler(Gt){qe.off("_resize",Gt)},createScrollResponder:Gt=>new L0(Gt,qe,H(t.scrollTime),t.scrollTimeReset),registerInteractiveComponent:$t,unregisterInteractiveComponent:jt}}let Qp=(()=>{class n extends da{shouldComponentUpdate(t,i){return this.debug&&console.log(Zo(t,this.props),Zo(i,this.state)),!ts(this.props,t,this.propEquality)||!ts(this.state,i,this.stateEquality)}safeSetState(t){ts(this.state,Object.assign(Object.assign({},this.state),t),this.stateEquality)||this.setState(t)}}return n.addPropsEquality=AI,n.addStateEquality=Rb,n.contextType=_c,n})();Qp.prototype.propEquality={},Qp.prototype.stateEquality={};let ns=(()=>{class n extends Qp{}return n.contextType=_c,n})();function AI(n){let o=Object.create(this.prototype.propEquality);Object.assign(o,n),this.prototype.propEquality=o}function Rb(n){let o=Object.create(this.prototype.stateEquality);Object.assign(o,n),this.prototype.stateEquality=o}function Tl(n,o){"function"==typeof n?n(o):n&&(n.current=o)}class al extends ns{constructor(){super(...arguments),this.uid=yl()}prepareHits(){}queryHit(o,t,i,s){return null}isValidSegDownEl(o){return!this.props.eventDrag&&!this.props.eventResize&&!Gr(o,".fc-event-mirror")}isValidDateDownEl(o){return!(Gr(o,".fc-event:not(.fc-bg-event)")||Gr(o,".fc-more-link")||Gr(o,"a[data-navlink]")||Gr(o,".fc-popover"))}}function Gp(n,o){return"function"==typeof n&&(n=n()),null==n?o.createNowMarker():o.createMarker(n)}class im{constructor(o){this.props=o,this.nowDate=Gp(o.nowInput,o.dateEnv),this.initHiddenDays()}buildPrev(o,t,i){let{dateEnv:s}=this.props,p=s.subtract(s.startOf(t,o.currentRangeUnit),o.dateIncrement);return this.build(p,-1,i)}buildNext(o,t,i){let{dateEnv:s}=this.props,p=s.add(s.startOf(t,o.currentRangeUnit),o.dateIncrement);return this.build(p,1,i)}build(o,t,i=!0){let p,w,Q,Ce,qe,$e,{props:s}=this;return p=this.buildValidRange(),p=this.trimHiddenDays(p),i&&(o=function Kf(n,o){return null!=o.start&&n<o.start?o.start:null!=o.end&&n>=o.end?new Date(o.end.valueOf()-1):n}(o,p)),w=this.buildCurrentRangeInfo(o,t),Q=/^(year|month|week|day)$/.test(w.unit),Ce=this.buildRenderRange(this.trimHiddenDays(w.range),w.unit,Q),Ce=this.trimHiddenDays(Ce),qe=Ce,s.showNonCurrentDates||(qe=Su(qe,w.range)),qe=this.adjustActiveRange(qe),qe=Su(qe,p),$e=E0(w.range,p),pa(Ce,o)||(o=Ce.start),{currentDate:o,validRange:p,currentRange:w.range,currentRangeUnit:w.unit,isRangeAllDay:Q,activeRange:qe,renderRange:Ce,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,isValid:$e,dateIncrement:this.buildDateIncrement(w.duration)}}buildValidRange(){let o=this.props.validRangeInput,t="function"==typeof o?o.call(this.props.calendarApi,this.nowDate):o;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(o,t){let Q,{props:i}=this,s=null,p=null,w=null;return i.duration?(s=i.duration,p=i.durationUnit,w=this.buildRangeFromDuration(o,t,s,p)):(Q=this.props.dayCount)?(p="day",w=this.buildRangeFromDayCount(o,t,Q)):(w=this.buildCustomVisibleRange(o))?p=i.dateEnv.greatestWholeUnit(w.start,w.end).unit:(s=this.getFallbackDuration(),p=Gn(s).unit,w=this.buildRangeFromDuration(o,t,s,p)),{duration:s,unit:p,range:w}}getFallbackDuration(){return H({day:1})}adjustActiveRange(o){let{dateEnv:t,usesMinMaxTime:i,slotMinTime:s,slotMaxTime:p}=this.props,{start:w,end:Q}=o;return i&&(xn(s)<0&&(w=ps(w),w=t.add(w,s)),xn(p)>1&&(Q=ps(Q),Q=Js(Q,-1),Q=t.add(Q,p))),{start:w,end:Q}}buildRangeFromDuration(o,t,i,s){let Q,Ce,qe,{dateEnv:p,dateAlignment:w}=this.props;if(!w){let{dateIncrement:$t}=this.props;w=$t&&Yn($t)<Yn(i)?Gn($t).unit:s}function $e(){Q=p.startOf(o,w),Ce=p.add(Q,i),qe={start:Q,end:Ce}}return xn(i)<=1&&this.isHiddenDay(Q)&&(Q=this.skipHiddenDays(Q,t),Q=ps(Q)),$e(),this.trimHiddenDays(qe)||(o=this.skipHiddenDays(o,t),$e()),qe}buildRangeFromDayCount(o,t,i){let Ce,{dateEnv:s,dateAlignment:p}=this.props,w=0,Q=o;p&&(Q=s.startOf(Q,p)),Q=ps(Q),Q=this.skipHiddenDays(Q,t),Ce=Q;do{Ce=Js(Ce,1),this.isHiddenDay(Ce)||(w+=1)}while(w<i);return{start:Q,end:Ce}}buildCustomVisibleRange(o){let{props:t}=this,i=t.visibleRangeInput,s="function"==typeof i?i.call(t.calendarApi,t.dateEnv.toDate(o)):i,p=this.refineRange(s);return!p||null!=p.start&&null!=p.end?p:null}buildRenderRange(o,t,i){return o}buildDateIncrement(o){let i,{dateIncrement:t}=this.props;return t||((i=this.props.dateAlignment)?H(1,i):o||H({days:1}))}refineRange(o){if(o){let t=function yI(n,o){let t=null,i=null;return n.start&&(t=o.createMarker(n.start)),n.end&&(i=o.createMarker(n.end)),!t&&!i||t&&i&&i<t?null:{start:t,end:i}}(o,this.props.dateEnv);return t&&(t=Gf(t)),t}return null}initHiddenDays(){let s,o=this.props.hiddenDays||[],t=[],i=0;for(!1===this.props.weekends&&o.push(0,6),s=0;s<7;s+=1)(t[s]=-1!==o.indexOf(s))||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(o){let{start:t,end:i}=o;return t&&(t=this.skipHiddenDays(t)),i&&(i=this.skipHiddenDays(i,-1,!0)),null==t||null==i||t<i?{start:t,end:i}:null}isHiddenDay(o){return o instanceof Date&&(o=o.getUTCDay()),this.isHiddenDayHash[o]}skipHiddenDays(o,t=1,i=!1){for(;this.isHiddenDayHash[(o.getUTCDay()+(i?t:0)+7)%7];)o=Js(o,t);return o}}function R0(n,o,t){t.emitter.trigger("select",Object.assign(Object.assign({},om(n,t)),{jsEvent:o?o.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function om(n,o){let t={};for(let i of o.pluginHooks.dateSpanTransforms)Object.assign(t,i(n,o));return Object.assign(t,function yg(n,o){return Object.assign(Object.assign({},Q0(n.range,o,n.allDay)),{allDay:n.allDay})}(n,o.dateEnv)),t}function F0(n,o,t){let{dateEnv:i,options:s}=t,p=o;return n?(p=ps(p),p=i.add(p,s.defaultAllDayEventDuration)):p=i.add(p,s.defaultTimedEventDuration),p}function hg(n,o,t,i){let s=gg(n.defs,o),p={defs:{},instances:{}};for(let w in n.defs)p.defs[w]=B0(n.defs[w],s[w],t,i);for(let w in n.instances){let Q=n.instances[w];p.instances[w]=Bb(Q,p.defs[Q.defId],s[Q.defId],t,i)}return p}function B0(n,o,t,i){let s=t.standardProps||{};null==s.hasEnd&&o.durationEditable&&(t.startDelta||t.endDelta)&&(s.hasEnd=!0);let p=Object.assign(Object.assign(Object.assign({},n),s),{ui:Object.assign(Object.assign({},n.ui),s.ui)});t.extendedProps&&(p.extendedProps=Object.assign(Object.assign({},p.extendedProps),t.extendedProps));for(let w of i.pluginHooks.eventDefMutationAppliers)w(p,t,i);return!p.hasEnd&&i.options.forceEventDuration&&(p.hasEnd=!0),p}function Bb(n,o,t,i,s){let{dateEnv:p}=s,w=i.standardProps&&!0===i.standardProps.allDay,Q=i.standardProps&&!1===i.standardProps.hasEnd,Ce=Object.assign({},n);return w&&(Ce.range=wb(Ce.range)),i.datesDelta&&t.startEditable&&(Ce.range={start:p.add(Ce.range.start,i.datesDelta),end:p.add(Ce.range.end,i.datesDelta)}),i.startDelta&&t.durationEditable&&(Ce.range={start:p.add(Ce.range.start,i.startDelta),end:Ce.range.end}),i.endDelta&&t.durationEditable&&(Ce.range={start:Ce.range.start,end:p.add(Ce.range.end,i.endDelta)}),Q&&(Ce.range={start:Ce.range.start,end:F0(o.allDay,Ce.range.start,s)}),o.allDay&&(Ce.range={start:ps(Ce.range.start),end:ps(Ce.range.end)}),Ce.range.end<Ce.range.start&&(Ce.range.end=F0(o.allDay,Ce.range.start,s)),Ce}class Aa{constructor(o,t){this.context=o,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class As{constructor(o,t,i){this._context=o,this._def=t,this._instance=i||null}setProp(o,t){if(o in og)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===o)t=rl[o](t),this.mutate({standardProps:{publicId:t}});else if(o in rl)t=rl[o](t),this.mutate({standardProps:{[o]:t}});else if(o in Eu){let i=Eu[o](t);i="color"===o?{backgroundColor:t,borderColor:t}:"editable"===o?{startEditable:t,durationEditable:t}:{[o]:t},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${o}'. Use setExtendedProp instead.`)}setExtendedProp(o,t){this.mutate({extendedProps:{[o]:t}})}setStart(o,t={}){let{dateEnv:i}=this._context,s=i.createMarker(o);if(s&&this._instance){let w=Ad(this._instance.range.start,s,i,t.granularity);this.mutate(t.maintainDuration?{datesDelta:w}:{startDelta:w})}}setEnd(o,t={}){let s,{dateEnv:i}=this._context;if((null==o||(s=i.createMarker(o),s))&&this._instance)if(s){let p=Ad(this._instance.range.end,s,i,t.granularity);this.mutate({endDelta:p})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(o,t,i={}){let Q,{dateEnv:s}=this._context,p={allDay:i.allDay},w=s.createMarker(o);if(w&&(null==t||(Q=s.createMarker(t),Q))&&this._instance){let Ce=this._instance.range;!0===i.allDay&&(Ce=wb(Ce));let qe=Ad(Ce.start,w,s,i.granularity);if(Q){let $e=Ad(Ce.end,Q,s,i.granularity);!function Me(n,o){return n.years===o.years&&n.months===o.months&&n.days===o.days&&n.milliseconds===o.milliseconds}(qe,$e)?this.mutate({startDelta:qe,endDelta:$e,standardProps:p}):this.mutate({datesDelta:qe,standardProps:p})}else p.hasEnd=!1,this.mutate({datesDelta:qe,standardProps:p})}}moveStart(o){let t=H(o);t&&this.mutate({startDelta:t})}moveEnd(o){let t=H(o);t&&this.mutate({endDelta:t})}moveDates(o){let t=H(o);t&&this.mutate({datesDelta:t})}setAllDay(o,t={}){let i={allDay:o},{maintainDuration:s}=t;null==s&&(s=this._context.options.allDayMaintainDuration),this._def.allDay!==o&&(i.hasEnd=s),this.mutate({standardProps:i})}formatRange(o){let{dateEnv:t}=this._context,i=this._instance,s=Ts(o);return this._def.hasEnd?t.formatRange(i.range.start,i.range.end,s,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):t.format(i.range.start,s,{forcedTzo:i.forcedStartTzo})}mutate(o){let t=this._instance;if(t){let i=this._def,s=this._context,{eventStore:p}=s.getCurrentData(),w=Fp(p,t.instanceId);w=hg(w,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},o,s);let Ce=new As(s,i,t);this._def=w.defs[i.defId],this._instance=w.instances[t.instanceId],s.dispatch({type:"MERGE_EVENTS",eventStore:w}),s.emitter.trigger("eventChange",{oldEvent:Ce,event:this,relatedEvents:ku(w,s,t),revert(){s.dispatch({type:"RESET_EVENTS",eventStore:p})}})}}remove(){let o=this._context,t=Z0(this);o.dispatch({type:"REMOVE_EVENTS",eventStore:t}),o.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:o}=this._def;return o?new Aa(this._context,this._context.getCurrentData().eventSources[o]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let o=this._instance;return o?this._context.dateEnv.formatIso(o.range.start,{omitTime:this._def.allDay,forcedTzo:o.forcedStartTzo}):""}get endStr(){let o=this._instance;return o&&this._def.hasEnd?this._context.dateEnv.formatIso(o.range.end,{omitTime:this._def.allDay,forcedTzo:o.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(o={}){let t=this._def,{ui:i}=t,{startStr:s,endStr:p}=this,w={allDay:t.allDay};return t.title&&(w.title=t.title),s&&(w.start=s),p&&(w.end=p),t.publicId&&(w.id=t.publicId),t.groupId&&(w.groupId=t.groupId),t.url&&(w.url=t.url),i.display&&"auto"!==i.display&&(w.display=i.display),o.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?w.color=i.backgroundColor:(i.backgroundColor&&(w.backgroundColor=i.backgroundColor),i.borderColor&&(w.borderColor=i.borderColor)),i.textColor&&(w.textColor=i.textColor),i.classNames.length&&(w.classNames=i.classNames),Object.keys(t.extendedProps).length&&(o.collapseExtendedProps?Object.assign(w,t.extendedProps):w.extendedProps=t.extendedProps),w}toJSON(){return this.toPlainObject()}}function Z0(n){let o=n._def,t=n._instance;return{defs:{[o.defId]:o},instances:t?{[t.instanceId]:t}:{}}}function ku(n,o,t){let{defs:i,instances:s}=n,p=[],w=t?t.instanceId:"";for(let Q in s){let Ce=s[Q],qe=i[Ce.defId];Ce.instanceId!==w&&p.push(new As(o,qe,Ce))}return p}function U0(n,o,t,i){let s={},p={},w={},Q=[],Ce=[],qe=gg(n.defs,o);for(let $e in n.defs){let $t=n.defs[$e];"inverse-background"===qe[$t.defId].display&&($t.groupId?(s[$t.groupId]=[],w[$t.groupId]||(w[$t.groupId]=$t)):p[$e]=[])}for(let $e in n.instances){let $t=n.instances[$e],jt=n.defs[$t.defId],Gt=qe[jt.defId],fn=$t.range,Rn=!jt.allDay&&i?Gf(fn,i):fn,Fn=Su(Rn,t);Fn&&("inverse-background"===Gt.display?jt.groupId?s[jt.groupId].push(Fn):p[$t.defId].push(Fn):"none"!==Gt.display&&("background"===Gt.display?Q:Ce).push({def:jt,ui:Gt,instance:$t,range:Fn,isStart:Rn.start&&Rn.start.valueOf()===Fn.start.valueOf(),isEnd:Rn.end&&Rn.end.valueOf()===Fn.end.valueOf()}))}for(let $e in s){let jt=Db(s[$e],t);for(let Gt of jt){let fn=w[$e];Q.push({def:fn,ui:qe[fn.defId],instance:null,range:Gt,isStart:!1,isEnd:!1})}}for(let $e in p){let jt=Db(p[$e],t);for(let Gt of jt)Q.push({def:n.defs[$e],ui:qe[$e],instance:null,range:Gt,isStart:!1,isEnd:!1})}return{bg:Q,fg:Ce}}function V0(n,o){n.fcSeg=o}function kd(n){return n.fcSeg||n.parentNode.fcSeg||null}function gg(n,o){return ki(n,t=>fg(t,o))}function fg(n,o){let t=[];return o[""]&&t.push(o[""]),o[n.defId]&&t.push(o[n.defId]),t.push(n.ui),y0(t)}function sm(n,o){let t=n.map(Zb);return t.sort((i,s)=>function Pp(n,o,t){let i,s;for(i=0;i<t.length;i+=1)if(s=yd(n,o,t[i]),s)return s;return 0}(i,s,o)),t.map(i=>i._seg)}function Zb(n){let{eventRange:o}=n,t=o.def,i=o.instance?o.instance.range:o.range,s=i.start?i.start.valueOf():0,p=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:s,end:p,duration:p-s,allDay:Number(t.allDay),_seg:n})}function mg(n,o){let{pluginHooks:t}=o,i=t.isDraggableTransformers,{def:s,ui:p}=n.eventRange,w=p.startEditable;for(let Q of i)w=Q(w,s,p,o);return w}function rm(n,o){return n.isStart&&n.eventRange.ui.durationEditable&&o.options.eventResizableFromStart}function Cg(n,o,t,i,s,p,w){let{dateEnv:Q,options:Ce}=t,{displayEventTime:qe,displayEventEnd:$e}=Ce,$t=n.eventRange.def,jt=n.eventRange.instance;null==qe&&(qe=!1!==i),null==$e&&($e=!1!==s);let Gt=jt.range.start,fn=jt.range.end,Rn=p||n.start||n.eventRange.range.start,Fn=w||n.end||n.eventRange.range.end,jn=ps(Gt).valueOf()===ps(Rn).valueOf(),Ti=ps(Ia(fn,-1)).valueOf()===ps(Ia(Fn,-1)).valueOf();return qe&&!$t.allDay&&(jn||Ti)?(Rn=jn?Gt:Rn,Fn=Ti?fn:Fn,$e&&$t.hasEnd?Q.formatRange(Rn,Fn,o,{forcedStartTzo:p?null:jt.forcedStartTzo,forcedEndTzo:w?null:jt.forcedEndTzo}):Q.format(Rn,o,{forcedTzo:p?null:jt.forcedStartTzo})):""}function Al(n,o,t){let i=n.eventRange.range;return{isPast:i.end<(t||o.start),isFuture:i.start>=(t||o.end),isToday:o&&pa(o,i.start)}}function wI(n){let o=["fc-event"];return n.isMirror&&o.push("fc-event-mirror"),n.isDraggable&&o.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&o.push("fc-event-resizable"),n.isDragging&&o.push("fc-event-dragging"),n.isResizing&&o.push("fc-event-resizing"),n.isSelected&&o.push("fc-event-selected"),n.isStart&&o.push("fc-event-start"),n.isEnd&&o.push("fc-event-end"),n.isPast&&o.push("fc-event-past"),n.isToday&&o.push("fc-event-today"),n.isFuture&&o.push("fc-event-future"),o}function am(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function vg(n,o){let{def:t,instance:i}=n.eventRange,{url:s}=t;if(s)return{href:s};let{emitter:p,options:w}=o,{eventInteractive:Q}=w;return null==Q&&(Q=t.interactive,null==Q&&(Q=Boolean(p.hasHandlers("eventClick")))),Q?vd(Ce=>{p.trigger("eventClick",{el:Ce.target,event:new As(o,t,i),jsEvent:Ce,view:o.viewApi})}):{}}const z0={start:Un,end:Un,allDay:Boolean};function Dd(n,o,t){return Object.assign(Object.assign({},Q0(n,o,t)),{timeZone:o.timeZone})}function Q0(n,o,t){return{start:o.toDate(n.start),end:o.toDate(n.end),startStr:o.formatIso(n.start,{omitTime:t}),endStr:o.formatIso(n.end,{omitTime:t})}}let um={};!function Ub(n,o){um[n]=o}("gregory",class Wp{getMarkerYear(o){return o.getUTCFullYear()}getMarkerMonth(o){return o.getUTCMonth()}getMarkerDay(o){return o.getUTCDate()}arrayToMarker(o){return La(o)}markerToArray(o){return Xr(o)}});const Vb=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;class zb{constructor(o){let t=this.timeZone=o.timeZone,i="local"!==t&&"UTC"!==t;o.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new o.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!i||this.namedTimeZoneImpl),this.calendarSystem=function Hb(n){return new um[n]}(o.calendarSystem),this.locale=o.locale,this.weekDow=o.locale.week.dow,this.weekDoy=o.locale.week.doy,"ISO"===o.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof o.firstDay&&(this.weekDow=o.firstDay),"function"==typeof o.weekNumberCalculation&&(this.weekNumberFunc=o.weekNumberCalculation),this.weekText=null!=o.weekText?o.weekText:o.locale.options.weekText,this.weekTextLong=(null!=o.weekTextLong?o.weekTextLong:o.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=o.cmdFormatter,this.defaultSeparator=o.defaultSeparator}createMarker(o){let t=this.createMarkerMeta(o);return null===t?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):La(c0(new Date))}createMarkerMeta(o){if("string"==typeof o)return this.parse(o);let t=null;return"number"==typeof o?t=this.timestampToMarker(o):o instanceof Date?(o=o.valueOf(),isNaN(o)||(t=this.timestampToMarker(o))):Array.isArray(o)&&(t=La(o)),null!==t&&Mf(t)?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null}parse(o){let t=function EI(n){let o=Vb.exec(n);if(o){let t=new Date(Date.UTC(Number(o[1]),o[3]?Number(o[3])-1:0,Number(o[5]||1),Number(o[7]||0),Number(o[8]||0),Number(o[10]||0),o[12]?1e3*Number(`0.${o[12]}`):0));if(Mf(t)){let i=null;return o[13]&&(i=("-"===o[15]?-1:1)*(60*Number(o[16]||0)+Number(o[18]||0))),{marker:t,isTimeUnspecified:!o[6],timeZoneOffset:i}}}return null}(o);if(null===t)return null;let{marker:i}=t,s=null;return null!==t.timeZoneOffset&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-60*t.timeZoneOffset*1e3):s=t.timeZoneOffset),{marker:i,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:s}}getYear(o){return this.calendarSystem.getMarkerYear(o)}getMonth(o){return this.calendarSystem.getMarkerMonth(o)}getDay(o){return this.calendarSystem.getMarkerDay(o)}add(o,t){let i=this.calendarSystem.markerToArray(o);return i[0]+=t.years,i[1]+=t.months,i[2]+=t.days,i[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(o,t){let i=this.calendarSystem.markerToArray(o);return i[0]-=t.years,i[1]-=t.months,i[2]-=t.days,i[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(o,t){let i=this.calendarSystem.markerToArray(o);return i[0]+=t,this.calendarSystem.arrayToMarker(i)}addMonths(o,t){let i=this.calendarSystem.markerToArray(o);return i[1]+=t,this.calendarSystem.arrayToMarker(i)}diffWholeYears(o,t){let{calendarSystem:i}=this;return Jc(o)===Jc(t)&&i.getMarkerDay(o)===i.getMarkerDay(t)&&i.getMarkerMonth(o)===i.getMarkerMonth(t)?i.getMarkerYear(t)-i.getMarkerYear(o):null}diffWholeMonths(o,t){let{calendarSystem:i}=this;return Jc(o)===Jc(t)&&i.getMarkerDay(o)===i.getMarkerDay(t)?i.getMarkerMonth(t)-i.getMarkerMonth(o)+12*(i.getMarkerYear(t)-i.getMarkerYear(o)):null}greatestWholeUnit(o,t){let i=this.diffWholeYears(o,t);return null!==i?{unit:"year",value:i}:(i=this.diffWholeMonths(o,t),null!==i?{unit:"month",value:i}:(i=function pI(n,o){let t=kf(n,o);return null!==t&&t%7==0?t/7:null}(o,t),null!==i?{unit:"week",value:i}:(i=kf(o,t),null!==i?{unit:"day",value:i}:(i=function xd(n,o){return(o.valueOf()-n.valueOf())/36e5}(o,t),g(i)?{unit:"hour",value:i}:(i=function mc(n,o){return(o.valueOf()-n.valueOf())/6e4}(o,t),g(i)?{unit:"minute",value:i}:(i=function db(n,o){return(o.valueOf()-n.valueOf())/1e3}(o,t),g(i)?{unit:"second",value:i}:{unit:"millisecond",value:t.valueOf()-o.valueOf()}))))))}countDurationsBetween(o,t,i){let s;return i.years&&(s=this.diffWholeYears(o,t),null!==s)?s/function mn(n){return xn(n)/365}(i):i.months&&(s=this.diffWholeMonths(o,t),null!==s)?s/function vn(n){return xn(n)/30}(i):i.days&&(s=kf(o,t),null!==s)?s/xn(i):(t.valueOf()-o.valueOf())/Yn(i)}startOf(o,t){return"year"===t?this.startOfYear(o):"month"===t?this.startOfMonth(o):"week"===t?this.startOfWeek(o):"day"===t?ps(o):"hour"===t?function hI(n){return La([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}(o):"minute"===t?function r0(n){return La([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}(o):"second"===t?function gI(n){return La([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}(o):null}startOfYear(o){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(o)])}startOfMonth(o){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(o),this.calendarSystem.getMarkerMonth(o)])}startOfWeek(o){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(o),this.calendarSystem.getMarkerMonth(o),o.getUTCDate()-(o.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(o){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(o)):function a0(n,o,t){let i=n.getUTCFullYear(),s=Df(n,i,o,t);if(s<1)return Df(n,i-1,o,t);let p=Df(n,i+1,o,t);return p>=1?Math.min(s,p):s}(o,this.weekDow,this.weekDoy)}format(o,t,i={}){return t.format({marker:o,timeZoneOffset:null!=i.forcedTzo?i.forcedTzo:this.offsetForMarker(o)},this)}formatRange(o,t,i,s={}){return s.isEndExclusive&&(t=Ia(t,-1)),i.formatRange({marker:o,timeZoneOffset:null!=s.forcedStartTzo?s.forcedStartTzo:this.offsetForMarker(o)},{marker:t,timeZoneOffset:null!=s.forcedEndTzo?s.forcedEndTzo:this.offsetForMarker(t)},this,s.defaultSeparator)}formatIso(o,t={}){let i=null;return t.omitTimeZoneOffset||(i=null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(o)),d0(o,i,t.omitTime)}timestampToMarker(o){return"local"===this.timeZone?La(c0(new Date(o))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?La(this.namedTimeZoneImpl.timestampToArray(o)):new Date(o)}offsetForMarker(o){return"local"===this.timeZone?-u0(Xr(o)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Xr(o)):null}toDate(o,t){return"local"===this.timeZone?u0(Xr(o)):"UTC"===this.timeZone?new Date(o.valueOf()):this.namedTimeZoneImpl?new Date(o.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(Xr(o))*60):new Date(o.valueOf()-(t||0))}}class G0{constructor(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(o){let t=[];for(let i of o)this.insertEntry(i,t);return t}insertEntry(o,t){let i=this.findInsertion(o);return this.isInsertionValid(i,o)?(this.insertEntryAt(o,i),1):this.handleInvalidInsertion(i,o,t)}isInsertionValid(o,t){return(-1===this.maxCoord||o.levelCoord+t.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||o.stackCnt<this.maxStackCnt)}handleInvalidInsertion(o,t,i){return this.allowReslicing&&o.touchingEntry?this.splitEntry(t,o.touchingEntry,i):(i.push(t),0)}splitEntry(o,t,i){let s=0,p=[],w=o.span,Q=t.span;return w.start<Q.start&&(s+=this.insertEntry({index:o.index,thickness:o.thickness,span:{start:w.start,end:Q.start}},p)),w.end>Q.end&&(s+=this.insertEntry({index:o.index,thickness:o.thickness,span:{start:Q.end,end:w.end}},p)),s?(i.push({index:o.index,thickness:o.thickness,span:hm(Q,w)},...p),s):(i.push(o),0)}insertEntryAt(o,t){let{entriesByLevel:i,levelCoords:s}=this;-1===t.lateral?(Yp(s,t.level,t.levelCoord),Yp(i,t.level,[o])):Yp(i[t.level],t.lateral,o),this.stackCnts[Du(o)]=t.stackCnt}findInsertion(o){let{levelCoords:t,entriesByLevel:i,strictOrder:s,stackCnts:p}=this,w=t.length,Q=0,Ce=-1,qe=-1,$e=null,$t=0;for(let fn=0;fn<w;fn+=1){let Rn=t[fn];if(!s&&Rn>=Q+o.thickness)break;let jn,Fn=i[fn],Ti=gm(Fn,o.span.start,dm),no=Ti[0]+Ti[1];for(;(jn=Fn[no])&&jn.span.start<o.span.end;){let Qi=Rn+jn.thickness;Qi>Q&&(Q=Qi,$e=jn,Ce=fn,qe=no),Qi===Q&&($t=Math.max($t,p[Du(jn)]+1)),no+=1}}let jt=0;if($e)for(jt=Ce+1;jt<w&&t[jt]<Q;)jt+=1;let Gt=-1;return jt<w&&t[jt]===Q&&(Gt=gm(i[jt],o.span.end,dm)[0]),{touchingLevel:Ce,touchingLateral:qe,touchingEntry:$e,stackCnt:$t,levelCoord:Q,level:jt,lateral:Gt}}toRects(){let{entriesByLevel:o,levelCoords:t}=this,i=o.length,s=[];for(let p=0;p<i;p+=1){let w=o[p],Q=t[p];for(let Ce of w)s.push(Object.assign(Object.assign({},Ce),{levelCoord:Q}))}return s}}function dm(n){return n.span.end}function Du(n){return n.index+":"+n.span.start}function pm(n,o){return{start:Math.min(n.start,o.start),end:Math.max(n.end,o.end)}}function hm(n,o){let t=Math.max(n.start,o.start),i=Math.min(n.end,o.end);return t<i?{start:t,end:i}:null}function Yp(n,o,t){n.splice(o,0,t)}function gm(n,o,t){let i=0,s=n.length;if(!s||o<t(n[i]))return[0,0];if(o>t(n[s-1]))return[s,0];for(;i<s;){let p=Math.floor(i+(s-i)/2),w=t(n[p]);if(o<w)s=p;else{if(!(o>w))return[p,1];i=p+1}}return[i,0]}class Md{constructor(o){this.component=o.component,this.isHitComboAllowed=o.isHitComboAllowed||null}destroy(){}}function fm(n){return{[n.component.uid]:n}}const mm={},Od={};Boolean;class jp extends ns{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{this.setState({forPrint:!0})},this.handleAfterPrint=()=>{this.setState({forPrint:!1})}}render(){let{props:o}=this,{options:t}=o,{forPrint:i}=this.state,s=i||"auto"===t.height||"auto"===t.contentHeight,p=s||null==t.height?"":t.height,w=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,o.theme.getClass("root")];return A0()||w.push("fc-liquid-hack"),o.children(w,p,s,i)}componentDidMount(){let{emitter:o}=this.props;o.on("_beforeprint",this.handleBeforePrint),o.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:o}=this.props;o.off("_beforeprint",this.handleBeforePrint),o.off("_afterprint",this.handleAfterPrint)}}const Y0="fc-col-header-cell";function xg(n){return n.text}class _m extends ns{constructor(){super(...arguments),this.id=yl(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=o=>{this.props.elRef&&Tl(this.props.elRef,o)}}render(){const{props:o,context:t}=this,{options:i}=t,{customGenerator:s,defaultGenerator:p,renderProps:w}=o,Q=Pd(o);let qe,$t,Ce=!1,$e=[];if(null!=s){const jt="function"==typeof s?s(w,ln):s;if(!0===jt)Ce=!0;else{const Gt=jt&&"object"==typeof jt;Gt&&"html"in jt?Q.dangerouslySetInnerHTML={__html:jt.html}:Gt&&"domNodes"in jt?$e=Array.prototype.slice.call(jt.domNodes):Gt||"function"==typeof jt?$t=jt:qe=jt}}else Ce=!wl(o.generatorName,i);return Ce&&p&&(qe=p(w)),this.queuedDomNodes=$e,this.currentGeneratorMeta=$t,ln(o.elTag,Q,qe)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(o){var t;const{props:i,context:s}=this,{handleCustomRendering:p,customRenderingMetaMap:w}=s.options;if(p){const Q=null!==(t=this.currentGeneratorMeta)&&void 0!==t?t:null==w?void 0:w[i.generatorName];Q&&p(Object.assign(Object.assign({id:this.id,isActive:o,containerEl:this.base,reportNewContainerEl:this.handleEl,generatorMeta:Q},i),{elClasses:(i.elClasses||[]).filter(ha)}))}}applyQueueudDomNodes(){const{queuedDomNodes:o,currentDomNodes:t}=this,i=this.base;if(!aa(o,t)){t.forEach(Os);for(let s of o)i.appendChild(s);this.currentDomNodes=o}}}function wl(n,o){var t;return Boolean(o.handleCustomRendering&&n&&(null===(t=o.customRenderingMetaMap)||void 0===t?void 0:t[n]))}function Pd(n,o){const t=Object.assign(Object.assign({},n.elAttrs),{ref:n.elRef});return(n.elClasses||o)&&(t.className=(n.elClasses||[]).concat(o||[]).concat(t.className||[]).filter(Boolean).join(" ")),n.elStyle&&(t.style=n.elStyle),t}function ha(n){return Boolean(n)}_m.addPropsEquality({elClasses:aa,elStyle:ro,elAttrs:function ya(n,o){const t=Zo(n,o);for(let i of t)if(!kr.test(i))return!1;return!0},renderProps:ro});const Yc=nm(0);let ea=(()=>{class n extends da{constructor(){super(...arguments),this.InnerContent=ll.bind(void 0,this),this.handleRootEl=t=>{this.rootEl=t,this.props.elRef&&Tl(this.props.elRef,t)}}render(){const{props:t}=this,i=function Cm(n,o){const t="function"==typeof n?n(o):n||[];return"string"==typeof t?[t]:t}(t.classNameGenerator,t.renderProps);if(t.children){const s=Pd(t,i),p=t.children(this.InnerContent,t.renderProps,s);return t.elTag?ln(t.elTag,s,p):p}return ln(_m,Object.assign(Object.assign({},t),{elRef:this.handleRootEl,elTag:t.elTag||"div",elClasses:(t.elClasses||[]).concat(i),renderId:this.context}))}componentDidMount(){var t,i;null===(i=(t=this.props).didMount)||void 0===i||i.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.rootEl||this.base}))}componentWillUnmount(){var t,i;null===(i=(t=this.props).willUnmount)||void 0===i||i.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.rootEl||this.base}))}}return n.contextType=Yc,n})();function ll(n,o){const t=n.props;return ln(_m,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},o))}class Ld extends ns{render(){let{dateEnv:o,options:t,theme:i,viewApi:s}=this.context,{props:p}=this,{date:w,dateProfile:Q}=p,Ce=qf(w,p.todayRange,null,Q),qe=[Y0].concat(Zp(Ce,i)),$e=o.format(w,p.dayHeaderFormat),$t=!Ce.isDisabled&&p.colCnt>1?wd(this.context,w):{},jt=Object.assign(Object.assign(Object.assign({date:o.toDate(w),view:s},p.extraRenderProps),{text:$e}),Ce);return ln(ea,{elTag:"th",elClasses:qe,elAttrs:Object.assign({role:"columnheader",colSpan:p.colSpan,"data-date":Ce.isDisabled?void 0:Lp(w)},p.extraDataAttrs),renderProps:jt,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:xg,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},Gt=>ln("div",{className:"fc-scrollgrid-sync-inner"},!Ce.isDisabled&&ln(Gt,{elTag:"a",elAttrs:$t,elClasses:["fc-col-header-cell-cushion",p.isSticky&&"fc-sticky"]})))}}const Rd=Ts({weekday:"long"});class Nd extends ns{render(){let{props:o}=this,{dateEnv:t,theme:i,viewApi:s,options:p}=this.context,w=Js(new Date(2592e5),o.dow),Q={dow:o.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},Ce=t.format(w,o.dayHeaderFormat),qe=Object.assign(Object.assign(Object.assign(Object.assign({date:w},Q),{view:s}),o.extraRenderProps),{text:Ce});return ln(ea,{elTag:"th",elClasses:[Y0,...Zp(Q,i),...o.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:o.colSpan},o.extraDataAttrs),renderProps:qe,generatorName:"dayHeaderContent",customGenerator:p.dayHeaderContent,defaultGenerator:xg,classNameGenerator:p.dayHeaderClassNames,didMount:p.dayHeaderDidMount,willUnmount:p.dayHeaderWillUnmount},$e=>ln("div",{className:"fc-scrollgrid-sync-inner"},ln($e,{elTag:"a",elClasses:["fc-col-header-cell-cushion",o.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(w,Rd)}})))}}let jl=(()=>{class n extends da{constructor(t,i){super(t,i),this.initialNowDate=Gp(i.options.now,i.dateEnv),this.initialNowQueriedMs=(new Date).valueOf(),this.state=this.computeTiming().currentState}render(){let{props:t,state:i}=this;return t.children(i.nowDate,i.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:t,context:i}=this,s=Ia(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),p=i.dateEnv.startOf(s,t.unit),w=i.dateEnv.add(p,H(1,t.unit)),Q=w.valueOf()-s.valueOf();return Q=Math.min(864e5,Q),{currentState:{nowDate:p,todayRange:Ou(p)},nextState:{nowDate:w,todayRange:Ou(w)},waitMs:Q}}setTimeout(){let{nextState:t,waitMs:i}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(t,()=>{this.setTimeout()})},i)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}return n.contextType=_c,n})();function Ou(n){let o=ps(n);return{start:o,end:Js(o,1)}}class Pu extends ns{constructor(){super(...arguments),this.createDayHeaderFormatter=zi(Fd)}render(){let{context:o}=this,{dates:t,dateProfile:i,datesRepDistinctDays:s,renderIntro:p}=this.props,w=this.createDayHeaderFormatter(o.options.dayHeaderFormat,s,t.length);return ln(jl,{unit:"day"},(Q,Ce)=>ln("tr",{role:"row"},p&&p("day"),t.map(qe=>s?ln(Ld,{key:qe.toISOString(),date:qe,dateProfile:i,todayRange:Ce,colCnt:t.length,dayHeaderFormat:w}):ln(Nd,{key:qe.getUTCDay(),dow:qe.getUTCDay(),dayHeaderFormat:w}))))}}function Fd(n,o,t){return n||function Gb(n,o){return Ts(!n||o>10?{weekday:"short"}:o>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}(o,t)}class Lu{constructor(o,t){let i=o.start,{end:s}=o,p=[],w=[],Q=-1;for(;i<s;)t.isHiddenDay(i)?p.push(Q+.5):(Q+=1,p.push(Q),w.push(i)),i=Js(i,1);this.dates=w,this.indices=p,this.cnt=w.length}sliceRange(o){let t=this.getDateDayIndex(o.start),i=this.getDateDayIndex(Js(o.end,-1)),s=Math.max(0,t),p=Math.min(this.cnt-1,i);return s=Math.ceil(s),p=Math.floor(p),s<=p?{firstIndex:s,lastIndex:p,isStart:t===s,isEnd:i===p}:null}getDateDayIndex(o){let{indices:t}=this,i=Math.floor(Pa(this.dates[0],o));return i<0?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]}}class Ru{constructor(o,t){let s,p,w,{dates:i}=o;if(t){for(p=i[0].getUTCDay(),s=1;s<i.length&&i[s].getUTCDay()!==p;s+=1);w=Math.ceil(i.length/s)}else w=1,s=i.length;this.rowCnt=w,this.colCnt=s,this.daySeries=o,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let o=[];for(let t=0;t<this.rowCnt;t+=1){let i=[];for(let s=0;s<this.colCnt;s+=1)i.push(this.buildCell(t,s));o.push(i)}return o}buildCell(o,t){let i=this.daySeries.dates[o*this.colCnt+t];return{key:i.toISOString(),date:i}}buildHeaderDates(){let o=[];for(let t=0;t<this.colCnt;t+=1)o.push(this.cells[0][t].date);return o}sliceRange(o){let{colCnt:t}=this,i=this.daySeries.sliceRange(o),s=[];if(i){let{firstIndex:p,lastIndex:w}=i,Q=p;for(;Q<=w;){let Ce=Math.floor(Q/t),qe=Math.min((Ce+1)*t,w+1);s.push({row:Ce,firstCol:Q%t,lastCol:(qe-1)%t,isStart:i.isStart&&Q===p,isEnd:i.isEnd&&qe-1===w}),Q=qe}}return s}}class vm{constructor(){this.sliceBusinessHours=zi(this._sliceBusinessHours),this.sliceDateSelection=zi(this._sliceDateSpan),this.sliceEventStore=zi(this._sliceEventStore),this.sliceEventDrag=zi(this._sliceInteraction),this.sliceEventResize=zi(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(o,t,i,s,...p){let{eventUiBases:w}=o,Q=this.sliceEventStore(o.eventStore,w,t,i,...p);return{dateSelectionSegs:this.sliceDateSelection(o.dateSelection,t,i,w,s,...p),businessHourSegs:this.sliceBusinessHours(o.businessHours,t,i,s,...p),fgEventSegs:Q.fg,bgEventSegs:Q.bg,eventDrag:this.sliceEventDrag(o.eventDrag,w,t,i,...p),eventResize:this.sliceEventResize(o.eventResize,w,t,i,...p),eventSelection:o.eventSelection}}sliceNowDate(o,t,i,s,...p){return this._sliceDateSpan({range:{start:o,end:Ia(o,1)},allDay:!1},t,i,{},s,...p)}_sliceBusinessHours(o,t,i,s,...p){return o?this._sliceEventStore(Gc(o,Kp(t,Boolean(i)),s),{},t,i,...p).bg:[]}_sliceEventStore(o,t,i,s,...p){if(o){let w=U0(o,t,Kp(i,Boolean(s)),s);return{bg:this.sliceEventRanges(w.bg,p),fg:this.sliceEventRanges(w.fg,p)}}return{bg:[],fg:[]}}_sliceInteraction(o,t,i,s,...p){if(!o)return null;let w=U0(o.mutatedEvents,t,Kp(i,Boolean(s)),s);return{segs:this.sliceEventRanges(w.fg,p),affectedInstances:o.affectedEvents.instances,isEvent:o.isEvent}}_sliceDateSpan(o,t,i,s,p,...w){if(!o)return[];let Q=Kp(t,Boolean(i)),Ce=Su(o.range,Q);if(Ce){let qe=function cm(n,o,t){let i=Ab({editable:!1},t),s=I0(i.refined,i.extra,"",n.allDay,!0,t);return{def:s,ui:fg(s,o),instance:Bf(s.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}(o=Object.assign(Object.assign({},o),{range:Ce}),s,p),$e=this.sliceRange(o.range,...w);for(let $t of $e)$t.eventRange=qe;return $e}return[]}sliceEventRanges(o,t){let i=[];for(let s of o)i.push(...this.sliceEventRange(s,t));return i}sliceEventRange(o,t){let i=o.range;this.forceDayIfListItem&&"list-item"===o.ui.display&&(i={start:i.start,end:Js(i.start,1)});let s=this.sliceRange(i,...t);for(let p of s)p.eventRange=o,p.isStart=o.isStart&&p.isStart,p.isEnd=o.isEnd&&p.isEnd;return s}}function Kp(n,o){let t=n.activeRange;return o?t:{start:Ia(t.start,n.slotMinTime.milliseconds),end:Ia(t.end,n.slotMaxTime.milliseconds-864e5)}}function bm(n,o,t){let i=t.options.eventDataTransform,s=o?o.eventDataTransform:null;return s&&(n=ym(n,s)),i&&(n=ym(n,i)),n}function ym(n,o){let t;if(o){t=[];for(let i of n){let s=o(i);s?t.push(s):null==s&&t.push(i)}}else t=n;return t}function xm(n,o,t){let{defs:i}=n,s=ki(n.instances,p=>i[p.defId].allDay?p:Object.assign(Object.assign({},p),{range:{start:t.createMarker(o.toDate(p.range.start,p.forcedStartTzo)),end:t.createMarker(o.toDate(p.range.end,p.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:p.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:p.forcedEndTzo}));return{defs:i,instances:s}}function X0(n,o){return Uf(n,t=>t.sourceId!==o)}function tC(n,o,t){let{instances:i}=n.mutatedEvents;for(let s in i)if(!jf(o.validRange,i[s].range))return!1;return Ig({eventDrag:n},t)}function Ig(n,o){let t=o.getCurrentData(),i=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(o.pluginHooks.isPropsValid||Im)(i,o)}function Im(n,o,t={},i){return!(n.eventDrag&&!function Yb(n,o,t,i){let s=o.getCurrentData(),p=n.eventDrag,w=p.mutatedEvents,Q=w.defs,Ce=w.instances,qe=gg(Q,p.isEvent?n.eventUiBases:{"":s.selectionConfig});i&&(qe=ki(qe,i));let $e=function Wb(n,o){return{defs:n.defs,instances:hi(n.instances,t=>!o[t.instanceId])}}(n.eventStore,p.affectedEvents.instances),$t=$e.defs,jt=$e.instances,Gt=gg($t,n.eventUiBases);for(let fn in Ce){let Rn=Ce[fn],Fn=Rn.range,jn=qe[Rn.defId],Ti=Q[Rn.defId];if(!qp(jn.constraints,Fn,$e,n.businessHours,o))return!1;let{eventOverlap:no}=o.options,Qi="function"==typeof no?no:null;for(let hs in jt){let Ps=jt[hs];if(E0(Fn,Ps.range)&&(!1===Gt[Ps.defId].overlap&&p.isEvent||!1===jn.overlap||Qi&&!Qi(new As(o,$t[Ps.defId],Ps),new As(o,Ti,Rn))))return!1}let wo=s.eventStore;for(let hs of jn.allows){let X_,Ps=Object.assign(Object.assign({},t),{range:Rn.range,allDay:Ti.allDay}),ko=wo.defs[Ti.defId],tc=wo.instances[fn];if(X_=ko?new As(o,ko,tc):new As(o,Ti),!hs(om(Ps,o),X_))return!1}}return!0}(n,o,t,i)||n.dateSelection&&!function Tg(n,o,t,i){let s=n.eventStore,p=s.defs,w=s.instances,Q=n.dateSelection,Ce=Q.range,{selectionConfig:qe}=o.getCurrentData();if(i&&(qe=i(qe)),!qp(qe.constraints,Ce,s,n.businessHours,o))return!1;let{selectOverlap:$e}=o.options,$t="function"==typeof $e?$e:null;for(let jt in w){let Gt=w[jt];if(E0(Ce,Gt.range)&&(!1===qe.overlap||$t&&!$t(new As(o,p[Gt.defId],Gt),null)))return!1}for(let jt of qe.allows)if(!jt(om(Object.assign(Object.assign({},t),Q),o),null))return!1;return!0}(n,o,t,i))}function qp(n,o,t,i,s){for(let p of n)if(!Ag(Tm(p,o,t,i,s),o))return!1;return!0}function Tm(n,o,t,i,s){return"businessHours"===n?Am(Gc(i,o,s)):"string"==typeof n?Am(Uf(t,p=>p.groupId===n)):"object"==typeof n&&n?Am(Gc(n,o,s)):[]}function Am(n){let{instances:o}=n,t=[];for(let i in o)t.push(o[i].range);return t}function Ag(n,o){for(let t of n)if(jf(t,o))return!0;return!1}class $p extends Error{constructor(o,t){super(o),this.response=t}}class wg{constructor(o){this.drainedOption=o,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(o){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==o?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),o))}pause(o=""){let{pauseDepths:t}=this;t[o]=(t[o]||0)+1,this.clearTimeout()}resume(o="",t){let{pauseDepths:i}=this;o in i&&(t?delete i[o]:(i[o]-=1,i[o]<=0&&delete i[o]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}const Bd=/^(visible|hidden)$/;class Em extends ns{constructor(){super(...arguments),this.handleEl=o=>{this.el=o,Tl(this.props.elRef,o)}}render(){let{props:o}=this,{liquid:t,liquidIsAbsolute:i}=o,s=t&&i,p=["fc-scroller"];return t&&p.push(i?"fc-scroller-liquid-absolute":"fc-scroller-liquid"),ln("div",{ref:this.handleEl,className:p.join(" "),style:{overflowX:o.overflowX,overflowY:o.overflowY,left:s&&-(o.overcomeLeft||0)||"",right:s&&-(o.overcomeRight||0)||"",bottom:s&&-(o.overcomeBottom||0)||"",marginLeft:!s&&-(o.overcomeLeft||0)||"",marginRight:!s&&-(o.overcomeRight||0)||"",marginBottom:!s&&-(o.overcomeBottom||0)||"",maxHeight:o.maxHeight||""}},o.children)}needsXScrolling(){if(Bd.test(this.props.overflowX))return!1;let{el:o}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=o;for(let s=0;s<i.length;s+=1)if(i[s].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(Bd.test(this.props.overflowY))return!1;let{el:o}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=o;for(let s=0;s<i.length;s+=1)if(i[s].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return Bd.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Bd.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Kl{constructor(o){this.masterCallback=o,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,i)=>{let{depths:s,currentMap:p}=this,w=!1,Q=!1;null!==t?(w=i in p,p[i]=t,s[i]=(s[i]||0)+1,Q=!0):(s[i]-=1,s[i]||(delete p[i],delete this.callbackMap[i],w=!0)),this.masterCallback&&(w&&this.masterCallback(null,String(i)),Q&&this.masterCallback(t,String(i)))}}createRef(o){let t=this.callbackMap[o];return t||(t=this.callbackMap[o]=i=>{this.handleValue(i,String(o))}),t}collect(o,t,i){return function xa(n,o=0,t,i=1){let s=[];null==t&&(t=Object.keys(n).length);for(let p=o;p<t;p+=i){let w=n[p];void 0!==w&&s.push(w)}return s}(this.currentMap,o,t,i)}getAll(){return lo(this.currentMap)}}function km(n,o){return n.liquid&&o.liquid}function oC(n,o){return aa(n,o,ro)}function sC(n,o){let t=[];for(let i of n){let s=i.span||1;for(let p=0;p<s;p+=1)t.push(ln("col",{style:{width:"shrink"===i.width?rC(o):i.width||"",minWidth:i.minWidth||""}}))}return ln("colgroup",{},...t)}function rC(n){return null==n?4:n}function lC(n,o){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return o&&n.liquid&&null==n.maxHeight&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function Eg(n){return ln("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function Zd(n){let{stickyHeaderDates:o}=n;return(null==o||"auto"===o)&&(o="auto"===n.height||"auto"===n.viewHeight),o}function Dm(n){let{stickyFooterScrollbar:o}=n;return(null==o||"auto"===o)&&(o="auto"===n.height||"auto"===n.viewHeight),o}class Sg extends ns{constructor(){super(...arguments),this.processCols=zi(o=>o,oC),this.renderMicroColGroup=zi(sC),this.scrollerRefs=new Kl,this.scrollerElRefs=new Kl(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:o,state:t,context:i}=this,s=o.sections||[],p=this.processCols(o.cols),w=this.renderMicroColGroup(p,t.shrinkWidth),Q=function aC(n,o){let t=["fc-scrollgrid",o.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}(o.liquid,i);o.collapsibleWidth&&Q.push("fc-scrollgrid-collapsible");let $e,Ce=s.length,qe=0,$t=[],jt=[],Gt=[];for(;qe<Ce&&"header"===($e=s[qe]).type;)$t.push(this.renderSection($e,w,!0)),qe+=1;for(;qe<Ce&&"body"===($e=s[qe]).type;)jt.push(this.renderSection($e,w,!1)),qe+=1;for(;qe<Ce&&"footer"===($e=s[qe]).type;)Gt.push(this.renderSection($e,w,!0)),qe+=1;let fn=!A0();const Rn={role:"rowgroup"};return ln("table",{role:"grid",className:Q.join(" "),style:{height:o.height}},Boolean(!fn&&$t.length)&&ln("thead",Rn,...$t),Boolean(!fn&&jt.length)&&ln("tbody",Rn,...jt),Boolean(!fn&&Gt.length)&&ln("tfoot",Rn,...Gt),fn&&ln("tbody",Rn,...$t,...jt,...Gt))}renderSection(o,t,i){return"outerContent"in o?ln(Ko,{key:o.key},o.outerContent):ln("tr",{key:o.key,role:"presentation",className:lC(o,this.props.liquid).join(" ")},this.renderChunkTd(o,t,o.chunk,i))}renderChunkTd(o,t,i,s){if("outerContent"in i)return i.outerContent;let{props:p}=this,{forceYScrollbars:w,scrollerClientWidths:Q,scrollerClientHeights:Ce}=this.state,qe=function jb(n,o){return null!=o.maxHeight||km(n,o)}(p,o),$e=km(p,o),$t=p.liquid?w?"scroll":qe?"auto":"hidden":"visible",jt=o.key,Gt=function iC(n,o,t,i){let{expandRows:s}=t;return"function"==typeof o.content?o.content(t):ln("table",{role:"presentation",className:[o.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:s?t.clientHeight:""}},t.tableColGroupNode,ln(i?"thead":"tbody",{role:"presentation"},"function"==typeof o.rowContent?o.rowContent(t):o.rowContent))}(o,i,{tableColGroupNode:t,tableMinWidth:"",clientWidth:p.collapsibleWidth||void 0===Q[jt]?null:Q[jt],clientHeight:void 0!==Ce[jt]?Ce[jt]:null,expandRows:o.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},s);return ln(s?"th":"td",{ref:i.elRef,role:"presentation"},ln("div",{className:"fc-scroller-harness"+($e?" fc-scroller-harness-liquid":"")},ln(Em,{ref:this.scrollerRefs.createRef(jt),elRef:this.scrollerElRefs.createRef(jt),overflowY:$t,overflowX:p.liquid?"hidden":"visible",maxHeight:o.maxHeight,liquid:$e,liquidIsAbsolute:!0},Gt)))}_handleScrollerEl(o,t){let i=function cC(n,o){for(let t of n)if(t.key===o)return t;return null}(this.props.sections,t);i&&Tl(i.chunk.scrollerElRef,o)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return function Kb(n){for(let o of n)if("shrink"===o.width)return!0;return!1}(this.props.cols)?function Sm(n){let o=function wp(n,o){let t=n instanceof HTMLElement?[n]:n,i=[];for(let s=0;s<t.length;s+=1){let p=t[s].querySelectorAll(o);for(let w=0;w<p.length;w+=1)i.push(p[w])}return i}(n,".fc-scrollgrid-shrink"),t=0;for(let i of o)t=Math.max(t,C(i));return Math.ceil(t)}(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let o=function M0(){return Xf||(Xf=function Ob(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let o=O0(n);return document.body.removeChild(n),o}()),Xf}(),{scrollerRefs:t,scrollerElRefs:i}=this,s=!1,p={},w={};for(let Q in t.currentMap){let Ce=t.currentMap[Q];if(Ce&&Ce.needsYScrolling()){s=!0;break}}for(let Q of this.props.sections){let Ce=Q.key,qe=i.currentMap[Ce];if(qe){let $e=qe.parentNode;p[Ce]=Math.floor($e.getBoundingClientRect().width-(s?o.y:0)),w[Ce]=Math.floor($e.getBoundingClientRect().height)}}return{forceYScrollbars:s,scrollerClientWidths:p,scrollerClientHeights:w}}}Sg.addStateEquality({scrollerClientWidths:ro,scrollerClientHeights:ro});class Xp extends ns{constructor(){super(...arguments),this.handleEl=o=>{this.el=o,o&&V0(o,this.props.seg)}}render(){const{props:o,context:t}=this,{options:i}=t,{seg:s}=o,{eventRange:p}=s,{ui:w}=p,Q={event:new As(t,p.def,p.instance),view:t.viewApi,timeText:o.timeText,textColor:w.textColor,backgroundColor:w.backgroundColor,borderColor:w.borderColor,isDraggable:!o.disableDragging&&mg(s,t),isStartResizable:!o.disableResizing&&rm(s,t),isEndResizable:!o.disableResizing&&(n=s,n.isEnd&&n.eventRange.ui.durationEditable),isMirror:Boolean(o.isDragging||o.isResizing||o.isDateSelecting),isStart:Boolean(s.isStart),isEnd:Boolean(s.isEnd),isPast:Boolean(o.isPast),isFuture:Boolean(o.isFuture),isToday:Boolean(o.isToday),isSelected:Boolean(o.isSelected),isDragging:Boolean(o.isDragging),isResizing:Boolean(o.isResizing)};var n;return ln(ea,Object.assign({},o,{elRef:this.handleEl,elClasses:[...wI(Q),...s.eventRange.ui.classNames,...o.elClasses||[]],renderProps:Q,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:o.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount}))}componentDidUpdate(o){this.el&&this.props.seg!==o.seg&&V0(this.el,this.props.seg)}}class Mm extends ns{render(){let{props:o,context:t}=this,{options:i}=t,{seg:s}=o,{ui:p}=s.eventRange,Q=Cg(s,i.eventTimeFormat||o.defaultTimeFormat,t,o.defaultDisplayEventTime,o.defaultDisplayEventEnd);return ln(Xp,Object.assign({},o,{elTag:"a",elStyle:{borderColor:p.borderColor,backgroundColor:p.backgroundColor},elAttrs:vg(s,t),defaultGenerator:uC,timeText:Q}),(Ce,qe)=>ln(Ko,null,ln(Ce,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:qe.textColor}}),Boolean(qe.isStartResizable)&&ln("div",{className:"fc-event-resizer fc-event-resizer-start"}),Boolean(qe.isEndResizable)&&ln("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function uC(n){return ln("div",{className:"fc-event-main-frame"},n.timeText&&ln("div",{className:"fc-event-time"},n.timeText),ln("div",{className:"fc-event-title-container"},ln("div",{className:"fc-event-title fc-sticky"},n.event.title||ln(Ko,null,"\xa0"))))}const kg=n=>ln(_c.Consumer,null,o=>{let{options:t}=o,i={isAxis:n.isAxis,date:o.dateEnv.toDate(n.date),view:o.viewApi};return ln(ea,Object.assign({},n,{elTag:n.elTag||"div",renderProps:i,generatorName:"nowIndicatorContent",customGenerator:t.nowIndicatorContent,classNameGenerator:t.nowIndicatorClassNames,didMount:t.nowIndicatorDidMount,willUnmount:t.nowIndicatorWillUnmount}))}),dC=Ts({day:"numeric"});class pC extends ns{constructor(){super(...arguments),this.refineRenderProps=Xh(qb)}render(){let{props:o,context:t}=this,{options:i}=t,s=this.refineRenderProps({date:o.date,dateProfile:o.dateProfile,todayRange:o.todayRange,isMonthStart:o.isMonthStart||!1,showDayNumber:o.showDayNumber,extraRenderProps:o.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:i.monthStartFormat});return ln(ea,Object.assign({},o,{elClasses:[...Zp(s,t.theme),...o.elClasses||[]],elAttrs:Object.assign(Object.assign({},o.elAttrs),s.isDisabled?{}:{"data-date":Lp(o.date)}),renderProps:s,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:o.defaultGenerator,classNameGenerator:s.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount}))}}function Om(n){return Boolean(n.dayCellContent||wl("dayCellContent",n))}function qb(n){let{date:o,dateEnv:t,dateProfile:i,isMonthStart:s}=n,p=qf(o,n.todayRange,null,i),w=n.showDayNumber?t.format(o,s?n.monthStartFormat:dC):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(o),view:n.viewApi},p),{isMonthStart:s,dayNumberText:w}),n.extraRenderProps)}class Pm extends ns{render(){let{props:o}=this,{seg:t}=o;return ln(Xp,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:$b,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:o.isPast,isFuture:o.isFuture,isToday:o.isToday,disableDragging:!0,disableResizing:!0})}}function $b(n){let{title:o}=n.event;return o&&ln("div",{className:"fc-event-title"},n.event.title)}function Dr(n){return ln("div",{className:`fc-${n}`})}const Lm=n=>ln(_c.Consumer,null,o=>{let{dateEnv:t,options:i}=o,{date:s}=n,p=i.weekNumberFormat||n.defaultFormat,w=t.computeWeekNumber(s),Q=t.format(s,p);return ln(ea,Object.assign({},n,{renderProps:{num:w,text:Q,date:s},generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:Xb,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount}))});function Xb(n){return n.text}class hC extends ns{constructor(){super(...arguments),this.state={titleId:Jl()},this.handleRootEl=o=>{this.rootEl=o,this.props.elRef&&Tl(this.props.elRef,o)},this.handleDocumentMouseDown=o=>{const t=qh(o);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=o=>{"Escape"===o.key&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:o}=this.props;o&&o()}}render(){let{theme:o,options:t}=this.context,{props:i,state:s}=this,p=["fc-popover",o.getClass("popover")].concat(i.extraClassNames||[]);return function mp(n,o){var t=ln(Uh,{__v:n,i:o});return t.containerInfo=o,t}(ln("div",Object.assign({},i.extraAttrs,{id:i.id,className:p.join(" "),"aria-labelledby":s.titleId,ref:this.handleRootEl}),ln("div",{className:"fc-popover-header "+o.getClass("popoverHeader")},ln("span",{className:"fc-popover-title",id:s.titleId},i.title),ln("span",{className:"fc-popover-close "+o.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),ln("div",{className:"fc-popover-body "+o.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:o}=this.context,{alignmentEl:t,alignGridTop:i}=this.props,{rootEl:s}=this,p=function Sd(n){let o=dg(n),t=n.getBoundingClientRect();for(let i of o){let s=Wf(t,i.getBoundingClientRect());if(!s)return null;t=s}return t}(t);if(p){let w=s.getBoundingClientRect(),Q=i?Gr(t,".fc-scrollgrid").getBoundingClientRect().top:p.top,Ce=o?p.right-w.width:p.left;Q=Math.max(Q,10),Ce=Math.min(Ce,document.documentElement.clientWidth-10-w.width),Ce=Math.max(Ce,10);let qe=s.offsetParent.getBoundingClientRect();bu(s,{top:Q-qe.top,left:Ce-qe.left})}}}class ey extends al{constructor(){super(...arguments),this.handleRootEl=o=>{this.rootEl=o,o?this.context.registerInteractiveComponent(this,{el:o,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:o,dateEnv:t}=this.context,{props:i}=this,{startDate:s,todayRange:p,dateProfile:w}=i,Q=t.format(s,o.dayPopoverFormat);return ln(pC,{elRef:this.handleRootEl,date:s,dateProfile:w,todayRange:p},(Ce,qe,$e)=>ln(hC,{elRef:$e.ref,id:i.id,title:Q,extraClassNames:["fc-more-popover"].concat($e.className||[]),extraAttrs:$e,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},Om(o)&&ln(Ce,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(o,t,i,s){let{rootEl:p,props:w}=this;return o>=0&&o<i&&t>=0&&t<s?{dateProfile:w.dateProfile,dateSpan:Object.assign({allDay:!w.forceTimed,range:{start:w.startDate,end:w.endDate}},w.extraDateSpan),dayEl:p,rect:{left:0,top:0,right:i,bottom:s},layer:1}:null}}class Nm extends ns{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Jl()},this.handleLinkEl=o=>{this.linkEl=o,this.props.elRef&&Tl(this.props.elRef,o)},this.handleClick=o=>{let{props:t,context:i}=this,{moreLinkClick:s}=i.options,p=Nu(t).start;function w(Q){let{def:Ce,instance:qe,range:$e}=Q.eventRange;return{event:new As(i,Ce,qe),start:i.dateEnv.toDate($e.start),end:i.dateEnv.toDate($e.end),isStart:Q.isStart,isEnd:Q.isEnd}}"function"==typeof s&&(s=s({date:p,allDay:Boolean(t.allDayDate),allSegs:t.allSegs.map(w),hiddenSegs:t.hiddenSegs.map(w),jsEvent:o,view:i.viewApi})),s&&"popover"!==s?"string"==typeof s&&i.calendarApi.zoomTo(p,s):this.setState({isPopoverOpen:!0})},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:o,state:t}=this;return ln(_c.Consumer,null,i=>{let{viewApi:s,options:p,calendarApi:w}=i,{moreLinkText:Q}=p,{moreCnt:Ce}=o,qe=Nu(o),$e="function"==typeof Q?Q.call(w,Ce):`+${Ce} ${Q}`,$t=m(p.moreLinkHint,[Ce],$e),jt={num:Ce,shortText:`+${Ce}`,text:$e,view:s};return ln(Ko,null,Boolean(o.moreCnt)&&ln(ea,{elTag:o.elTag||"a",elRef:this.handleLinkEl,elClasses:[...o.elClasses||[],"fc-more-link"],elStyle:o.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},o.elAttrs),kp(this.handleClick)),{title:$t,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:jt,generatorName:"moreLinkContent",customGenerator:p.moreLinkContent,defaultGenerator:o.defaultGenerator||gC,classNameGenerator:p.moreLinkClassNames,didMount:p.moreLinkDidMount,willUnmount:p.moreLinkWillUnmount},o.children),t.isPopoverOpen&&ln(ey,{id:t.popoverId,startDate:qe.start,endDate:qe.end,dateProfile:o.dateProfile,todayRange:o.todayRange,extraDateSpan:o.extraDateSpan,parentEl:this.parentEl,alignmentEl:o.alignmentElRef?o.alignmentElRef.current:this.linkEl,alignGridTop:o.alignGridTop,forceTimed:o.forceTimed,onClose:this.handlePopoverClose},o.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Gr(this.linkEl,".fc-view-harness"))}}function gC(n){return n.text}function Nu(n){if(n.allDayDate)return{start:n.allDayDate,end:Js(n.allDayDate,1)};let{hiddenSegs:o}=n;return{start:fC(o),end:mC(o)}}function fC(n){return n.reduce(ty).eventRange.range.start}function ty(n,o){return n.eventRange.range.start<o.eventRange.range.start?n:o}function mC(n){return n.reduce(ny).eventRange.range.end}function ny(n,o){return n.eventRange.range.end>o.eventRange.range.end?n:o}class Ud extends ns{render(){let{props:o,context:t}=this,{options:i}=t,s={view:t.viewApi};return ln(ea,Object.assign({},o,{elTag:o.elTag||"div",elClasses:[...iy(o.viewSpec),...o.elClasses||[]],renderProps:s,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount}),()=>o.children)}}function iy(n){return[`fc-${n.type}-view`,"fc-view"]}const Fm={id:String,defaultAllDay:Boolean,url:String,format:String,events:Un,eventDataTransform:Un,success:Un,failure:Un};function Dg(n,o,t=cl(o)){let i;if("string"==typeof n?i={url:n}:"function"==typeof n||Array.isArray(n)?i={events:n}:"object"==typeof n&&n&&(i=n),i){let{refined:s,extra:p}=ng(i,t),w=function oy(n,o){let t=o.pluginHooks.eventSourceDefs;for(let i=t.length-1;i>=0;i-=1){let p=t[i].parseMeta(n);if(p)return{sourceDefId:i,meta:p}}return null}(s,o);if(w)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:s.defaultAllDay,eventDataTransform:s.eventDataTransform,success:s.success,failure:s.failure,publicId:s.id||"",sourceId:yl(),sourceDefId:w.sourceDefId,meta:w.meta,ui:Bp(s,o),extendedProps:p}}return null}function cl(n){return Object.assign(Object.assign(Object.assign({},Eu),Fm),n.pluginHooks.eventSourceRefiners)}class El extends class ql{constructor(){this.handlers=[]}set(o){this.currentValue=o;for(let t of this.handlers)t(o)}subscribe(o){this.handlers.push(o),void 0!==this.currentValue&&o(this.currentValue)}}{constructor(){super(...arguments),this.map=new Map}handle(o){const{map:t}=this;let i=!1;o.isActive?(t.set(o.id,o),i=!0):t.has(o.id)&&(t.delete(o.id),i=!0),i&&this.set(t)}}const Sl=[],Bm={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},Zm=Object.assign(Object.assign({},Bm),{buttonHints:{prev:"Previous $0",next:"Next $0",today:(n,o)=>"day"===o?"Today":`This ${n}`},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:n=>`Show ${n} more event${1===n?"":"s"}`});function CC(n){let o=n.length>0?n[0].code:"en",t=Sl.concat(n),i={en:Zm};for(let s of t)i[s.code]=s;return{map:i,defaultCode:o}}function Um(n,o){return"object"!=typeof n||Array.isArray(n)?function sy(n,o){let t=[].concat(n||[]),i=function ry(n,o){for(let t=0;t<n.length;t+=1){let i=n[t].toLocaleLowerCase().split("-");for(let s=i.length;s>0;s-=1){let p=i.slice(0,s).join("-");if(o[p])return o[p]}}return null}(t,o)||Zm;return Mg(n,t,i)}(n,o):Mg(n.code,[n.code],n)}function Mg(n,o,t){let i=mi([Bm,t],["buttonText"]);delete i.code;let{week:s}=i;return delete i.week,{codeArg:n,codes:o,week:s,simpleNumberFormat:new Intl.NumberFormat(n),options:i}}function Ra(n){return{id:yl(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function ly(n,o){return{premiumReleaseDate:bC(n.premiumReleaseDate,o.premiumReleaseDate),reducers:n.reducers.concat(o.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(o.isLoadingFuncs),contextInit:n.contextInit.concat(o.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),o.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(o.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),o.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(o.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(o.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(o.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(o.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(o.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(o.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),o.views),viewPropsTransformers:n.viewPropsTransformers.concat(o.viewPropsTransformers),isPropsValid:o.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(o.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(o.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(o.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(o.calendarInteractions),componentInteractions:n.componentInteractions.concat(o.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),o.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(o.eventSourceDefs),cmdFormatter:o.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(o.recurringTypes),namedTimeZonedImpl:o.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||o.initialView,elementDraggingImpl:n.elementDraggingImpl||o.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),o.optionChangeHandlers),scrollGridImpl:o.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),o.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),o.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),o.propSetHandlers)}}function bC(n,o){return void 0===n?o:void 0===o?n:new Date(Math.max(n.valueOf(),o.valueOf()))}class vc extends Jp{}function Hm(n,o,t,i){if(o[n])return o[n];let s=function yC(n,o,t,i){let s=t[n],p=i[n],w=$e=>s&&null!==s[$e]?s[$e]:p&&null!==p[$e]?p[$e]:null,Q=w("component"),Ce=w("superType"),qe=null;if(Ce){if(Ce===n)throw new Error("Can't have a custom view type that references itself");qe=Hm(Ce,o,t,i)}return!Q&&qe&&(Q=qe.component),Q?{type:n,component:Q,defaults:Object.assign(Object.assign({},qe?qe.defaults:{}),s?s.rawOptions:{}),overrides:Object.assign(Object.assign({},qe?qe.overrides:{}),p?p.rawOptions:{})}:null}(n,o,t,i);return s&&(o[n]=s),s}function Vm(n){return ki(n,zm)}function zm(n){let o="function"==typeof n?{component:n}:n,{component:t}=o;return o.content&&(t=function Pg(n){return o=>ln(_c.Consumer,null,t=>ln(ea,{elTag:"div",elClasses:iy(t.viewSpec),renderProps:Object.assign(Object.assign({},o),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}(o)),{superType:o.type,component:t,rawOptions:o}}function Jm(n,o,t,i){let s=Vm(n),p=Vm(o.views),w=function Og(n,o){let i,t={};for(i in n)Hm(i,t,n,o);for(i in o)Hm(i,t,n,o);return t}(s,p);return ki(w,Q=>function Qm(n,o,t,i,s){let p=n.overrides.duration||n.defaults.duration||i.duration||t.duration,w=null,Q="",Ce="",qe={};if(p&&(w=function xC(n){let o=JSON.stringify(n),t=Lg[o];return void 0===t&&(t=H(n),Lg[o]=t),t}(p),w)){let jt=Gn(w);Q=jt.unit,1===jt.value&&(Ce=Q,qe=o[Q]?o[Q].rawOptions:{})}let $e=jt=>{let Gt=jt.buttonText||{},fn=n.defaults.buttonTextKey;return null!=fn&&null!=Gt[fn]?Gt[fn]:null!=Gt[n.type]?Gt[n.type]:null!=Gt[Ce]?Gt[Ce]:null},$t=jt=>{let Gt=jt.buttonHints||{},fn=n.defaults.buttonTextKey;return null!=fn&&null!=Gt[fn]?Gt[fn]:null!=Gt[n.type]?Gt[n.type]:null!=Gt[Ce]?Gt[Ce]:null};return{type:n.type,component:n.component,duration:w,durationUnit:Q,singleUnit:Ce,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},qe),n.overrides),buttonTextOverride:$e(i)||$e(t)||n.overrides.buttonText,buttonTextDefault:$e(s)||n.defaults.buttonText||$e(Np)||n.type,buttonTitleOverride:$t(i)||$t(t)||n.overrides.buttonHint,buttonTitleDefault:$t(s)||n.defaults.buttonHint||$t(Np)}}(Q,p,o,t,i))}vc.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},vc.prototype.baseIconClass="fc-icon",vc.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},vc.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},vc.prototype.iconOverrideOption="buttonIcons",vc.prototype.iconOverrideCustomButtonOption="icon",vc.prototype.iconOverridePrefix="fc-icon-";let Lg={};function EC(n){for(let o in n)if(n[o].isFetching)return!0;return!1}function SC(n,o,t,i){let s={};for(let p of o)s[p.sourceId]=p;return t&&(s=kC(s,t,i)),Object.assign(Object.assign({},n),s)}function kC(n,o,t){return Gm(n,hi(n,i=>function py(n,o,t){return MC(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||o.start<n.fetchRange.start||o.end>n.fetchRange.end:!n.latestFetchId}(i,o,t)),o,!1,t)}function Gm(n,o,t,i,s){let p={};for(let w in n){let Q=n[w];p[w]=o[w]?hy(Q,t,i,s):Q}return p}function hy(n,o,t,i){let{options:s,calendarApi:p}=i,w=i.pluginHooks.eventSourceDefs[n.sourceDefId],Q=yl();return w.fetch({eventSource:n,range:o,isRefetch:t,context:i},Ce=>{let{rawEvents:qe}=Ce;s.eventSourceSuccess&&(qe=s.eventSourceSuccess.call(p,qe,Ce.response)||qe),n.success&&(qe=n.success.call(p,qe,Ce.response)||qe),i.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:Q,fetchRange:o,rawEvents:qe})},Ce=>{let qe=!1;s.eventSourceFailure&&(s.eventSourceFailure.call(p,Ce),qe=!0),n.failure&&(n.failure(Ce),qe=!0),qe||console.warn(Ce.message,Ce),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:Q,fetchRange:o,error:Ce})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:Q})}function DC(n,o){return hi(n,t=>MC(t,o))}function MC(n,o){return!o.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function my(n,o){switch(o.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return o.selection;default:return n}}function _y(n,o){switch(o.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return o.eventInstanceId;default:return n}}function Cy(n,o){let t;switch(o.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=o.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function vy(n,o){let t;switch(o.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=o.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function by(n,o,t,i,s){return{header:n.headerToolbar?Wm(n.headerToolbar,n,o,t,i,s):null,footer:n.footerToolbar?Wm(n.footerToolbar,n,o,t,i,s):null}}function Wm(n,o,t,i,s,p){let w={},Q=[],Ce=!1;for(let qe in n){let $t=OC(n[qe],o,t,i,s,p);w[qe]=$t.widgets,Q.push(...$t.viewsWithButtons),Ce=Ce||$t.hasTitle}return{sectionWidgets:w,viewsWithButtons:Q,hasTitle:Ce}}function OC(n,o,t,i,s,p){let w="rtl"===o.direction,Q=o.customButtons||{},Ce=t.buttonText||{},qe=o.buttonText||{},$e=t.buttonHints||{},$t=o.buttonHints||{},jt=n?n.split(" "):[],Gt=[],fn=!1;return{widgets:jt.map(Fn=>Fn.split(",").map(jn=>{if("title"===jn)return fn=!0,{buttonName:jn};let Ti,no,Qi,wo,hs,Ps;if(Ti=Q[jn])Qi=ko=>{Ti.click&&Ti.click.call(ko.target,ko,ko.target)},(wo=i.getCustomButtonIconClass(Ti))||(wo=i.getIconClass(jn,w))||(hs=Ti.text),Ps=Ti.hint||Ti.text;else if(no=s[jn]){Gt.push(jn),Qi=()=>{p.changeView(jn)},(hs=no.buttonTextOverride)||(wo=i.getIconClass(jn,w))||(hs=no.buttonTextDefault);let ko=no.buttonTextOverride||no.buttonTextDefault;Ps=m(no.buttonTitleOverride||no.buttonTitleDefault||o.viewHint,[ko,jn],ko)}else if(p[jn])if(Qi=()=>{p[jn]()},(hs=Ce[jn])||(wo=i.getIconClass(jn,w))||(hs=qe[jn]),"prevYear"===jn||"nextYear"===jn){let ko="prevYear"===jn?"prev":"next";Ps=m($e[ko]||$t[ko],[qe.year||"year","year"],qe[jn])}else Ps=ko=>m($e[jn]||$t[jn],[qe[ko]||ko,ko],qe[jn]);return{buttonName:jn,buttonClick:Qi,buttonIcon:wo,buttonText:hs,buttonHint:Ps}})),viewsWithButtons:Gt,hasTitle:fn}}class PC{constructor(o,t,i){this.type=o,this.getCurrentData=t,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(o){return this.getCurrentData().options[o]}}function Rg(n,o){let t=lo(o.getCurrentData().eventSources);if(1===t.length&&1===n.length&&Array.isArray(t[0]._raw)&&Array.isArray(n[0]))return void o.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});let i=[];for(let s of n){let p=!1;for(let w=0;w<t.length;w+=1)if(t[w]._raw===s){t.splice(w,1),p=!0;break}p||i.push(s)}for(let s of t)o.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:s.sourceId});for(let s of i)o.calendarApi.addEventSource(s)}const ZC=[Ra({name:"array-event-source",eventSourceDefs:[{ignoreRange:!0,parseMeta:n=>Array.isArray(n.events)?n.events:null,fetch(n,o){o({rawEvents:n.eventSource.meta})}}]}),Ra({name:"func-event-source",eventSourceDefs:[{parseMeta:n=>"function"==typeof n.events?n.events:null,fetch(n,o,t){const{dateEnv:i}=n.context;!function pg(n,o,t){let i=!1,s=function(Q){i||(i=!0,o(Q))},p=function(Q){i||(i=!0,t(Q))},w=n(s,p);w&&"function"==typeof w.then&&w.then(s,p)}(n.eventSource.meta.bind(null,Dd(n.range,i)),p=>o({rawEvents:p}),t)}}]}),Ra({name:"json-event-source",eventSourceRefiners:{method:String,extraParams:Un,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:n=>!n.url||"json"!==n.format&&n.format?null:{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam},fetch(n,o,t){const{meta:i}=n.eventSource,s=function FC(n,o,t){let p,w,Q,Ce,{dateEnv:i,options:s}=t,qe={};return p=n.startParam,null==p&&(p=s.startParam),w=n.endParam,null==w&&(w=s.endParam),Q=n.timeZoneParam,null==Q&&(Q=s.timeZoneParam),Ce="function"==typeof n.extraParams?n.extraParams():n.extraParams||{},Object.assign(qe,Ce),qe[p]=i.formatIso(o.start),qe[w]=i.formatIso(o.end),"local"!==i.timeZone&&(qe[Q]=i.timeZone),qe}(i,n.range,n.context);(function wm(n,o,t){const i={method:n=n.toUpperCase()};return"GET"===n?o+=(-1===o.indexOf("?")?"?":"&")+new URLSearchParams(t):(i.body=new URLSearchParams(t),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(o,i).then(s=>{if(s.ok)return s.json().then(p=>[p,s],()=>{throw new $p("Failure parsing JSON",s)});throw new $p("Request failed",s)})})(i.method,i.url,s).then(([p,w])=>{o({rawEvents:p,response:w})},t)}}]}),Ra({name:"simple-recurring-event",recurringTypes:[{parse(n,o){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let i,t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?o.createMarker(n.startRecur):null,endRecur:n.endRecur?o.createMarker(n.endRecur):null};return n.duration&&(i=n.duration),!i&&n.startTime&&n.endTime&&(i=function Zt(n,o){return{years:n.years-o.years,months:n.months-o.months,days:n.days-o.days,milliseconds:n.milliseconds-o.milliseconds}}(n.endTime,n.startTime)),{allDayGuess:Boolean(!n.startTime&&!n.endTime),duration:i,typeData:t}}return null},expand(n,o,t){let i=Su(o,{start:n.startRecur,end:n.endRecur});return i?function Vd(n,o,t,i){let s=n?po(n):null,p=ps(t.start),w=t.end,Q=[];for(;p<w;){let Ce;(!s||s[p.getUTCDay()])&&(Ce=o?i.add(p,o):p,Q.push(Ce)),p=Js(p,1)}return Q}(n.daysOfWeek,n.startTime,i,t):[]}}],eventRefiners:{daysOfWeek:Un,startTime:H,endTime:H,duration:H,startRecur:Un,endRecur:Un}}),Ra({name:"change-handler",optionChangeHandlers:{events(n,o){Rg([n],o)},eventSources:Rg}}),Ra({name:"misc",isLoadingFuncs:[n=>EC(n.eventSources)],propSetHandlers:{dateProfile:function kI(n,o){o.emitter.trigger("datesSet",Object.assign(Object.assign({},Dd(n.activeRange,o.dateEnv)),{view:o.viewApi}))},eventStore:function BC(n,o){let{emitter:t}=o;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",ku(n,o))}}})];class DI{constructor(o,t){this.runTaskOption=o,this.drainedOption=t,this.queue=[],this.delayedRunner=new wg(this.drain.bind(this))}request(o,t){this.queue.push(o),this.delayedRunner.request(t)}pause(o){this.delayedRunner.pause(o)}resume(o,t){this.delayedRunner.resume(o,t)}drain(){let{queue:o}=this;for(;o.length;){let i,t=[];for(;i=o.shift();)this.runTask(i),t.push(i);this.drained(t)}}runTask(o){this.runTaskOption&&this.runTaskOption(o)}drained(o){this.drainedOption&&this.drainedOption(o)}}function Ji(n,o,t){let i;return i=/^(year|month)$/.test(n.currentRangeUnit)?n.currentRange:n.activeRange,t.formatRange(i.start,i.end,Ts(o.titleFormat||function Ey(n){let{currentRangeUnit:o}=n;if("year"===o)return{year:"numeric"};if("month"===o)return{year:"numeric",month:"long"};let t=kf(n.currentRange.start,n.currentRange.end);return null!==t&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:o.titleRangeSeparator})}class Sy{constructor(o){this.computeCurrentViewData=zi(this._computeCurrentViewData),this.organizeRawLocales=zi(CC),this.buildLocale=zi(Um),this.buildPluginHooks=function vC(){let t,n=[],o=[];return(i,s)=>((!t||!aa(i,n)||!aa(s,o))&&(t=function ay(n,o){let t={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function s(p){for(let w of p){const Q=w.name,Ce=t[Q];void 0===Ce?(t[Q]=w.id,s(w.deps),i=ly(i,w)):Ce!==w.id&&console.warn(`Duplicate plugin '${Q}'`)}}return n&&s(n),s(o),i}(i,s)),n=i,o=s,t)}(),this.buildDateEnv=zi(ky),this.buildTheme=zi(zd),this.parseToolbars=zi(by),this.buildViewSpecs=zi(Jm),this.buildDateProfileGenerator=Xh(Dy),this.buildViewApi=zi(Ng),this.buildViewUiProps=Xh(MI),this.buildEventUiBySource=zi(Fg,ro),this.buildEventUiBases=zi(nr),this.parseContextBusinessHours=Xh(UC),this.buildTitle=zi(Ji),this.emitter=new Hp,this.actionRunner=new DI(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=jt=>{this.actionRunner.request(jt)},this.props=o,this.actionRunner.pause();let t={},i=this.computeOptionsData(o.optionOverrides,t,o.calendarApi),s=i.calendarOptions.initialView||i.pluginHooks.initialView,p=this.computeCurrentViewData(s,i,o.optionOverrides,t);o.calendarApi.currentDataManager=this,this.emitter.setThisContext(o.calendarApi),this.emitter.setOptions(p.options);let w=function Fb(n,o){let t=n.initialDate;return null!=t?o.createMarker(t):Gp(n.now,o)}(i.calendarOptions,i.dateEnv),Q=p.dateProfileGenerator.build(w);pa(Q.activeRange,w)||(w=Q.currentRange.start);let Ce={dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:o.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let jt of i.pluginHooks.contextInit)jt(Ce);let qe=function wC(n,o,t){let i=o?o.activeRange:null;return SC({},function fy(n,o){let t=cl(o),i=[].concat(n.eventSources||[]),s=[];n.initialEvents&&i.unshift(n.initialEvents),n.events&&i.unshift(n.events);for(let p of i){let w=Dg(p,o,t);w&&s.push(w)}return s}(n,t),i,t)}(i.calendarOptions,Q,Ce),$e={dynamicOptionOverrides:t,currentViewType:s,currentDate:w,dateProfile:Q,businessHours:this.parseContextBusinessHours(Ce),eventSources:qe,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(Ce).selectionConfig},$t=Object.assign(Object.assign({},Ce),$e);for(let jt of i.pluginHooks.reducers)Object.assign($e,jt(null,null,$t));Bg($e,Ce)&&this.emitter.trigger("loading",!0),this.state=$e,this.updateData(),this.actionRunner.resume()}resetOptions(o,t){let{props:i}=this;void 0===t?i.optionOverrides=o:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),o),this.optionsForRefining.push(...t)),(void 0===t||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(o){let{props:t,state:i,emitter:s}=this,p=function TC(n,o){return"SET_OPTION"===o.type?Object.assign(Object.assign({},n),{[o.optionName]:o.rawOptionValue}):n}(i.dynamicOptionOverrides,o),w=this.computeOptionsData(t.optionOverrides,p,t.calendarApi),Q=function IC(n,o){return"CHANGE_VIEW_TYPE"===o.type&&(n=o.viewType),n}(i.currentViewType,o),Ce=this.computeCurrentViewData(Q,w,t.optionOverrides,p);t.calendarApi.currentDataManager=this,s.setThisContext(t.calendarApi),s.setOptions(Ce.options);let qe={dateEnv:w.dateEnv,options:w.calendarOptions,pluginHooks:w.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:s,getCurrentData:this.getCurrentData},{currentDate:$e,dateProfile:$t}=i;this.data&&this.data.dateProfileGenerator!==Ce.dateProfileGenerator&&($t=Ce.dateProfileGenerator.build($e)),$e=function Nb(n,o){return"CHANGE_DATE"===o.type?o.dateMarker:n}($e,o),$t=function AC(n,o,t,i){let s;switch(o.type){case"CHANGE_VIEW_TYPE":return i.build(o.dateMarker||t);case"CHANGE_DATE":return i.build(o.dateMarker);case"PREV":if(s=i.buildPrev(n,t),s.isValid)return s;break;case"NEXT":if(s=i.buildNext(n,t),s.isValid)return s}return n}($t,o,$e,Ce.dateProfileGenerator),("PREV"===o.type||"NEXT"===o.type||!pa($t.currentRange,$e))&&($e=$t.currentRange.start);let jt=function cy(n,o,t,i){let s=t?t.activeRange:null;switch(o.type){case"ADD_EVENT_SOURCES":return SC(n,o.sources,s,i);case"REMOVE_EVENT_SOURCE":return function dy(n,o){return hi(n,t=>t.sourceId!==o)}(n,o.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?kC(n,s,i):n;case"FETCH_EVENT_SOURCES":return Gm(n,o.sourceIds?po(o.sourceIds):DC(n,i),s,o.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function gy(n,o,t,i){let s=n[o];return s&&t===s.latestFetchId?Object.assign(Object.assign({},n),{[o]:Object.assign(Object.assign({},s),{isFetching:!1,fetchRange:i})}):n}(n,o.sourceId,o.fetchId,o.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}(i.eventSources,o,$t,qe),Gt=function j0(n,o,t,i,s){switch(o.type){case"RECEIVE_EVENTS":return function K0(n,o,t,i,s,p){if(o&&t===o.latestFetchId){let w=Id(bm(s,o,p),o,p);return i&&(w=Gc(w,i,p)),Zf(X0(n,o.sourceId),w)}return n}(n,t[o.sourceId],o.fetchId,o.fetchRange,o.rawEvents,s);case"RESET_RAW_EVENTS":return function q0(n,o,t,i,s){const{defIdMap:p,instanceIdMap:w}=function eC(n){const{defs:o,instances:t}=n,i={},s={};for(let p in o){const w=o[p],{publicId:Q}=w;Q&&(i[Q]=p)}for(let p in t){const Q=o[t[p].defId],{publicId:Ce}=Q;Ce&&(s[Ce]=p)}return{defIdMap:i,instanceIdMap:s}}(n);return Gc(Id(bm(t,o,s),o,s,!1,p,w),i,s)}(n,t[o.sourceId],o.rawEvents,i.activeRange,s);case"ADD_EVENTS":return function $0(n,o,t,i){return t&&(o=Gc(o,t,i)),Zf(n,o)}(n,o.eventStore,i?i.activeRange:null,s);case"RESET_EVENTS":return o.eventStore;case"MERGE_EVENTS":return Zf(n,o.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?Gc(n,i.activeRange,s):n;case"REMOVE_EVENTS":return function Td(n,o){let{defs:t,instances:i}=n,s={},p={};for(let w in t)o.defs[w]||(s[w]=t[w]);for(let w in i)!o.instances[w]&&s[i[w].defId]&&(p[w]=i[w]);return{defs:s,instances:p}}(n,o.eventStore);case"REMOVE_EVENT_SOURCE":return X0(n,o.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Uf(n,p=>!p.sourceId);case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return n}}(i.eventStore,o,jt,$t,qe),Rn=EC(jt)&&!Ce.options.progressiveEventRendering&&i.renderableEventStore||Gt,{eventUiSingleBase:Fn,selectionConfig:jn}=this.buildViewUiProps(qe),Ti=this.buildEventUiBySource(jt),Qi={dynamicOptionOverrides:p,currentViewType:Q,currentDate:$e,dateProfile:$t,eventSources:jt,eventStore:Gt,renderableEventStore:Rn,selectionConfig:jn,eventUiBases:this.buildEventUiBases(Rn.defs,Fn,Ti),businessHours:this.parseContextBusinessHours(qe),dateSelection:my(i.dateSelection,o),eventSelection:_y(i.eventSelection,o),eventDrag:Cy(i.eventDrag,o),eventResize:vy(i.eventResize,o)},wo=Object.assign(Object.assign({},qe),Qi);for(let ko of w.pluginHooks.reducers)Object.assign(Qi,ko(i,o,wo));let hs=Bg(i,qe),Ps=Bg(Qi,qe);!hs&&Ps?s.trigger("loading",!0):hs&&!Ps&&s.trigger("loading",!1),this.state=Qi,t.onAction&&t.onAction(o)}updateData(){let{props:o,state:t}=this,i=this.data,s=this.computeOptionsData(o.optionOverrides,t.dynamicOptionOverrides,o.calendarApi),p=this.computeCurrentViewData(t.currentViewType,s,o.optionOverrides,t.dynamicOptionOverrides),w=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,p.options,s.dateEnv),calendarApi:o.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},s),p),t),Q=s.pluginHooks.optionChangeHandlers,Ce=i&&i.calendarOptions,qe=s.calendarOptions;if(Ce&&Ce!==qe){Ce.timeZone!==qe.timeZone&&(t.eventSources=w.eventSources=function uy(n,o,t){let i=o?o.activeRange:null;return Gm(n,DC(n,t),i,!0,t)}(w.eventSources,t.dateProfile,w),t.eventStore=w.eventStore=xm(w.eventStore,i.dateEnv,w.dateEnv),t.renderableEventStore=w.renderableEventStore=xm(w.renderableEventStore,i.dateEnv,w.dateEnv));for(let $e in Q)(-1!==this.optionsForHandling.indexOf($e)||Ce[$e]!==qe[$e])&&Q[$e](qe[$e],w)}this.optionsForHandling=[],o.onData&&o.onData(w)}computeOptionsData(o,t,i){if(!this.optionsForRefining.length&&o===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:s,pluginHooks:p,localeDefaults:w,availableLocaleData:Q,extra:Ce}=this.processRawCalendarOptions(o,t);HC(Ce);let qe=this.buildDateEnv(s.timeZone,s.locale,s.weekNumberCalculation,s.firstDay,s.weekText,p,Q,s.defaultRangeSeparator),$e=this.buildViewSpecs(p.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,w),$t=this.buildTheme(s,p),jt=this.parseToolbars(s,this.stableOptionOverrides,$t,$e,i);return this.stableCalendarOptionsData={calendarOptions:s,pluginHooks:p,dateEnv:qe,viewSpecs:$e,theme:$t,toolbarConfig:jt,localeDefaults:w,availableRawLocales:Q.map}}processRawCalendarOptions(o,t){let{locales:i,locale:s}=Ff([Np,o,t]),p=this.organizeRawLocales(i),Q=this.buildLocale(s||p.defaultCode,p.map).options,Ce=this.buildPluginHooks(o.plugins||[],ZC),qe=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},xb),wu),C0),Ce.listenerRefiners),Ce.optionRefiners),$e={},$t=Ff([Np,Q,o,t]),jt={},Gt=this.currentCalendarOptionsInput,fn=this.currentCalendarOptionsRefined,Rn=!1;for(let Fn in $t)-1===this.optionsForRefining.indexOf(Fn)&&($t[Fn]===Gt[Fn]||Qc[Fn]&&Fn in Gt&&Qc[Fn](Gt[Fn],$t[Fn]))?jt[Fn]=fn[Fn]:qe[Fn]?(jt[Fn]=qe[Fn]($t[Fn]),Rn=!0):$e[Fn]=Gt[Fn];return Rn&&(this.currentCalendarOptionsInput=$t,this.currentCalendarOptionsRefined=jt,this.stableOptionOverrides=o,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:Ce,availableLocaleData:p,localeDefaults:Q,extra:$e}}_computeCurrentViewData(o,t,i,s){let p=t.viewSpecs[o];if(!p)throw new Error(`viewType "${o}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:w,extra:Q}=this.processRawViewOptions(p,t.pluginHooks,t.localeDefaults,i,s);return HC(Q),{viewSpec:p,options:w,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:p.optionDefaults.dateProfileGeneratorClass,duration:p.duration,durationUnit:p.durationUnit,usesMinMaxTime:p.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:w.slotMinTime,slotMaxTime:w.slotMaxTime,showNonCurrentDates:w.showNonCurrentDates,dayCount:w.dayCount,dateAlignment:w.dateAlignment,dateIncrement:w.dateIncrement,hiddenDays:w.hiddenDays,weekends:w.weekends,nowInput:w.now,validRangeInput:w.validRange,visibleRangeInput:w.visibleRange,fixedWeekCount:w.fixedWeekCount}),viewApi:this.buildViewApi(o,this.getCurrentData,t.dateEnv)}}processRawViewOptions(o,t,i,s,p){let w=Ff([Np,o.optionDefaults,i,s,o.optionOverrides,p]),Q=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},xb),wu),C0),v0),t.listenerRefiners),t.optionRefiners),Ce={},qe=this.currentViewOptionsInput,$e=this.currentViewOptionsRefined,$t=!1,jt={};for(let Gt in w)w[Gt]===qe[Gt]||Qc[Gt]&&Qc[Gt](w[Gt],qe[Gt])?Ce[Gt]=$e[Gt]:(w[Gt]===this.currentCalendarOptionsInput[Gt]||Qc[Gt]&&Qc[Gt](w[Gt],this.currentCalendarOptionsInput[Gt])?Gt in this.currentCalendarOptionsRefined&&(Ce[Gt]=this.currentCalendarOptionsRefined[Gt]):Q[Gt]?Ce[Gt]=Q[Gt](w[Gt]):jt[Gt]=w[Gt],$t=!0);return $t&&(this.currentViewOptionsInput=w,this.currentViewOptionsRefined=Ce),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:jt}}}function ky(n,o,t,i,s,p,w,Q){let Ce=Um(o||w.defaultCode,w.map);return new zb({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:p.namedTimeZonedImpl,locale:Ce,weekNumberCalculation:t,firstDay:i,weekText:s,cmdFormatter:p.cmdFormatter,defaultSeparator:Q})}function zd(n,o){return new(o.themeClasses[n.themeSystem]||vc)(n)}function Dy(n){return new(n.dateProfileGeneratorClass||im)(n)}function Ng(n,o,t){return new PC(n,o,t)}function Fg(n){return ki(n,o=>o.ui)}function nr(n,o,t){let i={"":o};for(let s in n){let p=n[s];p.sourceId&&t[p.sourceId]&&(i[s]=t[p.sourceId])}return i}function MI(n){let{options:o}=n;return{eventUiSingleBase:Bp({display:o.eventDisplay,editable:o.editable,startEditable:o.eventStartEditable,durationEditable:o.eventDurationEditable,constraint:o.eventConstraint,overlap:"boolean"==typeof o.eventOverlap?o.eventOverlap:void 0,allow:o.eventAllow,backgroundColor:o.eventBackgroundColor,borderColor:o.eventBorderColor,textColor:o.eventTextColor,color:o.eventColor},n),selectionConfig:Bp({constraint:o.selectConstraint,overlap:"boolean"==typeof o.selectOverlap?o.selectOverlap:void 0,allow:o.selectAllow},n)}}function Bg(n,o){for(let t of o.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function UC(n){return function Jf(n,o){return Id(function Qf(n){let o;return o=!0===n?[{}]:Array.isArray(n)?n.filter(t=>t.daysOfWeek):"object"==typeof n&&n?[n]:[],o=o.map(t=>Object.assign(Object.assign({},zf),t)),o}(n),null,o)}(n.options.businessHours,n)}function HC(n,o){for(let t in n)console.warn(`Unknown option '${t}'`+(o?` for view '${o}'`:""))}class VC extends ns{render(){return ln("div",{className:"fc-toolbar-chunk"},...this.props.widgetGroups.map(t=>this.renderWidgetGroup(t)))}renderWidgetGroup(o){let{props:t}=this,{theme:i}=this.context,s=[],p=!0;for(let w of o){let{buttonName:Q,buttonClick:Ce,buttonText:qe,buttonIcon:$e,buttonHint:$t}=w;if("title"===Q)p=!1,s.push(ln("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let jt=Q===t.activeButton,Gt=!t.isTodayEnabled&&"today"===Q||!t.isPrevEnabled&&"prev"===Q||!t.isNextEnabled&&"next"===Q,fn=[`fc-${Q}-button`,i.getClass("button")];jt&&fn.push(i.getClass("buttonActive")),s.push(ln("button",{type:"button",title:"function"==typeof $t?$t(t.navUnit):$t,disabled:Gt,"aria-pressed":jt,className:fn.join(" "),onClick:Ce},qe||($e?ln("span",{className:$e}):"")))}}return s.length>1?ln("div",{className:p&&i.getClass("buttonGroup")||""},...s):s[0]}}class Ym extends ns{render(){let s,p,{model:o,extraClassName:t}=this.props,i=!1,w=o.sectionWidgets,Q=w.center;return w.left?(i=!0,s=w.left):s=w.start,w.right?(i=!0,p=w.right):p=w.end,ln("div",{className:[t||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",s||[]),this.renderSection("center",Q||[]),this.renderSection("end",p||[]))}renderSection(o,t){let{props:i}=this;return ln(VC,{key:o,widgetGroups:t,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}}class zC extends ns{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=o=>{this.el=o,Tl(this.props.elRef,o),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:o,state:t}=this,{aspectRatio:i}=o,p="",w="";return i?null!==t.availableWidth?p=t.availableWidth/i:w=1/i*100+"%":p=o.height||"",ln("div",{"aria-labelledby":o.labeledById,ref:this.handleEl,className:["fc-view-harness",i||o.liquid||o.height?"fc-view-harness-active":"fc-view-harness-passive"].join(" "),style:{height:p,paddingBottom:w}},o.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class JC extends Md{constructor(o){super(o),this.handleSegClick=(t,i)=>{let{component:s}=this,{context:p}=s,w=kd(i);if(w&&s.isValidSegDownEl(t.target)){let Q=Gr(t.target,".fc-event-forced-url"),Ce=Q?Q.querySelector("a[href]").href:"";p.emitter.trigger("eventClick",{el:i,event:new As(s.context,w.eventRange.def,w.eventRange.instance),jsEvent:t,view:p.viewApi}),Ce&&!t.defaultPrevented&&(window.location.href=Ce)}},this.destroy=Ql(o.el,"click",".fc-event",this.handleSegClick)}}class My extends Md{constructor(o){super(o),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,i)=>{kd(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",t,i))},this.handleSegLeave=(t,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,i))},this.removeHoverListeners=function xu(n,o,t,i){let s;return Ql(n,"mouseover",o,(p,w)=>{if(w!==s){s=w,t(p,w);let Q=Ce=>{s=null,i(Ce,w),w.removeEventListener("mouseleave",Q)};w.addEventListener("mouseleave",Q)}})}(o.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(o,t,i){let{component:s}=this,{context:p}=s,w=kd(i);(!t||s.isValidSegDownEl(t.target))&&p.emitter.trigger(o,{el:i,event:new As(p,w.eventRange.def,w.eventRange.instance),jsEvent:t,view:p.viewApi})}}class Oy extends Qp{constructor(){super(...arguments),this.buildViewContext=zi(Ka),this.buildViewPropTransformers=zi(eh),this.buildToolbarProps=zi(Py),this.headerRef={current:null},this.footerRef={current:null},this.interactionsStore={},this.state={viewLabelId:Jl()},this.registerInteractiveComponent=(o,t)=>{let i=function Jb(n,o){return{component:n,el:o.el,useEventCenter:null==o.useEventCenter||o.useEventCenter,isHitComboAllowed:o.isHitComboAllowed||null}}(o,t),w=[JC,My].concat(this.props.pluginHooks.componentInteractions).map(Q=>new Q(i));this.interactionsStore[o.uid]=w,mm[o.uid]=i},this.unregisterInteractiveComponent=o=>{let t=this.interactionsStore[o.uid];if(t){for(let i of t)i.destroy();delete this.interactionsStore[o.uid]}delete mm[o.uid]},this.resizeRunner=new wg(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=o=>{let{options:t}=this.props;t.handleWindowResize&&o.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let Q,{props:o}=this,{toolbarConfig:t,options:i}=o,s=this.buildToolbarProps(o.viewSpec,o.dateProfile,o.dateProfileGenerator,o.currentDate,Gp(o.options.now,o.dateEnv),o.viewTitle),p=!1,w="";o.isHeightAuto||o.forPrint?w="":null!=i.height?p=!0:null!=i.contentHeight?w=i.contentHeight:Q=Math.max(i.aspectRatio,.5);let Ce=this.buildViewContext(o.viewSpec,o.viewApi,o.options,o.dateProfileGenerator,o.dateEnv,o.theme,o.pluginHooks,o.dispatch,o.getCurrentData,o.emitter,o.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),qe=t.header&&t.header.hasTitle?this.state.viewLabelId:"";return ln(_c.Provider,{value:Ce},t.header&&ln(Ym,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:qe},s)),ln(zC,{liquid:p,height:w,aspectRatio:Q,labeledById:qe},this.renderView(o),this.buildAppendContent()),t.footer&&ln(Ym,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},s)))}componentDidMount(){let{props:o}=this;this.calendarInteractions=o.pluginHooks.calendarInteractions.map(i=>new i(o)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=o.pluginHooks;for(let i in t)t[i](o[i],o)}componentDidUpdate(o){let{props:t}=this,{propSetHandlers:i}=t.pluginHooks;for(let s in i)t[s]!==o[s]&&i[s](t[s],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let o of this.calendarInteractions)o.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:o}=this;return ln(Ko,{},...o.pluginHooks.viewContainerAppends.map(i=>i(o)))}renderView(o){let{pluginHooks:t}=o,{viewSpec:i}=o,s={dateProfile:o.dateProfile,businessHours:o.businessHours,eventStore:o.renderableEventStore,eventUiBases:o.eventUiBases,dateSelection:o.dateSelection,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,isHeightAuto:o.isHeightAuto,forPrint:o.forPrint},p=this.buildViewPropTransformers(t.viewPropsTransformers);for(let Q of p)Object.assign(s,Q.transform(s,o));return ln(i.component,Object.assign({},s))}}function Py(n,o,t,i,s,p){let w=t.build(s,void 0,!1),Q=t.buildPrev(o,i,!1),Ce=t.buildNext(o,i,!1);return{title:p,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:w.isValid&&!pa(o.currentRange,s),isPrevEnabled:Q.isValid,isNextEnabled:Ce.isValid}}function eh(n){return n.map(o=>new o)}class Ly extends class _C{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(o){this.currentDataManager.dispatch(o)}get view(){return this.getCurrentData().viewApi}batchRendering(o){o()}updateSize(){this.trigger("_resize",!0)}setOption(o,t){this.dispatch({type:"SET_OPTION",optionName:o,rawOptionValue:t})}getOption(o){return this.currentDataManager.currentCalendarOptionsInput[o]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(o,t){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[o]?i.emitter.on(o,t):console.warn(`Unknown listener name '${o}'`)}off(o,t){this.currentDataManager.emitter.off(o,t)}trigger(o,...t){this.currentDataManager.emitter.trigger(o,...t)}changeView(o,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:o}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:o,dateMarker:i.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:o})})}zoomTo(o,t){let s;s=this.getCurrentData().viewSpecs[t=t||"day"]||this.getUnitViewSpec(t),this.unselect(),this.dispatch(s?{type:"CHANGE_VIEW_TYPE",viewType:s.type,dateMarker:o}:{type:"CHANGE_DATE",dateMarker:o})}getUnitViewSpec(o){let p,w,{viewSpecs:t,toolbarConfig:i}=this.getCurrentData(),s=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]);for(let Q in t)s.push(Q);for(p=0;p<s.length;p+=1)if(w=t[s[p]],w&&w.singleUnit===o)return w;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let o=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:o.dateEnv.addYears(o.currentDate,-1)})}nextYear(){let o=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:o.dateEnv.addYears(o.currentDate,1)})}today(){let o=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Gp(o.calendarOptions.now,o.dateEnv)})}gotoDate(o){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(o)})}incrementDate(o){let t=this.getCurrentData(),i=H(o);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,i)}))}getDate(){let o=this.getCurrentData();return o.dateEnv.toDate(o.currentDate)}formatDate(o,t){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(o),Ts(t))}formatRange(o,t,i){let{dateEnv:s}=this.getCurrentData();return s.formatRange(s.createMarker(o),s.createMarker(t),Ts(i),i)}formatIso(o,t){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(o),{omitTime:t})}select(o,t){let i;i=null==t?null!=o.start?o:{start:o,end:null}:{start:o,end:t};let s=this.getCurrentData(),p=function J0(n,o,t){let i=function lm(n,o){let{refined:t,extra:i}=ng(n,z0),s=t.start?o.createMarkerMeta(t.start):null,p=t.end?o.createMarkerMeta(t.end):null,{allDay:w}=t;return null==w&&(w=s&&s.isTimeUnspecified&&(!p||p.isTimeUnspecified)),Object.assign({range:{start:s?s.marker:null,end:p?p.marker:null},allDay:w},i)}(n,o),{range:s}=i;if(!s.start)return null;if(!s.end){if(null==t)return null;s.end=o.add(s.start,t)}return i}(i,s.dateEnv,H({days:1}));p&&(this.dispatch({type:"SELECT_DATES",selection:p}),R0(p,null,s))}unselect(o){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function N0(n,o){o.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:o.viewApi||o.calendarApi.view})}(o,t))}addEvent(o,t){if(o instanceof As){let w=o._def,Q=o._instance;return this.getCurrentData().eventStore.defs[w.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:ig({def:w,instance:Q})}),this.triggerEventAdd(o)),o}let s,i=this.getCurrentData();if(t instanceof Aa)s=t.internalEventSource;else if("boolean"==typeof t)t&&([s]=lo(i.eventSources));else if(null!=t){let w=this.getEventSourceById(t);if(!w)return console.warn(`Could not find an event source with ID "${t}"`),null;s=w.internalEventSource}let p=sg(o,s,i,!1);if(p){let w=new As(i,p.def,p.def.recurringDef?null:p.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:ig(p)}),this.triggerEventAdd(w),w}return null}triggerEventAdd(o){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:o,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:Z0(o)})}})}getEventById(o){let t=this.getCurrentData(),{defs:i,instances:s}=t.eventStore;o=String(o);for(let p in i){let w=i[p];if(w.publicId===o){if(w.recurringDef)return new As(t,w,null);for(let Q in s){let Ce=s[Q];if(Ce.defId===w.defId)return new As(t,w,Ce)}}}return null}getEvents(){let o=this.getCurrentData();return ku(o.eventStore,o)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let o=this.getCurrentData(),t=o.eventSources,i=[];for(let s in t)i.push(new Aa(o,t[s]));return i}getEventSourceById(o){let t=this.getCurrentData(),i=t.eventSources;o=String(o);for(let s in i)if(i[s].publicId===o)return new Aa(t,i[s]);return null}addEventSource(o){let t=this.getCurrentData();if(o instanceof Aa)return t.eventSources[o.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[o.internalEventSource]}),o;let i=Dg(o,t);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new Aa(t,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(o){let t=H(o);t&&this.trigger("_scrollRequest",{time:t})}}{constructor(o,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;tm(()=>{Ga(ln(jp,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(s,p,w,Q)=>(this.setClassNames(s),this.setHeight(p),ln(Yc.Provider,{value:this.customContentRenderId},ln(Oy,Object.assign({isHeightAuto:w,forPrint:Q},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Ga(null,this.el),this.setClassNames([]),this.setHeight(""))},function Wh(n){Ip(n.getRootNode())}(o),this.el=o,this.renderRunner=new wg(this.handleRenderRequest),new Sy({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let o=this.isRendering;o?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),o&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){tm(()=>{super.updateSize()})}batchRendering(o){this.renderRunner.pause("batchRendering"),o(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(o,t){this.currentDataManager.resetOptions(o,t)}setClassNames(o){if(!aa(o,this.currentClassNames)){let{classList:t}=this.el;for(let i of this.currentClassNames)t.remove(i);for(let i of o)t.add(i);this.currentClassNames=o}}setHeight(o){Kh(this.el,"height",o)}}function Zg(n,o){let t=[];for(let i=0;i<o;i+=1)t[i]=[];for(let i of n)t[i.row].push(i);return t}function jc(n,o){let t=[];for(let i=0;i<o;i+=1)t[i]=[];for(let i of n)t[i.firstCol].push(i);return t}function Jd(n,o){let t=[];if(n){for(let i=0;i<o;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.row].segs.push(i)}else for(let i=0;i<o;i+=1)t[i]=null;return t}sl(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');const GC=Ts({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function WC(n){let{display:o}=n.eventRange.ui;return"list-item"===o||"auto"===o&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}class YC extends ns{render(){let{props:o}=this;return ln(Mm,Object.assign({},o,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:GC,defaultDisplayEventEnd:o.defaultDisplayEventEnd,disableResizing:!o.seg.eventRange.def.allDay}))}}class jm extends ns{render(){let{props:o,context:t}=this,{options:i}=t,{seg:s}=o,w=Cg(s,i.eventTimeFormat||GC,t,!0,o.defaultDisplayEventEnd);return ln(Xp,Object.assign({},o,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:vg(o.seg,t),defaultGenerator:jC,timeText:w,isResizing:!1,isDateSelecting:!1}))}}function jC(n){return ln(Ko,null,ln("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&ln("div",{className:"fc-event-time"},n.timeText),ln("div",{className:"fc-event-title"},n.event.title||ln(Ko,null,"\xa0")))}class KC extends ns{constructor(){super(...arguments),this.compileSegs=zi(Fy)}render(){let{props:o}=this,{allSegs:t,invisibleSegs:i}=this.compileSegs(o.singlePlacements);return ln(Nm,{elClasses:["fc-daygrid-more-link"],dateProfile:o.dateProfile,todayRange:o.todayRange,allDayDate:o.allDayDate,moreCnt:o.moreCnt,allSegs:t,hiddenSegs:i,alignmentElRef:o.alignmentElRef,alignGridTop:o.alignGridTop,extraDateSpan:o.extraDateSpan,popoverContent:()=>{let s=(o.eventDrag?o.eventDrag.affectedInstances:null)||(o.eventResize?o.eventResize.affectedInstances:null)||{};return ln(Ko,null,t.map(p=>{let w=p.eventRange.instance.instanceId;return ln("div",{className:"fc-daygrid-event-harness",key:w,style:{visibility:s[w]?"hidden":""}},WC(p)?ln(jm,Object.assign({seg:p,isDragging:!1,isSelected:w===o.eventSelection,defaultDisplayEventEnd:!1},Al(p,o.todayRange))):ln(YC,Object.assign({seg:p,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:w===o.eventSelection,defaultDisplayEventEnd:!1},Al(p,o.todayRange))))}))}})}}function Fy(n){let o=[],t=[];for(let i of n)o.push(i.seg),i.isVisible||t.push(i.seg);return{allSegs:o,invisibleSegs:t}}const qC=Ts({week:"narrow"});class By extends al{constructor(){super(...arguments),this.rootElRef={current:null},this.state={dayNumberId:Jl()},this.handleRootEl=o=>{Tl(this.rootElRef,o),Tl(this.props.elRef,o)}}render(){let{context:o,props:t,state:i,rootElRef:s}=this,{options:p,dateEnv:w}=o,{date:Q,dateProfile:Ce}=t;const qe=t.showDayNumber&&function LI(n,o,t){const{start:i,end:s}=o,p=Ia(s,-1),w=t.getYear(i),Q=t.getMonth(i),Ce=t.getYear(p),qe=t.getMonth(p);return!(w===Ce&&Q===qe)&&Boolean(n.valueOf()===i.valueOf()||1===t.getDay(n)&&n.valueOf()<s.valueOf())}(Q,Ce.currentRange,w);return ln(pC,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Zy,date:Q,dateProfile:Ce,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:qe,extraRenderProps:t.extraRenderProps},($e,$t)=>ln("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&ln(Lm,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:wd(o,Q,"week"),date:Q,defaultFormat:qC}),!$t.isDisabled&&(t.showDayNumber||Om(p)||t.forceDayTop)?ln("div",{className:"fc-daygrid-day-top"},ln($e,{elTag:"a",elClasses:["fc-daygrid-day-number",qe&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},wd(o,Q)),{id:i.dayNumberId})})):t.showDayNumber?ln("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},ln("a",{className:"fc-daygrid-day-number"},"\xa0")):void 0,ln("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,ln("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},ln(KC,{allDayDate:Q,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:s,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),ln("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function Zy(n){return n.dayNumberText||ln(Ko,null,"\xa0")}function Fu(n,o,t,i){if(n.firstCol===o&&n.lastCol===t-1)return n;let s=n.eventRange,p=s.range,w=Su(p,{start:i[o].date,end:Js(i[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:o,lastCol:t-1,eventRange:{def:s.def,ui:Object.assign(Object.assign({},s.ui),{durationEditable:!1}),instance:s.instance,range:w},isStart:n.isStart&&w.start.valueOf()===p.start.valueOf(),isEnd:n.isEnd&&w.end.valueOf()===p.end.valueOf()})}class Ug extends G0{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(o){const t=super.addSegs(o),{entriesByLevel:i}=this,s=p=>!this.forceHidden[Du(p)];for(let p=0;p<i.length;p+=1)i[p]=i[p].filter(s);return t}handleInvalidInsertion(o,t,i){const{entriesByLevel:s,forceHidden:p}=this,{touchingEntry:w,touchingLevel:Q,touchingLateral:Ce}=o;if(this.hiddenConsumes&&w){const qe=Du(w);if(!p[qe])if(this.allowReslicing){const $e=Object.assign(Object.assign({},w),{span:hm(w.span,t.span)});p[Du($e)]=!0,s[Q][Ce]=$e,this.splitEntry(w,t,i)}else p[qe]=!0,i.push(w)}return super.handleInvalidInsertion(o,t,i)}}class $C extends al{constructor(){super(...arguments),this.cellElRefs=new Kl,this.frameElRefs=new Kl,this.fgElRefs=new Kl,this.segHarnessRefs=new Kl,this.rootElRef={current:null},this.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},this.handleResize=o=>{o&&this.updateSizing(!0)}}render(){let{props:o,state:t,context:i}=this,{options:s}=i,p=o.cells.length,w=jc(o.businessHourSegs,p),Q=jc(o.bgEventSegs,p),Ce=jc(this.getHighlightSegs(),p),qe=jc(this.getMirrorSegs(),p),{singleColPlacements:$e,multiColPlacements:$t,moreCnts:jt,moreMarginTops:Gt}=function RI(n,o,t,i,s,p,w){let Q=new Ug;Q.allowReslicing=!0,Q.strictOrder=i,!0===o||!0===t?(Q.maxCoord=p,Q.hiddenConsumes=!0):"number"==typeof o?Q.maxStackCnt=o:"number"==typeof t&&(Q.maxStackCnt=t,Q.hiddenConsumes=!0);let Ce=[],qe=[];for(let jn=0;jn<n.length;jn+=1){let Ti=n[jn],{instanceId:no}=Ti.eventRange.instance,Qi=s[no];null!=Qi?Ce.push({index:jn,thickness:Qi,span:{start:Ti.firstCol,end:Ti.lastCol+1}}):qe.push(Ti)}let $e=Q.addSegs(Ce),$t=Q.toRects(),{singleColPlacements:jt,multiColPlacements:Gt,leftoverMargins:fn}=function NI(n,o,t){let i=function FI(n,o){let t=[];for(let i=0;i<o;i+=1)t.push([]);for(let i of n)for(let s=i.span.start;s<i.span.end;s+=1)t[s].push(i);return t}(n,t.length),s=[],p=[],w=[];for(let Q=0;Q<t.length;Q+=1){let Ce=i[Q],qe=[],$e=0,$t=0;for(let Gt of Ce)qe.push({seg:Fu(o[Gt.index],Q,Q+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:Gt.levelCoord,marginTop:Gt.levelCoord-$e}),$e=Gt.levelCoord+Gt.thickness;let jt=[];$e=0,$t=0;for(let Gt of Ce){let fn=o[Gt.index],Fn=Gt.span.start===Q;$t+=Gt.levelCoord-$e,$e=Gt.levelCoord+Gt.thickness,Gt.span.end-Gt.span.start>1?($t+=Gt.thickness,Fn&&jt.push({seg:Fu(fn,Gt.span.start,Gt.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:Gt.levelCoord,marginTop:0})):Fn&&(jt.push({seg:Fu(fn,Gt.span.start,Gt.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:Gt.levelCoord,marginTop:$t}),$t=0)}s.push(qe),p.push(jt),w.push($t)}return{singleColPlacements:s,multiColPlacements:p,leftoverMargins:w}}($t,n,w),Rn=[],Fn=[];for(let jn of qe){Gt[jn.firstCol].push({seg:jn,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let Ti=jn.firstCol;Ti<=jn.lastCol;Ti+=1)jt[Ti].push({seg:Fu(jn,Ti,Ti+1,w),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let jn=0;jn<w.length;jn+=1)Rn.push(0);for(let jn of $e){let Ti=n[jn.index],no=jn.span;Gt[no.start].push({seg:Fu(Ti,no.start,no.end,w),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let Qi=no.start;Qi<no.end;Qi+=1)Rn[Qi]+=1,jt[Qi].push({seg:Fu(Ti,Qi,Qi+1,w),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let jn=0;jn<w.length;jn+=1)Fn.push(fn[jn]);return{singleColPlacements:jt,multiColPlacements:Gt,moreCnts:Rn,moreMarginTops:Fn}}(sm(o.fgEventSegs,s.eventOrder),o.dayMaxEvents,o.dayMaxEventRows,s.eventOrderStrict,t.eventInstanceHeights,t.maxContentHeight,o.cells),fn=o.eventDrag&&o.eventDrag.affectedInstances||o.eventResize&&o.eventResize.affectedInstances||{};return ln("tr",{ref:this.rootElRef,role:"row"},o.renderIntro&&o.renderIntro(),o.cells.map((Rn,Fn)=>{let jn=this.renderFgSegs(Fn,o.forPrint?$e[Fn]:$t[Fn],o.todayRange,fn),Ti=this.renderFgSegs(Fn,function Uy(n,o){if(!n.length)return[];let t=function XC(n){let o={};for(let t of n)for(let i of t)o[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return o}(o);return n.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:t[i.eventRange.instance.instanceId],marginTop:0}))}(qe[Fn],$t),o.todayRange,{},Boolean(o.eventDrag),Boolean(o.eventResize),!1);return ln(By,{key:Rn.key,elRef:this.cellElRefs.createRef(Rn.key),innerElRef:this.frameElRefs.createRef(Rn.key),dateProfile:o.dateProfile,date:Rn.date,showDayNumber:o.showDayNumbers,showWeekNumber:o.showWeekNumbers&&0===Fn,forceDayTop:o.showWeekNumbers,todayRange:o.todayRange,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,extraRenderProps:Rn.extraRenderProps,extraDataAttrs:Rn.extraDataAttrs,extraClassNames:Rn.extraClassNames,extraDateSpan:Rn.extraDateSpan,moreCnt:jt[Fn],moreMarginTop:Gt[Fn],singlePlacements:$e[Fn],fgContentElRef:this.fgElRefs.createRef(Rn.key),fgContent:ln(Ko,null,ln(Ko,null,jn),ln(Ko,null,Ti)),bgContent:ln(Ko,null,this.renderFillSegs(Ce[Fn],"highlight"),this.renderFillSegs(w[Fn],"non-business"),this.renderFillSegs(Q[Fn],"bg-event")),minHeight:o.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(o,t){this.updateSizing(!ro(o,this.props))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:o}=this;return o.eventDrag&&o.eventDrag.segs.length?o.eventDrag.segs:o.eventResize&&o.eventResize.segs.length?o.eventResize.segs:o.dateSelectionSegs}getMirrorSegs(){let{props:o}=this;return o.eventResize&&o.eventResize.segs.length?o.eventResize.segs:[]}renderFgSegs(o,t,i,s,p,w,Q){let{context:Ce}=this,{eventSelection:qe}=this.props,{framePositions:$e}=this.state,$t=1===this.props.cells.length,jt=p||w||Q,Gt=[];if($e)for(let fn of t){let{seg:Rn}=fn,{instanceId:Fn}=Rn.eventRange.instance,jn=Fn+":"+o,Ti=fn.isVisible&&!s[Fn],no=fn.isAbsolute,Qi="",wo="";no&&(Ce.isRtl?(wo=0,Qi=$e.lefts[Rn.lastCol]-$e.lefts[Rn.firstCol]):(Qi=0,wo=$e.rights[Rn.firstCol]-$e.rights[Rn.lastCol])),Gt.push(ln("div",{className:"fc-daygrid-event-harness"+(no?" fc-daygrid-event-harness-abs":""),key:jn,ref:jt?null:this.segHarnessRefs.createRef(jn),style:{visibility:Ti?"":"hidden",marginTop:no?"":fn.marginTop,top:no?fn.absoluteTop:"",left:Qi,right:wo}},WC(Rn)?ln(jm,Object.assign({seg:Rn,isDragging:p,isSelected:Fn===qe,defaultDisplayEventEnd:$t},Al(Rn,i))):ln(YC,Object.assign({seg:Rn,isDragging:p,isResizing:w,isDateSelecting:Q,isSelected:Fn===qe,defaultDisplayEventEnd:$t},Al(Rn,i)))))}return Gt}renderFillSegs(o,t){let{isRtl:i}=this.context,{todayRange:s}=this.props,{framePositions:p}=this.state,w=[];if(p)for(let Q of o){let Ce=i?{right:0,left:p.lefts[Q.lastCol]-p.lefts[Q.firstCol]}:{left:0,right:p.rights[Q.firstCol]-p.rights[Q.lastCol]};w.push(ln("div",{key:am(Q.eventRange),className:"fc-daygrid-bg-harness",style:Ce},"bg-event"===t?ln(Pm,Object.assign({seg:Q},Al(Q,s))):Dr(t)))}return ln(Ko,{},...w)}updateSizing(o){let{props:t,state:i,frameElRefs:s}=this;if(!t.forPrint&&null!==t.clientWidth){if(o){let Ce=t.cells.map(qe=>s.currentMap[qe.key]);if(Ce.length){let qe=this.rootElRef.current,$e=new Wc(qe,Ce,!0,!1);(!i.framePositions||!i.framePositions.similarTo($e))&&this.setState({framePositions:new Wc(qe,Ce,!0,!1)})}}const p=this.state.eventInstanceHeights,w=this.queryEventInstanceHeights(),Q=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.safeSetState({eventInstanceHeights:Object.assign(Object.assign({},p),w),maxContentHeight:Q?this.computeMaxContentHeight():null})}}queryEventInstanceHeights(){let o=this.segHarnessRefs.currentMap,t={};for(let i in o){let s=Math.round(o[i].getBoundingClientRect().height),p=i.split(":")[0];t[p]=Math.max(t[p]||0,s)}return t}computeMaxContentHeight(){let o=this.props.cells[0].key,i=this.fgElRefs.currentMap[o];return this.cellElRefs.currentMap[o].getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let o=this.cellElRefs.currentMap;return this.props.cells.map(t=>o[t.key])}}$C.addStateEquality({eventInstanceHeights:ro});class nh extends al{constructor(){super(...arguments),this.splitBusinessHourSegs=zi(Zg),this.splitBgEventSegs=zi(Zg),this.splitFgEventSegs=zi(Zg),this.splitDateSelectionSegs=zi(Zg),this.splitEventDrag=zi(Jd),this.splitEventResize=zi(Jd),this.rowRefs=new Kl}render(){let{props:o,context:t}=this,i=o.cells.length,s=this.splitBusinessHourSegs(o.businessHourSegs,i),p=this.splitBgEventSegs(o.bgEventSegs,i),w=this.splitFgEventSegs(o.fgEventSegs,i),Q=this.splitDateSelectionSegs(o.dateSelectionSegs,i),Ce=this.splitEventDrag(o.eventDrag,i),qe=this.splitEventResize(o.eventResize,i),$e=i>=7&&o.clientWidth?o.clientWidth/t.options.aspectRatio/6:null;return ln(jl,{unit:"day"},($t,jt)=>ln(Ko,null,o.cells.map((Gt,fn)=>ln($C,{ref:this.rowRefs.createRef(fn),key:Gt.length?Gt[0].date.toISOString():fn,showDayNumbers:i>1,showWeekNumbers:o.showWeekNumbers,todayRange:jt,dateProfile:o.dateProfile,cells:Gt,renderIntro:o.renderRowIntro,businessHourSegs:s[fn],eventSelection:o.eventSelection,bgEventSegs:p[fn].filter(Hy),fgEventSegs:w[fn],dateSelectionSegs:Q[fn],eventDrag:Ce[fn],eventResize:qe[fn],dayMaxEvents:o.dayMaxEvents,dayMaxEventRows:o.dayMaxEventRows,clientWidth:o.clientWidth,clientHeight:o.clientHeight,cellMinHeight:$e,forPrint:o.forPrint}))))}componentDidMount(){const o=this.rowRefs.currentMap[0].getCellEls()[0];this.rootEl=o?o.closest(".fc-daygrid-body"):null,this.rootEl&&this.context.registerInteractiveComponent(this,{el:this.rootEl,isHitComboAllowed:this.props.isHitComboAllowed})}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Wc(this.rootEl,this.rowRefs.collect().map(o=>o.getCellEls()[0]),!1,!0),this.colPositions=new Wc(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(o,t){let{colPositions:i,rowPositions:s}=this,p=i.leftToIndex(o),w=s.topToIndex(t);if(null!=w&&null!=p){let Q=this.props.cells[w][p];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(w,p),allDay:!0},Q.extraDateSpan),dayEl:this.getCellEl(w,p),rect:{left:i.lefts[p],right:i.rights[p],top:s.tops[w],bottom:s.bottoms[w]},layer:0}}return null}getCellEl(o,t){return this.rowRefs.currentMap[o].getCellEls()[t]}getCellRange(o,t){let i=this.props.cells[o][t].date;return{start:i,end:Js(i,1)}}}function Hy(n){return n.eventRange.def.allDay}class Vy extends al{constructor(){super(...arguments),this.elRef={current:null},this.needsScrollReset=!1}render(){let{props:o}=this,{dayMaxEventRows:t,dayMaxEvents:i,expandRows:s}=o,p=!0===i||!0===t;return p&&!s&&(p=!1,t=null,i=null),ln("div",{ref:this.elRef,className:["fc-daygrid-body",p?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",s?"":"fc-daygrid-body-natural"].join(" "),style:{width:o.clientWidth,minWidth:o.tableMinWidth}},ln("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:o.clientWidth,minWidth:o.tableMinWidth,height:s?o.clientHeight:""}},o.colGroupNode,ln("tbody",{role:"presentation"},ln(nh,{dateProfile:o.dateProfile,cells:o.cells,renderRowIntro:o.renderRowIntro,showWeekNumbers:o.showWeekNumbers,clientWidth:o.clientWidth,clientHeight:o.clientHeight,businessHourSegs:o.businessHourSegs,bgEventSegs:o.bgEventSegs,fgEventSegs:o.fgEventSegs,dateSelectionSegs:o.dateSelectionSegs,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,dayMaxEvents:i,dayMaxEventRows:t,forPrint:o.forPrint,isHitComboAllowed:o.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(o){o.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const o=function zy(n,o){let t;return o.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${function hb(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}(o.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${Lp(o.currentDate)}"]`)),t}(this.elRef.current,this.props.dateProfile);if(o){const t=o.closest(".fc-daygrid-body"),i=t.closest(".fc-scroller"),s=o.getBoundingClientRect().top-t.getBoundingClientRect().top;i.scrollTop=s?s+1:0}this.needsScrollReset=!1}}}class Jy extends vm{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(o,t){return t.sliceRange(o)}}class ev extends al{constructor(){super(...arguments),this.slicer=new Jy,this.tableRef={current:null}}render(){let{props:o,context:t}=this;return ln(Vy,Object.assign({ref:this.tableRef},this.slicer.sliceProps(o,o.dateProfile,o.nextDayThreshold,t,o.dayTableModel),{dateProfile:o.dateProfile,cells:o.dayTableModel.cells,colGroupNode:o.colGroupNode,tableMinWidth:o.tableMinWidth,renderRowIntro:o.renderRowIntro,dayMaxEvents:o.dayMaxEvents,dayMaxEventRows:o.dayMaxEventRows,showWeekNumbers:o.showWeekNumbers,expandRows:o.expandRows,headerAlignElRef:o.headerAlignElRef,clientWidth:o.clientWidth,clientHeight:o.clientHeight,forPrint:o.forPrint}))}}class Gy extends al{constructor(){super(...arguments),this.headerElRef={current:null}}renderSimpleLayout(o,t){let{props:i,context:s}=this,p=[],w=Zd(s.options);return o&&p.push({type:"header",key:"header",isSticky:w,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:o}}),p.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),ln(Ud,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},ln(Sg,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:p}))}renderHScrollLayout(o,t,i,s){let p=this.context.pluginHooks.scrollGridImpl;if(!p)throw new Error("No ScrollGrid implementation");let{props:w,context:Q}=this,Ce=!w.forPrint&&Zd(Q.options),qe=!w.forPrint&&Dm(Q.options),$e=[];return o&&$e.push({type:"header",key:"header",isSticky:Ce,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:o}]}),$e.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),qe&&$e.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Eg}]}),ln(Ud,{elClasses:["fc-daygrid"],viewSpec:Q.viewSpec},ln(p,{liquid:!w.isHeightAuto&&!w.forPrint,forPrint:w.forPrint,collapsibleWidth:w.forPrint,colGroups:[{cols:[{span:i,minWidth:s}]}],sections:$e}))}}function Wy(n,o){let t=new Lu(n.renderRange,o);return new Ru(t,/year|month|week/.test(n.currentRangeUnit))}var nv=Ra({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:class ih extends Gy{constructor(){super(...arguments),this.buildDayTableModel=zi(Wy),this.headerRef={current:null},this.tableRef={current:null}}render(){let{options:o,dateProfileGenerator:t}=this.context,{props:i}=this,s=this.buildDayTableModel(i.dateProfile,t),p=o.dayHeaders&&ln(Pu,{ref:this.headerRef,dateProfile:i.dateProfile,dates:s.headerDates,datesRepDistinctDays:1===s.rowCnt}),w=Q=>ln(ev,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:s,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:o.nextDayThreshold,colGroupNode:Q.tableColGroupNode,tableMinWidth:Q.tableMinWidth,dayMaxEvents:o.dayMaxEvents,dayMaxEventRows:o.dayMaxEventRows,showWeekNumbers:o.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:Q.clientWidth,clientHeight:Q.clientHeight,forPrint:i.forPrint});return o.dayMinWidth?this.renderHScrollLayout(p,w,s.colCnt,o.dayMinWidth):this.renderSimpleLayout(p,w)}},dateProfileGeneratorClass:class tv extends im{buildRenderRange(o,t,i){let s=super.buildRenderRange(o,t,i),{props:p}=this;return function Qy(n){let p,{dateEnv:o,currentRange:t}=n,{start:i,end:s}=t;if(n.snapToWeek&&(i=o.startOfWeek(i),p=o.startOfWeek(s),p.valueOf()!==s.valueOf()&&(s=fc(p,1))),n.fixedWeekCount){let w=o.startOfWeek(o.startOfMonth(Js(t.end,-1))),Q=Math.ceil(function zc(n,o){return Pa(n,o)/7}(w,s));s=fc(s,6-Q)}return{start:i,end:s}}({currentRange:s,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:p.fixedWeekCount,dateEnv:p.dateEnv})}}},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class Yy extends class vI{constructor(){this.getKeysForEventDefs=zi(this._getKeysForEventDefs),this.splitDateSelection=zi(this._splitDateSpan),this.splitEventStore=zi(this._splitEventStore),this.splitIndividualUi=zi(this._splitIndividualUi),this.splitEventDrag=zi(this._splitInteraction),this.splitEventResize=zi(this._splitInteraction),this.eventUiBuilders={}}splitProps(o){let t=this.getKeyInfo(o),i=this.getKeysForEventDefs(o.eventStore),s=this.splitDateSelection(o.dateSelection),p=this.splitIndividualUi(o.eventUiBases,i),w=this.splitEventStore(o.eventStore,i),Q=this.splitEventDrag(o.eventDrag),Ce=this.splitEventResize(o.eventResize),qe={};this.eventUiBuilders=ki(t,($e,$t)=>this.eventUiBuilders[$t]||zi(bI));for(let $e in t){let $t=t[$e],jt=w[$e]||w0;qe[$e]={businessHours:$t.businessHours||o.businessHours,dateSelection:s[$e]||null,eventStore:jt,eventUiBases:(0,this.eventUiBuilders[$e])(o.eventUiBases[""],$t.ui,p[$e]),eventSelection:jt.instances[o.eventSelection]?o.eventSelection:"",eventDrag:Q[$e]||null,eventResize:Ce[$e]||null}}return qe}_splitDateSpan(o){let t={};if(o){let i=this.getKeysForDateSpan(o);for(let s of i)t[s]=o}return t}_getKeysForEventDefs(o){return ki(o.defs,t=>this.getKeysForEventDef(t))}_splitEventStore(o,t){let{defs:i,instances:s}=o,p={};for(let w in i)for(let Q of t[w])p[Q]||(p[Q]={defs:{},instances:{}}),p[Q].defs[w]=i[w];for(let w in s){let Q=s[w];for(let Ce of t[Q.defId])p[Ce]&&(p[Ce].instances[w]=Q)}return p}_splitIndividualUi(o,t){let i={};for(let s in o)if(s)for(let p of t[s])i[p]||(i[p]={}),i[p][s]=o[s];return i}_splitInteraction(o){let t={};if(o){let i=this._splitEventStore(o.affectedEvents,this._getKeysForEventDefs(o.affectedEvents)),s=this._getKeysForEventDefs(o.mutatedEvents),p=this._splitEventStore(o.mutatedEvents,s),w=Q=>{t[Q]||(t[Q]={affectedEvents:i[Q]||w0,mutatedEvents:p[Q]||w0,isEvent:o.isEvent})};for(let Q in i)w(Q);for(let Q in p)w(Q)}return t}}{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(o){return o.allDay?["allDay"]:["timed"]}getKeysForEventDef(o){return o.allDay?function H0(n){return"background"===n.ui.display||"inverse-background"===n.ui.display}(o)?["timed","allDay"]:["allDay"]:["timed"]}}const iv=Ts({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function ov(n){let o=["fc-timegrid-slot","fc-timegrid-slot-label",n.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return ln(_c.Consumer,null,t=>{if(!n.isLabeled)return ln("td",{className:o.join(" "),"data-time":n.isoTimeStr});let{dateEnv:i,options:s,viewApi:p}=t,w=null==s.slotLabelFormat?iv:Array.isArray(s.slotLabelFormat)?Ts(s.slotLabelFormat[0]):Ts(s.slotLabelFormat),Q={level:0,time:n.time,date:i.toDate(n.date),view:p,text:i.format(n.date,w)};return ln(ea,{elTag:"td",elClasses:o,elAttrs:{"data-time":n.isoTimeStr},renderProps:Q,generatorName:"slotLabelContent",customGenerator:s.slotLabelContent,defaultGenerator:sv,classNameGenerator:s.slotLabelClassNames,didMount:s.slotLabelDidMount,willUnmount:s.slotLabelWillUnmount},Ce=>ln("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},ln(Ce,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function sv(n){return n.text}class jy extends ns{render(){return this.props.slatMetas.map(o=>ln("tr",{key:o.key},ln(ov,Object.assign({},o))))}}const Km=Ts({week:"short"});class rv extends al{constructor(){super(...arguments),this.allDaySplitter=new Yy,this.headerElRef={current:null},this.rootElRef={current:null},this.scrollerElRef={current:null},this.state={slatCoords:null},this.handleScrollTopRequest=o=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=o)},this.renderHeadAxis=(o,t="")=>{let{options:i}=this.context,{dateProfile:s}=this.props,p=s.renderRange,Q=1===Pa(p.start,p.end)?wd(this.context,p.start,"week"):{};return i.weekNumbers&&"day"===o?ln(Lm,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:p.start,defaultFormat:Km},Ce=>ln("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},ln(Ce,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:Q}))):ln("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},ln("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=o=>{let{options:t,viewApi:i}=this.context;return ln(ea,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:{text:t.allDayText,view:i},generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:av,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},p=>ln("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",null==o?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:o}},ln(p,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=o=>{this.setState({slatCoords:o})}}renderSimpleLayout(o,t,i){let{context:s,props:p}=this,w=[],Q=Zd(s.options);return o&&w.push({type:"header",key:"header",isSticky:Q,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:o}}),t&&(w.push({type:"body",key:"all-day",chunk:{content:t}}),w.push({type:"body",key:"all-day-divider",outerContent:ln("tr",{role:"presentation",className:"fc-scrollgrid-section"},ln("td",{className:"fc-timegrid-divider "+s.theme.getClass("tableCellShaded")}))})),w.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(s.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:i}}),ln(Ud,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:s.viewSpec},ln(Sg,{liquid:!p.isHeightAuto&&!p.forPrint,collapsibleWidth:p.forPrint,cols:[{width:"shrink"}],sections:w}))}renderHScrollLayout(o,t,i,s,p,w,Q){let Ce=this.context.pluginHooks.scrollGridImpl;if(!Ce)throw new Error("No ScrollGrid implementation");let{context:qe,props:$e}=this,$t=!$e.forPrint&&Zd(qe.options),jt=!$e.forPrint&&Dm(qe.options),Gt=[];o&&Gt.push({type:"header",key:"header",isSticky:$t,syncRowHeights:!0,chunks:[{key:"axis",rowContent:Rn=>ln("tr",{role:"presentation"},this.renderHeadAxis("day",Rn.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:o}]}),t&&(Gt.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:Rn=>ln("tr",{role:"presentation"},this.renderTableRowAxis(Rn.rowSyncHeights[0]))},{key:"cols",content:t}]}),Gt.push({key:"all-day-divider",type:"body",outerContent:ln("tr",{role:"presentation",className:"fc-scrollgrid-section"},ln("td",{colSpan:2,className:"fc-timegrid-divider "+qe.theme.getClass("tableCellShaded")}))}));let fn=qe.options.nowIndicator;return Gt.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(qe.options.expandRows),chunks:[{key:"axis",content:Rn=>ln("div",{className:"fc-timegrid-axis-chunk"},ln("table",{"aria-hidden":!0,style:{height:Rn.expandRows?Rn.clientHeight:""}},Rn.tableColGroupNode,ln("tbody",null,ln(jy,{slatMetas:w}))),ln("div",{className:"fc-timegrid-now-indicator-container"},ln(jl,{unit:fn?"minute":"day"},Fn=>{let jn=fn&&Q&&Q.safeComputeTop(Fn);return"number"==typeof jn?ln(kg,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:jn},isAxis:!0,date:Fn}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),jt&&Gt.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Eg},{key:"cols",content:Eg}]}),ln(Ud,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:qe.viewSpec},ln(Ce,{liquid:!$e.isHeightAuto&&!$e.forPrint,forPrint:$e.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:s,minWidth:p}]}],sections:Gt}))}getAllDayMaxEventProps(){let{dayMaxEvents:o,dayMaxEventRows:t}=this.context.options;return(!0===o||!0===t)&&(o=void 0,t=5),{dayMaxEvents:o,dayMaxEventRows:t}}}function av(n){return n.text}class qy{constructor(o,t,i){this.positions=o,this.dateProfile=t,this.slotDuration=i}safeComputeTop(o){let{dateProfile:t}=this;if(pa(t.currentRange,o)){let i=ps(o),s=o.valueOf()-i.valueOf();if(s>=Yn(t.slotMinTime)&&s<Yn(t.slotMaxTime))return this.computeTimeTop(H(s))}return null}computeDateTop(o,t){return t||(t=ps(o)),this.computeTimeTop(H(o.valueOf()-t.valueOf()))}computeTimeTop(o){let w,Q,{positions:t,dateProfile:i}=this,s=t.els.length,p=(o.milliseconds-Yn(i.slotMinTime))/Yn(this.slotDuration);return p=Math.max(0,p),p=Math.min(s,p),w=Math.floor(p),w=Math.min(w,s-1),Q=p-w,t.tops[w]+t.getHeight(w)*Q}}class $y extends ns{render(){let{props:o,context:t}=this,{options:i}=t,{slatElRefs:s}=o;return ln("tbody",null,o.slatMetas.map((p,w)=>{let Q={time:p.time,date:t.dateEnv.toDate(p.date),view:t.viewApi};return ln("tr",{key:p.key,ref:s.createRef(p.key)},o.axis&&ln(ov,Object.assign({},p)),ln(ea,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!p.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":p.isoTimeStr},renderProps:Q,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount}))}))}}class Xy extends ns{constructor(){super(...arguments),this.rootElRef={current:null},this.slatElRefs=new Kl}render(){let{props:o,context:t}=this;return ln("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},ln("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:o.tableMinWidth,width:o.clientWidth,height:o.minHeight}},o.tableColGroupNode,ln($y,{slatElRefs:this.slatElRefs,axis:o.axis,slatMetas:o.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:o,props:t}=this;t.onCoords&&null!==t.clientWidth&&this.rootElRef.current.offsetHeight&&t.onCoords(new qy(new Wc(this.rootElRef.current,function qm(n,o){return o.map(t=>n[t.key])}(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,o.options.slotDuration))}}function oh(n,o){let i,t=[];for(i=0;i<o;i+=1)t.push([]);if(n)for(i=0;i<n.length;i+=1)t[n[i].col].push(n[i]);return t}function $m(n,o){let t=[];if(n){for(let i=0;i<o;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.col].segs.push(i)}else for(let i=0;i<o;i+=1)t[i]=null;return t}class e4 extends ns{render(){let{props:o}=this;return ln(Nm,{elClasses:["fc-timegrid-more-link"],elStyle:{top:o.top,bottom:o.bottom},allDayDate:null,moreCnt:o.hiddenSegs.length,allSegs:o.hiddenSegs,hiddenSegs:o.hiddenSegs,extraDateSpan:o.extraDateSpan,dateProfile:o.dateProfile,todayRange:o.todayRange,popoverContent:()=>Hg(o.hiddenSegs,o),defaultGenerator:t4,forceTimed:!0},t=>ln(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function t4(n){return n.shortText}function lv(n,o){if(!n)return[[],0];let{level:t,lateralStart:i,lateralEnd:s}=n,p=i,w=[];for(;p<s;)w.push(o(t,p)),p+=1;return w.sort(s4),[w.map(r4),w[0][1]]}function s4(n,o){return o[1]-n[1]}function r4(n){return n[0]}function uv(n){let o=[];const t=Xm((s,p,w)=>Du(s),(s,p,w)=>{let Q=Object.assign(Object.assign({},s),{levelCoord:p,stackDepth:w,stackForward:0});return o.push(Q),Q.stackForward=i(s.nextLevelNodes,p+s.thickness,w+1)+1});function i(s,p,w){let Q=0;for(let Ce of s)Q=Math.max(t(Ce,p,w),Q);return Q}return i(n,0,0),o}function Xm(n,o){const t={};return(...i)=>{let s=n(...i);return s in t?t[s]:t[s]=o(...i)}}function dv(n,o,t=null,i=0){let s=[];if(t)for(let p=0;p<n.length;p+=1){let w=n[p],Q=t.computeDateTop(w.start,o),Ce=Math.max(Q+(i||0),t.computeDateTop(w.end,o));s.push({start:Math.round(Q),end:Math.round(Ce)})}return s}const l4=Ts({hour:"numeric",minute:"2-digit",meridiem:!1});class hv extends ns{render(){return ln(Mm,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:l4}))}}class c4 extends ns{constructor(){super(...arguments),this.sortEventSegs=zi(sm)}render(){let{props:o,context:t}=this,{options:i}=t,s=i.selectMirror,p=o.eventDrag&&o.eventDrag.segs||o.eventResize&&o.eventResize.segs||s&&o.dateSelectionSegs||[],w=o.eventDrag&&o.eventDrag.affectedInstances||o.eventResize&&o.eventResize.affectedInstances||{},Q=this.sortEventSegs(o.fgEventSegs,i.eventOrder);return ln(pC,{elTag:"td",elRef:o.elRef,elClasses:["fc-timegrid-col",...o.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},o.extraDataAttrs),date:o.date,dateProfile:o.dateProfile,todayRange:o.todayRange,extraRenderProps:o.extraRenderProps},Ce=>ln("div",{className:"fc-timegrid-col-frame"},ln("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(o.businessHourSegs,"non-business"),this.renderFillSegs(o.bgEventSegs,"bg-event"),this.renderFillSegs(o.dateSelectionSegs,"highlight")),ln("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(Q,w,!1,!1,!1)),ln("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(p,{},Boolean(o.eventDrag),Boolean(o.eventResize),Boolean(s))),ln("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(o.nowIndicatorSegs)),Om(i)&&ln(Ce,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(o,t,i,s,p){let{props:w}=this;return w.forPrint?Hg(o,w):this.renderPositionedFgSegs(o,t,i,s,p)}renderPositionedFgSegs(o,t,i,s,p){let{eventMaxStack:w,eventShortHeight:Q,eventOrderStrict:Ce,eventMinHeight:qe}=this.context.options,{date:$e,slatCoords:$t,eventSelection:jt,todayRange:Gt,nowDate:fn}=this.props,Rn=i||s||p,Fn=dv(o,$e,$t,qe),{segPlacements:jn,hiddenGroups:Ti}=function pv(n,o,t,i){let s=[],p=[];for(let qe=0;qe<n.length;qe+=1){let $e=o[qe];$e?s.push({index:qe,thickness:1,span:$e}):p.push(n[qe])}let{segRects:w,hiddenGroups:Q}=function n4(n,o,t){let i=new G0;null!=o&&(i.strictOrder=o),null!=t&&(i.maxStackCnt=t);let p=function W0(n){let o=[];for(let t of n){let i=[],s={span:t.span,entries:[t]};for(let p of o)hm(p.span,s.span)?s={entries:p.entries.concat(s.entries),span:pm(p.span,s.span)}:i.push(p);i.push(s),o=i}return o}(i.addSegs(n)),w=function o4(n){const{entriesByLevel:o}=n,t=Xm((i,s)=>i+":"+s,(i,s)=>{let p=function a4(n,o,t){let{levelCoords:i,entriesByLevel:s}=n,p=s[o][t],w=i[o]+p.thickness,Q=i.length,Ce=o;for(;Ce<Q&&i[Ce]<w;Ce+=1);for(;Ce<Q;Ce+=1){let $e,qe=s[Ce],$t=gm(qe,p.span.start,dm),jt=$t[0]+$t[1],Gt=jt;for(;($e=qe[Gt])&&$e.span.start<p.span.end;)Gt+=1;if(jt<Gt)return{level:Ce,lateralStart:jt,lateralEnd:Gt}}return null}(n,i,s),w=lv(p,t),Q=o[i][s];return[Object.assign(Object.assign({},Q),{nextLevelNodes:w[0]}),Q.thickness+w[1]]});return lv(o.length?{level:0,lateralStart:0,lateralEnd:o[0].length}:null,t)[0]}(i);return w=function cv(n,o){const t=Xm((i,s,p)=>Du(i),(i,s,p)=>{let $e,{nextLevelNodes:w,thickness:Q}=i,Ce=Q+p,qe=Q/Ce,$t=[];if(w.length)for(let Gt of w)if(void 0===$e){let fn=t(Gt,s,Ce);$e=fn[0],$t.push(fn[1])}else{let fn=t(Gt,$e,0);$t.push(fn[1])}else $e=o;let jt=($e-s)*qe;return[$e-jt,Object.assign(Object.assign({},i),{thickness:jt,nextLevelNodes:$t})]});return n.map(i=>t(i,0,0)[1])}(w,1),{segRects:uv(w),hiddenGroups:p}}(s,t,i),Ce=[];for(let qe of w)Ce.push({seg:n[qe.index],rect:qe});for(let qe of p)Ce.push({seg:qe,rect:null});return{segPlacements:Ce,hiddenGroups:Q}}(o,Fn,Ce,w);return ln(Ko,null,this.renderHiddenGroups(Ti,o),jn.map(no=>{let{seg:Qi,rect:wo}=no,hs=Qi.eventRange.instance.instanceId,Ps=Rn||Boolean(!t[hs]&&wo),ko=sh(wo&&wo.span),tc=!Rn&&wo?this.computeSegHStyle(wo):{left:0,right:0},X_=Boolean(wo)&&wo.stackForward>0,kZ=Boolean(wo)&&wo.span.end-wo.span.start<Q;return ln("div",{className:"fc-timegrid-event-harness"+(X_?" fc-timegrid-event-harness-inset":""),key:hs,style:Object.assign(Object.assign({visibility:Ps?"":"hidden"},ko),tc)},ln(hv,Object.assign({seg:Qi,isDragging:i,isResizing:s,isDateSelecting:p,isSelected:hs===jt,isShort:kZ},Al(Qi,Gt,fn))))}))}renderHiddenGroups(o,t){let{extraDateSpan:i,dateProfile:s,todayRange:p,nowDate:w,eventSelection:Q,eventDrag:Ce,eventResize:qe}=this.props;return ln(Ko,null,o.map($e=>{let $t=sh($e.span),jt=function gv(n,o){return n.map(t=>o[t.index])}($e.entries,t);return ln(e4,{key:d0(fC(jt)),hiddenSegs:jt,top:$t.top,bottom:$t.bottom,extraDateSpan:i,dateProfile:s,todayRange:p,nowDate:w,eventSelection:Q,eventDrag:Ce,eventResize:qe})}))}renderFillSegs(o,t){let{props:i,context:s}=this,w=dv(o,i.date,i.slatCoords,s.options.eventMinHeight).map((Q,Ce)=>{let qe=o[Ce];return ln("div",{key:am(qe.eventRange),className:"fc-timegrid-bg-harness",style:sh(Q)},"bg-event"===t?ln(Pm,Object.assign({seg:qe},Al(qe,i.todayRange,i.nowDate))):Dr(t))});return ln(Ko,null,w)}renderNowIndicator(o){let{slatCoords:t,date:i}=this.props;return t?o.map((s,p)=>ln(kg,{key:p,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(s.start,i)},isAxis:!1,date:i})):null}computeSegHStyle(o){let Q,Ce,{isRtl:t,options:i}=this.context,s=i.slotEventOverlap,p=o.levelCoord,w=o.levelCoord+o.thickness;s&&(w=Math.min(1,p+2*(w-p))),t?(Q=1-w,Ce=p):(Q=p,Ce=1-w);let qe={zIndex:o.stackDepth+1,left:100*Q+"%",right:100*Ce+"%"};return s&&!o.stackForward&&(qe[t?"marginLeft":"marginRight"]=20),qe}}function Hg(n,{todayRange:o,nowDate:t,eventSelection:i,eventDrag:s,eventResize:p}){let w=(s?s.affectedInstances:null)||(p?p.affectedInstances:null)||{};return ln(Ko,null,n.map(Q=>{let Ce=Q.eventRange.instance.instanceId;return ln("div",{key:Ce,style:{visibility:w[Ce]?"hidden":""}},ln(hv,Object.assign({seg:Q,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:Ce===i,isShort:!1},Al(Q,o,t))))}))}function sh(n){return n?{top:n.start,bottom:-n.end}:{top:"",bottom:""}}class e_ extends ns{constructor(){super(...arguments),this.splitFgEventSegs=zi(oh),this.splitBgEventSegs=zi(oh),this.splitBusinessHourSegs=zi(oh),this.splitNowIndicatorSegs=zi(oh),this.splitDateSelectionSegs=zi(oh),this.splitEventDrag=zi($m),this.splitEventResize=zi($m),this.rootElRef={current:null},this.cellElRefs=new Kl}render(){let{props:o,context:t}=this,i=t.options.nowIndicator&&o.slatCoords&&o.slatCoords.safeComputeTop(o.nowDate),s=o.cells.length,p=this.splitFgEventSegs(o.fgEventSegs,s),w=this.splitBgEventSegs(o.bgEventSegs,s),Q=this.splitBusinessHourSegs(o.businessHourSegs,s),Ce=this.splitNowIndicatorSegs(o.nowIndicatorSegs,s),qe=this.splitDateSelectionSegs(o.dateSelectionSegs,s),$e=this.splitEventDrag(o.eventDrag,s),$t=this.splitEventResize(o.eventResize,s);return ln("div",{className:"fc-timegrid-cols",ref:this.rootElRef},ln("table",{role:"presentation",style:{minWidth:o.tableMinWidth,width:o.clientWidth}},o.tableColGroupNode,ln("tbody",{role:"presentation"},ln("tr",{role:"row"},o.axis&&ln("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},ln("div",{className:"fc-timegrid-col-frame"},ln("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof i&&ln(kg,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:i},isAxis:!0,date:o.nowDate})))),o.cells.map((jt,Gt)=>ln(c4,{key:jt.key,elRef:this.cellElRefs.createRef(jt.key),dateProfile:o.dateProfile,date:jt.date,nowDate:o.nowDate,todayRange:o.todayRange,extraRenderProps:jt.extraRenderProps,extraDataAttrs:jt.extraDataAttrs,extraClassNames:jt.extraClassNames,extraDateSpan:jt.extraDateSpan,fgEventSegs:p[Gt],bgEventSegs:w[Gt],businessHourSegs:Q[Gt],nowIndicatorSegs:Ce[Gt],dateSelectionSegs:qe[Gt],eventDrag:$e[Gt],eventResize:$t[Gt],slatCoords:o.slatCoords,eventSelection:o.eventSelection,forPrint:o.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:o}=this;o.onColCoords&&null!==o.clientWidth&&o.onColCoords(new Wc(this.rootElRef.current,function u4(n,o){return o.map(t=>n[t.key])}(this.cellElRefs.currentMap,o.cells),!0,!1))}}class d4 extends al{constructor(){super(...arguments),this.processSlotOptions=zi(t_),this.state={slatCoords:null},this.handleRootEl=o=>{o?this.context.registerInteractiveComponent(this,{el:o,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=o=>{let{onScrollTopRequest:t}=this.props,{slatCoords:i}=this.state;if(t&&i){if(o.time){let s=i.computeTimeTop(o.time);s=Math.ceil(s),s&&(s+=1),t(s)}return!0}return!1},this.handleColCoords=o=>{this.colCoords=o},this.handleSlatCoords=o=>{this.setState({slatCoords:o}),this.props.onSlatCoords&&this.props.onSlatCoords(o)}}render(){let{props:o,state:t}=this;return ln("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:o.clientWidth,minWidth:o.tableMinWidth}},ln(Xy,{axis:o.axis,dateProfile:o.dateProfile,slatMetas:o.slatMetas,clientWidth:o.clientWidth,minHeight:o.expandRows?o.clientHeight:"",tableMinWidth:o.tableMinWidth,tableColGroupNode:o.axis?o.tableColGroupNode:null,onCoords:this.handleSlatCoords}),ln(e_,{cells:o.cells,axis:o.axis,dateProfile:o.dateProfile,businessHourSegs:o.businessHourSegs,bgEventSegs:o.bgEventSegs,fgEventSegs:o.fgEventSegs,dateSelectionSegs:o.dateSelectionSegs,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,todayRange:o.todayRange,nowDate:o.nowDate,nowIndicatorSegs:o.nowIndicatorSegs,clientWidth:o.clientWidth,tableMinWidth:o.tableMinWidth,tableColGroupNode:o.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:o.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(o){this.scrollResponder.update(o.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(o,t){let{dateEnv:i,options:s}=this.context,{colCoords:p}=this,{dateProfile:w}=this.props,{slatCoords:Q}=this.state,{snapDuration:Ce,snapsPerSlot:qe}=this.processSlotOptions(this.props.slotDuration,s.snapDuration),$e=p.leftToIndex(o),$t=Q.positions.topToIndex(t);if(null!=$e&&null!=$t){let jt=this.props.cells[$e],Gt=Q.positions.tops[$t],fn=Q.positions.getHeight($t),Fn=Math.floor((t-Gt)/fn*qe),Ti=this.props.cells[$e].date,no=Tt(w.slotMinTime,function tn(n,o){return{years:n.years*o,months:n.months*o,days:n.days*o,milliseconds:n.milliseconds*o}}(Ce,$t*qe+Fn)),Qi=i.add(Ti,no),wo=i.add(Qi,Ce);return{dateProfile:w,dateSpan:Object.assign({range:{start:Qi,end:wo},allDay:!1},jt.extraDateSpan),dayEl:p.els[$e],rect:{left:p.lefts[$e],right:p.rights[$e],top:Gt,bottom:Gt+fn},layer:0}}return null}}function t_(n,o){let t=o||n,i=ei(n,t);return null===i&&(t=n,i=1),{snapDuration:t,snapsPerSlot:i}}class p4 extends vm{sliceRange(o,t){let i=[];for(let s=0;s<t.length;s+=1){let p=Su(o,t[s]);p&&i.push({start:p.start,end:p.end,isStart:p.start.valueOf()===o.start.valueOf(),isEnd:p.end.valueOf()===o.end.valueOf(),col:s})}return i}}class fv extends al{constructor(){super(...arguments),this.buildDayRanges=zi(Qd),this.slicer=new p4,this.timeColsRef={current:null}}render(){let{props:o,context:t}=this,{dateProfile:i,dayTableModel:s}=o,{nowIndicator:p,nextDayThreshold:w}=t.options,Q=this.buildDayRanges(s,i,t.dateEnv);return ln(jl,{unit:p?"minute":"day"},(Ce,qe)=>ln(d4,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(o,i,null,t,Q),{forPrint:o.forPrint,axis:o.axis,dateProfile:i,slatMetas:o.slatMetas,slotDuration:o.slotDuration,cells:s.cells[0],tableColGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,clientWidth:o.clientWidth,clientHeight:o.clientHeight,expandRows:o.expandRows,nowDate:Ce,nowIndicatorSegs:p&&this.slicer.sliceNowDate(Ce,i,w,t,Q),todayRange:qe,onScrollTopRequest:o.onScrollTopRequest,onSlatCoords:o.onSlatCoords})))}}function Qd(n,o,t){let i=[];for(let s of n.headerDates)i.push({start:t.add(s,o.slotMinTime),end:t.add(s,o.slotMaxTime)});return i}const n_=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function h4(n,o,t,i,s){let p=new Date(0),w=n,Q=H(0),Ce=t||function BI(n){let o,t,i;for(o=n_.length-1;o>=0;o-=1)if(t=H(n_[o]),i=ei(t,n),null!==i&&i>1)return t;return n}(i),qe=[];for(;Yn(w)<Yn(o);){let $e=s.add(p,w),$t=null!==ei(Q,Ce);qe.push({date:$e,time:w,key:$e.toISOString(),isoTimeStr:p0($e),isLabeled:$t}),w=Tt(w,i),Q=Tt(Q,i)}return qe}function i_(n,o){let t=new Lu(n.renderRange,o);return new Ru(t,!1)}sl('.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}');var f4=Ra({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:{allDaySlot:Boolean},views:{timeGrid:{component:class mv extends rv{constructor(){super(...arguments),this.buildTimeColsModel=zi(i_),this.buildSlatMetas=zi(h4)}render(){let{options:o,dateEnv:t,dateProfileGenerator:i}=this.context,{props:s}=this,{dateProfile:p}=s,w=this.buildTimeColsModel(p,i),Q=this.allDaySplitter.splitProps(s),Ce=this.buildSlatMetas(p.slotMinTime,p.slotMaxTime,o.slotLabelInterval,o.slotDuration,t),{dayMinWidth:qe}=o,$e=!qe,$t=qe,jt=o.dayHeaders&&ln(Pu,{dates:w.headerDates,dateProfile:p,datesRepDistinctDays:!0,renderIntro:$e?this.renderHeadAxis:null}),Gt=!1!==o.allDaySlot&&(Rn=>ln(ev,Object.assign({},Q.allDay,{dateProfile:p,dayTableModel:w,nextDayThreshold:o.nextDayThreshold,tableMinWidth:Rn.tableMinWidth,colGroupNode:Rn.tableColGroupNode,renderRowIntro:$e?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:Rn.clientWidth,clientHeight:Rn.clientHeight,forPrint:s.forPrint},this.getAllDayMaxEventProps()))),fn=Rn=>ln(fv,Object.assign({},Q.timed,{dayTableModel:w,dateProfile:p,axis:$e,slotDuration:o.slotDuration,slatMetas:Ce,forPrint:s.forPrint,tableColGroupNode:Rn.tableColGroupNode,tableMinWidth:Rn.tableMinWidth,clientWidth:Rn.clientWidth,clientHeight:Rn.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:Rn.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return $t?this.renderHScrollLayout(jt,Gt,fn,w.colCnt,qe,Ce,this.state.slatCoords):this.renderSimpleLayout(jt,Gt,fn)}},usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});class Cv extends ns{constructor(){super(...arguments),this.state={textId:Jl()}}render(){let{theme:o,dateEnv:t,options:i,viewApi:s}=this.context,{cellId:p,dayDate:w,todayRange:Q}=this.props,{textId:Ce}=this.state,qe=qf(w,Q),$e=i.listDayFormat?t.format(w,i.listDayFormat):"",$t=i.listDaySideFormat?t.format(w,i.listDaySideFormat):"",jt=Object.assign({date:t.toDate(w),view:s,textId:Ce,text:$e,sideText:$t,navLinkAttrs:wd(this.context,w),sideNavLinkAttrs:wd(this.context,w,"day",!1)},qe);return ln(ea,{elTag:"tr",elClasses:["fc-list-day",...Zp(qe,o)],elAttrs:{"data-date":Lp(w)},renderProps:jt,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:o_,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},Gt=>ln("th",{scope:"colgroup",colSpan:3,id:p,"aria-labelledby":Ce},ln(Gt,{elTag:"div",elClasses:["fc-list-day-cushion",o.getClass("tableCellShaded")]})))}}function o_(n){return ln(Ko,null,n.text&&ln("a",Object.assign({id:n.textId,className:"fc-list-day-text"},n.navLinkAttrs),n.text),n.sideText&&ln("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},n.sideNavLinkAttrs),n.sideText))}const vv=Ts({hour:"numeric",minute:"2-digit",meridiem:"short"});class bv extends ns{render(){let{props:o,context:t}=this,{options:i}=t,{seg:s,timeHeaderId:p,eventHeaderId:w,dateHeaderId:Q}=o,Ce=i.eventTimeFormat||vv;return ln(Xp,Object.assign({},o,{elTag:"tr",elClasses:["fc-list-event",s.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>function yv(n,o){let t=vg(n,o);return ln("a",Object.assign({},t),n.eventRange.def.title)}(s,t),seg:s,timeText:"",disableDragging:!0,disableResizing:!0}),(qe,$e)=>ln(Ko,null,function xv(n,o,t,i,s){let{options:p}=t;if(!1!==p.displayEventTime){let qe,Q=n.eventRange.instance,Ce=!1;return n.eventRange.def.allDay?Ce=!0:function Eb(n){let o=Gf(n);return Pa(o.start,o.end)>1}(n.eventRange.range)?n.isStart?qe=Cg(n,o,t,null,null,Q.range.start,n.end):n.isEnd?qe=Cg(n,o,t,null,null,n.start,Q.range.end):Ce=!0:qe=Cg(n,o,t),Ce?ln(ea,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${i} ${s}`},renderProps:{text:t.options.allDayText,view:t.viewApi},generatorName:"allDayContent",customGenerator:p.allDayContent,defaultGenerator:m4,classNameGenerator:p.allDayClassNames,didMount:p.allDayDidMount,willUnmount:p.allDayWillUnmount}):ln("td",{className:"fc-list-event-time"},qe)}return null}(s,Ce,t,p,Q),ln("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},ln("span",{className:"fc-list-event-dot",style:{borderColor:$e.borderColor||$e.backgroundColor}})),ln(qe,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${w} ${Q}`}})))}}function m4(n){return n.text}function C4(n){return n.text}function v4(n){let o=ps(n.renderRange.start),t=n.renderRange.end,i=[],s=[];for(;o<t;)i.push(o),s.push({start:o,end:Js(o,1)}),o=Js(o,1);return{dayDates:i,dayRanges:s}}function Av(n){return!1===n?null:Ts(n)}sl(':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}');var b4=Ra({name:"@fullcalendar/list",optionRefiners:{listDayFormat:Av,listDaySideFormat:Av,noEventsClassNames:Un,noEventsContent:Un,noEventsDidMount:Un,noEventsWillUnmount:Un},views:{list:{component:class _4 extends al{constructor(){super(...arguments),this.computeDateVars=zi(v4),this.eventStoreToSegs=zi(this._eventStoreToSegs),this.state={timeHeaderId:Jl(),eventHeaderId:Jl(),dateHeaderIdRoot:Jl()},this.setRootEl=o=>{o?this.context.registerInteractiveComponent(this,{el:o}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:o,context:t}=this,{dayDates:i,dayRanges:s}=this.computeDateVars(o.dateProfile),p=this.eventStoreToSegs(o.eventStore,o.eventUiBases,s);return ln(Ud,{elRef:this.setRootEl,elClasses:["fc-list",t.theme.getClass("table"),!1!==t.options.stickyHeaderDates?"fc-list-sticky":""],viewSpec:t.viewSpec},ln(Em,{liquid:!o.isHeightAuto,overflowX:o.isHeightAuto?"visible":"hidden",overflowY:o.isHeightAuto?"visible":"auto"},p.length>0?this.renderSegList(p,i):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:o,viewApi:t}=this.context;return ln(ea,{elTag:"div",elClasses:["fc-list-empty"],renderProps:{text:o.noEventsText,view:t},generatorName:"noEventsContent",customGenerator:o.noEventsContent,defaultGenerator:C4,classNameGenerator:o.noEventsClassNames,didMount:o.noEventsDidMount,willUnmount:o.noEventsWillUnmount},s=>ln(s,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(o,t){let{theme:i,options:s}=this.context,{timeHeaderId:p,eventHeaderId:w,dateHeaderIdRoot:Q}=this.state,Ce=function Iv(n){let t,i,o=[];for(t=0;t<n.length;t+=1)i=n[t],(o[i.dayIndex]||(o[i.dayIndex]=[])).push(i);return o}(o);return ln(jl,{unit:"day"},(qe,$e)=>{let $t=[];for(let jt=0;jt<Ce.length;jt+=1){let Gt=Ce[jt];if(Gt){let fn=Lp(t[jt]),Rn=Q+"-"+fn;$t.push(ln(Cv,{key:fn,cellId:Rn,dayDate:t[jt],todayRange:$e})),Gt=sm(Gt,s.eventOrder);for(let Fn of Gt)$t.push(ln(bv,Object.assign({key:fn+":"+Fn.eventRange.instance.instanceId,seg:Fn,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:p,eventHeaderId:w,dateHeaderId:Rn},Al(Fn,$e,qe))))}}return ln("table",{className:"fc-list-table "+i.getClass("table")},ln("thead",null,ln("tr",null,ln("th",{scope:"col",id:p},s.timeHint),ln("th",{scope:"col","aria-hidden":!0}),ln("th",{scope:"col",id:w},s.eventHint))),ln("tbody",null,$t))})}_eventStoreToSegs(o,t,i){return this.eventRangesToSegs(U0(o,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,i)}eventRangesToSegs(o,t){let i=[];for(let s of o)i.push(...this.eventRangeToSegs(s,t));return i}eventRangeToSegs(o,t){let Q,Ce,qe,{dateEnv:i}=this.context,{nextDayThreshold:s}=this.context.options,p=o.range,w=o.def.allDay,$e=[];for(Q=0;Q<t.length;Q+=1)if(Ce=Su(p,t[Q]),Ce&&(qe={component:this,eventRange:o,start:Ce.start,end:Ce.end,isStart:o.isStart&&Ce.start.valueOf()===p.start.valueOf(),isEnd:o.isEnd&&Ce.end.valueOf()===p.end.valueOf(),dayIndex:Q},$e.push(qe),!qe.isEnd&&!w&&Q+1<t.length&&p.end<i.add(t[Q+1].start,s))){qe.end=p.end,qe.isEnd=!0;break}return $e}},buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});Od.touchMouseIgnoreWait=500;let wv=0,s_=0,r_=!1;class a_{constructor(o){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&function Ev(n){return 0===n.button&&!n.ctrlKey}(t)&&this.tryStart(t)){let i=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let i=this.createEventFromMouse(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let i=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let s=t.target;this.shouldIgnoreMove||s.addEventListener("touchmove",this.handleTouchMove),s.addEventListener("touchend",this.handleTouchEnd),s.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let i=this.createEventFromTouch(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=t=>{if(this.isDragging){let i=t.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,function Sv(){wv+=1,setTimeout(()=>{wv-=1},Od.touchMouseIgnoreWait)}()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let i=window.pageXOffset-this.prevScrollX+this.prevPageX,s=window.pageYOffset-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:i-this.origPageX,deltaY:s-this.origPageY})}},this.containerEl=o,this.emitter=new Hp,o.addEventListener("mousedown",this.handleMouseDown),o.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),function kv(){s_+=1,1===s_&&window.addEventListener("touchmove",l_,{passive:!1})}()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),function Dv(){s_-=1,s_||window.removeEventListener("touchmove",l_,{passive:!1})}()}tryStart(o){let t=this.querySubjectEl(o);return!(!t||this.handleSelector&&!Gr(o.target,this.handleSelector)||(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,0))}cleanup(){r_=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(o){return this.selector?Gr(o.target,this.selector):this.containerEl}shouldIgnoreMouse(){return wv||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(r_=!0)}initScrollWatch(o){this.shouldWatchScroll&&(this.recordCoords(o),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(o){this.shouldWatchScroll&&(this.prevPageX=o.pageX,this.prevPageY=o.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(o,t){let i=0,s=0;return t?(this.origPageX=o.pageX,this.origPageY=o.pageY):(i=o.pageX-this.origPageX,s=o.pageY-this.origPageY),{origEvent:o,isTouch:!1,subjectEl:this.subjectEl,pageX:o.pageX,pageY:o.pageY,deltaX:i,deltaY:s}}createEventFromTouch(o,t){let s,p,i=o.touches,w=0,Q=0;return i&&i.length?(s=i[0].pageX,p=i[0].pageY):(s=o.pageX,p=o.pageY),t?(this.origPageX=s,this.origPageY=p):(w=s-this.origPageX,Q=p-this.origPageY),{origEvent:o,isTouch:!0,subjectEl:this.subjectEl,pageX:s,pageY:p,deltaX:w,deltaY:Q}}}function l_(n){r_&&n.preventDefault()}class Mv{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(o,t,i){this.sourceEl=o,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=i-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(o,t){this.deltaX=o-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()}setIsVisible(o){o?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=o,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=o)}stop(o,t){let i=()=>{this.cleanup(),t()};o&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(o,t){let i=this.mirrorEl,s=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",bu(i,{left:s.left,top:s.top}),function Sp(n,o){let t=i=>{o(i),$r.forEach(s=>{n.removeEventListener(s,t)})};$r.forEach(i=>{n.addEventListener(i,t)})}(i,()=>{i.style.transition="",o()})}cleanup(){this.mirrorEl&&(Os(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&bu(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let o=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.classList.add("fc-event-dragging"),bu(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:o.right-o.left,height:o.bottom-o.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class c_ extends zp{constructor(o,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=o,this.doesListening=t,this.scrollTop=this.origScrollTop=o.getScrollTop(),this.scrollLeft=this.origScrollLeft=o.getScrollLeft(),this.scrollWidth=o.getScrollWidth(),this.scrollHeight=o.getScrollHeight(),this.clientWidth=o.getClientWidth(),this.clientHeight=o.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(o){this.scrollController.setScrollTop(o),this.doesListening||(this.scrollTop=Math.max(Math.min(o,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(o){this.scrollController.setScrollLeft(o),this.doesListening||(this.scrollLeft=Math.max(Math.min(o,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class u_ extends c_{constructor(o,t){super(new Pb(o),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Ed(this.scrollController.el)}}class y4 extends c_{constructor(o){super(new TI,o)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const d_="function"==typeof performance?performance.now:Date.now;class rh{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let o=this.computeBestEdge(this.pointerScreenX+window.pageXOffset,this.pointerScreenY+window.pageYOffset);if(o){let t=d_();this.handleSide(o,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(o,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(o,t))}handleMove(o,t){if(this.isEnabled){let i=o-window.pageXOffset,s=t-window.pageYOffset,p=null===this.pointerScreenY?0:s-this.pointerScreenY,w=null===this.pointerScreenX?0:i-this.pointerScreenX;p<0?this.everMovedUp=!0:p>0&&(this.everMovedDown=!0),w<0?this.everMovedLeft=!0:w>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=s,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(d_()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let o of this.scrollCaches)o.destroy();this.scrollCaches=null}}requestAnimation(o){this.msSinceRequest=o,requestAnimationFrame(this.animate)}handleSide(o,t){let{scrollCache:i}=o,{edgeThreshold:s}=this,p=s-o.distance,w=p*p/(s*s)*this.maxVelocity*t,Q=1;switch(o.name){case"left":Q=-1;case"right":i.setScrollLeft(i.getScrollLeft()+w*Q);break;case"top":Q=-1;case"bottom":i.setScrollTop(i.getScrollTop()+w*Q)}}computeBestEdge(o,t){let{edgeThreshold:i}=this,s=null,p=this.scrollCaches||[];for(let w of p){let Q=w.clientRect,Ce=o-Q.left,qe=Q.right-o,$e=t-Q.top,$t=Q.bottom-t;Ce>=0&&qe>=0&&$e>=0&&$t>=0&&($e<=i&&this.everMovedUp&&w.canScrollUp()&&(!s||s.distance>$e)&&(s={scrollCache:w,name:"top",distance:$e}),$t<=i&&this.everMovedDown&&w.canScrollDown()&&(!s||s.distance>$t)&&(s={scrollCache:w,name:"bottom",distance:$t}),Ce<=i&&this.everMovedLeft&&w.canScrollLeft()&&(!s||s.distance>Ce)&&(s={scrollCache:w,name:"left",distance:Ce}),qe<=i&&this.everMovedRight&&w.canScrollRight()&&(!s||s.distance>qe)&&(s={scrollCache:w,name:"right",distance:qe}))}return s}buildCaches(o){return this.queryScrollEls(o).map(t=>t===window?new y4(!1):new u_(t,!1))}queryScrollEls(o){let t=[];for(let i of this.scrollQuery)"object"==typeof i?t.push(i):t.push(...Array.prototype.slice.call(o.getRootNode().querySelectorAll(i)));return t}}class Bu extends class Qb{constructor(o,t){this.emitter=new Hp}destroy(){}setMirrorIsVisible(o){}setMirrorNeedsRevert(o){}setAutoScrollEnabled(o){}}{constructor(o,t){super(o),this.containerEl=o,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=s=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,function bd(n){n.style.userSelect="none",n.addEventListener("selectstart",Ep)}(document.body),function Iu(n){n.addEventListener("contextmenu",Ep)}(document.body),s.isTouch||s.origEvent.preventDefault(),this.emitter.trigger("pointerdown",s),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(s.subjectEl,s.pageX,s.pageY),this.startDelay(s),this.minDistance||this.handleDistanceSurpassed(s)))},this.onPointerMove=s=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",s),!this.isDistanceSurpassed){let w,p=this.minDistance,{deltaX:Q,deltaY:Ce}=s;w=Q*Q+Ce*Ce,w>=p*p&&this.handleDistanceSurpassed(s)}this.isDragging&&("scroll"!==s.origEvent.type&&(this.mirror.handleMove(s.pageX,s.pageY),this.autoScroller.handleMove(s.pageX,s.pageY)),this.emitter.trigger("dragmove",s))}},this.onPointerUp=s=>{this.isInteracting&&(this.isInteracting=!1,function Vc(n){n.style.userSelect="",n.removeEventListener("selectstart",Ep)}(document.body),function xl(n){n.removeEventListener("contextmenu",Ep)}(document.body),this.emitter.trigger("pointerup",s),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(s)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new a_(o);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),t&&(i.selector=t),this.mirror=new Mv,this.autoScroller=new rh}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(o){"number"==typeof this.delay?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(o)},this.delay):this.handleDelayEnd(o)}handleDelayEnd(o){this.isDelayEnded=!0,this.tryStartDrag(o)}handleDistanceSurpassed(o){this.isDistanceSurpassed=!0,this.tryStartDrag(o)}tryStartDrag(o){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(o.pageX,o.pageY,this.containerEl),this.emitter.trigger("dragstart",o),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())}tryStopDrag(o){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,o))}stopDrag(o){this.isDragging=!1,this.emitter.trigger("dragend",o)}setIgnoreMove(o){this.pointer.shouldIgnoreMove=o}setMirrorIsVisible(o){this.mirror.setIsVisible(o)}setMirrorNeedsRevert(o){this.mirrorNeedsRevert=o}setAutoScrollEnabled(o){this.autoScroller.isEnabled=o}}class Ov{constructor(o){this.origRect=Up(o),this.scrollCaches=dg(o).map(t=>new u_(t,!0))}destroy(){for(let o of this.scrollCaches)o.destroy()}computeLeft(){let o=this.origRect.left;for(let t of this.scrollCaches)o+=t.origScrollLeft-t.getScrollLeft();return o}computeTop(){let o=this.origRect.top;for(let t of this.scrollCaches)o+=t.origScrollTop-t.getScrollTop();return o}isWithinClipping(o,t){let i={left:o,top:t};for(let s of this.scrollCaches)if(!Pv(s.getEventTarget())&&!Sb(i,s.clientRect))return!1;return!0}}function Pv(n){let o=n.tagName;return"HTML"===o||"BODY"===o}class Gd{constructor(o,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:s}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(s.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):s.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=t,o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("dragmove",this.handleDragMove),o.emitter.on("pointerup",this.handlePointerUp),o.emitter.on("dragend",this.handleDragEnd),this.dragging=o,this.emitter=new Hp}processFirstCoord(o){let p,t={left:o.pageX,top:o.pageY},i=t,s=o.subjectEl;s instanceof HTMLElement&&(p=Up(s),i=function kb(n,o){return{left:Math.min(Math.max(n.left,o.left),o.right),top:Math.min(Math.max(n.top,o.top),o.bottom)}}(i,p));let w=this.initialHit=this.queryHitForOffset(i.left,i.top);if(w){if(this.useSubjectCenter&&p){let Q=Wf(p,w.rect);Q&&(i=function CI(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}(Q))}this.coordAdjust=function T0(n,o){return{left:n.left-o.left,top:n.top-o.top}}(i,t)}else this.coordAdjust={left:0,top:0}}handleMove(o,t){let i=this.queryHitForOffset(o.pageX+this.coordAdjust.left,o.pageY+this.coordAdjust.top);(t||!ah(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,o))}prepareHits(){this.offsetTrackers=ki(this.droppableStore,o=>(o.component.prepareHits(),new Ov(o.el)))}releaseHits(){let{offsetTrackers:o}=this;for(let t in o)o[t].destroy();this.offsetTrackers={}}queryHitForOffset(o,t){let{droppableStore:i,offsetTrackers:s}=this,p=null;for(let w in i){let Q=i[w].component,Ce=s[w];if(Ce&&Ce.isWithinClipping(o,t)){let qe=Ce.computeLeft(),$e=Ce.computeTop(),$t=o-qe,jt=t-$e,{origRect:Gt}=Ce,fn=Gt.right-Gt.left,Rn=Gt.bottom-Gt.top;if($t>=0&&$t<fn&&jt>=0&&jt<Rn){let Fn=Q.queryHit($t,jt,fn,Rn);Fn&&jf(Fn.dateProfile.activeRange,Fn.dateSpan.range)&&(!p||Fn.layer>p.layer)&&(Fn.componentId=w,Fn.context=Q.context,Fn.rect.left+=qe,Fn.rect.right+=qe,Fn.rect.top+=$e,Fn.rect.bottom+=$e,p=Fn)}}}return p}}function ah(n,o){return!n&&!o||Boolean(n)===Boolean(o)&&function Cc(n,o){return function II(n,o){return(null===n.start?null:n.start.valueOf())===(null===o.start?null:o.start.valueOf())&&(null===n.end?null:n.end.valueOf())===(null===o.end?null:o.end.valueOf())}(n.range,o.range)&&n.allDay===o.allDay&&function bg(n,o){for(let t in o)if("range"!==t&&"allDay"!==t&&n[t]!==o[t])return!1;for(let t in n)if(!(t in o))return!1;return!0}(n,o)}(n.dateSpan,o.dateSpan)}function Vg(n,o){let t={};for(let i of o.pluginHooks.datePointTransforms)Object.assign(t,i(n,o));return Object.assign(t,function x4(n,o){return{date:o.toDate(n.range.start),dateStr:o.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}(n,o.dateEnv)),t}let p_=(()=>{class n extends Md{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=Q=>{let Ce=Q.origEvent.target,{component:qe,dragging:$e}=this,{mirror:$t}=$e,{options:jt}=qe.context,Gt=qe.context;this.subjectEl=Q.subjectEl;let fn=this.subjectSeg=kd(Q.subjectEl),Fn=(this.eventRange=fn.eventRange).instance.instanceId;this.relevantEvents=Fp(Gt.getCurrentData().eventStore,Fn),$e.minDistance=Q.isTouch?0:jt.eventDragMinDistance,$e.delay=Q.isTouch&&Fn!==qe.props.eventSelection?function lh(n){let{options:o}=n.context,t=o.eventLongPressDelay;return null==t&&(t=o.longPressDelay),t}(qe):null,$t.parentNode=jt.fixedMirrorParent?jt.fixedMirrorParent:Gr(Ce,".fc"),$t.revertDuration=jt.dragRevertDuration;let jn=qe.isValidSegDownEl(Ce)&&!Gr(Ce,".fc-event-resizer");$e.setIgnoreMove(!jn),this.isDragging=jn&&Q.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=Q=>{let Ce=this.component.context,qe=this.eventRange,$e=qe.instance.instanceId;Q.isTouch?$e!==this.component.props.eventSelection&&Ce.dispatch({type:"SELECT_EVENT",eventInstanceId:$e}):Ce.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(Ce.calendarApi.unselect(Q),Ce.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new As(Ce,qe.def,qe.instance),jsEvent:Q.origEvent,view:Ce.viewApi}))},this.handleHitUpdate=(Q,Ce)=>{if(!this.isDragging)return;let qe=this.relevantEvents,$e=this.hitDragging.initialHit,$t=this.component.context,jt=null,Gt=null,fn=null,Rn=!1,Fn={affectedEvents:qe,mutatedEvents:{defs:{},instances:{}},isEvent:!0};if(Q){jt=Q.context;let jn=jt.options;$t===jt||jn.editable&&jn.droppable?(Gt=function Fv(n,o,t){let i=n.dateSpan,s=o.dateSpan,p=i.range.start,w=s.range.start,Q={};i.allDay!==s.allDay&&(Q.allDay=s.allDay,Q.hasEnd=o.context.options.allDayMaintainDuration,s.allDay&&(p=ps(p)));let Ce=Ad(p,w,n.context.dateEnv,n.componentId===o.componentId?n.largeUnit:null);Ce.milliseconds&&(Q.allDay=!1);let qe={datesDelta:Ce,standardProps:Q};for(let $e of t)$e(qe,n,o);return qe}($e,Q,jt.getCurrentData().pluginHooks.eventDragMutationMassagers),Gt&&(fn=hg(qe,jt.getCurrentData().eventUiBases,Gt,jt),Fn.mutatedEvents=fn,tC(Fn,Q.dateProfile,jt)||(Rn=!0,Gt=null,fn=null,Fn.mutatedEvents={defs:{},instances:{}}))):jt=null}this.displayDrag(jt,Fn),Rn?Mp():Op(),Ce||($t===jt&&ah($e,Q)&&(Gt=null),this.dragging.setMirrorNeedsRevert(!Gt),this.dragging.setMirrorIsVisible(!Q||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=jt,this.validMutation=Gt,this.mutatedRelevantEvents=fn)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=Q=>{if(this.isDragging){let Ce=this.component.context,qe=Ce.viewApi,{receivingContext:$e,validMutation:$t}=this,jt=this.eventRange.def,Gt=this.eventRange.instance,fn=new As(Ce,jt,Gt),Rn=this.relevantEvents,Fn=this.mutatedRelevantEvents,{finalHit:jn}=this.hitDragging;if(this.clearDrag(),Ce.emitter.trigger("eventDragStop",{el:this.subjectEl,event:fn,jsEvent:Q.origEvent,view:qe}),$t){if($e===Ce){let Ti=new As(Ce,Fn.defs[jt.defId],Gt?Fn.instances[Gt.instanceId]:null);Ce.dispatch({type:"MERGE_EVENTS",eventStore:Fn});let no={oldEvent:fn,event:Ti,relatedEvents:ku(Fn,Ce,Gt),revert(){Ce.dispatch({type:"MERGE_EVENTS",eventStore:Rn})}},Qi={};for(let wo of Ce.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(Qi,wo($t,Ce));Ce.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},no),Qi),{el:Q.subjectEl,delta:$t.datesDelta,jsEvent:Q.origEvent,view:qe})),Ce.emitter.trigger("eventChange",no)}else if($e){let Ti={event:fn,relatedEvents:ku(Rn,Ce,Gt),revert(){Ce.dispatch({type:"MERGE_EVENTS",eventStore:Rn})}};Ce.emitter.trigger("eventLeave",Object.assign(Object.assign({},Ti),{draggedEl:Q.subjectEl,view:qe})),Ce.dispatch({type:"REMOVE_EVENTS",eventStore:Rn}),Ce.emitter.trigger("eventRemove",Ti);let Qi=Fn.instances[Gt.instanceId],wo=new As($e,Fn.defs[jt.defId],Qi);$e.dispatch({type:"MERGE_EVENTS",eventStore:Fn});let hs={event:wo,relatedEvents:ku(Fn,$e,Qi),revert(){$e.dispatch({type:"REMOVE_EVENTS",eventStore:Fn})}};$e.emitter.trigger("eventAdd",hs),Q.isTouch&&$e.dispatch({type:"SELECT_EVENT",eventInstanceId:Gt.instanceId}),$e.emitter.trigger("drop",Object.assign(Object.assign({},Vg(jn.dateSpan,$e)),{draggedEl:Q.subjectEl,jsEvent:Q.origEvent,view:jn.context.viewApi})),$e.emitter.trigger("eventReceive",Object.assign(Object.assign({},hs),{draggedEl:Q.subjectEl,view:jn.context.viewApi}))}}else Ce.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:i}=this,{options:s}=i.context,p=this.dragging=new Bu(t.el);p.pointer.selector=n.SELECTOR,p.touchScrollAllowed=!1,p.autoScroller.isEnabled=s.dragScroll;let w=this.hitDragging=new Gd(this.dragging,mm);w.useSubjectCenter=t.useEventCenter,w.emitter.on("pointerdown",this.handlePointerDown),w.emitter.on("dragstart",this.handleDragStart),w.emitter.on("hitupdate",this.handleHitUpdate),w.emitter.on("pointerup",this.handlePointerUp),w.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,i){let p=this.receivingContext;p&&p!==t&&p.dispatch(p===this.component.context?{type:"SET_EVENT_DRAG",state:{affectedEvents:i.affectedEvents,mutatedEvents:{defs:{},instances:{}},isEvent:!0}}:{type:"UNSET_EVENT_DRAG"}),t&&t.dispatch({type:"SET_EVENT_DRAG",state:i})}clearDrag(){let t=this.component.context,{receivingContext:i}=this;i&&i.dispatch({type:"UNSET_EVENT_DRAG"}),t!==i&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}return n.SELECTOR=".fc-event-draggable, .fc-event-resizable",n})();const T4={fixedMirrorParent:Un},g_={dateClick:Un,eventDragStart:Un,eventDragStop:Un,eventDrop:Un,eventResizeStart:Un,eventResizeStop:Un,eventResize:Un,drop:Un,eventReceive:Un,eventLeave:Un};Od.dataAttrPrefix="";var S4=Ra({name:"@fullcalendar/interaction",componentInteractions:[class UI extends Md{constructor(o){super(o),this.handlePointerDown=i=>{let{dragging:s}=this;s.setIgnoreMove(!this.component.isValidDateDownEl(i.origEvent.target))},this.handleDragEnd=i=>{let{component:s}=this,{pointer:p}=this.dragging;if(!p.wasTouchScroll){let{initialHit:w,finalHit:Q}=this.hitDragging;if(w&&Q&&ah(w,Q)){let{context:Ce}=s,qe=Object.assign(Object.assign({},Vg(w.dateSpan,Ce)),{dayEl:w.dayEl,jsEvent:i.origEvent,view:Ce.viewApi||Ce.calendarApi.view});Ce.emitter.trigger("dateClick",qe)}}},this.dragging=new Bu(o.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new Gd(this.dragging,fm(o));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},class Lv extends Md{constructor(o){super(o),this.dragSelection=null,this.handlePointerDown=w=>{let{component:Q,dragging:Ce}=this,{options:qe}=Q.context,$e=qe.selectable&&Q.isValidDateDownEl(w.origEvent.target);Ce.setIgnoreMove(!$e),Ce.delay=w.isTouch?function Rv(n){let{options:o}=n.context,t=o.selectLongPressDelay;return null==t&&(t=o.longPressDelay),t}(Q):null},this.handleDragStart=w=>{this.component.context.calendarApi.unselect(w)},this.handleHitUpdate=(w,Q)=>{let{context:Ce}=this.component,qe=null,$e=!1;if(w){let $t=this.hitDragging.initialHit;w.componentId===$t.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed($t,w)||(qe=function Nv(n,o,t){let i=n.dateSpan,s=o.dateSpan,p=[i.range.start,i.range.end,s.range.start,s.range.end];p.sort(c);let w={};for(let Q of t){let Ce=Q(n,o);if(!1===Ce)return null;Ce&&Object.assign(w,Ce)}return w.range={start:p[0],end:p[3]},w.allDay=i.allDay,w}($t,w,Ce.pluginHooks.dateSelectionTransformers)),(!qe||!function nC(n,o,t){return!!jf(o.validRange,n.range)&&Ig({dateSelection:n},t)}(qe,w.dateProfile,Ce))&&($e=!0,qe=null)}qe?Ce.dispatch({type:"SELECT_DATES",selection:qe}):Q||Ce.dispatch({type:"UNSELECT_DATES"}),$e?Mp():Op(),Q||(this.dragSelection=qe)},this.handlePointerUp=w=>{this.dragSelection&&(R0(this.dragSelection,w,this.component.context),this.dragSelection=null)};let{component:t}=o,{options:i}=t.context,s=this.dragging=new Bu(o.el);s.touchScrollAllowed=!1,s.minDistance=i.selectMinDistance||0,s.autoScroller.isEnabled=i.dragScroll;let p=this.hitDragging=new Gd(this.dragging,fm(o));p.emitter.on("pointerdown",this.handlePointerDown),p.emitter.on("dragstart",this.handleDragStart),p.emitter.on("hitupdate",this.handleHitUpdate),p.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}},p_,class I4 extends Md{constructor(o){super(o),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=p=>{let{component:w}=this,Ce=kd(this.querySegEl(p)),qe=this.eventRange=Ce.eventRange;this.dragging.minDistance=w.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(p.origEvent.target)||p.isTouch&&this.component.props.eventSelection!==qe.instance.instanceId)},this.handleDragStart=p=>{let{context:w}=this.component,Q=this.eventRange;this.relevantEvents=Fp(w.getCurrentData().eventStore,this.eventRange.instance.instanceId);let Ce=this.querySegEl(p);this.draggingSegEl=Ce,this.draggingSeg=kd(Ce),w.calendarApi.unselect(),w.emitter.trigger("eventResizeStart",{el:Ce,event:new As(w,Q.def,Q.instance),jsEvent:p.origEvent,view:w.viewApi})},this.handleHitUpdate=(p,w,Q)=>{let{context:Ce}=this.component,qe=this.relevantEvents,$e=this.hitDragging.initialHit,$t=this.eventRange.instance,jt=null,Gt=null,fn=!1,Rn={affectedEvents:qe,mutatedEvents:{defs:{},instances:{}},isEvent:!0};p&&(p.componentId===$e.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed($e,p)||(jt=function h_(n,o,t,i){let s=n.context.dateEnv,Q=Ad(n.dateSpan.range.start,o.dateSpan.range.start,s,n.largeUnit);if(t){if(s.add(i.start,Q)<i.end)return{startDelta:Q}}else if(s.add(i.end,Q)>i.start)return{endDelta:Q};return null}($e,p,Q.subjectEl.classList.contains("fc-event-resizer-start"),$t.range))),jt&&(Gt=hg(qe,Ce.getCurrentData().eventUiBases,jt,Ce),Rn.mutatedEvents=Gt,tC(Rn,p.dateProfile,Ce)||(fn=!0,jt=null,Gt=null,Rn.mutatedEvents=null)),Ce.dispatch(Gt?{type:"SET_EVENT_RESIZE",state:Rn}:{type:"UNSET_EVENT_RESIZE"}),fn?Mp():Op(),w||(jt&&ah($e,p)&&(jt=null),this.validMutation=jt,this.mutatedRelevantEvents=Gt)},this.handleDragEnd=p=>{let{context:w}=this.component,Q=this.eventRange.def,Ce=this.eventRange.instance,qe=new As(w,Q,Ce),$e=this.relevantEvents,$t=this.mutatedRelevantEvents;if(w.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:qe,jsEvent:p.origEvent,view:w.viewApi}),this.validMutation){let jt=new As(w,$t.defs[Q.defId],Ce?$t.instances[Ce.instanceId]:null);w.dispatch({type:"MERGE_EVENTS",eventStore:$t});let Gt={oldEvent:qe,event:jt,relatedEvents:ku($t,w,Ce),revert(){w.dispatch({type:"MERGE_EVENTS",eventStore:$e})}};w.emitter.trigger("eventResize",Object.assign(Object.assign({},Gt),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||H(0),endDelta:this.validMutation.endDelta||H(0),jsEvent:p.origEvent,view:w.viewApi})),w.emitter.trigger("eventChange",Gt)}else w.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=o,i=this.dragging=new Bu(o.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=t.context.options.dragScroll;let s=this.hitDragging=new Gd(this.dragging,fm(o));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(o){return Gr(o.subjectEl,".fc-event")}}],calendarInteractions:[class $l{constructor(o){this.context=o,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let s=this.context.options.unselectCancel,p=qh(i.origEvent);this.matchesCancel=!!Gr(p,s),this.matchesEvent=!!Gr(p,p_.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:s}=this,{documentPointer:p}=this,w=s.getCurrentData();if(!p.wasTouchScroll){if(w.dateSelection&&!this.isRecentPointerDateSelect){let Q=s.options.unselectAuto;Q&&(!Q||!this.matchesCancel)&&s.calendarApi.unselect(i)}w.eventSelection&&!this.matchesEvent&&s.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new a_(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),o.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}],elementDraggingImpl:Bu,optionRefiners:T4,listenerRefiners:g_});const Bv=["taskPanel"],Zv=["eventMenu"],m_=["scheduleTaskDialog"];function Uv(n,o){1&n&&e.GkF(0)}function k4(n,o){if(1&n&&(e.TgZ(0,"div",12),e._UZ(1,"full-calendar",13),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("events",t.taskEvent)("options",t.calendarOptions)}}const D4=function(){return{width:"40vw",minWidth:"min-content"}};function VI(n,o){if(1&n&&(e._UZ(0,"app-task-list-element",14),e.ALo(1,"async")),2&n){const t=e.oxw();let i;e.Akn(e.DdM(6,D4)),e.Q6J("isHover",!1)("item",null!==(i=e.lcZ(1,4,t.api.getTask(t.hoveredTask,!0)))&&void 0!==i?i:void 0)}}var wa=(()=>{return(n=wa||(wa={})).RANGE="RANGE",n.START="START",n.END="END",wa;var n})();let Jg=(()=>{class n{constructor(t,i,s,p){this.api=t,this.rt=i,this.router=s,this.confirmation=p,this.taskEvent=[],this.hoveredTask=0,this.subscriptionsHolder=new _.xf,this.eventMenuModel=[],this.currentCalendarRange={start:0,end:0},this.calendarOptions={initialView:"dayGridMonth",locale:"ru",aspectRatio:1.5,selectable:!0,nowIndicator:!0,slotEventOverlap:!1,plugins:[nv,f4,b4,S4],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,listWeek,timeGridDay"},editable:!0,eventMouseEnter:this.openPreviewTaskPanel.bind(this),eventMouseLeave:this.hidePreviewTaskPanel.bind(this),eventDrop:this.scheduleMove.bind(this),eventResize:this.scheduleResizing.bind(this),eventClick:this.openContextOfTask.bind(this),select:this.openContextOfSelectDate.bind(this),datesSet:w=>{this.currentCalendarRange.start=w.start.getTime(),this.currentCalendarRange.end=w.end.getTime(),this.api.getScheduledTask(_.cQ.dateFormatTS(w.start),_.cQ.dateFormatTS(w.end)).pipe((0,gt.U)(this.tasksToEvents.bind(this))).subscribe(Q=>this.taskEvent=Q)},firstDay:1,buttonText:{today:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",month:"\u041c\u0435\u0441\u044f\u0446",week:"\u041d\u0435\u0434\u0435\u043b\u044f",day:"\u0414\u0435\u043d\u044c"},allDayText:"\u0412\u0435\u0441\u044c \u0434\u0435\u043d\u044c",weekText:"\u041d\u0435\u0434\u0435\u043b\u044f",moreLinkText:"\u0411\u043e\u043b\u044c\u0448\u0435",noEventsText:"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435\u0442",navLinks:!0},this.scheduleType=wa.RANGE}unscheduleTask(t){this.api.clearActualFromDate(t).subscribe(),this.api.clearActualToDate(t).subscribe()}ngOnInit(){this.subscriptionsHolder.addSubscription("updTsk",this.rt.taskUpdated().subscribe(this.updateCalendar.bind(this))),this.subscriptionsHolder.addSubscription("hidePv",(0,x.R)(window,"mousedown").subscribe(this.hidePreviewTaskPanel.bind(this)))}ngOnDestroy(){this.subscriptionsHolder.unsubscribeAll()}openContextOfTask(t){this.eventMenuModel=[{label:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",icon:"mdi-open_in_new",command:this.openTask.bind(this,t)},{label:"\u0423\u0431\u0440\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",icon:"mdi-event_busy",command:this.confirmUnschedulingTask.bind(this,t)}],setTimeout(()=>{var i;null===(i=this.eventMenu)||void 0===i||i.show(t.jsEvent)})}openContextOfSelectDate(t){this.eventMenuModel=[{label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d",icon:"mdi-date_range",command:this.openSelectTaskDialog.bind(this,t,wa.RANGE)},{label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0447\u0430\u043b\u043e",icon:"mdi-today",command:this.openSelectTaskDialog.bind(this,t,wa.START)},{label:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0440\u043e\u043a",icon:"mdi-free_cancellation",command:this.openSelectTaskDialog.bind(this,t,wa.END)}],setTimeout(()=>{var i;t.jsEvent&&(null===(i=this.eventMenu)||void 0===i||i.show(t.jsEvent))})}confirmUnschedulingTask(t){if(!t.event.id)return;const i=parseInt(t.event.id);this.confirmation.confirm({header:"\u0423\u0431\u0440\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 \u0438\u0437 \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044f",message:`\u0423\u0431\u0440\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 #${t.event.id}?`,accept:this.unscheduleTask.bind(this,i)})}openSelectTaskDialog(t,i){var s;this.scheduleType=i,this.scheduleDate=t,null===(s=this.scheduleTaskDialog)||void 0===s||s.open("single")}confirmScheduleTask(t){if(!this.scheduleDate)return;let i="";switch(this.scheduleType){case wa.RANGE:i=`\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 #${t} \u0441 ${_.cQ.dateFormatTS(this.scheduleDate.start)} \u043f\u043e ${_.cQ.dateFormatTS(this.scheduleDate.end)}`;break;case wa.START:i=`\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 #${t} \u0441 ${_.cQ.dateFormatTS(this.scheduleDate.start)}`;break;case wa.END:i=`\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0440\u043e\u043a \u0437\u0430\u0434\u0430\u0447\u0438 #${t} \u043f\u043e ${_.cQ.dateFormatTS(this.scheduleDate.end)}`}this.confirmation.confirm({header:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",message:i,accept:this.scheduleTask.bind(this,t)})}scheduleTask(t){var i,s,p,w;if(this.scheduleDate)switch(this.scheduleType){case wa.RANGE:this.api.changeTaskActualFrom(t,null===(i=this.scheduleDate)||void 0===i?void 0:i.start).subscribe(),this.api.changeTaskActualTo(t,null===(s=this.scheduleDate)||void 0===s?void 0:s.end).subscribe();break;case wa.START:this.api.changeTaskActualFrom(t,null===(p=this.scheduleDate)||void 0===p?void 0:p.start).subscribe();break;case wa.END:this.api.changeTaskActualTo(t,null===(w=this.scheduleDate)||void 0===w?void 0:w.end).subscribe()}}taskToEvent(t){var i,s,p,w,Q;const Ce={id:t.taskId.toString(),title:(null===(i=t.modelWireframe)||void 0===i?void 0:i.name)+" #"+t.taskId,start:t.actualFrom,end:t.actualTo,backgroundColor:_.cQ.stringToColor(null!==(p=null===(s=t.modelWireframe)||void 0===s?void 0:s.name)&&void 0!==p?p:"",70,95,70,90),borderColor:_.cQ.stringToColor(null!==(Q=null===(w=t.modelWireframe)||void 0===w?void 0:w.name)&&void 0!==Q?Q:"",80,100,30,80)};return t.actualFrom||(Ce.start=t.actualTo,Ce.borderColor="#ff0000"),Ce}tasksToEvents(t){return t.map(this.taskToEvent.bind(this))}openPreviewTaskPanel(t){var i;this.hideTimer&&clearTimeout(this.hideTimer),this.hoveredTask=parseInt(t.event.id),null===(i=this.taskPanel)||void 0===i||i.show(t.jsEvent,t.el)}hidePreviewTaskPanel(){this.hideTimer=setTimeout(()=>{var t;null===(t=this.taskPanel)||void 0===t||t.hide()})}scheduleMove(t){this.api.moveScheduledTask(parseInt(t.event.id),t.delta).subscribe()}scheduleResizing(t){}updateCalendar(t){let i=this.taskEvent.findIndex(w=>parseInt(w.id)===t.taskId),s=!1,p=!1;if(t.actualFrom){const w=new Date(t.actualFrom).getTime();s=this.currentCalendarRange.start<=w&&w<=this.currentCalendarRange.end}if(t.actualTo){const w=new Date(t.actualTo).getTime();p=this.currentCalendarRange.start<=w&&w<=this.currentCalendarRange.end}(s||p)&&-1!==i?(this.taskEvent[i]=this.taskToEvent(t),this.taskEvent=[...this.taskEvent]):(s||p)&&-1===i?this.taskEvent=[...this.taskEvent,this.taskToEvent(t)]:!s&&!p&&-1!==i&&(this.taskEvent.splice(i,1),this.taskEvent=[...this.taskEvent])}openTask(t){this.router.navigate(["/task",t.event.id]).then()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(d.F0),e.Y36(F.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Bv,5),e.Gf(Zv,5),e.Gf(m_,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.taskPanel=s.first),e.iGM(s=e.CRH())&&(i.eventMenu=s.first),e.iGM(s=e.CRH())&&(i.scheduleTaskDialog=s.first)}},decls:14,vars:5,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"flexed","gap10","stretched"],[4,"ngTemplateOutlet"],["calendar",""],["showTransitionOptions","0ms","hideTransitionOptions","0ms","appendTo","body",3,"dismissable"],["taskPanel",""],[3,"style","isHover","item",4,"ngIf"],["appendTo","body",3,"model"],["eventMenu",""],["header","\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",3,"onlyMy","onSelected"],["scheduleTaskDialog",""],[1,"stretched"],[3,"events","options"],[3,"isHover","item"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.YNc(4,Uv,1,0,"ng-container",3),e.qZA()()(),e.YNc(5,k4,2,2,"ng-template",null,4,e.W1O),e.TgZ(7,"p-overlayPanel",5,6),e.YNc(9,VI,2,7,"app-task-list-element",7),e.qZA(),e._UZ(10,"p-contextMenu",8,9),e.TgZ(12,"app-task-selecting-dialog",10,11),e.NdJ("onSelected",function(p){return i.confirmScheduleTask(p)}),e.qZA()),2&t){const s=e.MAs(6);e.xp6(4),e.Q6J("ngTemplateOutlet",s),e.xp6(3),e.Q6J("dismissable",!0),e.xp6(2),e.Q6J("ngIf",i.hoveredTask),e.xp6(1),e.Q6J("model",i.eventMenuModel),e.xp6(2),e.Q6J("onlyMy",!0)}}}),n})();const Hv=function(){return[]};function __(n,o){if(1&n&&(e._UZ(0,"p-dropdown",4),e.ALo(1,"async")),2&n){const t=o.$implicit,i=e.oxw();let s;e.Q6J("formControlName",t.name)("options",null!==(s=e.lcZ(1,3,i.templates$))&&void 0!==s?s:e.DdM(5,Hv))("placeholder",t.name)}}const C_=function(){return{}};function M4(n,o){if(1&n&&(e._UZ(0,"p-dropdown",7),e.ALo(1,"async")),2&n){const t=o.$implicit,i=e.oxw().$implicit,s=e.oxw();let p;e.Q6J("formControlName",t)("options",s.fieldOfWireframe((null!==(p=e.lcZ(1,3,s.templateBinds$))&&void 0!==p?p:e.DdM(5,C_))[i.name]))("placeholder",t)}}function O4(n,o){if(1&n&&(e.TgZ(0,"fieldset",5)(1,"legend"),e._uU(2),e.qZA(),e.YNc(3,M4,2,6,"p-dropdown",6),e.qZA()),2&n){const t=o.$implicit;e.Q6J("formGroupName",t.name),e.xp6(2),e.hij("\u0428\u0430\u0431\u043b\u043e\u043d: ",t.name,""),e.xp6(1),e.Q6J("ngForOf",t.fields)}}let P4=(()=>{class n{constructor(t){this.api=t,this.controls=[{name:"accident",fields:["description","address","login","phone","workReport"]},{name:"connection",fields:["address","login","phone","advertisingSource","fullName","password","takenFrom","techInfo","type"]},{name:"privateSectorRM",fields:["address","advertisingSource","name","phone","gardening"]},{name:"privateSectorVD",fields:["name","address","advertisingSource","phone","district"]}],this.selectionBindsMap={},this.templatesBindingsMap={},this.templates$=this.api.getWireframes(),this.templateLinkToBindsForm=new f.cw({accident:new f.NI(null),connection:new f.NI(null),privateSectorRM:new f.NI(null),privateSectorVD:new f.NI(null)}),this.bindingsForm=new f.cw({accident:new f.cw({description:new f.NI(""),address:new f.NI(""),login:new f.NI(""),phone:new f.NI(""),workReport:new f.NI(""),wireframe:new f.NI(null)}),connection:new f.cw({address:new f.NI(""),login:new f.NI(""),phone:new f.NI(""),advertisingSource:new f.NI(""),fullName:new f.NI(""),password:new f.NI(""),takenFrom:new f.NI(""),techInfo:new f.NI(""),type:new f.NI(""),wireframe:new f.NI(null)}),privateSectorRM:new f.cw({address:new f.NI(""),advertisingSource:new f.NI(""),name:new f.NI(""),phone:new f.NI(""),gardening:new f.NI(""),wireframe:new f.NI(null)}),privateSectorVD:new f.cw({name:new f.NI(""),address:new f.NI(""),advertisingSource:new f.NI(""),phone:new f.NI(""),district:new f.NI(""),wireframe:new f.NI(null)})}),this.templateBinds$=this.templateLinkToBindsForm.valueChanges.pipe((0,si.b)(i=>{const s={};Object.entries(i).forEach(p=>{s[p[0]]={},s[p[0]].wireframe=p[1]}),this.bindingsForm.patchValue(s)}),(0,gt.U)(i=>Object.assign({},i))),this.onChange=i=>{},this.onTouched=()=>{}}get setOfFieldsForSelectingTemplates(){return Object.keys(this.controls)}bindEntries(t){return Object.keys(this.controls[t])}fieldOfWireframe(t){return t?t.steps.reduce((i,s)=>i.concat(s.fields),[]):[]}bindMapTrack(t,i){return i.key}ngOnInit(){this.bindingsForm.valueChanges.subscribe(t=>{this.onChange(t)})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){t&&this.bindingsForm.patchValue(t)}changeTemplateSelection(t,i){this.selectionBindsMap[t]={binds:this.bindEntries(t),wireframe:i.value}}ngOnDestroy(){var t;null===(t=this.formSubscribtion)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tracker-bindings-input"]],features:[e._Bn([{provide:f.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:8,vars:4,consts:[[1,"flexed","column","gap5",3,"formGroup"],[1,"node","flexed","gap5","column"],["appendTo","body","optionLabel","name",3,"formControlName","options","placeholder",4,"ngFor","ngForOf"],["class","node flexed gap5 column",3,"formGroupName",4,"ngFor","ngForOf"],["appendTo","body","optionLabel","name",3,"formControlName","options","placeholder"],[1,"node","flexed","gap5","column",3,"formGroupName"],["appendTo","body","optionLabel","name","optionValue","id",3,"formControlName","options","placeholder",4,"ngFor","ngForOf"],["appendTo","body","optionLabel","name","optionValue","id",3,"formControlName","options","placeholder"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"fieldset",1)(2,"legend"),e._uU(3,"\u0412\u044b\u0431\u043e\u0440 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u043f\u043e\u0434 \u0442\u0438\u043f\u044b \u0437\u0430\u0434\u0430\u0447"),e.qZA(),e.YNc(4,__,2,6,"p-dropdown",2),e.qZA()(),e.TgZ(5,"div",0),e.ynx(6),e.YNc(7,O4,4,3,"fieldset",3),e.BQk(),e.qZA()),2&t&&(e.Q6J("formGroup",i.templateLinkToBindsForm),e.xp6(4),e.Q6J("ngForOf",i.controls),e.xp6(1),e.Q6J("formGroup",i.bindingsForm),e.xp6(2),e.Q6J("ngForOf",i.controls))},dependencies:[S.sg,f.JJ,f.JL,Ke.Lt,f.sg,f.u,f.x0,S.Ov]}),n})();var Qg=b(1179),Yd=b(5871);const v_=["scroller"];function Vv(n,o){1&n&&e.GkF(0)}function zv(n,o){if(1&n&&(e.TgZ(0,"div",8),e.Hsn(1),e.YNc(2,Vv,1,0,"ng-container",9),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",t.headerTemplate)}}function Jv(n,o){1&n&&e.GkF(0)}const b_=function(n){return{height:n}},L4=function(n,o){return{$implicit:n,options:o}};function Qv(n,o){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,Jv,1,0,"ng-container",11),e.qZA()),2&n){const t=o.$implicit,i=o.options,s=e.oxw();e.Q6J("ngStyle",e.VKq(3,b_,s.itemSize+"px")),e.xp6(1),e.Q6J("ngTemplateOutlet",t?s.itemTemplate:s.loadingItemTemplate)("ngTemplateOutletContext",e.WLB(5,L4,t,i))}}function Gv(n,o){1&n&&e.GkF(0)}function R4(n,o){if(1&n&&(e.TgZ(0,"div",12),e.Hsn(1,1),e.YNc(2,Gv,1,0,"ng-container",9),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}const Wv=[[["p-header"]],[["p-footer"]]],Yv=["p-header","p-footer"];let Ea=(()=>{class n{constructor(t,i){this.el=t,this.cd=i,this.delay=250,this.onLazyLoad=new e.vpe}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"loadingItem":this.loadingItemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template}})}onLazyItemLoad(t){this.virtualScrollTimeout&&clearTimeout(this.virtualScrollTimeout),this.virtualScrollTimeout=setTimeout(()=>{this.onLazyLoad.emit(Object.assign(Object.assign({},t),{rows:t.last-t.first,forceUpdate:()=>this.cd.detectChanges()}))},this.delay)}getBlockableElement(){return this.el.nativeElement.children[0]}scrollToIndex(t,i){var s;null===(s=this.scroller)||void 0===s||s.scrollToIndex(t,i)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-virtualScroller"]],contentQueries:function(t,i,s){if(1&t&&(e.Suo(s,F.h4,5),e.Suo(s,F.$_,5),e.Suo(s,F.jx,4)),2&t){let p;e.iGM(p=e.CRH())&&(i.header=p.first),e.iGM(p=e.CRH())&&(i.footer=p.first),e.iGM(p=e.CRH())&&(i.templates=p)}},viewQuery:function(t,i){if(1&t&&e.Gf(v_,5),2&t){let s;e.iGM(s=e.CRH())&&(i.scroller=s.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",itemSize:"itemSize",style:"style",styleClass:"styleClass",scrollHeight:"scrollHeight",lazy:"lazy",options:"options",delay:"delay"},outputs:{onLazyLoad:"onLazyLoad"},ngContentSelectors:Yv,decls:8,vars:14,consts:[[3,"ngClass","ngStyle"],["class","p-virtualscroller-header",4,"ngIf"],[1,"p-virtualscroller-content"],["content",""],["styleClass","p-virtualscroller-list",3,"items","itemSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","item"],["class","p-virtualscroller-footer",4,"ngIf"],[1,"p-virtualscroller-header"],[4,"ngTemplateOutlet"],[1,"p-virtualscroller-item",3,"ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-virtualscroller-footer"]],template:function(t,i){1&t&&(e.F$t(Wv),e.TgZ(0,"div",0),e.YNc(1,zv,3,1,"div",1),e.TgZ(2,"div",2,3)(4,"p-scroller",4,5),e.NdJ("onLazyLoad",function(p){return i.onLazyItemLoad(p)}),e.YNc(6,Qv,2,8,"ng-template",6),e.qZA()(),e.YNc(7,R4,3,1,"div",7),e.qZA()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass","p-virtualscroller p-component")("ngStyle",i.style),e.xp6(1),e.Q6J("ngIf",i.header||i.headerTemplate),e.xp6(3),e.Akn(e.VKq(12,b_,i.scrollHeight)),e.Q6J("items",i.value)("itemSize",i.itemSize)("lazy",i.lazy)("options",i.options),e.xp6(3),e.Q6J("ngIf",i.footer||i.footerTemplate))},dependencies:[S.mk,S.O5,S.tP,S.PC,F.jx,Yd.T],encapsulation:2}),n})(),Zu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[S.ez,F.m8,Yd.v,F.m8,Yd.v]}),n})();var Na=b(7010),jv=b(8185),y_=b(417);const zI=["vs"];function Kv(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.Tol(i.messageClass(t)),e.xp6(1),e.hij(" ",t.message," ")}}function qv(n,o){if(1&n&&(e.TgZ(0,"span",20),e._uU(1),e.ALo(2,"elapsedTime"),e.ALo(3,"elapsedTime"),e.ALo(4,"elapsedTime"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.lnq(" ",e.gM2(2,3,null==t.parserState?null:t.parserState.elapsedTime,"\u041f\u0440\u043e\u0448\u043b\u043e ","",!0)," / ",e.gM2(3,8,null==t.parserState?null:t.parserState.averageTimePerTask,"\u041d\u0430 \u0437\u0430\u0434\u0430\u0447\u0443 ","",!0)," / ",e.gM2(4,13,null==t.parserState?null:t.parserState.remainingTime,"\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c ","",!0)," ")}}function ch(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",21),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.startParsing())}),e.qZA()}}function N4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",22),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.stopParsing())}),e.qZA()}}function x_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA(),e.TgZ(5,"app-address-input-alt",26),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.currentCorrectingStreetAddress=s)}),e.qZA(),e.TgZ(6,"p-button",27),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.correctStreet(s.streetToCorrect))}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("width","max-content"),e.xp6(2),e.Oqu(t.streetToCorrect[0]),e.xp6(2),e.lnq("",null==t.streetToCorrect[1]?null:t.streetToCorrect[1].streetRaw," ",null==t.streetToCorrect[1]?null:t.streetToCorrect[1].houseRaw," ",null==t.streetToCorrect[1]?null:t.streetToCorrect[1].apartRaw,""),e.xp6(1),e.Q6J("ngModel",null==t.streetToCorrect[1]?null:t.streetToCorrect[1].address)}}function F4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA(),e.TgZ(5,"app-address-input-alt",26),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.currentCorrectingHouseAddress=s)}),e.qZA(),e.TgZ(6,"p-button",27),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.correctHouse(s.houseToCorrect))}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("width","max-content"),e.xp6(2),e.Oqu(t.houseToCorrect[0]),e.xp6(2),e.lnq("",null==t.houseToCorrect[1]?null:t.houseToCorrect[1].streetRaw," ",null==t.houseToCorrect[1]?null:t.houseToCorrect[1].houseRaw," ",null==t.houseToCorrect[1]?null:t.houseToCorrect[1].apartRaw,""),e.xp6(1),e.Q6J("ngModel",null==t.houseToCorrect[1]?null:t.houseToCorrect[1].address)}}function $v(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA(),e.TgZ(5,"app-address-input-alt",26),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.currentCorrectingApartAddress=s)}),e.qZA(),e.TgZ(6,"p-button",27),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.correctApart(s.apartmentToCorrect))}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("width","max-content"),e.xp6(2),e.Oqu(t.apartmentToCorrect[0]),e.xp6(2),e.lnq("",null==t.apartmentToCorrect[1]?null:t.apartmentToCorrect[1].streetRaw," ",null==t.apartmentToCorrect[1]?null:t.apartmentToCorrect[1].houseRaw," ",null==t.apartmentToCorrect[1]?null:t.apartmentToCorrect[1].apartRaw,""),e.xp6(1),e.Q6J("ngModel",null==t.apartmentToCorrect[1]?null:t.apartmentToCorrect[1].address)}}let B4=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this.settingsForm=new f.cw({startId:new f.NI(0,[f.kI.required]),endId:new f.NI(0,[f.kI.required]),trackerLogin:new f.NI("",[f.kI.required]),trackerPassword:new f.NI("",[f.kI.required]),trackerUrl:new f.NI("",[f.kI.required]),bindings:new f.NI({})}),this.messages=[],this.subscribes=new _.xf,this.currentCorrectingStreetAddress={},this.currentCorrectingHouseAddress={},this.currentCorrectingApartAddress={},this.listOfCorrectedStreets=[],this.listOfCorrectedHouses=[],this.listOfCorrectedApartments=[],this.streetToCorrect=[null,null],this.houseToCorrect=[null,null],this.apartmentToCorrect=[null,null]}get progress(){if(this.parserState){const{startId:t,endId:i}=this.parserState.settings,{currentTask:s}=this.parserState;if(s){const p=(s-t)/(i-t)*100;return p>100?100:parseFloat(p.toFixed(2))}}return 0}ngOnInit(){this.api.getTrackerParserState().subscribe(this.setCurrentTrackerParserState.bind(this)),this.subscribes.addSubscription("updState",this.rt.updateTrackerParserState().subscribe(this.setCurrentTrackerParserState.bind(this))),this.subscribes.addSubscription("updMessages",this.rt.parserMessageReceived().subscribe(t=>{this.messages=[...this.messages,t],this.vs&&this.vs.scrollToIndex(this.messages.length,"auto")})),this.settingsForm.valueChanges.subscribe(),this.api.getAddressCorrectingPool().subscribe(t=>{this.addressCorrectingPool=t,this.updateStreetToCorrect(),this.updateHouseToCorrect(),this.updateApartmentToCorrect()})}ngOnDestroy(){this.subscribes.unsubscribeAll()}submitSaveSettings(){this.api.saveTrackerParserSettings(this.settingsForm.getRawValue()).subscribe()}startParsing(){this.api.startTrackerParser().subscribe()}stopParsing(){this.api.stopTrackerParser().subscribe(),this.api.getAddressCorrectingPool().subscribe(t=>{this.addressCorrectingPool=t,this.updateStreetToCorrect(),this.updateHouseToCorrect(),this.updateApartmentToCorrect()})}messageClass(t){return"simple-message "+t.severity.toLowerCase()}correctStreet(t){null==t[0]||null==t[1]||!this.addressCorrectingPool||!this.addressCorrectingPool[t[0]]||(Object.entries(this.addressCorrectingPool).forEach(i=>{const[s,p]=i;null==t[0]||null==t[1]||p.streetRaw===t[1].streetRaw&&(this.addressCorrectingPool&&this.currentCorrectingStreetAddress.street&&(this.addressCorrectingPool[s].address.street=Object.assign({},this.currentCorrectingStreetAddress.street)),this.listOfCorrectedStreets=[...this.listOfCorrectedStreets,s])}),this.sendCorrectedAddress(),this.updateStreetToCorrect())}updateStreetToCorrect(){var t;this.addressCorrectingPool&&(this.streetToCorrect=null!==(t=Object.entries(this.addressCorrectingPool).filter(i=>{const[s,p]=i;return p.types.includes("STREET")&&!this.listOfCorrectedStreets.includes(s)})[0])&&void 0!==t?t:[null,null])}updateHouseToCorrect(){var t;this.addressCorrectingPool&&(this.houseToCorrect=null!==(t=Object.entries(this.addressCorrectingPool).filter(i=>{const[s,p]=i;return p.types.includes("HOUSE")&&!this.listOfCorrectedHouses.includes(s)})[0])&&void 0!==t?t:[null,null])}updateApartmentToCorrect(){var t;this.addressCorrectingPool&&(this.apartmentToCorrect=null!==(t=Object.entries(this.addressCorrectingPool).filter(i=>{const[s,p]=i;return p.types.includes("APART")&&!this.listOfCorrectedApartments.includes(s)})[0])&&void 0!==t?t:[null,null])}setCurrentTrackerParserState(t){this.parserState=t,this.settingsForm.setValue(t.settings)}correctHouse(t){null==t[0]||null==t[1]||!this.addressCorrectingPool||!this.addressCorrectingPool[t[0]]||(this.addressCorrectingPool[t[0]].address.houseNum=this.currentCorrectingHouseAddress.houseNum,this.addressCorrectingPool[t[0]].address.fraction=this.currentCorrectingHouseAddress.fraction,this.addressCorrectingPool[t[0]].address.build=this.currentCorrectingHouseAddress.build,this.addressCorrectingPool[t[0]].address.letter=this.currentCorrectingHouseAddress.letter,this.listOfCorrectedHouses=[...this.listOfCorrectedHouses,t[0]],this.sendCorrectedAddress(),this.updateHouseToCorrect())}correctApart(t){null==t[0]||null==t[1]||!this.addressCorrectingPool||!this.addressCorrectingPool[t[0]]||(this.addressCorrectingPool[t[0]].address.entrance=this.currentCorrectingApartAddress.entrance,this.addressCorrectingPool[t[0]].address.floor=this.currentCorrectingApartAddress.floor,this.addressCorrectingPool[t[0]].address.apartmentNum=this.currentCorrectingApartAddress.apartmentNum,this.addressCorrectingPool[t[0]].address.apartmentMod=this.currentCorrectingApartAddress.apartmentMod,this.listOfCorrectedApartments=[...this.listOfCorrectedApartments,t[0]],this.sendCorrectedAddress(),this.updateApartmentToCorrect())}gettingFullCorrectedAddress(){return this.addressCorrectingPool?Object.entries(this.addressCorrectingPool).filter(t=>{let i=!0,s=!0,p=!0;const[w,Q]=t;return Q.types.includes("STREET")&&!this.listOfCorrectedStreets.includes(w)&&(i=!1),Q.types.includes("HOUSE")&&!this.listOfCorrectedHouses.includes(w)&&(s=!1),Q.types.includes("APART")&&!this.listOfCorrectedApartments.includes(w)&&(p=!1),i&&s&&p}).reduce((t,i)=>{const[s,p]=i;return t[s]=p,t},{}):{}}sendCorrectedAddress(){const t=this.gettingFullCorrectedAddress();this.api.sendCorrectedAddress(t).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(zI,5),2&t){let s;e.iGM(s=e.CRH())&&(i.vs=s.first)}},decls:24,vars:12,consts:[["appExtendPageHeight","",1,"flexed","gap10","p20"],[1,"flexed","column","gap10",3,"formGroup"],["formControlName","trackerUrl","pInputText","","placeholder","Url \u0422\u0440\u0435\u043a\u0435\u0440\u0430","type","text"],["formControlName","trackerLogin","pInputText","","placeholder","\u041b\u043e\u0433\u0438\u043d","type","text"],["formControlName","trackerPassword","pInputText","","placeholder","\u041f\u0430\u0440\u043e\u043b\u044c","type","text"],["formControlName","startId","placeholder","\u0421\u0442\u0430\u0440\u0442\u043e\u0432\u044b\u0439 id"],["formControlName","endId","placeholder","\u041a\u043e\u043d\u0435\u0447\u043d\u044b\u0439 id"],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"disabled","onClick"],["formControlName","bindings"],[1,"flexed","column","stretched","gap10"],[1,"console",3,"value","itemSize","scrollHeight"],["vs",""],["pTemplate","item"],[1,"flexed","gap10"],[1,"stretched","flexed","column","gap3","vcenter"],["class","caption size-small wt-bold f-color-primary",4,"ngIf"],[1,"full-width",3,"value"],["label","\u0421\u0442\u0430\u0440\u0442",3,"onClick",4,"ngIf"],["label","\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c","styleClass","p-button-text p-button-secondary",3,"onClick",4,"ngIf"],["class","flexed column gap5",3,"width",4,"ngIf"],[1,"caption","size-small","wt-bold","f-color-primary"],["label","\u0421\u0442\u0430\u0440\u0442",3,"onClick"],["label","\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c","styleClass","p-button-text p-button-secondary",3,"onClick"],[1,"flexed","column","gap5"],[1,"flexed","hcenter","vcenter","caption","size-big"],[1,"flexed","hcenter","vcenter","caption","size-small","wt-bold","f-color-primary"],[3,"ngModel","ngModelChange"],["label","\u041e\u0442\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",3,"onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"input",2)(3,"input",3)(4,"input",4)(5,"p-inputNumber",5)(6,"p-inputNumber",6),e.TgZ(7,"p-button",7),e.NdJ("onClick",function(){return i.submitSaveSettings()}),e.qZA(),e._UZ(8,"app-tracker-bindings-input",8),e.qZA(),e.TgZ(9,"div",9)(10,"p-virtualScroller",10,11),e.YNc(12,Kv,2,3,"ng-template",12),e.qZA(),e.TgZ(13,"div",13)(14,"div",14),e.YNc(15,qv,5,18,"span",15),e._UZ(16,"p-progressBar",16),e.qZA(),e.TgZ(17,"span"),e.YNc(18,ch,1,0,"p-button",17),e.YNc(19,N4,1,0,"p-button",18),e.qZA()(),e.TgZ(20,"div",13),e.YNc(21,x_,7,7,"div",19),e.YNc(22,F4,7,7,"div",19),e.YNc(23,$v,7,7,"div",19),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",i.settingsForm),e.xp6(6),e.Q6J("disabled",!!i.parserState&&i.parserState.isRunning),e.xp6(3),e.Q6J("value",i.messages)("itemSize",29)("scrollHeight","715px"),e.xp6(5),e.Q6J("ngIf",null==i.parserState?null:i.parserState.remainingTime),e.xp6(1),e.Q6J("value",i.progress),e.xp6(2),e.Q6J("ngIf",i.parserState&&!i.parserState.isRunning),e.xp6(1),e.Q6J("ngIf",i.parserState&&i.parserState.isRunning),e.xp6(2),e.Q6J("ngIf",i.streetToCorrect[0]),e.xp6(1),e.Q6J("ngIf",i.houseToCorrect[0]),e.xp6(1),e.Q6J("ngIf",i.apartmentToCorrect[0]))},dependencies:[B,P4,Qg.r,f.Fj,f.JJ,f.JL,f.On,F.jx,f.sg,f.u,S.O5,O.zx,Ea,bi.o,Na.Rn,jv.k,y_.t],styles:[".console[_ngcontent-%COMP%]{border-radius:.3rem;border:1px solid var(--bgc-200)}"]}),n})();const Z4=["messageListEl"];function U4(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Tol(i.messageClass(t)),e.xp6(1),e.hij(" ",t.message," ")}}let I_=(()=>{class n{constructor(t,i){this.rt=t,this.api=i,this.messages=[]}ngOnInit(){this.subscription=this.rt.parserMessageReceived().subscribe(t=>{var i;this.messages.push(t),null!==(i=this.messageListEl)&&void 0!==i&&i.nativeElement&&(this.messageListEl.nativeElement.scrollTop=this.messageListEl.nativeElement.scrollHeight-this.messageListEl.nativeElement.clientHeight)})}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}messageClass(t){return"simple-message "+t.severity.toLowerCase()}startParse(){this.api.startAddressParse().subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(de.U),e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(Z4,5),2&t){let s;e.iGM(s=e.CRH())&&(i.messageListEl=s.first)}},decls:6,vars:2,consts:[["appExtendPageHeight","",1,"flexed","column",3,"limited"],[1,"list-view","p20"],["messageListEl",""],[4,"ngFor","ngForOf"],[1,"flexed","vend","p10"],["styleClass","p-button-success","label","\u0421\u043e\u0431\u0440\u0430\u0442\u044c \u0430\u0434\u0440\u0435\u0441\u0430",3,"onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1,2),e.YNc(3,U4,3,3,"div",3),e.qZA(),e.TgZ(4,"div",4)(5,"p-button",5),e.NdJ("onClick",function(){return i.startParse()}),e.qZA()()()),2&t&&(e.Q6J("limited",!0),e.xp6(3),e.Q6J("ngForOf",i.messages))},dependencies:[B,S.sg,O.zx]}),n})();var uh=b(590),mr=b(7579),Xl=b(5577);let T_=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this.filtrationForm=new f.cw({date:new f.NI(new Date),position:new f.NI(null)}),this.accountingMenuItems$=this.filtrationForm.valueChanges.pipe((0,gt.U)(s=>{var p;return[{label:"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432",url:"/api/private/accounting/monthly-salary-report-table?date="+(null===(p=s.date)||void 0===p?void 0:p.getTime())}]})),this.subscriptions=new _.xf,this.tableLoadingState=he.Gu.LOADING,this.tableLoad$=this.filtrationForm.valueChanges.pipe((0,si.b)(()=>{this.tableLoadingState=he.Gu.LOADING,this.selectDay(null)}),(0,R.w)(s=>this.api.getSalaryTable(s).pipe((0,gt.U)(p=>({table:p,update:null})))),(0,si.b)({next:()=>this.tableLoadingState=he.Gu.READY,error:()=>this.tableLoadingState=he.Gu.ERROR}),(0,cn.d)(1)),this.tableUpdate$=this.rt.salaryTableUpdated().pipe((0,R.w)(s=>this.tableLoad$.pipe((0,gt.U)(p=>({table:p.table,update:s}))))),this.salaryTable$=(0,so.T)(this.tableLoad$,this.tableUpdate$).pipe((0,gt.U)(s=>{if(s.update){for(let[p,w]of s.update.employees.entries()){const Q=s.table.employees.findIndex(Ce=>Ce.login===w.login);-1!==Q&&(s.table.employees[Q]=w,s.table.payload[Q]=s.update.payload[p],s.table.totalSum[Q]=s.update.totalSum[p],s.table.totalSumAllEmployees=s.update.totalSumAllEmployees)}this.selectedDay$.pipe((0,uh.P)()).subscribe(p=>{if(null===p)return;const w=s.update.employees.findIndex(Q=>Q.login===p.employee.login);if(-1!==w){const Q=s.update.payload[w].find(Ce=>Ce.date===p.date);Q&&this.updateDaySubject.next(Q)}})}return s.table}),(0,cn.d)(1)),this.ndflSwitch=new f.NI(!1),this.ndflValue$=this.ndflSwitch.valueChanges.pipe((0,cn.d)(1)),this.positions$=this.api.getPositions().pipe((0,gt.U)(s=>[{label:"\u0412\u0441\u0435",value:null},...s.map(({name:p,positionId:w})=>({label:p,value:w}))])),this.selectDaySubject=new mr.x,this.updateDaySubject=new mr.x,this.selectedDay$=(0,so.T)(this.selectDaySubject.asObservable(),this.updateDaySubject.asObservable()).pipe((0,cn.d)(1)),this.calculatedLoadingState=he.Gu.LOADING,this.workingDay$=this.selectedDay$.pipe((0,gt.U)(s=>s?[new Date(s.date),s.employee.login]:null),(0,si.b)(()=>this.calculatedLoadingState=he.Gu.LOADING),(0,Xl.z)(s=>s?this.api.getWorkingDay(s[0],s[1]):(0,Tn.of)(null)),(0,si.b)(()=>{setTimeout(()=>window.scrollTo({top:document.body.scrollHeight}))}),(0,si.b)({next:s=>this.calculatedLoadingState=null===s?he.Gu.EMPTY:he.Gu.READY,error:()=>this.calculatedLoadingState=he.Gu.ERROR})),setTimeout(()=>{this.filtrationForm.patchValue(this.filtrationForm.value)})}trackByCell(t,i){return null==i?void 0:i.date}selectDay(t,i,s){this.selectDaySubject.next(t),this.highlightedDay=void 0===i||void 0===s?void 0:{row:i,col:s}}getReport(t,i){var s;return t.isForceClosed?t.forceClosedReason:null===(s=t.workReports.find(p=>p.author.login===i))||void 0===s?void 0:s.description}isSelected(t,i){var s,p;return(null===(s=this.highlightedDay)||void 0===s?void 0:s.row)===t&&(null===(p=this.highlightedDay)||void 0===p?void 0:p.col)===i}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(L.s),e.LFG(de.U))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function JI(n,o){if(1&n&&(e.TgZ(0,"div",19)(1,"span",20),e._UZ(2,"i",21),e.TgZ(3,"span"),e._uU(4,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),e.qZA()(),e._UZ(5,"p-dropdown",22),e.qZA()),2&n){const t=o.ngIf;e.xp6(5),e.Q6J("options",t)}}function Xv(n,o){if(1&n&&(e.TgZ(0,"th",28),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=o.index,s=e.oxw().$implicit;e.Q6J("frozen",0===i||i===s.length-1)("alignFrozen",i===s.length-1?"right":""),e.xp6(1),e.hij(" ",t," ")}}function H4(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,Xv,2,3,"th",27),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}const e1=function(n,o){return{"text-bluegray-200":n,"text-primary-400 bg-blue-50":o}};function jd(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",33),e.NdJ("click",function(){const s=e.CHM(t),p=s.$implicit,w=s.index,Q=e.oxw().rowIndex,Ce=e.oxw(3);return e.KtG(Ce.cache.selectDay(p,Q,w))}),e._uU(1),e.ALo(2,"number"),e.ALo(3,"async"),e.qZA()}if(2&n){const t=o.$implicit,i=o.index,s=e.oxw().rowIndex,p=e.oxw(3);e.Q6J("ngClass",e.WLB(7,e1,0===t.sumWithNDFL,p.cache.isSelected(s,i))),e.xp6(1),e.hij(" ",e.xi3(2,2,e.lcZ(3,5,p.cache.ndflValue$)?t.sumWithNDFL:t.sumWithoutNDFL,"1.0-2")," ")}}function V4(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td",29),e._UZ(2,"app-employee-label",30),e.qZA(),e.YNc(3,jd,4,10,"td",31),e.TgZ(4,"td",32),e._uU(5),e.ALo(6,"async"),e.qZA()()),2&n){const t=o.rowIndex,i=o.$implicit,s=e.oxw(2).ngIf,p=e.oxw();e.xp6(2),e.Q6J("employee",s.employees[t]),e.xp6(1),e.Q6J("ngForOf",i)("ngForTrackBy",p.cache.trackByCell),e.xp6(2),e.hij(" ",e.lcZ(6,4,p.cache.ndflValue$)?s.totalSum[t].sumWithNDFL:s.totalSum[t].sumWithoutNDFL," ")}}function t1(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"p-table",23),e.YNc(2,H4,2,1,"ng-template",24),e.YNc(3,V4,7,6,"ng-template",25),e.qZA(),e.TgZ(4,"div",26)(5,"span"),e._uU(6,"\u0418\u0442\u043e\u0433:"),e.qZA(),e.TgZ(7,"span"),e._uU(8),e.ALo(9,"async"),e.qZA()(),e.BQk()),2&n){const t=e.oxw().ngIf,i=e.oxw();e.xp6(1),e.Q6J("columns",t.headers)("value",t.payload)("scrollable",!0),e.xp6(7),e.hij("",e.lcZ(9,4,i.cache.ndflValue$)?t.totalSumAllEmployees.sumWithNDFL:t.totalSumAllEmployees.sumWithoutNDFL," \u0440\u0443\u0431.")}}function A_(n,o){if(1&n&&(e.ynx(0),e.YNc(1,t1,10,6,"ng-container",16),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","READY"===t.cache.tableLoadingState)}}function QI(n,o){1&n&&(e.TgZ(0,"div",36),e._UZ(1,"p-progressSpinner",37),e.qZA()),2&n&&e.Udp("width","64rem")}function z4(n,o){if(1&n&&(e.ynx(0,34),e.YNc(1,QI,2,2,"div",35),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.cache.tableLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING")}}function GI(n,o){1&n&&(e.TgZ(0,"tr",47),e._UZ(1,"th"),e.TgZ(2,"th"),e._uU(3," \u0418\u0414 "),e.qZA(),e.TgZ(4,"th"),e._uU(5," \u0417\u0430\u0434\u0430\u0447\u0430 "),e.qZA(),e.TgZ(6,"th"),e._uU(7," \u041e\u0442\u0447\u0451\u0442 "),e.qZA(),e.TgZ(8,"th"),e._uU(9," \u0414\u043e\u043b\u044f "),e.qZA(),e.TgZ(10,"th"),e._uU(11," \u0421\u0447\u0438\u0442\u0430\u043b "),e.qZA(),e.TgZ(12,"th"),e._uU(13," \u041f\u043b\u0430\u0442\u043d\u0430\u044f? "),e.qZA(),e.TgZ(14,"th"),e._uU(15," \u0421\u0443\u043c\u043c\u0430 "),e.qZA(),e.TgZ(16,"th"),e._uU(17," \u0421\u0443\u043c\u043c\u0430 \u0431\u0435\u0437 \u041d\u0414\u0424\u041b "),e.qZA(),e.TgZ(18,"th"),e._uU(19," \u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c "),e.qZA()())}function J4(n,o){if(1&n&&e._UZ(0,"button",54),2&n){const t=e.oxw(),s=t.$implicit;e.Q6J("icon",t.expanded?"pi pi-chevron-down":"pi pi-chevron-right")("pRowToggler",s)}}function Q4(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"number"),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.amountOfMoneyTaken,"1.0-2"),"\u0440\u0443\u0431. ")}}function G4(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"number"),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.sum,"1.0-2"),"\u0440\u0443\u0431. ")}}function n1(n,o){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.sumWithoutNDFL,"1.0-2"),"\u0440\u0443\u0431. ")}}const o1=function(n){return{workLogId:n}},W4=function(){return["/salary","estimation"]};function s1(n,o){if(1&n&&(e.TgZ(0,"tr",48)(1,"td"),e.YNc(2,J4,1,2,"button",49),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"app-task-link",50),e.qZA(),e.TgZ(7,"td")(8,"span",51),e._uU(9),e.qZA()(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"number"),e.qZA(),e.TgZ(13,"td"),e._UZ(14,"app-employee-label",30),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td",52),e.YNc(18,Q4,3,4,"ng-container",16),e.YNc(19,G4,3,4,"ng-container",16),e.qZA(),e.YNc(20,n1,3,4,"td",16),e.TgZ(21,"td"),e._UZ(22,"p-button",53),e.qZA()()),2&n){const t=o.$implicit,i=e.oxw(3).ngIf,s=e.oxw();e.xp6(2),e.Q6J("ngIf",t.lastEdit),e.xp6(2),e.hij(" ",t.workCalculationId," "),e.xp6(2),e.Q6J("task",t.workLog.task),e.xp6(2),e.Udp("max-width","20rem"),e.xp6(1),e.hij(" ",s.cache.getReport(t.workLog,i.employee.login)," "),e.xp6(2),e.hij(" ",e.xi3(12,17,100*t.ratio,"1.2-2"),"% "),e.xp6(3),e.Q6J("employee",t.lastEdit?t.lastEdit.employee:t.creator),e.xp6(2),e.hij(" ",t.isPaidWork?"\u0414\u0430":"\u041d\u0435\u0442"," "),e.xp6(1),e.Udp("text-align",t.isPaidWork?"center":""),e.Q6J("colSpan",t.isPaidWork?2:1),e.xp6(1),e.Q6J("ngIf",t.isPaidWork),e.xp6(1),e.Q6J("ngIf",!t.isPaidWork),e.xp6(1),e.Q6J("ngIf",!t.isPaidWork),e.xp6(2),e.Q6J("queryParams",e.VKq(20,o1,t.workLog.workLogId))("routerLink",e.DdM(22,W4))}}function r1(n,o){if(1&n&&(e.TgZ(0,"div",58)(1,"div",59)(2,"div",60),e._UZ(3,"span",61),e.TgZ(4,"span"),e._uU(5,"\u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u043d"),e.qZA()(),e.TgZ(6,"span",62),e._uU(7),e.qZA()(),e.TgZ(8,"div",63),e._UZ(9,"app-employee-label",30),e.TgZ(10,"span",64),e._uU(11),e.ALo(12,"titlecase"),e.ALo(13,"date"),e.qZA()()()),2&n){const t=o.$implicit;e.xp6(6),e.Udp("max-width","50rem"),e.xp6(1),e.Oqu(t.description),e.xp6(2),e.Q6J("employee",t.employee),e.xp6(2),e.Oqu(e.lcZ(12,5,e.xi3(13,7,t.timestamp,"EEEE, dd MMMM yyyy HH:mm")))}}function Y4(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td",55)(2,"div",56),e.YNc(3,r1,14,10,"div",57),e.qZA()()()),2&n){const t=o.$implicit;e.xp6(3),e.Q6J("ngForOf",t.editedBy)}}function j4(n,o){if(1&n&&(e.TgZ(0,"p-table",45),e.YNc(1,GI,20,0,"ng-template",24),e.YNc(2,s1,23,23,"ng-template",25),e.YNc(3,Y4,4,1,"ng-template",46),e.qZA()),2&n){const t=e.oxw().ngIf;e.Q6J("value",t.calculations)}}function a1(n,o){if(1&n&&(e.ynx(0),e.YNc(1,j4,4,1,"p-table",44),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","READY"===t.cache.calculatedLoadingState)}}function K4(n,o){1&n&&e._UZ(0,"p-progressSpinner",37)}function l1(n,o){1&n&&(e.TgZ(0,"div",69),e._UZ(1,"span",70),e.TgZ(2,"span"),e._uU(3,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()())}function c1(n,o){1&n&&(e.TgZ(0,"div",71),e._UZ(1,"span",70),e.TgZ(2,"span"),e._uU(3,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),e.qZA()())}function u1(n,o){if(1&n&&(e.TgZ(0,"div",65),e.ynx(1,34),e.YNc(2,K4,1,0,"p-progressSpinner",66),e.YNc(3,l1,4,0,"div",67),e.YNc(4,c1,4,0,"div",68),e.BQk(),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngSwitch",t.cache.calculatedLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function d1(n,o){if(1&n&&(e.TgZ(0,"div",38)(1,"div",39),e._UZ(2,"app-employee-label",30),e.TgZ(3,"span",40),e._uU(4),e.ALo(5,"titlecase"),e.ALo(6,"date"),e.qZA()(),e.TgZ(7,"div",41)(8,"span",42),e._uU(9,"\u041f\u043e\u0434\u0441\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b"),e.qZA(),e.YNc(10,a1,2,1,"ng-container",16),e.ALo(11,"async"),e.YNc(12,u1,5,4,"div",43),e.qZA()()),2&n){const t=o.ngIf,i=e.oxw();e.xp6(2),e.Q6J("employee",t.employee),e.xp6(2),e.Oqu(e.lcZ(5,4,e.xi3(6,6,t.date,"EEEE, dd MMMM yyyy"))),e.xp6(6),e.Q6J("ngIf",e.lcZ(11,9,i.cache.workingDay$)),e.xp6(2),e.Q6J("ngIf","READY"!==i.cache.calculatedLoadingState)}}const q4=function(){return{display:"grid",grid:"1fr / min-content 1fr"}},$4=function(){return[]};let X4=(()=>{class n{constructor(t){this.cache=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T_))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:23,vars:22,consts:[["appExtendPageHeight","",1,"flex"],[1,"px-3","mb-3","flex-grow-1"],[1,"pt-1"],[1,"flex","flex-column","gap-3","flex-grow-1","p-3","pt-1","overflow-hidden"],[1,"flex","flex-column","panel","overflow-hidden"],[1,"flex","gap-3","p-2",3,"formGroup"],[1,"p-inputgroup","w-max"],[1,"p-inputgroup-addon"],[1,"mdi-calendar_month"],["appendTo","body","dateFormat","MM yy","formControlName","date","inputStyleClass","border-noround-left","view","month",3,"readonlyInput","firstDayOfWeek"],["class","flex gap-2 align-items-center",4,"ngIf"],[1,"flex-grow-1"],["appendTo","body",3,"popup","model"],["otchetMenu",""],["type","button","pButton","","label","\u041e\u0442\u0447\u0435\u0442\u044b \u0437\u0430 \u043c\u0435\u0441\u044f\u0446",3,"click"],["offLabel","\u0411\u0415\u0417 \u041d\u0414\u0424\u041b","onLabel","\u0421 \u041d\u0414\u0424\u041b",3,"formControl"],[4,"ngIf"],[3,"ngSwitch",4,"ngIf"],["class","flex flex-column panel p-3 gap-3",4,"ngIf"],[1,"flex","gap-2","align-items-center"],[1,"caption","wt-black","f-color-500","size-small","with-icon"],[1,"mdi-group"],["appendTo","body","formControlName","position","placeholder","\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",3,"options"],["scrollHeight","50rem","scrollDirection","horizontal","styleClass","p-datatable-sm",3,"columns","value","scrollable"],["pTemplate","header"],["pTemplate","body"],[1,"flexed","gap5","vend","caption","size-big","wt-tiny","p10"],["class","caption size-tiny","pFrozenColumn","",3,"frozen","alignFrozen",4,"ngFor","ngForOf"],["pFrozenColumn","",1,"caption","size-tiny",3,"frozen","alignFrozen"],["pFrozenColumn",""],[3,"employee"],["class","caption size-tiny f-inline cursor-pointer hover:text-primary-400",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["pFrozenColumn","","alignFrozen","right",1,"caption","size-tiny"],[1,"caption","size-tiny","f-inline","cursor-pointer","hover:text-primary-400",3,"ngClass","click"],[3,"ngSwitch"],["class","flex align-items-center justify-content-center p-3",3,"width",4,"ngSwitchCase"],[1,"flex","align-items-center","justify-content-center","p-3"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flex","flex-column","panel","p-3","gap-3"],[1,"flex","align-items-center","gap-3"],[1,"caption","text-sm","text-bluegray-400"],[1,"flex","flex-column","gap-1"],[1,"text-bluegray-400","text-lg","font-semibold"],["class","flex align-items-center justify-content-center p-3 border-round-md border-1 border-bluegray-100 overflow-hidden",4,"ngIf"],["dataKey","workCalculationId","styleClass","border-round-md border-1 border-bluegray-100 overflow-hidden",3,"value",4,"ngIf"],["dataKey","workCalculationId","styleClass","border-round-md border-1 border-bluegray-100 overflow-hidden",3,"value"],["pTemplate","rowexpansion"],[1,"text-sm"],[1,"text-bluegray-500"],["class","p-button-text p-button-rounded p-button-plain","pButton","","pRipple","","type","button",3,"icon","pRowToggler",4,"ngIf"],[3,"task"],["appTooltip","",1,"text-max-lines-3","text-sm"],[3,"colSpan"],["icon","mdi-edit","styleClass","p-button-icon p-button-warning p-button-text",3,"queryParams","routerLink"],["pButton","","pRipple","","type","button",1,"p-button-text","p-button-rounded","p-button-plain",3,"icon","pRowToggler"],["colspan","9"],[1,"flex","flex-column"],["class","grid split-line py-3",4,"ngFor","ngForOf"],[1,"grid","split-line","py-3"],[1,"col-10","gap-2","flex","flex-column"],[1,"flex","align-items-center","font-bold","text-bluegray-500"],[1,"mdi-autorenew"],[1,"text-sm","text-primary-400","ml-3"],[1,"col-2"],[1,"text-xs","text-bluegray-400","font-semibold"],[1,"flex","align-items-center","justify-content-center","p-3","border-round-md","border-1","border-bluegray-100","overflow-hidden"],["class","custom-spinner custom-spinner-8xl custom-spinner-primary","strokeWidth","1",4,"ngSwitchCase"],["class","flex flex-column text-danger align-items-center text-xl",4,"ngSwitchCase"],["class","flex flex-column text-bluegray-400 align-items-center text-xl",4,"ngSwitchCase"],[1,"flex","flex-column","text-danger","align-items-center","text-xl"],[1,"mds-error"],[1,"flex","flex-column","text-bluegray-400","align-items-center","text-xl"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel",2),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"span",7),e._UZ(8,"i",8),e.qZA(),e._UZ(9,"p-calendar",9),e.qZA(),e.YNc(10,JI,6,1,"div",10),e.ALo(11,"async"),e._UZ(12,"div",11)(13,"p-menu",12,13),e.ALo(15,"async"),e.TgZ(16,"button",14),e.NdJ("click",function(w){e.CHM(s);const Q=e.MAs(14);return e.KtG(Q.toggle(w))}),e.qZA(),e._UZ(17,"p-toggleButton",15),e.qZA(),e.YNc(18,A_,2,1,"ng-container",16),e.ALo(19,"async"),e.YNc(20,z4,2,2,"ng-container",17),e.qZA(),e.YNc(21,d1,13,11,"div",18),e.ALo(22,"async"),e.qZA()()()}if(2&t){let s;e.xp6(1),e.Akn(e.DdM(20,q4)),e.xp6(4),e.Q6J("formGroup",i.cache.filtrationForm),e.xp6(4),e.Q6J("readonlyInput",!0)("firstDayOfWeek",1),e.xp6(1),e.Q6J("ngIf",e.lcZ(11,12,i.cache.positions$)),e.xp6(3),e.Q6J("popup",!0)("model",null!==(s=e.lcZ(15,14,i.cache.accountingMenuItems$))&&void 0!==s?s:e.DdM(21,$4)),e.xp6(4),e.Q6J("formControl",i.cache.ndflSwitch),e.xp6(1),e.Q6J("ngIf",e.lcZ(19,16,i.cache.salaryTable$)),e.xp6(2),e.Q6J("ngIf","READY"!==i.cache.tableLoadingState),e.xp6(1),e.Q6J("ngIf",e.lcZ(22,18,i.cache.selectedDay$))}}}),n})();function p1(n,o){1&n&&(e.TgZ(0,"span",28),e._uU(1," (\u0443\u0434\u0430\u043b\u0435\u043d) "),e.qZA())}function WI(n,o){if(1&n&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function YI(n,o){1&n&&(e.TgZ(0,"span",28),e._uU(1," \u0411\u0435\u0437 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f "),e.qZA())}function jI(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"p-button",31),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw().$implicit,p=e.oxw(2);return e.KtG(p.openCreationDialog(s))}),e.qZA(),e.TgZ(2,"p-button",32),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw().$implicit,p=e.oxw(2);return e.KtG(p.deletePaidAction(s.paidActionId))}),e.qZA()()}}function KI(n,o){if(1&n&&(e.TgZ(0,"div",17)(1,"div",18)(2,"span",19)(3,"span"),e._uU(4),e.qZA(),e.YNc(5,p1,2,0,"span",20),e.qZA(),e.YNc(6,WI,2,1,"span",21),e.YNc(7,YI,2,0,"span",20),e.qZA(),e.YNc(8,jI,3,0,"div",22),e.TgZ(9,"div",23)(10,"span",24),e._uU(11),e.ALo(12,"currency"),e.ALo(13,"unitName"),e.qZA(),e._UZ(14,"app-employee-label",25)(15,"div",26),e.TgZ(16,"span",27),e._uU(17),e.ALo(18,"date"),e.qZA()()()),2&n){const t=o.$implicit;e.xp6(4),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.deleted),e.xp6(1),e.Q6J("ngIf",t.description),e.xp6(1),e.Q6J("ngIf",!t.description),e.xp6(1),e.Q6J("ngIf",!t.deleted),e.xp6(3),e.AsE(" ",e.xi3(12,9,t.cost,"RUB"),"/",e.lcZ(13,12,t.unit)," "),e.xp6(3),e.Q6J("employee",t.creator),e.xp6(3),e.hij(" ",e.xi3(18,14,t.created,"dd MMMM yyyy HH:mm")," ")}}function qI(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",15),e.YNc(2,KI,19,17,"div",16),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",null==t.paidActionsPage?null:t.paidActionsPage.content)("ngForTrackBy",t.trackByPaidAction)}}function $I(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",33),e._UZ(2,"p-progressSpinner",34),e.qZA(),e.BQk())}function XI(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",35),e._UZ(2,"span",36),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()(),e.BQk())}function eT(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",37),e._UZ(2,"span",38),e.TgZ(3,"span"),e._uU(4,"\u041f\u043b\u0430\u0442\u043d\u044b\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439 \u043d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043d\u043e"),e.qZA()(),e.BQk())}function Gg(n,o){if(1&n&&(e.TgZ(0,"span",48),e._uU(1),e.ALo(2,"currency"),e.ALo(3,"unitName"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" \u0411\u0435\u0437 \u041d\u0414\u0424\u041b: ",e.xi3(2,2,t.withoutNDFL,"RUB"),"/",e.lcZ(3,5,t.createForm.value.unit)," ")}}function tT(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",49),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createPaidAction())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Udp("place-self","flex-end"),e.Q6J("loading",t.beginCreate)}}function h1(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",50),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.editPaidAction())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Udp("place-self","flex-end"),e.Q6J("loading",t.beginCreate)}}function Wg(n,o){if(1&n&&(e.TgZ(0,"div",39),e._UZ(1,"input",40)(2,"textarea",41)(3,"p-inputNumber",42)(4,"p-dropdown",43),e.TgZ(5,"div",44),e.YNc(6,Gg,4,7,"span",45),e._UZ(7,"div",26),e.YNc(8,tT,1,3,"p-button",46),e.YNc(9,h1,1,3,"p-button",47),e.qZA()()),2&n){const t=e.oxw();e.Udp("margin-top",".2rem"),e.Q6J("formGroup",t.createForm),e.xp6(2),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(1),e.Q6J("maxFractionDigits",1),e.xp6(1),e.Q6J("options",t.typeOptions),e.xp6(1),e.Q6J("ngSwitch",t.createDialogMode),e.xp6(1),e.Q6J("ngIf",t.withoutNDFL>0&&t.createForm.value.unit),e.xp6(2),e.Q6J("ngSwitchCase","create"),e.xp6(1),e.Q6J("ngSwitchCase","edit")}}const g1=function(){return{grid:"1fr min-content/1fr"}},f1=function(){return{width:"40rem"}};let ex=(()=>{class n{constructor(t,i,s,p,w){this.api=t,this.rt=i,this.route=s,this.router=p,this.confirm=w,this.loadingState=he.Gu.LOADING,this.subscriptions=new _.xf,this.filterForm=new f.cw({nameQuery:new f.NI(""),includeDeleted:new f.NI(!1)}),this.page=0,this.createDialogVisible=!1,this.createDialogMode="create",this.createForm=new f.cw({name:new f.NI("",[f.kI.required]),description:new f.NI(""),cost:new f.NI(0,[f.kI.required]),unit:new f.NI("",[f.kI.required])}),this.typeOptions=[{label:"\u0417\u0430 \u0448\u0442\u0443\u043a\u0443",value:he.b9.AMOUNT},{label:"\u0417\u0430 \u043c\u0435\u0442\u0440",value:he.b9.METRES},{label:"\u0417\u0430 \u043a\u0438\u043b\u043e\u0433\u0440\u0430\u043c\u043c",value:he.b9.KILOGRAMS}],this.beginCreate=!1}get withoutNDFL(){return this.createForm.value.cost?Math.round(this.createForm.value.cost-.13*this.createForm.value.cost):0}unitName(t){switch(t){case he.b9.AMOUNT:return"\u0448\u0442.";case he.b9.METRES:return"\u043c\u0435\u0442\u0440";case he.b9.KILOGRAMS:return"\u043a\u0433."}}get createDialogHeader(){return"create"===this.createDialogMode?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u043d\u043e\u0433\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u043d\u043e\u0433\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}trackByPaidAction(t,i){return i.paidActionId+i.name+i.description+i.cost+i.unit}ngOnInit(){this.filterForm.valueChanges.pipe((0,Is.b)(1e3),(0,zr.x)()).pipe((0,gt.U)(s=>{let p={includeDeleted:s.includeDeleted};return s.nameQuery&&(p.nameQuery=s.nameQuery),this.page=0,p})).subscribe(s=>{this.router.navigate(["."],{relativeTo:this.route,queryParams:s}).then()});const t=this.route.params.pipe((0,zr.x)()),i=this.route.queryParams.pipe((0,zr.x)());(0,Fo.a)([t,i]).subscribe(([s,p])=>{var w;this.loadingState=he.Gu.LOADING,this.filterForm.patchValue({nameQuery:null!==(w=p.nameQuery)&&void 0!==w?w:"",includeDeleted:"true"===p.includeDeleted}),this.api.getPageOfPaidActions(s.page-1,p).subscribe({next:Q=>{this.loadingState=Q.totalElements>0?he.Gu.READY:he.Gu.EMPTY,this.paidActionsPage=Q},error:()=>this.loadingState=he.Gu.ERROR,complete:()=>{this.page=s.page||0}})}),this.subscriptions.addSubscription("paCr",this.rt.paidActionCreated().subscribe(s=>{var p,w,Q;null!==(p=this.paidActionsPage)&&void 0!==p&&p.content.find(qe=>qe.identifier===s.identifier)||(null===(w=this.paidActionsPage)||void 0===w||w.content.unshift(s),this.paidActionsPage&&this.paidActionsPage.content.length>25&&(null===(Q=this.paidActionsPage)||void 0===Q||Q.content.pop()))})),this.subscriptions.addSubscription("paEd",this.rt.paidActionUpdated().subscribe(s=>{if(!this.paidActionsPage)return;const p=this.paidActionsPage.content.findIndex(w=>w.identifier===s.identifier);-1!==p&&(this.paidActionsPage.content[p]=s)})),this.subscriptions.addSubscription("paDe",this.rt.paidActionDeleted().subscribe(s=>{if(!this.paidActionsPage)return;const p=this.paidActionsPage.content.findIndex(w=>w.identifier===s.identifier);-1!==p&&(this.paidActionsPage.content.splice(p,1),this.paidActionsPage.totalElements--)}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}changePage(t){this.router.navigate(["/salary","paid-actions",t+1],{queryParamsHandling:"merge"})}openCreationDialog(t){var i;this.createForm.reset(),this.createDialogMode=t?"edit":"create",this.editingPaidActionId=null==t?void 0:t.paidActionId,t&&this.createForm.setValue({name:t.name,description:null!==(i=t.description)&&void 0!==i?i:"",cost:t.cost,unit:t.unit}),this.createDialogVisible=!0}createPaidAction(){this.createForm.valid&&(this.createForm.disable({emitEvent:!1}),this.beginCreate=!0,this.api.createPaidAction(this.createForm.value).subscribe({next:()=>{this.createForm.enable({emitEvent:!1}),this.createDialogVisible=!1,this.beginCreate=!1},error:()=>{this.createForm.enable({emitEvent:!1}),this.beginCreate=!1}}))}editPaidAction(){this.createForm.valid&&this.editingPaidActionId&&(this.createForm.disable({emitEvent:!1}),this.beginCreate=!0,this.api.editPaidAction(this.editingPaidActionId,this.createForm.value).subscribe({next:()=>{this.createForm.enable({emitEvent:!1}),this.createDialogVisible=!1,this.beginCreate=!1},error:()=>{this.createForm.enable({emitEvent:!1}),this.beginCreate=!1}}))}deletePaidAction(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043b\u0430\u0442\u043d\u043e\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435?",accept:()=>{this.api.deletePaidAction(t).subscribe()}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(d.gz),e.Y36(d.F0),e.Y36(F.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:19,vars:23,consts:[["appExtendPageHeight","",1,"flex"],[1,"flex","gap-3","flex-grow-1","px-3","mb-3"],[1,"grided","gap10","stretched"],[1,"flexed","gap10","panel","p10","vcenter",3,"formGroup"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"mdi-search"],["formControlName","nameQuery","pInputText","","placeholder","\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435...","type","text"],["formControlName","includeDeleted","offIcon","mdi-visibility","offLabel","\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435","onIcon","mdi-visibility_off","onLabel","\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success",3,"onClick"],[1,"grided","panel","p10",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"first","rows","totalRecords","onPageChange"],["appendTo","body",3,"visible","draggable","dismissableMask","header","modal","resizable","visibleChange"],["pTemplate","content"],[1,"flexed","column"],["class","flexed p10 gap10 h-fit split-line",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","p10","gap10","h-fit","split-line"],[1,"flexed","column","stretched"],[1,"caption","size-big","flexed","hcenter","gap3"],["class","caption size-small f-color-500",4,"ngIf"],["class","caption size-small",4,"ngIf"],["class","flexed column gap5",4,"ngIf"],[1,"flexed","column","gap5","vend","hstart"],[1,"caption"],[3,"employee"],[1,"stretched"],[1,"caption","size-tiny","wt-bold","f-color-500"],[1,"caption","size-small","f-color-500"],[1,"caption","size-small"],[1,"flexed","column","gap5"],["icon","mdi-edit","styleClass","p-button-warning p-button-icon p-button-outlined",3,"onClick"],["icon","mdi-delete","styleClass","p-button-danger p-button-icon p-button-outlined",3,"onClick"],[1,"grided","vcenter","hcenter"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"caption","size-big","wt-bold","f-color-danger","grided","vcenter","hcenter"],[1,"mds-error"],[1,"caption","size-big","wt-bold","f-color-500","grided","vcenter","hcenter"],[1,"mds-search_off"],[1,"grided","gap10",3,"formGroup"],["formControlName","name","pInputText","","placeholder","\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435...","type","text"],["formControlName","description","pInputTextarea","","placeholder","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435...",3,"autoResize","cols","rows"],["currency","RUB","formControlName","cost","locale","ru-RU","mode","currency","placeholder","\u0421\u0443\u043c\u043c\u0430...",3,"maxFractionDigits"],["appendTo","body","formControlName","unit","placeholder","\u0422\u0438\u043f",3,"options"],[1,"flexed","hcenter",3,"ngSwitch"],["class","caption size-big f-color-500",4,"ngIf"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success",3,"loading","place-self","onClick",4,"ngSwitchCase"],["icon","mdi-pencil","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-success",3,"loading","place-self","onClick",4,"ngSwitchCase"],[1,"caption","size-big","f-color-500"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success",3,"loading","onClick"],["icon","mdi-pencil","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-success",3,"loading","onClick"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2)(4,"div",3)(5,"span",4)(6,"span",5),e._UZ(7,"i",6),e.qZA(),e._UZ(8,"input",7),e.qZA(),e._UZ(9,"p-toggleButton",8),e.TgZ(10,"p-button",9),e.NdJ("onClick",function(){return i.openCreationDialog()}),e.qZA()(),e.TgZ(11,"div",10),e.YNc(12,qI,3,2,"ng-container",11),e.YNc(13,$I,3,0,"ng-container",11),e.YNc(14,XI,5,0,"ng-container",11),e.YNc(15,eT,5,0,"ng-container",11),e.TgZ(16,"p-paginator",12),e.NdJ("onPageChange",function(p){return i.changePage(p.page)}),e.qZA()()()()(),e.TgZ(17,"p-dialog",13),e.NdJ("visibleChange",function(p){return i.createDialogVisible=p}),e.YNc(18,Wg,10,12,"ng-template",14),e.qZA()),2&t){let s;e.xp6(3),e.Udp("grid","min-content 1fr/1fr"),e.xp6(1),e.Q6J("formGroup",i.filterForm),e.xp6(7),e.Akn(e.DdM(21,g1)),e.Q6J("ngSwitch",i.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("first",25*(i.page-1))("rows",25)("totalRecords",null!==(s=null==i.paidActionsPage?null:i.paidActionsPage.totalElements)&&void 0!==s?s:0),e.xp6(1),e.Akn(e.DdM(22,f1)),e.Q6J("visible",i.createDialogVisible)("draggable",!1)("dismissableMask",!0)("header",i.createDialogHeader)("modal",!0)("resizable",!1)}}}),n})();var dh=b(2629);const m1=function(){return{padding:"0 0 0 1rem"}};function tx(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"span",26),e._uU(2,"\u0421\u043f\u0438\u0441\u043e\u043a \u0440\u0430\u0431\u043e\u0442"),e.qZA(),e._UZ(3,"div",27),e.TgZ(4,"p-button",28),e.NdJ("onClick",function(s){e.CHM(t),e.oxw();const p=e.MAs(17);return e.KtG(p.toggle(s))}),e.qZA()()}2&n&&e.Akn(e.DdM(2,m1))}function _1(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",29)(1,"p-button",30),e.NdJ("onClick",function(s){e.CHM(t),e.oxw();const p=e.MAs(19);return e.KtG(p.toggle(s))}),e.qZA()()}}function nT(n,o){1&n&&e.GkF(0)}function nx(n,o){if(1&n&&(e.ynx(0),e.YNc(1,nT,1,0,"ng-container",31),e.BQk()),2&n){e.oxw();const t=e.MAs(29);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function ix(n,o){1&n&&e.GkF(0)}function ox(n,o){1&n&&e.GkF(0)}function Yg(n,o){1&n&&e.GkF(0)}function sx(n,o){1&n&&e.GkF(0)}const ph=function(n){return{$implicit:n}};function iT(n,o){if(1&n&&(e.ynx(0),e.YNc(1,sx,1,0,"ng-container",37),e.BQk()),2&n){const t=o.$implicit;e.oxw(4);const i=e.MAs(37);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ph,t))}}function oT(n,o){1&n&&e.GkF(0)}function rx(n,o){if(1&n&&(e.TgZ(0,"div",41)(1,"span",42),e._uU(2," \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: "),e.qZA(),e.TgZ(3,"span",43),e._uU(4),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(4),e.hij(" ",t.selectedNodeInTree.data.description," ")}}const C1=function(){return{alignContent:"flex-start"}};function ax(n,o){if(1&n&&(e.TgZ(0,"div",36),e.YNc(1,ox,1,0,"ng-container",37),e.TgZ(2,"div",38),e.YNc(3,Yg,1,0,"ng-container",31),e.YNc(4,iT,2,4,"ng-container",39),e.YNc(5,oT,1,0,"ng-container",31),e.qZA(),e.YNc(6,rx,5,1,"div",40),e.qZA()),2&n){const t=e.oxw(3),i=e.MAs(27),s=e.MAs(33),p=e.MAs(35);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(10,ph,t.selectedNodeInTree)),e.xp6(1),e.Akn(e.DdM(12,C1)),e.Q6J("@flowInChild",void 0),e.xp6(1),e.Q6J("ngTemplateOutlet",s),e.xp6(1),e.Q6J("ngForOf",null==t.selectedNodeInTree?null:t.selectedNodeInTree.children)("ngForTrackBy",t.trackByNode),e.xp6(1),e.Q6J("ngTemplateOutlet",p),e.xp6(1),e.Q6J("ngIf",null==t.selectedNodeInTree?null:t.selectedNodeInTree.data.description)}}function sT(n,o){1&n&&e.GkF(0)}function lx(n,o){1&n&&e.GkF(0)}function v1(n,o){if(1&n&&(e.ynx(0),e.YNc(1,lx,1,0,"ng-container",31),e.BQk()),2&n){e.oxw(4);const t=e.MAs(29);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function b1(n,o){1&n&&e.GkF(0)}function rT(n,o){if(1&n&&(e.ynx(0),e.YNc(1,b1,1,0,"ng-container",31),e.BQk()),2&n){e.oxw(4);const t=e.MAs(31);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function kl(n,o){if(1&n&&(e.TgZ(0,"div",47)(1,"span",48),e._uU(2,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(3,"span",51),e._uU(4),e.qZA()()),2&n){const t=e.oxw(5);e.xp6(4),e.Oqu(null==t.currentWork?null:t.currentWork.description)}}function cx(n,o){1&n&&e.GkF(0)}function w_(n,o){if(1&n&&(e.ynx(0),e.YNc(1,cx,1,0,"ng-container",37),e.BQk()),2&n){const t=o.$implicit;e.oxw(5);const i=e.MAs(25);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ph,t))}}function ux(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",45),e.YNc(2,kl,5,1,"div",46),e.TgZ(3,"div",47)(4,"span",48),e._uU(5," \u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f "),e.qZA(),e.TgZ(6,"div",47),e.YNc(7,w_,2,4,"ng-container",39),e.qZA(),e._UZ(8,"div",49),e.TgZ(9,"div",50)(10,"span"),e._uU(11,"\u0412\u0441\u0435\u0433\u043e"),e.qZA(),e.TgZ(12,"span"),e._uU(13),e.qZA()()()(),e.BQk()),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("ngIf",null==t.currentWork?null:t.currentWork.description),e.xp6(5),e.Q6J("ngForOf",null==t.currentWork?null:t.currentWork.actions)("ngForTrackBy",t.trackByAction),e.xp6(6),e.hij("",t.currentWorkActionsSum," \u0440\u0443\u0431")}}function ul(n,o){if(1&n&&(e.TgZ(0,"div",44),e.YNc(1,sT,1,0,"ng-container",37),e.ynx(2,8),e.YNc(3,v1,2,1,"ng-container",9),e.YNc(4,rT,2,1,"ng-container",9),e.YNc(5,ux,14,4,"ng-container",9),e.BQk(),e.qZA()),2&n){const t=e.oxw(3),i=e.MAs(27);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(6,ph,t.selectedNodeInTree)),e.xp6(1),e.Q6J("ngSwitch",t.workLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY")}}function dx(n,o){if(1&n&&(e.ynx(0,8),e.YNc(1,ax,7,13,"div",34),e.YNc(2,ul,6,8,"div",35),e.BQk()),2&n){const t=e.oxw(2);e.Q6J("ngSwitch",t.selectedNodeInTree.type),e.xp6(1),e.Q6J("ngSwitchCase","group"),e.xp6(1),e.Q6J("ngSwitchCase","work")}}function E_(n,o){1&n&&e.GkF(0)}function px(n,o){if(1&n&&(e.ynx(0),e.YNc(1,E_,1,0,"ng-container",37),e.BQk()),2&n){const t=o.$implicit;e.oxw(3);const i=e.MAs(37);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ph,t))}}function hx(n,o){1&n&&e.GkF(0)}function S_(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",52)(2,"div",53),e.YNc(3,px,2,4,"ng-container",39),e.YNc(4,hx,1,0,"ng-container",31),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2),i=e.MAs(35);e.xp6(2),e.Akn(e.DdM(6,C1)),e.Q6J("@flowInChild",void 0),e.xp6(1),e.Q6J("ngForOf",t.treeMenuItems)("ngForTrackBy",t.trackByNode),e.xp6(1),e.Q6J("ngTemplateOutlet",i)}}function y1(n,o){if(1&n&&(e.ynx(0),e.YNc(1,dx,3,3,"ng-container",32),e.YNc(2,S_,5,7,"ng-container",33),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selectedNodeInTree),e.xp6(1),e.Q6J("ngIf",!t.selectedNodeInTree)}}function x1(n,o){1&n&&e.GkF(0)}function gx(n,o){1&n&&e.GkF(0)}function I1(n,o){1&n&&e.GkF(0)}function T1(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",54),e.YNc(2,x1,1,0,"ng-container",37),e.TgZ(3,"div",53),e.YNc(4,gx,1,0,"ng-container",31),e.YNc(5,I1,1,0,"ng-container",31),e.TgZ(6,"div",55),e._UZ(7,"span",56),e.TgZ(8,"span"),e._uU(9,"\u041d\u0435\u0442 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"),e.qZA()()()(),e.BQk()),2&n){const t=e.oxw(),i=e.MAs(27),s=e.MAs(33),p=e.MAs(35);e.xp6(2),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(4,ph,t.selectedNodeInTree)),e.xp6(2),e.Q6J("ngTemplateOutlet",s),e.xp6(1),e.Q6J("ngTemplateOutlet",p)}}function fx(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",62),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createGroup())}),e.qZA()}2&n&&e.Udp("place-self","flex-end")}function A1(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",63),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.updateGroup())}),e.qZA()}2&n&&e.Udp("place-self","flex-end")}const w1=function(){return{maxWidth:"15rem"}};function hh(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",57),e.NdJ("keyup.enter",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.enterButtonPress())}),e._UZ(1,"input",58)(2,"textarea",59),e.ynx(3,8),e.YNc(4,fx,1,2,"p-button",60),e.YNc(5,A1,1,2,"p-button",61),e.BQk(),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.createGroupForm),e.xp6(1),e.Akn(e.DdM(7,w1)),e.xp6(1),e.Q6J("autoResize",!0),e.xp6(1),e.Q6J("ngSwitch",t.createGroupDialogMode),e.xp6(1),e.Q6J("ngSwitchCase","create"),e.xp6(1),e.Q6J("ngSwitchCase","edit")}}function ec(n,o){if(1&n&&(e.TgZ(0,"div",74)(1,"p-inputNumber",75),e.NdJ("mousedown",function(i){return i.stopPropagation()})("dblclick",function(i){return i.stopPropagation()}),e.qZA()()),2&n){const t=e.oxw().$implicit;e.Q6J("formGroup",t.control),e.xp6(1),e.Q6J("size",4)("min",.01)("minFractionDigits",0)("maxFractionDigits",2)("max",99999)("allowEmpty",!1)}}function E1(n,o){if(1&n&&(e.TgZ(0,"div",69)(1,"div",70)(2,"span",71),e._uU(3),e.qZA(),e.TgZ(4,"span",72),e._uU(5),e.ALo(6,"unitName"),e.qZA()(),e.YNc(7,ec,2,7,"div",73),e.qZA()),2&n){const t=o.$implicit;e.xp6(2),e.Udp("max-width","15rem"),e.xp6(1),e.hij(" ",t.name," "),e.xp6(2),e.AsE(" ",t.cost," \u0440\u0443\u0431./",e.lcZ(6,6,t.unit)," "),e.xp6(2),e.Q6J("ngIf","select"===t.mode)}}function k_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",62),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createWork())}),e.qZA()}2&n&&e.Udp("place-self","flex-end")}function bc(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",63),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.updateWork())}),e.qZA()}2&n&&e.Udp("place-self","flex-end")}const S1=function(){return{height:"30rem"}};function aT(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",64),e._UZ(1,"input",65)(2,"textarea",66),e.TgZ(3,"p-pickList",67),e.NdJ("onMoveToSource",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.unselectPaidAction(s))})("onMoveToTarget",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.selectPaidAction(s))}),e.YNc(4,E1,8,8,"ng-template",68),e.qZA(),e.ynx(5,8),e.YNc(6,k_,1,2,"p-button",60),e.YNc(7,bc,1,2,"p-button",61),e.BQk(),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.createWorkForm),e.xp6(1),e.Akn(e.DdM(14,w1)),e.xp6(1),e.Q6J("autoResize",!0),e.xp6(1),e.Q6J("dragdrop",!0)("showSourceControls",!1)("showTargetControls",!1)("source",t.availablePaidActions)("sourceStyle",e.DdM(15,S1))("targetStyle",e.DdM(16,S1))("target",t.selectedPaidActions),e.xp6(2),e.Q6J("ngSwitch",t.createWorkDialogMode),e.xp6(1),e.Q6J("ngSwitchCase","create"),e.xp6(1),e.Q6J("ngSwitchCase","edit")}}function mx(n,o){if(1&n&&(e.TgZ(0,"div",76)(1,"div",47)(2,"span",77),e._uU(3),e.qZA(),e.TgZ(4,"span",78),e._UZ(5,"span",79),e.TgZ(6,"span"),e._uU(7),e.ALo(8,"unitName"),e.qZA()()(),e._UZ(9,"div",27),e.TgZ(10,"span",80),e._uU(11),e.ALo(12,"unitName"),e.qZA(),e.TgZ(13,"span",81),e._uU(14),e.qZA()()),2&n){const t=o.$implicit;e.xp6(3),e.hij(" ",t.action.name," "),e.xp6(4),e.AsE(" ",t.action.cost," \u0440\u0443\u0431/",e.lcZ(8,6,t.action.unit)," "),e.xp6(4),e.AsE(" \u041a\u043e\u043b-\u0432\u043e: ",t.count," ",e.lcZ(12,8,t.action.unit)," "),e.xp6(3),e.hij(" \u0421\u0442\u043e\u0439\u043c\u043e\u0441\u0442\u044c: ",t.action.cost*t.count," \u0440\u0443\u0431 ")}}function _x(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",82)(2,"span"),e._uU(3),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(3),e.hij(" ",t.data.name," ")}}function Cx(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",83)(2,"p-button",84),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.back())}),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA(),e._UZ(5,"div",27),e.TgZ(6,"p-button",85),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2).$implicit,p=e.oxw();return p.editingWorkId=s.data.id,e.KtG(p.openEditWorkDialog())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(4),e.hij(" ",t.data.name," ")}}function vx(n,o){if(1&n&&(e.ynx(0,8),e.YNc(1,_x,4,1,"ng-container",9),e.YNc(2,Cx,7,1,"ng-container",9),e.BQk()),2&n){const t=e.oxw().$implicit;e.Q6J("ngSwitch",t.type),e.xp6(1),e.Q6J("ngSwitchCase","group"),e.xp6(1),e.Q6J("ngSwitchCase","work")}}function k1(n,o){1&n&&e.YNc(0,vx,3,3,"ng-container",32),2&n&&e.Q6J("ngIf",o.$implicit)}function lT(n,o){1&n&&(e.TgZ(0,"div",86),e._UZ(1,"p-progressSpinner",87),e.qZA())}function D1(n,o){1&n&&(e.TgZ(0,"div",86)(1,"div",88),e._UZ(2,"span",89),e.TgZ(3,"span"),e._uU(4," \u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 "),e.qZA()()())}function bx(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",91),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.back())}),e._UZ(1,"span",92),e.TgZ(2,"span",93),e._uU(3,"\u041d\u0430\u0437\u0430\u0434"),e.qZA()()}}function M1(n,o){if(1&n&&e.YNc(0,bx,4,0,"div",90),2&n){const t=e.oxw();e.Q6J("ngIf",t.selectedNodeInTree)}}function cT(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",91),e.NdJ("click",function(s){e.CHM(t),e.oxw();const p=e.MAs(19);return e.KtG(p.toggle(s))}),e._UZ(1,"span",94),e.TgZ(2,"span",93),e._uU(3,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),e.qZA()()}}function D_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",91),e.NdJ("click",function(){const p=e.CHM(t).$implicit,w=e.oxw();return e.KtG(w.selectGroupInView(p))}),e._UZ(1,"span"),e.TgZ(2,"span",95),e._uU(3),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Tol("group"===t.type?"mds-folder":"mds-construction"),e.xp6(2),e.Oqu(t.data.name)}}const O1=function(){return{padding:"0"}};let M_=(()=>{class n{constructor(t,i,s){this.api=t,this.rt=i,this.confirmation=s,this.rootContextMenuItems=[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443",icon:"mdi-folder",command:()=>this.openCreateGroupDialog()},{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443",icon:"mdi-construction",command:()=>this.openCreateWorkDialog()}],this.treeMenuItems=[],this.createGroupDialogVisible=!1,this.createGroupDialogMode="create",this.createGroupForm=new f.cw({name:new f.NI("",[f.kI.required]),description:new f.NI(""),parentGroupId:new f.NI(null)}),this.treeContextMenuItems=[],this.subscriptions=new _.xf,this.createWorkDialogVisible=!1,this.createWorkDialogMode="create",this.createWorkForm=new f.cw({name:new f.NI("",[f.kI.required]),description:new f.NI(""),parentGroupId:new f.NI(null),actions:new f.Oe([],[P.d.notEmpty])}),this.breadcrumbHome={icon:"mdi-home",command:()=>{this.selectedNodeInTree=void 0,this.changeBreadcrumbs()}},this.breadcrumb=[],this.availablePaidActions=[],this.selectedPaidActions=[],this.loadingTreeState=he.Gu.LOADING,this.workLoadingState=he.Gu.LOADING,this.inViewContextMenuItems=[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443",icon:"mdi-folder",command:()=>this.openCreateGroupDialog(this.selectedNodeInTree?this.selectedNodeInTree.key:void 0)},{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443",icon:"mdi-construction",command:()=>this.openCreateWorkDialog(this.selectedNodeInTree?this.selectedNodeInTree.key:void 0)}],dh.mp.prototype.isNodeLeaf=p=>p.leaf}get currentWorkActionsSum(){return this.currentWork?this.currentWork.actions.reduce((t,i)=>t+i.count*i.action.cost,0):0}trackByAction(t,i){return i.paidActionTemplateId+i.count}trackByNode(t,i){var s,p;return null!==(p=null!==(s=i.key)&&void 0!==s?s:""+i.leaf)&&void 0!==p?p:""+i.label+JSON.stringify(i.data)}selectPaidAction(t){t.items.forEach(i=>{i.mode="select",i.controlIndex=this.createWorkForm.controls.actions.length,i.control=new f.cw({actionId:new f.NI(i.paidActionId),count:new f.NI(1)}),this.createWorkForm.controls.actions.push(i.control)})}unselectPaidAction(t){t.items.forEach(i=>{i.mode=void 0,i.control=void 0,this.createWorkForm.controls.actions.removeAt(i.controlIndex)})}unitName(t){switch(t){case he.b9.AMOUNT:return"\u0448\u0442.";case he.b9.METRES:return"\u043c.";case he.b9.KILOGRAMS:return"\u043a\u0433."}}changeContextMenuItems(){var t,i,s;if(this.selectedNodeInTree)switch(this.selectedNodeInTree.type){case"group":this.treeContextMenuItems=[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",icon:"mdi-add",items:[{label:"\u0413\u0440\u0443\u043f\u043f\u0443",icon:"mdi-folder",command:()=>this.openCreateGroupDialog(this.selectedNodeInTree?this.selectedNodeInTree.key:void 0)},{label:"\u0420\u0430\u0431\u043e\u0442\u0443",icon:"mdi-construction",command:()=>this.openCreateWorkDialog(this.selectedNodeInTree?this.selectedNodeInTree.key:void 0)}]},{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",command:()=>this.openEditGroupDialog()},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"mdi-delete",command:()=>this.deleteGroup()}];break;case"work":this.treeContextMenuItems=[{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",command:()=>this.openEditWorkDialog()},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"mdi-delete",command:()=>this.deleteWork()}]}"group"===(null===(t=this.selectedNodeInTree)||void 0===t?void 0:t.type)?this.loadOfGroup({node:this.selectedNodeInTree},()=>this.changeBreadcrumbs()):"work"===(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.type)&&null!==(s=this.selectedNodeInTree)&&void 0!==s&&s.key&&this.loadWork(this.selectedNodeInTree.key)}changeBreadcrumbs(){if(this.selectedNodeInTree){let t=this.selectedNodeInTree;const i=[];for(;t;){let s=t.key;i.push({label:t.label,key:s,command:()=>{var p;if((null===(p=this.selectedNodeInTree)||void 0===p?void 0:p.key)===s)return;let w;const Q=[];for(let Ce of this.breadcrumb)if(void 0===w?w=this.treeMenuItems.find(qe=>qe.key===Ce.key):w.children&&(w=w.children.find(qe=>qe.key===Ce.key)),Q.push(Ce),w&&w.key===s)break;this.selectedNodeInTree=w,this.breadcrumb=Q}}),t=t.parent}this.breadcrumb=i.reverse()}else this.breadcrumb=[]}openCreateGroupDialog(t){this.createGroupForm.reset(),this.createGroupDialogMode="create",this.createGroupDialogVisible=!0,this.createGroupForm.patchValue({parentGroupId:t?parseInt(t.substring(1)):null})}openEditGroupDialog(){var t,i,s,p,w,Q,Ce,qe,$e,$t;null===(t=this.selectedNodeInTree)||void 0===t||!t.key||(this.createGroupForm.reset(),this.editingGroupId=parseInt(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.key.substring(1)),this.createGroupDialogMode="edit",this.createGroupDialogVisible=!0,this.createGroupForm.setValue({name:null!==(p=null===(s=this.selectedNodeInTree)||void 0===s?void 0:s.label)&&void 0!==p?p:"",description:null!==(Q=null===(w=this.selectedNodeInTree)||void 0===w?void 0:w.data.description)&&void 0!==Q?Q:"",parentGroupId:null!==(qe=null===(Ce=this.selectedNodeInTree)||void 0===Ce?void 0:Ce.parent)&&void 0!==qe&&qe.key?parseInt(null===($t=null===($e=this.selectedNodeInTree)||void 0===$e?void 0:$e.parent)||void 0===$t?void 0:$t.key):null}))}openCreateWorkDialog(t){this.createWorkForm.reset(),this.createWorkDialogMode="create",this.createWorkDialogVisible=!0,this.createWorkForm.controls.actions.clear(),this.createWorkForm.patchValue({parentGroupId:t?parseInt(t.substring(1)):null}),this.selectedPaidActions=[],this.api.getListAvailablePaidActions().subscribe({next:i=>this.availablePaidActions=i})}openEditWorkDialog(){var t,i,s,p,w,Q,Ce,qe,$e,$t;null===(t=this.selectedNodeInTree)||void 0===t||!t.key||(this.createWorkForm.reset(),this.editingWorkId=parseInt(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.key.substring(1)),this.createWorkDialogMode="edit",this.createWorkDialogVisible=!0,this.createWorkForm.patchValue({name:null!==(p=null===(s=this.selectedNodeInTree)||void 0===s?void 0:s.label)&&void 0!==p?p:"",description:null!==(Q=null===(w=this.selectedNodeInTree)||void 0===w?void 0:w.data.description)&&void 0!==Q?Q:"",parentGroupId:null!==(qe=null===(Ce=this.selectedNodeInTree)||void 0===Ce?void 0:Ce.parent)&&void 0!==qe&&qe.key?parseInt(null===($t=null===($e=this.selectedNodeInTree)||void 0===$e?void 0:$e.parent)||void 0===$t?void 0:$t.key):null}),this.selectedPaidActions=[],this.createWorkForm.controls.actions.clear(),this.api.getListAvailablePaidActions().subscribe({next:jt=>{var Gt;!(null===(Gt=this.selectedNodeInTree)||void 0===Gt)&&Gt.data.actions&&this.selectedNodeInTree.data.actions.forEach(fn=>{let Rn=structuredClone(fn.action);Rn.mode="select",Rn.controlIndex=this.createWorkForm.controls.actions.length,Rn.control=new f.cw({actionId:new f.NI(Rn.paidActionId),count:new f.NI(fn.count)}),this.selectedPaidActions.push(Rn),this.createWorkForm.controls.actions.push(Rn.control)}),this.availablePaidActions=jt.filter(fn=>-1===this.selectedPaidActions.findIndex(Rn=>Rn.paidActionId===fn.paidActionId))}}))}ngOnInit(){this.api.getRootTreeOfWorks().subscribe({next:t=>{this.treeMenuItems=t,this.loadingTreeState=t.length>0?he.Gu.READY:he.Gu.EMPTY},error:()=>{this.loadingTreeState=he.Gu.ERROR}}),this.subscriptions.addSubscription("trMove",this.rt.paidWorksTreeMoved().subscribe(t=>{const i=this.foundNodeByPath(t.sourcePath),s=this.foundNodeByPath(t.targetPath);if(i){if(i.children){const p=i.children.findIndex(w=>w.key===t.object.key&&w.type===t.object.type);p>-1&&i.children.splice(p,1),0===i.children.length&&(i.leaf=!0)}}else{const p=this.treeMenuItems.findIndex(w=>w.key===t.object.key&&w.type===t.object.type);p>-1&&this.treeMenuItems.splice(p,1)}s?(s.children?-1===s.children.findIndex(w=>w.key===t.object.key&&w.type===t.object.type)&&s.children.push(t.object):(s.children=[],s.children.push(t.object)),s.leaf=!1):-1===this.treeMenuItems.findIndex(w=>w.key===t.object.key&&w.type===t.object.type)&&this.treeMenuItems.push(t.object)})),this.subscriptions.addSubscription("trUpd",this.rt.paidWorksTreeUpdated().subscribe(t=>{var i,s;const p=this.foundNodeByPath(t.path);if(p&&p.children){const w=null===(i=p.children)||void 0===i?void 0:i.findIndex(Q=>Q.key===t.object.key&&Q.type===t.object.type);w>-1&&(p.children[w]=t.object)}else if(!p){const w=this.treeMenuItems.findIndex(Q=>Q.key===t.object.key&&Q.type===t.object.type);w>-1&&(this.treeMenuItems[w]=t.object)}(null===(s=this.selectedNodeInTree)||void 0===s?void 0:s.key)===t.object.key&&(this.selectedNodeInTree=t.object)})),this.subscriptions.addSubscription("trCr",this.rt.paidWorksTreeCreated().subscribe(t=>{const i=this.foundNodeByPath(t.path);i?(i.children||(i.children=[]),i.children.push(t.object),i.children.sort((s,p)=>s.position-p.position),i.leaf=!1):(this.treeMenuItems.push(t.object),this.treeMenuItems.sort((s,p)=>s.position-p.position))})),this.subscriptions.addSubscription("trDel",this.rt.paidWorksTreeDeleted().subscribe(t=>{var i;const s=this.foundNodeByPath(t.path);if(s&&s.children){const p=s.children.findIndex(w=>w.key===t.object.key);this.selectedNodeInTree===s.children[p]&&(this.selectedNodeInTree=void 0),p>-1&&(null===(i=s.children)||void 0===i||i.splice(p,1))}else if(!s){const p=this.treeMenuItems.findIndex(w=>w.key===t.object.key);this.selectedNodeInTree===this.treeMenuItems[p]&&(this.selectedNodeInTree=void 0),p>-1&&this.treeMenuItems.splice(p,1)}})),this.subscriptions.addSubscription("workUp",this.rt.paidWorkUpdated().subscribe({next:t=>{var i;(null===(i=this.currentWork)||void 0===i?void 0:i.paidWorkId)===t.paidWorkId&&(this.currentWork=t)}})),this.subscriptions.addSubscription("sort",this.rt.worksTreeReposition().subscribe(t=>{t.forEach(i=>{const s="group"===i.type?"g":"w";if(i.path&&i.path.length>0){const p=this.foundNodeByPath(i.path);p&&p.children&&(p.children.find(Q=>Q.key===s+i.id).position=i.position,p.children.sort((Q,Ce)=>Q.position-Ce.position))}else this.treeMenuItems.find(w=>w.key===s+i.id).position=i.position,this.treeMenuItems.sort((w,Q)=>w.position-Q.position)})}))}foundNodeByPath(t){var i;if(!t||0===t.length)return null;let s=null,p=this.treeMenuItems;for(let w of t){if(!p)return null;if(s=null!==(i=p.find(Q=>Q.key==="g"+w))&&void 0!==i?i:null,!s)return null;p=s.children}return s}ngOnDestroy(){this.subscriptions.unsubscribeAll()}createGroup(){this.createGroupForm.valid&&this.api.createPaidWorkGroup(this.createGroupForm.value).subscribe(()=>{this.createGroupDialogVisible=!1})}updateGroup(){this.editingGroupId&&this.createGroupForm.valid&&this.api.editPaidWorkGroup(this.editingGroupId,this.createGroupForm.value).subscribe(()=>{this.createGroupDialogVisible=!1})}nodeDrop(t){this.api.treeWorksDragDrop(new he.AE(t)).subscribe(),this.api.paidWorkTreeReposition(this.getPositions(t)).subscribe(()=>this.changeBreadcrumbs())}getPositions(t){const i=t.dragNode.parent,s=t.dropNode.parent;let p=[];return i||s?i?s?i===s&&(p=[...i.children.map((w,Q)=>({id:w.key.substring(1),type:w.type,position:Q}))]):p=[...i.children.map((w,Q)=>({id:w.key.substring(1),type:w.type,position:Q})),...this.treeMenuItems.map((w,Q)=>({id:w.key.substring(1),type:w.type,position:Q}))]:p=[...this.treeMenuItems.map((w,Q)=>({id:w.key.substring(1),type:w.type,position:Q})),...s.children.map((w,Q)=>({id:w.key.substring(1),type:w.type,position:Q}))]:p=this.treeMenuItems.map((w,Q)=>({id:w.key.substring(1),type:w.type,position:Q})),p}loadOfGroup(t,i=(()=>{})){"group"!==t.node.type||t.node.children&&t.node.children.length>0?"group"===t.node.type&&(this.loadingTreeState=he.Gu.READY,i()):(this.loadingTreeState=he.Gu.LOADING,this.api.getWorksOfGroup(t.node.key.substring(1)).subscribe({next:s=>{t.node.children=s,this.loadingTreeState=s.length>0?he.Gu.READY:he.Gu.EMPTY,i()},error:()=>{this.loadingTreeState=he.Gu.ERROR}}))}createWork(){this.createWorkForm.valid&&this.api.createPaidWork(this.createWorkForm.value).subscribe({next:()=>{this.createWorkDialogVisible=!1},error:()=>{}})}updateWork(){this.editingWorkId&&this.createWorkForm.valid&&this.api.editPaidWork(this.editingWorkId,this.createWorkForm.value).subscribe(()=>{this.createWorkDialogVisible=!1})}selectNode(t){var i;"group"===t.node.type?this.loadOfGroup(t,()=>this.changeBreadcrumbs()):null!==(i=this.selectedNodeInTree)&&void 0!==i&&i.key&&this.loadWork(this.selectedNodeInTree.key)}selectGroupInView(t){setTimeout(()=>{var i,s;this.selectedNodeInTree&&!this.selectedNodeInTree.leaf&&(this.selectedNodeInTree.expanded=!0),this.selectedNodeInTree=t,"group"===(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.type)?this.loadOfGroup({node:t},()=>this.changeBreadcrumbs()):null!==(s=this.selectedNodeInTree)&&void 0!==s&&s.key&&this.loadWork(this.selectedNodeInTree.key)},200)}loadWork(t){this.loadingTreeState=he.Gu.READY,this.workLoadingState=he.Gu.LOADING,this.api.getPaidWorkById(parseInt(t.substring(1))).subscribe({next:i=>{this.currentWork=i,this.workLoadingState=he.Gu.READY,this.changeBreadcrumbs()},error:()=>{this.workLoadingState=he.Gu.ERROR}})}back(){var t;this.loadingTreeState=he.Gu.READY,this.selectedNodeInTree&&(this.selectedNodeInTree.expanded=!1),this.selectedNodeInTree=null===(t=this.selectedNodeInTree)||void 0===t?void 0:t.parent,this.changeBreadcrumbs()}deleteGroup(){var t,i;null===(t=this.selectedNodeInTree)||void 0===t||!t.key||(this.editingGroupId=parseInt(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.key.substring(1)),this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443 \u0440\u0430\u0431\u043e\u0442? (\u0420\u0430\u0431\u043e\u0442\u044b \u0432 \u0433\u0440\u0443\u043f\u043f\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u044b \u043d\u0435 \u0431\u0443\u0434\u0443\u0442)",accept:()=>{!this.editingGroupId||this.api.deletePaidWorkGroup(this.editingGroupId).subscribe(()=>{})}}))}deleteWork(){var t,i;null===(t=this.selectedNodeInTree)||void 0===t||!t.key||(this.editingWorkId=parseInt(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.key.substring(1)),this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443?",accept:()=>{!this.editingWorkId||this.api.deletePaidWork(this.editingWorkId).subscribe(()=>{})}}))}enterButtonPress(){"create"===this.createGroupDialogMode?this.createGroup():"edit"===this.createGroupDialogMode&&this.updateGroup()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(F.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e._Bn([F.Y])],decls:38,vars:32,consts:[["appExtendPageHeight","",1,"flex"],[1,"flex","gap-3","flex-grow-1","mb-3","px-3"],[1,"flexed","column","gap10","stretched","panel","p10"],[3,"home","model"],[1,"flexed","gap10","stretched"],["styleClass","work-tree","draggableScope","self","droppableScope","self","selectionMode","single",3,"selection","contextMenu","draggableNodes","droppableNodes","lazy","loading","value","onNodeContextMenuSelect","onNodeDrop","onNodeExpand","onNodeSelect","onNodeUnselect","selectionChange"],["pTemplate","header"],["pTemplate","empty"],[3,"ngSwitch"],[4,"ngSwitchCase"],["appendTo","body",3,"model"],["treeContextMenu",""],[3,"model","popup"],["rootTreeMenu",""],["inViewContextMenu",""],["appendTo","body",3,"visible","dismissableMask","header","resizable","visibleChange"],["pTemplate","content"],[3,"visible","dismissableMask","autoZIndex","baseZIndex","header","resizable","visibleChange"],["workEntryRef",""],["nodeTitleRef",""],["loadingRef",""],["errorRef",""],["backButtonRef",""],["createButtonRef",""],["nodeRef",""],[1,"flexed","hcenter","gap10"],[1,"caption","size-big","f-inline"],[1,"stretched"],["icon","mdi-more_vert","styleClass","p-button-secondary p-button-text p-button-icon",3,"onClick"],[1,"flexed","p10","w-full","vcenter"],["label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","icon","mdi-add","styleClass","p-button-secondary p-button-text",3,"onClick"],[4,"ngTemplateOutlet"],[3,"ngSwitch",4,"ngIf"],[4,"ngIf"],["class","flexed column gap10 stretched",4,"ngSwitchCase"],["class","flexed column stretched",4,"ngSwitchCase"],[1,"flexed","column","gap10","stretched"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flexed","wrapped","gap10","stretched"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","group-description",4,"ngIf"],[1,"group-description"],[1,"caption","size-small","f-inline"],[1,"caption"],[1,"flexed","column","stretched"],[1,"flexed","column","gap10","p10"],["class","flexed column",4,"ngIf"],[1,"flexed","column"],[1,"caption","wt-bold","size-big","f-color-500"],[1,"terminator-bottom"],[1,"flexed","gap5","vend","hcenter","caption","wt-tiny","f-color-primary","size-big","p10"],[1,"caption","indent1"],[1,"flexed","column","gap10"],[1,"flexed","wrapped","gap10"],[1,"flexed","column","gap10","relative","stretched"],[1,"center-of-content","flexed","column","vcenter","caption","size-big","wt-bold","f-color-500"],[1,"mds-receipt_long"],[1,"flexed","column","gap10","p1",3,"formGroup","keyup.enter"],["formControlName","name","pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b...","autofocus",""],["cols","50","formControlName","description","pInputTextarea","","placeholder","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b...","rows","5",3,"autoResize"],["icon","mdi-plus","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"place-self","onClick",4,"ngSwitchCase"],["icon","mdi-edit","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",3,"place-self","onClick",4,"ngSwitchCase"],["icon","mdi-plus","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"onClick"],["icon","mdi-edit","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",3,"onClick"],[1,"flexed","column","gap10","p1",3,"formGroup"],["formControlName","name","pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b...","autofocus",""],["cols","70","formControlName","description","pInputTextarea","","placeholder","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b...","rows","5",3,"autoResize"],["filterBy","name","sourceHeader","\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f","targetHeader","\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f",3,"dragdrop","showSourceControls","showTargetControls","source","sourceStyle","targetStyle","target","onMoveToSource","onMoveToTarget"],["pTemplate","item"],[1,"flexed","gap5"],[1,"flexed","column","gap5","stretched"],["appTicker","",1,"caption","white-space-nowrap","overflow-hidden"],[1,"caption","size-small","f-color-500"],["class","w-min z-5",3,"formGroup",4,"ngIf"],[1,"w-min","z-5",3,"formGroup"],["formControlName","count",3,"size","min","minFractionDigits","maxFractionDigits","max","allowEmpty","mousedown","dblclick"],[1,"flexed","gap5","hcenter","p10","split-line"],[1,"caption","size-big","f-color-600"],[1,"caption","with-icon","size-small","f-color-500","wt-black"],[1,"mdi-payments"],[1,"caption","size-big","wt-tiny"],[1,"caption","size-big","f-color-primary","wt-tiny"],[1,"caption","size-huge","f-color-500","wt-bold","f-inline"],[1,"flexed","hcenter","gap5","p3","caption","size-huge","f-color-500","wt-bold","f-inline"],["styleClass","p-button-text p-button-secondary p-button-icon","icon","mdi-arrow_back",3,"onClick"],["styleClass","p-button-text p-button-warning","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","icon","mdi-edit",3,"onClick"],[1,"relative","stretched"],[1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary","center-of-content"],[1,"flexed","hcenter","column","caption","size-big","wt-bold","f-color-danger","center-of-content"],[1,"mds-error"],["class","group-list-el primary","pRipple","",3,"click",4,"ngIf"],["pRipple","",1,"group-list-el","primary",3,"click"],[1,"mds-arrow_top_left"],[1,"name"],[1,"mds-add"],["appTicker","",1,"name"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e._UZ(4,"p-breadcrumb",3),e.TgZ(5,"div",4)(6,"p-tree",5),e.NdJ("onNodeContextMenuSelect",function(){return i.changeContextMenuItems()})("onNodeDrop",function(p){return i.nodeDrop(p)})("onNodeExpand",function(p){return i.loadOfGroup(p)})("onNodeSelect",function(p){return i.selectNode(p)})("onNodeUnselect",function(){return i.changeBreadcrumbs()})("selectionChange",function(p){return i.selectedNodeInTree=p}),e.YNc(7,tx,5,3,"ng-template",6),e.YNc(8,_1,2,0,"ng-template",7),e.qZA(),e.ynx(9,8),e.YNc(10,nx,2,1,"ng-container",9),e.YNc(11,ix,1,0,"ng-container",9),e.YNc(12,y1,3,2,"ng-container",9),e.YNc(13,T1,10,6,"ng-container",9),e.BQk(),e.qZA()()()(),e._UZ(14,"p-contextMenu",10,11)(16,"p-menu",12,13)(18,"p-menu",12,14),e.TgZ(20,"p-dialog",15),e.NdJ("visibleChange",function(p){return i.createGroupDialogVisible=p}),e.YNc(21,hh,6,8,"ng-template",16),e.qZA(),e.TgZ(22,"p-dialog",17),e.NdJ("visibleChange",function(p){return i.createWorkDialogVisible=p}),e.YNc(23,aT,8,17,"ng-template",16),e.qZA(),e.YNc(24,mx,15,10,"ng-template",null,18,e.W1O),e.YNc(26,k1,1,1,"ng-template",null,19,e.W1O),e.YNc(28,lT,2,0,"ng-template",null,20,e.W1O),e.YNc(30,D1,5,0,"ng-template",null,21,e.W1O),e.YNc(32,M1,1,1,"ng-template",null,22,e.W1O),e.YNc(34,cT,4,0,"ng-template",null,23,e.W1O),e.YNc(36,D_,4,3,"ng-template",null,24,e.W1O)),2&t){const s=e.MAs(15);e.xp6(4),e.Q6J("home",i.breadcrumbHome)("model",i.breadcrumb),e.xp6(2),e.Akn(e.DdM(31,O1)),e.Q6J("selection",i.selectedNodeInTree)("contextMenu",s)("draggableNodes",!0)("droppableNodes",!0)("lazy",!0)("loading","LOADING"===i.loadingTreeState)("value",i.treeMenuItems),e.xp6(3),e.Q6J("ngSwitch",i.loadingTreeState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("model",i.treeContextMenuItems),e.xp6(2),e.Q6J("model",i.rootContextMenuItems)("popup",!0),e.xp6(2),e.Q6J("model",i.inViewContextMenuItems)("popup",!0),e.xp6(2),e.Q6J("visible",i.createGroupDialogVisible)("dismissableMask",!0)("header","create"===i.createGroupDialogMode?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b")("resizable",!1),e.xp6(2),e.Q6J("visible",i.createWorkDialogVisible)("dismissableMask",!0)("autoZIndex",!1)("baseZIndex",4400)("header","create"===i.createWorkDialogMode?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b")("resizable",!1)}},styles:[".group-list-el[_ngcontent-%COMP%]{cursor:pointer;display:grid;align-items:center;justify-content:center;justify-items:center;padding:.2rem 1rem 1rem;border-radius:.5rem;border:1px solid var(--bgc-200);font-size:.85rem;font-weight:700;color:var(--tc-600);width:min-content;transition:all .1s ease-in-out}.group-list-el[_ngcontent-%COMP%] > .name[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;width:100%;text-align:center}.group-list-el[_ngcontent-%COMP%]:hover{border-color:var(--mc-100);color:var(--mc-400)}.empty-message[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.group-description[_ngcontent-%COMP%]{display:grid;border-top:1px solid var(--bgc-200);padding-top:.5rem}"],data:{animation:[u.S9]}}),n})();function P1(n,o){1&n&&e.GkF(0)}function L1(n,o){if(1&n&&(e.ynx(0),e.YNc(1,P1,1,0,"ng-container",10),e.BQk()),2&n){e.oxw();const t=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function R1(n,o){1&n&&e.GkF(0)}function jg(n,o){if(1&n&&(e.ynx(0),e.YNc(1,R1,1,0,"ng-container",10),e.BQk()),2&n){e.oxw();const t=e.MAs(11);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Kg(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",17)(2,"span",18),e._uU(3," \u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c "),e.qZA(),e.TgZ(4,"p-button",19),e.NdJ("onClick",function(){e.CHM(t);const s=e.MAs(6);return e.KtG(null==s?null:s.equalize())}),e.qZA()(),e.TgZ(5,"app-employee-sum-distribution",20,21),e.NdJ("onRemoveFactorAction",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.onRemoveFactorAction(s))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("actionPicker",t.worksPickerForm$)("employees",t.selectedWorkLog.employees)("formControl",t.employeeRatioForm)}}function N1(n,o){1&n&&e._UZ(0,"p-inputNumber",22)}function yx(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",25),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.sendCalculation())}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("loading",t.isSendingCalculation)}}function F1(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",26),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.openRecalculationConformationDialog())}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("loading",t.isSendingCalculation)}}function B1(n,o){if(1&n&&(e.ynx(0),e.YNc(1,yx,1,1,"p-button",23),e.YNc(2,F1,1,1,"p-button",24),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf","CALCULATE"===t),e.xp6(1),e.Q6J("ngIf","RECALCULATE"===t)}}function xx(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",11),e.YNc(2,Kg,7,3,"ng-container",4),e.ALo(3,"async"),e.TgZ(4,"div",12)(5,"div",13)(6,"span",14),e._uU(7,"\u041f\u043b\u0430\u0442\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430"),e.qZA(),e._UZ(8,"p-inputSwitch",15),e.YNc(9,N1,1,0,"p-inputNumber",16),e.qZA(),e.YNc(10,B1,3,2,"ng-container",4),e.ALo(11,"async"),e.qZA()(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,t.worksPickerForm$)),e.xp6(3),e.Q6J("formGroup",t.paidWorkForm),e.xp6(4),e.Q6J("ngIf",t.paidWorkForm.value.isPaidWork),e.xp6(1),e.Q6J("ngIf",e.lcZ(11,6,t.recalculate$))}}function Ix(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",30),e._UZ(2,"p-progressSpinner",31),e.qZA(),e.BQk())}function uT(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",30)(2,"div",32),e._UZ(3,"span",33),e.TgZ(4,"span"),e._uU(5,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()()(),e.BQk())}function dT(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.author.fullName," ")}}function Z1(n,o){if(1&n&&(e.ynx(0),e.YNc(1,dT,2,1,"ng-container",4),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.awaitingWriting)}}function Tx(n,o){if(1&n&&(e.TgZ(0,"span",48),e._uU(1," \u041d\u0435 \u043d\u0430\u043f\u0438\u0441\u0430\u043b\u0438 \u043e\u0442\u0447\u0435\u0442\u044b: "),e.YNc(2,Z1,2,1,"ng-container",49),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngForOf",t.workReports)}}function Ax(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",36)(1,"div",37)(2,"div",38)(3,"span",39),e._uU(4),e.qZA(),e.TgZ(5,"span",40),e._uU(6,"\u0420\u0430\u0431\u043e\u0442\u0430 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435 "),e._UZ(7,"app-task-link",41),e.qZA()(),e.TgZ(8,"div",38)(9,"span",39),e._uU(10),e.ALo(11,"titlecase"),e.ALo(12,"date"),e.qZA(),e._UZ(13,"app-employee-label",42),e.qZA(),e.TgZ(14,"div",38)(15,"span",39),e._uU(16),e.ALo(17,"titlecase"),e.ALo(18,"date"),e.qZA(),e._UZ(19,"app-avatar-list",43),e.qZA()(),e._UZ(20,"div",44),e.TgZ(21,"div",45),e.YNc(22,Tx,3,1,"span",46),e.TgZ(23,"p-button",47),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(3);return e.KtG(w.selectWork(p))}),e.qZA()()()}if(2&n){const t=o.$implicit;e.xp6(4),e.hij("#",t.workLogId,""),e.xp6(3),e.Q6J("task",t.task),e.xp6(3),e.hij("\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430: ",e.lcZ(11,10,e.xi3(12,12,t.created,"EEEE, dd MMMM yyyy HH:mm")),""),e.xp6(3),e.Q6J("employee",t.creator)("size",1.2),e.xp6(3),e.hij("\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430: ",e.lcZ(17,15,e.xi3(18,17,t.closed,"EEEE, dd MMMM yyyy HH:mm")),""),e.xp6(3),e.Q6J("employees",t.employees)("size",1.2),e.xp6(3),e.Q6J("ngIf",t.isReportsUncompleted),e.xp6(1),e.Q6J("disabled",t.isReportsUncompleted)}}function wx(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",34),e.YNc(2,Ax,24,20,"div",35),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.uncalculatedWorkLogs)("ngForTrackBy",t.trackByWorkLog)}}function pT(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",30)(2,"div",50),e._UZ(3,"span",51),e.TgZ(4,"span"),e._uU(5,"\u041f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0440\u0430\u0431\u043e\u0442"),e.qZA()()(),e.BQk())}function hT(n,o){if(1&n&&(e.TgZ(0,"div",27),e._uU(1,"\u0421\u043f\u0438\u0441\u043e\u043a \u043d\u0435 \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0445"),e.qZA(),e.ynx(2,28),e.YNc(3,Ix,3,0,"ng-container",29),e.YNc(4,uT,6,0,"ng-container",29),e.YNc(5,wx,3,2,"ng-container",29),e.YNc(6,pT,6,0,"ng-container",29),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function gT(n,o){1&n&&(e.TgZ(0,"span",70),e._uU(1,"(\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u0430)"),e.qZA())}function fT(n,o){1&n&&(e.TgZ(0,"div",60),e._UZ(1,"span",71),e.TgZ(2,"span"),e._uU(3," \u0426\u0435\u043b\u044c "),e.qZA()())}function mT(n,o){if(1&n&&(e.TgZ(0,"div",72),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.selectedWorkLog?null:t.selectedWorkLog.targetDescription," ")}}function Ex(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",52)(1,"p-button",53),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.unselectWork())}),e.qZA(),e.TgZ(2,"span",54),e._uU(3),e.qZA(),e.YNc(4,gT,2,0,"span",55),e.qZA(),e.TgZ(5,"div",56),e._UZ(6,"app-task-fields-table-view",57),e.TgZ(7,"div",37),e.YNc(8,fT,4,0,"div",58),e.YNc(9,mT,2,1,"div",59),e.qZA(),e.TgZ(10,"div",37)(11,"div",60),e._UZ(12,"span",61),e.TgZ(13,"span"),e._uU(14),e.qZA()(),e.TgZ(15,"div",62),e._uU(16),e.qZA()(),e.TgZ(17,"div",63)(18,"app-label",64),e._UZ(19,"app-employee-label",65),e.qZA(),e.TgZ(20,"app-label",66),e._UZ(21,"app-duration",67),e.qZA()(),e._UZ(22,"div",68)(23,"app-works-picker",69),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.isSendingCalculation),e.xp6(2),e.hij("\u0420\u0430\u0431\u043e\u0442\u0430 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435 #",null==t.selectedWorkLog||null==t.selectedWorkLog.task?null:t.selectedWorkLog.task.taskId,""),e.xp6(1),e.Q6J("ngIf",null==t.selectedWorkLog?null:t.selectedWorkLog.isForceClosed),e.xp6(2),e.Q6J("task",null==t.selectedWorkLog?null:t.selectedWorkLog.task)("isTaskBody",!1),e.xp6(2),e.Q6J("ngIf",null==t.selectedWorkLog?null:t.selectedWorkLog.targetDescription),e.xp6(1),e.Q6J("ngIf",null==t.selectedWorkLog?null:t.selectedWorkLog.targetDescription),e.xp6(5),e.hij(" ",null!=t.selectedWorkLog&&t.selectedWorkLog.isForceClosed?"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f":"\u041e\u0442\u0447\u0435\u0442"," "),e.xp6(2),e.hij(" ",null==t.selectedWorkLog?null:t.selectedWorkLog.report," "),e.xp6(3),e.Q6J("employee",null==t.selectedWorkLog?null:t.selectedWorkLog.creator),e.xp6(2),e.Q6J("short",!1)("ms",null==t.selectedWorkLog?null:t.selectedWorkLog.leadTime),e.xp6(2),e.Q6J("employees",null==t.selectedWorkLog?null:t.selectedWorkLog.employees)("formControl",t.worksPickerForm)}}function qg(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",73)(1,"div",74)(2,"label"),e._uU(3,"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u043e\u0433\u043e \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u0440\u0430\u0431\u043e\u0442\u044b"),e.qZA(),e.TgZ(4,"textarea",75),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.emptyCalculationDescription=s)}),e.qZA()(),e.TgZ(5,"div",76)(6,"p-button",77),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return s.emptyCalculationConformationDialogVisible=!1,e.KtG(s.emptyCalculationDescription="")}),e.qZA(),e.TgZ(7,"p-button",78),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.sendEmptyCalculation())}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.emptyCalculationDescription)("autoResize",!0)("rows",5),e.xp6(2),e.Q6J("disabled",t.isSendingCalculation),e.xp6(1),e.Q6J("disabled",!t.emptyCalculationDescription)("loading",t.isSendingCalculation)}}function Sx(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",73)(1,"div",74)(2,"label"),e._uU(3,"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043f\u0435\u0440\u0435\u0441\u0447\u0435\u0442\u0430 \u0440\u0430\u0431\u043e\u0442\u044b"),e.qZA(),e.TgZ(4,"textarea",75),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.recalculationDescription=s)}),e.qZA()(),e.TgZ(5,"div",76)(6,"p-button",77),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return s.recalculationConformationDialogVisible=!1,e.KtG(s.recalculationDescription="")}),e.qZA(),e.TgZ(7,"p-button",79),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.sendRecalculation())}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.recalculationDescription)("autoResize",!0)("rows",5),e.xp6(2),e.Q6J("disabled",t.isSendingCalculation),e.xp6(1),e.Q6J("disabled",!t.recalculationDescription)("loading",t.isSendingCalculation)}}const U1=function(){return{width:"50vw",minWidth:"fit-content"}};let O_=(()=>{class n{constructor(t,i,s,p,w,Q){this.api=t,this.confirmation=i,this.rt=s,this.router=p,this.route=w,this.nav=Q,this.uncalculatedWorkLogs=[],this.loadingState=he.Gu.LOADING,this.actionsTaken=[],this.employeeRatioForm=new f.NI({}),this.factorsActions=[],this.emptyCalculationConformationDialogVisible=!1,this.emptyCalculationDescription="",this.recalculationConformationDialogVisible=!1,this.recalculationDescription="",this.isSendingCalculation=!1,this.subscriptions=new _.xf,this.removeWorkLogFromListHandler={next:Ce=>{this.uncalculatedWorkLogs=this.uncalculatedWorkLogs.filter(qe=>qe.workLogId!==Ce.workLogId)}},this.addWorkLogToListHandler={next:Ce=>{this.uncalculatedWorkLogs.unshift(Ce)}},this.sendingCalculationHandlers={next:()=>{this.isSendingCalculation=!1,this.emptyCalculationConformationDialogVisible=!1,this.emptyCalculationDescription="",this.recalculationConformationDialogVisible=!1,this.recalculationDescription="",this.resetCalculation(),this.selectedWorkLog&&(this.uncalculatedWorkLogs=this.uncalculatedWorkLogs.filter(Ce=>{var qe;return Ce.workLogId!==(null===(qe=this.selectedWorkLog)||void 0===qe?void 0:qe.workLogId)}),this.uncalculatedWorkLogs.length>0&&this.selectWork(this.uncalculatedWorkLogs[0]))},error:()=>{this.isSendingCalculation=!1}},this.worksPickerForm=new f.NI(null),this.worksPickerForm$=this.worksPickerForm.valueChanges.pipe((0,cn.d)(1)),this.workLogId$=this.route.queryParams.pipe((0,gt.U)(Ce=>Ce.workLogId)),this.selectedWorkLog$=this.workLogId$.pipe((0,R.w)(Ce=>Ce?this.api.getWorkLog(Ce,!0):(0,Tn.of)(void 0))),this.setupFormValues$=this.selectedWorkLog$.pipe((0,R.w)(Ce=>Ce?this.api.getAlreadyCalculatedWorkForm(null==Ce?void 0:Ce.workLogId):(0,Tn.of)(null))),this.recalculate$=this.setupFormValues$.pipe((0,gt.U)(Ce=>Ce?"RECALCULATE":"CALCULATE")),this.paidWorkForm=new f.cw({isPaidWork:new f.NI(!1),amountOfMoneyTaken:new f.NI(null,[f.kI.min(0),f.kI.required])})}get totalCostOfWork(){return this.actionsTaken.reduce((t,i)=>t+i.cost,0)}trackByField(t,i){return i.name+i.textRepresentation+i.modelItemId}trackByEmployee(t,i){return i.login+i.fullName+i.avatar}trackByWorkLog(t,i){return i.workLogId}ngOnInit(){this.loadUncalculatedWorkLogs(),this.subscriptions.addSubscription("wp",this.worksPickerForm.valueChanges.subscribe(t=>{var i;!t||(this.actionsTaken=t.actionsTaken,this.factorsActions=null!==(i=t.factorsActions)&&void 0!==i?i:[])})),this.subscriptions.addSubscription("wlUpd",this.rt.workLogUpdated().subscribe(()=>this.api.getUncalculatedWorkLogs().subscribe({next:t=>{this.uncalculatedWorkLogs=t,this.loadingState=t.length>0?he.Gu.READY:he.Gu.EMPTY},error:t=>{this.loadingState=he.Gu.ERROR}}))),this.subscriptions.addSubscription("chQue",this.selectedWorkLog$.subscribe(t=>this.selectedWorkLog=t)),this.subscriptions.addSubscription("setupForm",this.setupFormValues$.subscribe(t=>{var i,s;t?(this.worksPickerForm.setValue({actionsTaken:t.actions,factorsActions:t.factorsActions}),this.employeeRatioForm.setValue(t.employeesRatio),this.paidWorkForm.setValue({isPaidWork:null!==(i=t.isPaidWork)&&void 0!==i&&i,amountOfMoneyTaken:null!==(s=t.amountOfMoneyTaken)&&void 0!==s?s:null})):(this.worksPickerForm.reset(),this.employeeRatioForm.reset(),this.paidWorkForm.reset())}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}loadUncalculatedWorkLogs(){this.loadingState=he.Gu.LOADING,this.api.getUncalculatedWorkLogs().subscribe({next:t=>{this.uncalculatedWorkLogs=t,this.loadingState=t.length>0?he.Gu.READY:he.Gu.EMPTY},error:t=>{this.loadingState=he.Gu.ERROR}}),this.subscriptions.addSubscription("wlUpd",this.rt.workLogUpdated().pipe((0,a.h)(t=>t.calculated)).subscribe(this.removeWorkLogFromListHandler)),this.subscriptions.addSubscription("wlCr",this.rt.workLogClosed().pipe((0,a.h)(t=>!t.calculated)).subscribe(this.addWorkLogToListHandler))}selectWork(t){this.router.navigate(["."],{relativeTo:this.route,queryParams:{workLogId:t.workLogId}}).then()}unselectWork(){this.nav.backOrDefault(["/salary","estimation"]),this.resetCalculation()}resetCalculation(){this.worksPickerForm.reset(),this.employeeRatioForm.reset()}sendCalculation(){if(this.paidWorkForm.markAllAsTouched(),!this.paidWorkForm.value.isPaidWork||!this.paidWorkForm.invalid){if(0===this.actionsTaken.length)return void(this.emptyCalculationConformationDialogVisible=!0);this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0441\u0447\u0435\u0442?",accept:()=>{!this.selectedWorkLog||(this.isSendingCalculation=!0,this.api.sendWorkCalculation({workLogId:this.selectedWorkLog.workLogId,actions:this.actionsTaken.map(t=>({workId:t.workId,actionId:t.actionId,count:t.count,uuid:t.uuid})),spreading:this.selectedWorkLog.employees.map(t=>({login:t.login,ratio:this.employeeRatioForm.value?this.employeeRatioForm.value[t.login].ratio:0,factorsActions:this.getFactorsActions(t.login).filter(i=>i).map(i=>({factor:i.factor,name:i.name,actionUuids:i.actionUuids}))})),isPaidWork:this.paidWorkForm.value.isPaidWork,amountOfMoneyTaken:this.paidWorkForm.value.amountOfMoneyTaken}).subscribe(this.sendingCalculationHandlers))}})}}openRecalculationConformationDialog(){this.recalculationConformationDialogVisible=!0}sendRecalculation(){this.paidWorkForm.markAllAsTouched(),(!this.paidWorkForm.value.isPaidWork||!this.paidWorkForm.invalid)&&(!this.selectedWorkLog||(this.isSendingCalculation=!0,this.api.sendWorkCalculation({workLogId:this.selectedWorkLog.workLogId,actions:this.actionsTaken.map(t=>({workId:t.workId,actionId:t.actionId,count:t.count,uuid:t.uuid})),emptyDescription:0===this.actionsTaken.length?this.recalculationDescription:null,editingDescription:this.recalculationDescription,spreading:this.selectedWorkLog.employees.map(t=>({login:t.login,ratio:this.employeeRatioForm.value?this.employeeRatioForm.value[t.login].ratio:0,factorsActions:this.getFactorsActions(t.login).filter(i=>i).map(i=>({factor:i.factor,name:i.name,actionUuids:i.actionUuids}))})),isPaidWork:this.paidWorkForm.value.isPaidWork,amountOfMoneyTaken:this.paidWorkForm.value.amountOfMoneyTaken}).subscribe(this.sendingCalculationHandlers)))}sendEmptyCalculation(){this.paidWorkForm.value.isPaidWork&&this.paidWorkForm.invalid||!this.selectedWorkLog||(this.isSendingCalculation=!0,this.api.sendWorkCalculation({workLogId:this.selectedWorkLog.workLogId,emptyDescription:this.emptyCalculationDescription,actions:this.actionsTaken.map(t=>({workId:t.workId,actionId:t.actionId,count:t.count,uuid:t.uuid})),spreading:this.selectedWorkLog.employees.map(t=>({login:t.login,ratio:this.employeeRatioForm.value?this.employeeRatioForm.value[t.login].ratio:0,factorsActions:this.getFactorsActions(t.login).filter(i=>i).map(i=>({factor:i.factor,name:i.name,actionUuids:i.actionUuids}))})),isPaidWork:this.paidWorkForm.value.isPaidWork,amountOfMoneyTaken:this.paidWorkForm.value.amountOfMoneyTaken}).subscribe(this.sendingCalculationHandlers))}getFactorsActions(t){return this.factorsActions.filter(i=>i.login===t)}removeWorkActionRatio(t){this.factorsActions=this.factorsActions.filter(i=>i.uuid!==t)}hasWorkActionRatio(t){return this.factorsActions.find(i=>i.login===t)}onRemoveFactorAction(t){this.worksPickerForm.value&&this.worksPickerForm.setValue({actionsTaken:this.worksPickerForm.value.actionsTaken,factorsActions:t})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(F.YP),e.Y36(de.U),e.Y36(d.F0),e.Y36(d.gz),e.Y36(tt.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e._Bn([F.Y])],decls:16,vars:19,consts:[["appExtendPageHeight","",1,"flex"],[1,"flex","gap-3","flex-grow-1","px-3","mb-3"],[1,"flexed","column","gap10","stretched"],[1,"flexed","column","gap10","stretched","panel","p10"],[4,"ngIf"],["uncalculatedListTemp",""],["selectedWorkTemp",""],["header","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u0443\u0441\u0442\u043e\u0439 \u0440\u0430\u0441\u0447\u0435\u0442?",3,"visible","dismissableMask","draggable","modal","resizable","visibleChange"],["pTemplate","content"],["header","\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043f\u0435\u0440\u0435\u0441\u0447\u0435\u0442\u0430 \u0440\u0430\u0431\u043e\u0442?",3,"visible","dismissableMask","draggable","modal","resizable","visibleChange"],[4,"ngTemplateOutlet"],[1,"flexed","column","gap15","stretched","panel","p20"],[1,"flex","gap-3","align-items-center","align-self-end"],[1,"flex","gap-2","align-items-center",3,"formGroup"],[1,"text-sm","text-bluegray-400","font-bold","white-space-nowrap"],["formControlName","isPaidWork",1,"line-height-0"],["formControlName","amountOfMoneyTaken","class","touched-error","placeholder","\u0421\u0443\u043c\u043c\u0430","mode","currency","currency","RUB",4,"ngIf"],[1,"flexed","gap10","hcenter","spbtw"],[1,"caption","size-huge"],["icon","mdi-equalizer","label","\u0420\u0430\u0432\u043d\u044b\u0435 \u0434\u043e\u043b\u0438","styleClass","p-button-text p-button-secondary",3,"onClick"],[3,"actionPicker","employees","formControl","onRemoveFactorAction"],["sumDistr",""],["formControlName","amountOfMoneyTaken","placeholder","\u0421\u0443\u043c\u043c\u0430","mode","currency","currency","RUB",1,"touched-error"],["icon","mdi-currency_exchange","label","\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"loading","onClick",4,"ngIf"],["icon","mdi-currency_exchange","label","\u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"loading","onClick",4,"ngIf"],["icon","mdi-currency_exchange","label","\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"loading","onClick"],["icon","mdi-currency_exchange","label","\u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"loading","onClick"],[1,"caption","size-huge","wt-tiny","f-color-600"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"stretched","relative"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary","center-of-content"],[1,"flexed","column","vcenter","center-of-content","caption","size-huge","f-color-danger","wt-bold"],[1,"mds-error"],[1,"flexed","column"],["class","flexed gap3 p10 split-line",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","gap3","p10","split-line"],[1,"flexed","column","gap3"],[1,"flexed","gap5","hcenter"],[1,"caption","size-small","wt-bold","f-color-600"],[1,"caption"],[3,"task"],[3,"employee","size"],[3,"employees","size"],[1,"stretched"],[1,"flex","gap-3","align-items-center"],["class","text-red-400 text-sm font-bold",4,"ngIf"],["label","\u0420\u0430\u0441c\u0447\u0438\u0442\u0430\u0442\u044c","styleClass","p-button-outlined p-button-success",3,"disabled","onClick"],[1,"text-red-400","text-sm","font-bold"],[4,"ngFor","ngForOf"],[1,"flexed","column","vcenter","center-of-content","caption","size-huge","f-color-400","wt-bold"],[1,"mds-release_alert"],[1,"flexed","hcenter","gap10"],["icon","mdi-arrow_back","styleClass","p-button-text p-button-icon",3,"disabled","onClick"],[1,"caption","wt-tiny","f-color-600","size-huge"],["class","caption f-color-danger wt-bold size-big",4,"ngIf"],[1,"flexed","column","p-sides-20","gap10"],[3,"task","isTaskBody"],["class","caption f-color-700 size-big with-icon",4,"ngIf"],["class","flexed column p-sides-20",4,"ngIf"],[1,"caption","f-color-700","size-big","with-icon"],[1,"mdi-feed"],[1,"caption","prewrap","p-sides-20"],[1,"flex","flex-column","gap-2"],["label","\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u043b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432","styleClass","translate-x-0"],[3,"employee"],["label","\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f","styleClass","translate-x-0"],[3,"short","ms"],[1,"terminator-bottom"],[1,"mb-4",3,"employees","formControl"],[1,"caption","f-color-danger","wt-bold","size-big"],[1,"mdi-radar"],[1,"flexed","column","p-sides-20"],[1,"flexed","column","gap10"],[1,"input-label-wrapper"],["pInputTextarea","",1,"stretched",3,"ngModel","autoResize","rows","ngModelChange"],[1,"flexed","hcenter","vend","gap10"],["icon","mdi-close","label","\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-secondary p-button-text",3,"disabled","onClick"],["icon","mdi-check","label","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","styleClass","p-button-danger",3,"disabled","loading","onClick"],["icon","mdi-check","label","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","styleClass","p-button-success",3,"disabled","loading","onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2)(4,"div",3),e.YNc(5,L1,2,1,"ng-container",4),e.YNc(6,jg,2,1,"ng-container",4),e.qZA(),e.YNc(7,xx,12,8,"ng-container",4),e.qZA()()(),e.YNc(8,hT,7,5,"ng-template",null,5,e.W1O),e.YNc(10,Ex,24,14,"ng-template",null,6,e.W1O),e.TgZ(12,"p-dialog",7),e.NdJ("visibleChange",function(p){return i.emptyCalculationConformationDialogVisible=p}),e.YNc(13,qg,8,6,"ng-template",8),e.qZA(),e.TgZ(14,"p-dialog",9),e.NdJ("visibleChange",function(p){return i.recalculationConformationDialogVisible=p}),e.YNc(15,Sx,8,6,"ng-template",8),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngIf",!i.selectedWorkLog),e.xp6(1),e.Q6J("ngIf",i.selectedWorkLog),e.xp6(1),e.Q6J("ngIf",i.selectedWorkLog),e.xp6(5),e.Akn(e.DdM(17,U1)),e.Q6J("visible",i.emptyCalculationConformationDialogVisible)("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1),e.xp6(2),e.Akn(e.DdM(18,U1)),e.Q6J("visible",i.recalculationConformationDialogVisible)("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1))},styles:[".table-wrapper[_ngcontent-%COMP%]{border:1px solid var(--bgc-300);border-radius:var(--br-200);overflow:hidden}"]}),n})();var is=b(8675),H1=b(262);let P_=(()=>{class n{constructor(t){this.api=t,this.users=[],this.page=[],this.first=0,this.PAGE_SIZE=10,this.userLoadingState=he.Gu.EMPTY,this.filtrationForm=new f.cw({mode:new f.NI("address"),query:new f.NI(""),isActive:new f.NI(!0)}),this.changeUsersSubject=new mr.x,this.changeUsers$=this.changeUsersSubject.asObservable(),this.enterSearch=new mr.x,this.enterDown$=this.enterSearch.pipe((0,is.O)(!0)),this.modeChange$=this.filtrationForm.controls.mode.valueChanges.pipe((0,is.O)("address")),this.activeChange$=this.filtrationForm.controls.isActive.valueChanges.pipe((0,is.O)(!1)),this.enterSearch$=(0,Fo.a)([this.enterDown$,this.modeChange$,this.activeChange$]).pipe((0,Is.b)(100),(0,gt.U)(()=>this.filtrationForm.value),(0,gt.U)(i=>(i.query&&(i.query=i.query.trim()),i))),this.users$=this.enterSearch$.pipe((0,si.b)(i=>{this.userLoadingState=he.Gu.LOADING}),(0,R.w)(i=>{if(!i.query)return(0,Tn.of)([]);switch(i.mode){case"login":return this.api.getBillingUsersByLogin(i.query,!i.isActive);case"fio":return this.api.getBillingUsersByFio(i.query,!i.isActive);case"address":return this.api.getBillingUsersByAddress(i.query,!i.isActive)}return(0,Tn.of)([])}),(0,H1.K)((i,s)=>(this.userLoadingState=he.Gu.ERROR,this.users=[],(0,Tn.of)([])))),this.usersHandler={next:i=>{this.userLoadingState=i&&0!==i.length?he.Gu.READY:he.Gu.EMPTY,this.users=i&&0!==i.length?i.sort((s,p)=>s.addr<p.addr?-1:s.addr>p.addr?1:0):[],this.first=1,this.page=this.users.slice(0,this.PAGE_SIZE)}},this.users$.subscribe(i=>this.changeUsersSubject.next(i)),this.changeUsers$.subscribe(this.usersHandler)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(L.s))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function L_(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",18),e._UZ(2,"p-progressSpinner",19),e.qZA(),e.BQk())}function kx(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",18)(2,"div",20),e._UZ(3,"span",21),e.TgZ(4,"span"),e._uU(5,"\u041f\u0443\u0441\u0442\u043e"),e.qZA()()(),e.BQk())}function R_(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",18)(2,"div",22),e._UZ(3,"span",23),e.TgZ(4,"span"),e._uU(5,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e.qZA()()(),e.BQk())}function N_(n,o){1&n&&e._UZ(0,"app-colored-tag",39)}function $g(n,o){if(1&n&&(e.TgZ(0,"span")(1,"span",35),e._uU(2," \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439: "),e.qZA(),e.TgZ(3,"span",40),e._uU(4),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",t.coment," ")}}const _T=function(n){return["/clients","billing","user",n]},CT=function(n){return{"f-color-danger":n}};function vT(n,o){if(1&n&&(e.TgZ(0,"div",28)(1,"span",29)(2,"span",30),e._uU(3),e.qZA(),e.TgZ(4,"span",31),e._uU(5),e.qZA(),e._UZ(6,"app-colored-tag",32),e.YNc(7,N_,1,0,"app-colored-tag",33),e._UZ(8,"div",34),e.TgZ(9,"span")(10,"span",35),e._uU(11," \u0422\u0435\u043b\u0435\u0444\u043e\u043d: "),e.qZA(),e.TgZ(12,"span",36),e._uU(13),e.qZA()()(),e.TgZ(14,"span",29)(15,"span")(16,"span",35),e._uU(17," \u0424\u0418\u041e: "),e.qZA(),e.TgZ(18,"span",36),e._uU(19),e.qZA()(),e.TgZ(20,"span")(21,"span",35),e._uU(22," \u0422\u0430\u0440\u0438\u0444: "),e.qZA(),e.TgZ(23,"span",37),e._uU(24),e.qZA()()(),e.YNc(25,$g,5,1,"span",38),e.qZA()),2&n){const t=o.$implicit;e.Q6J("routerLink",e.VKq(11,_T,t.uname)),e.xp6(3),e.Oqu(t.uname),e.xp6(2),e.Oqu(t.addr),e.xp6(1),e.Q6J("caption",t.stateName)("color",t.stateColor),e.xp6(1),e.Q6J("ngIf","11"===t.utype),e.xp6(6),e.hij(" ",t.phone," "),e.xp6(6),e.hij(" ",t.fio," "),e.xp6(4),e.Q6J("ngClass",e.VKq(13,CT,!t.tarif)),e.xp6(1),e.hij(" ",t.tarif?t.tarif:"\u041d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d"," "),e.xp6(1),e.Q6J("ngIf",t.coment)}}function bT(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",24)(2,"div",25),e.YNc(3,vT,26,15,"div",26),e.qZA(),e.TgZ(4,"p-paginator",27),e.NdJ("onPageChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.pageChange(s))}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("@flowInChild",void 0),e.xp6(1),e.Q6J("ngForOf",t.busService.page),e.xp6(1),e.Q6J("first",t.busService.first)("rows",t.busService.PAGE_SIZE)("totalRecords",t.busService.users.length)}}const V1=function(){return{marginBottom:"1rem"}};let z1=(()=>{class n{constructor(t){this.busService=t,this.filterModeItems=[{label:"\u0410\u0434\u0440\u0435\u0441",value:"address"},{label:"\u041b\u043e\u0433\u0438\u043d",value:"login"},{label:"\u0424\u0418\u041e",value:"fio"}]}ngOnInit(){}pageChange(t){this.busService.first=t.first,this.busService.page=this.busService.users.slice(t.first,t.first+t.rows)}clearSearchQuery(){this.busService.filtrationForm.patchValue({query:""})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(P_))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:28,vars:12,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"flexed","column","gap10","stretched"],[1,"flexed","column","gap10","panel","p10"],[1,"caption","size-big","f-color-500"],[1,"flex","flex-column","gap-1",3,"formGroup"],[1,"flex","gap-3","align-items-end"],[1,"input-label-wrapper"],["formControlName","mode",3,"options"],["formControlName","isActive","offLabel","\u0422\u043e\u043b\u044c\u043a\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435","onLabel","\u0412\u0441\u0435"],[1,"input-label-wrapper","stretched"],[1,"p-inputgroup"],["formControlName","query","pInputText","","type","text",3,"appPreventInput","keydown.enter","focus"],["mainInput",""],["icon","mdi-search","pButton","","pRipple","","type","button",3,"click"],["icon","mdi-cancel","label","\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c","styleClass","p-button-outlined p-button-secondary",3,"disabled","onClick"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"flexed","vcenter","hcenter","gap10","stretched","panel","p10"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flexed","column","vcenter","caption","f-color-500","size-huge","wt-tiny"],[1,"mds-person_search"],[1,"flexed","column","vcenter","caption","f-color-danger","size-huge","wt-tiny"],[1,"mds-error"],[1,"flexed","column","gap5","stretched","panel","p10"],[1,"flexed","column","stretched"],["class","subscriber-item split-line",3,"routerLink",4,"ngFor","ngForOf"],[3,"first","rows","totalRecords","onPageChange"],[1,"subscriber-item","split-line",3,"routerLink"],[1,"flexed","gap5","hcenter"],[1,"caption","wt-bold","f-color-600"],[1,"caption","f-color-600"],[3,"caption","color"],["caption","\u0411\u0438\u0437\u043d\u0435\u0441","color","var(--warm-600)",4,"ngIf"],[1,"stretched"],[1,"caption","wt-black","size-small","f-color-500"],[1,"caption"],[1,"caption",3,"ngClass"],[4,"ngIf"],["caption","\u0411\u0438\u0437\u043d\u0435\u0441","color","var(--warm-600)"],[1,"caption","size-small"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2)(4,"div",3)(5,"span",4),e._uU(6,"\u041f\u043e\u0438\u0441\u043a \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u043e\u0432"),e.qZA(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"label"),e._uU(11,"\u0420\u0435\u0436\u0438\u043c \u043f\u043e\u0438\u0441\u043a\u0430"),e.qZA(),e._UZ(12,"p-selectButton",8),e.qZA(),e._UZ(13,"p-toggleButton",9),e.qZA(),e.TgZ(14,"div",6)(15,"div",10)(16,"label"),e._uU(17,"\u0417\u0430\u043f\u0440\u043e\u0441"),e.qZA(),e.TgZ(18,"div",11)(19,"input",12,13),e.NdJ("keydown.enter",function(){return i.busService.enterSearch.next(!0)})("focus",function(){e.CHM(s);const w=e.MAs(20);return e.KtG(w.select())}),e.qZA(),e.TgZ(21,"button",14),e.NdJ("click",function(){return i.busService.enterSearch.next(!0)}),e.qZA()()(),e.TgZ(22,"p-button",15),e.NdJ("onClick",function(){return i.clearSearchQuery()}),e.qZA()()()(),e.ynx(23,16),e.YNc(24,L_,3,0,"ng-container",17),e.YNc(25,kx,6,0,"ng-container",17),e.YNc(26,R_,6,0,"ng-container",17),e.YNc(27,bT,5,5,"ng-container",17),e.BQk(),e.qZA()()()}2&t&&(e.xp6(1),e.Akn(e.DdM(11,V1)),e.xp6(6),e.Q6J("formGroup",i.busService.filtrationForm),e.xp6(5),e.Q6J("options",i.filterModeItems),e.xp6(7),e.Q6J("appPreventInput","LOADING"===i.busService.userLoadingState),e.xp6(3),e.Q6J("disabled","LOADING"===i.busService.userLoadingState),e.xp6(1),e.Q6J("ngSwitch",i.busService.userLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"))},styles:[".subscriber-item[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;gap:.5rem;padding:1rem;cursor:pointer;transition:background-color .1s ease-in-out,color .1s ease-in-out}.subscriber-item[_ngcontent-%COMP%]:hover{background-color:var(--mc-0)}.subscriber-item[_ngcontent-%COMP%]:hover   .caption[_ngcontent-%COMP%]{color:var(--mc-500)}"],data:{animation:[u.S9]}}),n})();var qa=b(655),$a=b(1135),dl=b(5677),Xg=b(6768);function J1(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",50),e._UZ(2,"p-progressSpinner",51),e.qZA(),e.BQk())}function Q1(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",50)(2,"div",52),e._UZ(3,"span",53),e.TgZ(4,"span"),e._uU(5,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e.qZA()()(),e.BQk())}function Dx(n,o){1&n&&e.GkF(0)}function Mx(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Dx,1,0,"ng-container",54),e.BQk()),2&n){e.oxw();const t=e.MAs(7);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function G1(n,o){1&n&&e.GkF(0)}function F_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",77),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.update$.next(s.currentLogin))}),e.qZA()}}function yT(n,o){1&n&&e.GkF(0)}function W1(n,o){1&n&&e.GkF(0)}function B_(n,o){1&n&&e.GkF(0)}function Ox(n,o){1&n&&e.GkF(0)}function Px(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"titlecase"),e.ALo(3,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,e.xi3(3,3,t.state.date,"dd MMMM yyyy")))}}function xT(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"),e.qZA())}function IT(n,o){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,Px,4,6,"span",36),e.YNc(2,xT,2,0,"span",36),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!i.isToday(t.state.date)),e.xp6(1),e.Q6J("ngIf",i.isToday(t.state.date))}}function Lx(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("-",e.xi3(2,1,t.state.startTime,"HH:mm"),"")}}function Rx(n,o){1&n&&e._UZ(0,"span",82)}function Nx(n,o){if(1&n&&(e.TgZ(0,"span",83),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Udp("color",t.state.color),e.xp6(1),e.Oqu(t.state.numbers)}}function TT(n,o){if(1&n&&(e.TgZ(0,"div",79)(1,"span")(2,"span"),e._uU(3),e.ALo(4,"date"),e.qZA(),e.YNc(5,Lx,3,4,"span",36),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA(),e.YNc(8,Rx,1,0,"span",80),e.YNc(9,Nx,2,3,"span",81),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.state.color),e.xp6(3),e.Oqu(e.xi3(4,7,t.state.endTime,"HH:mm")),e.xp6(2),e.Q6J("ngIf",t.state.startTime!==t.state.endTime),e.xp6(2),e.Oqu(t.state.description),e.xp6(1),e.Q6J("ngIf",t.state.numbers>1),e.xp6(1),e.Q6J("ngIf",t.state.numbers>1)}}function AT(n,o){1&n&&(e.TgZ(0,"div",84)(1,"span"),e._uU(2,"\u041d\u0435\u0442 \u043b\u043e\u0433\u043e\u0432"),e.qZA()())}function wT(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",85),e.NdJ("onClick",function(s){e.CHM(t),e.oxw(2);const p=e.MAs(75);return e.KtG(p.toggle(s))}),e.qZA()}}function ET(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",86),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openPaymentDialog())}),e.qZA()}}function ST(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",87),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openRecalculationDialog())}),e.qZA()}}function Fx(n,o){if(1&n&&(e.TgZ(0,"span",88),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&n){const t=e.oxw(2);e.Udp("letter-spacing","2px"),e.xp6(1),e.hij(" \u041a\u0440\u0435\u0434\u0438\u0442: ",e.xi3(2,3,t.creditAmount,"RUB")," ")}}function kT(n,o){if(1&n&&(e.TgZ(0,"span",96),e._uU(1),e.ALo(2,"decline"),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.AsE(" \u041d\u0430\u0439\u0434\u0435\u043d\u043e: ",t.totalElements," ",e.gM2(2,2,t.totalElements,"\u0437\u0430\u0434\u0430\u0447\u0430","\u0437\u0430\u0434\u0430\u0447\u0438","\u0437\u0430\u0434\u0430\u0447")," ")}}function DT(n,o){if(1&n&&e._UZ(0,"app-task-list-element",100),2&n){const t=o.$implicit;e.Q6J("inlined",!0)("item",t)}}function MT(n,o){if(1&n&&(e.TgZ(0,"div",97)(1,"div",98),e.YNc(2,DT,1,2,"app-task-list-element",99),e.qZA()()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Udp("max-height","30rem"),e.xp6(1),e.Q6J("ngForOf",t.value)}}function OT(n,o){1&n&&(e.TgZ(0,"div",101),e._UZ(1,"p-progressSpinner",51),e.qZA()),2&n&&e.Udp("height","30rem")}function PT(n,o){1&n&&(e.TgZ(0,"div",102)(1,"div",103),e._UZ(2,"span",104),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043d\u043e \u0437\u0430\u0434\u0430\u0447"),e.qZA()()())}function LT(n,o){1&n&&(e.TgZ(0,"div",102)(1,"div",105),e._UZ(2,"span",53),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()()())}function r(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-paginator",106),e.NdJ("onPageChange",function(s){e.CHM(t);const p=e.oxw(3);return e.KtG(p.changeTaskHistoryPage.next(s.page))}),e.qZA()}if(2&n){const t=e.oxw().ngIf;e.Q6J("first",5*t.pageNumber)("rows",5)("totalRecords",t.totalElements)}}function l(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",55)(2,"div",89),e._UZ(3,"span",90),e.TgZ(4,"span",82),e._uU(5,"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u0434\u0430\u0447"),e.qZA(),e.YNc(6,kT,3,7,"span",91),e.qZA(),e.ynx(7,2),e.YNc(8,MT,3,3,"div",92),e.YNc(9,OT,2,2,"div",93),e.YNc(10,PT,5,0,"div",94),e.YNc(11,LT,5,0,"div",94),e.BQk(),e.YNc(12,r,1,3,"p-paginator",95),e.qZA(),e.BQk()),2&n){const t=o.ngIf;e.xp6(6),e.Q6J("ngIf",t.totalElements>0),e.xp6(1),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngIf","READY"===t.loadingState)}}const h=function(){return{"max-height":"250px"}},v=function(n,o){return{"f-color-primary":n,"f-color-danger":o}};function E(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",55)(1,"div",56)(2,"p-button",57),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.customNav.backOrDefault(["/clients","billing","search"]))}),e.qZA(),e.TgZ(3,"span",58),e._UZ(4,"span",59),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e.YNc(7,G1,1,0,"ng-container",54),e._UZ(8,"div",60),e.TgZ(9,"span",61),e._uU(10,"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e "),e._UZ(11,"app-time-elapsed",62),e._uU(12," \u043d\u0430\u0437\u0430\u0434"),e.qZA(),e.YNc(13,F_,1,0,"p-button",63),e.qZA(),e.TgZ(14,"div",64)(15,"div",65),e.YNc(16,yT,1,0,"ng-container",54),e.YNc(17,W1,1,0,"ng-container",54),e.YNc(18,B_,1,0,"ng-container",54),e.qZA(),e.TgZ(19,"div",66),e.YNc(20,Ox,1,0,"ng-container",54),e.TgZ(21,"p-listbox",67),e.NdJ("onClick",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.copyMacAddress(s))})("onScrollDown",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.logsLoad(s.currentLogin))}),e.YNc(22,IT,3,2,"ng-template",68),e.YNc(23,TT,10,10,"ng-template",46),e.YNc(24,AT,3,0,"ng-template",69),e.qZA()()(),e.TgZ(25,"div",70)(26,"p-button",71),e.NdJ("onClick",function(s){e.CHM(t),e.oxw();const p=e.MAs(35);return e.KtG(p.toggle(s))}),e.qZA(),e.YNc(27,wT,1,0,"p-button",72),e.YNc(28,ET,1,0,"p-button",73),e.YNc(29,ST,1,0,"p-button",74),e._UZ(30,"div",60),e.YNc(31,Fx,3,6,"span",75),e.TgZ(32,"span",76),e._uU(33),e.ALo(34,"currency"),e.qZA()()(),e.YNc(35,l,13,7,"ng-container",36),e.ALo(36,"async")}if(2&n){const t=e.oxw(),i=e.MAs(9),s=e.MAs(11),p=e.MAs(13),w=e.MAs(15),Q=e.MAs(33);e.xp6(6),e.hij(" ",null==t.userInfo?null:t.userInfo.uname," "),e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(4),e.Q6J("startTime",t.loadingTimestamp),e.xp6(2),e.Q6J("ngIf",t.currentLogin),e.xp6(3),e.Q6J("ngTemplateOutlet",s),e.xp6(1),e.Q6J("ngTemplateOutlet",p),e.xp6(1),e.Q6J("ngTemplateOutlet",w),e.xp6(2),e.Q6J("ngTemplateOutlet",Q),e.xp6(1),e.Q6J("group",!0)("listStyle",e.DdM(25,h))("options",t.dhcpLogsGroupedList),e.xp6(6),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.MANAGE_SUBSCRIBERS)),e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.MANAGE_CASH)),e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.MANAGE_RECALCULATION)),e.xp6(2),e.Q6J("ngIf",t.creditAmount),e.xp6(1),e.Udp("letter-spacing","2px"),e.Q6J("ngClass",e.WLB(26,v,t.moneyAmount>=0,t.moneyAmount<0)),e.xp6(1),e.hij(" \u0411\u0430\u043b\u0430\u043d\u0441: ",e.xi3(34,20,t.moneyAmount,"RUB")," "),e.xp6(2),e.Q6J("ngIf",e.lcZ(36,23,t.tasks$))}}function U(n,o){1&n&&e._UZ(0,"app-colored-tag",110)}function re(n,o){if(1&n&&(e.TgZ(0,"div",107),e._UZ(1,"app-colored-tag",108),e.YNc(2,U,1,0,"app-colored-tag",109),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("caption",null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.userStatusName)("color",null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.userStatusColor),e.xp6(1),e.Q6J("ngIf",t.hasCredit)}}function Ie(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",118)(1,"div",119),e._UZ(2,"span",120),e.TgZ(3,"span",121),e._uU(4," \u041b\u043e\u0433\u0438\u043d \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d, \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u041b\u041a \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d "),e.qZA()(),e.TgZ(5,"p-button",122),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.enableLogin())}),e.qZA()()}}function Re(n,o){1&n&&e.GkF(0)}function lt(n,o){1&n&&e.GkF(0)}function Pt(n,o){1&n&&e.GkF(0)}function Kt(n,o){1&n&&e.GkF(0)}function Cn(n,o){1&n&&e.GkF(0)}const kn=function(n){return{label:"\u0410\u0434\u0440\u0435\u0441",value:n}},Jn=function(n){return{label:"\u0424\u0418\u041e",value:n}},ri=function(n){return{label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",value:n}},_i=function(n){return{label:"\u0414\u043e\u0433\u043e\u0432\u043e\u0440 \u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d",value:n}},Ei=function(n){return{label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",value:n}};function Ui(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",111)(1,"div",112)(2,"span",113),e._uU(3," \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c "),e.qZA(),e.TgZ(4,"button",114),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openEditUserDialog())}),e.qZA()(),e.TgZ(5,"div",115),e.YNc(6,Ie,6,0,"div",116),e.YNc(7,Re,1,0,"ng-container",117),e.YNc(8,lt,1,0,"ng-container",117),e.YNc(9,Pt,1,0,"ng-container",117),e.YNc(10,Kt,1,0,"ng-container",117),e.ALo(11,"titlecase"),e.ALo(12,"date"),e.YNc(13,Cn,1,0,"ng-container",117),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(17);e.xp6(6),e.Q6J("ngIf",!t.isLoginEnable),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(16,kn,null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.addr)),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(18,Jn,null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.fio)),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(20,ri,null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.phone)),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(22,_i,e.lcZ(11,11,e.xi3(12,13,null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.ddog,"EEEE dd-MM-yyyy")))),e.xp6(3),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(24,Ei,null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.coment))}}function Kn(n,o){if(1&n&&(e.TgZ(0,"span",125),e._UZ(1,"span",120),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&n){const t=o.ngIf;e.xp6(3),e.hij(" ",t," ")}}function Yi(n,o){1&n&&e.GkF(0)}function Uo(n,o){1&n&&e.GkF(0)}function Qs(n,o){1&n&&e.GkF(0)}function Uu(n,o){1&n&&e.GkF(0)}const Z_=function(n,o){return{label:"\u0421\u0442\u0430\u0442\u0443\u0441",value:n,valueClass:o}},U_=function(n){return{label:"\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435",value:n}},H_=function(n){return{label:"IP",value:n}},z_=function(n){return{label:"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c",value:n,help:"\u041c\u043e\u043c\u0435\u043d\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438, \u043a\u043e\u0433\u0434\u0430 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u043e \u0437\u0430\u043f\u0440\u043e\u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0443."}};function J_(n,o){if(1&n&&(e.TgZ(0,"div",127),e.YNc(1,Yi,1,0,"ng-container",117),e.YNc(2,Uo,1,0,"ng-container",117),e.YNc(3,Qs,1,0,"ng-container",117),e.YNc(4,Uu,1,0,"ng-container",117),e.ALo(5,"titlecase"),e.ALo(6,"date"),e.qZA()),2&n){const t=e.oxw().ngIf;e.oxw(2);const i=e.MAs(17);let s;e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.WLB(13,Z_,"ONLINE"===t.onlineStatus?"\u041e\u043d\u043b\u0430\u0439\u043d":"\u041e\u0444\u043b\u0430\u0439\u043d","ONLINE"===t.onlineStatus?"text-green-400":"text-red-400")),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(16,U_,null!==(s=null!==(s=t.dhcpClient)&&void 0!==s?s:""+t.dhcpHostname)&&void 0!==s?s:"")),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(18,H_,t.ipaddr)),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(20,z_,e.lcZ(5,8,e.xi3(6,10,t.leaseStart,"dd-MM-yyyy HH:mm:ss"))))}}function Q_(n,o){if(1&n&&(e.ynx(0),e.YNc(1,J_,7,22,"div",126),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf",t&&t.isAuth)}}function G_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",128),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.isAuthDialogVisible=!0)}),e.qZA()}}function W_(n,o){if(1&n&&(e.TgZ(0,"div",111)(1,"span",113),e._uU(2," \u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 "),e.qZA(),e.YNc(3,Kn,4,1,"span",123),e.ALo(4,"async"),e.YNc(5,Q_,2,1,"ng-container",36),e.ALo(6,"async"),e.YNc(7,G_,1,0,"p-button",124),e.ALo(8,"async"),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",e.lcZ(4,3,t.hardwareEmptyMessage$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,5,t.activeBinding$)),e.xp6(2),e.Q6J("ngIf",!e.lcZ(8,7,t.activeBinding$))}}function tw(n,o){1&n&&e.GkF(0)}function nw(n,o){1&n&&e.GkF(0)}const iw=function(n){return{label:"\u0421\u0435\u0440\u0432\u0438\u0441\u044b",template:n}};function ow(n,o){if(1&n&&(e.ynx(0),e.YNc(1,nw,1,0,"ng-container",117),e.BQk()),2&n){e.oxw(2);const t=e.MAs(19),i=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.VKq(2,iw,i))}}function sw(n,o){1&n&&e.GkF(0)}function rw(n,o){1&n&&e.GkF(0)}function aw(n,o){1&n&&e.GkF(0)}function lw(n,o){1&n&&e.GkF(0)}function cw(n,o){1&n&&e.GkF(0)}const uw=function(n){return{label:"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439",template:n}},dw=function(n){return{label:"\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",value:n}},pw=function(n){return{label:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c",template:n}},hw=function(n){return{label:"\u041f\u0435\u0440\u0438\u043e\u0434 \u0442\u0430\u0440\u0438\u0444\u0430",value:n}},gw=function(n){return[n,"","",!1,!0]},fw=function(n){return{label:"\u0421\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0447\u0435\u0440\u0435\u0437",value:n}},_w=function(n){return{label:"\u0418\u0437\u043c. \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f",value:n,help:"\u041c\u043e\u043c\u0435\u043d\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438, \u043a\u043e\u0433\u0434\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0439\u0434\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430. (\u041f\u0440\u0438\u043c. \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u0441\u044f \u043e\u0442\u043b. \u043f\u043b\u0430\u0442\u0435\u0436)"}};function Cw(n,o){if(1&n&&(e.TgZ(0,"div",111)(1,"span",113),e._uU(2," \u0422\u0430\u0440\u0438\u0444\u044b "),e.qZA(),e.TgZ(3,"div",127),e.YNc(4,tw,1,0,"ng-container",117),e.YNc(5,ow,2,4,"ng-container",129),e.YNc(6,sw,1,0,"ng-container",117),e.YNc(7,rw,1,0,"ng-container",117),e.YNc(8,aw,1,0,"ng-container",117),e.ALo(9,"titlecase"),e.ALo(10,"date"),e.ALo(11,"titlecase"),e.ALo(12,"date"),e.YNc(13,lw,1,0,"ng-container",117),e.ALo(14,"elapsedTime"),e.YNc(15,cw,1,0,"ng-container",117),e.ALo(16,"titlecase"),e.ALo(17,"date"),e.qZA()()),2&n){const t=e.oxw(),i=e.MAs(19),s=e.MAs(21),p=e.MAs(27),w=e.MAs(17),Q=e.MAs(31);e.xp6(4),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(35,uw,s)),e.xp6(1),e.Q6J("ngIf",t.services.length>0)("ngIfElse",p),e.xp6(1),e.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",e.VKq(37,dw,t.totalCost+" \u0440\u0443\u0431/\u043f\u0435\u0440\u0438\u043e\u0434")),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(39,pw,Q)),e.xp6(1),e.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",e.VKq(41,hw,e.lcZ(9,14,e.xi3(10,16,null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.hdate,"dd-MM-yyyy HH:mm"))+" \u0434\u043e "+e.lcZ(11,19,e.xi3(12,21,null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.edate,"dd-MM-yyyy HH:mm")))),e.xp6(5),e.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",e.VKq(45,fw,e.G7q(14,24,e.VKq(43,gw,null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.edate)))),e.xp6(2),e.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",e.VKq(47,_w,e.lcZ(16,30,e.xi3(17,32,null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.endstate,"dd-MM-yyyy HH:mm"))))}}function vw(n,o){if(1&n&&e._UZ(0,"span",134),2&n){const t=e.oxw().help;e.Q6J("pTooltip",t)}}function bw(n,o){if(1&n&&(e.TgZ(0,"span",130)(1,"span",131),e._uU(2),e.qZA(),e.TgZ(3,"span",132),e._uU(4),e.qZA(),e.YNc(5,vw,1,1,"span",133),e.qZA()),2&n){const t=o.help,i=o.label,s=o.value,p=o.valueClass;let w;e.xp6(2),e.hij(" ",i,": "),e.xp6(1),e.Q6J("ngClass",p),e.xp6(1),e.hij(" ",null!==(w=s)&&void 0!==w?w:"-"," "),e.xp6(1),e.Q6J("ngIf",t)}}function yw(n,o){1&n&&e.GkF(0)}function xw(n,o){if(1&n&&(e.TgZ(0,"span",135)(1,"span",131),e._uU(2),e.qZA(),e.TgZ(3,"span",136),e.YNc(4,yw,1,0,"ng-container",54),e.qZA()()),2&n){const t=o.label,i=o.template;e.xp6(2),e.hij(" ",t,": "),e.xp6(2),e.Q6J("ngTemplateOutlet",i)}}function Iw(n,o){if(1&n&&(e.TgZ(0,"span",140),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.mainTariff?null:t.mainTariff.price," \u0440\u0443\u0431/\u043f\u0435\u0440\u0438\u043e\u0434 ")}}function Tw(n,o){1&n&&e.GkF(0)}const RT=function(){return["text-bluegray-400","hover:text-green-400"]},Aw=function(n){return{icon:"mdi-edit",label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",btnClass:n}};function ww(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",141),e.NdJ("click",function(s){e.CHM(t);const p=e.oxw(2),w=e.MAs(67);return e.KtG(p.getTariffList(s,w))}),e.YNc(1,Tw,1,0,"ng-container",117),e.qZA()}if(2&n){e.oxw(2);const t=e.MAs(29);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.VKq(3,Aw,e.DdM(2,RT)))}}function Ew(n,o){if(1&n&&(e.TgZ(0,"span",137)(1,"span"),e._uU(2),e.qZA(),e.YNc(3,Iw,2,1,"span",138),e.YNc(4,ww,2,5,"span",139),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",null!=t.mainTariff&&t.mainTariff.service?null==t.mainTariff?null:t.mainTariff.service:"\u041d\u0435\u0442 \u0442\u0430\u0440\u0438\u0444\u0430"," "),e.xp6(1),e.Q6J("ngIf",null==t.mainTariff?null:t.mainTariff.service),e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.MANAGE_SUBSCRIBERS))}}function Sw(n,o){1&n&&e.GkF(0)}const kw=function(n){return{service:n}};function Dw(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Sw,1,0,"ng-container",117),e.BQk()),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(25);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,kw,t))}}function Mw(n,o){1&n&&e.GkF(0)}function Ow(n,o){if(1&n&&(e.TgZ(0,"div",142),e.YNc(1,Dw,2,4,"ng-container",143),e.YNc(2,Mw,1,0,"ng-container",54),e.qZA()),2&n){const t=e.oxw(),i=e.MAs(27);e.xp6(1),e.Q6J("ngForOf",t.services),e.xp6(1),e.Q6J("ngTemplateOutlet",i)}}function Pw(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",146),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().service,p=e.oxw();return e.KtG(p.removeService(s.service))}),e.qZA()}}function Lw(n,o){if(1&n&&(e.TgZ(0,"div",144)(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",140),e._uU(4),e.qZA(),e.YNc(5,Pw,1,0,"div",145),e.qZA()),2&n){const t=o.service,i=e.oxw();e.xp6(2),e.hij(" ",t.service," "),e.xp6(2),e.hij(" ",t.price," \u0440\u0443\u0431/\u043f\u0435\u0440\u0438\u043e\u0434 "),e.xp6(1),e.Q6J("ngIf",i.personality.isHasAccess(i.AccessFlag.MANAGE_SUBSCRIBERS))}}function Rw(n,o){1&n&&e.GkF(0)}const Nw=function(n){return{icon:"mdi-add",label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441",btnClass:n}};function Fw(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Rw,1,0,"ng-container",117),e.BQk()),2&n){e.oxw(3);const t=e.MAs(29);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.VKq(3,Nw,e.DdM(2,RT)))}}function Bw(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",141),e.NdJ("click",function(s){e.CHM(t);const p=e.oxw(2),w=e.MAs(71);return e.KtG(p.getServiceList(s,w))}),e.YNc(1,Fw,2,5,"ng-container",36),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.MANAGE_SUBSCRIBERS))}}function Zw(n,o){if(1&n&&e.YNc(0,Bw,2,1,"span",139),2&n){const t=e.oxw();e.Q6J("ngIf",!(null==t.mainTariff||!t.mainTariff.service))}}function Uw(n,o){if(1&n&&(e.TgZ(0,"span",147),e._UZ(1,"span",148),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&n){const i=o.icon,s=o.label;e.Q6J("ngClass",o.btnClass),e.xp6(1),e.Q6J("ngClass",i),e.xp6(2),e.hij(" ",s," ")}}function Hw(n,o){if(1&n&&(e.TgZ(0,"div",149)(1,"span")(2,"span"),e._uU(3," \u041f\u043e \u0442\u0430\u0440\u0438\u0444\u0443 "),e.qZA(),e.TgZ(4,"span",140),e._uU(5),e.qZA()(),e.TgZ(6,"span")(7,"span"),e._uU(8," \u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f "),e.qZA(),e.TgZ(9,"span",140),e._uU(10),e.qZA()()()),2&n){const t=e.oxw();e.xp6(5),e.hij(" ",null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.tspeed," \u041c\u0431\u0438\u0442/\u0441 "),e.xp6(5),e.hij(" ",null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.speed," \u041c\u0431\u0438\u0442/\u0441 ")}}function Vw(n,o){if(1&n&&e._UZ(0,"app-bindings-table",157),2&n){const t=e.oxw(2).ngIf,i=e.oxw(2);e.Q6J("filterId",t)("inline",!0)("preparedAuthLogin",i.currentLogin)}}function zw(n,o){1&n&&(e.TgZ(0,"p-tabPanel",156),e.YNc(1,Vw,1,3,"ng-template",21),e.qZA())}function Jw(n,o){if(1&n&&e._UZ(0,"app-commutators-table",159),2&n){const t=e.oxw(2).ngIf;e.Q6J("buildId",t)("inline",!0)}}function Qw(n,o){1&n&&(e.TgZ(0,"p-tabPanel",158),e.YNc(1,Jw,1,2,"ng-template",21),e.qZA())}function Gw(n,o){if(1&n&&(e.ynx(0),e.YNc(1,zw,2,0,"p-tabPanel",154),e.YNc(2,Qw,2,0,"p-tabPanel",155),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf",t),e.xp6(1),e.Q6J("ngIf",t)}}function Ww(n,o){if(1&n&&(e.TgZ(0,"div",150)(1,"p-tabView",151)(2,"p-tabPanel",152),e._UZ(3,"app-bindings-table",153),e.ALo(4,"async"),e.qZA(),e.YNc(5,Gw,3,2,"ng-container",36),e.ALo(6,"async"),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("filterId",e.lcZ(4,4,t.login$))("inline",!0)("preparedAuthLogin",t.currentLogin),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,6,t.activeBuildingId$))}}function Yw(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"MAC-\u0430\u0434\u0440\u0435\u0441"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u041b\u043e\u0433\u0438\u043d"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u0410\u0434\u0440\u0435\u0441"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"IP-\u0430\u0434\u0440\u0435\u0441"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"VLAN"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"\u0421\u043c\u0435\u043d\u0430 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f"),e.qZA()(),e.TgZ(17,"tr",168)(18,"th"),e._UZ(19,"input",169),e.qZA(),e.TgZ(20,"th"),e._UZ(21,"input",170),e.qZA(),e._UZ(22,"th")(23,"th"),e.TgZ(24,"th"),e._UZ(25,"app-acp-house-input",171),e.qZA(),e.TgZ(26,"th"),e._UZ(27,"app-ip-input",172),e.qZA(),e.TgZ(28,"th"),e._UZ(29,"p-inputNumber",173),e.qZA(),e._UZ(30,"th"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(17),e.Q6J("formGroup",t.lastBindingsFilterForm),e.xp6(2),e.Q6J("size",14),e.xp6(2),e.Q6J("size",8),e.xp6(8),e.Q6J("max",4096)("size",4)}}function jw(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.dhcpClient," ")}}function Kw(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.dhcpHostname," ")}}function qw(n,o){1&n&&(e.TgZ(0,"span",179),e._uU(1,"\u041d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),e.qZA())}function $w(n,o){1&n&&(e.TgZ(0,"span",180),e._uU(1,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),e.qZA())}function Xw(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",174),e.NdJ("click",function(){const p=e.CHM(t).$implicit,w=e.oxw(3);return e.KtG(w.authConfirm(p))}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"div",175),e.YNc(7,jw,2,1,"ng-container",36),e.YNc(8,Kw,2,1,"ng-container",36),e.qZA()(),e.TgZ(9,"td"),e.ynx(10,2),e.YNc(11,qw,2,0,"span",176),e.YNc(12,$w,2,0,"span",177),e.BQk(),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._UZ(20,"app-time-elapsed",178),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.macaddr),e.xp6(2),e.Oqu(t.authName),e.xp6(2),e.Udp("max-width","7rem"),e.xp6(1),e.Q6J("ngIf",t.dhcpClient),e.xp6(1),e.Q6J("ngIf",t.dhcpHostname),e.xp6(2),e.Q6J("ngSwitch",t.isAuth),e.xp6(1),e.Q6J("ngSwitchCase",!1),e.xp6(1),e.Q6J("ngSwitchCase",!0),e.xp6(2),e.AsE("",t.streetName," ",t.houseNum,""),e.xp6(2),e.Oqu(t.ipaddr),e.xp6(2),e.Oqu(t.vlanid),e.xp6(2),e.Q6J("startTime",t.leaseStart)}}function e3(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",160)(2,"div",161),e._uU(3),e.ALo(4,"decline"),e.qZA(),e._UZ(5,"p-toggleButton",162),e.TgZ(6,"p-button",163),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.lastBindingsFilterForm.reset({state:!0}))}),e.qZA()(),e.TgZ(7,"p-table",164),e.YNc(8,Yw,31,5,"ng-template",165),e.YNc(9,Xw,21,14,"ng-template",166),e.qZA(),e.TgZ(10,"p-paginator",167),e.NdJ("onPageChange",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.changeLastBindingsPage.next(s.page))}),e.qZA(),e.BQk()}if(2&n){const t=o.ngIf,i=e.oxw(2);e.xp6(1),e.Q6J("formGroup",i.lastBindingsFilterForm),e.xp6(2),e.AsE(" \u041d\u0430\u0439\u0434\u0435\u043d\u043e: ",t.totalElements," ",e.gM2(4,10,t.totalElements,"\u0441\u0435\u0441\u0441\u0438\u044f","\u0441\u0435\u0441\u0441\u0438\u0438","\u0441\u0435\u0441\u0441\u0438\u0439")," "),e.xp6(2),e.Q6J("disabled",i.isLoadingLastBindings),e.xp6(2),e.Q6J("loading",i.isLoadingLastBindings)("scrollable",!0)("value",t.content),e.xp6(3),e.Q6J("first",15*t.number)("rows",15)("totalRecords",t.totalElements)}}function t3(n,o){if(1&n&&(e.YNc(0,e3,11,15,"ng-container",129),e.ALo(1,"async")),2&n){const t=e.oxw(),i=e.MAs(65);e.Q6J("ngIf",e.lcZ(1,2,t.lastBindingsPage$))("ngIfElse",i)}}const n3=function(){return{width:"20rem",height:"20rem"}};function o3(n,o){1&n&&(e.TgZ(0,"div",182),e._UZ(1,"p-progressSpinner",183),e.qZA()),2&n&&e.Akn(e.DdM(2,n3))}function s3(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0422\u0438\u043f \u043f\u043b\u0430\u0442\u0435\u0436\u0430"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438\u0306"),e.qZA()())}function r3(n,o){1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2," \u041f\u043b\u0430\u0442\u0435\u0436\u0435\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e "),e.qZA()()),2&n&&(e.xp6(1),e.uIk("colspan",5))}function a3(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"currency"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"titlecase"),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA()()),2&n){const t=o.$implicit;e.xp6(1),e.Udp("color",t.ptypeColor),e.xp6(1),e.Oqu(t.ptypeName),e.xp6(2),e.Oqu(e.xi3(5,7,t.bmoney,"RUB")),e.xp6(3),e.Oqu(e.lcZ(8,10,e.xi3(9,12,t.pdate,"EEEE, dd MMMM yyyy HH:mm"))),e.xp6(4),e.Oqu(t.who),e.xp6(2),e.Oqu(t.cmt)}}function l3(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0421\u043e\u0431\u044b\u0442\u0438\u0435"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0421\u0440\u0435\u0434\u0441\u0442\u0432\u0430"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),e.qZA()())}function c3(n,o){1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2," \u0421\u043e\u0431\u044b\u0442\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e "),e.qZA()()),2&n&&(e.xp6(1),e.uIk("colspan",5))}const u3=function(n,o){return{"text-green-400":n,"text-red-400":o}};function d3(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"titlecase"),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"td",189),e._uU(8),e.ALo(9,"currency"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA()()),2&n){const t=o.$implicit;e.xp6(1),e.Udp("color",t.eventColor),e.xp6(1),e.Oqu(t.eventName),e.xp6(2),e.Oqu(e.lcZ(5,8,e.xi3(6,10,t.evTimeStamp,"EEEE, dd MMMM yyyy HH:mm"))),e.xp6(3),e.Q6J("ngClass",e.WLB(16,u3,t.moneyDirection>0,t.moneyDirection<0)),e.xp6(1),e.Oqu(e.xi3(9,13,t.money,"RUB")),e.xp6(3),e.Oqu(t.info),e.xp6(2),e.Oqu(t.coment)}}function p3(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0422\u0430\u0440\u0438\u0444"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u041d\u0430\u0447\u0430\u043b\u043e"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u041e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0435"),e.qZA()())}function h3(n,o){1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2," \u0422\u0430\u0440\u0438\u0444\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e "),e.qZA()()),2&n&&(e.xp6(1),e.uIk("colspan",4))}function g3(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"currency"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"titlecase"),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"titlecase"),e.ALo(13,"date"),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.service),e.xp6(2),e.Oqu(e.xi3(5,4,t.price,"RUB")),e.xp6(3),e.Oqu(e.lcZ(8,7,e.xi3(9,9,t.hdate,"dd MMMM yyyy HH:mm"))),e.xp6(4),e.Oqu(e.lcZ(12,12,e.xi3(13,14,t.edate,"dd MMMM yyyy HH:mm")))}}const Y1=function(){return[]};function f3(n,o){if(1&n&&(e.TgZ(0,"p-tabView")(1,"p-tabPanel",184)(2,"p-table",185),e.YNc(3,s3,11,0,"ng-template",165),e.YNc(4,r3,3,1,"ng-template",186),e.YNc(5,a3,14,15,"ng-template",166),e.qZA()(),e.TgZ(6,"p-tabPanel",187)(7,"p-table",185),e.YNc(8,l3,11,0,"ng-template",165),e.YNc(9,c3,3,1,"ng-template",186),e.YNc(10,d3,14,19,"ng-template",166),e.qZA()(),e.TgZ(11,"p-tabPanel",188)(12,"p-table",185),e.YNc(13,p3,9,0,"ng-template",165),e.YNc(14,h3,3,1,"ng-template",186),e.YNc(15,g3,14,17,"ng-template",166),e.qZA()()()),2&n){const t=e.oxw(2);let i,s,p;e.xp6(2),e.Q6J("scrollable",!0)("value",null!==(i=null==t.userEvents?null:t.userEvents.pays)&&void 0!==i?i:e.DdM(6,Y1)),e.xp6(5),e.Q6J("scrollable",!0)("value",null!==(s=null==t.userEvents?null:t.userEvents.events)&&void 0!==s?s:e.DdM(7,Y1)),e.xp6(5),e.Q6J("scrollable",!0)("value",null!==(p=null==t.userEvents?null:t.userEvents.tarifs)&&void 0!==p?p:e.DdM(8,Y1))}}function m3(n,o){if(1&n&&(e.YNc(0,o3,2,3,"div",181),e.YNc(1,f3,16,9,"p-tabView",36)),2&n){const t=e.oxw();e.Q6J("ngIf","LOADING"===t.userEventsLoadingState),e.xp6(1),e.Q6J("ngIf","READY"===t.userEventsLoadingState)}}const _3=function(n,o,t){return{gridArea:n,backgroundColor:o,border:t}};function C3(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"div",192),e.ALo(2,"titlecase"),e.ALo(3,"date"),e.ALo(4,"titlecase"),e.ALo(5,"date"),e.BQk()),2&n){const t=o.$implicit,i=e.oxw().index;e.xp6(1),e.Akn(e.kEZ(13,_3,i+1+"/"+(t.percentStart+2)+"/"+(i+2)+"/"+(t.percentEnd+2),t.color,"1px solid "+t.borderColor)),e.Q6J("pTooltip","\u041d\u0430\u0447\u0430\u043b\u043e: "+e.lcZ(2,3,e.xi3(3,5,t.timeStart,"EEEE dd MMMM yyyy HH:mm"))+" \u041a\u043e\u043d\u0435\u0446: "+e.lcZ(4,8,e.xi3(5,10,t.timeEnd,"EEEE dd MMMM yyyy HH:mm")))}}const v3=function(n){return{gridArea:n}};function b3(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",191),e._uU(2),e.qZA(),e.YNc(3,C3,6,17,"ng-container",143),e.BQk()),2&n){const t=o.$implicit,i=o.index,s=e.oxw(2).ngIf;e.xp6(1),e.Akn(e.VKq(4,v3,i+1+"/1/"+(i+2)+"/2")),e.xp6(1),e.Oqu(t.key),e.xp6(1),e.Q6J("ngForOf",s.nclItems[t.key])}}const y3=function(){return{gridArea:"-1/2/-1/-1"}};function x3(n,o){if(1&n&&(e.ynx(0),e.YNc(1,b3,4,6,"ng-container",143),e.ALo(2,"keyvalue"),e.TgZ(3,"div",190)(4,"span"),e._uU(5),e.ALo(6,"titlecase"),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.ALo(10,"titlecase"),e.ALo(11,"date"),e.qZA()(),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,5,t.nclItems)),e.xp6(2),e.Akn(e.DdM(17,y3)),e.xp6(2),e.Oqu(e.lcZ(6,7,e.xi3(7,9,t.from,"EEEE dd MMMM yyyy HH:mm"))),e.xp6(4),e.Oqu(e.lcZ(10,12,e.xi3(11,14,t.to,"EEEE dd MMMM yyyy HH:mm")))}}const Bx=function(){return{gridAreaColumn:"1/-1"}};function I3(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",193),e._UZ(2,"p-progressSpinner",183),e.TgZ(3,"span",194),e._uU(4,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"),e.qZA()(),e.BQk()),2&n&&(e.xp6(1),e.Akn(e.DdM(2,Bx)))}function T3(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",195),e._UZ(2,"span",53),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"),e.qZA()(),e.BQk()),2&n&&(e.xp6(1),e.Akn(e.DdM(2,Bx)))}function A3(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",196),e._UZ(2,"span",197),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),e.qZA()(),e.BQk()),2&n&&(e.xp6(1),e.Akn(e.DdM(2,Bx)))}function w3(n,o){if(1&n&&(e.ynx(0)(1,2),e.YNc(2,x3,12,18,"ng-container",3),e.YNc(3,I3,5,3,"ng-container",3),e.YNc(4,T3,5,3,"ng-container",3),e.YNc(5,A3,5,3,"ng-container",3),e.BQk()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngSwitch",t.nclHistoryLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function E3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",198)(1,"form",23),e._UZ(2,"p-dropdown",199),e.ALo(3,"async"),e._UZ(4,"p-inputNumber",200)(5,"textarea",201),e.qZA(),e.TgZ(6,"p-button",202),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.sendBalance())}),e.qZA()()}if(2&n){const t=e.oxw();let i;e.xp6(1),e.Q6J("formGroup",t.balanceForm),e.xp6(1),e.Q6J("options",null!==(i=e.lcZ(3,6,t.billingPaymentTypes$))&&void 0!==i?i:e.DdM(8,Y1)),e.xp6(3),e.Q6J("autoResize",!0)("cols",40)("rows",3),e.xp6(1),e.Q6J("disabled",!t.balanceForm.valid)}}function S3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",198),e._UZ(1,"textarea",203),e.TgZ(2,"p-button",204),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.sendBalanceReset())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("autoResize",!0)("cols",40)("formControl",t.balanceResetCommentControl)("rows",3),e.xp6(1),e.Q6J("disabled",!t.balanceResetCommentControl.valid)}}function k3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",205),e._UZ(1,"p-selectButton",206)(2,"input",207),e.qZA(),e._UZ(3,"textarea",201),e.TgZ(4,"p-button",208),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.sendPayment())}),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("options",t.paymentModeOptions),e.xp6(1),e.Q6J("size",10),e.xp6(1),e.Q6J("autoResize",!0)("cols",30)("rows",3),e.xp6(1),e.Q6J("disabled",!t.paymentForm.valid)}}function D3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",205),e._UZ(1,"p-selectButton",209)(2,"input",210),e.qZA(),e._UZ(3,"textarea",201),e.TgZ(4,"p-button",211),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.sendRecalculation())}),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("options",t.recalculationModeOptions),e.xp6(1),e.Q6J("placeholder","DAYS"===t.recalculationForm.value.mode?"\u041a\u043e\u043b-\u0432\u043e \u0434\u043d\u0435\u0439":"\u041a\u043e\u043b-\u0432\u043e \u0440\u0443\u0431\u043b\u0435\u0439")("size",12),e.xp6(1),e.Q6J("autoResize",!0)("cols",30)("rows",3),e.xp6(1),e.Q6J("disabled",!t.recalculationForm.valid)}}function M3(n,o){1&n&&(e.TgZ(0,"div",102),e._UZ(1,"p-progressSpinner",212),e.qZA())}function O3(n,o){if(1&n&&(e.TgZ(0,"div",213)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"currency"),e.qZA()()),2&n){const t=o.$implicit;e.Q6J("pTooltip",t.description)("showDelay",500),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",e.xi3(5,4,t.cost,"RUB")," ")}}function P3(n,o){if(1&n&&(e.TgZ(0,"div",213)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"currency"),e.qZA()()),2&n){const t=o.$implicit;e.Q6J("pTooltip",t.description)("showDelay",500),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",e.xi3(5,4,t.cost,"RUB")," ")}}const L3=function(){return{width:"90rem"}},R3=function(){return{display:"grid",alignItems:"center"}};let Kd=class{constructor(o,t,i,s,p,w,Q,Ce,qe){this.api=o,this.rt=t,this.route=i,this.customNav=s,this.taskCreation=p,this.toast=w,this.confirm=Q,this.blockUiService=Ce,this.personality=qe,this.AccessFlag=Ii.j,this.loadingState=he.Gu.LOADING,this.loadingTimestamp=new Date,this.update$=new mr.x,this.subscriptions=new _.xf,this.userInfoHandler={next:$e=>{this.userInfo=void 0,setTimeout(()=>{this.userInfo=$e,this.initControlMenuItems(),this.loadingTimestamp=new Date}),this.loadingState=he.Gu.READY},error:()=>{this.userInfo=void 0,this.loadingState=he.Gu.ERROR}},this.wireframes=[],this.houseBindingsPage=new $a.X(0),this.houseBindingsPage$=this.houseBindingsPage.pipe((0,is.O)(0),(0,cn.d)(1)),this.houseBindingsLoadingState=he.Gu.LOADING,this.changeTaskHistoryPage=new $a.X(0),this.bindingContextMenuItems=[],this.isLoadingLastBindings=!0,this.isAuthDialogVisible=!1,this.openAuthDialog=new mr.x,this.changeLastBindingsPage=new $a.X(0),this.changeLastBindingsPage$=this.changeLastBindingsPage.pipe((0,si.b)(()=>this.isLoadingLastBindings=!0),(0,cn.d)(1)),this.openAuthDialog$=this.openAuthDialog.pipe((0,si.b)(()=>{this.isAuthDialogVisible=!0,this.isLoadingLastBindings=!0})),this.lastBindingsFilterForm=new f.cw({state:new f.NI(!0),macaddr:new f.NI(null),login:new f.NI(null),ip:new f.NI(null),vlan:new f.NI(null),buildingId:new f.NI(null)}),this.lastBindingsFilter$=this.lastBindingsFilterForm.valueChanges.pipe((0,is.O)(this.lastBindingsFilterForm.value),(0,Is.b)(1e3),(0,si.b)(()=>this.isLoadingLastBindings=!0),(0,gt.U)($e=>({state:$e.state?1:0,macaddr:$e.macaddr,login:$e.login,ip:$e.ip,vlan:$e.vlan,buildingId:$e.buildingId&&$e.buildingId.buildingId})),(0,cn.d)(1)),this.lastBindingsPage$=(0,Fo.a)([this.openAuthDialog$,this.changeLastBindingsPage$,this.lastBindingsFilter$]).pipe((0,R.w)(([$e,$t,{state:jt,macaddr:Gt,vlan:fn,login:Rn,ip:Fn,buildingId:jn}])=>this.api.getLastBindings($t,jt,Gt,Rn,Fn,fn,jn)),(0,si.b)(()=>this.isLoadingLastBindings=!1),(0,cn.d)(1)),this.isHistoryDialogVisible=!1,this.isNCLHistoryDialogVisible=!1,this.userEventsLoadingState=he.Gu.LOADING,this.billingPaymentTypes$=this.api.getBillingPaymentTypesList(),this.isBalanceDialogVisible=!1,this.isBalanceResetDialogVisible=!1,this.isPaymentDialogVisible=!1,this.balanceResetCommentControl=new f.NI("",[f.kI.required]),this.paymentModeOptions=[{label:"\u041d\u0430\u043b\u0438\u0447\u043d\u044b\u0435",value:1,icon:"mdi-money"},{label:"\u041a\u0430\u0440\u0442\u0430",value:25,icon:"mdi-credit_card"}],this.isRecalculationDialogVisible=!1,this.recalculationModeOptions=[{label:"\u0412 \u0434\u043d\u044f\u0445",value:"DAYS",icon:"mdi-today"},{label:"\u0412 \u0440\u0443\u0431\u043b\u044f\u0445",value:"MONEY",icon:"mdi-money"}],this.recalculationForm=new f.cw({mode:new f.NI("DAYS",[f.kI.required]),count:new f.NI(null,[f.kI.required]),comment:new f.NI(null,[f.kI.required])}),this.balanceForm=new f.cw({payType:new f.NI(null,[f.kI.required]),sum:new f.NI(null,[f.kI.required]),comment:new f.NI(null,[f.kI.required])}),this.paymentForm=new f.cw({paymentType:new f.NI(1,[f.kI.required]),sum:new f.NI(null,[f.kI.required]),comment:new f.NI(null,[f.kI.required])}),this.controlMenuItems=[],this.pathChange$=this.route.params.pipe((0,si.b)($e=>{this.currentLogin=$e.login}),(0,gt.U)($e=>$e.login)),this.tasks$=_.aN.ofPage((0,Fo.a)([this.pathChange$,this.changeTaskHistoryPage]),this.api.getTasksByLogin.bind(this.api),"taskId",this.rt.taskCreated().pipe((0,a.h)($e=>{var $t,jt;return null!==(jt=null===($t=null==$e?void 0:$e.fields)||void 0===$t?void 0:$t.some(Gt=>Gt.stringData===this.currentLogin))&&void 0!==jt&&jt})),this.rt.taskUpdated(),this.rt.taskDeleted()),this.login$=(0,so.T)(this.pathChange$,this.update$),this.activeBinding$=this.login$.pipe((0,R.w)($e=>this.api.getActiveBindingByLogin($e))),this.activeBuildingId$=this.activeBinding$.pipe((0,R.w)($e=>null!=$e&&$e.vlanid?this.api.getBuildingIdByVlan(null==$e?void 0:$e.vlanid):(0,Tn.of)(null))),this.loadUser$=this.login$.pipe((0,R.w)($e=>this.api.getBillingUserInfo($e))),this.updateUser$=this.login$.pipe((0,R.w)($e=>this.rt.billingUserUpdated($e))),this.isLoginEnable=!0,this.isLoginEnableSub=(0,so.T)(this.loadUser$,this.updateUser$).pipe((0,R.w)($e=>this.api.isLoginEnable($e.uname))).subscribe($e=>this.isLoginEnable=$e),this.loadUserSub=this.loadUser$.subscribe(this.userInfoHandler),this.updateUserSub=this.updateUser$.subscribe(this.userInfoHandler),this.dhcpLogsUpdateSub=this.login$.subscribe($e=>{this.dhcpLogsPageNum=0,this.dhcpLogsIsLastPage=!1,this.logsLoad($e)}),this.hardwareEmptyMessage$=this.activeBinding$.pipe((0,gt.U)($e=>$e?$e.isAuth?null:"\u041d\u0435\u0442 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f":"\u041d\u0435\u0442 \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0441\u043a\u043e\u0433\u043e \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f")),this.nclHistory$=new $a.X(null),this.nclHistoryLoadingState=he.Gu.LOADING,this.nclHistoryViewStyle$=this.nclHistory$.pipe((0,gt.U)($e=>{if($e)try{const $t=Object.entries($e.nclItems).length;return 0===$t?{display:"grid",alignItems:"center"}:{display:"grid",grid:`repeat(${$t}, 1.5rem)/max-content repeat(100,1fr)`,alignItems:"center"}}catch($t){return{display:"grid",alignItems:"center"}}return{display:"grid",alignItems:"center"}})),this.dhcpLogs=[],this.dhcpLogsGroupedList=[],this.dhcpLogsPageNum=0,this.dhcpLogsLoadingState=he.Gu.READY,this.dhcpLogsIsLastPage=!1,this.tariffList=[],this.serviceList=[],this.selectedServices=[],this.isUserEditDialogVisible=!1,this.userEditForm=new f.cw({address:new f.NI("",[f.kI.required]),fullName:new f.NI("",[f.kI.required]),phone:new f.NI("",[f.kI.required]),comment:new f.NI("")}),this.logsLoadHandler={next:$e=>{this.dhcpLogsLoadingState=he.Gu.READY,this.dhcpLogs=0===this.dhcpLogsPageNum?[...$e.logs]:[...this.dhcpLogs,...$e.logs],this.dhcpLogsIsLastPage=$e.isLast,this.dhcpLogsGroupedList=this.dhcpLogs.reduce(($t,jt)=>{var Gt;const fn=new Date(jt.startDatetime).toLocaleDateString(),Rn=$t.find(Fn=>Fn.label===fn);return Rn?null===(Gt=Rn.items)||void 0===Gt||Gt.push({state:{startTime:jt.startDatetime,endTime:jt.endDatetime,color:this.logColor(jt.type),description:jt.description,numbers:jt.numberRepetitions,macAddresses:jt.macAddresses}}):$t.push({label:fn,state:{date:jt.startDatetime},items:[{state:{startTime:jt.startDatetime,endTime:jt.endDatetime,color:this.logColor(jt.type),description:jt.description,numbers:jt.numberRepetitions,macAddresses:jt.macAddresses}}]}),$t},[]),this.dhcpLogsPageNum++},error:()=>{this.dhcpLogsLoadingState=he.Gu.ERROR,this.dhcpLogs=[],this.dhcpLogsGroupedList=[],this.dhcpLogsIsLastPage=!1}}}get isEndTariffDateAfter(){var o,t,i,s;return(null===(t=null===(o=this.userInfo)||void 0===o?void 0:o.newTarif)||void 0===t?void 0:t.edate)&&new Date(null===(s=null===(i=this.userInfo)||void 0===i?void 0:i.newTarif)||void 0===s?void 0:s.edate).getTime()>(new Date).getTime()}get isOnline(){var o,t;return 1===(null===(t=null===(o=this.userInfo)||void 0===o?void 0:o.newTarif)||void 0===t?void 0:t.online)}get hasCredit(){var o,t;return(null===(t=null===(o=this.userInfo)||void 0===o?void 0:o.ibase)||void 0===t?void 0:t.credit)&&this.userInfo.ibase.credit>0}get mainTariff(){var o,t;return null!==(o=this.userInfo)&&void 0!==o&&o.oldTarif[0]?null===(t=this.userInfo)||void 0===t?void 0:t.oldTarif[0]:null}get services(){var o,t,i;return(null===(o=this.userInfo)||void 0===o?void 0:o.oldTarif)&&(null===(t=this.userInfo)||void 0===t?void 0:t.oldTarif.length)>0?null===(i=this.userInfo)||void 0===i?void 0:i.oldTarif.slice(1):[]}get totalCost(){var o,t;return(null===(o=this.userInfo)||void 0===o?void 0:o.oldTarif)&&(null===(t=this.userInfo)||void 0===t?void 0:t.oldTarif.length)>0?this.userInfo.oldTarif.reduce((i,s)=>i+s.price,0):0}get creditAmount(){var o,t,i;return null!==(i=null===(t=null===(o=this.userInfo)||void 0===o?void 0:o.ibase)||void 0===t?void 0:t.credit)&&void 0!==i?i:0}get moneyAmount(){var o,t,i;return null!==(i=null===(t=null===(o=this.userInfo)||void 0===o?void 0:o.ibase)||void 0===t?void 0:t.money)&&void 0!==i?i:0}get paymentTypeName(){switch(this.paymentForm.value.paymentType){case 1:return"\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0445";case 25:return"\u043a\u0430\u0440\u0442\u044b"}return null}get recalculationModeName(){switch(this.recalculationForm.value.mode){case"DAYS":return"\u0432 \u0434\u043d\u044f\u0445";case"MONEY":return"\u0432 \u0440\u0443\u0431\u043b\u044f\u0445"}return null}initControlMenuItems(){var o,t,i,s,p,w,Q,Ce;this.controlMenuItems=[{label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439",icon:"mdi-event_note",command:()=>this.openHistoryDialog()},{label:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0439",icon:"mdi-more_time",disabled:!(null!==(t=null===(o=this.userInfo)||void 0===o?void 0:o.newTarif)&&void 0!==t&&t.isPossibleEnableDeferredPayment),styleClass:"warning-menu-button",command:()=>this.confirmEnableDeferredPayment()},{label:"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0431\u0430\u043b\u0430\u043d\u0441\u0430",icon:"mdi-account_balance",command:()=>this.openBalanceDialog()},{label:"\u041e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441",icon:"mdi-exposure_zero",command:()=>this.openBalanceResetDialog()},{label:null!==(s=null===(i=this.userInfo)||void 0===i?void 0:i.newTarif)&&void 0!==s&&s.isServiceSuspended?"\u0412\u043e\u0437\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435":"\u041f\u0440\u0438\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435",icon:null!==(w=null===(p=this.userInfo)||void 0===p?void 0:p.newTarif)&&void 0!==w&&w.isServiceSuspended?"mdi-play_arrow":"mdi-pause",styleClass:null!==(Ce=null===(Q=this.userInfo)||void 0===Q?void 0:Q.newTarif)&&void 0!==Ce&&Ce.isServiceSuspended?"success-menu-button":"danger-menu-button",command:()=>this.confirmSuspendService()}]}confirmSuspendService(){var o,t,i;null===(o=this.userInfo)||void 0===o||!o.newTarif||(null!==(i=null===(t=this.userInfo)||void 0===t?void 0:t.newTarif)&&void 0!==i&&i.isServiceSuspended?this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u043e\u0437\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?",accept:()=>this.currentLogin&&this.api.startUserService(this.currentLogin).subscribe()}):this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u041f\u0440\u0438\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?",accept:()=>this.currentLogin&&this.api.stopUserService(this.currentLogin).subscribe()}))}confirmEnableDeferredPayment(){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436?",accept:()=>{!this.currentLogin||(this.block("\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u043b\u0430\u0442\u0435\u0436\u0430"),this.api.setDeferredPayment(this.currentLogin).subscribe({next:()=>this.unblock(),error:()=>this.unblock()}))}})}trackByDhcpBinding(o,t){var i;return t.vlanid+t.ipaddr+t.state+t.id+t.isAuth+t.authName+t.authExpire+(null===(i=t.lastConnectionLocation)||void 0===i?void 0:i.checkedAt)}ngOnInit(){this.api.getWireframesNames().subscribe(o=>{this.wireframes=o.map(t=>({label:t.name,command:()=>{var i,s;this.api.convertBillingAddress(null===(s=null===(i=this.userInfo)||void 0===i?void 0:i.ibase)||void 0===s?void 0:s.addr).subscribe(p=>{this.currentLogin?this.taskCreation.wireframe(t.wireframeId,{login:this.currentLogin,address:p}):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u043b\u043e\u0433\u0438\u043d \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438"})})}}))})}logsLoad(o){!this.dhcpLogsIsLastPage&&o&&this.dhcpLogsLoadingState===he.Gu.READY&&(this.dhcpLogsLoadingState=he.Gu.LOADING,this.api.getDhcpLogsByLogin(o,this.dhcpLogsPageNum).subscribe(this.logsLoadHandler))}copyMacAddress(o){o.value&&_.cQ.copyToClipboard(o.value.state.macAddresses,this.toast,"MAC \u0430\u0434\u0440\u0435\u0441\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u044b","\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c MAC \u0430\u0434\u0440\u0435\u0441\u0430")}isToday(o){return new Date(o).toDateString()===(new Date).toDateString()}logColor(o){switch(o){case"SIMPLE_ONLINE":return"#16e116";case"SIMPLE_OFFLINE":return"#db21ec";case"REPEATED":return"#e81f1f";case"EMPTY":return"#838383";case"USER_AUTH":return"#16d0e1";case"USER_AUTH_FAIL":return"#2132ec"}}ngOnDestroy(){this.subscriptions.unsubscribeAll()}checkRemoteControl(o){this.api.checkRemoteControl(o).subscribe({next:t=>{},error:t=>{console.log("Error ",t)}})}openBindingContextMenu(o,t,i){this.bindingContextMenuItems=[{label:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c (\u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043b\u043e\u0433\u0438\u043d)",command:()=>this.authCurrentLogin(t.macaddr),disabled:t.isAuth&&t.authName===this.currentLogin},{label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439",command:()=>this.openNCLHistoryDialog(t)}],i.toggle(o)}authCurrentLogin(o){this.currentLogin?this.api.authDhcpBinding(this.currentLogin,o).subscribe(()=>{this.toast.add({detail:"\u041b\u043e\u0433\u0438\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d",severity:"dark",key:"darktoast",icon:"mdi-verified",closable:!1}),this.currentLogin&&this.update$.next(this.currentLogin)}):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u043b\u043e\u0433\u0438\u043d \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"})}authConfirm(o){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c "+o.macaddr+" \u043f\u043e\u0434 \u043b\u043e\u0433\u0438\u043d\u043e\u043c "+this.currentLogin+"?",accept:()=>{this.authCurrentLogin(o.macaddr)}})}getHistory(){!this.currentLogin||(this.userEvents=void 0,this.userEventsLoadingState=he.Gu.LOADING,this.api.getBillingUserEvents(this.currentLogin).subscribe({next:o=>{this.userEvents=o,this.userEventsLoadingState=he.Gu.READY},error:o=>{this.userEventsLoadingState=he.Gu.ERROR}}))}closeHistoryDialog(){this.userEvents=void 0,this.userEventsLoadingState=he.Gu.LOADING}openHistoryDialog(){this.isHistoryDialogVisible=!0}openBalanceDialog(){this.isBalanceDialogVisible=!0}openBalanceResetDialog(){this.isBalanceResetDialogVisible=!0}openPaymentDialog(){this.paymentForm.reset({paymentType:1}),this.isPaymentDialogVisible=!0}openRecalculationDialog(){this.recalculationForm.reset({mode:"DAYS"}),this.isRecalculationDialogVisible=!0}openEditUserDialog(){!this.userInfo||(this.userEditForm.reset({address:this.userInfo.ibase.addr,fullName:this.userInfo.ibase.fio,phone:this.userInfo.ibase.phone,comment:this.userInfo.ibase.coment}),this.isUserEditDialogVisible=!0)}sendBalance(){!this.currentLogin||this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0431\u0430\u043b\u0430\u043d\u0441\u0430 \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin,message:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441 \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin+" \u043d\u0430 "+this.balanceForm.value.sum+" \u0440\u0443\u0431\u043b\u0435\u0439?",accept:()=>{!this.currentLogin||(this.block("\u0418\u0437\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u0431\u0430\u043b\u0430\u043d\u0441"),this.api.updateBalance(this.currentLogin,this.balanceForm.value).subscribe({next:()=>{this.unblock(),this.isBalanceDialogVisible=!1,this.balanceForm.reset()},error:()=>{this.unblock()}}))}})}sendBalanceReset(){!this.currentLogin||this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043e\u0431\u043d\u0443\u043b\u0435\u043d\u0438\u044f \u0431\u0430\u043b\u0430\u043d\u0441\u0430 \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin,message:"\u041e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441 \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin+"?",accept:()=>{!this.currentLogin||!this.balanceResetCommentControl.value||(this.block("\u041e\u0431\u043d\u0443\u043b\u0435\u043d\u0438\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u0430"),this.api.balanceReset(this.currentLogin,this.balanceResetCommentControl.value).subscribe({next:()=>{this.unblock(),this.isBalanceResetDialogVisible=!1,this.balanceResetCommentControl.reset("")},error:()=>{this.unblock()}}))}})}enableLogin(){!this.currentLogin||this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin,message:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043b\u043e\u0433\u0438\u043d "+this.currentLogin+"?",accept:()=>{!this.currentLogin||(this.block("\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043b\u043e\u0433\u0438\u043d\u0430"),this.api.enableLogin(this.currentLogin).subscribe({next:()=>{this.unblock()},error:()=>{this.unblock()}}))}})}sendPayment(){!this.currentLogin||this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u043d\u0430 \u043b\u043e\u0433\u0438\u043d "+this.currentLogin,message:"\u041f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u043e\u043f\u043b\u0430\u0442\u0443 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e "+this.paymentTypeName+" \u043d\u0430 "+this.paymentForm.value.sum+" \u0440\u0443\u0431\u043b\u0435\u0439, \u043d\u0430 \u043b\u043e\u0433\u0438\u043d "+this.currentLogin+"?",accept:()=>{!this.currentLogin||(this.block("\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u043e\u043f\u043b\u0430\u0442\u0430"),this.api.makePayment(this.currentLogin,this.paymentForm.value).subscribe({next:()=>{this.unblock(),this.isPaymentDialogVisible=!1,this.paymentForm.reset({paymentType:1})},error:()=>{this.unblock()}}))}})}sendRecalculation(){!this.currentLogin||this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442\u0430 "+this.currentLogin,message:"\u041f\u0440\u043e\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u043f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442 "+this.recalculationModeName+". \u041a\u043e\u043b-\u0432\u043e: "+this.recalculationForm.value.count+", \u043d\u0430 \u043b\u043e\u0433\u0438\u043d "+this.currentLogin+"?",accept:()=>{!this.currentLogin||(this.block("\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u043f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442"),this.api.makeRecalculation(this.currentLogin,this.recalculationForm.value).subscribe({next:()=>{this.unblock(),this.isRecalculationDialogVisible=!1,this.recalculationForm.reset({mode:"DAYS"})},error:()=>{this.unblock()}}))}})}confirmUserEdit(){!this.currentLogin||this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin,message:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin+"?",accept:()=>{!this.currentLogin||(this.block("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043b\u043e\u0433\u0438\u043d\u0430"),this.api.editUser(this.currentLogin,this.userEditForm.value).subscribe({next:()=>{this.unblock(),this.isUserEditDialogVisible=!1},error:()=>{this.unblock()}}))}})}openNCLHistoryDialog(o){this.isNCLHistoryDialogVisible=!0,this.nclHistoryLoadingState=he.Gu.LOADING,this.api.getNetworkConnectionLocationHistory(o.id).subscribe({next:t=>{this.nclHistory$.next(t),this.nclHistoryLoadingState=Object.entries(t.nclItems).length?he.Gu.READY:he.Gu.EMPTY},error:()=>this.nclHistoryLoadingState=he.Gu.ERROR})}getTariffList(o,t){this.currentLogin&&(t.toggle(o),this.api.getBillingUserTariffs(this.currentLogin).subscribe(i=>{this.tariffList=i,i.filter(s=>{var p;return(null===(p=this.mainTariff)||void 0===p?void 0:p.service)===s.name}).forEach(s=>s.disabled=!0)}))}getServiceList(o,t){this.currentLogin&&(t.toggle(o),this.api.getBillingUserServices(this.currentLogin).subscribe(i=>{this.serviceList=i,i.filter(s=>this.services.some(p=>p.service===s.name)).forEach(s=>s.disabled=!0)}))}appendService(o){this.currentLogin&&this.confirm.confirm({header:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430",message:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 "+o.option.name+" \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0443?",accept:()=>{this.currentLogin&&(this.block("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430"),this.api.appendServiceToBillingUser(o.value,this.currentLogin).subscribe({next:()=>{this.unblock()},error:()=>{this.unblock()}}))}})}removeService(o){this.currentLogin&&this.confirm.confirm({header:"\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430",message:"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 "+o+"?",accept:()=>{this.currentLogin&&(this.block("\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430"),this.api.removeServiceFromBillingUser(o,this.currentLogin).subscribe({next:()=>{this.unblock()},error:()=>{this.unblock()}}))}})}changeTariff(o){this.currentLogin&&this.confirm.confirm({header:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0442\u0430\u0440\u0438\u0444\u0430",message:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0430\u0440\u0438\u0444 \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430 \u043d\u0430 "+o.option.name+"?",accept:()=>{this.currentLogin&&(this.block("\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0442\u0430\u0440\u0438\u0444\u0430"),this.api.changeTariffInBillingUser(o.value,this.currentLogin).subscribe({next:()=>{this.unblock()},error:()=>{this.unblock()}}))}})}block(o=""){this.blockUiService.wait({message:o})}unblock(){this.blockUiService.unblock()}};Kd.\u0275fac=function(o){return new(o||Kd)(e.Y36(L.s),e.Y36(de.U),e.Y36(d.gz),e.Y36(tt.r),e.Y36(T.e),e.Y36(F.ez),e.Y36(F.YP),e.Y36(Xg.A),e.Y36(V.F))},Kd.\u0275cmp=e.Xpm({type:Kd,selectors:[["ng-component"]],decls:76,vars:64,consts:[["appExtendPageHeight","",1,"flex","justify-content-center"],[1,"flex","flex-column","flex-grow-1","gap-3","mx-3","mb-3"],[3,"ngSwitch"],[4,"ngSwitchCase"],["infoViewTemp",""],["titleTagsTemp",""],["mainUserInfoTemp",""],["hardwareInfoTemp",""],["tariffInfoTemp",""],["infoRowTemplate",""],["infoRowTemplatedTemplate",""],["mainTariffTemplate",""],["serviceListTemplate",""],["serviceItemTemplate",""],["emptyServicesTemplate",""],["inlineButtonTemplate",""],["speedViewTemplate",""],["acpInfo",""],["appendTo","body",3,"model","popup"],["createTaskMenu",""],["appendTo","body","header","\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f",3,"visible","dismissableMask","resizable","onShow","visibleChange"],["pTemplate","content"],["appendTo","body","header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",3,"visible","dismissableMask","modal","resizable","draggable","visibleChange"],[1,"flex","flex-column","gap-2",3,"formGroup"],["label","\u0410\u0434\u0440\u0435\u0441"],["pInputText","","formControlName","address"],["label","\u0424\u0418\u041e"],["pInputText","","formControlName","fullName"],["label","\u0422\u0435\u043b\u0435\u0444\u043e\u043d"],["pInputText","","formControlName","phone"],["label","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"],["pInputTextarea","","formControlName","comment"],["pButton","","icon","mdi-check","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",1,"mt-2",3,"disabled","click"],["appendTo","body","header","\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u0437\u0430 \u043f\u043e\u043b\u0433\u043e\u0434\u0430",3,"visible","dismissableMask","modal","resizable","onHide","onShow","visibleChange"],["appendTo","body","header","\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043b\u043e\u043a\u0430\u0446\u0438\u0439 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439",3,"visible","dismissableMask","modal","resizable","visibleChange"],[1,"p-3","border-1","border-bluegray-100","border-round-lg"],[4,"ngIf"],["appendTo","body","header","\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0431\u0430\u043b\u0430\u043d\u0441\u0430",3,"visible","dismissableMask","modal","resizable","visibleChange"],["appendTo","body","header","\u041e\u0431\u043d\u0443\u043b\u0435\u043d\u0438\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u0430",3,"visible","dismissableMask","modal","resizable","visibleChange"],["appendTo","body","contentStyleClass","flex flex-column gap-3 pt-2","header","\u041e\u043f\u043b\u0430\u0442\u0430",3,"visible","dismissableMask","modal","resizable","visibleChange"],["pTemplate","content",3,"formGroup"],["appendTo","body","contentStyleClass","flex flex-column gap-3 pt-2","header","\u041f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442",3,"visible","dismissableMask","modal","resizable","visibleChange"],["loading",""],["appendTo","body","styleClass","overlay-panel-unpadding"],["tariffsOverlayPanel",""],["emptyFilterMessage","\u0422\u0430\u0440\u0438\u0444\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e","emptyMessage","\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...","filterBy","name","optionLabel","name","optionValue","id",3,"filter","listStyle","options","onClick"],["pTemplate","item"],["servicesOverlayPanel",""],["emptyFilterMessage","\u0414\u043e\u043f. \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e","emptyMessage","\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...","filterBy","name","optionDisabled","disabled","optionLabel","name","optionValue","id",3,"ngModel","filter","listStyle","options","onClick","ngModelChange"],["controlMenu",""],[1,"flexed","hcenter","vcenter","stretched","panel"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flexed","column","vcenter","caption","f-color-danger","size-huge","wt-tiny"],[1,"mds-error"],[4,"ngTemplateOutlet"],[1,"flex","flex-column","flex-grow-1","h-min","panel"],[1,"flexed","gap10","p10","hcenter","terminator-bottom"],["icon","mdi-arrow_back","styleClass","p-button-secondary p-button-text p-button-icon",3,"onClick"],[1,"caption","size-huge","wt-tiny","f-color-600","with-icon"],[1,"mds-person","caption","size-xlarge"],[1,"stretched"],[1,"caption","size-tiny","wt-black","f-color-300"],[3,"startTime"],["icon","mdi-refresh","styleClass","p-button-text p-button-icon",3,"onClick",4,"ngIf"],[1,"flex","flex-column","gap-3","p-3","terminator-bottom","flex-grow-1","xl:flex-row"],[1,"flex","flex-row","gap-3","xl:flex-column"],[1,"flex","flex-column","flex-grow-1"],["appListElementLazyScroll","","listStyleClass","simple-list",1,"mt-3",3,"group","listStyle","options","onClick","onScrollDown"],["pTemplate","group"],["pTemplate","empty"],[1,"flexed","gap10","p10","hcenter"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","styleClass","p-button-success p-button-text",3,"onClick"],["icon","mdi-menu","label","\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435","styleClass","p-button-info p-button-text",3,"onClick",4,"ngIf"],["icon","mdi-currency_ruble","label","\u041e\u043f\u043b\u0430\u0442\u0430","styleClass","p-button-warning p-button-text",3,"onClick",4,"ngIf"],["icon","mdi-restore","label","\u041f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442","styleClass","p-button-help p-button-text",3,"onClick",4,"ngIf"],["class","text-red-400 text-xl font-bold",3,"letter-spacing",4,"ngIf"],[1,"text-primary","text-xl","font-bold",3,"ngClass"],["icon","mdi-refresh","styleClass","p-button-text p-button-icon",3,"onClick"],[1,"flex","align-items-center","text-sm"],[1,"flex","flex-grow-1","m-1","px-3","py-2","gap-2","border-round","align-items-center","text-white","font-bold","text-sm"],["class","flex-grow-1",4,"ngIf"],["class","bg-white border-round px-2 py-1 text-xs",3,"color",4,"ngIf"],[1,"flex-grow-1"],[1,"bg-white","border-round","px-2","py-1","text-xs"],[1,"flex","align-items-center","justify-content-center","text-lg","font-bold","text-bluegray-400"],["icon","mdi-menu","label","\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435","styleClass","p-button-info p-button-text",3,"onClick"],["icon","mdi-currency_ruble","label","\u041e\u043f\u043b\u0430\u0442\u0430","styleClass","p-button-warning p-button-text",3,"onClick"],["icon","mdi-restore","label","\u041f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442","styleClass","p-button-help p-button-text",3,"onClick"],[1,"text-red-400","text-xl","font-bold"],[1,"flex","align-items-center","p-4","gap-2","border-bluegray-50","border-bottom-1","text-lg","font-light","text-bluegray-400"],[1,"mdi-history"],["class","text-sm text-primary-400 font-bold",4,"ngIf"],["class","flex flex-column p-3",4,"ngSwitchCase"],["class","flex justify-content-center align-items-center p-3",3,"height",4,"ngSwitchCase"],["class","flex align-items-center justify-content-center flex-grow-1 py-5",4,"ngSwitchCase"],["class","p-2",3,"first","rows","totalRecords","onPageChange",4,"ngIf"],[1,"text-sm","text-primary-400","font-bold"],[1,"flex","flex-column","p-3"],[1,"overflow-y-auto"],[3,"inlined","item",4,"ngFor","ngForOf"],[3,"inlined","item"],[1,"flex","justify-content-center","align-items-center","p-3"],[1,"flex","align-items-center","justify-content-center","flex-grow-1","py-5"],[1,"flex","flex-column","align-items-center","text-lg","text-bluegray-400"],[1,"mds-task_alt"],[1,"flex","flex-column","align-items-center","text-lg","text-red-400"],[1,"p-2",3,"first","rows","totalRecords","onPageChange"],[1,"flexed","gap5","hcenter"],[3,"caption","color"],["caption","\u041a\u0440\u0435\u0434\u0438\u0442","color","var(--warm-500)",4,"ngIf"],["caption","\u041a\u0440\u0435\u0434\u0438\u0442","color","var(--warm-500)"],[1,"flex","flex-column"],[1,"flex","align-items-center","gap-2"],[1,"text-lg","font-bold","text-gray-600"],["pButton","","icon","mdi-edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"p-button-sm","p-button-success","p-button-text",3,"click"],[1,"flex","flex-column","gap-2","p-3","pt-1"],["class","flex gap-2 align-items-center text-red-400",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","gap-2","align-items-center","text-red-400"],[1,"flex","gap-2","align-items-center","max-w-16rem"],[1,"mdi-warning"],[1,"font-bold"],["icon","mdi-account_box","label","\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c","styleClass","p-button-success p-button-sm p-button-outlined",3,"onClick"],["class","flex gap-2 p-3 text-orange-400 font-semibold align-items-center",4,"ngIf"],["class","px-3","icon","mdi-check","label","\u041d\u0430\u0439\u0442\u0438 \u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c","styleClass","p-button-warning p-button-outlined",3,"onClick",4,"ngIf"],[1,"flex","gap-2","p-3","text-orange-400","font-semibold","align-items-center"],["class","flex flex-column gap-2 p-3",4,"ngIf"],[1,"flex","flex-column","gap-2","p-3"],["icon","mdi-check","label","\u041d\u0430\u0439\u0442\u0438 \u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c","styleClass","p-button-warning p-button-outlined",1,"px-3",3,"onClick"],[4,"ngIf","ngIfElse"],[1,"flex","align-items-center","gap-1","white-space-nowrap"],[1,"text-bluegray-400","font-bold"],[1,"text-bluegray-500","text-lg","max-w-18rem",3,"ngClass"],["class","mdi-help_outline caption size-big f-color-300",3,"pTooltip",4,"ngIf"],[1,"mdi-help_outline","caption","size-big","f-color-300",3,"pTooltip"],[1,"flex","gap-2","align-items-start"],[1,"flex","flex-column","gap-2"],[1,"text-bluegray-500","text-lg","flex","gap-2","align-items-center"],["class","text-primary text-sm",4,"ngIf"],[3,"click",4,"ngIf"],[1,"text-primary","text-sm"],[3,"click"],[1,"flex","flex-column","gap-1"],[4,"ngFor","ngForOf"],[1,"text-bluegray-500","text-lg","flex","align-items-center","gap-2"],["class","mdi-close text-bluegray-500 hover:text-red-400 text-sm cursor-pointer",3,"click",4,"ngIf"],[1,"mdi-close","text-bluegray-500","hover:text-red-400","text-sm","cursor-pointer",3,"click"],[1,"flex","align-items-center","gap-1","cursor-pointer","w-fit",3,"ngClass"],[1,"text-sm",3,"ngClass"],[1,"flex","flex-column","gap-2","text-bluegray-500","text-lg"],[1,"flex","flex-column","overflow-hidden","border-round-md","border-bluegray-100","border-1"],["styleClass","tabview-unpadding"],["header","\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430"],["filterMode","login",3,"filterId","inline","preparedAuthLogin"],["header","\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0434\u043e\u043c\u0435",4,"ngIf"],["header","\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u044b",4,"ngIf"],["header","\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0434\u043e\u043c\u0435"],["filterMode","building","bindingsStatus","online",3,"filterId","inline","preparedAuthLogin"],["header","\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u044b"],[3,"buildId","inline"],[1,"flex","py-3","gap-3","align-items-end","justify-content-end",3,"formGroup"],[1,"text-primary-400","font-bold"],["formControlName","state","offIcon","mdi-cancel","offLabel","\u041d\u0435 \u0432 \u0441\u0435\u0442\u0438","onIcon","mdi-check_circle","onLabel","\u0412 \u0441\u0435\u0442\u0438",3,"disabled"],["icon","mdi-filter_alt_off","label","\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440","styleClass","p-button-secondary p-button-text",3,"onClick"],["dataKey","id","scrollHeight","500px",3,"loading","scrollable","value"],["pTemplate","header"],["pTemplate","body"],[3,"first","rows","totalRecords","onPageChange"],[3,"formGroup"],["formControlName","macaddr","pInputText","","type","text",3,"size"],["formControlName","login","pInputText","","type","text",3,"size"],["formControlName","buildingId"],["formControlName","ip"],["formControlName","vlan",3,"max","size"],[1,"cursor-pointer","hover:bg-primary-50","hover:text-primary-400",3,"click"],["appTicker","",1,"white-space-nowrap","overflow-hidden"],["class","text-bluegray-300",4,"ngSwitchCase"],["class","text-green-400",4,"ngSwitchCase"],["type","short",3,"startTime"],[1,"text-bluegray-300"],[1,"text-green-400"],["class","flex align-items-center justify-content-center",3,"style",4,"ngIf"],[1,"flex","align-items-center","justify-content-center"],[1,"custom-spinner","custom-spinner-gray","custom-spinner-8xl"],["header","\u041f\u043b\u0430\u0442\u0435\u0436\u0438"],["scrollHeight","30rem","styleClass","p-datatable-sm border-round-lg border-1 border-bluegray-100 overflow-hidden",3,"scrollable","value"],["pTemplate","emptymessage"],["header","\u0421\u043e\u0431\u044b\u0442\u0438\u044f"],["header","\u0422\u0430\u0440\u0438\u0444\u044b"],[3,"ngClass"],[1,"flex","align-items-center","justify-content-between","text-bluegray-400","text-sm","font-bold"],[1,"text-bluegray-400","mr-2","pr-2","border-right-1","border-bluegray-100"],["tooltipPosition","bottom",1,"h-50","mr-1","opacity-70",3,"pTooltip"],[1,"flex","flex-column","align-items-center","justify-content-center"],[1,"text-bluegray-400","font-bold","text-lg"],[1,"flex","flex-column","align-items-center","justify-content-center","text-red-400","font-bold","text-lg"],[1,"flex","flex-column","align-items-center","justify-content-center","text-bluegray-400","font-bold","text-lg"],[1,"mds-radar"],[1,"flex","flex-column","gap-4","mt-1"],["appendTo","body","formControlName","payType","placeholder","\u0422\u0438\u043f \u043f\u043b\u0430\u0442\u0435\u0436\u0430",3,"options"],["formControlName","sum","placeholder","\u0421\u0443\u043c\u043c\u0430"],["formControlName","comment","pInputTextarea","","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438\u0306",3,"autoResize","cols","rows"],["icon","mdi-attach_money","label","\u041e\u043f\u043b\u0430\u0442\u0430","styleClass","p-button-primary",1,"align-self-end",3,"disabled","onClick"],["pInputTextarea","","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438\u0306 \u043a \u043e\u0431\u043d\u0443\u043b\u0435\u043d\u0438\u044e \u0431\u0430\u043b\u0430\u043d\u0441\u0430...",3,"autoResize","cols","formControl","rows"],["icon","mdi-exposure_zero","label","\u041e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441","styleClass","p-button-primary",1,"align-self-end",3,"disabled","onClick"],[1,"flex","gap-3","align-items-center"],["formControlName","paymentType",3,"options"],["formControlName","sum","pInputText","","pKeyFilter","pint","placeholder","\u0421\u0443\u043c\u043c\u0430",3,"size"],["icon","mdi-attach_money","label","\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c",1,"mt-3","align-self-end",3,"disabled","onClick"],["formControlName","mode",3,"options"],["formControlName","count","pInputText","","pKeyFilter","int",3,"placeholder","size"],["icon","mdi-restore","label","\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",1,"mt-3","align-self-end",3,"disabled","onClick"],["strokeWidth","1",1,"custom-spinner","custom-spinner-gray","custom-spinner-8xl"],[1,"flex","align-items-center","justify-content-between","w-full","h-full",3,"pTooltip","showDelay"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e.ynx(2,2),e.YNc(3,J1,3,0,"ng-container",3),e.YNc(4,Q1,6,0,"ng-container",3),e.YNc(5,Mx,2,1,"ng-container",3),e.BQk(),e.qZA()(),e.YNc(6,E,37,29,"ng-template",null,4,e.W1O),e.YNc(8,re,3,3,"ng-template",null,5,e.W1O),e.YNc(10,Ui,14,26,"ng-template",null,6,e.W1O),e.YNc(12,W_,9,9,"ng-template",null,7,e.W1O),e.YNc(14,Cw,18,49,"ng-template",null,8,e.W1O),e.YNc(16,bw,6,4,"ng-template",null,9,e.W1O),e.YNc(18,xw,5,2,"ng-template",null,10,e.W1O),e.YNc(20,Ew,5,3,"ng-template",null,11,e.W1O),e.YNc(22,Ow,3,2,"ng-template",null,12,e.W1O),e.YNc(24,Lw,6,3,"ng-template",null,13,e.W1O),e.YNc(26,Zw,1,1,"ng-template",null,14,e.W1O),e.YNc(28,Uw,4,3,"ng-template",null,15,e.W1O),e.YNc(30,Hw,11,2,"ng-template",null,16,e.W1O),e.YNc(32,Ww,7,8,"ng-template",null,17,e.W1O),e._UZ(34,"p-menu",18,19),e.TgZ(36,"p-dialog",20),e.NdJ("onShow",function(){return t.openAuthDialog.next(null)})("visibleChange",function(s){return t.isAuthDialogVisible=s}),e.YNc(37,t3,2,4,"ng-template",21),e.qZA(),e.TgZ(38,"p-dialog",22),e.NdJ("visibleChange",function(s){return t.isUserEditDialogVisible=s}),e.TgZ(39,"form",23)(40,"app-label",24),e._UZ(41,"input",25),e.qZA(),e.TgZ(42,"app-label",26),e._UZ(43,"input",27),e.qZA(),e.TgZ(44,"app-label",28),e._UZ(45,"input",29),e.qZA(),e.TgZ(46,"app-label",30),e._UZ(47,"textarea",31),e.qZA(),e.TgZ(48,"button",32),e.NdJ("click",function(){return t.confirmUserEdit()}),e.qZA()()(),e.TgZ(49,"p-dialog",33),e.NdJ("onHide",function(){return t.closeHistoryDialog()})("onShow",function(){return t.getHistory()})("visibleChange",function(s){return t.isHistoryDialogVisible=s}),e.YNc(50,m3,2,2,"ng-template",21),e.qZA(),e.TgZ(51,"p-dialog",34),e.NdJ("visibleChange",function(s){return t.isNCLHistoryDialogVisible=s}),e.TgZ(52,"div",35),e.ALo(53,"async"),e.YNc(54,w3,6,5,"ng-container",36),e.ALo(55,"async"),e.qZA()(),e.TgZ(56,"p-dialog",37),e.NdJ("visibleChange",function(s){return t.isBalanceDialogVisible=s}),e.YNc(57,E3,7,9,"ng-template",21),e.qZA(),e.TgZ(58,"p-dialog",38),e.NdJ("visibleChange",function(s){return t.isBalanceResetDialogVisible=s}),e.YNc(59,S3,3,5,"ng-template",21),e.qZA(),e.TgZ(60,"p-dialog",39),e.NdJ("visibleChange",function(s){return t.isPaymentDialogVisible=s}),e.YNc(61,k3,5,6,"ng-template",40),e.qZA(),e.TgZ(62,"p-dialog",41),e.NdJ("visibleChange",function(s){return t.isRecalculationDialogVisible=s}),e.YNc(63,D3,5,7,"ng-template",40),e.qZA(),e.YNc(64,M3,2,0,"ng-template",null,42,e.W1O),e.TgZ(66,"p-overlayPanel",43,44)(68,"p-listbox",45),e.NdJ("onClick",function(s){return t.changeTariff(s)}),e.YNc(69,O3,6,7,"ng-template",46),e.qZA()(),e.TgZ(70,"p-overlayPanel",43,47)(72,"p-listbox",48),e.NdJ("onClick",function(s){return t.appendService(s)})("ngModelChange",function(s){return t.selectedServices=s}),e.YNc(73,P3,6,7,"ng-template",46),e.qZA()(),e._UZ(74,"p-menu",18,49)),2&o&&(e.xp6(2),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(29),e.Q6J("model",t.wireframes)("popup",!0),e.xp6(2),e.Q6J("visible",t.isAuthDialogVisible)("dismissableMask",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",t.isUserEditDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1)("draggable",!0),e.xp6(1),e.Q6J("formGroup",t.userEditForm),e.xp6(9),e.Q6J("disabled",t.userEditForm.invalid),e.xp6(1),e.Q6J("visible",t.isHistoryDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1),e.xp6(2),e.Akn(e.DdM(60,L3)),e.Q6J("visible",t.isNCLHistoryDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1),e.xp6(1),e.Akn("READY"===t.nclHistoryLoadingState?e.lcZ(53,56,t.nclHistoryViewStyle$):e.DdM(61,R3)),e.xp6(2),e.Q6J("ngIf",e.lcZ(55,58,t.nclHistory$)),e.xp6(2),e.Q6J("visible",t.isBalanceDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",t.isBalanceResetDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",t.isPaymentDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1),e.xp6(1),e.Q6J("formGroup",t.paymentForm),e.xp6(1),e.Q6J("visible",t.isRecalculationDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1),e.xp6(1),e.Q6J("formGroup",t.recalculationForm),e.xp6(5),e.Q6J("filter",!0)("listStyle",e.DdM(62,h))("options",t.tariffList),e.xp6(4),e.Q6J("ngModel",t.selectedServices)("filter",!0)("listStyle",e.DdM(63,h))("options",t.serviceList),e.xp6(2),e.Q6J("model",t.controlMenuItems)("popup",!0))}}),Kd=(0,qa.gn)([(0,dl.kG)()],Kd);var Zx=b(5376),N3=b(5625);function F3(n,o){1&n&&e.GkF(0)}function B3(n,o){if(1&n&&(e.ynx(0),e.YNc(1,F3,1,0,"ng-container",30),e.BQk()),2&n){e.oxw();const t=e.MAs(17);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Z3(n,o){1&n&&e.GkF(0)}function U3(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Z3,1,0,"ng-container",30),e.BQk()),2&n){e.oxw();const t=e.MAs(19);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function H3(n,o){1&n&&e.GkF(0)}function V3(n,o){if(1&n&&(e.ynx(0),e.YNc(1,H3,1,0,"ng-container",30),e.BQk()),2&n){e.oxw(2);const t=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function z3(n,o){1&n&&e.GkF(0)}function J3(n,o){if(1&n&&(e.ynx(0),e.YNc(1,z3,1,0,"ng-container",30),e.BQk()),2&n){e.oxw(2);const t=e.MAs(11);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Q3(n,o){1&n&&e.GkF(0)}function G3(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Q3,1,0,"ng-container",30),e.BQk()),2&n){e.oxw(2);const t=e.MAs(13);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function W3(n,o){1&n&&e.GkF(0)}function Y3(n,o){if(1&n&&(e.ynx(0),e.YNc(1,W3,1,0,"ng-container",30),e.BQk()),2&n){e.oxw(2);const t=e.MAs(15);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function j3(n,o){if(1&n&&(e.ynx(0)(1,3),e.YNc(2,V3,2,1,"ng-container",4),e.YNc(3,J3,2,1,"ng-container",4),e.YNc(4,G3,2,1,"ng-container",4),e.YNc(5,Y3,2,1,"ng-container",4),e.BQk()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngSwitch",t.viewMode),e.xp6(1),e.Q6J("ngSwitchCase","city"),e.xp6(1),e.Q6J("ngSwitchCase","street"),e.xp6(1),e.Q6J("ngSwitchCase","house"),e.xp6(1),e.Q6J("ngSwitchCase","houseView")}}function K3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",43),e.NdJ("click",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.selectCity(p))}),e._UZ(1,"span",44),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(3),e.Oqu(t.name)}}function q3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",32)(2,"div",33)(3,"span",34),e._uU(4," \u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u0443\u043d\u043a\u0442\u044b "),e.qZA(),e._UZ(5,"div",35),e.TgZ(6,"p-button",36),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openDialogCreateCity())}),e.ALo(7,"async"),e.qZA()(),e.TgZ(8,"div",37),e.YNc(9,K3,4,1,"div",38),e.qZA()(),e.TgZ(10,"div",39)(11,"div",40),e._UZ(12,"span",41),e.TgZ(13,"span",42),e._uU(14,"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442"),e.qZA()()()()}if(2&n){const t=e.oxw();let i;e.xp6(6),e.Q6J("loading",null!==(i=e.lcZ(7,4,t.beginRequest$))&&void 0!==i&&i)("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK)),e.xp6(3),e.Q6J("ngForOf",t.cities)("ngForTrackBy",t.trackByCity)}}function $3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",43),e.NdJ("click",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.selectStreet(p))}),e._UZ(1,"span",59),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(3),e.Oqu(t.nameWithPrefix)}}function X3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",60),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.saveCity())}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=e.oxw(2);let i;e.Q6J("loading",null!==(i=e.lcZ(1,2,t.beginRequest$))&&void 0!==i&&i)("disabled",!t.cityEditingForm.valid||t.cityEditingForm.pristine)}}const eE=function(n){return{"cover-element":n}};function tE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",32)(2,"div",45)(3,"p-button",46),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.back())}),e.ALo(4,"async"),e.qZA(),e.TgZ(5,"span",34),e._uU(6," \u0423\u043b\u0438\u0446\u044b "),e.qZA(),e._UZ(7,"div",35),e.TgZ(8,"p-button",36),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openDialogCreateStreet())}),e.ALo(9,"async"),e.qZA()(),e.TgZ(10,"div",47)(11,"div",48)(12,"span",49),e._UZ(13,"span",50),e.qZA(),e._UZ(14,"input",51),e.qZA()(),e.TgZ(15,"div",52),e.YNc(16,$3,4,1,"div",38),e.qZA()(),e.TgZ(17,"div",53)(18,"div",54)(19,"span",34),e._uU(20),e.qZA(),e._UZ(21,"div",55),e.TgZ(22,"p-button",56),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.deleteCity())}),e.ALo(23,"async"),e.qZA()(),e.TgZ(24,"div",57)(25,"div",13)(26,"label",14),e._uU(27,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430"),e.qZA(),e._UZ(28,"input",19),e.qZA(),e.YNc(29,X3,2,4,"p-button",58),e.qZA()()()}if(2&n){const t=e.oxw();let i,s,p;e.xp6(3),e.Q6J("loading",null!==(i=e.lcZ(4,13,t.beginRequest$))&&void 0!==i&&i),e.xp6(5),e.Q6J("loading",null!==(s=e.lcZ(9,15,t.beginRequest$))&&void 0!==s&&s)("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK)),e.xp6(6),e.Q6J("appPreventInput",t.streetFiltering)("formControl",t.filterControl),e.xp6(1),e.Q6J("ngClass",e.VKq(19,eE,t.streetFiltering)),e.xp6(1),e.Q6J("ngForOf",t.streets)("ngForTrackBy",t.trackByStreet),e.xp6(4),e.hij(" \u0413\u043e\u0440\u043e\u0434: ",null==t.selectedCity?null:t.selectedCity.name," "),e.xp6(2),e.Q6J("loading",null!==(p=e.lcZ(23,17,t.beginRequest$))&&void 0!==p&&p)("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK)),e.xp6(2),e.Q6J("formGroup",t.cityEditingForm),e.xp6(5),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK))}}function nE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",43),e.NdJ("click",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.selectHouse(p))}),e._UZ(1,"span",62),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(3),e.Oqu(t.houseName)}}function iE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",60),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.saveStreet())}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=e.oxw(2);let i;e.Q6J("loading",null!==(i=e.lcZ(1,2,t.beginRequest$))&&void 0!==i&&i)("disabled",!t.streetEditingForm.valid||t.streetEditingForm.pristine)}}function oE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",32)(2,"div",45)(3,"p-button",46),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.back())}),e.ALo(4,"async"),e.qZA(),e.TgZ(5,"span",34),e._uU(6," \u0414\u043e\u043c\u0430 "),e.qZA(),e._UZ(7,"div",35),e.TgZ(8,"p-button",36),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openDialogCreateHouse())}),e.ALo(9,"async"),e.qZA()(),e.TgZ(10,"div",37),e.YNc(11,nE,4,1,"div",38),e.qZA()(),e.TgZ(12,"div",53)(13,"div",54)(14,"span",34),e._uU(15),e.qZA(),e._UZ(16,"div",55),e.TgZ(17,"p-button",56),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.deleteStreet())}),e.ALo(18,"async"),e.qZA()(),e.TgZ(19,"div",57)(20,"div",13)(21,"label",14),e._uU(22,"\u0422\u0438\u043f"),e.qZA(),e._UZ(23,"p-dropdown",61),e.qZA(),e.TgZ(24,"div",13)(25,"label",14),e._uU(26,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u043b\u0438\u0446\u044b"),e.qZA(),e._UZ(27,"input",19),e.qZA(),e.TgZ(28,"div",13)(29,"label",14),e._uU(30,"\u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f"),e.qZA(),e._UZ(31,"p-chips",20),e.qZA(),e.TgZ(32,"div",13)(33,"label",14),e._uU(34,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432 \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0435"),e.qZA(),e._UZ(35,"input",21),e.qZA(),e.YNc(36,iE,2,4,"p-button",58),e.qZA()()()}if(2&n){const t=e.oxw();let i,s,p;e.xp6(3),e.Q6J("loading",null!==(i=e.lcZ(4,14,t.beginRequest$))&&void 0!==i&&i),e.xp6(5),e.Q6J("loading",null!==(s=e.lcZ(9,16,t.beginRequest$))&&void 0!==s&&s)("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_HOUSE_ADDRESS_BOOK)),e.xp6(3),e.Q6J("ngForOf",t.houses)("ngForTrackBy",t.trackByHouse),e.xp6(4),e.hij(" \u0423\u043b\u0438\u0446\u0430: ",null==t.selectedStreet?null:t.selectedStreet.streetName," "),e.xp6(2),e.Q6J("loading",null!==(p=e.lcZ(18,18,t.beginRequest$))&&void 0!==p&&p)("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK)),e.xp6(2),e.Q6J("formGroup",t.streetEditingForm),e.xp6(4),e.Q6J("options",t.streetPrefixes),e.xp6(8),e.Q6J("allowDuplicate",!1)("addOnTab",!0)("addOnBlur",!0),e.xp6(5),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK))}}function sE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",60),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.saveHouse())}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=e.oxw(2);let i;e.Q6J("loading",null!==(i=e.lcZ(1,2,t.beginRequest$))&&void 0!==i&&i)("disabled",!t.houseEditingForm.valid||t.houseEditingForm.pristine)}}const rE=function(n,o){return[n,o]};function aE(n,o){if(1&n&&e._UZ(0,"ya-placemark",77),2&n){const t=e.oxw(2);e.Q6J("geometry",e.WLB(1,rE,t.housePlace.latitude,t.housePlace.longitude))}}function lE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",63)(1,"div",64)(2,"p-button",46),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.back())}),e.ALo(3,"async"),e.qZA(),e.TgZ(4,"span",65),e._uU(5),e.qZA(),e.TgZ(6,"p-button",56),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.deleteHouse())}),e.ALo(7,"async"),e.qZA()(),e.TgZ(8,"div",66)(9,"p-button",67),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.manualHouseNavigation$.next(-1))}),e.ALo(10,"async"),e.qZA(),e._UZ(11,"div",35),e.TgZ(12,"p-button",68),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.manualHouseNavigation$.next(1))}),e.ALo(13,"async"),e.qZA()(),e.TgZ(14,"div",69),e.NdJ("@swipe.done",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.animationEnd$.next(!0))}),e.ALo(15,"async"),e.TgZ(16,"div",28)(17,"label",14),e._uU(18,"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430"),e.qZA(),e._UZ(19,"p-inputNumber",23),e.qZA(),e.TgZ(20,"div",28)(21,"label",14),e._uU(22,"\u0414\u0440\u043e\u0431\u044c (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(23,"p-inputNumber",70),e.qZA(),e.TgZ(24,"div",28)(25,"label",14),e._uU(26,"\u041b\u0438\u0442\u0435\u0440\u0430 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(27,"input",71),e.qZA(),e.TgZ(28,"div",28)(29,"label",14),e._uU(30,"\u0421\u0442\u0440\u043e\u0435\u043d\u0438\u0435 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(31,"p-inputNumber",72),e.qZA(),e.TgZ(32,"div",73),e._UZ(33,"p-checkbox",74),e.TgZ(34,"label",14),e._uU(35,"\u041c\u043d\u043e\u0433\u043e\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u043d\u044b\u0439 \u0434\u043e\u043c?"),e.qZA()(),e.TgZ(36,"div",28)(37,"label",14),e._uU(38,"\u041f\u0440\u0438\u0432\u044f\u0437\u043a\u0430 \u043a ACP"),e.qZA(),e._UZ(39,"app-acp-house-input",29),e.qZA(),e.YNc(40,sE,2,4,"p-button",58),e.TgZ(41,"ya-map",75),e.NdJ("yaclick",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.onMapClick(s))}),e.YNc(42,aE,1,4,"ya-placemark",76),e.qZA()()()}if(2&n){const t=e.oxw();let i,s,p,w;e.xp6(2),e.Q6J("loading",null!==(i=e.lcZ(3,14,t.beginRequest$))&&void 0!==i&&i),e.xp6(3),e.hij(" \u0414\u043e\u043c: ",null==t.selectedHouse?null:t.selectedHouse.addressName," "),e.xp6(1),e.Q6J("loading",null!==(s=e.lcZ(7,16,t.beginRequest$))&&void 0!==s&&s)("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK)),e.xp6(3),e.Q6J("loading",null!==(p=e.lcZ(10,18,t.beginRequest$))&&void 0!==p&&p),e.xp6(3),e.Q6J("loading",null!==(w=e.lcZ(13,20,t.beginRequest$))&&void 0!==w&&w),e.xp6(2),e.Q6J("formGroup",t.houseEditingForm)("@swipe",e.lcZ(15,22,t.animationState$)),e.xp6(19),e.Q6J("binary",!0),e.xp6(7),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.EDIT_HOUSE_ADDRESS_BOOK)),e.xp6(1),e.Q6J("center",t.centerOfMap)("zoom",t.zoom)("options",t.mapOptions),e.xp6(1),e.Q6J("ngIf",t.housePlace)}}function cE(n,o){1&n&&(e.TgZ(0,"div",78),e._UZ(1,"p-progressSpinner",79),e.qZA())}function uE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",80)(1,"div",81),e._UZ(2,"span",82),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA(),e.TgZ(5,"p-button",83),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.reload())}),e.qZA()()()}}const dE=function(){return{marginBottom:"1rem"}};let NT=(()=>{class n{constructor(t,i,s,p,w){this.api=t,this.rt=i,this.personality=s,this.toast=p,this.confirmationService=w,this.AccessFlag=Ii.j,this.cities=[],this.streets=[],this.houses=[],this.streetFiltering=!1,this.viewMode="city",this.loadingState=he.Gu.LOADING,this.filterControl=new f.NI(""),this.filterChanged$=this.filterControl.valueChanges.pipe((0,Is.b)(1e3),(0,zr.x)()),this.cityEditingForm=new f.cw({name:new f.NI("",[f.kI.required,f.kI.minLength(3)])}),this.streetEditingForm=new f.cw({prefix:new f.NI("",[f.kI.required]),name:new f.NI("",[f.kI.required,f.kI.minLength(3),f.kI.maxLength(48)]),altNames:new f.NI([]),billingAlias:new f.NI("")}),this.houseEditingForm=new f.cw({houseNum:new f.NI(null,[f.kI.required,f.kI.min(1),f.kI.max(999)]),letter:new f.NI(null),fraction:new f.NI(null),build:new f.NI(null),isApartmentHouse:new f.NI(!1),acpHouseBind:new f.NI(null)}),this.subscriptions=new _.xf,this.cityLoad$=(0,Tn.of)(null).pipe((0,R.w)(()=>this.api.getCities()),(0,si.b)(Q=>this.cities=Q),(0,si.b)(()=>{this.subscriptions.unsubscribe("cityCr"),this.subscriptions.unsubscribe("cityUpd"),this.subscriptions.unsubscribe("cityDel"),this.subscriptions.unsubscribe("streetCr"),this.subscriptions.unsubscribe("streetUpd"),this.subscriptions.unsubscribe("streetDel"),this.subscriptions.unsubscribe("houseCr"),this.subscriptions.unsubscribe("houseUpd"),this.subscriptions.unsubscribe("houseDel"),this.subscriptions.addSubscription("cityCr",this.rt.cityCreated().subscribe(Q=>{this.cities=[...this.cities,Q]})),this.subscriptions.addSubscription("cityUpd",this.rt.cityUpdated().subscribe(Q=>{var Ce;this.cities=this.cities.map(qe=>qe.cityId===Q.cityId?Q:qe),(null===(Ce=this.selectedCity)||void 0===Ce?void 0:Ce.cityId)===Q.cityId&&this.selectCity(Q)})),this.subscriptions.addSubscription("cityDel",this.rt.cityDeleted().subscribe(Q=>{var Ce;this.cities=this.cities.filter(qe=>qe.cityId!==Q.cityId),(null===(Ce=this.selectedCity)||void 0===Ce?void 0:Ce.cityId)===Q.cityId&&(this.viewMode="city")})),this.subscriptions.addSubscription("streetCr",this.rt.streetCreated().subscribe(Q=>{var Ce;Q.city.cityId===(null===(Ce=this.selectedCity)||void 0===Ce?void 0:Ce.cityId)&&(this.streets=[...this.streets,Q].sort(this.streetSort))})),this.subscriptions.addSubscription("streetUpd",this.rt.streetUpdated().subscribe(Q=>{var Ce;this.streets=this.streets.map(qe=>qe.streetId===Q.streetId?Q:qe).sort(this.streetSort),(null===(Ce=this.selectedStreet)||void 0===Ce?void 0:Ce.streetId)===Q.streetId&&this.selectStreet(Q)})),this.subscriptions.addSubscription("streetDel",this.rt.streetDeleted().subscribe(Q=>{var Ce;this.streets=this.streets.filter(qe=>qe.streetId!==Q.streetId),(null===(Ce=this.selectedStreet)||void 0===Ce?void 0:Ce.streetId)===Q.streetId&&(this.viewMode="street")})),this.subscriptions.addSubscription("houseCr",this.rt.houseCreated().subscribe(Q=>{var Ce;Q.streetId===(null===(Ce=this.selectedStreet)||void 0===Ce?void 0:Ce.streetId)&&(this.houses=[...this.houses,Q].sort(this.houseSort))})),this.subscriptions.addSubscription("houseUpd",this.rt.houseUpdated().subscribe(Q=>{var Ce;this.houses=this.houses.map(qe=>qe.houseId===Q.houseId?Q:qe).sort(this.houseSort),(null===(Ce=this.selectedHouse)||void 0===Ce?void 0:Ce.houseId)===Q.houseId&&this.selectHouse(Q)})),this.subscriptions.addSubscription("houseDel",this.rt.houseDeleted().subscribe(Q=>{var Ce;this.houses=this.houses.filter(qe=>qe.houseId!==Q.houseId),(null===(Ce=this.selectedHouse)||void 0===Ce?void 0:Ce.houseId)===Q.houseId&&(this.viewMode="house")}))})),this.streetPrefixes=[{label:"\u0423\u043b\u0438\u0446\u0430",value:"\u0443\u043b"},{label:"\u0410\u043b\u043b\u0435\u044f",value:"\u0430\u043b\u043b\u0435\u044f"},{label:"\u0411\u0443\u043b\u044c\u0432\u0430\u0440",value:"\u0431-\u0440"},{label:"\u041f\u0435\u0440\u0435\u0443\u043b\u043e\u043a",value:"\u043f\u0435\u0440"},{label:"\u041f\u043b\u043e\u0449\u0430\u0434\u044c",value:"\u043f\u043b"},{label:"\u041f\u0440\u043e\u0435\u0437\u0434",value:"\u043f\u0440-\u0434"},{label:"\u041f\u0440\u043e\u0441\u043f\u0435\u043a\u0442",value:"\u043f\u0440-\u043a\u0442"},{label:"\u0428\u043e\u0441\u0441\u0435",value:"\u0448"}],this.loadingStateHandler={next:()=>{this.loadingState=he.Gu.READY},error:()=>{this.loadingState=he.Gu.ERROR}},this.createCityVisible=!1,this.createCityForm=new f.cw({name:new f.NI("",[f.kI.required,f.kI.minLength(3)])}),this.createStreetVisible=!1,this.createStreetForm=new f.cw({prefix:new f.NI("",[f.kI.required]),name:new f.NI("",[f.kI.required,f.kI.minLength(3),f.kI.maxLength(48)]),altNames:new f.NI([]),billingAlias:new f.NI("")}),this.createHouseVisible=!1,this.createHouseForm=new f.cw({houseNum:new f.NI(null,[f.kI.required,f.kI.min(1),f.kI.max(999999)]),letter:new f.NI(null,[f.kI.maxLength(1)]),fraction:new f.NI(null,[f.kI.min(1),f.kI.max(999)]),build:new f.NI(null,[f.kI.min(1),f.kI.max(99)]),isApartmentHouse:new f.NI(!1),acpHouseBind:new f.NI(null)}),this.beginRequest$=new $a.X(!1),this.houseNavigation$=(0,x.R)(window,"keyup").pipe((0,a.h)(Q=>Q.altKey&&!!this.selectedHouse),(0,gt.U)(Q=>{switch(Q.key){case"n":return 1;case"b":return-1}return 0})),this.manualHouseNavigation$=new mr.x,this.animationEnd$=new mr.x,this.houseBeginningNavigate=!1,this.requestStatusHandler={next:()=>{this.beginRequest$.next(!1)},error:()=>{this.beginRequest$.next(!1)}},this.mapOptions={avoidFractionalZoom:!0},this.centerOfMap=[47.519624,42.206329],this.zoom=12,this._houseViewAnimation=new $a.X([0,0]),this.animationState$=this._houseViewAnimation.pipe((0,R.w)(Q=>(0,Tn.of)(...Q)),(0,gt.U)(Q=>Q>0?"right":Q<0?"left":"default"))}updateCenterOfMap(){if(this.housePlace)return this.centerOfMap=[this.housePlace.latitude,this.housePlace.longitude],void(this.zoom=17);this.centerOfMap=[47.519624,42.206329],this.zoom=12}trackByHouse(t,i){return i.houseId+i.addressName}trackByStreet(t,i){return i.streetId+i.nameWithPrefix}trackByCity(t,i){return i.cityId+i.name}streetSort(t,i){return t.name<i.name?-1:t.name>i.name?1:0}houseSort(t,i){var s,p,w,Q,Ce,qe;return t.houseNum-i.houseNum||(null===(s=t.letter)||void 0===s?void 0:s.localeCompare(null!==(p=i.letter)&&void 0!==p?p:""))||(null!==(w=t.fraction)&&void 0!==w?w:0)-(null!==(Q=i.fraction)&&void 0!==Q?Q:0)||(null!==(Ce=t.build)&&void 0!==Ce?Ce:0)-(null!==(qe=i.build)&&void 0!==qe?qe:0)}onMapClick(t){const{event:s}=t,[p,w]=s.get("coords");this.housePlace={placeId:0,latitude:p,longitude:w}}ngOnInit(){this.cityLoad$.subscribe(this.loadingStateHandler),this.subscriptions.addSubscription("hsnav",(0,so.T)(this.houseNavigation$,this.manualHouseNavigation$.asObservable()).pipe((0,a.h)(()=>!this.houseBeginningNavigate),(0,si.b)(t=>{this.houseBeginningNavigate=!0,this._houseViewAnimation.next([0,t])}),(0,Zx.j)(()=>this.animationEnd$),(0,si.b)(t=>this._houseViewAnimation.next([t,-t])),(0,Zx.j)(()=>this.animationEnd$),(0,si.b)(t=>{-1===t?this.previousHouse():1===t&&this.nextHouse(),this._houseViewAnimation.next([t,0])}),(0,Zx.j)(()=>this.animationEnd$),(0,N3.X)()).subscribe({next:t=>{this.houseBeginningNavigate=!1},error:()=>{this.houseBeginningNavigate=!1}})),this.subscriptions.addSubscription("bgreq",this.beginRequest$.subscribe(t=>{t?(this.createCityForm.disable(),this.cityEditingForm.disable(),this.streetEditingForm.disable(),this.createStreetForm.disable(),this.houseEditingForm.disable(),this.createHouseForm.disable()):(this.createCityForm.enable(),this.cityEditingForm.enable(),this.streetEditingForm.enable(),this.createStreetForm.enable(),this.houseEditingForm.enable(),this.createHouseForm.enable())}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}loadStreets$(t,i){return this.api.getStreets(t,null!=i?i:void 0).pipe((0,si.b)(s=>this.streets=s),(0,si.b)(()=>this.viewMode="street"),(0,si.b)(()=>this.streetFiltering=!1))}selectCity(t){let{cityId:i}=t;i?(this.loadingState=he.Gu.LOADING,this.selectedCity=t,this.filterControl.reset(),this.cityEditingForm.setValue({name:t.name}),this.subscriptions.unsubscribe("cityLoad"),this.subscriptions.addSubscription("cityLoad",(0,so.T)(this.loadStreets$(i),this.filterChanged$.pipe((0,si.b)(()=>this.streetFiltering=!0),(0,Xl.z)(s=>this.loadStreets$(i,s)))).subscribe(this.loadingStateHandler))):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u0431\u043e\u0440\u0430 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u0443\u043d\u043a\u0442\u0430",detail:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u0443\u043d\u043a\u0442\u0430 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"})}selectStreet(t){var i,s,p;t.streetId?(this.loadingState=he.Gu.LOADING,this.selectedStreet=t,this.streetEditingForm.setValue({prefix:null!==(i=t.prefix)&&void 0!==i?i:null,name:null!==(s=t.name)&&void 0!==s?s:"",altNames:t.altNames?t.altNames.split(","):[],billingAlias:null!==(p=t.billingAlias)&&void 0!==p?p:""}),this.api.getHouses(t.streetId).pipe((0,si.b)(w=>this.houses=w.sort(this.houseSort)),(0,si.b)(()=>this.viewMode="house")).subscribe(this.loadingStateHandler)):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u0431\u043e\u0440\u0430 \u0443\u043b\u0438\u0446\u044b",detail:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0443\u043b\u0438\u0446\u044b \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"})}selectHouse(t){var i,s,p;this.viewMode="houseView",this.selectedHouse=t,t.place?(this.housePlace=t.place,this.updateCenterOfMap()):(this.housePlace=void 0,this.updateCenterOfMap()),this.houseEditingForm.setValue({houseNum:t.houseNum,letter:null!==(i=t.letter)&&void 0!==i?i:null,fraction:null!==(s=t.fraction)&&void 0!==s?s:null,build:null!==(p=t.build)&&void 0!==p?p:null,isApartmentHouse:t.isApartmentHouse,acpHouseBind:t.acpHouseBind})}createCity(){this.beginRequest$.next(!0),this.api.createCity(this.createCityForm.value).pipe((0,si.b)(this.requestStatusHandler)).subscribe(()=>this.createCityVisible=!1)}deleteCity(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0438\u0306 \u043f\u0443\u043d\u043a\u0442?",accept:()=>{this.selectedCity?(this.beginRequest$.next(!0),this.api.deleteCity(this.selectedCity.cityId).pipe((0,si.b)(this.requestStatusHandler)).subscribe(()=>this.viewMode="city")):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0430\u0441\u0435\u043b\u0451\u043d\u043d\u044b\u0438\u0306 \u043f\u0443\u043d\u043a\u0442"})}})}saveCity(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f?",accept:()=>{this.selectedCity?(this.beginRequest$.next(!0),this.api.editCity(this.selectedCity.cityId,this.cityEditingForm.value).pipe((0,si.b)(this.requestStatusHandler)).subscribe()):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0430\u0441\u0435\u043b\u0451\u043d\u043d\u044b\u0438\u0306 \u043f\u0443\u043d\u043a\u0442"})}})}createStreet(){this.selectedCity?(this.beginRequest$.next(!0),this.api.createStreet(this.selectedCity.cityId,this.createStreetForm.value).pipe((0,si.b)(this.requestStatusHandler)).subscribe(()=>this.createStreetVisible=!1)):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0438\u0306 \u043f\u0443\u043d\u043a\u0442"})}deleteStreet(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0443\u043b\u0438\u0446\u0443?",accept:()=>{var t;null!==(t=this.selectedStreet)&&void 0!==t&&t.streetId?(this.beginRequest$.next(!0),this.api.deleteStreet(this.selectedStreet.streetId).pipe((0,si.b)(this.requestStatusHandler)).subscribe(()=>this.viewMode="street")):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043b\u0438\u0446\u0443"})}})}saveStreet(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f?",accept:()=>{var t;null!==(t=this.selectedStreet)&&void 0!==t&&t.streetId?(this.beginRequest$.next(!0),this.api.editStreet(this.selectedStreet.streetId,this.streetEditingForm.value).pipe((0,si.b)(this.requestStatusHandler)).subscribe()):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043b\u0438\u0446\u0443"})}})}createHouse(){this.selectedStreet?(this.beginRequest$.next(!0),this.api.createHouse(this.selectedStreet.streetId,this.createHouseForm.value).pipe((0,si.b)(this.requestStatusHandler)).subscribe(()=>this.createHouseVisible=!1)):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043b\u0438\u0446\u0443"})}deleteHouse(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u043e\u043c?",accept:()=>{var t;null!==(t=this.selectedHouse)&&void 0!==t&&t.houseId?(this.beginRequest$.next(!0),this.api.deleteHouse(this.selectedHouse.houseId).pipe((0,si.b)(this.requestStatusHandler)).subscribe(()=>this.viewMode="house")):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u043e\u043c"})}})}saveHouse(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f?",accept:()=>{var t;if(null!==(t=this.selectedHouse)&&void 0!==t&&t.houseId){this.beginRequest$.next(!0);const i=this.houseEditingForm.value;this.housePlace&&(i.place=this.housePlace),this.api.editHouse(this.selectedHouse.houseId,i).pipe((0,si.b)(this.requestStatusHandler)).subscribe()}else this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u043e\u043c"})}})}back(){"houseView"===this.viewMode?(this.viewMode="house",this.selectedHouse=void 0):"house"===this.viewMode?(this.viewMode="street",this.selectedStreet=void 0):"street"===this.viewMode&&(this.viewMode="city",this.selectedCity=void 0)}openDialogCreateHouse(){this.createHouseForm.reset({isApartmentHouse:!1}),this.createHouseVisible=!0}openDialogCreateStreet(){this.createStreetForm.reset(),this.createStreetVisible=!0}openDialogCreateCity(){this.createCityForm.reset(),this.createCityVisible=!0}reload(){this.cities=[],this.streets=[],this.houses=[],this.selectedCity=void 0,this.selectedStreet=void 0,this.selectedHouse=void 0,this.viewMode="city",this.streetFiltering=!1,this.loadingState=he.Gu.LOADING,this.filterControl.reset(),this.cityLoad$.subscribe(this.loadingStateHandler)}houseNavigationHandler(t){-1===t?this.previousHouse():1===t&&this.nextHouse()}previousHouse(){if(this.selectedHouse){const t=this.houses.indexOf(this.selectedHouse);this.selectHouse(t>0?this.houses[t-1]:this.houses[this.houses.length-1])}}nextHouse(){if(this.selectedHouse){const t=this.houses.indexOf(this.selectedHouse);this.selectHouse(t<this.houses.length-1?this.houses[t+1]:this.houses[0])}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(V.F),e.Y36(F.ez),e.Y36(F.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:73,vars:37,consts:[["appExtendPageHeight","",1,"flexed","vcenter",3,"limited"],[1,"responsive-wrapper","flexed","gap10"],[1,"flex","p-3","flex-grow-1","gap-2","panel","overflow-hidden"],[3,"ngSwitch"],[4,"ngSwitchCase"],["cityList",""],["streetList",""],["houseList",""],["houseView",""],["loadingTemp",""],["errorTemp",""],["appendTo","body","header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442",3,"modal","resizable","dismissableMask","draggable","visible","visibleChange"],[1,"flex","flex-column","gap-3",3,"formGroup"],[1,"input-label-wrapper"],[1,"caption","size-small","wt-bold","f-color-500"],["pInputText","","type","text","formControlName","name"],["label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success","icon","mdi-add",1,"align-self-end",3,"disabled","onClick"],["appendTo","body","header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0443\u043b\u0438\u0446\u0443",3,"modal","resizable","dismissableMask","draggable","visible","visibleChange"],["appendTo","body","formControlName","prefix",3,"options"],["pInputText","","formControlName","name","type","text"],["formControlName","altNames","separator",",",3,"allowDuplicate","addOnTab","addOnBlur"],["pInputText","","formControlName","billingAlias","type","text"],["appendTo","body","header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u043c",3,"modal","resizable","draggable","dismissableMask","visible","visibleChange"],["formControlName","houseNum"],["formControlName","fraction",3,"min","max"],["formControlName","letter","mask","a","characterPattern","[\u0430-\u044f]"],["formControlName","build",3,"min","max"],["formControlName","isApartmentHouse"],[1,"flex","gap-1","flex-column"],["formControlName","acpHouseBind"],[4,"ngTemplateOutlet"],[1,"flex","gap-3","flex-grow-1"],[1,"flex","flex-column","gap-2","terminator-right"],[1,"flex","gap-3","px-3","align-items-center"],[1,"caption","size-big"],[1,"flex-grow-1"],["icon","mdi-add","styleClass","p-button-outlined p-button-success p-button-icon",3,"loading","disabled","onClick"],[1,"list-view","pr-3"],["class","flexed gap5 p10 h-min hcenter caption wt-bold f-color-600 border-round-md active-element","pRipple","",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","p-3","flex-grow-1","align-items-center","justify-content-center"],[1,"flex","flex-column","align-items-center","caption","f-color-500"],[1,"mds-check_circle"],[1,"caption","size-big","f-color-500"],["pRipple","",1,"flexed","gap5","p10","h-min","hcenter","caption","wt-bold","f-color-600","border-round-md","active-element",3,"click"],[1,"mdi-location_city"],[1,"flex","gap-3","pr-3","align-items-center"],["icon","mdi-arrow_back_ios_new","styleClass","p-button-text p-button-secondary p-button-icon",3,"loading","onClick"],[1,"pr-3"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"mdi-search"],["pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u043b\u0438\u0446\u044b...","type","text",3,"appPreventInput","formControl"],[1,"list-view","pr-3",3,"ngClass"],[1,"flexed","column","stretched","gap10"],[1,"flexed","gap5","pb-2","px-2","hcenter","terminator-bottom"],[1,"stretched"],["label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","styleClass","p-button-text p-button-danger","icon","mdi-delete",3,"loading","disabled","onClick"],[1,"flex","flex-column","gap-2","p-3",3,"formGroup"],["label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","class","align-self-end","styleClass","p-button-success","icon","mdi-save",3,"loading","disabled","onClick",4,"ngIf"],[1,"mdi-streetview"],["label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","styleClass","p-button-success","icon","mdi-save",1,"align-self-end",3,"loading","disabled","onClick"],["formControlName","prefix",3,"options"],[1,"mdi-home"],[1,"flex","flex-column","gap-3","flex-grow-1"],[1,"flex","align-items-center","gap-3","terminator-bottom","pb-2"],[1,"caption","size-big","flex-grow-1"],[1,"flex","gap-3"],["label","\u041f\u0440\u0435\u0434. (Alt+B)","icon","mdi-arrow_back","styleClass","p-button-text p-button-info",3,"loading","onClick"],["label","\u0421\u043b\u0435\u0434. (Alt+N)","icon","mdi-arrow_forward","iconPos","right","styleClass","p-button-text p-button-info",3,"loading","onClick"],[1,"flex","flex-column","gap-3","flex-grow-1","p-3",3,"formGroup"],["formControlName","fraction"],["pInputText","","formControlName","letter","type","text"],["formControlName","build"],[1,"flex","gap-1","align-items-center"],["formControlName","isApartmentHouse",3,"binary"],[1,"flex-grow-1",3,"center","zoom","options","yaclick"],[3,"geometry",4,"ngIf"],[3,"geometry"],[1,"flex","align-items-center","justify-content-center","flex-grow-1"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flex","align-items-center","justify-content-center","flex-grow-1","caption","size-big","f-color-danger"],[1,"flex","flex-column","align-items-center"],[1,"mds-error"],["label","\u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c","icon","mdi-refresh","styleClass","p-button-success p-button-outlined",1,"mt-3",3,"onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.ynx(4,3),e.YNc(5,B3,2,1,"ng-container",4),e.YNc(6,U3,2,1,"ng-container",4),e.YNc(7,j3,6,5,"ng-container",4),e.BQk(),e.qZA()()(),e.YNc(8,q3,15,6,"ng-template",null,5,e.W1O),e.YNc(10,tE,30,21,"ng-template",null,6,e.W1O),e.YNc(12,oE,37,20,"ng-template",null,7,e.W1O),e.YNc(14,lE,43,24,"ng-template",null,8,e.W1O),e.YNc(16,cE,2,0,"ng-template",null,9,e.W1O),e.YNc(18,uE,6,0,"ng-template",null,10,e.W1O),e.TgZ(20,"p-dialog",11),e.NdJ("visibleChange",function(p){return i.createCityVisible=p}),e.TgZ(21,"div",12)(22,"div",13)(23,"label",14),e._uU(24,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430"),e.qZA(),e._UZ(25,"input",15),e.qZA(),e.TgZ(26,"p-button",16),e.NdJ("onClick",function(){return i.createCity()}),e.qZA()()(),e.TgZ(27,"p-dialog",17),e.NdJ("visibleChange",function(p){return i.createStreetVisible=p}),e.TgZ(28,"div",12)(29,"div",13)(30,"label",14),e._uU(31,"\u0422\u0438\u043f"),e.qZA(),e._UZ(32,"p-dropdown",18),e.qZA(),e.TgZ(33,"div",13)(34,"label",14),e._uU(35,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u043b\u0438\u0446\u044b"),e.qZA(),e._UZ(36,"input",19),e.qZA(),e.TgZ(37,"div",13)(38,"label",14),e._uU(39,"\u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f"),e.qZA(),e._UZ(40,"p-chips",20),e.qZA(),e.TgZ(41,"div",13)(42,"label",14),e._uU(43,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432 \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0435"),e.qZA(),e._UZ(44,"input",21),e.qZA(),e.TgZ(45,"p-button",16),e.NdJ("onClick",function(){return i.createStreet()}),e.qZA()()(),e.TgZ(46,"p-dialog",22),e.NdJ("visibleChange",function(p){return i.createHouseVisible=p}),e.TgZ(47,"div",12)(48,"div",13)(49,"label",14),e._uU(50,"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430"),e.qZA(),e._UZ(51,"p-inputNumber",23),e.qZA(),e.TgZ(52,"div",13)(53,"label",14),e._uU(54,"\u0414\u0440\u043e\u0431\u044c (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(55,"p-inputNumber",24),e.qZA(),e.TgZ(56,"div",13)(57,"label",14),e._uU(58,"\u041b\u0438\u0442\u0435\u0440\u0430 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(59,"p-inputMask",25),e.qZA(),e.TgZ(60,"div",13)(61,"label",14),e._uU(62,"\u0421\u0442\u0440\u043e\u0435\u043d\u0438\u0435 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(63,"p-inputNumber",26),e.qZA(),e.TgZ(64,"div",13)(65,"label",14),e._uU(66,"\u041c\u043d\u043e\u0433\u043e\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u043d\u044b\u0439 \u0434\u043e\u043c?"),e.qZA(),e._UZ(67,"p-inputSwitch",27),e.qZA(),e.TgZ(68,"div",28)(69,"label",14),e._uU(70,"\u041f\u0440\u0438\u0432\u044f\u0437\u043a\u0430 \u043a ACP"),e.qZA(),e._UZ(71,"app-acp-house-input",29),e.qZA(),e.TgZ(72,"p-button",16),e.NdJ("onClick",function(){return i.createHouse()}),e.qZA()()()),2&t&&(e.Q6J("limited",!0),e.xp6(1),e.Akn(e.DdM(36,dE)),e.xp6(3),e.Q6J("ngSwitch",i.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(13),e.Q6J("modal",!0)("resizable",!1)("dismissableMask",!0)("draggable",!1)("visible",i.createCityVisible),e.xp6(1),e.Q6J("formGroup",i.createCityForm),e.xp6(5),e.Q6J("disabled",!i.createCityForm.valid),e.xp6(1),e.Q6J("modal",!0)("resizable",!1)("dismissableMask",!0)("draggable",!1)("visible",i.createStreetVisible),e.xp6(1),e.Q6J("formGroup",i.createStreetForm),e.xp6(4),e.Q6J("options",i.streetPrefixes),e.xp6(8),e.Q6J("allowDuplicate",!1)("addOnTab",!0)("addOnBlur",!0),e.xp6(5),e.Q6J("disabled",!i.createStreetForm.valid),e.xp6(1),e.Q6J("modal",!0)("resizable",!1)("draggable",!1)("dismissableMask",!0)("visible",i.createHouseVisible),e.xp6(1),e.Q6J("formGroup",i.createHouseForm),e.xp6(8),e.Q6J("min",1)("max",999),e.xp6(8),e.Q6J("min",1)("max",99),e.xp6(9),e.Q6J("disabled",!i.createHouseForm.valid))},data:{animation:[u.aq]}}),n})();function pE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-listbox",18),e.NdJ("onChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.selectTemplate(s.value))}),e.qZA()}if(2&n){const t=o.ngIf,i=e.oxw();e.Q6J("disabled","LOADING"===i.templateLoadingState)("hidden","READY"!==i.wireframesLoadingState)("options",t)}}function hE(n,o){1&n&&e.GkF(0)}function gE(n,o){if(1&n&&e._UZ(0,"app-task-template-input",20),2&n){const t=o.$implicit;e.Q6J("field",t)("formControlName",t.id)}}function fE(n,o){if(1&n&&(e.ynx(0),e.YNc(1,gE,1,2,"app-task-template-input",19),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.taskFields)}}function mE(n,o){1&n&&(e.TgZ(0,"div",21)(1,"div",22),e._UZ(2,"span",23),e.TgZ(3,"span"),e._uU(4,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043b\u0430\u0441\u0441 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA()()())}function _E(n,o){1&n&&(e.TgZ(0,"div",21),e._UZ(1,"p-progressSpinner",24),e.qZA())}function CE(n,o){1&n&&e._UZ(0,"app-employee-label",33),2&n&&e.Q6J("employee",o.$implicit)}const vE=function(){return{"max-height":"200px"}};function bE(n,o){if(1&n&&(e.TgZ(0,"section",25)(1,"div",6)(2,"span",7),e._uU(3,"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044b\u0435 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438"),e.qZA(),e.TgZ(4,"p-listbox",26),e.YNc(5,CE,1,1,"ng-template",27),e.qZA()(),e.TgZ(6,"div",28)(7,"div",6)(8,"span",7),e._uU(9,"\u0414\u0430\u0442\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442"),e.qZA(),e._UZ(10,"p-calendar",29),e.qZA(),e.TgZ(11,"div",6)(12,"span",7),e._uU(13,"\u0422\u0435\u0433\u0438 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(14,"app-task-tag-selector",30),e.qZA(),e.TgZ(15,"div",31)(16,"span",7),e._uU(17,"\u041e\u0442\u0447\u0435\u0442 \u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442\u0430\u0445"),e.qZA(),e._UZ(18,"textarea",32),e.qZA()()()),2&n){const t=e.oxw();e.Q6J("formGroup",t.installersReportForm),e.xp6(4),e.Q6J("checkbox",!0)("metaKeySelection",!1)("multiple",!0)("listStyle",e.DdM(12,vE))("options",t.installers),e.xp6(6),e.Q6J("readonlyInput",!0)("selectOtherMonths",!0)("firstDayOfWeek",1),e.xp6(4),e.Q6J("autoAccept",!0),e.xp6(4),e.Q6J("autoResize",!0)("rows",4)}}function yE(n,o){if(1&n&&(e.TgZ(0,"section",5),e._UZ(1,"app-works-picker",34),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("employees",t.installersReportForm.value.installers)("formControl",t.worksPickerForm)}}function xE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"section",5)(1,"app-employee-sum-distribution",35),e.NdJ("onRemoveFactorAction",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.removeFactorActionHandler(s))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formControl",t.employeeRatioForm)("employees",t.installersReportForm.value.installers)("actionPicker",t.worksPickerForm.valueChanges)}}function IE(n,o){1&n&&e._UZ(0,"p-inputNumber",42)}function TE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"section",36)(1,"div",37)(2,"span",38),e._uU(3,"\u041f\u043b\u0430\u0442\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430"),e.qZA(),e._UZ(4,"p-inputSwitch",39),e.YNc(5,IE,1,0,"p-inputNumber",40),e.qZA(),e.TgZ(6,"p-button",41),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.createTaskAndCalculate())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.paidWorkForm),e.xp6(4),e.Q6J("ngIf",t.paidWorkForm.value.isPaidWork),e.xp6(1),e.Q6J("loading",t.isSendingCalculation)}}function AE(n,o){1&n&&(e.TgZ(0,"span",48),e._UZ(1,"span",49),e.TgZ(2,"span"),e._uU(3,"\u041e\u0448\u0438\u0431\u043a\u0430"),e.qZA()())}function wE(n,o){1&n&&(e.TgZ(0,"span",50),e._UZ(1,"span",51),e.TgZ(2,"span"),e._uU(3,"\u041f\u0443\u0441\u0442\u043e"),e.qZA()())}function EE(n,o){1&n&&(e.ynx(0),e._UZ(1,"p-skeleton",52)(2,"p-skeleton",52)(3,"p-skeleton",52),e.BQk())}function SE(n,o){if(1&n&&(e.TgZ(0,"div",44),e.YNc(1,AE,4,0,"span",45),e.YNc(2,wE,4,0,"span",46),e.YNc(3,EE,4,0,"ng-container",47),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("ngSwitch",t.wireframesLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING")}}function kE(n,o){if(1&n&&e.YNc(0,SE,4,4,"div",43),2&n){const t=e.oxw();e.Q6J("ngIf","READY"!==t.wireframesLoadingState)}}let FT=(()=>{class n{constructor(t,i){this.api=t,this.toast=i,this.wireframesLoadingState=he.Gu.LOADING,this.wireframes$=(0,Tn.of)(null).pipe((0,si.b)(()=>{this.wireframesLoadingState=he.Gu.LOADING}),(0,R.w)(()=>this.api.getWireframes(!1)),(0,si.b)({next:s=>{this.wireframesLoadingState=s.length>0?he.Gu.READY:he.Gu.EMPTY},error:()=>{this.wireframesLoadingState=he.Gu.ERROR}}),(0,gt.U)(s=>s.map(p=>({label:p.name,value:p.wireframeId})))),this.templateLoadingState=he.Gu.EMPTY,this.taskFields=[],this.taskInformationForm=new f.cw({}),this.installers=[],this.loadingInstallers$=this.api.getInstallersEmployees().pipe((0,si.b)({next:s=>{this.installers=s},error:()=>{}})),this.installersReportForm=new f.cw({installers:new f.NI([],[f.kI.required]),report:new f.NI("",[f.kI.required]),tags:new f.NI([]),date:new f.NI(new Date,[f.kI.required])}),this.subscriptions=new _.xf,this.worksPickerForm=new f.NI(null,[this.worksPickerValidator]),this.isSendingCalculation=!1,this.employeeRatioForm=new f.NI({}),this.paidWorkForm=new f.cw({isPaidWork:new f.NI(!1),amountOfMoneyTaken:new f.NI(null)}),this._selectTemplateSubject=new mr.x,this.selectWireframe$=this._selectTemplateSubject.pipe((0,si.b)(()=>{this.templateLoadingState=he.Gu.LOADING}),(0,R.w)(s=>this.api.getWireframe(s)),(0,si.b)(()=>this.loadingInstallers$.subscribe()),(0,si.b)({next:s=>{var p,w,Q;this.taskFields=null!==(p=s.allFields)&&void 0!==p?p:[],this.selectedWireframe=s,this.taskInformationForm=new f.cw(null!==(Q=null===(w=s.allFields)||void 0===w?void 0:w.reduce((Ce,qe)=>Object.assign(Object.assign({},Ce),{[qe.id]:new f.NI(null,P.d.taskInput(qe.type,qe.variation))}),{}))&&void 0!==Q?Q:new f.cw({})),this.templateLoadingState=he.Gu.READY},error:()=>{this.templateLoadingState=he.Gu.ERROR}})),this.sendingCalculationHandler={next:()=>{this.isSendingCalculation=!1,this.worksPickerForm.enable(),this.employeeRatioForm.enable(),this.installersReportForm.enable(),this.taskInformationForm.enable(),this.paidWorkForm.enable(),this.worksPickerForm.reset(),this.employeeRatioForm.reset(),this.paidWorkForm.reset(),this.installersReportForm.reset({installers:[],report:"",tags:[],date:new Date}),this.taskInformationForm.reset()},error:()=>{this.isSendingCalculation=!1,this.worksPickerForm.enable(),this.employeeRatioForm.enable(),this.installersReportForm.enable(),this.taskInformationForm.enable(),this.paidWorkForm.enable()}}}worksPickerValidator(t){const i=t.value;return null==i?{required:!0}:"actionsTaken"in i?null==i.actionsTaken||0===i.actionsTaken.length?{required:!0}:null:{required:!0}}ngOnInit(){this.subscriptions.addSubscription("selwf",this.selectWireframe$.subscribe())}ngOnDestroy(){this.subscriptions.unsubscribeAll()}selectTemplate(t){this._selectTemplateSubject.next(t)}getFactorsActions(t){var i,s;return null!==(i=this.worksPickerForm.value)&&void 0!==i&&i.factorsActions?null===(s=this.worksPickerForm.value)||void 0===s?void 0:s.factorsActions.filter(p=>p.login===t):[]}createTaskAndCalculate(){var t;const i=this.installersReportForm.value.installers;this.taskInformationForm.markAllAsTouched(),this.worksPickerForm.markAllAsTouched(),this.installersReportForm.markAllAsTouched(),this.taskInformationForm.invalid?this.toast.add({detail:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0437\u0430\u0434\u0430\u0447\u0435",severity:"red",key:"redtoast",icon:"mdi-cancel",closable:!1}):this.installersReportForm.invalid?this.toast.add({detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0430 \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043e\u0442\u0447\u0435\u0442",severity:"red",key:"redtoast",icon:"mdi-cancel",closable:!1}):this.worksPickerForm.invalid?this.toast.add({detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0435 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0430\u043c\u0438 \u0440\u0430\u0431\u043e\u0442\u044b",severity:"red",key:"redtoast",icon:"mdi-cancel",closable:!1}):!i||null===(t=this.worksPickerForm.value)||void 0===t||!t.actionsTaken||!this.selectedWireframe||this.paidWorkForm.value.isPaidWork&&(!this.paidWorkForm.value.amountOfMoneyTaken||this.paidWorkForm.value.amountOfMoneyTaken<1)||(this.isSendingCalculation=!0,this.worksPickerForm.disable(),this.employeeRatioForm.disable(),this.installersReportForm.disable(),this.taskInformationForm.disable(),this.paidWorkForm.disable(),this.api.sendBypassWorkCalculation({taskInfo:{wireframeId:this.selectedWireframe.wireframeId,fields:_.PU.convert(this.taskInformationForm.value,this.selectedWireframe)},reportInfo:this.installersReportForm.value,actions:this.worksPickerForm.value.actionsTaken.map(s=>({workId:s.workId,actionId:s.actionId,count:s.count,uuid:s.uuid})),spreading:i.map(s=>({login:s.login,ratio:this.employeeRatioForm.value?this.employeeRatioForm.value[s.login].ratio:0,factorsActions:this.getFactorsActions(s.login).filter(p=>p).map(p=>({factor:p.factor,name:p.name,actionUuids:p.actionUuids}))})),isPaidWork:this.paidWorkForm.value.isPaidWork,amountOfMoneyTaken:this.paidWorkForm.value.amountOfMoneyTaken}).subscribe(this.sendingCalculationHandler))}removeFactorActionHandler(t){this.worksPickerForm.value&&this.worksPickerForm.setValue({actionsTaken:this.worksPickerForm.value.actionsTaken,factorsActions:t})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(F.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:28,vars:13,consts:[["appExtendPageHeight","",1,"flex","flex-grow-1","px-4"],[1,"flex","flex-grow-1","gap-3","mb-3"],[1,"flex","flex-column","flex-grow-1","panel"],[1,"caption","size-huge","wt-tiny","f-color-600","p-3","terminator-bottom"],[1,"flex","flex-column","px-4"],[1,"flex","gap-4","p-4","terminator-bottom"],[1,"flex","flex-column","gap-1"],[1,"caption","wt-bold","f-color-500"],[3,"disabled","hidden","options","onChange",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"flex","flex-grow-1","flex-column","gap-2",3,"formGroup"],[4,"ngIf"],[3,"ngSwitch"],["class","flex justify-content-center",4,"ngSwitchCase"],["class","flex gap-4 p-4 terminator-bottom",3,"formGroup",4,"ngIf"],["class","flex gap-4 p-4 terminator-bottom",4,"ngIf"],["class","flex gap-3 w-max align-self-end my-3",4,"ngIf"],["wireframesLoadingTemp",""],[3,"disabled","hidden","options","onChange"],[3,"field","formControlName",4,"ngFor","ngForOf"],[3,"field","formControlName"],[1,"flex","justify-content-center"],[1,"flex","align-items-center","caption","size-big","wt-bold","f-color-400"],[1,"mds-done"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flex","gap-4","p-4","terminator-bottom",3,"formGroup"],["formControlName","installers",3,"checkbox","metaKeySelection","multiple","listStyle","options"],["pTemplate","item"],[1,"flex","flex-column","gap-2","flex-grow-1"],["selectionMode","single","appendTo","body","formControlName","date",3,"readonlyInput","selectOtherMonths","firstDayOfWeek"],["formControlName","tags",3,"autoAccept"],[1,"flex","flex-column","gap-1","flex-grow-1"],["pInputTextarea","","formControlName","report",3,"autoResize","rows"],[3,"employee"],[1,"flex-grow-1",3,"employees","formControl"],[1,"w-full",3,"formControl","employees","actionPicker","onRemoveFactorAction"],[1,"flex","gap-3","w-max","align-self-end","my-3"],[1,"flex","gap-2","align-items-center",3,"formGroup"],[1,"text-sm","text-bluegray-400","font-bold","white-space-nowrap"],["formControlName","isPaidWork",1,"line-height-0"],["formControlName","amountOfMoneyTaken","placeholder","\u0421\u0443\u043c\u043c\u0430","mode","currency","currency","RUB",4,"ngIf"],["icon","mdi-currency_exchange","label","\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"loading","onClick"],["formControlName","amountOfMoneyTaken","placeholder","\u0421\u0443\u043c\u043c\u0430","mode","currency","currency","RUB"],["class","border-round-md border-1 border-solid border-300 p-3 flex flex-column gap-2",3,"ngSwitch",4,"ngIf"],[1,"border-round-md","border-1","border-solid","border-300","p-3","flex","flex-column","gap-2",3,"ngSwitch"],["class","flex flex-grow-1 gap-1 h-10rem align-items-center justify-content-center caption wt-bold f-color-danger",4,"ngSwitchCase"],["class","flex flex-grow-1 gap-1 h-10rem align-items-center justify-content-center caption wt-bold f-color-300",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"flex","flex-grow-1","gap-1","h-10rem","align-items-center","justify-content-center","caption","wt-bold","f-color-danger"],[1,"mdi-error"],[1,"flex","flex-grow-1","gap-1","h-10rem","align-items-center","justify-content-center","caption","wt-bold","f-color-300"],[1,"mdi-backpack"],["width","10rem","height","2.8rem"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2)(4,"span",3),e._uU(5,"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 \u0438 \u043f\u043e\u0434\u0441\u0447\u0435\u0442 \u0440\u0430\u0431\u043e\u0442"),e.qZA(),e.TgZ(6,"div",4)(7,"section",5)(8,"div")(9,"div",6)(10,"span",7),e._uU(11,"\u041a\u043b\u0430\u0441\u0441 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.YNc(12,pE,1,3,"p-listbox",8),e.ALo(13,"async"),e.YNc(14,hE,1,0,"ng-container",9),e.qZA()(),e.TgZ(15,"div",10)(16,"span",7),e._uU(17,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0437\u0430\u0434\u0430\u0447\u0435"),e.qZA(),e.YNc(18,fE,2,1,"ng-container",11),e.ynx(19,12),e.YNc(20,mE,5,0,"div",13),e.YNc(21,_E,2,0,"div",13),e.BQk(),e.qZA()(),e.YNc(22,bE,19,13,"section",14),e.YNc(23,yE,2,2,"section",15),e.YNc(24,xE,2,3,"section",15),e.YNc(25,TE,7,3,"section",16),e.qZA()()()(),e.YNc(26,kE,1,1,"ng-template",null,17,e.W1O)),2&t){const s=e.MAs(27);e.xp6(12),e.Q6J("ngIf",e.lcZ(13,11,i.wireframes$)),e.xp6(2),e.Q6J("ngTemplateOutlet",s),e.xp6(1),e.Q6J("formGroup",i.taskInformationForm),e.xp6(3),e.Q6J("ngIf","READY"===i.templateLoadingState),e.xp6(1),e.Q6J("ngSwitch",i.templateLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngIf","READY"===i.templateLoadingState),e.xp6(1),e.Q6J("ngIf","READY"===i.templateLoadingState),e.xp6(1),e.Q6J("ngIf","READY"===i.templateLoadingState),e.xp6(1),e.Q6J("ngIf","READY"===i.templateLoadingState)}}}),n})();function DE(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",4),e._uU(2,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0443"),e.qZA(),e.TgZ(3,"div",5)(4,"div",6)(5,"label"),e._uU(6,"\u0425\u043e\u0441\u0442"),e.qZA(),e._UZ(7,"input",7),e.qZA(),e.TgZ(8,"div",6)(9,"label"),e._uU(10,"\u041f\u043e\u0440\u0442"),e.qZA(),e._UZ(11,"p-inputNumber",8),e.qZA(),e.TgZ(12,"div",6)(13,"label"),e._uU(14,"\u041b\u043e\u0433\u0438\u043d"),e.qZA(),e._UZ(15,"input",9),e.qZA(),e.TgZ(16,"div",6)(17,"label"),e._uU(18,"\u041f\u0430\u0440\u043e\u043b\u044c"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"div",6)(21,"label"),e._uU(22,"\u0418\u043c\u044f \u0434\u0435\u043c\u043e\u043d\u0430"),e.qZA(),e._UZ(23,"input",11),e.qZA(),e.TgZ(24,"div",6)(25,"label"),e._uU(26,"IP \u041c\u0430\u0448\u0438\u043d\u044b"),e.qZA(),e._UZ(27,"app-ip-input",12),e.qZA()(),e.TgZ(28,"div",13)(29,"p-button",14),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.saveConf())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.billingConfigForm),e.xp6(8),e.Q6J("max",65538)("min",1),e.xp6(18),e.Q6J("loading",t.isSaving)("disabled",!t.billingConfigForm.valid)}}function ME(n,o){1&n&&(e.ynx(0),e.TgZ(1,"span",4),e._uU(2,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0443"),e.qZA(),e.TgZ(3,"div",15)(4,"div",6)(5,"label"),e._uU(6,"\u0425\u043e\u0441\u0442"),e.qZA(),e._UZ(7,"p-skeleton",16),e.qZA(),e.TgZ(8,"div",6)(9,"label"),e._uU(10,"\u041f\u043e\u0440\u0442"),e.qZA(),e._UZ(11,"p-skeleton",17),e.qZA(),e.TgZ(12,"div",6)(13,"label"),e._uU(14,"\u041b\u043e\u0433\u0438\u043d"),e.qZA(),e._UZ(15,"p-skeleton",16),e.qZA(),e.TgZ(16,"div",6)(17,"label"),e._uU(18,"\u041f\u0430\u0440\u043e\u043b\u044c"),e.qZA(),e._UZ(19,"p-skeleton",16),e.qZA(),e.TgZ(20,"div",6)(21,"label"),e._uU(22,"\u0418\u043c\u044f \u0434\u0435\u043c\u043e\u043d\u0430"),e.qZA(),e._UZ(23,"p-skeleton",16),e.qZA(),e.TgZ(24,"div",6)(25,"label"),e._uU(26,"IP \u041c\u0430\u0448\u0438\u043d\u044b"),e.qZA(),e._UZ(27,"p-skeleton",18),e.qZA()(),e.TgZ(28,"div",13),e._UZ(29,"p-skeleton",19),e.qZA(),e.BQk())}let BT=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this.billingConfigForm=new f.cw({host:new f.NI("",[f.kI.required]),port:new f.NI(80,[f.kI.required]),login:new f.NI("",[f.kI.required]),password:new f.NI("",[f.kI.required]),daemonName:new f.NI("",[f.kI.required]),selfIp:new f.NI("",[f.kI.required])}),this.isLoading=!0,this.isSaving=!1}ngOnInit(){this.api.getBillingConfiguration().subscribe(t=>{this.billingConfigForm.patchValue(t),this.isLoading=!1}),this.subscription=this.rt.billingConfigChanged().subscribe(t=>this.billingConfigForm.patchValue(t))}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}saveConf(){this.isSaving=!0,this.billingConfigForm.disable({emitEvent:!1}),this.api.setBillingConfiguration(this.billingConfigForm.value).subscribe({next:()=>{this.isSaving=!1,this.billingConfigForm.enable({emitEvent:!1})},error:()=>{this.isSaving=!1,this.billingConfigForm.enable({emitEvent:!1})}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:6,vars:2,consts:[["appExtendPageHeight","",1,"flex","justify-content-center"],[1,"responsive-wrapper","flex","gap-3"],[1,"flex","flex-column","flex-grow-1","h-fit","gap-3","panel","overflow-hidden","mb-3"],[4,"ngIf"],[1,"text-xl","font-light","text-bluegray-600","p-3"],[1,"flex","flex-column","gap-3","px-5",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","host","pInputText","","type","text"],["formControlName","port",3,"max","min"],["formControlName","login","pInputText","","type","text"],["formControlName","password","pInputText","","type","text"],["formControlName","daemonName","pInputText","","type","text"],["formControlName","selfIp"],[1,"flex","px-5","pb-5","justify-content-end"],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","styleClass","p-button-success",3,"loading","disabled","onClick"],[1,"flex","flex-column","gap-3","px-5"],["height","3rem"],["width","15rem","height","3rem"],["width","16rem","height","3rem"],["height","3rem","width","10rem"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.YNc(4,DE,30,5,"ng-container",3),e.YNc(5,ME,30,0,"ng-container",3),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",!i.isLoading),e.xp6(1),e.Q6J("ngIf",i.isLoading))}}),n})();function OE(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",4),e._uU(2,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 Telegram"),e.qZA(),e.TgZ(3,"div",5)(4,"div",6)(5,"label"),e._uU(6,"\u0422\u043e\u043a\u0435\u043d \u0431\u043e\u0442\u0430"),e.qZA(),e._UZ(7,"input",7),e.qZA(),e.TgZ(8,"div",6)(9,"label"),e._uU(10,"\u0418\u043c\u044f \u0431\u043e\u0442\u0430"),e.qZA(),e._UZ(11,"input",8),e.qZA(),e.TgZ(12,"div",6)(13,"label"),e._uU(14,"Id \u0447\u0430\u0442\u0430 DHCP \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"),e.qZA(),e._UZ(15,"input",9),e.qZA()(),e.TgZ(16,"div",10)(17,"p-button",11),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.saveConf())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.telegramConfigForm),e.xp6(14),e.Q6J("loading",t.isSaving)("disabled",!t.telegramConfigForm.valid)}}function PE(n,o){1&n&&(e.ynx(0),e.TgZ(1,"span",4),e._uU(2,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 Telegram"),e.qZA(),e.TgZ(3,"div",12)(4,"div",6)(5,"label"),e._uU(6,"\u0422\u043e\u043a\u0435\u043d \u0431\u043e\u0442\u0430"),e.qZA(),e._UZ(7,"p-skeleton",13),e.qZA(),e.TgZ(8,"div",6)(9,"label"),e._uU(10,"\u0418\u043c\u044f \u0431\u043e\u0442\u0430"),e.qZA(),e._UZ(11,"p-skeleton",13),e.qZA(),e.TgZ(12,"div",6)(13,"label"),e._uU(14,"Id \u0447\u0430\u0442\u0430 DHCP \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"),e.qZA(),e._UZ(15,"p-skeleton",13),e.qZA()(),e.TgZ(16,"div",10),e._UZ(17,"p-skeleton",14),e.qZA(),e.BQk())}let ZT=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this.isLoading=!0,this.isSaving=!1,this.telegramConfigForm=new f.cw({botToken:new f.NI("",[f.kI.required]),botName:new f.NI("",[f.kI.required]),dhcpNotificationChatId:new f.NI("")})}ngOnInit(){this.api.getTelegramConfiguration().subscribe(t=>{this.telegramConfigForm.patchValue(t),this.isLoading=!1}),this.subscription=this.rt.telegramConfigChanged().subscribe(t=>this.telegramConfigForm.patchValue(t))}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}saveConf(){this.isSaving=!0,this.telegramConfigForm.disable({emitEvent:!1}),this.api.setTelegramConfiguration(this.telegramConfigForm.value).subscribe({next:()=>{this.isSaving=!1,this.telegramConfigForm.enable({emitEvent:!1})},error:()=>{this.isSaving=!1,this.telegramConfigForm.enable({emitEvent:!1})}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:6,vars:2,consts:[["appExtendPageHeight","",1,"flex","justify-content-center"],[1,"responsive-wrapper","flex","gap-3"],[1,"flex","flex-column","flex-grow-1","h-fit","gap-3","panel","overflow-hidden","mb-3"],[4,"ngIf"],[1,"text-xl","font-light","text-bluegray-600","p-3"],[1,"flex","flex-column","gap-3","px-5",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","botToken","pInputText","","type","text"],["formControlName","botName","pInputText","","type","text"],["formControlName","dhcpNotificationChatId","pInputText","","type","text"],[1,"flex","px-5","pb-5","justify-content-end"],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","styleClass","p-button-success",3,"loading","disabled","onClick"],[1,"flex","flex-column","gap-3","px-5"],["height","3rem"],["height","3rem","width","10rem"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.YNc(4,OE,18,3,"ng-container",3),e.YNc(5,PE,18,0,"ng-container",3),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",!i.isLoading),e.xp6(1),e.Q6J("ngIf",i.isLoading))}}),n})();function LE(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",4),e._uU(2,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 ACP"),e.qZA(),e.TgZ(3,"div",5)(4,"div",6)(5,"label"),e._uU(6,"Endpoint"),e.qZA(),e._UZ(7,"input",7),e.qZA()(),e.TgZ(8,"div",8)(9,"p-button",9),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.saveConf())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.acpConfigForm),e.xp6(6),e.Q6J("loading",t.isSaving)("disabled",!t.acpConfigForm.valid)}}function RE(n,o){1&n&&(e.ynx(0),e.TgZ(1,"span",4),e._uU(2,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 ACP"),e.qZA(),e.TgZ(3,"div",10)(4,"div",6)(5,"label"),e._uU(6,"Endpoint"),e.qZA(),e._UZ(7,"p-skeleton",11),e.qZA()(),e.TgZ(8,"div",8),e._UZ(9,"p-skeleton",12),e.qZA(),e.BQk())}let UT=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this.isLoading=!0,this.isSaving=!1,this.acpConfigForm=new f.cw({acpFlexConnectorEndpoint:new f.NI("",[f.kI.required])})}ngOnInit(){this.api.getAcpConfiguration().subscribe(t=>{this.acpConfigForm.patchValue(t),this.isLoading=!1}),this.subscription=this.rt.acpConfigChanged().subscribe(t=>this.acpConfigForm.patchValue(t))}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}saveConf(){this.isSaving=!0,this.acpConfigForm.disable({emitEvent:!1}),this.api.setAcpConfiguration(this.acpConfigForm.value).subscribe({next:()=>{this.isSaving=!1,this.acpConfigForm.enable({emitEvent:!1})},error:()=>{this.isSaving=!1,this.acpConfigForm.enable({emitEvent:!1})}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:6,vars:2,consts:[["appExtendPageHeight","",1,"flex","justify-content-center"],[1,"responsive-wrapper","flex","gap-3"],[1,"flex","flex-column","flex-grow-1","gap-3","h-fit","panel","overflow-hidden","mb-3"],[4,"ngIf"],[1,"text-xl","font-light","text-bluegray-600","p-3"],[1,"flex","flex-column","gap-3","px-5",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","acpFlexConnectorEndpoint","pInputText","","type","text"],[1,"flex","px-5","pb-5","justify-content-end"],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","styleClass","p-button-success",3,"loading","disabled","onClick"],[1,"flex","flex-column","gap-3","px-5"],["height","3rem"],["height","3rem","width","10rem"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.YNc(4,LE,10,3,"ng-container",3),e.YNc(5,RE,10,0,"ng-container",3),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",!i.isLoading),e.xp6(1),e.Q6J("ngIf",i.isLoading))}}),n})(),HT=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:3,vars:0,consts:[["appExtendPageHeight","",1,"flex","px-3","gap-3","w-full"],[1,"flex-grow-1"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-main-menu-panel")(2,"app-files-viewer",1),e.qZA())}}),n})();var NE=b(5107);let FE=(()=>{class n{constructor(){}canActivate(t,i){return!_.Ke.loadOrDefault("isOffsite",!1)}canActivateChild(t,i){return!_.Ke.loadOrDefault("isOffsite",!1)}canLoad(t,i){return!_.Ke.loadOrDefault("isOffsite",!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var j1=b(9814);function BE(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"p-breadcrumb",44),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("model",t)}}function ZE(n,o){1&n&&e.GkF(0)}function UE(n,o){1&n&&e.GkF(0)}function HE(n,o){1&n&&e.GkF(0)}function VE(n,o){1&n&&e.GkF(0)}function zE(n,o){1&n&&e.GkF(0)}function JE(n,o){1&n&&e._UZ(0,"div",45)}const Ux=function(n){return{status:"ACTIVE",schedulingType:n}};function QE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-catalog-menu-item",46),e.NdJ("expandChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.cacheService.rootExpandMap.active=s)})("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cacheService.unExpandOtherCatalog("active"))}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(24);e.Q6J("contentTemplate",i)("expand",t.cacheService.rootExpandMap.active)("counter",t.cacheService.getTasksCounter(null,e.VKq(6,Ux,t.SchedulingType.EXCEPT_PLANNED)))("isEmpty",!1)("label","\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435")("link","/tasks/catalog/active")}}const Y_=function(n){return{wireframe:n}},GE=function(n,o){return{status:"ACTIVE",cls:n,schedulingType:o}};function WE(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw(3),s=e.MAs(26);let p;e.Q6J("contentTemplateData",e.VKq(6,Y_,t))("contentTemplate",s)("counter",i.cacheService.getTasksCounter(null,e.WLB(8,GE,t.wireframeId,i.SchedulingType.EXCEPT_PLANNED)))("isEmpty",0===(null!==(p=null==t.stages?null:t.stages.length)&&void 0!==p?p:0))("label",t.name)("link","/tasks/catalog/active/"+t.wireframeId)}}function YE(n,o){if(1&n&&(e.ynx(0),e.YNc(1,WE,1,11,"app-catalog-menu-item",47),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function jE(n,o){if(1&n&&(e.YNc(0,YE,2,1,"ng-container",4),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}const j_=function(n,o){return{wireframe:n,stage:o}},VT=function(n,o,t){return{status:"ACTIVE",cls:n,type:o,schedulingType:t}};function KE(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw().wireframe,s=e.oxw(),p=e.MAs(28);e.Q6J("contentTemplateData",e.WLB(6,j_,i,t))("contentTemplate",p)("counter",s.cacheService.getTasksCounter(null,e.kEZ(9,VT,i.wireframeId,t.stageId,s.SchedulingType.EXCEPT_PLANNED)))("isEmpty",!1)("label",t.label)("link","/tasks/catalog/active/"+i.wireframeId+"/"+t.stageId)}}function qE(n,o){1&n&&e.YNc(0,KE,1,13,"app-catalog-menu-item",47),2&n&&e.Q6J("ngForOf",o.wireframe.stages)}const $E=function(n,o,t){return{wireframe:n,stage:o,directory:t}},zT=function(n,o,t,i){return{status:"ACTIVE",cls:n,type:o,directory:t,schedulingType:i}};function XE(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-catalog-menu-item",50),e.NdJ("onDrop",function(){const p=e.CHM(t).$implicit,w=e.oxw(3);return e.KtG(w.cacheService.moveToDirectory(p))}),e.qZA(),e.BQk()}if(2&n){const t=o.$implicit,i=e.oxw(2),s=i.wireframe,p=i.stage,w=e.oxw(),Q=e.MAs(30);e.xp6(1),e.Akn(w.cacheService.catalogHighlight(t.taskTypeDirectoryId)),e.Q6J("autoExpand",!1)("contentTemplateData",e.kEZ(10,$E,s,p,t))("contentTemplate",Q)("counter",w.cacheService.getTasksCounter("dir",e.l5B(14,zT,s.wireframeId,p.stageId,t.taskTypeDirectoryId,w.SchedulingType.EXCEPT_PLANNED)))("droppable",p.stageId)("isEmpty",!1)("label",t.name)("link","/tasks/catalog/active/"+s.wireframeId+"/"+p.stageId+"/dir/"+t.taskTypeDirectoryId)}}function eS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,XE,2,19,"ng-container",49),e.BQk()),2&n){const t=e.oxw().stage;e.xp6(1),e.Q6J("ngForOf",t.directories)}}function tS(n,o){1&n&&e.GkF(0)}function nS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,tS,1,0,"ng-container",51),e.BQk()),2&n){const t=e.oxw(),i=t.wireframe,s=t.stage;e.oxw();const p=e.MAs(68);e.xp6(1),e.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",e.WLB(2,j_,i,s))}}function iS(n,o){if(1&n&&(e.YNc(0,eS,2,1,"ng-container",4),e.YNc(1,nS,2,5,"ng-container",4)),2&n){const t=o.stage;e.Q6J("ngIf",t.directories&&t.directories.length>0),e.xp6(1),e.Q6J("ngIf",!(t.directories&&t.directories.length>0))}}function oS(n,o){1&n&&e.GkF(0)}const sS=function(n,o,t,i){return{tag:n,wireframe:o,stage:t,dir:i}};function rS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,oS,1,0,"ng-container",51),e.BQk()),2&n){const t=o.$implicit,i=e.oxw(3),s=i.wireframe,p=i.stage,w=i.directory;e.oxw();const Q=e.MAs(70);e.xp6(1),e.Q6J("ngTemplateOutlet",Q)("ngTemplateOutletContext",e.l5B(2,sS,t,s,p,w))}}function aS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,rS,2,7,"ng-container",49),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function lS(n,o){if(1&n&&(e.TgZ(0,"div",53),e.YNc(1,aS,2,1,"ng-container",54),e.qZA()),2&n){const t=o.ngIf;e.oxw(2);const i=e.MAs(78);e.xp6(1),e.Q6J("ngIf",null!==t&&t.length>0)("ngIfElse",i)}}function cS(n,o){if(1&n&&(e.YNc(0,lS,2,2,"div",52),e.ALo(1,"async")),2&n){const t=o.directory,i=o.stage,s=o.wireframe,p=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,p.cacheService.getTagsFromCatalog(e.l5B(3,zT,s.wireframeId,i.stageId,t.taskTypeDirectoryId,p.SchedulingType.EXCEPT_PLANNED))))}}const uS=function(n){return{status:"PROCESSING",schedulingType:n}};function dS(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-catalog-menu-item",46),e.NdJ("expandChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.cacheService.rootExpandMap.processing=s)})("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cacheService.unExpandOtherCatalog("processing"))}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(34);e.Q6J("contentTemplate",i)("expand",t.cacheService.rootExpandMap.processing)("counter",t.cacheService.getTasksCounter(null,e.VKq(6,uS,t.SchedulingType.UNSCHEDULED)))("isEmpty",!1)("label","\u0423 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432")("link","/tasks/catalog/processing")}}const pS=function(n,o){return{status:"PROCESSING",cls:n,schedulingType:o}};function hS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw(3),s=e.MAs(36);let p;e.Q6J("contentTemplateData",e.VKq(6,Y_,t))("contentTemplate",s)("counter",i.cacheService.getTasksCounter(null,e.WLB(8,pS,t.wireframeId,i.SchedulingType.UNSCHEDULED)))("isEmpty",0===(null!==(p=null==t.stages?null:t.stages.length)&&void 0!==p?p:0))("label",t.name)("link","/tasks/catalog/processing/"+t.wireframeId)}}function gS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,hS,1,11,"app-catalog-menu-item",47),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function fS(n,o){if(1&n&&(e.YNc(0,gS,2,1,"ng-container",4),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}const mS=function(n,o,t){return{status:"PROCESSING",cls:n,type:o,schedulingType:t}};function _S(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",56),2&n){const t=o.$implicit,i=e.oxw().wireframe,s=e.oxw();e.Q6J("counter",s.cacheService.getTasksCounter(null,e.kEZ(4,mS,i.wireframeId,t.stageId,s.SchedulingType.UNSCHEDULED)))("isEmpty",!0)("label",t.label)("link","/tasks/catalog/processing/"+i.wireframeId+"/"+t.stageId)}}function CS(n,o){1&n&&e.YNc(0,_S,1,8,"app-catalog-menu-item",55),2&n&&e.Q6J("ngForOf",o.wireframe.stages)}const vS=function(n){return{status:"CLOSE",schedulingType:n}};function bS(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-catalog-menu-item",57),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cacheService.unExpandOtherCatalog("close"))})("expandChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.cacheService.rootExpandMap.close=s)}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(40);e.Q6J("contentTemplate",i)("counter",t.cacheService.getTasksCounter(null,e.VKq(6,vS,t.SchedulingType.UNSCHEDULED)))("isEmpty",!1)("expand",t.cacheService.rootExpandMap.close)("label","\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435")("link","/tasks/catalog/close")}}const yS=function(n,o){return{status:"CLOSE",cls:n,schedulingType:o}};function xS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw(3),s=e.MAs(42);let p;e.Q6J("contentTemplateData",e.VKq(6,Y_,t))("contentTemplate",s)("counter",i.cacheService.getTasksCounter(null,e.WLB(8,yS,t.wireframeId,i.SchedulingType.UNSCHEDULED)))("isEmpty",0===(null!==(p=null==t.stages?null:t.stages.length)&&void 0!==p?p:0))("label",t.name)("link","/tasks/catalog/close/"+t.wireframeId)}}function IS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,xS,1,11,"app-catalog-menu-item",47),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function TS(n,o){if(1&n&&(e.YNc(0,IS,2,1,"ng-container",4),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}const AS=function(n,o,t){return{status:"CLOSE",cls:n,type:o,schedulingType:t}};function wS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw().wireframe,s=e.oxw(),p=e.MAs(44);e.Q6J("contentTemplateData",e.WLB(6,j_,i,t))("contentTemplate",p)("counter",s.cacheService.getTasksCounter(null,e.kEZ(9,AS,i.wireframeId,t.stageId,s.SchedulingType.UNSCHEDULED)))("isEmpty",!1)("label",t.label)("link","/tasks/catalog/close/"+i.wireframeId+"/"+t.stageId)}}function ES(n,o){1&n&&e.YNc(0,wS,1,13,"app-catalog-menu-item",47),2&n&&e.Q6J("ngForOf",o.wireframe.stages)}const ef=function(n){return{timeFrame:n}},JT=function(n,o,t,i){return{status:"CLOSE",cls:n,type:o,dateOfClose:t,schedulingType:i}},Hx=function(n,o,t){return{wireframe:n,stage:o,timeFrame:t}};function SS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",59),2&n){const t=o.$implicit,i=e.oxw(),s=i.wireframe,p=i.stage,w=e.oxw(),Q=e.MAs(46);e.Q6J("counter",w.cacheService.getTasksCounter("close-time",e.l5B(9,JT,s.wireframeId,p.stageId,e.VKq(7,ef,t.id),w.SchedulingType.UNSCHEDULED)))("isEmpty",!1)("label",t.name)("autoExpand",!1)("contentTemplate",Q)("contentTemplateData",e.kEZ(14,Hx,s,p,t.id))("link","/tasks/catalog/close/"+s.wireframeId+"/"+p.stageId+"/close-time/"+t.id)}}function kS(n,o){if(1&n&&e.YNc(0,SS,1,18,"app-catalog-menu-item",58),2&n){const t=e.oxw();e.Q6J("ngForOf",t.cacheService.beforeTemporaryMap)}}function DS(n,o){1&n&&e.GkF(0)}const Vx=function(n,o,t,i){return{tag:n,wireframe:o,stage:t,timeFrame:i}};function MS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,DS,1,0,"ng-container",51),e.BQk()),2&n){const t=o.$implicit,i=e.oxw(3),s=i.wireframe,p=i.stage,w=i.timeFrame;e.oxw();const Q=e.MAs(72);e.xp6(1),e.Q6J("ngTemplateOutlet",Q)("ngTemplateOutletContext",e.l5B(2,Vx,t,s,p,w))}}function OS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,MS,2,7,"ng-container",49),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function PS(n,o){if(1&n&&(e.TgZ(0,"div",53),e.YNc(1,OS,2,1,"ng-container",54),e.qZA()),2&n){const t=o.ngIf;e.oxw(2);const i=e.MAs(78);e.xp6(1),e.Q6J("ngIf",null!==t&&t.length>0)("ngIfElse",i)}}function LS(n,o){if(1&n&&(e.YNc(0,PS,2,2,"div",52),e.ALo(1,"async")),2&n){const t=o.stage,i=o.wireframe,s=o.timeFrame,p=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,p.cacheService.getTagsFromCatalog(e.l5B(5,JT,i.wireframeId,t.stageId,e.VKq(3,ef,s),p.SchedulingType.UNSCHEDULED))))}}function RS(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-catalog-menu-item",57),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cacheService.unExpandOtherCatalog("scheduled"))})("expandChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.cacheService.rootExpandMap.scheduled=s)}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(50);e.Q6J("contentTemplate",i)("counter",t.cacheService.getTasksCounter(null,e.VKq(6,Ux,t.SchedulingType.PLANNED)))("isEmpty",!1)("expand",t.cacheService.rootExpandMap.scheduled)("label","\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435")("link","/tasks/catalog/scheduled/active")}}const QT=function(n,o){return{status:"ACTIVE",schedulingType:n,cls:o}};function NS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw(3),s=e.MAs(52);let p;e.Q6J("contentTemplateData",e.VKq(6,Y_,t))("contentTemplate",s)("counter",i.cacheService.getTasksCounter(null,e.WLB(8,QT,i.SchedulingType.PLANNED,t.wireframeId)))("isEmpty",0===(null!==(p=null==t.stages?null:t.stages.length)&&void 0!==p?p:0))("label",t.name)("link","/tasks/catalog/scheduled/active/"+t.wireframeId)}}function FS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,NS,1,11,"app-catalog-menu-item",47),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function BS(n,o){if(1&n&&(e.YNc(0,FS,2,1,"ng-container",4),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}const GT=function(n,o,t){return{status:"ACTIVE",schedulingType:n,cls:o,type:t}};function ZS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw().wireframe,s=e.oxw(),p=e.MAs(54);e.Q6J("contentTemplateData",e.WLB(6,j_,i,t))("contentTemplate",p)("counter",s.cacheService.getTasksCounter(null,e.kEZ(9,GT,s.SchedulingType.PLANNED,i.wireframeId,t.stageId)))("isEmpty",!1)("label",t.label)("link","/tasks/catalog/scheduled/active/"+i.wireframeId+"/"+t.stageId)}}function US(n,o){1&n&&e.YNc(0,ZS,1,13,"app-catalog-menu-item",47),2&n&&e.Q6J("ngForOf",o.wireframe.stages)}const WT=function(n,o,t,i){return{status:"ACTIVE",schedulingType:n,cls:o,type:t,actualFrom:i}};function HS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",59),2&n){const t=o.$implicit,i=e.oxw(),s=i.wireframe,p=i.stage,w=e.oxw(),Q=e.MAs(56);e.Q6J("counter",w.cacheService.getTasksCounter("actual-time",e.l5B(9,WT,w.SchedulingType.PLANNED,s.wireframeId,p.stageId,e.VKq(7,ef,t.id))))("isEmpty",!1)("label",t.name)("autoExpand",!1)("contentTemplate",Q)("contentTemplateData",e.kEZ(14,Hx,s,p,t.id))("link","/tasks/catalog/scheduled/active/"+s.wireframeId+"/"+p.stageId+"/actual-time/"+t.id)}}function VS(n,o){if(1&n&&e.YNc(0,HS,1,18,"app-catalog-menu-item",58),2&n){const t=e.oxw();e.Q6J("ngForOf",t.cacheService.afterTemporaryMap)}}function zS(n,o){1&n&&e.GkF(0)}function JS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,zS,1,0,"ng-container",51),e.BQk()),2&n){const t=o.$implicit,i=e.oxw(3),s=i.wireframe,p=i.stage,w=i.timeFrame;e.oxw();const Q=e.MAs(74);e.xp6(1),e.Q6J("ngTemplateOutlet",Q)("ngTemplateOutletContext",e.l5B(2,Vx,t,s,p,w))}}function QS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,JS,2,7,"ng-container",49),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function GS(n,o){if(1&n&&(e.TgZ(0,"div",53),e.YNc(1,QS,2,1,"ng-container",54),e.qZA()),2&n){const t=o.ngIf;e.oxw(2);const i=e.MAs(78);e.xp6(1),e.Q6J("ngIf",null!==t&&t.length>0)("ngIfElse",i)}}function WS(n,o){if(1&n&&(e.YNc(0,GS,2,2,"div",52),e.ALo(1,"async")),2&n){const t=o.stage,i=o.wireframe,s=o.timeFrame,p=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,p.cacheService.getTagsFromCatalog(e.l5B(5,WT,p.SchedulingType.PLANNED,i.wireframeId,t.stageId,e.VKq(3,ef,s)))))}}function YS(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-catalog-menu-item",57),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cacheService.unExpandOtherCatalog("term"))})("expandChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.cacheService.rootExpandMap.term=s)}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(60);e.Q6J("contentTemplate",i)("counter",t.cacheService.getTasksCounter(null,e.VKq(6,Ux,t.SchedulingType.DEADLINE)))("isEmpty",!1)("expand",t.cacheService.rootExpandMap.term)("label","\u0421\u0440\u043e\u043a")("link","/tasks/catalog/term/active")}}function jS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw(3),s=e.MAs(62);let p;e.Q6J("contentTemplateData",e.VKq(6,Y_,t))("contentTemplate",s)("counter",i.cacheService.getTasksCounter(null,e.WLB(8,QT,i.SchedulingType.DEADLINE,t.wireframeId)))("isEmpty",0===(null!==(p=null==t.stages?null:t.stages.length)&&void 0!==p?p:0))("label",t.name)("link","/tasks/catalog/term/active/"+t.wireframeId)}}function KS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,jS,1,11,"app-catalog-menu-item",47),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function qS(n,o){if(1&n&&(e.YNc(0,KS,2,1,"ng-container",4),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}function $S(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw().wireframe,s=e.oxw(),p=e.MAs(64);e.Q6J("contentTemplateData",e.WLB(6,j_,i,t))("contentTemplate",p)("counter",s.cacheService.getTasksCounter(null,e.kEZ(9,GT,s.SchedulingType.DEADLINE,i.wireframeId,t.stageId)))("isEmpty",!1)("label",t.label)("link","/tasks/catalog/term/active/"+i.wireframeId+"/"+t.stageId)}}function XS(n,o){1&n&&e.YNc(0,$S,1,13,"app-catalog-menu-item",47),2&n&&e.Q6J("ngForOf",o.wireframe.stages)}const YT=function(n,o,t,i){return{status:"ACTIVE",schedulingType:n,cls:o,type:t,actualTo:i}};function e2(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",59),2&n){const t=o.$implicit,i=e.oxw(),s=i.wireframe,p=i.stage,w=e.oxw(),Q=e.MAs(66);e.Q6J("counter",w.cacheService.getTasksCounter("term-time",e.l5B(9,YT,w.SchedulingType.DEADLINE,s.wireframeId,p.stageId,e.VKq(7,ef,t.id))))("isEmpty",!1)("label",t.name)("autoExpand",!1)("contentTemplate",Q)("contentTemplateData",e.kEZ(14,Hx,s,p,t.id))("link","/tasks/catalog/term/active/"+s.wireframeId+"/"+p.stageId+"/term-time/"+t.id)}}function t2(n,o){if(1&n&&e.YNc(0,e2,1,18,"app-catalog-menu-item",58),2&n){const t=e.oxw();e.Q6J("ngForOf",t.cacheService.afterTemporaryMap)}}function n2(n,o){1&n&&e.GkF(0)}function o2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,n2,1,0,"ng-container",51),e.BQk()),2&n){const t=o.$implicit,i=e.oxw(3),s=i.wireframe,p=i.stage,w=i.timeFrame;e.oxw();const Q=e.MAs(76);e.xp6(1),e.Q6J("ngTemplateOutlet",Q)("ngTemplateOutletContext",e.l5B(2,Vx,t,s,p,w))}}function s2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,o2,2,7,"ng-container",49),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function r2(n,o){if(1&n&&(e.TgZ(0,"div",53),e.YNc(1,s2,2,1,"ng-container",54),e.qZA()),2&n){const t=o.ngIf;e.oxw(2);const i=e.MAs(78);e.xp6(1),e.Q6J("ngIf",null!==t&&t.length>0)("ngIfElse",i)}}function a2(n,o){if(1&n&&(e.YNc(0,r2,2,2,"div",52),e.ALo(1,"async")),2&n){const t=o.stage,i=o.wireframe,s=o.timeFrame,p=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,p.cacheService.getTagsFromCatalog(e.l5B(5,YT,p.SchedulingType.DEADLINE,i.wireframeId,t.stageId,e.VKq(3,ef,s)))))}}function l2(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",60),2&n){const t=o.stage,i=o.wireframe,s=e.oxw();e.Q6J("autoExpand",!1)("counter",s.cacheService.getTasksCounter(null,e.kEZ(3,VT,i.wireframeId,t.stageId,s.SchedulingType.EXCEPT_PLANNED)))("link","/tasks/catalog/active/"+i.wireframeId+"/"+t.stageId)}}const K1=function(n,o,t){return{border:n,backgroundColor:o,cursor:t}},qd=function(n){return{color:n}};function c2(n,o){if(1&n&&(e.TgZ(0,"div",61,62)(2,"div",5),e._uU(3),e.qZA(),e.TgZ(4,"div",63),e._uU(5),e.qZA()()),2&n){const t=o.dir,i=o.stage,s=o.tag,p=o.wireframe,w=e.MAs(1);e.Q6J("ngStyle",e.kEZ(9,K1,w.isActive?null:"solid 1px "+s.color,w.isActive?s.color:null,w.isActive?"default":"pointer"))("routerLinkActive","active")("routerLink","/tasks/catalog/active/"+p.wireframeId+"/"+i.stageId+"/dir/"+t.taskTypeDirectoryId+"/"+s.id),e.xp6(2),e.Akn(e.VKq(13,qd,w.isActive?"white":s.color)),e.xp6(1),e.hij(" ",s.name," "),e.xp6(1),e.Akn(e.VKq(15,qd,w.isActive?"white":s.color)),e.xp6(1),e.hij(" ",s.count," ")}}function u2(n,o){if(1&n&&(e.TgZ(0,"div",61,62)(2,"div",5),e._uU(3),e.qZA(),e.TgZ(4,"div",63),e._uU(5),e.qZA()()),2&n){const t=o.stage,i=o.tag,s=o.wireframe,p=o.timeFrame,w=e.MAs(1);e.Q6J("ngStyle",e.kEZ(9,K1,w.isActive?null:"solid 1px "+i.color,w.isActive?i.color:null,w.isActive?"default":"pointer"))("routerLinkActive","active")("routerLink","/tasks/catalog/close/"+s.wireframeId+"/"+t.stageId+"/close-time/"+p+"/"+i.id),e.xp6(2),e.Akn(e.VKq(13,qd,w.isActive?"white":i.color)),e.xp6(1),e.hij(" ",i.name," "),e.xp6(1),e.Akn(e.VKq(15,qd,w.isActive?"white":i.color)),e.xp6(1),e.hij(" ",i.count," ")}}function d2(n,o){if(1&n&&(e.TgZ(0,"div",61,62)(2,"div",5),e._uU(3),e.qZA(),e.TgZ(4,"div",63),e._uU(5),e.qZA()()),2&n){const t=o.stage,i=o.tag,s=o.wireframe,p=o.timeFrame,w=e.MAs(1);e.Q6J("ngStyle",e.kEZ(9,K1,w.isActive?null:"solid 1px "+i.color,w.isActive?i.color:null,w.isActive?"default":"pointer"))("routerLinkActive","active")("routerLink","/tasks/catalog/scheduled/active/"+s.wireframeId+"/"+t.stageId+"/actual-time/"+p+"/"+i.id),e.xp6(2),e.Akn(e.VKq(13,qd,w.isActive?"white":i.color)),e.xp6(1),e.hij(" ",i.name," "),e.xp6(1),e.Akn(e.VKq(15,qd,w.isActive?"white":i.color)),e.xp6(1),e.hij(" ",i.count," ")}}function p2(n,o){if(1&n&&(e.TgZ(0,"div",61,62)(2,"div",5),e._uU(3),e.qZA(),e.TgZ(4,"div",63),e._uU(5),e.qZA()()),2&n){const t=o.stage,i=o.tag,s=o.wireframe,p=o.timeFrame,w=e.MAs(1);e.Q6J("ngStyle",e.kEZ(9,K1,w.isActive?null:"solid 1px "+i.color,w.isActive?i.color:null,w.isActive?"default":"pointer"))("routerLinkActive","active")("routerLink","/tasks/catalog/term/active/"+s.wireframeId+"/"+t.stageId+"/term-time/"+p+"/"+i.id),e.xp6(2),e.Akn(e.VKq(13,qd,w.isActive?"white":i.color)),e.xp6(1),e.hij(" ",i.name," "),e.xp6(1),e.Akn(e.VKq(15,qd,w.isActive?"white":i.color)),e.xp6(1),e.hij(" ",i.count," ")}}function h2(n,o){1&n&&(e.TgZ(0,"div",64),e._uU(1," \u0417\u0430\u0434\u0430\u0447 \u0441 \u0442\u0435\u0433\u0430\u043c\u0438 \u043d\u0435\u0442 "),e.qZA())}const g2=function(){return["/tasks","search"]};let jT=(()=>{class n{constructor(t){this.cacheService=t,this.SchedulingType=he.dH}ngOnInit(){}ngOnDestroy(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j1.d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:81,vars:12,consts:[["appExtendPageHeight","",1,"flex","px-3","gap-3"],[1,"flex","flex-grow-1","gap-3","mb-3"],[1,"flex","flex-column","flex-grow-1","gap-3"],[1,"flex","bg-white","border-round","border-1","border-bluegray-100","p-2","align-items-center"],[4,"ngIf"],[1,"flex-grow-1"],["label","\u041f\u043e\u0438\u0441\u043a \u0437\u0430\u0434\u0430\u0447","icon","mdi-search","styleClass","p-button-sm",3,"routerLink"],[1,"flex","flex-column","flex-grow-1"],[1,"flex","flex-column","border-round","border-1","bg-white","border-bluegray-100","h-fit","sticky-type-selector"],[1,"text-lg","text-bluegray-600","font-bold","p-3","bg-white","sticky","top-0","z-5"],[1,"flex","flex-column","gap-1","relative","px-3","pb-3"],[4,"ngTemplateOutlet"],["class","absolute top-0 left-0 w-full h-full bg-black-alpha-30",4,"ngIf"],["activeTasksMenuItemTemplate",""],["activeTasksClassItemsTemplate",""],["activeTasksTypesItemsTemplate",""],["activeTasksDirectoryItemsTemplate",""],["activeTasksTagsItemsTemplate",""],["processingTasksMenuItemTemplate",""],["processingTasksClassItemsTemplate",""],["processingTasksTypesItemsTemplate",""],["closeTasksMenuItemTemplate",""],["closeTasksClassItemsTemplate",""],["closeTasksTypesItemsTemplate",""],["closeTasksTemporaryItemsTemplate",""],["closeTasksTagsItemsTemplate",""],["scheduledTasksMenuItemTemplate",""],["scheduledTasksClassItemsTemplate",""],["scheduledTasksTypesItemsTemplate",""],["scheduledTasksTemporaryItemsTemplate",""],["scheduledTasksTagsItemsTemplate",""],["termTasksMenuItemTemplate",""],["termTasksClassItemsTemplate",""],["termTasksTypesItemsTemplate",""],["termTasksTemporaryItemsTemplate",""],["termTasksTagsItemsTemplate",""],["emptyTasksDirectoriesItem",""],["tagItemTemplate",""],["tagCloseTaskItemTemplate",""],["tagScheduleTaskItemTemplate",""],["tagTermTaskItemTemplate",""],["emptyTagsTemplate",""],[3,"blocked"],["strokeWidth","1",1,"custom-spinner","custom-spinner-gray","custom-spinner-8xl"],["styleClass","border-0 py-0 px-2",3,"model"],[1,"absolute","top-0","left-0","w-full","h-full","bg-black-alpha-30"],[3,"contentTemplate","expand","counter","isEmpty","label","link","expandChange","onClick"],[3,"contentTemplateData","contentTemplate","counter","isEmpty","label","link",4,"ngFor","ngForOf"],[3,"contentTemplateData","contentTemplate","counter","isEmpty","label","link"],[4,"ngFor","ngForOf"],[3,"autoExpand","contentTemplateData","contentTemplate","counter","droppable","isEmpty","label","link","onDrop"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","flex flex-column gap-1 pl-3",4,"ngIf"],[1,"flex","flex-column","gap-1","pl-3"],[4,"ngIf","ngIfElse"],[3,"counter","isEmpty","label","link",4,"ngFor","ngForOf"],[3,"counter","isEmpty","label","link"],[3,"contentTemplate","counter","isEmpty","expand","label","link","onClick","expandChange"],[3,"counter","isEmpty","label","autoExpand","contentTemplate","contentTemplateData","link",4,"ngFor","ngForOf"],[3,"counter","isEmpty","label","autoExpand","contentTemplate","contentTemplateData","link"],["label","\u0411\u0435\u0437 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",3,"autoExpand","counter","link"],[1,"border-round-3xl","px-3","py-1","flex","align-items-baseline","font-semibold","user-select-none","gap-2",3,"ngStyle","routerLinkActive","routerLink"],["rla","routerLinkActive"],[1,"text-sm"],[1,"text-bluegray-300","text-sm","font-bold"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-main-menu-panel"),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3),e.YNc(5,BE,2,1,"ng-container",4),e.ALo(6,"async"),e._UZ(7,"div",5)(8,"p-button",6),e.qZA(),e.TgZ(9,"div",7),e._UZ(10,"router-outlet"),e.qZA()(),e.TgZ(11,"div",8)(12,"span",9),e._uU(13,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"),e.qZA(),e.TgZ(14,"div",10),e.YNc(15,ZE,1,0,"ng-container",11),e.YNc(16,UE,1,0,"ng-container",11),e.YNc(17,HE,1,0,"ng-container",11),e.YNc(18,VE,1,0,"ng-container",11),e.YNc(19,zE,1,0,"ng-container",11),e.YNc(20,JE,1,0,"div",12),e.qZA()()()(),e.YNc(21,QE,1,8,"ng-template",null,13,e.W1O),e.YNc(23,jE,2,3,"ng-template",null,14,e.W1O),e.YNc(25,qE,1,1,"ng-template",null,15,e.W1O),e.YNc(27,iS,2,2,"ng-template",null,16,e.W1O),e.YNc(29,cS,2,8,"ng-template",null,17,e.W1O),e.YNc(31,dS,1,8,"ng-template",null,18,e.W1O),e.YNc(33,fS,2,3,"ng-template",null,19,e.W1O),e.YNc(35,CS,1,1,"ng-template",null,20,e.W1O),e.YNc(37,bS,1,8,"ng-template",null,21,e.W1O),e.YNc(39,TS,2,3,"ng-template",null,22,e.W1O),e.YNc(41,ES,1,1,"ng-template",null,23,e.W1O),e.YNc(43,kS,1,1,"ng-template",null,24,e.W1O),e.YNc(45,LS,2,10,"ng-template",null,25,e.W1O),e.YNc(47,RS,1,8,"ng-template",null,26,e.W1O),e.YNc(49,BS,2,3,"ng-template",null,27,e.W1O),e.YNc(51,US,1,1,"ng-template",null,28,e.W1O),e.YNc(53,VS,1,1,"ng-template",null,29,e.W1O),e.YNc(55,WS,2,10,"ng-template",null,30,e.W1O),e.YNc(57,YS,1,8,"ng-template",null,31,e.W1O),e.YNc(59,qS,2,3,"ng-template",null,32,e.W1O),e.YNc(61,XS,1,1,"ng-template",null,33,e.W1O),e.YNc(63,t2,1,1,"ng-template",null,34,e.W1O),e.YNc(65,a2,2,10,"ng-template",null,35,e.W1O),e.YNc(67,l2,1,7,"ng-template",null,36,e.W1O),e.YNc(69,c2,6,17,"ng-template",null,37,e.W1O),e.YNc(71,u2,6,17,"ng-template",null,38,e.W1O),e.YNc(73,d2,6,17,"ng-template",null,39,e.W1O),e.YNc(75,p2,6,17,"ng-template",null,40,e.W1O),e.YNc(77,h2,2,0,"ng-template",null,41,e.W1O),e.TgZ(79,"p-blockUI",42),e._UZ(80,"p-progressSpinner",43),e.qZA()),2&t){const s=e.MAs(22),p=e.MAs(32),w=e.MAs(38),Q=e.MAs(48),Ce=e.MAs(58);e.xp6(5),e.Q6J("ngIf",e.lcZ(6,9,i.cacheService.breadCrumbsModel$)),e.xp6(3),e.Q6J("routerLink",e.DdM(11,g2)),e.xp6(7),e.Q6J("ngTemplateOutlet",s),e.xp6(1),e.Q6J("ngTemplateOutlet",p),e.xp6(1),e.Q6J("ngTemplateOutlet",w),e.xp6(1),e.Q6J("ngTemplateOutlet",Q),e.xp6(1),e.Q6J("ngTemplateOutlet",Ce),e.xp6(1),e.Q6J("ngIf",void 0!==i.cacheService.highlightCatalogs),e.xp6(59),e.Q6J("blocked",i.cacheService.blockVisible)}},styles:[".directory[_ngcontent-%COMP%]   .p-draggable-enter[_ngcontent-%COMP%]{opacity:.3}"]}),n})();var Kc=b(4881),Dl=b(4132);function f2(n,o){1&n&&(e.TgZ(0,"div",7),e._UZ(1,"p-progressSpinner",8),e.qZA())}function m2(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e.NdJ("onDragStart",function(){const p=e.CHM(t).$implicit,w=e.oxw(3);return e.KtG(w.cacheService.taskMovingStart(p))}),e.TgZ(1,"app-task-list-element",13),e.NdJ("onStartEdit",function(s){e.CHM(t);const p=e.oxw(3);return e.KtG(p.cacheService.taskEditStart(s))})("onStopEdit",function(s){e.CHM(t);const p=e.oxw(3);return e.KtG(p.cacheService.taskEditStop(s))}),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw(3);let s;e.Q6J("pDraggable",null!==(s=null==t.currentStage?null:t.currentStage.stageId)&&void 0!==s?s:""),e.xp6(1),e.Q6J("externalUpdater",i.cacheService.getTaskUpdater(t.taskId))("isCommentInput",!0)("item",t)}}function _2(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",10),e.YNc(2,m2,2,4,"div",11),e.qZA(),e.BQk()),2&n){const t=o.ngIf;e.xp6(2),e.Q6J("ngForOf",t.content)}}function C2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,_2,3,1,"ng-container",9),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.cacheService.tasks$))}}function v2(n,o){1&n&&(e.TgZ(0,"div",14),e._UZ(1,"i",15),e.TgZ(2,"span"),e._uU(3,"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),e.qZA()())}function b2(n,o){1&n&&(e.TgZ(0,"div",16),e._UZ(1,"i",17),e.TgZ(2,"span"),e._uU(3,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e.qZA()())}function y2(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"p-paginator",19,20),e.NdJ("onPageChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.cacheService.pageControl.setValue(s.page))}),e.qZA()()}if(2&n){const t=o.ngIf,i=e.oxw();let s;e.Q6J("hidden","READY"!==i.cacheService.taskLoadingState),e.xp6(1),e.Q6J("alwaysShow",!0)("rows",15)("showCurrentPageReport",!0)("totalRecords",t.totalElements)("first",15*(null!==(s=i.cacheService.pageControl.value)&&void 0!==s?s:0))}}let Sa=(()=>{class n{constructor(t,i){this.route=t,this.cacheService=i,this.subscriptions=new _.xf}ngOnInit(){this.subscriptions.addSubscription("crrRt",(0,Fo.a)([this.route.params,this.route.data]).subscribe(([t,i])=>this.cacheService.updatePath(t,i)))}ngAfterViewInit(){}ngOnDestroy(){this.subscriptions.unsubscribeAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.gz),e.Y36(j1.d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:8,vars:8,consts:[[3,"ngSwitch"],["class","flexed stretched hcenter vcenter caption size-big wt-bold f-color-500",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","flexed column stretched hcenter vcenter caption size-big wt-bold f-color-500",4,"ngSwitchCase"],["class","flexed stretched hcenter vcenter caption size-big wt-bold f-color-danger",4,"ngSwitchCase"],[1,"flex-grow-1"],["class","sticky bottom1",3,"hidden",4,"ngIf"],[1,"flexed","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-500"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[4,"ngIf"],[1,"flex","flex-column","gap-1","border-round-md","shadow-1","overflow-hidden","bg-bluegray-100","h-fit","mb-3"],["class","flex relative",3,"pDraggable","onDragStart",4,"ngFor","ngForOf"],[1,"flex","relative",3,"pDraggable","onDragStart"],[3,"externalUpdater","isCommentInput","item","onStartEdit","onStopEdit"],[1,"flexed","column","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-500"],[1,"mds-search_off"],[1,"flexed","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-danger"],[1,"mdi-error"],[1,"sticky","bottom1",3,"hidden"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447","styleClass","panel",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","first","onPageChange"],["paginator",""]],template:function(t,i){1&t&&(e.ynx(0,0),e.YNc(1,f2,2,0,"div",1),e.YNc(2,C2,3,3,"ng-container",2),e.YNc(3,v2,4,0,"div",3),e.YNc(4,b2,4,0,"div",4),e.BQk(),e._UZ(5,"div",5),e.YNc(6,y2,3,6,"div",6),e.ALo(7,"async")),2&t&&(e.Q6J("ngSwitch",i.cacheService.taskLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(2),e.Q6J("ngIf",e.lcZ(7,6,i.cacheService.tasks$)))},dependencies:[Kc.E,S.sg,S.O5,S.RF,S.n9,it.G,Dl.D,jo._l,S.Ov],styles:["[_nghost-%COMP%]{flex-grow:1;min-height:100%;display:flex;flex-direction:column}"]}),n})();class x2{constructor(){this.content=[],this.empty=!0,this.first=!0,this.last=!0,this.number=0,this.numberOfElements=0,this.pageable={offset:0,sort:{empty:!0,sorted:!1,unsorted:!0},pageSize:0,pageNumber:0,paged:!0,unpaged:!1},this.size=0,this.sort={empty:!0,sorted:!1,unsorted:!0},this.totalElements=0,this.totalPages=0}}let KT=(()=>{class n{constructor(t){this.api=t,this.searchSubject=new mr.x,this.search$=this.searchSubject.pipe((0,si.b)(()=>{this.pageControl.setValue(0),this.taskLoadingState=he.Gu.LOADING}),(0,cn.d)(1)),this.filterForm=new f.cw({searchPhrase:new f.NI(""),author:new f.NI(null),assignedEmployee:new f.NI(null),dateOfCreation:new f.NI(null),dateOfClose:new f.NI(null),tags:new f.NI(null),fieldFilters:new f.Oe([new f.cw({name:new f.NI("\u0422\u0435\u043a\u0441\u0442 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435"),type:new f.NI(he.nC.TEXT),textValue:new f.NI("")}),new f.cw({name:new f.NI("\u041b\u043e\u0433\u0438\u043d"),type:new f.NI(he.nC.LOGIN),textValue:new f.NI("")}),new f.cw({name:new f.NI("\u0410\u0434\u0440\u0435\u0441"),type:new f.NI(he.nC.ADDRESS),addressValue:new f.NI(null)}),new f.cw({name:new f.NI("\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),type:new f.NI(he.nC.PHONE),textValue:new f.NI("")}),new f.cw({name:new f.NI("\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a"),type:new f.NI(he.nC.AD_SOURCE),adSourceValue:new f.NI(null)}),new f.cw({name:new f.NI("\u0422\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),type:new f.NI(he.nC.CONNECTION_TYPE),connectionTypeValue:new f.NI(null)}),new f.cw({name:new f.NI("\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0430\u044f \u0443\u0441\u043b\u0443\u0433\u0430"),type:new f.NI(he.nC.CONNECTION_SERVICE),connectionServiceValue:new f.NI(null)})])}),this.filtersChange$=this.filterForm.valueChanges.pipe((0,cn.d)(1)),this.filtersNames={searchPhrase:"\u0421\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430",author:"\u0410\u0432\u0442\u043e\u0440",dateOfCreation:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",dateOfClose:"\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f",tags:"\u0422\u0435\u0433\u0438"},this.applySearch$=this.search$.pipe((0,gt.U)(()=>this.filterForm.value)),this.applyingFilters$=this.applySearch$.pipe((0,gt.U)(i=>{const s=[];for(const p in i)!i[p]||"fieldFilters"===p||Array.isArray(i[p])&&0===i[p].length||s.push({label:this.filtersNames[p],value:p,type:"unfield"});return s})),this.applyingFieldFilters$=this.applySearch$.pipe((0,gt.U)(i=>{const s=[];for(const p of i.fieldFilters)!p.textValue&&!p.addressValue&&!p.adSourceValue&&!p.connectionTypeValue&&!p.connectionServiceValue||s.push({label:p.name,value:p.name,type:"field"});return s})),this.applyingAllFilters$=(0,Fo.a)([this.applyingFilters$,this.applyingFieldFilters$]).pipe((0,gt.U)(([i,s])=>i.concat(s)),(0,cn.d)(1)),this.statusSubject=new $a.X(null),this.classSubject=new $a.X(null),this.typeSubject=new $a.X(null),this.status$=this.statusSubject.asObservable(),this.class$=this.classSubject.asObservable(),this.type$=this.typeSubject.asObservable(),this.pageControl=new f.NI(0),this.taskLoadingState=he.Gu.EMPTY,this.lastRoute$=(0,Fo.a)([this.status$,this.class$,this.type$]).pipe((0,Is.b)(1),(0,zr.x)((i,s)=>JSON.stringify(i)===JSON.stringify(s)),(0,si.b)(()=>{this.pageControl.setValue(0)}),(0,cn.d)(1)),this.page$=this.pageControl.valueChanges.pipe((0,is.O)(0),(0,zr.x)(),(0,si.b)(()=>{window.scrollTo({top:0})}),(0,cn.d)(1)),this.taskCountersMap=new Map,this.taskCountersLoadingMap=new Map,this.wireframes$=this.api.getWireframes().pipe((0,cn.d)(1)),this.tasks$=(0,Fo.a)([this.page$,this.search$,this.lastRoute$]).pipe((0,si.b)(()=>this.taskLoadingState=he.Gu.LOADING),(0,R.w)(([i,s,[p,w,Q]])=>{if(n.isFiltersEmpty(s))return(0,Tn.of)(new x2);const Ce=Object.assign(Object.assign({},s),n.getFilterPath(p,w,Q));return this.api.getPageOfTasks(null!=i?i:0,Ce)}),(0,si.b)({next:i=>this.taskLoadingState=0===i.totalElements?he.Gu.EMPTY:he.Gu.READY,error:()=>this.taskLoadingState=he.Gu.ERROR}),(0,cn.d)(1)),this.adSources$=this.api.getAdSourcesList(),this.connectionTypes$=this.api.getConnectionTypesList(),this.connectionServices$=this.api.getConnectionServicesList()}static getFilterPath(t,i,s){const p={};return t&&(p.status=[t.toUpperCase()]),i&&(p.template=[i]),s&&(p.stage=s),p}static isFiltersEmpty(t){for(const i in t)if("fieldFilters"!==i){if(t[i]&&(!Array.isArray(t[i])||0!==t[i].length))return!1}else for(const s of t[i])if(s.textValue||s.addressValue||s.adSourceValue||s.connectionTypeValue||s.connectionServiceValue)return!1;return!0}getTasksLoadingCounter(t,i,s){var p;const w=n.pathKeyGenerate(t,i,s);return this.taskCountersLoadingMap.has(w)?null!==(p=this.taskCountersLoadingMap.get(w))&&void 0!==p&&p:(this.taskCountersLoadingMap.set(w,!1),!1)}setTasksLoadingCounter(t,i){this.taskCountersLoadingMap.set(t,i)}getTasksCounter(t,i,s){const p=n.pathKeyGenerate(t,i,s);if(this.taskCountersMap.has(p))return this.taskCountersMap.get(p);const w=this.search$.pipe((0,si.b)(()=>this.setTasksLoadingCounter(p,!0)),(0,R.w)(Q=>{if(n.isFiltersEmpty(Q))return(0,Tn.of)("0");const Ce=Object.assign(Object.assign({},Q),n.getFilterPath(t,i,s));return this.api.getCountTasks(Ce).pipe((0,gt.U)(qe=>qe.toString()))}),(0,is.O)("0"),(0,si.b)(()=>this.setTasksLoadingCounter(p,!1)),(0,cn.d)(1));return this.taskCountersMap.set(p,w),w}updatePath(t){var i,s;this.statusSubject.next(null!==(i=t.status)&&void 0!==i?i:null),this.classSubject.next(t.class?parseInt(t.class):null),this.typeSubject.next(null!==(s=t.type)&&void 0!==s?s:null)}search(){this.searchSubject.next(this.filterForm.value)}clearFilter(t,i){if("field"===i){const Q=this.filterForm.controls.fieldFilters.controls.find(Ce=>Ce.value.name===t);if(!Q)return;return Q.patchValue({textValue:null,addressValue:null,adSourceValue:null,connectionTypeValue:null,connectionServiceValue:null}),void this.search()}const p=Object.entries(this.filterForm.controls).find(([w,Q])=>w===t);!p||(p[1]instanceof f.Oe||p[1].setValue(null),this.search())}static pathKeyGenerate(t,i,s){let p=""+t+i+s;return!t&&!i&&!s&&(p="all"),p}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(L.s))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function I2(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",47),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cacheService.filterForm.controls.searchPhrase.setValue(""))}),e.qZA()}}function T2(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-chip",52),e.NdJ("onRemove",function(){const p=e.CHM(t).$implicit,w=e.oxw(3);return e.KtG(w.cacheService.clearFilter(p.value,p.type))}),e.qZA()}2&n&&e.Q6J("label",o.$implicit.label)("removable",!0)}function A2(n,o){if(1&n&&(e.TgZ(0,"div",49)(1,"span",50),e._uU(2,"\u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b:"),e.qZA(),e.YNc(3,T2,1,2,"p-chip",51),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(3),e.Q6J("ngForOf",t)}}function w2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,A2,4,1,"div",48),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf",t.length>0)}}function E2(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",53)(1,"app-catalog-menu-item",54)(2,"app-catalog-menu-item",55),2&n){const t=e.oxw(),i=e.MAs(25),s=e.MAs(29),p=e.MAs(33);e.Q6J("contentTemplate",i)("isEmpty",!1)("counter",t.cacheService.getTasksCounter("active"))("isCounterLoading",t.cacheService.getTasksLoadingCounter("active"))("link","/tasks/search/active"),e.xp6(1),e.Q6J("contentTemplate",s)("isEmpty",!1)("counter",t.cacheService.getTasksCounter("processing"))("isCounterLoading",t.cacheService.getTasksLoadingCounter("processing"))("link","/tasks/search/processing"),e.xp6(1),e.Q6J("contentTemplate",p)("isEmpty",!1)("counter",t.cacheService.getTasksCounter("close"))("isCounterLoading",t.cacheService.getTasksLoadingCounter("close"))("link","/tasks/search/close")}}const zx=function(n){return{wireframe:n}};function S2(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",57),2&n){const t=o.$implicit,i=e.oxw(3),s=e.MAs(27);let p;e.Q6J("counter",i.cacheService.getTasksCounter("active",t.wireframeId))("isCounterLoading",i.cacheService.getTasksLoadingCounter("active",t.wireframeId))("contentTemplate",s)("contentTemplateData",e.VKq(7,zx,t))("isEmpty",0===(null!==(p=null==t.stages?null:t.stages.length)&&void 0!==p?p:0))("label",t.name)("link","/tasks/search/active/"+t.wireframeId)}}function k2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,S2,1,9,"app-catalog-menu-item",56),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function D2(n,o){if(1&n&&(e.YNc(0,k2,2,1,"ng-container",11),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}function M2(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",59),2&n){const t=o.$implicit,i=e.oxw().wireframe,s=e.oxw();e.Q6J("counter",s.cacheService.getTasksCounter("active",i.wireframeId,t.stageId))("isCounterLoading",s.cacheService.getTasksLoadingCounter("active",i.wireframeId,t.stageId))("isEmpty",!0)("label",t.label)("link","/tasks/search/active/"+i.wireframeId+"/"+t.stageId)}}function O2(n,o){1&n&&e.YNc(0,M2,1,5,"app-catalog-menu-item",58),2&n&&e.Q6J("ngForOf",o.wireframe.stages)}function P2(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",57),2&n){const t=o.$implicit,i=e.oxw(3),s=e.MAs(31);let p;e.Q6J("counter",i.cacheService.getTasksCounter("processing",t.wireframeId))("isCounterLoading",i.cacheService.getTasksLoadingCounter("processing",t.wireframeId))("contentTemplate",s)("contentTemplateData",e.VKq(7,zx,t))("isEmpty",0===(null!==(p=null==t.stages?null:t.stages.length)&&void 0!==p?p:0))("label",t.name)("link","/tasks/search/processing/"+t.wireframeId)}}function L2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,P2,1,9,"app-catalog-menu-item",56),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function R2(n,o){if(1&n&&(e.YNc(0,L2,2,1,"ng-container",11),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}function N2(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",59),2&n){const t=o.$implicit,i=e.oxw().wireframe,s=e.oxw();e.Q6J("counter",s.cacheService.getTasksCounter("processing",i.wireframeId,t.stageId))("isCounterLoading",s.cacheService.getTasksLoadingCounter("processing",i.wireframeId,t.stageId))("isEmpty",!0)("label",t.label)("link","/tasks/search/processing/"+i.wireframeId+"/"+t.stageId)}}function F2(n,o){1&n&&e.YNc(0,N2,1,5,"app-catalog-menu-item",58),2&n&&e.Q6J("ngForOf",o.wireframe.stages)}function B2(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",57),2&n){const t=o.$implicit,i=e.oxw(3),s=e.MAs(35);let p;e.Q6J("counter",i.cacheService.getTasksCounter("close",t.wireframeId))("isCounterLoading",i.cacheService.getTasksLoadingCounter("close",t.wireframeId))("contentTemplate",s)("contentTemplateData",e.VKq(7,zx,t))("isEmpty",0===(null!==(p=null==t.stages?null:t.stages.length)&&void 0!==p?p:0))("label",t.name)("link","/tasks/search/close/"+t.wireframeId)}}function Z2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,B2,1,9,"app-catalog-menu-item",56),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function U2(n,o){if(1&n&&(e.YNc(0,Z2,2,1,"ng-container",11),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}function H2(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",59),2&n){const t=o.$implicit,i=e.oxw().wireframe,s=e.oxw();e.Q6J("counter",s.cacheService.getTasksCounter("close",i.wireframeId,t.stageId))("isCounterLoading",s.cacheService.getTasksLoadingCounter("close",i.wireframeId,t.stageId))("isEmpty",!0)("label",t.label)("link","/tasks/search/close/"+i.wireframeId+"/"+t.stageId)}}function V2(n,o){1&n&&e.YNc(0,H2,1,5,"app-catalog-menu-item",58),2&n&&e.Q6J("ngForOf",o.wireframe.stages)}function z2(n,o){1&n&&e.GkF(0)}const J2=function(n){return{$implicit:n}};function Q2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,z2,1,0,"ng-container",60),e.BQk()),2&n){const t=o.$implicit;e.oxw();const i=e.MAs(71);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,J2,t))}}function G2(n,o){if(1&n&&(e.TgZ(0,"app-label",69),e._UZ(1,"input",70),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("formControl",t.controls.textValue)}}function W2(n,o){if(1&n&&(e.TgZ(0,"app-label",71),e._UZ(1,"input",70),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("formControl",t.controls.textValue)}}function Y2(n,o){if(1&n&&(e.TgZ(0,"app-label",72),e._UZ(1,"app-address-input-alt",73),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("formControl",t.controls.addressValue)}}function j2(n,o){if(1&n&&(e.TgZ(0,"app-label",74),e._UZ(1,"input",70),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("formControl",t.controls.textValue)}}const Jx=function(){return[]};function K2(n,o){if(1&n&&(e.TgZ(0,"app-label",75),e._UZ(1,"p-dropdown",76),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();let s;e.xp6(1),e.Q6J("showClear",!0)("options",null!==(s=e.lcZ(2,3,i.cacheService.adSources$))&&void 0!==s?s:e.DdM(5,Jx))("formControl",t.controls.adSourceValue)}}function q2(n,o){if(1&n&&(e.TgZ(0,"app-label",77),e._UZ(1,"p-dropdown",76),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();let s;e.xp6(1),e.Q6J("showClear",!0)("options",null!==(s=e.lcZ(2,3,i.cacheService.connectionTypes$))&&void 0!==s?s:e.DdM(5,Jx))("formControl",t.controls.connectionTypeValue)}}function $2(n,o){if(1&n&&(e.TgZ(0,"app-label",78),e._UZ(1,"p-dropdown",76),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();let s;e.xp6(1),e.Q6J("showClear",!0)("options",null!==(s=e.lcZ(2,3,i.cacheService.connectionServices$))&&void 0!==s?s:e.DdM(5,Jx))("formControl",t.controls.connectionServiceValue)}}function X2(n,o){if(1&n&&(e.ynx(0,61),e.YNc(1,G2,2,1,"app-label",62),e.YNc(2,W2,2,1,"app-label",63),e.YNc(3,Y2,2,1,"app-label",64),e.YNc(4,j2,2,1,"app-label",65),e.YNc(5,K2,3,6,"app-label",66),e.YNc(6,q2,3,6,"app-label",67),e.YNc(7,$2,3,6,"app-label",68),e.BQk()),2&n){const t=o.$implicit;e.Q6J("ngSwitch",t.value.type)("formGroup",t),e.xp6(1),e.Q6J("ngSwitchCase","TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","LOGIN"),e.xp6(1),e.Q6J("ngSwitchCase","ADDRESS"),e.xp6(1),e.Q6J("ngSwitchCase","PHONE"),e.xp6(1),e.Q6J("ngSwitchCase","AD_SOURCE"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_TYPE"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_SERVICE")}}const ek=function(){return["/tasks","catalog","active"]},tk=function(n){return{width:n}};let qT=(()=>{class n{constructor(t,i,s){this.nav=t,this.cacheService=i,this.catalogService=s,this.isSearchInputFocused=!1,this.catalogCachedRoute$=this.catalogService.lastRoute$.pipe((0,gt.U)(p=>j1.d.convertToPath(p,!0)),(0,gt.U)(p=>["/tasks","catalog",...p])),this.allFiltersVisible=!1,this.allFiltersPanelWidth=""}ngOnInit(){}resizeFilterPanel(t,i){this.allFiltersPanelWidth=t,setTimeout(()=>{i.align()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(tt.r),e.Y36(KT),e.Y36(j1.d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-catalog-search-page"]],decls:72,vars:21,consts:[["appExtendPageHeight","",1,"flex","px-3","gap-3"],[1,"flex","flex-grow-1","gap-3","mb-3"],[1,"flex","flex-column","flex-grow-1","gap-3"],[1,"flex","bg-white","border-round","border-1","py-2","pr-2","pl-3","gap-2","align-items-center",3,"formGroup","ngClass"],["searchPanelElement",""],["placeholder","\u041f\u043e\u0438\u0441\u043a...","formControlName","searchPhrase",1,"border-0","flex-grow-1","h-full","outline-none","border-none",3,"focus","blur","keydown.enter"],["searchPhraseInput",""],["icon","mdi-close","styleClass","p-button-secondary p-button-icon p-button-text p-button-sm",3,"onClick",4,"ngIf"],["label","\u041d\u0430\u0439\u0442\u0438","icon","mdi-search","styleClass","p-button-sm",3,"onClick"],["label","\u0424\u0438\u043b\u044c\u0442\u0440\u044b","icon","mdi-filter_alt","styleClass","p-button-sm p-button-help",3,"onClick"],["label","\u0417\u0430\u043a\u0440\u044b\u0442\u044c","icon","mdi-close","styleClass","p-button-sm p-button-secondary",3,"routerLink"],[4,"ngIf"],[1,"flex","flex-column","flex-grow-1"],[1,"flex","flex-column","border-round","border-1","bg-white","border-bluegray-100","h-fit","sticky-type-selector"],[1,"text-lg","text-bluegray-600","font-bold","p-3","bg-white","sticky","top-0","z-5"],[1,"flex","flex-column","gap-1","relative","px-3","pb-3"],["label","\u0412\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438","link","/tasks/search",3,"contentTemplate","isEmpty","counter","isCounterLoading"],["tasksStatusItemsTemplate",""],["activeTasksClassItemsTemplate",""],["activeTasksTypeItemsTemplate",""],["processingTasksClassItemsTemplate",""],["processingTasksTypeItemsTemplate",""],["closeTasksClassItemsTemplate",""],["closeTasksTypeItemsTemplate",""],["appendTo","body",3,"dismissable","onShow"],["allFiltersPanel",""],[1,"flex","flex-column","gap-3",3,"formGroup"],[1,"flex","align-items-center","gap-3"],[1,"text-bluegray-500","text-xl"],[1,"flex-grow-1"],["icon","mdi-done","label","\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-sm",3,"onClick"],["icon","mdi-close","label","\u0417\u0430\u043a\u0440\u044b\u0442\u044c","styleClass","p-button-outlined p-button-sm p-button-secondary",3,"onClick"],[1,"flex","flex-column","gap-2","pl-2"],[1,"text-bluegray-500","text-lg"],[1,"flex","flex-wrap","column-gap-3","row-gap-1"],["label","\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"],["formControlName","dateOfCreation"],["label","\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f"],["formControlName","dateOfClose"],["label","\u0410\u0432\u0442\u043e\u0440 \u0437\u0430\u0434\u0430\u0447\u0438"],["formControlName","author"],["label","\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c \u0437\u0430\u0434\u0430\u0447\u0438"],["formControlName","assignedEmployee"],["formControlName","tags"],["formArrayName","fieldFilters",1,"flex","flex-wrap","column-gap-3","row-gap-1"],[4,"ngFor","ngForOf"],["filterFieldTemplate",""],["icon","mdi-close","styleClass","p-button-secondary p-button-icon p-button-text p-button-sm",3,"onClick"],["class","flex flex-wrap gap-2 align-items-center",4,"ngIf"],[1,"flex","flex-wrap","gap-2","align-items-center"],[1,"text-sm","text-bluegray-400","font-bold"],[3,"label","removable","onRemove",4,"ngFor","ngForOf"],[3,"label","removable","onRemove"],["label","\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435",3,"contentTemplate","isEmpty","counter","isCounterLoading","link"],["label","\u0423 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432",3,"contentTemplate","isEmpty","counter","isCounterLoading","link"],["label","\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435",3,"contentTemplate","isEmpty","counter","isCounterLoading","link"],[3,"counter","isCounterLoading","contentTemplate","contentTemplateData","isEmpty","label","link",4,"ngFor","ngForOf"],[3,"counter","isCounterLoading","contentTemplate","contentTemplateData","isEmpty","label","link"],[3,"counter","isCounterLoading","isEmpty","label","link",4,"ngFor","ngForOf"],[3,"counter","isCounterLoading","isEmpty","label","link"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch","formGroup"],["label","\u0422\u0435\u043a\u0441\u0442 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435",4,"ngSwitchCase"],["label","\u041b\u043e\u0433\u0438\u043d",4,"ngSwitchCase"],["label","\u0410\u0434\u0440\u0435\u0441",4,"ngSwitchCase"],["label","\u0422\u0435\u043b\u0435\u0444\u043e\u043d",4,"ngSwitchCase"],["label","\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a",4,"ngSwitchCase"],["label","\u0422\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f",4,"ngSwitchCase"],["label","\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0430\u044f \u0443\u0441\u043b\u0443\u0433\u0438",4,"ngSwitchCase"],["label","\u0422\u0435\u043a\u0441\u0442 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435"],["pInputText","",3,"formControl"],["label","\u041b\u043e\u0433\u0438\u043d"],["label","\u0410\u0434\u0440\u0435\u0441"],[3,"formControl"],["label","\u0422\u0435\u043b\u0435\u0444\u043e\u043d"],["label","\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a"],["placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"showClear","options","formControl"],["label","\u0422\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"],["label","\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0430\u044f \u0443\u0441\u043b\u0443\u0433\u0438"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"div",0),e._UZ(1,"app-main-menu-panel"),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3,4)(6,"input",5,6),e.NdJ("focus",function(){e.CHM(s);const w=e.MAs(7);return i.isSearchInputFocused=!0,e.KtG(w.select())})("blur",function(){return i.isSearchInputFocused=!1})("keydown.enter",function(){return i.cacheService.search()}),e.qZA(),e.YNc(8,I2,1,0,"p-button",7),e.TgZ(9,"p-button",8),e.NdJ("onClick",function(){return i.cacheService.search()}),e.qZA(),e.TgZ(10,"p-button",9),e.NdJ("onClick",function(w){e.CHM(s);const Q=e.MAs(5),Ce=e.MAs(37);return e.KtG(Ce.toggle(w,Q))}),e.qZA(),e._UZ(11,"p-button",10),e.ALo(12,"async"),e.qZA(),e.YNc(13,w2,2,1,"ng-container",11),e.ALo(14,"async"),e.TgZ(15,"div",12),e._UZ(16,"router-outlet"),e.qZA()(),e.TgZ(17,"div",13)(18,"span",14),e._uU(19,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"),e.qZA(),e.TgZ(20,"div",15),e._UZ(21,"app-catalog-menu-item",16),e.qZA()()()(),e.YNc(22,E2,3,15,"ng-template",null,17,e.W1O),e.YNc(24,D2,2,3,"ng-template",null,18,e.W1O),e.YNc(26,O2,1,1,"ng-template",null,19,e.W1O),e.YNc(28,R2,2,3,"ng-template",null,20,e.W1O),e.YNc(30,F2,1,1,"ng-template",null,21,e.W1O),e.YNc(32,U2,2,3,"ng-template",null,22,e.W1O),e.YNc(34,V2,1,1,"ng-template",null,23,e.W1O),e.TgZ(36,"p-overlayPanel",24,25),e.NdJ("onShow",function(){e.CHM(s);const w=e.MAs(5),Q=e.MAs(37);return e.KtG(i.resizeFilterPanel(w.offsetWidth+"px",Q))}),e.TgZ(38,"div",26)(39,"div",27)(40,"span",28),e._uU(41," \u0424\u0438\u043b\u044c\u0442\u0440\u044b "),e.qZA(),e._UZ(42,"div",29),e.TgZ(43,"p-button",30),e.NdJ("onClick",function(){e.CHM(s);const w=e.MAs(37);return i.cacheService.search(),e.KtG(w.hide())}),e.qZA(),e.TgZ(44,"p-button",31),e.NdJ("onClick",function(){e.CHM(s);const w=e.MAs(37);return e.KtG(w.hide())}),e.qZA()(),e.TgZ(45,"div",32)(46,"span",33),e._uU(47," \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435/\u0417\u0430\u043a\u0440\u044b\u0442\u0438\u0435 "),e.qZA(),e.TgZ(48,"div",34)(49,"app-label",35),e._UZ(50,"app-data-range-input",36),e.qZA(),e.TgZ(51,"app-label",37),e._UZ(52,"app-data-range-input",38),e.qZA()()(),e.TgZ(53,"div",32)(54,"span",33),e._uU(55," \u0410\u0432\u0442\u043e\u0440/\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c "),e.qZA(),e.TgZ(56,"div",34)(57,"app-label",39),e._UZ(58,"app-employee-selector",40),e.qZA(),e.TgZ(59,"app-label",41),e._UZ(60,"app-employee-selector",42),e.qZA()()(),e.TgZ(61,"div",32)(62,"span",33),e._uU(63," \u0422\u0435\u0433\u0438 "),e.qZA(),e._UZ(64,"app-task-tag-filter-input",43),e.qZA(),e.TgZ(65,"div",32)(66,"span",33),e._uU(67," \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0432 \u0437\u0430\u0434\u0430\u0447\u0435 "),e.qZA(),e.TgZ(68,"div",44),e.YNc(69,Q2,2,4,"ng-container",45),e.qZA()()()(),e.YNc(70,X2,8,9,"ng-template",null,46,e.W1O)}if(2&t){const s=e.MAs(23);let p;e.xp6(4),e.Q6J("formGroup",i.cacheService.filterForm)("ngClass",i.isSearchInputFocused?"border-primary":"border-bluegray-100"),e.xp6(4),e.Q6J("ngIf",i.cacheService.filterForm.controls.searchPhrase.value),e.xp6(3),e.Q6J("routerLink",null!==(p=e.lcZ(12,14,i.catalogCachedRoute$))&&void 0!==p?p:e.DdM(18,ek)),e.xp6(2),e.Q6J("ngIf",e.lcZ(14,16,i.cacheService.applyingAllFilters$)),e.xp6(8),e.Q6J("contentTemplate",s)("isEmpty",!1)("counter",i.cacheService.getTasksCounter())("isCounterLoading",i.cacheService.getTasksLoadingCounter()),e.xp6(15),e.Akn(e.VKq(19,tk,i.allFiltersPanelWidth)),e.Q6J("dismissable",!1),e.xp6(2),e.Q6J("formGroup",i.cacheService.filterForm),e.xp6(31),e.Q6J("ngForOf",i.cacheService.filterForm.controls.fieldFilters.controls)}}}),n})();function nk(n,o){1&n&&e.GkF(0)}function ik(n,o){if(1&n&&(e.TgZ(0,"div",11),e._UZ(1,"app-task-list-element",12),e.qZA()),2&n){const t=o.$implicit;let i;e.Q6J("pDraggable",null!==(i=null==t.currentStage?null:t.currentStage.stageId)&&void 0!==i?i:""),e.xp6(1),e.Q6J("isCommentInput",!0)("item",t)}}function ok(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",9),e.YNc(2,ik,2,3,"div",10),e.qZA(),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(2),e.Q6J("ngForOf",t.content)}}function sk(n,o){if(1&n&&(e.ynx(0),e.YNc(1,nk,1,0,"ng-container",7),e.YNc(2,ok,3,1,"ng-container",8),e.BQk()),2&n){const t=e.oxw(),i=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngIf","READY"===t.cacheService.taskLoadingState)}}function rk(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"p-paginator",14,15),e.NdJ("onPageChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.cacheService.pageControl.setValue(s.page))}),e.qZA()()}if(2&n){const t=o.ngIf,i=e.oxw();let s;e.Q6J("hidden","READY"!==i.cacheService.taskLoadingState),e.xp6(1),e.Q6J("alwaysShow",!0)("rows",15)("showCurrentPageReport",!0)("totalRecords",t.totalElements)("first",15*(null!==(s=i.cacheService.pageControl.value)&&void 0!==s?s:0))}}function ak(n,o){1&n&&e.GkF(0)}function lk(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ak,1,0,"ng-container",7),e.BQk()),2&n){e.oxw(2);const t=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function ck(n,o){1&n&&e.GkF(0)}function uk(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ck,1,0,"ng-container",7),e.BQk()),2&n){e.oxw(2);const t=e.MAs(10);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function dk(n,o){1&n&&e.GkF(0)}function pk(n,o){if(1&n&&(e.ynx(0),e.YNc(1,dk,1,0,"ng-container",7),e.BQk()),2&n){e.oxw(2);const t=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function hk(n,o){if(1&n&&(e.ynx(0,16),e.YNc(1,lk,2,1,"ng-container",17),e.YNc(2,uk,2,1,"ng-container",17),e.YNc(3,pk,2,1,"ng-container",17),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.cacheService.taskLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR")}}function gk(n,o){1&n&&(e.TgZ(0,"div",18),e._UZ(1,"p-progressSpinner",19),e.qZA())}function fk(n,o){1&n&&(e.TgZ(0,"div",20),e._UZ(1,"i",21),e.TgZ(2,"span"),e._uU(3,"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),e.qZA()())}function mk(n,o){1&n&&(e.TgZ(0,"div",22),e._UZ(1,"i",23),e.TgZ(2,"span"),e._uU(3,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e.qZA()())}let q1=(()=>{class n{constructor(t,i){this.route=t,this.cacheService=i,this.subscriptions=new _.xf}ngOnInit(){this.subscriptions.addSubscription("crrRt",(0,Fo.a)([this.route.params]).subscribe(([t])=>this.cacheService.updatePath(t)))}ngAfterViewInit(){}ngOnDestroy(){this.subscriptions.unsubscribeAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.gz),e.Y36(KT))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:13,vars:7,consts:[[4,"ngIf","ngIfElse"],[1,"flex-grow-1"],["class","sticky bottom1",3,"hidden",4,"ngIf"],["statesTemplate",""],["loadingTemplate",""],["emptyTemplate",""],["errorTemplate",""],[4,"ngTemplateOutlet"],[4,"ngIf"],[1,"flex","flex-column","gap-1","border-round-md","shadow-1","overflow-hidden","bg-bluegray-100","h-fit","mb-3"],["class","flex relative",3,"pDraggable",4,"ngFor","ngForOf"],[1,"flex","relative",3,"pDraggable"],[3,"isCommentInput","item"],[1,"sticky","bottom1",3,"hidden"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447","styleClass","panel",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","first","onPageChange"],["paginator",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"flex","flex-grow-1","align-items-center","justify-content-center"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flex","flex-column","flex-grow-1","align-items-center","justify-content-center","text-bluegray-400","text-lg","font-bold"],[1,"mds-search_off"],[1,"flex","flex-column","flex-grow-1","align-items-center","justify-content-center","text-red-400","text-lg","font-bold"],[1,"mdi-error"]],template:function(t,i){if(1&t&&(e.YNc(0,sk,3,2,"ng-container",0),e.ALo(1,"async"),e._UZ(2,"div",1),e.YNc(3,rk,3,6,"div",2),e.ALo(4,"async"),e.YNc(5,hk,4,4,"ng-template",null,3,e.W1O),e.YNc(7,gk,2,0,"ng-template",null,4,e.W1O),e.YNc(9,fk,4,0,"ng-template",null,5,e.W1O),e.YNc(11,mk,4,0,"ng-template",null,6,e.W1O)),2&t){const s=e.MAs(6);e.Q6J("ngIf",e.lcZ(1,3,i.cacheService.tasks$))("ngIfElse",s),e.xp6(3),e.Q6J("ngIf",e.lcZ(4,5,i.cacheService.tasks$))}},dependencies:[Kc.E,S.sg,S.O5,S.tP,S.RF,S.n9,it.G,Dl.D,jo._l,S.Ov],styles:["[_nghost-%COMP%]{flex-grow:1;min-height:100%;display:flex;flex-direction:column}"]}),n})(),_k=(()=>{class n{constructor(t,i){this.personality=t,this.router=i}canActivate(...t){return this.personality.userData$.pipe((0,uh.P)(),(0,gt.U)(i=>this.personality.isHasAccess(...t)||this.router.createUrlTree(["/"])))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(V.F),e.LFG(d.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ta(...n){return(o,t)=>(0,e.f3M)(_k).canActivate(...n)}let $T=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:5,vars:0,consts:[["appExtendPageHeight","",1,"flex","px-3","gap-3","justify-content-center"],[1,"responsive-wrapper","flex","gap-3"],[1,"flex","flex-grow-1","gap-3","mb-3"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e._UZ(4,"router-outlet"),e.qZA()()())}}),n})();var tf=b(1208),yc=b(1110);function Ck(n,o){1&n&&e._UZ(0,"app-employee-label",10),2&n&&e.Q6J("employee",o.$implicit)}function vk(n,o){if(1&n&&(e.TgZ(0,"div",11)(1,"span",6),e._uU(2),e.qZA(),e.TgZ(3,"span",12),e._uU(4),e.qZA(),e._UZ(5,"p-checkbox",13),e.qZA()),2&n){const t=o.$implicit;e.Q6J("formGroup",t),e.xp6(2),e.hij(" ",t.value.name," "),e.xp6(2),e.hij(" ",t.value.count," \u0448\u0442. "),e.xp6(1),e.Q6J("binary",!0)("formControl",t.controls.checked)}}function bk(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",14),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.receiveCheck())}),e.qZA()}}function yk(n,o){if(1&n&&(e.TgZ(0,"div",11)(1,"span",6),e._uU(2),e.qZA(),e.TgZ(3,"span",12),e._uU(4),e.qZA(),e._UZ(5,"p-checkbox",13),e.qZA()),2&n){const t=o.$implicit;e.Q6J("formGroup",t),e.xp6(2),e.hij(" ",t.value.name," "),e.xp6(2),e.hij(" ",t.value.count," \u0448\u0442. "),e.xp6(1),e.Q6J("binary",!0)("formControl",t.controls.checked)}}function xk(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",14),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.archiveCheck())}),e.qZA()}}function Ik(n,o){if(1&n&&(e.TgZ(0,"div",1),e._UZ(1,"app-task-list-element",2),e.TgZ(2,"div",3)(3,"div",4)(4,"span",5),e._uU(5,"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430:"),e.qZA(),e.TgZ(6,"span",6),e._uU(7),e.ALo(8,"date"),e.qZA()(),e.TgZ(9,"div",4)(10,"span",5),e._uU(11,"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438:"),e.qZA(),e.YNc(12,Ck,1,1,"app-employee-label",7),e.qZA(),e.TgZ(13,"div",4)(14,"span",5),e._uU(15,"\u041f\u0440\u0438\u0435\u043c\u043a\u0430:"),e.qZA(),e.YNc(16,vk,6,5,"div",8),e.YNc(17,bk,1,0,"p-button",9),e.ALo(18,"async"),e.qZA(),e.TgZ(19,"div",4)(20,"span",5),e._uU(21,"\u0410\u0440\u0445\u0438\u0432\u0430\u0446\u0438\u044f:"),e.qZA(),e.YNc(22,yk,6,5,"div",8),e.YNc(23,xk,1,0,"p-button",9),e.ALo(24,"async"),e.qZA()()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("item",t.workLog.task)("inlined",!0),e.xp6(6),e.Oqu(e.xi3(8,8,t.workLog.closed,"dd-MM-yyyy HH:mm")),e.xp6(5),e.Q6J("ngForOf",t.workLog.employees),e.xp6(4),e.Q6J("ngForOf",t.receiveContracts.controls),e.xp6(1),e.Q6J("ngIf",e.lcZ(18,11,t.receiveHasChanged$)),e.xp6(5),e.Q6J("ngForOf",t.archiveContracts.controls),e.xp6(1),e.Q6J("ngIf",e.lcZ(24,13,t.archiveHasChanged$))}}let Tk=(()=>{class n{constructor(t,i,s){this.api=t,this.blockService=i,this.personality=s,this.receiveContracts=new f.Oe([]),this.initialReceiveValues=[],this.archiveContracts=new f.Oe([]),this.initialArchiveValues=[],this.receiveHasChanged$=this.receiveContracts.valueChanges.pipe((0,gt.U)(p=>this.hasChangeForm(p,this.initialReceiveValues))),this.archiveHasChanged$=this.archiveContracts.valueChanges.pipe((0,gt.U)(p=>this.hasChangeForm(p,this.initialArchiveValues)))}ngOnInit(){}ngOnChanges(t){const i=t.workLog;this.receiveContracts.clear(),this.archiveContracts.clear(),i&&i.currentValue&&this.personality.userLogin$.pipe((0,uh.P)()).subscribe(s=>{const{concludedContracts:p}=i.currentValue;this.setupControls(p,s)})}receiveCheck(){this.blockService.wait({message:"\u041f\u0440\u0438\u0435\u043c\u043a\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432"}),this.api.markContractsAsReceived(this.receiveContracts.value.filter(t=>this.hasChange(t,this.initialReceiveValues)).map(t=>t.id)).subscribe({next:()=>{this.blockService.unblock()},error:()=>{this.blockService.unblock()}})}archiveCheck(){this.blockService.wait({message:"\u0410\u0440\u0445\u0438\u0432\u0430\u0446\u0438\u044f \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432"}),this.api.markContractsAsArchived(this.archiveContracts.value.filter(t=>this.hasChange(t,this.initialArchiveValues)).map(t=>t.id)).subscribe({next:()=>{this.blockService.unblock()},error:()=>{this.blockService.unblock()}})}hasChangeForm(t,i){return t.reduce((s,p)=>s||this.hasChange(p,i),!1)}hasChange(t,i){var s;return t.checked!==(null===(s=i.find(p=>p.id===t.id))||void 0===s?void 0:s.checked)}setupControls(t,i){this.receiveContracts.clear(),this.archiveContracts.clear();for(let s of t)this.appendReceiveControls(s,i),this.appendArchiveControls(s,i);this.initialReceiveValues=this.receiveContracts.value,this.initialArchiveValues=this.archiveContracts.value}appendReceiveControls(t,i){const s=new f.cw({name:new f.NI(t.typeOfContract.name),id:new f.NI(t.contractId),checked:new f.NI(!!t.received),count:new f.NI(t.count)});(!!t.received||this.loginIsNotInTheList(i,t.typeOfContract.receivers))&&s.disable(),this.receiveContracts.push(s)}appendArchiveControls(t,i){const s=new f.cw({name:new f.NI(t.typeOfContract.name),id:new f.NI(t.contractId),checked:new f.NI(!!t.archived),count:new f.NI(t.count)});(!t.received||!!t.archived||this.loginIsNotInTheList(i,t.typeOfContract.archivers))&&s.disable(),this.archiveContracts.push(s)}loginIsNotInTheList(t,i){return!i.map(s=>s.login).includes(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(Xg.A),e.Y36(V.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-contract-inspection-item"]],inputs:{workLog:"workLog"},features:[e.TTD],decls:1,vars:1,consts:[["class","bg-white flex flex-column pb-2 border-1 border-bluegray-100",4,"ngIf"],[1,"bg-white","flex","flex-column","pb-2","border-1","border-bluegray-100"],[3,"item","inlined"],[1,"flex","flex-column","gap-2","mx-3","mt-3"],[1,"flex","flex-wrap","gap-2","align-items-center"],[1,"text-bluegray-400","font-bold"],[1,"text-bluegray-500"],[3,"employee",4,"ngFor","ngForOf"],["class","p-2 border-round border-1 border-bluegray-100",3,"formGroup",4,"ngFor","ngForOf"],["icon","mdi-check","label","\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c","styleClass","p-button-sm p-button-outlined p-button-success",3,"onClick",4,"ngIf"],[3,"employee"],[1,"p-2","border-round","border-1","border-bluegray-100",3,"formGroup"],[1,"text-primary"],[3,"binary","formControl"],["icon","mdi-check","label","\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c","styleClass","p-button-sm p-button-outlined p-button-success",3,"onClick"]],template:function(t,i){1&t&&e.YNc(0,Ik,25,15,"div",0),2&t&&e.Q6J("ngIf",i.workLog)},dependencies:[S.sg,S.O5,O.zx,f.JJ,f.JL,tf.XZ,f.oH,f.sg,Kc.E,yc.x,S.Ov,S.uU]}),n})();function Ak(n,o){1&n&&(e.TgZ(0,"div",12),e._UZ(1,"p-progressSpinner",13),e.qZA())}function wk(n,o){1&n&&(e.TgZ(0,"div",14),e._UZ(1,"span",15),e.TgZ(2,"span",16),e._uU(3,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()())}function Ek(n,o){1&n&&(e.TgZ(0,"div",17),e._UZ(1,"span",18),e.TgZ(2,"span",16),e._uU(3,"\u041d\u0435\u0442 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432 \u0434\u043b\u044f \u043f\u0440\u0438\u0435\u043c\u043a\u0438"),e.qZA()())}function Sk(n,o){1&n&&e._UZ(0,"app-contract-inspection-item",20),2&n&&e.Q6J("workLog",o.$implicit)}function kk(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Sk,1,1,"app-contract-inspection-item",19),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t.value)}}function Dk(n,o){1&n&&e._UZ(0,"div",21)}function Mk(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5),e.YNc(1,Ak,2,0,"div",6),e.YNc(2,wk,4,0,"div",7),e.YNc(3,Ek,4,0,"div",8),e.YNc(4,kk,2,1,"ng-container",9),e.YNc(5,Dk,1,0,"div",10),e.TgZ(6,"p-paginator",11),e.NdJ("onPageChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.pageControl.setValue(s.page))}),e.qZA()()}if(2&n){const t=o.ngIf,i=e.oxw();let s;e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase",i.LoadingState.LOADING),e.xp6(1),e.Q6J("ngSwitchCase",i.LoadingState.ERROR),e.xp6(1),e.Q6J("ngSwitchCase",i.LoadingState.EMPTY),e.xp6(1),e.Q6J("ngSwitchCase",i.LoadingState.READY),e.xp6(1),e.Q6J("ngIf",t.loadingState===i.LoadingState.READY),e.xp6(1),e.Q6J("hidden",t.loadingState!==i.LoadingState.READY)("first",15*(null!==(s=i.pageControl.value)&&void 0!==s?s:0))("totalRecords",t.totalElements)("alwaysShow",!0)("rows",15)}}class $d{constructor(o,t){this.api=o,this.rt=t,this.LoadingState=he.Gu,this.pageControl=new f.NI(0),this.filterControls=new f.cw({searchQuery:new f.NI("")}),this.enterDown$=this.searchInputKeyDown$.pipe((0,a.h)(i=>"Enter"===i.key),(0,is.O)(null)),this.search$=this.clickSearchButton$.pipe((0,is.O)(null)),this.cleared$=this.clickClearButton$.pipe((0,si.b)(this.clearFilters.bind(this)),(0,is.O)(null)),this.filterValue$=this.filterControls.valueChanges.pipe((0,cn.d)(1)),this.doSearch$=(0,Fo.a)([this.enterDown$,this.search$,this.cleared$]).pipe((0,si.b)(()=>this.pageControl.setValue(0)),(0,gt.U)(()=>this.filterControls.value)),this.controlsChange$=(0,Fo.a)([this.pageControl.valueChanges.pipe((0,is.O)(0)),this.doSearch$]).pipe((0,Is.b)(100)),this.workLogs$=_.aN.ofPageAltAll(this.controlsChange$,this.api.getWorkLogsUnconfirmedContracts.bind(this.api),[this.rt.updatingMarkedContracts()])}ngOnInit(){}clearFilters(){this.filterControls.reset({searchQuery:""})}}$d.\u0275fac=function(o){return new(o||$d)(e.Y36(L.s),e.Y36(de.U))},$d.\u0275cmp=e.Xpm({type:$d,selectors:[["ng-component"]],decls:6,vars:4,consts:[[1,"bg-white","p-3","flex","gap-3","shadow-1","sticky","top-under-panel","border-round","mb-3","z-1",3,"formGroup"],["pInputText","","id","searchInput","formControlName","searchQuery","placeholder","\u041b\u043e\u0433\u0438\u043d / \u0410\u0434\u0440\u0435\u0441 / \u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a...",1,"flex-grow-1"],["pButton","","id","searchButton","icon","mdi-search","label","\u041f\u043e\u0438\u0441\u043a"],["pButton","","id","clearButton","icon","mdi-clear","label","\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c",1,"p-button-secondary","p-button-text"],["class","flex flex-column gap-2 relative h-full",3,"ngSwitch",4,"ngIf"],[1,"flex","flex-column","gap-2","relative","h-full",3,"ngSwitch"],["class","flex align-items-center justify-content-center flex-grow-1",4,"ngSwitchCase"],["class","flex flex-column align-items-center justify-content-center text-red-400 absolute top-50 left-50 -translate-50",4,"ngSwitchCase"],["class","flex flex-column align-items-center justify-content-center text-bluegray-400 absolute top-50 left-50 -translate-50",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","flex-grow-1",4,"ngIf"],["styleClass","shadow-1",1,"sticky","bottom-1rem",3,"hidden","first","totalRecords","alwaysShow","rows","onPageChange"],[1,"flex","align-items-center","justify-content-center","flex-grow-1"],["strokeWidth","2",1,"custom-spinner","custom-spinner-primary","custom-spinner-8xl"],[1,"flex","flex-column","align-items-center","justify-content-center","text-red-400","absolute","top-50","left-50","-translate-50"],[1,"mds-error"],[1,"text-lg","font-bold"],[1,"flex","flex-column","align-items-center","justify-content-center","text-bluegray-400","absolute","top-50","left-50","-translate-50"],[1,"mds-scan_delete"],[3,"workLog",4,"ngFor","ngForOf"],[3,"workLog"],[1,"flex-grow-1"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"input",1)(2,"button",2)(3,"button",3),e.qZA(),e.YNc(4,Mk,7,11,"div",4),e.ALo(5,"async")),2&o&&(e.Q6J("formGroup",t.filterControls),e.xp6(4),e.Q6J("ngIf",e.lcZ(5,2,t.workLogs$)))},dependencies:[Tk,f.Fj,f.JJ,f.JL,S.sg,f.sg,f.u,S.O5,O.Hq,S.RF,S.n9,bi.o,it.G,Dl.D,S.Ov],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;flex-grow:1}"]}),(0,qa.gn)([(0,dl.v4)("searchInput","keydown")],$d.prototype,"searchInputKeyDown$",void 0),(0,qa.gn)([(0,dl.v4)("searchButton","click")],$d.prototype,"clickSearchButton$",void 0),(0,qa.gn)([(0,dl.v4)("clearButton","click")],$d.prototype,"clickClearButton$",void 0);var K_=b(1560);function Ok(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"span",2),e._uU(2),e.qZA(),e._UZ(3,"div",3),e.TgZ(4,"p-button",4),e.NdJ("onClick",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.onEdit.emit({event:s,typeContract:p.typeContract}))}),e.qZA(),e.TgZ(5,"p-button",5),e.NdJ("onClick",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.onDelete.emit({event:s,typeContract:p.typeContract}))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.hij(" ",t.typeContract.name," ")}}let Pk=(()=>{class n{constructor(){this.onEdit=new e.vpe,this.onDelete=new e.vpe}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-contract-item"]],inputs:{typeContract:"typeContract"},outputs:{onEdit:"onEdit",onDelete:"onDelete"},decls:1,vars:1,consts:[["class","flex align-items-center gap-2 p-3",4,"ngIf"],[1,"flex","align-items-center","gap-2","p-3"],[1,"text-bluegray-500","font-bold"],[1,"flex-grow-1"],["icon","mdi-edit","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-sm p-button-outlined p-button-warning",3,"onClick"],["icon","mdi-delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","styleClass","p-button-sm p-button-outlined p-button-danger",3,"onClick"]],template:function(t,i){1&t&&e.YNc(0,Ok,6,1,"div",0),2&t&&e.Q6J("ngIf",i.typeContract)},dependencies:[S.O5,O.zx]}),n})();function Lk(n,o){if(1&n&&e._UZ(0,"app-employee-label",3),2&n){const t=o.$implicit;e.Q6J("size",1.4)("employee",t)}}function Rk(n,o){if(1&n&&e._UZ(0,"app-employee-label",3),2&n){const t=o.$implicit;e.Q6J("size",1.4)("employee",t)}}let Nk=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this._options={},this.employees=[],this.employeesSuggestions=[],this.control=new f.NI([]),this.isDisabled=!1,this.subscriptions=new _.xf,this.onChange=s=>{},this.onTouched=()=>{}}set options(t){this._options=t,this.initEmployeeLoader()}ngOnInit(){this.subscriptions.addSubscription("chg",this.control.valueChanges.subscribe(t=>this.onChange(t||[]))),this.initEmployeeLoader()}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t}writeValue(t){Array.isArray(t)?this.control.setValue(t||[]):this.control.setValue([])}search(t){this.employeesSuggestions=this.employees.filter(i=>{var s;return null===(s=i.fullName)||void 0===s?void 0:s.toLowerCase().includes(t.toLowerCase())})}initEmployeeLoader(){const t=(0,so.T)(this.rt.employeeCreated(),this.rt.employeeUpdated(),this.rt.employeeDeleted()).pipe((0,is.O)(null),(0,R.w)(()=>this.api.getEmployees(void 0,this._options.showDeleted,this._options.showOffsite)));this.subscriptions.addSubscription("employees",t.subscribe(i=>this.employees=i))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-multiply-selector"]],inputs:{options:"options"},features:[e._Bn([{provide:f.JU,useExisting:n,multi:!0}])],decls:3,vars:6,consts:[["appendTo","body","dataKey","login","emptyMessage","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e","placeholder","\u0418\u043c\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430...",3,"autoHighlight","forceSelection","formControl","multiple","showEmptyMessage","suggestions","completeMethod"],["pTemplate","item"],["pTemplate","selectedItem"],[3,"size","employee"]],template:function(t,i){1&t&&(e.TgZ(0,"p-autoComplete",0),e.NdJ("completeMethod",function(p){return i.search(p.query)}),e.YNc(1,Lk,1,2,"ng-template",1),e.YNc(2,Rk,1,2,"ng-template",2),e.qZA()),2&t&&e.Q6J("autoHighlight",!0)("forceSelection",!0)("formControl",i.control)("multiple",!0)("showEmptyMessage",!0)("suggestions",i.employeesSuggestions)},dependencies:[f.JJ,F.jx,f.oH,N.Qc,yc.x]}),n})();function Fk(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-contract-item",15),e.NdJ("onEdit",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.openEditDialog(s))})("onDelete",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.openDeleteDialog(s))}),e.qZA()}2&n&&e.Q6J("typeContract",o.$implicit)}function Bk(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Fk,1,1,"app-contract-item",14),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t.value)}}function Zk(n,o){1&n&&e.GkF(0)}function Uk(n,o){1&n&&e.GkF(0)}const XT=function(){return{showDeleted:!1,showOffsite:!1}};function Hk(n,o){if(1&n&&(e.TgZ(0,"div",16)(1,"app-label",17),e._UZ(2,"input",18),e.qZA(),e.TgZ(3,"app-label",19),e._UZ(4,"textarea",20),e.qZA(),e.TgZ(5,"app-label",21),e._UZ(6,"app-employee-multiply-selector",22),e.qZA(),e.TgZ(7,"app-label",23),e._UZ(8,"app-employee-multiply-selector",24),e.qZA()()),2&n){const t=e.oxw();e.Q6J("formGroup",t.typeContractForm),e.xp6(2),e.Q6J("size",30),e.xp6(2),e.Q6J("autoResize",!0)("rows",4),e.xp6(2),e.Q6J("options",e.DdM(6,XT)),e.xp6(2),e.Q6J("options",e.DdM(7,XT))}}let Vk=(()=>{class n{constructor(t,i,s){this.api=t,this.rt=i,this.confirmService=s,this.typesContracts$=_.aN.of(this.api.getContractTypesList(),"typeOfContractId",this.rt.createTypeOfContract(),this.rt.updateTypeOfContract(),this.rt.deleteTypeOfContract()),this.createDialogVisible=!1,this.editDialogVisible=!1,this.isRequestSending=!1,this.typeContractForm=new f.cw({name:new f.NI("",[f.kI.required,f.kI.minLength(3)]),description:new f.NI(""),receivers:new f.NI([],[f.kI.required,f.kI.minLength(1),f.kI.maxLength(10)]),archivers:new f.NI([],[f.kI.required,f.kI.minLength(1),f.kI.maxLength(10)])})}ngOnInit(){}openCreateDialog(){this.createDialogVisible=!0,this.typeContractForm.reset({name:"",description:"",receivers:[],archivers:[]})}openEditDialog(t){this.editDialogVisible=!0,this.editingContractTypeId=t.typeContract.typeOfContractId,this.typeContractForm.reset({name:t.typeContract.name,description:t.typeContract.description,receivers:t.typeContract.receivers,archivers:t.typeContract.archivers})}openDeleteDialog(t){this.confirmService.confirm({header:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430",message:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0438\u043f \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430?",accept:()=>{this.api.removeContractType(t.typeContract.typeOfContractId).subscribe()}})}createTypeOfContract(){var t,i;this.isRequestSending=!0;const{name:s,description:p,receivers:w,archivers:Q}=this.typeContractForm.value;this.api.createContractType({name:null!=s?s:"",description:null!=p?p:"",receivers:null!==(t=null==w?void 0:w.map(Ce=>Ce.login))&&void 0!==t?t:[],archivers:null!==(i=null==Q?void 0:Q.map(Ce=>Ce.login))&&void 0!==i?i:[]}).subscribe({next:()=>{this.createDialogVisible=!1,this.isRequestSending=!1},error:()=>{this.isRequestSending=!1}})}editTypeOfContract(){var t,i;if(!this.editingContractTypeId)return;this.isRequestSending=!0;const{name:s,description:p,receivers:w,archivers:Q}=this.typeContractForm.value;this.api.updateContractType(this.editingContractTypeId,{name:null!=s?s:"",description:null!=p?p:"",receivers:null!==(t=null==w?void 0:w.map(Ce=>Ce.login))&&void 0!==t?t:[],archivers:null!==(i=null==Q?void 0:Q.map(Ce=>Ce.login))&&void 0!==i?i:[]}).subscribe({next:()=>{this.editDialogVisible=!1,this.isRequestSending=!1},error:()=>{this.isRequestSending=!1}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(F.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:19,vars:13,consts:[[1,"flex","flex-column","text-bluegray-500","bg-white","border-round","shadow-1"],[1,"flex","align-items-center","pt-2","pl-3","pr-2","pb-1","select-none"],[1,"text-lg","text-bluegray-600","font-semibold","mr-3","white-space-nowrap"],[1,"flex-grow-1"],["styleClass","p-button-sm p-button-success","icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"onClick"],[1,"flex","flex-column","p-4"],[4,"ngIf"],["appendTo","body","contentStyleClass","flex flex-column gap-3 max-w-30rem","header","\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430",3,"visible","modal","draggable","dismissableMask","visibleChange"],[4,"ngTemplateOutlet"],[1,"flex","justify-content-end"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success",3,"onClick"],["appendTo","body","contentStyleClass","flex flex-column gap-3 max-w-30rem","header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430",3,"visible","modal","draggable","dismissableMask","visibleChange"],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"onClick"],["typeContractFormTemplate",""],["class","terminated",3,"typeContract","onEdit","onDelete",4,"ngFor","ngForOf"],[1,"terminated",3,"typeContract","onEdit","onDelete"],[1,"flex","flex-column","gap-2",3,"formGroup"],["label","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430"],["pInputText","","formControlName","name",3,"size"],["label","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430"],["pInputTextarea","","formControlName","description",3,"autoResize","rows"],["label","\u041f\u0440\u0438\u0435\u043c\u0449\u0438\u043a\u0438"],["formControlName","receivers",3,"options"],["label","\u0410\u0440\u0445\u0438\u0432\u0430\u0442\u043e\u0440\u044b"],["formControlName","archivers",3,"options"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3,"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0438\u043f\u043e\u0432 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432"),e.qZA(),e._UZ(4,"div",3),e.TgZ(5,"p-button",4),e.NdJ("onClick",function(){return i.openCreateDialog()}),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,Bk,2,1,"ng-container",6),e.ALo(8,"async"),e.qZA()(),e.TgZ(9,"p-dialog",7),e.NdJ("visibleChange",function(p){return i.createDialogVisible=p}),e.YNc(10,Zk,1,0,"ng-container",8),e.TgZ(11,"div",9)(12,"p-button",10),e.NdJ("onClick",function(){return i.createTypeOfContract()}),e.qZA()()(),e.TgZ(13,"p-dialog",11),e.NdJ("visibleChange",function(p){return i.editDialogVisible=p}),e.YNc(14,Uk,1,0,"ng-container",8),e.TgZ(15,"div",9)(16,"p-button",12),e.NdJ("onClick",function(){return i.editTypeOfContract()}),e.qZA()()(),e.YNc(17,Hk,9,8,"ng-template",null,13,e.W1O)),2&t){const s=e.MAs(18);e.xp6(7),e.Q6J("ngIf",e.lcZ(8,11,i.typesContracts$)),e.xp6(2),e.Q6J("visible",i.createDialogVisible)("modal",!0)("draggable",!0)("dismissableMask",!0),e.xp6(1),e.Q6J("ngTemplateOutlet",s),e.xp6(3),e.Q6J("visible",i.editDialogVisible)("modal",!0)("draggable",!0)("dismissableMask",!0),e.xp6(1),e.Q6J("ngTemplateOutlet",s)}},dependencies:[K_._,Pk,Nk,f.Fj,f.JJ,f.JL,S.sg,Ao.V,f.sg,f.u,S.O5,bt.g,O.zx,S.tP,bi.o,S.Ov],styles:["[_nghost-%COMP%]{width:100%}"]}),n})(),eA=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:5,vars:0,consts:[["appExtendPageHeight","",1,"flex","px-3","gap-3"],[1,"flex","gap-3","flex-grow-1"],[1,"flex","flex-grow-1","gap-3","mb-3"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e._UZ(4,"router-outlet"),e.qZA()()())}}),n})();function zk(n,o){1&n&&e.GkF(0)}function Jk(n,o){1&n&&e.GkF(0)}function Qk(n,o){1&n&&e.GkF(0)}function Gk(n,o){if(1&n&&(e.TgZ(0,"div",8),e._UZ(1,"span",9),e.TgZ(2,"span",10),e._uU(3," \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u043c \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434 "),e.qZA(),e._UZ(4,"div",11),e.YNc(5,Qk,1,0,"ng-container",1),e.qZA()),2&n){e.oxw();const t=e.MAs(14);e.xp6(5),e.Q6J("ngTemplateOutlet",t)}}function Wk(n,o){1&n&&e.GkF(0)}function Yk(n,o){if(1&n&&(e.TgZ(0,"div",12),e.YNc(1,Wk,1,0,"ng-container",1),e.qZA()),2&n){e.oxw();const t=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function jk(n,o){1&n&&(e.TgZ(0,"tr")(1,"th",23),e._uU(2,"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a"),e.qZA(),e.TgZ(3,"th",24),e._uU(4,"\u0417\u0430\u0434\u0430\u0447\u0430"),e.qZA(),e.TgZ(5,"th",24),e._uU(6,"\u0422\u0430\u0439\u043c\u0438\u043d\u0433\u0438 \u0441\u0440\u0435\u0434\u043d\u0435\u0435"),e.qZA(),e.TgZ(7,"th",25),e._uU(8,"\u0414\u0435\u043d\u044c\u0433\u0438 \u0441\u0440\u0435\u0434\u043d\u0435\u0435"),e.qZA()(),e.TgZ(9,"tr")(10,"th"),e._uU(11,"\u041a\u043b\u0430\u0441\u0441"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"\u0422\u0438\u043f"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"\u041a\u043e\u043b-\u0432\u043e"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"\u0421\u0440. \u0437\u0430 \u0441\u043c\u0435\u043d\u0443"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"\u041e\u0442\u0434./\u041f\u0440\u0438\u043d."),e.qZA(),e.TgZ(20,"th"),e._uU(21,"\u041e\u0442\u0434./\u0417\u0430\u043a\u0440."),e.qZA(),e.TgZ(22,"th"),e._uU(23,"\u041f\u0440\u0438\u043d./\u0417\u0430\u043a\u0440."),e.qZA(),e.TgZ(24,"th"),e._uU(25,"\u0394 \u041c\u0435\u0436\u0434\u0443 \u0437\u0430\u0434\u0430\u0447\u0430\u043c\u0438"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"\u0417\u0430 \u0441\u043c\u0435\u043d\u0443"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"\u0417\u0430 \u0447\u0430\u0441"),e.qZA(),e.TgZ(30,"th"),e._uU(31,"\u0417\u0430 \u0437\u0430\u0434\u0430\u0447\u0443"),e.qZA()())}function Kk(n,o){1&n&&e.GkF(0)}const qk=function(n){return{employeeRow:n}};function $k(n,o){if(1&n&&e.YNc(0,Kk,1,0,"ng-container",26),2&n){const t=o.$implicit;e.oxw(3);const i=e.MAs(10);e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,qk,t))}}function Xk(n,o){1&n&&(e.TgZ(0,"tr")(1,"td",27),e._uU(2," \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 \u0437\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043d\u0435\u0442 "),e.qZA()()),2&n&&(e.xp6(1),e.uIk("colspan",10))}function eD(n,o){if(1&n&&(e.TgZ(0,"div",14)(1,"p-table",15),e.YNc(2,jk,32,0,"ng-template",16),e.YNc(3,$k,1,4,"ng-template",17),e.YNc(4,Xk,3,1,"ng-template",18),e.qZA(),e.TgZ(5,"div",19)(6,"span",20),e._uU(7," \u041a\u043e\u043b-\u0432\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434 "),e.qZA(),e._UZ(8,"p-chart",21),e.qZA(),e.TgZ(9,"div",19)(10,"span",20),e._uU(11," \u0421\u0440\u0435\u0434\u043d\u0438\u0435 \u0442\u0430\u0439\u043c\u0438\u043d\u0433\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434 "),e.qZA(),e._UZ(12,"p-chart",22),e.qZA(),e.TgZ(13,"div",19)(14,"span",20),e._uU(15," \u0421\u0440\u0435\u0434\u043d\u0438\u0435 \u0434\u0435\u043d\u044c\u0433\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434 "),e.qZA(),e._UZ(16,"p-chart",22),e.qZA()()),2&n){const t=o.ngIf,i=e.oxw(2);e.xp6(1),e.Q6J("value",t.rows),e.xp6(7),e.Q6J("data",t.taskCountChart),e.xp6(4),e.Q6J("data",t.timingsChart)("options",i.timingsChartOptions),e.xp6(4),e.Q6J("data",t.moneyChart)("options",i.moneyChartOptions)}}function tD(n,o){if(1&n&&(e.YNc(0,eD,17,6,"div",13),e.ALo(1,"async")),2&n){const t=e.oxw(),i=e.MAs(12);e.Q6J("ngIf",e.lcZ(1,2,t.statisticsTable$))("ngIfElse",i)}}function nD(n,o){if(1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-employee-label",30),e.qZA()),2&n){const t=e.oxw(2).employeeRow;e.uIk("rowspan",t.employeeRowSpanCount),e.xp6(1),e.Q6J("employee",t.employee)}}function iD(n,o){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).employeeRow;e.uIk("rowspan",t.taskClassRowSpanCount),e.xp6(1),e.Oqu(t.className)}}function oD(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,nD,2,2,"td",28),e.YNc(2,iD,2,2,"td",28),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._UZ(10,"app-duration",29),e.qZA(),e.TgZ(11,"td"),e._UZ(12,"app-duration",29),e.qZA(),e.TgZ(13,"td"),e._UZ(14,"app-duration",29),e.qZA(),e._UZ(15,"td"),e.TgZ(16,"td"),e._uU(17),e.ALo(18,"currency"),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.ALo(21,"currency"),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.ALo(24,"currency"),e.qZA()()),2&n){const t=e.oxw().employeeRow;e.xp6(1),e.Q6J("ngIf",t.employee),e.xp6(1),e.Q6J("ngIf",t.className),e.xp6(2),e.Oqu(t.taskType.name),e.xp6(2),e.Oqu(t.taskType.count),e.xp6(2),e.Oqu(t.taskType.quantityPerShift),e.xp6(2),e.Q6J("ms",t.taskType.timings.givenAndReceived),e.xp6(2),e.Q6J("ms",t.taskType.timings.givenAndClosed),e.xp6(2),e.Q6J("ms",t.taskType.timings.receivedAndClosed),e.xp6(3),e.Oqu(e.xi3(18,11,t.taskType.money.quantityPerShift,"RUB")),e.xp6(3),e.Oqu(e.xi3(21,14,t.taskType.money.quantityPerHour,"RUB")),e.xp6(3),e.Oqu(e.xi3(24,17,t.taskType.money.quantityPerTask,"RUB"))}}function sD(n,o){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).employeeRow;e.xp6(1),e.Oqu(t.className)}}function rD(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,sD,2,1,"td",31),e._UZ(2,"td"),e.TgZ(3,"td",32),e._uU(4),e.qZA(),e.TgZ(5,"td",32),e._uU(6),e.qZA(),e.TgZ(7,"td",32),e._UZ(8,"app-duration",29),e.qZA(),e.TgZ(9,"td",32),e._UZ(10,"app-duration",29),e.qZA(),e.TgZ(11,"td",32),e._UZ(12,"app-duration",29),e.qZA(),e.TgZ(13,"td",32),e._UZ(14,"app-duration",29),e.qZA(),e.TgZ(15,"td",32),e._uU(16),e.ALo(17,"currency"),e.qZA(),e.TgZ(18,"td",32),e._uU(19),e.ALo(20,"currency"),e.qZA(),e.TgZ(21,"td",32),e._uU(22),e.ALo(23,"currency"),e.qZA()()),2&n){const t=e.oxw().employeeRow;e.xp6(1),e.Q6J("ngIf",t.className),e.xp6(3),e.Oqu(t.total.taskCount),e.xp6(2),e.Oqu(t.total.taskQuantityPerShift),e.xp6(2),e.Q6J("ms",t.total.timings.givenAndReceived),e.xp6(2),e.Q6J("ms",t.total.timings.givenAndClosed),e.xp6(2),e.Q6J("ms",t.total.timings.receivedAndClosed),e.xp6(2),e.Q6J("ms",t.total.timings.delayBetween),e.xp6(2),e.Oqu(e.xi3(17,10,t.total.money.quantityPerShift,"RUB")),e.xp6(3),e.Oqu(e.xi3(20,13,t.total.money.quantityPerHour,"RUB")),e.xp6(3),e.Oqu(e.xi3(23,16,t.total.money.quantityPerTask,"RUB"))}}function aD(n,o){if(1&n&&(e.YNc(0,oD,25,20,"tr",28),e.YNc(1,rD,24,19,"tr",28)),2&n){const t=o.employeeRow;e.Q6J("ngIf",t.taskType&&!t.total),e.xp6(1),e.Q6J("ngIf",!t.taskType&&t.total)}}function lD(n,o){1&n&&(e.TgZ(0,"div",33),e._UZ(1,"span",34),e.TgZ(2,"span",35),e._uU(3," \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 "),e.qZA()())}function cD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",36)(1,"app-data-range-input",37),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.statisticsPeriod=s)}),e.qZA(),e._UZ(2,"button",38),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.statisticsPeriod)}}class gh{constructor(o,t){this.api=o,this.blockService=t,this.statisticsPeriod=null,this.statisticsTable$=this.submit$.pipe((0,a.h)(()=>!!this.statisticsPeriod),(0,si.b)(()=>this.blockService.wait({message:"\u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438"})),(0,R.w)(()=>this.api.getEmployeeWorkStatistics({period:this.statisticsPeriod})),(0,si.b)({next:()=>this.blockService.unblock(),error:()=>this.blockService.unblock()}),(0,cn.d)(1)),this.timingsChartOptions={scales:{y:{ticks:{callback:this.amountTimeMapping}}},plugins:{tooltip:{callbacks:{label:i=>{let s=i.dataset.label||"";return s&&(s+=": "),null!==i.parsed.y&&(s+=this.amountTimeMapping(i.parsed.y)),s}}}}},this.moneyChartOptions={scales:{y:{ticks:{callback:(i,s,p)=>i+" \u0440."}}}}}ngOnInit(){}amountTimeMapping(o){const t=Math.floor(o/36e5),i=Math.floor((o-36e5*t)/6e4),s=Math.floor((o-36e5*t-6e4*i)/1e3);let p="";return t&&(p+=t+" \u0447."),i&&(p+=i+" \u043c\u0438\u043d."),!t&&s&&(p+=s+" \u0441\u0435\u043a."),!t&&!i&&!s&&(p+=o+" \u043c\u0441."),p}}gh.\u0275fac=function(o){return new(o||gh)(e.Y36(L.s),e.Y36(Xg.A))},gh.\u0275cmp=e.Xpm({type:gh,selectors:[["ng-component"]],decls:15,vars:2,consts:[[1,"flex","flex-column","bg-white","border-round","shadow-1","w-full","h-full","text-bluegray-500"],[4,"ngTemplateOutlet"],["titleTemplate",""],["contentTemplate",""],["statisticsTableTemplate",""],["taskStatisticsRowTemplate",""],["emptyTableTemplate",""],["periodStatisticsFormTemplate",""],[1,"flex","align-items-center","pl-4","pt-2","pr-2","pb-2","gap-2","border-bottom-1","border-bluegray-100"],[1,"mdi-work_history"],[1,"text-xl","font-semibold"],[1,"flex-grow-1"],[1,"flex","flex-column","gap-2","flex-grow-1"],["class","flex flex-column gap-3",4,"ngIf","ngIfElse"],[1,"flex","flex-column","gap-3"],[3,"value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"flex","flex-column","p-4","align-self-center"],[1,"font-bold","text-bluegray-500","text-lg"],["type","bar","width","1000px",3,"data"],["type","bar","width","1000px",3,"data","options"],["rowspan","2"],["colspan","4"],["colspan","3"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"text-bluegray-400","text-center","font-bold"],[4,"ngIf"],[3,"ms"],[3,"employee"],["class","font-bold",4,"ngIf"],[1,"font-bold"],[1,"text-bluegray-400","flex","flex-column","align-items-center","justify-content-center","w-full","h-full"],[1,"mds-date_range"],[1,"max-w-20rem","text-2xl","font-semibold","text-center"],[1,"flex","gap-2","p-2","border-round-xl","border-1","border-bluegray-100"],[3,"ngModel","ngModelChange"],["pButton","","label","\u0421\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c","id","submitButton"]],template:function(o,t){if(1&o&&(e.TgZ(0,"div",0),e.YNc(1,zk,1,0,"ng-container",1),e.YNc(2,Jk,1,0,"ng-container",1),e.qZA(),e.YNc(3,Gk,6,1,"ng-template",null,2,e.W1O),e.YNc(5,Yk,2,1,"ng-template",null,3,e.W1O),e.YNc(7,tD,2,4,"ng-template",null,4,e.W1O),e.YNc(9,aD,2,2,"ng-template",null,5,e.W1O),e.YNc(11,lD,4,0,"ng-template",null,6,e.W1O),e.YNc(13,cD,3,1,"ng-template",null,7,e.W1O)),2&o){const i=e.MAs(4),s=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s)}},styles:["[_nghost-%COMP%]{flex-grow:1}"]}),(0,qa.gn)([(0,dl.v4)("submitButton","click")],gh.prototype,"submit$",void 0);let tA=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:5,vars:0,consts:[["appExtendPageHeight","",1,"flex","px-3","gap-3"],[1,"flex","gap-3","flex-grow-1"],[1,"flex","flex-grow-1","mb-3"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e._UZ(4,"router-outlet"),e.qZA()()())}}),n})();const uD={q:"\u0439",w:"\u0446",e:"\u0443",r:"\u043a",t:"\u0435",y:"\u043d",u:"\u0433",i:"\u0448",o:"\u0449",p:"\u0437","[":"\u0445","]":"\u044a",a:"\u0444",s:"\u044b",d:"\u0432",f:"\u0430",g:"\u043f",h:"\u0440",j:"\u043e",k:"\u043b",l:"\u0434",";":"\u0436","'":"\u044d",z:"\u044f",x:"\u0447",c:"\u0441",v:"\u043c",b:"\u0438",n:"\u0442",m:"\u044c",",":"\u0431",".":"\u044e",Q:"\u0419",W:"\u0426",E:"\u0423",R:"\u041a",T:"\u0415",Y:"\u041d",U:"\u0413",I:"\u0428",O:"\u0429",P:"\u0417","{":"\u0425","}":"\u042a",A:"\u0424",S:"\u042b",D:"\u0412",F:"\u0410",G:"\u041f",H:"\u0420",J:"\u041e",K:"\u041b",L:"\u0414",":":"\u0416",'"':"\u042d",Z:"\u042f",X:"\u0427",C:"\u0421",V:"\u041c",B:"\u0418",N:"\u0422",M:"\u042c","<":"\u0411",">":"\u042e"};class nA{static translate(o){let t="";for(let i=0;i<o.length;i++)t+=uD[o[i]]||o[i];return t}}var Ml=b(4500);const dD=function(n){return["/topology","house",n]},pD=function(n,o){return{highlighted:n,"hover:text-primary hover:border-primary cursor-pointer":o}};function hD(n,o){if(1&n&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("routerLink",e.VKq(3,dD,t.buildingId))("ngClass",e.WLB(5,pD,t.highlighted,t.highlighted)),e.xp6(1),e.hij(" ",t.houseNum," ")}}const gD=function(n){return{highlighted:n}};function fD(n,o){if(1&n&&(e.TgZ(0,"div",8)(1,"span",9),e._uU(2),e.qZA(),e.TgZ(3,"div",10),e.YNc(4,hD,2,8,"span",11),e.qZA()()),2&n){const t=o.$implicit;e.Q6J("ngClass",e.VKq(3,gD,t.highlighted)),e.xp6(2),e.hij(" ",t.streetName," "),e.xp6(2),e.Q6J("ngForOf",t.houses)}}function mD(n,o){if(1&n&&(e.TgZ(0,"div",6),e.YNc(1,fD,5,5,"div",7),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function _D(n,o){1&n&&e._UZ(0,"p-skeleton",17)}function CD(n,o){if(1&n&&(e.TgZ(0,"div",14),e._UZ(1,"p-skeleton",15),e.TgZ(2,"div",10),e.YNc(3,_D,1,0,"p-skeleton",16),e.qZA()()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("width",t.stWidth+"px"),e.xp6(2),e.Q6J("ngForOf",t.houses)}}function vD(n,o){if(1&n&&(e.TgZ(0,"div",6),e.YNc(1,CD,4,2,"div",13),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.topologyLoadingSkeleton)}}class nf{constructor(o){this.api=o,this.searchQuery$=this.search$.pipe((0,gt.U)(t=>t.target.value),(0,is.O)("")),this.topology$=this.api.getTopology().pipe((0,cn.d)(1),(0,Xl.z)(t=>this.searchQuery$.pipe((0,gt.U)(i=>{if(!i||0==(i=i.trim().toLowerCase()).length)return t.map(w=>(w.highlighted=!0,w.houses.forEach(Q=>Q.highlighted=!0),w));const s=(i=nA.translate(i)).split(" "),p=t.map(w=>{const Q=w.houses.filter(Ce=>s.some(qe=>Ce.houseNum.toLowerCase().includes(qe)));return w.highlighted=Q.length>0&&1===s.length||s.some(Ce=>w.streetName.toLowerCase().includes(Ce)),w.houses.forEach(Ce=>Ce.highlighted=Q.some(qe=>qe.buildingId===Ce.buildingId)),w}).sort((w,Q)=>w.highlighted?-1:Q.highlighted?1:0);return p.filter(w=>w.highlighted&&w.houses.every(Q=>!Q.highlighted)).forEach(w=>w.houses.forEach(Q=>Q.highlighted=!0)),p})))),this.topologyLoadingSkeleton=_.mQ}ngOnInit(){}}nf.\u0275fac=function(o){return new(o||nf)(e.Y36(L.s))},nf.\u0275cmp=e.Xpm({type:nf,selectors:[["ng-component"]],decls:9,vars:4,consts:[[1,"flex","flex-column","gap-3"],[1,"flex","gap-3","border-round-2xl","bg-white","shadow-1","align-items-center","py-2","px-3","sticky","top-under-panel"],[1,"text-2xl","text-bluegray-500","font-semibold"],["id","searchInput","pInputText","","placeholder","\u041d\u0430\u0439\u0442\u0438 \u0434\u043e\u043c..."],["class","flex flex-column gap-1 cursor-default p-3 bg-white border-round-2xl shadow-1",4,"ngIf","ngIfElse"],["topologyLoadingTemplate",""],[1,"flex","flex-column","gap-1","cursor-default","p-3","bg-white","border-round-2xl","shadow-1"],["class","flex align-items-center gap-2 text-sm topology",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","align-items-center","gap-2","text-sm","topology",3,"ngClass"],[1,"white-space-nowrap","font-bold"],[1,"flex","flex-wrap","gap-1"],["class","border-1 border-bluegray-100 p-1 border-round topology",3,"routerLink","ngClass",4,"ngFor","ngForOf"],[1,"border-1","border-bluegray-100","p-1","border-round","topology",3,"routerLink","ngClass"],["class","flex align-items-center gap-2 text-sm",4,"ngFor","ngForOf"],[1,"flex","align-items-center","gap-2","text-sm"],[3,"width"],["width","23px","height","1.5rem",4,"ngFor","ngForOf"],["width","23px","height","1.5rem"]],template:function(o,t){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3,"\u0422\u043e\u043f\u043e\u043b\u043e\u0433\u0438\u044f \u0434\u043e\u043c\u043e\u0432"),e.qZA(),e._UZ(4,"input",3),e.qZA(),e.YNc(5,mD,2,1,"div",4),e.ALo(6,"async"),e.qZA(),e.YNc(7,vD,2,1,"ng-template",null,5,e.W1O)),2&o){const i=e.MAs(8);e.xp6(5),e.Q6J("ngIf",e.lcZ(6,2,t.topology$))("ngIfElse",i)}},dependencies:[d.rH,S.sg,S.O5,bi.o,S.mk,Ml.O,S.Ov],styles:[".topology[_ngcontent-%COMP%]:not(.highlighted){opacity:.2}"]}),(0,qa.gn)([(0,dl.v4)("searchInput","input")],nf.prototype,"search$",void 0);var Qx=b(8508);let Gx=(()=>{class n{constructor(){this.appPreventInput=!1}onKeyDown(t){this.appPreventInput&&t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","appPreventInput",""]],hostBindings:function(t,i){1&t&&e.NdJ("keydown",function(p){return i.onKeyDown(p)})},inputs:{appPreventInput:"appPreventInput"}}),n})();var iA=b(8322),fh=b(242),q_=b(7102),$_=b(657);let Wx=(()=>{class n{transform(t,i,s,p){return _.cQ.declineOfNumber(t,[i,s,p])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"decline",type:n,pure:!0}),n})();function bD(n,o){if(1&n&&(e.TgZ(0,"span",26),e._uU(1),e.ALo(2,"decline"),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.AsE("\u041d\u0430\u0439\u0434\u0435\u043d\u043e: ",t.totalElements," ",e.gM2(2,2,t.totalElements,"\u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440","\u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430","\u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u043e\u0432"),"")}}function yD(n,o){1&n&&e.GkF(0)}function xD(n,o){if(1&n&&(e.ynx(0),e.YNc(1,yD,1,0,"ng-container",27),e.BQk()),2&n){e.oxw(2);const t=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}const ID=function(n){return{commutator:n}};function TD(n,o){if(1&n&&e.GkF(0,31),2&n){const t=o.$implicit;e.oxw(3);const i=e.MAs(5);e.Q6J("ngTemplateOutletContext",e.VKq(2,ID,t))("ngTemplateOutlet",i)}}function AD(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",28),e.YNc(2,TD,1,4,"ng-container",29),e.qZA(),e.TgZ(3,"p-paginator",30),e.NdJ("onPageChange",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.changeCommutatorPage.next(s.page))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().ngIf,i=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.value)("ngForTrackBy",i.trackByCommutator),e.xp6(1),e.Q6J("first",15*i.pageNum)("rows",15)("totalRecords",t.totalElements)}}function wD(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",32),e._UZ(2,"span",33),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()(),e.BQk())}function ED(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",34),e._UZ(2,"span",35),e.TgZ(3,"span"),e._uU(4,"\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u043e\u0432 \u043d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043d\u043e"),e.qZA()(),e.BQk())}function SD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",10)(2,"div",11),e._UZ(3,"span",12),e.TgZ(4,"div",13)(5,"span"),e._uU(6,"\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u044b"),e.qZA(),e.TgZ(7,"p-button",14),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openCreateCommutatorDialog())}),e.qZA()(),e.YNc(8,bD,3,7,"span",15),e.qZA(),e.ynx(9,16),e.YNc(10,xD,2,1,"ng-container",17),e.YNc(11,AD,4,5,"ng-container",17),e.YNc(12,wD,5,0,"ng-container",17),e.YNc(13,ED,5,0,"ng-container",17),e.BQk(),e.qZA(),e.TgZ(14,"div",18)(15,"span",19),e._UZ(16,"span",20),e._uU(17," \u0424\u0438\u043b\u044c\u0442\u0440\u044b"),e.qZA(),e.TgZ(18,"div",21),e._UZ(19,"input",22)(20,"input",23)(21,"app-address-input-alt",24),e.qZA(),e.TgZ(22,"p-button",25),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.commutatorFilterForm.reset())}),e.qZA()()()}if(2&n){const t=o.ngIf,i=e.oxw();e.xp6(7),e.Q6J("disabled",!i.personality.isHasAccess(i.AccessFlag.EDIT_SWITCH)),e.xp6(1),e.Q6J("ngIf",t.totalElements),e.xp6(1),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Udp("top","calc(var(--top-panel-height) + 1.5rem)"),e.Q6J("formGroup",i.commutatorFilterForm),e.xp6(4),e.Q6J("formGroup",i.commutatorFilterForm),e.xp6(1),e.Q6J("appPreventInput","LOADING"===t.loadingState),e.xp6(1),e.Q6J("appPreventInput","LOADING"===t.loadingState),e.xp6(1),e.Q6J("appPreventInput","LOADING"===t.loadingState)("isAcpConnected",!0)("isHouseOnly",!0)}}function kD(n,o){1&n&&(e.TgZ(0,"div",36),e._UZ(1,"p-progressSpinner",37),e.qZA())}function DD(n,o){if(1&n&&e._UZ(0,"span",49),2&n){const t=e.oxw().commutator;e.Q6J("pTooltip",t.errorMessage)}}const MD=function(n,o){return{"text-bluegray-300":n,"text-primary-400":o}};function OD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"div",40),e._UZ(3,"span",41),e.TgZ(4,"span",42),e._uU(5),e.qZA(),e.TgZ(6,"span",43),e._uU(7),e.qZA()(),e.TgZ(8,"div",44)(9,"span"),e._uU(10),e.qZA(),e.TgZ(11,"span",45),e._uU(12),e.qZA()()(),e.YNc(13,DD,1,1,"span",46),e.TgZ(14,"p-button",47),e.NdJ("onClick",function(){const p=e.CHM(t).commutator,w=e.oxw();return e.KtG(w.openCommutatorViewDialog(p))}),e.qZA(),e.TgZ(15,"p-button",48),e.NdJ("onClick",function(s){const w=e.CHM(t).commutator,Q=e.oxw(),Ce=e.MAs(9);return Q.openContextMenu(w),e.KtG(Ce.toggle(s))}),e.qZA()()}if(2&n){const t=o.commutator;e.xp6(3),e.Q6J("ngClass",t.isOnline?"bg-green-400":"bg-red-400"),e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngClass",e.WLB(7,MD,1===t.type,2===t.type)),e.xp6(1),e.Oqu(1===t.type?"L2":"L3"),e.xp6(3),e.Oqu(t.ip),e.xp6(2),e.Oqu(t.model),e.xp6(1),e.Q6J("ngIf",t.isHasError)}}function PD(n,o){if(1&n&&e._UZ(0,"app-commutator-view",51),2&n){const t=e.oxw(2);e.Q6J("commutator",t.selectedToViewCommutator)}}function LD(n,o){1&n&&(e.TgZ(0,"div")(1,"div",32),e._UZ(2,"span",33),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()()())}function RD(n,o){1&n&&(e.TgZ(0,"div")(1,"div",34),e._UZ(2,"span",35),e.TgZ(3,"span"),e._uU(4,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0435 \u043d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043d\u043e"),e.qZA()()())}function ND(n,o){1&n&&(e.TgZ(0,"div")(1,"div",36),e._UZ(2,"p-progressSpinner",52),e.qZA()())}function FD(n,o){if(1&n&&(e.ynx(0,16),e.YNc(1,PD,1,1,"app-commutator-view",50),e.YNc(2,LD,5,0,"div",17),e.YNc(3,RD,5,0,"div",17),e.YNc(4,ND,3,0,"div",17),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.commutatorInfoLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING")}}function BD(n,o){1&n&&(e.TgZ(0,"span",53),e._uU(1,"\u0410\u0434\u0440\u0435\u0441 \u043d\u0435 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d"),e.qZA())}function ZD(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}function UD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",71),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.editCommutator())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",t.commutatorFormErrors.length>0||!t.commutatorForm.dirty)("loading",t.beginCommutatorsEditing)}}function HD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",72),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createCommutator())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",!t.commutatorForm.valid)("loading",t.beginCommutatorsEditing)}}const VD=function(){return{label:"L2",value:1}},zD=function(){return{label:"L3",value:2}},JD=function(n,o){return[n,o]},oA=function(){return[]};function QD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",54)(1,"div",21)(2,"div",55),e._UZ(3,"p-selectButton",56),e.TgZ(4,"div",57)(5,"label"),e._uU(6,"\u041c\u043e\u0434\u0435\u043b\u044c"),e.qZA(),e.TgZ(7,"p-autoComplete",58),e.NdJ("completeMethod",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.commutatorModelQueryChange.next(s.query))})("onClear",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.commutatorForm.controls.model.setValue(null))}),e.ALo(8,"async"),e.qZA()()(),e.TgZ(9,"div",55)(10,"div",57)(11,"label"),e._uU(12,"\u0418\u043c\u044f"),e.qZA(),e._UZ(13,"input",59),e.qZA(),e.TgZ(14,"div",57)(15,"label"),e._uU(16,"IP-\u0430\u0434\u0440\u0435\u0441"),e.qZA(),e._UZ(17,"app-ip-input",60),e.qZA()(),e.TgZ(18,"div",55)(19,"div",57)(20,"label"),e._uU(21,"\u0410\u0434\u0440\u0435\u0441"),e.qZA(),e._UZ(22,"app-address-input-alt",61),e.qZA(),e.TgZ(23,"div",57)(24,"label"),e._uU(25,"\u041f\u043e\u0434\u044a\u0435\u0437\u0434"),e.qZA(),e._UZ(26,"p-inputNumber",62),e.qZA(),e.TgZ(27,"div",57)(28,"label"),e._uU(29,"\u042d\u0442\u0430\u0436"),e.qZA(),e._UZ(30,"p-inputNumber",63),e.qZA()(),e.TgZ(31,"div",55)(32,"div",57)(33,"label"),e._uU(34,"Uplink"),e.qZA(),e.TgZ(35,"p-autoComplete",64),e.NdJ("completeMethod",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.commutatorUplinkQuerySearch.next(s.query))})("onClear",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.commutatorForm.controls.uplink.setValue(null))}),e.ALo(36,"async"),e.qZA()(),e.TgZ(37,"div",57)(38,"label"),e._uU(39,"Nagios"),e.qZA(),e._UZ(40,"p-inputSwitch",65),e.qZA(),e.TgZ(41,"div",57)(42,"label"),e._uU(43,"SMS"),e.qZA(),e._UZ(44,"p-inputSwitch",66),e.qZA()()(),e.TgZ(45,"div",67),e.YNc(46,ZD,2,1,"span",68),e.qZA(),e.YNc(47,UD,1,2,"p-button",69),e.YNc(48,HD,1,2,"ng-template",null,70,e.W1O),e.qZA()}if(2&n){const t=e.MAs(49),i=e.oxw();let s,p;e.xp6(1),e.Q6J("formGroup",i.commutatorForm),e.xp6(2),e.Q6J("options",e.WLB(26,JD,e.DdM(24,VD),e.DdM(25,zD))),e.xp6(4),e.Q6J("showClear",!0)("suggestions",null!==(s=e.lcZ(8,20,i.commutatorModels$))&&void 0!==s?s:e.DdM(29,oA)),e.xp6(6),e.Q6J("pKeyFilter",i.commutatorNameKeyFilter)("size",35),e.xp6(9),e.Q6J("isAcpConnected",!0)("isHouseOnly",!0),e.xp6(4),e.Q6J("max",99)("min",0)("size",2),e.xp6(4),e.Q6J("max",99)("min",0)("size",2),e.xp6(5),e.Q6J("showClear",!0)("size",40)("suggestions",null!==(p=e.lcZ(36,22,i.commutatorUplinks$))&&void 0!==p?p:e.DdM(30,oA)),e.xp6(11),e.Q6J("ngForOf",i.commutatorFormErrors),e.xp6(1),e.Q6J("ngIf",i.editableSwitch)("ngIfElse",t)}}let GD=(()=>{class n{constructor(t,i,s,p){this.api=t,this.rt=i,this.personality=s,this.confirm=p,this.AccessFlag=Ii.j,this.pageNum=0,this.commutatorFilterForm=new f.cw({name:new f.NI(null),ip:new f.NI(null),address:new f.NI(null)}),this.changeFilterForm$=this.commutatorFilterForm.valueChanges.pipe((0,is.O)(this.commutatorFilterForm.value),(0,Is.b)(1e3),(0,si.b)(()=>this.pageNum=0)),this.changeCommutatorPage=new $a.X(0),this.page$=this.changeCommutatorPage.pipe((0,si.b)(w=>this.pageNum=w)),this.loadingState=he.Gu.LOADING,this.changePageOrFilters$=(0,Fo.a)([this.page$,this.changeFilterForm$]).pipe((0,gt.U)(([w,Q])=>{var Ce,qe;return[this.pageNum,Q.name,Q.ip,null===(qe=null===(Ce=Q.address)||void 0===Ce?void 0:Ce.acpHouseBind)||void 0===qe?void 0:qe.buildingId]})),this.commutatorPage$=_.aN.ofPageAlt(this.changePageOrFilters$,this.api.getCommutators.bind(this.api),"id",this.rt.acpBaseCommutatorCreated(),this.rt.acpBaseCommutatorUpdated(),this.rt.acpBaseCommutatorDeleted()),this.commutatorDialogVisible=!1,this.commutatorModelQueryChange=new mr.x,this.commutatorModels$=this.commutatorModelQueryChange.pipe((0,Is.b)(1e3),(0,R.w)(w=>this.api.getCommutatorModels(w)),(0,cn.d)(1)),this.commutatorNameKeyFilter=/^[^\u0410-\u044f ]+$/,this.commutatorUplinkQuerySearch=new mr.x,this.commutatorUplinks$=this.commutatorUplinkQuerySearch.pipe((0,Is.b)(1e3),(0,R.w)(w=>this.api.searchCommutators(w)),(0,gt.U)(w=>w.filter(Q=>{var Ce;return Q.value!==(null===(Ce=this.editableSwitch)||void 0===Ce?void 0:Ce.id)})),(0,cn.d)(1)),this.beginCommutatorsEditing=!1,this.contextMenuItems=[],this.commutatorViewDialogVisible=!1,this.commutatorInfoLoadingState=he.Gu.LOADING,this.subscriptions=new _.xf,this.commutatorNameValidator=w=>(0,Tn.of)(w.value).pipe((0,en.g)(700),(0,R.w)(()=>this.api.checkCommutatorNameExist(w.value)),(0,gt.U)(Q=>Q?{nameAlreadyExists:!0}:null)),this.commutatorIpValidator=w=>(0,Tn.of)(w.value).pipe((0,en.g)(700),(0,R.w)(()=>this.api.checkCommutatorIpExist(w.value)),(0,gt.U)(Q=>Q?{ipAlreadyExists:!0}:null)),this.commutatorForm=new f.cw({type:new f.NI(1,[f.kI.required]),model:new f.NI(null,[f.kI.required]),name:new f.NI(null,[f.kI.required],[this.commutatorNameValidator]),ipaddr:new f.NI(null,[f.kI.required],[this.commutatorIpValidator]),address:new f.NI(null,[f.kI.required]),entrance:new f.NI(0,[f.kI.required]),floor:new f.NI(0,[f.kI.required]),uplink:new f.NI(null,[f.kI.required]),nagios:new f.NI(!1),sms:new f.NI(!1)})}get commutatorFormErrors(){return Object.entries(this.commutatorForm.controls).flatMap(([t,i])=>i.dirty?null===i.errors?[]:Object.entries(i.errors).map(([s,p])=>{switch(t){case"model":if("required"===s)return"\u041c\u043e\u0434\u0435\u043b\u044c \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u0430";break;case"name":if("required"===s)return"\u0418\u043c\u044f \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e";if("nameAlreadyExists"===s)return"\u0418\u043c\u044f \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442";break;case"ipaddr":if("required"===s)return"IP-\u0430\u0434\u0440\u0435\u0441 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d";if("ipAlreadyExists"===s)return"IP-\u0430\u0434\u0440\u0435\u0441 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442";break;case"address":if("required"===s)return"\u0410\u0434\u0440\u0435\u0441 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d";break;case"uplink":if("required"===s)return"Uplink \u043d\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d"}return t+": \u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430"}):[])}get commutatorFormValue(){var t;const{type:i,model:s,name:p,ipaddr:w,address:Q,entrance:Ce,floor:qe,uplink:$e,nagios:$t,sms:jt}=this.commutatorForm.value;return{swtype:i,swmodelId:null==s?void 0:s.id,name:p,ipaddr:w,buildId:null===(t=null==Q?void 0:Q.acpHouseBind)||void 0===t?void 0:t.buildingId,entrance:Ce,storey:qe,phyUplinkId:null==$e?void 0:$e.value,enableMonitor:$t?1:0,enableSms:jt?1:0}}openContextMenu(t){this.contextMenuItems=[{label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",icon:"mdi-edit",disabled:!this.personality.isHasAccess(Ii.j.EDIT_SWITCH),command:()=>this.openEditCommutatorDialog(t.id)},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",styleClass:"danger-menu-button",icon:"mdi-delete",disabled:!this.personality.isHasAccess(Ii.j.EDIT_SWITCH),command:()=>this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c "+t.name+" \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440?",accept:()=>this.deleteCommutator(t.id)})},{label:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",icon:"mdi-sync",command:()=>this.commutatorRemoteUpdate(t.id)}]}trackByCommutator(t,i){return i.id+i.ip+i.name+i.model+i.isOnline}ngOnInit(){this.subscriptions.addSubscription("updCom",this.rt.acpCommutatorUpdated().subscribe(t=>{var i;t.id===(null===(i=this.selectedToViewCommutator)||void 0===i?void 0:i.id)&&(this.selectedToViewCommutator=t)}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}openCreateCommutatorDialog(){this.commutatorDialogVisible=!0,this.editableSwitch=void 0,this.commutatorForm=new f.cw({type:new f.NI(1,[f.kI.required]),model:new f.NI(null,[f.kI.required]),name:new f.NI(null,[f.kI.required],[this.commutatorNameValidator]),ipaddr:new f.NI(null,[f.kI.required],[this.commutatorIpValidator]),address:new f.NI(null,[f.kI.required]),entrance:new f.NI(0,[f.kI.required]),floor:new f.NI(0,[f.kI.required]),uplink:new f.NI(null,[f.kI.required]),nagios:new f.NI(!1),sms:new f.NI(!1)})}openEditCommutatorDialog(t){this.api.getCommutatorEditingPreset(t).subscribe(i=>{this.commutatorForm=new f.cw({type:new f.NI(i.targetCommutator.swtype,[f.kI.required]),model:new f.NI(i.model,[f.kI.required]),name:new f.NI(i.targetCommutator.name,[f.kI.required],[this.commutatorNameValidator]),ipaddr:new f.NI(i.targetCommutator.ipaddr,[f.kI.required],[this.commutatorIpValidator]),address:new f.NI(i.address,[f.kI.required]),entrance:new f.NI(i.targetCommutator.entrance,[f.kI.required]),floor:new f.NI(i.targetCommutator.storey,[f.kI.required]),uplink:new f.NI(i.uplinkCommutator,[f.kI.required]),nagios:new f.NI(1===i.targetCommutator.enableMonitor),sms:new f.NI(1===i.targetCommutator.enableSms)}),this.commutatorDialogVisible=!0,this.editableSwitch=i.targetCommutator})}editCommutator(){void 0!==this.editableSwitch&&(this.beginCommutatorsEditing=!0,this.commutatorForm.disable({emitEvent:!1}),this.api.editCommutator(this.editableSwitch.id,this.commutatorFormValue).subscribe({next:()=>{this.commutatorDialogVisible=!1,this.beginCommutatorsEditing=!1,this.commutatorForm.enable({emitEvent:!1})},error:()=>{this.beginCommutatorsEditing=!1,this.commutatorForm.enable({emitEvent:!1})}}))}createCommutator(){this.beginCommutatorsEditing=!0,this.commutatorForm.disable({emitEvent:!1}),this.api.createCommutator(this.commutatorFormValue).subscribe({next:()=>{this.commutatorDialogVisible=!1,this.beginCommutatorsEditing=!1,this.commutatorForm.enable({emitEvent:!1})},error:()=>{this.beginCommutatorsEditing=!1,this.commutatorForm.enable({emitEvent:!1})}})}deleteCommutator(t){this.api.deleteCommutator(t).subscribe()}commutatorRemoteUpdate(t){return this.api.commutatorRemoteUpdate(t).subscribe()}openCommutatorViewDialog(t){this.selectedToViewCommutator=void 0,this.commutatorInfoLoadingState=he.Gu.LOADING,this.commutatorViewDialogVisible=!0,this.api.getCommutator(t.id).subscribe({next:i=>{var s;null!==(s=null==i?void 0:i.commutator)&&void 0!==s&&s.additionalInfo?(this.commutatorInfoLoadingState=he.Gu.READY,this.selectedToViewCommutator=i.commutator):this.commutatorInfoLoadingState=he.Gu.EMPTY},error:()=>{this.commutatorInfoLoadingState=he.Gu.ERROR}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(V.F),e.Y36(F.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:14,vars:15,consts:[["class","flex gap-3",4,"ngIf","ngIfElse"],["loading",""],["commutatorItem",""],[3,"visible","dismissableMask","header","resizable","visibleChange"],["pTemplate","content"],["appendTo","body",3,"model","popup"],["contextMenu",""],["noAddress",""],[3,"visible","dismissableMask","header","modal","resizable","visibleChange"],[1,"flex","gap-3"],[1,"flex","flex-column","flex-grow-1","panel"],[1,"flex","align-items-center","gap-2","border-bluegray-100","border-bottom-1","text-bluegray-400","text-lg","font-bold","px-3","py-2"],[1,"mdi-dns"],[1,"flex","flex-grow-1","align-items-center","gap-2"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-text p-button-success",3,"disabled","onClick"],["class","text-sm text-primary-400",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"flex","flex-column","p-3","gap-3","align-items-end","h-min","panel","sticky",3,"formGroup"],[1,"text-bluegray-400","text-lg","font-bold","flex","align-items-center","align-self-start"],[1,"mdi-filter_alt"],[1,"flex","flex-column","gap-3",3,"formGroup"],["formControlName","name","pInputText","","placeholder","\u0418\u043c\u044f","type","text",3,"appPreventInput"],["formControlName","ip","pInputText","","placeholder","IP-\u0430\u0434\u0440\u0435\u0441","type","text",3,"appPreventInput"],["formControlName","address",3,"appPreventInput","isAcpConnected","isHouseOnly"],["icon","mdi-filter_alt_off","label","\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c","styleClass","p-button-secondary p-button-text",3,"onClick"],[1,"text-sm","text-primary-400"],[4,"ngTemplateOutlet"],[1,"flex","flex-column","flex-grow-1"],[3,"ngTemplateOutletContext","ngTemplateOutlet",4,"ngFor","ngForOf","ngForTrackBy"],[3,"first","rows","totalRecords","onPageChange"],[3,"ngTemplateOutletContext","ngTemplateOutlet"],[1,"flex","flex-column","flex-grow-1","text-red-400","font-bold","text-lg","align-items-center","justify-content-center"],[1,"mds-error"],[1,"flex","flex-column","flex-grow-1","text-bluegray-400","font-bold","text-lg","align-items-center","justify-content-center"],[1,"mds-dns"],[1,"flex","flex-grow-1","align-items-center","justify-content-center"],["strokeWidth","1",1,"custom-spinner","custom-spinner-gray","custom-spinner-8xl"],[1,"flex","gap-2","split-line","p-3","align-items-center"],[1,"flex","flex-column","gap-2","flex-grow-1"],[1,"flex","align-items-center","gap-2"],[1,"border-circle","w-1rem","h-1rem",3,"ngClass"],[1,"font-bold","text-sm"],[1,"text-xs","font-bold",3,"ngClass"],[1,"flex","gap-2"],[1,"text-bluegray-400"],["class","mdi-warning text-red-400",3,"pTooltip",4,"ngIf"],["icon","mdi-visibility","styleClass","p-button-text p-button-secondary p-button-icon",3,"onClick"],["icon","mdi-more_vert","styleClass","p-button-text p-button-secondary p-button-icon",3,"onClick"],[1,"mdi-warning","text-red-400",3,"pTooltip"],[3,"commutator",4,"ngSwitchCase"],[3,"commutator"],["strokeWidth","2",1,"custom-spinner","custom-spinner-gray","custom-spinner-8xl"],[1,"text-bluegray-300"],[1,"flex","flex-column"],[1,"flex","gap-4","align-items-end"],["formControlName","type",3,"options"],[1,"input-label-wrapper"],["appendTo","body","field","name","formControlName","model","placeholder","Huawei",3,"showClear","suggestions","completeMethod","onClear"],["formControlName","name","pInputText","","placeholder","KM44.DES16.3.2","type","text",3,"pKeyFilter","size"],["formControlName","ipaddr"],["formControlName","address",3,"isAcpConnected","isHouseOnly"],["formControlName","entrance",3,"max","min","size"],["formControlName","floor",3,"max","min","size"],["appendTo","body","field","label","formControlName","uplink","placeholder","\u0418\u043c\u044f, IP-\u0430\u0434\u0440\u0435\u0441, \u0410\u0434\u0440\u0435\u0441",3,"showClear","size","suggestions","completeMethod","onClear"],["formControlName","nagios"],["formControlName","sms"],[1,"flex","flex-column","gap-1","py-2","text-xs","font-bold","text-red-400"],[4,"ngFor","ngForOf"],["class","align-self-end","icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"disabled","loading","onClick",4,"ngIf","ngIfElse"],["createButton",""],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",1,"align-self-end",3,"disabled","loading","onClick"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",1,"align-self-end",3,"disabled","loading","onClick"]],template:function(t,i){if(1&t&&(e.YNc(0,SD,23,16,"div",0),e.ALo(1,"async"),e.YNc(2,kD,2,0,"ng-template",null,1,e.W1O),e.YNc(4,OD,16,10,"ng-template",null,2,e.W1O),e.TgZ(6,"p-dialog",3),e.NdJ("visibleChange",function(p){return i.commutatorViewDialogVisible=p}),e.YNc(7,FD,5,5,"ng-template",4),e.qZA(),e._UZ(8,"p-menu",5,6),e.YNc(10,BD,2,0,"ng-template",null,7,e.W1O),e.TgZ(12,"p-dialog",8),e.NdJ("visibleChange",function(p){return i.commutatorDialogVisible=p}),e.YNc(13,QD,50,31,"ng-template",4),e.qZA()),2&t){const s=e.MAs(3);let p;e.Q6J("ngIf",e.lcZ(1,13,i.commutatorPage$))("ngIfElse",s),e.xp6(6),e.Q6J("visible",i.commutatorViewDialogVisible)("dismissableMask",!0)("header","\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440 "+(null!==(p=null==i.selectedToViewCommutator?null:i.selectedToViewCommutator.name)&&void 0!==p?p:"\u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f"))("resizable",!1),e.xp6(2),e.Q6J("model",i.contextMenuItems)("popup",!0),e.xp6(4),e.Q6J("visible",i.commutatorDialogVisible)("dismissableMask",!0)("header",i.editableSwitch?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430")("modal",!0)("resizable",!1)}},dependencies:[Qx.Z,Gx,iA.S,Qg.r,fh.Ql,f.Fj,f.JJ,f.JL,F.jx,S.sg,Ao.V,f.sg,f.u,S.O5,O.zx,S.tP,S.RF,S.n9,Gi.u,_o.v2,bi.o,S.mk,it.G,Dl.D,Na.Rn,q_.UN,N.Qc,$_.Fr,S.Ov,Wx],styles:["[_nghost-%COMP%]{flex-grow:1}"],data:{animation:[u.S9]}}),n})();var sA=b(6847),mh=b(7514),Yx=b(9138),WD=b(4383);const YD=function(n){return{binding:n}};function jD(n,o){if(1&n&&e.GkF(0,29),2&n){const t=o.$implicit;e.oxw(3);const i=e.MAs(3);e.Q6J("ngTemplateOutletContext",e.VKq(2,YD,t))("ngTemplateOutlet",i)}}function KD(n,o){if(1&n&&(e.TgZ(0,"div",27),e.YNc(1,jD,1,4,"ng-container",28),e.qZA()),2&n){const t=e.oxw().ngIf,i=e.oxw();e.Q6J("@flowInChild",void 0),e.xp6(1),e.Q6J("ngForOf",t.value)("ngForTrackBy",i.trackByDhcpBinding)}}function qD(n,o){1&n&&(e.TgZ(0,"div",30),e._UZ(1,"p-progressSpinner",31),e.qZA())}function $D(n,o){1&n&&(e.TgZ(0,"div",32),e._UZ(1,"span",33),e.TgZ(2,"span"),e._uU(3,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()())}function XD(n,o){1&n&&(e.TgZ(0,"div",34),e._UZ(1,"span",35),e.TgZ(2,"span"),e._uU(3,"\u0421\u0435\u0441\u0441\u0438\u0438\u0306 \u0430\u0431\u043e\u043d. \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f \u043d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043e"),e.qZA()())}function eM(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-paginator",36),e.NdJ("onPageChange",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.changeLastBindingsPage.next(s.page))}),e.qZA()}if(2&n){const t=e.oxw().ngIf,i=e.oxw();e.Q6J("first",15*i.pageNum)("rows",15)("totalRecords",t.totalElements)}}function tM(n,o){1&n&&e._UZ(0,"p-inputNumber",37),2&n&&e.Q6J("min",1)("max",99)}const nM=function(){return[]};function iM(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",5),e._UZ(3,"span",6),e.TgZ(4,"span"),e._uU(5,"\u0421\u0435\u0441\u0441\u0438\u0438 \u0430\u0431\u043e\u043d. \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f"),e.qZA()(),e.ynx(6,7),e.YNc(7,KD,2,3,"div",8),e.YNc(8,qD,2,0,"div",9),e.YNc(9,$D,4,0,"div",10),e.YNc(10,XD,4,0,"div",11),e.BQk(),e.YNc(11,eM,1,3,"p-paginator",12),e.qZA(),e.TgZ(12,"div",13)(13,"span",14),e._UZ(14,"span",15),e._uU(15," \u0424\u0438\u043b\u044c\u0442\u0440\u044b"),e.qZA(),e.TgZ(16,"div",16),e._UZ(17,"input",17)(18,"input",18)(19,"app-acp-house-input",19)(20,"input",20)(21,"input",21)(22,"p-dropdown",22),e.TgZ(23,"p-autoComplete",23),e.NdJ("completeMethod",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.commutatorUplinkQuerySearch.next(s.query))})("onClear",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.lastBindingsFilterForm.controls.commutator.setValue(null))}),e.ALo(24,"async"),e.qZA(),e.YNc(25,tM,1,2,"p-inputNumber",24),e.qZA(),e.TgZ(26,"p-button",25),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.lastBindingsFilterForm.reset({state:1}))}),e.qZA(),e.TgZ(27,"div",26),e._uU(28),e.ALo(29,"decline"),e.qZA()()()}if(2&n){const t=o.ngIf,i=e.oxw();let s;e.xp6(6),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngIf","READY"===t.loadingState),e.xp6(1),e.Udp("top","calc(var(--top-panel-height) + 1.5rem)"),e.Q6J("formGroup",i.lastBindingsFilterForm),e.xp6(5),e.Q6J("size",14),e.xp6(1),e.Q6J("size",8),e.xp6(2),e.Q6J("pKeyFilter",i.ipKeyFilter),e.xp6(1),e.Q6J("size",4),e.xp6(1),e.Q6J("options",i.statusOptions),e.xp6(1),e.Q6J("showClear",!0)("size",20)("forceSelection",!0)("suggestions",null!==(s=e.lcZ(24,21,i.commutatorUplinks$))&&void 0!==s?s:e.DdM(28,nM)),e.xp6(2),e.Q6J("ngIf",i.lastBindingsFilterForm.value.commutator),e.xp6(3),e.AsE(" \u041d\u0430\u0439\u0434\u0435\u043d\u043e: ",t.totalElements," ",e.gM2(29,23,t.totalElements,"\u0441\u0435\u0441\u0441\u0438\u044f","\u0441\u0435\u0441\u0441\u0438\u0438","\u0441\u0435\u0441\u0441\u0438\u0439")," ")}}function oM(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().binding;e.xp6(1),e.Oqu(t.authName)}}function sM(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().binding;e.xp6(1),e.hij(" ",t.dhcpClient," ")}}function rM(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().binding;e.xp6(1),e.hij(" ",t.dhcpHostname," ")}}function aM(n,o){1&n&&(e.TgZ(0,"span",48),e._uU(1,"\u041d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),e.qZA())}function lM(n,o){1&n&&(e.TgZ(0,"span",49),e._uU(1,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),e.qZA())}const cM=function(n){return["/clients","billing","user",n]},uM=function(n){return{"text-primary-400":n}};function dM(n,o){if(1&n&&(e.TgZ(0,"div",38)(1,"div",39),e._UZ(2,"app-binding-connection-location-view",40),e.YNc(3,oM,2,1,"span",41),e.TgZ(4,"div",42),e.YNc(5,sM,2,1,"ng-container",41),e.YNc(6,rM,2,1,"ng-container",41),e.qZA(),e.TgZ(7,"span",43)(8,"span"),e._uU(9),e.qZA(),e._UZ(10,"app-time-elapsed",44),e.qZA()(),e.TgZ(11,"div",45)(12,"span"),e.ynx(13,7),e.YNc(14,aM,2,0,"span",46),e.YNc(15,lM,2,0,"span",47),e.BQk(),e.qZA(),e.TgZ(16,"span"),e._uU(17),e.qZA(),e.TgZ(18,"span"),e._uU(19),e.qZA()()()),2&n){const t=o.binding;e.Q6J("routerLink",e.VKq(16,cM,t.authName)),e.xp6(2),e.Q6J("binding",t),e.xp6(1),e.Q6J("ngIf",t.authName),e.xp6(1),e.Udp("max-width","15rem"),e.xp6(1),e.Q6J("ngIf",t.dhcpClient),e.xp6(1),e.Q6J("ngIf",t.dhcpHostname),e.xp6(1),e.Q6J("ngClass",e.VKq(18,uM,"ONLINE"===t.onlineStatus)),e.xp6(2),e.Oqu("ONLINE"===t.onlineStatus?"\u0412 \u0441\u0435\u0442\u0438":"\u041d\u0435 \u0432 \u0441\u0435\u0442\u0438"),e.xp6(1),e.Q6J("startTime",t.leaseStart),e.xp6(3),e.Q6J("ngSwitch",t.isAuth),e.xp6(1),e.Q6J("ngSwitchCase",!1),e.xp6(1),e.Q6J("ngSwitchCase",!0),e.xp6(2),e.AsE("",t.streetName," ",t.houseNum,""),e.xp6(2),e.Oqu(t.ipaddr)}}function pM(n,o){1&n&&(e.TgZ(0,"div",50),e._UZ(1,"p-progressSpinner",51),e.qZA())}let hM=(()=>{class n{constructor(t,i,s){this.api=t,this.rt=i,this.confirm=s,this.pageNum=0,this.isLoadingLastBindings=!0,this.openAuthDialog=new mr.x,this.changeLastBindingsPage=new $a.X(0),this.page$=this.changeLastBindingsPage.pipe((0,si.b)(p=>this.pageNum=p)),this.changeLastBindingsPage$=this.changeLastBindingsPage.pipe((0,si.b)(()=>this.isLoadingLastBindings=!0),(0,cn.d)(1)),this.lastBindingsFilterForm=new f.cw({state:new f.NI(1),macaddr:new f.NI(null),login:new f.NI(null),ip:new f.NI(null),vlan:new f.NI(null),buildingId:new f.NI(null),commutator:new f.NI(null,P.d.typeIsSwitchWithAddress),port:new f.NI(null)}),this.lastBindingFilterForm$=this.lastBindingsFilterForm.valueChanges.pipe((0,is.O)(this.lastBindingsFilterForm.value),(0,Is.b)(1e3),(0,gt.U)(p=>(this.pageNum=0,{state:null!==p.state?p.state:void 0,macaddr:p.macaddr,login:p.login,ip:p.ip,vlan:p.vlan,buildingId:p.buildingId&&p.buildingId.buildingId,commutator:p.commutator&&p.commutator.commutator?p.commutator.commutator.id:void 0,port:p.port}))),this.lastBindingsFilter$=(0,Fo.a)([this.page$,this.lastBindingFilterForm$]).pipe((0,gt.U)(([p,w])=>[this.pageNum,w.state,w.macaddr,w.login,w.ip,w.vlan,w.buildingId,w.commutator,w.port])),this.ipKeyFilter=/[\d\.]+/,this.lastBindingsPage$=_.aN.ofPage(this.lastBindingsFilter$,this.api.getLastBindings.bind(this.api),"id",null,this.rt.acpDhcpBindingUpdated(),null),this.commutatorUplinkQuerySearch=new mr.x,this.commutatorUplinks$=this.commutatorUplinkQuerySearch.pipe((0,Is.b)(1e3),(0,R.w)(p=>this.api.searchCommutators(p)),(0,cn.d)(1)),this.statusOptions=[{label:"\u0412 \u0441\u0435\u0442\u0438",value:1},{label:"\u041d\u0435 \u0432 \u0441\u0435\u0442\u0438",value:0},{label:"\u041b\u044e\u0431\u044b\u0435",value:null}],this.numberMask=/^\d{1,4}$/}ngOnInit(){}trackByDhcpBinding(t,i){return i.macaddr+i.ipaddr+i.id+i.onlineStatus+i.authExpire+i.authName}authConfirm(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c "+t.macaddr+" \u043f\u043e\u0434 \u043b\u043e\u0433\u0438\u043d\u043e\u043c ?",accept:()=>{this.authCurrentLogin(t.macaddr)}})}authCurrentLogin(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(F.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:6,vars:4,consts:[["class","flex gap-3",4,"ngIf","ngIfElse"],["sessionItem",""],["loading",""],[1,"flex","gap-3"],[1,"flex","flex-column","gap-3","flex-grow-1","panel","p-3"],[1,"flex","align-items-center","gap-2","text-bluegray-400","text-lg","font-bold"],[1,"mdi-router"],[3,"ngSwitch"],["class","flex flex-column flex-grow-1",4,"ngSwitchCase"],["class","flex justify-content-center align-items-center full-height",4,"ngSwitchCase"],["class","flex flex-column justify-content-center align-items-center full-height text-red-400 text-lg font-bold",4,"ngSwitchCase"],["class","flex flex-column justify-content-center align-items-center full-height text-bluegray-400 text-lg font-bold",4,"ngSwitchCase"],[3,"first","rows","totalRecords","onPageChange",4,"ngIf"],[1,"flex","flex-column","p-3","gap-3","align-items-end","h-min","panel","sticky",3,"formGroup"],[1,"text-bluegray-400","text-lg","font-bold","flex","align-items-center","align-self-start"],[1,"mdi-filter_alt"],[1,"flex","flex-column","gap-3"],["formControlName","macaddr","pInputText","","placeholder","MAC-\u0430\u0434\u0440\u0435\u0441","type","text",3,"size"],["formControlName","login","pInputText","","placeholder","\u041b\u043e\u0433\u0438\u043d","type","text",3,"size"],["formControlName","buildingId"],["formControlName","ip","pInputText","","placeholder","IP-\u0430\u0434\u0440\u0435\u0441","type","text",3,"pKeyFilter"],["pInputText","","pKeyFilter","pint","formControlName","vlan","placeholder","VLAN",3,"size"],["formControlName","state","placeholder","\u0421\u0442\u0430\u0442\u0443\u0441",3,"options"],["appendTo","body","field","label","formControlName","commutator","placeholder","\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440",3,"showClear","size","forceSelection","suggestions","completeMethod","onClear"],["formControlName","port","placeholder","\u041f\u043e\u0440\u0442 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430",3,"min","max",4,"ngIf"],["icon","mdi-filter_alt_off","label","\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c","styleClass","p-button-secondary p-button-text",3,"onClick"],[1,"text-primary-400","font-bold"],[1,"flex","flex-column","flex-grow-1"],[3,"ngTemplateOutletContext","ngTemplateOutlet",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutletContext","ngTemplateOutlet"],[1,"flex","justify-content-center","align-items-center","full-height"],["strokeWidth","2",1,"custom-spinner","custom-spinner-primary","custom-spinner-8xl"],[1,"flex","flex-column","justify-content-center","align-items-center","full-height","text-red-400","text-lg","font-bold"],[1,"mds-error"],[1,"flex","flex-column","justify-content-center","align-items-center","full-height","text-bluegray-400","text-lg","font-bold"],[1,"mds-stream"],[3,"first","rows","totalRecords","onPageChange"],["formControlName","port","placeholder","\u041f\u043e\u0440\u0442 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430",3,"min","max"],[1,"flex","flex-column","p-3","gap-1","cursor-pointer","hover:bg-primary-50","hover:text-primary-400","split-line","transition-ease-in-out","transition-duration-150",3,"routerLink"],[1,"flex","gap-2","align-items-center"],[3,"binding"],[4,"ngIf"],["appTicker","",1,"white-space-nowrap","overflow-hidden"],[1,"flex","align-items-center","font-bold","text-sm","gap-1",3,"ngClass"],["type","short",3,"startTime"],[1,"flex","gap-2"],["class","text-bluegray-300 white-space-nowrap",4,"ngSwitchCase"],["class","text-green-400",4,"ngSwitchCase"],[1,"text-bluegray-300","white-space-nowrap"],[1,"text-green-400"],[1,"flex","align-items-center","justify-content-center","flex-grow-1","py-5","panel"],["strokeWidth","1",1,"custom-spinner","custom-spinner-gray","custom-spinner-8xl"]],template:function(t,i){if(1&t&&(e.YNc(0,iM,30,29,"div",0),e.ALo(1,"async"),e.YNc(2,dM,20,20,"ng-template",null,1,e.W1O),e.YNc(4,pM,2,0,"ng-template",null,2,e.W1O)),2&t){const s=e.MAs(5);e.Q6J("ngIf",e.lcZ(1,2,i.lastBindingsPage$))("ngIfElse",s)}},dependencies:[sA.j,mh.x,Yx.N,WD.O,d.rH,f.Fj,f.JJ,f.JL,S.sg,f.sg,f.u,Ke.Lt,S.O5,O.zx,S.tP,S.RF,S.n9,bi.o,S.mk,it.G,Dl.D,Na.Rn,N.Qc,$_.Fr,S.Ov,Wx],styles:["[_nghost-%COMP%]{flex-grow:1}"],data:{animation:[u.S9]}}),n})();var jx=b(4707),Kx=b(3064);function gM(n,o){1&n&&e.GkF(0)}function fM(n,o){if(1&n&&(e.ynx(0),e.YNc(1,gM,1,0,"ng-container",10),e.BQk()),2&n){e.oxw(2);const t=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function mM(n,o){1&n&&e.GkF(0)}const qx=function(n){return{building:n}};function _M(n,o){if(1&n&&(e.ynx(0),e.YNc(1,mM,1,0,"ng-container",11),e.BQk()),2&n){const t=e.oxw().ngIf;e.oxw();const i=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,qx,t))}}function CM(n,o){if(1&n&&(e.ynx(0)(1,8),e.YNc(2,fM,2,1,"ng-container",9),e.YNc(3,_M,2,4,"ng-container",9),e.BQk()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngSwitch",t.houseLoadingState),e.xp6(1),e.Q6J("ngSwitchCase",t.LoadingState.LOADING),e.xp6(1),e.Q6J("ngSwitchCase",t.LoadingState.READY)}}function vM(n,o){1&n&&(e.TgZ(0,"div",12)(1,"div",13),e._UZ(2,"p-skeleton",14)(3,"p-skeleton",15),e.qZA(),e.TgZ(4,"div",16),e._UZ(5,"p-skeleton",17)(6,"p-skeleton",17)(7,"p-skeleton",18),e.qZA()())}const rA=function(n){return["/topology","house",n]};function bM(n,o){if(1&n&&(e.TgZ(0,"span",26),e._uU(1),e.qZA()),2&n){const t=e.oxw().building;e.Q6J("routerLink",e.VKq(2,rA,null==t.uplink?null:t.uplink.buildingId)),e.xp6(1),e.hij(" Uplink: ",null==t.uplink?null:t.uplink.fullName," ")}}function yM(n,o){1&n&&e.GkF(0)}function xM(n,o){1&n&&e.GkF(0)}function IM(n,o){1&n&&e.GkF(0)}function TM(n,o){if(1&n&&(e.TgZ(0,"div",12)(1,"div",19)(2,"span",20),e._uU(3),e.qZA(),e.YNc(4,bM,2,4,"span",21),e.qZA(),e.TgZ(5,"div",22)(6,"div",23),e.YNc(7,yM,1,0,"ng-container",11),e.YNc(8,xM,1,0,"ng-container",11),e._UZ(9,"app-commutators-table",24),e.ALo(10,"async"),e.YNc(11,IM,1,0,"ng-container",10),e.qZA(),e._UZ(12,"app-bindings-table",25),e.ALo(13,"async"),e.qZA()()),2&n){const t=o.building,i=e.oxw(),s=e.MAs(9),p=e.MAs(11),w=e.MAs(13);e.xp6(3),e.hij(" ",t.fullName," "),e.xp6(1),e.Q6J("ngIf",t.uplink),e.xp6(3),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(13,qx,t)),e.xp6(1),e.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",e.VKq(15,qx,t)),e.xp6(1),e.Q6J("buildId",e.lcZ(10,9,i.buildId$)),e.xp6(2),e.Q6J("ngTemplateOutlet",w),e.xp6(1),e.Q6J("filterId",e.lcZ(13,11,i.buildId$))}}function AM(n,o){1&n&&(e.ynx(0),e._uU(1," DHCP "),e.BQk())}function wM(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e.ynx(6,8),e.YNc(7,AM,2,0,"ng-container",9),e.BQk(),e.qZA()()),2&n){const t=o.network;e.xp6(2),e.Oqu(t.network),e.xp6(2),e.Oqu(t.vid),e.xp6(2),e.Q6J("ngSwitch",t.nettype),e.xp6(1),e.Q6J("ngSwitchCase",1)}}function EM(n,o){if(1&n&&(e.TgZ(0,"div",32)(1,"span",33),e._uU(2),e.qZA()()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,rA,t.buildingId)),e.xp6(1),e.hij(" ",t.fullName," ")}}function SM(n,o){if(1&n&&(e.TgZ(0,"div",28)(1,"div",29),e._uU(2," Downlinks "),e.qZA(),e.TgZ(3,"div",30),e.YNc(4,EM,3,4,"div",31),e.qZA()()),2&n){const t=e.oxw().ngIf;e.xp6(4),e.Q6J("ngForOf",t)}}function kM(n,o){if(1&n&&(e.ynx(0),e.YNc(1,SM,5,1,"div",27),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf",t.length>0)}}function DM(n,o){1&n&&e.YNc(0,kM,2,1,"ng-container",0),2&n&&e.Q6J("ngIf",o.building.downlinks)}function MM(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0421\u0435\u0442\u044c"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Vlan"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0422\u0438\u043f"),e.qZA()())}function OM(n,o){1&n&&e.GkF(0)}const PM=function(n){return{network:n}};function LM(n,o){if(1&n&&e.YNc(0,OM,1,0,"ng-container",11),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(7);e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,PM,t))}}function RM(n,o){if(1&n&&(e.TgZ(0,"div",34)(1,"p-table",35),e.YNc(2,MM,7,0,"ng-template",36),e.YNc(3,LM,1,4,"ng-template",37),e.qZA()()),2&n){const t=o.building;e.xp6(1),e.Q6J("value",t.networks)}}function NM(n,o){1&n&&(e.TgZ(0,"tr"),e._UZ(1,"th"),e.TgZ(2,"th"),e._uU(3,"\u0418\u043c\u044f"),e.qZA()())}function FM(n,o){1&n&&e.GkF(0)}const BM=function(n){return{file:n}};function ZM(n,o){if(1&n&&e.YNc(0,FM,1,0,"ng-container",11),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(15);e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,BM,t))}}const UM=function(){return[]};function HM(n,o){if(1&n&&(e.TgZ(0,"div",38)(1,"p-table",35),e.ALo(2,"async"),e.YNc(3,NM,4,0,"ng-template",36),e.YNc(4,ZM,1,4,"ng-template",37),e.qZA()()),2&n){const t=e.oxw();let i;e.xp6(1),e.Q6J("value",null!==(i=e.lcZ(2,1,t.files$))&&void 0!==i?i:e.DdM(3,UM))}}function VM(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",39),e.NdJ("click",function(){const p=e.CHM(t).file,w=e.oxw();return e.KtG(w.openFile(p))}),e.TgZ(1,"td",40),e._UZ(2,"app-thumbnail-preview",41),e.qZA(),e.TgZ(3,"td")(4,"div",42),e._uU(5),e.qZA()()()}if(2&n){const t=o.file;e.xp6(2),e.Q6J("data",t),e.xp6(3),e.hij(" ",t.name," ")}}let Hu=class{constructor(o,t,i){this.api=o,this.route=t,this.fileViewer=i,this.LoadingState=he.Gu,this.houseLoadingState=he.Gu.LOADING,this.streetNameSchemesTranslation=new Map([["\u0410\u043a\u0430\u0434\u0435\u043c\u0438\u043a\u0430 \u041a\u043e\u0440\u043e\u043b\u0435\u0432\u0430","\u041a\u043e\u0440\u043e\u043b\u0435\u0432\u0430"],["\u0412\u0435\u043b\u0438\u043a\u043e\u0439 \u041f\u043e\u0431\u0435\u0434\u044b","\u0411\u0412\u041f"],["\u041a.\u041c\u0430\u0440\u043a\u0441\u0430","\u041a\u041c"],["\u041e\u043a\u0442\u044f\u0431\u0440\u044c\u0441\u043a\u043e\u0435","\u041e\u043a\u0442\u044f\u0431\u0440\u044c\u0441\u043a\u043e\u0435 \u0448\u043e\u0441\u0441\u0435"]]),this.buildIdParam$=new jx.t(1),this.buildId$=this.buildIdParam$.pipe((0,gt.U)(s=>Number.parseInt(s))),this.building$=this.buildId$.pipe((0,si.b)(()=>this.houseLoadingState=he.Gu.LOADING),(0,R.w)(s=>this.api.getBuilding(s)),(0,si.b)({next:()=>this.houseLoadingState=he.Gu.READY,error:()=>this.houseLoadingState=he.Gu.ERROR}),(0,cn.d)(1)),this.files$=this.building$.pipe((0,gt.U)(s=>{var p;let w=s.streetName.match(/([\u0410-\u044f\d \.]+), /),Q=s.houseNum.match(/(\d+)/);if(!(w&&w[1]&&Q&&Q[1]))return null;let Ce=w[1],qe=Q[1];return this.streetNameSchemesTranslation.has(Ce)&&(Ce=null!==(p=this.streetNameSchemesTranslation.get(Ce))&&void 0!==p?p:""),console.log(Ce+" "+qe),Ce+" "+qe}),(0,R.w)(s=>this.api.getFilesSuggestions(s)))}ngOnInit(){}openFile(o){switch(o.type){case"PHOTO":case"VIDEO":case"AUDIO":this.fileViewer.showMedia({fileSystemItemId:o.id,name:o.name,type:o.type});break;case"DOCUMENT":case"FILE":window.open("/api/private/file/"+o.id,"_blank")}}};Hu.\u0275fac=function(o){return new(o||Hu)(e.Y36(L.s),e.Y36(d.gz),e.Y36(Kx.E))},Hu.\u0275cmp=e.Xpm({type:Hu,selectors:[["ng-component"]],decls:16,vars:3,consts:[[4,"ngIf"],["loadingTemplate",""],["houseTemplate",""],["networkItemTemplate",""],["downlinksListTemplate",""],["networksTableTemplate",""],["filesTableTemplate",""],["fileItemTemplate",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","flex-column","flex-grow-1","h-fit","bg-white","border-round","shadow-1"],[1,"flex","flex-column","p-3","gap-1"],["width","12rem","height","1.7rem"],["width","8rem","height","1.1rem"],[1,"flex","gap-2","p-4","pt-1"],["width","200px","height","150px"],["width","auto","height","150px",1,"flex-grow-1"],[1,"flex","flex-column","p-3"],[1,"text-bluegray-500","text-xl","font-semibold"],["class","text-primary font-bold cursor-pointer hover:text-primary-700",3,"routerLink",4,"ngIf"],[1,"flex","flex-column","gap-2","p-4","pt-1"],[1,"flex","gap-2"],[1,"flex-grow-1",3,"buildId"],["filterMode","building",3,"filterId"],[1,"text-primary","font-bold","cursor-pointer","hover:text-primary-700",3,"routerLink"],["class","flex flex-column border-1 border-bluegray-100 border-round overflow-hidden",4,"ngIf"],[1,"flex","flex-column","border-1","border-bluegray-100","border-round","overflow-hidden"],[1,"text-bluegray-500","font-bold","p-2","bg-gray-50","border-bottom-1","border-bluegray-100"],[1,"flex","flex-column","px-3","py-2"],["class","flex align-items-center gap-2",4,"ngFor","ngForOf"],[1,"flex","align-items-center","gap-2"],[1,"text-primary","cursor-pointer","hover:text-primary-700",3,"routerLink"],[1,"overflow-hidden","border-round","border-1","border-bluegray-100"],["styleClass","p-datatable-sm",3,"value"],["pTemplate","header"],["pTemplate","body"],[1,"overflow-hidden","border-round","border-1","border-bluegray-100","flex-grow-1"],[1,"cursor-pointer","hover:bg-bluegray-50",3,"click"],[1,"text-center"],[3,"data"],["appTicker","",1,"max-w-10rem","white-space-nowrap","overflow-hidden"]],template:function(o,t){1&o&&(e.YNc(0,CM,4,3,"ng-container",0),e.ALo(1,"async"),e.YNc(2,vM,8,0,"ng-template",null,1,e.W1O),e.YNc(4,TM,14,17,"ng-template",null,2,e.W1O),e.YNc(6,wM,8,4,"ng-template",null,3,e.W1O),e.YNc(8,DM,1,1,"ng-template",null,4,e.W1O),e.YNc(10,RM,4,1,"ng-template",null,5,e.W1O),e.YNc(12,HM,5,4,"ng-template",null,6,e.W1O),e.YNc(14,VM,6,2,"ng-template",null,7,e.W1O)),2&o&&e.Q6J("ngIf",e.lcZ(1,1,t.building$))},styles:["[_nghost-%COMP%]{display:flex;flex-grow:1}"]}),(0,qa.gn)([(0,dl.Hw)("id")],Hu.prototype,"buildIdParam$",void 0),Hu=(0,qa.gn)([(0,dl.kG)()],Hu);let zM=(()=>{class n{constructor(t){this.api=t,this.taskStatusSelector=new f.NI(he.hY.ACTIVE),this.taskStatusOptions=[{label:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435",value:he.hY.ACTIVE},{label:"\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435",value:he.hY.CLOSE},{label:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435",value:he.hY.PROCESSING}],this.taskClassSelector=new f.NI(null),this.taskClassOptions=[],this.taskStatus$=this.taskStatusSelector.valueChanges.pipe((0,is.O)(he.hY.ACTIVE)),this.taskClass$=this.taskClassSelector.valueChanges,this.changeTableType$=(0,Fo.a)([this.taskStatus$,this.taskClass$]).pipe((0,si.b)(()=>this.tableOffset=0)),this.tabelColumns$=this.changeTableType$.pipe((0,R.w)(([i,s])=>this.api.getTaskRegistryTableHeaders(i,s)),(0,cn.d)(1)),this.tableOffset=0,this.tableLazyLoad$=new mr.x,this.api.getWireframes().subscribe(i=>{this.taskClassOptions=i.map(s=>({label:s.name,value:s.wireframeId})),this.taskClassSelector.setValue(this.taskClassOptions[0].value)}),(0,Fo.a)([this.changeTableType$,this.tableLazyLoad$]).pipe((0,R.w)(([[i,s],p])=>this.api.getTaskRegistryTableContent(i,s,p))).subscribe(i=>this.tableContent=i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(L.s))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ka=b(8952);function JM(n,o){if(1&n&&e._UZ(0,"p-columnFilter",10),2&n){const t=e.oxw().$implicit;e.Q6J("type",t.filterType)("field",t.field)}}function QM(n,o){if(1&n&&e._UZ(0,"p-sortIcon",11),2&n){const t=e.oxw().$implicit;e.Q6J("field",t.field)}}function GM(n,o){if(1&n&&(e.TgZ(0,"th",6)(1,"div",7)(2,"span"),e._uU(3),e.qZA(),e.YNc(4,JM,1,2,"p-columnFilter",8),e.YNc(5,QM,1,1,"p-sortIcon",9),e.qZA()()),2&n){const t=o.$implicit;e.Q6J("pSortableColumn",t.isSort?t.field:""),e.xp6(3),e.Oqu(t.title),e.xp6(1),e.Q6J("ngIf",t.filterType),e.xp6(1),e.Q6J("ngIf",t.isSort)}}function WM(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,GM,6,4,"th",5),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function YM(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",null==i[t.field]?null:i[t.field].value," ")}}function jM(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,null==i[t.field]?null:i[t.field].value,"dd-MM-yyyy HH:mm")," ")}}function KM(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",null==i[t.field]?null:i[t.field].value," ")}}function qM(n,o){if(1&n&&(e.TgZ(0,"td"),e.ynx(1,13),e.YNc(2,YM,2,1,"span",14),e.YNc(3,jM,3,4,"span",14),e.YNc(4,KM,2,1,"span",14),e.BQk(),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(2).$implicit,s=e.oxw(2);e.uIk("rowspan",null==i[t.field]?null:i[t.field].rowSpan),e.xp6(1),e.Q6J("ngSwitch",null==i[t.field]?null:i[t.field].type),e.xp6(1),e.Q6J("ngSwitchCase",s.CellType.STRING),e.xp6(1),e.Q6J("ngSwitchCase",s.CellType.DATE),e.xp6(1),e.Q6J("ngSwitchCase",s.CellType.LOGIN)}}function $M(n,o){if(1&n&&(e.ynx(0),e.YNc(1,qM,5,5,"td",12),e.BQk()),2&n){const t=e.oxw(2).ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function XM(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"td",15),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",null==t.largeText?null:t.largeText.colSpan),e.xp6(1),e.hij(" ",null==t.largeText?null:t.largeText.value," ")}}function eO(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,$M,2,1,"ng-container",1),e.YNc(2,XM,3,2,"ng-container",1),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.isNotLargeText(t)),e.xp6(1),e.Q6J("ngIf",!i.isNotLargeText(t))}}const tO=function(){return[]},nO=function(n){return{field:"created",order:n}},iO=function(n){return[n]},oO=function(){return[50,100,250]};function sO(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"p-table",2),e.NdJ("firstChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.service.tableOffset=s)})("onLazyLoad",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.service.tableLazyLoad$.next(s))}),e.YNc(2,WM,2,1,"ng-template",3),e.YNc(3,eO,3,2,"ng-template",4),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();let i,s;e.xp6(1),e.Q6J("value",null!==(i=null==t.service.tableContent?null:t.service.tableContent.content)&&void 0!==i?i:e.DdM(9,tO))("paginator",!0)("totalRecords",null!==(s=null==t.service.tableContent?null:t.service.tableContent.totalElements)&&void 0!==s?s:0)("showCurrentPageReport",!0)("multiSortMeta",e.VKq(12,iO,e.VKq(10,nO,-1)))("rowsPerPageOptions",e.DdM(14,oO))("rows",100)("first",t.service.tableOffset)("lazy",!0)}}const aO=[{path:"",component:cf.h,children:[{path:"",component:ou},{path:"tasks/registry",component:(()=>{class n{constructor(t){this.service=t,this.CellType=he.k5}ngOnInit(){}isNotLargeText(t){return!Object.keys(t).includes("largeText")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(zM))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:4,vars:7,consts:[[3,"formControl","options"],[4,"ngIf"],["styleClass","p-datatable-sm","paginatorDropdownAppendTo","body","currentPageReportTemplate","\u041d\u0430\u0439\u0434\u0435\u043d\u043e {totalRecords} \u0437\u0430\u0434\u0430\u0447","sortMode","multiple",3,"value","paginator","totalRecords","showCurrentPageReport","multiSortMeta","rowsPerPageOptions","rows","first","lazy","firstChange","onLazyLoad"],["pTemplate","header"],["pTemplate","body"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[1,"flex","align-items-center"],["display","menu",3,"type","field",4,"ngIf"],[3,"field",4,"ngIf"],["display","menu",3,"type","field"],[3,"field"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"white-space-nowrap","text-overflow-ellipsis","overflow-hidden","max-w-0"]],template:function(t,i){1&t&&(e._UZ(0,"p-dropdown",0)(1,"p-dropdown",0),e.YNc(2,sO,4,15,"ng-container",1),e.ALo(3,"async")),2&t&&(e.Q6J("formControl",i.service.taskStatusSelector)("options",i.service.taskStatusOptions),e.xp6(1),e.Q6J("formControl",i.service.taskClassSelector)("options",i.service.taskClassOptions),e.xp6(1),e.Q6J("ngIf",e.lcZ(3,5,i.service.tabelColumns$)))},dependencies:[f.JJ,F.jx,S.sg,f.oH,Ke.Lt,S.O5,S.RF,S.n9,ka.iA,ka.lQ,ka.fz,ka.xl,S.Ov,S.uU]}),n})()},{path:"tasks/search",component:qT,children:[{path:"",component:q1},{path:":status",component:q1},{path:":status/:class",component:q1},{path:":status/:class/:type",component:q1}]},{path:"tasks/catalog",pathMatch:"full",redirectTo:"tasks/catalog/active"},{path:"tasks/catalog",component:jT,children:[{path:"scheduled/:status",component:Sa,data:{scheduled:he.dH.PLANNED}},{path:"scheduled/:status/:class",component:Sa,data:{scheduled:he.dH.PLANNED}},{path:"scheduled/:status/:class/:type",component:Sa,data:{scheduled:he.dH.PLANNED}},{path:"scheduled/:status/:class/:type/actual-time/:actualTime",component:Sa,data:{scheduled:he.dH.PLANNED,pageType:"actual-time"}},{path:"scheduled/:status/:class/:type/actual-time/:actualTime/:tag",component:Sa,data:{scheduled:he.dH.PLANNED,pageType:"actual-time"}},{path:"term/:status",component:Sa,data:{scheduled:he.dH.DEADLINE}},{path:"term/:status/:class",component:Sa,data:{scheduled:he.dH.DEADLINE}},{path:"term/:status/:class/:type",component:Sa,data:{scheduled:he.dH.DEADLINE}},{path:"term/:status/:class/:type/term-time/:termTime",component:Sa,data:{scheduled:he.dH.DEADLINE,pageType:"term-time"}},{path:"term/:status/:class/:type/term-time/:termTime/:tag",component:Sa,data:{scheduled:he.dH.DEADLINE,pageType:"term-time"}},{path:":status",component:Sa},{path:":status/:class",component:Sa},{path:":status/:class/:type",component:Sa},{path:":status/:class/:type/dir/:directory",component:Sa,data:{pageType:"dir"}},{path:":status/:class/:type/dir/:directory/:tag",component:Sa,data:{pageType:"dir"}},{path:":status/:class/:type/close-time/:closeTime",component:Sa,data:{pageType:"close-time"}},{path:":status/:class/:type/close-time/:closeTime/:tag",component:Sa,data:{pageType:"close-time"}}]},{path:"tasks/calendar",component:Jg},{path:"task/create",component:Fe},{path:"task/:id",component:Mr},{path:"tasks/templates",component:Mi,canActivate:[ta(Ii.j.EDIT_TASK_TEMPLATES,Ii.j.EDIT_TASK_TAGS,Ii.j.EDIT_DEVICES)]},{path:"tasks/templates/constructor",component:Gu,canActivate:[ta(Ii.j.EDIT_TASK_TEMPLATES)]},{path:"employees",component:Ch,canActivate:[ta(Ii.j.MANAGE_EMPLOYEES)]},{path:"testing",component:Qa},{path:"parser/tracker",component:B4},{path:"parser/address",component:I_},{path:"salary/table",component:X4,canActivate:[ta(Ii.j.COUNT_SALARY)]},{path:"salary/paid-actions",redirectTo:"/salary/paid-actions/1?includeDeleted=false",pathMatch:"full"},{path:"salary/paid-actions/:page",component:ex,canActivate:[ta(Ii.j.EDIT_PRICE)]},{path:"salary/works",component:M_,canActivate:[ta(Ii.j.EDIT_PRICE)]},{path:"salary/estimation",component:O_,canActivate:[ta(Ii.j.COUNT_SALARY)]},{path:"salary/estimation/bypass",component:FT,canActivate:[ta(Ii.j.COUNT_SALARY)]},{path:"clients/billing/search",component:z1,canActivate:[ta(Ii.j.BILLING)]},{path:"clients/billing/user/:login",component:Kd,canActivate:[ta(Ii.j.BILLING)]},{path:"addresses/list",component:NT,canActivate:[ta(Ii.j.EDIT_ADDRESS_BOOK,Ii.j.EDIT_HOUSE_ADDRESS_BOOK)]},{path:"system/billing",component:BT,canActivate:[ta(Ii.j.MANAGE_SYSTEM_SETTINGS)]},{path:"system/telegram",component:ZT,canActivate:[ta(Ii.j.MANAGE_SYSTEM_SETTINGS)]},{path:"system/acp",component:UT,canActivate:[ta(Ii.j.MANAGE_SYSTEM_SETTINGS)]},{path:"files",component:HT,canActivate:[ta(Ii.j.READ_WRITE_FILES)]},{path:"contracts",component:$T,children:[{path:"inspection",component:$d,canActivate:[ta(Ii.j.VIEW_CONTRACTS)]},{path:"types",component:Vk,canActivate:[ta(Ii.j.MANAGE_CONTRACTS_TYPES)]}]},{path:"statistics",component:eA,children:[{path:"employee-works",component:gh}],canActivate:[ta(Ii.j.VIEW_STATISTICS)]},{path:"topology",component:tA,children:[{path:"houses",component:nf},{path:"house/:id",component:Hu},{path:"commutators",component:GD,canActivate:[ta(Ii.j.VIEW_SWITCH,Ii.j.EDIT_SWITCH)]},{path:"sessions",component:hM,canActivate:[ta(Ii.j.BILLING)]}]}],canActivate:[NE.a,FE]}];let lO=(()=>{class n{constructor(t){n.injector=t}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.lqb))},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(aO),d.Bz]}),n})();var cO=b(4488);const uO=["paginator"];function dO(n,o){1&n&&(e.TgZ(0,"div",28),e._UZ(1,"p-progressSpinner",29),e.qZA())}function pO(n,o){if(1&n&&e._UZ(0,"app-task-list-element",32),2&n){const t=o.$implicit;e.Q6J("isCommentInput",!0)("item",t)}}function hO(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",30),e.YNc(2,pO,1,2,"app-task-list-element",31),e.qZA(),e.BQk()),2&n){const t=e.oxw().ngIf,i=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.value)("ngForTrackBy",i.trackByTask)}}function gO(n,o){1&n&&(e.TgZ(0,"div",33),e._UZ(1,"i",34),e.TgZ(2,"span"),e._uU(3,"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),e.qZA()())}function fO(n,o){1&n&&(e.TgZ(0,"div",35),e._UZ(1,"i",36),e.TgZ(2,"span"),e._uU(3,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e.qZA()())}function mO(n,o){if(1&n){const t=e.EpF();e.ynx(0)(1,20),e.YNc(2,dO,2,0,"div",21),e.YNc(3,hO,3,2,"ng-container",22),e.YNc(4,gO,4,0,"div",23),e.YNc(5,fO,4,0,"div",24),e.BQk(),e.TgZ(6,"div",25)(7,"p-paginator",26,27),e.NdJ("onPageChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.taskService.pageNumber.setValue(s.page))}),e.qZA()(),e.BQk()}if(2&n){const t=o.ngIf,i=e.oxw();let s;e.xp6(1),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(2),e.Q6J("alwaysShow",!0)("rows",i.taskService.TASK_PAGE_SIZE)("showCurrentPageReport",!0)("totalRecords",t.totalElements)("first",(null!==(s=i.taskService.pageNumber.value)&&void 0!==s?s:0)*i.taskService.TASK_PAGE_SIZE)}}function _O(n,o){if(1&n&&(e.TgZ(0,"div",38)(1,"div",39),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.label," "),e.xp6(2),e.hij(" ",t.tasksCount," ")}}function CO(n,o){if(1&n&&(e.TgZ(0,"div",14)(1,"label"),e._uU(2,"\u0422\u0438\u043f"),e.qZA(),e.TgZ(3,"p-listbox",37),e.YNc(4,_O,5,2,"ng-template",17),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("options",t.taskService.stageList)}}function vO(n,o){if(1&n&&e._UZ(0,"input",40),2&n){const t=e.oxw();e.Q6J("formControl",t.taskService.tagsFilterControl)}}function bO(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"app-colored-tag",41),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("color",t.color)("caption",t.tasksCount)}}function yO(n,o){if(1&n&&(e.TgZ(0,"span",38)(1,"div",39),e._uU(2),e.qZA(),e.YNc(3,bO,2,2,"ng-container",8),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Udp("color",t.color),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.tasksCount)}}function xO(n,o){1&n&&e._UZ(0,"app-task-template-filter-input",50),2&n&&e.Q6J("field",o.$implicit)}const IO=function(){return[]};function TO(n,o){if(1&n&&(e.ynx(0),e.YNc(1,xO,1,1,"app-task-template-filter-input",49),e.BQk()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngForOf",null!==(i=t.taskService.mainFilterForm.controls.templateFilter.controls)&&void 0!==i?i:e.DdM(2,IO))("ngForTrackBy",t.trackByField)}}function AO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"div",43),e.ynx(2,9),e.TgZ(3,"span",14)(4,"label"),e._uU(5,"\u0410\u0432\u0442\u043e\u0440 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(6,"app-employee-selector",44),e.qZA(),e.TgZ(7,"span",14)(8,"label"),e._uU(9,"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"),e.qZA(),e._UZ(10,"app-data-range-input",45),e.qZA(),e.BQk(),e.YNc(11,TO,2,3,"ng-container",8),e.qZA(),e.TgZ(12,"span",46)(13,"p-button",47),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return s.filterDialogVisible=!1,e.KtG(s.taskService.applyFilters())}),e.qZA(),e.TgZ(14,"p-button",48),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return s.filterDialogVisible=!1,e.KtG(s.taskService.clearFilters())}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.taskService.mainFilterForm),e.xp6(9),e.Q6J("ngIf",t.taskService.mainFilterForm.controls.templateFilter.length>0)}}const wO=function(){return{width:"25rem"}},EO=function(){return{"960px":"640px","640px":"100vw"}};let SO=(()=>{class n{constructor(t,i,s){this.taskService=t,this.api=i,this.route=s,this.employees=[],this.loadingItems=Array.from({length:10}).fill(null),this.filterDialogVisible=!1}trackByField(t,i){return i.value.id+i.value.wireframeFieldType+i.value.name}trackByTask(t,i){var s;return i.taskId+(null!==(s=i.updated)&&void 0!==s?s:"")}ngOnInit(){this.api.getEmployees().subscribe(t=>{this.employees=t})}ngAfterViewInit(){}ngOnDestroy(){}isNewDate(t,i){if(0===i)return!0;const s=t[i-1],p=t[i];if(!s||!p)return!1;const w=new Date(s.created);w.setHours(0,0,0,0);const Q=new Date(p.created);return Q.setHours(0,0,0,0),w.getTime()>Q.getTime()}taskLazyLoad(t){(!t.fields||0===t.fields.length)&&this.api.getFieldsTask(t.taskId).subscribe(i=>{t.fields=i})}clearTemplateFilters(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(cO.U),e.Y36(L.s),e.Y36(d.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(uO,5),2&t){let s;e.iGM(s=e.CRH())&&(i.paginator=s.first)}},decls:26,vars:22,consts:[["appExtendPageHeight","",1,"flex","gap-3","px-3"],[1,"tasks-list"],[1,"flex","flex-wrap","gap-4","bg-white","shadow-1","border-round-md","overflow-hidden","p-3",3,"formGroup"],[1,"p-input-icon-left","flex-grow-1"],[1,"mdi-search"],["formControlName","searchPhrase","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a...","type","text",1,"full-width"],["formControlName","status"],["icon","mdi-filter_alt","label","\u0424\u0438\u043b\u044c\u0442\u0440\u044b","styleClass","p-button-text",3,"badge","onClick"],[4,"ngIf"],[3,"formGroup"],[1,"flex","flex-column","gap-3","h-fit","px-2","pb-3","sticky-type-selector"],["countersType","all","formControlName","template"],[1,"shadow-1","p-3","border-round-md","flex","flex-column","bg-white","gap-2"],["class","input-label-wrapper",4,"ngIf"],[1,"input-label-wrapper"],["formControlName","tags","optionValue","taskTagId","listStyleClass","max-h-20rem",3,"options","multiple","checkbox"],["pTemplate","filter"],["pTemplate","item"],["header","\u0424\u0438\u043b\u044c\u0442\u0440\u044b \u0437\u0430\u0434\u0430\u0447",3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","visibleChange","onShow","onHide"],["pTemplate","content"],[3,"ngSwitch"],["class","flexed stretched hcenter vcenter caption size-big wt-bold f-color-500",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","flexed column stretched hcenter vcenter caption size-big wt-bold f-color-500",4,"ngSwitchCase"],["class","flexed stretched hcenter vcenter caption size-big wt-bold f-color-danger",4,"ngSwitchCase"],[1,"sticky","bottom1"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447","styleClass","panel",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","first","onPageChange"],["paginator",""],[1,"flexed","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-500"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flex","flex-column","gap-1","border-round-md","shadow-1","overflow-hidden","bg-bluegray-100","h-fit"],[3,"isCommentInput","item",4,"ngFor","ngForOf","ngForTrackBy"],[3,"isCommentInput","item"],[1,"flexed","column","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-500"],[1,"mds-search_off"],[1,"flexed","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-danger"],[1,"mdi-error"],["formControlName","stage","listStyleClass","max-h-20rem",3,"options"],[1,"flex","align-items-center","w-full","justify-content-between","gap-1"],["appTicker","",1,"max-w-10rem","white-space-nowrap","overflow-hidden"],["type","text","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a",3,"formControl"],[3,"color","caption"],[1,"flexed","column","gap15"],[1,"flexed","column","gap5"],["formControlName","author"],["formControlName","dateOfCreation"],[1,"flex","gap-3","align-items-center","justify-content-between"],["icon","mdi-filter_alt","label","\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",3,"onClick"],["icon","mdi-clear","label","\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c","styleClass","p-button-secondary p-button-outlined",3,"onClick"],[3,"field",4,"ngFor","ngForOf","ngForTrackBy"],[3,"field"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-main-menu-panel"),e.TgZ(2,"div",1)(3,"div",2)(4,"span",3),e._UZ(5,"i",4)(6,"input",5),e.qZA(),e._UZ(7,"app-task-status-chooser",6),e.TgZ(8,"p-button",7),e.NdJ("onClick",function(){return i.filterDialogVisible=!0}),e.ALo(9,"async"),e.qZA()(),e.YNc(10,mO,9,10,"ng-container",8),e.ALo(11,"async"),e.qZA(),e.ynx(12,9),e.TgZ(13,"div",10),e._UZ(14,"app-task-template-multi-selector",11),e.TgZ(15,"div",12),e.YNc(16,CO,5,1,"div",13),e.TgZ(17,"div",14)(18,"label"),e._uU(19,"\u0422\u0435\u0433\u0438"),e.qZA(),e.TgZ(20,"p-listbox",15),e.YNc(21,vO,1,1,"ng-template",16),e.YNc(22,yO,4,4,"ng-template",17),e.qZA()()()(),e.BQk(),e.qZA(),e._UZ(23,"p-scrollTop"),e.TgZ(24,"p-dialog",18),e.NdJ("visibleChange",function(p){return i.filterDialogVisible=p})("onShow",function(){return i.taskService.cacheFilters()})("onHide",function(){return i.taskService.applyFilters()}),e.YNc(25,AO,15,2,"ng-template",19),e.qZA()),2&t){let s;e.xp6(3),e.Q6J("formGroup",i.taskService.mainFilterForm),e.xp6(5),e.Q6J("badge",null!==(s=e.lcZ(9,16,i.taskService.templateFilterCount$))&&void 0!==s?s:""),e.xp6(2),e.Q6J("ngIf",e.lcZ(11,18,i.taskService.taskPage$)),e.xp6(2),e.Q6J("formGroup",i.taskService.mainFilterForm),e.xp6(4),e.Q6J("ngIf",i.taskService.stageList.length>1&&i.taskService.isSelectOneTemplate),e.xp6(4),e.Q6J("options",i.taskService.tagsList)("multiple",!0)("checkbox",!0),e.xp6(4),e.Akn(e.DdM(20,wO)),e.Q6J("visible",i.filterDialogVisible)("breakpoints",e.DdM(21,EO))("dismissableMask",!0)("draggable",!0)("modal",!0)("resizable",!1)}},styles:[".top-interceptor[_ngcontent-%COMP%]{position:fixed;width:100vw;height:50px;top:0;left:0;border:1px solid var(--tc-700)}.global-filters[_ngcontent-%COMP%]{display:grid;gap:.5rem;justify-content:center;background-color:#fff;box-shadow:var(--shadow-0);border-radius:var(--br-200);padding:1rem;width:-moz-fit-content;width:fit-content;place-self:center}.loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.tasks-list[_ngcontent-%COMP%]{display:grid;position:relative;grid:min-content 1fr min-content/1fr;gap:1rem;flex:1;padding-bottom:2rem}"]}),n})();var aA=b(9354),kO=b(8913),Ol=b(3725),DO=b(9114);let FO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[S.ez,F.m8]}),n})(),KO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[S.ez,f.u5]]}),n})();var $1=b(5652);const qO=function(n,o){return{showTransitionParams:n,hideTransitionParams:o}},$O=function(n){return{value:"open",params:n}};function XO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",1),e.NdJ("@animation.start",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.onEnter(s))})("@animation.done",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.onLeave(s))})("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onClick())}),e._UZ(1,"span",2),e.qZA()}if(2&n){const t=e.oxw();e.Tol(t.styleClass),e.Q6J("@animation",e.VKq(11,$O,e.WLB(8,qO,t.showTransitionOptions,t.hideTransitionOptions)))("ngClass",t.containerClass())("ngStyle",t.style),e.xp6(1),e.Tol(t.icon),e.Q6J("ngClass","p-scrolltop-icon")}}let eP=(()=>{class n{constructor(t,i,s){this.el=t,this.cd=i,this.config=s,this.target="window",this.threshold=400,this.icon="pi pi-chevron-up",this.behavior="smooth",this.showTransitionOptions=".15s",this.hideTransitionOptions=".15s",this.visible=!1}ngOnInit(){"window"===this.target?this.bindDocumentScrollListener():"parent"===this.target&&this.bindParentScrollListener()}onClick(){("window"===this.target?window:this.el.nativeElement.parentElement).scroll({top:0,behavior:this.behavior})}onEnter(t){switch(t.toState){case"open":this.overlay=t.element,Po.P9.set("overlay",this.overlay,this.config.zIndex.overlay);break;case"void":this.overlay=null}}onLeave(t){"void"===t.toState&&Po.P9.clear(t.element)}checkVisibility(t){this.visible=t>this.threshold,this.cd.markForCheck()}bindParentScrollListener(){this.scrollListener=()=>{this.checkVisibility(this.el.nativeElement.parentElement.scrollTop)},this.el.nativeElement.parentElement.addEventListener("scroll",this.scrollListener)}bindDocumentScrollListener(){this.scrollListener=()=>{this.checkVisibility(bo.p.getWindowScrollTop())},window.addEventListener("scroll",this.scrollListener)}unbindParentScrollListener(){this.scrollListener&&(this.el.nativeElement.parentElement.removeEventListener("scroll",this.scrollListener),this.scrollListener=null)}unbindDocumentScrollListener(){this.scrollListener&&(window.removeEventListener("scroll",this.scrollListener),this.scrollListener=null)}containerClass(){return{"p-scrolltop p-link p-component":!0,"p-scrolltop-sticky":"window"!==this.target}}ngOnDestroy(){"window"===this.target?this.unbindDocumentScrollListener():"parent"===this.target&&this.unbindParentScrollListener(),this.overlay&&(Po.P9.clear(this.overlay),this.overlay=null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(F.b4))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-scrollTop"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",target:"target",threshold:"threshold",icon:"icon",behavior:"behavior",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},decls:1,vars:1,consts:[["type","button",3,"ngClass","class","ngStyle","click",4,"ngIf"],["type","button",3,"ngClass","ngStyle","click"],[3,"ngClass"]],template:function(t,i){1&t&&e.YNc(0,XO,2,13,"button",0),2&t&&e.Q6J("ngIf",i.visible)},dependencies:[S.mk,S.O5,S.PC],styles:[".p-scrolltop{position:fixed;bottom:20px;right:20px;display:flex;align-items:center;justify-content:center}.p-scrolltop-sticky{position:sticky}.p-scrolltop-sticky.p-link{margin-left:auto}\n"],encapsulation:2,data:{animation:[(0,Ri.X$)("animation",[(0,Ri.SB)("void",(0,Ri.oB)({opacity:0})),(0,Ri.SB)("open",(0,Ri.oB)({opacity:1})),(0,Ri.eR)("void => open",(0,Ri.jt)("{{showTransitionParams}}")),(0,Ri.eR)("open => void",(0,Ri.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),n})(),tP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[S.ez]}),n})(),uP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[S.ez,d.Bz,Gi.z,d.Bz,Gi.z]}),n})();var dP=b(9925),lA=b(6526);const pP=["taskMovePanel"];function hP(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-button",13),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.checkedTasks=[])}),e.qZA(),e.TgZ(2,"app-button",14),e.NdJ("onClick",function(s){e.CHM(t),e.oxw();const p=e.MAs(14);return e.KtG(p.toggle(s))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("@fade",void 0),e.xp6(1),e.Q6J("@fade",void 0)("disabled",!(null!=t.wireframe&&t.wireframe.stages)||0===(null==t.wireframe||null==t.wireframe.stages?null:t.wireframe.stages.length))}}function gP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"p-checkbox",19),e.NdJ("onChange",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.allTaskChecked("null-pointer",s))}),e.qZA(),e.TgZ(2,"span",20),e._uU(3," \u0411\u0435\u0437 \u0441\u0442\u0430\u0434\u0438\u0438 "),e.qZA(),e._UZ(4,"app-colored-tag",21),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("binary",!0),e.xp6(3),e.Q6J("caption",t.getCount("null-pointer"))}}function fP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-list-element",22),e.NdJ("checkChange",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.checkedTasks=s)}),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("check",i.checkedTasks)("item",t)("inlined",!0)}}function mP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-list-panel",15),e.NdJ("onScrollDown",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.stageScrollDown("null-pointer"))}),e.YNc(1,gP,5,2,"ng-template",null,16,e.W1O),e.YNc(3,fP,1,3,"ng-template",null,17,e.W1O),e.qZA()}if(2&n){const t=e.MAs(2),i=e.MAs(4),s=e.oxw();e.Q6J("headerTemplate",t)("itemTemplate",i)("items",s.tasks["null-pointer"])}}function _P(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"p-checkbox",19),e.NdJ("onChange",function(s){e.CHM(t);const p=e.oxw().$implicit,w=e.oxw();return e.KtG(w.allTaskChecked(p.stageId,s))}),e.qZA(),e.TgZ(2,"span",20),e._uU(3),e.qZA(),e._UZ(4,"app-colored-tag",23),e.qZA()}if(2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("binary",!0),e.xp6(2),e.hij(" ",t.label," "),e.xp6(1),e.Q6J("captionForColor",t.label)("caption",i.getCount(t.stageId))}}function CP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-list-element",22),e.NdJ("checkChange",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.checkedTasks=s)}),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("check",i.checkedTasks)("item",t)("inlined",!0)}}function vP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-list-panel",15),e.NdJ("onScrollDown",function(){const p=e.CHM(t).$implicit,w=e.oxw();return e.KtG(w.stageScrollDown(p.stageId))}),e.YNc(1,_P,5,4,"ng-template",null,16,e.W1O),e.YNc(3,CP,1,3,"ng-template",null,17,e.W1O),e.qZA()}if(2&n){const t=o.$implicit,i=e.MAs(2),s=e.MAs(4),p=e.oxw();e.Q6J("headerTemplate",i)("itemTemplate",s)("items",p.tasks[t.stageId])}}const bP=function(){return[]};let yP=(()=>{class n{constructor(t,i,s){this.api=t,this.route=i,this.rt=s,this.tasks={},this.tasksCount={},this.tasksLoading={},this.checkedTasks=[],this.taskMoving=!1}ngOnInit(){this.route.params.subscribe(t=>{const{template:i}=t;this.api.getWireframe(i).subscribe(s=>{var p,w;this.api.getActiveTaskInNullStage(0,10,s.wireframeId).subscribe(Q=>{this.tasks["null-pointer"]=Q.content,this.tasksCount["null-pointer"]=Q.totalElements}),s.stages=null===(p=s.stages)||void 0===p?void 0:p.sort((Q,Ce)=>Q.orderIndex-Ce.orderIndex),null===(w=s.stages)||void 0===w||w.forEach(Q=>{this.api.getActiveTaskInStage(0,10,s.wireframeId,Q.stageId).subscribe(Ce=>{this.tasks[Q.stageId]=Ce.content,this.tasksCount[Q.stageId]=Ce.totalElements})}),this.wireframe=s,this.anyTaskUpdatingSub&&this.anyTaskUpdatingSub.unsubscribe(),this.anyTaskUpdatingSub=this.rt.taskUpdated().subscribe(this.onAnyTaskUpdate.bind(this))})})}ngOnDestroy(){this.anyTaskUpdatingSub&&this.anyTaskUpdatingSub.unsubscribe()}onAnyTaskUpdate(t){var i,s,p,w;for(const Q in this.tasks){const Ce=this.tasks[Q].findIndex(qe=>qe.taskId===t.taskId);if(Ce>=0){const qe=null===(i=this.tasks[Q][Ce].currentStage)||void 0===i?void 0:i.stageId,$e=null===(s=t.currentStage)||void 0===s?void 0:s.stageId;$e&&$e!==qe?(this.tasks[Q].splice(Ce,1),null===(p=this.tasks[$e])||void 0===p||p.push(t),qe&&this.tasksCount[qe]--,this.tasksCount[$e]++,this.tasks[$e]=null===(w=this.tasks[$e])||void 0===w?void 0:w.sort(($t,jt)=>{var Gt,fn;return new Date(null!==(Gt=jt.created)&&void 0!==Gt?Gt:"").getTime()-new Date(null!==(fn=$t.created)&&void 0!==fn?fn:"").getTime()})):this.tasks[Q].splice(Ce,1,t)}}}stageScrollDown(t){this.tasks[t].length<this.tasksCount[t]&&!this.tasksLoading[t]&&this.wireframe&&"null-pointer"!==t?(this.tasksLoading[t]=!0,this.api.getActiveTaskInStage(this.tasks[t].length,10,this.wireframe.wireframeId,t).subscribe(i=>{this.tasks[t]=[...this.tasks[t],...i.content],this.tasksLoading[t]=!1})):this.tasks[t].length<this.tasksCount[t]&&!this.tasksLoading[t]&&this.wireframe&&"null-pointer"===t&&(this.tasksLoading["null-pointer"]=!0,this.api.getActiveTaskInStage(this.tasks["null-pointer"].length,10,this.wireframe.wireframeId,"null-pointer").subscribe(i=>{this.tasks["null-pointer"]=[...this.tasks["null-pointer"],...i.content],this.tasksLoading["null-pointer"]=!1}))}declineTask(t){return _.cQ.declineOfNumber(t,["\u0437\u0430\u0434\u0430\u0447\u0438","\u0437\u0430\u0434\u0430\u0447","\u0437\u0430\u0434\u0430\u0447"])}taskMoveApply(){const t=[];this.checkedTasks.forEach(i=>{"string"==typeof this.selectedStageToMove&&(this.taskMoving=!0,this.api.changeTaskStage(i,this.selectedStageToMove).subscribe({next:()=>{t.push(i),this.checkedTasks=this.checkedTasks.filter(s=>!t.includes(s)),0===this.checkedTasks.length&&(this.taskMovePanel.hide(),this.taskMoving=!1)},error:()=>{t.push(i),this.checkedTasks=this.checkedTasks.filter(s=>!t.includes(s)),0===this.checkedTasks.length&&(this.taskMovePanel.hide(),this.taskMoving=!1)}}))})}allTaskChecked(t,i){var s,p;!this.wireframe||("null-pointer"!==t?this.api.getActiveTaskIdsInStage(null===(s=this.wireframe)||void 0===s?void 0:s.wireframeId,t).subscribe(w=>{this.checkedTasks=i.checked?[...this.checkedTasks,...w]:this.checkedTasks.filter(Q=>!w.includes(Q))}):this.api.getActiveTaskIdsInNullStage(null===(p=this.wireframe)||void 0===p?void 0:p.wireframeId).subscribe(w=>{this.checkedTasks=i.checked?[...this.checkedTasks,...w]:this.checkedTasks.filter(Q=>!w.includes(Q))}))}getCount(t){return this.tasksCount[t]?this.tasksCount[t].toString():"0"}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(d.gz),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(pP,5),2&t){let s;e.iGM(s=e.CRH())&&(i.taskMovePanel=s.first)}},decls:20,vars:13,consts:[["appExtendPageHeight","",1,"flexed","gap10",3,"limited"],[1,"flexed","column","gap5","overflow"],[1,"caption","size-big","p10","flexed","hcenter","gap5"],[1,"material-icons-round"],[1,"stretched"],[4,"ngIf"],["appDragScrolling","",1,"stages-wrapper"],[3,"headerTemplate","itemTemplate","items","onScrollDown",4,"ngIf"],[3,"headerTemplate","itemTemplate","items","onScrollDown",4,"ngFor","ngForOf"],["taskMovePanel",""],[1,"flexed","gap10","column"],["optionLabel","label","optionValue","stageId","appendTo","body",3,"options","ngModel","ngModelChange"],["label","\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",3,"loading","onClick"],["label","\u0421\u043d\u044f\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435","icon","deselect","model","p-button-secondary p-button-outlined",3,"onClick"],["label","\u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c","icon","swap_horiz","model","p-button-outlined p-button-help",3,"disabled","onClick"],[3,"headerTemplate","itemTemplate","items","onScrollDown"],["header",""],["taskElem",""],[1,"flexed","hcenter","stretched","spbtw"],[3,"binary","onChange"],["appColorize",""],["captionForColor","\u0411\u0435\u0437 \u0441\u0442\u0430\u0434\u0438\u0438",3,"caption"],[3,"check","item","inlined","checkChange"],[3,"captionForColor","caption"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-main-menu-panel"),e.TgZ(2,"div",1)(3,"div",2)(4,"span",3),e._uU(5,"checklist"),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA(),e._UZ(8,"div",4),e.YNc(9,hP,3,3,"ng-container",5),e.qZA(),e.TgZ(10,"div",6),e.YNc(11,mP,5,3,"app-list-panel",7),e.YNc(12,vP,5,3,"app-list-panel",8),e.qZA()()(),e.TgZ(13,"p-overlayPanel",null,9)(15,"div",10)(16,"span"),e._uU(17),e.qZA(),e.TgZ(18,"p-dropdown",11),e.NdJ("ngModelChange",function(p){return i.selectedStageToMove=p}),e.qZA(),e.TgZ(19,"app-button",12),e.NdJ("onClick",function(){return i.taskMoveApply()}),e.qZA()()()),2&t){let s;e.Udp("padding-left","1rem"),e.Q6J("limited",!0),e.xp6(7),e.hij(" \u0421\u0442\u0430\u0434\u0438\u0438 \u0437\u0430\u0434\u0430\u0447: ",null==i.wireframe?null:i.wireframe.name," "),e.xp6(2),e.Q6J("ngIf",i.checkedTasks.length>0),e.xp6(2),e.Q6J("ngIf",i.tasksCount["null-pointer"]>0),e.xp6(1),e.Q6J("ngForOf",null==i.wireframe?null:i.wireframe.stages),e.xp6(5),e.AsE("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0434\u0438\u044e \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u044f ",i.checkedTasks.length," ",i.declineTask(i.checkedTasks.length),""),e.xp6(1),e.Q6J("options",null!==(s=null==i.wireframe?null:i.wireframe.stages)&&void 0!==s?s:e.DdM(12,bP))("ngModel",i.selectedStageToMove),e.xp6(1),e.Q6J("loading",i.taskMoving)}},styles:[".stages-wrapper[_ngcontent-%COMP%]{display:flex;flex:1;padding:0 2rem 2rem;gap:1rem;overflow-x:scroll;overflow-y:hidden}.stages-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{min-width:500px}.stages-content[_ngcontent-%COMP%]{display:grid;grid:1fr/max-content 1fr}.stage-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex:1;background-color:#fff}"],data:{animation:[u.U1]}}),n})();var Vu=b(3640),cA=b(5132);const xP=["pOrganizationChartNode",""];function IP(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.node.label)}}function TP(n,o){1&n&&e.GkF(0)}const AP=function(n){return{$implicit:n}};function wP(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,TP,1,0,"ng-container",7),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.chart.getTemplateForNode(t.node))("ngTemplateOutletContext",e.VKq(2,AP,t.node))}}const EP=function(n,o){return{"pi-chevron-down":n,"pi-chevron-up":o}};function SP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",8),e.NdJ("click",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.toggleNode(s,p.node))})("keydown.enter",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.toggleNode(s,p.node))}),e._UZ(1,"i",9),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.WLB(1,EP,t.node.expanded,!t.node.expanded))}}function kP(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"td"),e._UZ(2,"div",4),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.uIk("colspan",t.colspan)}}const uA=function(n){return{"p-organizationchart-line-top":n}};function DP(n,o){if(1&n&&(e.TgZ(0,"td",11),e._uU(1,"\xa0"),e.qZA(),e.TgZ(2,"td",12),e._uU(3,"\xa0"),e.qZA()),2&n){const i=o.last;e.Q6J("ngClass",e.VKq(2,uA,!o.first)),e.xp6(2),e.Q6J("ngClass",e.VKq(4,uA,!i))}}function MP(n,o){if(1&n&&(e.ynx(0),e.YNc(1,DP,4,6,"ng-template",10),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.node.children)}}function OP(n,o){if(1&n&&(e.TgZ(0,"td",13),e._UZ(1,"table",14),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("node",t)}}const PP=function(n,o){return{"p-organizationchart-node-content":!0,"p-organizationchart-selectable-node":n,"p-highlight":o}};function LP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tbody")(1,"tr")(2,"td")(3,"div",1),e.NdJ("click",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.onNodeClick(s,p.node))}),e.YNc(4,IP,2,1,"div",0),e.YNc(5,wP,2,4,"div",0),e.YNc(6,SP,2,4,"a",2),e.qZA()()(),e.TgZ(7,"tr",3)(8,"td"),e._UZ(9,"div",4),e.qZA()(),e.TgZ(10,"tr",3),e.YNc(11,kP,3,1,"ng-container",0),e.YNc(12,MP,2,1,"ng-container",0),e.qZA(),e.TgZ(13,"tr",5),e.YNc(14,OP,2,1,"td",6),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.uIk("colspan",t.colspan),e.xp6(1),e.Tol(t.node.styleClass),e.Q6J("ngClass",e.WLB(17,PP,t.chart.selectionMode&&!1!==t.node.selectable,t.isSelected())),e.xp6(1),e.Q6J("ngIf",!t.chart.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",t.chart.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",!t.leaf),e.xp6(1),e.Q6J("ngClass",!t.leaf&&t.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),e.xp6(1),e.uIk("colspan",t.colspan),e.xp6(2),e.Q6J("ngClass",!t.leaf&&t.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),e.xp6(1),e.Q6J("ngIf",t.node.children&&1===t.node.children.length),e.xp6(1),e.Q6J("ngIf",t.node.children&&t.node.children.length>1),e.xp6(1),e.Q6J("ngClass",!t.leaf&&t.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),e.xp6(1),e.Q6J("ngForOf",t.node.children)}}function RP(n,o){if(1&n&&e._UZ(0,"table",2),2&n){const t=e.oxw();e.Q6J("node",t.root)}}const NP=function(n){return{"p-organizationchart p-component":!0,"p-organizationchart-preservespace":n}};let FP=(()=>{class n{constructor(t,i){this.cd=i,this.chart=t,this.subscription=this.chart.selectionSource$.subscribe(()=>{this.cd.markForCheck()})}get leaf(){return 0!=this.node.leaf&&!(this.node.children&&this.node.children.length)}get colspan(){return this.node.children&&this.node.children.length?2*this.node.children.length:null}onNodeClick(t,i){this.chart.onNodeClick(t,i)}toggleNode(t,i){i.expanded=!i.expanded,i.expanded?this.chart.onNodeExpand.emit({originalEvent:t,node:this.node}):this.chart.onNodeCollapse.emit({originalEvent:t,node:this.node}),t.preventDefault()}isSelected(){return this.chart.isSelected(this.node)}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36((0,e.Gpc)(()=>dA)),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["","pOrganizationChartNode",""]],hostAttrs:[1,"p-element"],inputs:{node:"node",root:"root",first:"first",last:"last"},attrs:xP,decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngClass","click"],["tabindex","0","class","p-node-toggler",3,"click","keydown.enter",4,"ngIf"],[1,"p-organizationchart-lines",3,"ngClass"],[1,"p-organizationchart-line-down"],[1,"p-organizationchart-nodes",3,"ngClass"],["colspan","2",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0",1,"p-node-toggler",3,"click","keydown.enter"],[1,"p-node-toggler-icon","pi",3,"ngClass"],["ngFor","",3,"ngForOf"],[1,"p-organizationchart-line-left",3,"ngClass"],[1,"p-organizationchart-line-right",3,"ngClass"],["colspan","2"],["pOrganizationChartNode","",1,"p-organizationchart-table",3,"node"]],template:function(t,i){1&t&&e.YNc(0,LP,15,20,"tbody",0),2&t&&e.Q6J("ngIf",i.node)},dependencies:[S.mk,S.sg,S.O5,S.tP,n],styles:[".p-organizationchart-table{border-spacing:0;border-collapse:separate;margin:0 auto}.p-organizationchart-table>tbody>tr>td{text-align:center;vertical-align:top;padding:0 .75rem}.p-organizationchart-node-content{display:inline-block;position:relative}.p-organizationchart-node-content .p-node-toggler{position:absolute;bottom:-.75rem;margin-left:-.75rem;z-index:2;left:50%;-webkit-user-select:none;user-select:none;cursor:pointer;width:1.5rem;height:1.5rem}.p-organizationchart-node-content .p-node-toggler .p-node-toggler-icon{position:relative;top:.25rem}.p-organizationchart-line-down{margin:0 auto;height:20px;width:1px}.p-organizationchart-line-right,.p-organizationchart-line-left{border-radius:0}.p-organizationchart-selectable-node{cursor:pointer}.p-organizationchart .p-organizationchart-node-hidden{display:none}.p-organizationchart-preservespace .p-organizationchart-node-hidden{visibility:hidden;display:inherit}\n"],encapsulation:2,data:{animation:[(0,Ri.X$)("childState",[(0,Ri.SB)("in",(0,Ri.oB)({opacity:1})),(0,Ri.eR)("void => *",[(0,Ri.oB)({opacity:0}),(0,Ri.jt)(150)]),(0,Ri.eR)("* => void",[(0,Ri.jt)(150,(0,Ri.oB)({opacity:0}))])])]},changeDetection:0}),n})(),dA=(()=>{class n{constructor(t,i){this.el=t,this.cd=i,this.preserveSpace=!0,this.selectionChange=new e.vpe,this.onNodeSelect=new e.vpe,this.onNodeUnselect=new e.vpe,this.onNodeExpand=new e.vpe,this.onNodeCollapse=new e.vpe,this.selectionSource=new mr.x,this.selectionSource$=this.selectionSource.asObservable()}get selection(){return this._selection}set selection(t){this._selection=t,this.initialized&&this.selectionSource.next(null)}get root(){return this.value&&this.value.length?this.value[0]:null}ngAfterContentInit(){this.templates.length&&(this.templateMap={}),this.templates.forEach(t=>{this.templateMap[t.getType()]=t.template}),this.initialized=!0}getTemplateForNode(t){return this.templateMap?t.type?this.templateMap[t.type]:this.templateMap.default:null}onNodeClick(t,i){let s=t.target;if((!s.className||-1===s.className.indexOf("p-node-toggler")&&-1===s.className.indexOf("p-node-toggler-icon"))&&this.selectionMode){if(!1===i.selectable)return;let p=this.findIndexInSelection(i),w=p>=0;"single"===this.selectionMode?w?(this.selection=null,this.onNodeUnselect.emit({originalEvent:t,node:i})):(this.selection=i,this.onNodeSelect.emit({originalEvent:t,node:i})):"multiple"===this.selectionMode&&(w?(this.selection=this.selection.filter((Q,Ce)=>Ce!=p),this.onNodeUnselect.emit({originalEvent:t,node:i})):(this.selection=[...this.selection||[],i],this.onNodeSelect.emit({originalEvent:t,node:i}))),this.selectionChange.emit(this.selection),this.selectionSource.next(null)}}findIndexInSelection(t){let i=-1;if(this.selectionMode&&this.selection)if("single"===this.selectionMode)i=this.selection==t?0:-1;else if("multiple"===this.selectionMode)for(let s=0;s<this.selection.length;s++)if(this.selection[s]==t){i=s;break}return i}isSelected(t){return-1!=this.findIndexInSelection(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-organizationChart"]],contentQueries:function(t,i,s){if(1&t&&e.Suo(s,F.jx,4),2&t){let p;e.iGM(p=e.CRH())&&(i.templates=p)}},hostAttrs:[1,"p-element"],inputs:{value:"value",style:"style",styleClass:"styleClass",selectionMode:"selectionMode",preserveSpace:"preserveSpace",selection:"selection"},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse"},decls:2,vars:7,consts:[[3,"ngStyle","ngClass"],["class","p-organizationchart-table","pOrganizationChartNode","",3,"node",4,"ngIf"],["pOrganizationChartNode","",1,"p-organizationchart-table",3,"node"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,RP,1,1,"table",1),e.qZA()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngStyle",i.style)("ngClass",e.VKq(5,NP,i.preserveSpace)),e.xp6(1),e.Q6J("ngIf",i.root))},dependencies:[S.mk,S.O5,S.PC,FP],encapsulation:2,changeDetection:0}),n})(),BP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[S.ez,F.m8]}),n})();var pA=b(6888),ZP=b(6731),Xx=b(7307),eI=b(7172),UP=b(9770),eb=b(2722),tb=b(5698),HP=b(9718);function VP(n,o){}const nb=()=>{const n="undefined"!=typeof window?window:void 0;return n&&n.tinymce?n.tinymce:null};let zP=(()=>{class n{constructor(){this.onBeforePaste=new e.vpe,this.onBlur=new e.vpe,this.onClick=new e.vpe,this.onContextMenu=new e.vpe,this.onCopy=new e.vpe,this.onCut=new e.vpe,this.onDblclick=new e.vpe,this.onDrag=new e.vpe,this.onDragDrop=new e.vpe,this.onDragEnd=new e.vpe,this.onDragGesture=new e.vpe,this.onDragOver=new e.vpe,this.onDrop=new e.vpe,this.onFocus=new e.vpe,this.onFocusIn=new e.vpe,this.onFocusOut=new e.vpe,this.onKeyDown=new e.vpe,this.onKeyPress=new e.vpe,this.onKeyUp=new e.vpe,this.onMouseDown=new e.vpe,this.onMouseEnter=new e.vpe,this.onMouseLeave=new e.vpe,this.onMouseMove=new e.vpe,this.onMouseOut=new e.vpe,this.onMouseOver=new e.vpe,this.onMouseUp=new e.vpe,this.onPaste=new e.vpe,this.onSelectionChange=new e.vpe,this.onActivate=new e.vpe,this.onAddUndo=new e.vpe,this.onBeforeAddUndo=new e.vpe,this.onBeforeExecCommand=new e.vpe,this.onBeforeGetContent=new e.vpe,this.onBeforeRenderUI=new e.vpe,this.onBeforeSetContent=new e.vpe,this.onChange=new e.vpe,this.onClearUndos=new e.vpe,this.onDeactivate=new e.vpe,this.onDirty=new e.vpe,this.onExecCommand=new e.vpe,this.onGetContent=new e.vpe,this.onHide=new e.vpe,this.onInit=new e.vpe,this.onInitNgModel=new e.vpe,this.onLoadContent=new e.vpe,this.onNodeChange=new e.vpe,this.onPostProcess=new e.vpe,this.onPostRender=new e.vpe,this.onPreInit=new e.vpe,this.onPreProcess=new e.vpe,this.onProgressState=new e.vpe,this.onRedo=new e.vpe,this.onRemove=new e.vpe,this.onReset=new e.vpe,this.onResizeEditor=new e.vpe,this.onSaveContent=new e.vpe,this.onSetAttrib=new e.vpe,this.onObjectResizeStart=new e.vpe,this.onObjectResized=new e.vpe,this.onObjectSelected=new e.vpe,this.onSetContent=new e.vpe,this.onShow=new e.vpe,this.onSubmit=new e.vpe,this.onUndo=new e.vpe,this.onVisualAid=new e.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),n})();const hA=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],ib=(n,o,t)=>(0,x.R)(n,o).pipe((0,eb.R)(t)),gA=(n,o)=>"string"==typeof n?n.split(",").map(t=>t.trim()):Array.isArray(n)?n:o;let fA=0;const mA=n=>void 0!==n&&"textarea"===n.tagName.toLowerCase(),_A=n=>void 0===n||""===n?[]:Array.isArray(n)?n:n.split(" "),WP=(n,o)=>_A(n).concat(_A(o)),YP=()=>{},CA=n=>null==n,jP=(()=>{let n={script$:null};return{load:(i,s)=>n.script$||(n.script$=(0,UP.P)(()=>{const p=i.createElement("script");return p.referrerPolicy="origin",p.type="application/javascript",p.src=s,i.head.appendChild(p),(0,x.R)(p,"load").pipe((0,tb.q)(1),(0,HP.h)(void 0))}).pipe((0,cn.d)({bufferSize:1,refCount:!0}))),reinitialize:()=>{n={script$:null}}}})(),KP=new e.OlP("TINYMCE_SCRIPT_SRC"),qP={provide:f.JU,useExisting:(0,e.Gpc)(()=>bA),multi:!0};let bA=(()=>{class n extends zP{constructor(t,i,s,p){super(),this.platformId=s,this.tinymceScriptSrc=p,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=YP,this.destroy$=new mr.x,this.initialise=()=>{const w=Object.assign(Object.assign({},this.init),{selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:WP(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:Q=>{this._editor=Q,ib(Q,"init",this.destroy$).subscribe(()=>{this.initEditor(Q)}),((n,o,t)=>{(n=>{const o=gA(n.ignoreEvents,[]);return gA(n.allowedEvents,hA).filter(i=>hA.includes(i)&&!o.includes(i))})(n).forEach(s=>{const p=n[s];ib(o,s.substring(2),t).subscribe(w=>{p.observers.length>0&&n.ngZone.run(()=>p.emit({event:w,editor:o}))})})})(this,Q,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(Q)}});mA(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{nb().init(w)})},this._elementRef=t,this.ngZone=i}set disabled(t){var i;this._disabled=t,this._editor&&this._editor.initialized&&("function"==typeof(null===(i=this._editor.mode)||void 0===i?void 0:i.set)?this._editor.mode.set(t?"readonly":"design"):this._editor.setMode(t?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(t){this._editor&&this._editor.initialized?this._editor.setContent(CA(t)?"":t):this.initialValue=null===t?void 0:t}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}ngAfterViewInit(){var t;(0,S.NF)(this.platformId)&&(this.id=this.id||(n=>{const t=(new Date).getTime(),i=Math.floor(1e9*Math.random());return fA++,"tiny-angular_"+i+fA+String(t)})(),this.inline=void 0!==this.inline?!1!==this.inline:!(null===(t=this.init)||void 0===t||!t.inline),this.createElement(),null!==nb()?this.initialise():this._element&&this._element.ownerDocument&&jP.load(this._element.ownerDocument,this.getScriptSrc()).pipe((0,eb.R)(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==nb()&&nb().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,mA(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return CA(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(t){ib(t,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),ib(t,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(t))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{t.setContent(this.initialValue),t.getContent()!==this.initialValue&&this.emitOnChange(t),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(t)})}emitOnChange(t){this.onChangeCallback&&this.onChangeCallback(t.getContent({format:this.outputFormat}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.Lbi),e.Y36(KP,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[e._Bn([qP]),e.qOj,e.jDz],decls:1,vars:0,template:function(t,i){1&t&&e.YNc(0,VP,0,0,"ng-template")},dependencies:[S.ez,f.u5],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var ob=b(2436);let $P=(()=>{class n{constructor(t,i,s){this.api=t,this.rt=i,this.personality=s,this.scrollPos=0,this.pageControl=new f.NI(0),this.filtersForm=new f.cw({limit:new f.NI(15),template:new f.NI(_.Ke.loadOrDefault("incomListPageTempFilter",[])),stage:new f.NI(null),tags:new f.NI([])}),this.searchPhrase=new f.NI(""),this.pageChange$=this.pageControl.valueChanges.pipe((0,is.O)(0),(0,si.b)(()=>window.scrollTo({top:0}))),this.filtersChange$=this.filtersForm.valueChanges.pipe((0,si.b)(()=>this.pageControl.setValue(0)),(0,is.O)(this.filtersForm.value)),this.filters$=(0,Fo.a)([this.pageChange$,this.filtersChange$]).pipe((0,gt.U)(([p,w])=>[p,Object.assign(Object.assign({},w),{searchPhrase:this.searchPhrase.value})]),(0,cn.d)(1)),this.stageList=[],this.tagsList=[],this.stageList$=this.filtersForm.controls.template.valueChanges.pipe((0,is.O)(this.filtersForm.controls.template.value),(0,si.b)(p=>_.Ke.save("incomListPageTempFilter",p)),(0,R.w)(p=>(this.filtersForm.controls.stage.setValue(null,{emitEvent:!1}),1===(null==p?void 0:p.length)?this.api.getWireframeStages(p[0]).pipe((0,Xl.z)(w=>this.api.getCountIncomingTasksByStages(p[0]).pipe((0,gt.U)(Q=>w.map(Ce=>({label:Ce.label,value:Ce.stageId,orderIndex:Ce.orderIndex,tasksCount:Q[Ce.stageId]||0})))))):[])),(0,gt.U)(p=>{const w=p.sort((Q,Ce)=>Q.orderIndex-Ce.orderIndex);return w.unshift({label:"\u0412\u0441\u0435",value:null,orderIndex:-1,tasksCount:p.reduce((Q,Ce)=>Q+Ce.tasksCount,0)}),w}),(0,cn.d)(1)),this.tagsFilterControl=new f.NI(""),this.tagsNameFilter$=this.tagsFilterControl.valueChanges.pipe((0,Is.b)(300),(0,zr.x)()),this.tagsFilters$=(0,Fo.a)([this.tagsNameFilter$.pipe((0,is.O)("")),this.filtersForm.controls.template.valueChanges.pipe((0,is.O)(this.filtersForm.controls.template.value))]).pipe((0,gt.U)(([p,w])=>[p,!1])),this.tagsList$=_.aN.ofWithFilter(this.tagsFilters$,this.api.getTaskTags.bind(this.api),"taskTagId",this.rt.taskTagCreated(),this.rt.taskTagUpdated(),this.rt.taskTagDeleted()).pipe((0,R.w)(p=>{var w;return this.api.getCountIncomingTasksByWireframeIdByTags(null!==(w=this.filtersForm.controls.template.value)&&void 0!==w?w:[]).pipe((0,gt.U)(Q=>(p.value.map(Ce=>(Ce.tasksCount=Q[Ce.taskTagId]||0,Ce)),p)))})),this.taskPage$=_.aN.ofPageAltAll(this.filters$,this.api.getIncomingTasks.bind(this.api),[this.rt.taskCreated(),this.rt.taskUpdated(),this.rt.taskDeleted()]).pipe((0,cn.d)(1)),this.stageList$.subscribe(p=>this.stageList=[...p]),this.tagsList$.subscribe(p=>this.tagsList=[...p.value]),this.searchPhrase.valueChanges.pipe((0,Is.b)(1e3),(0,a.h)(p=>null===p||0===p.length)).subscribe(()=>this.pageControl.setValue(0)),this.personality.userLogin$.subscribe(p=>{this.rt.incomingTaskCountChange(p).pipe((0,a.h)(w=>this.isSelectOneTemplate&&w.id===this.firstWireframeId)).subscribe(w=>{this.stageList.forEach(Ce=>{const qe=w.stages.find($e=>Ce.value===$e.id);Ce.tasksCount=qe?qe.num:0});const Q=this.stageList.find(Ce=>null===Ce.value);Q&&(Q.tasksCount=w.stages.reduce((Ce,qe)=>Ce+qe.num,0))}),this.rt.incomingTagTaskCountChange(p).subscribe(w=>{this.tagsList.forEach(Q=>{var Ce;const qe=w[Q.taskTagId];if(qe){let $e=0;null===(Ce=this.filtersForm.value.template)||void 0===Ce||Ce.forEach($t=>{qe[$t]&&($e+=qe[$t])}),Q.tasksCount=$e}else Q.tasksCount=0})})})}get tagsListNames(){return this.tagsList.map(t=>t.name)}get isSelectOneTemplate(){var t;return 1===(null===(t=this.filtersForm.controls.template.value)||void 0===t?void 0:t.length)}get firstWireframeId(){return this.filtersForm.controls.template.value?this.filtersForm.controls.template.value[0]:0}saveScrollPos(t){this.scrollPos=t}readScrollPos(){return this.scrollPos}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(L.s),e.LFG(de.U),e.LFG(V.F))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XP(n,o){1&n&&e.GkF(0)}function e6(n,o){if(1&n&&(e.TgZ(0,"div",18)(1,"div",19),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.label," "),e.xp6(2),e.hij(" ",t.tasksCount," ")}}function t6(n,o){if(1&n&&(e.TgZ(0,"div",12)(1,"label"),e._uU(2,"\u0422\u0438\u043f"),e.qZA(),e.TgZ(3,"p-listbox",17),e.YNc(4,e6,5,2,"ng-template",15),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("options",t.ic.stageList)}}function n6(n,o){if(1&n&&e._UZ(0,"input",20),2&n){const t=e.oxw();e.Q6J("formControl",t.ic.tagsFilterControl)}}function i6(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"app-colored-tag",22),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("color",t.color)("caption",t.tasksCount)}}function o6(n,o){if(1&n&&(e.TgZ(0,"span",18)(1,"div",19),e._uU(2),e.qZA(),e.YNc(3,i6,2,2,"ng-container",21),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Udp("color",t.color),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.tasksCount)}}function s6(n,o){if(1&n&&e._UZ(0,"app-task-list-element",32),2&n){const t=o.$implicit;e.Q6J("isCommentInput",!0)("item",t)}}const r6=function(){return{flex:"1",minHeight:"2rem"}},a6=function(){return{bottom:"1rem"}};function l6(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",27),e.YNc(2,s6,1,2,"app-task-list-element",28),e.qZA(),e._UZ(3,"div"),e.TgZ(4,"div",29)(5,"p-paginator",30,31),e.NdJ("onPageChange",function(s){e.CHM(t);const p=e.oxw(3);return e.KtG(p.ic.pageControl.setValue(s.page))}),e.qZA()()()}if(2&n){const t=e.oxw().ngIf,i=e.oxw(2);let s,p,w;e.xp6(2),e.Q6J("ngForOf",t.value)("ngForTrackBy",i.taskTrack),e.xp6(1),e.Akn(e.DdM(11,r6)),e.xp6(1),e.Akn(e.DdM(12,a6)),e.xp6(1),e.Q6J("alwaysShow",!0)("rows",null!==(s=i.ic.filtersForm.value.limit)&&void 0!==s?s:1)("showCurrentPageReport",!0)("totalRecords",null!==(p=null==t?null:t.totalElements)&&void 0!==p?p:0)("first",(null!==(w=i.ic.filtersForm.value.limit)&&void 0!==w?w:1)*(null!==(w=i.ic.pageControl.value)&&void 0!==w?w:0))}}function c6(n,o){1&n&&(e.TgZ(0,"div",33),e._UZ(1,"p-progressSpinner",34),e.qZA())}function u6(n,o){1&n&&(e.TgZ(0,"div",33)(1,"span",35),e._UZ(2,"span",36),e.TgZ(3,"span"),e._uU(4," \u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u0437\u0430\u0434\u0430\u0447 \u043d\u0435\u0442 "),e.qZA()()())}function d6(n,o){if(1&n&&(e.ynx(0)(1,23),e.YNc(2,l6,7,13,"div",24),e.YNc(3,c6,2,0,"div",25),e.YNc(4,u6,5,0,"div",25),e.BQk()()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function p6(n,o){if(1&n&&(e.YNc(0,d6,5,4,"ng-container",21),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.ic.taskPage$))}}let h6=(()=>{class n{constructor(t,i,s,p){this.api=t,this.rt=i,this.personality=s,this.ic=p}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}taskTrack(t,i){return i.taskId}isNewDate(t,i){if(0===i)return!0;const s=t[i-1],p=t[i];if(!s||!p)return!1;const w=new Date(s.created);w.setHours(0,0,0,0);const Q=new Date(p.created);return Q.setHours(0,0,0,0),w.getTime()>Q.getTime()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(V.F),e.Y36($P))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:22,vars:7,consts:[["appExtendPageHeight","",1,"flex","px-3","gap-3"],[1,"flex","flex-grow-1","gap-3"],[4,"ngTemplateOutlet"],[1,"flex","flex-column","gap-3","h-fit","sticky-type-selector","px-2","pb-3",3,"formGroup"],[1,"flex","flex-column","bg-white","shadow-1","border-round","p-3","gap-2"],[1,"text-bluegray-400","text-lg","font-bold"],[1,"p-inputgroup"],["type","text","pInputText","","placeholder","\u0417\u0430\u043f\u0440\u043e\u0441...",3,"formControl","keydown.enter"],["type","button","pButton","","pRipple","","icon","mdi-search",3,"click"],["formControlName","template"],[1,"shadow-1","p-3","border-round-md","flex","flex-column","bg-white","gap-2"],["class","input-label-wrapper",4,"ngIf"],[1,"input-label-wrapper"],["formControlName","tags","optionValue","taskTagId","listStyleClass","max-h-20rem",3,"options","multiple","checkbox"],["pTemplate","filter"],["pTemplate","item"],["taskList",""],["formControlName","stage","listStyleClass","max-h-20rem",3,"options"],[1,"flex","align-items-center","w-full","justify-content-between","gap-1"],["appTicker","",1,"max-w-10rem","white-space-nowrap","overflow-hidden"],["type","text","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a",3,"formControl"],[4,"ngIf"],[3,"color","caption"],[3,"ngSwitch"],["class","flex flex-column flex-grow-1",4,"ngSwitchCase"],["class","flexed column stretched hcenter vcenter self-center",4,"ngSwitchCase"],[1,"flex","flex-column","flex-grow-1"],[1,"flex","flex-column","shadow-1","border-round-md","overflow-hidden","bg-bluegray-100","gap-1","h-fit"],[3,"isCommentInput","item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"sticky"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447","styleClass","panel",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","first","onPageChange"],["paginator",""],[3,"isCommentInput","item"],[1,"flexed","column","stretched","hcenter","vcenter","self-center"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"caption","size-big","wt-bold","f-color-500","flexed","column","hcenter","vcenter"],[1,"mds-inbox"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-main-menu-panel"),e.TgZ(2,"div",1),e.YNc(3,XP,1,0,"ng-container",2),e.TgZ(4,"div",3)(5,"div",4)(6,"span",5),e._uU(7,"\u041f\u043e\u0438\u0441\u043a \u0437\u0430\u0434\u0430\u0447"),e.qZA(),e.TgZ(8,"div",6)(9,"input",7),e.NdJ("keydown.enter",function(){return i.ic.pageControl.setValue(0)}),e.qZA(),e.TgZ(10,"button",8),e.NdJ("click",function(){return i.ic.pageControl.setValue(0)}),e.qZA()()(),e._UZ(11,"app-task-template-multi-selector",9),e.TgZ(12,"div",10),e.YNc(13,t6,5,1,"div",11),e.TgZ(14,"div",12)(15,"label"),e._uU(16,"\u0422\u0435\u0433\u0438"),e.qZA(),e.TgZ(17,"p-listbox",13),e.YNc(18,n6,1,1,"ng-template",14),e.YNc(19,o6,4,4,"ng-template",15),e.qZA()()()()()(),e.YNc(20,p6,2,3,"ng-template",null,16,e.W1O)),2&t){const s=e.MAs(21);e.xp6(3),e.Q6J("ngTemplateOutlet",s),e.xp6(1),e.Q6J("formGroup",i.ic.filtersForm),e.xp6(5),e.Q6J("formControl",i.ic.searchPhrase),e.xp6(4),e.Q6J("ngIf",i.ic.stageList.length>1&&i.ic.isSelectOneTemplate),e.xp6(4),e.Q6J("options",i.ic.tagsList)("multiple",!0)("checkbox",!0)}}}),n})();const g6=["*"],f6=["rootEl"],sf=function(n){return{$implicit:n}};function m6(n,o){if(1&n&&(e.TgZ(0,"div",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,sf,t.renderProps))}}function _6(n,o){if(1&n&&(e.TgZ(0,"span",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,sf,t.renderProps))}}function C6(n,o){if(1&n&&(e.TgZ(0,"a",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,sf,t.renderProps))}}function v6(n,o){if(1&n&&(e.TgZ(0,"tr",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,sf,t.renderProps))}}function b6(n,o){if(1&n&&(e.TgZ(0,"th",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,sf,t.renderProps))}}function y6(n,o){if(1&n&&(e.TgZ(0,"td",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,sf,t.renderProps))}}const x6=["dayHeaderContent"],I6=["dayCellContent"],T6=["weekNumberContent"],A6=["nowIndicatorContent"],w6=["eventContent"],E6=["slotLaneContent"],S6=["slotLabelContent"],k6=["allDayContent"],D6=["moreLinkContent"],M6=["noEventsContent"],O6=["resourceAreaHeaderContent"],P6=["resourceGroupLabelContent"],L6=["resourceLabelContent"],R6=["resourceLaneContent"],N6=["resourceGroupLaneContent"];function F6(n,o){if(1&n&&e._UZ(0,"transport-container",1),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("inPlaceOf",t.containerEl)("reportEl",t.reportNewContainerEl)("elTag",t.elTag)("elClasses",t.elClasses)("elStyle",t.elStyle)("elAttrs",t.elAttrs)("template",i.templateMap[t.generatorName])("renderProps",t.renderProps)}}const yA={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},B6=["events","eventSources","resources"],Z6=Object.prototype.hasOwnProperty;function sb(n){return Array.isArray(n)?n.map(sb):n instanceof Date?new Date(n.valueOf()):"object"==typeof n&&n?xA(n,sb):n}function xA(n,o){const t={};for(const i in n)Z6.call(n,i)&&(t[i]=o(n[i],i));return t}function tI(n,o){if(n===o)return!0;if(n&&o&&"object"==typeof n&&"object"==typeof o){if(n.constructor!==o.constructor)return!1;var t,i,s;if(Array.isArray(n)){if((t=n.length)!=o.length)return!1;for(i=t;0!=i--;)if(!tI(n[i],o[i]))return!1;return!0}if(n.constructor===RegExp)return n.source===o.source&&n.flags===o.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===o.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===o.toString();if((t=(s=Object.keys(n)).length)!==Object.keys(o).length)return!1;for(i=t;0!=i--;)if(!Object.prototype.hasOwnProperty.call(o,s[i]))return!1;for(i=t;0!=i--;){var p=s[i];if(!tI(n[p],o[p]))return!1}return!0}return n!=n&&o!=o}const IA=document.createDocumentFragment();let U6=(()=>{class n{constructor(t){this.element=t}ngAfterViewInit(){IA.appendChild(this.element.nativeElement)}ngOnDestroy(){IA.removeChild(this.element.nativeElement)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["offscreen-fragment"]],ngContentSelectors:g6,decls:1,vars:0,template:function(t,i){1&t&&(e.F$t(),e.Hsn(0))},encapsulation:2}),n})();const rb=document.createDocumentFragment();let H6=(()=>{class n{ngAfterViewInit(){var t;const i=null===(t=this.rootElRef)||void 0===t?void 0:t.nativeElement;TA(i,this.inPlaceOf),nI(i,void 0,this.elAttrs),this.inPlaceOf.style.display="none",this.reportEl(i)}ngOnChanges(t){var i;const s=null===(i=this.rootElRef)||void 0===i?void 0:i.nativeElement;if(s)if(this.inPlaceOf.parentNode!==rb)TA(s,this.inPlaceOf),nI(s,void 0,this.elAttrs),this.reportEl(s);else{const p=t.elAttrs;p&&nI(s,p.previousValue,p.currentValue)}}ngOnDestroy(){this.inPlaceOf.parentNode===rb&&rb.removeChild(this.inPlaceOf),this.reportEl(null)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["transport-container"]],viewQuery:function(t,i){if(1&t&&e.Gf(f6,5),2&t){let s;e.iGM(s=e.CRH())&&(i.rootElRef=s.first)}},inputs:{inPlaceOf:"inPlaceOf",reportEl:"reportEl",elTag:"elTag",elClasses:"elClasses",elStyle:"elStyle",elAttrs:"elAttrs",template:"template",renderProps:"renderProps"},features:[e.TTD],decls:6,vars:6,consts:[[3,"ngIf"],[3,"ngClass","ngStyle"],["rootEl",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(e.YNc(0,m6,3,6,"ng-template",0),e.YNc(1,_6,3,6,"ng-template",0),e.YNc(2,C6,3,6,"ng-template",0),e.YNc(3,v6,3,6,"ng-template",0),e.YNc(4,b6,3,6,"ng-template",0),e.YNc(5,y6,3,6,"ng-template",0)),2&t&&(e.Q6J("ngIf","div"==i.elTag),e.xp6(1),e.Q6J("ngIf","span"==i.elTag),e.xp6(1),e.Q6J("ngIf","a"==i.elTag),e.xp6(1),e.Q6J("ngIf","tr"==i.elTag),e.xp6(1),e.Q6J("ngIf","th"==i.elTag),e.xp6(1),e.Q6J("ngIf","td"==i.elTag))},dependencies:[S.O5,S.mk,S.PC,S.tP],encapsulation:2}),n})();function TA(n,o){var t;null===(t=o.parentNode)||void 0===t||t.insertBefore(n,o.nextSibling),rb.appendChild(o)}function nI(n,o={},t={}){for(const i in o)i in t||(n[i]=null);for(const i in t)n[i]=t[i]}let V6=(()=>{class n{constructor(t,i){this.element=t,this.calendar=null,this.optionSnapshot={},this.customRenderingMap=new Map,this.templateMap={};const s=new El;s.subscribe(p=>{this.customRenderingMap=p,this.customRenderingArray=void 0,i.detectChanges()}),this.handleCustomRendering=s.handle.bind(s),this.templateMap=this}ngAfterViewInit(){const{deepChangeDetection:t}=this,i=Object.assign(Object.assign({},this.options),this.buildInputOptions());this.optionSnapshot=xA(i,(Q,Ce)=>t&&yA[Ce]?sb(Q):Q);const s=this.element.nativeElement,p=this.calendar=new Ly(s,Object.assign(Object.assign({},i),this.buildExtraOptions())),w=s.closest("ion-content");w&&w.componentOnReady?w.componentOnReady().then(()=>{window.requestAnimationFrame(()=>{p.render()})}):p.render()}ngDoCheck(){if(this.calendar){const{deepChangeDetection:t,optionSnapshot:i}=this,s=Object.assign(Object.assign({},this.options),this.buildInputOptions()),p={},w=[];for(const Ce in s)if(s.hasOwnProperty(Ce)){let qe=s[Ce];t&&yA[Ce]?tI(i[Ce],qe)||(i[Ce]=sb(qe),w.push(Ce)):i[Ce]!==qe&&(i[Ce]=qe,w.push(Ce)),p[Ce]=qe}const Q=Object.keys(i);for(const Ce of Q)Ce in s||(delete i[Ce],w.push(Ce));w.length&&(this.calendar.pauseRendering(),this.calendar.resetOptions(Object.assign(Object.assign({},p),this.buildExtraOptions()),w))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}get customRenderings(){return this.customRenderingArray||(this.customRenderingArray=[...this.customRenderingMap.values()])}getApi(){return this.calendar}buildInputOptions(){const t={};for(const i of B6){const s=this[i];null!=s&&(t[i]=s)}return t}buildExtraOptions(){return{handleCustomRendering:this.handleCustomRendering,customRenderingMetaMap:this.templateMap,customRenderingReplacesEl:!0}}trackCustomRendering(t,i){return i.id}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["full-calendar"]],contentQueries:function(t,i,s){if(1&t&&(e.Suo(s,x6,7),e.Suo(s,I6,7),e.Suo(s,T6,7),e.Suo(s,A6,7),e.Suo(s,w6,7),e.Suo(s,E6,7),e.Suo(s,S6,7),e.Suo(s,k6,7),e.Suo(s,D6,7),e.Suo(s,M6,7),e.Suo(s,O6,7),e.Suo(s,P6,7),e.Suo(s,L6,7),e.Suo(s,R6,7),e.Suo(s,N6,7)),2&t){let p;e.iGM(p=e.CRH())&&(i.dayHeaderContent=p.first),e.iGM(p=e.CRH())&&(i.dayCellContent=p.first),e.iGM(p=e.CRH())&&(i.weekNumberContent=p.first),e.iGM(p=e.CRH())&&(i.nowIndicatorContent=p.first),e.iGM(p=e.CRH())&&(i.eventContent=p.first),e.iGM(p=e.CRH())&&(i.slotLaneContent=p.first),e.iGM(p=e.CRH())&&(i.slotLabelContent=p.first),e.iGM(p=e.CRH())&&(i.allDayContent=p.first),e.iGM(p=e.CRH())&&(i.moreLinkContent=p.first),e.iGM(p=e.CRH())&&(i.noEventsContent=p.first),e.iGM(p=e.CRH())&&(i.resourceAreaHeaderContent=p.first),e.iGM(p=e.CRH())&&(i.resourceGroupLabelContent=p.first),e.iGM(p=e.CRH())&&(i.resourceLabelContent=p.first),e.iGM(p=e.CRH())&&(i.resourceLaneContent=p.first),e.iGM(p=e.CRH())&&(i.resourceGroupLaneContent=p.first)}},inputs:{options:"options",deepChangeDetection:"deepChangeDetection",events:"events",eventSources:"eventSources",resources:"resources"},decls:2,vars:2,consts:[[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps",4,"ngFor","ngForOf","ngForTrackBy"],[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps"]],template:function(t,i){1&t&&(e.TgZ(0,"offscreen-fragment"),e.YNc(1,F6,1,8,"transport-container",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.customRenderings)("ngForTrackBy",i.trackCustomRendering))},dependencies:[U6,H6,S.sg],encapsulation:2}),n})(),z6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[S.ez]]}),n})();var iI=b(330),J6=b(9618),ab=b(7658);let bL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[S.ez,Dl.U,be.T,Yd.v,F.m8,Yd.v]}),n})();var wA=b(4776),EA=b(4496),yL=b(9955);const xL=["inputtext"];function IL(n,o){1&n&&e.GkF(0)}function TL(n,o){if(1&n&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Oqu(i.field?i.resolveFieldData(t,i.field):t)}}function AL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",13),e.NdJ("click",function(s){e.CHM(t);const p=e.oxw().index,w=e.oxw();return e.KtG(w.removeItem(s,p))}),e.qZA()}}const wL=function(n){return{$implicit:n}};function EL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",7,8),e.NdJ("click",function(s){const w=e.CHM(t).$implicit,Q=e.oxw();return e.KtG(Q.onItemClick(s,w))}),e.YNc(2,IL,1,0,"ng-container",9),e.YNc(3,TL,2,1,"span",10),e.YNc(4,AL,1,0,"span",11),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",e.VKq(4,wL,t)),e.xp6(1),e.Q6J("ngIf",!i.itemTemplate),e.xp6(1),e.Q6J("ngIf",!i.disabled)}}function SL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"i",14),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.clear())}),e.qZA()}}const kL=function(n,o){return{"p-inputtext p-chips-multiple-container":!0,"p-focus":n,"p-disabled":o}},DL=function(n){return{"p-chips-clearable":n}},ML={provide:f.JU,useExisting:(0,e.Gpc)(()=>SA),multi:!0};let SA=(()=>{class n{constructor(t,i){this.el=t,this.cd=i,this.allowDuplicate=!0,this.showClear=!1,this.onAdd=new e.vpe,this.onRemove=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onChipClick=new e.vpe,this.onClear=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(t=>{t.getType(),this.itemTemplate=t.template}),this.updateFilledState()}onClick(){this.inputViewChild.nativeElement.focus()}onInput(){this.updateFilledState()}onPaste(t){this.disabled||(this.separator&&((t.clipboardData||window.clipboardData).getData("Text").split(this.separator).forEach(s=>{this.addItem(t,s,!0)}),this.inputViewChild.nativeElement.value=""),this.updateFilledState())}updateFilledState(){this.filled=!(!this.value||0===this.value.length)||this.inputViewChild&&this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}onItemClick(t,i){this.onChipClick.emit({originalEvent:t,value:i})}writeValue(t){this.value=t,this.updateMaxedOut(),this.updateFilledState(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}resolveFieldData(t,i){if(t&&i){if(-1==i.indexOf("."))return t[i];{let w=i.split("."),Q=t;for(var s=0,p=w.length;s<p;++s)Q=Q[w[s]];return Q}}return null}onInputFocus(t){this.focus=!0,this.onFocus.emit(t)}onInputBlur(t){this.focus=!1,this.addOnBlur&&this.inputViewChild.nativeElement.value&&this.addItem(t,this.inputViewChild.nativeElement.value,!1),this.onModelTouched(),this.onBlur.emit(t)}removeItem(t,i){if(this.disabled)return;let s=this.value[i];this.value=this.value.filter((p,w)=>w!=i),this.onModelChange(this.value),this.onRemove.emit({originalEvent:t,value:s}),this.updateFilledState(),this.updateMaxedOut()}addItem(t,i,s){this.value=this.value||[],i&&i.trim().length&&(this.allowDuplicate||-1===this.value.indexOf(i))&&(this.value=[...this.value,i],this.onModelChange(this.value),this.onAdd.emit({originalEvent:t,value:i})),this.updateFilledState(),this.updateMaxedOut(),this.inputViewChild.nativeElement.value="",s&&t.preventDefault()}clear(){this.value=null,this.updateFilledState(),this.onModelChange(this.value),this.onClear.emit()}onKeydown(t){switch(t.which){case 8:if(0===this.inputViewChild.nativeElement.value.length&&this.value&&this.value.length>0){this.value=[...this.value];let i=this.value.pop();this.onModelChange(this.value),this.onRemove.emit({originalEvent:t,value:i}),this.updateFilledState()}break;case 13:this.addItem(t,this.inputViewChild.nativeElement.value,!0);break;case 9:this.addOnTab&&""!==this.inputViewChild.nativeElement.value&&this.addItem(t,this.inputViewChild.nativeElement.value,!0);break;default:this.max&&this.value&&this.max===this.value.length?t.preventDefault():this.separator&&(this.separator===t.key||t.key.match(this.separator))&&this.addItem(t,this.inputViewChild.nativeElement.value,!0)}}updateMaxedOut(){this.inputViewChild&&this.inputViewChild.nativeElement&&(this.max&&this.value&&this.max===this.value.length?(this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=!0):(this.disabled&&this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=this.disabled||!1))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-chips"]],contentQueries:function(t,i,s){if(1&t&&e.Suo(s,F.jx,4),2&t){let p;e.iGM(p=e.CRH())&&(i.templates=p)}},viewQuery:function(t,i){if(1&t&&e.Gf(xL,5),2&t){let s;e.iGM(s=e.CRH())&&(i.inputViewChild=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(t,i){2&t&&e.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus)("p-chips-clearable",i.showClear)},inputs:{style:"style",styleClass:"styleClass",disabled:"disabled",field:"field",placeholder:"placeholder",max:"max",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",allowDuplicate:"allowDuplicate",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",addOnTab:"addOnTab",addOnBlur:"addOnBlur",separator:"separator",showClear:"showClear"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onFocus:"onFocus",onBlur:"onBlur",onChipClick:"onChipClick",onClear:"onClear"},features:[e._Bn([ML])],decls:8,vars:21,consts:[[3,"ngClass","ngStyle","click"],[3,"ngClass"],["class","p-chips-token",3,"click",4,"ngFor","ngForOf"],[1,"p-chips-input-token",3,"ngClass"],["type","text",3,"disabled","ngStyle","keydown","input","paste","focus","blur"],["inputtext",""],["class","p-chips-clear-icon pi pi-times",3,"click",4,"ngIf"],[1,"p-chips-token",3,"click"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-chips-token-label",4,"ngIf"],["class","p-chips-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-chips-token-label"],[1,"p-chips-token-icon","pi","pi-times-circle",3,"click"],[1,"p-chips-clear-icon","pi","pi-times",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return i.onClick()}),e.TgZ(1,"ul",1),e.YNc(2,EL,5,6,"li",2),e.TgZ(3,"li",3)(4,"input",4,5),e.NdJ("keydown",function(p){return i.onKeydown(p)})("input",function(){return i.onInput()})("paste",function(p){return i.onPaste(p)})("focus",function(p){return i.onInputFocus(p)})("blur",function(p){return i.onInputBlur(p)}),e.qZA()(),e.TgZ(6,"li"),e.YNc(7,SL,1,0,"i",6),e.qZA()()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass","p-chips p-component")("ngStyle",i.style),e.xp6(1),e.Q6J("ngClass",e.WLB(16,kL,i.focus,i.disabled)),e.xp6(1),e.Q6J("ngForOf",i.value),e.xp6(1),e.Q6J("ngClass",e.VKq(19,DL,i.showClear&&!i.disabled)),e.xp6(1),e.Tol(i.inputStyleClass),e.Q6J("disabled",i.disabled)("ngStyle",i.inputStyle),e.uIk("id",i.inputId)("placeholder",i.value&&i.value.length?null:i.placeholder)("tabindex",i.tabindex)("aria-labelledby",i.ariaLabelledBy),e.xp6(3),e.Q6J("ngIf",null!=i.value&&i.filled&&!i.disabled&&i.showClear))},dependencies:[S.mk,S.sg,S.O5,S.tP,S.PC],styles:[".p-chips{display:inline-flex}.p-chips-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-chips-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto;max-width:100%}.p-chips-token-label{min-width:0%;overflow:auto}.p-chips-token-label::-webkit-scrollbar{display:none}.p-chips-input-token{flex:1 1 auto;display:inline-flex}.p-chips-token-icon{cursor:pointer}.p-chips-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-chips{display:flex}.p-chips-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-chips-clearable .p-inputtext{position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),OL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[S.ez,bi.j,F.m8,bi.j,F.m8]}),n})();var kA=b(2537),PL=b(5032);const DA=new su.y(PL.Z);var oI=b(2076),LL=b(2843);const RL=["container"];class MA{constructor(o){this.ngZone=o,this.pending=[],this.listeners=[],this.targetStream=new $a.X(void 0)}getLazyEmitter(o){return this.targetStream.pipe((0,R.w)(t=>{const i=new su.y(s=>{if(!t)return void this.pending.push({observable:i,observer:s});const p=Q=>{const Ce={event:Q,target:t,ymaps};this.ngZone.run(()=>s.next(Ce))},w=t.events.add(o,p);return this.listeners.push({name:o,callback:p,manager:w}),()=>w.remove(o,p)});return i}))}setTarget(o){const t=this.targetStream.value;o!==t&&(t&&(this.clearListeners(),this.pending=[]),this.targetStream.next(o),this.pending.forEach(i=>i.observable.subscribe(i.observer)),this.pending=[])}destroy(){this.clearListeners(),this.pending=[],this.targetStream.complete()}clearListeners(){this.listeners.forEach(o=>{const{name:t,callback:i,manager:s}=o;s.remove(t,i)}),this.listeners=[]}}const OA=new e.OlP("YA_CONFIG");let FL=(()=>{class n{constructor(t,i,s){this.document=i,this.isBrowser=(0,S.NF)(s),this.config=Object.assign(Object.assign({},{lang:"ru_RU"}),t)}load(){if(!this.isBrowser)return DA;if(window.ymaps)return(0,oI.D)(ymaps.ready()).pipe((0,gt.U)(()=>ymaps));if(!this.script){const s=this.document.createElement("script");s.type="text/javascript",s.src=this.getScriptSource(this.config),s.id="yandexMapsApiScript",s.async=!0,s.defer=!0,this.script=this.document.body.appendChild(s)}const t=(0,x.R)(this.script,"load").pipe((0,R.w)(()=>(0,oI.D)(ymaps.ready())),(0,gt.U)(()=>ymaps)),i=(0,x.R)(this.script,"error").pipe((0,R.w)(LL._));return(0,so.T)(t,i).pipe((0,tb.q)(1))}getScriptSource(t){const{enterprise:i,version:s="2.1"}=t,p=(0,qa._T)(t,["enterprise","version"]);return`https://${i?"enterprise.":""}api-maps.yandex.ru/${s}/?${this.convertConfigIntoQueryParams(p)}`}convertConfigIntoQueryParams(t){return Object.entries(t).map(([i,s])=>`${i}=${s}`).join("&")}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(OA,8),e.LFG(S.K0),e.LFG(e.Lbi))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PA=(()=>{class n{constructor(t,i){this.ngZone=t,this.yaApiLoaderService=i,this.destroy$=new mr.x,this.eventManager=new MA(this.ngZone),this.map$=new $a.X(null),this.ready=new e.vpe,this.actionbegin=this.eventManager.getLazyEmitter("actionbegin"),this.actionbreak=this.eventManager.getLazyEmitter("actionbreak"),this.actionend=this.eventManager.getLazyEmitter("actionend"),this.actiontick=this.eventManager.getLazyEmitter("actiontick"),this.actiontickcomplete=this.eventManager.getLazyEmitter("actiontickcomplete"),this.balloonclose=this.eventManager.getLazyEmitter("balloonclose"),this.balloonopen=this.eventManager.getLazyEmitter("balloonopen"),this.boundschange=this.eventManager.getLazyEmitter("boundschange"),this.yaclick=this.eventManager.getLazyEmitter("click"),this.yacontextmenu=this.eventManager.getLazyEmitter("contextmenu"),this.yadblclick=this.eventManager.getLazyEmitter("dblclick"),this.destroy=this.eventManager.getLazyEmitter("destroy"),this.hintclose=this.eventManager.getLazyEmitter("hintclose"),this.hintopen=this.eventManager.getLazyEmitter("hintopen"),this.marginchange=this.eventManager.getLazyEmitter("marginchange"),this.yamousedown=this.eventManager.getLazyEmitter("mousedown"),this.yamouseenter=this.eventManager.getLazyEmitter("mouseenter"),this.yamouseleave=this.eventManager.getLazyEmitter("mouseleave"),this.yamousemove=this.eventManager.getLazyEmitter("mousemove"),this.yamouseup=this.eventManager.getLazyEmitter("mouseup"),this.multitouchend=this.eventManager.getLazyEmitter("multitouchend"),this.multitouchmove=this.eventManager.getLazyEmitter("multitouchmove"),this.multitouchstart=this.eventManager.getLazyEmitter("multitouchstart"),this.optionschange=this.eventManager.getLazyEmitter("optionschange"),this.sizechange=this.eventManager.getLazyEmitter("sizechange"),this.typechange=this.eventManager.getLazyEmitter("typechange"),this.yawheel=this.eventManager.getLazyEmitter("wheel")}ngOnChanges(t){const i=this.map$.value;if(i){const{center:s,zoom:p,state:w,options:Q}=t;w&&this.setState(this.combineState(),i),s&&i.setCenter(s.currentValue),p&&i.setZoom(p.currentValue),Q&&i.options.set(Q.currentValue)}}ngAfterViewInit(){this.yaApiLoaderService.load().pipe((0,tb.q)(1),(0,eb.R)(this.destroy$)).subscribe(()=>{const t=`f${Date.now().toString(16)}`,i=this.createMap(t);this.map$.next(i),this.eventManager.setTarget(i),this.ngZone.run(()=>this.ready.emit({ymaps,target:i}))})}ngOnDestroy(){this.eventManager.destroy(),this.destroy$.next(),this.destroy$.complete()}setState(t,i){const{behaviors:s,bounds:p,center:w,controls:Q,margin:Ce,type:qe,zoom:$e}=t;s&&i.behaviors.enable(s),p&&i.setBounds(p),w&&i.setCenter(w),Q&&Q.forEach($t=>i.controls.add($t)),Ce&&i.margin.setDefaultMargin(Ce),qe&&i.setType(qe),$e&&i.setZoom($e)}createMap(t){const i=this.container.nativeElement;return i.setAttribute("id",t),i.style.cssText="width: 100%; height: 100%;",new ymaps.Map(t,this.combineState(),this.options||{})}combineState(){var t,i;const s=this.state||{};return Object.assign(Object.assign({},s),{center:this.center||s.center||[0,0],zoom:null!==(i=null!==(t=this.zoom)&&void 0!==t?t:s.zoom)&&void 0!==i?i:10})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.R0b),e.Y36(FL))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ya-map"]],viewQuery:function(t,i){if(1&t&&e.Gf(RL,5),2&t){let s;e.iGM(s=e.CRH())&&(i.container=s.first)}},inputs:{center:"center",zoom:"zoom",state:"state",options:"options"},outputs:{ready:"ready",actionbegin:"actionbegin",actionbreak:"actionbreak",actionend:"actionend",actiontick:"actiontick",actiontickcomplete:"actiontickcomplete",balloonclose:"balloonclose",balloonopen:"balloonopen",boundschange:"boundschange",yaclick:"yaclick",yacontextmenu:"yacontextmenu",yadblclick:"yadblclick",destroy:"destroy",hintclose:"hintclose",hintopen:"hintopen",marginchange:"marginchange",yamousedown:"yamousedown",yamouseenter:"yamouseenter",yamouseleave:"yamouseleave",yamousemove:"yamousemove",yamouseup:"yamouseup",multitouchend:"multitouchend",multitouchmove:"multitouchmove",multitouchstart:"multitouchstart",optionschange:"optionschange",sizechange:"sizechange",typechange:"typechange",yawheel:"yawheel"},features:[e.TTD],decls:2,vars:0,consts:[["container",""]],template:function(t,i){1&t&&e._UZ(0,"div",null,0)},encapsulation:2,changeDetection:0}),n})(),BL=(()=>{class n{constructor(t,i){this.ngZone=t,this.yaMapComponent=i,this.destroy$=new mr.x,this.eventManager=new MA(this.ngZone),this.ready=new e.vpe,this.balloonclose=this.eventManager.getLazyEmitter("balloonclose"),this.balloonopen=this.eventManager.getLazyEmitter("balloonopen"),this.beforedrag=this.eventManager.getLazyEmitter("beforedrag"),this.beforedragstart=this.eventManager.getLazyEmitter("beforedragstart"),this.yaclick=this.eventManager.getLazyEmitter("click"),this.yacontextmenu=this.eventManager.getLazyEmitter("contextmenu"),this.yadblclick=this.eventManager.getLazyEmitter("dblclick"),this.yadrag=this.eventManager.getLazyEmitter("drag"),this.yadragend=this.eventManager.getLazyEmitter("dragend"),this.yadragstart=this.eventManager.getLazyEmitter("dragstart"),this.editorstatechange=this.eventManager.getLazyEmitter("editorstatechange"),this.geometrychange=this.eventManager.getLazyEmitter("geometrychange"),this.hintclose=this.eventManager.getLazyEmitter("hintclose"),this.hintopen=this.eventManager.getLazyEmitter("hintopen"),this.mapchange=this.eventManager.getLazyEmitter("mapchange"),this.yamousedown=this.eventManager.getLazyEmitter("mousedown"),this.yamouseenter=this.eventManager.getLazyEmitter("mouseenter"),this.yamouseleave=this.eventManager.getLazyEmitter("mouseleave"),this.yamousemove=this.eventManager.getLazyEmitter("mousemove"),this.yamouseup=this.eventManager.getLazyEmitter("mouseup"),this.multitouchend=this.eventManager.getLazyEmitter("multitouchend"),this.multitouchmove=this.eventManager.getLazyEmitter("multitouchmove"),this.multitouchstart=this.eventManager.getLazyEmitter("multitouchstart"),this.optionschange=this.eventManager.getLazyEmitter("optionschange"),this.overlaychange=this.eventManager.getLazyEmitter("overlaychange"),this.parentchange=this.eventManager.getLazyEmitter("parentchange"),this.propertieschange=this.eventManager.getLazyEmitter("propertieschange"),this.yawheel=this.eventManager.getLazyEmitter("wheel")}ngOnChanges(t){var i;const{placemark:s}=this;if(s){const{geometry:p,properties:w,options:Q}=t;p&&(null===(i=s.geometry)||void 0===i||i.setCoordinates(p.currentValue)),w&&s.properties.set(w.currentValue),Q&&s.options.set(Q.currentValue)}}ngOnInit(){this.yaMapComponent.map$.pipe((0,a.h)(Boolean),(0,tb.q)(1),(0,eb.R)(this.destroy$)).subscribe(t=>{const i=this.createPlacemark();this.placemark=i,t.geoObjects.add(i),this.eventManager.setTarget(i),this.ngZone.run(()=>this.ready.emit({ymaps,target:i}))})}ngOnDestroy(){var t,i;this.placemark&&(null===(i=null===(t=this.yaMapComponent)||void 0===t?void 0:t.map$.value)||void 0===i||i.geoObjects.remove(this.placemark),this.eventManager.destroy()),this.destroy$.next(),this.destroy$.complete()}createPlacemark(){return new ymaps.Placemark(this.geometry,this.properties,this.options)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.R0b),e.Y36(PA))},n.\u0275dir=e.lG2({type:n,selectors:[["ya-placemark"]],inputs:{geometry:"geometry",properties:"properties",options:"options"},outputs:{ready:"ready",balloonclose:"balloonclose",balloonopen:"balloonopen",beforedrag:"beforedrag",beforedragstart:"beforedragstart",yaclick:"yaclick",yacontextmenu:"yacontextmenu",yadblclick:"yadblclick",yadrag:"yadrag",yadragend:"yadragend",yadragstart:"yadragstart",editorstatechange:"editorstatechange",geometrychange:"geometrychange",hintclose:"hintclose",hintopen:"hintopen",mapchange:"mapchange",yamousedown:"yamousedown",yamouseenter:"yamouseenter",yamouseleave:"yamouseleave",yamousemove:"yamousemove",yamouseup:"yamouseup",multitouchend:"multitouchend",multitouchmove:"multitouchmove",multitouchstart:"multitouchstart",optionschange:"optionschange",overlaychange:"overlaychange",parentchange:"parentchange",propertieschange:"propertieschange",yawheel:"yawheel"},features:[e.TTD]}),n})(),ZL=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:OA,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var UL=b(6954),LA=b(7433);function HL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"img",6),e.NdJ("error",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.imageError(s))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("src",t.image,e.LSH)}}function VL(n,o){if(1&n&&e._UZ(0,"span",8),2&n){const t=e.oxw(3);e.Tol(t.icon),e.Q6J("ngClass","p-chip-icon")}}function zL(n,o){if(1&n&&e.YNc(0,VL,1,3,"span",7),2&n){const t=e.oxw(2);e.Q6J("ngIf",t.icon)}}function JL(n,o){if(1&n&&(e.TgZ(0,"div",9),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.label)}}function QL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",10),e.NdJ("click",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.close(s))})("keydown.enter",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.close(s))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Tol(t.removeIcon),e.Q6J("ngClass","pi-chip-remove-icon")}}function GL(n,o){if(1&n&&(e.TgZ(0,"div",1),e.Hsn(1),e.YNc(2,HL,1,1,"img",2),e.YNc(3,zL,1,1,"ng-template",null,3,e.W1O),e.YNc(5,JL,2,1,"div",4),e.YNc(6,QL,1,3,"span",5),e.qZA()),2&n){const t=e.MAs(4),i=e.oxw();e.Tol(i.styleClass),e.Q6J("ngClass",i.containerClass())("ngStyle",i.style),e.xp6(2),e.Q6J("ngIf",i.image)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",i.label),e.xp6(1),e.Q6J("ngIf",i.removable)}}const WL=["*"];let YL=(()=>{class n{constructor(){this.removeIcon="pi pi-times-circle",this.onRemove=new e.vpe,this.onImageError=new e.vpe,this.visible=!0}containerClass(){return{"p-chip p-component":!0,"p-chip-image":null!=this.image}}close(t){this.visible=!1,this.onRemove.emit(t)}imageError(t){this.onImageError.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-chip"]],hostAttrs:[1,"p-element"],inputs:{label:"label",icon:"icon",image:"image",style:"style",styleClass:"styleClass",removable:"removable",removeIcon:"removeIcon"},outputs:{onRemove:"onRemove",onImageError:"onImageError"},ngContentSelectors:WL,decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"],[3,"src","error",4,"ngIf","ngIfElse"],["iconTemplate",""],["class","p-chip-text",4,"ngIf"],["tabindex","0",3,"class","ngClass","click","keydown.enter",4,"ngIf"],[3,"src","error"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-chip-text"],["tabindex","0",3,"ngClass","click","keydown.enter"]],template:function(t,i){1&t&&(e.F$t(),e.YNc(0,GL,7,8,"div",0)),2&t&&e.Q6J("ngIf",i.visible)},dependencies:[S.mk,S.O5,S.PC],styles:[".p-chip{display:inline-flex;align-items:center}.p-chip-text,.p-chip-icon.pi{line-height:1.5}.pi-chip-remove-icon{line-height:1.5;cursor:pointer}.p-chip img{border-radius:50%}\n"],encapsulation:2,changeDetection:0}),n})(),jL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[S.ez]}),n})();var RA=b(7575),_r=b(5948),af=b(1828);let NA=(()=>{class n{constructor(){this.chooserControl=new f.NI([]),this.options=[{name:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435",value:he.hY.ACTIVE},{name:"\u0423 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432",value:he.hY.PROCESSING},{name:"\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435",value:he.hY.CLOSE}],this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this.chooserControl.valueChanges.subscribe(t=>{this.onChange(t||[])})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?this.chooserControl.disable({emitEvent:!1}):this.chooserControl.enable({emitEvent:!1})}writeValue(t){this.chooserControl.setValue(t||[])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-status-chooser"]],features:[e._Bn([{provide:f.JU,multi:!0,useExisting:n}])],decls:1,vars:3,consts:[["optionLabel","name","optionValue","value",3,"options","formControl","multiple"]],template:function(t,i){1&t&&e._UZ(0,"p-selectButton",0),2&t&&e.Q6J("options",i.options)("formControl",i.chooserControl)("multiple",!0)},dependencies:[f.JJ,f.oH,q_.UN]}),n})();var FA=b(1886),KL=b(1004);function qL(n,o){if(1&n&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.label)}}function $L(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.label," ")}}const XL=function(){return[]};let eR=(()=>{class n{constructor(t){this.api=t,this.control=new f.NI([]),this.clientEquipmentSuggestion=new mr.x,this.clientEquipments$=this.clientEquipmentSuggestion.pipe((0,Is.b)(500),(0,Xl.z)(i=>i?this.api.getClientEquipmentsSuggestions(i):this.api.getClientEquipmentsSuggestions())),this.isDisabled=!1,this.changeIsDisabled=new e.vpe,this.onBlur=new e.vpe,this.onChange=i=>{},this.onTouched=()=>{}}ngOnInit(){this.changeValueSubscription=this.control.valueChanges.pipe((0,gt.U)(t=>t?t.map(i=>({equipmentRealization:parseInt(i.value)})):[])).subscribe(t=>this.onChange(t))}ngOnDestroy(){var t;null===(t=this.changeValueSubscription)||void 0===t||t.unsubscribe()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t}writeValue(t){this.api.getClientEquipmentsSuggestions().pipe((0,gt.U)(i=>t?t.map(s=>i.find(p=>parseInt(p.value)===s.equipmentRealization)).filter(s=>void 0!==s):[])).subscribe(i=>{this.control.setValue(i)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-equipments-field-filter"]],inputs:{isDisabled:"isDisabled"},outputs:{changeIsDisabled:"changeIsDisabled",onBlur:"onBlur"},features:[e._Bn([{provide:f.JU,multi:!0,useExisting:(0,e.Gpc)(()=>n)}])],decls:4,vars:7,consts:[["placeholder","\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435","styleClass","w-full block transparent-ac-token","inputStyleClass","w-10rem","appendTo","body",3,"suggestions","formControl","multiple","completeOnFocus","onBlur","completeMethod"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"px-2","py-1","bg-primary-50","text-primary-400","border-round-md","font-bold","text-xs"]],template:function(t,i){if(1&t&&(e.TgZ(0,"p-autoComplete",0),e.NdJ("onBlur",function(){return i.onTouched()})("completeMethod",function(p){return i.clientEquipmentSuggestion.next(p.query)}),e.ALo(1,"async"),e.YNc(2,qL,2,1,"ng-template",1),e.YNc(3,$L,2,1,"ng-template",2),e.qZA()),2&t){let s;e.Q6J("suggestions",null!==(s=e.lcZ(1,4,i.clientEquipments$))&&void 0!==s?s:e.DdM(6,XL))("formControl",i.control)("multiple",!0)("completeOnFocus",!0)}},dependencies:[f.JJ,F.jx,f.oH,N.Qc,S.Ov]}),n})();function tR(n,o){1&n&&e.GkF(0)}const nR=function(){return{label:"\u0414\u0430",value:!0}},iR=function(){return{label:"\u041d\u0435\u0442",value:!1}},oR=function(){return{label:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",value:null}},sR=function(n,o,t){return[n,o,t]};function rR(n,o){if(1&n&&(e.TgZ(0,"div",5),e.YNc(1,tR,1,0,"ng-container",6),e._UZ(2,"p-dropdown",7),e.qZA()),2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t),e.xp6(1),e.Q6J("options",e.kEZ(5,sR,e.DdM(2,nR),e.DdM(3,iR),e.DdM(4,oR)))}}function aR(n,o){1&n&&e.GkF(0)}function lR(n,o){if(1&n&&(e.TgZ(0,"div",5),e.YNc(1,aR,1,0,"ng-container",6),e._UZ(2,"input",8),e.qZA()),2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function cR(n,o){1&n&&e.GkF(0)}function uR(n,o){if(1&n&&(e.TgZ(0,"div",5),e.YNc(1,cR,1,0,"ng-container",6),e._UZ(2,"input",8),e.qZA()),2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function dR(n,o){1&n&&e.GkF(0)}function pR(n,o){if(1&n&&(e.TgZ(0,"div",5),e.YNc(1,dR,1,0,"ng-container",6),e._UZ(2,"p-inputNumber",9),e.qZA()),2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function hR(n,o){1&n&&e.GkF(0)}function gR(n,o){if(1&n&&(e.TgZ(0,"div",5),e.YNc(1,hR,1,0,"ng-container",6),e._UZ(2,"p-inputNumber",10),e.qZA()),2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t),e.xp6(1),e.Q6J("minFractionDigits",1)}}function fR(n,o){1&n&&e.GkF(0)}function mR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5),e.YNc(1,fR,1,0,"ng-container",6),e.TgZ(2,"app-address-input-alt",11),e.NdJ("onBlur",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onTouched())}),e.qZA()()}if(2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function _R(n,o){1&n&&e.GkF(0)}function CR(n,o){if(1&n&&(e.TgZ(0,"div",5),e.YNc(1,_R,1,0,"ng-container",6),e._UZ(2,"input",12),e.qZA()),2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function vR(n,o){1&n&&e.GkF(0)}const BA=function(){return[]};function bR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5),e.YNc(1,vR,1,0,"ng-container",6),e.TgZ(2,"p-dropdown",13),e.NdJ("onBlur",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onTouched())}),e.ALo(3,"async"),e.qZA()()}if(2&n){const t=e.oxw(2),i=e.MAs(2);let s;e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("options",null!==(s=e.lcZ(3,3,t.adSources$))&&void 0!==s?s:e.DdM(5,BA))("showClear",!0)}}function yR(n,o){1&n&&e.GkF(0)}function xR(n,o){if(1&n&&(e.TgZ(0,"div",5),e.YNc(1,yR,1,0,"ng-container",6),e._UZ(2,"input",12),e.qZA()),2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function IR(n,o){1&n&&e.GkF(0)}function TR(n,o){if(1&n&&(e.TgZ(0,"div",5),e.YNc(1,IR,1,0,"ng-container",6),e._UZ(2,"input",14),e.qZA()),2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function AR(n,o){1&n&&e.GkF(0)}function wR(n,o){if(1&n&&(e.TgZ(0,"div",5),e.YNc(1,AR,1,0,"ng-container",6),e._UZ(2,"app-equipments-field-filter",9),e.qZA()),2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function ER(n,o){1&n&&e.GkF(0)}function SR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5),e.YNc(1,ER,1,0,"ng-container",6),e.TgZ(2,"app-connection-services-input",11),e.NdJ("onBlur",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onTouched())}),e.qZA()()}if(2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function kR(n,o){1&n&&e.GkF(0)}function DR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5),e.YNc(1,kR,1,0,"ng-container",6),e.TgZ(2,"p-dropdown",15),e.NdJ("onBlur",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onTouched())}),e.ALo(3,"async"),e.qZA()()}if(2&n){const t=e.oxw(2),i=e.MAs(2);let s;e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("options",null!==(s=e.lcZ(3,3,t.connectionTypes$))&&void 0!==s?s:e.DdM(5,BA))("showClear",!0)}}function MR(n,o){1&n&&e.GkF(0)}function OR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5),e.YNc(1,MR,1,0,"ng-container",6),e.TgZ(2,"input",16),e.NdJ("blur",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onTouched())}),e.qZA()()}if(2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function PR(n,o){1&n&&e.GkF(0)}function LR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5),e.YNc(1,PR,1,0,"ng-container",6),e.TgZ(2,"input",17),e.NdJ("blur",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onTouched())}),e.qZA()()}if(2&n){e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function RR(n,o){1&n&&e._UZ(0,"div"),2&n&&e.Udp("background-color","red")}function NR(n,o){if(1&n&&(e.ynx(0,2),e.YNc(1,rR,3,9,"div",3),e.YNc(2,lR,3,1,"div",3),e.YNc(3,uR,3,1,"div",3),e.YNc(4,pR,3,1,"div",3),e.YNc(5,gR,3,2,"div",3),e.YNc(6,mR,3,1,"div",3),e.YNc(7,CR,3,1,"div",3),e.YNc(8,bR,4,6,"div",3),e.YNc(9,xR,3,1,"div",3),e.YNc(10,TR,3,1,"div",3),e.YNc(11,wR,3,1,"div",3),e.YNc(12,SR,3,1,"div",3),e.YNc(13,DR,4,6,"div",3),e.YNc(14,OR,3,1,"div",3),e.YNc(15,LR,3,1,"div",3),e.YNc(16,RR,1,2,"div",4),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.field.value.wireframeFieldType)("formGroup",t.field),e.xp6(1),e.Q6J("ngSwitchCase","BOOLEAN"),e.xp6(1),e.Q6J("ngSwitchCase","SMALL_TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","LARGE_TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","INTEGER"),e.xp6(1),e.Q6J("ngSwitchCase","FLOAT"),e.xp6(1),e.Q6J("ngSwitchCase","ADDRESS"),e.xp6(1),e.Q6J("ngSwitchCase","LOGIN"),e.xp6(1),e.Q6J("ngSwitchCase","AD_SOURCE"),e.xp6(1),e.Q6J("ngSwitchCase","REQUEST_INITIATOR"),e.xp6(1),e.Q6J("ngSwitchCase","IP"),e.xp6(1),e.Q6J("ngSwitchCase","EQUIPMENTS"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_SERVICES"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_TYPE"),e.xp6(1),e.Q6J("ngSwitchCase","PHONE_ARRAY"),e.xp6(1),e.Q6J("ngSwitchCase","COUNTING_LIVES")}}function FR(n,o){if(1&n&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.field?null:t.field.value.name," ")}}let BR=(()=>{class n{constructor(t){this.api=t,this.connectionTypes$=this.api.getConnectionTypesList(),this.adSources$=this.api.getAdSourcesList(),this.onChange=i=>{},this.onTouched=()=>{}}ngOnInit(){}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.controlValue=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-template-filter-input"]],inputs:{field:"field"},features:[e._Bn([{provide:f.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:3,vars:1,consts:[[3,"ngSwitch","formGroup",4,"ngIf"],["label",""],[3,"ngSwitch","formGroup"],["class","input-label-wrapper",4,"ngSwitchCase"],[3,"background-color",4,"ngSwitchDefault"],[1,"input-label-wrapper"],[4,"ngTemplateOutlet"],["formControlName","value",3,"options"],["formControlName","value","pInputText",""],["formControlName","value"],["formControlName","value",3,"minFractionDigits"],["formControlName","value",3,"onBlur"],["formControlName","value","appRegexPatternChecker","","pInputText","","patternRx","^[\\dA-z_]+$"],["placeholder","\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a","appendTo","body","formControlName","value",3,"options","showClear","onBlur"],["formControlName","value","appRegexPatternChecker","","pInputText","","patternRx","^[\\d\\.]+$"],["formControlName","value","placeholder","\u0422\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f","appendTo","body",3,"options","showClear","onBlur"],["formControlName","value","appRegexPatternChecker","","pInputText","","patternRx","^[1-9]\\d{0,10}$",3,"blur"],["formControlName","value","pInputText","",3,"blur"]],template:function(t,i){1&t&&(e.YNc(0,NR,17,17,"ng-container",0),e.YNc(1,FR,2,1,"ng-template",null,1,e.W1O)),2&t&&e.Q6J("ngIf",i.field)},dependencies:[S.O5,S.tP,S.RF,S.n9,S.ED,f.Fj,f.JJ,f.JL,Ke.Lt,Na.Rn,bi.o,f.sg,f.u,FA.k,KL.a,eR,Qg.r,S.Ov]}),n})();const ZR=function(n){return{disabled:n}};function UR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",8),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.selectAll())}),e._UZ(1,"i",9),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(1,ZR,t.disabled))}}function HR(n,o){1&n&&e.GkF(0)}const VR=function(n){return{$implicit:n}};function zR(n,o){if(1&n&&(e.ynx(0),e.YNc(1,HR,1,0,"ng-container",11),e.BQk()),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,VR,t))}}function JR(n,o){if(1&n&&(e.ynx(0),e.YNc(1,zR,2,4,"ng-container",10),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.templates)("ngForTrackBy",t.templateTrack)}}function QR(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",12),e._UZ(2,"p-progressSpinner",13),e.qZA(),e.BQk())}function GR(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",12)(2,"div",14),e._UZ(3,"i",15),e.TgZ(4,"span"),e._uU(5," \u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 "),e.qZA()()(),e.BQk())}function WR(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",12)(2,"div",16),e._UZ(3,"i",17),e.TgZ(4,"span"),e._uU(5," \u0428\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u043d\u0435\u0442 "),e.qZA()()(),e.BQk())}function YR(n,o){if(1&n&&e._UZ(0,"app-colored-tag",23),2&n){const t=e.oxw().$implicit;e.Q6J("caption",t.countTask.toString())}}const jR=function(n,o,t){return{selected:n,"un-target":o,disabled:t}},KR=function(n,o,t){return{"mdi-radio_button_unchecked":n,"mdi-check_circle_outline":o,"mdi-close":t}};function qR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18),e.NdJ("click",function(){const p=e.CHM(t).$implicit,w=e.oxw();return e.KtG(w.uniselect(p.wireframeId))}),e.TgZ(1,"i",19),e.NdJ("click",function(s){const w=e.CHM(t).$implicit,Q=e.oxw();return s.stopPropagation(),e.KtG(Q.toggle(w.wireframeId))}),e.qZA(),e.TgZ(2,"span",20),e.NdJ("mouseenter",function(){const p=e.CHM(t).$implicit,w=e.oxw();return w.uniTargetMode=!0,e.KtG(w.uniTargetId=p.wireframeId)})("mouseleave",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.uniTargetMode=!1)}),e.TgZ(3,"span",21),e._uU(4),e.qZA(),e.YNc(5,YR,1,1,"app-colored-tag",22),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngClass",e.kEZ(4,jR,i.isSelect(t.wireframeId),i.isUntarget(t.wireframeId),i.disabled)),e.xp6(1),e.Q6J("ngClass",e.kEZ(8,KR,!i.isSelect(t.wireframeId),i.isSelect(t.wireframeId),i.isSelect(t.wireframeId)&&i.isUntarget(t.wireframeId))),e.xp6(3),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.countTask)}}const $R=function(n){return{"shadow-1 p-2 border-round-md flex flex-column bg-white":n}};let sI=(()=>{class n{constructor(t,i,s){this.api=t,this.rt=i,this.personality=s,this.templates=[],this.deletedTemplates=[],this.selected=[],this.countersType="incoming",this.inline=!1,this.status="loading",this.uniTargetMode=!1,this.uniTargetId=0,this.disabled=!1,this.closed=!0,this.subscriptions=new _.xf,this.onChange=p=>{},this.onTouched=()=>{}}isUntarget(t){return this.uniTargetMode&&this.uniTargetId!==t}setDisabledState(t){this.disabled=t}uniselect(t){this.selected=[t],this.onChange(this.selected)}select(t){this.selected.push(t),this.onChange(this.selected)}unselect(t){this.selected.length>1&&(this.selected=this.selected.filter(i=>i!==t),this.onChange(this.selected))}isSelect(t){return this.selected.includes(t)}templateTrack(t,i){var s;return i.wireframeId+(null!==(s=i.countTask)&&void 0!==s?s:"").toString()}ngOnInit(){this.status="loading",this.api.getWireframes(!0).subscribe({next:t=>{this.templates=t.filter(i=>!i.deleted),this.deletedTemplates=t.filter(i=>i.deleted),0===this.templates.length?this.status="empty":(0===this.selected.length&&(this.selected=[this.templates[0].wireframeId],this.onChange(this.selected)),"none"!==this.countersType&&(0,oI.D)(this.templates).pipe((0,Xl.z)(i=>"incoming"===this.countersType?this.api.getCountIncomingTasksByWireframeId(i.wireframeId).pipe((0,gt.U)(s=>({id:i.wireframeId,num:s}))):this.api.getCountAllTasksByWireframeId(i.wireframeId).pipe((0,gt.U)(s=>({id:i.wireframeId,num:s}))))).subscribe(i=>{const s=this.templates.find(p=>p.wireframeId===i.id);s&&(s.countTask=i.num)}),this.status="ready")},error:()=>{this.status="error"}}),"incoming"===this.countersType?this.personality.userLogin$.subscribe(t=>{this.subscriptions.addSubscription("countUpdater",this.rt.incomingTaskCountChange(t).pipe((0,a.h)(()=>"incoming"===this.countersType)).subscribe(this.counterUpdateHandler.bind(this)))}):"all"===this.countersType&&this.subscriptions.addSubscription("countUpdater",this.rt.taskCountChange().pipe((0,a.h)(()=>"all"===this.countersType)).subscribe(this.counterUpdateHandler.bind(this)))}counterUpdateHandler(t){const i=this.templates.find(s=>s.wireframeId===t.id);i&&(i.countTask=t.num)}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.selected=t}toggle(t){this.isSelect(t)?this.unselect(t):this.select(t)}selectAll(){this.selected=this.templates.map(t=>t.wireframeId),this.onChange(this.selected)}toggleExpand(){this.closed=!this.closed}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(V.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-template-multi-selector"]],inputs:{countersType:"countersType",inline:"inline"},features:[e._Bn([{provide:f.JU,useExisting:n,multi:!0}])],decls:13,vars:9,consts:[[1,"template-selector",3,"ngClass"],[1,"template-selector-title"],[1,"mdi-checklist"],[1,"stretched"],["class","select-all-button","pRipple","","pTooltip","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435",3,"ngClass","click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["templateItem",""],["pRipple","","pTooltip","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435",1,"select-all-button",3,"ngClass","click"],[1,"mdi-select_all"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"template-selector-message"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"caption","size-big","wt-bold","f-color-danger","flexed","hcenter","gap3"],[1,"mdi-warning"],[1,"caption","size-big","wt-bold","f-color-500","flexed","hcenter","gap3"],[1,"mdi-search_off"],[1,"template-selector-item",3,"ngClass","click"],[3,"ngClass","click"],[1,"flexed","hcenter",3,"mouseenter","mouseleave"],[1,"one-line"],["color","var(--mc-500)",3,"caption",4,"ngIf"],["color","var(--mc-500)",3,"caption"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"i",2),e.TgZ(3,"span",3),e._uU(4," \u041a\u043b\u0430\u0441\u0441\u044b \u0437\u0430\u0434\u0430\u0447 "),e.qZA(),e.YNc(5,UR,2,3,"span",4),e.qZA(),e.ynx(6,5),e.YNc(7,JR,2,2,"ng-container",6),e.YNc(8,QR,3,0,"ng-container",6),e.YNc(9,GR,6,0,"ng-container",6),e.YNc(10,WR,6,0,"ng-container",6),e.BQk(),e.qZA(),e.YNc(11,qR,6,12,"ng-template",null,7,e.W1O)),2&t&&(e.Q6J("ngClass",e.VKq(7,$R,!i.inline)),e.xp6(5),e.Q6J("ngIf",i.selected.length<i.templates.length),e.xp6(1),e.Q6J("ngSwitch",i.status),e.xp6(1),e.Q6J("ngSwitchCase","ready"),e.xp6(1),e.Q6J("ngSwitchCase","loading"),e.xp6(1),e.Q6J("ngSwitchCase","error"),e.xp6(1),e.Q6J("ngSwitchCase","empty"))},dependencies:[S.mk,S.sg,S.O5,S.tP,S.RF,S.n9,Gi.u,it.G,be.H,af.C],styles:["[_nghost-%COMP%]{height:-moz-fit-content;height:fit-content}.select-all-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.3rem;cursor:pointer;border-radius:var(--br-100);background-color:transparent;transition:color .1s ease-in-out,background-color .1s ease-in-out}.select-all-button[_ngcontent-%COMP%]:hover{color:var(--mc-400);background-color:var(--bgc-100)}.select-all-button.disabled[_ngcontent-%COMP%]{opacity:.3;cursor:default;pointer-events:none}.template-selector[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;padding:.5rem}.template-selector-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.9rem;font-weight:500;color:var(--tc-700);gap:.4rem;padding:.4rem;margin:0 .3rem .3rem;border-bottom:1px solid var(--bgc-100)}.template-selector-message[_ngcontent-%COMP%]{display:flex;padding:2rem;align-items:center;justify-content:center}.template-selector-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;-webkit-user-select:none;user-select:none;border-radius:.5rem;transition:all .1s ease-in-out;color:var(--tc-700)}.template-selector-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:.5rem 0 .5rem .8rem}.template-selector-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--mc-400)}.template-selector-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.5rem .8rem .5rem 0;flex:1}.template-selector-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:var(--mc-400)}.template-selector-item.selected[_ngcontent-%COMP%]{color:var(--mc-500)}.template-selector-item.un-target[_ngcontent-%COMP%]{color:var(--tc-200)}.template-selector-item.disabled[_ngcontent-%COMP%]{opacity:.3;cursor:default;pointer-events:none}.expand-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;padding:.3rem .5rem .3rem .7rem;border-top:1px solid var(--bgc-100);cursor:pointer;color:var(--tc-600);font-size:.85rem;margin:.3rem 0;transition:color .1s ease-in-out;-webkit-user-select:none;user-select:none}.expand-button[_ngcontent-%COMP%]:hover{color:var(--mc-400)}.expand-button[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{transition:all .1s ease-in-out;transform-origin:50% 40%;transform:rotate(180deg) translateY(-.2rem)}.expand-button.closed[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{transform:rotate(0) translateY(.1rem)}.expand-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden;transition:height .1s ease-in-out}"]}),n})();function XR(n,o){if(1&n&&e._UZ(0,"app-employee-label",3),2&n){const t=o.$implicit;e.Q6J("size",1.4)("employee",t)}}function eN(n,o){if(1&n&&e._UZ(0,"app-employee-label",3),2&n){const t=o.$implicit;e.Q6J("size",1.4)("employee",t)}}let rI=(()=>{class n{constructor(t){this.api=t,this.employees=[],this.control=new f.NI(null),this.onChange=i=>{},this.onTouched=()=>{}}ngOnInit(){this.api.getEmployees().subscribe(t=>{this.employees=t}),this.control.valueChanges.subscribe(t=>{this.onChange(t)})}ngOnDestroy(){}setDisabledState(t){t?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.control.setValue(t||null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-selector"]],features:[e._Bn([{provide:f.JU,useExisting:n,multi:!0}])],decls:3,vars:3,consts:[["styleClass","full-width","optionValue","login","appendTo","body","placeholder","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a",3,"options","formControl","showClear","onBlur"],["pTemplate","selectedItem"],["pTemplate","item"],[3,"size","employee"]],template:function(t,i){1&t&&(e.TgZ(0,"p-dropdown",0),e.NdJ("onBlur",function(){return i.onTouched()}),e.YNc(1,XR,1,2,"ng-template",1),e.YNc(2,eN,1,2,"ng-template",2),e.qZA()),2&t&&e.Q6J("options",i.employees)("formControl",i.control)("showClear",!0)},dependencies:[f.JJ,Ke.Lt,F.jx,f.oH,yc.x]}),n})(),lb=(()=>{class n{constructor(){this.control=new f.NI(null),this.dropDownControl=new f.NI(null),this.calendarControl=new f.NI(null),this.calendarVisible=!1,this.rangeOptions=[{label:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",value:he.nv.TODAY},{label:"\u0412\u0447\u0435\u0440\u0430",value:he.nv.YESTERDAY},{label:"\u042d\u0442\u0430 \u043d\u0435\u0434\u0435\u043b\u044f",value:he.nv.THIS_WEEK},{label:"\u041f\u0440\u043e\u0448\u043b\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f",value:he.nv.LAST_WEEK},{label:"\u042d\u0442\u043e\u0442 \u043c\u0435\u0441\u044f\u0446",value:he.nv.THIS_MONTH},{label:"\u041f\u0440\u043e\u0448\u043b\u044b\u0439 \u043c\u0435\u0441\u044f\u0446",value:he.nv.LAST_MONTH},{label:"\u0412\u0440\u0443\u0447\u043d\u0443\u044e",value:"manual"}],this.mainControlChange$=this.control.valueChanges,this.selectTimeFrame$=this.dropDownControl.valueChanges.pipe((0,a.h)(t=>"manual"!==t)),this.selectManual$=this.dropDownControl.valueChanges.pipe((0,a.h)(t=>"manual"===t)),this.calendarChange$=this.calendarControl.valueChanges,this.subscription=new _.xf,this.onChange=t=>{},this.onTouched=()=>{}}static formatDate(t){return"string"==typeof t&&(t=new Date(t)),`${t.getDate().toString().padStart(2,"0")}/${(t.getMonth()+1).toString().padStart(2,"0")}/${t.getFullYear()}`}setDisabledState(t){t?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}ngOnInit(){this.subscription.addSubscription("change",this.mainControlChange$.pipe((0,si.b)(this.setManualLabel.bind(this))).subscribe(t=>this.onChange(t))),this.subscription.addSubscription("timeFrameSelected",this.selectTimeFrame$.subscribe(t=>{if(this.calendarVisible=!1,null===t)return this.control.setValue(null),void this.calendarControl.setValue(null);this.control.setValue({timeFrame:t,start:null,end:null})})),this.subscription.addSubscription("manualSelected",this.selectManual$.subscribe(()=>{this.calendarVisible=!0})),this.subscription.addSubscription("calendarChange",this.calendarChange$.subscribe(t=>{t&&t[0]&&t[1]&&(this.control.setValue({timeFrame:null,start:t[0],end:t[1]}),this.calendarVisible=!1)}))}setManualLabel(t){if(t&&t.start&&t.end){const i=this.rangeOptions.find(s=>"manual"===s.value);i&&(i.label=n.formatDate(t.start)+" - "+n.formatDate(t.end),this.rangeOptions=[...this.rangeOptions])}else{const i=this.rangeOptions.find(s=>"manual"===s.value);i&&(i.label="\u0412\u0440\u0443\u0447\u043d\u0443\u044e",this.rangeOptions=[...this.rangeOptions])}}ngOnDestroy(){this.subscription.unsubscribeAll()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.setupDropdown(t)}setupDropdown(t){return t?t.timeFrame?(this.dropDownControl.setValue(t.timeFrame),void this.calendarControl.setValue(null)):t.start&&t.end?(this.dropDownControl.setValue("manual"),void this.calendarControl.setValue([t.start,t.end])):void 0:(this.dropDownControl.setValue(null),void this.calendarControl.setValue(null))}clearIsUnselect(){if(!this.control.value)return;const{start:t,end:i}=this.control.value;(!t||!i)&&(this.dropDownControl.setValue(null),this.calendarControl.setValue(null))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-data-range-input"]],features:[e._Bn([{provide:f.JU,useExisting:n,multi:!0}])],decls:4,vars:9,consts:[[1,"flex","w-fit",3,"focusin"],["placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"options","showClear","formControl"],["appendTo","body","styleClass","w-30rem",3,"visible","visibleChange","onHide"],["styleClass","full-width",3,"inline","formControl","selectOtherMonths","selectionMode","firstDayOfWeek"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("focusin",function(){return i.onTouched()}),e._UZ(1,"p-dropdown",1),e.qZA(),e.TgZ(2,"p-overlay",2),e.NdJ("visibleChange",function(p){return i.calendarVisible=p})("onHide",function(){return i.clearIsUnselect()}),e._UZ(3,"p-calendar",3),e.qZA()),2&t&&(e.xp6(1),e.Q6J("options",i.rangeOptions)("showClear",!0)("formControl",i.dropDownControl),e.xp6(1),e.Q6J("visible",i.calendarVisible),e.xp6(1),e.Q6J("inline",!0)("formControl",i.calendarControl)("selectOtherMonths",!0)("selectionMode","range")("firstDayOfWeek",1))},dependencies:[f.JJ,Ke.Lt,K.aV,f.oH,$1.f]}),n})();function tN(n,o){1&n&&e._UZ(0,"i",12)}let nN=(()=>{class n{constructor(t,i){this.confirm=t,this.api=i,this.onEditTag=new e.vpe}ngOnInit(){}deleteTag(t){var i;this.confirm.confirm({key:null===(i=this.tag)||void 0===i?void 0:i.taskTagId.toString(),target:t.target,message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0435\u0433?",icon:"pi pi-exclamation-triangle",accept:()=>{var s;null!==(s=this.tag)&&void 0!==s&&s.taskTagId&&this.api.deleteTaskTag(this.tag.taskTagId).subscribe()},reject:()=>{}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(F.YP),e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-tag-list-item"]],inputs:{tag:"tag"},outputs:{onEditTag:"onEditTag"},decls:17,vars:13,consts:[[1,"tag-item"],[1,"color"],[1,"flexed","column"],[1,"name","flexed","hcenter","gap3"],["class","mdi-not_interested",4,"ngIf"],[1,"flexed","hcenter","gap2"],[1,"caption","size-small","wt-bold","f-color-500"],[1,"caption","size-tiny","wt-bold","f-color-500"],[1,"stretched"],["styleClass","p-button-text p-button-warning","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","icon","mdi-edit",3,"disabled","onClick"],["styleClass","p-button-text p-button-danger","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","icon","mdi-delete",3,"disabled","onClick"],[3,"key"],[1,"mdi-not_interested"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"span",2)(3,"span",3),e.YNc(4,tN,1,0,"i",4),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"span",5)(8,"span",6),e._uU(9,"\u0421\u043e\u0437\u0434\u0430\u043d:"),e.qZA(),e.TgZ(10,"span",7),e._uU(11),e.ALo(12,"date"),e.qZA()()(),e._UZ(13,"div",8),e.TgZ(14,"p-button",9),e.NdJ("onClick",function(){return i.onEditTag.emit(i.tag)}),e.qZA(),e.TgZ(15,"p-button",10),e.NdJ("onClick",function(p){return i.deleteTag(p)}),e.qZA()(),e._UZ(16,"p-confirmPopup",11)),2&t){let s,p,w;e.xp6(1),e.Udp("background-color",null==i.tag?null:i.tag.color),e.xp6(2),e.Udp("opacity",null!=i.tag&&i.tag.deleted?.5:1),e.xp6(1),e.Q6J("ngIf",null==i.tag?null:i.tag.deleted),e.xp6(2),e.hij(" ",null==i.tag?null:i.tag.name," "),e.xp6(5),e.Oqu(e.xi3(12,10,null==i.tag?null:i.tag.created,"dd MMM yyyy HH:mm")),e.xp6(3),e.Q6J("disabled",null!==(s=null==i.tag?null:i.tag.deleted)&&void 0!==s&&s),e.xp6(1),e.Q6J("disabled",null!==(p=null==i.tag?null:i.tag.deleted)&&void 0!==p&&p),e.xp6(1),e.Q6J("key",(null!==(w=null==i.tag?null:i.tag.taskTagId)&&void 0!==w?w:"").toString())}},dependencies:[S.O5,O.zx,Xx.P,S.uU],styles:['.task-tags-list-item[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/repeat(2,max-content);grid-template-areas:"name creator" "time creator";border-radius:999px;color:var(--tc-100);white-space:nowrap;height:min-content;overflow:hidden;position:relative;box-shadow:0 0 .7px #00000003,0 .3px 2.8px #00000009,0 4px 10px #00000026}.task-tags-list-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;grid-area:name;padding:.5rem 1rem 0 1.5rem}.task-tags-list-item[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:.8rem;color:var(--tc-200);grid-area:time;padding:0 1rem .5rem 1.5rem}.task-tags-list-item[_ngcontent-%COMP%]   .creator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;grid-area:creator;background-color:#fff;padding:1rem}.task-tags-list-item[_ngcontent-%COMP%]   .edit-menu[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;border-radius:inherit;background-color:#00000060;transition:opacity .2s ease-out}.task-tags-list-item[_ngcontent-%COMP%]   .edit-menu[_ngcontent-%COMP%]:hover{opacity:1}.tag-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem;gap:.5rem}.tag-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-200)}.tag-item[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]{width:1rem;height:1rem;border-radius:999px}.tag-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1rem;color:var(--tc-700)}']}),n})();var iN=b(6288),oN=b(85);function sN(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0424\u043e\u0442\u043e"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.images.length.toString())}}function rN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",13),e.NdJ("click",function(){const p=e.CHM(t).index,w=e.oxw();return e.KtG(w.viewerService.showMediaAlbum(p,w.images))}),e._UZ(1,"img",14),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("src",i.baseUrl+t.name,e.LSH)}}function aN(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0412\u0438\u0434\u0435\u043e"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.videos.length.toString())}}function lN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){const p=e.CHM(t).index,w=e.oxw();return e.KtG(w.viewerService.showMediaAlbum(p,w.videos))}),e.TgZ(1,"span",16),e._uU(2,"movie"),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(4),e.hij(" ",t.name," ")}}function cN(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0410\u0443\u0434\u0438\u043e"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.audios.length.toString())}}function uN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){const p=e.CHM(t).index,w=e.oxw();return e.KtG(w.viewerService.showMediaAlbum(p,w.audios))}),e.TgZ(1,"span",16),e._uU(2,"music_note"),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(4),e.hij(" ",t.name," ")}}function dN(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.documents.length.toString())}}function pN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){e.CHM(t);const s=e.MAs(6);return e.KtG(s.click())}),e.TgZ(1,"span",16),e._uU(2,"picture_as_pdf"),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA(),e._UZ(5,"a",18,19),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(4),e.hij(" ",t.name," "),e.xp6(1),e.Udp("display","none"),e.Q6J("href",i.baseUrl+t.name+"/",e.LSH)}}function hN(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0424\u0430\u0439\u043b\u044b"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.files.length.toString())}}function gN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){e.CHM(t);const s=e.MAs(6);return e.KtG(s.click())}),e.TgZ(1,"span",16),e._uU(2,"description"),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA(),e._UZ(5,"a",20,19),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(4),e.hij(" ",t.name," "),e.xp6(1),e.Udp("display","none"),e.Q6J("download",t.name)("href",i.baseUrl+t.name+"/",e.LSH)}}let fN=(()=>{class n{constructor(t,i){this.api=t,this.viewerService=i,this.show=!1,this.showChange=new e.vpe,this.baseUrl="/api/private/attachment/",this.images=[],this.videos=[],this.audios=[],this.documents=[],this.files=[]}ngOnInit(){this.clearAllAttachments(),this.taskId&&this.api.getAllTaskAttachments(this.taskId).subscribe(t=>{for(const i of t)switch(i.type){case he.sf.PHOTO:this.images.push(i);break;case he.sf.VIDEO:this.videos.push(i);break;case he.sf.AUDIO:this.audios.push(i);break;case he.sf.DOCUMENT:this.documents.push(i);break;case he.sf.FILE:this.files.push(i)}})}clearAllAttachments(){this.images=[],this.videos=[],this.audios=[],this.documents=[],this.files=[]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(Kx.E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-attachments-history-dialog"]],inputs:{taskId:"taskId",show:"show"},outputs:{showChange:"showChange"},decls:22,vars:10,consts:[["header","\u0424\u0430\u0439\u043b\u044b \u0432 \u0437\u0430\u0434\u0430\u0447\u0435",3,"draggable","dismissableMask","visible","modal","resizable","visibleChange"],["header","\u0424\u043e\u0442\u043e"],["pTemplate","header"],[1,"flexed-list"],["class","list-item",3,"click",4,"ngFor","ngForOf"],["header","\u0412\u0438\u0434\u0435\u043e"],["class","list-item p5",3,"click",4,"ngFor","ngForOf"],["header","\u0410\u0443\u0434\u0438\u043e"],["header","\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b"],["header","\u0424\u0430\u0439\u043b\u044b"],[1,"flexed","hcenter","gap3"],[1,"caption","size-small","f-color-500"],[3,"value"],[1,"list-item",3,"click"],[3,"src"],[1,"list-item","p5",3,"click"],[1,"material-icons-round"],[1,"filename"],["target","_blank",3,"href"],["link",""],[3,"download","href"]],template:function(t,i){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(p){return i.showChange.emit(p)})("visibleChange",function(p){return i.show=p}),e.TgZ(1,"p-tabView")(2,"p-tabPanel",1),e.YNc(3,sN,4,1,"ng-template",2),e.TgZ(4,"div",3),e.YNc(5,rN,2,1,"div",4),e.qZA()(),e.TgZ(6,"p-tabPanel",5),e.YNc(7,aN,4,1,"ng-template",2),e.TgZ(8,"div",3),e.YNc(9,lN,5,1,"div",6),e.qZA()(),e.TgZ(10,"p-tabPanel",7),e.YNc(11,cN,4,1,"ng-template",2),e.TgZ(12,"div",3),e.YNc(13,uN,5,1,"div",6),e.qZA()(),e.TgZ(14,"p-tabPanel",8),e.YNc(15,dN,4,1,"ng-template",2),e.TgZ(16,"div",3),e.YNc(17,pN,7,4,"div",6),e.qZA()(),e.TgZ(18,"p-tabPanel",9),e.YNc(19,hN,4,1,"ng-template",2),e.TgZ(20,"div",3),e.YNc(21,gN,7,5,"div",6),e.qZA()()()()),2&t&&(e.Q6J("draggable",!1)("dismissableMask",!0)("visible",i.show)("modal",!0)("resizable",!1),e.xp6(5),e.Q6J("ngForOf",i.images),e.xp6(4),e.Q6J("ngForOf",i.videos),e.xp6(4),e.Q6J("ngForOf",i.audios),e.xp6(4),e.Q6J("ngForOf",i.documents),e.xp6(4),e.Q6J("ngForOf",i.files))},dependencies:[S.sg,F.jx,Ao.V,Ol.xf,Ol.x4,oN.Ct],styles:[".flexed-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;overflow-x:auto;width:50vw;max-height:40vh;min-width:100%}.list-item[_ngcontent-%COMP%]{width:19%;aspect-ratio:1;border:1px solid var(--bgc-300);max-width:15rem;min-width:7rem;overflow:hidden;display:flex;flex-direction:column;gap:.5rem;align-items:center;justify-content:center;-webkit-user-select:none;user-select:none;cursor:pointer}.list-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:100%;min-height:100%;object-fit:cover;width:auto;height:auto}.filename[_ngcontent-%COMP%]{display:inline-block;color:var(--tc-500);font-size:.8rem;font-weight:500;white-space:nowrap;width:100%;overflow:hidden;text-overflow:ellipsis;text-align:center}"]}),n})(),aI=(()=>{class n{constructor(t){this.el=t}get colorString(){return this._colorString}set colorString(t){var i,s;this._colorString=t,this.el.nativeElement.style.color=_.cQ.stringToColor(null!==(s=null===(i=this._colorString)||void 0===i?void 0:i.trim())&&void 0!==s?s:"")}ngAfterViewInit(){this.el.nativeElement.style.color=_.cQ.stringToColor(this.el.nativeElement.innerText.trim())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","appColorize",""]],inputs:{colorString:"colorString"}}),n})(),ZA=(()=>{class n{constructor(t){this.el=t,this.isMouseDown=!1,t.nativeElement.style.cursor="grab",t.nativeElement.style.userSelect="none"}onMouseDown(t){0===t.button&&(this.isMouseDown=!0,this.el.nativeElement.style.cursor="grabbing")}onMouseUp(t){0===t.button&&(this.isMouseDown=!1,this.el.nativeElement.style.cursor="grab")}onMouseMove(t){if(this.isMouseDown){const i=this.el.nativeElement;i.scrollTo(i.scrollLeft-t.movementX,i.scrollTop-t.movementY)}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","appDragScrolling",""]],hostBindings:function(t,i){1&t&&e.NdJ("mousedown",function(p){return i.onMouseDown(p)})("mouseup",function(p){return i.onMouseUp(p)})("mousemove",function(p){return i.onMouseMove(p)})}}),n})();var mN=b(7231),_N=b(5651);let CN=(()=>{class n{constructor(){this.loading=!1,this.loadingChange=new e.vpe,this.load=new e.vpe,this.initialScrollPos=0,this.initialScrollPosChange=new e.vpe}ngOnInit(){setTimeout(()=>window.scrollTo({top:this.initialScrollPos,behavior:"instant"}),100)}windowScroll(t){document.documentElement.scrollHeight-(document.documentElement.scrollTop+window.innerHeight)==0&&!this.loading&&(this.loading=!0,this.loadingChange.emit(!0),this.load.emit()),this.initialScrollPos=window.scrollY,this.initialScrollPosChange.emit(window.scrollY)}windowResize(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","appLazyPageLoader",""]],hostBindings:function(t,i){1&t&&e.NdJ("scroll",function(p){return i.windowScroll(p)},!1,e.Jf7)("resize",function(p){return i.windowResize(p)},!1,e.Jf7)},inputs:{loading:"loading",initialScrollPos:"initialScrollPos"},outputs:{loadingChange:"loadingChange",load:"load",initialScrollPosChange:"initialScrollPosChange"}}),n})();function vN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",2),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.showContent())}),e.TgZ(1,"span",3),e._uU(2,"visibility"),e.qZA(),e._uU(3),e.qZA()}if(2&n){const t=e.oxw();e.xp6(3),e.hij(" ",t.buttonCaption," ")}}function bN(n,o){1&n&&(e.ynx(0),e.Hsn(1),e.BQk())}const yN=["*"];let xN=(()=>{class n{constructor(){this.buttonCaption="",this.display=!1,this.displayChange=new e.vpe}ngOnInit(){}showContent(){this.display=!0,this.displayChange.emit(this.display)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-expanding-panel"]],inputs:{buttonCaption:"buttonCaption",display:"display"},outputs:{displayChange:"displayChange"},ngContentSelectors:yN,decls:3,vars:2,consts:[["class","expand-button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"expand-button",3,"click"],[1,"material-icons-round","parent-inherit"]],template:function(t,i){1&t&&(e.F$t(),e.ynx(0),e.YNc(1,vN,4,1,"span",0),e.YNc(2,bN,2,0,"ng-container",1),e.BQk()),2&t&&(e.xp6(1),e.Q6J("ngIf",!i.display),e.xp6(1),e.Q6J("ngIf",i.display))},dependencies:[S.O5],styles:[".expand-button[_ngcontent-%COMP%]{cursor:pointer;display:inline-flex;font-size:.8rem;font-weight:600;color:var(--mc-500);line-height:normal;padding:.3rem .5rem;border-radius:.3rem;align-self:center;align-items:center;justify-content:center;gap:.2rem;transition:background-color .2s ease-out}.expand-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;color:var(--mc-500)}.expand-button[_ngcontent-%COMP%]:hover{background-color:var(--mc-0)}"]}),n})();var IN=b(2716);let TN=(()=>{class n{transform(t){if(!("type"in t))return"";switch(t.type){case he.dA.CHANGE_STAGE:return"\u0418\u0437\u043c\u0435\u043d\u0435\u043d \u0442\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438: ";case he.dA.CREATE_WORK_LOG:return"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435";case he.dA.FORCE_CLOSE_WORK_LOG:return"\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b \u0440\u0430\u0431\u043e\u0442\u044b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435";case he.dA.CLOSE_WORK_LOG:return"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b \u0440\u0430\u0431\u043e\u0442\u044b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435";case he.dA.CHANGE_RESPONSIBILITY:return"\u0418\u0437\u043c\u0435\u043d\u0435\u043d \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439: ";case he.dA.LINKED_TO_PARENT_TASK:return"\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u0430 \u043a \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0435";case he.dA.UNLINKED_FROM_PARENT_TASK:return"\u041e\u0442\u0432\u044f\u0437\u0430\u043d\u0430 \u043e\u0442 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438";case he.dA.UNLINK_CHILD_TASK:return"\u041e\u0442\u0432\u044f\u0437\u0430\u043d\u0430 \u043e\u0442 \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u0447";case he.dA.LINKED_TO_CHILD_TASKS:return"\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u044b \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438";case he.dA.CHANGE_TAGS:return"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b \u0442\u0435\u0433\u0438: ";case he.dA.CLEAN_TAGS:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u043e\u0442\u0447\u0438\u0449\u0435\u043d\u0430 \u043e\u0442 \u0442\u0435\u0433\u043e\u0432";case he.dA.CHANGE_OBSERVERS:return"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u044b \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438: ";case he.dA.UNBIND_RESPONSIBLE:return"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0443\u0431\u0440\u0430\u043d";case he.dA.CHANGE_ACTUAL_FROM:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430: ";case he.dA.CHANGE_ACTUAL_TO:return"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u0441\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f: ";case he.dA.CLEAR_ACTUAL_FROM_TASK:return"\u0423\u0434\u0430\u043b\u0435\u043d\u0430 \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0434\u0430\u0442\u0430";case he.dA.CLEAR_ACTUAL_TO_TASK:return"\u0423\u0434\u0430\u043b\u0435\u043d \u0441\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f";case he.dA.CLOSE_TASK:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0430";case he.dA.REOPEN_TASK:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u0432\u043d\u043e\u0432\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u0430";case he.dA.EDIT_FIELDS:return"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0432 \u0437\u0430\u0434\u0430\u0447\u0435 \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430";case he.dA.REPORT_CREATED:return"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u043b \u0440\u0430\u0431\u043e\u0442\u044b \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435: ";case he.dA.MOVED_TO_DIRECTORY:return"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0430 \u0432 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e: "}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"taskEventTranslate",type:n,pure:!0}),n})();function AN(n,o){1&n&&e.GkF(0)}function wN(n,o){1&n&&e._UZ(0,"div",17)}function EN(n,o){1&n&&e.GkF(0)}function SN(n,o){if(1&n&&e._UZ(0,"quill-view-html",18),2&n){const t=e.oxw(2).$implicit;e.Q6J("content",t.message)}}function kN(n,o){if(1&n&&(e.TgZ(0,"span",21),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.message)}}function DN(n,o){if(1&n&&(e.TgZ(0,"div",19)(1,"span"),e._uU(2),e.ALo(3,"taskEventTranslate"),e.qZA(),e.YNc(4,kN,2,1,"span",20),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t)),e.xp6(2),e.Q6J("ngIf",t.message)}}function MN(n,o){1&n&&e._UZ(0,"app-attachment-link",25),2&n&&e.Q6J("attachment",o.$implicit)}function ON(n,o){1&n&&e._UZ(0,"app-attachment-link",25),2&n&&e.Q6J("attachment",o.$implicit)}function PN(n,o){if(1&n&&(e.TgZ(0,"app-expanding-panel",26),e.YNc(1,ON,1,1,"app-attachment-link",23),e.qZA()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.Q6J("buttonCaption","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c "+(i.getAttachmentsCount(t)-3)+"+"),e.xp6(1),e.Q6J("ngForOf",i.getAttachments(t,!1))("ngForTrackBy",i.trackByAttachment)}}function LN(n,o){if(1&n&&(e.TgZ(0,"div",22),e.YNc(1,MN,1,1,"app-attachment-link",23),e.YNc(2,PN,2,3,"app-expanding-panel",24),e.qZA()),2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.getAttachments(t))("ngForTrackBy",i.trackByAttachment),e.xp6(1),e.Q6J("ngIf",i.getAttachmentsCount(t)>3)}}function RN(n,o){1&n&&e.GkF(0)}function NN(n,o){1&n&&e._UZ(0,"app-attachment-link",25),2&n&&e.Q6J("attachment",o.$implicit)}function FN(n,o){1&n&&e._UZ(0,"app-attachment-link",25),2&n&&e.Q6J("attachment",o.$implicit)}function BN(n,o){if(1&n&&(e.TgZ(0,"app-expanding-panel",26),e.YNc(1,FN,1,1,"app-attachment-link",23),e.qZA()),2&n){const t=e.oxw(4).$implicit,i=e.oxw();e.Q6J("buttonCaption","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c "+(i.getAttachmentsCount(i.getReplyComment(t))-3)+"+"),e.xp6(1),e.Q6J("ngForOf",i.getAttachments(i.getReplyComment(t),!1))("ngForTrackBy",i.trackByAttachment)}}function ZN(n,o){if(1&n&&(e.TgZ(0,"div",22),e.YNc(1,NN,1,1,"app-attachment-link",23),e.YNc(2,BN,2,3,"app-expanding-panel",24),e.qZA()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.getAttachments(i.getReplyComment(t)))("ngForTrackBy",i.trackByAttachment),e.xp6(1),e.Q6J("ngIf",i.getAttachmentsCount(i.getReplyComment(t))>3)}}const UN=function(n){return{$implicit:n,reply:!0}};function HN(n,o){if(1&n&&(e.TgZ(0,"div",27),e._UZ(1,"div",28),e.TgZ(2,"div",9),e._UZ(3,"app-avatar",29),e.qZA(),e.YNc(4,RN,1,0,"ng-container",7),e.TgZ(5,"div",30),e._UZ(6,"markdown",31),e.YNc(7,ZN,3,3,"div",14),e.qZA()()),2&n){const t=e.oxw(2).$implicit,i=e.oxw(),s=e.MAs(6);let p,w,Q;e.xp6(3),e.Q6J("name",null==(p=i.getReplyComment(t))||null==p.creator?null:p.creator.fullName)("src",null==(w=i.getReplyComment(t))||null==w.creator?null:w.creator.avatar)("size",2.8),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(7,UN,i.getReplyComment(t))),e.xp6(2),e.Q6J("data",null==(Q=i.getReplyComment(t))?null:Q.message),e.xp6(1),e.Q6J("ngIf",i.hasAttachments(i.getReplyComment(t)))}}function VN(n,o){1&n&&e._UZ(0,"div",32)}const UA=function(n,o){return{event:n,reply:o}},zN=function(n){return{$implicit:n}},JN=function(n){return{$implicit:n,reply:!1}};function QN(n,o){if(1&n&&(e.TgZ(0,"div",6),e.ynx(1),e.YNc(2,AN,1,0,"ng-container",7),e.YNc(3,wN,1,0,"div",8),e.TgZ(4,"div",9),e._UZ(5,"app-avatar",10),e.qZA(),e.YNc(6,EN,1,0,"ng-container",7),e.TgZ(7,"div",11),e.YNc(8,SN,1,1,"quill-view-html",12),e.YNc(9,DN,5,4,"div",13),e.YNc(10,LN,3,3,"div",14),e.qZA(),e.YNc(11,HN,8,9,"div",15),e.YNc(12,VN,1,0,"div",16),e.BQk(),e.qZA()),2&n){const t=e.oxw(),i=t.$implicit,s=t.index,p=e.oxw(),w=e.MAs(4),Q=e.MAs(6);e.Q6J("@fade",void 0)("ngClass",e.WLB(16,UA,!p.isComment(i),p.isHasReply(i))),e.xp6(2),e.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",e.VKq(19,zN,i)),e.xp6(1),e.Q6J("ngIf",s<p.displayedEntries.length-1),e.xp6(2),e.Q6J("src",i.creator.avatar)("name",i.creator.fullName)("size",2.8),e.xp6(1),e.Q6J("ngTemplateOutlet",Q)("ngTemplateOutletContext",e.VKq(21,JN,i)),e.xp6(1),e.Q6J("ngClass",e.WLB(23,UA,!p.isComment(i),p.isHasReply(i))),e.xp6(1),e.Q6J("ngIf",p.isComment(i)),e.xp6(1),e.Q6J("ngIf",!p.isComment(i)),e.xp6(1),e.Q6J("ngIf",p.hasAttachments(i)),e.xp6(1),e.Q6J("ngIf",p.isHasReply(i)),e.xp6(1),e.Q6J("ngIf",!p.isComment(i))}}function GN(n,o){if(1&n&&(e.ynx(0),e.YNc(1,QN,13,26,"div",5),e.BQk()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",!i.isComment(t)&&i.showEvents||i.isComment(t))}}function WN(n,o){1&n&&(e.TgZ(0,"div",34),e._UZ(1,"p-skeleton",35)(2,"p-skeleton",36),e.TgZ(3,"div",37)(4,"div",38),e._UZ(5,"p-skeleton",39)(6,"p-skeleton",40),e.qZA()(),e._UZ(7,"p-skeleton",41),e.qZA()),2&n&&(e.xp6(5),e.Udp("padding-bottom",".5rem"))}function YN(n,o){if(1&n&&(e.ynx(0),e.YNc(1,WN,8,2,"div",33),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.skeletons)}}function jN(n,o){if(1&n&&(e.TgZ(0,"span",42)(1,"span",43),e._uU(2),e.qZA()()),2&n){const t=o.$implicit,i=e.oxw();e.Udp("background-color",i.getEventColor(t)),e.xp6(2),e.Oqu(i.getEventIcon(t))}}function KN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",51),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw().$implicit,p=e.oxw();return e.KtG(p.selectCommentToReply(s))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",t.isAnActionOnComments())}}function qN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-icon-button",52),e.NdJ("onClick",function(s){e.CHM(t),e.oxw();const p=e.MAs(10);return e.KtG(p.toggle(s))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",t.isAnActionOnComments())}}function $N(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",55),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2).$implicit,p=e.MAs(10);return e.oxw().selectCommentToEdit(s),e.KtG(p.hide())}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",t.isAnActionOnComments())}}function XN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",56),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2).$implicit,p=e.MAs(10);return e.oxw().confirmToDeleteComment(s),e.KtG(p.hide())}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",t.isAnActionOnComments())}}function eF(n,o){if(1&n&&(e.YNc(0,$N,1,1,"app-button",53),e.YNc(1,XN,1,1,"app-button",54)),2&n){const t=e.oxw(),i=t.$implicit,s=t.reply,p=e.oxw();e.Q6J("ngIf",p.isMyComment(i)&&!s),e.xp6(1),e.Q6J("ngIf",p.isMyComment(i)&&!s)}}function tF(n,o){if(1&n&&(e.TgZ(0,"div",37)(1,"div",38)(2,"span",44),e._uU(3),e.qZA(),e.TgZ(4,"span",45),e._uU(5),e.ALo(6,"elapsedTime"),e.qZA()(),e.YNc(7,KN,1,1,"app-button",46),e.YNc(8,qN,1,1,"app-icon-button",47),e.TgZ(9,"p-overlayPanel",48,49),e.YNc(11,eF,2,2,"ng-template",50),e.qZA()()),2&n){const t=o.$implicit,i=o.reply,s=e.oxw();e.xp6(3),e.Oqu(null==t.creator?null:t.creator.fullName),e.xp6(2),e.Oqu(e.Dn7(6,4,t.created,t.type?"":"\u043d\u0430\u043f\u0438\u0441\u0430\u043b(\u0430) "," \u043d\u0430\u0437\u0430\u0434")),e.xp6(2),e.Q6J("ngIf",s.isComment(t)&&!i),e.xp6(1),e.Q6J("ngIf",s.isMyComment(t)&&!i)}}let nF=(()=>{class n{constructor(t,i,s,p){this.api=t,this.personality=i,this.confirmation=s,this.rt=p,this.rtSubscriptions=new _.xf,this.replyCommentChange=new e.vpe,this.editCommentChange=new e.vpe,this.onFirstLoad=new e.vpe,this.entries=[],this.journalIsFullyLoaded=!1,this.skeletons=Array.from({length:10}),this.totalEntries=0,this.loading=!1,this.firstLoad=!0,this.showEvents=!0,this._sortingType=_.Ke.loadOrDefault("taskJournalSortingType",he.Rh.CREATE_DATE_DESC),this._taskId=-1}get displayedEntries(){return this.showEvents?this.entries:this.entries.filter(t=>"commentId"in t)}set sortingType(t){t!==this._sortingType&&(this._sortingType=t,_.Ke.save("taskJournalSortingType",t),this.clearEntries(),this.loadComments())}get sortingType(){return this._sortingType}trackByEntry(t,i){return"commentId"in i?i.commentId+i.message+i.edited:"taskEventId"in i?i.taskEventId:null}set taskId(t){this._taskId=t,this.clearEntries(),this.loadComments(),this.rtSubscriptions.addSubscription("crCom",this.rt.commentCreated(t).subscribe(this.onCommentCreate.bind(this))),this.rtSubscriptions.addSubscription("crUpt",this.rt.commentUpdated(t).subscribe(this.onCommentUpdate.bind(this))),this.rtSubscriptions.addSubscription("crDel",this.rt.commentDeleted(t).subscribe(this.onCommentDelete.bind(this))),this.rtSubscriptions.addSubscription("crEv",this.rt.taskEventCreated(t).subscribe(this.onEventCreate.bind(this))),this.rtSubscriptions.addSubscription("empUpt",this.rt.employeeUpdated().subscribe(this.onEmployeeUpdate.bind(this)))}get taskId(){return this._taskId}onCommentCreate(t){if(!this.entries.some(i=>"commentId"in i&&i.commentId===t.commentId))switch(this.sortingType){case he.Rh.CREATE_DATE_DESC:this.entries.unshift(t),this.totalEntries++,this.onFirstLoad.emit(!0);break;case he.Rh.CREATE_DATE_ASC:this.journalIsFullyLoaded&&(this.entries.push(t),this.totalEntries++,this.onFirstLoad.emit(!0))}}onCommentDelete(t){const i=this.entries.findIndex(s=>"commentId"in s&&s.commentId===t.commentId);-1!==i&&(this.entries.splice(i,1),this.totalEntries--)}onCommentUpdate(t){const i=this.entries.findIndex(s=>"commentId"in s&&s.commentId===t.commentId);-1!==i&&this.entries.splice(i,1,t)}onEventCreate(t){if(!this.entries.some(i=>"taskEventId"in i&&i.taskEventId===t.taskEventId))switch(this.sortingType){case he.Rh.CREATE_DATE_DESC:this.entries.unshift(t),this.onFirstLoad.emit(!0);break;case he.Rh.CREATE_DATE_ASC:this.journalIsFullyLoaded&&(this.entries.push(t),this.onFirstLoad.emit(!0))}}ngOnDestroy(){this.rtSubscriptions.unsubscribeAll()}ngOnInit(){}loadComments(){if(!this._taskId)return;const t=this.entries.filter(i=>"commentId"in i).length;t<this.totalEntries?this.api.getTaskJournal(this._taskId,t,10,this._sortingType).subscribe(i=>{0===this.entries.length&&(this.totalEntries=i.totalElements),this.entries=[...this.entries,...i.content],this.loading=!1}):this.firstLoad?this.api.getTaskJournal(this._taskId,0,10,this._sortingType).subscribe(i=>{this.totalEntries=i.totalElements,this.entries=i.content,this.loading=!1,this.firstLoad=!1,this.onFirstLoad.emit(this.totalEntries>0||i.content.length>0)}):setTimeout(()=>{this.loading=!1,this.journalIsFullyLoaded=!0})}isComment(t){return"commentId"in t}isMyComment(t){var i,s;return"commentId"in t&&(null===(i=this.personality.me)||void 0===i?void 0:i.login)===(null===(s=t.creator)||void 0===s?void 0:s.login)}isAnActionOnComments(){return!!this.replyComment||!!this.editComment}getEventIcon(t){if(!("type"in t))return"comment";switch(t.type){case he.dA.CHANGE_STAGE:return"swipe_right_alt";case he.dA.CREATE_WORK_LOG:return"assignment";case he.dA.FORCE_CLOSE_WORK_LOG:case he.dA.CLOSE_WORK_LOG:return"assignment_return";case he.dA.CHANGE_RESPONSIBILITY:return"person";case he.dA.LINKED_TO_PARENT_TASK:return"link";case he.dA.UNLINKED_FROM_PARENT_TASK:case he.dA.UNLINK_CHILD_TASK:return"link_off";case he.dA.LINKED_TO_CHILD_TASKS:return"link";case he.dA.CHANGE_TAGS:return"label";case he.dA.CLEAN_TAGS:return"label_off";case he.dA.CHANGE_OBSERVERS:return"groups";case he.dA.UNBIND_RESPONSIBLE:return"person_off";case he.dA.CHANGE_ACTUAL_FROM:return"pending_actions";case he.dA.CHANGE_ACTUAL_TO:return"today";case he.dA.CLEAR_ACTUAL_FROM_TASK:return"alarm_off";case he.dA.CLEAR_ACTUAL_TO_TASK:return"hourglass_disabled";case he.dA.CLOSE_TASK:return"swipe_down_alt";case he.dA.REOPEN_TASK:return"swipe_up_alt";case he.dA.EDIT_FIELDS:return"edit";case he.dA.REPORT_CREATED:return"history_edu";case he.dA.MOVED_TO_DIRECTORY:return"double_arrow";default:return"adjust"}}getEventColor(t){if(!("type"in t))return"#7a7f8d";switch(t.type){case he.dA.CHANGE_STAGE:return"#289de7";case he.dA.CREATE_WORK_LOG:return"#49DF30";case he.dA.FORCE_CLOSE_WORK_LOG:return"#e81a30";case he.dA.CLOSE_WORK_LOG:return"#52ff89";case he.dA.CHANGE_RESPONSIBILITY:return"#ff9f3b";case he.dA.LINKED_TO_PARENT_TASK:return"#9933ec";case he.dA.UNLINKED_FROM_PARENT_TASK:case he.dA.UNLINK_CHILD_TASK:return"#ef369d";case he.dA.LINKED_TO_CHILD_TASKS:return"#9933ec";case he.dA.CHANGE_TAGS:return"#13c587";case he.dA.CLEAN_TAGS:return"#c73953";case he.dA.CHANGE_OBSERVERS:return"#ff763b";case he.dA.UNBIND_RESPONSIBLE:return"#3bdbff";case he.dA.CHANGE_ACTUAL_FROM:return"#3bff3e";case he.dA.CHANGE_ACTUAL_TO:return"#a7e52e";case he.dA.CLEAR_ACTUAL_FROM_TASK:return"#c79436";case he.dA.CLEAR_ACTUAL_TO_TASK:return"#a65c48";case he.dA.CLOSE_TASK:return"#866e6e";case he.dA.REOPEN_TASK:return"#1a7ae8";case he.dA.EDIT_FIELDS:return"#61d78d";case he.dA.REPORT_CREATED:return"#ff9f3b";case he.dA.MOVED_TO_DIRECTORY:return"#95e31c";default:return"#ff0000"}}hasAttachments(t){var i,s;return!!t&&"attachments"in t&&(null!==(s=null===(i=t.attachments)||void 0===i?void 0:i.length)&&void 0!==s?s:0)>0}getAttachments(t,i=!0){if(!t)return[];const s="attachments"in t&&t.attachments?t.attachments:[];return i?s.slice(0,3):s.slice(3)}getAttachmentsCount(t){return t&&"attachments"in t&&t.attachments?t.attachments.length:0}trackByAttachment(t,i){return i?i.name:t}selectCommentToReply(t){this.replyComment=t,this.replyCommentChange.emit(this.replyComment)}selectCommentToEdit(t){this.editComment=t,this.editCommentChange.emit(this.editComment)}isHasReply(t){return"replyComment"in t&&t.replyComment}getReplyComment(t){return"replyComment"in t?t.replyComment:void 0}confirmToDeleteComment(t){this.confirmation.confirm({header:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439?",accept:()=>this.api.deleteComment(t.commentId).subscribe()})}onEmployeeUpdate(t){var i;for(const s of this.entries)(null===(i=s.creator)||void 0===i?void 0:i.login)===t.login&&(s.creator=t)}clearEntries(){this.entries=[],this.totalEntries=0,this.firstLoad=!0,this.journalIsFullyLoaded=!1,this.loading=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(V.F),e.Y36(F.YP),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-journal"]],inputs:{replyComment:"replyComment",editComment:"editComment",showEvents:"showEvents",sortingType:"sortingType",taskId:"taskId"},outputs:{replyCommentChange:"replyCommentChange",editCommentChange:"editCommentChange",onFirstLoad:"onFirstLoad"},decls:7,vars:4,consts:[["appLazyPageLoader","",1,"journal",3,"loading","load","loadingChange"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["eventIcon",""],["eventHeader",""],["class","journal-item",3,"ngClass",4,"ngIf"],[1,"journal-item",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","vertical-line",4,"ngIf"],[1,"employee-avatar-wrapper"],[3,"src","name","size"],[1,"journal-event-body",3,"ngClass"],["appTextRevival","",3,"content",4,"ngIf"],["class","flexed gap5 hcenter",4,"ngIf"],["class","attachments-list",4,"ngIf"],["class","reply-comment",4,"ngIf"],["class","event-footer",4,"ngIf"],[1,"vertical-line"],["appTextRevival","",3,"content"],[1,"flexed","gap5","hcenter"],["appTextRevival","",4,"ngIf"],["appTextRevival",""],[1,"attachments-list"],[3,"attachment",4,"ngFor","ngForOf","ngForTrackBy"],[3,"buttonCaption",4,"ngIf"],[3,"attachment"],[3,"buttonCaption"],[1,"reply-comment"],[1,"reply-marker"],[3,"name","src","size"],[1,"journal-event-body"],[3,"data"],[1,"event-footer"],["class","journal-item skeleton",4,"ngFor","ngForOf"],[1,"journal-item","skeleton"],["shape","circle","size","2rem",1,"event-type-wrapper","skeleton"],["shape","circle","size","2.8rem",1,"employee-avatar-wrapper"],[1,"journal-event-header"],[1,"basic-information"],["height","1rem","width","10rem"],["height",".8rem","width","7rem"],["height","6rem",1,"journal-event-body"],[1,"event-type-wrapper"],[1,"material-icons-round"],[1,"employee-name"],[1,"creation-time"],["icon","reply","label","\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c","model","p-button-text",3,"disabled","onClick",4,"ngIf"],["icon","more_vert",3,"disabled","onClick",4,"ngIf"],["appendTo","body"],["ownCommentMenu",""],["pTemplate","content"],["icon","reply","label","\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c","model","p-button-text",3,"disabled","onClick"],["icon","more_vert",3,"disabled","onClick"],["icon","edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","model","p-button-text p-button-warn",3,"disabled","onClick",4,"ngIf"],["icon","delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","model","p-button-text p-button-danger",3,"disabled","onClick",4,"ngIf"],["icon","edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","model","p-button-text p-button-warn",3,"disabled","onClick"],["icon","delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","model","p-button-text p-button-danger",3,"disabled","onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0),e.NdJ("load",function(){return i.loadComments()})("loadingChange",function(p){return i.loading=p}),e.YNc(1,GN,2,1,"ng-container",1),e.YNc(2,YN,2,1,"ng-container",2),e.qZA(),e.YNc(3,jN,3,3,"ng-template",null,3,e.W1O),e.YNc(5,tF,12,8,"ng-template",null,4,e.W1O)),2&t&&(e.Q6J("loading",i.loading),e.xp6(1),e.Q6J("ngForOf",i.displayedEntries)("ngForTrackBy",i.trackByEntry),e.xp6(1),e.Q6J("ngIf",i.loading))},dependencies:[S.mk,S.sg,S.O5,S.tP,F.jx,Ml.O,aA.lF,Vu.T,ob.qH,mN.D,y.A,D.r,_N.r,CN,xN,IN.J,y_.t,TN],styles:['.journal[_ngcontent-%COMP%]{display:flex;flex-direction:column}.journal[_ngcontent-%COMP%]   .journal-item[_ngcontent-%COMP%]{display:grid;grid:min-content min-content/max-content max-content 1fr;grid-template-areas:"event-type employee-avatar event-header" "event-stick . event-body"}.journal[_ngcontent-%COMP%]   .journal-item[_ngcontent-%COMP%]   .journal-event-body[_ngcontent-%COMP%]:not(.event):not(.reply){padding-bottom:3rem}.journal[_ngcontent-%COMP%]   .journal-item.event[_ngcontent-%COMP%]{grid:min-content min-content/repeat(3,max-content) 1fr;grid-template-areas:"event-type employee-avatar event-header event-body" "event-stick event-footer event-footer event-footer"}.journal[_ngcontent-%COMP%]   .journal-item.reply[_ngcontent-%COMP%]{grid:repeat(3,min-content)/max-content max-content 1fr;grid-template-areas:"event-type employee-avatar event-header" "event-stick . event-body" "event-stick reply-comment reply-comment"}.event-type-wrapper[_ngcontent-%COMP%]{grid-area:event-type;display:flex;align-items:center;justify-content:center;width:2rem;height:2rem;color:#fff;border-radius:9999px;align-self:center}.event-type-wrapper[_ngcontent-%COMP%]:not(.skeleton){background-color:var(--gray-600)}.event-type-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem}.employee-avatar-wrapper[_ngcontent-%COMP%]{align-items:center;grid-area:employee-avatar;display:flex;padding:0 1rem 0 1.5rem}.journal-item[_ngcontent-%COMP%]:not(:last-child)   .vertical-line[_ngcontent-%COMP%]{grid-area:event-stick;background-color:var(--bgc-300);width:1px;justify-self:center}.journal-event-header[_ngcontent-%COMP%]{grid-area:event-header;display:flex;align-items:center;gap:1rem}.journal-event-header[_ngcontent-%COMP%]   .basic-information[_ngcontent-%COMP%]{display:flex;align-self:center;flex-direction:column}.journal-event-header[_ngcontent-%COMP%]   .basic-information[_ngcontent-%COMP%]   .employee-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--tc-800);line-height:normal}.journal-event-header[_ngcontent-%COMP%]   .basic-information[_ngcontent-%COMP%]   .creation-time[_ngcontent-%COMP%]{font-size:.8rem;color:var(--tc-500);line-height:normal}.journal-event-body[_ngcontent-%COMP%]{grid-area:event-body;padding-top:.5rem}.journal-event-body.event[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;padding-left:1.2rem;display:flex;align-items:center}.reply-comment[_ngcontent-%COMP%]{grid-area:reply-comment;display:grid;opacity:.9;grid:min-content min-content/max-content max-content 1fr;grid-template-areas:"reply-marker employee-avatar event-header" "reply-marker . event-body"}.reply-comment[_ngcontent-%COMP%]   .reply-marker[_ngcontent-%COMP%]{grid-area:reply-marker;margin:0 0 2rem 2.8rem;background-color:var(--mc-300);width:3px;border-radius:3px}.reply-comment[_ngcontent-%COMP%]   .journal-event-header[_ngcontent-%COMP%], .reply-comment[_ngcontent-%COMP%]   .employee-avatar-wrapper[_ngcontent-%COMP%]{margin-top:1rem}.event-footer[_ngcontent-%COMP%]{grid-area:event-footer;height:2rem}.attachments-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.1rem;padding-top:.6rem}'],data:{animation:[u.U1]}}),n})();var HA=b(3078),lI=b(2777),iF=b(3460);const oF=["panel"],sF=["target"],rF=["list"],aF=function(n){return{selected:n}};function lF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",8),e.NdJ("click",function(){const p=e.CHM(t).$implicit,w=e.oxw(2),Q=e.MAs(3);return null==Q||Q.hide(),e.KtG(w.onSelect.emit(p))})("mouseenter",function(){const p=e.CHM(t).index,w=e.oxw(2);return e.KtG(w.selectedEmployeeIndex=p)}),e._UZ(1,"app-employee-label",9),e.qZA()}if(2&n){const t=o.$implicit,i=o.index,s=e.oxw(2);e.Q6J("ngClass",e.VKq(2,aF,s.selectedEmployeeIndex===i)),e.xp6(1),e.Q6J("employee",t)}}function cF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5,6),e.NdJ("keydown",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.navigate(s))}),e.YNc(2,lF,2,4,"div",7),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("tabIndex",0),e.xp6(2),e.Q6J("ngForOf",t.employees)}}let uF=(()=>{class n{constructor(t){this.api=t,this.targetPosition={top:"0px",left:"0px"},this.employees=[],this.selectedEmployeeIndex=0,this.onSelect=new e.vpe,this.onReturnFocus=new e.vpe}setQuillEvent(t){var i;!_.cQ.isCorrectSequenceOfCharacters(t,"@",[" ","\n"])||(null===(i=this.panel)||void 0===i||i.hide(),this.api.getEmployees(void 0,!1,!1).subscribe(s=>{var p,w,Q;this.employees=s;const{editor:qe}=t,$t=qe.getSelection(),{top:jt,left:Gt}=qe.getBounds(null!==(p=null==$t?void 0:$t.index)&&void 0!==p?p:0),Fn=t.editor.root.getBoundingClientRect();this.targetPosition={left:Gt+Fn.x+window.scrollX+"px",top:jt+Fn.y+window.scrollY+"px"},null===(w=this.panel)||void 0===w||w.show(new MouseEvent("click"),null===(Q=this.target)||void 0===Q?void 0:Q.nativeElement),setTimeout(()=>{var jn,Ti;null===(Ti=null===(jn=this.list)||void 0===jn?void 0:jn.nativeElement)||void 0===Ti||Ti.focus()},100)}))}ngOnInit(){}navigate(t){var i,s;switch(t.key){case"ArrowDown":t.preventDefault(),t.stopPropagation(),this.selectedEmployeeIndex++,this.selectedEmployeeIndex>=this.employees.length&&(this.selectedEmployeeIndex=0);break;case"ArrowUp":t.preventDefault(),t.stopPropagation(),this.selectedEmployeeIndex--,this.selectedEmployeeIndex<0&&(this.selectedEmployeeIndex=this.employees.length-1);break;case"Enter":null===(i=this.panel)||void 0===i||i.hide(),this.onSelect.emit(this.employees[this.selectedEmployeeIndex]);break;default:null===(s=this.panel)||void 0===s||s.hide(),this.onReturnFocus.emit()}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-insert-panel"]],viewQuery:function(t,i){if(1&t&&(e.Gf(oF,5),e.Gf(sF,5),e.Gf(rF,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.panel=s.first),e.iGM(s=e.CRH())&&(i.target=s.first),e.iGM(s=e.CRH())&&(i.list=s.first)}},outputs:{onSelect:"onSelect",onReturnFocus:"onReturnFocus"},decls:5,vars:3,consts:[[1,"overlay-target"],["target",""],["appCloseIfScroll","","showTransitionOptions","0ms","hideTransitionOptions","0ms",3,"dismissable"],["panel",""],["pTemplate","content"],[1,"list-view",3,"tabIndex","keydown"],["list",""],["class","p5",3,"ngClass","click","mouseenter",4,"ngFor","ngForOf"],[1,"p5",3,"ngClass","click","mouseenter"],[3,"employee"]],template:function(t,i){1&t&&(e._UZ(0,"div",0,1),e.TgZ(2,"p-overlayPanel",2,3),e.YNc(4,cF,3,2,"ng-template",4),e.qZA()),2&t&&(e.Akn(i.targetPosition),e.xp6(2),e.Q6J("dismissable",!0))},dependencies:[S.mk,S.sg,F.jx,Vu.T,yc.x,iF.j],styles:[".overlay-target[_ngcontent-%COMP%]{width:1px;height:13px;position:absolute;-webkit-user-select:none;user-select:none}.list-view[_ngcontent-%COMP%]{outline:0}.list-view[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none}.list-view[_ngcontent-%COMP%]   *.selected[_ngcontent-%COMP%]{background-color:var(--gray-200)}"]}),n})();var dF=b(7805),pF=b(4464);let hF=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-circle-loading-indicator"]],decls:4,vars:0,consts:[[1,"loading-indicator"],[1,"circle","first"],[1,"circle","second"],[1,"circle","third"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1)(2,"div",2)(3,"div",3),e.qZA())},styles:[".loading-indicator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.3rem;height:.8rem}.circle[_ngcontent-%COMP%]{width:auto;height:100%;aspect-ratio:1;border-radius:50%;background-color:#b2b9c230}.first[_ngcontent-%COMP%]{animation:1.2s pulse ease-in infinite}.second[_ngcontent-%COMP%]{animation:1.2s pulse ease-in .4s infinite}.third[_ngcontent-%COMP%]{animation:1.2s pulse ease-in .8s infinite}@keyframes pulse{0%{transform:scale(1);background-color:#b2b9c230}15%{transform:scale(.9);background-color:#b2b9c2}33%,to{transform:scale(1);background-color:#b2b9c230}}"]}),n})();function gF(n,o){1&n&&(e.TgZ(0,"div",10),e._uU(1,"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0435\u0433\u0438"),e.qZA())}function fF(n,o){if(1&n&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.hij(" ",t.name," ")}}function mF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e.NdJ("mouseenter",function(s){e.CHM(t),e.oxw(2);const p=e.MAs(4);return e.KtG(p.show(s))})("mouseleave",function(){e.CHM(t),e.oxw(2);const s=e.MAs(4);return e.KtG(s.hide())}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.hij(" \u0418 \u0435\u0449\u0435 ",t.selectedTags.length-2," ")}}function _F(n,o){if(1&n&&(e.YNc(0,gF,2,0,"div",7),e.TgZ(1,"div",8),e.YNc(2,fF,2,3,"div",6),e.ALo(3,"slice"),e.YNc(4,mF,2,1,"div",9),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngIf",!t.selectedTags||0===t.selectedTags.length),e.xp6(2),e.Q6J("ngForOf",e.Dn7(3,4,t.selectedTags,0,2))("ngForTrackBy",t.trackByTaskTag),e.xp6(2),e.Q6J("ngIf",t.control.value&&t.control.value.length>2)}}function CF(n,o){if(1&n&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.hij(" ",t.name," ")}}function vF(n,o){if(1&n&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.hij(" ",t.name," ")}}let VA=(()=>{class n{constructor(t){this.api=t,this.availableTags=[],this.control=new f.NI(null),this.subscription=new _.xf,this.onChange=()=>{},this.onTouched=()=>{}}get selectedTags(){return this.availableTags.filter(t=>{var i;return null===(i=this.control.value)||void 0===i?void 0:i.includes(t.taskTagId)})}trackByTaskTag(t,i){return i.taskTagId}setDisabledState(t){t?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}ngOnInit(){this.api.getTaskTags(null,!0).subscribe(t=>{this.availableTags=t}),this.subscription.addSubscription("change",this.control.valueChanges.pipe((0,gt.U)(t=>null!=t?t:[])).subscribe(t=>{this.onChange(t)}))}ngOnDestroy(){this.subscription.unsubscribeAll()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.control.setValue(t||null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-tag-filter-input"]],features:[e._Bn([{provide:f.JU,multi:!0,useExisting:n}])],decls:8,vars:9,consts:[["filterBy","name","appendTo","body","defaultLabel","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0435\u0433\u0438","optionValue","taskTagId","placeholder","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0435\u0433\u0438",3,"formControl","filter","options","showClear","onBlur"],["pTemplate","selectedItems"],["pTemplate","item"],["showTransitionOptions","0ms","hideTransitionOptions","0ms"],["extraPreview",""],[1,"tags-view","wrap","max"],["class","tags-view-item",3,"background-color",4,"ngFor","ngForOf","ngForTrackBy"],["class","tags-view-placeholder",4,"ngIf"],[1,"tags-view"],["class","tags-view-item",3,"mouseenter","mouseleave",4,"ngIf"],[1,"tags-view-placeholder"],[1,"tags-view-item"],[1,"tags-view-item",3,"mouseenter","mouseleave"]],template:function(t,i){1&t&&(e.TgZ(0,"p-multiSelect",0),e.NdJ("onBlur",function(){return i.onTouched()}),e.YNc(1,_F,5,8,"ng-template",1),e.YNc(2,CF,2,3,"ng-template",2),e.qZA(),e.TgZ(3,"p-overlayPanel",3,4)(5,"div",5),e.YNc(6,vF,2,3,"div",6),e.ALo(7,"slice"),e.qZA()()),2&t&&(e.Q6J("formControl",i.control)("filter",!0)("options",i.availableTags)("showClear",!0),e.xp6(6),e.Q6J("ngForOf",e.xi3(7,6,i.selectedTags,2))("ngForTrackBy",i.trackByTaskTag))},dependencies:[S.sg,S.O5,f.JJ,F.jx,Vu.T,lA.NU,f.oH,S.OU]}),n})();function bF(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",11),e._UZ(2,"p-progressSpinner",12),e.qZA(),e.BQk())}function yF(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",13)(2,"div",14),e._UZ(3,"i",15),e.TgZ(4,"span"),e._uU(5,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()()(),e.BQk())}function xF(n,o){1&n&&e.GkF(0)}function IF(n,o){if(1&n&&(e.ynx(0),e.YNc(1,xF,1,0,"ng-container",16),e.BQk()),2&n){const t=e.oxw(2),i=e.MAs(3),s=e.MAs(5);e.xp6(1),e.Q6J("ngIf","single"===t.linkingMode)("ngIfThen",i)("ngIfElse",s)}}function TF(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",11)(2,"div",17),e._UZ(3,"i",18),e.TgZ(4,"span"),e._uU(5,"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0437\u0430\u0434\u0430\u0447"),e.qZA()()(),e.BQk())}function AF(n,o){1&n&&e.GkF(0)}function wF(n,o){1&n&&e.GkF(0)}function EF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",19),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.selectChild())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",0===t.selectedChildTask.length)}}function SF(n,o){1&n&&(e.TgZ(0,"div",20),e._UZ(1,"app-circle-loading-indicator"),e.qZA())}function kF(n,o){if(1&n&&(e.ynx(0,6),e.YNc(1,bF,3,0,"ng-container",7),e.YNc(2,yF,6,0,"ng-container",7),e.YNc(3,IF,2,3,"ng-container",7),e.YNc(4,TF,6,0,"ng-container",7),e.BQk(),e.YNc(5,AF,1,0,"ng-container",8),e.YNc(6,wF,1,0,"ng-container",8),e.YNc(7,EF,1,1,"p-button",9),e.YNc(8,SF,2,0,"div",10)),2&n){const t=e.oxw(),i=e.MAs(7),s=e.MAs(9);e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s),e.xp6(1),e.Q6J("ngIf","multiply"===t.linkingMode),e.xp6(1),e.Q6J("ngIf",t.linkingInProgress)}}function DF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-list-element",23),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.selectParent(p.taskId))}),e.qZA()}2&n&&e.Q6J("item",o.$implicit)("customClickHandler",!0)("inlined",!0)}function MF(n,o){if(1&n&&(e.TgZ(0,"div",21),e.YNc(1,DF,1,3,"app-task-list-element",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.pageOfTasks?null:t.pageOfTasks.content)}}function OF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-list-element",25),e.NdJ("checkChange",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.selectedChildTask=s)}),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("check",i.selectedChildTask)("item",t)("customClickHandler",!0)("inlined",!0)("isHover",!1)}}function PF(n,o){if(1&n&&(e.TgZ(0,"div",21),e.YNc(1,OF,1,5,"app-task-list-element",24),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.pageOfTasks?null:t.pageOfTasks.content)}}function LF(n,o){1&n&&e._UZ(0,"app-task-status-chooser",33)}function RF(n,o){if(1&n&&(e.TgZ(0,"div",26),e._UZ(1,"app-task-template-multi-selector",27),e.YNc(2,LF,1,0,"app-task-status-chooser",28),e._UZ(3,"input",29)(4,"app-employee-selector",30)(5,"app-data-range-input",31)(6,"app-task-tag-filter-input",32),e.qZA()),2&n){const t=e.oxw();e.Q6J("formGroup",t.mainFilterForm),e.xp6(1),e.Q6J("inline",!0),e.xp6(1),e.Q6J("ngIf",!t.onlyMy)}}function NF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-paginator",34),e.NdJ("onPageChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.changePage(s))}),e.qZA()}if(2&n){const t=e.oxw();let i;e.Q6J("alwaysShow",!0)("rows",25)("showCurrentPageReport",!0)("totalRecords",null!==(i=null==t.pageOfTasks?null:t.pageOfTasks.totalElements)&&void 0!==i?i:0)}}const FF=function(){return{width:"80vw"}},BF=function(){return{"960px":"90vw","640px":"100vw"}};let zA=(()=>{class n{constructor(t,i){this.api=t,this.confirm=i,this.excludedTasks=[],this.header="",this.onlyMy=!1,this.onSelected=new e.vpe,this.onMultiplySelected=new e.vpe,this.isShow=!1,this.linkingMode="single",this.selectedChildTask=[],this.currentPage=0,this.loadingState=he.Gu.LOADING,this.linkingInProgress=!1,this.lastAppliedMainFilter={},this.dialogContentStyle={padding:"0 1rem 0 1rem",display:"grid",grid:"1fr min-content/ 1fr max-content",gridTemplateAreas:"'list filter''paginator paginator'",columnGap:"1rem"},this.mainFilterForm=new f.cw({searchPhrase:new f.NI(null),template:new f.NI([],[P.d.notEmpty]),status:new f.NI([he.hY.ACTIVE,he.hY.PROCESSING,he.hY.CLOSE],[P.d.notEmpty]),author:new f.NI(null),dateOfCreation:new f.NI(null),tags:new f.NI([])}),this.filters$=this.mainFilterForm.valueChanges.pipe((0,Is.b)(1e3),(0,zr.x)(),(0,gt.U)(({searchPhrase:s,template:p,status:w,author:Q,dateOfCreation:Ce,tags:qe})=>({searchPhrase:s,template:p,status:w,author:Q,dateOfCreation:Ce,tags:qe})),(0,cn.d)(1)),this.subscriptions=new _.xf}ngOnInit(){this.subscriptions.addSubscription("filter",this.filters$.subscribe(t=>{this.loadingState=he.Gu.LOADING,this.mainFilterForm.disable({emitEvent:!1}),this.api.getPageOfTasks(0,Object.assign(Object.assign({},t),{exclusionIds:this.excludedTasks,onlyMy:this.onlyMy})).subscribe(this.loadHandler())}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}open(t){this.isShow=!0,this.linkingMode=t}changePage(t){this.loadingState=he.Gu.LOADING,this.mainFilterForm.disable({emitEvent:!1}),(0,pF.n)(this.filters$.pipe((0,uh.P)())).then(i=>this.api.getPageOfTasks(t.page,Object.assign(Object.assign({},i),{exclusionIds:this.excludedTasks,onlyMy:this.onlyMy})).subscribe(this.loadHandler()))}loadHandler(){return{next:t=>{this.pageOfTasks=t,this.loadingState=t.totalElements>0?he.Gu.READY:he.Gu.EMPTY,this.mainFilterForm.enable({emitEvent:!1})},error:()=>{this.loadingState=he.Gu.ERROR,this.mainFilterForm.enable({emitEvent:!1})}}}selectParent(t){this.onSelected.emit(t),this.linkingInProgress=!1,this.selectedChildTask=[],this.isShow=!1}selectChild(){this.onMultiplySelected.emit(this.selectedChildTask),this.linkingInProgress=!1,this.selectedChildTask=[],this.isShow=!1}closeHandler(){this.mainFilterForm.setValue({template:[],status:[he.hY.ACTIVE,he.hY.PROCESSING,he.hY.CLOSE],dateOfCreation:null,tags:[],author:"",searchPhrase:""}),this.pageOfTasks=void 0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(F.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-selecting-dialog"]],inputs:{excludedTasks:"excludedTasks",header:"header",onlyMy:"onlyMy"},outputs:{onSelected:"onSelected",onMultiplySelected:"onMultiplySelected"},decls:10,vars:12,consts:[[3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","contentStyle","header","visibleChange","onHide"],["pTemplate","content"],["parentTaskList",""],["childTaskList",""],["filter",""],["paginator",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet"],["styleClass","p-button-success","class","float-button","label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","icon","mdi-check",3,"disabled","onClick",4,"ngIf"],["class","loading-shader",4,"ngIf"],[1,"list","flexed","hcenter","vcenter"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"list","flexed","hcenter","vcenter","flexed","hcenter","gap3"],[1,"caption","size-big","wt-bold","f-color-danger"],[1,"mdi-error"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"caption","size-big","wt-bold","f-color-500","flexed","hcenter","gap3"],[1,"mdi-search_off"],["styleClass","p-button-success","label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","icon","mdi-check",1,"float-button",3,"disabled","onClick"],[1,"loading-shader"],[1,"list"],[3,"item","customClickHandler","inlined","onClick",4,"ngFor","ngForOf"],[3,"item","customClickHandler","inlined","onClick"],["checkGroup","childTasks",3,"check","item","customClickHandler","inlined","isHover","checkChange",4,"ngFor","ngForOf"],["checkGroup","childTasks",3,"check","item","customClickHandler","inlined","isHover","checkChange"],[1,"filters",3,"formGroup"],["formControlName","template",3,"inline"],["formControlName","status",4,"ngIf"],["pInputText","","formControlName","searchPhrase","placeholder","\u041e\u0431\u0449\u0438\u0439 \u043f\u043e\u0438\u0441\u043a"],["formControlName","author"],["formControlName","dateOfCreation"],["formControlName","tags",1,"full-width"],["formControlName","status"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447",1,"paginator",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","onPageChange"]],template:function(t,i){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(p){return i.isShow=p})("onHide",function(){return i.closeHandler()}),e.YNc(1,kF,9,9,"ng-template",1),e.qZA(),e.YNc(2,MF,2,1,"ng-template",null,2,e.W1O),e.YNc(4,PF,2,1,"ng-template",null,3,e.W1O),e.YNc(6,RF,7,3,"ng-template",null,4,e.W1O),e.YNc(8,NF,1,4,"ng-template",null,5,e.W1O)),2&t&&(e.Akn(e.DdM(10,FF)),e.Q6J("visible",i.isShow)("breakpoints",e.DdM(11,BF))("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1)("contentStyle",i.dialogContentStyle)("header",i.header))},dependencies:[S.sg,S.O5,S.tP,S.RF,S.n9,O.zx,f.Fj,f.JJ,f.JL,F.jx,Ao.V,it.G,bi.o,f.sg,f.u,Dl.D,hF,Kc.E,VA,NA,sI,rI,lb],styles:[".filters[_ngcontent-%COMP%]{grid-area:filter;display:flex;flex-direction:column;gap:.5rem;position:sticky;top:0;height:max-content;padding-bottom:1rem}.list[_ngcontent-%COMP%]{grid-area:list;display:flex;flex-direction:column}.paginator[_ngcontent-%COMP%]{grid-area:paginator;position:sticky;bottom:0}.loading-shader[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;width:100%;height:100%;z-index:1;background-color:#fff9;top:0;left:0;-webkit-backdrop-filter:blur(7px);backdrop-filter:blur(7px);border-radius:1rem}.float-button[_ngcontent-%COMP%]{position:absolute;bottom:1rem;right:1rem}"]}),n})();var ZF=b(7445);let UF=(()=>{class n{constructor(t){this.elementRef=t,this.subscriptions=new _.xf,this.measureElement=document.createElement("div")}ngAfterViewInit(){const t=this.elementRef.nativeElement;document.body.append(this.measureElement),t.style.boxSizing="border-box";const i=window.getComputedStyle(t);this.measureElement.style.fontSize=i.fontSize,this.measureElement.style.fontFamily=i.fontFamily,this.measureElement.style.fontWeight=i.fontWeight,this.measureElement.style.fontStyle=i.fontStyle,this.measureElement.style.padding=i.padding,this.measureElement.style.lineHeight=i.lineHeight,this.measureElement.style.letterSpacing=i.letterSpacing,this.measureElement.style.border=i.border,this.measureElement.style.minHeight=parseFloat(i.fontSize)+5+"px",this.measureElement.style.whiteSpace="pre-wrap",this.measureElement.style.boxSizing="border-box",this.measureElement.style.visibility="hidden",this.measureElement.style.position="fixed",this.measureElement.style.top="0",this.measureElement.style.left="0",this.measureElement.style.overflow="hidden",this.measureElement.style.width=t.offsetWidth+"px",this.measureElement.style.height="auto",this.measureElement.style.overflowWrap="break-word";const s=(0,x.R)(t,"input"),p=(0,ZF.F)(300),w=(0,x.R)(window,"resize"),Q=s.subscribe(this.resize.bind(this)),Ce=p.subscribe(this.resize.bind(this));this.subscriptions.addSubscription("input",Q),this.subscriptions.addSubscription("interval",Ce);const qe=w.subscribe(this.resize.bind(this));this.subscriptions.addSubscription("winResize",qe),this.resize()}ngOnDestroy(){this.subscriptions.unsubscribeAll()}resize(){const t=this.elementRef.nativeElement,i=t.value;this.measureElement.style.width=t.offsetWidth+"px",this.measureElement.innerText=i;let s=0;"\n"===i[i.length-1]&&(s=parseFloat(window.getComputedStyle(t).fontSize)+5),this.measureElement.style.boxSizing=0===t.value.length?"content-box":"border-box",t.style.height=this.measureElement.offsetHeight+s+"px"}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","appTextareaAutoresize",""]]}),n})();var JA=b(1787);function HF(n,o){1&n&&(e.TgZ(0,"div",7)(1,"span",8),e._UZ(2,"i",9),e.TgZ(3,"span"),e._uU(4," \u041d\u0435\u0442 \u0436\u0443\u0440\u043d\u0430\u043b\u043e\u0432 \u0440\u0430\u0431\u043e\u0442 "),e.qZA()()())}function VF(n,o){1&n&&e.GkF(0)}function zF(n,o){if(1&n&&(e.TgZ(0,"span",27)(1,"span",15),e._UZ(2,"i",28),e.TgZ(3,"span"),e._uU(4,"\u041e\u0442\u0447\u0435\u0442"),e.qZA()(),e.TgZ(5,"span",29),e._uU(6),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(6),e.Oqu(t.report)}}const JF=function(n){return{$implicit:n}};function QF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e.YNc(1,VF,1,0,"ng-container",13),e.TgZ(2,"span",14)(3,"span")(4,"span",15),e._UZ(5,"i",16),e.TgZ(6,"span"),e._uU(7,"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b:"),e.qZA()(),e._UZ(8,"app-avatar-list",17),e.qZA(),e.TgZ(9,"span")(10,"span",15),e._UZ(11,"i",16),e.TgZ(12,"span"),e._uU(13,"\u041f\u0440\u0438\u043d\u044f\u043b\u0438:"),e.qZA()(),e._UZ(14,"app-avatar-list",17),e.qZA(),e.TgZ(15,"span")(16,"span",15),e._UZ(17,"i",16),e.TgZ(18,"span"),e._uU(19,"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0438:"),e.qZA()(),e._UZ(20,"app-avatar-list",17),e.qZA(),e.TgZ(21,"span")(22,"span",15),e._UZ(23,"i",18),e.TgZ(24,"span"),e._uU(25,"\u0421\u043e\u0437\u0434\u0430\u043b:"),e.qZA()(),e._UZ(26,"app-employee-label",19),e.qZA()(),e.TgZ(27,"span",20)(28,"span",21)(29,"span",15),e._UZ(30,"i",22),e.TgZ(31,"span"),e._uU(32,"\u0421\u043e\u0437\u0434\u0430\u043d:"),e.qZA()(),e.TgZ(33,"span"),e._uU(34),e.ALo(35,"date"),e.qZA()(),e.TgZ(36,"span",21)(37,"span",15),e._UZ(38,"i",23),e.TgZ(39,"span"),e._uU(40,"\u0417\u0430\u043a\u0440\u044b\u0442:"),e.qZA()(),e.TgZ(41,"span"),e._uU(42),e.ALo(43,"date"),e.qZA()(),e.TgZ(44,"span",21)(45,"span",15),e._UZ(46,"i",24),e.TgZ(47,"span"),e._uU(48,"\u0417\u0430\u0442\u0440\u0430\u0447\u0435\u043d\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438:"),e.qZA()(),e.TgZ(49,"span"),e._uU(50),e.ALo(51,"elapsedTime"),e.qZA()()(),e.TgZ(52,"span",14)(53,"p-button",25),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(3);return e.KtG(w.chatService.open.emit(p.chat.chatId))}),e.qZA()(),e.YNc(54,zF,7,1,"span",26),e.qZA()}if(2&n){const t=o.$implicit;e.oxw(3);const i=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(22,JF,t.status)),e.xp6(7),e.Q6J("employees",t.employees),e.xp6(6),e.Q6J("employees",t.whoAccepted),e.xp6(6),e.Q6J("employees",t.whoClosed),e.xp6(6),e.Q6J("employee",t.creator)("size",2),e.xp6(8),e.Oqu(e.xi3(35,11,t.created,"dd-MM-yyyy HH:mm")),e.xp6(8),e.Oqu(e.xi3(43,14,t.closed,"dd-MM-yyyy HH:mm")),e.xp6(8),e.Oqu(e.gM2(51,17,t.leadTime,"","",!0)),e.xp6(4),e.Q6J("ngIf",t.report)}}function GF(n,o){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,QF,55,24,"div",11),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.workLogs)("ngForTrackBy",t.trackByWorkLog)}}function WF(n,o){1&n&&e.GkF(0)}function YF(n,o){if(1&n&&(e.ynx(0),e.YNc(1,WF,1,0,"ng-container",30),e.BQk()),2&n){e.oxw(2);const t=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function jF(n,o){if(1&n&&(e.YNc(0,HF,5,0,"div",4),e.YNc(1,GF,2,2,"div",5),e.YNc(2,YF,2,1,"ng-container",6)),2&n){const t=e.oxw();e.Q6J("ngIf",!t.isLoading&&!t.workLogs.length),e.xp6(1),e.Q6J("ngIf",!t.isLoading&&t.workLogs.length),e.xp6(1),e.Q6J("ngIf",t.isLoading)}}const KF=function(){return{color:"var(--warm-600)"}};function qF(n,o){1&n&&(e.TgZ(0,"span",33),e._UZ(1,"i",34),e.TgZ(2,"span"),e._uU(3," \u0412 \u0440\u0430\u0431\u043e\u0442\u0435 "),e.qZA()()),2&n&&e.Akn(e.DdM(2,KF))}const $F=function(){return{color:"var(--green-400)"}};function XF(n,o){1&n&&(e.TgZ(0,"span",33),e._UZ(1,"i",35),e.TgZ(2,"span"),e._uU(3," \u0417\u0430\u043a\u0440\u044b\u0442 "),e.qZA()()),2&n&&e.Akn(e.DdM(2,$F))}const e5=function(){return{color:"var(--red-400)"}};function t5(n,o){1&n&&(e.TgZ(0,"span",33),e._UZ(1,"i",36),e.TgZ(2,"span"),e._uU(3," \u0417\u0430\u043a\u0440\u044b\u0442 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e "),e.qZA()()),2&n&&e.Akn(e.DdM(2,e5))}function n5(n,o){1&n&&(e.ynx(0,31),e.YNc(1,qF,4,3,"span",32),e.YNc(2,XF,4,3,"span",32),e.YNc(3,t5,4,3,"span",32),e.BQk()),2&n&&(e.Q6J("ngSwitch",o.$implicit),e.xp6(1),e.Q6J("ngSwitchCase","ACTIVE"),e.xp6(1),e.Q6J("ngSwitchCase","CLOSE"),e.xp6(1),e.Q6J("ngSwitchCase","FORCE_CLOSE"))}function o5(n,o){1&n&&(e.TgZ(0,"div",12),e._UZ(1,"p-skeleton",38),e.TgZ(2,"span",14)(3,"span"),e._UZ(4,"p-skeleton",39),e.qZA(),e.TgZ(5,"span"),e._UZ(6,"p-skeleton",39),e.qZA(),e.TgZ(7,"span"),e._UZ(8,"p-skeleton",39),e.qZA(),e.TgZ(9,"span"),e._UZ(10,"p-skeleton",39),e.qZA()(),e.TgZ(11,"span",20)(12,"span",21),e._UZ(13,"p-skeleton",40),e.qZA(),e.TgZ(14,"span",21),e._UZ(15,"p-skeleton",40),e.qZA(),e.TgZ(16,"span",21),e._UZ(17,"p-skeleton",40),e.qZA()(),e.TgZ(18,"span",14),e._UZ(19,"p-skeleton",41)(20,"p-skeleton",42),e.qZA(),e._UZ(21,"p-skeleton",43),e.qZA())}function s5(n,o){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,o5,22,0,"div",37),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.loadingPlaceholders)}}const r5=function(){return{maxWidth:"50vw",width:"fit-content",maxHeight:"60vh",minHeight:"10rem"}},a5=function(){return{"960px":"75vw","640px":"100vw"}},l5=function(){return{display:"grid"}};let c5=(()=>{class n{constructor(t,i,s){this.api=t,this.rt=i,this.chatService=s,this.dialogVisible=!1,this.workLogs=[],this.isLoading=!1,this.subscriptions=new _.xf,this.loadingPlaceholders=Array(3).fill(null)}ngOnInit(){this.rt.workLogCreated().subscribe(this.workLogCreate.bind(this)),this.rt.workLogUpdated().subscribe(this.workLogUpdate.bind(this)),this.rt.workLogDeleted().subscribe(this.workLogDelete.bind(this))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}workLogCreate(t){this.workLogs.unshift(t)}workLogUpdate(t){const i=this.workLogs.findIndex(s=>s.workLogId===t.workLogId);this.workLogs[i]=t}workLogDelete(t){const i=this.workLogs.findIndex(s=>s.workLogId===t.workLogId);this.workLogs.splice(i,1)}trackByWorkLog(t,i){return i.workLogId+i.status+i.whoAccepted.length+i.workReports.length}open(t){this.dialogVisible=!0,this.isLoading=!0,this.api.getWorkLogsByTaskId(t).subscribe({next:this.loadWorkLogs.bind(this),error:this.onErrorDuringLoad.bind(this)})}loadWorkLogs(t){this.isLoading=!1,this.workLogs=t}onErrorDuringLoad(){this.isLoading=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(_t.a))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-work-logs-dialog"]],decls:6,vars:12,consts:[["appendTo","body","header","\u0420\u0430\u0431\u043e\u0442\u044b \u0438 \u043e\u0442\u0447\u0435\u0442\u044b \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435",3,"visible","breakpoints","contentStyle","draggable","modal","resizable","dismissableMask","visibleChange"],["pTemplate","content"],["statusCaption",""],["loadingPlaceholderEl",""],["class","flexed column hcenter vcenter p10",4,"ngIf"],["class","flexed gap5 column list-view",4,"ngIf"],[4,"ngIf"],[1,"flexed","column","hcenter","vcenter","p10"],[1,"caption","size-big","wt-bold","f-color-500","flexed","hcenter","gap2"],[1,"mdi-playlist_remove"],[1,"flexed","gap5","column","list-view"],["class","work-log-element",4,"ngFor","ngForOf","ngForTrackBy"],[1,"work-log-element"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flexed","gap10"],[1,"flexed","gap3","hcenter","caption","size-small","wt-bold","f-color-500"],[1,"mdi-groups"],[3,"employees"],[1,"mdi-person"],[3,"employee","size"],[1,"flexed","gap10","caption","size-small"],[1,"flexed","column"],[1,"mdi-schedule_send"],[1,"mdi-cancel_schedule_send"],[1,"mdi-timelapse"],["icon","mdi-history","label","\u0427\u0430\u0442","styleClass","p-button-secondary p-button-outlined",3,"onClick"],["class","report",4,"ngIf"],[1,"report"],[1,"mdi-summarize"],[1,"report-text"],[4,"ngTemplateOutlet"],[3,"ngSwitch"],["class","caption size-small f-color-500 flexed hcenter gap3",3,"style",4,"ngSwitchCase"],[1,"caption","size-small","f-color-500","flexed","hcenter","gap3"],[1,"mdi-engineering"],[1,"mdi-verified"],[1,"mdi-close"],["class","work-log-element",4,"ngFor","ngForOf"],["height",".9rem","width","10rem"],["height","3.5rem","width","5rem"],["height","2rem","width","7rem"],["height","2.5rem","width","5rem"],["height","2.5rem","width","6rem"],["height","5rem","width","25rem"]],template:function(t,i){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(p){return i.dialogVisible=p}),e.YNc(1,jF,3,3,"ng-template",1),e.qZA(),e.YNc(2,n5,4,4,"ng-template",null,2,e.W1O),e.YNc(4,s5,2,1,"ng-template",null,3,e.W1O)),2&t&&(e.Akn(e.DdM(9,r5)),e.Q6J("visible",i.dialogVisible)("breakpoints",e.DdM(10,a5))("contentStyle",e.DdM(11,l5))("draggable",!1)("modal",!0)("resizable",!1)("dismissableMask",!0))},dependencies:[S.sg,S.O5,S.tP,S.RF,S.n9,O.zx,F.jx,Ao.V,Ml.O,yc.x,JA.k,y_.t,S.uU],styles:[".work-log-element[_ngcontent-%COMP%]{display:grid;grid:repeat(3,min-content) 1fr/1fr;gap:.5rem;padding:1rem}.work-log-element[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-100)}.report[_ngcontent-%COMP%]   .report-text[_ngcontent-%COMP%]{white-space:pre-line;font-size:.9rem;color:var(--tc-700)}"]}),n})();var QA=b(6759),u5=b(1403),d5=b(6501),p5=b(1318),h5=b(3435),g5=b(6083),f5=b(7728);const m5=["headerItm"],_5=["contentItm"];function C5(n,o){1&n&&e.GkF(0)}function v5(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.header," ")}}function b5(n,o){1&n&&e.GkF(0)}const y5=function(n){return{$implicit:n}};function x5(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,b5,1,0,"ng-container",7),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",e.VKq(2,y5,t))}}let I5=(()=>{class n{constructor(t){this.host=t,this._items=[],this.header="",this.headerTemplate=null,this.itemTemplate=null,this.onScrollDown=new e.vpe}set items(t){this._items=t}get items(){return this._items}onResize(){const t=this.host.nativeElement,i=this.host.nativeElement.parentElement,s=getComputedStyle(i),p=parseFloat(s.getPropertyValue("padding-top")),w=parseFloat(s.getPropertyValue("padding-bottom"));t.style.maxHeight=i.clientHeight-(p+w)+"px"}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>this.onResize()),this.contentItm.nativeElement.onwheel=t=>{const i=t.target;i.scrollHeight-(i.offsetHeight+i.scrollTop)==0&&this.onScrollDown.emit()}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-panel"]],viewQuery:function(t,i){if(1&t&&(e.Gf(m5,5),e.Gf(_5,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.headerItm=s.first),e.iGM(s=e.CRH())&&(i.contentItm=s.first)}},hostBindings:function(t,i){1&t&&e.NdJ("resize",function(){return i.onResize()},!1,e.Jf7)},inputs:{items:"items",header:"header",headerTemplate:"headerTemplate",itemTemplate:"itemTemplate"},outputs:{onScrollDown:"onScrollDown"},decls:7,vars:3,consts:[[1,"header"],["headerItm",""],[4,"ngTemplateOutlet"],[4,"ngIf"],[1,"content"],["contentItm",""],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0,1),e.YNc(2,C5,1,0,"ng-container",2),e.YNc(3,v5,2,1,"ng-container",3),e.qZA(),e.TgZ(4,"div",4,5),e.YNc(6,x5,2,4,"div",6),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngTemplateOutlet",i.headerTemplate),e.xp6(1),e.Q6J("ngIf",!i.headerTemplate),e.xp6(3),e.Q6J("ngForOf",i.items))},dependencies:[S.sg,S.O5,S.tP],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border-radius:.5rem;border:1px solid var(--bgc-300);min-height:100px;height:max-content;min-width:15rem;max-width:30rem;overflow:hidden}[_nghost-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;align-items:baseline;padding:.9rem 1.1rem;background-color:#fff;color:var(--tc-700);font-size:1.1rem;font-weight:700;border-bottom:1px solid var(--bgc-300)}[_nghost-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-x:hidden;overflow-y:auto;height:100%}"]}),n})();function T5(n,o){1&n&&e.GkF(0)}function A5(n,o){if(1&n&&(e.ynx(0),e.YNc(1,T5,1,0,"ng-container",11),e.BQk()),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t)}}function w5(n,o){1&n&&e.GkF(0)}function E5(n,o){if(1&n&&(e.ynx(0),e.YNc(1,w5,1,0,"ng-container",11),e.BQk()),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t)}}function S5(n,o){1&n&&e.GkF(0)}function k5(n,o){if(1&n&&(e.ynx(0),e.YNc(1,S5,1,0,"ng-container",11),e.BQk()),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t)}}function D5(n,o){1&n&&(e.TgZ(0,"span",12),e._uU(1," \u041d\u0435\u0442 \u0437\u0430\u0434\u0430\u0447 "),e.qZA())}function M5(n,o){1&n&&e.GkF(0)}function O5(n,o){if(1&n&&(e.ynx(0),e.YNc(1,M5,1,0,"ng-container",11),e.BQk()),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t)}}function P5(n,o){if(1&n&&(e.TgZ(0,"div",4)(1,"div",5),e._uU(2),e.qZA(),e.ynx(3),e.TgZ(4,"div",6)(5,"div",7),e._uU(6,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u0434\u0430\u0447"),e.qZA(),e.YNc(7,A5,2,2,"ng-container",8),e.TgZ(8,"div",7),e._uU(9,"\u0422\u0438\u043f\u044b"),e.qZA(),e.YNc(10,E5,2,2,"ng-container",8),e.TgZ(11,"div",7),e._uU(12,"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0440\u0430\u0431\u043e\u0442"),e.qZA(),e.YNc(13,k5,2,2,"ng-container",8),e.TgZ(14,"div",7),e._uU(15,"\u0417\u0430\u0434\u0430\u0447\u0438 \u0441 \u0442\u0435\u0433\u0430\u043c\u0438"),e.qZA(),e.TgZ(16,"div",9),e.YNc(17,D5,2,0,"span",10),e.YNc(18,O5,2,2,"ng-container",8),e.qZA()(),e.BQk(),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",t.title," "),e.xp6(5),e.Q6J("ngForOf",t.statistic.taskCount),e.xp6(3),e.Q6J("ngForOf",t.statistic.taskCountByStage),e.xp6(3),e.Q6J("ngForOf",t.statistic.worksDone),e.xp6(4),e.Q6J("ngIf",0===t.statistic.taskCountByTags.length),e.xp6(1),e.Q6J("ngForOf",t.statistic.taskCountByTags)}}function L5(n,o){if(1&n&&(e.TgZ(0,"div",13)(1,"span",14),e._uU(2),e.qZA(),e.TgZ(3,"span",15),e._uU(4),e.qZA()()),2&n){const t=o.label,i=o.value,s=o.lcolor,p=o.vcolor;e.xp6(1),e.Udp("color",s?s+" !important":null),e.xp6(1),e.Oqu(t),e.xp6(1),e.Udp("color",p?p+" !important":null),e.xp6(1),e.Oqu(i)}}function R5(n,o){if(1&n&&(e.TgZ(0,"div",16)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&n){const t=o.label,i=o.value;e.Udp("background-color",o.color),e.xp6(2),e.Oqu(t),e.xp6(2),e.Oqu(i)}}function N5(n,o){1&n&&e._UZ(0,"p-skeleton",17)}let F5=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this.title="",this.subscriptions=new _.xf}get wireframe(){if(!this._wireframe)throw new Error("\u0428\u0430\u0431\u043b\u043e\u043d \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d");return this._wireframe}set wireframe(t){this._wireframe=t,this.title=t.name,this.subscriptions.addSubscription("upd",(0,so.T)(this.rt.taskCreated(),this.rt.taskUpdated(),this.rt.taskDeleted()).pipe((0,is.O)(null),(0,Xl.z)(()=>this.api.getWireframeDashboardStatistic(t.wireframeId))).subscribe(i=>{this.statistic=i}))}ngOnInit(){}ngOnDestroy(){this.subscriptions.unsubscribeAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-dashboard-task-statistic-panel"]],inputs:{wireframe:"wireframe"},decls:7,vars:2,consts:[["class","flex flex-column bg-white shadow-1 border-round-lg",4,"ngIf","ngIfElse"],["rowInfo",""],["tag",""],["loading",""],[1,"flex","flex-column","bg-white","shadow-1","border-round-lg"],[1,"flex","align-items-center","text-bluegray-400","text-xl","font-semibold","m-3"],[1,"flex","flex-column","gap-2","px-4","pb-4"],[1,"border-bottom-1","border-bluegray-100","mt-2","text-bluegray-600"],[4,"ngFor","ngForOf"],[1,"flex","flex-wrap","gap-2"],["class","text-bluegray-300 text-lg font-semibold",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"text-bluegray-300","text-lg","font-semibold"],[1,"flex","gap-2","align-items-center"],[1,"text-bluegray-500","text-sm","font-semibold"],[1,"text-bluegray-600"],[1,"flex","py-1","px-2","gap-2","align-items-center","border-round-3xl","text-xs","font-bold","text-white","w-fit","h-fit"],["height","27rem"]],template:function(t,i){if(1&t&&(e.YNc(0,P5,19,6,"div",0),e.YNc(1,L5,5,6,"ng-template",null,1,e.W1O),e.YNc(3,R5,5,4,"ng-template",null,2,e.W1O),e.YNc(5,N5,1,0,"ng-template",null,3,e.W1O)),2&t){const s=e.MAs(6);e.Q6J("ngIf",i.statistic)("ngIfElse",s)}},dependencies:[S.sg,S.O5,S.tP,Ml.O]}),n})(),B5=(()=>{class n{constructor(t){this.el=t,this.tooltip=document.createElement("div")}onmouseenter(){const t=this.el.nativeElement,i=t.getBoundingClientRect();if(t.offsetHeight>=t.scrollHeight)return;this.tooltip.innerText=t.innerText;const s=window.getComputedStyle(t);this.tooltip.style.fontSize=s.fontSize,this.tooltip.style.fontFamily=s.fontFamily,this.tooltip.style.fontWeight=s.fontWeight,this.tooltip.style.fontStyle=s.fontStyle,this.tooltip.style.padding=s.padding,this.tooltip.style.lineHeight=s.lineHeight,this.tooltip.style.letterSpacing=s.letterSpacing,this.tooltip.style.color=s.color,this.tooltip.className="p-3 panel absolute pointer-events-none",document.body.appendChild(this.tooltip),this.tooltip.style.left=i.left-13+"px",this.tooltip.style.width=`${i.width+26}px`;const p=i.top+window.scrollY-13;this.tooltip.style.top=`${p}px`,setTimeout(()=>{let Ce=this.tooltip.getBoundingClientRect().bottom+document.documentElement.scrollTop-(document.documentElement.scrollTop+window.innerHeight);Ce<0&&(Ce=0),this.tooltip.style.top=p-Ce+"px"})}onmouseleave(){try{document.body.removeChild(this.tooltip)}catch(t){}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","appTooltip",""]],hostBindings:function(t,i){1&t&&e.NdJ("mouseenter",function(){return i.onmouseenter()})("mouseleave",function(){return i.onmouseleave()})}}),n})(),cI=(()=>{class n{transform(t){switch(t){case he.b9.AMOUNT:return"\u0448\u0442.";case he.b9.METRES:return"\u043c.";case he.b9.KILOGRAMS:return"\u043a\u0433."}return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"unitName",type:n,pure:!0}),n})();function Z5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",24),e.NdJ("dblclick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.workingTableBack())}),e.TgZ(1,"td",25),e._UZ(2,"span",26),e.TgZ(3,"span"),e._uU(4,"\u041d\u0430\u0437\u0430\u0434"),e.qZA()(),e._UZ(5,"td"),e.qZA()}}function U5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",24),e.NdJ("dblclick",function(){e.CHM(t);const s=e.oxw().$implicit,p=e.oxw();return e.KtG(p.loadWorksByGroup(s.key))}),e.TgZ(1,"td",25),e._UZ(2,"span"),e.TgZ(3,"span"),e._uU(4),e.qZA()(),e._UZ(5,"td"),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Tol(t.icon),e.xp6(2),e.Oqu(t.label)}}function H5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",27),e.NdJ("onDragStart",function(){e.CHM(t);const s=e.oxw().$implicit,p=e.oxw();return e.KtG(p.workDragging(s.data))})("dblclick",function(){e.CHM(t);const s=e.oxw().$implicit,p=e.oxw();return p.workDragging(s.data),e.KtG(p.dropped())}),e.TgZ(1,"td",25),e._UZ(2,"span"),e.TgZ(3,"span"),e._uU(4),e.qZA()(),e.TgZ(5,"td",28),e._uU(6),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("pDraggableDisabled",i.isDisabled),e.xp6(2),e.Tol(t.icon),e.xp6(2),e.Oqu(t.label),e.xp6(2),e.hij(" ",i.workCost(t.data)," \u0440\u0443\u0431. ")}}function V5(n,o){1&n&&(e.ynx(0,21),e.YNc(1,Z5,6,0,"tr",22),e.YNc(2,U5,6,3,"tr",22),e.YNc(3,H5,7,5,"tr",23),e.BQk()),2&n&&(e.Q6J("ngSwitch",o.$implicit.type),e.xp6(1),e.Q6J("ngSwitchCase","back"),e.xp6(1),e.Q6J("ngSwitchCase","group"),e.xp6(1),e.Q6J("ngSwitchCase","work"))}function z5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",29),e.NdJ("onDragStart",function(){const p=e.CHM(t).$implicit,w=e.oxw();return e.KtG(w.actionDragging(p))})("dblclick",function(){const p=e.CHM(t).$implicit,w=e.oxw();return w.actionDragging(p),e.KtG(w.dropped())}),e.TgZ(1,"td",30),e._UZ(2,"span",31),e.TgZ(3,"span",32),e._uU(4),e.qZA()(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"unitName"),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Udp("font-size","1em"),e.xp6(1),e.Udp("max-width","20rem"),e.xp6(1),e.Oqu(t.name),e.xp6(2),e.AsE(" ",t.cost," \u0440\u0443\u0431/",e.lcZ(7,7,t.unit)," ")}}function J5(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0420\u0430\u0431\u043e\u0442\u0430"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u041a\u043e\u043b-\u0432\u043e"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u041a\u043e\u044d\u0444."),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u0423\u0434.?"),e.qZA()())}function Q5(n,o){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2),s=t.$implicit;e.uIk("rowspan",t.rowspan),e.xp6(1),e.Oqu(s.workName)}}function G5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-inputNumber",37),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw(2).$implicit,w=e.oxw();return e.KtG(w.updateActionCount(s,p))})("onFocus",function(s){e.CHM(t);const p=e.oxw(3);return e.KtG(p.selectAllValue(s))})("ngModelChange",function(s){e.CHM(t);const p=e.oxw(2).$implicit;return e.KtG(p.count=s)}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("ngModel",t.count)("allowEmpty",!1)("max",99999)("min",1)("size",4)}}function W5(n,o){if(1&n&&(e._uU(0),e.ALo(1,"unitName")),2&n){const t=e.oxw(2).$implicit;e.AsE(" ",t.count," ",e.lcZ(1,2,t.unit)," ")}}function Y5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"p-button",38),e.NdJ("onClick",function(s){e.CHM(t);const p=e.oxw(2).$implicit,w=e.oxw(),Q=e.MAs(27);return w.selectWorkActions(p.workId,p.workName),e.KtG(Q.toggle(s))}),e.qZA()()}if(2&n){const t=e.oxw(2).rowspan;e.uIk("rowspan",t)}}function j5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"p-button",39),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2).$implicit,p=e.oxw();return e.KtG(p.removeWork(s.workId))}),e.qZA()()}if(2&n){const t=e.oxw(2).rowspan;e.uIk("rowspan",t)}}function K5(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,Q5,2,2,"td",33),e.TgZ(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td",34)(5,"p-cellEditor"),e.YNc(6,G5,1,5,"ng-template",35),e.YNc(7,W5,2,4,"ng-template",36),e.qZA()(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.YNc(10,Y5,2,1,"td",33),e.YNc(11,j5,2,1,"td",33),e.qZA()),2&n){const t=e.oxw(),i=t.rowgroup,s=t.$implicit;e.xp6(1),e.Q6J("ngIf",i),e.xp6(2),e.Oqu(s.actionName),e.xp6(6),e.hij("",s.cost," \u0440\u0443\u0431."),e.xp6(1),e.Q6J("ngIf",i),e.xp6(1),e.Q6J("ngIf",i)}}function q5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-inputNumber",37),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw(2).$implicit,w=e.oxw();return e.KtG(w.updateActionCount(s,p))})("onFocus",function(s){e.CHM(t);const p=e.oxw(3);return e.KtG(p.selectAllValue(s))})("ngModelChange",function(s){e.CHM(t);const p=e.oxw(2).$implicit;return e.KtG(p.count=s)}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("ngModel",t.count)("allowEmpty",!1)("max",99999)("min",1)("size",4)}}function $5(n,o){if(1&n&&(e._uU(0),e.ALo(1,"unitName")),2&n){const t=e.oxw(2).$implicit;e.AsE(" ",t.count," ",e.lcZ(1,2,t.unit)," ")}}function X5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td",34)(5,"p-cellEditor"),e.YNc(6,q5,1,5,"ng-template",35),e.YNc(7,$5,2,4,"ng-template",36),e.qZA()(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td")(11,"p-button",38),e.NdJ("onClick",function(s){e.CHM(t);const p=e.oxw().$implicit,w=e.oxw(),Q=e.MAs(27);return w.selectAction(p.uuid,p.actionName),e.KtG(Q.toggle(s))}),e.qZA()(),e.TgZ(12,"td")(13,"p-button",39),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,p=e.oxw();return e.KtG(p.removeAction(s.uuid))}),e.qZA()()()}if(2&n){const t=e.oxw().$implicit;e.xp6(3),e.Oqu(t.actionName),e.xp6(6),e.hij("",t.cost," \u0440\u0443\u0431.")}}function eB(n,o){if(1&n&&(e.YNc(0,K5,12,5,"tr",33),e.YNc(1,X5,14,2,"tr",33)),2&n){const t=o.$implicit;e.Q6J("ngIf",t.workId),e.xp6(1),e.Q6J("ngIf",!t.workId)}}const tB=function(){return{grid:"min-content 1fr / max-content max-content 1fr"}},nB=function(){return{minHeight:"500px",minWidth:"300px"}},iB=function(n){return{"cover-element":n}},oB=function(){return["name"]},sB=function(n,o){return{"drop-zone":n,"cover-element":o}},rB=function(){return{width:"max-content"}};let GA=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this.treeMenuWorksItems=[],this.worksTablePath=[],this.worksTableLoading=!1,this.actionsTaken=[],this.isDragging=!1,this.dragEnterCounter=0,this.tableMenuActionsItems=[],this.actionsTableLoading=!1,this.workActionsRatioMenu=[],this.factorsActions=[],this.subscriptions=new _.xf,this.isDisabled=!1,this._employees=[],this.onChange=s=>{},this.onTouched=()=>{}}get employees(){return this._employees}set employees(t){null!=t?(this._employees=t,this.workActionsRatioMenu=this.employees.map(i=>({label:i.fullName,items:[{label:"x0",command:()=>this.addActionRatio(1e-4,i.login)},{label:"x0.1",command:()=>this.addActionRatio(.1,i.login)},{label:"x0.25",command:()=>this.addActionRatio(.2,i.login)},{label:"x0.5",command:()=>this.addActionRatio(.5,i.login)},{label:"x0.75",command:()=>this.addActionRatio(.75,i.login)},{label:"x1.25",command:()=>this.addActionRatio(1.25,i.login)},{label:"x1.5",command:()=>this.addActionRatio(1.5,i.login)},{label:"x2",command:()=>this.addActionRatio(2,i.login)},{label:"x3",command:()=>this.addActionRatio(3,i.login)}]}))):this._employees=[]}get totalCostOfWork(){return this.actionsTaken.reduce((t,i)=>t+i.cost,0)}trackByActionItems(t,i){return i.paidActionId+i.cost+i.name+i.description+i.unit+i.deleted}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t}writeValue(t){t?(this.actionsTaken=t.actionsTaken,t.factorsActions&&(this.factorsActions=t.factorsActions)):(this.actionsTaken=[],this.factorsActions=[])}trackByField(t,i){return i.name+i.textRepresentation+i.modelItemId}trackByEmployee(t,i){return i.login+i.fullName+i.avatar}deselectFactor(){this.selectedUuidActions=void 0}trackByWorkLog(t,i){return i.workLogId}ngOnInit(){this.loadWorks(),this.loadActions()}ngOnDestroy(){this.subscriptions.unsubscribeAll()}loadActions(){this.actionsTableLoading=!0,this.api.getListAvailablePaidActions().subscribe({next:t=>{this.tableMenuActionsItems=t,this.actionsTableLoading=!1},error:t=>{this.actionsTableLoading=!1}}),this.subscriptions.addSubscription("actUpdate",this.rt.paidActionUpdated().subscribe(t=>{const i=this.tableMenuActionsItems.findIndex(s=>s.identifier===t.identifier);i>-1&&(this.tableMenuActionsItems[i]=t)})),this.subscriptions.addSubscription("actDelete",this.rt.paidActionDeleted().subscribe(t=>{const i=this.tableMenuActionsItems.findIndex(s=>s.identifier===t.identifier);i>-1&&this.tableMenuActionsItems.splice(i,1)})),this.subscriptions.addSubscription("actAdd",this.rt.paidActionCreated().subscribe(t=>{this.tableMenuActionsItems.unshift(t)}))}foundNodeByPath(t){var i;if(!t||0===t.length)return null;let s=null,p=this.treeMenuWorksItems;for(let w of t){if(!p)return null;if(s=null!==(i=p.find(Q=>Q.key==="g"+w))&&void 0!==i?i:null,!s)return null;p=s.children}return s}loadWorks(){this.worksTableLoading=!0,this.api.getRootTreeOfWorks(!0).subscribe({next:t=>{this.treeMenuWorksItems=t,this.worksTableLoading=!1}}),this.subscriptions.addSubscription("trMove",this.rt.paidWorksTreeMoved().subscribe(t=>{const i=this.foundNodeByPath(t.sourcePath),s=this.foundNodeByPath(t.targetPath);if(i){if(i.children){const p=i.children.findIndex(w=>w.key===t.object.key&&w.type===t.object.type);p>-1&&i.children.splice(p,1),0===i.children.length&&(i.leaf=!0)}}else{const p=this.treeMenuWorksItems.findIndex(w=>w.key===t.object.key&&w.type===t.object.type);p>-1&&this.treeMenuWorksItems.splice(p,1)}s?(s.children?-1===s.children.findIndex(w=>w.key===t.object.key&&w.type===t.object.type)&&s.children.push(t.object):(s.children=[],s.children.push(t.object)),s.leaf=!1):-1===this.treeMenuWorksItems.findIndex(w=>w.key===t.object.key&&w.type===t.object.type)&&this.treeMenuWorksItems.push(t.object)})),this.subscriptions.addSubscription("trUpd",this.rt.paidWorksTreeUpdated().subscribe(t=>{var i;const s=this.foundNodeByPath(t.path);if(s&&s.children){const p=null===(i=s.children)||void 0===i?void 0:i.findIndex(w=>w.key===t.object.key&&w.type===t.object.type);p>-1&&(s.children[p]=t.object)}else if(!s){const p=this.treeMenuWorksItems.findIndex(w=>w.key===t.object.key&&w.type===t.object.type);p>-1&&(this.treeMenuWorksItems[p]=t.object)}})),this.subscriptions.addSubscription("trCr",this.rt.paidWorksTreeCreated().subscribe(t=>{const i=this.foundNodeByPath(t.path);i?(i.children||(i.children=[]),i.children.push(t.object),i.children.sort((s,p)=>s.position-p.position),i.leaf=!1):(this.treeMenuWorksItems.push(t.object),this.treeMenuWorksItems.sort((s,p)=>s.position-p.position))})),this.subscriptions.addSubscription("trDel",this.rt.paidWorksTreeDeleted().subscribe(t=>{var i;const s=this.foundNodeByPath(t.path);if(s&&s.children){const p=s.children.findIndex(w=>w.key===t.object.key);p>-1&&(null===(i=s.children)||void 0===i||i.splice(p,1))}else if(!s){const p=this.treeMenuWorksItems.findIndex(w=>w.key===t.object.key);p>-1&&this.treeMenuWorksItems.splice(p,1)}}))}loadWorksByGroup(t){this.worksTableLoading=!0,this.api.getWorksOfGroup(t.substring(1),!0).subscribe({next:i=>{this.treeMenuWorksItems=i,this.worksTablePath.push(t),this.treeMenuWorksItems.unshift({type:"back",key:t}),this.worksTableLoading=!1}})}workingTableBack(){this.worksTablePath.pop();const t=this.worksTablePath.pop();this.worksTableLoading=!0,t?this.api.getWorksOfGroup(t.substring(1),!0).subscribe({next:i=>{this.treeMenuWorksItems=i,this.treeMenuWorksItems.unshift({type:"back"}),this.worksTableLoading=!1}}):this.api.getRootTreeOfWorks(!0).subscribe({next:i=>{this.treeMenuWorksItems=i,this.worksTableLoading=!1}})}dropped(){if(this.draggablePaidWork){const t=this.actionsTaken.filter(i=>{var s;return i.workId===(null===(s=this.draggablePaidWork)||void 0===s?void 0:s.paidWorkId)});if(0===t.length)for(let i of this.draggablePaidWork.actions)this.actionsTaken.push({workName:this.draggablePaidWork.name,workId:this.draggablePaidWork.paidWorkId,actionName:i.action.name,count:i.count,unit:i.action.unit,price:i.action.cost,cost:i.action.cost*i.count,actionId:i.action.paidActionId,uuid:(0,$o.Z)()});else t.forEach(i=>{var s;const p=null===(s=this.draggablePaidWork)||void 0===s?void 0:s.actions.find(w=>w.action.paidActionId===i.actionId);p&&(i.count+=p.count,i.cost=i.price*i.count)});this.actionsTaken=[...this.actionsTaken],this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions})}if(this.draggableAction){const t=this.actionsTaken.find(i=>{var s;return!i.workId&&i.actionId===(null===(s=this.draggableAction)||void 0===s?void 0:s.paidActionId)});t?(t.count+=1,t.cost=t.price*t.count):this.actionsTaken.push({workName:void 0,workId:void 0,actionName:this.draggableAction.name,count:1,unit:this.draggableAction.unit,price:this.draggableAction.cost,cost:this.draggableAction.cost,actionId:this.draggableAction.paidActionId,uuid:(0,$o.Z)()}),this.actionsTaken=[...this.actionsTaken],this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions})}this.draggablePaidWork=void 0,this.draggableAction=void 0,this.isDragging=!1,this.dragEnterCounter=0}workDragging(t){this.draggablePaidWork=t}actionDragging(t){this.draggableAction=t}workCost(t){let i=0;for(let s of t.actions)i+=s.action.cost*s.count;return i}removeWork(t){const i=this.actionsTaken.filter(s=>s.workId===t);this.factorsActions=this.factorsActions.filter(s=>!s.actionUuids.some(p=>p===i[0].uuid)),this.actionsTaken=this.actionsTaken.filter(s=>!i.some(p=>p.uuid==s.uuid)),this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions})}updateActionCount(t,i){i.cost=t*i.price,setTimeout(()=>{this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions})})}dragEnter(){this.dragEnterCounter++,this.isDragging=!0}dragLeave(){this.dragEnterCounter--,0===this.dragEnterCounter&&(this.isDragging=!1)}removeAction(t){this.factorsActions=this.factorsActions.filter(i=>!i.actionUuids.some(s=>s===t)),this.actionsTaken=this.actionsTaken.filter(i=>i.uuid!==t),this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions})}selectAllValue(t){const i=t.target;i.setSelectionRange(0,i.value.length)}addActionRatio(t,i){!this.selectedUuidActions||!this.selectedWorkName||(this.factorsActions.push({factor:t,login:i,name:this.selectedWorkName,actionUuids:this.selectedUuidActions,uuid:(0,$o.Z)()}),this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions}))}selectWorkActions(t,i){this.selectedUuidActions=this.actionsTaken.filter(s=>s.workId===t).map(s=>s.uuid),this.selectedWorkName=i}selectAction(t,i){this.selectedUuidActions=[t],this.selectedWorkName=i}filterTable(t,i){i.filterGlobal(nA.translate(t.target.value),"contains")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-works-picker"]],inputs:{employees:"employees"},features:[e._Bn([{provide:f.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0},F.Y])],decls:28,vars:30,consts:[[1,"grided","gap5"],[1,"caption","size-big","wt-bold","f-color-500"],[1,"border-1","border-bluegray-100","border-round-md","overflow-hidden","h-fit",3,"ngClass"],["styleClass","tab-content-unpadding"],["header","\u0420\u0430\u0431\u043e\u0442\u044b"],["scrollHeight","500px",3,"loading","rowHover","value"],["pTemplate","body"],["header","\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"],[1,"flex","flex-column"],[1,"p-input-icon-left","m-3"],[1,"mdi-search"],["pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439...","type","text",1,"w-full",3,"input"],["scrollHeight","500px","styleClass","p-datatable-sm",3,"globalFilterFields","loading","rowHover","value","rowTrackBy"],["actionTableRef",""],[1,"mds-sync_alt","caption","size-huge","self-center"],["pDroppable","dd",1,"flex-grow-1","flex","flex-column","border-1","border-bluegray-100","border-round-md","overflow-hidden",3,"ngClass","pDroppableDisabled","onDragEnter","onDragLeave","onDrop"],["groupRowsBy","workId","rowGroupMode","rowspan","sortField","workName","sortMode","single",1,"flex-grow-1",3,"value"],["pTemplate","header"],[1,"flexed","hcenter","vend","caption","f-color-400","wt-tiny","size-huge","p5"],["appendTo","body",3,"model","popup","onHide"],["ratioMenu",""],[3,"ngSwitch"],["class","not-selectable",3,"dblclick",4,"ngSwitchCase"],["class","not-selectable cursor-move","dragEffect","move","pDraggable","dd",3,"pDraggableDisabled","onDragStart","dblclick",4,"ngSwitchCase"],[1,"not-selectable",3,"dblclick"],[1,"text-bluegray-400","gap-1","flex","align-items-center"],[1,"mdi-subdirectory_arrow_left"],["dragEffect","move","pDraggable","dd",1,"not-selectable","cursor-move",3,"pDraggableDisabled","onDragStart","dblclick"],[1,"text-bluegray-400"],["dragEffect","move","pDraggable","dd",1,"not-selectable","cursor-move",3,"onDragStart","dblclick"],[1,"caption","size-small","with-icon"],[1,"mdi-directions_run"],["appTicker","",1,"caption","white-space-nowrap","overflow-hidden"],[4,"ngIf"],["pEditableColumn",""],["pTemplate","input"],["pTemplate","output"],[3,"ngModel","allowEmpty","max","min","size","ngModelChange","onFocus"],["icon","mdi-percent","styleClass","p-button-text p-button-icon p-button-success",3,"onClick"],["icon","mdi-delete","styleClass","p-button-text p-button-icon p-button-danger",3,"click"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._uU(2," \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b "),e.qZA(),e._UZ(3,"span"),e.TgZ(4,"div",1),e._uU(5," \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b "),e.qZA(),e.TgZ(6,"div",2)(7,"p-tabView",3)(8,"p-tabPanel",4)(9,"p-table",5),e.YNc(10,V5,4,4,"ng-template",6),e.qZA()(),e.TgZ(11,"p-tabPanel",7)(12,"div",8)(13,"span",9),e._UZ(14,"i",10),e.TgZ(15,"input",11),e.NdJ("input",function(w){e.CHM(s);const Q=e.MAs(17);return e.KtG(i.filterTable(w,Q))}),e.qZA()(),e.TgZ(16,"p-table",12,13),e.YNc(18,z5,8,9,"ng-template",6),e.qZA()()()()(),e._UZ(19,"span",14),e.TgZ(20,"div",15),e.NdJ("onDragEnter",function(){return i.dragEnter()})("onDragLeave",function(){return i.dragLeave()})("onDrop",function(){return i.dropped()}),e.TgZ(21,"p-table",16),e.YNc(22,J5,13,0,"ng-template",17),e.YNc(23,eB,2,2,"ng-template",6),e.qZA(),e.TgZ(24,"div",18),e._uU(25),e.qZA()()(),e.TgZ(26,"p-slideMenu",19,20),e.NdJ("onHide",function(){return i.deselectFactor()}),e.qZA()}2&t&&(e.Akn(e.DdM(21,tB)),e.xp6(6),e.Akn(e.DdM(22,nB)),e.Q6J("ngClass",e.VKq(23,iB,i.isDisabled)),e.xp6(3),e.Q6J("loading",i.worksTableLoading)("rowHover",!0)("value",i.treeMenuWorksItems),e.xp6(7),e.Q6J("globalFilterFields",e.DdM(25,oB))("loading",i.actionsTableLoading)("rowHover",!0)("value",i.tableMenuActionsItems)("rowTrackBy",i.trackByActionItems),e.xp6(4),e.Q6J("ngClass",e.WLB(26,sB,i.isDragging,i.isDisabled))("pDroppableDisabled",i.isDisabled),e.xp6(1),e.Q6J("value",i.actionsTaken),e.xp6(4),e.hij(" \u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0442: ",i.totalCostOfWork," \u0440\u0443\u0431. "),e.xp6(1),e.Akn(e.DdM(29,rB)),e.Q6J("model",i.workActionsRatioMenu)("popup",!0))},dependencies:[S.mk,S.O5,S.RF,S.n9,O.zx,f.JJ,f.On,F.jx,Na.Rn,Ol.xf,Ol.x4,bi.o,ka.iA,ka.Wq,ka.YL,EA.aj,jo._l,jo.bK,mh.x,cI]}),n})();function aB(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.Tol("caption "+(i.getWorkActionsRatioSum(t.uuid)>0?"f-color-success":"f-color-danger")),e.xp6(1),e.hij(" ",i.getWorkActionsRatioSum(t.uuid),"\u0440\u0443\u0431. ")}}function lB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",19)(1,"span",18),e._uU(2),e.qZA(),e.TgZ(3,"span",20),e._uU(4),e.qZA(),e.YNc(5,aB,2,3,"span",21),e.TgZ(6,"app-tiny-button",22),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(3);return e.KtG(w.removeWorkActionRatio(p.uuid))}),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw(3);e.xp6(2),e.Oqu(null==t?null:t.name),e.xp6(2),e.hij("x",null==t?null:t.factor,""),e.xp6(1),e.Q6J("ngIf",t),e.xp6(1),e.Q6J("size",.8)("disabled",i.isDisabled)}}function cB(n,o){if(1&n&&(e.TgZ(0,"div",15)(1,"span",16),e._uU(2,"\u0414\u043e\u043f. \u043a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442\u044b:"),e.qZA(),e.TgZ(3,"div",15),e.YNc(4,lB,7,5,"div",17),e.qZA(),e.TgZ(5,"span",18),e._uU(6),e.qZA()()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(4),e.Q6J("ngForOf",i.getFactorsActions(t.login))("ngForTrackBy",i.trackByWar),e.xp6(2),e.hij("\u0418\u0442\u043e\u0433: ",i.getEmployeeTotalPayment(t.login)," \u0440\u0443\u0431.")}}function uB(n,o){if(1&n&&(e.TgZ(0,"div",6),e._UZ(1,"app-avatar",7),e.TgZ(2,"div",8),e._uU(3),e.qZA(),e.ynx(4,9),e.TgZ(5,"div",10),e._UZ(6,"p-slider",11),e.TgZ(7,"span",12),e._uU(8),e.ALo(9,"number"),e.qZA()(),e._UZ(10,"p-inputNumber",13),e.YNc(11,cB,7,3,"div",14),e.BQk(),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("deleted",t.deleted)("name",t.fullName)("size",5)("src",t.avatar),e.xp6(2),e.Oqu(t.fullName),e.xp6(1),e.Q6J("formGroupName",t.login),e.xp6(2),e.Q6J("max",1)("min",0)("step",.01)("disabled",i.isDisabled),e.xp6(2),e.hij(" ",e.xi3(9,13,100*i.employeeRatioForm.value[t.login].ratio,"1.2-2"),"% "),e.xp6(2),e.Q6J("disabled",0===i.totalCostOfWork||i.isDisabled),e.xp6(1),e.Q6J("ngIf",i.hasWorkActionRatio(t.login))}}let WA=(()=>{class n{constructor(){this.employeeRatioSubscriptions=new _.xf,this.employeeRatioForm=new f.cw({}),this.isDisabled=!1,this._employees=[],this._factorsActions=[],this._actionsTaken=[],this.onRemoveFactorAction=new e.vpe,this.onChange=()=>{},this.onTouched=()=>{}}get employees(){return this._employees}set employees(t){var i;if(null==t)return void(this._employees=[]);this._employees=t;const p=1/t.length;this.employeeRatioForm=new f.cw(t.reduce((w,Q)=>{const Ce=new f.cw({ratio:new f.NI(p),sum:new f.NI(Math.round(p*this.totalCostOfWork))});return this.employeeRatioSubscriptions.addSubscription(Q.login+"rt",Ce.controls.ratio.valueChanges.subscribe(qe=>{if(null===qe)return;const $e=Q.login,$t=Object.keys(this.employeeRatioForm.value).filter(jt=>jt!==$e).map(jt=>this.employeeRatioForm.value[jt].ratio).reduce((jt,Gt)=>jt+Gt,0);if(qe+$t>1){const jt=qe+$t-1,Gt={};for(let fn in this.employeeRatioForm.value){if(Gt[fn]={ratio:0,sum:0},fn===$e)continue;const Rn=this.employeeRatioForm.value[fn].ratio;Gt[fn].ratio=Rn-jt*(Rn/$t),Gt[fn].sum=Math.round(Gt[fn].ratio*this.totalCostOfWork)}Gt[$e].ratio=qe,Gt[$e].sum=Math.round(qe*this.totalCostOfWork),this.employeeRatioForm.patchValue(Gt,{emitEvent:!1})}else this.employeeRatioForm.patchValue({[$e]:{ratio:qe,sum:Math.round(qe*this.totalCostOfWork)}},{emitEvent:!1})})),this.employeeRatioSubscriptions.addSubscription(Q.login+"sum",Ce.controls.sum.valueChanges.subscribe(qe=>{if(null!==qe&&qe>this.totalCostOfWork&&(qe=this.totalCostOfWork),null===qe)return;const $e=Q.login,$t=Object.keys(this.employeeRatioForm.value).filter(jt=>jt!==$e).map(jt=>this.employeeRatioForm.value[jt].sum).reduce((jt,Gt)=>jt+Gt,0);if(qe+$t>this.totalCostOfWork){const jt=qe+$t-this.totalCostOfWork,Gt={};for(let fn in this.employeeRatioForm.value){if(Gt[fn]={ratio:0,sum:0},fn===$e)continue;const Rn=this.employeeRatioForm.value[fn].sum;Gt[fn].sum=Math.round(Rn-jt*(Rn/$t)),Gt[fn].ratio=Gt[fn].sum/this.totalCostOfWork}Gt[$e].sum=Math.round(qe),Gt[$e].ratio=qe/this.totalCostOfWork,this.employeeRatioForm.patchValue(Gt,{emitEvent:!1})}else this.employeeRatioForm.patchValue({[$e]:{ratio:qe/this.totalCostOfWork,sum:Math.round(qe)}},{emitEvent:!1})})),Object.assign(Object.assign({},w),{[Q.login]:Ce})},{})),setTimeout(()=>this.onChange(this.employeeRatioForm.value)),null===(i=this.formSub)||void 0===i||i.unsubscribe(),this.formSub=this.employeeRatioForm.valueChanges.subscribe(w=>{this.onChange(w),this.onTouched()})}set actionPicker(t){var i;null===(i=this.actionPickerSub)||void 0===i||i.unsubscribe(),null!=t?(this.actionPicker$=t,this.actionPickerSub=this.actionPicker$.subscribe(s=>{var p;!s||(this._actionsTaken=s.actionsTaken,this._factorsActions=null!==(p=s.factorsActions)&&void 0!==p?p:[],this.recalculateAmountsForEmployees())})):this.actionPicker$=void 0}get factorsActions(){return this._factorsActions}get actionsTaken(){return this._actionsTaken}get totalCostOfWork(){return this.actionsTaken.reduce((t,i)=>t+i.cost,0)}get allMoney(){return this.employeeRatioForm.value?Object.values(this.employeeRatioForm.value).reduce((t,i)=>t+i.sum,0):0}get allMoneyWithRatio(){return this.allMoney+this.getTotalWorkActionsRatioSum()}getTotalWorkActionsRatioSum(){return this.factorsActions.reduce((t,i)=>t+this.getWorkActionsRatioSum(i.uuid),0)}ngOnInit(){}ngOnDestroy(){var t;null===(t=this.formSub)||void 0===t||t.unsubscribe()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}equalize(){const i=1/this.employees.length,s=Object.keys(this.employeeRatioForm.value).map(p=>p).reduce((p,w)=>Object.assign(Object.assign({},p),{[w]:{ratio:i,sum:Math.round(i*this.totalCostOfWork)}}),{});this.employeeRatioForm.patchValue(s)}setDisabledState(t){this.isDisabled=t}writeValue(t){this.employeeRatioForm.patchValue(t,{emitEvent:!1})}trackByEmployee(t,i){return i.login+i.fullName+i.avatar}trackByWar(t,i){return i.uuid+i.name+i.factor}hasWorkActionRatio(t){return this.factorsActions.find(i=>i.login===t)}getFactorsActions(t){return this.factorsActions.filter(i=>i.login===t)}removeWorkActionRatio(t){this.onRemoveFactorAction.emit(this.factorsActions.filter(i=>i.uuid!==t))}getEmployeeTotalPayment(t){return this.employeeRatioForm.value[t].sum+this.getFactorsActions(t).reduce((i,s)=>i+this.getWorkActionsRatioSum(s.uuid),0)}getWorkActionsRatioSum(t){const i=this.factorsActions.find(s=>s.uuid===t);if(i){const w=i.actionUuids.reduce((Q,Ce)=>{const qe=this.actionsTaken.find($e=>$e.uuid===Ce);return qe?Q+qe.cost:Q},0)*this.employeeRatioForm.value[i.login].ratio;return Math.round(w*i.factor-w)}return 0}recalculateAmountsForEmployees(){for(const t in this.employeeRatioForm.value){const i=this.employeeRatioForm.value[t];this.employeeRatioForm.patchValue({[t]:{ratio:i.ratio,sum:Math.round(i.ratio*this.totalCostOfWork)}},{emitEvent:!1})}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-sum-distribution"]],inputs:{employees:"employees",actionPicker:"actionPicker"},outputs:{onRemoveFactorAction:"onRemoveFactorAction"},features:[e._Bn([{provide:f.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:8,vars:5,consts:[[1,"flex","flex-column","gap-4"],[1,"flexed","gap10","sparnd",3,"formGroup"],["class","flexed column vcenter gap5",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","vend","hcenter","gap10"],[1,"caption","wt-bold","f-color-500"],[1,"caption","size-big","wt-bold","f-color-primary"],[1,"flexed","column","vcenter","gap5"],[3,"deleted","name","size","src"],[1,"caption","size-big"],[3,"formGroupName"],[1,"flexed","gap10","hcenter","w-full"],["formControlName","ratio",1,"w-full",3,"max","min","step","disabled"],[1,"caption","size-tiny","wt-bold","f-color-500"],["formControlName","sum","suffix"," \u0440\u0443\u0431.",3,"disabled"],["class","flexed column gap2",4,"ngIf"],[1,"flexed","column","gap2"],[1,"caption","size-tiny","wt-bold"],["class","flexed hcenter gap3",4,"ngFor","ngForOf","ngForTrackBy"],[1,"caption"],[1,"flexed","hcenter","gap3"],[1,"caption","size-tiny","wt-bold","f-color-primary"],[3,"class",4,"ngIf"],["icon","delete","model","danger",3,"size","disabled","onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,uB,12,16,"div",2),e.qZA(),e.TgZ(3,"div",3)(4,"span",4),e._uU(5),e.qZA(),e.TgZ(6,"span",5),e._uU(7),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",i.employeeRatioForm),e.xp6(1),e.Q6J("ngForOf",i.employees)("ngForTrackBy",i.trackByEmployee),e.xp6(3),e.hij(" \u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u0441\u0443\u043c\u043c\u0430: ",i.allMoney," \u0440\u0443\u0431. "),e.xp6(2),e.hij(" \u0418\u0442\u043e\u0433 \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u043a\u043e\u044d\u0444.: ",i.allMoneyWithRatio," \u0440\u0443\u0431. "))},dependencies:[S.sg,S.O5,f.JJ,f.JL,Na.Rn,f.sg,f.u,f.x0,wA.iR,y.A,HA.g,S.JJ]}),n})();function dB(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("",t.hours," ",t.hourSuffix,"")}}function pB(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("",t.minutes," ",t.minuteSuffix,"")}}function hB(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("",t.seconds," ",t.secondSuffix,"")}}function gB(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.ms," \u043c\u0441.")}}function fB(n,o){if(1&n&&(e.TgZ(0,"span",3),e.YNc(1,dB,2,2,"span",4),e.YNc(2,pB,2,2,"span",4),e.YNc(3,hB,2,2,"span",4),e.YNc(4,gB,2,1,"span",4),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.hours),e.xp6(1),e.Q6J("ngIf",t.minutes),e.xp6(1),e.Q6J("ngIf",t.seconds&&!t.minutes&&!t.hours),e.xp6(1),e.Q6J("ngIf",!t.seconds&&!t.minutes&&!t.hours)}}function mB(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}class _h{constructor(){this.short=!0,this.hours=0,this.hourSuffix="",this.minutes=0,this.minuteSuffix="",this.seconds=0,this.secondSuffix=""}ngOnInit(){}msChange(o){this.hours=Math.floor(o/36e5),this.hourSuffix=this.short?"\u0447.":_.cQ.declineOfNumber(this.hours,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"]),this.minutes=Math.floor((o-36e5*this.hours)/6e4),this.minuteSuffix=this.short?"\u043c.":_.cQ.declineOfNumber(this.minutes,["\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"]),this.seconds=Math.floor((o-36e5*this.hours-6e4*this.minutes)/1e3),this.secondSuffix=this.short?"\u0441.":_.cQ.declineOfNumber(this.seconds,["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"])}}_h.\u0275fac=function(o){return new(o||_h)},_h.\u0275cmp=e.Xpm({type:_h,selectors:[["app-duration"]],inputs:{ms:"ms",short:"short"},decls:4,vars:2,consts:[[1,"text-bluegray-500","white-space-nowrap"],["class","flex gap-2",4,"ngIf","ngIfElse"],["emptyTemplate",""],[1,"flex","gap-2"],[4,"ngIf"]],template:function(o,t){if(1&o&&(e.TgZ(0,"span",0),e.YNc(1,fB,5,4,"span",1),e.qZA(),e.YNc(2,mB,2,0,"ng-template",null,2,e.W1O)),2&o){const i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.ms)("ngIfElse",i)}},dependencies:[S.O5]}),(0,qa.gn)([(0,dl.GU)("ms")],_h.prototype,"msChange",null);let _B=(()=>{class n{constructor(t){this.element=t,this.subscriptions=new _.xf,this.onScrollDown=new e.vpe}ngOnInit(){const i=this.element.el.nativeElement.children.item(0);if(i){const s=i.children.item(0);s&&(this.scroll$=(0,x.R)(s,"scroll").pipe((0,gt.U)(p=>p.target),(0,is.O)(s),(0,Is.b)(200),(0,a.h)(p=>p.scrollHeight-(p.scrollTop+p.offsetHeight)<10)),this.subscriptions.addSubscription("scroll",this.scroll$.subscribe(()=>this.onScrollDown.emit())))}}ngOnDestroy(){this.subscriptions.unsubscribeAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(yo.Ri))},n.\u0275dir=e.lG2({type:n,selectors:[["p-listbox","appListElementLazyScroll",""]],outputs:{onScrollDown:"onScrollDown"}}),n})();var YA=b(6081),CB=b(9664);function vB(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0418\u043c\u044f"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0422\u0438\u043f"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u041c\u043e\u0434\u0435\u043b\u044c"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0410\u0434\u0440\u0435\u0441"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Ping"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"\u0421\u0435\u0441\u0441\u0438\u0438"),e.qZA()())}function bB(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"span",11)(2,"span"),e._uU(3),e.ALo(4,"number"),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"number"),e.qZA()(),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngClass",t.styleClass),e.xp6(2),e.hij(" ",999===t.latency?"- ":e.xi3(4,3,t.latency,"1.2-2"),"\u043c\u0441 "),e.xp6(3),e.hij(" ",e.xi3(7,6,t.loss,"1.2-2"),"% ")}}function yB(n,o){1&n&&e.GkF(0)}const xB=function(){return{width:"85px"}};function IB(n,o){if(1&n&&(e.ynx(0),e.YNc(1,yB,1,0,"ng-container",12),e.BQk()),2&n){e.oxw(3);const t=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.DdM(2,xB))}}function TB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e.YNc(10,bB,8,9,"ng-container",8),e.ALo(11,"async"),e.YNc(12,IB,2,3,"ng-container",8),e.ALo(13,"async"),e.qZA(),e.TgZ(14,"td")(15,"span",9)(16,"span",10),e.NdJ("click",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.openCommutatorWeb(p.ip))}),e._uU(17," Web "),e.qZA(),e.TgZ(18,"span",10),e.NdJ("click",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.openTelnetTerminal(p.name,p.ip))}),e._uU(19," Telnet "),e.qZA()()(),e.TgZ(20,"td")(21,"span",10),e.NdJ("click",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.openCommutatorView(p))}),e._uU(22," \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 "),e.qZA()()()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.type),e.xp6(2),e.Oqu(t.model),e.xp6(2),e.Oqu(t.ip),e.xp6(2),e.Q6J("ngIf",e.lcZ(11,6,i.commutatorsPings[t.ip])),e.xp6(2),e.Q6J("ngIf",!e.lcZ(13,8,i.commutatorsPings[t.ip]))}}const AB=function(n){return{"overflow-hidden border-round border-1 border-bluegray-100":n}};function wB(n,o){if(1&n&&(e.TgZ(0,"div",4)(1,"p-table",5),e.YNc(2,vB,15,0,"ng-template",6),e.YNc(3,TB,23,10,"ng-template",7),e.qZA()()),2&n){const t=o.ngIf,i=e.oxw();e.Q6J("ngClass",e.VKq(2,AB,!i.inline)),e.xp6(1),e.Q6J("value",t)}}function EB(n,o){1&n&&e._UZ(0,"p-skeleton",13),2&n&&e.Q6J("width",o.width)}function SB(n,o){if(1&n&&e._UZ(0,"app-commutator-view",14),2&n){const t=e.oxw();e.Q6J("commutator",t.commutatorForView)}}let zu=class{constructor(o,t,i){this.api=o,this.rt=t,this.telnetService=i,this.LoadingState=he.Gu,this.inline=!1,this.buildId$=new jx.t(1),this.commutatorLoadingState=he.Gu.LOADING,this.commutatorsPings={},this.commutatorsInitiators$=(0,so.T)(this.rt.acpCommutatorCreated(),this.rt.acpCommutatorUpdated(),this.rt.acpCommutatorDeleted()).pipe((0,a.h)(s=>s.buildId===this.buildId),(0,is.O)(null)),this.commutatorsLoader$=this.buildId$.pipe((0,a.h)(s=>!!s),(0,si.b)(()=>this.commutatorLoadingState=he.Gu.LOADING),(0,R.w)(s=>this.api.getCommutatorsByBuildingId(s)),(0,si.b)({next:s=>{this.commutatorLoadingState=he.Gu.READY,this.commutatorsPings={};for(const{ip:p}of s)this.commutatorsPings[p]=this.ping(p)},error:()=>this.commutatorLoadingState=he.Gu.ERROR})),this.commutators$=this.commutatorsInitiators$.pipe((0,R.w)(()=>this.commutatorsLoader$)),this.commutatorViewVisible=!1,this.commutatorViewHeader="",this.updateCommutatorSub=this.rt.acpCommutatorUpdated().subscribe(s=>{var p;(null===(p=this.commutatorForView)||void 0===p?void 0:p.id)===s.id&&(this.commutatorForView=s)})}ngOnInit(){}openCommutatorWeb(o){window.open(`http://${o}`,"_blank")}openTelnetTerminal(o,t){this.telnetService.connect(o,t)}openCommutatorView(o){this.commutatorViewHeader=o.name+"\u30fb"+o.ip,this.api.getCommutator(o.id).subscribe(t=>{this.commutatorForView=t.commutator,this.commutatorViewVisible=!0})}ping(o){return this.rt.pingMonitoring(o).pipe((0,gt.U)(t=>{const i=100-t.reachablePercentage;return{online:t.isReachable,latency:t.delayAvg,loss:i,styleClass:i>0?"text-red-400":"text-green-400"}}))}};zu.\u0275fac=function(o){return new(o||zu)(e.Y36(L.s),e.Y36(de.U),e.Y36(CB.M))},zu.\u0275cmp=e.Xpm({type:zu,selectors:[["app-commutators-table"]],inputs:{buildId:"buildId",inline:"inline"},decls:6,vars:9,consts:[["class","flex flex-grow-1",3,"ngClass",4,"ngIf"],["loadingCellTemplate",""],["appendTo","body","contentStyle","",3,"visible","modal","draggable","dismissableMask","header","visibleChange"],[3,"commutator",4,"ngIf"],[1,"flex","flex-grow-1",3,"ngClass"],["styleClass","p-datatable-sm flex-grow-1",1,"flex-grow-1",3,"value"],["pTemplate","header"],["pTemplate","body"],[4,"ngIf"],[1,"flex","flex-wrap","gap-2"],[1,"text-primary","font-bold","hover:text-primary-700","cursor-pointer",3,"click"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"width"],[3,"commutator"]],template:function(o,t){1&o&&(e.YNc(0,wB,4,4,"div",0),e.ALo(1,"async"),e.YNc(2,EB,1,1,"ng-template",null,1,e.W1O),e.TgZ(4,"p-dialog",2),e.NdJ("visibleChange",function(s){return t.commutatorViewVisible=s}),e.YNc(5,SB,1,1,"app-commutator-view",3),e.qZA()),2&o&&(e.Q6J("ngIf",e.lcZ(1,7,t.commutators$)),e.xp6(4),e.Q6J("visible",t.commutatorViewVisible)("modal",!0)("draggable",!0)("dismissableMask",!0)("header",t.commutatorViewHeader),e.xp6(1),e.Q6J("ngIf",t.commutatorForView))},dependencies:[S.mk,S.O5,S.tP,F.jx,Ao.V,Ml.O,ka.iA,iA.S,S.Ov,S.JJ],styles:["[_nghost-%COMP%]{display:flex}"]}),(0,qa.gn)([(0,dl.bQ)("buildId")],zu.prototype,"buildId$",void 0),zu=(0,qa.gn)([(0,dl.kG)()],zu);const kB=["fileManager"],DB=function(){return[]};function MB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",26),e._UZ(1,"p-dropdown",27),e.ALo(2,"async"),e.TgZ(3,"div",28)(4,"input",29),e.NdJ("keydown.enter",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.searchFiles())}),e.qZA(),e.TgZ(5,"button",30),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.searchFiles())}),e.qZA()()()}if(2&n){const t=e.oxw();let i;e.xp6(1),e.Q6J("options",null!==(i=e.lcZ(2,3,t.filesSortingTypeItems$))&&void 0!==i?i:e.DdM(5,DB))("formControl",t.filesSortingControl),e.xp6(3),e.Q6J("formControl",t.searchFilesQueryControl)}}function OB(n,o){if(1&n&&e._UZ(0,"p-breadcrumb",31),2&n){const t=e.oxw();e.Q6J("home",t.breadcrumbRoot)("model",t.breadcrumbItems)}}function PB(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0418\u043c\u044f"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0421\u043e\u0437\u0434\u0430\u043d"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0420\u0430\u0437\u043c\u0435\u0440"),e.qZA()())}function LB(n,o){1&n&&e.GkF(0)}function RB(n,o){if(1&n&&(e.ynx(0),e.YNc(1,LB,1,0,"ng-container",35),e.BQk()),2&n){e.oxw(2);const t=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function NB(n,o){1&n&&e.GkF(0)}const uI=function(n){return{$implicit:n}};function FB(n,o){if(1&n&&(e.ynx(0),e.YNc(1,NB,1,0,"ng-container",36),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw();const i=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,uI,t))}}function BB(n,o){1&n&&e.GkF(0)}function ZB(n,o){if(1&n&&(e.ynx(0),e.YNc(1,BB,1,0,"ng-container",36),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw();const i=e.MAs(14);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,uI,t))}}function UB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",32),e.NdJ("dblclick",function(){const p=e.CHM(t).$implicit,w=e.oxw();return e.KtG(w.doubleClick(p))})("onDragStart",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.insideDragDrop=!0)})("onDragEnd",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.insideDragDrop=!1)})("onDrop",function(){const p=e.CHM(t).$implicit,w=e.oxw();return e.KtG(w.filesDropped(p))}),e.ynx(1,33),e.YNc(2,RB,2,1,"ng-container",34),e.YNc(3,FB,2,4,"ng-container",34),e.YNc(4,ZB,2,4,"ng-container",34),e.BQk(),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.Q6J("pSelectableRow",t)("pSelectableRowDisabled",i.isBackButton(t))("pDroppableDisabled",i.isNotADirectory(t))("pDraggableDisabled",!i.selectedItems.includes(t)),e.xp6(1),e.Q6J("ngSwitch",t.discriminator),e.xp6(1),e.Q6J("ngSwitchCase","back"),e.xp6(1),e.Q6J("ngSwitchCase","directory"),e.xp6(1),e.Q6J("ngSwitchCase","file")}}function HB(n,o){1&n&&(e.TgZ(0,"tr")(1,"td",37),e._uU(2," \u0424\u0430\u0438\u0306\u043b\u043e\u0432 \u043d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043d\u043e "),e.qZA()())}function VB(n,o){1&n&&(e.TgZ(0,"div",38)(1,"span"),e._uU(2," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b\u044b \u0432 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e "),e.qZA()())}function zB(n,o){1&n&&(e.TgZ(0,"div",39),e._UZ(1,"p-progressSpinner"),e.TgZ(2,"span"),e._uU(3," \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u0430\u0439\u043b\u043e\u0432 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440 "),e.qZA()())}function JB(n,o){1&n&&e.GkF(0)}function QB(n,o){if(1&n&&(e.TgZ(0,"td",40),e.YNc(1,JB,1,0,"ng-container",35),e.TgZ(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"date"),e.qZA(),e._UZ(7,"td")),2&n){const t=o.$implicit,i=e.oxw(),s=e.MAs(18);e.Q6J("ngClass",i.itemSelectionStyleClasses(t)),e.xp6(1),e.Q6J("ngTemplateOutlet",s),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",e.xi3(6,4,t.createdAt,"dd-MM-yyyy HH:mm")," ")}}function GB(n,o){1&n&&e.GkF(0)}function WB(n,o){if(1&n&&(e.TgZ(0,"td",40),e.YNc(1,GB,1,0,"ng-container",36),e.TgZ(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"number"),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(),s=e.MAs(20);e.Q6J("ngClass",i.itemSelectionStyleClasses(t)),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(12,uI,t.type)),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",e.xi3(6,6,t.createdAt,"dd-MM-yyyy HH:mm")," "),e.xp6(3),e.hij(" ",e.xi3(9,9,t.sizeMbyte,"1.1-2")," Mb ")}}function YB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",41),e.NdJ("dblclick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.back())}),e._UZ(1,"span",42),e.TgZ(2,"span"),e._uU(3," \u041d\u0430\u0437\u0430\u0434 "),e.qZA()(),e._UZ(4,"td")(5,"td")}}function jB(n,o){1&n&&e._UZ(0,"span",43)}function KB(n,o){1&n&&e._UZ(0,"span",49)}function qB(n,o){1&n&&e._UZ(0,"span",50)}function $B(n,o){1&n&&e._UZ(0,"span",51)}function XB(n,o){1&n&&e._UZ(0,"span",52)}function eZ(n,o){1&n&&e._UZ(0,"span",53)}function tZ(n,o){1&n&&(e.ynx(0,33),e.YNc(1,KB,1,0,"span",44),e.YNc(2,qB,1,0,"span",45),e.YNc(3,$B,1,0,"span",46),e.YNc(4,XB,1,0,"span",47),e.YNc(5,eZ,1,0,"span",48),e.BQk()),2&n&&(e.Q6J("ngSwitch",o.$implicit),e.xp6(1),e.Q6J("ngSwitchCase","PHOTO"),e.xp6(1),e.Q6J("ngSwitchCase","VIDEO"),e.xp6(1),e.Q6J("ngSwitchCase","AUDIO"),e.xp6(1),e.Q6J("ngSwitchCase","DOCUMENT"))}function nZ(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",54)(1,"span",55),e._uU(2," \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430: "),e.qZA(),e.TgZ(3,"span",56),e._uU(4),e.qZA(),e.TgZ(5,"p-button",57),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cancelSearch())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.hij(" ",t.searchFilesQueryControl.value," ")}}let iZ=(()=>{class n{constructor(t,i,s,p){this.api=t,this.rt=i,this.confirmService=s,this.mediaViewerService=p,this.fileItems=[],this.isLoading=!1,this.selectedItems=[],this.itemsForCopy=[],this.itemsForMove=[],this.currentPath=[],this.currentDirectory=null,this.filesSortingTypeItems$=this.api.getFilesSortingTypes(),this.filesSortingControl=new f.NI(_.Ke.loadOrDefault("filesSortingType","NAME_ASC")),this.subscriptions=new _.xf,this.createDirectoryDialogVisible=!1,this.createDirectoryNameControl=new f.NI("",[f.kI.required,f.kI.minLength(3)]),this.renameItemDialogVisible=!1,this.renameItemForm=new f.cw({id:new f.NI(null,[f.kI.required]),name:new f.NI("",[f.kI.required,f.kI.minLength(3)])}),this.itemBeingRename=!1,this.directoryCreating=!1,this.insideDragDrop=!1,this.dropMessageVisible=0,this.menuItems=[],this.dropFilesUploadingVisible=!1,this.breadcrumbItems=[],this.searchFilesQueryControl=new f.NI(""),this.searchMode=!1}get breadcrumbRoot(){return{icon:"mdi-home",command:()=>{this.isLoading=!0,this.currentPath=[],this.api.getFilesRoot(this.filesSortingControl.value).subscribe(this.rootDirectoryLoadHandler())}}}updateMenuItems(){this.menuItems=[{label:"\u0424\u0430\u0439\u043b\u044b",items:[{label:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441 \u0434\u0438\u0441\u043a\u0430",command:()=>{var t;return null===(t=this.fileManager)||void 0===t?void 0:t.nativeElement.click()}},{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0430\u043f\u043a\u0443",command:()=>this.openCreateFolderDialog()}]},{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",items:[{label:"\u0412\u044b\u0440\u0435\u0437\u0430\u0442\u044c",disabled:0===this.selectedItems.length,command:()=>this.setMoveItems()},{label:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",disabled:0===this.selectedItems.length,command:()=>this.setCopyItems()},{label:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c",disabled:0===this.itemsForCopy.length&&0===this.itemsForMove.length,command:()=>this.pasteItems()},{label:"\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c",disabled:1!==this.selectedItems.length,command:()=>this.openRenameItemDialog()},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",disabled:0===this.selectedItems.length,command:()=>this.deleteItems()}]}]}updateBreadcrumbs(){var t;this.breadcrumbItems=[...this.currentPath.filter(i=>null!==i).map((i,s)=>({label:null==i?void 0:i.name,command:()=>{i&&(this.currentPath=this.currentPath.slice(0,s+1),this.currentDirectory=i,this.isLoading=!0,this.updateBreadcrumbs(),this.api.getFilesDirectory(i.fileSystemItemId,this.filesSortingControl.value).subscribe(this.directoryLoadHandler(this.currentDirectory)))}})),{label:null===(t=this.currentDirectory)||void 0===t?void 0:t.name,disabled:!0}]}get isBack(){return this.currentPath.length>0}rootDirectoryLoadHandler(){return{next:t=>{this.fileItems=t,this.selectedItems=[],this.currentPath=[],this.currentDirectory=null,this.isLoading=!1,this.searchMode=!1,this.searchFilesQueryControl.setValue(""),this.updateBreadcrumbs(),this.updateMenuItems()},error:()=>this.isLoading=!1}}directoryLoadHandler(t){return{next:i=>{this.fileItems=[{fileSystemItemId:0,name:"\u041d\u0430\u0437\u0430\u0434",discriminator:"back",parent:null},...i.files],this.selectedItems=[],this.currentPath=i.path,this.currentDirectory=t,this.updateBreadcrumbs(),this.updateMenuItems(),this.isLoading=!1,this.searchMode=!1,this.searchFilesQueryControl.setValue("")},error:()=>this.isLoading=!1}}ngOnInit(){this.isLoading=!0,this.api.getFilesRoot(this.filesSortingControl.value).subscribe(this.rootDirectoryLoadHandler()),this.updateMenuItems(),this.subscriptions.addSubscription("stUpd",this.filesSortingControl.valueChanges.subscribe(t=>{_.Ke.save("filesSortingType",t),this.isLoading=!0,this.currentDirectory?this.api.getFilesDirectory(this.currentDirectory.fileSystemItemId,t).subscribe(this.directoryLoadHandler(this.currentDirectory)):this.api.getFilesRoot(t).subscribe(this.rootDirectoryLoadHandler())})),this.subscriptions.addSubscription("dirUpd",this.rt.updateFilesDirectory().subscribe(t=>{var i;0===t&&null===this.currentDirectory?(this.isLoading=!0,this.api.getFilesRoot(this.filesSortingControl.value).subscribe(this.rootDirectoryLoadHandler())):t===(null===(i=this.currentDirectory)||void 0===i?void 0:i.fileSystemItemId)&&(this.isLoading=!0,this.api.getFilesDirectory(this.currentDirectory.fileSystemItemId,this.filesSortingControl.value).subscribe(this.directoryLoadHandler(this.currentDirectory)))})),this.subscriptions.addSubscription("drgEntDetect",(0,x.R)(document,"dragenter").subscribe(t=>{this.dropMessageVisible++})),this.subscriptions.addSubscription("drgLvDetect",(0,x.R)(document,"dragleave").subscribe(t=>{this.dropMessageVisible--})),this.subscriptions.addSubscription("drpDetect",(0,x.R)(document,"drop").subscribe(()=>{this.dropMessageVisible=0})),this.subscriptions.addSubscription("drgDropover",(0,x.R)(document,"dragover").subscribe(t=>{this.insideDragDrop||t.preventDefault()}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}dropFilesHandler(t){var i,s;if(this.insideDragDrop)return;t.preventDefault();const p=[];if(null!==(i=t.dataTransfer)&&void 0!==i&&i.items){for(let w=0;w<t.dataTransfer.items.length;w++)if("file"===t.dataTransfer.items[w].kind){const Q=t.dataTransfer.items[w].getAsFile();Q&&p.push(Q)}}else if(null!==(s=t.dataTransfer)&&void 0!==s&&s.files)for(let w=0;w<t.dataTransfer.files.length;w++)p.push(t.dataTransfer.files[w]);this.uploadFiles(p)}filesManagerChange(t){if(0===t.target.files.length)return;const i=t.target.files,s=[];for(let p=0;p<i.length;p++)s.push(i[p]);this.uploadFiles(s),t.target.value=null}uploadFiles(t){this.dropFilesUploadingVisible=!0,Promise.all(t.map(i=>this.fileReader(i))).then(i=>{this.api.filesUpload(i).subscribe({next:()=>this.dropFilesUploadingVisible=!1,error:()=>this.dropFilesUploadingVisible=!1})})}fileReader(t){return new Promise((i,s)=>{const p=new FileReader;p.onload=w=>{var Q,Ce;const qe=null===(Q=w.target)||void 0===Q?void 0:Q.result;qe instanceof ArrayBuffer&&i({name:t.name,data:Object.values(new Uint8Array(qe)),targetDirectoryId:null===(Ce=this.currentDirectory)||void 0===Ce?void 0:Ce.fileSystemItemId})},p.onerror=s,p.readAsArrayBuffer(t)})}loadDirectory(t){this.isLoading=!0,this.api.getFilesDirectory(t.fileSystemItemId,this.filesSortingControl.value).subscribe(this.directoryLoadHandler(t))}back(){if(this.currentPath.length>0){const t=this.currentPath.pop();if(void 0===t)return;this.currentDirectory=t,this.isLoading=!0,this.updateBreadcrumbs(),this.api.getFilesDirectory(t.fileSystemItemId,this.filesSortingControl.value).subscribe(this.directoryLoadHandler(t))}else this.currentDirectory=null,this.isLoading=!0,this.updateBreadcrumbs(),this.api.getFilesRoot(this.filesSortingControl.value).subscribe(this.rootDirectoryLoadHandler())}doubleClick(t){switch(t.discriminator){case"directory":this.loadDirectory(t);break;case"file":const i=t;switch(i.type){case"PHOTO":case"VIDEO":case"AUDIO":this.mediaViewerService.showMedia(i);break;case"DOCUMENT":case"FILE":window.open("/api/private/file/"+i.fileSystemItemId,"_blank")}}}isBackButton(t){return"back"===t.discriminator}isNotADirectory(t){return"directory"!==t.discriminator}isSelected(t){return this.selectedItems.map(i=>i.fileSystemItemId).includes(t.fileSystemItemId)}filesDropped(t){if(this.isSelected(t))return;const i=t.fileSystemItemId,s=this.selectedItems.map(p=>p.fileSystemItemId);this.api.filesMoveTo(i,s).subscribe()}setCopyItems(){this.itemsForMove=[],this.itemsForCopy=this.selectedItems,this.selectedItems=[],this.updateMenuItems()}setMoveItems(){this.itemsForCopy=[],this.itemsForMove=this.selectedItems,this.selectedItems=[],this.updateMenuItems()}isFilesCopied(t){return this.itemsForCopy.map(i=>i.fileSystemItemId).includes(t.fileSystemItemId)}isFilesMoved(t){return this.itemsForMove.map(i=>i.fileSystemItemId).includes(t.fileSystemItemId)}itemSelectionStyleClasses(t){return!this.isSelected(t)&&this.isFilesMoved(t)?"opacity-50":!this.isSelected(t)&&this.isFilesCopied(t)?"text-orange-400":null}pasteItems(){var t,i,s,p;this.itemsForMove.length>0?this.api.filesMoveTo(null!==(i=null===(t=this.currentDirectory)||void 0===t?void 0:t.fileSystemItemId)&&void 0!==i?i:null,this.itemsForMove.map(w=>w.fileSystemItemId)).subscribe():this.itemsForCopy.length>0&&this.api.filesCopyTo(null!==(p=null===(s=this.currentDirectory)||void 0===s?void 0:s.fileSystemItemId)&&void 0!==p?p:null,this.itemsForCopy.map(w=>w.fileSystemItemId)).subscribe(),this.itemsForCopy=[],this.itemsForMove=[],this.updateMenuItems()}deleteItems(){this.confirmService.confirm({header:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u043e\u0432",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b?",accept:()=>{this.itemsForMove=[],this.itemsForCopy=[],this.isLoading=!0,this.selectedItems.length>0&&(this.selectedItems.forEach(t=>{this.api.filesDelete(t.fileSystemItemId).subscribe()}),this.selectedItems=[]),this.updateMenuItems()}})}createDirectory(){var t;const i=this.createDirectoryNameControl.value;i&&this.api.filesCreateDirectory(i,null===(t=this.currentDirectory)||void 0===t?void 0:t.fileSystemItemId).subscribe({next:()=>{this.createDirectoryDialogVisible=!1,this.directoryCreating=!1},error:()=>{this.directoryCreating=!1}})}openCreateFolderDialog(){this.createDirectoryNameControl.setValue(""),this.directoryCreating=!1,this.createDirectoryDialogVisible=!0}renameItem(){if(this.renameItemForm.valid){const{id:t,name:i}=this.renameItemForm.value;if(!t||!i)return;this.itemBeingRename=!0,this.selectedItems=[],this.api.filesRename(t,i).subscribe({next:()=>{this.renameItemDialogVisible=!1,this.itemBeingRename=!1},error:()=>{this.itemBeingRename=!1}}),this.updateMenuItems()}}openRenameItemDialog(){1===this.selectedItems.length&&(this.renameItemForm.setValue({id:this.selectedItems[0].fileSystemItemId,name:this.selectedItems[0].name}),this.renameItemDialogVisible=!0,this.itemBeingRename=!1)}searchFiles(){this.searchFilesQueryControl.value&&(this.searchMode=!0,this.currentPath=[],this.currentDirectory=null,this.isLoading=!0,this.api.searchFiles(this.searchFilesQueryControl.value,this.filesSortingControl.value).subscribe({next:t=>{this.isLoading=!1,this.fileItems=t},error:()=>{this.isLoading=!1}}))}cancelSearch(){this.isLoading=!0,this.currentPath=[],this.searchFilesQueryControl.setValue(""),this.api.getFilesRoot(this.filesSortingControl.value).subscribe(this.rootDirectoryLoadHandler())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(F.YP),e.Y36(Kx.E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-files-viewer"]],viewQuery:function(t,i){if(1&t&&e.Gf(kB,5),2&t){let s;e.iGM(s=e.CRH())&&(i.fileManager=s.first)}},decls:32,vars:26,consts:[[1,"flex","flex-column","border-round-lg","border-1","border-bluegray-100","overflow-hidden","relative","bg-bluegray-50",3,"keydown.control.c","keydown.control.x","drop","dragover","keydown.delete","paste"],["styleClass","border-0",3,"model"],["pTemplate","end"],[1,"flex","flex-column","flex-grow-1","border-top-1","border-bluegray-100","overflow-hidden"],["class","flex-grow-1","styleClass","border-0 bg-transparent",3,"home","model",4,"ngIf","ngIfElse"],["selectionMode","multiple",3,"value","loading","selection","metaKeySelection","selectionChange"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","absolute top-0 left-0 w-full h-full flex flex-column text-white text-2xl font-bold\n     align-items-center justify-content-center bg-black-alpha-40 pointer-events-none",4,"ngIf"],["class","absolute top-0 left-0 w-full h-full flex flex-column text-white text-2xl font-bold\n     align-items-center justify-content-center bg-black-alpha-40",4,"ngIf"],["directory",""],["file",""],["backButton",""],["directoryIcon",""],["fileIcon",""],["searchTitle",""],["appendTo","body","header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0430\u043f\u043a\u0443","contentStyleClass","flex gap-3 pt-1",3,"visible","draggable","modal","dismissableMask","visibleChange"],["pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",3,"formControl","keydown.enter"],["label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","icon","mdi-add",3,"disabled","loading","onClick"],["appendTo","body","header","\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c \u0444\u0430\u0439\u043b","contentStyleClass","flex gap-3 pt-1",3,"visible","draggable","modal","dismissableMask","visibleChange"],[3,"formGroup"],["pInputText","","placeholder","\u041d\u043e\u0432\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","formControlName","name",3,"keydown.enter"],["label","\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c","icon","mdi-add",3,"disabled","loading","onClick"],["type","file",3,"multiple","change"],["fileManager",""],[1,"flex","gap-2"],["appendTo","body",3,"options","formControl"],[1,"p-inputgroup"],["type","text","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a...",3,"formControl","keydown.enter"],["type","button","pButton","","pRipple","","icon","mdi-search",3,"click"],["styleClass","border-0 bg-transparent",1,"flex-grow-1",3,"home","model"],["pDraggable","fileScope","pDroppable","fileScope",1,"select-none","text-bluegray-600",3,"pSelectableRow","pSelectableRowDisabled","pDroppableDisabled","pDraggableDisabled","dblclick","onDragStart","onDragEnd","onDrop"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["colspan","3"],[1,"absolute","top-0","left-0","w-full","h-full","flex","flex-column","text-white","text-2xl","font-bold","align-items-center","justify-content-center","bg-black-alpha-40","pointer-events-none"],[1,"absolute","top-0","left-0","w-full","h-full","flex","flex-column","text-white","text-2xl","font-bold","align-items-center","justify-content-center","bg-black-alpha-40"],[1,"flex","gap-2","align-items-center",3,"ngClass"],[1,"flex","gap-2","align-items-center","text-bluegray-300",3,"dblclick"],[1,"mdi-turn_left"],[1,"mdi-folder"],["class","mdi-image",4,"ngSwitchCase"],["class","mdi-videocam",4,"ngSwitchCase"],["class","mdi-audiotrack",4,"ngSwitchCase"],["class","mdi-picture_as_pdf",4,"ngSwitchCase"],["class","mdi-insert_drive_file",4,"ngSwitchDefault"],[1,"mdi-image"],[1,"mdi-videocam"],[1,"mdi-audiotrack"],[1,"mdi-picture_as_pdf"],[1,"mdi-insert_drive_file"],[1,"flex","gap-2","align-items-center","py-2","px-3"],[1,"text-xl","text-bluegray-500"],[1,"text-xl","text-bluegray-600","font-bold"],["icon","mdi-close","label","\u041e\u0442\u043c\u0435\u043d\u0430","styleClass","p-button-sm p-button-secondary p-button-text",3,"onClick"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e.NdJ("keydown.control.c",function(p){return p.preventDefault(),i.setCopyItems()})("keydown.control.x",function(p){return p.preventDefault(),i.setMoveItems()})("drop",function(p){return i.dropFilesHandler(p)})("dragover",function(p){return p.preventDefault()})("keydown.delete",function(){return i.deleteItems()})("paste",function(p){return p.preventDefault(),i.pasteItems()}),e.TgZ(1,"p-menubar",1),e.YNc(2,MB,6,6,"ng-template",2),e.qZA(),e.TgZ(3,"div",3),e.YNc(4,OB,1,2,"p-breadcrumb",4),e.TgZ(5,"p-table",5),e.NdJ("selectionChange",function(p){return i.selectedItems=p})("selectionChange",function(){return i.updateMenuItems()}),e.YNc(6,PB,7,0,"ng-template",6),e.YNc(7,UB,5,8,"ng-template",7),e.YNc(8,HB,3,0,"ng-template",8),e.qZA()(),e.YNc(9,VB,3,0,"div",9),e.YNc(10,zB,4,0,"div",10),e.qZA(),e.YNc(11,QB,8,7,"ng-template",null,11,e.W1O),e.YNc(13,WB,10,14,"ng-template",null,12,e.W1O),e.YNc(15,YB,6,0,"ng-template",null,13,e.W1O),e.YNc(17,jB,1,0,"ng-template",null,14,e.W1O),e.YNc(19,tZ,6,5,"ng-template",null,15,e.W1O),e.YNc(21,nZ,6,1,"ng-template",null,16,e.W1O),e.TgZ(23,"p-dialog",17),e.NdJ("visibleChange",function(p){return i.createDirectoryDialogVisible=p}),e.TgZ(24,"input",18),e.NdJ("keydown.enter",function(){return i.createDirectoryNameControl.valid&&i.createDirectory()}),e.qZA(),e.TgZ(25,"p-button",19),e.NdJ("onClick",function(){return i.createDirectory()}),e.qZA()(),e.TgZ(26,"p-dialog",20),e.NdJ("visibleChange",function(p){return i.renameItemDialogVisible=p}),e.ynx(27,21),e.TgZ(28,"input",22),e.NdJ("keydown.enter",function(){return i.renameItemForm.valid&&i.renameItem()}),e.qZA(),e.TgZ(29,"p-button",23),e.NdJ("onClick",function(){return i.renameItem()}),e.qZA(),e.BQk(),e.qZA(),e.TgZ(30,"input",24,25),e.NdJ("change",function(p){return i.filesManagerChange(p)}),e.qZA()),2&t){const s=e.MAs(22);e.xp6(1),e.Q6J("model",i.menuItems),e.xp6(3),e.Q6J("ngIf",!i.searchMode)("ngIfElse",s),e.xp6(1),e.Q6J("value",i.fileItems)("loading",i.isLoading)("selection",i.selectedItems)("metaKeySelection",!0),e.xp6(4),e.Q6J("ngIf",i.dropMessageVisible&&!i.insideDragDrop),e.xp6(1),e.Q6J("ngIf",i.dropFilesUploadingVisible),e.xp6(13),e.Q6J("visible",i.createDirectoryDialogVisible)("draggable",!0)("modal",!0)("dismissableMask",!0),e.xp6(1),e.Q6J("formControl",i.createDirectoryNameControl),e.xp6(1),e.Q6J("disabled",i.createDirectoryNameControl.invalid)("loading",i.directoryCreating),e.xp6(1),e.Q6J("visible",i.renameItemDialogVisible)("draggable",!0)("modal",!0)("dismissableMask",!0),e.xp6(1),e.Q6J("formGroup",i.renameItemForm),e.xp6(2),e.Q6J("disabled",i.renameItemForm.invalid)("loading",i.itemBeingRename),e.xp6(1),e.Udp("display","none"),e.Q6J("multiple",!0)}},dependencies:[S.mk,S.O5,S.tP,S.RF,S.n9,S.ED,O.Hq,O.zx,f.Fj,f.JJ,f.JL,Ke.Lt,F.jx,Ao.V,it.G,bi.o,f.oH,f.sg,f.u,be.H,ka.iA,ka.Ei,jo._l,jo.bK,ab.a,eI.nm,S.Ov,S.JJ,S.uU]}),n})();const oZ=["dropEl"],sZ=function(n,o){return{"mdi-expand_more":n,"mdi-expand_less":o}};function rZ(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",9),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.toggleExpand())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.WLB(1,sZ,!t.expand,t.expand))}}const aZ=function(){return{width:"20px"}};function lZ(n,o){1&n&&e._UZ(0,"div"),2&n&&e.Akn(e.DdM(2,aZ))}function cZ(n,o){if(1&n&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.Oqu(t)}}function uZ(n,o){if(1&n&&(e.ynx(0),e.YNc(1,cZ,2,1,"span",11),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw(2),i=e.MAs(11);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.counter))("ngIfElse",i)}}function dZ(n,o){if(1&n&&(e.ynx(0),e.YNc(1,uZ,3,4,"ng-container",10),e.BQk()),2&n){const t=e.oxw(),i=e.MAs(11);e.xp6(1),e.Q6J("ngIf",!t.isCounterLoading)("ngIfElse",i)}}function pZ(n,o){1&n&&e.GkF(0)}function hZ(n,o){if(1&n&&(e.TgZ(0,"div",13),e.YNc(1,pZ,1,0,"ng-container",14),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",t.contentTemplateData)}}function gZ(n,o){1&n&&e._UZ(0,"p-skeleton",15)}const fZ=function(n,o){return[n,o]};let jA=(()=>{class n{constructor(t){this.router=t,this.expand=!1,this.expandChange=new e.vpe(!0),this.autoExpand=!0,this.link="",this.label="",this.isEmpty=!0,this.isCounterLoading=!1,this.onDrop=new e.vpe,this.onClick=new e.vpe}ngOnInit(){this.link&&this.router.isActive(this.link,!1)&&this.autoExpand&&this.setExpand(!0),this.clearClassesOnDropSub=(0,x.R)(window,"dragend").subscribe(t=>{this.dropEl&&this.dropEl.nativeElement&&this.dropEl.nativeElement.classList.remove("p-draggable-enter")})}ngOnDestroy(){var t;null===(t=this.clearClassesOnDropSub)||void 0===t||t.unsubscribe()}toggleExpand(){this.setExpand(!this.expand)}setExpand(t){this.expand!==t&&(this.expand=t,this.expandChange.emit(this.expand))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-catalog-menu-item"]],viewQuery:function(t,i){if(1&t&&e.Gf(oZ,5),2&t){let s;e.iGM(s=e.CRH())&&(i.dropEl=s.first)}},inputs:{expand:"expand",autoExpand:"autoExpand",link:"link",label:"label",counter:"counter",isEmpty:"isEmpty",contentTemplate:"contentTemplate",contentTemplateData:"contentTemplateData",droppable:"droppable",isCounterLoading:"isCounterLoading"},outputs:{expandChange:"expandChange",onDrop:"onDrop",onClick:"onClick"},decls:12,vars:12,consts:[[1,"flex","flex-column"],[1,"flex","align-items-center","p-2","text-bluegray-600","user-select-none"],["class","hover:text-primary cursor-pointer",3,"ngClass","click",4,"ngIf"],[3,"style",4,"ngIf"],["routerLinkActive","text-write bg-primary cursor-default",1,"flex-grow-1","px-2","py-1","border-round-sm","cursor-pointer",3,"pDroppable","pDroppableDisabled","ngClass","routerLink","onDrop","click"],["dropEl","","rla","routerLinkActive"],[4,"ngIf"],["class","pl-4 flex flex-column",4,"ngIf"],["loading",""],[1,"hover:text-primary","cursor-pointer",3,"ngClass","click"],[4,"ngIf","ngIfElse"],["class","font-bold text-sm ml-2",4,"ngIf","ngIfElse"],[1,"font-bold","text-sm","ml-2"],[1,"pl-4","flex","flex-column"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["width","1rem","height","1rem","borderRadius",".2rem",1,"ml-3"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,rZ,1,4,"span",2),e.YNc(3,lZ,1,3,"div",3),e.TgZ(4,"span",4,5),e.NdJ("onDrop",function(w){e.CHM(s);const Q=e.MAs(5);return e.KtG(i.onDrop.emit({$event:w,dropEl:Q}))})("click",function(){return i.autoExpand&&i.setExpand(!0),i.onClick.emit()}),e._uU(7),e.qZA(),e.YNc(8,dZ,2,2,"ng-container",6),e.qZA(),e.YNc(9,hZ,2,2,"div",7),e.qZA(),e.YNc(10,gZ,1,0,"ng-template",null,8,e.W1O)}if(2&t){const s=e.MAs(6);let p;e.xp6(2),e.Q6J("ngIf",!i.isEmpty),e.xp6(1),e.Q6J("ngIf",i.isEmpty),e.xp6(1),e.Q6J("pDroppable",null!==(p=i.droppable)&&void 0!==p?p:"")("pDroppableDisabled",!i.droppable)("ngClass",e.WLB(9,fZ,s.isActive?"hover:text-white hover:bg-primary-700":"hover:text-primary hover:bg-white",i.droppable?"droppable":""))("routerLink",i.link),e.xp6(3),e.hij(" ",i.label," "),e.xp6(1),e.Q6J("ngIf",i.counter),e.xp6(1),e.Q6J("ngIf",i.expand&&i.contentTemplate)}},dependencies:[S.mk,S.O5,S.tP,d.rH,d.Od,Ml.O,jo.bK,S.Ov],styles:[".droppable.p-draggable-enter[_ngcontent-%COMP%]{background-color:var(--orange-500)!important;color:#fff!important}"]}),n})();function mZ(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"img",9),e.NdJ("load",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.thumbnailLoad=!0)}),e.qZA()}if(2&n){const t=e.oxw(2).ngIf,i=e.oxw();e.Q6J("src","/api/private/file-thumbnail/"+t,e.LSH)("height",32)("hidden",!i.thumbnailLoad)}}function _Z(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"img",9),e.NdJ("load",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.thumbnailLoad=!0)}),e.qZA()}if(2&n){const t=e.oxw(2).ngIf,i=e.oxw();e.Q6J("src","/api/private/file-thumbnail/"+t,e.LSH)("height",32)("hidden",!i.thumbnailLoad)}}function CZ(n,o){1&n&&e._UZ(0,"span",12)}function vZ(n,o){1&n&&e._UZ(0,"span",13)}function bZ(n,o){if(1&n&&(e.ynx(0),e.YNc(1,CZ,1,0,"span",10),e.YNc(2,vZ,1,0,"span",11),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngSwitchCase",t.AttachmentType.PHOTO),e.xp6(1),e.Q6J("ngSwitchCase",t.AttachmentType.VIDEO)}}function yZ(n,o){1&n&&e._UZ(0,"span",14)}function xZ(n,o){1&n&&e._UZ(0,"span",15)}function IZ(n,o){1&n&&e._UZ(0,"span",16)}function TZ(n,o){if(1&n&&(e.ynx(0,3),e.YNc(1,mZ,1,3,"img",4),e.YNc(2,_Z,1,3,"img",4),e.YNc(3,bZ,3,2,"ng-container",5),e.YNc(4,yZ,1,0,"span",6),e.YNc(5,xZ,1,0,"span",7),e.YNc(6,IZ,1,0,"span",8),e.BQk()),2&n){const t=o.ngIf,i=e.oxw(2);e.Q6J("ngSwitch",t),e.xp6(1),e.Q6J("ngSwitchCase",i.AttachmentType.PHOTO),e.xp6(1),e.Q6J("ngSwitchCase",i.AttachmentType.VIDEO),e.xp6(1),e.Q6J("ngIf",!i.thumbnailLoad),e.xp6(1),e.Q6J("ngSwitchCase",i.AttachmentType.DOCUMENT),e.xp6(1),e.Q6J("ngSwitchCase",i.AttachmentType.AUDIO),e.xp6(1),e.Q6J("ngSwitchCase",i.AttachmentType.FILE)}}function AZ(n,o){if(1&n&&(e.ynx(0),e.YNc(1,TZ,7,7,"ng-container",2),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.fileType$))}}function wZ(n,o){1&n&&e._UZ(0,"p-skeleton",17)}class lf{constructor(){this.AttachmentType=he.sf,this.dataChange$=new jx.t(1),this.fileId$=this.dataChange$.pipe((0,si.b)(()=>this.thumbnailLoad=!1),(0,gt.U)(o=>o.id)),this.fileType$=this.dataChange$.pipe((0,gt.U)(o=>o.type)),this.thumbnailLoad=!1}ngOnInit(){}}lf.\u0275fac=function(o){return new(o||lf)},lf.\u0275cmp=e.Xpm({type:lf,selectors:[["app-thumbnail-preview"]],inputs:{data:"data"},decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["loadingTemplate",""],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[3,"src","height","hidden","load",4,"ngSwitchCase"],[4,"ngIf"],["class","mds-description text-4xl text-bluegray-300",4,"ngSwitchCase"],["class","mds-music_note text-4xl text-bluegray-300",4,"ngSwitchCase"],["class","mds-draft text-4xl text-bluegray-300",4,"ngSwitchCase"],[3,"src","height","hidden","load"],["class","mds-image text-4xl text-bluegray-300",4,"ngSwitchCase"],["class","mds-movie text-4xl text-bluegray-300",4,"ngSwitchCase"],[1,"mds-image","text-4xl","text-bluegray-300"],[1,"mds-movie","text-4xl","text-bluegray-300"],[1,"mds-description","text-4xl","text-bluegray-300"],[1,"mds-music_note","text-4xl","text-bluegray-300"],[1,"mds-draft","text-4xl","text-bluegray-300"],["width","32px","height","32px"]],template:function(o,t){if(1&o&&(e.YNc(0,AZ,3,3,"ng-container",0),e.ALo(1,"async"),e.YNc(2,wZ,1,0,"ng-template",null,1,e.W1O)),2&o){const i=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,t.fileId$))("ngIfElse",i)}},dependencies:[S.O5,S.RF,S.n9,Ml.O,S.Ov]}),(0,qa.gn)([(0,dl.bQ)("data")],lf.prototype,"dataChange$",void 0);const EZ={apikey:"008574e5-f34b-4270-b3d5-91aaabd036e8",lang:"ru_RU"};let SZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[F.ez,{provide:e.soG,useValue:"ru"},F.YP],imports:[kO.U,lO,aA.JP.forRoot({sanitize:e.q3G.NONE}),fh.Iu,f.u5,Ol.LU,Ao.S,f.UX,Ke.kW,fi,dt,tf.nD,bt.A,DO.D,FO,KO,$1._8,tP,Zu,uP,ji,_o.$9,bi.j,dP.z,lA.q4,Vu.y,cA.f,it.L,Ml.m,BP,pA.e4,ZP.Cl,Dl.U,Xx.n,yo.ON,eI.W6,bA,ob.g6,ob.qH,z6,iI.vI,Zu,jv.q,q_.Qy,J6.E,ab.w,dh.xc,be.T,bL,jo._t,ka.U$,wA.JH,EA.ce,yL.l,OL,kA.zz,ZL.forRoot(EZ),N.WN,$_.kK,UL.x,LA.u,jL,RA.S,Dc.qZ]}),n})();e.B6R(SO,function(){return[_r.h,Kc.E,B,af.C,NA,BR,sI,rI,lb,mh.x,f.Fj,f.JJ,f.JL,F.jx,S.sg,Ao.V,f.oH,f.sg,f.u,S.O5,O.zx,S.RF,S.n9,eP,bi.o,it.G,Dl.D,yo.Ri]},function(){return[S.Ov]}),e.B6R(Mi,function(){return[D.r,_r.h,B,nN,d.rH,fh.Ql,f.Fj,f.JJ,f.JL,Ol.xf,Ol.x4,F.jx,S.sg,Ao.V,f.oH,f.sg,f.u,Pe,S.O5,bt.g,O.zx,S.tP,S.RF,S.n9,bi.o,S.mk,it.G,pA.zH,Na.Rn]},function(){return[S.Ov,S.uU]}),e.B6R(Mr,function(){return[y.A,D.r,iN.Y,fN,Kc.E,aI,B,ZA,nF,HA.g,lI.U,yc.x,uF,dF.y,zA,UF,c5,QA.C,u5.a,d5.g,p5.s,h5.M,g5.j,f.Fj,f.JJ,f.JL,f.On,Ol.xf,Ol.x4,F.jx,S.sg,Ao.V,f.oH,f.sg,f.u,Ke.Lt,Pe,tf.XZ,S.O5,O.zx,S.RF,S.n9,Gi.u,_o.v2,bi.o,Vu.T,S.mk,it.G,dA,Xx.P,eI.nm,ob.g6,$_.Fr]},function(){return[S.Ov,S.uU,f5.A,S.rS]}),e.B6R(Ch,function(){return[y.A,D.r,_r.h,FA.k,aI,B,K_._,fh.Ql,f._Y,f.Fj,f.JJ,f.JL,f.On,S.PC,Ol.xf,Ol.x4,F.jx,S.sg,Ao.V,f.oH,f.sg,f.u,f.x0,Ke.Lt,Ln,Pe,tf.XZ,S.O5,bt.g,O.zx,S.tP,bi.o]},[]),e.B6R(yP,function(){return[D.r,_r.h,Kc.E,aI,B,ZA,I5,af.C,f.JJ,f.On,S.sg,Ke.Lt,tf.XZ,S.O5,Vu.T]},[]),e.B6R(ou,function(){return[_r.h,B,F5,S.sg,S.O5]},function(){return[S.Ov]}),e.B6R(h6,function(){return[_r.h,Kc.E,B,af.C,sI,mh.x,f.Fj,f.JJ,f.JL,F.jx,S.sg,f.oH,f.sg,f.u,S.O5,O.Hq,S.tP,S.RF,S.n9,bi.o,it.G,Dl.D,yo.Ri,be.H]},function(){return[S.Ov]}),e.B6R(Jg,function(){return[_r.h,Kc.E,B,zA,S.O5,S.tP,Vu.T,V6,iI.xV]},function(){return[S.Ov]}),e.B6R(X4,function(){return[_r.h,B,lI.U,yc.x,B5,d.rH,f.JJ,f.JL,F.jx,S.sg,f.oH,f.sg,f.u,Ke.Lt,Pe,S.O5,O.Hq,O.zx,S.RF,S.n9,$1.f,_o.v2,S.mk,it.G,be.H,ka.iA,ka.on,ka.jB]},function(){return[S.Ov,S.uU,S.rS,S.JJ]}),e.B6R(ex,function(){return[_r.h,B,yc.x,f.Fj,f.JJ,f.JL,F.jx,S.sg,Ao.V,f.sg,f.u,Ke.Lt,Pe,S.O5,bt.g,O.zx,S.RF,S.n9,bi.o,it.G,Dl.D,Na.Rn]},function(){return[S.uU,cI,S.H9]}),e.B6R(M_,function(){return[_r.h,B,mh.x,f.Fj,f.JJ,f.JL,F.jx,S.sg,Ao.V,f.sg,f.u,S.O5,bt.g,O.zx,S.tP,S.RF,S.n9,_o.v2,bi.o,cA.G,it.G,Na.Rn,iI.xV,ab.a,dh.mp,be.H]},function(){return[cI]}),e.B6R(O_,function(){return[_r.h,B,lI.U,yc.x,JA.k,GA,WA,QA.C,K_._,_h,fh.Ql,f.Fj,f.JJ,f.JL,f.On,F.jx,S.sg,Ao.V,f.oH,f.sg,f.u,S.O5,bt.g,O.zx,S.tP,S.RF,S.n9,it.G,Na.Rn]},function(){return[S.Ov,S.uU,S.rS]}),e.B6R(z1,function(){return[_r.h,B,af.C,Gx,d.rH,f.Fj,f.JJ,f.JL,S.sg,f.sg,f.u,Pe,S.O5,O.Hq,O.zx,S.RF,S.n9,bi.o,S.mk,it.G,Dl.D,q_.UN,be.H]},[]),e.B6R(Kd,function(){return[Kc.E,B,Qx.Z,af.C,sA.j,mh.x,Yx.N,_B,K_._,YA.G,zu,f._Y,f.Fj,f.JJ,f.JL,f.On,Ol.xf,Ol.x4,F.jx,S.sg,Ao.V,f.oH,f.sg,f.u,Ke.Lt,Pe,S.O5,bt.g,O.Hq,O.zx,S.tP,S.RF,S.n9,Gi.u,_o.v2,bi.o,Vu.T,S.mk,it.G,Dl.D,Na.Rn,yo.Ri,q_.UN,ka.iA,$_.Fr]},function(){return[S.Ov,S.uU,y_.t,Wx,S.Nd,S.rS,S.H9]}),e.B6R(NT,function(){return[_r.h,B,Gx,Yx.N,fh.Ql,f.Fj,f.JJ,f.JL,S.sg,Ao.V,f.oH,f.sg,f.u,Ke.Lt,tf.XZ,S.O5,O.zx,S.tP,S.RF,S.n9,bi.o,S.mk,it.G,Na.Rn,be.H,SA,kA.vy,PA,BL]},function(){return[S.Ov]}),e.B6R(FT,function(){return[k.o,_r.h,B,yc.x,Ae,GA,WA,fh.Ql,f.Fj,f.JJ,f.JL,F.jx,S.sg,f.oH,f.sg,f.u,S.O5,bt.g,O.zx,S.tP,S.RF,S.n9,$1.f,it.G,Ml.O,Na.Rn,yo.Ri]},function(){return[S.Ov]}),e.B6R(BT,function(){return[_r.h,B,Qx.Z,f.Fj,f.JJ,f.JL,f.sg,f.u,S.O5,O.zx,bi.o,Ml.O,Na.Rn]},[]),e.B6R(ZT,function(){return[_r.h,B,f.Fj,f.JJ,f.JL,f.sg,f.u,S.O5,O.zx,bi.o,Ml.O]},[]),e.B6R(UT,function(){return[_r.h,B,f.Fj,f.JJ,f.JL,f.sg,f.u,S.O5,O.zx,bi.o,Ml.O]},[]),e.B6R(HT,function(){return[_r.h,B,iZ]},[]),e.B6R(jT,function(){return[_r.h,B,jA,d.lC,d.rH,d.Od,S.PC,S.sg,S.O5,O.zx,S.tP,it.G,ab.a,LA.b]},function(){return[S.Ov]}),e.B6R(qT,function(){return[_r.h,B,VA,rI,lb,jA,K_._,Qg.r,d.lC,d.rH,f.Fj,f.JJ,f.JL,S.sg,f.oH,f.sg,f.u,f.CE,Ke.Lt,S.O5,O.zx,S.tP,S.RF,S.n9,bi.o,Vu.T,S.mk,YL]},function(){return[S.Ov]}),e.B6R($T,function(){return[_r.h,B,d.lC]},[]),e.B6R(eA,function(){return[_r.h,B,d.lC]},[]),e.B6R(gh,function(){return[yc.x,lb,_h,f.JJ,f.On,F.jx,S.O5,O.Hq,S.tP,ka.iA,RA.C]},function(){return[S.Ov,S.H9]}),e.B6R(tA,function(){return[_r.h,B,d.lC]},[]),e.B6R(Hu,function(){return[mh.x,YA.G,zu,lf,d.rH,F.jx,S.sg,S.O5,S.tP,S.RF,S.n9,Ml.O,ka.iA]},function(){return[S.Ov]})},9936:(hn,ht,b)=>{"use strict";b.d(ht,{h:()=>X});var e=b(8505),d=b(5e3),u=b(3470),f=b(9744),_=b(8007),P=b(9014),x=b(2248),a=b(6768);const R=["chatPanelEl"];function L(W,Y){if(1&W){const Te=d.EpF();d.TgZ(0,"app-button",19),d.NdJ("onClick",function(){d.CHM(Te);const Ke=d.oxw();return d.KtG(Ke.taskCreator.standard())}),d.qZA()}}function V(W,Y){1&W&&d.GkF(0)}function F(W,Y){if(1&W&&(d.TgZ(0,"div",30),d._uU(1),d.qZA()),2&W){const Te=Y.$implicit;d.xp6(1),d.hij(" ",Te.name," ")}}function T(W,Y){if(1&W){const Te=d.EpF();d.TgZ(0,"span",22)(1,"p-button",23),d.NdJ("onClick",function(){d.CHM(Te);const Ke=d.oxw(3);return d.KtG(Ke.commutatorRemoteUpdatePoolVisible=!0)}),d.qZA(),d.TgZ(2,"p-overlay",24,25),d.NdJ("visibleChange",function(Ke){d.CHM(Te);const be=d.oxw(3);return d.KtG(be.commutatorRemoteUpdatePoolVisible=Ke)}),d.TgZ(4,"span",26),d._uU(5," \u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c\u044b\u0435 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u044b "),d.qZA(),d.TgZ(6,"div",27),d.YNc(7,F,2,1,"div",28),d.qZA()(),d._UZ(8,"p-badge",29),d.qZA()}if(2&W){const Te=d.MAs(3),Ae=d.oxw().ngIf,Ke=d.oxw(2);d.xp6(2),d.Q6J("visible",Ke.commutatorRemoteUpdatePoolVisible)("baseZIndex",2e3)("isVisible",Te.visible)("alignFn",Te.alignOverlay.bind(Te)),d.xp6(5),d.Q6J("ngForOf",Ae),d.xp6(1),d.Q6J("value",Ae.length.toString())}}function y(W,Y){if(1&W&&(d.ynx(0),d.YNc(1,T,9,6,"span",21),d.BQk()),2&W){const Te=Y.ngIf;d.xp6(1),d.Q6J("ngIf",Te&&Te.length>0)}}function D(W,Y){if(1&W&&(d.YNc(0,y,2,1,"ng-container",20),d.ALo(1,"async")),2&W){const Te=d.oxw();d.Q6J("ngIf",d.lcZ(1,1,Te.commutatorRemoteUpdatePool$))}}function k(W,Y){if(1&W){const Te=d.EpF();d.TgZ(0,"span",31),d._UZ(1,"i",32),d._uU(2," \u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"),d.qZA(),d._UZ(3,"div",5),d.TgZ(4,"p-button",33),d.NdJ("onClick",function(){d.CHM(Te);const Ke=d.oxw();return d.KtG(Ke.notifyService.readAllNotifications())}),d.qZA()}if(2&W){const Te=d.oxw();d.xp6(4),d.Q6J("disabled",!Te.notifyService.isHasUnread)}}function B(W,Y){1&W&&d._UZ(0,"app-notification-item",38),2&W&&d.Q6J("notification",Y.$implicit)}function N(W,Y){if(1&W){const Te=d.EpF();d.TgZ(0,"div",36),d.NdJ("onScrollToBottom",function(){d.CHM(Te);const Ke=d.oxw(2);return d.KtG(!Ke.notifyService.isLast&&Ke.notifyService.load())}),d.YNc(1,B,1,1,"app-notification-item",37),d.qZA()}if(2&W){const Te=d.oxw(2);d.xp6(1),d.Q6J("ngForOf",Te.notifyService.list)}}function ce(W,Y){if(1&W){const Te=d.EpF();d.TgZ(0,"div",39)(1,"span",40),d._UZ(2,"i",41),d._uU(3," \u041d\u043e\u0432\u044b\u0445 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0438\u0306 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"),d.qZA(),d.TgZ(4,"p-button",42),d.NdJ("onClick",function(){d.CHM(Te);const Ke=d.oxw(2);return d.KtG(Ke.notifyService.changeNotificationViewMode("ALL"))}),d.qZA()()}2&W&&d.Udp("padding-top","10rem")}function $(W,Y){if(1&W&&(d.YNc(0,N,2,1,"div",34),d.YNc(1,ce,5,2,"div",35)),2&W){const Te=d.oxw();d.Q6J("ngIf",!Te.notifyService.isEmpty),d.xp6(1),d.Q6J("ngIf",Te.notifyService.isEmpty)}}function z(W,Y){if(1&W&&d._UZ(0,"span"),2&W){const Te=d.oxw().$implicit;d.Tol(Te.icon+" text-xl")}}function S(W,Y){if(1&W&&(d.TgZ(0,"div",43),d.YNc(1,z,1,2,"span",44),d.TgZ(2,"span",45),d._uU(3),d.qZA()()),2&W){const Te=Y.$implicit;d.xp6(1),d.Q6J("ngIf",Te.icon),d.xp6(2),d.hij(" ",Te.detail," ")}}function O(W,Y){if(1&W&&d._UZ(0,"span"),2&W){const Te=d.oxw().$implicit;d.Tol(Te.icon+" text-xl")}}function K(W,Y){if(1&W&&(d.TgZ(0,"div",43),d.YNc(1,O,1,2,"span",44),d.TgZ(2,"span",45),d._uU(3),d.qZA()()),2&W){const Te=Y.$implicit;d.xp6(1),d.Q6J("ngIf",Te.icon),d.xp6(2),d.hij(" ",Te.detail," ")}}function ue(W,Y){1&W&&d._UZ(0,"p-progressSpinner",50)}function q(W,Y){if(1&W&&d._UZ(0,"span",51),2&W){const Te=d.oxw(2);d.Tol(Te.blockUiService.icon),d.Q6J("ngClass",Te.blockUiService.styleClass)}}function G(W,Y){if(1&W&&(d.TgZ(0,"span",51),d._uU(1),d.qZA()),2&W){const Te=d.oxw(2);d.Q6J("ngClass",Te.blockUiService.styleClass),d.xp6(1),d.Oqu(Te.blockUiService.message)}}function j(W,Y){if(1&W&&(d.TgZ(0,"div",46),d.YNc(1,ue,1,0,"p-progressSpinner",47),d.YNc(2,q,1,3,"span",48),d.YNc(3,G,2,2,"span",49),d.qZA()),2&W){const Te=d.oxw();d.xp6(1),d.Q6J("ngIf",Te.blockUiService.isWait),d.xp6(1),d.Q6J("ngIf",!!Te.blockUiService.icon),d.xp6(1),d.Q6J("ngIf",Te.blockUiService.message)}}const fe=function(){return["/"]},ne=function(){return{width:"max-content",maxWidth:"30vw"}},J=function(W,Y){return{alignItems:W,justifyContent:Y}};let X=(()=>{class W{constructor(Te,Ae,Ke,be,Ge,ee){this.router=Te,this.notifyService=Ae,this.rt=Ke,this.chatService=be,this.taskCreator=Ge,this.blockUiService=ee,this.isTaskCreationPage=!1,this.commutatorRemoteUpdatePool$=this.rt.acpCommutatorsRemoteUpdatePool().pipe((0,e.b)(xe=>{(!xe||0===xe.length)&&(this.commutatorRemoteUpdatePoolVisible=!1)})),this.commutatorRemoteUpdatePoolVisible=!1}ngOnInit(){this.isTaskCreationPage="/task/create"===this.router.url,this.openChatSub=this.chatService.open.subscribe(Te=>{this.chatPanelEl&&this.chatPanelEl.show(Te)})}ngOnDestroy(){var Te;null===(Te=this.openChatSub)||void 0===Te||Te.unsubscribe()}}return W.\u0275fac=function(Te){return new(Te||W)(d.Y36(u.F0),d.Y36(f.T),d.Y36(_.U),d.Y36(P.a),d.Y36(x.e),d.Y36(a.A))},W.\u0275cmp=d.Xpm({type:W,selectors:[["ng-component"]],viewQuery:function(Te,Ae){if(1&Te&&d.Gf(R,5),2&Te){let Ke;d.iGM(Ke=d.CRH())&&(Ae.chatPanelEl=Ke.first)}},decls:29,vars:22,consts:[[1,"top-panel"],[1,"responsive-wrapper","top-panel-content"],["href","/"],["alt","","src","assets/logo-dark.svg",1,"cursor-pointer",3,"routerLink"],["icon","add_task","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","model","p-button-success",3,"onClick",4,"ngIf"],[1,"stretched"],[1,"flex","gap-3"],[4,"ngTemplateOutlet"],["commutatorPullRemoteUpdates",""],["appScrollToBottomEmitter","",3,"visible","blockScroll","position","showCloseIcon","onHide","onShow","visibleChange"],["pTemplate","header"],["pTemplate","content"],["chatPanelEl",""],["key","darktoast","position","bottom-center"],["pTemplate","message"],["key","redtoast","position","bottom-center"],[3,"blocked","autoZIndex","baseZIndex"],[1,"flex","p-4","w-full","h-full"],["class","flex flex-column gap-2 align-items-center justify-content-center bg-white border-round-2xl shadow-2 p-4 text-lg text-primary-400 font-semibold",4,"ngIf"],["icon","add_task","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","model","p-button-success",3,"onClick"],[4,"ngIf"],["class","flex relative",4,"ngIf"],[1,"flex","relative"],["icon","mdi-upgrade","styleClass","p-button-outlined p-button-icon p-button-rounded p-button-secondary",3,"onClick"],["appendTo","body","contentStyleClass","overlay flex flex-column","appCloseIfScroll","",3,"visible","baseZIndex","isVisible","alignFn","visibleChange"],["commOver",""],[1,"text-bluegray-400","font-bold","p-2"],[1,"flex","flex-column","max-h-20rem","overflow-y-auto"],["class","flex align-items-center p-3",4,"ngFor","ngForOf"],[1,"ur-badge",3,"value"],[1,"flex","align-items-center","p-3"],[1,"caption","size-big","flexed","inline","hcenter","gap3"],[1,"mdi-circle_notifications"],["icon","mdi-clear_all","label","\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c","styleClass","p-button-text",3,"disabled","onClick"],["appScrollToBottomEmitter","","class","list-view flexed v-scroll",3,"onScrollToBottom",4,"ngIf"],["class","flexed hcenter vcenter column p10",3,"padding-top",4,"ngIf"],["appScrollToBottomEmitter","",1,"list-view","flexed","v-scroll",3,"onScrollToBottom"],[3,"notification",4,"ngFor","ngForOf"],[3,"notification"],[1,"flexed","hcenter","vcenter","column","p10"],[1,"flexed","hcenter","gap5","caption","size-big","wt-bold","f-color-500"],[1,"mdi-inventory"],["label","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0435","styleClass","p-button-text one-line",3,"onClick"],[1,"flex","gap-3","flex-grow-1","h-full","align-items-center"],[3,"class",4,"ngIf"],[1,"font-bold"],[1,"flex","flex-column","gap-2","align-items-center","justify-content-center","bg-white","border-round-2xl","shadow-2","p-4","text-lg","text-primary-400","font-semibold"],["class","custom-spinner custom-spinner-primary custom-spinner-8xl","strokeWidth","2",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[3,"ngClass",4,"ngIf"],["strokeWidth","2",1,"custom-spinner","custom-spinner-primary","custom-spinner-8xl"],[3,"ngClass"]],template:function(Te,Ae){if(1&Te&&(d.TgZ(0,"div",0)(1,"div",1)(2,"a",2),d._UZ(3,"img",3),d.qZA(),d.YNc(4,L,1,0,"app-button",4),d._UZ(5,"div",5),d.TgZ(6,"div",6),d.YNc(7,V,1,0,"ng-container",7),d.qZA(),d._UZ(8,"app-account-panel"),d.qZA()(),d._UZ(9,"router-outlet")(10,"app-notifications-popup-panel"),d.YNc(11,D,2,3,"ng-template",null,8,d.W1O),d.TgZ(13,"p-sidebar",9),d.NdJ("onHide",function(){return Ae.notifyService.readAllNotifications()})("onShow",function(){return Ae.notifyService.load()})("visibleChange",function(be){return Ae.notifyService.displaySideBar=be}),d.YNc(14,k,5,1,"ng-template",10),d.YNc(15,$,2,2,"ng-template",11),d.qZA(),d._UZ(16,"p-confirmDialog")(17,"app-media-viewer")(18,"app-chat-panel",null,12),d.TgZ(20,"p-toast",13),d.YNc(21,S,4,2,"ng-template",14),d.qZA(),d.TgZ(22,"p-toast",15),d.YNc(23,K,4,2,"ng-template",14),d.qZA(),d._UZ(24,"app-float-dock-panel")(25,"app-terminal-float-panel"),d.TgZ(26,"p-blockUI",16)(27,"div",17),d.YNc(28,j,4,3,"div",18),d.qZA()()),2&Te){const Ke=d.MAs(12);d.xp6(3),d.Udp("height","3rem"),d.Q6J("routerLink",d.DdM(17,fe)),d.xp6(1),d.Q6J("ngIf",!Ae.isTaskCreationPage),d.xp6(3),d.Q6J("ngTemplateOutlet",Ke),d.xp6(6),d.Akn(d.DdM(18,ne)),d.Q6J("visible",Ae.notifyService.displaySideBar)("blockScroll",!0)("position","right")("showCloseIcon",!1),d.xp6(13),d.Q6J("blocked",Ae.blockUiService.blocked)("autoZIndex",!Ae.blockUiService.zIndex)("baseZIndex",Ae.blockUiService.zIndex),d.xp6(1),d.Akn(d.WLB(19,J,Ae.blockUiService.align,Ae.blockUiService.justify)),d.xp6(1),d.Q6J("ngIf",Ae.blockUiService.isWait||Ae.blockUiService.message||Ae.blockUiService.icon)}},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}.top-panel[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:var(--bgc-000);border-bottom:1px solid var(--bgc-300);box-shadow:var(--shadow-0);position:sticky;margin-bottom:1.5rem;top:0;height:var(--top-panel-height);z-index:1009}.top-panel-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:1.5rem 1.5rem 1.5rem 2rem}"]}),W})()},417:(hn,ht,b)=>{"use strict";b.d(ht,{t:()=>u});var e=b(383),d=b(5e3);let u=(()=>{class f{transform(P,x,a,R,L){let V,F;if(R)F=P;else{if(V=new Date(P),"Invalid Date"===V.toString())return"\u041d\u0435 \u0432\u0435\u0440\u043d\u0430\u044f \u0434\u0430\u0442\u0430";F=Math.abs(Date.now()-V.getTime())}const T=Math.floor(F/36e5),y=Math.floor(F%36e5/6e4),D=Math.floor(F%6e4/1e3);if(L&&T>0){if(T<24)return`${x}${T} ${e.cQ.declineOfNumber(T,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"])}${a}`;{const k=Math.floor(T/24),B=Math.floor(T%24);return`${x}${k} ${e.cQ.declineOfNumber(k,["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"])} ${B} ${e.cQ.declineOfNumber(B,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"])}${a}`}}return T>0&&T<13?`${x}${T} ${e.cQ.declineOfNumber(T,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"])}${a}`:0===T&&y>0?`${x}${y} ${e.cQ.declineOfNumber(y,["\u043c\u0438\u043d\u0443\u0442\u0443","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"])}${a}`:0===T&&0===y&&D>0?`${x}${D} ${e.cQ.declineOfNumber(D,["\u0441\u0435\u043a\u0443\u043d\u0434\u0443","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"])}${a}`:0===T&&0===y&&0===D?`${x}${F.toFixed(2)} ${e.cQ.declineOfNumber(F,["\u043c\u0441","\u043c\u0441","\u043c\u0441"])}${a}`:!R&&V?V.toLocaleString("ru-RU",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):""}}return f.\u0275fac=function(P){return new(P||f)},f.\u0275pipe=d.Yjl({name:"elapsedTime",type:f,pure:!0}),f})()},7728:(hn,ht,b)=>{"use strict";b.d(ht,{A:()=>u});var e=b(7384),d=b(5e3);let u=(()=>{class f{transform(P){if(!P)return"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e";switch(P.taskStatus){case e.hY.ACTIVE:return"\u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f";case e.hY.PROCESSING:return"\u0423 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432";case e.hY.CLOSE:return"\u0417\u0430\u043a\u0440\u044b\u0442\u0430\u044f";default:return"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"}}}return f.\u0275fac=function(P){return new(P||f)},f.\u0275pipe=d.Yjl({name:"taskStatus",type:f,pure:!0}),f})()},8738:(hn,ht,b)=>{"use strict";b.d(ht,{s:()=>$});var e=b(5861),d=b(4004),u=b(8505),f=b(4326),_=b(9751),P=b(8421);const{isArray:x}=Array;var R=b(515),L=b(5403),V=b(3269);var T=b(9646),y=b(3099),D=b(262),k=b(383),B=b(5e3),N=b(520),ce=b(9783);let $=(()=>{class z{constructor(O,K){this.client=O,this.toast=K,this.requestCacheMap={},this.loggedIn=!1}getWireframe(O){return this.sendGet("api/private/wireframe/"+O)}getWireframeDashboardStatistic(O){return this.sendGet("api/private/wireframe/"+O+"/dashboard-statistic")}getWireframeFields(O){return this.sendGet("api/private/wireframe/"+O+"/fields")}getWireframes(O){return null==O?this.sendGet("api/private/wireframes"):this.sendGet("api/private/wireframes",{includingRemoved:O})}getWireframesNames(){return this.sendGet("api/private/wireframes/names")}createWireframe(O){return this.sendPost("api/private/wireframe",O)}updateWireframe(O,K){return this.sendPatch("api/private/wireframe/"+O,K)}createTask(O){return this.sendPost("api/private/task",O)}deleteTask(O){return this.sendDelete("api/private/task/"+O)}getTask(O,K=!1){const ue="api/private/task/"+O;return K?this.sendGetSilent(ue):this.sendGet(ue)}getTasksByLogin(O,K){return this.sendGet(`api/private/task/page/by-login/${O}`,{page:K})}getWorkLogsByTaskId(O){return this.sendGet(`api/private/work-log/task/${O}/list`)}getCountOfActiveWorkLogs(){return this.sendGet("api/private/work-log/active/count")}getRootTask(O){return this.sendGet("api/private/task/"+O+"/root")}getFieldsTask(O){return this.sendGet(`api/private/task/${O}/fields`)}getPageOfTasks(O,K){return this.sendPost(`api/private/task/page/${O}`,K)}getWireframeFiltrationFields(O){return this.sendGet(`api/private/wireframe/${O}/filter-fields`)}checkCompatibility(O,K){return this.sendGet(`api/private/task/${O}/check-compatibility/${K}`)}connectToOldTracker(O,K){return this.sendPatch(`api/private/task/${O}/connect-to/${K}`,{})}getHouses(O){return this.sendGet(`api/private/houses/${O}`)}getStreets(O,K){return K?this.sendGet("api/private/streets/"+O,{filter:K}):this.sendGet("api/private/streets/"+O)}getStreetSuggestions(O){return this.sendGet("api/private/suggestions/street",{query:O})}getCities(){return this.sendGet("api/private/cities")}getAvailableObservers(){return this.sendGet("api/private/available-observers")}getAvailableObserversSuggestions(O){return this.sendGet(`api/private/available-observers/${O}`)}createComment(O,K,ue,q){return this.sendPost("api/private/comment",{taskId:K,text:O||"",files:ue||[],replyComment:q})}getComments(O,K,ue){return this.sendGet("api/private/comments",{taskId:O,offset:K,limit:ue})}getTaskJournal(O,K,ue,q){return this.sendGet(`api/private/task/${O}/journal`,{offset:K,limit:ue,sorting:q})}getEmployees(O,K,ue){const q={};return O&&(q.globalFilter=O),"boolean"==typeof K&&!K&&(q.showDeleted=K),"boolean"==typeof ue&&!ue&&(q.showOffsite=ue),this.sendGet("api/private/employees/list",q)}getEmployeesOptionsList(O){return this.sendGet("api/private/employees/list",{globalFilter:null!=O?O:""}).pipe((0,d.U)(K=>K.map(ue=>{const{firstName:q,secondName:G,lastName:j,login:fe}=ue;return{label:q&&G&&j?`${j} ${q} ${G}`:fe,value:fe}})))}getAllTaskAttachments(O){return this.sendGet("api/private/task/"+O+"/attachments")}getCountAllTaskAttachments(O){return this.sendGet("api/private/task/"+O+"/attachments/count")}getDepartments(){return this.sendGet("api/private/departments")}getPositions(){return this.sendGet("api/private/positions")}createDepartment(O){return this.sendPost("api/private/department",O)}editDepartment(O,K){return this.sendPatch("api/private/department/"+K,O)}deleteDepartment(O){return this.sendDelete("api/private/department/"+O)}createPosition(O){return this.sendPost("api/private/position",O)}editPosition(O,K){return this.sendPatch("api/private/position/"+K,O)}deletePosition(O){return this.sendDelete("api/private/position/"+O)}createEmployee(O){return this.sendPost("api/private/employee",O)}editEmployee(O,K){return this.sendPatch("api/private/employee/"+K,O)}deleteEmployee(O){return this.sendDelete("api/private/employee/"+O)}getEmployee(O,K=!1){const ue="api/private/employee/"+O;return K?this.sendGetSilent(ue):this.sendGet(ue)}signIn(O){return this.sendPost("api/public/sign-in",O).pipe((0,u.b)(K=>{k.Ke.save("token",K.tokenChain.token),k.Ke.save("isOffsite",K.employee.offsite),this.loggedIn=!0}),(0,f.g)(100))}authCheckout(){return this.sendGet("api/public/auth-checkout").pipe((0,u.b)(O=>{O&&localStorage.setItem("token",O.token)}))}getMe(){return this.sendGet("api/private/me")}setAvatar(O){return this.sendPost("api/private/employee/avatar",O)}getResponsible(){return function F(...z){const S=(0,V.jO)(z),O=function a(z){return 1===z.length&&x(z[0])?z[0]:z}(z);return O.length?new _.y(K=>{let ue=O.map(()=>[]),q=O.map(()=>!1);K.add(()=>{ue=q=null});for(let G=0;!K.closed&&G<O.length;G++)(0,P.Xf)(O[G]).subscribe(new L.Q(K,j=>{if(ue[G].push(j),ue.every(fe=>fe.length)){const fe=ue.map(ne=>ne.shift());K.next(S?S(...fe):fe),ue.some((ne,J)=>!ne.length&&q[J])&&K.complete()}},()=>{q[G]=!0,!ue[G].length&&K.complete()}));return()=>{ue=q=null}}):R.E}(this.sendGet("api/private/departments"),this.sendGet("api/private/employees/list")).pipe((0,d.U)(O=>O.flat()),(0,d.U)(O=>O.filter(K=>!K.deleted)))}getActiveTaskInStage(O,K,ue,q){return this.sendGet(`api/private/task/page/template/${ue}/stage/${q}`,{offset:O,limit:K})}getActiveTaskInNullStage(O,K,ue){return this.sendGet(`api/private/task/page/template/${ue}/stage`,{offset:O,limit:K})}changeTaskStage(O,K){return this.sendPatch(`api/private/task/${O}/stage`,{stageId:K})}getActiveTaskIdsInStage(O,K){return this.sendGet(`api/private/task/template/${O}/stage/${K}/taskIdOnly`)}getActiveTaskIdsInNullStage(O){return this.sendGet(`api/private/task/template/${O}/stage/taskIdOnly`)}updateComment(O){return this.sendPatch("api/private/comment",O)}deleteComment(O){return this.sendDelete("api/private/comment/"+O)}getInstallersEmployees(){return this.sendGet("api/private/employees/installers")}assignInstallersToTask(O,K){return this.sendPost("api/private/task/"+O+"/assign-installers",K)}saveReport(O){return this.sendPatch("api/private/work-log/writing-report",O)}forceCloseWorkLog(O,K){return this.sendPost("api/private/task/"+O+"/force-close-work-log",K)}changeTaskObservers(O,K,ue){return this.sendPatch("api/private/task/"+O+"/observers",{departmentObservers:K,personalObservers:ue})}unlinkParentTask(O){return this.sendPatch("api/private/task/"+O+"/unlink-parent",{})}changeLinkToParentTask(O,K){return this.sendPatch("api/private/task/"+O+"/link-to-parent",{parentTaskId:K})}appendLinksToChildrenTasks(O,K){return this.sendPatch("api/private/task/"+O+"/append-links-to-children",K)}getTaskTag(O){return this.sendGet("api/private/task-tag/"+O)}getTaskTags(O,K){const ue={};return O&&(ue.query=O),null!=K&&(ue.includingRemove=K),this.sendGet("api/private/task-tags",ue)}createTaskTag(O){return this.sendPost("api/private/task-tag",O)}modifyTaskTag(O){return this.sendPatch("api/private/task-tag",O)}deleteTaskTag(O){return this.sendDelete("api/private/task-tag/"+O)}setTaskTags(O,K){return this.sendPatch(`api/private/task/${O}/tags`,K)}changeTaskResponsible(O,K){return this.sendPatch("api/private/task/"+O+"/responsible",K)}unbindResponsible(O){return this.sendPatch("api/private/task/"+O+"/unbind-responsible",{})}changeTaskActualFrom(O,K){return this.sendPatch("api/private/task/"+O+"/actual-from",K)}changeTaskActualTo(O,K){return this.sendPatch("api/private/task/"+O+"/actual-to",K)}clearActualFromDate(O){return this.sendPatch("api/private/task/"+O+"/clear-actual-from-date",{})}clearActualToDate(O){return this.sendPatch("api/private/task/"+O+"/clear-actual-to-date",{})}closeTask(O){return this.sendPatch("api/private/task/"+O+"/close",{})}reopenTask(O){return this.sendPatch("api/private/task/"+O+"/reopen",{})}editTask(O,K){return this.sendPatch("api/private/task/"+O+"/edit-fields",K)}moveTaskToDirectory(O,K){return this.sendPatch("api/private/task/move-to-directory",{taskIds:O,directoryId:K})}getEditTaskSnapshots(O){return this.sendGet("api/private/task/"+O+"/edit-snapshots")}getNotifications(O,K,ue=!1){return this.sendGet("api/private/notifications",{first:O,limit:K,unreadOnly:ue})}getCountOfUnreadNotifications(){return this.sendGet("api/private/notifications/unread-count")}getAvailableTaskTypesToChange(O){return this.sendGet("api/private/task/"+O+"/type-list/available-to-change")}getAvailableDirectoriesToChange(O){return this.sendGet("api/private/task/"+O+"/directory-list/available-to-change")}getDepartment(O,K=!1){return K?this.sendGetSilent("api/private/department/"+O):this.sendGet("api/private/department/"+O)}getWorkLog(O,K=!1){return K?this.sendGetSilent("api/private/work-log/"+O):this.sendGet("api/private/work-log/"+O)}getActiveWorkLogByTaskId(O){return this.sendGetSilent("api/private/work-log/task/"+O+"/active")}readAllNotifications(){return this.sendPatch("api/private/notifications/read-all",{})}changeMyStatus(O){return this.sendPatch("api/private/employee/status",O)}getChatMessages(O,K,ue){return this.sendGet("api/private/chat/"+O+"/messages",{first:K,limit:ue})}setMessagesAsRead(O){return this.sendPatch("api/private/chat/messages/read",O)}getActiveTaskChat(O){return this.sendGet("api/private/task/"+O+"/active-chat")}getChat(O){return this.sendGet("api/private/chat/"+O)}sendChatMessage(O,K,ue,q){return this.sendPost("api/private/chat/"+O+"/message",{text:K,files:ue,replyMessageId:q})}editChatMessage(O,K){return this.sendPatch("api/private/chat/message/"+O,K)}deleteChatMessage(O,K){return this.sendDelete("api/private/chat/message/"+K)}getMyActiveChats(){return this.sendGet("api/private/chats/my/active")}getIncomingTasks(O,K){return this.sendGet(`api/private/task/page/incoming/${O}`,k.cQ.prepareForHttpRequest(K))}getWireframeStages(O){return this.sendGet("api/private/wireframe/"+O+"/stages")}getCountIncomingTasks(){return this.sendGet("api/private/task/incoming/count",{})}getCountIncomingTasksByWireframeId(O){return this.sendGet("api/private/task/incoming/wireframe/"+O+"/count",{})}getCountTasksByWireframeIdByTags(O){return 0===O.length?(0,T.of)({}):this.sendGet("api/private/task/wireframe/by-tags/count",{wireframeIds:O})}getCountIncomingTasksByWireframeIdByTags(O){return 0===O.length?(0,T.of)({}):this.sendGet("api/private/task/incoming/wireframe/by-tags/count",{wireframeIds:O})}getCountAllTasksByWireframeId(O){return this.sendGet("api/private/task/wireframe/"+O+"/count",{})}getCountIncomingTasksByStages(O){return O?this.sendGet(`api/private/task/incoming/wireframe/${O}/by-stages/count`,{}):(0,T.of)({})}getCountTasksByStages(O){return O?this.sendGet(`api/private/task/wireframe/${O}/by-stages/count`,{}):(0,T.of)({})}getCountTasks(O={}){return this.sendPost("api/private/task/count",O)}getTagsListFromCatalog(O={}){return this.sendPost("api/private/tags/catalog/list",O)}getScheduledTask(O,K){return this.sendGet("api/private/task/list/scheduled",{start:O,end:K})}moveScheduledTask(O,K){return this.sendPatch(`api/private/task/${O}/scheduled/move`,K)}signOut(){return this.sendPost("api/public/sign-out",{}).pipe((0,u.b)(()=>{this.loggedIn=!1}))}deleteWireframe(O){return this.sendDelete(`api/private/wireframe/${O}`)}getTrackerParserState(){return this.sendGet("api/private/parser/tracker")}saveTrackerParserSettings(O){return this.sendPatch("api/private/parser/tracker/settings",O)}startTrackerParser(){return this.sendPost("api/private/parser/tracker/start",{})}stopTrackerParser(){return this.sendPost("api/private/parser/tracker/stop",{})}getAddressCorrectingPool(){return this.sendGet("api/private/parser/tracker/address-correcting-pool")}sendCorrectedAddress(O){return this.sendPost("api/private/parser/tracker/address-correcting-pool",O)}startAddressParse(){return this.sendPost("api/private/parser/addresses/start",{})}getAddressSuggestions(O,K,ue){return this.sendGet("api/private/suggestions/address",{query:O,isAcpConnected:K,isHouseOnly:ue})}getAddressSuggestionsAlt(O,K,ue,q){return this.sendGet("api/private/suggestions/address/alt",{streetId:O,query:K,isAcpConnected:ue,isHouseOnly:q})}getCountOfUnreadMessages(O){return this.sendGet("api/private/chat/"+O+"/messages/unread-count")}getPageOfPaidActions(O,K){return this.sendGet(`api/private/salary/paid-actions/${O}`,K)}getListAvailablePaidActions(){return this.sendGet("api/private/salary/paid-actions/available")}createPaidAction(O){return this.sendPost("api/private/salary/paid-action",O)}editPaidAction(O,K){return this.sendPatch("api/private/salary/paid-action/"+O,K)}deletePaidAction(O){return this.sendDelete("api/private/salary/paid-action/"+O)}getRootTreeOfWorks(O){return this.sendGet("api/private/salary/paid-works-tree/root",{groupsUndraggable:null!=O&&O})}getWorksOfGroup(O,K){return this.sendGet(`api/private/salary/paid-works-tree/${O}`,{groupsUndraggable:null!=K&&K})}treeWorksDragDrop(O){return this.sendPatch("api/private/salary/paid-works-tree/drag-drop",O)}createPaidWorkGroup(O){return this.sendPost("api/private/salary/paid-work-group",O)}editPaidWorkGroup(O,K){return this.sendPatch("api/private/salary/paid-work-group/"+O,K)}deletePaidWorkGroup(O){return this.sendDelete("api/private/salary/paid-work-group/"+O)}createPaidWork(O){return this.sendPost("api/private/salary/paid-work",O)}editPaidWork(O,K){return this.sendPatch("api/private/salary/paid-work/"+O,K)}deletePaidWork(O){return this.sendDelete("api/private/salary/paid-work/"+O)}getPaidWorkById(O){return this.sendGet("api/private/salary/paid-work/"+O)}paidWorkTreeReposition(O){return this.sendPatch("api/private/salary/paid-works-tree/reposition",O)}getUncalculatedWorkLogs(){return this.sendGet("api/private/work-log/uncalculated/list")}getAfterWorkList(){return this.sendGet("api/private/work-log/after-work/list")}getUncompletedReports(){return this.sendGet("api/private/uncompleted-reports")}sendWorkCalculation(O){return this.sendPost("api/private/salary/work-calculation",O)}sendBypassWorkCalculation(O){return this.sendPost("api/private/salary/work-calculation/bypass",O)}getSalaryTable(O){return this.sendGet("api/private/salary/table",O)}getBillingUsersByLogin(O,K){return this.sendGet("api/private/billing/users/by-login",{login:O,isActive:K})}getBillingUsersByFio(O,K){return this.sendGet("api/private/billing/users/by-fio",{query:O,isActive:K})}getBillingUsersByAddress(O,K){return this.sendGet("api/private/billing/users/by-address",{address:O,isActive:K})}getBillingUserInfo(O){return this.sendGet(`api/private/billing/user/${encodeURIComponent(O)}`)}getBillingUserEvents(O){return this.sendGet(`api/private/billing/user/${encodeURIComponent(O)}/events`)}updateBalance(O,K){return this.sendPost(`api/private/billing/user/${encodeURIComponent(O)}/update-balance`,K)}setDeferredPayment(O){return this.sendPost(`api/private/billing/user/${encodeURIComponent(O)}/deferred-payment`,{})}startUserService(O){return this.sendPost(`api/private/billing/user/${encodeURIComponent(O)}/start-service`,{})}stopUserService(O){return this.sendPost(`api/private/billing/user/${encodeURIComponent(O)}/stop-service`,{})}balanceReset(O,K){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(O)}/balance-reset`,K)}isLoginEnable(O){return this.sendGetSilent(`api/private/billing/user/${encodeURIComponent(O)}/is-enable`)}enableLogin(O){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(O)}/enable-login`,{})}changeUserAddress(O,K){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(O)}/change/address`,K)}changeUserFullName(O,K){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(O)}/change/full-name`,K)}changeUserPhone(O,K){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(O)}/change/phone`,K)}changeUserComment(O,K){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(O)}/change/comment`,K)}editUser(O,K){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(O)}/edit`,K)}convertBillingAddress(O){return this.sendGet("api/private/convert/billing-address-string",{addressString:O})}createCity(O){return this.sendPost("api/private/city",O)}editCity(O,K){return this.sendPatch(`api/private/city/${O}`,K)}deleteCity(O){return this.sendDelete(`api/private/city/${O}`)}createStreet(O,K){return this.sendPost(`api/private/city/${O}/street`,K)}editStreet(O,K){return this.sendPatch(`api/private/street/${O}`,K)}deleteStreet(O){return this.sendDelete(`api/private/street/${O}`)}createHouse(O,K){return this.sendPost(`api/private/street/${O}/house`,K)}editHouse(O,K){return this.sendPatch(`api/private/house/${O}`,K)}deleteHouse(O){return this.sendDelete(`api/private/house/${O}`)}getWorkingDay(O,K){return this.sendGet("api/private/working-day/",{date:O,login:K})}getAlreadyCalculatedWorkForm(O){return this.sendGet(`api/private/salary/already-calculated-work/${O}/form`)}getDhcpBindingsByLogin(O){return this.sendGet("api/private/acp/dhcp/bindings",{login:O})}getDhcpLogsByLogin(O,K=0){return this.sendGet(`api/private/acp/dhcp/binding/${O}/logs/${K}`,{})}getLastBindings(O,K,ue,q,G,j,fe,ne,J){return this.sendGet("api/private/acp/dhcp/bindings/"+O+"/last",{state:K,macaddr:ue,login:q,ip:G,vlan:j,buildingId:fe,commutator:ne,port:J})}getDhcpBindingsByVlan(O,K,ue){return this.sendGet("api/private/acp/vlan/"+K+"/dhcp/bindings/"+O,{excludeLogin:ue})}authDhcpBinding(O,K){return this.sendPost("api/private/acp/dhcp/binding/auth",{login:O,macaddr:K})}getNetworkConnectionLocationHistory(O){return this.sendGet("api/private/acp/dhcp/binding/"+O+"/ncl-history",{})}getBuildings(O){return this.sendGet("api/private/acp/buildings",{query:O})}getCommutators(O,K,ue,q){return this.sendGet("api/private/acp/commutators/"+O+"/page",{name:K,ip:ue,buildingId:q})}getCommutator(O){return this.sendGet("api/private/acp/commutator/"+O)}getCommutatorEditingPreset(O){return this.sendGet("api/private/acp/commutator/"+O+"/editing-preset")}searchCommutators(O){return this.sendGet("api/private/acp/commutators/search",{query:O})}getCommutatorModels(O){return this.sendGet("api/private/acp/commutator/models",{query:O})}getCommutatorModel(O){return this.sendGet(`api/private/acp/commutator/model/${O}`)}getBuildingAddress(O){return this.sendGet(`api/private/acp/building/${O}/address`)}checkCommutatorNameExist(O){return this.sendGet("api/private/acp/commutator/check-exist/name",{name:O})}checkCommutatorIpExist(O){return this.sendGet("api/private/acp/commutator/check-exist/ip",{ip:O})}checkRemoteControl(O){return this.sendGet(`api/private/remote-control/${O}/check-access`)}getDocumentTemplateTypes(){return this.sendGet("api/private/types/document-template")}getFieldDisplayTypes(){return this.sendGet("api/private/types/field-display")}getWireframeFieldTypesList(){return this.sendGet("api/private/types/wireframe-field")}getConnectionServicesList(){return this.sendGet("api/private/types/connection-service")}getConnectionServicesSuggestionsList(O){return this.sendGet("api/private/types/connection-service/suggestions",{query:O})}getBillingPaymentTypesList(){return this.sendGet("api/private/types/billing-payment-type")}getConnectionTypesList(){return this.sendGet("api/private/types/connection-type")}getAdSourcesList(){return this.sendGet("api/private/types/advertising-source")}getFilesSortingTypes(){return this.sendGet("api/private/types/files-sorting")}getBillingConfiguration(){return this.sendGet("api/private/billing/configuration")}getTelegramConfiguration(){return this.sendGet("api/private/configuration/telegram")}getAcpConfiguration(){return this.sendGet("api/private/acp/configuration")}setBillingConfiguration(O){return this.sendPost("api/private/billing/configuration",O)}setTelegramConfiguration(O){return this.sendPost("api/private/configuration/telegram",O)}setAcpConfiguration(O){return this.sendPatch("api/private/acp/configuration",O)}getClientEquipments(O,K){return this.sendGet("api/private/client-equipments",{query:O,isDeleted:K})}getClientEquipmentsSuggestions(O){return this.sendGet("api/private/client-equipments/suggestions",{query:O})}createClientEquipment(O){return this.sendPost("api/private/client-equipment",O)}editClientEquipment(O,K){return this.sendPatch(`api/private/client-equipment/${O}`,K)}deleteClientEquipment(O){return this.sendDelete(`api/private/client-equipment/${O}`)}createCommutator(O){return this.sendPost("api/private/acp/commutator",O)}editCommutator(O,K){return this.sendPatch(`api/private/acp/commutator/${O}`,K)}deleteCommutator(O){return this.sendDelete(`api/private/acp/commutator/${O}`)}commutatorRemoteUpdate(O){return this.sendPost(`api/private/acp/commutator/${O}/get-remote-update`,{})}commutatorRemoteUpdateByVlan(O){return this.sendPost(`api/private/acp/commutators/vlan/${O}/get-remote-update`,{})}fdbTableByPort(O){return this.sendGet(`api/private/acp/commutator/port/${O}/fdb`)}getCommutatorsByVlan(O){return this.sendGet(`api/private/acp/commutators/vlan/${O}`)}getTopology(){return this.sendGet("api/private/acp/topology")}getBuilding(O){return this.sendGet("api/private/acp/building/"+O)}getCommutatorsByBuildingId(O){return this.sendGet("api/private/acp/building/"+O+"/commutators")}getBindingsByLogin(O,K,ue){return this.sendPost("api/private/acp/user/"+O+"/bindings/"+K,ue)}getBindingsByVlan(O,K,ue){return this.sendPost("api/private/acp/vlan/"+O+"/bindings/"+K,ue)}getBindingsByBuildingId(O,K,ue){return this.sendPost("api/private/acp/building/"+O+"/bindings/"+K,ue)}getBindingsFromBuildingByLogin(O,K,ue){return this.sendPost("api/private/acp/user/"+O+"/bindings-from-building/"+K,ue)}getBindingsByCommutator(O,K,ue){return this.sendPost(`api/private/acp/commutator/${O}/bindings/${K}`,ue)}getActiveBindingByLogin(O){return this.sendGet("api/private/acp/user/"+O+"/active-binding")}getBuildingIdByVlan(O){return this.sendGet("api/private/acp/vlan/"+O+"/building-id")}getUserBriefInfo(O){return this.sendGet(`api/private/acp/user/${O}/brief-info`)}getBulkUserBriefInfo(O){return this.sendPost("api/private/acp/user/brief-info/bulk",O)}getCountingLivesCalculation(O){return this.sendPost("api/private/billing/counting-lives",O)}attachToTask(O,K,ue){return this.sendPost(`api/private/chat/${K}/message/${O}/attach-to-task`,{description:ue})}getFilesSuggestions(O){return this.sendGet("api/private/files/suggestions",{query:O})}getFilesRoot(O){return this.sendGet("api/private/files/root",{sortingType:O})}getFilesDirectory(O,K){return this.sendGet(`api/private/files/directory/${O}`,{sortingType:K})}filesMoveTo(O,K){return this.sendPatch("api/private/files/move-to",{target:O,source:K})}filesCopyTo(O,K){return this.sendPatch("api/private/files/copy-to",{target:O,source:K})}filesDelete(O){return this.sendDelete(`api/private/files/delete/${O}`)}filesRename(O,K){return this.sendPatch("api/private/files/rename",{id:O,name:K})}filesCreateDirectory(O,K){return this.sendPost("api/private/files/create-directory",{parentDirectoryId:K,name:O})}filesUpload(O){return this.sendPost("api/private/files/load",O)}searchFiles(O,K){return this.sendGet("api/private/files/search",{query:O,sortingType:K})}createPhyPhoneBind(O){return this.sendPatch("api/private/employee/phy-phone-bind/create",O)}removePhyPhoneBind(O){return this.sendDelete(`api/private/employee/${O}/phy-phone-bind/remove`)}getPhyPhoneModelsTypes(){return this.sendGet("api/private/types/phy-phone-models")}callToPhone(O){return this.sendPost("api/private/call-to-phone",{phoneNumber:O})}setPhyPhoneBind(O){return this.sendPatch(`api/private/employee/phy-phone/${O}/bind`,{})}getPhyPhoneList(){return this.sendGet("api/private/phy-phone-list")}getOldTrackerClasses(){return this.sendGet("api/private/ot/classes")}changeTaskStageInOldTracker(O,K){return this.sendPatch(`api/private/task/${O}/old-tracker-stage/${K}/change`,{})}createUserInBilling(O,K=!1){return this.sendPost("api/private/billing/user/create",{modelItemId:O,isOrg:K})}getBillingUserTariffs(O){return this.sendGet(`api/private/billing/user/${O}/tariffs`)}getBillingUserServices(O){return this.sendGet(`api/private/billing/user/${O}/services`)}appendServiceToBillingUser(O,K){return this.sendPatch(`api/private/billing/user/${K}/service/${O}/append`,{})}removeServiceFromBillingUser(O,K){return this.sendPatch(`api/private/billing/user/${K}/service/${O}/remove`,{})}changeTariffInBillingUser(O,K){return this.sendPatch(`api/private/billing/user/${K}/tariff/${O}`,{})}makePayment(O,K){return this.sendPost(`api/private/billing/user/${O}/make-payment`,K)}makeRecalculation(O,K){return this.sendPost(`api/private/billing/user/${O}/make-recalculation`,K)}markWorkLogAsCompleted(O,K){return this.sendPatch(`api/private/work-log/${O}/mark-as-completed`,K)}markWorkLogAsUncompleted(O){return this.sendPatch(`api/private/work-log/${O}/mark-as-uncompleted`,{})}markWorkLogAsUncompletedAndClose(O){return this.sendPatch(`api/private/work-log/${O}/mark-as-uncompleted-and-close`,{})}getWorkLogsUnconfirmedContracts(O,K){return this.sendPost(`api/private/work-log/unconfirmed-contracts/${O}`,K)}getEmployeeWorkLogs(){return this.sendGet("api/private/work-log/employee-work-log/list")}getContractTypesList(){return this.sendGet("api/private/contract/type/list")}getContractTypesSuggestionList(O){return this.sendGet("api/private/contract/type/suggestion/list",{query:O})}createContractType(O){return this.sendPost("api/private/contract/type",O)}updateContractType(O,K){return this.sendPatch(`api/private/contract/type/${O}`,K)}removeContractType(O){return this.sendDelete(`api/private/contract/type/${O}`)}markContractsAsReceived(O){return this.sendPatch("api/private/contract/mark/received",O)}markContractsAsArchived(O){return this.sendPatch("api/private/contract/mark/archived",O)}getEmployeeWorkStatistics(O){return this.sendPost("api/private/statistics/employee-work",O)}sendDataToTelnetSession(O,K){return this.sendPost(`api/private/remote/telnet/${O}`,K)}connectToTelnetSession(O){return this.sendPost("api/private/remote/telnet/connect",O)}getTaskRegistryTableHeaders(O,K){return this.sendGet(`api/private/task/registry/headers/${O}/${K}`)}getTaskRegistryTableContent(O,K,ue){return this.sendPost(`api/private/task/registry/content/${O}/${K}`,ue)}sendGet(O,K){var ue=this;for(let j in K)null==K[j]&&delete K[j];const q=this.generateHash(O,K);let G=null;return this.requestCacheMap[q]?G=this.requestCacheMap[q]:(G=this.client.get(O,{params:K}).pipe((0,y.B)(),(0,D.K)(function(){var j=(0,e.Z)(function*(fe,ne){throw ue.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:fe.error.message}),fe});return function(fe,ne){return j.apply(this,arguments)}}())),this.requestCacheMap[q]=G,setTimeout(()=>{delete this.requestCacheMap[q]},1e4)),G}sendGetSilent(O,K){for(let G in K)null==K[G]&&delete K[G];const ue=this.generateHash(O,K);let q=null;return this.requestCacheMap[ue]?q=this.requestCacheMap[ue]:(q=this.client.get(O,{params:K}).pipe((0,y.B)()),this.requestCacheMap[ue]=q,setTimeout(()=>{delete this.requestCacheMap[ue]},1e4)),q}sendPost(O,K){var ue=this;return this.client.post(O,K).pipe((0,D.K)(function(){var q=(0,e.Z)(function*(G,j){throw ue.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:G.error.message}),G});return function(G,j){return q.apply(this,arguments)}}()))}sendPatch(O,K){return this.client.patch(O,K).pipe((0,D.K)((ue,q)=>{throw this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:ue.error.message}),ue}))}sendDelete(O){var K=this;return this.client.delete(O).pipe((0,D.K)(function(){var ue=(0,e.Z)(function*(q,G){throw K.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:q.error.message}),q});return function(q,G){return ue.apply(this,arguments)}}()))}generateHash(O,K){return(0,k.d4)(O+JSON.stringify(K),0)}}return z.\u0275fac=function(O){return new(O||z)(B.LFG(N.eN),B.LFG(ce.ez))},z.\u0275prov=B.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})()},6768:(hn,ht,b)=>{"use strict";b.d(ht,{A:()=>d});var e=b(5e3);let d=(()=>{class u{constructor(){this.blocked=!1,this.message="",this.isWait=!1,this.icon="",this.styleClass="",this.zIndex=0,this.pos="center"}get align(){switch(this.pos){case"center":case"left":case"right":return"center";case"top":case"top-left":case"top-right":return"flex-start";case"bottom":case"bottom-left":case"bottom-right":return"flex-end"}}get justify(){switch(this.pos){case"center":case"top":case"bottom":return"center";case"left":case"top-left":case"bottom-left":return"flex-start";case"right":case"top-right":case"bottom-right":return"flex-end"}}wait(_){var P,x,a,R;this.blocked=!0,this.isWait=!0,this.message=null!==(P=null==_?void 0:_.message)&&void 0!==P?P:"",this.styleClass=null!==(x=null==_?void 0:_.styleClass)&&void 0!==x?x:"",this.zIndex=null!==(a=null==_?void 0:_.zIndex)&&void 0!==a?a:0,this.icon="",this.pos=null!==(R=null==_?void 0:_.pos)&&void 0!==R?R:"center"}block(_){var P,x,a,R,L;this.blocked=!0,this.isWait=!1,this.message=null!==(P=null==_?void 0:_.message)&&void 0!==P?P:"",this.styleClass=null!==(x=null==_?void 0:_.styleClass)&&void 0!==x?x:"",this.zIndex=null!==(a=null==_?void 0:_.zIndex)&&void 0!==a?a:0,this.icon=null!==(R=null==_?void 0:_.icon)&&void 0!==R?R:"",this.pos=null!==(L=null==_?void 0:_.pos)&&void 0!==L?L:"center"}unblock(){this.blocked=!1}}return u.\u0275fac=function(_){return new(_||u)},u.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},9014:(hn,ht,b)=>{"use strict";b.d(ht,{a:()=>P});var e=b(5e3),d=b(8738),u=b(8007),f=b(8028),_=b(9783);let P=(()=>{class x{constructor(R,L,V,F){this.api=R,this.rt=L,this.personality=V,this.messageService=F,this.chats=[],this.open=new e.vpe,this.notificationAudios={loud:new Audio("/assets/audio/notify/loud-notify.mp3"),quiet:new Audio("/assets/audio/notify/quiet-notify.mp3")},V.userLogin$.subscribe(T=>{this.rt.chatCreated(T).subscribe(this.createChat.bind(this)),this.rt.chatMessageCreated(T).subscribe(y=>{y.parentChatId!==this.currentOpenChat?(this.notificationAudios.loud.paused&&this.notificationAudios.loud.play().then(),this.messageService.add({key:"chatMessage",severity:"chatmsg",data:y,life:3e4})):this.notificationAudios.quiet.paused&&this.notificationAudios.quiet.play().then()})}),this.rt.chatUpdated().subscribe(this.updateChat.bind(this)),this.rt.chatClosed().subscribe(this.closeChat.bind(this)),this.open.subscribe(()=>this.messageService.clear("chatMessage"))}createChat(R){this.chats.push(R)}updateChat(R){const L=this.chats.findIndex(V=>V.chatId===R.chatId);-1!=L&&(this.chats[L]=R)}closeChat(R){const L=this.chats.findIndex(V=>V.chatId===R.chatId);-1!=L&&this.chats.splice(L,1)}getChats(){this.api.getMyActiveChats().subscribe(R=>{this.chats=R;for(const L of R);})}}return x.\u0275fac=function(R){return new(R||x)(e.LFG(d.s),e.LFG(u.U),e.LFG(f.F),e.LFG(_.ez))},x.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})()},963:(hn,ht,b)=>{"use strict";b.d(ht,{f:()=>u});var e=b(383),d=b(5e3);let u=(()=>{class f{constructor(){this.cachingMap={};const P=e.Ke.loadOrDefault("commentCaching","{}");this.cachingMap=JSON.parse(P)}read(P){var x;return null!==(x=this.cachingMap[P])&&void 0!==x?x:""}write(P,x){""!==x?(this.cachingMap[P]=x,e.Ke.save("commentCaching",JSON.stringify(this.cachingMap))):this.flush(P)}flush(P){delete this.cachingMap[P],e.Ke.save("commentCaching",JSON.stringify(this.cachingMap))}}return f.\u0275fac=function(P){return new(P||f)},f.\u0275prov=d.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},1514:(hn,ht,b)=>{"use strict";b.d(ht,{r:()=>f});var e=b(5e3),d=b(9808),u=b(3470);let f=(()=>{class _{constructor(x,a){this.location=x,this.router=a}backOrDefault(x){1!==this.location.getState().navigationId?this.location.back():this.router.navigate(x).then()}}return _.\u0275fac=function(x){return new(x||_)(e.LFG(d.Ye),e.LFG(u.F0))},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},3064:(hn,ht,b)=>{"use strict";b.d(ht,{E:()=>u});var e=b(7579),d=b(5e3);let u=(()=>{class f{constructor(){this.mediaEmitter$=new e.x,this.mediaAlbumEmitter$=new e.x}showMedia(P){this.mediaEmitter$.next(P)}showMediaAlbum(P,x){this.mediaAlbumEmitter$.next({index:P,album:x})}media(){return this.mediaEmitter$.pipe()}mediaAlbum(){return this.mediaAlbumEmitter$.pipe()}}return f.\u0275fac=function(P){return new(P||f)},f.\u0275prov=d.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},9744:(hn,ht,b)=>{"use strict";b.d(ht,{T:()=>R});var e=b(7384),d=b(8028),u=b(3900),f=b(5e3),_=b(8738),P=b(8007),a=(()=>{return(L=a||(a={}))[L.ALL=0]="ALL",L[L.UNREAD=1]="UNREAD",a;var L})();let R=(()=>{class L{constructor(F,T,y){this.api=F,this.rt=T,this.personality=y,this.receivedNotifications=[],this.timers={},this.displaySideBar=!1,this.unreadCount=0,this.notificationViewMode=a.UNREAD,this.titles={[e.k$.NEW_COMMENT]:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",[e.k$.TASK_CREATED]:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430",[e.k$.TASK_EDITED]:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u044b \u0434\u0435\u0442\u0430\u043b\u0438 \u0437\u0430\u0434\u0430\u0447\u0438",[e.k$.TASK_DELETED]:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430",[e.k$.TASK_CLOSED]:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0430",[e.k$.TASK_REOPENED]:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0432\u043e\u0437\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430",[e.k$.TASK_PROCESSED]:"\u0417\u0430\u0434\u0430\u0447\u0430 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430",[e.k$.TASK_STAGE_CHANGED]:"\u0422\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d",[e.k$.YOU_OBSERVER]:"\u0412\u044b \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044c",[e.k$.YOU_RESPONSIBLE]:"\u0412\u044b \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439",[e.k$.TASK_HAS_BECOME_ACTUAL]:"\u0410\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430\u044f",[e.k$.TASK_EXPIRED]:"\u0421\u0440\u043e\u043a \u0438\u0441\u0442\u0435\u043a",[e.k$.WORKS_COMPLETED]:"\u0420\u0430\u0431\u043e\u0442\u044b \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b",[e.k$.REPORT_RECEIVED]:"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d",[e.k$.MENTIONED_IN_TASK]:"\u0412\u0430\u0441 \u0443\u043f\u043e\u043c\u044f\u043d\u0443\u043b\u0438"},this.icons={[e.k$.NEW_COMMENT]:"mdi-add_comment",[e.k$.TASK_CREATED]:"mdi-add_task",[e.k$.TASK_EDITED]:"mdi-edit",[e.k$.TASK_DELETED]:"mdi-delete",[e.k$.TASK_CLOSED]:"mdi-swipe_down_alt",[e.k$.TASK_REOPENED]:"mdi-swipe_up_alt",[e.k$.TASK_PROCESSED]:"mdi-how_to_reg",[e.k$.TASK_STAGE_CHANGED]:"mdi-next_week",[e.k$.YOU_OBSERVER]:"mdi-visibility",[e.k$.YOU_RESPONSIBLE]:"mdi-person",[e.k$.TASK_HAS_BECOME_ACTUAL]:"mdi-event_available",[e.k$.TASK_EXPIRED]:"mdi-event_busy",[e.k$.WORKS_COMPLETED]:"mdi-fact_check",[e.k$.REPORT_RECEIVED]:"mdi-edit_note",[e.k$.MENTIONED_IN_TASK]:"mdi-campaign"},this.notificationAudios={loud:new Audio("/assets/audio/notify/loud-notify.mp3"),quiet:new Audio("/assets/audio/notify/quiet-notify.mp3")},this.api.getCountOfUnreadNotifications().subscribe({next:D=>{this.unreadCount=D}}),this.load(),y.userLogin$.pipe((0,u.w)(D=>this.rt.notificationCreated(D))).subscribe(this.createNotificationHandler.bind(this)),y.userLogin$.pipe((0,u.w)(D=>this.rt.notificationUpdated(D))).subscribe(this.updateNotificationHandler.bind(this)),Notification.requestPermission().then(D=>console.log(D))}get isEmpty(){var F;return!(null!==(F=this.notifications)&&void 0!==F&&F.content)||0===this.notifications.content.length}get list(){var F,T;return null!==(T=null===(F=this.notifications)||void 0===F?void 0:F.content)&&void 0!==T?T:[]}get isLast(){var F,T;return null!==(T=null===(F=this.notifications)||void 0===F?void 0:F.last)&&void 0!==T&&T}get isHasUnread(){return this.unreadCount>0}showSideBar(){this.displaySideBar=!0,this.receivedNotifications=[],Object.entries(this.timers).forEach(([F,T])=>{clearTimeout(T),delete this.timers[parseInt(F)]})}changeNotificationViewMode(F){this.notificationViewMode=F,this.notifications=void 0,this.load()}readAllNotifications(){this.isHasUnread&&this.api.readAllNotifications().subscribe({next:()=>{this.unreadCount=0,this.notifications=void 0}}),this.notificationViewMode=a.UNREAD,this.notifications=void 0}load(){this.notifications?this.api.getNotifications(this.notifications.pageable.offset+25,25,this.notificationViewMode===a.UNREAD).subscribe({next:F=>{var T,y;F.content=[...null!==(y=null===(T=this.notifications)||void 0===T?void 0:T.content)&&void 0!==y?y:[],...F.content],this.notifications=F}}):this.api.getNotifications(0,25,this.notificationViewMode===a.UNREAD).subscribe({next:F=>{this.notifications=F}})}suspendClosing(F){!this.timers[F]||(clearTimeout(this.timers[F]),delete this.timers[F])}resumeClosure(F){this.timers[F]||(this.timers[F]=setTimeout(()=>{this.receivedNotifications=this.receivedNotifications.filter(T=>T.notificationId!==F),delete this.timers[F]},1e4))}close(F){this.timers[F]&&(clearTimeout(this.timers[F]),delete this.timers[F]),this.receivedNotifications=this.receivedNotifications.filter(T=>T.notificationId!==F)}playNotifySound(){this.personality.focusStatus===d.P.FOCUS?this.notificationAudios.quiet.paused&&this.notificationAudios.quiet.play().then():this.notificationAudios.loud.paused&&this.notificationAudios.loud.play().then()}showExternalNotification(F){new Notification(this.titles[F.type],{body:F.message})}createNotificationHandler(F){var T,y,D;this.displaySideBar||(this.receivedNotifications.unshift(F),this.timers[F.notificationId]=setTimeout(()=>{this.receivedNotifications=this.receivedNotifications.filter(k=>k.notificationId!==F.notificationId),delete this.timers[F.notificationId]},1e4)),this.unreadCount++,this.personality.focusStatus===d.P.BLUR&&this.showExternalNotification(F),this.playNotifySound(),null!==(T=this.notifications)&&void 0!==T&&T.content&&(this.notifications.content.find(k=>k.notificationId===F.notificationId)||null===(D=null===(y=this.notifications)||void 0===y?void 0:y.content)||void 0===D||D.unshift(F))}updateNotificationHandler(F){var T;if(null===(T=this.notifications)||void 0===T||!T.content)return;const y=this.notifications.content.findIndex(D=>D.notificationId===F.notificationId);-1!==y&&(this.notifications.content[y]=F)}}return L.\u0275fac=function(F){return new(F||L)(f.LFG(_.s),f.LFG(P.U),f.LFG(d.F))},L.\u0275prov=f.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})()},8028:(hn,ht,b)=>{"use strict";b.d(ht,{P:()=>$,F:()=>z});var e=b(7384),d=b(1135),u=b(9300),f=b(4782),_=b(1884),P=b(4004),x=b(4968),a=b(8505);function R(S){this.message=S}(R.prototype=new Error).name="InvalidCharacterError";var L="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(S){var O=String(S).replace(/=+$/,"");if(O.length%4==1)throw new R("'atob' failed: The string to be decoded is not correctly encoded.");for(var K,ue,q=0,G=0,j="";ue=O.charAt(G++);~ue&&(K=q%4?64*K+ue:ue,q++%4)?j+=String.fromCharCode(255&K>>(-2*q&6)):0)ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(ue);return j};function F(S){this.message=S}(F.prototype=new Error).name="InvalidTokenError";var D=b(6309),k=b(5e3),B=b(8738),N=b(8007),ce=b(3470),$=(()=>{return(S=$||($={})).FOCUS="FOCUS",S.NO_TOUCH="NO_TOUCH",S.BLUR="BLUR",$;var S})();let z=(()=>{class S{constructor(K,ue,q){this.api=K,this.rt=ue,this.router=q,this.focusStatus=$.BLUR,this.onGettingUserData=new d.X(null),this.userData$=this.onGettingUserData.pipe((0,u.h)(G=>!!G),(0,f.d)(1)),this.userLogin$=this.userData$.pipe((0,_.x)((G,j)=>(null==G?void 0:G.login)===(null==j?void 0:j.login)),(0,P.U)(G=>G.login),(0,f.d)(1)),this.lastTouch=0,this.updateMe().subscribe(),(0,x.R)(window,"focus").subscribe(G=>{!this.api.loggedIn||(this.focusStatus=$.FOCUS,this.api.changeMyStatus(e.LE.ONLINE).subscribe())}),(0,x.R)(window,"blur").subscribe(G=>{!this.api.loggedIn||(this.focusStatus=$.BLUR,this.api.changeMyStatus(e.LE.AWAY).subscribe())}),(0,x.R)(document,"mousemove").subscribe(()=>{this.lastTouch=(new Date).getTime()}),setInterval(()=>{!this.api.loggedIn||(new Date).getTime()-this.lastTouch>3e4&&this.focusStatus===$.FOCUS&&(this.focusStatus=$.NO_TOUCH,this.api.changeMyStatus(e.LE.AWAY).subscribe())},1e3),setInterval(()=>{const G=(new Date).getTime(),j=localStorage.getItem("token");j&&1e3*function T(S,O){if("string"!=typeof S)throw new F("Invalid token specified");var K=!0===(O=O||{}).header?0:1;try{return JSON.parse(function V(S){var O=S.replace(/-/g,"+").replace(/_/g,"/");switch(O.length%4){case 0:break;case 2:O+="==";break;case 3:O+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(L(O).replace(/(.)/g,function(ue,q){var G=q.charCodeAt(0).toString(16).toUpperCase();return G.length<2&&(G="0"+G),"%"+G}))}catch(K){return L(O)}}(S.split(".")[K]))}catch(ue){throw new F("Invalid token specified: "+ue.message)}}(j).exp-G<3e4&&(this.api.authCheckout().subscribe(),console.log("\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u043e\u043a\u0435\u043d\u0430"))},1e4)}updateMe(){return this.api.getMe().pipe((0,a.b)({next:K=>{this.me=K,this.onGettingUserData.next(K),this.meUpdate&&this.meUpdate.unsubscribe(),this.meUpdate=this.rt.employeeUpdated(K.login).subscribe(ue=>{this.me=ue,this.onGettingUserData.next(ue)})}}))}isHasAccess(...K){var ue;return!!this.me&&(this.me.access?D.j.isHasFlag(this.me.access,...K):!(null===(ue=this.me.position)||void 0===ue||!ue.access)&&D.j.isHasFlag(this.me.position.access,...K))}}return S.\u0275fac=function(K){return new(K||S)(k.LFG(B.s),k.LFG(N.U),k.LFG(ce.F0))},S.\u0275prov=k.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},8007:(hn,ht,b)=>{"use strict";b.d(ht,{U:()=>L});var e=b(8746),d=b(3099),u=b(4004),f=b(383),_=b(9814),P=b(5111),x=b(5e3),a=b(6073),R=b(6768);let L=(()=>{class V{constructor(T,y){this.stomp=T,this.blockUiService=y,this.watchCacheMap={},this.connectionState$=this.stomp.connectionState$;const D={message:"\u041f\u043e\u0442\u0435\u0440\u044f\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c",styleClass:"text-red-400",icon:"mds-error",pos:"bottom"};this.connectionState$.subscribe({next:k=>{k===P.U.OPEN?this.blockUiService.unblock():this.blockUiService.block(D)},error:()=>this.blockUiService.block(D)})}commentCreated(T){return this.watch("task",T.toString(),"comment","create")}commentUpdated(T){return this.watch("task",T.toString(),"comment","update")}commentDeleted(T){return this.watch("task",T.toString(),"comment","delete")}taskEventCreated(T){return this.watch("task",T.toString(),"event","create")}employeeCreated(){return this.watch("employee","create")}employeeUpdated(T){return T?this.watch("employee",T,"update"):this.watch("employee","update")}employeeDeleted(){return this.watch("employee","delete")}departmentCreated(){return this.watch("department","create")}departmentUpdated(T){return T?this.watch("department",T.toString(),"update"):this.watch("department","update")}departmentDeleted(){return this.watch("department","delete")}positionCreated(){return this.watch("position","create")}positionUpdated(T){return T?this.watch("position",T.toString(),"update"):this.watch("position","update")}positionDeleted(){return this.watch("position","delete")}taskTagCreated(){return this.watch("task-tag","create")}taskTagUpdated(){return this.watch("task-tag","update")}taskTagDeleted(){return this.watch("task-tag","delete")}taskUpdated(T){return T?this.watch("task",T.toString(),"update"):this.watch("task","update")}taskDeleted(T){return T?this.watch("task",T.toString(),"delete"):this.watch("task","delete")}taskCreated(){return this.watch("task","create")}taskMoved(){return this.watch("task","moved")}incomingTaskCreated(T){return this.watchUnicast(T,"task","create")}incomingTaskDeleted(T){return this.watchUnicast(T,"task","delete")}notificationCreated(T){return this.watchUnicast(T,"notification","create")}notificationUpdated(T){return this.watchUnicast(T,"notification","update")}chatMessageCreated(T){return this.watchUnicast(T,"chat","message","create")}chatMessageCreatedByChat(T){return this.watch("chat",T.toString(),"message","create")}chatMessageUpdated(T){return this.watch("chat",T.toString(),"message","update")}chatMessageDeleted(T){return this.watch("chat",T.toString(),"message","delete")}updateTrackerParserState(){return this.watch("parser","tracker","update")}parserMessageReceived(){return this.watch("parser","message")}updateCountUnreadMessages(T){return this.watchUnicast(T,"chat","message","unread")}chatCreated(T){return this.watchUnicast(T,"chat","create")}chatUpdated(){return this.watch("chat","update")}chatClosed(){return this.watch("chat","close")}workLogCreated(){return this.watch("worklog","create")}workLogUpdated(T){return T?this.watch("work-log",T.toString(),"update"):this.watch("worklog","update")}workLogClosed(){return this.watch("worklog","close")}workLogDeleted(T){return T?this.watch("work-log",T.toString(),"delete"):this.watch("worklog","delete")}wireframeCreated(){return this.watch("wireframe","create")}wireframeUpdated(T){return T?this.watch("wireframe",T.toString(),"update"):this.watch("wireframe","update")}wireframeDeleted(T){return T?this.watch("wireframe",T.toString(),"delete"):this.watch("wireframe","delete")}paidActionCreated(){return this.watch("paid-action","create")}paidActionUpdated(T){return T?this.watch("paid-action",T.toString(),"update"):this.watch("paid-action","update")}paidActionDeleted(T){return T?this.watch("paid-action",T.toString(),"delete"):this.watch("paid-action","delete")}paidWorksTreeMoved(){return this.watch("paid-works","tree","move")}paidWorksTreeUpdated(){return this.watch("paid-works","tree","update")}paidWorksTreeCreated(){return this.watch("paid-works","tree","create")}paidWorksTreeDeleted(){return this.watch("paid-works","tree","delete")}worksTreeReposition(){return this.watch("paid-works","tree","reposition")}paidWorkUpdated(T){return T?this.watch("paid-work",T.toString(),"update"):this.watch("paid-work","update")}cityCreated(){return this.watch("city","create")}cityUpdated(T){return T?this.watch("city",T.toString(),"update"):this.watch("city","update")}cityDeleted(T){return T?this.watch("city",T.toString(),"delete"):this.watch("city","delete")}streetCreated(){return this.watch("street","create")}streetUpdated(T){return T?this.watch("street",T.toString(),"update"):this.watch("street","update")}streetDeleted(T){return T?this.watch("street",T.toString(),"delete"):this.watch("street","delete")}houseCreated(){return this.watch("house","create")}houseUpdated(T){return T?this.watch("house",T.toString(),"update"):this.watch("house","update")}houseDeleted(T){return T?this.watch("house",T.toString(),"delete"):this.watch("house","delete")}billingUserUpdated(T){return T?this.watch("billing","user",T,"update"):this.watch("billing","user","update")}pingMonitoring(T){return this.watch("monitoring","ping",T)}billingConfigChanged(){return this.watch("billing-config","change")}telegramConfigChanged(){return this.watch("telegram-config","change")}acpConfigChanged(){return this.watch("acp-config","change")}salaryTableUpdated(){return this.watch("salary-table","update")}clientEquipmentsCreated(){return this.watch("client-equipment","create")}clientEquipmentsUpdated(){return this.watch("client-equipment","update")}clientEquipmentsDeleted(){return this.watch("client-equipment","delete")}acpDhcpBindingUpdated(){return this.watch("acp","dhcp-binding","update")}acpDhcpBindingHousePageUpdateSignal(){return this.watch("acp","dhcp-binding","house-page","update")}acpCommutatorStatusUpdated(){return this.watch("acp","commutator","status","update")}acpCommutatorCreated(){return this.watch("acp","commutator","create")}acpCommutatorUpdated(){return this.watch("acp","commutator","update")}acpCommutatorDeleted(){return this.watch("acp","commutator","delete")}acpCommutatorsRemoteUpdatePool(){return this.watch("acp","commutator","remote-update-pool")}acpBaseCommutatorCreated(){return this.watch("acp","commutator","base","create")}acpBaseCommutatorUpdated(){return this.watch("acp","commutator","base","update")}acpBaseCommutatorDeleted(){return this.watch("acp","commutator","base","delete")}watchUnicast(...T){return this.getObservable("user",...T)}watch(...T){return this.getObservable("api",...T)}getObservable(T,...y){const D=`/${T}/${y.join("/")}`,k=this.generateHash(D);let B=null;return this.watchCacheMap[k]?B=this.watchCacheMap[k]:(B=this.stomp.watch(D).pipe((0,e.x)(this.deleteFromCache.bind(this,D)),(0,d.B)(),(0,u.U)(N=>JSON.parse(N.body))),this.watchCacheMap[k]=B),B}generateHash(T){return(0,f.d4)(T,0)}deleteFromCache(T){delete this.watchCacheMap[T]}incomingTaskCountChange(T){return this.watchUnicast(T,"task","count","change")}taskCountChange(){return this.watch("task","count","change")}updateTaskCount(T,y,D,k,B,N,ce,$,z,S){var O,K,ue;const q=_.d.convertToPath([T.toLowerCase(),null!=y?y:null,null!=D?D:null,null!=k?k:null,null!=B?B:null,null!=N?N:null,null!==(O=null==ce?void 0:ce.timeFrame)&&void 0!==O?O:null,null!==(K=null==$?void 0:$.timeFrame)&&void 0!==K?K:null,null!==(ue=null==z?void 0:z.timeFrame)&&void 0!==ue?ue:null,null!=S?S:null]);return this.watch("task","counter",...q)}incomingTagTaskCountChange(T){return this.watchUnicast(T,"task","tag","count","change")}tagTaskCountChange(){return this.watch("task","tag","count","change")}updateFilesDirectory(){return this.watch("files","directory","update")}afterWorksAppend(T){return this.watchUnicast(T,"after-work","append")}afterWorksRemoved(T){return this.watchUnicast(T,"after-work","remove")}createTypeOfContract(){return this.watch("contract","type","create")}updateTypeOfContract(){return this.watch("contract","type","update")}deleteTypeOfContract(){return this.watch("contract","type","delete")}updatingMarkedContracts(){return this.watch("contract","marked","update")}remoteTelnetConnection(T,y){return this.watch("remote","telnet",T,y)}telnetConnectionMessage(T){return this.watchUnicast(T,"remote","telnet","connection-message")}}return V.\u0275fac=function(T){return new(T||V)(x.LFG(a.f),x.LFG(R.A))},V.\u0275prov=x.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})()},6073:(hn,ht,b)=>{"use strict";b.d(ht,{f:()=>ue});var e=b(5861),d=b(1135),u=b(9300),f=b(7579),_=b(9751),P=b(5698),x=b(3099),a=b(3905);const R_LF="\n",R_NULL="\0";class L{constructor(G){const{command:j,headers:fe,body:ne,binaryBody:J,escapeHeaderValues:X,skipContentLengthHeader:W}=G;this.command=j,this.headers=Object.assign({},fe||{}),J?(this._binaryBody=J,this.isBinaryBody=!0):(this._body=ne||"",this.isBinaryBody=!1),this.escapeHeaderValues=X||!1,this.skipContentLengthHeader=W||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody}static fromRawFrame(G,j){const fe={},ne=J=>J.replace(/^\s+|\s+$/g,"");for(const J of G.headers.reverse()){J.indexOf(":");const W=ne(J[0]);let Y=ne(J[1]);j&&"CONNECT"!==G.command&&"CONNECTED"!==G.command&&(Y=L.hdrValueUnEscape(Y)),fe[W]=Y}return new L({command:G.command,headers:fe,binaryBody:G.binaryBody,escapeHeaderValues:j})}toString(){return this.serializeCmdAndHeaders()}serialize(){const G=this.serializeCmdAndHeaders();return this.isBinaryBody?L.toUnit8Array(G,this._binaryBody).buffer:G+this._body+R_NULL}serializeCmdAndHeaders(){const G=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const j of Object.keys(this.headers||{})){const fe=this.headers[j];G.push(this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?`${j}:${L.hdrValueEscape(`${fe}`)}`:`${j}:${fe}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&G.push(`content-length:${this.bodyLength()}`),G.join(R_LF)+R_LF+R_LF}isBodyEmpty(){return 0===this.bodyLength()}bodyLength(){const G=this.binaryBody;return G?G.length:0}static sizeOfUTF8(G){return G?(new TextEncoder).encode(G).length:0}static toUnit8Array(G,j){const fe=(new TextEncoder).encode(G),ne=new Uint8Array([0]),J=new Uint8Array(fe.length+j.length+ne.length);return J.set(fe),J.set(j,fe.length),J.set(ne,fe.length+j.length),J}static marshall(G){return new L(G).serialize()}static hdrValueEscape(G){return G.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(G){return G.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")}}class D{constructor(G,j){this.onFrame=G,this.onIncomingPing=j,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(G,j=!1){let fe;if(fe="string"==typeof G?this._encoder.encode(G):new Uint8Array(G),j&&0!==fe[fe.length-1]){const ne=new Uint8Array(fe.length+1);ne.set(fe,0),ne[fe.length]=0,fe=ne}for(let ne=0;ne<fe.length;ne++)this._onByte(fe[ne])}_collectFrame(G){if(0!==G&&13!==G){if(10===G)return void this.onIncomingPing();this._onByte=this._collectCommand,this._reinjectByte(G)}}_collectCommand(G){if(13!==G){if(10===G)return this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders);this._consumeByte(G)}}_collectHeaders(G){if(13!==G){if(10===G)return void this._setupCollectBody();this._onByte=this._collectHeaderKey,this._reinjectByte(G)}}_reinjectByte(G){this._onByte(G)}_collectHeaderKey(G){if(58===G)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(G)}_collectHeaderValue(G){if(13!==G){if(10===G)return this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders);this._consumeByte(G)}}_setupCollectBody(){const G=this._results.headers.filter(j=>"content-length"===j[0])[0];G?(this._bodyBytesRemaining=parseInt(G[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(G){0!==G?this._consumeByte(G):this._retrievedBody()}_collectBodyFixedSize(G){0!=this._bodyBytesRemaining--?this._consumeByte(G):this._retrievedBody()}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(G){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",G)}this._initState()}_consumeByte(G){this._token.push(G)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const G=new Uint8Array(this._token);return this._token=[],G}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var k,q,B;(q=k=k||(k={}))[q.CONNECTING=0]="CONNECTING",q[q.OPEN=1]="OPEN",q[q.CLOSING=2]="CLOSING",q[q.CLOSED=3]="CLOSED",function(q){q[q.ACTIVE=0]="ACTIVE",q[q.DEACTIVATING=1]="DEACTIVATING",q[q.INACTIVE=2]="INACTIVE"}(B=B||(B={}));class N{constructor(G){this.versions=G}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(G=>`v${G.replace(".","")}.stomp`)}}N.V1_0="1.0",N.V1_1="1.1",N.V1_2="1.2",N.default=new N([N.V1_2,N.V1_1,N.V1_0]);class ${constructor(G,j,fe){this._client=G,this._webSocket=j,this._connected=!1,this._serverFrameHandlers={CONNECTED:ne=>{this.debug(`connected to server ${ne.headers.server}`),this._connected=!0,this._connectedVersion=ne.headers.version,this._connectedVersion===N.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(ne.headers),this.onConnect(ne)},MESSAGE:ne=>{const J=ne.headers.subscription,X=this._subscriptions[J]||this.onUnhandledMessage,W=ne,Y=this,Te=this._connectedVersion===N.V1_2?W.headers.ack:W.headers["message-id"];W.ack=(Ae={})=>Y.ack(Te,J,Ae),W.nack=(Ae={})=>Y.nack(Te,J,Ae),X(W)},RECEIPT:ne=>{const J=this._receiptWatchers[ne.headers["receipt-id"]];J?(J(ne),delete this._receiptWatchers[ne.headers["receipt-id"]]):this.onUnhandledReceipt(ne)},ERROR:ne=>{this.onStompError(ne)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=fe.debug,this.stompVersions=fe.stompVersions,this.connectHeaders=fe.connectHeaders,this.disconnectHeaders=fe.disconnectHeaders,this.heartbeatIncoming=fe.heartbeatIncoming,this.heartbeatOutgoing=fe.heartbeatOutgoing,this.splitLargeFrames=fe.splitLargeFrames,this.maxWebSocketChunkSize=fe.maxWebSocketChunkSize,this.forceBinaryWSFrames=fe.forceBinaryWSFrames,this.logRawCommunication=fe.logRawCommunication,this.appendMissingNULLonIncoming=fe.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=fe.discardWebsocketOnCommFailure,this.onConnect=fe.onConnect,this.onDisconnect=fe.onDisconnect,this.onStompError=fe.onStompError,this.onWebSocketClose=fe.onWebSocketClose,this.onWebSocketError=fe.onWebSocketError,this.onUnhandledMessage=fe.onUnhandledMessage,this.onUnhandledReceipt=fe.onUnhandledReceipt,this.onUnhandledFrame=fe.onUnhandledFrame}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}start(){const G=new D(j=>{const fe=L.fromRawFrame(j,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${fe}`),(this._serverFrameHandlers[fe.command]||this.onUnhandledFrame)(fe)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=j=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const fe=j.data instanceof ArrayBuffer?(new TextDecoder).decode(j.data):j.data;this.debug(`<<< ${fe}`)}G.parseChunk(j.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=j=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(j)},this._webSocket.onerror=j=>{this.onWebSocketError(j)},this._webSocket.onopen=()=>{const j=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),j["accept-version"]=this.stompVersions.supportedVersions(),j["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:j})}}_setupHeartbeat(G){if(G.version!==N.V1_1&&G.version!==N.V1_2||!G["heart-beat"])return;const[j,fe]=G["heart-beat"].split(",").map(ne=>parseInt(ne,10));if(0!==this.heartbeatOutgoing&&0!==fe){const ne=Math.max(this.heartbeatOutgoing,fe);this.debug(`send PING every ${ne}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===k.OPEN&&(this._webSocket.send(R_LF),this.debug(">>> PING"))},ne)}if(0!==this.heartbeatIncoming&&0!==j){const ne=Math.max(this.heartbeatIncoming,j);this.debug(`check PONG every ${ne}ms`),this._ponger=setInterval(()=>{const J=Date.now()-this._lastServerActivityTS;J>2*ne&&(this.debug(`did not receive server activity for the last ${J}ms`),this._closeOrDiscardWebsocket())},ne)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===k.CONNECTING||this._webSocket.readyState===k.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){"function"!=typeof this._webSocket.terminate&&function ce(q,G){q.terminate=function(){const j=()=>{};this.onerror=j,this.onmessage=j,this.onopen=j;const fe=new Date,ne=Math.random().toString().substring(2,8),J=this.onclose;this.onclose=X=>{const W=(new Date).getTime()-fe.getTime();G(`Discarded socket (#${ne})  closed after ${W}ms, with code/reason: ${X.code}/${X.reason}`)},this.close(),null==J||J.call(q,{code:4001,reason:`Quick discarding socket (#${ne}) without waiting for the shutdown sequence.`,wasClean:!1})}}(this._webSocket,G=>this.debug(G)),this._webSocket.terminate()}_transmit(G){const{command:j,headers:fe,body:ne,binaryBody:J,skipContentLengthHeader:X}=G,W=new L({command:j,headers:fe,body:ne,binaryBody:J,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:X});let Y=W.serialize();if(this.debug(this.logRawCommunication?`>>> ${Y}`:`>>> ${W}`),this.forceBinaryWSFrames&&"string"==typeof Y&&(Y=(new TextEncoder).encode(Y)),"string"==typeof Y&&this.splitLargeFrames){let Te=Y;for(;Te.length>0;){const Ae=Te.substring(0,this.maxWebSocketChunkSize);Te=Te.substring(this.maxWebSocketChunkSize),this._webSocket.send(Ae),this.debug(`chunk sent = ${Ae.length}, remaining = ${Te.length}`)}}else this._webSocket.send(Y)}dispose(){if(this.connected)try{const G=Object.assign({},this.disconnectHeaders);G.receipt||(G.receipt="close-"+this._counter++),this.watchForReceipt(G.receipt,j=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(j)}),this._transmit({command:"DISCONNECT",headers:G})}catch(G){this.debug(`Ignoring error during disconnect ${G}`)}else(this._webSocket.readyState===k.CONNECTING||this._webSocket.readyState===k.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(clearInterval(this._pinger),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(G){const{destination:j,headers:fe,body:ne,binaryBody:J,skipContentLengthHeader:X}=G,W=Object.assign({destination:j},fe);this._transmit({command:"SEND",headers:W,body:ne,binaryBody:J,skipContentLengthHeader:X})}watchForReceipt(G,j){this._receiptWatchers[G]=j}subscribe(G,j,fe={}){(fe=Object.assign({},fe)).id||(fe.id="sub-"+this._counter++),fe.destination=G,this._subscriptions[fe.id]=j,this._transmit({command:"SUBSCRIBE",headers:fe});const ne=this;return{id:fe.id,unsubscribe:J=>ne.unsubscribe(fe.id,J)}}unsubscribe(G,j={}){j=Object.assign({},j),delete this._subscriptions[G],j.id=G,this._transmit({command:"UNSUBSCRIBE",headers:j})}begin(G){const j=G||"tx-"+this._counter++;this._transmit({command:"BEGIN",headers:{transaction:j}});const fe=this;return{id:j,commit(){fe.commit(j)},abort(){fe.abort(j)}}}commit(G){this._transmit({command:"COMMIT",headers:{transaction:G}})}abort(G){this._transmit({command:"ABORT",headers:{transaction:G}})}ack(G,j,fe={}){fe=Object.assign({},fe),this._connectedVersion===N.V1_2?fe.id=G:fe["message-id"]=G,fe.subscription=j,this._transmit({command:"ACK",headers:fe})}nack(G,j,fe={}){return fe=Object.assign({},fe),this._connectedVersion===N.V1_2?fe.id=G:fe["message-id"]=G,fe.subscription=j,this._transmit({command:"NACK",headers:fe})}}class z{constructor(G={}){this.stompVersions=N.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=B.INACTIVE;const j=()=>{};this.debug=j,this.beforeConnect=j,this.onConnect=j,this.onDisconnect=j,this.onUnhandledMessage=j,this.onUnhandledReceipt=j,this.onUnhandledFrame=j,this.onStompError=j,this.onWebSocketClose=j,this.onWebSocketError=j,this.logRawCommunication=!1,this.onChangeState=j,this.connectHeaders={},this._disconnectHeaders={},this.configure(G)}get webSocket(){var G;return null==(G=this._stompHandler)?void 0:G._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(G){this._disconnectHeaders=G,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===B.ACTIVE}_changeState(G){this.state=G,this.onChangeState(G)}configure(G){Object.assign(this,G)}activate(){const G=()=>{this.active?this.debug("Already ACTIVE, ignoring request to activate"):(this._changeState(B.ACTIVE),this._connect())};this.state===B.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{G()})):G()}_connect(){var G=this;return(0,e.Z)(function*(){if(yield G.beforeConnect(),G._stompHandler)return void G.debug("There is already a stompHandler, skipping the call to connect");if(!G.active)return void G.debug("Client has been marked inactive, will not attempt to connect");G.connectionTimeout>0&&(G._connectionWatcher&&clearTimeout(G._connectionWatcher),G._connectionWatcher=setTimeout(()=>{G.connected||(G.debug(`Connection not established in ${G.connectionTimeout}ms, closing socket`),G.forceDisconnect())},G.connectionTimeout)),G.debug("Opening Web Socket...");const j=G._createWebSocket();G._stompHandler=new $(G,j,{debug:G.debug,stompVersions:G.stompVersions,connectHeaders:G.connectHeaders,disconnectHeaders:G._disconnectHeaders,heartbeatIncoming:G.heartbeatIncoming,heartbeatOutgoing:G.heartbeatOutgoing,splitLargeFrames:G.splitLargeFrames,maxWebSocketChunkSize:G.maxWebSocketChunkSize,forceBinaryWSFrames:G.forceBinaryWSFrames,logRawCommunication:G.logRawCommunication,appendMissingNULLonIncoming:G.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:G.discardWebsocketOnCommFailure,onConnect:fe=>{if(G._connectionWatcher&&(clearTimeout(G._connectionWatcher),G._connectionWatcher=void 0),!G.active)return G.debug("STOMP got connected while deactivate was issued, will disconnect now"),void G._disposeStompHandler();G.onConnect(fe)},onDisconnect:fe=>{G.onDisconnect(fe)},onStompError:fe=>{G.onStompError(fe)},onWebSocketClose:fe=>{G._stompHandler=void 0,G.state===B.DEACTIVATING&&G._changeState(B.INACTIVE),G.onWebSocketClose(fe),G.active&&G._schedule_reconnect()},onWebSocketError:fe=>{G.onWebSocketError(fe)},onUnhandledMessage:fe=>{G.onUnhandledMessage(fe)},onUnhandledReceipt:fe=>{G.onUnhandledReceipt(fe)},onUnhandledFrame:fe=>{G.onUnhandledFrame(fe)}}),G._stompHandler.start()})()}_createWebSocket(){let G;if(this.webSocketFactory)G=this.webSocketFactory();else{if(!this.brokerURL)throw new Error("Either brokerURL or webSocketFactory must be provided");G=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions())}return G.binaryType="arraybuffer",G}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}deactivate(G={}){var j=this;return(0,e.Z)(function*(){var X;const fe=G.force||!1,ne=j.active;let J;if(j.state===B.INACTIVE)return j.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(j._changeState(B.DEACTIVATING),j._reconnector&&(clearTimeout(j._reconnector),j._reconnector=void 0),!j._stompHandler||j.webSocket.readyState===k.CLOSED)return j._changeState(B.INACTIVE),Promise.resolve();{const W=j._stompHandler.onWebSocketClose;J=new Promise((Y,Te)=>{j._stompHandler.onWebSocketClose=Ae=>{W(Ae),Y()}})}return fe?null==(X=j._stompHandler)||X.discardWebsocket():ne&&j._disposeStompHandler(),J})()}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(G){this._checkConnection(),this._stompHandler.publish(G)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(G,j){this._checkConnection(),this._stompHandler.watchForReceipt(G,j)}subscribe(G,j,fe={}){return this._checkConnection(),this._stompHandler.subscribe(G,j,fe)}unsubscribe(G,j={}){this._checkConnection(),this._stompHandler.unsubscribe(G,j)}begin(G){return this._checkConnection(),this._stompHandler.begin(G)}commit(G){this._checkConnection(),this._stompHandler.commit(G)}abort(G){this._checkConnection(),this._stompHandler.abort(G)}ack(G,j,fe={}){this._checkConnection(),this._stompHandler.ack(G,j,fe)}nack(G,j,fe={}){this._checkConnection(),this._stompHandler.nack(G,j,fe)}}var S=b(5111),K=b(5e3);let ue=(()=>{class q extends class O{get stompClient(){return this._stompClient}constructor(G){this._queuedMessages=[];const j=G||new z;this._stompClient=j;const fe=()=>{};this._beforeConnect=fe,this._correlateErrors=()=>{},this._debug=fe,this._connectionStatePre$=new d.X(S.U.CLOSED),this._connectedPre$=this._connectionStatePre$.pipe((0,u.h)(ne=>ne===S.U.OPEN)),this.connectionState$=new d.X(S.U.CLOSED),this.connected$=this.connectionState$.pipe((0,u.h)(ne=>ne===S.U.OPEN)),this.connected$.subscribe(()=>{this._sendQueuedMessages()}),this._serverHeadersBehaviourSubject$=new d.X(null),this.serverHeaders$=this._serverHeadersBehaviourSubject$.pipe((0,u.h)(ne=>null!==ne)),this.stompErrors$=new f.x,this.unhandledMessage$=new f.x,this.unhandledReceipts$=new f.x,this.unhandledFrame$=new f.x,this.webSocketErrors$=new f.x}configure(G){const j=Object.assign({},G);j.beforeConnect&&(this._beforeConnect=j.beforeConnect,delete j.beforeConnect),j.correlateErrors&&(this._correlateErrors=j.correlateErrors,delete j.correlateErrors),this._stompClient.configure(j),j.debug&&(this._debug=j.debug)}activate(){var j,G=this;this._stompClient.configure({beforeConnect:(j=(0,e.Z)(function*(){G._changeState(S.U.CONNECTING),yield G._beforeConnect(G)}),function(){return j.apply(this,arguments)}),onConnect:j=>{this._serverHeadersBehaviourSubject$.next(j.headers),this._changeState(S.U.OPEN)},onStompError:j=>{this.stompErrors$.next(j)},onWebSocketClose:()=>{this._changeState(S.U.CLOSED)},onUnhandledMessage:j=>{this.unhandledMessage$.next(j)},onUnhandledReceipt:j=>{this.unhandledReceipts$.next(j)},onUnhandledFrame:j=>{this.unhandledFrame$.next(j)},onWebSocketError:j=>{this.webSocketErrors$.next(j)}}),this._stompClient.activate()}deactivate(G={}){var j=this;return(0,e.Z)(function*(){j._changeState(S.U.CLOSING),yield j._stompClient.deactivate(G),j._changeState(S.U.CLOSED)})()}connected(){return this.connectionState$.getValue()===S.U.OPEN}get active(){return this.stompClient.active}publish(G){const j=null==G.retryIfDisconnected||G.retryIfDisconnected;if(this.connected())this._stompClient.publish(G);else{if(!j)throw new Error("Cannot publish while broker is not connected");this._debug("Not connected, queueing"),this._queuedMessages.push(G)}}_sendQueuedMessages(){const G=this._queuedMessages;if(this._queuedMessages=[],0!==G.length){this._debug(`Will try sending  ${G.length} queued message(s)`);for(const j of G)this._debug(`Attempting to send ${j}`),this.publish(j)}}watch(G,j={}){let ne;return ne=Object.assign({},{subHeaders:{},unsubHeaders:{},subscribeOnlyOnce:!1},"string"==typeof G?{destination:G,subHeaders:j}:G),this._debug(`Request to subscribe ${ne.destination}`),_.y.create(X=>{let W,Y,Te=this._connectedPre$;ne.subscribeOnlyOnce&&(Te=Te.pipe((0,P.q)(1)));const Ae=this.stompErrors$.subscribe(Ke=>{this._correlateErrors(Ke)===ne.destination&&X.error(Ke)});return Y=Te.subscribe(()=>{this._debug(`Will subscribe to ${ne.destination}`);let Ke=ne.subHeaders;"function"==typeof Ke&&(Ke=Ke()),W=this._stompClient.subscribe(ne.destination,be=>{X.next(be)},Ke)}),()=>{if(this._debug(`Stop watching connection state (for ${ne.destination})`),Y.unsubscribe(),Ae.unsubscribe(),this.connected()){this._debug(`Will unsubscribe from ${ne.destination} at Stomp`);let Ke=ne.unsubHeaders;"function"==typeof Ke&&(Ke=Ke()),W.unsubscribe(Ke)}else this._debug(`Stomp not connected, no need to unsubscribe from ${ne.destination} at Stomp`)}}).pipe((0,x.B)())}watchForReceipt(G,j){this._stompClient.watchForReceipt(G,j)}asyncReceipt(G){return(0,a.z)(this.unhandledReceipts$.pipe((0,u.h)(j=>j.headers["receipt-id"]===G)))}_changeState(G){this._connectionStatePre$.next(G),this.connectionState$.next(G)}}{constructor(){super()}}return q.\u0275fac=function(j){return new(j||q)},q.\u0275prov=K.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})()},2248:(hn,ht,b)=>{"use strict";b.d(ht,{e:()=>R});var e=b(7579),d=b(4004),u=b(3900),f=b(4968),_=b(9646),P=b(4326),x=b(8505),a=b(5e3);let R=(()=>{class L{constructor(){this.creationMode="standard",this._dimensions={width:1e3,height:800},this._openSubject=new e.x,this.openObserver.pipe((0,d.U)(()=>window.open("/task/create","_blank",this.features)),(0,u.w)(F=>F?(0,f.R)(F,"load"):(0,_.of)(null)),(0,P.g)(200),(0,x.b)(F=>{F&&F.currentTarget.postMessage(this.transferObject,"*")})).subscribe()}get dependencyIdentifier(){return this._dependencyIdentifier}get wireframeId(){return this._wireframeId}get billingInfo(){return this._billingInfo}get features(){return`popup=yes,width=${this._dimensions.width},height=${this._dimensions.height},left=${screen.width/2-this._dimensions.width/2},top=${screen.height/2-this._dimensions.height/2}`}get mode(){return this.creationMode}get openObserver(){return this._openSubject.asObservable()}get transferObject(){return{mode:this.mode,dependencyIdentifier:this._dependencyIdentifier,wireframeId:this._wireframeId,billingInfo:this._billingInfo}}standard(){this.creationMode="standard",this._dependencyIdentifier=void 0,this._wireframeId=void 0,this._billingInfo=void 0,this.open()}dependency(F,T){this.creationMode="parent"===F?"parent":"child",this._dependencyIdentifier=T,this._wireframeId=void 0,this._billingInfo=void 0,this.open()}wireframe(F,T){this.creationMode="billing",this._dependencyIdentifier=void 0,this._wireframeId=F,this._billingInfo=T,this.open()}open(){this._openSubject.next(void 0)}}return L.\u0275fac=function(F){return new(F||L)},L.\u0275prov=a.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})()},9814:(hn,ht,b)=>{"use strict";b.d(ht,{d:()=>G});var e=b(2382),d=b(8372),u=b(8675),f=b(1135),_=b(9841),P=b(1884),x=b(8505),a=b(4782),R=b(7579),L=b(9300),V=b(4482),F=b(5032),T=b(5403),D=b(6451),k=b(3900),B=b(5577),N=b(4004),ce=b(9646),$=b(4968),z=b(4464),S=b(590),O=b(7384),K=b(5e3),ue=b(8738),q=b(8007);let G=(()=>{class j{constructor(ne,J){this.api=ne,this.rt=J,this.searchPhraseControl=new e.NI(""),this.searchPhrase$=this.searchPhraseControl.valueChanges.pipe((0,d.b)(1200),(0,u.O)("")),this.statusSubject=new f.X("active"),this.classSubject=new f.X(null),this.typeSubject=new f.X(null),this.pageTypeSubject=new f.X(null),this.schedulingSubject=new f.X(null),this.directorySubject=new f.X(null),this.tagSubject=new f.X(null),this.closeTimeSubject=new f.X(null),this.actualTimeSubject=new f.X(null),this.termTimeSubject=new f.X(null),this.status$=this.statusSubject.asObservable(),this.class$=this.classSubject.asObservable(),this.type$=this.typeSubject.asObservable(),this.pageType$=this.pageTypeSubject.asObservable(),this.scheduling$=this.schedulingSubject.asObservable(),this.directory$=this.directorySubject.asObservable(),this.tag$=this.tagSubject.asObservable(),this.closeTime$=this.closeTimeSubject.asObservable(),this.actualTime$=this.actualTimeSubject.asObservable(),this.termTime$=this.termTimeSubject.asObservable(),this.pageControl=new e.NI(0),this.taskLoadingState=O.Gu.READY,this.lastRoute$=(0,_.a)([this.status$,this.class$,this.type$,this.pageType$,this.directory$,this.tag$,this.closeTime$,this.actualTime$,this.termTime$,this.scheduling$]).pipe((0,d.b)(1),(0,P.x)((X,W)=>JSON.stringify(X)===JSON.stringify(W)),(0,x.b)(()=>{this.pageControl.setValue(0),this.taskLoadingState=O.Gu.LOADING}),(0,a.d)(1)),this.page$=this.pageControl.valueChanges.pipe((0,u.O)(0),(0,P.x)(),(0,x.b)(()=>{window.scrollTo({top:0}),this.taskLoadingState=O.Gu.LOADING})),this.isTaskEdit=!1,this.taskEditStopSubject=new R.x,this.directTasksMoved$=this.rt.taskMoved().pipe((0,L.h)(()=>!this.isTaskEdit)),this.delayedTasksMoved$=this.rt.taskMoved().pipe(function y(j){return(0,V.e)((fe,ne)=>{let J=!1,X=null;fe.subscribe(new T.Q(ne,Y=>{J=!0,X=Y})),j.subscribe(new T.Q(ne,()=>{if(J){J=!1;const Y=X;X=null,ne.next(Y)}},F.Z))})}(this.taskEditStopSubject)),this.tasksMoved$=(0,D.T)(this.directTasksMoved$,this.delayedTasksMoved$).pipe((0,u.O)(null)),this.taskCountersMap=new Map,this.taskUpdatersMap=new Map,this.tagsMap=new Map,this.updateWireframes$=(0,D.T)(this.rt.wireframeCreated(),this.rt.wireframeUpdated(),this.rt.wireframeDeleted()).pipe((0,u.O)(null)),this.wireframes$=this.updateWireframes$.pipe((0,k.w)(()=>this.api.getWireframes()),(0,a.d)(1)),this.tasks$=(0,_.a)([this.page$,this.tasksMoved$,this.lastRoute$]).pipe((0,k.w)(([X,W,[Y,Te,Ae,Ke,be,Ge,ee,xe,we,Pe]])=>this.api.getPageOfTasks(null!=X?X:0,{status:[Y.toUpperCase()],template:Te?[Te]:null,stage:Ae,directory:be,tags:Ge?[Ge]:null,dateOfClose:ee?{timeFrame:ee}:null,actualFrom:xe?{timeFrame:xe}:null,actualTo:we?{timeFrame:we}:null,schedulingType:Pe||O.dH.EXCEPT_PLANNED})),(0,x.b)({next:X=>this.taskLoadingState=0===X.totalElements?O.Gu.EMPTY:O.Gu.READY,error:()=>this.taskLoadingState=O.Gu.ERROR}),(0,a.d)(1)),this.blockVisible=!1,this.beforeTemporaryMap=[{id:O.nv.TODAY,name:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"},{id:O.nv.YESTERDAY,name:"\u0412\u0447\u0435\u0440\u0430"},{id:O.nv.THIS_WEEK,name:"\u042d\u0442\u0430 \u043d\u0435\u0434\u0435\u043b\u044f"},{id:O.nv.LAST_WEEK,name:"\u041f\u0440\u043e\u0448\u043b\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f"},{id:O.nv.THIS_MONTH,name:"\u042d\u0442\u043e\u0442 \u043c\u0435\u0441\u044f\u0446"},{id:O.nv.LAST_MONTH,name:"\u041f\u0440\u043e\u0448\u043b\u044b\u0439 \u043c\u0435\u0441\u044f\u0446"}],this.afterTemporaryMap=[{id:O.nv.TODAY,name:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"},{id:O.nv.TOMORROW,name:"\u0417\u0430\u0432\u0442\u0440\u0430"},{id:O.nv.THIS_WEEK,name:"\u042d\u0442\u0430 \u043d\u0435\u0434\u0435\u043b\u044f"},{id:O.nv.NEXT_WEEK,name:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f"},{id:O.nv.THIS_MONTH,name:"\u042d\u0442\u043e\u0442 \u043c\u0435\u0441\u044f\u0446"},{id:O.nv.NEXT_MONTH,name:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043c\u0435\u0441\u044f\u0446"}],this.breadCrumbsModel$=(0,_.a)([this.wireframes$,this.lastRoute$]).pipe((0,B.z)(([X,W])=>{const[Y,Te,Ae,Ke,be,Ge,ee,xe,we,Pe]=W;return Ge?this.api.getTaskTag(Ge).pipe((0,N.U)(dt=>({wireframes:X,route:W,tagInfo:dt}))):(0,ce.of)({wireframes:X,route:W,tagInfo:null})}),(0,N.U)(({wireframes:X,route:W,tagInfo:Y})=>{var Te,Ae,Ke,be,Ge;const ee=[],[xe,we,Pe,dt,bt,it,Dt,vt,Wt,zt]=W;if(zt===O.dH.PLANNED)ee.push({label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435",routerLink:j.convertToPath([xe,null,null,null,null,null,null,null,null,O.dH.PLANNED],!0)});else if(zt===O.dH.DEADLINE)ee.push({label:"\u0421\u0440\u043e\u043a\u0438",routerLink:j.convertToPath([xe,null,null,null,null,null,null,null,null,O.dH.DEADLINE],!0)});else if(xe){let Ut="";switch(xe){case"active":Ut="\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435";break;case"processing":Ut="\u0423 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432";break;case"close":Ut="\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435"}ee.push({label:Ut,routerLink:j.convertToPath([xe,null,null,null,null,null,null,null,null,zt],!0)})}if(we){const Ut=X.find(ct=>ct.wireframeId===we);if(ee.push({label:null==Ut?void 0:Ut.name,routerLink:j.convertToPath([xe,we,null,null,null,null,null,null,null,zt],!0)}),Pe&&Ut){const ct=null===(Te=Ut.stages)||void 0===Te?void 0:Te.find(at=>at.stageId===Pe);if(ee.push({label:null==ct?void 0:ct.label,routerLink:j.convertToPath([xe,we,Pe,null,null,null,null,null,null,zt],!0)}),bt&&ct){const at=null===(Ae=ct.directories)||void 0===Ae?void 0:Ae.find(me=>me.taskTypeDirectoryId===bt);ee.push({label:null==at?void 0:at.name,routerLink:j.convertToPath([xe,we,Pe,dt,bt,null,null,null,null,zt],!0)}),Y&&ee.push({label:"#"+Y.name,routerLink:j.convertToPath([xe,we,Pe,dt,bt,it,null,null,null,zt],!0)})}Dt&&(ee.push({label:null===(Ke=this.beforeTemporaryMap.find(at=>at.id===Dt))||void 0===Ke?void 0:Ke.name,routerLink:j.convertToPath([xe,we,Pe,dt,null,null,Dt,null,null,zt],!0)}),Y&&ee.push({label:"#"+Y.name,routerLink:j.convertToPath([xe,we,Pe,dt,null,it,Dt,null,null,zt],!0)})),vt&&(ee.push({label:null===(be=this.afterTemporaryMap.find(at=>at.id===vt))||void 0===be?void 0:be.name,routerLink:j.convertToPath([xe,we,Pe,dt,null,null,null,vt,null,zt],!0)}),Y&&ee.push({label:"#"+Y.name,routerLink:j.convertToPath([xe,we,Pe,dt,null,it,null,vt,null,zt],!0)})),Wt&&(ee.push({label:null===(Ge=this.afterTemporaryMap.find(at=>at.id===Wt))||void 0===Ge?void 0:Ge.name,routerLink:j.convertToPath([xe,we,Pe,dt,null,null,null,null,Wt,zt],!0)}),Y&&ee.push({label:"#"+Y.name,routerLink:j.convertToPath([xe,we,Pe,dt,null,it,null,null,Wt,zt],!0)}))}}return ee})),this.rootExpandMap={active:!1,processing:!1,close:!1,scheduled:!1,term:!1},(0,$.R)(window,"dragend").subscribe(X=>{this.highlightCatalogs=void 0}),setInterval(()=>{(0,z.n)(this.tasks$.pipe((0,S.P)())).then(X=>{for(const W of this.taskUpdatersMap.keys())X.content.find(Y=>Y.taskId===W)||this.taskUpdatersMap.delete(W)})},6e5)}static convertToPath(ne,J=!1){const[X,W,Y,Te,Ae,Ke,be,Ge,ee,xe]=ne,we=[];switch(J?xe&&xe!==O.dH.EXCEPT_PLANNED&&(xe===O.dH.PLANNED?we.push("scheduled"):xe===O.dH.DEADLINE&&we.push("term")):we.push(xe||O.dH.UNSCHEDULED),X&&we.push(X),W&&we.push(W.toString()),Y&&we.push(Y),Te&&we.push(Te),Te){case"dir":Ae&&we.push(Ae.toString()),Ke&&we.push(Ke.toString());break;case"close-time":be&&we.push(be),Ke&&we.push(Ke.toString());break;case"actual-time":Ge&&we.push(Ge),Ke&&we.push(Ke.toString());break;case"term-time":ee&&we.push(ee),Ke&&we.push(Ke.toString())}return we}getTasksCounter(ne,J){const{status:X,cls:W,type:Y,directory:Te,tag:Ae,schedulingType:Ke,dateOfClose:be,actualFrom:Ge,actualTo:ee}=J,xe=""+X+W+Y+Te+Ae+Ke+JSON.stringify(be)+JSON.stringify(Ge)+JSON.stringify(ee)+ne;if(this.taskCountersMap.has(xe))return this.taskCountersMap.get(xe);const we=(0,D.T)(this.rt.updateTaskCount(null!=X?X:"",W,Y,ne,Te,Ae,be,Ge,ee,Ke),this.api.getCountTasks(j.filterOptionsToCondition(J))).pipe((0,N.U)(Pe=>Pe.toString()),(0,a.d)(1));return this.taskCountersMap.set(xe,we),we}static filterOptionsToCondition(ne){const J={},{status:X,cls:W,type:Y,directory:Te,dateOfClose:Ae,actualFrom:Ke,actualTo:be,schedulingType:Ge}=ne;return X&&(J.status=[X]),W&&(J.template=[W]),Y&&(J.stage=Y),Te&&(J.directory=Te),Ae&&(J.dateOfClose=Ae),Ke&&(J.actualFrom=Ke),be&&(J.actualTo=be),Ge&&(J.schedulingType=Ge),J}getTagsFromCatalog(ne){const{status:J,cls:X,type:W,directory:Y,dateOfClose:Te,actualFrom:Ae,actualTo:Ke,schedulingType:be}=ne,Ge=""+J+X+W+Y+JSON.stringify(Te)+JSON.stringify(Ae)+JSON.stringify(Ke)+be;if(this.tagsMap.has(Ge))return this.tagsMap.get(Ge);const ee=this.tasksMoved$.pipe((0,k.w)(()=>this.api.getTagsListFromCatalog(j.filterOptionsToCondition(ne))),(0,a.d)(1));return this.tagsMap.set(Ge,ee),ee}updatePath(ne,J){var X,W,Y,Te,Ae,Ke,be;this.statusSubject.next(null!==(X=ne.status)&&void 0!==X?X:"active"),this.classSubject.next(ne.class?parseInt(ne.class):null),this.typeSubject.next(null!==(W=ne.type)&&void 0!==W?W:null),this.pageTypeSubject.next(null!==(Y=J.pageType)&&void 0!==Y?Y:null),this.schedulingSubject.next(null!==(Te=J.scheduled)&&void 0!==Te?Te:null),this.directorySubject.next(ne.directory?parseInt(ne.directory):null),this.tagSubject.next(ne.tag?parseInt(ne.tag):null),this.closeTimeSubject.next(null!==(Ae=ne.closeTime)&&void 0!==Ae?Ae:null),this.actualTimeSubject.next(null!==(Ke=ne.actualTime)&&void 0!==Ke?Ke:null),this.termTimeSubject.next(null!==(be=ne.termTime)&&void 0!==be?be:null)}taskMovingStart(ne){this.movingTask=ne,(0,z.n)(this.wireframes$.pipe((0,S.P)())).then(J=>{var X,W;const Y=J.find(Ke=>{var be;return Ke.wireframeId===(null===(be=ne.modelWireframe)||void 0===be?void 0:be.wireframeId)});if(!Y)return void(this.highlightCatalogs=void 0);const Te=null===(X=Y.stages)||void 0===X?void 0:X.find(Ke=>{var be;return Ke.stageId===(null===(be=ne.currentStage)||void 0===be?void 0:be.stageId)});if(!Te)return void(this.highlightCatalogs=void 0);const Ae=null===(W=ne.currentDirectory)||void 0===W?void 0:W.taskTypeDirectoryId;this.highlightCatalogs=Te.directories.filter(Ke=>Ke.taskTypeDirectoryId!==Ae).map(Ke=>Ke.taskTypeDirectoryId)})}moveToDirectory(ne){var J;this.movingTask&&this.movingTask.taskId&&(null===(J=this.movingTask.currentDirectory)||void 0===J?void 0:J.taskTypeDirectoryId)!==ne.taskTypeDirectoryId&&(this.blockVisible=!0,this.api.moveTaskToDirectory([this.movingTask.taskId],ne.taskTypeDirectoryId).subscribe({next:()=>this.blockVisible=!1,error:()=>this.blockVisible=!1}))}catalogHighlight(ne){var J;return null!==(J=this.highlightCatalogs)&&void 0!==J&&J.includes(ne)?{"z-index":"999 !important",backgroundColor:"white"}:null}unExpandOtherCatalog(ne){for(const J in this.rootExpandMap)this.rootExpandMap[J]=ne===J}taskEditStart(ne){this.isTaskEdit=!0}taskEditStop(ne){this.isTaskEdit=!1,this.taskEditStopSubject.next(null)}getTaskUpdater(ne){if(this.taskUpdatersMap.has(ne))return this.taskUpdatersMap.get(ne);const J=this.rt.taskUpdated(ne).pipe((0,a.d)(1));return this.taskUpdatersMap.set(ne,J),J}}return j.\u0275fac=function(ne){return new(ne||j)(K.LFG(ue.s),K.LFG(q.U))},j.\u0275prov=K.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})()},4488:(hn,ht,b)=>{"use strict";b.d(ht,{U:()=>k});var e=b(8675),d=b(8372),u=b(9841),f=b(1884),_=b(4004),P=b(3900),x=b(8505),a=b(5577),R=b(4782),L=b(9300),V=b(2382),F=b(383),T=b(5e3),y=b(8738),D=b(8007);let k=(()=>{class B{constructor(ce,$){this.api=ce,this.rt=$,this.scrollPos=0,this.TASK_PAGE_SIZE=15,this.mainFilterForm=new V.cw({searchPhrase:new V.NI(""),status:new V.NI(["ACTIVE","PROCESSING"]),template:new V.NI(F.Ke.loadOrDefault("listPageTempFilter",[])),templateFilter:new V.Oe([]),tags:new V.NI([]),stage:new V.NI(null),author:new V.NI(null),dateOfCreation:new V.NI(null),limit:new V.NI(15)}),this.searchPhraseChange$=this.mainFilterForm.controls.searchPhrase.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.searchPhrase.value),(0,d.b)(1500)),this.statusChange$=this.mainFilterForm.controls.status.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.status.value),(0,d.b)(300)),this.templateChange$=this.mainFilterForm.controls.template.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.template.value),(0,d.b)(300)),this.tagsChange$=this.mainFilterForm.controls.tags.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.tags.value),(0,d.b)(300)),this.stageChange$=this.mainFilterForm.controls.stage.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.stage.value),(0,d.b)(300)),this.delayedFilterChange$=(0,u.a)([this.searchPhraseChange$,this.statusChange$,this.templateChange$,this.tagsChange$,this.stageChange$]),this.beforeFilters="",this.stageList=[],this.tagsList=[],this.tagsFilterControl=new V.NI(""),this.tagsNameFilter$=this.tagsFilterControl.valueChanges.pipe((0,d.b)(300),(0,f.x)()),this.tagsFilters$=(0,u.a)([this.tagsNameFilter$.pipe((0,e.O)("")),this.mainFilterForm.controls.template.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.template.value))]).pipe((0,_.U)(([z,S])=>[z,!1])),this.tagsList$=F.aN.ofWithFilter(this.tagsFilters$,this.api.getTaskTags.bind(this.api),"taskTagId",this.rt.taskTagCreated(),this.rt.taskTagUpdated(),this.rt.taskTagDeleted()).pipe((0,P.w)(z=>{var S;return this.api.getCountTasksByWireframeIdByTags(null!==(S=this.mainFilterForm.controls.template.value)&&void 0!==S?S:[]).pipe((0,_.U)(O=>(z.value.map(K=>(K.tasksCount=O[K.taskTagId]||0,K)),z)))})),this.stageList$=this.mainFilterForm.controls.template.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.template.value),(0,x.b)(z=>F.Ke.save("incomListPageTempFilter",z)),(0,P.w)(z=>(this.mainFilterForm.controls.stage.setValue(null,{emitEvent:!1}),1===(null==z?void 0:z.length)?this.api.getWireframeStages(z[0]).pipe((0,a.z)(S=>this.api.getCountTasksByStages(z[0]).pipe((0,_.U)(O=>S.map(K=>({label:K.label,value:K.stageId,orderIndex:K.orderIndex,tasksCount:O[K.stageId]||0})))))):[])),(0,_.U)(z=>{const S=z.sort((O,K)=>O.orderIndex-K.orderIndex);return S.unshift({label:"\u0412\u0441\u0435",value:null,orderIndex:-1,tasksCount:z.reduce((O,K)=>O+K.tasksCount,0)}),S}),(0,R.d)(1)),this.pageNumber=new V.NI(0),this.pageNumberChange$=this.pageNumber.valueChanges.pipe((0,e.O)(0),(0,x.b)(()=>window.scrollTo({top:0})),(0,R.d)(1)),this.filters$=(0,u.a)([this.pageNumberChange$,this.delayedFilterChange$]).pipe((0,_.U)(([z])=>[z,this.mainFilterForm.value])),this.templateFilterCount$=this.filters$.pipe((0,_.U)(()=>{const z=this.mainFilterForm.value;let S=0;return z.author&&S++,!!z.dateOfCreation&&"start"in z.dateOfCreation&&"end"in z.dateOfCreation&&S++,z.templateFilter&&z.templateFilter.length>0&&z.templateFilter.filter(O=>Array.isArray(O.value)?O.value.length>0:!!O.value).forEach(O=>{S++}),S}),(0,_.U)(z=>z?z.toString():""),(0,R.d)(1)),this.taskPage$=F.aN.ofPageAltAll(this.filters$,this.api.getPageOfTasks.bind(this.api),[this.rt.taskCreated(),this.rt.taskUpdated(),this.rt.taskDeleted()]).pipe((0,R.d)(1)),this.stageList$.subscribe(z=>this.stageList=[...z]),this.tagsList$.subscribe(z=>this.tagsList=[...z.value]),this.rt.taskCountChange().pipe((0,L.h)(z=>this.isSelectOneTemplate&&z.id===this.firstWireframeId)).subscribe(z=>{this.stageList.forEach(O=>{const K=z.stages.find(ue=>O.value===ue.id);O.tasksCount=K?K.num:0});const S=this.stageList.find(O=>null===O.value);S&&(S.tasksCount=z.stages.reduce((O,K)=>O+K.num,0))}),this.rt.tagTaskCountChange().subscribe(z=>{this.tagsList.forEach(S=>{var O;const K=z[S.taskTagId];if(K){let ue=0;null===(O=this.mainFilterForm.value.template)||void 0===O||O.forEach(q=>{K[q]&&(ue+=K[q])}),S.tasksCount=ue}else S.tasksCount=0})}),this.mainFilterForm.controls.template.valueChanges.pipe((0,e.O)(this.mainFilterForm.value.template)).subscribe(z=>{F.Ke.save("listPageTempFilter",z),this.mainFilterForm.controls.templateFilter.clear(),null!=z&&1===z.length&&this.api.getWireframeFiltrationFields(z[0]).subscribe(S=>{for(let O of S)this.mainFilterForm.controls.templateFilter.push(new V.cw({id:new V.NI(O.id),wireframeFieldType:new V.NI(O.wireframeFieldType),name:new V.NI(O.name),value:new V.NI(null)}))})})}get isSelectOneTemplate(){var ce;return 1===(null===(ce=this.mainFilterForm.value.template)||void 0===ce?void 0:ce.length)}get firstWireframeId(){return this.mainFilterForm.value.template?this.mainFilterForm.value.template[0]:0}applyFilters(){this.beforeFilters!==JSON.stringify(this.mainFilterForm.value)&&this.pageNumber.setValue(0)}cacheFilters(){this.beforeFilters=JSON.stringify(this.mainFilterForm.value)}clearFilters(){var ce;this.mainFilterForm.patchValue({author:null,dateOfCreation:null}),this.mainFilterForm.controls.template.setValue(null!==(ce=this.mainFilterForm.value.template)&&void 0!==ce?ce:null)}saveScrollPos(ce){this.scrollPos=ce}readScrollPos(){return this.scrollPos}}return B.\u0275fac=function(ce){return new(ce||B)(T.LFG(y.s),T.LFG(D.U))},B.\u0275prov=T.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})()},9664:(hn,ht,b)=>{"use strict";b.d(ht,{M:()=>N});var e=b(3900),d=b(590),u=b(7579),f=b(2722),_=b(4004),P=b(8746),x=b(4782),a=b(1588),R=b(655),L=b(5677),V=b(5e3),F=b(5330),T=b(430);let y=class{constructor($,z,S){this.ref=$,this.config=z,this.service=S}ngOnInit(){}ngAfterContentInit(){setTimeout(()=>{this.credentials=this.config.data.credentials,this.dataReceiver=this.config.data.dataReceiver},1)}};y.\u0275fac=function($){return new($||y)(V.Y36(F.E7),V.Y36(F.S),V.Y36(N))},y.\u0275cmp=V.Xpm({type:y,selectors:[["app-terminal-dialog"]],decls:1,vars:1,consts:[[3,"dataSource","keyInput"]],template:function($,z){1&$&&(V.TgZ(0,"ng-terminal",0),V.NdJ("keyInput",function(O){return z.service.send(O,null==z.credentials?null:z.credentials.sessionId)}),V.qZA()),2&$&&V.Q6J("dataSource",z.dataReceiver)},dependencies:[T.Eo]}),y=(0,R.gn)([(0,L.kG)()],y);var D=b(8738),k=b(8007),B=b(8028);let N=(()=>{class ce{constructor(z,S,O,K){this.api=z,this.rt=S,this.personality=O,this.dialogService=K,this.sessions=[],this.dataReceiversMap=new Map,this.closeStreamSignalMap=new Map,this.openTerminalDialogs=new Map,this.personality.userLogin$.pipe((0,e.w)(ue=>this.rt.telnetConnectionMessage(ue))).subscribe(ue=>this.appendSession(ue))}connect(z,S){this.api.connectToTelnetSession({ip:S,name:z,sessionId:(0,a.Z)(),lastState:"ok"}).subscribe()}send(z,S){if(!S)return;const O=this.sessions.find(K=>K.sessionId===S);if(O&&"ok"==O.lastState){if("\x7f"===z)return void this.api.sendDataToTelnetSession(S,"\b").subscribe();this.api.sendDataToTelnetSession(S,z).subscribe()}}openTerminalDialog(z){const S=this.dataReceiversMap.get(z.sessionId);!S||this.openTerminal(z,S)}openTerminal(z,S){if(this.openTerminalDialogs.has(z.sessionId))return;const O=this.dialogService.open(y,{header:z.name+"\u30fb"+z.ip,contentStyle:{padding:"0",minWidth:"800px"},resizable:!0,draggable:!0,modal:!1,data:{credentials:z,dataReceiver:S}});O.onClose.pipe((0,d.P)()).subscribe(()=>this.openTerminalDialogs.delete(z.sessionId)),this.openTerminalDialogs.set(z.sessionId,O)}appendSession(z){if(this.sessions.some(ue=>ue.sessionId===z.sessionId))return;this.sessions.push(z);const O=new u.x,K=this.rt.remoteTelnetConnection(z.ip,z.sessionId).pipe((0,f.R)(O),(0,_.U)(ue=>(z.lastState=ue.state,ue.data)),(0,P.x)(()=>this.removeSession(z.sessionId)),(0,x.d)(50));this.closeStreamSignalMap.set(z.sessionId,O),this.dataReceiversMap.set(z.sessionId,K),this.openTerminal(z,K)}removeSession(z){var S,O;this.sessions=this.sessions.filter(K=>K.sessionId!==z),null===(S=this.closeStreamSignalMap.get(z))||void 0===S||S.next(null),this.closeStreamSignalMap.delete(z),this.dataReceiversMap.delete(z),null===(O=this.openTerminalDialogs.get(z))||void 0===O||O.close()}isDialogOpen(z){return this.openTerminalDialogs.has(z)}}return ce.\u0275fac=function(z){return new(z||ce)(V.LFG(D.s),V.LFG(k.U),V.LFG(B.F),V.LFG(F.xA))},ce.\u0275prov=V.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},6309:(hn,ht,b)=>{"use strict";b.d(ht,{j:()=>e});let e=(()=>{class d{static getName(f){return 1===f?"\u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0443":2===f?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430\u043c\u0438":4===f?"\u041f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u0447\u0435\u0440\u0435\u0437 \u043a\u0430\u0441\u0441\u0443":8===f?"\u041f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442\u043e\u0432":16===f?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c\u0438":32===f?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043c\u043e\u0432 \u0432 \u0430\u0434\u0440\u0435\u0441\u043d\u043e\u0439":64===f?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u0434\u0440\u0435\u0441\u043d\u043e\u0439 \u043a\u043d\u0438\u0433\u0438":128===f?"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u043e\u0432":256===f?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u043e\u0432":512===f?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0442\u0434\u0435\u043b\u0430\u043c\u0438":1024===f?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044f\u043c\u0438":2048===f?"\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0437\u0430\u0440\u043f\u043b\u0430\u0442\u044b":4096===f?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0430\u0439\u0441\u0430":8192===f?"\u0427\u0442\u0435\u043d\u0438\u0435/\u0417\u0430\u043f\u0438\u0441\u044c \u0444\u0430\u0439\u043b\u043e\u0432":16384===f?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u0437\u0430\u0434\u0430\u0447":32768===f?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0433\u043e\u0432 \u0437\u0430\u0434\u0430\u0447":65536===f?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0439 \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u043e\u0432":131072===f?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u043c\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u043c\u0438":262144===f?"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438":524288===f?"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432":1048576===f?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u0438\u043f\u0430\u043c\u0438 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432":f.toString()+" (\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e)"}static flagList(){return this.array().map(f=>({name:this.getName(f),value:f}))}static read(f){const _=[];for(const P of d.array())f&P&&_.push(P);return _}static array(){return Object.values(d)}static isHasFlag(f,..._){return _.some(P=>(f&P)===P)}static trackByFlag(f,_){return _.value}}return d.BILLING=1,d.MANAGE_SUBSCRIBERS=2,d.MANAGE_CASH=4,d.MANAGE_RECALCULATION=8,d.MANAGE_EMPLOYEES=16,d.EDIT_HOUSE_ADDRESS_BOOK=32,d.EDIT_ADDRESS_BOOK=64,d.VIEW_SWITCH=128,d.EDIT_SWITCH=256,d.MANAGE_DEPARTMENTS=512,d.MANAGE_POSITIONS=1024,d.COUNT_SALARY=2048,d.EDIT_PRICE=4096,d.READ_WRITE_FILES=8192,d.EDIT_TASK_TEMPLATES=16384,d.EDIT_TASK_TAGS=32768,d.EDIT_DEVICES=65536,d.MANAGE_SYSTEM_SETTINGS=131072,d.VIEW_STATISTICS=262144,d.VIEW_CONTRACTS=524288,d.MANAGE_CONTRACTS_TYPES=1048576,d})()},7384:(hn,ht,b)=>{"use strict";b.d(ht,{AE:()=>z,Ez:()=>f,Gu:()=>ce,LE:()=>N,Rh:()=>ne,_r:()=>e,b9:()=>$,dA:()=>y,dH:()=>D,hY:()=>V,k$:()=>B,k5:()=>W,nC:()=>P,nv:()=>j,sf:()=>F});var e=(()=>{return(Y=e||(e={})).BOOLEAN="BOOLEAN",Y.SMALL_TEXT="SMALL_TEXT",Y.LARGE_TEXT="LARGE_TEXT",Y.INTEGER="INTEGER",Y.FLOAT="FLOAT",Y.ADDRESS="ADDRESS",Y.LOGIN="LOGIN",Y.AD_SOURCE="AD_SOURCE",Y.REQUEST_INITIATOR="REQUEST_INITIATOR",Y.IP="IP",Y.EQUIPMENTS="EQUIPMENTS",Y.CONNECTION_SERVICES="CONNECTION_SERVICES",Y.CONNECTION_TYPE="CONNECTION_TYPE",Y.PHONE_ARRAY="PHONE_ARRAY",Y.COUNTING_LIVES="COUNTING_LIVES",Y.PASSPORT_DETAILS="PASSPORT_DETAILS",e;var Y})(),f=(()=>{return(Y=f||(f={})).MODEL="MODEL",Y.PIPELINE="PIPELINE",f;var Y})(),P=(()=>{return(Y=P||(P={})).TEXT="TEXT",Y.LOGIN="LOGIN",Y.ADDRESS="ADDRESS",Y.PHONE="PHONE",Y.AD_SOURCE="AD_SOURCE",Y.CONNECTION_TYPE="CONNECTION_TYPE",Y.CONNECTION_SERVICE="CONNECTION_SERVICE",P;var Y})(),V=(()=>{return(Y=V||(V={})).ACTIVE="ACTIVE",Y.PROCESSING="PROCESSING",Y.CLOSE="CLOSE",V;var Y})(),F=(()=>{return(Y=F||(F={})).PHOTO="PHOTO",Y.VIDEO="VIDEO",Y.DOCUMENT="DOCUMENT",Y.AUDIO="AUDIO",Y.FILE="FILE",F;var Y})(),y=(()=>{return(Y=y||(y={})).CHANGE_STAGE="CHANGE_STAGE",Y.CREATE_WORK_LOG="CREATE_WORK_LOG",Y.FORCE_CLOSE_WORK_LOG="FORCE_CLOSE_WORK_LOG",Y.CLOSE_WORK_LOG="CLOSE_WORK_LOG",Y.CHANGE_RESPONSIBILITY="CHANGE_RESPONSIBILITY",Y.LINKED_TO_PARENT_TASK="LINKED_TO_PARENT_TASK",Y.UNLINKED_FROM_PARENT_TASK="UNLINKED_FROM_PARENT_TASK",Y.UNLINK_CHILD_TASK="UNLINK_CHILD_TASK",Y.LINKED_TO_CHILD_TASKS="LINKED_TO_CHILD_TASKS",Y.CHANGE_TAGS="CHANGE_TAGS",Y.CLEAN_TAGS="CLEAN_TAGS",Y.CHANGE_OBSERVERS="CHANGE_OBSERVERS",Y.UNBIND_RESPONSIBLE="UNBIND_RESPONSIBLE",Y.CHANGE_ACTUAL_FROM="CHANGE_ACTUAL_FROM",Y.CHANGE_ACTUAL_TO="CHANGE_ACTUAL_TO",Y.CLEAR_ACTUAL_FROM_TASK="CLEAR_ACTUAL_FROM_TASK",Y.CLEAR_ACTUAL_TO_TASK="CLEAR_ACTUAL_TO_TASK",Y.CLOSE_TASK="CLOSE_TASK",Y.REOPEN_TASK="REOPEN_TASK",Y.EDIT_FIELDS="EDIT_FIELDS",Y.REPORT_CREATED="REPORT_CREATED",Y.MOVED_TO_DIRECTORY="MOVED_TO_DIRECTORY",y;var Y})(),D=(()=>{return(Y=D||(D={})).ALL="ALL",Y.SCHEDULED="SCHEDULED",Y.UNSCHEDULED="UNSCHEDULED",Y.PLANNED="PLANNED",Y.DEADLINE="DEADLINE",Y.EXCEPT_PLANNED="EXCEPT_PLANNED",D;var Y})(),B=(()=>{return(Y=B||(B={})).TASK_CREATED="TASK_CREATED",Y.TASK_EDITED="TASK_EDITED",Y.TASK_CLOSED="TASK_CLOSED",Y.TASK_DELETED="TASK_DELETED",Y.TASK_PROCESSED="TASK_PROCESSED",Y.TASK_REOPENED="TASK_REOPENED",Y.TASK_STAGE_CHANGED="TASK_STAGE_CHANGED",Y.YOU_RESPONSIBLE="YOU_RESPONSIBLE",Y.YOU_OBSERVER="YOU_OBSERVER",Y.NEW_COMMENT="NEW_COMMENT",Y.TASK_HAS_BECOME_ACTUAL="TASK_HAS_BECOME_ACTUAL",Y.TASK_EXPIRED="TASK_EXPIRED",Y.WORKS_COMPLETED="WORKS_COMPLETED",Y.REPORT_RECEIVED="REPORT_RECEIVED",Y.MENTIONED_IN_TASK="MENTIONED_IN_TASK",B;var Y})(),N=(()=>{return(Y=N||(N={})).ONLINE="ONLINE",Y.AWAY="AWAY",Y.OFFLINE="OFFLINE",N;var Y})(),ce=(()=>{return(Y=ce||(ce={})).READY="READY",Y.LOADING="LOADING",Y.ERROR="ERROR",Y.EMPTY="EMPTY",ce;var Y})(),$=(()=>{return(Y=$||($={})).AMOUNT="AMOUNT",Y.METRES="METRES",Y.KILOGRAMS="KILOGRAMS",$;var Y})();class z{constructor(Te){this.target=null,this.index=null;const Ae=Te.dragNode,Ke=Te.dropNode;this.index=Te.index,this.source=new S(Ae),this.target=Ke.children&&Ke.children.includes(Ae)?new S(Ke):Ke.parent?new S(Ke.parent):null}}class S{constructor(Te){this.key=Te.key,this.label=Te.label,this.icon=Te.icon,this.type=Te.type}}var j=(()=>{return(Y=j||(j={})).NEXT_MONTH="NEXT_MONTH",Y.NEXT_WEEK="NEXT_WEEK",Y.TOMORROW="TOMORROW",Y.TODAY="TODAY",Y.YESTERDAY="YESTERDAY",Y.THIS_WEEK="THIS_WEEK",Y.LAST_WEEK="LAST_WEEK",Y.THIS_MONTH="THIS_MONTH",Y.LAST_MONTH="LAST_MONTH",j;var Y})(),ne=(()=>{return(Y=ne||(ne={})).CREATE_DATE_ASC="CREATE_DATE_ASC",Y.CREATE_DATE_DESC="CREATE_DATE_DESC",ne;var Y})(),W=(()=>{return(Y=W||(W={})).STRING="STRING",Y.DATE="DATE",Y.LOGIN="LOGIN",W;var Y})()},383:(hn,ht,b)=>{"use strict";b.d(ht,{pd:()=>xe,aN:()=>Ut,PU:()=>ee,Ke:()=>vt,xf:()=>we,cQ:()=>Ge,EM:()=>bt,d4:()=>it,xn:()=>ct,cy:()=>Dt,tg:()=>Pe,XO:()=>dt,mQ:()=>at});var e=b(7384),d=b(5963),u=b(3900),f=b(9646),_=b(4968),P=b(8675),x=b(4004),a=b(6451),R=b(7579),L=b(8505),V=b(9841),F=b(4782),T=b(9751),y=b(5e3),D=b(4707);const k={schedule(me,De){const ot=setTimeout(me,De);return()=>clearTimeout(ot)},scheduleBeforeRender(me){if("undefined"==typeof window)return k.schedule(me,0);if(void 0===window.requestAnimationFrame)return k.schedule(me,16);const De=window.requestAnimationFrame(me);return()=>window.cancelAnimationFrame(De)}};let z;function G(me,De,ot){let Ct=ot;return function N(me){return!!me&&me.nodeType===Node.ELEMENT_NODE}(me)&&De.some((Ot,Ft)=>!("*"===Ot||!function S(me,De){if(!z){const ot=Element.prototype;z=ot.matches||ot.matchesSelector||ot.mozMatchesSelector||ot.msMatchesSelector||ot.oMatchesSelector||ot.webkitMatchesSelector}return me.nodeType===Node.ELEMENT_NODE&&z.call(me,De)}(me,Ot)||(Ct=Ft,0))),Ct}class fe{constructor(De,ot){this.componentFactory=ot.get(y._Vd).resolveComponentFactory(De)}create(De){return new ne(this.componentFactory,De)}}class ne{constructor(De,ot){this.componentFactory=De,this.injector=ot,this.eventEmitters=new D.t(1),this.events=this.eventEmitters.pipe((0,u.w)(Ct=>(0,a.T)(...Ct))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:Ct})=>Ct)),this.ngZone=this.injector.get(y.R0b),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(()=>Zone.current)}connect(De){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(De)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=k.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(De){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(De):this.componentRef.instance[De])}setInputValue(De,ot){this.runInZone(()=>{null!==this.componentRef?function O(me,De){return me===De||me!=me&&De!=De}(ot,this.getInputValue(De))&&(void 0!==ot||!this.unchangedInputs.has(De))||(this.recordInputChange(De,ot),this.unchangedInputs.delete(De),this.hasInputChanges=!0,this.componentRef.instance[De]=ot,this.scheduleDetectChanges()):this.initialInputValues.set(De,ot)})}initializeComponent(De){const ot=y.zs3.create({providers:[],parent:this.injector}),Ct=function q(me,De){const ot=me.childNodes,Ct=De.map(()=>[]);let Ot=-1;De.some((Ft,Mt)=>"*"===Ft&&(Ot=Mt,!0));for(let Ft=0,Mt=ot.length;Ft<Mt;++Ft){const Ye=ot[Ft],st=G(Ye,De,Ot);-1!==st&&Ct[st].push(Ye)}return Ct}(De,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(ot,Ct,De),this.viewChangeDetectorRef=this.componentRef.injector.get(y.sBO),this.implementsOnChanges=function ce(me){return"function"==typeof me}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(y.z2F).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:De})=>{this.initialInputValues.has(De)&&this.setInputValue(De,this.initialInputValues.get(De))}),this.initialInputValues.clear()}initializeOutputs(De){const ot=this.componentFactory.outputs.map(({propName:Ct,templateName:Ot})=>De.instance[Ct].pipe((0,x.U)(Mt=>({name:Ot,value:Mt}))));this.eventEmitters.next(ot)}callNgOnChanges(De){if(!this.implementsOnChanges||null===this.inputChanges)return;const ot=this.inputChanges;this.inputChanges=null,De.instance.ngOnChanges(ot)}markViewForCheck(De){this.hasInputChanges&&(this.hasInputChanges=!1,De.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=k.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(De,ot){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const Ct=this.inputChanges[De];if(Ct)return void(Ct.currentValue=ot);const Ot=this.unchangedInputs.has(De),Ft=Ot?void 0:this.getInputValue(De);this.inputChanges[De]=new y.WD2(Ft,ot,Ot)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(De){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(De):De()}}class J extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function X(me,De){const ot=function ue(me,De){return De.get(y._Vd).resolveComponentFactory(me).inputs}(me,De.injector),Ct=De.strategyFactory||new fe(me,De.injector),Ot=function K(me){const De={};return me.forEach(({propName:ot,templateName:Ct})=>{De[function B(me){return me.replace(/[A-Z]/g,De=>`-${De.toLowerCase()}`)}(Ct)]=ot}),De}(ot);class Ft extends J{constructor(Ye){super(),this.injector=Ye}get ngElementStrategy(){if(!this._ngElementStrategy){const Ye=this._ngElementStrategy=Ct.create(this.injector||De.injector);ot.forEach(({propName:st})=>{if(!this.hasOwnProperty(st))return;const je=this[st];delete this[st],Ye.setInputValue(st,je)})}return this._ngElementStrategy}attributeChangedCallback(Ye,st,je,It){this.ngElementStrategy.setInputValue(Ot[Ye],je)}connectedCallback(){let Ye=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),Ye=!0),this.ngElementStrategy.connect(this),Ye||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(Ye=>{const st=new CustomEvent(Ye.name,{detail:Ye.value});this.dispatchEvent(st)})}}return Ft.observedAttributes=Object.keys(Ot),ot.forEach(({propName:Mt})=>{Object.defineProperty(Ft.prototype,Mt,{get(){return this.ngElementStrategy.getInputValue(Mt)},set(Ye){this.ngElementStrategy.setInputValue(Mt,Ye)},configurable:!0,enumerable:!0})}),Ft}var Y=b(1110),Te=b(2777),Ae=b(7805),Ke=b(7092),be=b(6890);class Ge{static convertModelItemToString(De){var ot,Ct;if(De.wireframeFieldType===e._r.ADDRESS){const Ot=De.addressData;return Ot?`${null===(ot=Ot.city)||void 0===ot?void 0:ot.name} ${null===(Ct=Ot.street)||void 0===Ct?void 0:Ct.name} ${Ot.houseNum}${Ot.fraction?"/"+Ot.fraction:""}${Ot.letter}${Ot.build?" \u0441\u0442\u0440."+Ot.build:""} \u043a\u0432.${Ot.apartmentNum}`:""}return""}static isCorrectSequenceOfCharacters(De,ot,Ct=[]){const Ot=De.delta.ops,Ft=De.oldDelta.ops,Mt=De.editor.getSelection(!0).index;if(!Ot||!Ft)return!1;if(1===Ot.length){if(Ot[0].insert===ot)return!0}else if(2===Ot.length){const Ye=Ft.reduce((je,It)=>je+It.insert,"").slice(0,Mt-1),st=Ot[1].insert;if(0===Ct.length&&st===ot||st===ot&&Ct.some(je=>Ye.endsWith(je)))return!0}return!1}static dateFormat(De){return`${De.getFullYear()}-${(De.getMonth()+1).toString().padStart(2,"0")}-${De.getDate().toString().padStart(2,"0")}T${De.getHours().toString().padStart(2,"0")}:${De.getMinutes().toString().padStart(2,"0")}:${De.getSeconds().toString().padStart(2,"0")}Z`}static dateFormatTS(De){return`${De.getFullYear()}-${(De.getMonth()+1).toString().padStart(2,"0")}-${De.getDate().toString().padStart(2,"0")} ${De.getHours().toString().padStart(2,"0")}:${De.getMinutes().toString().padStart(2,"0")}:${De.getSeconds().toString().padStart(2,"0")}`}static stringToColor(De,ot=70,Ct=100,Ot=50,Ft=80){let Mt=0;for(let It=0;It<De.length;It++)Mt=De.charCodeAt(It)+((Mt<<5)-Mt);return`hsl(${Mt%360}, ${Math.max(ot,Math.min(Ct,Mt%100/100*(Ct-ot)+ot))}%, ${Math.max(Ot,Math.min(Ft,Mt%100/100*(Ft-Ot)+Ot))}%)`}static stringToGradient(De,ot=90,Ct=70,Ot=85,Ft=65){let Mt=0;for(let cn=0;cn<De.length;cn++)Mt=De.charCodeAt(cn)+((Mt<<5)-Mt);const Ye=Mt%360,st=Mt%(ot-Ct+1)+Ct,je=Mt%(Ot-Ft+1)+Ft;return`linear-gradient(0deg, hsl(${Ye}, ${st}%, ${je}%) 0%, hsl(${(Ye-30)%360}, ${st}%, ${je-10}%) 100%)`}static declineOfNumber(De,ot){const Ct=(De=Math.abs(De)%100)%10;return De>10&&De<20?ot[2]:Ct>1&&Ct<5?ot[1]:1==Ct?ot[0]:ot[2]}static getValueFromModelItem(De){switch(De.wireframeFieldType){case e._r.ADDRESS:return De.addressData;case e._r.INTEGER:return De.integerData;case e._r.FLOAT:return De.floatData;case e._r.BOOLEAN:return De.booleanData;case e._r.PHONE_ARRAY:return De.phoneData;case e._r.IP:case e._r.LARGE_TEXT:case e._r.LOGIN:case e._r.SMALL_TEXT:case e._r.CONNECTION_TYPE:case e._r.AD_SOURCE:case e._r.REQUEST_INITIATOR:case e._r.COUNTING_LIVES:return De.stringData;case e._r.CONNECTION_SERVICES:return De.connectionServicesData;case e._r.EQUIPMENTS:return De.equipmentRealizationsData;case e._r.PASSPORT_DETAILS:return De.passportDetailsData;default:return null}}static setValueToModelItem(De,ot){switch(De.wireframeFieldType){case e._r.ADDRESS:De.addressData=ot;break;case e._r.INTEGER:De.integerData=ot;break;case e._r.FLOAT:De.floatData=ot;break;case e._r.BOOLEAN:De.booleanData=ot;break;case e._r.PHONE_ARRAY:De.phoneData=ot;break;case e._r.IP:case e._r.LARGE_TEXT:case e._r.LOGIN:case e._r.CONNECTION_TYPE:case e._r.SMALL_TEXT:case e._r.AD_SOURCE:case e._r.REQUEST_INITIATOR:case e._r.COUNTING_LIVES:De.stringData=ot;break;case e._r.CONNECTION_SERVICES:De.connectionServicesData=ot;break;case e._r.EQUIPMENTS:De.equipmentRealizationsData=ot;break;case e._r.PASSPORT_DETAILS:De.passportDetailsData=ot}return De}static copyToClipboard(De,ot,Ct,Ot){var Ft;if(null!==(Ft=navigator.clipboard)&&void 0!==Ft&&Ft.writeText)navigator.clipboard.writeText(De).then(()=>{ot.add({detail:Ct,severity:"dark",key:"darktoast",icon:"mdi-copy",closable:!1})});else{const Mt=document.createElement("textarea");Mt.style.display="fixed",Mt.style.top="-100",Mt.style.left="-100",Mt.style.opacity="0",Mt.style.userSelect="none",Mt.style.pointerEvents="none",Mt.value=De,document.body.appendChild(Mt),Mt.select();try{document.execCommand("copy"),ot.add({detail:Ct,severity:"dark",key:"darktoast",icon:"mdi-copy",closable:!1})}catch(Ye){ot.add({detail:Ot,severity:"dark",key:"darktoast",icon:"mdi-copy",closable:!1})}document.body.removeChild(Mt)}}static prepareForHttpRequest(De){if("object"==typeof De)for(let ot in De)Array.isArray(De[ot])||"string"==typeof De[ot]||"number"==typeof De[ot]||"boolean"==typeof De[ot]?Array.isArray(De[ot])&&(De[ot]=De[ot].map(Ct=>"object"==typeof Ct?JSON.stringify(Ct):Ct)):De[ot]=JSON.stringify(De[ot]);return De}static groupBy(De,ot){return De.reduce((Ct,Ot)=>Object.assign(Object.assign({},Ct),{[Ot[ot]]:[...Ct[Ot[ot]]||[],Ot]}),{})}static arrayEquals(De,ot){if(!De||!ot||De.length!==ot.length)return!1;const Ct=new Map;De.forEach(Ot=>{const Ft=Ct.get(Ot);Ct.set(Ot,Ft?{aCount:Ft.aCount+1,bCount:0}:{aCount:1,bCount:0})}),ot.forEach(Ot=>{const Ft=Ct.get(Ot);Ct.set(Ot,Ft?{aCount:Ft.aCount,bCount:Ft.bCount+1}:{aCount:0,bCount:1})});for(let[Ot,{aCount:Ft,bCount:Mt}]of Ct)if(Ft!==Mt)return!1;return!0}static getRandom(De,ot){return Math.round(Math.random()*(ot-De)+De)}}class ee{static convert(De,ot){return ot.steps.reduce((Ot,Ft)=>[...Ot,...Ft.fields],[]).filter(Ot=>Object.keys(De).includes(Ot.id)).map(Ot=>{const Ft=De[Ot.id],Mt={id:Ot.id,wireframeFieldType:Ot.type,name:Ot.name,variation:Ot.variation,displayType:Ot.displayType};switch(Ot.type){case e._r.SMALL_TEXT:case e._r.LARGE_TEXT:case e._r.LOGIN:case e._r.IP:case e._r.CONNECTION_TYPE:case e._r.AD_SOURCE:case e._r.REQUEST_INITIATOR:case e._r.COUNTING_LIVES:Mt.stringData=Ft;break;case e._r.ADDRESS:Mt.addressData=Ft;break;case e._r.PHONE_ARRAY:Mt.phoneData=Ft;break;case e._r.INTEGER:Mt.integerData=Ft;break;case e._r.BOOLEAN:Mt.booleanData=Ft;break;case e._r.FLOAT:Mt.floatData=Ft;break;case e._r.CONNECTION_SERVICES:Mt.connectionServicesData=Ft;break;case e._r.EQUIPMENTS:Mt.equipmentRealizationsData=Ft;break;case e._r.PASSPORT_DETAILS:Mt.passportDetailsData=Ft}return Mt})}static editExisting(De,ot){return ot.map(Ct=>Ge.setValueToModelItem(Ct,De[Ct.modelItemId]))}}class xe{constructor(){this.observer=(0,d.H)(0,1e3).pipe((0,u.w)(()=>(0,f.of)(this.getTime()))),this.time=0}setTime(De){this.time=De instanceof Date?De.getTime():"string"==typeof De?new Date(De).getTime():"number"==typeof De?De:0}getTime(){if(0===this.time)return{biggestSuffix:"",biggestType:"none",biggestValue:0,current:{days:0,hours:0,minutes:0,seconds:0},mode:"none",timeError:!0,actualLabel:"-"};const De=(new Date).getTime(),ot=Math.abs(this.time-De),Ct=this.time<De?"after":"before";let Ot=Math.floor(ot/864e5),Ft=Math.floor(ot%864e5/36e5),Mt=Math.floor(ot%36e5/6e4),Ye=Math.floor(ot%6e4/1e3);if(Ot>0){const st=Ge.declineOfNumber(Ot,["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"]);return{biggestSuffix:st,biggestType:"days",biggestValue:Ot,current:{days:Ot,hours:Ft,minutes:Mt,seconds:Ye},mode:Ct,timeError:!1,actualLabel:`${Ot} ${st}`}}if(Ft>0){const st=Ge.declineOfNumber(Ft,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"]);return{biggestSuffix:st,biggestType:"hours",biggestValue:Ft,current:{days:Ot,hours:Ft,minutes:Mt,seconds:Ye},mode:Ct,timeError:!1,actualLabel:`${Ft} ${st}`}}if(Mt>0){const st=Ge.declineOfNumber(Mt,["\u043c\u0438\u043d\u0443\u0442\u0443","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"]);return{biggestSuffix:st,biggestType:"minutes",biggestValue:Mt,current:{days:Ot,hours:Ft,minutes:Mt,seconds:Ye},mode:Ct,timeError:!1,actualLabel:`${Mt} ${st}`}}{const st=Ge.declineOfNumber(Ye,["\u0441\u0435\u043a\u0443\u043d\u0434\u0443","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"]);return{biggestSuffix:st,biggestType:"seconds",biggestValue:Ye,current:{days:Ot,hours:Ft,minutes:Mt,seconds:Ye},mode:Ct,timeError:!1,actualLabel:`${Ye} ${st}`}}}}class we{constructor(){this.subscriptions=new Map}addSubscription(De,ot){const Ct=this.subscriptions.get(De);Ct&&Ct.unsubscribe(),this.subscriptions.set(De,ot)}unsubscribeAll(){this.subscriptions.forEach(De=>De.unsubscribe()),this.subscriptions.clear()}unsubscribe(De){const ot=this.subscriptions.get(De);ot&&ot.unsubscribe(),this.subscriptions.delete(De)}}const Pe={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{color:[]}],["clean"],["link"]]};function dt(me){const De={"employee-label-element":X(Y.x,{injector:me}),"task-link-element":X(Te.U,{injector:me}),"department-label-element":X(Ae.y,{injector:me}),"appointed-installers-element":X(Ke._,{injector:me}),"chat-link-element":X(be.K,{injector:me})};for(const[ot,Ct]of Object.entries(De))customElements.get(ot)||customElements.define(ot,Ct)}function bt(me){me.ripple=!0,me.setTranslation({startsWith:"\u041d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441",contains:"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442",notContains:"\u041d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442",endsWith:"\u041a\u043e\u043d\u0447\u0430\u0435\u0442\u0441\u044f",equals:"\u0420\u0430\u0432\u043d\u043e",notEquals:"\u041d\u0435 \u0440\u0430\u0432\u043d\u043e",noFilter:"\u041d\u0435\u0442 \u0444\u0438\u043b\u044c\u0442\u0440\u0430",lt:"\u041c\u0435\u043d\u044c\u0448\u0435, \u0447\u0435\u043c",lte:"\u041c\u0435\u043d\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e",gt:"\u0411\u043e\u043b\u044c\u0448\u0435 \u0447\u0435\u043c",gte:"\u0411\u043e\u043b\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e",is:"\u042f\u0432\u043b\u044f\u0435\u0442\u0441\u044f",isNot:"\u041d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f",before:"\u0414\u043e",after:"\u041f\u043e\u0441\u043b\u0435",dateIs:"\u0414\u0430\u0442\u0430",dateIsNot:"\u0414\u0430\u0442\u0430 \u043d\u0435",dateBefore:"\u0414\u0430\u0442\u0430 \u0440\u0430\u043d\u044c\u0448\u0435",dateAfter:"\u0414\u0430\u0442\u0430 \u043f\u043e\u0441\u043b\u0435",clear:"\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c",apply:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",matchAll:"\u0421\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u043e \u0432\u0441\u0435\u043c",matchAny:"\u0421\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438",addRule:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e",removeRule:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e",accept:"\u0414\u0430",reject:"\u041d\u0435\u0442",choose:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",upload:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",dayNames:["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"],dayNamesShort:["\u0412\u0441\u043a","\u041f\u043e\u043d","\u0412\u0442\u043e","\u0421\u0440\u0435","\u0427\u0435\u0442","\u041f\u044f\u0442","\u0421\u0443\u0431"],dayNamesMin:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],monthNames:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],monthNamesShort:["\u042f\u043d\u0432","\u0424\u0435\u0432","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u044f","\u0414\u0435\u043a"],dateFormat:"dd-mm-yy",firstDayOfWeek:0,today:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",weekHeader:"\u041d\u0434",weak:"\u041d\u0435\u0434\u0435\u043b\u044f",medium:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439",strong:"\u0416\u0438\u0440\u043d\u044b\u0439",passwordPrompt:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",emptyMessage:"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442",emptyFilterMessage:"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442"})}function it(me,De=0){let ot=3735928559^De,Ct=1103547991^De;for(let Ft,Ot=0;Ot<me.length;Ot++)Ft=me.charCodeAt(Ot),ot=Math.imul(ot^Ft,2654435761),Ct=Math.imul(Ct^Ft,1597334677);return ot=Math.imul(ot^ot>>>16,2246822507),ot^=Math.imul(Ct^Ct>>>13,3266489909),Ct=Math.imul(Ct^Ct>>>16,2246822507),Ct^=Math.imul(ot^ot>>>13,3266489909),(4294967296*(2097151&Ct)+(ot>>>0)).toString(16)}function Dt(me){const De=window.matchMedia(me);return(0,_.R)(De,"change").pipe((0,P.O)(De),(0,x.U)(ot=>ot.matches))}class vt{static save(De,ot){localStorage.setItem(De,JSON.stringify(ot))}static load(De){const ot=localStorage.getItem(De);return null===ot?null:JSON.parse(ot)}static loadOrDefault(De,ot){const Ct=localStorage.getItem(De);return null===Ct?ot:JSON.parse(Ct)}}class Wt{constructor(De){this.loadingState=e.Gu.LOADING,this.value=De}}class zt{constructor(De){this.loadingState=e.Gu.LOADING,this.pageNumber=0,this.totalElements=0,this.value=De}}class Ut{static of(De,ot,Ct,Ot,Ft){const Mt=new Wt([]),Ye=[De.pipe((0,x.U)(st=>(Mt.loadingState=null==st||0===st.length?e.Gu.EMPTY:e.Gu.READY,Mt.value=st||[],Mt)))];return Ct&&Ye.push(Ct.pipe((0,x.U)(st=>(Mt.value.some(je=>je[ot]===st[ot])||Mt.value.unshift(st),Mt)))),Ot&&Ye.push(Ot.pipe((0,x.U)(st=>{const je=Mt.value.findIndex(It=>It[ot]===st[ot]);return-1!==je&&(Mt.value[je]=st),Mt}))),Ft&&Ye.push(Ft.pipe((0,x.U)(st=>{const je=Mt.value.findIndex(It=>It[ot]===st[ot]);return-1!==je&&Mt.value.splice(je,1),Mt}))),(0,a.T)(...Ye).pipe((0,P.O)(Mt))}static ofWithFilter(De,ot,Ct,Ot,Ft,Mt){const Ye=new Wt([]),st=new R.x,je=st.pipe((0,x.U)(se=>(Ye.loadingState=se,Ye))),It=[De.pipe((0,L.b)({next:()=>st.next(e.Gu.LOADING)}),(0,u.w)(se=>ot(...se).pipe((0,x.U)(Fe=>(Ye.loadingState=null==Fe||0===Fe.length?e.Gu.EMPTY:e.Gu.READY,Ye.value=Fe||[],Ye)))))];return Ot&&It.push(Ot.pipe((0,x.U)(se=>(Ye.value.unshift(se),Ye)))),Ft&&It.push(Ft.pipe((0,x.U)(se=>{const Fe=Ye.value.findIndex(he=>he[Ct]===se[Ct]);return-1!==Fe&&(Ye.value[Fe]=se),Ye}))),Mt&&It.push(Mt.pipe((0,x.U)(se=>{const Fe=Ye.value.findIndex(he=>he[Ct]===se[Ct]);return-1!==Fe&&Ye.value.splice(Fe,1),Ye}))),(0,a.T)(...It,je).pipe((0,P.O)(Ye))}static ofPage(De,ot,Ct,Ot,Ft,Mt){const Ye=new zt([]),st=new R.x,je=st.pipe((0,x.U)(se=>(Ye.loadingState=se,Ye))),It=[De.pipe((0,L.b)({next:()=>st.next(e.Gu.LOADING)}),(0,u.w)(se=>ot(...se).pipe((0,x.U)(Fe=>(Ye.loadingState=null==Fe||0===Fe.content.length?e.Gu.EMPTY:e.Gu.READY,Ye.value=Fe.content||[],Ye.pageNumber=Fe.number,Ye.totalElements=Fe.totalElements,Ye)))))];return Ot&&It.push(Ot.pipe((0,x.U)(se=>(0===Ye.pageNumber&&Ye.value.unshift(se),Ye)))),Ft&&It.push(Ft.pipe((0,x.U)(se=>{const Fe=Ye.value.findIndex(he=>he[Ct]===se[Ct]);return-1!==Fe&&(Ye.value[Fe]=se),Ye}))),Mt&&It.push(Mt.pipe((0,x.U)(se=>{const Fe=Ye.value.findIndex(he=>he[Ct]===se[Ct]);return-1!==Fe&&Ye.value.splice(Fe,1),Ye}))),(0,a.T)(...It,je).pipe((0,P.O)(Ye))}static ofPageAlt(De,ot,Ct,Ot,Ft,Mt){const Ye=new zt([]),st=new R.x,je=st.pipe((0,x.U)(se=>(Ye.loadingState=se,Ye))),It=Ot?[(0,V.a)([Ot.pipe((0,P.O)(null)),De]).pipe((0,L.b)({next:se=>st.next(e.Gu.LOADING)}),(0,u.w)(([se,Fe])=>ot(...Fe).pipe((0,x.U)(he=>(Ye.loadingState=null==he||0===he.content.length?e.Gu.EMPTY:e.Gu.READY,Ye.value=he.content||[],Ye.pageNumber=he.number,Ye.totalElements=he.totalElements,Ye)))))]:[De.pipe((0,L.b)({next:se=>st.next(e.Gu.LOADING)}),(0,u.w)(([se,Fe])=>ot(...Fe).pipe((0,x.U)(he=>(Ye.loadingState=null==he||0===he.content.length?e.Gu.EMPTY:e.Gu.READY,Ye.value=he.content||[],Ye.pageNumber=he.number,Ye.totalElements=he.totalElements,Ye)))))];return Ft&&It.push(Ft.pipe((0,x.U)(se=>{const Fe=Ye.value.findIndex(he=>he[Ct]===se[Ct]);if(-1!==Fe){const he=Ye.value[Fe];for(let gt in he)null!=se[gt]&&(he[gt]=se[gt])}return Ye}))),Mt&&It.push(Mt.pipe((0,x.U)(se=>{const Fe=Ye.value.findIndex(he=>he[Ct]===se[Ct]);return-1!==Fe&&Ye.value.splice(Fe,1),Ye}))),(0,a.T)(...It,je).pipe((0,P.O)(Ye))}static ofPageAltAll(De,ot,Ct){const Ot=new zt([]),Ft=new R.x,Mt=Ft.pipe((0,x.U)(st=>(Ot.loadingState=st,Ot))),Ye=(0,a.T)(De,(0,a.T)(...Ct||[]).pipe((0,u.w)(()=>De.pipe((0,F.d)(1))),(0,x.U)(st=>({filter:st,update:!0})))).pipe((0,L.b)({next:st=>{"update"in st||Ft.next(e.Gu.LOADING)}}),(0,u.w)(st=>ot(..."update"in st?st.filter:st).pipe((0,x.U)(je=>(Ot.loadingState=null==je||0===je.content.length?e.Gu.EMPTY:e.Gu.READY,Ot.value=je.content||[],Ot.pageNumber=je.number,Ot.totalElements=je.totalElements,Ot)))));return(0,a.T)(Ye,Mt).pipe((0,P.O)(Ot))}static ofAltAll(De,ot,Ct){const Ot=new Wt([]),Ft=new R.x,Mt=Ft.pipe((0,x.U)(st=>(Ot.loadingState=st,Ot))),Ye=(0,a.T)(De,(0,a.T)(...Ct||[]).pipe((0,u.w)(()=>De.pipe((0,F.d)(1))),(0,x.U)(st=>({filter:st,update:!0})))).pipe((0,L.b)({next:st=>{"update"in st||Ft.next(e.Gu.LOADING)}}),(0,u.w)(st=>ot(..."update"in st?st.filter:st).pipe((0,x.U)(je=>(Ot.loadingState=null==je||0===je.length?e.Gu.EMPTY:e.Gu.READY,Ot.value=je||[],Ot)))));return(0,a.T)(Ye,Mt).pipe((0,P.O)(Ot))}static ofAll(De,ot){const Ct=new Wt([]);return(0,a.T)(...ot||[]).pipe((0,P.O)(null),(0,u.w)(()=>De.pipe((0,x.U)(Ft=>(Ct.loadingState=null==Ft||0===Ft.length?e.Gu.EMPTY:e.Gu.READY,Ct.value=Ft||[],Ct))))).pipe((0,P.O)(Ct))}}const ct=new T.y(me=>{let De=1;const ot=setInterval(()=>{me.next(".".repeat(De)),De++,De>3&&(De=1)},300);return()=>clearInterval(ot)}),at=[{stWidth:87,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:69,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:90,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:70,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:109,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:73,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:85,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:73,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:82,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:102,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:66,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:117,houses:[null,null,null,null,null,null,null,null,null]},{stWidth:68,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:120,houses:[null,null,null,null]},{stWidth:67,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:70,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:78,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:122,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:90,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:114,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]}]},2340:(hn,ht,b)=>{"use strict";b.d(ht,{N:()=>e});const e={production:!0,wsHost:"ws://10.128.227.39/socket",hmr:!1}},8255:(hn,ht,b)=>{"use strict";var e=b(2313),d=b(5e3),u=b(383),f=b(3470),_=b(9300),P=b(4326),x=b(9783),a=b(9808),R=b(7773),L=b(1110);function V(ft,ae){if(1&ft&&(d.TgZ(0,"span",9),d._uU(1),d.qZA()),2&ft){const pe=d.oxw().$implicit;d.xp6(1),d.Oqu(pe.data.descriptionOfAttachment)}}function F(ft,ae){if(1&ft&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&ft){const pe=d.oxw().$implicit;d.xp6(1),d.Oqu(pe.data.text)}}const T=function(){return{marginLeft:"2rem"}};function y(ft,ae){if(1&ft&&(d.TgZ(0,"div",2)(1,"div",3),d._UZ(2,"app-employee-label",4),d.qZA(),d.TgZ(3,"div",5),d.YNc(4,V,2,1,"span",6),d.YNc(5,F,2,1,"span",7),d.qZA(),d.TgZ(6,"div",8)(7,"span"),d._uU(8),d.ALo(9,"date"),d.qZA()()()),2&ft){const pe=ae.$implicit;d.xp6(2),d.Q6J("employee",pe.data.author),d.xp6(1),d.Akn(d.DdM(9,T)),d.xp6(1),d.Q6J("ngIf",pe.data.descriptionOfAttachment),d.xp6(1),d.Q6J("ngIf",pe.data.text),d.xp6(3),d.Oqu(d.xi3(9,6,pe.data.sendAt,"dd-MM-yyyy HH:mm"))}}let D=(()=>{class ft{constructor(pe,We,yt,Jt){this.config=pe,this.title="Microel CRM",(0,u.EM)(pe),(0,u.XO)(We),yt.events.pipe((0,_.h)(un=>un instanceof f.Xs)).pipe((0,P.g)(1)).subscribe(un=>{un.position?Jt.scrollToPosition(un.position):un.anchor?Jt.scrollToAnchor(un.anchor):Jt.scrollToPosition([0,0])})}}return ft.\u0275fac=function(pe){return new(pe||ft)(d.Y36(x.b4),d.Y36(d.zs3),d.Y36(f.F0),d.Y36(a.EM))},ft.\u0275cmp=d.Xpm({type:ft,selectors:[["app-root"]],decls:4,vars:0,consts:[["position","bottom-right","key","chatMessage"],["pTemplate","message"],[1,"flexed","column","stretched","gap5"],[1,"flexed","hcenter"],[3,"employee"],[1,"flexed","column"],["class","caption size-small wt-bold f-color-primary",4,"ngIf"],[4,"ngIf"],[1,"flexed","vend","caption","size-tiny","wt-bold","f-color-500"],[1,"caption","size-small","wt-bold","f-color-primary"]],template:function(pe,We){1&pe&&(d._UZ(0,"router-outlet")(1,"p-toast"),d.TgZ(2,"p-toast",0),d.YNc(3,y,10,10,"ng-template",1),d.qZA())},dependencies:[f.lC,a.O5,R.FN,x.jx,L.x,a.uU]}),ft})();const k=void 0,N=["ru",[["AM","PM"],k,k],k,[["\u0412","\u041f","\u0412","\u0421","\u0427","\u041f","\u0421"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],k,[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440.","\u0430\u043f\u0440.","\u043c\u0430\u044f","\u0438\u044e\u043d.","\u0438\u044e\u043b.","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"]],[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440.","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"]],[["\u0434\u043e \u043d.\u044d.","\u043d.\u044d."],["\u0434\u043e \u043d. \u044d.","\u043d. \u044d."],["\u0434\u043e \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430","\u043e\u0442 \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430"]],1,[6,0],["dd.MM.y","d MMM y '\u0433'.","d MMMM y '\u0433'.","EEEE, d MMMM y '\u0433'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",k,k,k],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","\u043d\u0435\xa0\u0447\u0438\u0441\u043b\u043e",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"RUB","\u20bd","\u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",{BYN:[k,"\u0440."],GEL:[k,"\u10da"],PHP:[k,"\u20b1"],RON:[k,"L"],RUB:["\u20bd"],RUR:["\u0440."],THB:["\u0e3f"],TMT:["\u0422\u041c\u0422"],TWD:["NT$"],UAH:["\u20b4"],XXX:["XXXX"]},"ltr",function B(ft){const pe=Math.floor(Math.abs(ft)),We=ft.toString().replace(/^[^.]*\.?/,"").length;return 0===We&&pe%10==1&&pe%100!=11?1:0===We&&pe%10===Math.floor(pe%10)&&pe%10>=2&&pe%10<=4&&!(pe%100>=12&&pe%100<=14)?3:0===We&&pe%10==0||0===We&&pe%10===Math.floor(pe%10)&&pe%10>=5&&pe%10<=9||0===We&&pe%100===Math.floor(pe%100)&&pe%100>=11&&pe%100<=14?4:5}];var ce=b(975),$=b(2022),z=b(1777);function O(ft){return new d.vHH(3e3,!1)}function Mt(){return"undefined"!=typeof window&&void 0!==window.document}function Ye(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function st(ft){switch(ft.length){case 0:return new z.ZN;case 1:return ft[0];default:return new z.ZE(ft)}}function je(ft,ae,pe,We,yt=new Map,Jt=new Map){const un=[],_n=[];let En=-1,Vn=null;if(We.forEach(Yt=>{const Ne=Yt.get("offset"),Ue=Ne==En,mt=Ue&&Vn||new Map;Yt.forEach((Lt,an)=>{let An=an,On=Lt;if("offset"!==an)switch(An=ae.normalizePropertyName(An,un),On){case z.k1:On=yt.get(an);break;case z.l3:On=Jt.get(an);break;default:On=ae.normalizeStyleValue(an,An,On,un)}mt.set(An,On)}),Ue||_n.push(mt),Vn=mt,En=Ne}),un.length)throw function Dt(ft){return new d.vHH(3502,!1)}();return _n}function It(ft,ae,pe,We){switch(ae){case"start":ft.onStart(()=>We(pe&&se(pe,"start",ft)));break;case"done":ft.onDone(()=>We(pe&&se(pe,"done",ft)));break;case"destroy":ft.onDestroy(()=>We(pe&&se(pe,"destroy",ft)))}}function se(ft,ae,pe){const We=pe.totalTime,Jt=Fe(ft.element,ft.triggerName,ft.fromState,ft.toState,ae||ft.phaseName,null==We?ft.totalTime:We,!!pe.disabled),un=ft._data;return null!=un&&(Jt._data=un),Jt}function Fe(ft,ae,pe,We,yt="",Jt=0,un){return{element:ft,triggerName:ae,fromState:pe,toState:We,phaseName:yt,totalTime:Jt,disabled:!!un}}function he(ft,ae,pe){let We=ft.get(ae);return We||ft.set(ae,We=pe),We}function gt(ft){const ae=ft.indexOf(":");return[ft.substring(1,ae),ft.slice(ae+1)]}let cn=(ft,ae)=>!1,Tn=(ft,ae,pe)=>[],en=null;function _t(ft){const ae=ft.parentNode||ft.host;return ae===en?null:ae}(Ye()||"undefined"!=typeof Element)&&(Mt()?(en=(()=>document.documentElement)(),cn=(ft,ae)=>{for(;ae;){if(ae===ft)return!0;ae=_t(ae)}return!1}):cn=(ft,ae)=>ft.contains(ae),Tn=(ft,ae,pe)=>{if(pe)return Array.from(ft.querySelectorAll(ae));const We=ft.querySelector(ae);return We?[We]:[]});let Qe=null,ze=!1;const gn=cn,Qt=Tn;let Nt=(()=>{class ft{validateStyleProperty(pe){return function Et(ft){Qe||(Qe=function qt(){return"undefined"!=typeof document?document.body:null}()||{},ze=!!Qe.style&&"WebkitAppearance"in Qe.style);let ae=!0;return Qe.style&&!function de(ft){return"ebkit"==ft.substring(1,6)}(ft)&&(ae=ft in Qe.style,!ae&&ze&&(ae="Webkit"+ft.charAt(0).toUpperCase()+ft.slice(1)in Qe.style)),ae}(pe)}matchesElement(pe,We){return!1}containsElement(pe,We){return gn(pe,We)}getParentElement(pe){return _t(pe)}query(pe,We,yt){return Qt(pe,We,yt)}computeStyle(pe,We,yt){return yt||""}animate(pe,We,yt,Jt,un,_n=[],En){return new z.ZN(yt,Jt)}}return ft.\u0275fac=function(pe){return new(pe||ft)},ft.\u0275prov=d.Yz7({token:ft,factory:ft.\u0275fac}),ft})(),rn=(()=>{class ft{}return ft.NOOP=new Nt,ft})();const vi="ng-enter",Ni="ng-leave",io="ng-trigger",Ho=".ng-trigger",Ht="ng-animating",Je=".ng-animating";function ye(ft){if("number"==typeof ft)return ft;const ae=ft.match(/^(-?[\.\d]+)(m?s)/);return!ae||ae.length<2?0:He(parseFloat(ae[1]),ae[2])}function He(ft,ae){return"s"===ae?1e3*ft:ft}function ut(ft,ae,pe){return ft.hasOwnProperty("duration")?ft:function dn(ft,ae,pe){let yt,Jt=0,un="";if("string"==typeof ft){const _n=ft.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_n)return ae.push(O()),{duration:0,delay:0,easing:""};yt=He(parseFloat(_n[1]),_n[2]);const En=_n[3];null!=En&&(Jt=He(parseFloat(En),_n[4]));const Vn=_n[5];Vn&&(un=Vn)}else yt=ft;if(!pe){let _n=!1,En=ae.length;yt<0&&(ae.push(function K(){return new d.vHH(3100,!1)}()),_n=!0),Jt<0&&(ae.push(function ue(){return new d.vHH(3101,!1)}()),_n=!0),_n&&ae.splice(En,0,O())}return{duration:yt,delay:Jt,easing:un}}(ft,ae,pe)}function In(ft,ae={}){return Object.keys(ft).forEach(pe=>{ae[pe]=ft[pe]}),ae}function Rt(ft){const ae=new Map;return Object.keys(ft).forEach(pe=>{ae.set(pe,ft[pe])}),ae}function Wn(ft,ae=new Map,pe){if(pe)for(let[We,yt]of pe)ae.set(We,yt);for(let[We,yt]of ft)ae.set(We,yt);return ae}function ii(ft,ae,pe){return pe?ae+":"+pe+";":""}function pi(ft){let ae="";for(let pe=0;pe<ft.style.length;pe++){const We=ft.style.item(pe);ae+=ii(0,We,ft.style.getPropertyValue(We))}for(const pe in ft.style)ft.style.hasOwnProperty(pe)&&!pe.startsWith("_")&&(ae+=ii(0,Xo(pe),ft.style[pe]));ft.setAttribute("style",ae)}function ti(ft,ae,pe){ft.style&&(ae.forEach((We,yt)=>{const Jt=$i(yt);pe&&!pe.has(yt)&&pe.set(yt,ft.style[Jt]),ft.style[Jt]=We}),Ye()&&pi(ft))}function Di(ft,ae){ft.style&&(ae.forEach((pe,We)=>{const yt=$i(We);ft.style[yt]=""}),Ye()&&pi(ft))}function qi(ft){return Array.isArray(ft)?1==ft.length?ft[0]:(0,z.vP)(ft):ft}const li=new RegExp("{{\\s*(.+?)\\s*}}","g");function Co(ft){let ae=[];if("string"==typeof ft){let pe;for(;pe=li.exec(ft);)ae.push(pe[1]);li.lastIndex=0}return ae}function Go(ft,ae,pe){const We=ft.toString(),yt=We.replace(li,(Jt,un)=>{let _n=ae[un];return null==_n&&(pe.push(function G(ft){return new d.vHH(3003,!1)}()),_n=""),_n.toString()});return yt==We?ft:yt}function Wo(ft){const ae=[];let pe=ft.next();for(;!pe.done;)ae.push(pe.value),pe=ft.next();return ae}const xo=/-+([a-z0-9])/g;function $i(ft){return ft.replace(xo,(...ae)=>ae[1].toUpperCase())}function Xo(ft){return ft.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ho(ft,ae,pe){switch(ae.type){case 7:return ft.visitTrigger(ae,pe);case 0:return ft.visitState(ae,pe);case 1:return ft.visitTransition(ae,pe);case 2:return ft.visitSequence(ae,pe);case 3:return ft.visitGroup(ae,pe);case 4:return ft.visitAnimate(ae,pe);case 5:return ft.visitKeyframes(ae,pe);case 6:return ft.visitStyle(ae,pe);case 8:return ft.visitReference(ae,pe);case 9:return ft.visitAnimateChild(ae,pe);case 10:return ft.visitAnimateRef(ae,pe);case 11:return ft.visitQuery(ae,pe);case 12:return ft.visitStagger(ae,pe);default:throw function j(ft){return new d.vHH(3004,!1)}()}}function oo(ft,ae){return window.getComputedStyle(ft)[ae]}function as(ft,ae){const pe=[];return"string"==typeof ft?ft.split(/\s*,\s*/).forEach(We=>function Cr(ft,ae,pe){if(":"==ft[0]){const En=function ga(ft,ae){switch(ft){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(pe,We)=>parseFloat(We)>parseFloat(pe);case":decrement":return(pe,We)=>parseFloat(We)<parseFloat(pe);default:return ae.push(function Pe(ft){return new d.vHH(3016,!1)}()),"* => *"}}(ft,pe);if("function"==typeof En)return void ae.push(En);ft=En}const We=ft.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==We||We.length<4)return pe.push(function we(ft){return new d.vHH(3015,!1)}()),ae;const yt=We[1],Jt=We[2],un=We[3];ae.push(Da(yt,un));"<"==Jt[0]&&!("*"==yt&&"*"==un)&&ae.push(Da(un,yt))}(We,pe,ae)):pe.push(ft),pe}const vr=new Set(["true","1"]),br=new Set(["false","0"]);function Da(ft,ae){const pe=vr.has(ft)||br.has(ft),We=vr.has(ae)||br.has(ae);return(yt,Jt)=>{let un="*"==ft||ft==yt,_n="*"==ae||ae==Jt;return!un&&pe&&"boolean"==typeof yt&&(un=yt?vr.has(ft):br.has(ft)),!_n&&We&&"boolean"==typeof Jt&&(_n=Jt?vr.has(ae):br.has(ae)),un&&_n}}const la=new RegExp("s*:selfs*,?","g");function Ns(ft,ae,pe,We){return new Mr(ft).build(ae,pe,We)}class Mr{constructor(ae){this._driver=ae}build(ae,pe,We){const yt=new Ii(pe);return this._resetContextStyleTimingState(yt),ho(this,qi(ae),yt)}_resetContextStyleTimingState(ae){ae.currentQuerySelector="",ae.collectedStyles=new Map,ae.collectedStyles.set("",new Map),ae.currentTime=0}visitTrigger(ae,pe){let We=pe.queryCount=0,yt=pe.depCount=0;const Jt=[],un=[];return"@"==ae.name.charAt(0)&&pe.errors.push(function ne(){return new d.vHH(3006,!1)}()),ae.definitions.forEach(_n=>{if(this._resetContextStyleTimingState(pe),0==_n.type){const En=_n,Vn=En.name;Vn.toString().split(/\s*,\s*/).forEach(Yt=>{En.name=Yt,Jt.push(this.visitState(En,pe))}),En.name=Vn}else if(1==_n.type){const En=this.visitTransition(_n,pe);We+=En.queryCount,yt+=En.depCount,un.push(En)}else pe.errors.push(function J(){return new d.vHH(3007,!1)}())}),{type:7,name:ae.name,states:Jt,transitions:un,queryCount:We,depCount:yt,options:null}}visitState(ae,pe){const We=this.visitStyle(ae.styles,pe),yt=ae.options&&ae.options.params||null;if(We.containsDynamicStyles){const Jt=new Set,un=yt||{};We.styles.forEach(_n=>{_n instanceof Map&&_n.forEach(En=>{Co(En).forEach(Vn=>{un.hasOwnProperty(Vn)||Jt.add(Vn)})})}),Jt.size&&(Wo(Jt.values()),pe.errors.push(function X(ft,ae){return new d.vHH(3008,!1)}()))}return{type:0,name:ae.name,style:We,options:yt?{params:yt}:null}}visitTransition(ae,pe){pe.queryCount=0,pe.depCount=0;const We=ho(this,qi(ae.animation),pe);return{type:1,matchers:as(ae.expr,pe.errors),animation:We,queryCount:pe.queryCount,depCount:pe.depCount,options:ss(ae.options)}}visitSequence(ae,pe){return{type:2,steps:ae.steps.map(We=>ho(this,We,pe)),options:ss(ae.options)}}visitGroup(ae,pe){const We=pe.currentTime;let yt=0;const Jt=ae.steps.map(un=>{pe.currentTime=We;const _n=ho(this,un,pe);return yt=Math.max(yt,pe.currentTime),_n});return pe.currentTime=yt,{type:3,steps:Jt,options:ss(ae.options)}}visitAnimate(ae,pe){const We=function yr(ft,ae){if(ft.hasOwnProperty("duration"))return ft;if("number"==typeof ft)return Or(ut(ft,ae).duration,0,"");const pe=ft;if(pe.split(/\s+/).some(Jt=>"{"==Jt.charAt(0)&&"{"==Jt.charAt(1))){const Jt=Or(0,0,"");return Jt.dynamic=!0,Jt.strValue=pe,Jt}const yt=ut(pe,ae);return Or(yt.duration,yt.delay,yt.easing)}(ae.timings,pe.errors);pe.currentAnimateTimings=We;let yt,Jt=ae.styles?ae.styles:(0,z.oB)({});if(5==Jt.type)yt=this.visitKeyframes(Jt,pe);else{let un=ae.styles,_n=!1;if(!un){_n=!0;const Vn={};We.easing&&(Vn.easing=We.easing),un=(0,z.oB)(Vn)}pe.currentTime+=We.duration+We.delay;const En=this.visitStyle(un,pe);En.isEmptyStep=_n,yt=En}return pe.currentAnimateTimings=null,{type:4,timings:We,style:yt,options:null}}visitStyle(ae,pe){const We=this._makeStyleAst(ae,pe);return this._validateStyleAst(We,pe),We}_makeStyleAst(ae,pe){const We=[],yt=Array.isArray(ae.styles)?ae.styles:[ae.styles];for(let _n of yt)"string"==typeof _n?_n===z.l3?We.push(_n):pe.errors.push(new d.vHH(3002,!1)):We.push(Rt(_n));let Jt=!1,un=null;return We.forEach(_n=>{if(_n instanceof Map&&(_n.has("easing")&&(un=_n.get("easing"),_n.delete("easing")),!Jt))for(let En of _n.values())if(En.toString().indexOf("{{")>=0){Jt=!0;break}}),{type:6,styles:We,easing:un,offset:ae.offset,containsDynamicStyles:Jt,options:null}}_validateStyleAst(ae,pe){const We=pe.currentAnimateTimings;let yt=pe.currentTime,Jt=pe.currentTime;We&&Jt>0&&(Jt-=We.duration+We.delay),ae.styles.forEach(un=>{"string"!=typeof un&&un.forEach((_n,En)=>{const Vn=pe.collectedStyles.get(pe.currentQuerySelector),Yt=Vn.get(En);let Ne=!0;Yt&&(Jt!=yt&&Jt>=Yt.startTime&&yt<=Yt.endTime&&(pe.errors.push(function Te(ft,ae,pe,We,yt){return new d.vHH(3010,!1)}()),Ne=!1),Jt=Yt.startTime),Ne&&Vn.set(En,{startTime:Jt,endTime:yt}),pe.options&&function Do(ft,ae,pe){const We=ae.params||{},yt=Co(ft);yt.length&&yt.forEach(Jt=>{We.hasOwnProperty(Jt)||pe.push(function q(ft){return new d.vHH(3001,!1)}())})}(_n,pe.options,pe.errors)})})}visitKeyframes(ae,pe){const We={type:5,styles:[],options:null};if(!pe.currentAnimateTimings)return pe.errors.push(function Ae(){return new d.vHH(3011,!1)}()),We;let Jt=0;const un=[];let _n=!1,En=!1,Vn=0;const Yt=ae.steps.map(On=>{const $n=this._makeStyleAst(On,pe);let ni=null!=$n.offset?$n.offset:function Ks(ft){if("string"==typeof ft)return null;let ae=null;if(Array.isArray(ft))ft.forEach(pe=>{if(pe instanceof Map&&pe.has("offset")){const We=pe;ae=parseFloat(We.get("offset")),We.delete("offset")}});else if(ft instanceof Map&&ft.has("offset")){const pe=ft;ae=parseFloat(pe.get("offset")),pe.delete("offset")}return ae}($n.styles),Ai=0;return null!=ni&&(Jt++,Ai=$n.offset=ni),En=En||Ai<0||Ai>1,_n=_n||Ai<Vn,Vn=Ai,un.push(Ai),$n});En&&pe.errors.push(function Ke(){return new d.vHH(3012,!1)}()),_n&&pe.errors.push(function be(){return new d.vHH(3200,!1)}());const Ne=ae.steps.length;let Ue=0;Jt>0&&Jt<Ne?pe.errors.push(function Ge(){return new d.vHH(3202,!1)}()):0==Jt&&(Ue=1/(Ne-1));const mt=Ne-1,Lt=pe.currentTime,an=pe.currentAnimateTimings,An=an.duration;return Yt.forEach((On,$n)=>{const ni=Ue>0?$n==mt?1:Ue*$n:un[$n],Ai=ni*An;pe.currentTime=Lt+an.delay+Ai,an.duration=Ai,this._validateStyleAst(On,pe),On.offset=ni,We.styles.push(On)}),We}visitReference(ae,pe){return{type:8,animation:ho(this,qi(ae.animation),pe),options:ss(ae.options)}}visitAnimateChild(ae,pe){return pe.depCount++,{type:9,options:ss(ae.options)}}visitAnimateRef(ae,pe){return{type:10,animation:this.visitReference(ae.animation,pe),options:ss(ae.options)}}visitQuery(ae,pe){const We=pe.currentQuerySelector,yt=ae.options||{};pe.queryCount++,pe.currentQuery=ae;const[Jt,un]=function so(ft){const ae=!!ft.split(/\s*,\s*/).find(pe=>":self"==pe);return ae&&(ft=ft.replace(la,"")),ft=ft.replace(/@\*/g,Ho).replace(/@\w+/g,pe=>Ho+"-"+pe.slice(1)).replace(/:animating/g,Je),[ft,ae]}(ae.selector);pe.currentQuerySelector=We.length?We+" "+Jt:Jt,he(pe.collectedStyles,pe.currentQuerySelector,new Map);const _n=ho(this,qi(ae.animation),pe);return pe.currentQuery=null,pe.currentQuerySelector=We,{type:11,selector:Jt,limit:yt.limit||0,optional:!!yt.optional,includeSelf:un,animation:_n,originalSelector:ae.selector,options:ss(ae.options)}}visitStagger(ae,pe){pe.currentQuery||pe.errors.push(function ee(){return new d.vHH(3013,!1)}());const We="full"===ae.timings?{duration:0,delay:0,easing:"full"}:ut(ae.timings,pe.errors,!0);return{type:12,animation:ho(this,qi(ae.animation),pe),timings:We,options:null}}}class Ii{constructor(ae){this.errors=ae,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ss(ft){return ft?(ft=In(ft)).params&&(ft.params=function si(ft){return ft?In(ft):null}(ft.params)):ft={},ft}function Or(ft,ae,pe){return{duration:ft,delay:ae,easing:pe}}function Zi(ft,ae,pe,We,yt,Jt,un=null,_n=!1){return{type:1,element:ft,keyframes:ae,preStyleProps:pe,postStyleProps:We,duration:yt,delay:Jt,totalTime:yt+Jt,easing:un,subTimeline:_n}}class Gs{constructor(){this._map=new Map}get(ae){return this._map.get(ae)||[]}append(ae,pe){let We=this._map.get(ae);We||this._map.set(ae,We=[]),We.push(...pe)}has(ae){return this._map.has(ae)}clear(){this._map.clear()}}const qs=new RegExp(":enter","g"),go=new RegExp(":leave","g");function Cs(ft,ae,pe,We,yt,Jt=new Map,un=new Map,_n,En,Vn=[]){return(new ls).buildKeyframes(ft,ae,pe,We,yt,Jt,un,_n,En,Vn)}class ls{buildKeyframes(ae,pe,We,yt,Jt,un,_n,En,Vn,Yt=[]){Vn=Vn||new Gs;const Ne=new bs(ae,pe,Vn,yt,Jt,Yt,[]);Ne.options=En;const Ue=En.delay?ye(En.delay):0;Ne.currentTimeline.delayNextStep(Ue),Ne.currentTimeline.setStyles([un],null,Ne.errors,En),ho(this,We,Ne);const mt=Ne.timelines.filter(Lt=>Lt.containsAnimation());if(mt.length&&_n.size){let Lt;for(let an=mt.length-1;an>=0;an--){const An=mt[an];if(An.element===pe){Lt=An;break}}Lt&&!Lt.allowOnlyTimelineStyles()&&Lt.setStyles([_n],null,Ne.errors,En)}return mt.length?mt.map(Lt=>Lt.buildKeyframes()):[Zi(pe,[],[],[],0,Ue,"",!1)]}visitTrigger(ae,pe){}visitState(ae,pe){}visitTransition(ae,pe){}visitAnimateChild(ae,pe){const We=pe.subInstructions.get(pe.element);if(We){const yt=pe.createSubContext(ae.options),Jt=pe.currentTimeline.currentTime,un=this._visitSubInstructions(We,yt,yt.options);Jt!=un&&pe.transformIntoNewTimeline(un)}pe.previousNode=ae}visitAnimateRef(ae,pe){const We=pe.createSubContext(ae.options);We.transformIntoNewTimeline(),this._applyAnimationRefDelays([ae.options,ae.animation.options],pe,We),this.visitReference(ae.animation,We),pe.transformIntoNewTimeline(We.currentTimeline.currentTime),pe.previousNode=ae}_applyAnimationRefDelays(ae,pe,We){var yt;for(const Jt of ae){const un=null==Jt?void 0:Jt.delay;if(un){const _n="number"==typeof un?un:ye(Go(un,null!==(yt=null==Jt?void 0:Jt.params)&&void 0!==yt?yt:{},pe.errors));We.delayNextStep(_n)}}}_visitSubInstructions(ae,pe,We){let Jt=pe.currentTimeline.currentTime;const un=null!=We.duration?ye(We.duration):null,_n=null!=We.delay?ye(We.delay):null;return 0!==un&&ae.forEach(En=>{const Vn=pe.appendInstructionToTimeline(En,un,_n);Jt=Math.max(Jt,Vn.duration+Vn.delay)}),Jt}visitReference(ae,pe){pe.updateOptions(ae.options,!0),ho(this,ae.animation,pe),pe.previousNode=ae}visitSequence(ae,pe){const We=pe.subContextCount;let yt=pe;const Jt=ae.options;if(Jt&&(Jt.params||Jt.delay)&&(yt=pe.createSubContext(Jt),yt.transformIntoNewTimeline(),null!=Jt.delay)){6==yt.previousNode.type&&(yt.currentTimeline.snapshotCurrentStyles(),yt.previousNode=vs);const un=ye(Jt.delay);yt.delayNextStep(un)}ae.steps.length&&(ae.steps.forEach(un=>ho(this,un,yt)),yt.currentTimeline.applyStylesToKeyframe(),yt.subContextCount>We&&yt.transformIntoNewTimeline()),pe.previousNode=ae}visitGroup(ae,pe){const We=[];let yt=pe.currentTimeline.currentTime;const Jt=ae.options&&ae.options.delay?ye(ae.options.delay):0;ae.steps.forEach(un=>{const _n=pe.createSubContext(ae.options);Jt&&_n.delayNextStep(Jt),ho(this,un,_n),yt=Math.max(yt,_n.currentTimeline.currentTime),We.push(_n.currentTimeline)}),We.forEach(un=>pe.currentTimeline.mergeTimelineCollectedStyles(un)),pe.transformIntoNewTimeline(yt),pe.previousNode=ae}_visitTiming(ae,pe){if(ae.dynamic){const We=ae.strValue;return ut(pe.params?Go(We,pe.params,pe.errors):We,pe.errors)}return{duration:ae.duration,delay:ae.delay,easing:ae.easing}}visitAnimate(ae,pe){const We=pe.currentAnimateTimings=this._visitTiming(ae.timings,pe),yt=pe.currentTimeline;We.delay&&(pe.incrementTime(We.delay),yt.snapshotCurrentStyles());const Jt=ae.style;5==Jt.type?this.visitKeyframes(Jt,pe):(pe.incrementTime(We.duration),this.visitStyle(Jt,pe),yt.applyStylesToKeyframe()),pe.currentAnimateTimings=null,pe.previousNode=ae}visitStyle(ae,pe){const We=pe.currentTimeline,yt=pe.currentAnimateTimings;!yt&&We.hasCurrentStyleProperties()&&We.forwardFrame();const Jt=yt&&yt.easing||ae.easing;ae.isEmptyStep?We.applyEmptyStep(Jt):We.setStyles(ae.styles,Jt,pe.errors,pe.options),pe.previousNode=ae}visitKeyframes(ae,pe){const We=pe.currentAnimateTimings,yt=pe.currentTimeline.duration,Jt=We.duration,_n=pe.createSubContext().currentTimeline;_n.easing=We.easing,ae.styles.forEach(En=>{_n.forwardTime((En.offset||0)*Jt),_n.setStyles(En.styles,En.easing,pe.errors,pe.options),_n.applyStylesToKeyframe()}),pe.currentTimeline.mergeTimelineCollectedStyles(_n),pe.transformIntoNewTimeline(yt+Jt),pe.previousNode=ae}visitQuery(ae,pe){const We=pe.currentTimeline.currentTime,yt=ae.options||{},Jt=yt.delay?ye(yt.delay):0;Jt&&(6===pe.previousNode.type||0==We&&pe.currentTimeline.hasCurrentStyleProperties())&&(pe.currentTimeline.snapshotCurrentStyles(),pe.previousNode=vs);let un=We;const _n=pe.invokeQuery(ae.selector,ae.originalSelector,ae.limit,ae.includeSelf,!!yt.optional,pe.errors);pe.currentQueryTotal=_n.length;let En=null;_n.forEach((Vn,Yt)=>{pe.currentQueryIndex=Yt;const Ne=pe.createSubContext(ae.options,Vn);Jt&&Ne.delayNextStep(Jt),Vn===pe.element&&(En=Ne.currentTimeline),ho(this,ae.animation,Ne),Ne.currentTimeline.applyStylesToKeyframe(),un=Math.max(un,Ne.currentTimeline.currentTime)}),pe.currentQueryIndex=0,pe.currentQueryTotal=0,pe.transformIntoNewTimeline(un),En&&(pe.currentTimeline.mergeTimelineCollectedStyles(En),pe.currentTimeline.snapshotCurrentStyles()),pe.previousNode=ae}visitStagger(ae,pe){const We=pe.parentContext,yt=pe.currentTimeline,Jt=ae.timings,un=Math.abs(Jt.duration),_n=un*(pe.currentQueryTotal-1);let En=un*pe.currentQueryIndex;switch(Jt.duration<0?"reverse":Jt.easing){case"reverse":En=_n-En;break;case"full":En=We.currentStaggerTime}const Yt=pe.currentTimeline;En&&Yt.delayNextStep(En);const Ne=Yt.currentTime;ho(this,ae.animation,pe),pe.previousNode=ae,We.currentStaggerTime=yt.currentTime-Ne+(yt.startTime-We.currentTimeline.startTime)}}const vs={};class bs{constructor(ae,pe,We,yt,Jt,un,_n,En){this._driver=ae,this.element=pe,this.subInstructions=We,this._enterClassName=yt,this._leaveClassName=Jt,this.errors=un,this.timelines=_n,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=En||new ys(this._driver,pe,0),_n.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(ae,pe){if(!ae)return;const We=ae;let yt=this.options;null!=We.duration&&(yt.duration=ye(We.duration)),null!=We.delay&&(yt.delay=ye(We.delay));const Jt=We.params;if(Jt){let un=yt.params;un||(un=this.options.params={}),Object.keys(Jt).forEach(_n=>{(!pe||!un.hasOwnProperty(_n))&&(un[_n]=Go(Jt[_n],un,this.errors))})}}_copyOptions(){const ae={};if(this.options){const pe=this.options.params;if(pe){const We=ae.params={};Object.keys(pe).forEach(yt=>{We[yt]=pe[yt]})}}return ae}createSubContext(ae=null,pe,We){const yt=pe||this.element,Jt=new bs(this._driver,yt,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(yt,We||0));return Jt.previousNode=this.previousNode,Jt.currentAnimateTimings=this.currentAnimateTimings,Jt.options=this._copyOptions(),Jt.updateOptions(ae),Jt.currentQueryIndex=this.currentQueryIndex,Jt.currentQueryTotal=this.currentQueryTotal,Jt.parentContext=this,this.subContextCount++,Jt}transformIntoNewTimeline(ae){return this.previousNode=vs,this.currentTimeline=this.currentTimeline.fork(this.element,ae),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(ae,pe,We){const yt={duration:null!=pe?pe:ae.duration,delay:this.currentTimeline.currentTime+(null!=We?We:0)+ae.delay,easing:""},Jt=new xr(this._driver,ae.element,ae.keyframes,ae.preStyleProps,ae.postStyleProps,yt,ae.stretchStartingKeyframe);return this.timelines.push(Jt),yt}incrementTime(ae){this.currentTimeline.forwardTime(this.currentTimeline.duration+ae)}delayNextStep(ae){ae>0&&this.currentTimeline.delayNextStep(ae)}invokeQuery(ae,pe,We,yt,Jt,un){let _n=[];if(yt&&_n.push(this.element),ae.length>0){ae=(ae=ae.replace(qs,"."+this._enterClassName)).replace(go,"."+this._leaveClassName);let Vn=this._driver.query(this.element,ae,1!=We);0!==We&&(Vn=We<0?Vn.slice(Vn.length+We,Vn.length):Vn.slice(0,We)),_n.push(...Vn)}return!Jt&&0==_n.length&&un.push(function xe(ft){return new d.vHH(3014,!1)}()),_n}}class ys{constructor(ae,pe,We,yt){this._driver=ae,this.element=pe,this.startTime=We,this._elementTimelineStylesLookup=yt,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(pe),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(pe,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(ae){const pe=1===this._keyframes.size&&this._pendingStyles.size;this.duration||pe?(this.forwardTime(this.currentTime+ae),pe&&this.snapshotCurrentStyles()):this.startTime+=ae}fork(ae,pe){return this.applyStylesToKeyframe(),new ys(this._driver,ae,pe||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(ae){this.applyStylesToKeyframe(),this.duration=ae,this._loadKeyframe()}_updateStyle(ae,pe){this._localTimelineStyles.set(ae,pe),this._globalTimelineStyles.set(ae,pe),this._styleSummary.set(ae,{time:this.currentTime,value:pe})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(ae){ae&&this._previousKeyframe.set("easing",ae);for(let[pe,We]of this._globalTimelineStyles)this._backFill.set(pe,We||z.l3),this._currentKeyframe.set(pe,z.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(ae,pe,We,yt){var Jt;pe&&this._previousKeyframe.set("easing",pe);const un=yt&&yt.params||{},_n=function Lr(ft,ae){const pe=new Map;let We;return ft.forEach(yt=>{if("*"===yt){We=We||ae.keys();for(let Jt of We)pe.set(Jt,z.l3)}else Wn(yt,pe)}),pe}(ae,this._globalTimelineStyles);for(let[En,Vn]of _n){const Yt=Go(Vn,un,We);this._pendingStyles.set(En,Yt),this._localTimelineStyles.has(En)||this._backFill.set(En,null!==(Jt=this._globalTimelineStyles.get(En))&&void 0!==Jt?Jt:z.l3),this._updateStyle(En,Yt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((ae,pe)=>{this._currentKeyframe.set(pe,ae)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((ae,pe)=>{this._currentKeyframe.has(pe)||this._currentKeyframe.set(pe,ae)}))}snapshotCurrentStyles(){for(let[ae,pe]of this._localTimelineStyles)this._pendingStyles.set(ae,pe),this._updateStyle(ae,pe)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const ae=[];for(let pe in this._currentKeyframe)ae.push(pe);return ae}mergeTimelineCollectedStyles(ae){ae._styleSummary.forEach((pe,We)=>{const yt=this._styleSummary.get(We);(!yt||pe.time>yt.time)&&this._updateStyle(We,pe.value)})}buildKeyframes(){this.applyStylesToKeyframe();const ae=new Set,pe=new Set,We=1===this._keyframes.size&&0===this.duration;let yt=[];this._keyframes.forEach((_n,En)=>{const Vn=Wn(_n,new Map,this._backFill);Vn.forEach((Yt,Ne)=>{Yt===z.k1?ae.add(Ne):Yt===z.l3&&pe.add(Ne)}),We||Vn.set("offset",En/this.duration),yt.push(Vn)});const Jt=ae.size?Wo(ae.values()):[],un=pe.size?Wo(pe.values()):[];if(We){const _n=yt[0],En=new Map(_n);_n.set("offset",0),En.set("offset",1),yt=[_n,En]}return Zi(this.element,yt,Jt,un,this.duration,this.startTime,this.easing,!1)}}class xr extends ys{constructor(ae,pe,We,yt,Jt,un,_n=!1){super(ae,pe,un.delay),this.keyframes=We,this.preStyleProps=yt,this.postStyleProps=Jt,this._stretchStartingKeyframe=_n,this.timings={duration:un.duration,delay:un.delay,easing:un.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let ae=this.keyframes,{delay:pe,duration:We,easing:yt}=this.timings;if(this._stretchStartingKeyframe&&pe){const Jt=[],un=We+pe,_n=pe/un,En=Wn(ae[0]);En.set("offset",0),Jt.push(En);const Vn=Wn(ae[0]);Vn.set("offset",Pr(_n)),Jt.push(Vn);const Yt=ae.length-1;for(let Ne=1;Ne<=Yt;Ne++){let Ue=Wn(ae[Ne]);const mt=Ue.get("offset");Ue.set("offset",Pr((pe+mt*We)/un)),Jt.push(Ue)}We=un,pe=0,yt="",ae=Jt}return Zi(this.element,ae,this.preStyleProps,this.postStyleProps,We,pe,yt,!0)}}function Pr(ft,ae=3){const pe=Math.pow(10,ae-1);return Math.round(ft*pe)/pe}class xs{}const Ir=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Tr extends xs{normalizePropertyName(ae,pe){return $i(ae)}normalizeStyleValue(ae,pe,We,yt){let Jt="";const un=We.toString().trim();if(Ir.has(pe)&&0!==We&&"0"!==We)if("number"==typeof We)Jt="px";else{const _n=We.match(/^[+-]?[\d\.]+([a-z]*)$/);_n&&0==_n[1].length&&yt.push(function fe(ft,ae){return new d.vHH(3005,!1)}())}return un+Jt}}function At(ft,ae,pe,We,yt,Jt,un,_n,En,Vn,Yt,Ne,Ue){return{type:0,element:ft,triggerName:ae,isRemovalTransition:yt,fromState:pe,fromStyles:Jt,toState:We,toStyles:un,timelines:_n,queriedElements:En,preStyleProps:Vn,postStyleProps:Yt,totalTime:Ne,errors:Ue}}const pn={};class oe{constructor(ae,pe,We){this._triggerName=ae,this.ast=pe,this._stateStyles=We}match(ae,pe,We,yt){return function xt(ft,ae,pe,We,yt){return ft.some(Jt=>Jt(ae,pe,We,yt))}(this.ast.matchers,ae,pe,We,yt)}buildStyles(ae,pe,We){let yt=this._stateStyles.get("*");return void 0!==ae&&(yt=this._stateStyles.get(null==ae?void 0:ae.toString())||yt),yt?yt.buildStyles(pe,We):new Map}build(ae,pe,We,yt,Jt,un,_n,En,Vn,Yt){var Ne;const Ue=[],mt=this.ast.options&&this.ast.options.params||pn,an=this.buildStyles(We,_n&&_n.params||pn,Ue),An=En&&En.params||pn,On=this.buildStyles(yt,An,Ue),$n=new Set,ni=new Map,Ai=new Map,Wi="void"===yt,zo={params:Vt(An,mt),delay:null===(Ne=this.ast.options)||void 0===Ne?void 0:Ne.delay},Jo=Yt?[]:Cs(ae,pe,this.ast.animation,Jt,un,an,On,zo,Vn,Ue);let fo=0;if(Jo.forEach(Lo=>{fo=Math.max(Lo.duration+Lo.delay,fo)}),Ue.length)return At(pe,this._triggerName,We,yt,Wi,an,On,[],[],ni,Ai,fo,Ue);Jo.forEach(Lo=>{const dr=Lo.element,Kr=he(ni,dr,new Set);Lo.preStyleProps.forEach(Us=>Kr.add(Us));const Fr=he(Ai,dr,new Set);Lo.postStyleProps.forEach(Us=>Fr.add(Us)),dr!==pe&&$n.add(dr)});const Bo=Wo($n.values());return At(pe,this._triggerName,We,yt,Wi,an,On,Jo,Bo,ni,Ai,fo)}}function Vt(ft,ae){const pe=In(ae);for(const We in ft)ft.hasOwnProperty(We)&&null!=ft[We]&&(pe[We]=ft[We]);return pe}class Pn{constructor(ae,pe,We){this.styles=ae,this.defaultParams=pe,this.normalizer=We}buildStyles(ae,pe){const We=new Map,yt=In(this.defaultParams);return Object.keys(ae).forEach(Jt=>{const un=ae[Jt];null!==un&&(yt[Jt]=un)}),this.styles.styles.forEach(Jt=>{"string"!=typeof Jt&&Jt.forEach((un,_n)=>{un&&(un=Go(un,yt,pe));const En=this.normalizer.normalizePropertyName(_n,pe);un=this.normalizer.normalizeStyleValue(_n,En,un,pe),We.set(En,un)})}),We}}class gi{constructor(ae,pe,We){this.name=ae,this.ast=pe,this._normalizer=We,this.transitionFactories=[],this.states=new Map,pe.states.forEach(yt=>{this.states.set(yt.name,new Pn(yt.style,yt.options&&yt.options.params||{},We))}),Fi(this.states,"true","1"),Fi(this.states,"false","0"),pe.transitions.forEach(yt=>{this.transitionFactories.push(new oe(ae,yt,this.states))}),this.fallbackTransition=function Hi(ft,ae,pe){return new oe(ft,{type:1,animation:{type:2,steps:[],options:null},matchers:[(un,_n)=>!0],options:null,queryCount:0,depCount:0},ae)}(ae,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(ae,pe,We,yt){return this.transitionFactories.find(un=>un.match(ae,pe,We,yt))||null}matchStyles(ae,pe,We){return this.fallbackTransition.buildStyles(ae,pe,We)}}function Fi(ft,ae,pe){ft.has(ae)?ft.has(pe)||ft.set(pe,ft.get(ae)):ft.has(pe)&&ft.set(ae,ft.get(pe))}const Si=new Gs;class cs{constructor(ae,pe,We){this.bodyNode=ae,this._driver=pe,this._normalizer=We,this._animations=new Map,this._playersById=new Map,this.players=[]}register(ae,pe){const We=[],Jt=Ns(this._driver,pe,We,[]);if(We.length)throw function vt(ft){return new d.vHH(3503,!1)}();this._animations.set(ae,Jt)}_buildPlayer(ae,pe,We){const yt=ae.element,Jt=je(0,this._normalizer,0,ae.keyframes,pe,We);return this._driver.animate(yt,Jt,ae.duration,ae.delay,ae.easing,[],!0)}create(ae,pe,We={}){const yt=[],Jt=this._animations.get(ae);let un;const _n=new Map;if(Jt?(un=Cs(this._driver,pe,Jt,vi,Ni,new Map,new Map,We,Si,yt),un.forEach(Yt=>{const Ne=he(_n,Yt.element,new Map);Yt.postStyleProps.forEach(Ue=>Ne.set(Ue,null))})):(yt.push(function Wt(){return new d.vHH(3300,!1)}()),un=[]),yt.length)throw function zt(ft){return new d.vHH(3504,!1)}();_n.forEach((Yt,Ne)=>{Yt.forEach((Ue,mt)=>{Yt.set(mt,this._driver.computeStyle(Ne,mt,z.l3))})});const Vn=st(un.map(Yt=>{const Ne=_n.get(Yt.element);return this._buildPlayer(Yt,new Map,Ne)}));return this._playersById.set(ae,Vn),Vn.onDestroy(()=>this.destroy(ae)),this.players.push(Vn),Vn}destroy(ae){const pe=this._getPlayer(ae);pe.destroy(),this._playersById.delete(ae);const We=this.players.indexOf(pe);We>=0&&this.players.splice(We,1)}_getPlayer(ae){const pe=this._playersById.get(ae);if(!pe)throw function Ut(ft){return new d.vHH(3301,!1)}();return pe}listen(ae,pe,We,yt){const Jt=Fe(pe,"","","");return It(this._getPlayer(ae),We,Jt,yt),()=>{}}command(ae,pe,We,yt){if("register"==We)return void this.register(ae,yt[0]);if("create"==We)return void this.create(ae,pe,yt[0]||{});const Jt=this._getPlayer(ae);switch(We){case"play":Jt.play();break;case"pause":Jt.pause();break;case"reset":Jt.reset();break;case"restart":Jt.restart();break;case"finish":Jt.finish();break;case"init":Jt.init();break;case"setPosition":Jt.setPosition(parseFloat(yt[0]));break;case"destroy":this.destroy(ae)}}}const Oo="ng-animate-queued",Io="ng-animate-disabled",$o=[],Fo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},or={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vo="__ng_removed";class Ao{constructor(ae,pe=""){this.namespaceId=pe;const We=ae&&ae.hasOwnProperty("value");if(this.value=function Yr(ft){return null!=ft?ft:null}(We?ae.value:ae),We){const Jt=In(ae);delete Jt.value,this.options=Jt}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(ae){const pe=ae.params;if(pe){const We=this.options.params;Object.keys(pe).forEach(yt=>{null==We[yt]&&(We[yt]=pe[yt])})}}}const Ri="void",sr=new Ao(Ri);class fa{constructor(ae,pe,We){this.id=ae,this.hostElement=pe,this._engine=We,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+ae,ms(pe,this._hostClassName)}listen(ae,pe,We,yt){if(!this._triggers.has(pe))throw function ct(ft,ae){return new d.vHH(3302,!1)}();if(null==We||0==We.length)throw function at(ft){return new d.vHH(3303,!1)}();if(!function na(ft){return"start"==ft||"done"==ft}(We))throw function me(ft,ae){return new d.vHH(3400,!1)}();const Jt=he(this._elementListeners,ae,[]),un={name:pe,phase:We,callback:yt};Jt.push(un);const _n=he(this._engine.statesByElement,ae,new Map);return _n.has(pe)||(ms(ae,io),ms(ae,io+"-"+pe),_n.set(pe,sr)),()=>{this._engine.afterFlush(()=>{const En=Jt.indexOf(un);En>=0&&Jt.splice(En,1),this._triggers.has(pe)||_n.delete(pe)})}}register(ae,pe){return!this._triggers.has(ae)&&(this._triggers.set(ae,pe),!0)}_getTrigger(ae){const pe=this._triggers.get(ae);if(!pe)throw function De(ft){return new d.vHH(3401,!1)}();return pe}trigger(ae,pe,We,yt=!0){const Jt=this._getTrigger(pe),un=new Oi(this.id,pe,ae);let _n=this._engine.statesByElement.get(ae);_n||(ms(ae,io),ms(ae,io+"-"+pe),this._engine.statesByElement.set(ae,_n=new Map));let En=_n.get(pe);const Vn=new Ao(We,this.id);if(!(We&&We.hasOwnProperty("value"))&&En&&Vn.absorbOptions(En.options),_n.set(pe,Vn),En||(En=sr),Vn.value!==Ri&&En.value===Vn.value){if(!function Se(ft,ae){const pe=Object.keys(ft),We=Object.keys(ae);if(pe.length!=We.length)return!1;for(let yt=0;yt<pe.length;yt++){const Jt=pe[yt];if(!ae.hasOwnProperty(Jt)||ft[Jt]!==ae[Jt])return!1}return!0}(En.params,Vn.params)){const an=[],An=Jt.matchStyles(En.value,En.params,an),On=Jt.matchStyles(Vn.value,Vn.params,an);an.length?this._engine.reportError(an):this._engine.afterFlush(()=>{Di(ae,An),ti(ae,On)})}return}const Ue=he(this._engine.playersByElement,ae,[]);Ue.forEach(an=>{an.namespaceId==this.id&&an.triggerName==pe&&an.queued&&an.destroy()});let mt=Jt.matchTransition(En.value,Vn.value,ae,Vn.params),Lt=!1;if(!mt){if(!yt)return;mt=Jt.fallbackTransition,Lt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:ae,triggerName:pe,transition:mt,fromState:En,toState:Vn,player:un,isFallbackTransition:Lt}),Lt||(ms(ae,Oo),un.onStart(()=>{Bs(ae,Oo)})),un.onDone(()=>{let an=this.players.indexOf(un);an>=0&&this.players.splice(an,1);const An=this._engine.playersByElement.get(ae);if(An){let On=An.indexOf(un);On>=0&&An.splice(On,1)}}),this.players.push(un),Ue.push(un),un}deregister(ae){this._triggers.delete(ae),this._engine.statesByElement.forEach(pe=>pe.delete(ae)),this._elementListeners.forEach((pe,We)=>{this._elementListeners.set(We,pe.filter(yt=>yt.name!=ae))})}clearElementCache(ae){this._engine.statesByElement.delete(ae),this._elementListeners.delete(ae);const pe=this._engine.playersByElement.get(ae);pe&&(pe.forEach(We=>We.destroy()),this._engine.playersByElement.delete(ae))}_signalRemovalForInnerTriggers(ae,pe){const We=this._engine.driver.query(ae,Ho,!0);We.forEach(yt=>{if(yt[Vo])return;const Jt=this._engine.fetchNamespacesByElement(yt);Jt.size?Jt.forEach(un=>un.triggerLeaveAnimation(yt,pe,!1,!0)):this.clearElementCache(yt)}),this._engine.afterFlushAnimationsDone(()=>We.forEach(yt=>this.clearElementCache(yt)))}triggerLeaveAnimation(ae,pe,We,yt){const Jt=this._engine.statesByElement.get(ae),un=new Map;if(Jt){const _n=[];if(Jt.forEach((En,Vn)=>{if(un.set(Vn,En.value),this._triggers.has(Vn)){const Yt=this.trigger(ae,Vn,Ri,yt);Yt&&_n.push(Yt)}}),_n.length)return this._engine.markElementAsRemoved(this.id,ae,!0,pe,un),We&&st(_n).onDone(()=>this._engine.processLeaveNode(ae)),!0}return!1}prepareLeaveAnimationListeners(ae){const pe=this._elementListeners.get(ae),We=this._engine.statesByElement.get(ae);if(pe&&We){const yt=new Set;pe.forEach(Jt=>{const un=Jt.name;if(yt.has(un))return;yt.add(un);const En=this._triggers.get(un).fallbackTransition,Vn=We.get(un)||sr,Yt=new Ao(Ri),Ne=new Oi(this.id,un,ae);this._engine.totalQueuedPlayers++,this._queue.push({element:ae,triggerName:un,transition:En,fromState:Vn,toState:Yt,player:Ne,isFallbackTransition:!0})})}}removeNode(ae,pe){const We=this._engine;if(ae.childElementCount&&this._signalRemovalForInnerTriggers(ae,pe),this.triggerLeaveAnimation(ae,pe,!0))return;let yt=!1;if(We.totalAnimations){const Jt=We.players.length?We.playersByQueriedElement.get(ae):[];if(Jt&&Jt.length)yt=!0;else{let un=ae;for(;un=un.parentNode;)if(We.statesByElement.get(un)){yt=!0;break}}}if(this.prepareLeaveAnimationListeners(ae),yt)We.markElementAsRemoved(this.id,ae,!1,pe);else{const Jt=ae[Vo];(!Jt||Jt===Fo)&&(We.afterFlush(()=>this.clearElementCache(ae)),We.destroyInnerAnimations(ae),We._onRemovalComplete(ae,pe))}}insertNode(ae,pe){ms(ae,this._hostClassName)}drainQueuedTransitions(ae){const pe=[];return this._queue.forEach(We=>{const yt=We.player;if(yt.destroyed)return;const Jt=We.element,un=this._elementListeners.get(Jt);un&&un.forEach(_n=>{if(_n.name==We.triggerName){const En=Fe(Jt,We.triggerName,We.fromState.value,We.toState.value);En._data=ae,It(We.player,_n.phase,En,_n.callback)}}),yt.markedForDestroy?this._engine.afterFlush(()=>{yt.destroy()}):pe.push(We)}),this._queue=[],pe.sort((We,yt)=>{const Jt=We.transition.ast.depCount,un=yt.transition.ast.depCount;return 0==Jt||0==un?Jt-un:this._engine.driver.containsElement(We.element,yt.element)?1:-1})}destroy(ae){this.players.forEach(pe=>pe.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,ae)}elementContainsData(ae){let pe=!1;return this._elementListeners.has(ae)&&(pe=!0),pe=!!this._queue.find(We=>We.element===ae)||pe,pe}}class Qn{constructor(ae,pe,We){this.bodyNode=ae,this.driver=pe,this._normalizer=We,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(yt,Jt)=>{}}_onRemovalComplete(ae,pe){this.onRemovalComplete(ae,pe)}get queuedPlayers(){const ae=[];return this._namespaceList.forEach(pe=>{pe.players.forEach(We=>{We.queued&&ae.push(We)})}),ae}createNamespace(ae,pe){const We=new fa(ae,pe,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,pe)?this._balanceNamespaceList(We,pe):(this.newHostElements.set(pe,We),this.collectEnterElement(pe)),this._namespaceLookup[ae]=We}_balanceNamespaceList(ae,pe){const We=this._namespaceList,yt=this.namespacesByHostElement;if(We.length-1>=0){let un=!1,_n=this.driver.getParentElement(pe);for(;_n;){const En=yt.get(_n);if(En){const Vn=We.indexOf(En);We.splice(Vn+1,0,ae),un=!0;break}_n=this.driver.getParentElement(_n)}un||We.unshift(ae)}else We.push(ae);return yt.set(pe,ae),ae}register(ae,pe){let We=this._namespaceLookup[ae];return We||(We=this.createNamespace(ae,pe)),We}registerTrigger(ae,pe,We){let yt=this._namespaceLookup[ae];yt&&yt.register(pe,We)&&this.totalAnimations++}destroy(ae,pe){if(!ae)return;const We=this._fetchNamespace(ae);this.afterFlush(()=>{this.namespacesByHostElement.delete(We.hostElement),delete this._namespaceLookup[ae];const yt=this._namespaceList.indexOf(We);yt>=0&&this._namespaceList.splice(yt,1)}),this.afterFlushAnimationsDone(()=>We.destroy(pe))}_fetchNamespace(ae){return this._namespaceLookup[ae]}fetchNamespacesByElement(ae){const pe=new Set,We=this.statesByElement.get(ae);if(We)for(let yt of We.values())if(yt.namespaceId){const Jt=this._fetchNamespace(yt.namespaceId);Jt&&pe.add(Jt)}return pe}trigger(ae,pe,We,yt){if(Xi(pe)){const Jt=this._fetchNamespace(ae);if(Jt)return Jt.trigger(pe,We,yt),!0}return!1}insertNode(ae,pe,We,yt){if(!Xi(pe))return;const Jt=pe[Vo];if(Jt&&Jt.setForRemoval){Jt.setForRemoval=!1,Jt.setForMove=!0;const un=this.collectedLeaveElements.indexOf(pe);un>=0&&this.collectedLeaveElements.splice(un,1)}if(ae){const un=this._fetchNamespace(ae);un&&un.insertNode(pe,We)}yt&&this.collectEnterElement(pe)}collectEnterElement(ae){this.collectedEnterElements.push(ae)}markElementAsDisabled(ae,pe){pe?this.disabledNodes.has(ae)||(this.disabledNodes.add(ae),ms(ae,Io)):this.disabledNodes.has(ae)&&(this.disabledNodes.delete(ae),Bs(ae,Io))}removeNode(ae,pe,We,yt){if(Xi(pe)){const Jt=ae?this._fetchNamespace(ae):null;if(Jt?Jt.removeNode(pe,yt):this.markElementAsRemoved(ae,pe,!1,yt),We){const un=this.namespacesByHostElement.get(pe);un&&un.id!==ae&&un.removeNode(pe,yt)}}else this._onRemovalComplete(pe,yt)}markElementAsRemoved(ae,pe,We,yt,Jt){this.collectedLeaveElements.push(pe),pe[Vo]={namespaceId:ae,setForRemoval:yt,hasAnimation:We,removedBeforeQueried:!1,previousTriggersValues:Jt}}listen(ae,pe,We,yt,Jt){return Xi(pe)?this._fetchNamespace(ae).listen(pe,We,yt,Jt):()=>{}}_buildInstruction(ae,pe,We,yt,Jt){return ae.transition.build(this.driver,ae.element,ae.fromState.value,ae.toState.value,We,yt,ae.fromState.options,ae.toState.options,pe,Jt)}destroyInnerAnimations(ae){let pe=this.driver.query(ae,Ho,!0);pe.forEach(We=>this.destroyActiveAnimationsForElement(We)),0!=this.playersByQueriedElement.size&&(pe=this.driver.query(ae,Je,!0),pe.forEach(We=>this.finishActiveQueriedAnimationOnElement(We)))}destroyActiveAnimationsForElement(ae){const pe=this.playersByElement.get(ae);pe&&pe.forEach(We=>{We.queued?We.markedForDestroy=!0:We.destroy()})}finishActiveQueriedAnimationOnElement(ae){const pe=this.playersByQueriedElement.get(ae);pe&&pe.forEach(We=>We.finish())}whenRenderingDone(){return new Promise(ae=>{if(this.players.length)return st(this.players).onDone(()=>ae());ae()})}processLeaveNode(ae){var pe;const We=ae[Vo];if(We&&We.setForRemoval){if(ae[Vo]=Fo,We.namespaceId){this.destroyInnerAnimations(ae);const yt=this._fetchNamespace(We.namespaceId);yt&&yt.clearElementCache(ae)}this._onRemovalComplete(ae,We.setForRemoval)}!(null===(pe=ae.classList)||void 0===pe)&&pe.contains(Io)&&this.markElementAsDisabled(ae,!1),this.driver.query(ae,".ng-animate-disabled",!0).forEach(yt=>{this.markElementAsDisabled(yt,!1)})}flush(ae=-1){let pe=[];if(this.newHostElements.size&&(this.newHostElements.forEach((We,yt)=>this._balanceNamespaceList(We,yt)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let We=0;We<this.collectedEnterElements.length;We++)ms(this.collectedEnterElements[We],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const We=[];try{pe=this._flushAnimations(We,ae)}finally{for(let yt=0;yt<We.length;yt++)We[yt]()}}else for(let We=0;We<this.collectedLeaveElements.length;We++)this.processLeaveNode(this.collectedLeaveElements[We]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(We=>We()),this._flushFns=[],this._whenQuietFns.length){const We=this._whenQuietFns;this._whenQuietFns=[],pe.length?st(pe).onDone(()=>{We.forEach(yt=>yt())}):We.forEach(yt=>yt())}}reportError(ae){throw function ot(ft){return new d.vHH(3402,!1)}()}_flushAnimations(ae,pe){const We=new Gs,yt=[],Jt=new Map,un=[],_n=new Map,En=new Map,Vn=new Map,Yt=new Set;this.disabledNodes.forEach(xi=>{Yt.add(xi);const wi=this.driver.query(xi,".ng-animate-queued",!0);for(let Pi=0;Pi<wi.length;Pi++)Yt.add(wi[Pi])});const Ne=this.bodyNode,Ue=Array.from(this.statesByElement.keys()),mt=ca(Ue,this.collectedEnterElements),Lt=new Map;let an=0;mt.forEach((xi,wi)=>{const Pi=vi+an++;Lt.set(wi,Pi),xi.forEach(to=>ms(to,Pi))});const An=[],On=new Set,$n=new Set;for(let xi=0;xi<this.collectedLeaveElements.length;xi++){const wi=this.collectedLeaveElements[xi],Pi=wi[Vo];Pi&&Pi.setForRemoval&&(An.push(wi),On.add(wi),Pi.hasAnimation?this.driver.query(wi,".ng-star-inserted",!0).forEach(to=>On.add(to)):$n.add(wi))}const ni=new Map,Ai=ca(Ue,Array.from(On));Ai.forEach((xi,wi)=>{const Pi=Ni+an++;ni.set(wi,Pi),xi.forEach(to=>ms(to,Pi))}),ae.push(()=>{mt.forEach((xi,wi)=>{const Pi=Lt.get(wi);xi.forEach(to=>Bs(to,Pi))}),Ai.forEach((xi,wi)=>{const Pi=ni.get(wi);xi.forEach(to=>Bs(to,Pi))}),An.forEach(xi=>{this.processLeaveNode(xi)})});const Wi=[],zo=[];for(let xi=this._namespaceList.length-1;xi>=0;xi--)this._namespaceList[xi].drainQueuedTransitions(pe).forEach(Pi=>{const to=Pi.player,Qo=Pi.element;if(Wi.push(to),this.collectedEnterElements.length){const No=Qo[Vo];if(No&&No.setForMove){if(No.previousTriggersValues&&No.previousTriggersValues.has(Pi.triggerName)){const Br=No.previousTriggersValues.get(Pi.triggerName),Hs=this.statesByElement.get(Pi.element);if(Hs&&Hs.has(Pi.triggerName)){const _a=Hs.get(Pi.triggerName);_a.value=Br,Hs.set(Pi.triggerName,_a)}}return void to.destroy()}}const Ro=!Ne||!this.driver.containsElement(Ne,Qo),ks=ni.get(Qo),pr=Lt.get(Qo),To=this._buildInstruction(Pi,We,pr,ks,Ro);if(To.errors&&To.errors.length)return void zo.push(To);if(Ro)return to.onStart(()=>Di(Qo,To.fromStyles)),to.onDestroy(()=>ti(Qo,To.toStyles)),void yt.push(to);if(Pi.isFallbackTransition)return to.onStart(()=>Di(Qo,To.fromStyles)),to.onDestroy(()=>ti(Qo,To.toStyles)),void yt.push(to);const qr=[];To.timelines.forEach(No=>{No.stretchStartingKeyframe=!0,this.disabledNodes.has(No.element)||qr.push(No)}),To.timelines=qr,We.append(Qo,To.timelines),un.push({instruction:To,player:to,element:Qo}),To.queriedElements.forEach(No=>he(_n,No,[]).push(to)),To.preStyleProps.forEach((No,Br)=>{if(No.size){let Hs=En.get(Br);Hs||En.set(Br,Hs=new Set),No.forEach((_a,Oa)=>Hs.add(Oa))}}),To.postStyleProps.forEach((No,Br)=>{let Hs=Vn.get(Br);Hs||Vn.set(Br,Hs=new Set),No.forEach((_a,Oa)=>Hs.add(Oa))})});if(zo.length){const xi=[];zo.forEach(wi=>{xi.push(function Ot(ft,ae){return new d.vHH(3505,!1)}())}),Wi.forEach(wi=>wi.destroy()),this.reportError(xi)}const Jo=new Map,fo=new Map;un.forEach(xi=>{const wi=xi.element;We.has(wi)&&(fo.set(wi,wi),this._beforeAnimationBuild(xi.player.namespaceId,xi.instruction,Jo))}),yt.forEach(xi=>{const wi=xi.element;this._getPreviousPlayers(wi,!1,xi.namespaceId,xi.triggerName,null).forEach(to=>{he(Jo,wi,[]).push(to),to.destroy()})});const Bo=An.filter(xi=>kt(xi,En,Vn)),Lo=new Map;Ss(Lo,this.driver,$n,Vn,z.l3).forEach(xi=>{kt(xi,En,Vn)&&Bo.push(xi)});const Kr=new Map;mt.forEach((xi,wi)=>{Ss(Kr,this.driver,new Set(xi),En,z.k1)}),Bo.forEach(xi=>{var wi,Pi;const to=Lo.get(xi),Qo=Kr.get(xi);Lo.set(xi,new Map([...Array.from(null!==(wi=null==to?void 0:to.entries())&&void 0!==wi?wi:[]),...Array.from(null!==(Pi=null==Qo?void 0:Qo.entries())&&void 0!==Pi?Pi:[])]))});const Fr=[],Us=[],Ma={};un.forEach(xi=>{const{element:wi,player:Pi,instruction:to}=xi;if(We.has(wi)){if(Yt.has(wi))return Pi.onDestroy(()=>ti(wi,to.toStyles)),Pi.disabled=!0,Pi.overrideTotalTime(to.totalTime),void yt.push(Pi);let Qo=Ma;if(fo.size>1){let ks=wi;const pr=[];for(;ks=ks.parentNode;){const To=fo.get(ks);if(To){Qo=To;break}pr.push(ks)}pr.forEach(To=>fo.set(To,Qo))}const Ro=this._buildAnimation(Pi.namespaceId,to,Jo,Jt,Kr,Lo);if(Pi.setRealPlayer(Ro),Qo===Ma)Fr.push(Pi);else{const ks=this.playersByElement.get(Qo);ks&&ks.length&&(Pi.parentPlayer=st(ks)),yt.push(Pi)}}else Di(wi,to.fromStyles),Pi.onDestroy(()=>ti(wi,to.toStyles)),Us.push(Pi),Yt.has(wi)&&yt.push(Pi)}),Us.forEach(xi=>{const wi=Jt.get(xi.element);if(wi&&wi.length){const Pi=st(wi);xi.setRealPlayer(Pi)}}),yt.forEach(xi=>{xi.parentPlayer?xi.syncPlayerEvents(xi.parentPlayer):xi.destroy()});for(let xi=0;xi<An.length;xi++){const wi=An[xi],Pi=wi[Vo];if(Bs(wi,Ni),Pi&&Pi.hasAnimation)continue;let to=[];if(_n.size){let Ro=_n.get(wi);Ro&&Ro.length&&to.push(...Ro);let ks=this.driver.query(wi,Je,!0);for(let pr=0;pr<ks.length;pr++){let To=_n.get(ks[pr]);To&&To.length&&to.push(...To)}}const Qo=to.filter(Ro=>!Ro.destroyed);Qo.length?jr(this,wi,Qo):this.processLeaveNode(wi)}return An.length=0,Fr.forEach(xi=>{this.players.push(xi),xi.onDone(()=>{xi.destroy();const wi=this.players.indexOf(xi);this.players.splice(wi,1)}),xi.play()}),Fr}elementContainsData(ae,pe){let We=!1;const yt=pe[Vo];return yt&&yt.setForRemoval&&(We=!0),this.playersByElement.has(pe)&&(We=!0),this.playersByQueriedElement.has(pe)&&(We=!0),this.statesByElement.has(pe)&&(We=!0),this._fetchNamespace(ae).elementContainsData(pe)||We}afterFlush(ae){this._flushFns.push(ae)}afterFlushAnimationsDone(ae){this._whenQuietFns.push(ae)}_getPreviousPlayers(ae,pe,We,yt,Jt){let un=[];if(pe){const _n=this.playersByQueriedElement.get(ae);_n&&(un=_n)}else{const _n=this.playersByElement.get(ae);if(_n){const En=!Jt||Jt==Ri;_n.forEach(Vn=>{Vn.queued||!En&&Vn.triggerName!=yt||un.push(Vn)})}}return(We||yt)&&(un=un.filter(_n=>!(We&&We!=_n.namespaceId||yt&&yt!=_n.triggerName))),un}_beforeAnimationBuild(ae,pe,We){const Jt=pe.element,un=pe.isRemovalTransition?void 0:ae,_n=pe.isRemovalTransition?void 0:pe.triggerName;for(const En of pe.timelines){const Vn=En.element,Yt=Vn!==Jt,Ne=he(We,Vn,[]);this._getPreviousPlayers(Vn,Yt,un,_n,pe.toState).forEach(mt=>{const Lt=mt.getRealPlayer();Lt.beforeDestroy&&Lt.beforeDestroy(),mt.destroy(),Ne.push(mt)})}Di(Jt,pe.fromStyles)}_buildAnimation(ae,pe,We,yt,Jt,un){const _n=pe.triggerName,En=pe.element,Vn=[],Yt=new Set,Ne=new Set,Ue=pe.timelines.map(Lt=>{const an=Lt.element;Yt.add(an);const An=an[Vo];if(An&&An.removedBeforeQueried)return new z.ZN(Lt.duration,Lt.delay);const On=an!==En,$n=function nt(ft){const ae=[];return Ze(ft,ae),ae}((We.get(an)||$o).map(Jo=>Jo.getRealPlayer())).filter(Jo=>!!Jo.element&&Jo.element===an),ni=Jt.get(an),Ai=un.get(an),Wi=je(0,this._normalizer,0,Lt.keyframes,ni,Ai),zo=this._buildPlayer(Lt,Wi,$n);if(Lt.subTimeline&&yt&&Ne.add(an),On){const Jo=new Oi(ae,_n,an);Jo.setRealPlayer(zo),Vn.push(Jo)}return zo});Vn.forEach(Lt=>{he(this.playersByQueriedElement,Lt.element,[]).push(Lt),Lt.onDone(()=>function rr(ft,ae,pe){let We=ft.get(ae);if(We){if(We.length){const yt=We.indexOf(pe);We.splice(yt,1)}0==We.length&&ft.delete(ae)}return We}(this.playersByQueriedElement,Lt.element,Lt))}),Yt.forEach(Lt=>ms(Lt,Ht));const mt=st(Ue);return mt.onDestroy(()=>{Yt.forEach(Lt=>Bs(Lt,Ht)),ti(En,pe.toStyles)}),Ne.forEach(Lt=>{he(yt,Lt,[]).push(mt)}),mt}_buildPlayer(ae,pe,We){return pe.length>0?this.driver.animate(ae.element,pe,ae.duration,ae.delay,ae.easing,We):new z.ZN(ae.duration,ae.delay)}}class Oi{constructor(ae,pe,We){this.namespaceId=ae,this.triggerName=pe,this.element=We,this._player=new z.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(ae){this._containsRealPlayer||(this._player=ae,this._queuedCallbacks.forEach((pe,We)=>{pe.forEach(yt=>It(ae,We,void 0,yt))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(ae.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(ae){this.totalTime=ae}syncPlayerEvents(ae){const pe=this._player;pe.triggerCallback&&ae.onStart(()=>pe.triggerCallback("start")),ae.onDone(()=>this.finish()),ae.onDestroy(()=>this.destroy())}_queueEvent(ae,pe){he(this._queuedCallbacks,ae,[]).push(pe)}onDone(ae){this.queued&&this._queueEvent("done",ae),this._player.onDone(ae)}onStart(ae){this.queued&&this._queueEvent("start",ae),this._player.onStart(ae)}onDestroy(ae){this.queued&&this._queueEvent("destroy",ae),this._player.onDestroy(ae)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(ae){this.queued||this._player.setPosition(ae)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(ae){const pe=this._player;pe.triggerCallback&&pe.triggerCallback(ae)}}function Xi(ft){return ft&&1===ft.nodeType}function ar(ft,ae){const pe=ft.style.display;return ft.style.display=null!=ae?ae:"none",pe}function Ss(ft,ae,pe,We,yt){const Jt=[];pe.forEach(En=>Jt.push(ar(En)));const un=[];We.forEach((En,Vn)=>{const Yt=new Map;En.forEach(Ne=>{const Ue=ae.computeStyle(Vn,Ne,yt);Yt.set(Ne,Ue),(!Ue||0==Ue.length)&&(Vn[Vo]=or,un.push(Vn))}),ft.set(Vn,Yt)});let _n=0;return pe.forEach(En=>ar(En,Jt[_n++])),un}function ca(ft,ae){const pe=new Map;if(ft.forEach(_n=>pe.set(_n,[])),0==ae.length)return pe;const yt=new Set(ae),Jt=new Map;function un(_n){if(!_n)return 1;let En=Jt.get(_n);if(En)return En;const Vn=_n.parentNode;return En=pe.has(Vn)?Vn:yt.has(Vn)?1:un(Vn),Jt.set(_n,En),En}return ae.forEach(_n=>{const En=un(_n);1!==En&&pe.get(En).push(_n)}),pe}function ms(ft,ae){var pe;null===(pe=ft.classList)||void 0===pe||pe.add(ae)}function Bs(ft,ae){var pe;null===(pe=ft.classList)||void 0===pe||pe.remove(ae)}function jr(ft,ae,pe){st(pe).onDone(()=>ft.processLeaveNode(ae))}function Ze(ft,ae){for(let pe=0;pe<ft.length;pe++){const We=ft[pe];We instanceof z.ZE?Ze(We.players,ae):ae.push(We)}}function kt(ft,ae,pe){const We=pe.get(ft);if(!We)return!1;let yt=ae.get(ft);return yt?We.forEach(Jt=>yt.add(Jt)):ae.set(ft,We),pe.delete(ft),!0}class Ln{constructor(ae,pe,We){this.bodyNode=ae,this._driver=pe,this._normalizer=We,this._triggerCache={},this.onRemovalComplete=(yt,Jt)=>{},this._transitionEngine=new Qn(ae,pe,We),this._timelineEngine=new cs(ae,pe,We),this._transitionEngine.onRemovalComplete=(yt,Jt)=>this.onRemovalComplete(yt,Jt)}registerTrigger(ae,pe,We,yt,Jt){const un=ae+"-"+yt;let _n=this._triggerCache[un];if(!_n){const En=[],Yt=Ns(this._driver,Jt,En,[]);if(En.length)throw function it(ft,ae){return new d.vHH(3404,!1)}();_n=function qn(ft,ae,pe){return new gi(ft,ae,pe)}(yt,Yt,this._normalizer),this._triggerCache[un]=_n}this._transitionEngine.registerTrigger(pe,yt,_n)}register(ae,pe){this._transitionEngine.register(ae,pe)}destroy(ae,pe){this._transitionEngine.destroy(ae,pe)}onInsert(ae,pe,We,yt){this._transitionEngine.insertNode(ae,pe,We,yt)}onRemove(ae,pe,We,yt){this._transitionEngine.removeNode(ae,pe,yt||!1,We)}disableAnimations(ae,pe){this._transitionEngine.markElementAsDisabled(ae,pe)}process(ae,pe,We,yt){if("@"==We.charAt(0)){const[Jt,un]=gt(We);this._timelineEngine.command(Jt,pe,un,yt)}else this._transitionEngine.trigger(ae,pe,We,yt)}listen(ae,pe,We,yt,Jt){if("@"==We.charAt(0)){const[un,_n]=gt(We);return this._timelineEngine.listen(un,pe,_n,Jt)}return this._transitionEngine.listen(ae,pe,We,yt,Jt)}flush(ae=-1){this._transitionEngine.flush(ae)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Gi=(()=>{class ft{constructor(pe,We,yt){this._element=pe,this._startStyles=We,this._endStyles=yt,this._state=0;let Jt=ft.initialStylesByElement.get(pe);Jt||ft.initialStylesByElement.set(pe,Jt=new Map),this._initialStyles=Jt}start(){this._state<1&&(this._startStyles&&ti(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ti(this._element,this._initialStyles),this._endStyles&&(ti(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(ft.initialStylesByElement.delete(this._element),this._startStyles&&(Di(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Di(this._element,this._endStyles),this._endStyles=null),ti(this._element,this._initialStyles),this._state=3)}}return ft.initialStylesByElement=new WeakMap,ft})();function bo(ft){let ae=null;return ft.forEach((pe,We)=>{(function Po(ft){return"display"===ft||"position"===ft})(We)&&(ae=ae||new Map,ae.set(We,pe))}),ae}class us{constructor(ae,pe,We,yt){this.element=ae,this.keyframes=pe,this.options=We,this._specialStyles=yt,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=We.duration,this._delay=We.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ae=>ae()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const ae=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,ae,this.options),this._finalKeyframe=ae.length?ae[ae.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(ae){const pe=[];return ae.forEach(We=>{pe.push(Object.fromEntries(We))}),pe}_triggerWebAnimation(ae,pe,We){return ae.animate(this._convertKeyframesToObject(pe),We)}onStart(ae){this._originalOnStartFns.push(ae),this._onStartFns.push(ae)}onDone(ae){this._originalOnDoneFns.push(ae),this._onDoneFns.push(ae)}onDestroy(ae){this._onDestroyFns.push(ae)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(ae=>ae()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(ae=>ae()),this._onDestroyFns=[])}setPosition(ae){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=ae*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const ae=new Map;this.hasStarted()&&this._finalKeyframe.forEach((We,yt)=>{"offset"!==yt&&ae.set(yt,this._finished?We:oo(this.element,yt))}),this.currentSnapshot=ae}triggerCallback(ae){const pe="start"===ae?this._onStartFns:this._onDoneFns;pe.forEach(We=>We()),pe.length=0}}class Ws{validateStyleProperty(ae){return!0}validateAnimatableStyleProperty(ae){return!0}matchesElement(ae,pe){return!1}containsElement(ae,pe){return gn(ae,pe)}getParentElement(ae){return _t(ae)}query(ae,pe,We){return Qt(ae,pe,We)}computeStyle(ae,pe,We){return window.getComputedStyle(ae)[pe]}animate(ae,pe,We,yt,Jt,un=[]){const En={duration:We,delay:yt,fill:0==yt?"both":"forwards"};Jt&&(En.easing=Jt);const Vn=new Map,Yt=un.filter(mt=>mt instanceof us);(function rs(ft,ae){return 0===ft||0===ae})(We,yt)&&Yt.forEach(mt=>{mt.currentSnapshot.forEach((Lt,an)=>Vn.set(an,Lt))});let Ne=function bn(ft){return ft.length?ft[0]instanceof Map?ft:ft.map(ae=>Rt(ae)):[]}(pe).map(mt=>Wn(mt));Ne=function os(ft,ae,pe){if(pe.size&&ae.length){let We=ae[0],yt=[];if(pe.forEach((Jt,un)=>{We.has(un)||yt.push(un),We.set(un,Jt)}),yt.length)for(let Jt=1;Jt<ae.length;Jt++){let un=ae[Jt];yt.forEach(_n=>un.set(_n,oo(ft,_n)))}}return ae}(ae,Ne,Vn);const Ue=function fi(ft,ae){let pe=null,We=null;return Array.isArray(ae)&&ae.length?(pe=bo(ae[0]),ae.length>1&&(We=bo(ae[ae.length-1]))):ae instanceof Map&&(pe=bo(ae)),pe||We?new Gi(ft,pe,We):null}(ae,Ne);return new us(ae,Ne,En,Ue)}}let lr=(()=>{class ft extends z._j{constructor(pe,We){super(),this._nextAnimationId=0,this._renderer=pe.createRenderer(We.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(pe){const We=this._nextAnimationId.toString();this._nextAnimationId++;const yt=Array.isArray(pe)?(0,z.vP)(pe):pe;return Rr(this._renderer,null,We,"register",[yt]),new wr(We,this._renderer)}}return ft.\u0275fac=function(pe){return new(pe||ft)(d.LFG(d.FYo),d.LFG(a.K0))},ft.\u0275prov=d.Yz7({token:ft,factory:ft.\u0275fac}),ft})();class wr extends z.LC{constructor(ae,pe){super(),this._id=ae,this._renderer=pe}create(ae,pe){return new Er(this._id,ae,pe||{},this._renderer)}}class Er{constructor(ae,pe,We,yt){this.id=ae,this.element=pe,this._renderer=yt,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",We)}_listen(ae,pe){return this._renderer.listen(this.element,`@@${this.id}:${ae}`,pe)}_command(ae,...pe){return Rr(this._renderer,this.element,this.id,ae,pe)}onDone(ae){this._listen("done",ae)}onStart(ae){this._listen("start",ae)}onDestroy(ae){this._listen("destroy",ae)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(ae){this._command("setPosition",ae)}getPosition(){var ae,pe;return null!==(pe=null===(ae=this._renderer.engine.players[+this.id])||void 0===ae?void 0:ae.getPosition())&&void 0!==pe?pe:0}}function Rr(ft,ae,pe,We,yt){return ft.setProperty(ae,`@@${pe}:${We}`,yt)}const Nr="@.disabled";let cr=(()=>{class ft{constructor(pe,We,yt){this.delegate=pe,this.engine=We,this._zone=yt,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),We.onRemovalComplete=(Jt,un)=>{const _n=null==un?void 0:un.parentNode(Jt);_n&&un.removeChild(_n,Jt)}}createRenderer(pe,We){const Jt=this.delegate.createRenderer(pe,We);if(!(pe&&We&&We.data&&We.data.animation)){let Yt=this._rendererCache.get(Jt);return Yt||(Yt=new ma("",Jt,this.engine,()=>this._rendererCache.delete(Jt)),this._rendererCache.set(Jt,Yt)),Yt}const un=We.id,_n=We.id+"-"+this._currentId;this._currentId++,this.engine.register(_n,pe);const En=Yt=>{Array.isArray(Yt)?Yt.forEach(En):this.engine.registerTrigger(un,_n,pe,Yt.name,Yt)};return We.data.animation.forEach(En),new Fa(this,_n,Jt,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(pe,We,yt){pe>=0&&pe<this._microtaskId?this._zone.run(()=>We(yt)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Jt=>{const[un,_n]=Jt;un(_n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([We,yt]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return ft.\u0275fac=function(pe){return new(pe||ft)(d.LFG(d.FYo),d.LFG(Ln),d.LFG(d.R0b))},ft.\u0275prov=d.Yz7({token:ft,factory:ft.\u0275fac}),ft})();class ma{constructor(ae,pe,We,yt){this.namespaceId=ae,this.delegate=pe,this.engine=We,this._onDestroy=yt,this.destroyNode=this.delegate.destroyNode?Jt=>pe.destroyNode(Jt):null}get data(){return this.delegate.data}destroy(){var ae;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(ae=this._onDestroy)||void 0===ae||ae.call(this)}createElement(ae,pe){return this.delegate.createElement(ae,pe)}createComment(ae){return this.delegate.createComment(ae)}createText(ae){return this.delegate.createText(ae)}appendChild(ae,pe){this.delegate.appendChild(ae,pe),this.engine.onInsert(this.namespaceId,pe,ae,!1)}insertBefore(ae,pe,We,yt=!0){this.delegate.insertBefore(ae,pe,We),this.engine.onInsert(this.namespaceId,pe,ae,yt)}removeChild(ae,pe,We){this.engine.onRemove(this.namespaceId,pe,this.delegate,We)}selectRootElement(ae,pe){return this.delegate.selectRootElement(ae,pe)}parentNode(ae){return this.delegate.parentNode(ae)}nextSibling(ae){return this.delegate.nextSibling(ae)}setAttribute(ae,pe,We,yt){this.delegate.setAttribute(ae,pe,We,yt)}removeAttribute(ae,pe,We){this.delegate.removeAttribute(ae,pe,We)}addClass(ae,pe){this.delegate.addClass(ae,pe)}removeClass(ae,pe){this.delegate.removeClass(ae,pe)}setStyle(ae,pe,We,yt){this.delegate.setStyle(ae,pe,We,yt)}removeStyle(ae,pe,We){this.delegate.removeStyle(ae,pe,We)}setProperty(ae,pe,We){"@"==pe.charAt(0)&&pe==Nr?this.disableAnimations(ae,!!We):this.delegate.setProperty(ae,pe,We)}setValue(ae,pe){this.delegate.setValue(ae,pe)}listen(ae,pe,We){return this.delegate.listen(ae,pe,We)}disableAnimations(ae,pe){this.engine.disableAnimations(ae,pe)}}class Fa extends ma{constructor(ae,pe,We,yt,Jt){super(pe,We,yt,Jt),this.factory=ae,this.namespaceId=pe}setProperty(ae,pe,We){"@"==pe.charAt(0)?"."==pe.charAt(1)&&pe==Nr?this.disableAnimations(ae,We=void 0===We||!!We):this.engine.process(this.namespaceId,ae,pe.slice(1),We):this.delegate.setProperty(ae,pe,We)}listen(ae,pe,We){if("@"==pe.charAt(0)){const yt=function Xa(ft){switch(ft){case"body":return document.body;case"document":return document;case"window":return window;default:return ft}}(ae);let Jt=pe.slice(1),un="";return"@"!=Jt.charAt(0)&&([Jt,un]=function Oe(ft){const ae=ft.indexOf(".");return[ft.substring(0,ae),ft.slice(ae+1)]}(Jt)),this.engine.listen(this.namespaceId,yt,Jt,un,_n=>{this.factory.scheduleListenerCallback(_n._data||-1,We,_n)})}return this.delegate.listen(ae,pe,We)}}const on=[{provide:z._j,useClass:lr},{provide:xs,useFactory:function Ve(){return new Tr}},{provide:Ln,useClass:(()=>{class ft extends Ln{constructor(pe,We,yt,Jt){super(pe.body,We,yt)}ngOnDestroy(){this.flush()}}return ft.\u0275fac=function(pe){return new(pe||ft)(d.LFG(a.K0),d.LFG(rn),d.LFG(xs),d.LFG(d.z2F))},ft.\u0275prov=d.Yz7({token:ft,factory:ft.\u0275fac}),ft})()},{provide:d.FYo,useFactory:function St(ft,ae,pe){return new cr(ft,ae,pe)},deps:[e.se,Ln,d.R0b]}],Dn=[{provide:rn,useFactory:()=>new Ws},{provide:d.QbO,useValue:"BrowserAnimations"},...on],Nn=[{provide:rn,useClass:Nt},{provide:d.QbO,useValue:"NoopAnimations"},...on];let ui=(()=>{class ft{static withConfig(pe){return{ngModule:ft,providers:pe.disableAnimations?Nn:Dn}}}return ft.\u0275fac=function(pe){return new(pe||ft)},ft.\u0275mod=d.oAB({type:ft}),ft.\u0275inj=d.cJS({providers:Dn,imports:[e.b2]}),ft})();var ji=b(158),_o=b(520),bi=b(2382),yo=b(8913),jo=b(6198),Zs=b(845);(0,a.qS)(N,"ru");let ds=(()=>{class ft{}return ft.\u0275fac=function(pe){return new(pe||ft)},ft.\u0275mod=d.oAB({type:ft,bootstrap:[D]}),ft.\u0275inj=d.cJS({imports:[ji.q,ui,e.b2,$.MainModule,ce.LoginModule,f.Bz,bi.u5,_o.JF,R.EV,yo.U,jo.L,Zs.hJ,ui,bi.u5,_o.JF]}),ft})();b(2340).N.production&&(0,d.G48)(),e.q6().bootstrapModule(ds).catch(ft=>console.error(ft))},1135:(hn,ht,b)=>{"use strict";b.d(ht,{X:()=>d});var e=b(7579);class d extends e.x{constructor(f){super(),this._value=f}get value(){return this.getValue()}_subscribe(f){const _=super._subscribe(f);return!_.closed&&f.next(this._value),_}getValue(){const{hasError:f,thrownError:_,_value:P}=this;if(f)throw _;return this._throwIfClosed(),P}next(f){super.next(this._value=f)}}},9751:(hn,ht,b)=>{"use strict";b.d(ht,{y:()=>a});var e=b(930),d=b(727),u=b(8822),f=b(9635),_=b(2416),P=b(576),x=b(2806);let a=(()=>{class F{constructor(y){y&&(this._subscribe=y)}lift(y){const D=new F;return D.source=this,D.operator=y,D}subscribe(y,D,k){const B=function V(F){return F&&F instanceof e.Lv||function L(F){return F&&(0,P.m)(F.next)&&(0,P.m)(F.error)&&(0,P.m)(F.complete)}(F)&&(0,d.Nn)(F)}(y)?y:new e.Hp(y,D,k);return(0,x.x)(()=>{const{operator:N,source:ce}=this;B.add(N?N.call(B,ce):ce?this._subscribe(B):this._trySubscribe(B))}),B}_trySubscribe(y){try{return this._subscribe(y)}catch(D){y.error(D)}}forEach(y,D){return new(D=R(D))((k,B)=>{let N;N=this.subscribe(ce=>{try{y(ce)}catch($){B($),null==N||N.unsubscribe()}},B,k)})}_subscribe(y){var D;return null===(D=this.source)||void 0===D?void 0:D.subscribe(y)}[u.L](){return this}pipe(...y){return(0,f.U)(y)(this)}toPromise(y){return new(y=R(y))((D,k)=>{let B;this.subscribe(N=>B=N,N=>k(N),()=>D(B))})}}return F.create=T=>new F(T),F})();function R(F){var T;return null!==(T=null!=F?F:_.v.Promise)&&void 0!==T?T:Promise}},4707:(hn,ht,b)=>{"use strict";b.d(ht,{t:()=>u});var e=b(7579),d=b(6063);class u extends e.x{constructor(_=1/0,P=1/0,x=d.l){super(),this._bufferSize=_,this._windowTime=P,this._timestampProvider=x,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=P===1/0,this._bufferSize=Math.max(1,_),this._windowTime=Math.max(1,P)}next(_){const{isStopped:P,_buffer:x,_infiniteTimeWindow:a,_timestampProvider:R,_windowTime:L}=this;P||(x.push(_),!a&&x.push(R.now()+L)),this._trimBuffer(),super.next(_)}_subscribe(_){this._throwIfClosed(),this._trimBuffer();const P=this._innerSubscribe(_),{_infiniteTimeWindow:x,_buffer:a}=this,R=a.slice();for(let L=0;L<R.length&&!_.closed;L+=x?1:2)_.next(R[L]);return this._checkFinalizedStatuses(_),P}_trimBuffer(){const{_bufferSize:_,_timestampProvider:P,_buffer:x,_infiniteTimeWindow:a}=this,R=(a?1:2)*_;if(_<1/0&&R<x.length&&x.splice(0,x.length-R),!a){const L=P.now();let V=0;for(let F=1;F<x.length&&x[F]<=L;F+=2)V=F;V&&x.splice(0,V+1)}}}},7579:(hn,ht,b)=>{"use strict";b.d(ht,{x:()=>x});var e=b(9751),d=b(727);const f=(0,b(3888).d)(R=>function(){R(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _=b(8737),P=b(2806);let x=(()=>{class R extends e.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(V){const F=new a(this,this);return F.operator=V,F}_throwIfClosed(){if(this.closed)throw new f}next(V){(0,P.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const F=this.observers.slice();for(const T of F)T.next(V)}})}error(V){(0,P.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=V;const{observers:F}=this;for(;F.length;)F.shift().error(V)}})}complete(){(0,P.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:V}=this;for(;V.length;)V.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var V;return(null===(V=this.observers)||void 0===V?void 0:V.length)>0}_trySubscribe(V){return this._throwIfClosed(),super._trySubscribe(V)}_subscribe(V){return this._throwIfClosed(),this._checkFinalizedStatuses(V),this._innerSubscribe(V)}_innerSubscribe(V){const{hasError:F,isStopped:T,observers:y}=this;return F||T?d.Lc:(y.push(V),new d.w0(()=>(0,_.P)(y,V)))}_checkFinalizedStatuses(V){const{hasError:F,thrownError:T,isStopped:y}=this;F?V.error(T):y&&V.complete()}asObservable(){const V=new e.y;return V.source=this,V}}return R.create=(L,V)=>new a(L,V),R})();class a extends x{constructor(L,V){super(),this.destination=L,this.source=V}next(L){var V,F;null===(F=null===(V=this.destination)||void 0===V?void 0:V.next)||void 0===F||F.call(V,L)}error(L){var V,F;null===(F=null===(V=this.destination)||void 0===V?void 0:V.error)||void 0===F||F.call(V,L)}complete(){var L,V;null===(V=null===(L=this.destination)||void 0===L?void 0:L.complete)||void 0===V||V.call(L)}_subscribe(L){var V,F;return null!==(F=null===(V=this.source)||void 0===V?void 0:V.subscribe(L))&&void 0!==F?F:d.Lc}}},930:(hn,ht,b)=>{"use strict";b.d(ht,{Hp:()=>T,Lv:()=>F});var e=b(576),d=b(727),u=b(2416),f=b(7849),_=b(5032);const P=R("C",void 0,void 0);function R(N,ce,$){return{kind:N,value:ce,error:$}}var L=b(3410),V=b(2806);class F extends d.w0{constructor(ce){super(),this.isStopped=!1,ce?(this.destination=ce,(0,d.Nn)(ce)&&ce.add(this)):this.destination=B}static create(ce,$,z){return new T(ce,$,z)}next(ce){this.isStopped?k(function a(N){return R("N",N,void 0)}(ce),this):this._next(ce)}error(ce){this.isStopped?k(function x(N){return R("E",void 0,N)}(ce),this):(this.isStopped=!0,this._error(ce))}complete(){this.isStopped?k(P,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ce){this.destination.next(ce)}_error(ce){try{this.destination.error(ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class T extends F{constructor(ce,$,z){let S;if(super(),(0,e.m)(ce))S=ce;else if(ce){let O;({next:S,error:$,complete:z}=ce),this&&u.v.useDeprecatedNextContext?(O=Object.create(ce),O.unsubscribe=()=>this.unsubscribe()):O=ce,S=null==S?void 0:S.bind(O),$=null==$?void 0:$.bind(O),z=null==z?void 0:z.bind(O)}this.destination={next:S?y(S):_.Z,error:y(null!=$?$:D),complete:z?y(z):_.Z}}}function y(N,ce){return(...$)=>{try{N(...$)}catch(z){u.v.useDeprecatedSynchronousErrorHandling?(0,V.O)(z):(0,f.h)(z)}}}function D(N){throw N}function k(N,ce){const{onStoppedNotification:$}=u.v;$&&L.z.setTimeout(()=>$(N,ce))}const B={closed:!0,next:_.Z,error:D,complete:_.Z}},727:(hn,ht,b)=>{"use strict";b.d(ht,{Lc:()=>P,w0:()=>_,Nn:()=>x});var e=b(576);const u=(0,b(3888).d)(R=>function(V){R(this),this.message=V?`${V.length} errors occurred during unsubscription:\n${V.map((F,T)=>`${T+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=V});var f=b(8737);class _{constructor(L){this.initialTeardown=L,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let L;if(!this.closed){this.closed=!0;const{_parentage:V}=this;if(V)if(this._parentage=null,Array.isArray(V))for(const y of V)y.remove(this);else V.remove(this);const{initialTeardown:F}=this;if((0,e.m)(F))try{F()}catch(y){L=y instanceof u?y.errors:[y]}const{_teardowns:T}=this;if(T){this._teardowns=null;for(const y of T)try{a(y)}catch(D){L=null!=L?L:[],D instanceof u?L=[...L,...D.errors]:L.push(D)}}if(L)throw new u(L)}}add(L){var V;if(L&&L!==this)if(this.closed)a(L);else{if(L instanceof _){if(L.closed||L._hasParent(this))return;L._addParent(this)}(this._teardowns=null!==(V=this._teardowns)&&void 0!==V?V:[]).push(L)}}_hasParent(L){const{_parentage:V}=this;return V===L||Array.isArray(V)&&V.includes(L)}_addParent(L){const{_parentage:V}=this;this._parentage=Array.isArray(V)?(V.push(L),V):V?[V,L]:L}_removeParent(L){const{_parentage:V}=this;V===L?this._parentage=null:Array.isArray(V)&&(0,f.P)(V,L)}remove(L){const{_teardowns:V}=this;V&&(0,f.P)(V,L),L instanceof _&&L._removeParent(this)}}_.EMPTY=(()=>{const R=new _;return R.closed=!0,R})();const P=_.EMPTY;function x(R){return R instanceof _||R&&"closed"in R&&(0,e.m)(R.remove)&&(0,e.m)(R.add)&&(0,e.m)(R.unsubscribe)}function a(R){(0,e.m)(R)?R():R.unsubscribe()}},2416:(hn,ht,b)=>{"use strict";b.d(ht,{v:()=>e});const e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3905:(hn,ht,b)=>{"use strict";b.d(ht,{z:()=>u});var e=b(6805),d=b(930);function u(f,_){const P="object"==typeof _;return new Promise((x,a)=>{const R=new d.Hp({next:L=>{x(L),R.unsubscribe()},error:a,complete:()=>{P?x(_.defaultValue):a(new e.K)}});f.subscribe(R)})}},4464:(hn,ht,b)=>{"use strict";b.d(ht,{n:()=>d});var e=b(6805);function d(u,f){const _="object"==typeof f;return new Promise((P,x)=>{let R,a=!1;u.subscribe({next:L=>{R=L,a=!0},error:x,complete:()=>{a?P(R):_?P(f.defaultValue):x(new e.K)}})})}},9841:(hn,ht,b)=>{"use strict";b.d(ht,{a:()=>L});var e=b(9751),d=b(4742),u=b(2076),f=b(4671),_=b(3268),P=b(3269),x=b(1810),a=b(5403),R=b(9672);function L(...T){const y=(0,P.yG)(T),D=(0,P.jO)(T),{args:k,keys:B}=(0,d.D)(T);if(0===k.length)return(0,u.D)([],y);const N=new e.y(function V(T,y,D=f.y){return k=>{F(y,()=>{const{length:B}=T,N=new Array(B);let ce=B,$=B;for(let z=0;z<B;z++)F(y,()=>{const S=(0,u.D)(T[z],y);let O=!1;S.subscribe(new a.Q(k,K=>{N[z]=K,O||(O=!0,$--),$||k.next(D(N.slice()))},()=>{--ce||k.complete()}))},k)},k)}}(k,y,B?ce=>(0,x.n)(B,ce):f.y));return D?N.pipe((0,_.Z)(D)):N}function F(T,y,D){T?(0,R.f)(D,T,y):y()}},7272:(hn,ht,b)=>{"use strict";b.d(ht,{z:()=>_});var e=b(8189),u=b(3269),f=b(2076);function _(...P){return function d(){return(0,e.J)(1)}()((0,f.D)(P,(0,u.yG)(P)))}},9770:(hn,ht,b)=>{"use strict";b.d(ht,{P:()=>u});var e=b(9751),d=b(8421);function u(f){return new e.y(_=>{(0,d.Xf)(f()).subscribe(_)})}},515:(hn,ht,b)=>{"use strict";b.d(ht,{E:()=>d});const d=new(b(9751).y)(_=>_.complete())},2076:(hn,ht,b)=>{"use strict";b.d(ht,{D:()=>K});var e=b(8421),d=b(9672),u=b(4482),f=b(5403);function _(ue,q=0){return(0,u.e)((G,j)=>{G.subscribe(new f.Q(j,fe=>(0,d.f)(j,ue,()=>j.next(fe),q),()=>(0,d.f)(j,ue,()=>j.complete(),q),fe=>(0,d.f)(j,ue,()=>j.error(fe),q)))})}function P(ue,q=0){return(0,u.e)((G,j)=>{j.add(ue.schedule(()=>G.subscribe(j),q))})}var R=b(9751),V=b(2202),F=b(576);function y(ue,q){if(!ue)throw new Error("Iterable cannot be null");return new R.y(G=>{(0,d.f)(G,q,()=>{const j=ue[Symbol.asyncIterator]();(0,d.f)(G,q,()=>{j.next().then(fe=>{fe.done?G.complete():G.next(fe.value)})},0,!0)})})}var D=b(3670),k=b(8239),B=b(1144),N=b(6495),ce=b(2206),$=b(4532),z=b(3260);function K(ue,q){return q?function O(ue,q){if(null!=ue){if((0,D.c)(ue))return function x(ue,q){return(0,e.Xf)(ue).pipe(P(q),_(q))}(ue,q);if((0,B.z)(ue))return function L(ue,q){return new R.y(G=>{let j=0;return q.schedule(function(){j===ue.length?G.complete():(G.next(ue[j++]),G.closed||this.schedule())})})}(ue,q);if((0,k.t)(ue))return function a(ue,q){return(0,e.Xf)(ue).pipe(P(q),_(q))}(ue,q);if((0,ce.D)(ue))return y(ue,q);if((0,N.T)(ue))return function T(ue,q){return new R.y(G=>{let j;return(0,d.f)(G,q,()=>{j=ue[V.h](),(0,d.f)(G,q,()=>{let fe,ne;try{({value:fe,done:ne}=j.next())}catch(J){return void G.error(J)}ne?G.complete():G.next(fe)},0,!0)}),()=>(0,F.m)(null==j?void 0:j.return)&&j.return()})}(ue,q);if((0,z.L)(ue))return function S(ue,q){return y((0,z.Q)(ue),q)}(ue,q)}throw(0,$.z)(ue)}(ue,q):(0,e.Xf)(ue)}},4968:(hn,ht,b)=>{"use strict";b.d(ht,{R:()=>L});var e=b(8421),d=b(9751),u=b(5577),f=b(1144),_=b(576),P=b(3268);const x=["addListener","removeListener"],a=["addEventListener","removeEventListener"],R=["on","off"];function L(D,k,B,N){if((0,_.m)(B)&&(N=B,B=void 0),N)return L(D,k,B).pipe((0,P.Z)(N));const[ce,$]=function y(D){return(0,_.m)(D.addEventListener)&&(0,_.m)(D.removeEventListener)}(D)?a.map(z=>S=>D[z](k,S,B)):function F(D){return(0,_.m)(D.addListener)&&(0,_.m)(D.removeListener)}(D)?x.map(V(D,k)):function T(D){return(0,_.m)(D.on)&&(0,_.m)(D.off)}(D)?R.map(V(D,k)):[];if(!ce&&(0,f.z)(D))return(0,u.z)(z=>L(z,k,B))((0,e.Xf)(D));if(!ce)throw new TypeError("Invalid event target");return new d.y(z=>{const S=(...O)=>z.next(1<O.length?O:O[0]);return ce(S),()=>$(S)})}function V(D,k){return B=>N=>D[B](k,N)}},8421:(hn,ht,b)=>{"use strict";b.d(ht,{Xf:()=>T});var e=b(5987),d=b(1144),u=b(8239),f=b(9751),_=b(3670),P=b(2206),x=b(4532),a=b(6495),R=b(3260),L=b(576),V=b(7849),F=b(8822);function T(z){if(z instanceof f.y)return z;if(null!=z){if((0,_.c)(z))return function y(z){return new f.y(S=>{const O=z[F.L]();if((0,L.m)(O.subscribe))return O.subscribe(S);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(z);if((0,d.z)(z))return function D(z){return new f.y(S=>{for(let O=0;O<z.length&&!S.closed;O++)S.next(z[O]);S.complete()})}(z);if((0,u.t)(z))return function k(z){return new f.y(S=>{z.then(O=>{S.closed||(S.next(O),S.complete())},O=>S.error(O)).then(null,V.h)})}(z);if((0,P.D)(z))return N(z);if((0,a.T)(z))return function B(z){return new f.y(S=>{for(const O of z)if(S.next(O),S.closed)return;S.complete()})}(z);if((0,R.L)(z))return function ce(z){return N((0,R.Q)(z))}(z)}throw(0,x.z)(z)}function N(z){return new f.y(S=>{(function $(z,S){var O,K,ue,q;return(0,e.mG)(this,void 0,void 0,function*(){try{for(O=(0,e.KL)(z);!(K=yield O.next()).done;)if(S.next(K.value),S.closed)return}catch(G){ue={error:G}}finally{try{K&&!K.done&&(q=O.return)&&(yield q.call(O))}finally{if(ue)throw ue.error}}S.complete()})})(z,S).catch(O=>S.error(O))})}},7445:(hn,ht,b)=>{"use strict";b.d(ht,{F:()=>u});var e=b(4986),d=b(5963);function u(f=0,_=e.z){return f<0&&(f=0),(0,d.H)(f,f,_)}},6451:(hn,ht,b)=>{"use strict";b.d(ht,{T:()=>P});var e=b(8189),d=b(8421),u=b(515),f=b(3269),_=b(2076);function P(...x){const a=(0,f.yG)(x),R=(0,f._6)(x,1/0),L=x;return L.length?1===L.length?(0,d.Xf)(L[0]):(0,e.J)(R)((0,_.D)(L,a)):u.E}},9646:(hn,ht,b)=>{"use strict";b.d(ht,{of:()=>u});var e=b(3269),d=b(2076);function u(...f){const _=(0,e.yG)(f);return(0,d.D)(f,_)}},2843:(hn,ht,b)=>{"use strict";b.d(ht,{_:()=>u});var e=b(9751),d=b(576);function u(f,_){const P=(0,d.m)(f)?f:()=>f,x=a=>a.error(P());return new e.y(_?a=>_.schedule(x,0,a):x)}},5963:(hn,ht,b)=>{"use strict";b.d(ht,{H:()=>_});var e=b(9751),d=b(4986),u=b(3532);function _(P=0,x,a=d.P){let R=-1;return null!=x&&((0,u.K)(x)?a=x:R=x),new e.y(L=>{let V=function f(P){return P instanceof Date&&!isNaN(P)}(P)?+P-a.now():P;V<0&&(V=0);let F=0;return a.schedule(function(){L.closed||(L.next(F++),0<=R?this.schedule(void 0,R):L.complete())},V)})}},5403:(hn,ht,b)=>{"use strict";b.d(ht,{Q:()=>d});var e=b(930);class d extends e.Lv{constructor(f,_,P,x,a){super(f),this.onFinalize=a,this._next=_?function(R){try{_(R)}catch(L){f.error(L)}}:super._next,this._error=x?function(R){try{x(R)}catch(L){f.error(L)}finally{this.unsubscribe()}}:super._error,this._complete=P?function(){try{P()}catch(R){f.error(R)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var f;const{closed:_}=this;super.unsubscribe(),!_&&(null===(f=this.onFinalize)||void 0===f||f.call(this))}}},262:(hn,ht,b)=>{"use strict";b.d(ht,{K:()=>f});var e=b(8421),d=b(5403),u=b(4482);function f(_){return(0,u.e)((P,x)=>{let L,a=null,R=!1;a=P.subscribe(new d.Q(x,void 0,void 0,V=>{L=(0,e.Xf)(_(V,f(_)(P))),a?(a.unsubscribe(),a=null,L.subscribe(x)):R=!0})),R&&(a.unsubscribe(),a=null,L.subscribe(x))})}},4351:(hn,ht,b)=>{"use strict";b.d(ht,{b:()=>u});var e=b(5577),d=b(576);function u(f,_){return(0,d.m)(_)?(0,e.z)(f,_,1):(0,e.z)(f,1)}},8372:(hn,ht,b)=>{"use strict";b.d(ht,{b:()=>f});var e=b(4986),d=b(4482),u=b(5403);function f(_,P=e.z){return(0,d.e)((x,a)=>{let R=null,L=null,V=null;const F=()=>{if(R){R.unsubscribe(),R=null;const y=L;L=null,a.next(y)}};function T(){const y=V+_,D=P.now();if(D<y)return R=this.schedule(void 0,y-D),void a.add(R);F()}x.subscribe(new u.Q(a,y=>{L=y,V=P.now(),R||(R=P.schedule(T,_),a.add(R))},()=>{F(),a.complete()},void 0,()=>{L=R=null}))})}},6590:(hn,ht,b)=>{"use strict";b.d(ht,{d:()=>u});var e=b(4482),d=b(5403);function u(f){return(0,e.e)((_,P)=>{let x=!1;_.subscribe(new d.Q(P,a=>{x=!0,P.next(a)},()=>{x||P.next(f),P.complete()}))})}},4326:(hn,ht,b)=>{"use strict";b.d(ht,{g:()=>f});var e=b(4986),d=b(5376),u=b(5963);function f(_,P=e.z){const x=(0,u.H)(_,P);return(0,d.j)(()=>x)}},5376:(hn,ht,b)=>{"use strict";b.d(ht,{j:()=>R});var e=b(7272),d=b(5698),u=b(4482),f=b(5403),_=b(5032),x=b(9718),a=b(5577);function R(L,V){return V?F=>(0,e.z)(V.pipe((0,d.q)(1),function P(){return(0,u.e)((L,V)=>{L.subscribe(new f.Q(V,_.Z))})}()),F.pipe(R(L))):(0,a.z)((F,T)=>L(F,T).pipe((0,d.q)(1),(0,x.h)(F)))}},1884:(hn,ht,b)=>{"use strict";b.d(ht,{x:()=>f});var e=b(4671),d=b(4482),u=b(5403);function f(P,x=e.y){return P=null!=P?P:_,(0,d.e)((a,R)=>{let L,V=!0;a.subscribe(new u.Q(R,F=>{const T=x(F);(V||!P(L,T))&&(V=!1,L=T,R.next(F))}))})}function _(P,x){return P===x}},9300:(hn,ht,b)=>{"use strict";b.d(ht,{h:()=>u});var e=b(4482),d=b(5403);function u(f,_){return(0,e.e)((P,x)=>{let a=0;P.subscribe(new d.Q(x,R=>f.call(_,R,a++)&&x.next(R)))})}},8746:(hn,ht,b)=>{"use strict";b.d(ht,{x:()=>d});var e=b(4482);function d(u){return(0,e.e)((f,_)=>{try{f.subscribe(_)}finally{_.add(u)}})}},590:(hn,ht,b)=>{"use strict";b.d(ht,{P:()=>x});var e=b(6805),d=b(9300),u=b(5698),f=b(6590),_=b(8068),P=b(4671);function x(a,R){const L=arguments.length>=2;return V=>V.pipe(a?(0,d.h)((F,T)=>a(F,T,V)):P.y,(0,u.q)(1),L?(0,f.d)(R):(0,_.T)(()=>new e.K))}},4004:(hn,ht,b)=>{"use strict";b.d(ht,{U:()=>u});var e=b(4482),d=b(5403);function u(f,_){return(0,e.e)((P,x)=>{let a=0;P.subscribe(new d.Q(x,R=>{x.next(f.call(_,R,a++))}))})}},9718:(hn,ht,b)=>{"use strict";b.d(ht,{h:()=>d});var e=b(4004);function d(u){return(0,e.U)(()=>u)}},8189:(hn,ht,b)=>{"use strict";b.d(ht,{J:()=>u});var e=b(5577),d=b(4671);function u(f=1/0){return(0,e.z)(d.y,f)}},5577:(hn,ht,b)=>{"use strict";b.d(ht,{z:()=>a});var e=b(4004),d=b(8421),u=b(4482),f=b(9672),_=b(5403),x=b(576);function a(R,L,V=1/0){return(0,x.m)(L)?a((F,T)=>(0,e.U)((y,D)=>L(F,y,T,D))((0,d.Xf)(R(F,T))),V):("number"==typeof L&&(V=L),(0,u.e)((F,T)=>function P(R,L,V,F,T,y,D,k){const B=[];let N=0,ce=0,$=!1;const z=()=>{$&&!B.length&&!N&&L.complete()},S=K=>N<F?O(K):B.push(K),O=K=>{y&&L.next(K),N++;let ue=!1;(0,d.Xf)(V(K,ce++)).subscribe(new _.Q(L,q=>{null==T||T(q),y?S(q):L.next(q)},()=>{ue=!0},void 0,()=>{if(ue)try{for(N--;B.length&&N<F;){const q=B.shift();D?(0,f.f)(L,D,()=>O(q)):O(q)}z()}catch(q){L.error(q)}}))};return R.subscribe(new _.Q(L,S,()=>{$=!0,z()})),()=>{null==k||k()}}(F,T,R,V)))}},599:(hn,ht,b)=>{"use strict";b.d(ht,{r:()=>f});var e=b(515),d=b(4482),u=b(5403);function f(_=1/0){return _<=0?()=>e.E:(0,d.e)((P,x)=>{let R,a=0;const L=()=>{let V=!1;R=P.subscribe(new u.Q(x,void 0,()=>{++a<_?R?(R.unsubscribe(),R=null,L()):V=!0:x.complete()})),V&&(R.unsubscribe(),R=null,L())};L()})}},5625:(hn,ht,b)=>{"use strict";b.d(ht,{X:()=>P});var e=b(4482),d=b(5403),u=b(4671),f=b(5963),_=b(8421);function P(x=1/0){let a;a=x&&"object"==typeof x?x:{count:x};const{count:R=1/0,delay:L,resetOnSuccess:V=!1}=a;return R<=0?u.y:(0,e.e)((F,T)=>{let D,y=0;const k=()=>{let B=!1;D=F.subscribe(new d.Q(T,N=>{V&&(y=0),T.next(N)},void 0,N=>{if(y++<R){const ce=()=>{D?(D.unsubscribe(),D=null,k()):B=!0};if(null!=L){const $="number"==typeof L?(0,f.H)(L):(0,_.Xf)(L(N,y)),z=new d.Q(T,()=>{z.unsubscribe(),ce()},()=>{T.complete()});$.subscribe(z)}else ce()}else T.error(N)})),B&&(D.unsubscribe(),D=null,k())};k()})}},3099:(hn,ht,b)=>{"use strict";b.d(ht,{B:()=>P});var e=b(2076),d=b(5698),u=b(7579),f=b(930),_=b(4482);function P(a={}){const{connector:R=(()=>new u.x),resetOnError:L=!0,resetOnComplete:V=!0,resetOnRefCountZero:F=!0}=a;return T=>{let y=null,D=null,k=null,B=0,N=!1,ce=!1;const $=()=>{null==D||D.unsubscribe(),D=null},z=()=>{$(),y=k=null,N=ce=!1},S=()=>{const O=y;z(),null==O||O.unsubscribe()};return(0,_.e)((O,K)=>{B++,!ce&&!N&&$();const ue=k=null!=k?k:R();K.add(()=>{B--,0===B&&!ce&&!N&&(D=x(S,F))}),ue.subscribe(K),y||(y=new f.Hp({next:q=>ue.next(q),error:q=>{ce=!0,$(),D=x(z,L,q),ue.error(q)},complete:()=>{N=!0,$(),D=x(z,V),ue.complete()}}),(0,e.D)(O).subscribe(y))})(T)}}function x(a,R,...L){return!0===R?(a(),null):!1===R?null:R(...L).pipe((0,d.q)(1)).subscribe(()=>a())}},4782:(hn,ht,b)=>{"use strict";b.d(ht,{d:()=>u});var e=b(4707),d=b(3099);function u(f,_,P){var x,a;let R,L=!1;return f&&"object"==typeof f?(R=null!==(x=f.bufferSize)&&void 0!==x?x:1/0,_=null!==(a=f.windowTime)&&void 0!==a?a:1/0,L=!!f.refCount,P=f.scheduler):R=null!=f?f:1/0,(0,d.B)({connector:()=>new e.t(R,_,P),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:L})}},8675:(hn,ht,b)=>{"use strict";b.d(ht,{O:()=>f});var e=b(7272),d=b(3269),u=b(4482);function f(..._){const P=(0,d.yG)(_);return(0,u.e)((x,a)=>{(P?(0,e.z)(_,x,P):(0,e.z)(_,x)).subscribe(a)})}},3900:(hn,ht,b)=>{"use strict";b.d(ht,{w:()=>f});var e=b(8421),d=b(4482),u=b(5403);function f(_,P){return(0,d.e)((x,a)=>{let R=null,L=0,V=!1;const F=()=>V&&!R&&a.complete();x.subscribe(new u.Q(a,T=>{null==R||R.unsubscribe();let y=0;const D=L++;(0,e.Xf)(_(T,D)).subscribe(R=new u.Q(a,k=>a.next(P?P(T,k,D,y++):k),()=>{R=null,F()}))},()=>{V=!0,F()}))})}},5698:(hn,ht,b)=>{"use strict";b.d(ht,{q:()=>f});var e=b(515),d=b(4482),u=b(5403);function f(_){return _<=0?()=>e.E:(0,d.e)((P,x)=>{let a=0;P.subscribe(new u.Q(x,R=>{++a<=_&&(x.next(R),_<=a&&x.complete())}))})}},2035:(hn,ht,b)=>{"use strict";b.d(ht,{h:()=>f});var e=b(515),d=b(4482),u=b(5403);function f(_){return _<=0?()=>e.E:(0,d.e)((P,x)=>{let a=[];P.subscribe(new u.Q(x,R=>{a.push(R),_<a.length&&a.shift()},()=>{for(const R of a)x.next(R);x.complete()},void 0,()=>{a=null}))})}},2722:(hn,ht,b)=>{"use strict";b.d(ht,{R:()=>_});var e=b(4482),d=b(5403),u=b(8421),f=b(5032);function _(P){return(0,e.e)((x,a)=>{(0,u.Xf)(P).subscribe(new d.Q(a,()=>a.complete(),f.Z)),!a.closed&&x.subscribe(a)})}},2529:(hn,ht,b)=>{"use strict";b.d(ht,{o:()=>u});var e=b(4482),d=b(5403);function u(f,_=!1){return(0,e.e)((P,x)=>{let a=0;P.subscribe(new d.Q(x,R=>{const L=f(R,a++);(L||_)&&x.next(R),!L&&x.complete()}))})}},8505:(hn,ht,b)=>{"use strict";b.d(ht,{b:()=>_});var e=b(576),d=b(4482),u=b(5403),f=b(4671);function _(P,x,a){const R=(0,e.m)(P)||x||a?{next:P,error:x,complete:a}:P;return R?(0,d.e)((L,V)=>{var F;null===(F=R.subscribe)||void 0===F||F.call(R);let T=!0;L.subscribe(new u.Q(V,y=>{var D;null===(D=R.next)||void 0===D||D.call(R,y),V.next(y)},()=>{var y;T=!1,null===(y=R.complete)||void 0===y||y.call(R),V.complete()},y=>{var D;T=!1,null===(D=R.error)||void 0===D||D.call(R,y),V.error(y)},()=>{var y,D;T&&(null===(y=R.unsubscribe)||void 0===y||y.call(R)),null===(D=R.finalize)||void 0===D||D.call(R)}))}):f.y}},8068:(hn,ht,b)=>{"use strict";b.d(ht,{T:()=>f});var e=b(6805),d=b(4482),u=b(5403);function f(P=_){return(0,d.e)((x,a)=>{let R=!1;x.subscribe(new u.Q(a,L=>{R=!0,a.next(L)},()=>R?a.complete():a.error(P())))})}function _(){return new e.K}},4408:(hn,ht,b)=>{"use strict";b.d(ht,{o:()=>_});var e=b(727);class d extends e.w0{constructor(x,a){super()}schedule(x,a=0){return this}}const u={setInterval(...P){const{delegate:x}=u;return((null==x?void 0:x.setInterval)||setInterval)(...P)},clearInterval(P){const{delegate:x}=u;return((null==x?void 0:x.clearInterval)||clearInterval)(P)},delegate:void 0};var f=b(8737);class _ extends d{constructor(x,a){super(x,a),this.scheduler=x,this.work=a,this.pending=!1}schedule(x,a=0){if(this.closed)return this;this.state=x;const R=this.id,L=this.scheduler;return null!=R&&(this.id=this.recycleAsyncId(L,R,a)),this.pending=!0,this.delay=a,this.id=this.id||this.requestAsyncId(L,this.id,a),this}requestAsyncId(x,a,R=0){return u.setInterval(x.flush.bind(x,this),R)}recycleAsyncId(x,a,R=0){if(null!=R&&this.delay===R&&!1===this.pending)return a;u.clearInterval(a)}execute(x,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const R=this._execute(x,a);if(R)return R;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(x,a){let L,R=!1;try{this.work(x)}catch(V){R=!0,L=V||new Error("Scheduled action threw falsy error")}if(R)return this.unsubscribe(),L}unsubscribe(){if(!this.closed){const{id:x,scheduler:a}=this,{actions:R}=a;this.work=this.state=this.scheduler=null,this.pending=!1,(0,f.P)(R,this),null!=x&&(this.id=this.recycleAsyncId(a,x,null)),this.delay=null,super.unsubscribe()}}}},7565:(hn,ht,b)=>{"use strict";b.d(ht,{v:()=>u});var e=b(6063);class d{constructor(_,P=d.now){this.schedulerActionCtor=_,this.now=P}schedule(_,P=0,x){return new this.schedulerActionCtor(this,_).schedule(x,P)}}d.now=e.l.now;class u extends d{constructor(_,P=d.now){super(_,P),this.actions=[],this._active=!1,this._scheduled=void 0}flush(_){const{actions:P}=this;if(this._active)return void P.push(_);let x;this._active=!0;do{if(x=_.execute(_.state,_.delay))break}while(_=P.shift());if(this._active=!1,x){for(;_=P.shift();)_.unsubscribe();throw x}}}},6406:(hn,ht,b)=>{"use strict";b.d(ht,{Z:()=>x});var e=b(4408),d=b(727);const u={schedule(R){let L=requestAnimationFrame,V=cancelAnimationFrame;const{delegate:F}=u;F&&(L=F.requestAnimationFrame,V=F.cancelAnimationFrame);const T=L(y=>{V=void 0,R(y)});return new d.w0(()=>null==V?void 0:V(T))},requestAnimationFrame(...R){const{delegate:L}=u;return((null==L?void 0:L.requestAnimationFrame)||requestAnimationFrame)(...R)},cancelAnimationFrame(...R){const{delegate:L}=u;return((null==L?void 0:L.cancelAnimationFrame)||cancelAnimationFrame)(...R)},delegate:void 0};var _=b(7565);const x=new class P extends _.v{flush(L){this._active=!0,this._scheduled=void 0;const{actions:V}=this;let F,T=-1;L=L||V.shift();const y=V.length;do{if(F=L.execute(L.state,L.delay))break}while(++T<y&&(L=V.shift()));if(this._active=!1,F){for(;++T<y&&(L=V.shift());)L.unsubscribe();throw F}}}(class f extends e.o{constructor(L,V){super(L,V),this.scheduler=L,this.work=V}requestAsyncId(L,V,F=0){return null!==F&&F>0?super.requestAsyncId(L,V,F):(L.actions.push(this),L._scheduled||(L._scheduled=u.requestAnimationFrame(()=>L.flush(void 0))))}recycleAsyncId(L,V,F=0){if(null!=F&&F>0||null==F&&this.delay>0)return super.recycleAsyncId(L,V,F);0===L.actions.length&&(u.cancelAnimationFrame(V),L._scheduled=void 0)}})},4986:(hn,ht,b)=>{"use strict";b.d(ht,{P:()=>f,z:()=>u});var e=b(4408);const u=new(b(7565).v)(e.o),f=u},6063:(hn,ht,b)=>{"use strict";b.d(ht,{l:()=>e});const e={now:()=>(e.delegate||Date).now(),delegate:void 0}},3410:(hn,ht,b)=>{"use strict";b.d(ht,{z:()=>e});const e={setTimeout(...d){const{delegate:u}=e;return((null==u?void 0:u.setTimeout)||setTimeout)(...d)},clearTimeout(d){const{delegate:u}=e;return((null==u?void 0:u.clearTimeout)||clearTimeout)(d)},delegate:void 0}},2202:(hn,ht,b)=>{"use strict";b.d(ht,{h:()=>d});const d=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(hn,ht,b)=>{"use strict";b.d(ht,{L:()=>e});const e="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(hn,ht,b)=>{"use strict";b.d(ht,{K:()=>d});const d=(0,b(3888).d)(u=>function(){u(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(hn,ht,b)=>{"use strict";b.d(ht,{_6:()=>P,jO:()=>f,yG:()=>_});var e=b(576),d=b(3532);function u(x){return x[x.length-1]}function f(x){return(0,e.m)(u(x))?x.pop():void 0}function _(x){return(0,d.K)(u(x))?x.pop():void 0}function P(x,a){return"number"==typeof u(x)?x.pop():a}},4742:(hn,ht,b)=>{"use strict";b.d(ht,{D:()=>_});const{isArray:e}=Array,{getPrototypeOf:d,prototype:u,keys:f}=Object;function _(x){if(1===x.length){const a=x[0];if(e(a))return{args:a,keys:null};if(function P(x){return x&&"object"==typeof x&&d(x)===u}(a)){const R=f(a);return{args:R.map(L=>a[L]),keys:R}}}return{args:x,keys:null}}},8737:(hn,ht,b)=>{"use strict";function e(d,u){if(d){const f=d.indexOf(u);0<=f&&d.splice(f,1)}}b.d(ht,{P:()=>e})},3888:(hn,ht,b)=>{"use strict";function e(d){const f=d(_=>{Error.call(_),_.stack=(new Error).stack});return f.prototype=Object.create(Error.prototype),f.prototype.constructor=f,f}b.d(ht,{d:()=>e})},1810:(hn,ht,b)=>{"use strict";function e(d,u){return d.reduce((f,_,P)=>(f[_]=u[P],f),{})}b.d(ht,{n:()=>e})},2806:(hn,ht,b)=>{"use strict";b.d(ht,{O:()=>f,x:()=>u});var e=b(2416);let d=null;function u(_){if(e.v.useDeprecatedSynchronousErrorHandling){const P=!d;if(P&&(d={errorThrown:!1,error:null}),_(),P){const{errorThrown:x,error:a}=d;if(d=null,x)throw a}}else _()}function f(_){e.v.useDeprecatedSynchronousErrorHandling&&d&&(d.errorThrown=!0,d.error=_)}},9672:(hn,ht,b)=>{"use strict";function e(d,u,f,_=0,P=!1){const x=u.schedule(function(){f(),P?d.add(this.schedule(null,_)):this.unsubscribe()},_);if(d.add(x),!P)return x}b.d(ht,{f:()=>e})},4671:(hn,ht,b)=>{"use strict";function e(d){return d}b.d(ht,{y:()=>e})},1144:(hn,ht,b)=>{"use strict";b.d(ht,{z:()=>e});const e=d=>d&&"number"==typeof d.length&&"function"!=typeof d},2206:(hn,ht,b)=>{"use strict";b.d(ht,{D:()=>d});var e=b(576);function d(u){return Symbol.asyncIterator&&(0,e.m)(null==u?void 0:u[Symbol.asyncIterator])}},576:(hn,ht,b)=>{"use strict";function e(d){return"function"==typeof d}b.d(ht,{m:()=>e})},3670:(hn,ht,b)=>{"use strict";b.d(ht,{c:()=>u});var e=b(8822),d=b(576);function u(f){return(0,d.m)(f[e.L])}},6495:(hn,ht,b)=>{"use strict";b.d(ht,{T:()=>u});var e=b(2202),d=b(576);function u(f){return(0,d.m)(null==f?void 0:f[e.h])}},8239:(hn,ht,b)=>{"use strict";b.d(ht,{t:()=>d});var e=b(576);function d(u){return(0,e.m)(null==u?void 0:u.then)}},3260:(hn,ht,b)=>{"use strict";b.d(ht,{L:()=>f,Q:()=>u});var e=b(5987),d=b(576);function u(_){return(0,e.FC)(this,arguments,function*(){const x=_.getReader();try{for(;;){const{value:a,done:R}=yield(0,e.qq)(x.read());if(R)return yield(0,e.qq)(void 0);yield yield(0,e.qq)(a)}}finally{x.releaseLock()}})}function f(_){return(0,d.m)(null==_?void 0:_.getReader)}},3532:(hn,ht,b)=>{"use strict";b.d(ht,{K:()=>d});var e=b(576);function d(u){return u&&(0,e.m)(u.schedule)}},4482:(hn,ht,b)=>{"use strict";b.d(ht,{A:()=>d,e:()=>u});var e=b(576);function d(f){return(0,e.m)(null==f?void 0:f.lift)}function u(f){return _=>{if(d(_))return _.lift(function(P){try{return f(P,this)}catch(x){this.error(x)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(hn,ht,b)=>{"use strict";b.d(ht,{Z:()=>f});var e=b(4004);const{isArray:d}=Array;function f(_){return(0,e.U)(P=>function u(_,P){return d(P)?_(...P):_(P)}(_,P))}},5032:(hn,ht,b)=>{"use strict";function e(){}b.d(ht,{Z:()=>e})},9635:(hn,ht,b)=>{"use strict";b.d(ht,{U:()=>u,z:()=>d});var e=b(4671);function d(...f){return u(f)}function u(f){return 0===f.length?e.y:1===f.length?f[0]:function(P){return f.reduce((x,a)=>a(x),P)}}},7849:(hn,ht,b)=>{"use strict";b.d(ht,{h:()=>u});var e=b(2416),d=b(3410);function u(f){d.z.setTimeout(()=>{const{onUnhandledError:_}=e.v;if(!_)throw f;_(f)})}},4532:(hn,ht,b)=>{"use strict";function e(d){return new TypeError(`You provided ${null!==d&&"object"==typeof d?"an invalid object":`'${d}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}b.d(ht,{z:()=>e})},1588:(hn,ht,b)=>{"use strict";b.d(ht,{Z:()=>V});const d={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let u;const f=new Uint8Array(16);function _(){if(!u&&(u="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!u))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return u(f)}const P=[];for(let F=0;F<256;++F)P.push((F+256).toString(16).slice(1));const V=function L(F,T,y){if(d.randomUUID&&!T&&!F)return d.randomUUID();const D=(F=F||{}).random||(F.rng||_)();if(D[6]=15&D[6]|64,D[8]=63&D[8]|128,T){y=y||0;for(let k=0;k<16;++k)T[y+k]=D[k];return T}return function x(F,T=0){return(P[F[T+0]]+P[F[T+1]]+P[F[T+2]]+P[F[T+3]]+"-"+P[F[T+4]]+P[F[T+5]]+"-"+P[F[T+6]]+P[F[T+7]]+"-"+P[F[T+8]]+P[F[T+9]]+"-"+P[F[T+10]]+P[F[T+11]]+P[F[T+12]]+P[F[T+13]]+P[F[T+14]]+P[F[T+15]]).toLowerCase()}(D)}},9162:hn=>{self,hn.exports=(()=>(()=>{"use strict";var b,ht={};return b=ht,Object.defineProperty(b,"__esModule",{value:!0}),b.FitAddon=void 0,b.FitAddon=class{activate(e){this._terminal=e}dispose(){}fit(){const e=this.proposeDimensions();e&&this._terminal&&!isNaN(e.cols)&&!isNaN(e.rows)&&(this._terminal.rows===e.rows&&this._terminal.cols===e.cols||(this._terminal._core._renderService.clear(),this._terminal.resize(e.cols,e.rows)))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const e=this._terminal._core,d=e._renderService.dimensions;if(0===d.css.cell.width||0===d.css.cell.height)return;const u=0===this._terminal.options.scrollback?0:e.viewport.scrollBarWidth,f=window.getComputedStyle(this._terminal.element.parentElement),_=parseInt(f.getPropertyValue("height")),P=Math.max(0,parseInt(f.getPropertyValue("width"))),x=window.getComputedStyle(this._terminal.element),a=_-(parseInt(x.getPropertyValue("padding-top"))+parseInt(x.getPropertyValue("padding-bottom"))),R=P-(parseInt(x.getPropertyValue("padding-right"))+parseInt(x.getPropertyValue("padding-left")))-u;return{cols:Math.max(2,Math.floor(R/d.css.cell.width)),rows:Math.max(1,Math.floor(a/d.css.cell.height))}}},ht})())()},4793:hn=>{self,hn.exports=(()=>(()=>{"use strict";var ht={4567:function(u,f,_){var P=this&&this.__decorate||function(k,B,N,ce){var $,z=arguments.length,S=z<3?B:null===ce?ce=Object.getOwnPropertyDescriptor(B,N):ce;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)S=Reflect.decorate(k,B,N,ce);else for(var O=k.length-1;O>=0;O--)($=k[O])&&(S=(z<3?$(S):z>3?$(B,N,S):$(B,N))||S);return z>3&&S&&Object.defineProperty(B,N,S),S},x=this&&this.__param||function(k,B){return function(N,ce){B(N,ce,k)}};Object.defineProperty(f,"__esModule",{value:!0}),f.AccessibilityManager=void 0;const a=_(9042),R=_(6114),L=_(9924),V=_(844),F=_(5596),T=_(4725),y=_(3656);let D=f.AccessibilityManager=class extends V.Disposable{constructor(k,B){super(),this._terminal=k,this._renderService=B,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let N=0;N<this._terminal.rows;N++)this._rowElements[N]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[N]);if(this._topBoundaryFocusListener=N=>this._handleBoundaryFocus(N,0),this._bottomBoundaryFocusListener=N=>this._handleBoundaryFocus(N,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new L.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(N=>this._handleResize(N.rows))),this.register(this._terminal.onRender(N=>this._refreshRows(N.start,N.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(N=>this._handleChar(N))),this.register(this._terminal.onLineFeed(()=>this._handleChar("\n"))),this.register(this._terminal.onA11yTab(N=>this._handleTab(N))),this.register(this._terminal.onKey(N=>this._handleKey(N.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new F.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,y.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,V.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(k){for(let B=0;B<k;B++)this._handleChar(" ")}_handleChar(k){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==k&&(this._charsToAnnounce+=k):this._charsToAnnounce+=k,"\n"===k&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=a.tooMuchOutput)),R.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,R.isMac&&this._liveRegion.remove()}_handleKey(k){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(k)||this._charsToConsume.push(k)}_refreshRows(k,B){this._liveRegionDebouncer.refresh(k,B,this._terminal.rows)}_renderRows(k,B){const N=this._terminal.buffer,ce=N.lines.length.toString();for(let $=k;$<=B;$++){const z=N.translateBufferLineToString(N.ydisp+$,!0),S=(N.ydisp+$+1).toString(),O=this._rowElements[$];O&&(0===z.length?O.innerText="\xa0":O.textContent=z,O.setAttribute("aria-posinset",S),O.setAttribute("aria-setsize",ce))}this._announceCharacters()}_announceCharacters(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(k,B){const N=k.target,ce=this._rowElements[0===B?1:this._rowElements.length-2];if(N.getAttribute("aria-posinset")===(0===B?"1":`${this._terminal.buffer.lines.length}`)||k.relatedTarget!==ce)return;let $,z;if(0===B?($=N,z=this._rowElements.pop(),this._rowContainer.removeChild(z)):($=this._rowElements.shift(),z=N,this._rowContainer.removeChild($)),$.removeEventListener("focus",this._topBoundaryFocusListener),z.removeEventListener("focus",this._bottomBoundaryFocusListener),0===B){const S=this._createAccessibilityTreeNode();this._rowElements.unshift(S),this._rowContainer.insertAdjacentElement("afterbegin",S)}else{const S=this._createAccessibilityTreeNode();this._rowElements.push(S),this._rowContainer.appendChild(S)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===B?-1:1),this._rowElements[0===B?1:this._rowElements.length-2].focus(),k.preventDefault(),k.stopImmediatePropagation()}_handleResize(k){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let B=this._rowContainer.children.length;B<this._terminal.rows;B++)this._rowElements[B]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[B]);for(;this._rowElements.length>k;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const k=document.createElement("div");return k.setAttribute("role","listitem"),k.tabIndex=-1,this._refreshRowDimensions(k),k}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let k=0;k<this._terminal.rows;k++)this._refreshRowDimensions(this._rowElements[k])}}_refreshRowDimensions(k){k.style.height=`${this._renderService.dimensions.css.cell.height}px`}};f.AccessibilityManager=D=P([x(1,T.IRenderService)],D)},3614:(u,f)=>{function _(R){return R.replace(/\r?\n/g,"\r")}function P(R,L){return L?"\x1b[200~"+R+"\x1b[201~":R}function x(R,L,V,F){R=P(R=_(R),V.decPrivateModes.bracketedPasteMode&&!0!==F.rawOptions.ignoreBracketedPasteMode),V.triggerDataEvent(R,!0),L.value=""}function a(R,L,V){const F=V.getBoundingClientRect(),T=R.clientX-F.left-10,y=R.clientY-F.top-10;L.style.width="20px",L.style.height="20px",L.style.left=`${T}px`,L.style.top=`${y}px`,L.style.zIndex="1000",L.focus()}Object.defineProperty(f,"__esModule",{value:!0}),f.rightClickHandler=f.moveTextAreaUnderMouseCursor=f.paste=f.handlePasteEvent=f.copyHandler=f.bracketTextForPaste=f.prepareTextForTerminal=void 0,f.prepareTextForTerminal=_,f.bracketTextForPaste=P,f.copyHandler=function(R,L){R.clipboardData&&R.clipboardData.setData("text/plain",L.selectionText),R.preventDefault()},f.handlePasteEvent=function(R,L,V,F){R.stopPropagation(),R.clipboardData&&x(R.clipboardData.getData("text/plain"),L,V,F)},f.paste=x,f.moveTextAreaUnderMouseCursor=a,f.rightClickHandler=function(R,L,V,F,T){a(R,L,V),T&&F.rightClickSelect(R),L.value=F.selectionText,L.select()}},7239:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ColorContrastCache=void 0;const P=_(1505);f.ColorContrastCache=class{constructor(){this._color=new P.TwoKeyMap,this._css=new P.TwoKeyMap}setCss(x,a,R){this._css.set(x,a,R)}getCss(x,a){return this._css.get(x,a)}setColor(x,a,R){this._color.set(x,a,R)}getColor(x,a){return this._color.get(x,a)}clear(){this._color.clear(),this._css.clear()}}},3656:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.addDisposableDomListener=void 0,f.addDisposableDomListener=function(_,P,x,a){_.addEventListener(P,x,a);let R=!1;return{dispose:()=>{R||(R=!0,_.removeEventListener(P,x,a))}}}},6465:function(u,f,_){var P=this&&this.__decorate||function(T,y,D,k){var B,N=arguments.length,ce=N<3?y:null===k?k=Object.getOwnPropertyDescriptor(y,D):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ce=Reflect.decorate(T,y,D,k);else for(var $=T.length-1;$>=0;$--)(B=T[$])&&(ce=(N<3?B(ce):N>3?B(y,D,ce):B(y,D))||ce);return N>3&&ce&&Object.defineProperty(y,D,ce),ce},x=this&&this.__param||function(T,y){return function(D,k){y(D,k,T)}};Object.defineProperty(f,"__esModule",{value:!0}),f.Linkifier2=void 0;const a=_(3656),R=_(8460),L=_(844),V=_(2585);let F=f.Linkifier2=class extends L.Disposable{get currentLink(){return this._currentLink}constructor(T){super(),this._bufferService=T,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new R.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new R.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,L.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,L.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(T){return this._linkProviders.push(T),{dispose:()=>{const y=this._linkProviders.indexOf(T);-1!==y&&this._linkProviders.splice(y,1)}}}attachToDom(T,y,D){this._element=T,this._mouseService=y,this._renderService=D,this.register((0,a.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,a.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,a.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,a.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(T){if(this._lastMouseEvent=T,!this._element||!this._mouseService)return;const y=this._positionFromMouseEvent(T,this._element,this._mouseService);if(!y)return;this._isMouseOut=!1;const D=T.composedPath();for(let k=0;k<D.length;k++){const B=D[k];if(B.classList.contains("xterm"))break;if(B.classList.contains("xterm-hover"))return}this._lastBufferCell&&y.x===this._lastBufferCell.x&&y.y===this._lastBufferCell.y||(this._handleHover(y),this._lastBufferCell=y)}_handleHover(T){if(this._activeLine!==T.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(T,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,T)||(this._clearCurrentLink(),this._askForLink(T,!0))}_askForLink(T,y){var D,k;this._activeProviderReplies&&y||(null===(D=this._activeProviderReplies)||void 0===D||D.forEach(N=>{null==N||N.forEach(ce=>{ce.link.dispose&&ce.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=T.y);let B=!1;for(const[N,ce]of this._linkProviders.entries())y?null!==(k=this._activeProviderReplies)&&void 0!==k&&k.get(N)&&(B=this._checkLinkProviderResult(N,T,B)):ce.provideLinks(T.y,$=>{var z,S;if(this._isMouseOut)return;const O=null==$?void 0:$.map(K=>({link:K}));null===(z=this._activeProviderReplies)||void 0===z||z.set(N,O),B=this._checkLinkProviderResult(N,T,B),(null===(S=this._activeProviderReplies)||void 0===S?void 0:S.size)===this._linkProviders.length&&this._removeIntersectingLinks(T.y,this._activeProviderReplies)})}_removeIntersectingLinks(T,y){const D=new Set;for(let k=0;k<y.size;k++){const B=y.get(k);if(B)for(let N=0;N<B.length;N++){const ce=B[N],z=ce.link.range.end.y>T?this._bufferService.cols:ce.link.range.end.x;for(let S=ce.link.range.start.y<T?0:ce.link.range.start.x;S<=z;S++){if(D.has(S)){B.splice(N--,1);break}D.add(S)}}}}_checkLinkProviderResult(T,y,D){var k;if(!this._activeProviderReplies)return D;const B=this._activeProviderReplies.get(T);let N=!1;for(let ce=0;ce<T;ce++)this._activeProviderReplies.has(ce)&&!this._activeProviderReplies.get(ce)||(N=!0);if(!N&&B){const ce=B.find($=>this._linkAtPosition($.link,y));ce&&(D=!0,this._handleNewLink(ce))}if(this._activeProviderReplies.size===this._linkProviders.length&&!D)for(let ce=0;ce<this._activeProviderReplies.size;ce++){const $=null===(k=this._activeProviderReplies.get(ce))||void 0===k?void 0:k.find(z=>this._linkAtPosition(z.link,y));if($){D=!0,this._handleNewLink($);break}}return D}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(T){if(!this._element||!this._mouseService||!this._currentLink)return;const y=this._positionFromMouseEvent(T,this._element,this._mouseService);y&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,y)&&this._currentLink.link.activate(T,this._currentLink.link.text)}_clearCurrentLink(T,y){this._element&&this._currentLink&&this._lastMouseEvent&&(!T||!y||this._currentLink.link.range.start.y>=T&&this._currentLink.link.range.end.y<=y)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,L.disposeArray)(this._linkCacheDisposables))}_handleNewLink(T){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const y=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);y&&this._linkAtPosition(T.link,y)&&(this._currentLink=T,this._currentLink.state={decorations:{underline:void 0===T.link.decorations||T.link.decorations.underline,pointerCursor:void 0===T.link.decorations||T.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,T.link,this._lastMouseEvent),T.link.decorations={},Object.defineProperties(T.link.decorations,{pointerCursor:{get:()=>{var D,k;return null===(k=null===(D=this._currentLink)||void 0===D?void 0:D.state)||void 0===k?void 0:k.decorations.pointerCursor},set:D=>{var k,B;(null===(k=this._currentLink)||void 0===k?void 0:k.state)&&this._currentLink.state.decorations.pointerCursor!==D&&(this._currentLink.state.decorations.pointerCursor=D,this._currentLink.state.isHovered&&(null===(B=this._element)||void 0===B||B.classList.toggle("xterm-cursor-pointer",D)))}},underline:{get:()=>{var D,k;return null===(k=null===(D=this._currentLink)||void 0===D?void 0:D.state)||void 0===k?void 0:k.decorations.underline},set:D=>{var k,B,N;(null===(k=this._currentLink)||void 0===k?void 0:k.state)&&(null===(N=null===(B=this._currentLink)||void 0===B?void 0:B.state)||void 0===N?void 0:N.decorations.underline)!==D&&(this._currentLink.state.decorations.underline=D,this._currentLink.state.isHovered&&this._fireUnderlineEvent(T.link,D))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(D=>{if(!this._currentLink)return;const k=0===D.start?0:D.start+1+this._bufferService.buffer.ydisp,B=this._bufferService.buffer.ydisp+1+D.end;if(this._currentLink.link.range.start.y>=k&&this._currentLink.link.range.end.y<=B&&(this._clearCurrentLink(k,B),this._lastMouseEvent&&this._element)){const N=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);N&&this._askForLink(N,!1)}})))}_linkHover(T,y,D){var k;!(null===(k=this._currentLink)||void 0===k)&&k.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(y,!0),this._currentLink.state.decorations.pointerCursor&&T.classList.add("xterm-cursor-pointer")),y.hover&&y.hover(D,y.text)}_fireUnderlineEvent(T,y){const D=T.range,k=this._bufferService.buffer.ydisp,B=this._createLinkUnderlineEvent(D.start.x-1,D.start.y-k-1,D.end.x,D.end.y-k-1,void 0);(y?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(B)}_linkLeave(T,y,D){var k;!(null===(k=this._currentLink)||void 0===k)&&k.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(y,!1),this._currentLink.state.decorations.pointerCursor&&T.classList.remove("xterm-cursor-pointer")),y.leave&&y.leave(D,y.text)}_linkAtPosition(T,y){const B=y.y*this._bufferService.cols+y.x;return T.range.start.y*this._bufferService.cols+T.range.start.x<=B&&B<=T.range.end.y*this._bufferService.cols+T.range.end.x}_positionFromMouseEvent(T,y,D){const k=D.getCoords(T,y,this._bufferService.cols,this._bufferService.rows);if(k)return{x:k[0],y:k[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(T,y,D,k,B){return{x1:T,y1:y,x2:D,y2:k,cols:this._bufferService.cols,fg:B}}};f.Linkifier2=F=P([x(0,V.IBufferService)],F)},9042:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.tooMuchOutput=f.promptLabel=void 0,f.promptLabel="Terminal input",f.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(u,f,_){var P=this&&this.__decorate||function(F,T,y,D){var k,B=arguments.length,N=B<3?T:null===D?D=Object.getOwnPropertyDescriptor(T,y):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(F,T,y,D);else for(var ce=F.length-1;ce>=0;ce--)(k=F[ce])&&(N=(B<3?k(N):B>3?k(T,y,N):k(T,y))||N);return B>3&&N&&Object.defineProperty(T,y,N),N},x=this&&this.__param||function(F,T){return function(y,D){T(y,D,F)}};Object.defineProperty(f,"__esModule",{value:!0}),f.OscLinkProvider=void 0;const a=_(511),R=_(2585);let L=f.OscLinkProvider=class{constructor(F,T,y){this._bufferService=F,this._optionsService=T,this._oscLinkService=y}provideLinks(F,T){var y;const D=this._bufferService.buffer.lines.get(F-1);if(!D)return void T(void 0);const k=[],B=this._optionsService.rawOptions.linkHandler,N=new a.CellData,ce=D.getTrimmedLength();let $=-1,z=-1,S=!1;for(let O=0;O<ce;O++)if(-1!==z||D.hasContent(O)){if(D.loadCell(O,N),N.hasExtendedAttrs()&&N.extended.urlId){if(-1===z){z=O,$=N.extended.urlId;continue}S=N.extended.urlId!==$}else-1!==z&&(S=!0);if(S||-1!==z&&O===ce-1){const K=null===(y=this._oscLinkService.getLinkData($))||void 0===y?void 0:y.uri;if(K){const ue={start:{x:z+1,y:F},end:{x:O+(S||O!==ce-1?0:1),y:F}};let q=!1;if(null==B||!B.allowNonHttpProtocols)try{const G=new URL(K);["http:","https:"].includes(G.protocol)||(q=!0)}catch(G){q=!0}q||k.push({text:K,range:ue,activate:(G,j)=>B?B.activate(G,j,ue):V(0,j),hover:(G,j)=>{var fe;return null===(fe=null==B?void 0:B.hover)||void 0===fe?void 0:fe.call(B,G,j,ue)},leave:(G,j)=>{var fe;return null===(fe=null==B?void 0:B.leave)||void 0===fe?void 0:fe.call(B,G,j,ue)}})}S=!1,N.hasExtendedAttrs()&&N.extended.urlId?(z=O,$=N.extended.urlId):(z=-1,$=-1)}}T(k)}};function V(F,T){if(confirm(`Do you want to navigate to ${T}?\n\nWARNING: This link could potentially be dangerous`)){const y=window.open();if(y){try{y.opener=null}catch(D){}y.location.href=T}else console.warn("Opening link blocked as opener could not be cleared")}}f.OscLinkProvider=L=P([x(0,R.IBufferService),x(1,R.IOptionsService),x(2,R.IOscLinkService)],L)},6193:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.RenderDebouncer=void 0,f.RenderDebouncer=class{constructor(_,P){this._parentWindow=_,this._renderCallback=P,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(_){return this._refreshCallbacks.push(_),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(_,P,x){this._rowCount=x,_=void 0!==_?_:0,P=void 0!==P?P:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,_):_,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,P):P,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return void this._runRefreshCallbacks();const _=Math.max(this._rowStart,0),P=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(_,P),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const _ of this._refreshCallbacks)_(0);this._refreshCallbacks=[]}}},5596:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ScreenDprMonitor=void 0;const P=_(844);f.ScreenDprMonitor=class x extends P.Disposable{constructor(R){super(),this._parentWindow=R,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,P.toDisposable)(()=>{this.clearListener()}))}setListener(R){this._listener&&this.clearListener(),this._listener=R,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var R;this._outerListener&&(null===(R=this._resolutionMediaMatchList)||void 0===R||R.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}},3236:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Terminal=void 0;const P=_(3614),x=_(3656),a=_(6465),R=_(9042),L=_(3730),V=_(1680),F=_(3107),T=_(5744),y=_(2950),D=_(1296),k=_(428),B=_(4269),N=_(5114),ce=_(8934),$=_(3230),z=_(9312),S=_(4725),O=_(6731),K=_(8055),ue=_(8969),q=_(8460),G=_(844),j=_(6114),fe=_(8437),ne=_(2584),J=_(7399),X=_(5941),W=_(9074),Y=_(2585),Te=_(5435),Ae=_(4567),Ke="undefined"!=typeof window?window.document:null;f.Terminal=class be extends ue.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(ee={}){super(ee),this.browser=j,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new G.MutableDisposable),this._onCursorMove=this.register(new q.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new q.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new q.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new q.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new q.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new q.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new q.EventEmitter),this._onBlur=this.register(new q.EventEmitter),this._onA11yCharEmitter=this.register(new q.EventEmitter),this._onA11yTabEmitter=this.register(new q.EventEmitter),this._onWillOpen=this.register(new q.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(a.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(L.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(W.DecorationService),this._instantiationService.setService(Y.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((xe,we)=>this.refresh(xe,we))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(xe=>this._reportWindowsOptions(xe))),this.register(this._inputHandler.onColor(xe=>this._handleColorEvent(xe))),this.register((0,q.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,q.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,q.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,q.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(xe=>this._afterResize(xe.cols,xe.rows))),this.register((0,G.toDisposable)(()=>{var xe,we;this._customKeyEventHandler=void 0,null===(we=null===(xe=this.element)||void 0===xe?void 0:xe.parentNode)||void 0===we||we.removeChild(this.element)}))}_handleColorEvent(ee){if(this._themeService)for(const xe of ee){let we,Pe="";switch(xe.index){case 256:we="foreground",Pe="10";break;case 257:we="background",Pe="11";break;case 258:we="cursor",Pe="12";break;default:we="ansi",Pe="4;"+xe.index}switch(xe.type){case 0:const dt=K.color.toColorRGB("ansi"===we?this._themeService.colors.ansi[xe.index]:this._themeService.colors[we]);this.coreService.triggerDataEvent(`${ne.C0.ESC}]${Pe};${(0,X.toRgbString)(dt)}${ne.C1_ESCAPED.ST}`);break;case 1:if("ansi"===we)this._themeService.modifyColors(bt=>bt.ansi[xe.index]=K.rgba.toColor(...xe.color));else{const bt=we;this._themeService.modifyColors(it=>it[bt]=K.rgba.toColor(...xe.color))}break;case 2:this._themeService.restoreColor(xe.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(ee){ee?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(Ae.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(ee){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(ne.C0.ESC+"[I"),this.updateCursorStyle(ee),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var ee;return null===(ee=this.textarea)||void 0===ee?void 0:ee.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(ne.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const xe=this.buffer.lines.get(this.buffer.ybase+this.buffer.y);if(!xe)return;const we=Math.min(this.buffer.x,this.cols-1),Pe=this._renderService.dimensions.css.cell.height,dt=xe.getWidth(we),bt=this._renderService.dimensions.css.cell.width*dt,it=this.buffer.y*this._renderService.dimensions.css.cell.height;this.textarea.style.left=we*this._renderService.dimensions.css.cell.width+"px",this.textarea.style.top=it+"px",this.textarea.style.width=bt+"px",this.textarea.style.height=Pe+"px",this.textarea.style.lineHeight=Pe+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,x.addDisposableDomListener)(this.element,"copy",xe=>{this.hasSelection()&&(0,P.copyHandler)(xe,this._selectionService)}));const ee=xe=>(0,P.handlePasteEvent)(xe,this.textarea,this.coreService,this.optionsService);this.register((0,x.addDisposableDomListener)(this.textarea,"paste",ee)),this.register((0,x.addDisposableDomListener)(this.element,"paste",ee)),this.register(j.isFirefox?(0,x.addDisposableDomListener)(this.element,"mousedown",xe=>{2===xe.button&&(0,P.rightClickHandler)(xe,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}):(0,x.addDisposableDomListener)(this.element,"contextmenu",xe=>{(0,P.rightClickHandler)(xe,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),j.isLinux&&this.register((0,x.addDisposableDomListener)(this.element,"auxclick",xe=>{1===xe.button&&(0,P.moveTextAreaUnderMouseCursor)(xe,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,x.addDisposableDomListener)(this.textarea,"keyup",ee=>this._keyUp(ee),!0)),this.register((0,x.addDisposableDomListener)(this.textarea,"keydown",ee=>this._keyDown(ee),!0)),this.register((0,x.addDisposableDomListener)(this.textarea,"keypress",ee=>this._keyPress(ee),!0)),this.register((0,x.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,x.addDisposableDomListener)(this.textarea,"compositionupdate",ee=>this._compositionHelper.compositionupdate(ee))),this.register((0,x.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,x.addDisposableDomListener)(this.textarea,"input",ee=>this._inputEvent(ee),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(ee){var xe;if(!ee)throw new Error("Terminal requires a parent element.");ee.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=ee.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),ee.appendChild(this.element);const we=Ke.createDocumentFragment();this._viewportElement=Ke.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),we.appendChild(this._viewportElement),this._viewportScrollArea=Ke.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=Ke.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=Ke.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),we.appendChild(this.screenElement),this.textarea=Ke.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",R.promptLabel),j.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(N.CoreBrowserService,this.textarea,null!==(xe=this._document.defaultView)&&void 0!==xe?xe:window),this._instantiationService.setService(S.ICoreBrowserService,this._coreBrowserService),this.register((0,x.addDisposableDomListener)(this.textarea,"focus",Pe=>this._handleTextAreaFocus(Pe))),this.register((0,x.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(k.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(S.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(O.ThemeService),this._instantiationService.setService(S.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(B.CharacterJoinerService),this._instantiationService.setService(S.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance($.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(S.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(Pe=>this._onRender.fire(Pe))),this.onResize(Pe=>this._renderService.resize(Pe.cols,Pe.rows)),this._compositionView=Ke.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(y.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(we);try{this._onWillOpen.fire(this.element)}catch(Pe){}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(ce.MouseService),this._instantiationService.setService(S.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(V.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(Pe=>this.scrollLines(Pe.amount,Pe.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(z.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(S.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(Pe=>this.scrollLines(Pe.amount,Pe.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(Pe=>this._renderService.handleSelectionChanged(Pe.start,Pe.end,Pe.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(Pe=>{this.textarea.value=Pe,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(Pe=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,x.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(F.BufferDecorationRenderer,this.screenElement)),this.register((0,x.addDisposableDomListener)(this.element,"mousedown",Pe=>this._selectionService.handleMouseDown(Pe))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(Ae.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",Pe=>this._handleScreenReaderModeOptionChange(Pe))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(T.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",Pe=>{!this._overviewRulerRenderer&&Pe&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(T.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(D.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const ee=this,xe=this.element;function we(bt){const it=ee._mouseService.getMouseReportCoords(bt,ee.screenElement);if(!it)return!1;let Dt,vt;switch(bt.overrideType||bt.type){case"mousemove":vt=32,void 0===bt.buttons?(Dt=3,void 0!==bt.button&&(Dt=bt.button<3?bt.button:3)):Dt=1&bt.buttons?0:4&bt.buttons?1:2&bt.buttons?2:3;break;case"mouseup":vt=0,Dt=bt.button<3?bt.button:3;break;case"mousedown":vt=1,Dt=bt.button<3?bt.button:3;break;case"wheel":if(0===ee.viewport.getLinesScrolled(bt))return!1;vt=bt.deltaY<0?0:1,Dt=4;break;default:return!1}return!(void 0===vt||void 0===Dt||Dt>4)&&ee.coreMouseService.triggerMouseEvent({col:it.col,row:it.row,x:it.x,y:it.y,button:Dt,action:vt,ctrl:bt.ctrlKey,alt:bt.altKey,shift:bt.shiftKey})}const Pe={mouseup:null,wheel:null,mousedrag:null,mousemove:null},dt={mouseup:bt=>(we(bt),bt.buttons||(this._document.removeEventListener("mouseup",Pe.mouseup),Pe.mousedrag&&this._document.removeEventListener("mousemove",Pe.mousedrag)),this.cancel(bt)),wheel:bt=>(we(bt),this.cancel(bt,!0)),mousedrag:bt=>{bt.buttons&&we(bt)},mousemove:bt=>{bt.buttons||we(bt)}};this.register(this.coreMouseService.onProtocolChange(bt=>{bt?("debug"===this.optionsService.rawOptions.logLevel&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(bt)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&bt?Pe.mousemove||(xe.addEventListener("mousemove",dt.mousemove),Pe.mousemove=dt.mousemove):(xe.removeEventListener("mousemove",Pe.mousemove),Pe.mousemove=null),16&bt?Pe.wheel||(xe.addEventListener("wheel",dt.wheel,{passive:!1}),Pe.wheel=dt.wheel):(xe.removeEventListener("wheel",Pe.wheel),Pe.wheel=null),2&bt?Pe.mouseup||(xe.addEventListener("mouseup",dt.mouseup),Pe.mouseup=dt.mouseup):(this._document.removeEventListener("mouseup",Pe.mouseup),xe.removeEventListener("mouseup",Pe.mouseup),Pe.mouseup=null),4&bt?Pe.mousedrag||(Pe.mousedrag=dt.mousedrag):(this._document.removeEventListener("mousemove",Pe.mousedrag),Pe.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,x.addDisposableDomListener)(xe,"mousedown",bt=>{if(bt.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(bt))return we(bt),Pe.mouseup&&this._document.addEventListener("mouseup",Pe.mouseup),Pe.mousedrag&&this._document.addEventListener("mousemove",Pe.mousedrag),this.cancel(bt)})),this.register((0,x.addDisposableDomListener)(xe,"wheel",bt=>{if(!Pe.wheel){if(!this.buffer.hasScrollback){const it=this.viewport.getLinesScrolled(bt);if(0===it)return;const Dt=ne.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(bt.deltaY<0?"A":"B");let vt="";for(let Wt=0;Wt<Math.abs(it);Wt++)vt+=Dt;return this.coreService.triggerDataEvent(vt,!0),this.cancel(bt,!0)}return this.viewport.handleWheel(bt)?this.cancel(bt):void 0}},{passive:!1})),this.register((0,x.addDisposableDomListener)(xe,"touchstart",bt=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(bt),this.cancel(bt)},{passive:!0})),this.register((0,x.addDisposableDomListener)(xe,"touchmove",bt=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(bt)?void 0:this.cancel(bt)},{passive:!1}))}refresh(ee,xe){var we;null===(we=this._renderService)||void 0===we||we.refreshRows(ee,xe)}updateCursorStyle(ee){var xe;null!==(xe=this._selectionService)&&void 0!==xe&&xe.shouldColumnSelect(ee)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(ee,xe,we=0){var Pe;1===we?(super.scrollLines(ee,xe,we),this.refresh(0,this.rows-1)):null===(Pe=this.viewport)||void 0===Pe||Pe.scrollLines(ee)}paste(ee){(0,P.paste)(ee,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(ee){this._customKeyEventHandler=ee}registerLinkProvider(ee){return this.linkifier2.registerLinkProvider(ee)}registerCharacterJoiner(ee){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const xe=this._characterJoinerService.register(ee);return this.refresh(0,this.rows-1),xe}deregisterCharacterJoiner(ee){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(ee)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(ee){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+ee)}registerDecoration(ee){return this._decorationService.registerDecoration(ee)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(ee,xe,we){this._selectionService.setSelection(ee,xe,we)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var ee;null===(ee=this._selectionService)||void 0===ee||ee.clearSelection()}selectAll(){var ee;null===(ee=this._selectionService)||void 0===ee||ee.selectAll()}selectLines(ee,xe){var we;null===(we=this._selectionService)||void 0===we||we.selectLines(ee,xe)}_keyDown(ee){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&!1===this._customKeyEventHandler(ee))return!1;const xe=this.browser.isMac&&this.options.macOptionIsMeta&&ee.altKey;if(!xe&&!this._compositionHelper.keydown(ee))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;xe||"Dead"!==ee.key&&"AltGraph"!==ee.key||(this._unprocessedDeadKey=!0);const we=(0,J.evaluateKeyboardEvent)(ee,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(ee),3===we.type||2===we.type){const Pe=this.rows-1;return this.scrollLines(2===we.type?-Pe:Pe),this.cancel(ee,!0)}return 1===we.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,ee)||(we.cancel&&this.cancel(ee,!0),!we.key||!!(ee.key&&!ee.ctrlKey&&!ee.altKey&&!ee.metaKey&&1===ee.key.length&&ee.key.charCodeAt(0)>=65&&ee.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(we.key!==ne.C0.ETX&&we.key!==ne.C0.CR||(this.textarea.value=""),this._onKey.fire({key:we.key,domEvent:ee}),this._showCursor(),this.coreService.triggerDataEvent(we.key,!0),!this.optionsService.rawOptions.screenReaderMode||ee.altKey||ee.ctrlKey?this.cancel(ee,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(ee,xe){const we=ee.isMac&&!this.options.macOptionIsMeta&&xe.altKey&&!xe.ctrlKey&&!xe.metaKey||ee.isWindows&&xe.altKey&&xe.ctrlKey&&!xe.metaKey||ee.isWindows&&xe.getModifierState("AltGraph");return"keypress"===xe.type?we:we&&(!xe.keyCode||xe.keyCode>47)}_keyUp(ee){var xe;this._keyDownSeen=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(ee)||(16===(xe=ee).keyCode||17===xe.keyCode||18===xe.keyCode||this.focus(),this.updateCursorStyle(ee),this._keyPressHandled=!1)}_keyPress(ee){let xe;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&!1===this._customKeyEventHandler(ee))return!1;if(this.cancel(ee),ee.charCode)xe=ee.charCode;else if(null==ee.which)xe=ee.keyCode;else{if(0===ee.which||0===ee.charCode)return!1;xe=ee.which}return!(!xe||(ee.altKey||ee.ctrlKey||ee.metaKey)&&!this._isThirdLevelShift(this.browser,ee)||(xe=String.fromCharCode(xe),this._onKey.fire({key:xe,domEvent:ee}),this._showCursor(),this.coreService.triggerDataEvent(xe,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(ee){return!(!ee.data||"insertText"!==ee.inputType||ee.composed&&this._keyDownSeen||this.optionsService.rawOptions.screenReaderMode||this._keyPressHandled||(this._unprocessedDeadKey=!1,this.coreService.triggerDataEvent(ee.data,!0),this.cancel(ee),0))}resize(ee,xe){ee!==this.cols||xe!==this.rows?super.resize(ee,xe):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(ee,xe){var we,Pe;null===(we=this._charSizeService)||void 0===we||we.measure(),null===(Pe=this.viewport)||void 0===Pe||Pe.syncScrollArea(!0)}clear(){var ee;if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let xe=1;xe<this.rows;xe++)this.buffer.lines.push(this.buffer.getBlankLine(fe.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),null===(ee=this.viewport)||void 0===ee||ee.reset(),this.refresh(0,this.rows-1)}}reset(){var ee,xe;this.options.rows=this.rows,this.options.cols=this.cols;const we=this._customKeyEventHandler;this._setup(),super.reset(),null===(ee=this._selectionService)||void 0===ee||ee.reset(),this._decorationService.reset(),null===(xe=this.viewport)||void 0===xe||xe.reset(),this._customKeyEventHandler=we,this.refresh(0,this.rows-1)}clearTextureAtlas(){var ee;null===(ee=this._renderService)||void 0===ee||ee.clearTextureAtlas()}_reportFocus(){var ee;null!==(ee=this.element)&&void 0!==ee&&ee.classList.contains("focus")?this.coreService.triggerDataEvent(ne.C0.ESC+"[I"):this.coreService.triggerDataEvent(ne.C0.ESC+"[O")}_reportWindowsOptions(ee){if(this._renderService)switch(ee){case Te.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const xe=this._renderService.dimensions.css.canvas.width.toFixed(0),we=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${ne.C0.ESC}[4;${we};${xe}t`);break;case Te.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const Pe=this._renderService.dimensions.css.cell.width.toFixed(0),dt=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${ne.C0.ESC}[6;${dt};${Pe}t`)}}cancel(ee,xe){if(this.options.cancelEvents||xe)return ee.preventDefault(),ee.stopPropagation(),!1}}},9924:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.TimeBasedDebouncer=void 0,f.TimeBasedDebouncer=class{constructor(_,P=1e3){this._renderCallback=_,this._debounceThresholdMS=P,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(_,P,x){this._rowCount=x,_=void 0!==_?_:0,P=void 0!==P?P:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,_):_,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,P):P;const a=Date.now();if(a-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=a,this._innerRefresh();else if(!this._additionalRefreshRequested){const L=this._debounceThresholdMS-(a-this._lastRefreshMs);this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},L)}}_innerRefresh(){if(void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return;const _=Math.max(this._rowStart,0),P=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(_,P)}}},1680:function(u,f,_){var P=this&&this.__decorate||function(y,D,k,B){var N,ce=arguments.length,$=ce<3?D:null===B?B=Object.getOwnPropertyDescriptor(D,k):B;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(y,D,k,B);else for(var z=y.length-1;z>=0;z--)(N=y[z])&&($=(ce<3?N($):ce>3?N(D,k,$):N(D,k))||$);return ce>3&&$&&Object.defineProperty(D,k,$),$},x=this&&this.__param||function(y,D){return function(k,B){D(k,B,y)}};Object.defineProperty(f,"__esModule",{value:!0}),f.Viewport=void 0;const a=_(3656),R=_(4725),L=_(8460),V=_(844),F=_(2585);let T=f.Viewport=class extends V.Disposable{constructor(y,D,k,B,N,ce,$,z){super(),this._viewportElement=y,this._scrollArea=D,this._bufferService=k,this._optionsService=B,this._charSizeService=N,this._renderService=ce,this._coreBrowserService=$,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new L.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,a.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(S=>this._activeBuffer=S.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(S=>this._renderDimensions=S)),this._handleThemeChange(z.colors),this.register(z.onChangeColors(S=>this._handleThemeChange(S))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(y){this._viewportElement.style.backgroundColor=y.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(y){if(y)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const D=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==D&&(this._lastRecordedBufferHeight=D,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const y=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==y&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=y),this._refreshAnimationFrame=null}syncScrollArea(y=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(y);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(y)}_handleScroll(y){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const D=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:D,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||-1===this._smoothScrollState.origin||-1===this._smoothScrollState.target)return;const y=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(y*(this._smoothScrollState.target-this._smoothScrollState.origin)),y<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(y,D){return!(D<0&&0!==this._viewportElement.scrollTop||D>0&&this._viewportElement.scrollTop+this._lastRecordedViewportHeight<this._lastRecordedBufferHeight)||(y.cancelable&&y.preventDefault(),!1)}handleWheel(y){const D=this._getPixelsScrolled(y);return 0!==D&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,-1===this._smoothScrollState.target?this._smoothScrollState.target=this._viewportElement.scrollTop+D:this._smoothScrollState.target+=D,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=D,this._bubbleScroll(y,D))}scrollLines(y){if(0!==y)if(this._optionsService.rawOptions.smoothScrollDuration){const D=y*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+D,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:y,suppressScrollEvent:!1})}_getPixelsScrolled(y){if(0===y.deltaY||y.shiftKey)return 0;let D=this._applyScrollModifier(y.deltaY,y);return y.deltaMode===WheelEvent.DOM_DELTA_LINE?D*=this._currentRowHeight:y.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(D*=this._currentRowHeight*this._bufferService.rows),D}getBufferElements(y,D){var k;let B,N="";const ce=[],$=null!=D?D:this._bufferService.buffer.lines.length,z=this._bufferService.buffer.lines;for(let S=y;S<$;S++){const O=z.get(S);if(!O)continue;const K=null===(k=z.get(S+1))||void 0===k?void 0:k.isWrapped;if(N+=O.translateToString(!K),!K||S===z.length-1){const ue=document.createElement("div");ue.textContent=N,ce.push(ue),N.length>0&&(B=ue),N=""}}return{bufferElements:ce,cursorElement:B}}getLinesScrolled(y){if(0===y.deltaY||y.shiftKey)return 0;let D=this._applyScrollModifier(y.deltaY,y);return y.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(D/=this._currentRowHeight+0,this._wheelPartialScroll+=D,D=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):y.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(D*=this._bufferService.rows),D}_applyScrollModifier(y,D){const k=this._optionsService.rawOptions.fastScrollModifier;return"alt"===k&&D.altKey||"ctrl"===k&&D.ctrlKey||"shift"===k&&D.shiftKey?y*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:y*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(y){this._lastTouchY=y.touches[0].pageY}handleTouchMove(y){const D=this._lastTouchY-y.touches[0].pageY;return this._lastTouchY=y.touches[0].pageY,0!==D&&(this._viewportElement.scrollTop+=D,this._bubbleScroll(y,D))}};f.Viewport=T=P([x(2,F.IBufferService),x(3,F.IOptionsService),x(4,R.ICharSizeService),x(5,R.IRenderService),x(6,R.ICoreBrowserService),x(7,R.IThemeService)],T)},3107:function(u,f,_){var P=this&&this.__decorate||function(T,y,D,k){var B,N=arguments.length,ce=N<3?y:null===k?k=Object.getOwnPropertyDescriptor(y,D):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ce=Reflect.decorate(T,y,D,k);else for(var $=T.length-1;$>=0;$--)(B=T[$])&&(ce=(N<3?B(ce):N>3?B(y,D,ce):B(y,D))||ce);return N>3&&ce&&Object.defineProperty(y,D,ce),ce},x=this&&this.__param||function(T,y){return function(D,k){y(D,k,T)}};Object.defineProperty(f,"__esModule",{value:!0}),f.BufferDecorationRenderer=void 0;const a=_(3656),R=_(4725),L=_(844),V=_(2585);let F=f.BufferDecorationRenderer=class extends L.Disposable{constructor(T,y,D,k){super(),this._screenElement=T,this._bufferService=y,this._decorationService=D,this._renderService=k,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,a.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(B=>this._removeDecoration(B))),this.register((0,L.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){void 0===this._animationFrame&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const T of this._decorationService.decorations)this._renderDecoration(T);this._dimensionsChanged=!1}_renderDecoration(T){this._refreshStyle(T),this._dimensionsChanged&&this._refreshXPosition(T)}_createElement(T){var y,D;const k=document.createElement("div");k.classList.add("xterm-decoration"),k.classList.toggle("xterm-decoration-top-layer","top"===(null===(y=null==T?void 0:T.options)||void 0===y?void 0:y.layer)),k.style.width=`${Math.round((T.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,k.style.height=(T.options.height||1)*this._renderService.dimensions.css.cell.height+"px",k.style.top=(T.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",k.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const B=null!==(D=T.options.x)&&void 0!==D?D:0;return B&&B>this._bufferService.cols&&(k.style.display="none"),this._refreshXPosition(T,k),k}_refreshStyle(T){const y=T.marker.line-this._bufferService.buffers.active.ydisp;if(y<0||y>=this._bufferService.rows)T.element&&(T.element.style.display="none",T.onRenderEmitter.fire(T.element));else{let D=this._decorationElements.get(T);D||(D=this._createElement(T),T.element=D,this._decorationElements.set(T,D),this._container.appendChild(D),T.onDispose(()=>{this._decorationElements.delete(T),D.remove()})),D.style.top=y*this._renderService.dimensions.css.cell.height+"px",D.style.display=this._altBufferIsActive?"none":"block",T.onRenderEmitter.fire(D)}}_refreshXPosition(T,y=T.element){var D;if(!y)return;const k=null!==(D=T.options.x)&&void 0!==D?D:0;"right"===(T.options.anchor||"left")?y.style.right=k?k*this._renderService.dimensions.css.cell.width+"px":"":y.style.left=k?k*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(T){var y;null===(y=this._decorationElements.get(T))||void 0===y||y.remove(),this._decorationElements.delete(T),T.dispose()}};f.BufferDecorationRenderer=F=P([x(1,V.IBufferService),x(2,V.IDecorationService),x(3,R.IRenderService)],F)},5871:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ColorZoneStore=void 0,f.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(_){if(_.options.overviewRulerOptions){for(const P of this._zones)if(P.color===_.options.overviewRulerOptions.color&&P.position===_.options.overviewRulerOptions.position){if(this._lineIntersectsZone(P,_.marker.line))return;if(this._lineAdjacentToZone(P,_.marker.line,_.options.overviewRulerOptions.position))return void this._addLineToZone(P,_.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=_.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=_.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=_.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=_.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:_.options.overviewRulerOptions.color,position:_.options.overviewRulerOptions.position,startBufferLine:_.marker.line,endBufferLine:_.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(_){this._linePadding=_}_lineIntersectsZone(_,P){return P>=_.startBufferLine&&P<=_.endBufferLine}_lineAdjacentToZone(_,P,x){return P>=_.startBufferLine-this._linePadding[x||"full"]&&P<=_.endBufferLine+this._linePadding[x||"full"]}_addLineToZone(_,P){_.startBufferLine=Math.min(_.startBufferLine,P),_.endBufferLine=Math.max(_.endBufferLine,P)}}},5744:function(u,f,_){var P=this&&this.__decorate||function(B,N,ce,$){var z,S=arguments.length,O=S<3?N:null===$?$=Object.getOwnPropertyDescriptor(N,ce):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(B,N,ce,$);else for(var K=B.length-1;K>=0;K--)(z=B[K])&&(O=(S<3?z(O):S>3?z(N,ce,O):z(N,ce))||O);return S>3&&O&&Object.defineProperty(N,ce,O),O},x=this&&this.__param||function(B,N){return function(ce,$){N(ce,$,B)}};Object.defineProperty(f,"__esModule",{value:!0}),f.OverviewRulerRenderer=void 0;const a=_(5871),R=_(3656),L=_(4725),V=_(844),F=_(2585),T={full:0,left:0,center:0,right:0},y={full:0,left:0,center:0,right:0},D={full:0,left:0,center:0,right:0};let k=f.OverviewRulerRenderer=class extends V.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(B,N,ce,$,z,S,O){var K;super(),this._viewportElement=B,this._screenElement=N,this._bufferService=ce,this._decorationService=$,this._renderService=z,this._optionsService=S,this._coreBrowseService=O,this._colorZoneStore=new a.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),null===(K=this._viewportElement.parentElement)||void 0===K||K.insertBefore(this._canvas,this._viewportElement);const ue=this._canvas.getContext("2d");if(!ue)throw new Error("Ctx cannot be null");this._ctx=ue,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,V.toDisposable)(()=>{var q;null===(q=this._canvas)||void 0===q||q.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,R.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const B=Math.floor(this._canvas.width/3),N=Math.ceil(this._canvas.width/3);y.full=this._canvas.width,y.left=B,y.center=N,y.right=B,this._refreshDrawHeightConstants(),D.full=0,D.left=0,D.center=y.left,D.right=y.left+y.center}_refreshDrawHeightConstants(){T.full=Math.round(2*this._coreBrowseService.dpr);const N=Math.round(Math.max(Math.min(this._canvas.height/this._bufferService.buffer.lines.length,12),6)*this._coreBrowseService.dpr);T.left=N,T.center=N,T.right=N}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*T.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*T.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*T.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*T.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const N of this._decorationService.decorations)this._colorZoneStore.addDecoration(N);this._ctx.lineWidth=1;const B=this._colorZoneStore.zones;for(const N of B)"full"!==N.position&&this._renderColorZone(N);for(const N of B)"full"===N.position&&this._renderColorZone(N);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(B){this._ctx.fillStyle=B.color,this._ctx.fillRect(D[B.position||"full"],Math.round(B.startBufferLine/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)-T[B.position||"full"]/2),y[B.position||"full"],Math.round((B.endBufferLine-B.startBufferLine)/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)+T[B.position||"full"]))}_queueRefresh(B,N){this._shouldUpdateDimensions=B||this._shouldUpdateDimensions,this._shouldUpdateAnchor=N||this._shouldUpdateAnchor,void 0===this._animationFrame&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};f.OverviewRulerRenderer=k=P([x(2,F.IBufferService),x(3,F.IDecorationService),x(4,L.IRenderService),x(5,F.IOptionsService),x(6,L.ICoreBrowserService)],k)},2950:function(u,f,_){var P=this&&this.__decorate||function(F,T,y,D){var k,B=arguments.length,N=B<3?T:null===D?D=Object.getOwnPropertyDescriptor(T,y):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(F,T,y,D);else for(var ce=F.length-1;ce>=0;ce--)(k=F[ce])&&(N=(B<3?k(N):B>3?k(T,y,N):k(T,y))||N);return B>3&&N&&Object.defineProperty(T,y,N),N},x=this&&this.__param||function(F,T){return function(y,D){T(y,D,F)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CompositionHelper=void 0;const a=_(4725),R=_(2585),L=_(2584);let V=f.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(F,T,y,D,k,B){this._textarea=F,this._compositionView=T,this._bufferService=y,this._optionsService=D,this._coreService=k,this._renderService=B,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(F){this._compositionView.textContent=F.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(F){if(this._isComposing||this._isSendingComposition){if(229===F.keyCode||16===F.keyCode||17===F.keyCode||18===F.keyCode)return!1;this._finalizeComposition(!1)}return 229!==F.keyCode||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(F){if(this._compositionView.classList.remove("active"),this._isComposing=!1,F){const T={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let y;this._isSendingComposition=!1,T.start+=this._dataAlreadySent.length,y=this._isComposing?this._textarea.value.substring(T.start,T.end):this._textarea.value.substring(T.start),y.length>0&&this._coreService.triggerDataEvent(y,!0)}},0)}else{this._isSendingComposition=!1;const T=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(T,!0)}}_handleAnyTextareaChanges(){const F=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const T=this._textarea.value,y=T.replace(F,"");this._dataAlreadySent=y,T.length>F.length?this._coreService.triggerDataEvent(y,!0):T.length<F.length?this._coreService.triggerDataEvent(`${L.C0.DEL}`,!0):T.length===F.length&&T!==F&&this._coreService.triggerDataEvent(T,!0)}},0)}updateCompositionElements(F){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const T=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),y=this._renderService.dimensions.css.cell.height,D=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,k=T*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=k+"px",this._compositionView.style.top=D+"px",this._compositionView.style.height=y+"px",this._compositionView.style.lineHeight=y+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const B=this._compositionView.getBoundingClientRect();this._textarea.style.left=k+"px",this._textarea.style.top=D+"px",this._textarea.style.width=Math.max(B.width,1)+"px",this._textarea.style.height=Math.max(B.height,1)+"px",this._textarea.style.lineHeight=B.height+"px"}F||setTimeout(()=>this.updateCompositionElements(!0),0)}}};f.CompositionHelper=V=P([x(2,R.IBufferService),x(3,R.IOptionsService),x(4,R.ICoreService),x(5,a.IRenderService)],V)},9806:(u,f)=>{function _(P,x,a){const R=a.getBoundingClientRect(),L=P.getComputedStyle(a),V=parseInt(L.getPropertyValue("padding-left")),F=parseInt(L.getPropertyValue("padding-top"));return[x.clientX-R.left-V,x.clientY-R.top-F]}Object.defineProperty(f,"__esModule",{value:!0}),f.getCoords=f.getCoordsRelativeToElement=void 0,f.getCoordsRelativeToElement=_,f.getCoords=function(P,x,a,R,L,V,F,T,y){if(!V)return;const D=_(P,x,a);return D?(D[0]=Math.ceil((D[0]+(y?F/2:0))/F),D[1]=Math.ceil(D[1]/T),D[0]=Math.min(Math.max(D[0],1),R+(y?1:0)),D[1]=Math.min(Math.max(D[1],1),L),D):void 0}},9504:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.moveToCellSequence=void 0;const P=_(2584);function x(T,y,D,k){const B=T-a(T,D),N=y-a(y,D);return F(Math.abs(B-N)-function($,z,S){let O=0;const K=$-a($,S),ue=z-a(z,S);for(let q=0;q<Math.abs(K-ue);q++){const G="A"===R($,z)?-1:1,j=S.buffer.lines.get(K+G*q);null!=j&&j.isWrapped&&O++}return O}(T,y,D),V(R(T,y),k))}function a(T,y){let D=0,k=y.buffer.lines.get(T),B=null==k?void 0:k.isWrapped;for(;B&&T>=0&&T<y.rows;)D++,k=y.buffer.lines.get(--T),B=null==k?void 0:k.isWrapped;return D}function R(T,y){return T>y?"A":"B"}function L(T,y,D,k,B,N){let ce=T,$=y,z="";for(;ce!==D||$!==k;)ce+=B?1:-1,B&&ce>N.cols-1?(z+=N.buffer.translateBufferLineToString($,!1,T,ce),ce=0,T=0,$++):!B&&ce<0&&(z+=N.buffer.translateBufferLineToString($,!1,0,T+1),ce=N.cols-1,T=ce,$--);return z+N.buffer.translateBufferLineToString($,!1,T,ce)}function V(T,y){return P.C0.ESC+(y?"O":"[")+T}function F(T,y){T=Math.floor(T);let D="";for(let k=0;k<T;k++)D+=y;return D}f.moveToCellSequence=function(T,y,D,k){const B=D.buffer.x,N=D.buffer.y;if(!D.buffer.hasScrollback)return z=B,(0===x(S=N,y,ue=D,q=k).length?"":F(L(z,S,z,S-a(S,ue),!1,ue).length,V("D",q)))+x(N,y,D,k)+function(z,S,O,K,ue,q){let G;G=x(S,K,ue,q).length>0?K-a(K,ue):S;const j=K,fe=function(ne,J,X,W,Y,Te){let Ae;return Ae=x(X,W,Y,Te).length>0?W-a(W,Y):J,ne<X&&Ae<=W||ne>=X&&Ae<W?"C":"D"}(z,S,O,K,ue,q);return F(L(z,G,O,j,"C"===fe,ue).length,V(fe,q))}(B,N,T,y,D,k);var z,S,ue,q;let ce;if(N===y)return ce=B>T?"D":"C",F(Math.abs(B-T),V(ce,k));ce=N>y?"D":"C";const $=Math.abs(N-y);return F(function(z,S){return S.cols-z}(N>y?T:B,D)+($-1)*D.cols+1+((N>y?B:T)-1),V(ce,k))}},1296:function(u,f,_){var P=this&&this.__decorate||function(ue,q,G,j){var fe,ne=arguments.length,J=ne<3?q:null===j?j=Object.getOwnPropertyDescriptor(q,G):j;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(ue,q,G,j);else for(var X=ue.length-1;X>=0;X--)(fe=ue[X])&&(J=(ne<3?fe(J):ne>3?fe(q,G,J):fe(q,G))||J);return ne>3&&J&&Object.defineProperty(q,G,J),J},x=this&&this.__param||function(ue,q){return function(G,j){q(G,j,ue)}};Object.defineProperty(f,"__esModule",{value:!0}),f.DomRenderer=void 0;const a=_(3787),R=_(2550),L=_(2223),V=_(6171),F=_(4725),T=_(8055),y=_(8460),D=_(844),k=_(2585),B="xterm-dom-renderer-owner-",N="xterm-rows",ce="xterm-fg-",$="xterm-bg-",z="xterm-focus",S="xterm-selection";let O=1,K=f.DomRenderer=class extends D.Disposable{constructor(ue,q,G,j,fe,ne,J,X,W,Y){super(),this._element=ue,this._screenElement=q,this._viewportElement=G,this._linkifier2=j,this._charSizeService=ne,this._optionsService=J,this._bufferService=X,this._coreBrowserService=W,this._themeService=Y,this._terminalClass=O++,this._rowElements=[],this.onRequestRedraw=this.register(new y.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(N),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(S),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,V.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(Te=>this._injectCss(Te))),this._injectCss(this._themeService.colors),this._rowFactory=fe.createInstance(a.DomRendererRowFactory,document),this._element.classList.add(B+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(Te=>this._handleLinkHover(Te))),this.register(this._linkifier2.onHideLinkUnderline(Te=>this._handleLinkLeave(Te))),this.register((0,D.toDisposable)(()=>{this._element.classList.remove(B+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new R.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const ue=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*ue,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*ue),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/ue),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/ue),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const G of this._rowElements)G.style.width=`${this.dimensions.css.canvas.width}px`,G.style.height=`${this.dimensions.css.cell.height}px`,G.style.lineHeight=`${this.dimensions.css.cell.height}px`,G.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement)),this._dimensionsStyleElement.textContent=`${this._terminalSelector} .${N} span { display: inline-block; height: 100%; vertical-align: top;}`,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(ue){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let q=`${this._terminalSelector} .${N} { color: ${ue.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;q+=`${this._terminalSelector} .${N} .xterm-dim { color: ${T.color.multiplyOpacity(ue.foreground,.5).css};}`,q+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,q+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",q+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${ue.cursor.css};  color: ${ue.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${ue.cursor.css}; }}`,q+=`${this._terminalSelector} .${N}.${z} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${N}.${z} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${N} .xterm-cursor.xterm-cursor-block { background-color: ${ue.cursor.css}; color: ${ue.cursorAccent.css};}${this._terminalSelector} .${N} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${ue.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${N} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${ue.cursor.css} inset;}${this._terminalSelector} .${N} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${ue.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,q+=`${this._terminalSelector} .${S} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${S} div { position: absolute; background-color: ${ue.selectionBackgroundOpaque.css};}${this._terminalSelector} .${S} div { position: absolute; background-color: ${ue.selectionInactiveBackgroundOpaque.css};}`;for(const[G,j]of ue.ansi.entries())q+=`${this._terminalSelector} .${ce}${G} { color: ${j.css}; }${this._terminalSelector} .${ce}${G}.xterm-dim { color: ${T.color.multiplyOpacity(j,.5).css}; }${this._terminalSelector} .${$}${G} { background-color: ${j.css}; }`;q+=`${this._terminalSelector} .${ce}${L.INVERTED_DEFAULT_COLOR} { color: ${T.color.opaque(ue.background).css}; }${this._terminalSelector} .${ce}${L.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${T.color.multiplyOpacity(T.color.opaque(ue.background),.5).css}; }${this._terminalSelector} .${$}${L.INVERTED_DEFAULT_COLOR} { background-color: ${ue.foreground.css}; }`,this._themeStyleElement.textContent=q}_setDefaultSpacing(){const ue=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${ue}px`,this._rowFactory.defaultSpacing=ue}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(ue,q){for(let G=this._rowElements.length;G<=q;G++){const j=document.createElement("div");this._rowContainer.appendChild(j),this._rowElements.push(j)}for(;this._rowElements.length>q;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(ue,q){this._refreshRowElements(ue,q),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(z)}handleFocus(){this._rowContainer.classList.add(z),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(ue,q,G){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(ue,q,G),this.renderRows(0,this._bufferService.rows-1),!ue||!q)return;const j=ue[1]-this._bufferService.buffer.ydisp,fe=q[1]-this._bufferService.buffer.ydisp,ne=Math.max(j,0),J=Math.min(fe,this._bufferService.rows-1);if(ne>=this._bufferService.rows||J<0)return;const X=document.createDocumentFragment();if(G){const W=ue[0]>q[0];X.appendChild(this._createSelectionElement(ne,W?q[0]:ue[0],W?ue[0]:q[0],J-ne+1))}else X.appendChild(this._createSelectionElement(ne,j===ne?ue[0]:0,ne===fe?q[0]:this._bufferService.cols)),X.appendChild(this._createSelectionElement(ne+1,0,this._bufferService.cols,J-ne-1)),ne!==J&&X.appendChild(this._createSelectionElement(J,0,fe===J?q[0]:this._bufferService.cols));this._selectionContainer.appendChild(X)}_createSelectionElement(ue,q,G,j=1){const fe=document.createElement("div");return fe.style.height=j*this.dimensions.css.cell.height+"px",fe.style.top=ue*this.dimensions.css.cell.height+"px",fe.style.left=q*this.dimensions.css.cell.width+"px",fe.style.width=this.dimensions.css.cell.width*(G-q)+"px",fe}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const ue of this._rowElements)ue.replaceChildren()}renderRows(ue,q){const G=this._bufferService.buffer,j=G.ybase+G.y,fe=Math.min(G.x,this._bufferService.cols-1),ne=this._optionsService.rawOptions.cursorBlink,J=this._optionsService.rawOptions.cursorStyle,X=this._optionsService.rawOptions.cursorInactiveStyle;for(let W=ue;W<=q;W++){const Y=W+G.ydisp,Te=this._rowElements[W],Ae=G.lines.get(Y);if(!Te||!Ae)break;Te.replaceChildren(...this._rowFactory.createRow(Ae,Y,Y===j,J,X,fe,ne,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${B}${this._terminalClass}`}_handleLinkHover(ue){this._setCellUnderline(ue.x1,ue.x2,ue.y1,ue.y2,ue.cols,!0)}_handleLinkLeave(ue){this._setCellUnderline(ue.x1,ue.x2,ue.y1,ue.y2,ue.cols,!1)}_setCellUnderline(ue,q,G,j,fe,ne){G<0&&(ue=0),j<0&&(q=0);const J=this._bufferService.rows-1;G=Math.max(Math.min(G,J),0),j=Math.max(Math.min(j,J),0),fe=Math.min(fe,this._bufferService.cols);const X=this._bufferService.buffer,W=X.ybase+X.y,Y=Math.min(X.x,fe-1),Te=this._optionsService.rawOptions.cursorBlink,Ae=this._optionsService.rawOptions.cursorStyle,Ke=this._optionsService.rawOptions.cursorInactiveStyle;for(let be=G;be<=j;++be){const Ge=be+X.ydisp,ee=this._rowElements[be],xe=X.lines.get(Ge);if(!ee||!xe)break;ee.replaceChildren(...this._rowFactory.createRow(xe,Ge,Ge===W,Ae,Ke,Y,Te,this.dimensions.css.cell.width,this._widthCache,ne?be===G?ue:0:-1,ne?(be===j?q:fe)-1:-1))}}};f.DomRenderer=K=P([x(4,k.IInstantiationService),x(5,F.ICharSizeService),x(6,k.IOptionsService),x(7,k.IBufferService),x(8,F.ICoreBrowserService),x(9,F.IThemeService)],K)},3787:function(u,f,_){var P=this&&this.__decorate||function(ce,$,z,S){var O,K=arguments.length,ue=K<3?$:null===S?S=Object.getOwnPropertyDescriptor($,z):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(ce,$,z,S);else for(var q=ce.length-1;q>=0;q--)(O=ce[q])&&(ue=(K<3?O(ue):K>3?O($,z,ue):O($,z))||ue);return K>3&&ue&&Object.defineProperty($,z,ue),ue},x=this&&this.__param||function(ce,$){return function(z,S){$(z,S,ce)}};Object.defineProperty(f,"__esModule",{value:!0}),f.DomRendererRowFactory=void 0;const a=_(2223),R=_(643),L=_(511),V=_(2585),F=_(8055),T=_(4725),y=_(4269),D=_(6171),k=_(3734);let B=f.DomRendererRowFactory=class{constructor(ce,$,z,S,O,K,ue){this._document=ce,this._characterJoinerService=$,this._optionsService=z,this._coreBrowserService=S,this._coreService=O,this._decorationService=K,this._themeService=ue,this._workCell=new L.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(ce,$,z){this._selectionStart=ce,this._selectionEnd=$,this._columnSelectMode=z}createRow(ce,$,z,S,O,K,ue,q,G,j,fe){const ne=[],J=this._characterJoinerService.getJoinedCharacters($),X=this._themeService.colors;let W,Y=ce.getNoBgTrimmedLength();z&&Y<K+1&&(Y=K+1);let Te=0,Ae="",Ke=0,be=0,Ge=0,ee=!1,xe=0,we=!1,Pe=0;const dt=[],bt=-1!==j&&-1!==fe;for(let it=0;it<Y;it++){ce.loadCell(it,this._workCell);let Dt=this._workCell.getWidth();if(0===Dt)continue;let vt=!1,Wt=it,zt=this._workCell;if(J.length>0&&it===J[0][0]){vt=!0;const se=J.shift();zt=new y.JoinedCellData(this._workCell,ce.translateToString(!0,se[0],se[1]),se[1]-se[0]),Wt=se[1]-1,Dt=zt.getWidth()}const Ut=this._isCellInSelection(it,$),ct=z&&it===K,at=bt&&it>=j&&it<=fe;let me=!1;this._decorationService.forEachDecorationAtCell(it,$,void 0,se=>{me=!0});let De=zt.getChars()||R.WHITESPACE_CELL_CHAR;if(" "===De&&(zt.isUnderline()||zt.isOverline())&&(De="\xa0"),Pe=Dt*q-G.get(De,zt.isBold(),zt.isItalic()),W){if(Te&&(Ut&&we||!Ut&&!we&&zt.bg===Ke)&&(Ut&&we&&X.selectionForeground||zt.fg===be)&&zt.extended.ext===Ge&&at===ee&&Pe===xe&&!ct&&!vt&&!me){Ae+=De,Te++;continue}Te&&(W.textContent=Ae),W=this._document.createElement("span"),Te=0,Ae=""}else W=this._document.createElement("span");if(Ke=zt.bg,be=zt.fg,Ge=zt.extended.ext,ee=at,xe=Pe,we=Ut,vt&&K>=it&&K<=Wt&&(K=it),!this._coreService.isCursorHidden&&ct)if(dt.push("xterm-cursor"),this._coreBrowserService.isFocused)ue&&dt.push("xterm-cursor-blink"),dt.push("bar"===S?"xterm-cursor-bar":"underline"===S?"xterm-cursor-underline":"xterm-cursor-block");else if(O)switch(O){case"outline":dt.push("xterm-cursor-outline");break;case"block":dt.push("xterm-cursor-block");break;case"bar":dt.push("xterm-cursor-bar");break;case"underline":dt.push("xterm-cursor-underline")}if(zt.isBold()&&dt.push("xterm-bold"),zt.isItalic()&&dt.push("xterm-italic"),zt.isDim()&&dt.push("xterm-dim"),Ae=zt.isInvisible()?R.WHITESPACE_CELL_CHAR:zt.getChars()||R.WHITESPACE_CELL_CHAR,zt.isUnderline()&&(dt.push(`xterm-underline-${zt.extended.underlineStyle}`)," "===Ae&&(Ae="\xa0"),!zt.isUnderlineColorDefault()))if(zt.isUnderlineColorRGB())W.style.textDecorationColor=`rgb(${k.AttributeData.toColorRGB(zt.getUnderlineColor()).join(",")})`;else{let se=zt.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&zt.isBold()&&se<8&&(se+=8),W.style.textDecorationColor=X.ansi[se].css}zt.isOverline()&&(dt.push("xterm-overline")," "===Ae&&(Ae="\xa0")),zt.isStrikethrough()&&dt.push("xterm-strikethrough"),at&&(W.style.textDecoration="underline");let ot=zt.getFgColor(),Ct=zt.getFgColorMode(),Ot=zt.getBgColor(),Ft=zt.getBgColorMode();const Mt=!!zt.isInverse();if(Mt){const se=ot;ot=Ot,Ot=se;const Fe=Ct;Ct=Ft,Ft=Fe}let Ye,st,je,It=!1;switch(this._decorationService.forEachDecorationAtCell(it,$,void 0,se=>{"top"!==se.options.layer&&It||(se.backgroundColorRGB&&(Ft=50331648,Ot=se.backgroundColorRGB.rgba>>8&16777215,Ye=se.backgroundColorRGB),se.foregroundColorRGB&&(Ct=50331648,ot=se.foregroundColorRGB.rgba>>8&16777215,st=se.foregroundColorRGB),It="top"===se.options.layer)}),!It&&Ut&&(Ye=this._coreBrowserService.isFocused?X.selectionBackgroundOpaque:X.selectionInactiveBackgroundOpaque,Ot=Ye.rgba>>8&16777215,Ft=50331648,It=!0,X.selectionForeground&&(Ct=50331648,ot=X.selectionForeground.rgba>>8&16777215,st=X.selectionForeground)),It&&dt.push("xterm-decoration-top"),Ft){case 16777216:case 33554432:je=X.ansi[Ot],dt.push(`xterm-bg-${Ot}`);break;case 50331648:je=F.rgba.toColor(Ot>>16,Ot>>8&255,255&Ot),this._addStyle(W,`background-color:#${N((Ot>>>0).toString(16),"0",6)}`);break;default:Mt?(je=X.foreground,dt.push(`xterm-bg-${a.INVERTED_DEFAULT_COLOR}`)):je=X.background}switch(Ye||zt.isDim()&&(Ye=F.color.multiplyOpacity(je,.5)),Ct){case 16777216:case 33554432:zt.isBold()&&ot<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(ot+=8),this._applyMinimumContrast(W,je,X.ansi[ot],zt,Ye,void 0)||dt.push(`xterm-fg-${ot}`);break;case 50331648:const se=F.rgba.toColor(ot>>16&255,ot>>8&255,255&ot);this._applyMinimumContrast(W,je,se,zt,Ye,st)||this._addStyle(W,`color:#${N(ot.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(W,je,X.foreground,zt,Ye,void 0)||Mt&&dt.push(`xterm-fg-${a.INVERTED_DEFAULT_COLOR}`)}dt.length&&(W.className=dt.join(" "),dt.length=0),ct||vt||me?W.textContent=Ae:Te++,Pe!==this.defaultSpacing&&(W.style.letterSpacing=`${Pe}px`),ne.push(W),it=Wt}return W&&Te&&(W.textContent=Ae),ne}_applyMinimumContrast(ce,$,z,S,O,K){if(1===this._optionsService.rawOptions.minimumContrastRatio||(0,D.excludeFromContrastRatioDemands)(S.getCode()))return!1;const ue=this._getContrastCache(S);let q;if(O||K||(q=ue.getColor($.rgba,z.rgba)),void 0===q){const G=this._optionsService.rawOptions.minimumContrastRatio/(S.isDim()?2:1);q=F.color.ensureContrastRatio(O||$,K||z,G),ue.setColor((O||$).rgba,(K||z).rgba,null!=q?q:null)}return!!q&&(this._addStyle(ce,`color:${q.css}`),!0)}_getContrastCache(ce){return ce.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(ce,$){ce.setAttribute("style",`${ce.getAttribute("style")||""}${$};`)}_isCellInSelection(ce,$){const z=this._selectionStart,S=this._selectionEnd;return!(!z||!S)&&(this._columnSelectMode?z[0]<=S[0]?ce>=z[0]&&$>=z[1]&&ce<S[0]&&$<=S[1]:ce<z[0]&&$>=z[1]&&ce>=S[0]&&$<=S[1]:$>z[1]&&$<S[1]||z[1]===S[1]&&$===z[1]&&ce>=z[0]&&ce<S[0]||z[1]<S[1]&&$===S[1]&&ce<S[0]||z[1]<S[1]&&$===z[1]&&ce>=z[0])}};function N(ce,$,z){for(;ce.length<z;)ce=$+ce;return ce}f.DomRendererRowFactory=B=P([x(1,T.ICharacterJoinerService),x(2,V.IOptionsService),x(3,T.ICoreBrowserService),x(4,V.ICoreService),x(5,V.IDecorationService),x(6,T.IThemeService)],B)},2550:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.WidthCache=void 0,f.WidthCache=class{constructor(_){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=_.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const P=_.createElement("span"),x=_.createElement("span");x.style.fontWeight="bold";const a=_.createElement("span");a.style.fontStyle="italic";const R=_.createElement("span");R.style.fontWeight="bold",R.style.fontStyle="italic",this._measureElements=[P,x,a,R],this._container.appendChild(P),this._container.appendChild(x),this._container.appendChild(a),this._container.appendChild(R),_.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(_,P,x,a){_===this._font&&P===this._fontSize&&x===this._weight&&a===this._weightBold||(this._font=_,this._fontSize=P,this._weight=x,this._weightBold=a,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${x}`,this._measureElements[1].style.fontWeight=`${a}`,this._measureElements[2].style.fontWeight=`${x}`,this._measureElements[3].style.fontWeight=`${a}`,this.clear())}get(_,P,x){let a=0;if(!P&&!x&&1===_.length&&(a=_.charCodeAt(0))<256)return-9999!==this._flat[a]?this._flat[a]:this._flat[a]=this._measure(_,0);let R=_;P&&(R+="B"),x&&(R+="I");let L=this._holey.get(R);if(void 0===L){let V=0;P&&(V|=1),x&&(V|=2),L=this._measure(_,V),this._holey.set(R,L)}return L}_measure(_,P){const x=this._measureElements[P];return x.textContent=_.repeat(32),x.offsetWidth/32}}},2223:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.TEXT_BASELINE=f.DIM_OPACITY=f.INVERTED_DEFAULT_COLOR=void 0;const P=_(6114);f.INVERTED_DEFAULT_COLOR=257,f.DIM_OPACITY=.5,f.TEXT_BASELINE=P.isFirefox||P.isLegacyEdge?"bottom":"ideographic"},6171:(u,f)=>{function _(P){return 57508<=P&&P<=57558}Object.defineProperty(f,"__esModule",{value:!0}),f.createRenderDimensions=f.excludeFromContrastRatioDemands=f.isRestrictedPowerlineGlyph=f.isPowerlineGlyph=f.throwIfFalsy=void 0,f.throwIfFalsy=function(P){if(!P)throw new Error("value must not be falsy");return P},f.isPowerlineGlyph=_,f.isRestrictedPowerlineGlyph=function(P){return 57520<=P&&P<=57527},f.excludeFromContrastRatioDemands=function(P){return _(P)||9472<=(x=P)&&x<=9631;var x},f.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.SelectionModel=void 0,f.SelectionModel=class{constructor(_){this._bufferService=_,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const _=this.selectionStart[0]+this.selectionStartLength;return _>this._bufferService.cols?_%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(_/this._bufferService.cols)-1]:[_%this._bufferService.cols,this.selectionStart[1]+Math.floor(_/this._bufferService.cols)]:[_,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const _=this.selectionStart[0]+this.selectionStartLength;return _>this._bufferService.cols?[_%this._bufferService.cols,this.selectionStart[1]+Math.floor(_/this._bufferService.cols)]:[Math.max(_,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const _=this.selectionStart,P=this.selectionEnd;return!(!_||!P)&&(_[1]>P[1]||_[1]===P[1]&&_[0]>P[0])}handleTrim(_){return this.selectionStart&&(this.selectionStart[1]-=_),this.selectionEnd&&(this.selectionEnd[1]-=_),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(u,f,_){var P=this&&this.__decorate||function(T,y,D,k){var B,N=arguments.length,ce=N<3?y:null===k?k=Object.getOwnPropertyDescriptor(y,D):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ce=Reflect.decorate(T,y,D,k);else for(var $=T.length-1;$>=0;$--)(B=T[$])&&(ce=(N<3?B(ce):N>3?B(y,D,ce):B(y,D))||ce);return N>3&&ce&&Object.defineProperty(y,D,ce),ce},x=this&&this.__param||function(T,y){return function(D,k){y(D,k,T)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CharSizeService=void 0;const a=_(2585),R=_(8460),L=_(844);let V=f.CharSizeService=class extends L.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(T,y,D){super(),this._optionsService=D,this.width=0,this.height=0,this._onCharSizeChange=this.register(new R.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new F(T,y,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const T=this._measureStrategy.measure();T.width===this.width&&T.height===this.height||(this.width=T.width,this.height=T.height,this._onCharSizeChange.fire())}};f.CharSizeService=V=P([x(2,a.IOptionsService)],V);class F{constructor(y,D,k){this._document=y,this._parentElement=D,this._optionsService=k,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const y={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return 0!==y.width&&0!==y.height&&(this._result.width=y.width/32,this._result.height=Math.ceil(y.height)),this._result}}},4269:function(u,f,_){var P=this&&this.__decorate||function(y,D,k,B){var N,ce=arguments.length,$=ce<3?D:null===B?B=Object.getOwnPropertyDescriptor(D,k):B;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(y,D,k,B);else for(var z=y.length-1;z>=0;z--)(N=y[z])&&($=(ce<3?N($):ce>3?N(D,k,$):N(D,k))||$);return ce>3&&$&&Object.defineProperty(D,k,$),$},x=this&&this.__param||function(y,D){return function(k,B){D(k,B,y)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CharacterJoinerService=f.JoinedCellData=void 0;const a=_(3734),R=_(643),L=_(511),V=_(2585);f.JoinedCellData=class F extends a.AttributeData{constructor(D,k,B){super(),this.content=0,this.combinedData="",this.fg=D.fg,this.bg=D.bg,this.combinedData=k,this._width=B}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(D){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}};let T=f.CharacterJoinerService=class qA{constructor(D){this._bufferService=D,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new L.CellData}register(D){const k={id:this._nextCharacterJoinerId++,handler:D};return this._characterJoiners.push(k),k.id}deregister(D){for(let k=0;k<this._characterJoiners.length;k++)if(this._characterJoiners[k].id===D)return this._characterJoiners.splice(k,1),!0;return!1}getJoinedCharacters(D){if(0===this._characterJoiners.length)return[];const k=this._bufferService.buffer.lines.get(D);if(!k||0===k.length)return[];const B=[],N=k.translateToString(!0);let ce=0,$=0,z=0,S=k.getFg(0),O=k.getBg(0);for(let K=0;K<k.getTrimmedLength();K++)if(k.loadCell(K,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==S||this._workCell.bg!==O){if(K-ce>1){const ue=this._getJoinedRanges(N,z,$,k,ce);for(let q=0;q<ue.length;q++)B.push(ue[q])}ce=K,z=$,S=this._workCell.fg,O=this._workCell.bg}$+=this._workCell.getChars().length||R.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-ce>1){const K=this._getJoinedRanges(N,z,$,k,ce);for(let ue=0;ue<K.length;ue++)B.push(K[ue])}return B}_getJoinedRanges(D,k,B,N,ce){const $=D.substring(k,B);let z=[];try{z=this._characterJoiners[0].handler($)}catch(S){console.error(S)}for(let S=1;S<this._characterJoiners.length;S++)try{const O=this._characterJoiners[S].handler($);for(let K=0;K<O.length;K++)qA._mergeRanges(z,O[K])}catch(O){console.error(O)}return this._stringRangesToCellRanges(z,N,ce),z}_stringRangesToCellRanges(D,k,B){let N=0,ce=!1,$=0,z=D[N];if(z){for(let S=B;S<this._bufferService.cols;S++){const O=k.getWidth(S),K=k.getString(S).length||R.WHITESPACE_CELL_CHAR.length;if(0!==O){if(!ce&&z[0]<=$&&(z[0]=S,ce=!0),z[1]<=$){if(z[1]=S,z=D[++N],!z)break;z[0]<=$?(z[0]=S,ce=!0):ce=!1}$+=K}}z&&(z[1]=this._bufferService.cols)}}static _mergeRanges(D,k){let B=!1;for(let N=0;N<D.length;N++){const ce=D[N];if(B){if(k[1]<=ce[0])return D[N-1][1]=k[1],D;if(k[1]<=ce[1])return D[N-1][1]=Math.max(k[1],ce[1]),D.splice(N,1),D;D.splice(N,1),N--}else{if(k[1]<=ce[0])return D.splice(N,0,k),D;if(k[1]<=ce[1])return ce[0]=Math.min(k[0],ce[0]),D;k[0]<ce[1]&&(ce[0]=Math.min(k[0],ce[0]),B=!0)}}return B?D[D.length-1][1]=k[1]:D.push(k),D}};f.CharacterJoinerService=T=P([x(0,V.IBufferService)],T)},5114:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CoreBrowserService=void 0,f.CoreBrowserService=class{constructor(_,P){this._textarea=_,this.window=P,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return void 0===this._cachedIsFocused&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(u,f,_){var P=this&&this.__decorate||function(V,F,T,y){var D,k=arguments.length,B=k<3?F:null===y?y=Object.getOwnPropertyDescriptor(F,T):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)B=Reflect.decorate(V,F,T,y);else for(var N=V.length-1;N>=0;N--)(D=V[N])&&(B=(k<3?D(B):k>3?D(F,T,B):D(F,T))||B);return k>3&&B&&Object.defineProperty(F,T,B),B},x=this&&this.__param||function(V,F){return function(T,y){F(T,y,V)}};Object.defineProperty(f,"__esModule",{value:!0}),f.MouseService=void 0;const a=_(4725),R=_(9806);let L=f.MouseService=class{constructor(V,F){this._renderService=V,this._charSizeService=F}getCoords(V,F,T,y,D){return(0,R.getCoords)(window,V,F,T,y,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,D)}getMouseReportCoords(V,F){const T=(0,R.getCoordsRelativeToElement)(window,V,F);if(this._charSizeService.hasValidSize)return T[0]=Math.min(Math.max(T[0],0),this._renderService.dimensions.css.canvas.width-1),T[1]=Math.min(Math.max(T[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(T[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(T[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(T[0]),y:Math.floor(T[1])}}};f.MouseService=L=P([x(0,a.IRenderService),x(1,a.ICharSizeService)],L)},3230:function(u,f,_){var P=this&&this.__decorate||function(B,N,ce,$){var z,S=arguments.length,O=S<3?N:null===$?$=Object.getOwnPropertyDescriptor(N,ce):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(B,N,ce,$);else for(var K=B.length-1;K>=0;K--)(z=B[K])&&(O=(S<3?z(O):S>3?z(N,ce,O):z(N,ce))||O);return S>3&&O&&Object.defineProperty(N,ce,O),O},x=this&&this.__param||function(B,N){return function(ce,$){N(ce,$,B)}};Object.defineProperty(f,"__esModule",{value:!0}),f.RenderService=void 0;const a=_(3656),R=_(6193),L=_(5596),V=_(4725),F=_(8460),T=_(844),y=_(7226),D=_(2585);let k=f.RenderService=class extends T.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(B,N,ce,$,z,S,O,K){if(super(),this._rowCount=B,this._charSizeService=$,this._renderer=this.register(new T.MutableDisposable),this._pausedResizeTask=new y.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new F.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new F.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new F.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new F.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new R.RenderDebouncer(O.window,(ue,q)=>this._renderRows(ue,q)),this.register(this._renderDebouncer),this._screenDprMonitor=new L.ScreenDprMonitor(O.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(S.onResize(()=>this._fullRefresh())),this.register(S.buffers.onBufferActivate(()=>{var ue;return null===(ue=this._renderer.value)||void 0===ue?void 0:ue.clear()})),this.register(ce.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(z.onDecorationRegistered(()=>this._fullRefresh())),this.register(z.onDecorationRemoved(()=>this._fullRefresh())),this.register(ce.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(S.cols,S.rows),this._fullRefresh()})),this.register(ce.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(S.buffer.y,S.buffer.y,!0))),this.register((0,a.addDisposableDomListener)(O.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(K.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in O.window){const ue=new O.window.IntersectionObserver(q=>this._handleIntersectionChange(q[q.length-1]),{threshold:0});ue.observe(N),this.register({dispose:()=>ue.disconnect()})}}_handleIntersectionChange(B){this._isPaused=void 0===B.isIntersecting?0===B.intersectionRatio:!B.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(B,N,ce=!1){this._isPaused?this._needsFullRefresh=!0:(ce||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(B,N,this._rowCount))}_renderRows(B,N){this._renderer.value&&(B=Math.min(B,this._rowCount-1),N=Math.min(N,this._rowCount-1),this._renderer.value.renderRows(B,N),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:B,end:N}),this._onRender.fire({start:B,end:N}),this._isNextRenderRedrawOnly=!0)}resize(B,N){this._rowCount=N,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(B){this._renderer.value=B,this._renderer.value.onRequestRedraw(N=>this.refreshRows(N.start,N.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(B){return this._renderDebouncer.addRefreshCallback(B)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var B,N;this._renderer.value&&(null===(N=(B=this._renderer.value).clearTextureAtlas)||void 0===N||N.call(B),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(B,N){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(B,N)):this._renderer.value.handleResize(B,N),this._fullRefresh())}handleCharSizeChanged(){var B;null===(B=this._renderer.value)||void 0===B||B.handleCharSizeChanged()}handleBlur(){var B;null===(B=this._renderer.value)||void 0===B||B.handleBlur()}handleFocus(){var B;null===(B=this._renderer.value)||void 0===B||B.handleFocus()}handleSelectionChanged(B,N,ce){var $;this._selectionState.start=B,this._selectionState.end=N,this._selectionState.columnSelectMode=ce,null===($=this._renderer.value)||void 0===$||$.handleSelectionChanged(B,N,ce)}handleCursorMove(){var B;null===(B=this._renderer.value)||void 0===B||B.handleCursorMove()}clear(){var B;null===(B=this._renderer.value)||void 0===B||B.clear()}};f.RenderService=k=P([x(2,D.IOptionsService),x(3,V.ICharSizeService),x(4,D.IDecorationService),x(5,D.IBufferService),x(6,V.ICoreBrowserService),x(7,V.IThemeService)],k)},9312:function(u,f,_){var P=this&&this.__decorate||function(z,S,O,K){var ue,q=arguments.length,G=q<3?S:null===K?K=Object.getOwnPropertyDescriptor(S,O):K;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)G=Reflect.decorate(z,S,O,K);else for(var j=z.length-1;j>=0;j--)(ue=z[j])&&(G=(q<3?ue(G):q>3?ue(S,O,G):ue(S,O))||G);return q>3&&G&&Object.defineProperty(S,O,G),G},x=this&&this.__param||function(z,S){return function(O,K){S(O,K,z)}};Object.defineProperty(f,"__esModule",{value:!0}),f.SelectionService=void 0;const a=_(9806),R=_(9504),L=_(456),V=_(4725),F=_(8460),T=_(844),y=_(6114),D=_(4841),k=_(511),B=_(2585),N=String.fromCharCode(160),ce=new RegExp(N,"g");let $=f.SelectionService=class extends T.Disposable{constructor(z,S,O,K,ue,q,G,j,fe){super(),this._element=z,this._screenElement=S,this._linkifier=O,this._bufferService=K,this._coreService=ue,this._mouseService=q,this._optionsService=G,this._renderService=j,this._coreBrowserService=fe,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new k.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new F.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new F.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new F.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new F.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=ne=>this._handleMouseMove(ne),this._mouseUpListener=ne=>this._handleMouseUp(ne),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(ne=>this._handleTrim(ne)),this.register(this._bufferService.buffers.onBufferActivate(ne=>this._handleBufferActivate(ne))),this.enable(),this._model=new L.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,T.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const z=this._model.finalSelectionStart,S=this._model.finalSelectionEnd;return!(!z||!S||z[0]===S[0]&&z[1]===S[1])}get selectionText(){const z=this._model.finalSelectionStart,S=this._model.finalSelectionEnd;if(!z||!S)return"";const O=this._bufferService.buffer,K=[];if(3===this._activeSelectionMode){if(z[0]===S[0])return"";const ue=z[0]<S[0]?z[0]:S[0],q=z[0]<S[0]?S[0]:z[0];for(let G=z[1];G<=S[1];G++){const j=O.translateBufferLineToString(G,!0,ue,q);K.push(j)}}else{K.push(O.translateBufferLineToString(z[1],!0,z[0],z[1]===S[1]?S[0]:void 0));for(let q=z[1]+1;q<=S[1]-1;q++){const G=O.lines.get(q),j=O.translateBufferLineToString(q,!0);null!=G&&G.isWrapped?K[K.length-1]+=j:K.push(j)}if(z[1]!==S[1]){const q=O.lines.get(S[1]),G=O.translateBufferLineToString(S[1],!0,0,S[0]);q&&q.isWrapped?K[K.length-1]+=G:K.push(G)}}return K.map(ue=>ue.replace(ce," ")).join(y.isWindows?"\r\n":"\n")}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(z){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),y.isLinux&&z&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})}_isClickInSelection(z){const S=this._getMouseBufferCoords(z),O=this._model.finalSelectionStart,K=this._model.finalSelectionEnd;return!!(O&&K&&S)&&this._areCoordsInSelection(S,O,K)}isCellInSelection(z,S){const O=this._model.finalSelectionStart,K=this._model.finalSelectionEnd;return!(!O||!K)&&this._areCoordsInSelection([z,S],O,K)}_areCoordsInSelection(z,S,O){return z[1]>S[1]&&z[1]<O[1]||S[1]===O[1]&&z[1]===S[1]&&z[0]>=S[0]&&z[0]<O[0]||S[1]<O[1]&&z[1]===O[1]&&z[0]<O[0]||S[1]<O[1]&&z[1]===S[1]&&z[0]>=S[0]}_selectWordAtCursor(z,S){var O,K;const ue=null===(K=null===(O=this._linkifier.currentLink)||void 0===O?void 0:O.link)||void 0===K?void 0:K.range;if(ue)return this._model.selectionStart=[ue.start.x-1,ue.start.y-1],this._model.selectionStartLength=(0,D.getRangeLength)(ue,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const q=this._getMouseBufferCoords(z);return!!q&&(this._selectWordAt(q,S),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(z,S){this._model.clearSelection(),z=Math.max(z,0),S=Math.min(S,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,z],this._model.selectionEnd=[this._bufferService.cols,S],this.refresh(),this._onSelectionChange.fire()}_handleTrim(z){this._model.handleTrim(z)&&this.refresh()}_getMouseBufferCoords(z){const S=this._mouseService.getCoords(z,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(S)return S[0]--,S[1]--,S[1]+=this._bufferService.buffer.ydisp,S}_getMouseEventScrollAmount(z){let S=(0,a.getCoordsRelativeToElement)(this._coreBrowserService.window,z,this._screenElement)[1];const O=this._renderService.dimensions.css.canvas.height;return S>=0&&S<=O?0:(S>O&&(S-=O),S=Math.min(Math.max(S,-50),50),S/=50,S/Math.abs(S)+Math.round(14*S))}shouldForceSelection(z){return y.isMac?z.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:z.shiftKey}handleMouseDown(z){if(this._mouseDownTimeStamp=z.timeStamp,(2!==z.button||!this.hasSelection)&&0===z.button){if(!this._enabled){if(!this.shouldForceSelection(z))return;z.stopPropagation()}z.preventDefault(),this._dragScrollAmount=0,this._enabled&&z.shiftKey?this._handleIncrementalClick(z):1===z.detail?this._handleSingleClick(z):2===z.detail?this._handleDoubleClick(z):3===z.detail&&this._handleTripleClick(z),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(z){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(z))}_handleSingleClick(z){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(z)?3:0,this._model.selectionStart=this._getMouseBufferCoords(z),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const S=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);S&&S.length!==this._model.selectionStart[0]&&0===S.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}_handleDoubleClick(z){this._selectWordAtCursor(z,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(z){const S=this._getMouseBufferCoords(z);S&&(this._activeSelectionMode=2,this._selectLineAt(S[1]))}shouldColumnSelect(z){return z.altKey&&!(y.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(z){if(z.stopImmediatePropagation(),!this._model.selectionStart)return;const S=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(z),!this._model.selectionEnd)return void this.refresh(!0);2===this._activeSelectionMode?this._model.selectionEnd[0]=this._model.selectionEnd[1]<this._model.selectionStart[1]?0:this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(z),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const O=this._bufferService.buffer;if(this._model.selectionEnd[1]<O.lines.length){const K=O.lines.get(this._model.selectionEnd[1]);K&&0===K.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}S&&S[0]===this._model.selectionEnd[0]&&S[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const z=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(z.ydisp+this._bufferService.rows,z.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=z.ydisp),this.refresh()}}_handleMouseUp(z){const S=z.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&S<500&&z.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const O=this._mouseService.getCoords(z,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(O&&void 0!==O[0]&&void 0!==O[1]){const K=(0,R.moveToCellSequence)(O[0]-1,O[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(K,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const z=this._model.finalSelectionStart,S=this._model.finalSelectionEnd,O=!(!z||!S||z[0]===S[0]&&z[1]===S[1]);O?z&&S&&(this._oldSelectionStart&&this._oldSelectionEnd&&z[0]===this._oldSelectionStart[0]&&z[1]===this._oldSelectionStart[1]&&S[0]===this._oldSelectionEnd[0]&&S[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(z,S,O)):this._oldHasSelection&&this._fireOnSelectionChange(z,S,O)}_fireOnSelectionChange(z,S,O){this._oldSelectionStart=z,this._oldSelectionEnd=S,this._oldHasSelection=O,this._onSelectionChange.fire()}_handleBufferActivate(z){this.clearSelection(),this._trimListener.dispose(),this._trimListener=z.activeBuffer.lines.onTrim(S=>this._handleTrim(S))}_convertViewportColToCharacterIndex(z,S){let O=S;for(let K=0;S>=K;K++){const ue=z.loadCell(K,this._workCell).getChars().length;0===this._workCell.getWidth()?O--:ue>1&&S!==K&&(O+=ue-1)}return O}setSelection(z,S,O){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[z,S],this._model.selectionStartLength=O,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(z){this._isClickInSelection(z)||(this._selectWordAtCursor(z,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(z,S,O=!0,K=!0){if(z[0]>=this._bufferService.cols)return;const ue=this._bufferService.buffer,q=ue.lines.get(z[1]);if(!q)return;const G=ue.translateBufferLineToString(z[1],!1);let j=this._convertViewportColToCharacterIndex(q,z[0]),fe=j;const ne=z[0]-j;let J=0,X=0,W=0,Y=0;if(" "===G.charAt(j)){for(;j>0&&" "===G.charAt(j-1);)j--;for(;fe<G.length&&" "===G.charAt(fe+1);)fe++}else{let Ke=z[0],be=z[0];0===q.getWidth(Ke)&&(J++,Ke--),2===q.getWidth(be)&&(X++,be++);const Ge=q.getString(be).length;for(Ge>1&&(Y+=Ge-1,fe+=Ge-1);Ke>0&&j>0&&!this._isCharWordSeparator(q.loadCell(Ke-1,this._workCell));){q.loadCell(Ke-1,this._workCell);const ee=this._workCell.getChars().length;0===this._workCell.getWidth()?(J++,Ke--):ee>1&&(W+=ee-1,j-=ee-1),j--,Ke--}for(;be<q.length&&fe+1<G.length&&!this._isCharWordSeparator(q.loadCell(be+1,this._workCell));){q.loadCell(be+1,this._workCell);const ee=this._workCell.getChars().length;2===this._workCell.getWidth()?(X++,be++):ee>1&&(Y+=ee-1,fe+=ee-1),fe++,be++}}fe++;let Te=j+ne-J+W,Ae=Math.min(this._bufferService.cols,fe-j+J+X-W-Y);if(S||""!==G.slice(j,fe).trim()){if(O&&0===Te&&32!==q.getCodePoint(0)){const Ke=ue.lines.get(z[1]-1);if(Ke&&q.isWrapped&&32!==Ke.getCodePoint(this._bufferService.cols-1)){const be=this._getWordAt([this._bufferService.cols-1,z[1]-1],!1,!0,!1);if(be){const Ge=this._bufferService.cols-be.start;Te-=Ge,Ae+=Ge}}}if(K&&Te+Ae===this._bufferService.cols&&32!==q.getCodePoint(this._bufferService.cols-1)){const Ke=ue.lines.get(z[1]+1);if((null==Ke?void 0:Ke.isWrapped)&&32!==Ke.getCodePoint(0)){const be=this._getWordAt([0,z[1]+1],!1,!1,!0);be&&(Ae+=be.length)}}return{start:Te,length:Ae}}}_selectWordAt(z,S){const O=this._getWordAt(z,S);if(O){for(;O.start<0;)O.start+=this._bufferService.cols,z[1]--;this._model.selectionStart=[O.start,z[1]],this._model.selectionStartLength=O.length}}_selectToWordAt(z){const S=this._getWordAt(z,!0);if(S){let O=z[1];for(;S.start<0;)S.start+=this._bufferService.cols,O--;if(!this._model.areSelectionValuesReversed())for(;S.start+S.length>this._bufferService.cols;)S.length-=this._bufferService.cols,O++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?S.start:S.start+S.length,O]}}_isCharWordSeparator(z){return 0!==z.getWidth()&&this._optionsService.rawOptions.wordSeparator.indexOf(z.getChars())>=0}_selectLineAt(z){const S=this._bufferService.buffer.getWrappedRangeForLine(z),O={start:{x:0,y:S.first},end:{x:this._bufferService.cols-1,y:S.last}};this._model.selectionStart=[0,S.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,D.getRangeLength)(O,this._bufferService.cols)}};f.SelectionService=$=P([x(3,B.IBufferService),x(4,B.ICoreService),x(5,V.IMouseService),x(6,B.IOptionsService),x(7,V.IRenderService),x(8,V.ICoreBrowserService)],$)},4725:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.IThemeService=f.ICharacterJoinerService=f.ISelectionService=f.IRenderService=f.IMouseService=f.ICoreBrowserService=f.ICharSizeService=void 0;const P=_(8343);f.ICharSizeService=(0,P.createDecorator)("CharSizeService"),f.ICoreBrowserService=(0,P.createDecorator)("CoreBrowserService"),f.IMouseService=(0,P.createDecorator)("MouseService"),f.IRenderService=(0,P.createDecorator)("RenderService"),f.ISelectionService=(0,P.createDecorator)("SelectionService"),f.ICharacterJoinerService=(0,P.createDecorator)("CharacterJoinerService"),f.IThemeService=(0,P.createDecorator)("ThemeService")},6731:function(u,f,_){var P=this&&this.__decorate||function($,z,S,O){var K,ue=arguments.length,q=ue<3?z:null===O?O=Object.getOwnPropertyDescriptor(z,S):O;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)q=Reflect.decorate($,z,S,O);else for(var G=$.length-1;G>=0;G--)(K=$[G])&&(q=(ue<3?K(q):ue>3?K(z,S,q):K(z,S))||q);return ue>3&&q&&Object.defineProperty(z,S,q),q},x=this&&this.__param||function($,z){return function(S,O){z(S,O,$)}};Object.defineProperty(f,"__esModule",{value:!0}),f.ThemeService=f.DEFAULT_ANSI_COLORS=void 0;const a=_(7239),R=_(8055),L=_(8460),V=_(844),F=_(2585),T=R.css.toColor("#ffffff"),y=R.css.toColor("#000000"),D=R.css.toColor("#ffffff"),k=R.css.toColor("#000000"),B={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};f.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const $=[R.css.toColor("#2e3436"),R.css.toColor("#cc0000"),R.css.toColor("#4e9a06"),R.css.toColor("#c4a000"),R.css.toColor("#3465a4"),R.css.toColor("#75507b"),R.css.toColor("#06989a"),R.css.toColor("#d3d7cf"),R.css.toColor("#555753"),R.css.toColor("#ef2929"),R.css.toColor("#8ae234"),R.css.toColor("#fce94f"),R.css.toColor("#729fcf"),R.css.toColor("#ad7fa8"),R.css.toColor("#34e2e2"),R.css.toColor("#eeeeec")],z=[0,95,135,175,215,255];for(let S=0;S<216;S++){const O=z[S/36%6|0],K=z[S/6%6|0],ue=z[S%6];$.push({css:R.channels.toCss(O,K,ue),rgba:R.channels.toRgba(O,K,ue)})}for(let S=0;S<24;S++){const O=8+10*S;$.push({css:R.channels.toCss(O,O,O),rgba:R.channels.toRgba(O,O,O)})}return $})());let N=f.ThemeService=class extends V.Disposable{get colors(){return this._colors}constructor($){super(),this._optionsService=$,this._contrastCache=new a.ColorContrastCache,this._halfContrastCache=new a.ColorContrastCache,this._onChangeColors=this.register(new L.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:T,background:y,cursor:D,cursorAccent:k,selectionForeground:void 0,selectionBackgroundTransparent:B,selectionBackgroundOpaque:R.color.blend(y,B),selectionInactiveBackgroundTransparent:B,selectionInactiveBackgroundOpaque:R.color.blend(y,B),ansi:f.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme($={}){const z=this._colors;if(z.foreground=ce($.foreground,T),z.background=ce($.background,y),z.cursor=ce($.cursor,D),z.cursorAccent=ce($.cursorAccent,k),z.selectionBackgroundTransparent=ce($.selectionBackground,B),z.selectionBackgroundOpaque=R.color.blend(z.background,z.selectionBackgroundTransparent),z.selectionInactiveBackgroundTransparent=ce($.selectionInactiveBackground,z.selectionBackgroundTransparent),z.selectionInactiveBackgroundOpaque=R.color.blend(z.background,z.selectionInactiveBackgroundTransparent),z.selectionForeground=$.selectionForeground?ce($.selectionForeground,R.NULL_COLOR):void 0,z.selectionForeground===R.NULL_COLOR&&(z.selectionForeground=void 0),R.color.isOpaque(z.selectionBackgroundTransparent)&&(z.selectionBackgroundTransparent=R.color.opacity(z.selectionBackgroundTransparent,.3)),R.color.isOpaque(z.selectionInactiveBackgroundTransparent)&&(z.selectionInactiveBackgroundTransparent=R.color.opacity(z.selectionInactiveBackgroundTransparent,.3)),z.ansi=f.DEFAULT_ANSI_COLORS.slice(),z.ansi[0]=ce($.black,f.DEFAULT_ANSI_COLORS[0]),z.ansi[1]=ce($.red,f.DEFAULT_ANSI_COLORS[1]),z.ansi[2]=ce($.green,f.DEFAULT_ANSI_COLORS[2]),z.ansi[3]=ce($.yellow,f.DEFAULT_ANSI_COLORS[3]),z.ansi[4]=ce($.blue,f.DEFAULT_ANSI_COLORS[4]),z.ansi[5]=ce($.magenta,f.DEFAULT_ANSI_COLORS[5]),z.ansi[6]=ce($.cyan,f.DEFAULT_ANSI_COLORS[6]),z.ansi[7]=ce($.white,f.DEFAULT_ANSI_COLORS[7]),z.ansi[8]=ce($.brightBlack,f.DEFAULT_ANSI_COLORS[8]),z.ansi[9]=ce($.brightRed,f.DEFAULT_ANSI_COLORS[9]),z.ansi[10]=ce($.brightGreen,f.DEFAULT_ANSI_COLORS[10]),z.ansi[11]=ce($.brightYellow,f.DEFAULT_ANSI_COLORS[11]),z.ansi[12]=ce($.brightBlue,f.DEFAULT_ANSI_COLORS[12]),z.ansi[13]=ce($.brightMagenta,f.DEFAULT_ANSI_COLORS[13]),z.ansi[14]=ce($.brightCyan,f.DEFAULT_ANSI_COLORS[14]),z.ansi[15]=ce($.brightWhite,f.DEFAULT_ANSI_COLORS[15]),$.extendedAnsi){const S=Math.min(z.ansi.length-16,$.extendedAnsi.length);for(let O=0;O<S;O++)z.ansi[O+16]=ce($.extendedAnsi[O],f.DEFAULT_ANSI_COLORS[O+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor($){this._restoreColor($),this._onChangeColors.fire(this.colors)}_restoreColor($){if(void 0!==$)switch($){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[$]=this._restoreColors.ansi[$]}else for(let z=0;z<this._restoreColors.ansi.length;++z)this._colors.ansi[z]=this._restoreColors.ansi[z]}modifyColors($){$(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function ce($,z){if(void 0!==$)try{return R.css.toColor($)}catch(S){}return z}f.ThemeService=N=P([x(0,F.IOptionsService)],N)},6349:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CircularList=void 0;const P=_(8460),x=_(844);f.CircularList=class a extends x.Disposable{constructor(L){super(),this._maxLength=L,this.onDeleteEmitter=this.register(new P.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new P.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new P.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(L){if(this._maxLength===L)return;const V=new Array(L);for(let F=0;F<Math.min(L,this.length);F++)V[F]=this._array[this._getCyclicIndex(F)];this._array=V,this._maxLength=L,this._startIndex=0}get length(){return this._length}set length(L){if(L>this._length)for(let V=this._length;V<L;V++)this._array[V]=void 0;this._length=L}get(L){return this._array[this._getCyclicIndex(L)]}set(L,V){this._array[this._getCyclicIndex(L)]=V}push(L){this._array[this._getCyclicIndex(this._length)]=L,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(L,V,...F){if(V){for(let T=L;T<this._length-V;T++)this._array[this._getCyclicIndex(T)]=this._array[this._getCyclicIndex(T+V)];this._length-=V,this.onDeleteEmitter.fire({index:L,amount:V})}for(let T=this._length-1;T>=L;T--)this._array[this._getCyclicIndex(T+F.length)]=this._array[this._getCyclicIndex(T)];for(let T=0;T<F.length;T++)this._array[this._getCyclicIndex(L+T)]=F[T];if(F.length&&this.onInsertEmitter.fire({index:L,amount:F.length}),this._length+F.length>this._maxLength){const T=this._length+F.length-this._maxLength;this._startIndex+=T,this._length=this._maxLength,this.onTrimEmitter.fire(T)}else this._length+=F.length}trimStart(L){L>this._length&&(L=this._length),this._startIndex+=L,this._length-=L,this.onTrimEmitter.fire(L)}shiftElements(L,V,F){if(!(V<=0)){if(L<0||L>=this._length)throw new Error("start argument out of range");if(L+F<0)throw new Error("Cannot shift elements in list beyond index 0");if(F>0){for(let y=V-1;y>=0;y--)this.set(L+y+F,this.get(L+y));const T=L+V+F-this._length;if(T>0)for(this._length+=T;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let T=0;T<V;T++)this.set(L+T+F,this.get(L+T))}}_getCyclicIndex(L){return(this._startIndex+L)%this._maxLength}}},1439:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.clone=void 0,f.clone=function _(P,x=5){if("object"!=typeof P)return P;const a=Array.isArray(P)?[]:{};for(const R in P)a[R]=x<=1?P[R]:P[R]&&_(P[R],x-1);return a}},8055:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.contrastRatio=f.toPaddedHex=f.rgba=f.rgb=f.css=f.color=f.channels=f.NULL_COLOR=void 0;const P=_(6114);let x=0,a=0,R=0,L=0;var V,F,T,y,D,N;function k(N){const ce=N.toString(16);return ce.length<2?"0"+ce:ce}function B(N,ce){return N<ce?(ce+.05)/(N+.05):(N+.05)/(ce+.05)}f.NULL_COLOR={css:"#00000000",rgba:0},(N=V||(f.channels=V={})).toCss=function(ce,$,z,S){return void 0!==S?`#${k(ce)}${k($)}${k(z)}${k(S)}`:`#${k(ce)}${k($)}${k(z)}`},N.toRgba=function(ce,$,z,S=255){return(ce<<24|$<<16|z<<8|S)>>>0},function(N){function ce($,z){return L=Math.round(255*z),[x,a,R]=D.toChannels($.rgba),{css:V.toCss(x,a,R,L),rgba:V.toRgba(x,a,R,L)}}N.blend=function($,z){if(L=(255&z.rgba)/255,1===L)return{css:z.css,rgba:z.rgba};const O=z.rgba>>16&255,K=z.rgba>>8&255,ue=$.rgba>>24&255,q=$.rgba>>16&255,G=$.rgba>>8&255;return x=ue+Math.round(((z.rgba>>24&255)-ue)*L),a=q+Math.round((O-q)*L),R=G+Math.round((K-G)*L),{css:V.toCss(x,a,R),rgba:V.toRgba(x,a,R)}},N.isOpaque=function($){return 255==(255&$.rgba)},N.ensureContrastRatio=function($,z,S){const O=D.ensureContrastRatio($.rgba,z.rgba,S);if(O)return D.toColor(O>>24&255,O>>16&255,O>>8&255)},N.opaque=function($){const z=(255|$.rgba)>>>0;return[x,a,R]=D.toChannels(z),{css:V.toCss(x,a,R),rgba:z}},N.opacity=ce,N.multiplyOpacity=function($,z){return L=255&$.rgba,ce($,L*z/255)},N.toColorRGB=function($){return[$.rgba>>24&255,$.rgba>>16&255,$.rgba>>8&255]}}(F||(f.color=F={})),function(N){let ce,$;if(!P.isNode){const z=document.createElement("canvas");z.width=1,z.height=1;const S=z.getContext("2d",{willReadFrequently:!0});S&&(ce=S,ce.globalCompositeOperation="copy",$=ce.createLinearGradient(0,0,1,1))}N.toColor=function(z){if(z.match(/#[\da-f]{3,8}/i))switch(z.length){case 4:return x=parseInt(z.slice(1,2).repeat(2),16),a=parseInt(z.slice(2,3).repeat(2),16),R=parseInt(z.slice(3,4).repeat(2),16),D.toColor(x,a,R);case 5:return x=parseInt(z.slice(1,2).repeat(2),16),a=parseInt(z.slice(2,3).repeat(2),16),R=parseInt(z.slice(3,4).repeat(2),16),L=parseInt(z.slice(4,5).repeat(2),16),D.toColor(x,a,R,L);case 7:return{css:z,rgba:(parseInt(z.slice(1),16)<<8|255)>>>0};case 9:return{css:z,rgba:parseInt(z.slice(1),16)>>>0}}const S=z.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(S)return x=parseInt(S[1]),a=parseInt(S[2]),R=parseInt(S[3]),L=Math.round(255*(void 0===S[5]?1:parseFloat(S[5]))),D.toColor(x,a,R,L);if(!ce||!$)throw new Error("css.toColor: Unsupported css format");if(ce.fillStyle=$,ce.fillStyle=z,"string"!=typeof ce.fillStyle)throw new Error("css.toColor: Unsupported css format");if(ce.fillRect(0,0,1,1),[x,a,R,L]=ce.getImageData(0,0,1,1).data,255!==L)throw new Error("css.toColor: Unsupported css format");return{rgba:V.toRgba(x,a,R,L),css:z}}}(T||(f.css=T={})),function(N){function ce($,z,S){const O=$/255,K=z/255,ue=S/255;return.2126*(O<=.03928?O/12.92:Math.pow((O+.055)/1.055,2.4))+.7152*(K<=.03928?K/12.92:Math.pow((K+.055)/1.055,2.4))+.0722*(ue<=.03928?ue/12.92:Math.pow((ue+.055)/1.055,2.4))}N.relativeLuminance=function($){return ce($>>16&255,$>>8&255,255&$)},N.relativeLuminance2=ce}(y||(f.rgb=y={})),function(N){function ce(z,S,O){const K=z>>24&255,ue=z>>16&255,q=z>>8&255;let G=S>>24&255,j=S>>16&255,fe=S>>8&255,ne=B(y.relativeLuminance2(G,j,fe),y.relativeLuminance2(K,ue,q));for(;ne<O&&(G>0||j>0||fe>0);)G-=Math.max(0,Math.ceil(.1*G)),j-=Math.max(0,Math.ceil(.1*j)),fe-=Math.max(0,Math.ceil(.1*fe)),ne=B(y.relativeLuminance2(G,j,fe),y.relativeLuminance2(K,ue,q));return(G<<24|j<<16|fe<<8|255)>>>0}function $(z,S,O){const K=z>>24&255,ue=z>>16&255,q=z>>8&255;let G=S>>24&255,j=S>>16&255,fe=S>>8&255,ne=B(y.relativeLuminance2(G,j,fe),y.relativeLuminance2(K,ue,q));for(;ne<O&&(G<255||j<255||fe<255);)G=Math.min(255,G+Math.ceil(.1*(255-G))),j=Math.min(255,j+Math.ceil(.1*(255-j))),fe=Math.min(255,fe+Math.ceil(.1*(255-fe))),ne=B(y.relativeLuminance2(G,j,fe),y.relativeLuminance2(K,ue,q));return(G<<24|j<<16|fe<<8|255)>>>0}N.ensureContrastRatio=function(z,S,O){const K=y.relativeLuminance(z>>8),ue=y.relativeLuminance(S>>8);if(B(K,ue)<O){if(ue<K){const j=ce(z,S,O),fe=B(K,y.relativeLuminance(j>>8));if(fe<O){const ne=$(z,S,O);return fe>B(K,y.relativeLuminance(ne>>8))?j:ne}return j}const q=$(z,S,O),G=B(K,y.relativeLuminance(q>>8));if(G<O){const j=ce(z,S,O);return G>B(K,y.relativeLuminance(j>>8))?q:j}return q}},N.reduceLuminance=ce,N.increaseLuminance=$,N.toChannels=function(z){return[z>>24&255,z>>16&255,z>>8&255,255&z]},N.toColor=function(z,S,O,K){return{css:V.toCss(z,S,O,K),rgba:V.toRgba(z,S,O,K)}}}(D||(f.rgba=D={})),f.toPaddedHex=k,f.contrastRatio=B},8969:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CoreTerminal=void 0;const P=_(844),x=_(2585),a=_(4348),R=_(7866),L=_(744),V=_(7302),F=_(6975),T=_(8460),y=_(1753),D=_(1480),k=_(7994),B=_(9282),N=_(5435),ce=_(5981),$=_(2660);let z=!1;f.CoreTerminal=class S extends P.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new T.EventEmitter),this._onScroll.event(K=>{var ue;null===(ue=this._onScrollApi)||void 0===ue||ue.fire(K.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(K){for(const ue in K)this.optionsService.options[ue]=K[ue]}constructor(K){super(),this._windowsWrappingHeuristics=this.register(new P.MutableDisposable),this._onBinary=this.register(new T.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new T.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new T.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new T.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new T.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new T.EventEmitter),this._instantiationService=new a.InstantiationService,this.optionsService=this.register(new V.OptionsService(K)),this._instantiationService.setService(x.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(L.BufferService)),this._instantiationService.setService(x.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(R.LogService)),this._instantiationService.setService(x.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(F.CoreService)),this._instantiationService.setService(x.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(y.CoreMouseService)),this._instantiationService.setService(x.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(D.UnicodeService)),this._instantiationService.setService(x.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(k.CharsetService),this._instantiationService.setService(x.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance($.OscLinkService),this._instantiationService.setService(x.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new N.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,T.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,T.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,T.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,T.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(ue=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(ue=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new ce.WriteBuffer((ue,q)=>this._inputHandler.parse(ue,q))),this.register((0,T.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(K,ue){this._writeBuffer.write(K,ue)}writeSync(K,ue){this._logService.logLevel<=x.LogLevelEnum.WARN&&!z&&(this._logService.warn("writeSync is unreliable and will be removed soon."),z=!0),this._writeBuffer.writeSync(K,ue)}resize(K,ue){isNaN(K)||isNaN(ue)||(K=Math.max(K,L.MINIMUM_COLS),ue=Math.max(ue,L.MINIMUM_ROWS),this._bufferService.resize(K,ue))}scroll(K,ue=!1){this._bufferService.scroll(K,ue)}scrollLines(K,ue,q){this._bufferService.scrollLines(K,ue,q)}scrollPages(K){this.scrollLines(K*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(K){const ue=K-this._bufferService.buffer.ydisp;0!==ue&&this.scrollLines(ue)}registerEscHandler(K,ue){return this._inputHandler.registerEscHandler(K,ue)}registerDcsHandler(K,ue){return this._inputHandler.registerDcsHandler(K,ue)}registerCsiHandler(K,ue){return this._inputHandler.registerCsiHandler(K,ue)}registerOscHandler(K,ue){return this._inputHandler.registerOscHandler(K,ue)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let K=!1;const ue=this.optionsService.rawOptions.windowsPty;ue&&void 0!==ue.buildNumber&&void 0!==ue.buildNumber?K="conpty"===ue.backend&&ue.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(K=!0),K?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const K=[];K.push(this.onLineFeed(B.updateWindowsModeWrappedState.bind(null,this._bufferService))),K.push(this.registerCsiHandler({final:"H"},()=>((0,B.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,P.toDisposable)(()=>{for(const ue of K)ue.dispose()})}}}},8460:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.forwardEvent=f.EventEmitter=void 0,f.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=_=>(this._listeners.push(_),{dispose:()=>{if(!this._disposed)for(let P=0;P<this._listeners.length;P++)if(this._listeners[P]===_)return void this._listeners.splice(P,1)}})),this._event}fire(_,P){const x=[];for(let a=0;a<this._listeners.length;a++)x.push(this._listeners[a]);for(let a=0;a<x.length;a++)x[a].call(void 0,_,P)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},f.forwardEvent=function(_,P){return _(x=>P.fire(x))}},5435:function(u,f,_){var P=this&&this.__decorate||function(ne,J,X,W){var Y,Te=arguments.length,Ae=Te<3?J:null===W?W=Object.getOwnPropertyDescriptor(J,X):W;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ae=Reflect.decorate(ne,J,X,W);else for(var Ke=ne.length-1;Ke>=0;Ke--)(Y=ne[Ke])&&(Ae=(Te<3?Y(Ae):Te>3?Y(J,X,Ae):Y(J,X))||Ae);return Te>3&&Ae&&Object.defineProperty(J,X,Ae),Ae},x=this&&this.__param||function(ne,J){return function(X,W){J(X,W,ne)}};Object.defineProperty(f,"__esModule",{value:!0}),f.InputHandler=f.WindowsOptionsReportType=void 0;const a=_(2584),R=_(7116),L=_(2015),V=_(844),F=_(482),T=_(8437),y=_(8460),D=_(643),k=_(511),B=_(3734),N=_(2585),ce=_(6242),$=_(6351),z=_(5941),S={"(":0,")":1,"*":2,"+":3,"-":1,".":2},O=131072;function K(ne,J){if(ne>24)return J.setWinLines||!1;switch(ne){case 1:return!!J.restoreWin;case 2:return!!J.minimizeWin;case 3:return!!J.setWinPosition;case 4:return!!J.setWinSizePixels;case 5:return!!J.raiseWin;case 6:return!!J.lowerWin;case 7:return!!J.refreshWin;case 8:return!!J.setWinSizeChars;case 9:return!!J.maximizeWin;case 10:return!!J.fullscreenWin;case 11:return!!J.getWinState;case 13:return!!J.getWinPosition;case 14:return!!J.getWinSizePixels;case 15:return!!J.getScreenSizePixels;case 16:return!!J.getCellSizePixels;case 18:return!!J.getWinSizeChars;case 19:return!!J.getScreenSizeChars;case 20:return!!J.getIconTitle;case 21:return!!J.getWinTitle;case 22:return!!J.pushTitle;case 23:return!!J.popTitle;case 24:return!!J.setWinLines}return!1}var ue,ne;(ne=ue||(f.WindowsOptionsReportType=ue={}))[ne.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",ne[ne.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS";let q=0;f.InputHandler=class G extends V.Disposable{getAttrData(){return this._curAttrData}constructor(J,X,W,Y,Te,Ae,Ke,be,Ge=new L.EscapeSequenceParser){super(),this._bufferService=J,this._charsetService=X,this._coreService=W,this._logService=Y,this._optionsService=Te,this._oscLinkService=Ae,this._coreMouseService=Ke,this._unicodeService=be,this._parser=Ge,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new F.StringToUtf32,this._utf8Decoder=new F.Utf8ToUtf32,this._workCell=new k.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=T.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=T.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new y.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new y.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new y.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new y.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new y.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new y.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new y.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new y.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new y.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new y.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new y.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new y.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new y.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new j(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(ee=>this._activeBuffer=ee.activeBuffer)),this._parser.setCsiHandlerFallback((ee,xe)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(ee),params:xe.toArray()})}),this._parser.setEscHandlerFallback(ee=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(ee)})}),this._parser.setExecuteHandlerFallback(ee=>{this._logService.debug("Unknown EXECUTE code: ",{code:ee})}),this._parser.setOscHandlerFallback((ee,xe,we)=>{this._logService.debug("Unknown OSC code: ",{identifier:ee,action:xe,data:we})}),this._parser.setDcsHandlerFallback((ee,xe,we)=>{"HOOK"===xe&&(we=we.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(ee),action:xe,payload:we})}),this._parser.setPrintHandler((ee,xe,we)=>this.print(ee,xe,we)),this._parser.registerCsiHandler({final:"@"},ee=>this.insertChars(ee)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},ee=>this.scrollLeft(ee)),this._parser.registerCsiHandler({final:"A"},ee=>this.cursorUp(ee)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},ee=>this.scrollRight(ee)),this._parser.registerCsiHandler({final:"B"},ee=>this.cursorDown(ee)),this._parser.registerCsiHandler({final:"C"},ee=>this.cursorForward(ee)),this._parser.registerCsiHandler({final:"D"},ee=>this.cursorBackward(ee)),this._parser.registerCsiHandler({final:"E"},ee=>this.cursorNextLine(ee)),this._parser.registerCsiHandler({final:"F"},ee=>this.cursorPrecedingLine(ee)),this._parser.registerCsiHandler({final:"G"},ee=>this.cursorCharAbsolute(ee)),this._parser.registerCsiHandler({final:"H"},ee=>this.cursorPosition(ee)),this._parser.registerCsiHandler({final:"I"},ee=>this.cursorForwardTab(ee)),this._parser.registerCsiHandler({final:"J"},ee=>this.eraseInDisplay(ee,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},ee=>this.eraseInDisplay(ee,!0)),this._parser.registerCsiHandler({final:"K"},ee=>this.eraseInLine(ee,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},ee=>this.eraseInLine(ee,!0)),this._parser.registerCsiHandler({final:"L"},ee=>this.insertLines(ee)),this._parser.registerCsiHandler({final:"M"},ee=>this.deleteLines(ee)),this._parser.registerCsiHandler({final:"P"},ee=>this.deleteChars(ee)),this._parser.registerCsiHandler({final:"S"},ee=>this.scrollUp(ee)),this._parser.registerCsiHandler({final:"T"},ee=>this.scrollDown(ee)),this._parser.registerCsiHandler({final:"X"},ee=>this.eraseChars(ee)),this._parser.registerCsiHandler({final:"Z"},ee=>this.cursorBackwardTab(ee)),this._parser.registerCsiHandler({final:"`"},ee=>this.charPosAbsolute(ee)),this._parser.registerCsiHandler({final:"a"},ee=>this.hPositionRelative(ee)),this._parser.registerCsiHandler({final:"b"},ee=>this.repeatPrecedingCharacter(ee)),this._parser.registerCsiHandler({final:"c"},ee=>this.sendDeviceAttributesPrimary(ee)),this._parser.registerCsiHandler({prefix:">",final:"c"},ee=>this.sendDeviceAttributesSecondary(ee)),this._parser.registerCsiHandler({final:"d"},ee=>this.linePosAbsolute(ee)),this._parser.registerCsiHandler({final:"e"},ee=>this.vPositionRelative(ee)),this._parser.registerCsiHandler({final:"f"},ee=>this.hVPosition(ee)),this._parser.registerCsiHandler({final:"g"},ee=>this.tabClear(ee)),this._parser.registerCsiHandler({final:"h"},ee=>this.setMode(ee)),this._parser.registerCsiHandler({prefix:"?",final:"h"},ee=>this.setModePrivate(ee)),this._parser.registerCsiHandler({final:"l"},ee=>this.resetMode(ee)),this._parser.registerCsiHandler({prefix:"?",final:"l"},ee=>this.resetModePrivate(ee)),this._parser.registerCsiHandler({final:"m"},ee=>this.charAttributes(ee)),this._parser.registerCsiHandler({final:"n"},ee=>this.deviceStatus(ee)),this._parser.registerCsiHandler({prefix:"?",final:"n"},ee=>this.deviceStatusPrivate(ee)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},ee=>this.softReset(ee)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},ee=>this.setCursorStyle(ee)),this._parser.registerCsiHandler({final:"r"},ee=>this.setScrollRegion(ee)),this._parser.registerCsiHandler({final:"s"},ee=>this.saveCursor(ee)),this._parser.registerCsiHandler({final:"t"},ee=>this.windowOptions(ee)),this._parser.registerCsiHandler({final:"u"},ee=>this.restoreCursor(ee)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},ee=>this.insertColumns(ee)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},ee=>this.deleteColumns(ee)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},ee=>this.selectProtected(ee)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},ee=>this.requestMode(ee,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},ee=>this.requestMode(ee,!1)),this._parser.setExecuteHandler(a.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(a.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(a.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(a.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(a.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(a.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(a.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(a.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(a.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(a.C1.IND,()=>this.index()),this._parser.setExecuteHandler(a.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(a.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new ce.OscHandler(ee=>(this.setTitle(ee),this.setIconName(ee),!0))),this._parser.registerOscHandler(1,new ce.OscHandler(ee=>this.setIconName(ee))),this._parser.registerOscHandler(2,new ce.OscHandler(ee=>this.setTitle(ee))),this._parser.registerOscHandler(4,new ce.OscHandler(ee=>this.setOrReportIndexedColor(ee))),this._parser.registerOscHandler(8,new ce.OscHandler(ee=>this.setHyperlink(ee))),this._parser.registerOscHandler(10,new ce.OscHandler(ee=>this.setOrReportFgColor(ee))),this._parser.registerOscHandler(11,new ce.OscHandler(ee=>this.setOrReportBgColor(ee))),this._parser.registerOscHandler(12,new ce.OscHandler(ee=>this.setOrReportCursorColor(ee))),this._parser.registerOscHandler(104,new ce.OscHandler(ee=>this.restoreIndexedColor(ee))),this._parser.registerOscHandler(110,new ce.OscHandler(ee=>this.restoreFgColor(ee))),this._parser.registerOscHandler(111,new ce.OscHandler(ee=>this.restoreBgColor(ee))),this._parser.registerOscHandler(112,new ce.OscHandler(ee=>this.restoreCursorColor(ee))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const ee in R.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:ee},()=>this.selectCharset("("+ee)),this._parser.registerEscHandler({intermediates:")",final:ee},()=>this.selectCharset(")"+ee)),this._parser.registerEscHandler({intermediates:"*",final:ee},()=>this.selectCharset("*"+ee)),this._parser.registerEscHandler({intermediates:"+",final:ee},()=>this.selectCharset("+"+ee)),this._parser.registerEscHandler({intermediates:"-",final:ee},()=>this.selectCharset("-"+ee)),this._parser.registerEscHandler({intermediates:".",final:ee},()=>this.selectCharset("."+ee)),this._parser.registerEscHandler({intermediates:"/",final:ee},()=>this.selectCharset("/"+ee));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(ee=>(this._logService.error("Parsing error: ",ee),ee)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new $.DcsHandler((ee,xe)=>this.requestStatusString(ee,xe)))}_preserveStack(J,X,W,Y){this._parseStack.paused=!0,this._parseStack.cursorStartX=J,this._parseStack.cursorStartY=X,this._parseStack.decodedLength=W,this._parseStack.position=Y}_logSlowResolvingAsync(J){this._logService.logLevel<=N.LogLevelEnum.WARN&&Promise.race([J,new Promise((X,W)=>setTimeout(()=>W("#SLOW_TIMEOUT"),5e3))]).catch(X=>{if("#SLOW_TIMEOUT"!==X)throw X;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(J,X){let W,Y=this._activeBuffer.x,Te=this._activeBuffer.y,Ae=0;const Ke=this._parseStack.paused;if(Ke){if(W=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,X))return this._logSlowResolvingAsync(W),W;Y=this._parseStack.cursorStartX,Te=this._parseStack.cursorStartY,this._parseStack.paused=!1,J.length>O&&(Ae=this._parseStack.position+O)}if(this._logService.logLevel<=N.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+("string"==typeof J?` "${J}"`:` "${Array.prototype.map.call(J,be=>String.fromCharCode(be)).join("")}"`),"string"==typeof J?J.split("").map(be=>be.charCodeAt(0)):J),this._parseBuffer.length<J.length&&this._parseBuffer.length<O&&(this._parseBuffer=new Uint32Array(Math.min(J.length,O))),Ke||this._dirtyRowTracker.clearRange(),J.length>O)for(let be=Ae;be<J.length;be+=O){const Ge=be+O<J.length?be+O:J.length,ee="string"==typeof J?this._stringDecoder.decode(J.substring(be,Ge),this._parseBuffer):this._utf8Decoder.decode(J.subarray(be,Ge),this._parseBuffer);if(W=this._parser.parse(this._parseBuffer,ee))return this._preserveStack(Y,Te,ee,be),this._logSlowResolvingAsync(W),W}else if(!Ke){const be="string"==typeof J?this._stringDecoder.decode(J,this._parseBuffer):this._utf8Decoder.decode(J,this._parseBuffer);if(W=this._parser.parse(this._parseBuffer,be))return this._preserveStack(Y,Te,be,0),this._logSlowResolvingAsync(W),W}this._activeBuffer.x===Y&&this._activeBuffer.y===Te||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(J,X,W){let Y,Te;const Ae=this._charsetService.charset,Ke=this._optionsService.rawOptions.screenReaderMode,be=this._bufferService.cols,Ge=this._coreService.decPrivateModes.wraparound,ee=this._coreService.modes.insertMode,xe=this._curAttrData;let we=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&W-X>0&&2===we.getWidth(this._activeBuffer.x-1)&&we.setCellFromCodePoint(this._activeBuffer.x-1,0,1,xe.fg,xe.bg,xe.extended);for(let Pe=X;Pe<W;++Pe){if(Y=J[Pe],Te=this._unicodeService.wcwidth(Y),Y<127&&Ae){const dt=Ae[String.fromCharCode(Y)];dt&&(Y=dt.charCodeAt(0))}if(Ke&&this._onA11yChar.fire((0,F.stringFromCodePoint)(Y)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),Te||!this._activeBuffer.x){if(this._activeBuffer.x+Te-1>=be)if(Ge){for(;this._activeBuffer.x<be;)we.setCellFromCodePoint(this._activeBuffer.x++,0,1,xe.fg,xe.bg,xe.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),we=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=be-1,2===Te)continue;if(ee&&(we.insertCells(this._activeBuffer.x,Te,this._activeBuffer.getNullCell(xe),xe),2===we.getWidth(be-1)&&we.setCellFromCodePoint(be-1,D.NULL_CELL_CODE,D.NULL_CELL_WIDTH,xe.fg,xe.bg,xe.extended)),we.setCellFromCodePoint(this._activeBuffer.x++,Y,Te,xe.fg,xe.bg,xe.extended),Te>0)for(;--Te;)we.setCellFromCodePoint(this._activeBuffer.x++,0,0,xe.fg,xe.bg,xe.extended)}else we.getWidth(this._activeBuffer.x-1)?we.addCodepointToCell(this._activeBuffer.x-1,Y):we.addCodepointToCell(this._activeBuffer.x-2,Y)}W-X>0&&(we.loadCell(this._activeBuffer.x-1,this._workCell),this._parser.precedingCodepoint=2===this._workCell.getWidth()||this._workCell.getCode()>65535?0:this._workCell.isCombined()?this._workCell.getChars().charCodeAt(0):this._workCell.content),this._activeBuffer.x<be&&W-X>0&&0===we.getWidth(this._activeBuffer.x)&&!we.hasContent(this._activeBuffer.x)&&we.setCellFromCodePoint(this._activeBuffer.x,0,1,xe.fg,xe.bg,xe.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(J,X){return this._parser.registerCsiHandler(J,"t"!==J.final||J.prefix||J.intermediates?X:W=>!K(W.params[0],this._optionsService.rawOptions.windowOptions)||X(W))}registerDcsHandler(J,X){return this._parser.registerDcsHandler(J,new $.DcsHandler(X))}registerEscHandler(J,X){return this._parser.registerEscHandler(J,X)}registerOscHandler(J,X){return this._parser.registerOscHandler(J,new ce.OscHandler(X))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var J;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(0===this._activeBuffer.x&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(null===(J=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))||void 0===J?void 0:J.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const X=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);X.hasWidth(this._activeBuffer.x)&&!X.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const J=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-J),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(J=this._bufferService.cols-1){this._activeBuffer.x=Math.min(J,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(J,X){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=J,this._activeBuffer.y=this._activeBuffer.scrollTop+X):(this._activeBuffer.x=J,this._activeBuffer.y=X),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(J,X){this._restrictCursor(),this._setCursor(this._activeBuffer.x+J,this._activeBuffer.y+X)}cursorUp(J){const X=this._activeBuffer.y-this._activeBuffer.scrollTop;return this._moveCursor(0,X>=0?-Math.min(X,J.params[0]||1):-(J.params[0]||1)),!0}cursorDown(J){const X=this._activeBuffer.scrollBottom-this._activeBuffer.y;return this._moveCursor(0,X>=0?Math.min(X,J.params[0]||1):J.params[0]||1),!0}cursorForward(J){return this._moveCursor(J.params[0]||1,0),!0}cursorBackward(J){return this._moveCursor(-(J.params[0]||1),0),!0}cursorNextLine(J){return this.cursorDown(J),this._activeBuffer.x=0,!0}cursorPrecedingLine(J){return this.cursorUp(J),this._activeBuffer.x=0,!0}cursorCharAbsolute(J){return this._setCursor((J.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(J){return this._setCursor(J.length>=2?(J.params[1]||1)-1:0,(J.params[0]||1)-1),!0}charPosAbsolute(J){return this._setCursor((J.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(J){return this._moveCursor(J.params[0]||1,0),!0}linePosAbsolute(J){return this._setCursor(this._activeBuffer.x,(J.params[0]||1)-1),!0}vPositionRelative(J){return this._moveCursor(0,J.params[0]||1),!0}hVPosition(J){return this.cursorPosition(J),!0}tabClear(J){const X=J.params[0];return 0===X?delete this._activeBuffer.tabs[this._activeBuffer.x]:3===X&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(J){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let X=J.params[0]||1;for(;X--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(J){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let X=J.params[0]||1;for(;X--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(J){const X=J.params[0];return 1===X&&(this._curAttrData.bg|=536870912),2!==X&&0!==X||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(J,X,W,Y=!1,Te=!1){const Ae=this._activeBuffer.lines.get(this._activeBuffer.ybase+J);Ae.replaceCells(X,W,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),Te),Y&&(Ae.isWrapped=!1)}_resetBufferLine(J,X=!1){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+J);W&&(W.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),X),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+J),W.isWrapped=!1)}eraseInDisplay(J,X=!1){let W;switch(this._restrictCursor(this._bufferService.cols),J.params[0]){case 0:for(W=this._activeBuffer.y,this._dirtyRowTracker.markDirty(W),this._eraseInBufferLine(W++,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,X);W<this._bufferService.rows;W++)this._resetBufferLine(W,X);this._dirtyRowTracker.markDirty(W);break;case 1:for(W=this._activeBuffer.y,this._dirtyRowTracker.markDirty(W),this._eraseInBufferLine(W,0,this._activeBuffer.x+1,!0,X),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(W+1).isWrapped=!1);W--;)this._resetBufferLine(W,X);this._dirtyRowTracker.markDirty(0);break;case 2:for(W=this._bufferService.rows,this._dirtyRowTracker.markDirty(W-1);W--;)this._resetBufferLine(W,X);this._dirtyRowTracker.markDirty(0);break;case 3:const Y=this._activeBuffer.lines.length-this._bufferService.rows;Y>0&&(this._activeBuffer.lines.trimStart(Y),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-Y,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-Y,0),this._onScroll.fire(0))}return!0}eraseInLine(J,X=!1){switch(this._restrictCursor(this._bufferService.cols),J.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,X);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,X);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,X)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(J){this._restrictCursor();let X=J.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const W=this._activeBuffer.ybase+this._activeBuffer.y,Te=this._bufferService.rows-1+this._activeBuffer.ybase-(this._bufferService.rows-1-this._activeBuffer.scrollBottom)+1;for(;X--;)this._activeBuffer.lines.splice(Te-1,1),this._activeBuffer.lines.splice(W,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(J){this._restrictCursor();let X=J.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const W=this._activeBuffer.ybase+this._activeBuffer.y;let Y;for(Y=this._bufferService.rows-1-this._activeBuffer.scrollBottom,Y=this._bufferService.rows-1+this._activeBuffer.ybase-Y;X--;)this._activeBuffer.lines.splice(W,1),this._activeBuffer.lines.splice(Y,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(J){this._restrictCursor();const X=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return X&&(X.insertCells(this._activeBuffer.x,J.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(J){this._restrictCursor();const X=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return X&&(X.deleteCells(this._activeBuffer.x,J.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(J){let X=J.params[0]||1;for(;X--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(J){let X=J.params[0]||1;for(;X--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(T.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(J){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const X=J.params[0]||1;for(let W=this._activeBuffer.scrollTop;W<=this._activeBuffer.scrollBottom;++W){const Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+W);Y.deleteCells(0,X,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),Y.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(J){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const X=J.params[0]||1;for(let W=this._activeBuffer.scrollTop;W<=this._activeBuffer.scrollBottom;++W){const Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+W);Y.insertCells(0,X,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),Y.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(J){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const X=J.params[0]||1;for(let W=this._activeBuffer.scrollTop;W<=this._activeBuffer.scrollBottom;++W){const Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+W);Y.insertCells(this._activeBuffer.x,X,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),Y.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(J){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const X=J.params[0]||1;for(let W=this._activeBuffer.scrollTop;W<=this._activeBuffer.scrollBottom;++W){const Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+W);Y.deleteCells(this._activeBuffer.x,X,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),Y.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(J){this._restrictCursor();const X=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return X&&(X.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(J.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(J){if(!this._parser.precedingCodepoint)return!0;const X=J.params[0]||1,W=new Uint32Array(X);for(let Y=0;Y<X;++Y)W[Y]=this._parser.precedingCodepoint;return this.print(W,0,W.length),!0}sendDeviceAttributesPrimary(J){return J.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(a.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(a.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(J){return J.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(a.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(a.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(J.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(a.C0.ESC+"[>83;40003;0c")),!0}_is(J){return 0===(this._optionsService.rawOptions.termName+"").indexOf(J)}setMode(J){for(let X=0;X<J.length;X++)switch(J.params[X]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(J){for(let X=0;X<J.length;X++)switch(J.params[X]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,R.DEFAULT_CHARSET),this._charsetService.setgCharset(1,R.DEFAULT_CHARSET),this._charsetService.setgCharset(2,R.DEFAULT_CHARSET),this._charsetService.setgCharset(3,R.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(J){for(let X=0;X<J.length;X++)switch(J.params[X]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(J){for(let X=0;X<J.length;X++)switch(J.params[X]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===J.params[X]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(J,X){const W=this._coreService.decPrivateModes,{activeProtocol:Y,activeEncoding:Te}=this._coreMouseService,Ae=this._coreService,{buffers:Ke,cols:be}=this._bufferService,{active:Ge,alt:ee}=Ke,xe=this._optionsService.rawOptions,we=it=>it?1:2,Pe=J.params[0];return dt=Pe,bt=X?2===Pe?4:4===Pe?we(Ae.modes.insertMode):12===Pe?3:20===Pe?we(xe.convertEol):0:1===Pe?we(W.applicationCursorKeys):3===Pe?xe.windowOptions.setWinLines?80===be?2:132===be?1:0:0:6===Pe?we(W.origin):7===Pe?we(W.wraparound):8===Pe?3:9===Pe?we("X10"===Y):12===Pe?we(xe.cursorBlink):25===Pe?we(!Ae.isCursorHidden):45===Pe?we(W.reverseWraparound):66===Pe?we(W.applicationKeypad):67===Pe?4:1e3===Pe?we("VT200"===Y):1002===Pe?we("DRAG"===Y):1003===Pe?we("ANY"===Y):1004===Pe?we(W.sendFocus):1005===Pe?4:1006===Pe?we("SGR"===Te):1015===Pe?4:1016===Pe?we("SGR_PIXELS"===Te):1048===Pe?1:47===Pe||1047===Pe||1049===Pe?we(Ge===ee):2004===Pe?we(W.bracketedPasteMode):0,Ae.triggerDataEvent(`${a.C0.ESC}[${X?"":"?"}${dt};${bt}$y`),!0;var dt,bt}_updateAttrColor(J,X,W,Y,Te){return 2===X?(J|=50331648,J&=-16777216,J|=B.AttributeData.fromColorRGB([W,Y,Te])):5===X&&(J&=-50331904,J|=33554432|255&W),J}_extractColor(J,X,W){const Y=[0,0,-1,0,0,0];let Te=0,Ae=0;do{if(Y[Ae+Te]=J.params[X+Ae],J.hasSubParams(X+Ae)){const Ke=J.getSubParams(X+Ae);let be=0;do{5===Y[1]&&(Te=1),Y[Ae+be+1+Te]=Ke[be]}while(++be<Ke.length&&be+Ae+1+Te<Y.length);break}if(5===Y[1]&&Ae+Te>=2||2===Y[1]&&Ae+Te>=5)break;Y[1]&&(Te=1)}while(++Ae+X<J.length&&Ae+Te<Y.length);for(let Ke=2;Ke<Y.length;++Ke)-1===Y[Ke]&&(Y[Ke]=0);switch(Y[0]){case 38:W.fg=this._updateAttrColor(W.fg,Y[1],Y[3],Y[4],Y[5]);break;case 48:W.bg=this._updateAttrColor(W.bg,Y[1],Y[3],Y[4],Y[5]);break;case 58:W.extended=W.extended.clone(),W.extended.underlineColor=this._updateAttrColor(W.extended.underlineColor,Y[1],Y[3],Y[4],Y[5])}return Ae}_processUnderline(J,X){X.extended=X.extended.clone(),(!~J||J>5)&&(J=1),X.extended.underlineStyle=J,X.fg|=268435456,0===J&&(X.fg&=-268435457),X.updateExtended()}_processSGR0(J){J.fg=T.DEFAULT_ATTR_DATA.fg,J.bg=T.DEFAULT_ATTR_DATA.bg,J.extended=J.extended.clone(),J.extended.underlineStyle=0,J.extended.underlineColor&=-67108864,J.updateExtended()}charAttributes(J){if(1===J.length&&0===J.params[0])return this._processSGR0(this._curAttrData),!0;const X=J.length;let W;const Y=this._curAttrData;for(let Te=0;Te<X;Te++)W=J.params[Te],W>=30&&W<=37?(Y.fg&=-50331904,Y.fg|=16777216|W-30):W>=40&&W<=47?(Y.bg&=-50331904,Y.bg|=16777216|W-40):W>=90&&W<=97?(Y.fg&=-50331904,Y.fg|=16777224|W-90):W>=100&&W<=107?(Y.bg&=-50331904,Y.bg|=16777224|W-100):0===W?this._processSGR0(Y):1===W?Y.fg|=134217728:3===W?Y.bg|=67108864:4===W?(Y.fg|=268435456,this._processUnderline(J.hasSubParams(Te)?J.getSubParams(Te)[0]:1,Y)):5===W?Y.fg|=536870912:7===W?Y.fg|=67108864:8===W?Y.fg|=1073741824:9===W?Y.fg|=2147483648:2===W?Y.bg|=134217728:21===W?this._processUnderline(2,Y):22===W?(Y.fg&=-134217729,Y.bg&=-134217729):23===W?Y.bg&=-67108865:24===W?(Y.fg&=-268435457,this._processUnderline(0,Y)):25===W?Y.fg&=-536870913:27===W?Y.fg&=-67108865:28===W?Y.fg&=-1073741825:29===W?Y.fg&=2147483647:39===W?(Y.fg&=-67108864,Y.fg|=16777215&T.DEFAULT_ATTR_DATA.fg):49===W?(Y.bg&=-67108864,Y.bg|=16777215&T.DEFAULT_ATTR_DATA.bg):38===W||48===W||58===W?Te+=this._extractColor(J,Te,Y):53===W?Y.bg|=1073741824:55===W?Y.bg&=-1073741825:59===W?(Y.extended=Y.extended.clone(),Y.extended.underlineColor=-1,Y.updateExtended()):100===W?(Y.fg&=-67108864,Y.fg|=16777215&T.DEFAULT_ATTR_DATA.fg,Y.bg&=-67108864,Y.bg|=16777215&T.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",W);return!0}deviceStatus(J){switch(J.params[0]){case 5:this._coreService.triggerDataEvent(`${a.C0.ESC}[0n`);break;case 6:this._coreService.triggerDataEvent(`${a.C0.ESC}[${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`)}return!0}deviceStatusPrivate(J){return 6===J.params[0]&&this._coreService.triggerDataEvent(`${a.C0.ESC}[?${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`),!0}softReset(J){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=T.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(J){const X=J.params[0]||1;switch(X){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}return this._optionsService.options.cursorBlink=X%2==1,!0}setScrollRegion(J){const X=J.params[0]||1;let W;return(J.length<2||(W=J.params[1])>this._bufferService.rows||0===W)&&(W=this._bufferService.rows),W>X&&(this._activeBuffer.scrollTop=X-1,this._activeBuffer.scrollBottom=W-1,this._setCursor(0,0)),!0}windowOptions(J){if(!K(J.params[0],this._optionsService.rawOptions.windowOptions))return!0;const X=J.length>1?J.params[1]:0;switch(J.params[0]){case 14:2!==X&&this._onRequestWindowsOptionsReport.fire(ue.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(ue.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${a.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:0!==X&&2!==X||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==X&&1!==X||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==X&&2!==X||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==X&&1!==X||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(J){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(J){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(J){return this._windowTitle=J,this._onTitleChange.fire(J),!0}setIconName(J){return this._iconName=J,!0}setOrReportIndexedColor(J){const X=[],W=J.split(";");for(;W.length>1;){const Y=W.shift(),Te=W.shift();if(/^\d+$/.exec(Y)){const Ae=parseInt(Y);if(fe(Ae))if("?"===Te)X.push({type:0,index:Ae});else{const Ke=(0,z.parseColor)(Te);Ke&&X.push({type:1,index:Ae,color:Ke})}}}return X.length&&this._onColor.fire(X),!0}setHyperlink(J){const X=J.split(";");return!(X.length<2)&&(X[1]?this._createHyperlink(X[0],X[1]):!X[0]&&this._finishHyperlink())}_createHyperlink(J,X){this._getCurrentLinkId()&&this._finishHyperlink();const W=J.split(":");let Y;const Te=W.findIndex(Ae=>Ae.startsWith("id="));return-1!==Te&&(Y=W[Te].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:Y,uri:X}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(J,X){const W=J.split(";");for(let Y=0;Y<W.length&&!(X>=this._specialColors.length);++Y,++X)if("?"===W[Y])this._onColor.fire([{type:0,index:this._specialColors[X]}]);else{const Te=(0,z.parseColor)(W[Y]);Te&&this._onColor.fire([{type:1,index:this._specialColors[X],color:Te}])}return!0}setOrReportFgColor(J){return this._setOrReportSpecialColor(J,0)}setOrReportBgColor(J){return this._setOrReportSpecialColor(J,1)}setOrReportCursorColor(J){return this._setOrReportSpecialColor(J,2)}restoreIndexedColor(J){if(!J)return this._onColor.fire([{type:2}]),!0;const X=[],W=J.split(";");for(let Y=0;Y<W.length;++Y)if(/^\d+$/.exec(W[Y])){const Te=parseInt(W[Y]);fe(Te)&&X.push({type:2,index:Te})}return X.length&&this._onColor.fire(X),!0}restoreFgColor(J){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(J){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(J){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,R.DEFAULT_CHARSET),!0}selectCharset(J){return 2!==J.length?(this.selectDefaultCharset(),!0):("/"===J[0]||this._charsetService.setgCharset(S[J[0]],R.CHARSETS[J[1]]||R.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){return this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop?(this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)):(this._activeBuffer.y--,this._restrictCursor()),!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=T.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=T.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(J){return this._charsetService.setgLevel(J),!0}screenAlignmentPattern(){const J=new k.CellData;J.content=4194304|"E".charCodeAt(0),J.fg=this._curAttrData.fg,J.bg=this._curAttrData.bg,this._setCursor(0,0);for(let X=0;X<this._bufferService.rows;++X){const Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y+X);Y&&(Y.fill(J),Y.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(J,X){const W=this._bufferService.buffer,Y=this._optionsService.rawOptions;return(Te=>(this._coreService.triggerDataEvent(`${a.C0.ESC}${Te}${a.C0.ESC}\\`),!0))('"q'===J?`P1$r${this._curAttrData.isProtected()?1:0}"q`:'"p'===J?'P1$r61;1"p':"r"===J?`P1$r${W.scrollTop+1};${W.scrollBottom+1}r`:"m"===J?"P1$r0m":" q"===J?`P1$r${{block:2,underline:4,bar:6}[Y.cursorStyle]-(Y.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(J,X){this._dirtyRowTracker.markRangeDirty(J,X)}};let j=class{constructor(ne){this._bufferService=ne,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(ne){ne<this.start?this.start=ne:ne>this.end&&(this.end=ne)}markRangeDirty(ne,J){ne>J&&(q=ne,ne=J,J=q),ne<this.start&&(this.start=ne),J>this.end&&(this.end=J)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function fe(ne){return 0<=ne&&ne<256}j=P([x(0,N.IBufferService)],j)},844:(u,f)=>{function _(P){for(const x of P)x.dispose();P.length=0}Object.defineProperty(f,"__esModule",{value:!0}),f.getDisposeArrayDisposable=f.disposeArray=f.toDisposable=f.MutableDisposable=f.Disposable=void 0,f.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const P of this._disposables)P.dispose();this._disposables.length=0}register(P){return this._disposables.push(P),P}unregister(P){const x=this._disposables.indexOf(P);-1!==x&&this._disposables.splice(x,1)}},f.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(P){var x;this._isDisposed||P===this._value||(null===(x=this._value)||void 0===x||x.dispose(),this._value=P)}clear(){this.value=void 0}dispose(){var P;this._isDisposed=!0,null===(P=this._value)||void 0===P||P.dispose(),this._value=void 0}},f.toDisposable=function(P){return{dispose:P}},f.disposeArray=_,f.getDisposeArrayDisposable=function(P){return{dispose:()=>_(P)}}},1505:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.FourKeyMap=f.TwoKeyMap=void 0;class _{constructor(){this._data={}}set(x,a,R){this._data[x]||(this._data[x]={}),this._data[x][a]=R}get(x,a){return this._data[x]?this._data[x][a]:void 0}clear(){this._data={}}}f.TwoKeyMap=_,f.FourKeyMap=class{constructor(){this._data=new _}set(P,x,a,R,L){this._data.get(P,x)||this._data.set(P,x,new _),this._data.get(P,x).set(a,R,L)}get(P,x,a,R){var L;return null===(L=this._data.get(P,x))||void 0===L?void 0:L.get(a,R)}clear(){this._data.clear()}}},6114:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.isChromeOS=f.isLinux=f.isWindows=f.isIphone=f.isIpad=f.isMac=f.getSafariVersion=f.isSafari=f.isLegacyEdge=f.isFirefox=f.isNode=void 0,f.isNode="undefined"==typeof navigator;const _=f.isNode?"node":navigator.userAgent,P=f.isNode?"node":navigator.platform;f.isFirefox=_.includes("Firefox"),f.isLegacyEdge=_.includes("Edge"),f.isSafari=/^((?!chrome|android).)*safari/i.test(_),f.getSafariVersion=function(){if(!f.isSafari)return 0;const x=_.match(/Version\/(\d+)/);return null===x||x.length<2?0:parseInt(x[1])},f.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(P),f.isIpad="iPad"===P,f.isIphone="iPhone"===P,f.isWindows=["Windows","Win16","Win32","WinCE"].includes(P),f.isLinux=P.indexOf("Linux")>=0,f.isChromeOS=/\bCrOS\b/.test(_)},6106:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.SortedList=void 0;let _=0;f.SortedList=class{constructor(P){this._getKey=P,this._array=[]}clear(){this._array.length=0}insert(P){0!==this._array.length?(_=this._search(this._getKey(P)),this._array.splice(_,0,P)):this._array.push(P)}delete(P){if(0===this._array.length)return!1;const x=this._getKey(P);if(void 0===x||(_=this._search(x),-1===_)||this._getKey(this._array[_])!==x)return!1;do{if(this._array[_]===P)return this._array.splice(_,1),!0}while(++_<this._array.length&&this._getKey(this._array[_])===x);return!1}*getKeyIterator(P){if(0!==this._array.length&&(_=this._search(P),!(_<0||_>=this._array.length)&&this._getKey(this._array[_])===P))do{yield this._array[_]}while(++_<this._array.length&&this._getKey(this._array[_])===P)}forEachByKey(P,x){if(0!==this._array.length&&(_=this._search(P),!(_<0||_>=this._array.length)&&this._getKey(this._array[_])===P))do{x(this._array[_])}while(++_<this._array.length&&this._getKey(this._array[_])===P)}values(){return[...this._array].values()}_search(P){let x=0,a=this._array.length-1;for(;a>=x;){let R=x+a>>1;const L=this._getKey(this._array[R]);if(L>P)a=R-1;else{if(!(L<P)){for(;R>0&&this._getKey(this._array[R-1])===P;)R--;return R}x=R+1}}return x}}},7226:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DebouncedIdleTask=f.IdleTaskQueue=f.PriorityTaskQueue=void 0;const P=_(6114);class x{constructor(){this._tasks=[],this._i=0}enqueue(L){this._tasks.push(L),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(L){this._idleCallback=void 0;let V=0,F=0,T=L.timeRemaining(),y=0;for(;this._i<this._tasks.length;){if(V=Date.now(),this._tasks[this._i]()||this._i++,V=Math.max(1,Date.now()-V),F=Math.max(V,F),y=L.timeRemaining(),1.5*F>y)return T-V<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(T-V))}ms`),void this._start();T=y}this.clear()}}class a extends x{_requestCallback(L){return setTimeout(()=>L(this._createDeadline(16)))}_cancelCallback(L){clearTimeout(L)}_createDeadline(L){const V=Date.now()+L;return{timeRemaining:()=>Math.max(0,V-Date.now())}}}f.PriorityTaskQueue=a,f.IdleTaskQueue=!P.isNode&&"requestIdleCallback"in window?class extends x{_requestCallback(R){return requestIdleCallback(R)}_cancelCallback(R){cancelIdleCallback(R)}}:a,f.DebouncedIdleTask=class{constructor(){this._queue=new f.IdleTaskQueue}set(R){this._queue.clear(),this._queue.enqueue(R)}flush(){this._queue.flush()}}},9282:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.updateWindowsModeWrappedState=void 0;const P=_(643);f.updateWindowsModeWrappedState=function(x){const a=x.buffer.lines.get(x.buffer.ybase+x.buffer.y-1),R=null==a?void 0:a.get(x.cols-1),L=x.buffer.lines.get(x.buffer.ybase+x.buffer.y);L&&R&&(L.isWrapped=R[P.CHAR_DATA_CODE_INDEX]!==P.NULL_CELL_CODE&&R[P.CHAR_DATA_CODE_INDEX]!==P.WHITESPACE_CELL_CODE)}},3734:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ExtendedAttrs=f.AttributeData=void 0;class _{constructor(){this.fg=0,this.bg=0,this.extended=new P}static toColorRGB(a){return[a>>>16&255,a>>>8&255,255&a]}static fromColorRGB(a){return(255&a[0])<<16|(255&a[1])<<8|255&a[2]}clone(){const a=new _;return a.fg=this.fg,a.bg=this.bg,a.extended=this.extended.clone(),a}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&0!==this.extended.underlineStyle?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return 50331648==(50331648&this.fg)}isBgRGB(){return 50331648==(50331648&this.bg)}isFgPalette(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)}isBgPalette(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)}isFgDefault(){return 0==(50331648&this.fg)}isBgDefault(){return 0==(50331648&this.bg)}isAttributeDefault(){return 0===this.fg&&0===this.bg}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}f.AttributeData=_;class P{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(a){this._ext=a}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(a){this._ext&=-469762049,this._ext|=a<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(a){this._ext&=-67108864,this._ext|=67108863&a}get urlId(){return this._urlId}set urlId(a){this._urlId=a}constructor(a=0,R=0){this._ext=0,this._urlId=0,this._ext=a,this._urlId=R}clone(){return new P(this._ext,this._urlId)}isEmpty(){return 0===this.underlineStyle&&0===this._urlId}}f.ExtendedAttrs=P},9092:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Buffer=f.MAX_BUFFER_SIZE=void 0;const P=_(6349),x=_(7226),a=_(3734),R=_(8437),L=_(4634),V=_(511),F=_(643),T=_(4863),y=_(7116);f.MAX_BUFFER_SIZE=4294967295,f.Buffer=class{constructor(D,k,B){this._hasScrollback=D,this._optionsService=k,this._bufferService=B,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=R.DEFAULT_ATTR_DATA.clone(),this.savedCharset=y.DEFAULT_CHARSET,this.markers=[],this._nullCell=V.CellData.fromCharData([0,F.NULL_CELL_CHAR,F.NULL_CELL_WIDTH,F.NULL_CELL_CODE]),this._whitespaceCell=V.CellData.fromCharData([0,F.WHITESPACE_CELL_CHAR,F.WHITESPACE_CELL_WIDTH,F.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new x.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new P.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(D){return D?(this._nullCell.fg=D.fg,this._nullCell.bg=D.bg,this._nullCell.extended=D.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new a.ExtendedAttrs),this._nullCell}getWhitespaceCell(D){return D?(this._whitespaceCell.fg=D.fg,this._whitespaceCell.bg=D.bg,this._whitespaceCell.extended=D.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new a.ExtendedAttrs),this._whitespaceCell}getBlankLine(D,k){return new R.BufferLine(this._bufferService.cols,this.getNullCell(D),k)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const D=this.ybase+this.y-this.ydisp;return D>=0&&D<this._rows}_getCorrectBufferLength(D){if(!this._hasScrollback)return D;const k=D+this._optionsService.rawOptions.scrollback;return k>f.MAX_BUFFER_SIZE?f.MAX_BUFFER_SIZE:k}fillViewportRows(D){if(0===this.lines.length){void 0===D&&(D=R.DEFAULT_ATTR_DATA);let k=this._rows;for(;k--;)this.lines.push(this.getBlankLine(D))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new P.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(D,k){const B=this.getNullCell(R.DEFAULT_ATTR_DATA);let N=0;const ce=this._getCorrectBufferLength(k);if(ce>this.lines.maxLength&&(this.lines.maxLength=ce),this.lines.length>0){if(this._cols<D)for(let z=0;z<this.lines.length;z++)N+=+this.lines.get(z).resize(D,B);let $=0;if(this._rows<k)for(let z=this._rows;z<k;z++)this.lines.length<k+this.ybase&&(this._optionsService.rawOptions.windowsMode||void 0!==this._optionsService.rawOptions.windowsPty.backend||void 0!==this._optionsService.rawOptions.windowsPty.buildNumber?this.lines.push(new R.BufferLine(D,B)):this.ybase>0&&this.lines.length<=this.ybase+this.y+$+1?(this.ybase--,$++,this.ydisp>0&&this.ydisp--):this.lines.push(new R.BufferLine(D,B)));else for(let z=this._rows;z>k;z--)this.lines.length>k+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(ce<this.lines.maxLength){const z=this.lines.length-ce;z>0&&(this.lines.trimStart(z),this.ybase=Math.max(this.ybase-z,0),this.ydisp=Math.max(this.ydisp-z,0),this.savedY=Math.max(this.savedY-z,0)),this.lines.maxLength=ce}this.x=Math.min(this.x,D-1),this.y=Math.min(this.y,k-1),$&&(this.y+=$),this.savedX=Math.min(this.savedX,D-1),this.scrollTop=0}if(this.scrollBottom=k-1,this._isReflowEnabled&&(this._reflow(D,k),this._cols>D))for(let $=0;$<this.lines.length;$++)N+=+this.lines.get($).resize(D,B);this._cols=D,this._rows=k,this._memoryCleanupQueue.clear(),N>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let D=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,D=!1);let k=0;for(;this._memoryCleanupPosition<this.lines.length;)if(k+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),k>100)return!0;return D}get _isReflowEnabled(){const D=this._optionsService.rawOptions.windowsPty;return D&&D.buildNumber?this._hasScrollback&&"conpty"===D.backend&&D.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(D,k){this._cols!==D&&(D>this._cols?this._reflowLarger(D,k):this._reflowSmaller(D,k))}_reflowLarger(D,k){const B=(0,L.reflowLargerGetLinesToRemove)(this.lines,this._cols,D,this.ybase+this.y,this.getNullCell(R.DEFAULT_ATTR_DATA));if(B.length>0){const N=(0,L.reflowLargerCreateNewLayout)(this.lines,B);(0,L.reflowLargerApplyNewLayout)(this.lines,N.layout),this._reflowLargerAdjustViewport(D,k,N.countRemoved)}}_reflowLargerAdjustViewport(D,k,B){const N=this.getNullCell(R.DEFAULT_ATTR_DATA);let ce=B;for(;ce-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<k&&this.lines.push(new R.BufferLine(D,N))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-B,0)}_reflowSmaller(D,k){const B=this.getNullCell(R.DEFAULT_ATTR_DATA),N=[];let ce=0;for(let $=this.lines.length-1;$>=0;$--){let z=this.lines.get($);if(!z||!z.isWrapped&&z.getTrimmedLength()<=D)continue;const S=[z];for(;z.isWrapped&&$>0;)z=this.lines.get(--$),S.unshift(z);const O=this.ybase+this.y;if(O>=$&&O<$+S.length)continue;const K=S[S.length-1].getTrimmedLength(),ue=(0,L.reflowSmallerGetNewLineLengths)(S,this._cols,D),q=ue.length-S.length;let G;G=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+q):Math.max(0,this.lines.length-this.lines.maxLength+q);const j=[];for(let Y=0;Y<q;Y++){const Te=this.getBlankLine(R.DEFAULT_ATTR_DATA,!0);j.push(Te)}j.length>0&&(N.push({start:$+S.length+ce,newLines:j}),ce+=j.length),S.push(...j);let fe=ue.length-1,ne=ue[fe];0===ne&&(fe--,ne=ue[fe]);let J=S.length-q-1,X=K;for(;J>=0;){const Y=Math.min(X,ne);if(void 0===S[fe])break;if(S[fe].copyCellsFrom(S[J],X-Y,ne-Y,Y,!0),ne-=Y,0===ne&&(fe--,ne=ue[fe]),X-=Y,0===X){J--;const Te=Math.max(J,0);X=(0,L.getWrappedLineTrimmedLength)(S,Te,this._cols)}}for(let Y=0;Y<S.length;Y++)ue[Y]<D&&S[Y].setCell(ue[Y],B);let W=q-G;for(;W-- >0;)0===this.ybase?this.y<k-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+ce)-k&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+q,this.ybase+k-1)}if(N.length>0){const $=[],z=[];for(let fe=0;fe<this.lines.length;fe++)z.push(this.lines.get(fe));const S=this.lines.length;let O=S-1,K=0,ue=N[K];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+ce);let q=0;for(let fe=Math.min(this.lines.maxLength-1,S+ce-1);fe>=0;fe--)if(ue&&ue.start>O+q){for(let ne=ue.newLines.length-1;ne>=0;ne--)this.lines.set(fe--,ue.newLines[ne]);fe++,$.push({index:O+1,amount:ue.newLines.length}),q+=ue.newLines.length,ue=N[++K]}else this.lines.set(fe,z[O--]);let G=0;for(let fe=$.length-1;fe>=0;fe--)$[fe].index+=G,this.lines.onInsertEmitter.fire($[fe]),G+=$[fe].amount;const j=Math.max(0,S+ce-this.lines.maxLength);j>0&&this.lines.onTrimEmitter.fire(j)}}translateBufferLineToString(D,k,B=0,N){const ce=this.lines.get(D);return ce?ce.translateToString(k,B,N):""}getWrappedRangeForLine(D){let k=D,B=D;for(;k>0&&this.lines.get(k).isWrapped;)k--;for(;B+1<this.lines.length&&this.lines.get(B+1).isWrapped;)B++;return{first:k,last:B}}setupTabStops(D){for(null!=D?this.tabs[D]||(D=this.prevStop(D)):(this.tabs={},D=0);D<this._cols;D+=this._optionsService.rawOptions.tabStopWidth)this.tabs[D]=!0}prevStop(D){for(null==D&&(D=this.x);!this.tabs[--D]&&D>0;);return D>=this._cols?this._cols-1:D<0?0:D}nextStop(D){for(null==D&&(D=this.x);!this.tabs[++D]&&D<this._cols;);return D>=this._cols?this._cols-1:D<0?0:D}clearMarkers(D){this._isClearing=!0;for(let k=0;k<this.markers.length;k++)this.markers[k].line===D&&(this.markers[k].dispose(),this.markers.splice(k--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let D=0;D<this.markers.length;D++)this.markers[D].dispose(),this.markers.splice(D--,1);this._isClearing=!1}addMarker(D){const k=new T.Marker(D);return this.markers.push(k),k.register(this.lines.onTrim(B=>{k.line-=B,k.line<0&&k.dispose()})),k.register(this.lines.onInsert(B=>{k.line>=B.index&&(k.line+=B.amount)})),k.register(this.lines.onDelete(B=>{k.line>=B.index&&k.line<B.index+B.amount&&k.dispose(),k.line>B.index&&(k.line-=B.amount)})),k.register(k.onDispose(()=>this._removeMarker(k))),k}_removeMarker(D){this._isClearing||this.markers.splice(this.markers.indexOf(D),1)}}},8437:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferLine=f.DEFAULT_ATTR_DATA=void 0;const P=_(3734),x=_(511),a=_(643),R=_(482);f.DEFAULT_ATTR_DATA=Object.freeze(new P.AttributeData);let L=0;class V{constructor(T,y,D=!1){this.isWrapped=D,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*T);const k=y||x.CellData.fromCharData([0,a.NULL_CELL_CHAR,a.NULL_CELL_WIDTH,a.NULL_CELL_CODE]);for(let B=0;B<T;++B)this.setCell(B,k);this.length=T}get(T){const y=this._data[3*T+0],D=2097151&y;return[this._data[3*T+1],2097152&y?this._combined[T]:D?(0,R.stringFromCodePoint)(D):"",y>>22,2097152&y?this._combined[T].charCodeAt(this._combined[T].length-1):D]}set(T,y){this._data[3*T+1]=y[a.CHAR_DATA_ATTR_INDEX],y[a.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[T]=y[1],this._data[3*T+0]=2097152|T|y[a.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*T+0]=y[a.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|y[a.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(T){return this._data[3*T+0]>>22}hasWidth(T){return 12582912&this._data[3*T+0]}getFg(T){return this._data[3*T+1]}getBg(T){return this._data[3*T+2]}hasContent(T){return 4194303&this._data[3*T+0]}getCodePoint(T){const y=this._data[3*T+0];return 2097152&y?this._combined[T].charCodeAt(this._combined[T].length-1):2097151&y}isCombined(T){return 2097152&this._data[3*T+0]}getString(T){const y=this._data[3*T+0];return 2097152&y?this._combined[T]:2097151&y?(0,R.stringFromCodePoint)(2097151&y):""}isProtected(T){return 536870912&this._data[3*T+2]}loadCell(T,y){return L=3*T,y.content=this._data[L+0],y.fg=this._data[L+1],y.bg=this._data[L+2],2097152&y.content&&(y.combinedData=this._combined[T]),268435456&y.bg&&(y.extended=this._extendedAttrs[T]),y}setCell(T,y){2097152&y.content&&(this._combined[T]=y.combinedData),268435456&y.bg&&(this._extendedAttrs[T]=y.extended),this._data[3*T+0]=y.content,this._data[3*T+1]=y.fg,this._data[3*T+2]=y.bg}setCellFromCodePoint(T,y,D,k,B,N){268435456&B&&(this._extendedAttrs[T]=N),this._data[3*T+0]=y|D<<22,this._data[3*T+1]=k,this._data[3*T+2]=B}addCodepointToCell(T,y){let D=this._data[3*T+0];2097152&D?this._combined[T]+=(0,R.stringFromCodePoint)(y):(2097151&D?(this._combined[T]=(0,R.stringFromCodePoint)(2097151&D)+(0,R.stringFromCodePoint)(y),D&=-2097152,D|=2097152):D=4194304|y,this._data[3*T+0]=D)}insertCells(T,y,D,k){if((T%=this.length)&&2===this.getWidth(T-1)&&this.setCellFromCodePoint(T-1,0,1,(null==k?void 0:k.fg)||0,(null==k?void 0:k.bg)||0,(null==k?void 0:k.extended)||new P.ExtendedAttrs),y<this.length-T){const B=new x.CellData;for(let N=this.length-T-y-1;N>=0;--N)this.setCell(T+y+N,this.loadCell(T+N,B));for(let N=0;N<y;++N)this.setCell(T+N,D)}else for(let B=T;B<this.length;++B)this.setCell(B,D);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,(null==k?void 0:k.fg)||0,(null==k?void 0:k.bg)||0,(null==k?void 0:k.extended)||new P.ExtendedAttrs)}deleteCells(T,y,D,k){if(y<this.length-(T%=this.length)){const B=new x.CellData;for(let N=0;N<this.length-T-y;++N)this.setCell(T+N,this.loadCell(T+y+N,B));for(let N=this.length-y;N<this.length;++N)this.setCell(N,D)}else for(let B=T;B<this.length;++B)this.setCell(B,D);T&&2===this.getWidth(T-1)&&this.setCellFromCodePoint(T-1,0,1,(null==k?void 0:k.fg)||0,(null==k?void 0:k.bg)||0,(null==k?void 0:k.extended)||new P.ExtendedAttrs),0!==this.getWidth(T)||this.hasContent(T)||this.setCellFromCodePoint(T,0,1,(null==k?void 0:k.fg)||0,(null==k?void 0:k.bg)||0,(null==k?void 0:k.extended)||new P.ExtendedAttrs)}replaceCells(T,y,D,k,B=!1){if(B)for(T&&2===this.getWidth(T-1)&&!this.isProtected(T-1)&&this.setCellFromCodePoint(T-1,0,1,(null==k?void 0:k.fg)||0,(null==k?void 0:k.bg)||0,(null==k?void 0:k.extended)||new P.ExtendedAttrs),y<this.length&&2===this.getWidth(y-1)&&!this.isProtected(y)&&this.setCellFromCodePoint(y,0,1,(null==k?void 0:k.fg)||0,(null==k?void 0:k.bg)||0,(null==k?void 0:k.extended)||new P.ExtendedAttrs);T<y&&T<this.length;)this.isProtected(T)||this.setCell(T,D),T++;else for(T&&2===this.getWidth(T-1)&&this.setCellFromCodePoint(T-1,0,1,(null==k?void 0:k.fg)||0,(null==k?void 0:k.bg)||0,(null==k?void 0:k.extended)||new P.ExtendedAttrs),y<this.length&&2===this.getWidth(y-1)&&this.setCellFromCodePoint(y,0,1,(null==k?void 0:k.fg)||0,(null==k?void 0:k.bg)||0,(null==k?void 0:k.extended)||new P.ExtendedAttrs);T<y&&T<this.length;)this.setCell(T++,D)}resize(T,y){if(T===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const D=3*T;if(T>this.length){if(this._data.buffer.byteLength>=4*D)this._data=new Uint32Array(this._data.buffer,0,D);else{const k=new Uint32Array(D);k.set(this._data),this._data=k}for(let k=this.length;k<T;++k)this.setCell(k,y)}else{this._data=this._data.subarray(0,D);const k=Object.keys(this._combined);for(let N=0;N<k.length;N++){const ce=parseInt(k[N],10);ce>=T&&delete this._combined[ce]}const B=Object.keys(this._extendedAttrs);for(let N=0;N<B.length;N++){const ce=parseInt(B[N],10);ce>=T&&delete this._extendedAttrs[ce]}}return this.length=T,4*D*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const T=new Uint32Array(this._data.length);return T.set(this._data),this._data=T,1}return 0}fill(T,y=!1){if(y)for(let D=0;D<this.length;++D)this.isProtected(D)||this.setCell(D,T);else{this._combined={},this._extendedAttrs={};for(let D=0;D<this.length;++D)this.setCell(D,T)}}copyFrom(T){this.length!==T.length?this._data=new Uint32Array(T._data):this._data.set(T._data),this.length=T.length,this._combined={};for(const y in T._combined)this._combined[y]=T._combined[y];this._extendedAttrs={};for(const y in T._extendedAttrs)this._extendedAttrs[y]=T._extendedAttrs[y];this.isWrapped=T.isWrapped}clone(){const T=new V(0);T._data=new Uint32Array(this._data),T.length=this.length;for(const y in this._combined)T._combined[y]=this._combined[y];for(const y in this._extendedAttrs)T._extendedAttrs[y]=this._extendedAttrs[y];return T.isWrapped=this.isWrapped,T}getTrimmedLength(){for(let T=this.length-1;T>=0;--T)if(4194303&this._data[3*T+0])return T+(this._data[3*T+0]>>22);return 0}getNoBgTrimmedLength(){for(let T=this.length-1;T>=0;--T)if(4194303&this._data[3*T+0]||50331648&this._data[3*T+2])return T+(this._data[3*T+0]>>22);return 0}copyCellsFrom(T,y,D,k,B){const N=T._data;if(B)for(let $=k-1;$>=0;$--){for(let z=0;z<3;z++)this._data[3*(D+$)+z]=N[3*(y+$)+z];268435456&N[3*(y+$)+2]&&(this._extendedAttrs[D+$]=T._extendedAttrs[y+$])}else for(let $=0;$<k;$++){for(let z=0;z<3;z++)this._data[3*(D+$)+z]=N[3*(y+$)+z];268435456&N[3*(y+$)+2]&&(this._extendedAttrs[D+$]=T._extendedAttrs[y+$])}const ce=Object.keys(T._combined);for(let $=0;$<ce.length;$++){const z=parseInt(ce[$],10);z>=y&&(this._combined[z-y+D]=T._combined[z])}}translateToString(T=!1,y=0,D=this.length){T&&(D=Math.min(D,this.getTrimmedLength()));let k="";for(;y<D;){const B=this._data[3*y+0],N=2097151&B;k+=2097152&B?this._combined[y]:N?(0,R.stringFromCodePoint)(N):a.WHITESPACE_CELL_CHAR,y+=B>>22||1}return k}}f.BufferLine=V},4841:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.getRangeLength=void 0,f.getRangeLength=function(_,P){if(_.start.y>_.end.y)throw new Error(`Buffer range end (${_.end.x}, ${_.end.y}) cannot be before start (${_.start.x}, ${_.start.y})`);return P*(_.end.y-_.start.y)+(_.end.x-_.start.x+1)}},4634:(u,f)=>{function _(P,x,a){if(x===P.length-1)return P[x].getTrimmedLength();const R=!P[x].hasContent(a-1)&&1===P[x].getWidth(a-1),L=2===P[x+1].getWidth(0);return R&&L?a-1:a}Object.defineProperty(f,"__esModule",{value:!0}),f.getWrappedLineTrimmedLength=f.reflowSmallerGetNewLineLengths=f.reflowLargerApplyNewLayout=f.reflowLargerCreateNewLayout=f.reflowLargerGetLinesToRemove=void 0,f.reflowLargerGetLinesToRemove=function(P,x,a,R,L){const V=[];for(let F=0;F<P.length-1;F++){let T=F,y=P.get(++T);if(!y.isWrapped)continue;const D=[P.get(F)];for(;T<P.length&&y.isWrapped;)D.push(y),y=P.get(++T);if(R>=F&&R<T){F+=D.length-1;continue}let k=0,B=_(D,k,x),N=1,ce=0;for(;N<D.length;){const z=_(D,N,x),K=Math.min(z-ce,a-B);D[k].copyCellsFrom(D[N],ce,B,K,!1),B+=K,B===a&&(k++,B=0),ce+=K,ce===z&&(N++,ce=0),0===B&&0!==k&&2===D[k-1].getWidth(a-1)&&(D[k].copyCellsFrom(D[k-1],a-1,B++,1,!1),D[k-1].setCell(a-1,L))}D[k].replaceCells(B,a,L);let $=0;for(let z=D.length-1;z>0&&(z>k||0===D[z].getTrimmedLength());z--)$++;$>0&&(V.push(F+D.length-$),V.push($)),F+=D.length-1}return V},f.reflowLargerCreateNewLayout=function(P,x){const a=[];let R=0,L=x[R],V=0;for(let F=0;F<P.length;F++)if(L===F){const T=x[++R];P.onDeleteEmitter.fire({index:F-V,amount:T}),F+=T-1,V+=T,L=x[++R]}else a.push(F);return{layout:a,countRemoved:V}},f.reflowLargerApplyNewLayout=function(P,x){const a=[];for(let R=0;R<x.length;R++)a.push(P.get(x[R]));for(let R=0;R<a.length;R++)P.set(R,a[R]);P.length=x.length},f.reflowSmallerGetNewLineLengths=function(P,x,a){const R=[],L=P.map((y,D)=>_(P,D,x)).reduce((y,D)=>y+D);let V=0,F=0,T=0;for(;T<L;){if(L-T<a){R.push(L-T);break}V+=a;const y=_(P,F,x);V>y&&(V-=y,F++);const D=2===P[F].getWidth(V-1);D&&V--;const k=D?a-1:a;R.push(k),T+=k}return R},f.getWrappedLineTrimmedLength=_},5295:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferSet=void 0;const P=_(8460),x=_(844),a=_(9092);f.BufferSet=class R extends x.Disposable{constructor(V,F){super(),this._optionsService=V,this._bufferService=F,this._onBufferActivate=this.register(new P.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new a.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new a.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(V){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(V),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(V,F){this._normal.resize(V,F),this._alt.resize(V,F),this.setupTabStops(V)}setupTabStops(V){this._normal.setupTabStops(V),this._alt.setupTabStops(V)}}},511:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CellData=void 0;const P=_(482),x=_(643),a=_(3734);class R extends a.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new a.ExtendedAttrs,this.combinedData=""}static fromCharData(V){const F=new R;return F.setFromCharData(V),F}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,P.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(V){this.fg=V[x.CHAR_DATA_ATTR_INDEX],this.bg=0;let F=!1;if(V[x.CHAR_DATA_CHAR_INDEX].length>2)F=!0;else if(2===V[x.CHAR_DATA_CHAR_INDEX].length){const T=V[x.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=T&&T<=56319){const y=V[x.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=y&&y<=57343?this.content=1024*(T-55296)+y-56320+65536|V[x.CHAR_DATA_WIDTH_INDEX]<<22:F=!0}else F=!0}else this.content=V[x.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|V[x.CHAR_DATA_WIDTH_INDEX]<<22;F&&(this.combinedData=V[x.CHAR_DATA_CHAR_INDEX],this.content=2097152|V[x.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}f.CellData=R},643:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.WHITESPACE_CELL_CODE=f.WHITESPACE_CELL_WIDTH=f.WHITESPACE_CELL_CHAR=f.NULL_CELL_CODE=f.NULL_CELL_WIDTH=f.NULL_CELL_CHAR=f.CHAR_DATA_CODE_INDEX=f.CHAR_DATA_WIDTH_INDEX=f.CHAR_DATA_CHAR_INDEX=f.CHAR_DATA_ATTR_INDEX=f.DEFAULT_EXT=f.DEFAULT_ATTR=f.DEFAULT_COLOR=void 0,f.DEFAULT_COLOR=0,f.DEFAULT_ATTR=256|f.DEFAULT_COLOR<<9,f.DEFAULT_EXT=0,f.CHAR_DATA_ATTR_INDEX=0,f.CHAR_DATA_CHAR_INDEX=1,f.CHAR_DATA_WIDTH_INDEX=2,f.CHAR_DATA_CODE_INDEX=3,f.NULL_CELL_CHAR="",f.NULL_CELL_WIDTH=1,f.NULL_CELL_CODE=0,f.WHITESPACE_CELL_CHAR=" ",f.WHITESPACE_CELL_WIDTH=1,f.WHITESPACE_CELL_CODE=32},4863:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Marker=void 0;const P=_(8460),x=_(844);class a{get id(){return this._id}constructor(L){this.line=L,this.isDisposed=!1,this._disposables=[],this._id=a._nextId++,this._onDispose=this.register(new P.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,x.disposeArray)(this._disposables),this._disposables.length=0)}register(L){return this._disposables.push(L),L}}f.Marker=a,a._nextId=1},7116:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DEFAULT_CHARSET=f.CHARSETS=void 0,f.CHARSETS={},f.DEFAULT_CHARSET=f.CHARSETS.B,f.CHARSETS[0]={"`":"\u25c6",a:"\u2592",b:"\u2409",c:"\u240c",d:"\u240d",e:"\u240a",f:"\xb0",g:"\xb1",h:"\u2424",i:"\u240b",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\xa3","~":"\xb7"},f.CHARSETS.A={"#":"\xa3"},f.CHARSETS.B=void 0,f.CHARSETS[4]={"#":"\xa3","@":"\xbe","[":"ij","\\":"\xbd","]":"|","{":"\xa8","|":"f","}":"\xbc","~":"\xb4"},f.CHARSETS.C=f.CHARSETS[5]={"[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},f.CHARSETS.R={"#":"\xa3","@":"\xe0","[":"\xb0","\\":"\xe7","]":"\xa7","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xa8"},f.CHARSETS.Q={"@":"\xe0","[":"\xe2","\\":"\xe7","]":"\xea","^":"\xee","`":"\xf4","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xfb"},f.CHARSETS.K={"@":"\xa7","[":"\xc4","\\":"\xd6","]":"\xdc","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xdf"},f.CHARSETS.Y={"#":"\xa3","@":"\xa7","[":"\xb0","\\":"\xe7","]":"\xe9","`":"\xf9","{":"\xe0","|":"\xf2","}":"\xe8","~":"\xec"},f.CHARSETS.E=f.CHARSETS[6]={"@":"\xc4","[":"\xc6","\\":"\xd8","]":"\xc5","^":"\xdc","`":"\xe4","{":"\xe6","|":"\xf8","}":"\xe5","~":"\xfc"},f.CHARSETS.Z={"#":"\xa3","@":"\xa7","[":"\xa1","\\":"\xd1","]":"\xbf","{":"\xb0","|":"\xf1","}":"\xe7"},f.CHARSETS.H=f.CHARSETS[7]={"@":"\xc9","[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},f.CHARSETS["="]={"#":"\xf9","@":"\xe0","[":"\xe9","\\":"\xe7","]":"\xea","^":"\xee",_:"\xe8","`":"\xf4","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xfb"}},2584:(u,f)=>{var _,P,x,a;Object.defineProperty(f,"__esModule",{value:!0}),f.C1_ESCAPED=f.C1=f.C0=void 0,(a=_||(f.C0=_={})).NUL="\0",a.SOH="\x01",a.STX="\x02",a.ETX="\x03",a.EOT="\x04",a.ENQ="\x05",a.ACK="\x06",a.BEL="\x07",a.BS="\b",a.HT="\t",a.LF="\n",a.VT="\v",a.FF="\f",a.CR="\r",a.SO="\x0e",a.SI="\x0f",a.DLE="\x10",a.DC1="\x11",a.DC2="\x12",a.DC3="\x13",a.DC4="\x14",a.NAK="\x15",a.SYN="\x16",a.ETB="\x17",a.CAN="\x18",a.EM="\x19",a.SUB="\x1a",a.ESC="\x1b",a.FS="\x1c",a.GS="\x1d",a.RS="\x1e",a.US="\x1f",a.SP=" ",a.DEL="\x7f",function(a){a.PAD="\x80",a.HOP="\x81",a.BPH="\x82",a.NBH="\x83",a.IND="\x84",a.NEL="\x85",a.SSA="\x86",a.ESA="\x87",a.HTS="\x88",a.HTJ="\x89",a.VTS="\x8a",a.PLD="\x8b",a.PLU="\x8c",a.RI="\x8d",a.SS2="\x8e",a.SS3="\x8f",a.DCS="\x90",a.PU1="\x91",a.PU2="\x92",a.STS="\x93",a.CCH="\x94",a.MW="\x95",a.SPA="\x96",a.EPA="\x97",a.SOS="\x98",a.SGCI="\x99",a.SCI="\x9a",a.CSI="\x9b",a.ST="\x9c",a.OSC="\x9d",a.PM="\x9e",a.APC="\x9f"}(P||(f.C1=P={})),function(a){a.ST=`${_.ESC}\\`}(x||(f.C1_ESCAPED=x={}))},7399:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.evaluateKeyboardEvent=void 0;const P=_(2584),x={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};f.evaluateKeyboardEvent=function(a,R,L,V){const F={type:0,cancel:!1,key:void 0},T=(a.shiftKey?1:0)|(a.altKey?2:0)|(a.ctrlKey?4:0)|(a.metaKey?8:0);switch(a.keyCode){case 0:"UIKeyInputUpArrow"===a.key?F.key=R?P.C0.ESC+"OA":P.C0.ESC+"[A":"UIKeyInputLeftArrow"===a.key?F.key=R?P.C0.ESC+"OD":P.C0.ESC+"[D":"UIKeyInputRightArrow"===a.key?F.key=R?P.C0.ESC+"OC":P.C0.ESC+"[C":"UIKeyInputDownArrow"===a.key&&(F.key=R?P.C0.ESC+"OB":P.C0.ESC+"[B");break;case 8:if(a.altKey){F.key=P.C0.ESC+P.C0.DEL;break}F.key=P.C0.DEL;break;case 9:if(a.shiftKey){F.key=P.C0.ESC+"[Z";break}F.key=P.C0.HT,F.cancel=!0;break;case 13:F.key=a.altKey?P.C0.ESC+P.C0.CR:P.C0.CR,F.cancel=!0;break;case 27:F.key=P.C0.ESC,a.altKey&&(F.key=P.C0.ESC+P.C0.ESC),F.cancel=!0;break;case 37:if(a.metaKey)break;T?(F.key=P.C0.ESC+"[1;"+(T+1)+"D",F.key===P.C0.ESC+"[1;3D"&&(F.key=P.C0.ESC+(L?"b":"[1;5D"))):F.key=R?P.C0.ESC+"OD":P.C0.ESC+"[D";break;case 39:if(a.metaKey)break;T?(F.key=P.C0.ESC+"[1;"+(T+1)+"C",F.key===P.C0.ESC+"[1;3C"&&(F.key=P.C0.ESC+(L?"f":"[1;5C"))):F.key=R?P.C0.ESC+"OC":P.C0.ESC+"[C";break;case 38:if(a.metaKey)break;T?(F.key=P.C0.ESC+"[1;"+(T+1)+"A",L||F.key!==P.C0.ESC+"[1;3A"||(F.key=P.C0.ESC+"[1;5A")):F.key=R?P.C0.ESC+"OA":P.C0.ESC+"[A";break;case 40:if(a.metaKey)break;T?(F.key=P.C0.ESC+"[1;"+(T+1)+"B",L||F.key!==P.C0.ESC+"[1;3B"||(F.key=P.C0.ESC+"[1;5B")):F.key=R?P.C0.ESC+"OB":P.C0.ESC+"[B";break;case 45:a.shiftKey||a.ctrlKey||(F.key=P.C0.ESC+"[2~");break;case 46:F.key=T?P.C0.ESC+"[3;"+(T+1)+"~":P.C0.ESC+"[3~";break;case 36:F.key=T?P.C0.ESC+"[1;"+(T+1)+"H":R?P.C0.ESC+"OH":P.C0.ESC+"[H";break;case 35:F.key=T?P.C0.ESC+"[1;"+(T+1)+"F":R?P.C0.ESC+"OF":P.C0.ESC+"[F";break;case 33:a.shiftKey?F.type=2:F.key=a.ctrlKey?P.C0.ESC+"[5;"+(T+1)+"~":P.C0.ESC+"[5~";break;case 34:a.shiftKey?F.type=3:F.key=a.ctrlKey?P.C0.ESC+"[6;"+(T+1)+"~":P.C0.ESC+"[6~";break;case 112:F.key=T?P.C0.ESC+"[1;"+(T+1)+"P":P.C0.ESC+"OP";break;case 113:F.key=T?P.C0.ESC+"[1;"+(T+1)+"Q":P.C0.ESC+"OQ";break;case 114:F.key=T?P.C0.ESC+"[1;"+(T+1)+"R":P.C0.ESC+"OR";break;case 115:F.key=T?P.C0.ESC+"[1;"+(T+1)+"S":P.C0.ESC+"OS";break;case 116:F.key=T?P.C0.ESC+"[15;"+(T+1)+"~":P.C0.ESC+"[15~";break;case 117:F.key=T?P.C0.ESC+"[17;"+(T+1)+"~":P.C0.ESC+"[17~";break;case 118:F.key=T?P.C0.ESC+"[18;"+(T+1)+"~":P.C0.ESC+"[18~";break;case 119:F.key=T?P.C0.ESC+"[19;"+(T+1)+"~":P.C0.ESC+"[19~";break;case 120:F.key=T?P.C0.ESC+"[20;"+(T+1)+"~":P.C0.ESC+"[20~";break;case 121:F.key=T?P.C0.ESC+"[21;"+(T+1)+"~":P.C0.ESC+"[21~";break;case 122:F.key=T?P.C0.ESC+"[23;"+(T+1)+"~":P.C0.ESC+"[23~";break;case 123:F.key=T?P.C0.ESC+"[24;"+(T+1)+"~":P.C0.ESC+"[24~";break;default:if(!a.ctrlKey||a.shiftKey||a.altKey||a.metaKey)if(L&&!V||!a.altKey||a.metaKey)!L||a.altKey||a.ctrlKey||a.shiftKey||!a.metaKey?a.key&&!a.ctrlKey&&!a.altKey&&!a.metaKey&&a.keyCode>=48&&1===a.key.length?F.key=a.key:a.key&&a.ctrlKey&&("_"===a.key&&(F.key=P.C0.US),"@"===a.key&&(F.key=P.C0.NUL)):65===a.keyCode&&(F.type=1);else{const y=x[a.keyCode],D=null==y?void 0:y[a.shiftKey?1:0];if(D)F.key=P.C0.ESC+D;else if(a.keyCode>=65&&a.keyCode<=90){let B=String.fromCharCode(a.ctrlKey?a.keyCode-64:a.keyCode+32);a.shiftKey&&(B=B.toUpperCase()),F.key=P.C0.ESC+B}else if(32===a.keyCode)F.key=P.C0.ESC+(a.ctrlKey?P.C0.NUL:" ");else if("Dead"===a.key&&a.code.startsWith("Key")){let k=a.code.slice(3,4);a.shiftKey||(k=k.toLowerCase()),F.key=P.C0.ESC+k,F.cancel=!0}}else a.keyCode>=65&&a.keyCode<=90?F.key=String.fromCharCode(a.keyCode-64):32===a.keyCode?F.key=P.C0.NUL:a.keyCode>=51&&a.keyCode<=55?F.key=String.fromCharCode(a.keyCode-51+27):56===a.keyCode?F.key=P.C0.DEL:219===a.keyCode?F.key=P.C0.ESC:220===a.keyCode?F.key=P.C0.FS:221===a.keyCode&&(F.key=P.C0.GS)}return F}},482:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Utf8ToUtf32=f.StringToUtf32=f.utf32ToString=f.stringFromCodePoint=void 0,f.stringFromCodePoint=function(_){return _>65535?(_-=65536,String.fromCharCode(55296+(_>>10))+String.fromCharCode(_%1024+56320)):String.fromCharCode(_)},f.utf32ToString=function(_,P=0,x=_.length){let a="";for(let R=P;R<x;++R){let L=_[R];L>65535?(L-=65536,a+=String.fromCharCode(55296+(L>>10))+String.fromCharCode(L%1024+56320)):a+=String.fromCharCode(L)}return a},f.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(_,P){const x=_.length;if(!x)return 0;let a=0,R=0;if(this._interim){const L=_.charCodeAt(R++);56320<=L&&L<=57343?P[a++]=1024*(this._interim-55296)+L-56320+65536:(P[a++]=this._interim,P[a++]=L),this._interim=0}for(let L=R;L<x;++L){const V=_.charCodeAt(L);if(55296<=V&&V<=56319){if(++L>=x)return this._interim=V,a;const F=_.charCodeAt(L);56320<=F&&F<=57343?P[a++]=1024*(V-55296)+F-56320+65536:(P[a++]=V,P[a++]=F)}else 65279!==V&&(P[a++]=V)}return a}},f.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(_,P){const x=_.length;if(!x)return 0;let a,R,L,V,F=0,T=0,y=0;if(this.interim[0]){let B=!1,N=this.interim[0];N&=192==(224&N)?31:224==(240&N)?15:7;let ce,$=0;for(;(ce=63&this.interim[++$])&&$<4;)N<<=6,N|=ce;const z=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,S=z-$;for(;y<S;){if(y>=x)return 0;if(ce=_[y++],128!=(192&ce)){y--,B=!0;break}this.interim[$++]=ce,N<<=6,N|=63&ce}B||(2===z?N<128?y--:P[F++]=N:3===z?N<2048||N>=55296&&N<=57343||65279===N||(P[F++]=N):N<65536||N>1114111||(P[F++]=N)),this.interim.fill(0)}const D=x-4;let k=y;for(;k<x;){for(;!(!(k<D)||128&(a=_[k])||128&(R=_[k+1])||128&(L=_[k+2])||128&(V=_[k+3]));)P[F++]=a,P[F++]=R,P[F++]=L,P[F++]=V,k+=4;if(a=_[k++],a<128)P[F++]=a;else if(192==(224&a)){if(k>=x)return this.interim[0]=a,F;if(R=_[k++],128!=(192&R)){k--;continue}if(T=(31&a)<<6|63&R,T<128){k--;continue}P[F++]=T}else if(224==(240&a)){if(k>=x)return this.interim[0]=a,F;if(R=_[k++],128!=(192&R)){k--;continue}if(k>=x)return this.interim[0]=a,this.interim[1]=R,F;if(L=_[k++],128!=(192&L)){k--;continue}if(T=(15&a)<<12|(63&R)<<6|63&L,T<2048||T>=55296&&T<=57343||65279===T)continue;P[F++]=T}else if(240==(248&a)){if(k>=x)return this.interim[0]=a,F;if(R=_[k++],128!=(192&R)){k--;continue}if(k>=x)return this.interim[0]=a,this.interim[1]=R,F;if(L=_[k++],128!=(192&L)){k--;continue}if(k>=x)return this.interim[0]=a,this.interim[1]=R,this.interim[2]=L,F;if(V=_[k++],128!=(192&V)){k--;continue}if(T=(7&a)<<18|(63&R)<<12|(63&L)<<6|63&V,T<65536||T>1114111)continue;P[F++]=T}}return F}}},225:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.UnicodeV6=void 0;const _=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],P=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let x;f.UnicodeV6=class{constructor(){if(this.version="6",!x){x=new Uint8Array(65536),x.fill(1),x[0]=0,x.fill(0,1,32),x.fill(0,127,160),x.fill(2,4352,4448),x[9001]=2,x[9002]=2,x.fill(2,11904,42192),x[12351]=1,x.fill(2,44032,55204),x.fill(2,63744,64256),x.fill(2,65040,65050),x.fill(2,65072,65136),x.fill(2,65280,65377),x.fill(2,65504,65511);for(let a=0;a<_.length;++a)x.fill(0,_[a][0],_[a][1]+1)}}wcwidth(a){return a<32?0:a<127?1:a<65536?x[a]:function(R,L){let V,F=0,T=L.length-1;if(R<L[0][0]||R>L[T][1])return!1;for(;T>=F;)if(V=F+T>>1,R>L[V][1])F=V+1;else{if(!(R<L[V][0]))return!0;T=V-1}return!1}(a,P)?0:a>=131072&&a<=196605||a>=196608&&a<=262141?2:1}}},5981:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.WriteBuffer=void 0;const P=_(8460),x=_(844);f.WriteBuffer=class a extends x.Disposable{constructor(L){super(),this._action=L,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new P.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(L,V){if(void 0!==V&&this._syncCalls>V)return void(this._syncCalls=0);if(this._pendingData+=L.length,this._writeBuffer.push(L),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let F;for(this._isSyncWriting=!0;F=this._writeBuffer.shift();){this._action(F);const T=this._callbacks.shift();T&&T()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(L,V){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=L.length,this._writeBuffer.push(L),this._callbacks.push(V),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=L.length,this._writeBuffer.push(L),this._callbacks.push(V)}_innerWrite(L=0,V=!0){const F=L||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const T=this._writeBuffer[this._bufferOffset],y=this._action(T,V);if(y){const k=B=>Date.now()-F>=12?setTimeout(()=>this._innerWrite(0,B)):this._innerWrite(F,B);return void y.catch(B=>(queueMicrotask(()=>{throw B}),Promise.resolve(!1))).then(k)}const D=this._callbacks[this._bufferOffset];if(D&&D(),this._bufferOffset++,this._pendingData-=T.length,Date.now()-F>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}},5941:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.toRgbString=f.parseColor=void 0;const _=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,P=/^[\da-f]+$/;function x(a,R){const L=a.toString(16),V=L.length<2?"0"+L:L;switch(R){case 4:return L[0];case 8:return V;case 12:return(V+V).slice(0,3);default:return V+V}}f.parseColor=function(a){if(!a)return;let R=a.toLowerCase();if(0===R.indexOf("rgb:")){R=R.slice(4);const L=_.exec(R);if(L){const V=L[1]?15:L[4]?255:L[7]?4095:65535;return[Math.round(parseInt(L[1]||L[4]||L[7]||L[10],16)/V*255),Math.round(parseInt(L[2]||L[5]||L[8]||L[11],16)/V*255),Math.round(parseInt(L[3]||L[6]||L[9]||L[12],16)/V*255)]}}else if(0===R.indexOf("#")&&(R=R.slice(1),P.exec(R)&&[3,6,9,12].includes(R.length))){const L=R.length/3,V=[0,0,0];for(let F=0;F<3;++F){const T=parseInt(R.slice(L*F,L*F+L),16);V[F]=1===L?T<<4:2===L?T:3===L?T>>4:T>>8}return V}},f.toRgbString=function(a,R=16){const[L,V,F]=a;return`rgb:${x(L,R)}/${x(V,R)}/${x(F,R)}`}},5770:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PAYLOAD_LIMIT=void 0,f.PAYLOAD_LIMIT=1e7},6351:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DcsHandler=f.DcsParser=void 0;const P=_(482),x=_(8742),a=_(5770),R=[];f.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=R,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=R}registerHandler(V,F){void 0===this._handlers[V]&&(this._handlers[V]=[]);const T=this._handlers[V];return T.push(F),{dispose:()=>{const y=T.indexOf(F);-1!==y&&T.splice(y,1)}}}clearHandler(V){this._handlers[V]&&delete this._handlers[V]}setHandlerFallback(V){this._handlerFb=V}reset(){if(this._active.length)for(let V=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;V>=0;--V)this._active[V].unhook(!1);this._stack.paused=!1,this._active=R,this._ident=0}hook(V,F){if(this.reset(),this._ident=V,this._active=this._handlers[V]||R,this._active.length)for(let T=this._active.length-1;T>=0;T--)this._active[T].hook(F);else this._handlerFb(this._ident,"HOOK",F)}put(V,F,T){if(this._active.length)for(let y=this._active.length-1;y>=0;y--)this._active[y].put(V,F,T);else this._handlerFb(this._ident,"PUT",(0,P.utf32ToString)(V,F,T))}unhook(V,F=!0){if(this._active.length){let T=!1,y=this._active.length-1,D=!1;if(this._stack.paused&&(y=this._stack.loopPosition-1,T=F,D=this._stack.fallThrough,this._stack.paused=!1),!D&&!1===T){for(;y>=0&&(T=this._active[y].unhook(V),!0!==T);y--)if(T instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!1,T;y--}for(;y>=0;y--)if(T=this._active[y].unhook(!1),T instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!0,T}else this._handlerFb(this._ident,"UNHOOK",V);this._active=R,this._ident=0}};const L=new x.Params;L.addParam(0),f.DcsHandler=class{constructor(V){this._handler=V,this._data="",this._params=L,this._hitLimit=!1}hook(V){this._params=V.length>1||V.params[0]?V.clone():L,this._data="",this._hitLimit=!1}put(V,F,T){this._hitLimit||(this._data+=(0,P.utf32ToString)(V,F,T),this._data.length>a.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(V){let F=!1;if(this._hitLimit)F=!1;else if(V&&(F=this._handler(this._data,this._params),F instanceof Promise))return F.then(T=>(this._params=L,this._data="",this._hitLimit=!1,T));return this._params=L,this._data="",this._hitLimit=!1,F}}},2015:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.EscapeSequenceParser=f.VT500_TRANSITION_TABLE=f.TransitionTable=void 0;const P=_(844),x=_(8742),a=_(6242),R=_(6351);class L{constructor(y){this.table=new Uint8Array(y)}setDefault(y,D){this.table.fill(y<<4|D)}add(y,D,k,B){this.table[D<<8|y]=k<<4|B}addMany(y,D,k,B){for(let N=0;N<y.length;N++)this.table[D<<8|y[N]]=k<<4|B}}f.TransitionTable=L;const V=160;f.VT500_TRANSITION_TABLE=function(){const T=new L(4095),y=Array.apply(null,Array(256)).map(($,z)=>z),D=($,z)=>y.slice($,z),k=D(32,127),B=D(0,24);B.push(25),B.push.apply(B,D(28,32));const N=D(0,14);let ce;for(ce in T.setDefault(1,0),T.addMany(k,0,2,0),N)T.addMany([24,26,153,154],ce,3,0),T.addMany(D(128,144),ce,3,0),T.addMany(D(144,152),ce,3,0),T.add(156,ce,0,0),T.add(27,ce,11,1),T.add(157,ce,4,8),T.addMany([152,158,159],ce,0,7),T.add(155,ce,11,3),T.add(144,ce,11,9);return T.addMany(B,0,3,0),T.addMany(B,1,3,1),T.add(127,1,0,1),T.addMany(B,8,0,8),T.addMany(B,3,3,3),T.add(127,3,0,3),T.addMany(B,4,3,4),T.add(127,4,0,4),T.addMany(B,6,3,6),T.addMany(B,5,3,5),T.add(127,5,0,5),T.addMany(B,2,3,2),T.add(127,2,0,2),T.add(93,1,4,8),T.addMany(k,8,5,8),T.add(127,8,5,8),T.addMany([156,27,24,26,7],8,6,0),T.addMany(D(28,32),8,0,8),T.addMany([88,94,95],1,0,7),T.addMany(k,7,0,7),T.addMany(B,7,0,7),T.add(156,7,0,0),T.add(127,7,0,7),T.add(91,1,11,3),T.addMany(D(64,127),3,7,0),T.addMany(D(48,60),3,8,4),T.addMany([60,61,62,63],3,9,4),T.addMany(D(48,60),4,8,4),T.addMany(D(64,127),4,7,0),T.addMany([60,61,62,63],4,0,6),T.addMany(D(32,64),6,0,6),T.add(127,6,0,6),T.addMany(D(64,127),6,0,0),T.addMany(D(32,48),3,9,5),T.addMany(D(32,48),5,9,5),T.addMany(D(48,64),5,0,6),T.addMany(D(64,127),5,7,0),T.addMany(D(32,48),4,9,5),T.addMany(D(32,48),1,9,2),T.addMany(D(32,48),2,9,2),T.addMany(D(48,127),2,10,0),T.addMany(D(48,80),1,10,0),T.addMany(D(81,88),1,10,0),T.addMany([89,90,92],1,10,0),T.addMany(D(96,127),1,10,0),T.add(80,1,11,9),T.addMany(B,9,0,9),T.add(127,9,0,9),T.addMany(D(28,32),9,0,9),T.addMany(D(32,48),9,9,12),T.addMany(D(48,60),9,8,10),T.addMany([60,61,62,63],9,9,10),T.addMany(B,11,0,11),T.addMany(D(32,128),11,0,11),T.addMany(D(28,32),11,0,11),T.addMany(B,10,0,10),T.add(127,10,0,10),T.addMany(D(28,32),10,0,10),T.addMany(D(48,60),10,8,10),T.addMany([60,61,62,63],10,0,11),T.addMany(D(32,48),10,9,12),T.addMany(B,12,0,12),T.add(127,12,0,12),T.addMany(D(28,32),12,0,12),T.addMany(D(32,48),12,9,12),T.addMany(D(48,64),12,0,11),T.addMany(D(64,127),12,12,13),T.addMany(D(64,127),10,12,13),T.addMany(D(64,127),9,12,13),T.addMany(B,13,13,13),T.addMany(k,13,13,13),T.add(127,13,0,13),T.addMany([27,156,24,26],13,14,0),T.add(V,0,2,0),T.add(V,8,5,8),T.add(V,6,0,6),T.add(V,11,0,11),T.add(V,13,13,13),T}(),f.EscapeSequenceParser=class F extends P.Disposable{constructor(y=f.VT500_TRANSITION_TABLE){super(),this._transitions=y,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new x.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(D,k,B)=>{},this._executeHandlerFb=D=>{},this._csiHandlerFb=(D,k)=>{},this._escHandlerFb=D=>{},this._errorHandlerFb=D=>D,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,P.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new a.OscParser),this._dcsParser=this.register(new R.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(y,D=[64,126]){let k=0;if(y.prefix){if(y.prefix.length>1)throw new Error("only one byte as prefix supported");if(k=y.prefix.charCodeAt(0),k&&60>k||k>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(y.intermediates){if(y.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let N=0;N<y.intermediates.length;++N){const ce=y.intermediates.charCodeAt(N);if(32>ce||ce>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");k<<=8,k|=ce}}if(1!==y.final.length)throw new Error("final must be a single byte");const B=y.final.charCodeAt(0);if(D[0]>B||B>D[1])throw new Error(`final must be in range ${D[0]} .. ${D[1]}`);return k<<=8,k|=B,k}identToString(y){const D=[];for(;y;)D.push(String.fromCharCode(255&y)),y>>=8;return D.reverse().join("")}setPrintHandler(y){this._printHandler=y}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(y,D){const k=this._identifier(y,[48,126]);void 0===this._escHandlers[k]&&(this._escHandlers[k]=[]);const B=this._escHandlers[k];return B.push(D),{dispose:()=>{const N=B.indexOf(D);-1!==N&&B.splice(N,1)}}}clearEscHandler(y){this._escHandlers[this._identifier(y,[48,126])]&&delete this._escHandlers[this._identifier(y,[48,126])]}setEscHandlerFallback(y){this._escHandlerFb=y}setExecuteHandler(y,D){this._executeHandlers[y.charCodeAt(0)]=D}clearExecuteHandler(y){this._executeHandlers[y.charCodeAt(0)]&&delete this._executeHandlers[y.charCodeAt(0)]}setExecuteHandlerFallback(y){this._executeHandlerFb=y}registerCsiHandler(y,D){const k=this._identifier(y);void 0===this._csiHandlers[k]&&(this._csiHandlers[k]=[]);const B=this._csiHandlers[k];return B.push(D),{dispose:()=>{const N=B.indexOf(D);-1!==N&&B.splice(N,1)}}}clearCsiHandler(y){this._csiHandlers[this._identifier(y)]&&delete this._csiHandlers[this._identifier(y)]}setCsiHandlerFallback(y){this._csiHandlerFb=y}registerDcsHandler(y,D){return this._dcsParser.registerHandler(this._identifier(y),D)}clearDcsHandler(y){this._dcsParser.clearHandler(this._identifier(y))}setDcsHandlerFallback(y){this._dcsParser.setHandlerFallback(y)}registerOscHandler(y,D){return this._oscParser.registerHandler(y,D)}clearOscHandler(y){this._oscParser.clearHandler(y)}setOscHandlerFallback(y){this._oscParser.setHandlerFallback(y)}setErrorHandler(y){this._errorHandler=y}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,0!==this._parseStack.state&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(y,D,k,B,N){this._parseStack.state=y,this._parseStack.handlers=D,this._parseStack.handlerPos=k,this._parseStack.transition=B,this._parseStack.chunkPos=N}parse(y,D,k){let B,N=0,ce=0,$=0;if(this._parseStack.state)if(2===this._parseStack.state)this._parseStack.state=0,$=this._parseStack.chunkPos+1;else{if(void 0===k||1===this._parseStack.state)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const z=this._parseStack.handlers;let S=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(!1===k&&S>-1)for(;S>=0&&(B=z[S](this._params),!0!==B);S--)if(B instanceof Promise)return this._parseStack.handlerPos=S,B;this._parseStack.handlers=[];break;case 4:if(!1===k&&S>-1)for(;S>=0&&(B=z[S](),!0!==B);S--)if(B instanceof Promise)return this._parseStack.handlerPos=S,B;this._parseStack.handlers=[];break;case 6:if(N=y[this._parseStack.chunkPos],B=this._dcsParser.unhook(24!==N&&26!==N,k),B)return B;27===N&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(N=y[this._parseStack.chunkPos],B=this._oscParser.end(24!==N&&26!==N,k),B)return B;27===N&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,$=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let z=$;z<D;++z){switch(N=y[z],ce=this._transitions.table[this.currentState<<8|(N<160?N:V)],ce>>4){case 2:for(let q=z+1;;++q){if(q>=D||(N=y[q])<32||N>126&&N<V){this._printHandler(y,z,q),z=q-1;break}if(++q>=D||(N=y[q])<32||N>126&&N<V){this._printHandler(y,z,q),z=q-1;break}if(++q>=D||(N=y[q])<32||N>126&&N<V){this._printHandler(y,z,q),z=q-1;break}if(++q>=D||(N=y[q])<32||N>126&&N<V){this._printHandler(y,z,q),z=q-1;break}}break;case 3:this._executeHandlers[N]?this._executeHandlers[N]():this._executeHandlerFb(N),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:z,code:N,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const S=this._csiHandlers[this._collect<<8|N];let O=S?S.length-1:-1;for(;O>=0&&(B=S[O](this._params),!0!==B);O--)if(B instanceof Promise)return this._preserveStack(3,S,O,ce,z),B;O<0&&this._csiHandlerFb(this._collect<<8|N,this._params),this.precedingCodepoint=0;break;case 8:do{switch(N){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(N-48)}}while(++z<D&&(N=y[z])>47&&N<60);z--;break;case 9:this._collect<<=8,this._collect|=N;break;case 10:const K=this._escHandlers[this._collect<<8|N];let ue=K?K.length-1:-1;for(;ue>=0&&(B=K[ue](),!0!==B);ue--)if(B instanceof Promise)return this._preserveStack(4,K,ue,ce,z),B;ue<0&&this._escHandlerFb(this._collect<<8|N),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|N,this._params);break;case 13:for(let q=z+1;;++q)if(q>=D||24===(N=y[q])||26===N||27===N||N>127&&N<V){this._dcsParser.put(y,z,q),z=q-1;break}break;case 14:if(B=this._dcsParser.unhook(24!==N&&26!==N),B)return this._preserveStack(6,[],0,ce,z),B;27===N&&(ce|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let q=z+1;;q++)if(q>=D||(N=y[q])<32||N>127&&N<V){this._oscParser.put(y,z,q),z=q-1;break}break;case 6:if(B=this._oscParser.end(24!==N&&26!==N),B)return this._preserveStack(5,[],0,ce,z),B;27===N&&(ce|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&ce}}}},6242:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.OscHandler=f.OscParser=void 0;const P=_(5770),x=_(482),a=[];f.OscParser=class{constructor(){this._state=0,this._active=a,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(R,L){void 0===this._handlers[R]&&(this._handlers[R]=[]);const V=this._handlers[R];return V.push(L),{dispose:()=>{const F=V.indexOf(L);-1!==F&&V.splice(F,1)}}}clearHandler(R){this._handlers[R]&&delete this._handlers[R]}setHandlerFallback(R){this._handlerFb=R}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=a}reset(){if(2===this._state)for(let R=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;R>=0;--R)this._active[R].end(!1);this._stack.paused=!1,this._active=a,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||a,this._active.length)for(let R=this._active.length-1;R>=0;R--)this._active[R].start();else this._handlerFb(this._id,"START")}_put(R,L,V){if(this._active.length)for(let F=this._active.length-1;F>=0;F--)this._active[F].put(R,L,V);else this._handlerFb(this._id,"PUT",(0,x.utf32ToString)(R,L,V))}start(){this.reset(),this._state=1}put(R,L,V){if(3!==this._state){if(1===this._state)for(;L<V;){const F=R[L++];if(59===F){this._state=2,this._start();break}if(F<48||57<F)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+F-48}2===this._state&&V-L>0&&this._put(R,L,V)}}end(R,L=!0){if(0!==this._state){if(3!==this._state)if(1===this._state&&this._start(),this._active.length){let V=!1,F=this._active.length-1,T=!1;if(this._stack.paused&&(F=this._stack.loopPosition-1,V=L,T=this._stack.fallThrough,this._stack.paused=!1),!T&&!1===V){for(;F>=0&&(V=this._active[F].end(R),!0!==V);F--)if(V instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=F,this._stack.fallThrough=!1,V;F--}for(;F>=0;F--)if(V=this._active[F].end(!1),V instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=F,this._stack.fallThrough=!0,V}else this._handlerFb(this._id,"END",R);this._active=a,this._id=-1,this._state=0}}},f.OscHandler=class{constructor(R){this._handler=R,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(R,L,V){this._hitLimit||(this._data+=(0,x.utf32ToString)(R,L,V),this._data.length>P.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(R){let L=!1;if(this._hitLimit)L=!1;else if(R&&(L=this._handler(this._data),L instanceof Promise))return L.then(V=>(this._data="",this._hitLimit=!1,V));return this._data="",this._hitLimit=!1,L}}},8742:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Params=void 0;const _=2147483647;class P{static fromArray(a){const R=new P;if(!a.length)return R;for(let L=Array.isArray(a[0])?1:0;L<a.length;++L){const V=a[L];if(Array.isArray(V))for(let F=0;F<V.length;++F)R.addSubParam(V[F]);else R.addParam(V)}return R}constructor(a=32,R=32){if(this.maxLength=a,this.maxSubParamsLength=R,R>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(a),this.length=0,this._subParams=new Int32Array(R),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(a),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const a=new P(this.maxLength,this.maxSubParamsLength);return a.params.set(this.params),a.length=this.length,a._subParams.set(this._subParams),a._subParamsLength=this._subParamsLength,a._subParamsIdx.set(this._subParamsIdx),a._rejectDigits=this._rejectDigits,a._rejectSubDigits=this._rejectSubDigits,a._digitIsSub=this._digitIsSub,a}toArray(){const a=[];for(let R=0;R<this.length;++R){a.push(this.params[R]);const L=this._subParamsIdx[R]>>8,V=255&this._subParamsIdx[R];V-L>0&&a.push(Array.prototype.slice.call(this._subParams,L,V))}return a}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(a){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(a<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=a>_?_:a}}addSubParam(a){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(a<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=a>_?_:a,this._subParamsIdx[this.length-1]++}}hasSubParams(a){return(255&this._subParamsIdx[a])-(this._subParamsIdx[a]>>8)>0}getSubParams(a){const R=this._subParamsIdx[a]>>8,L=255&this._subParamsIdx[a];return L-R>0?this._subParams.subarray(R,L):null}getSubParamsAll(){const a={};for(let R=0;R<this.length;++R){const L=this._subParamsIdx[R]>>8,V=255&this._subParamsIdx[R];V-L>0&&(a[R]=this._subParams.slice(L,V))}return a}addDigit(a){let R;if(this._rejectDigits||!(R=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const L=this._digitIsSub?this._subParams:this.params,V=L[R-1];L[R-1]=~V?Math.min(10*V+a,_):a}}f.Params=P},5741:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.AddonManager=void 0,f.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let _=this._addons.length-1;_>=0;_--)this._addons[_].instance.dispose()}loadAddon(_,P){const x={instance:P,dispose:P.dispose,isDisposed:!1};this._addons.push(x),P.dispose=()=>this._wrappedAddonDispose(x),P.activate(_)}_wrappedAddonDispose(_){if(_.isDisposed)return;let P=-1;for(let x=0;x<this._addons.length;x++)if(this._addons[x]===_){P=x;break}if(-1===P)throw new Error("Could not dispose an addon that has not been loaded");_.isDisposed=!0,_.dispose.apply(_.instance),this._addons.splice(P,1)}}},8771:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferApiView=void 0;const P=_(3785),x=_(511);f.BufferApiView=class{constructor(a,R){this._buffer=a,this.type=R}init(a){return this._buffer=a,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(a){const R=this._buffer.lines.get(a);if(R)return new P.BufferLineApiView(R)}getNullCell(){return new x.CellData}}},3785:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferLineApiView=void 0;const P=_(511);f.BufferLineApiView=class{constructor(x){this._line=x}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(x,a){if(!(x<0||x>=this._line.length))return a?(this._line.loadCell(x,a),a):this._line.loadCell(x,new P.CellData)}translateToString(x,a,R){return this._line.translateToString(x,a,R)}}},8285:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferNamespaceApi=void 0;const P=_(8771),x=_(8460),a=_(844);f.BufferNamespaceApi=class R extends a.Disposable{constructor(V){super(),this._core=V,this._onBufferChange=this.register(new x.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new P.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new P.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}},7975:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ParserApi=void 0,f.ParserApi=class{constructor(_){this._core=_}registerCsiHandler(_,P){return this._core.registerCsiHandler(_,x=>P(x.toArray()))}addCsiHandler(_,P){return this.registerCsiHandler(_,P)}registerDcsHandler(_,P){return this._core.registerDcsHandler(_,(x,a)=>P(x,a.toArray()))}addDcsHandler(_,P){return this.registerDcsHandler(_,P)}registerEscHandler(_,P){return this._core.registerEscHandler(_,P)}addEscHandler(_,P){return this.registerEscHandler(_,P)}registerOscHandler(_,P){return this._core.registerOscHandler(_,P)}addOscHandler(_,P){return this.registerOscHandler(_,P)}}},7090:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.UnicodeApi=void 0,f.UnicodeApi=class{constructor(_){this._core=_}register(_){this._core.unicodeService.register(_)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(_){this._core.unicodeService.activeVersion=_}}},744:function(u,f,_){var P=this&&this.__decorate||function(T,y,D,k){var B,N=arguments.length,ce=N<3?y:null===k?k=Object.getOwnPropertyDescriptor(y,D):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ce=Reflect.decorate(T,y,D,k);else for(var $=T.length-1;$>=0;$--)(B=T[$])&&(ce=(N<3?B(ce):N>3?B(y,D,ce):B(y,D))||ce);return N>3&&ce&&Object.defineProperty(y,D,ce),ce},x=this&&this.__param||function(T,y){return function(D,k){y(D,k,T)}};Object.defineProperty(f,"__esModule",{value:!0}),f.BufferService=f.MINIMUM_ROWS=f.MINIMUM_COLS=void 0;const a=_(8460),R=_(844),L=_(5295),V=_(2585);f.MINIMUM_COLS=2,f.MINIMUM_ROWS=1;let F=f.BufferService=class extends R.Disposable{get buffer(){return this.buffers.active}constructor(T){super(),this.isUserScrolling=!1,this._onResize=this.register(new a.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new a.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(T.rawOptions.cols||0,f.MINIMUM_COLS),this.rows=Math.max(T.rawOptions.rows||0,f.MINIMUM_ROWS),this.buffers=this.register(new L.BufferSet(T,this))}resize(T,y){this.cols=T,this.rows=y,this.buffers.resize(T,y),this._onResize.fire({cols:T,rows:y})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(T,y=!1){const D=this.buffer;let k;k=this._cachedBlankLine,k&&k.length===this.cols&&k.getFg(0)===T.fg&&k.getBg(0)===T.bg||(k=D.getBlankLine(T,y),this._cachedBlankLine=k),k.isWrapped=y;const B=D.ybase+D.scrollTop,N=D.ybase+D.scrollBottom;if(0===D.scrollTop){const ce=D.lines.isFull;N===D.lines.length-1?ce?D.lines.recycle().copyFrom(k):D.lines.push(k.clone()):D.lines.splice(N+1,0,k.clone()),ce?this.isUserScrolling&&(D.ydisp=Math.max(D.ydisp-1,0)):(D.ybase++,this.isUserScrolling||D.ydisp++)}else D.lines.shiftElements(B+1,N-B+1-1,-1),D.lines.set(N,k.clone());this.isUserScrolling||(D.ydisp=D.ybase),this._onScroll.fire(D.ydisp)}scrollLines(T,y,D){const k=this.buffer;if(T<0){if(0===k.ydisp)return;this.isUserScrolling=!0}else T+k.ydisp>=k.ybase&&(this.isUserScrolling=!1);const B=k.ydisp;k.ydisp=Math.max(Math.min(k.ydisp+T,k.ybase),0),B!==k.ydisp&&(y||this._onScroll.fire(k.ydisp))}};f.BufferService=F=P([x(0,V.IOptionsService)],F)},7994:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CharsetService=void 0,f.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(_){this.glevel=_,this.charset=this._charsets[_]}setgCharset(_,P){this._charsets[_]=P,this.glevel===_&&(this.charset=P)}}},1753:function(u,f,_){var P=this&&this.__decorate||function(k,B,N,ce){var $,z=arguments.length,S=z<3?B:null===ce?ce=Object.getOwnPropertyDescriptor(B,N):ce;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)S=Reflect.decorate(k,B,N,ce);else for(var O=k.length-1;O>=0;O--)($=k[O])&&(S=(z<3?$(S):z>3?$(B,N,S):$(B,N))||S);return z>3&&S&&Object.defineProperty(B,N,S),S},x=this&&this.__param||function(k,B){return function(N,ce){B(N,ce,k)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CoreMouseService=void 0;const a=_(2585),R=_(8460),L=_(844),V={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:k=>4!==k.button&&1===k.action&&(k.ctrl=!1,k.alt=!1,k.shift=!1,!0)},VT200:{events:19,restrict:k=>32!==k.action},DRAG:{events:23,restrict:k=>32!==k.action||3!==k.button},ANY:{events:31,restrict:k=>!0}};function F(k,B){let N=(k.ctrl?16:0)|(k.shift?4:0)|(k.alt?8:0);return 4===k.button?(N|=64,N|=k.action):(N|=3&k.button,4&k.button&&(N|=64),8&k.button&&(N|=128),32===k.action?N|=32:0!==k.action||B||(N|=3)),N}const T=String.fromCharCode,y={DEFAULT:k=>{const B=[F(k,!1)+32,k.col+32,k.row+32];return B[0]>255||B[1]>255||B[2]>255?"":`\x1b[M${T(B[0])}${T(B[1])}${T(B[2])}`},SGR:k=>{const B=0===k.action&&4!==k.button?"m":"M";return`\x1b[<${F(k,!0)};${k.col};${k.row}${B}`},SGR_PIXELS:k=>{const B=0===k.action&&4!==k.button?"m":"M";return`\x1b[<${F(k,!0)};${k.x};${k.y}${B}`}};let D=f.CoreMouseService=class extends L.Disposable{constructor(k,B){super(),this._bufferService=k,this._coreService=B,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new R.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const N of Object.keys(V))this.addProtocol(N,V[N]);for(const N of Object.keys(y))this.addEncoding(N,y[N]);this.reset()}addProtocol(k,B){this._protocols[k]=B}addEncoding(k,B){this._encodings[k]=B}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return 0!==this._protocols[this._activeProtocol].events}set activeProtocol(k){if(!this._protocols[k])throw new Error(`unknown protocol "${k}"`);this._activeProtocol=k,this._onProtocolChange.fire(this._protocols[k].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(k){if(!this._encodings[k])throw new Error(`unknown encoding "${k}"`);this._activeEncoding=k}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(k){if(k.col<0||k.col>=this._bufferService.cols||k.row<0||k.row>=this._bufferService.rows||4===k.button&&32===k.action||3===k.button&&32!==k.action||4!==k.button&&(2===k.action||3===k.action)||(k.col++,k.row++,32===k.action&&this._lastEvent&&this._equalEvents(this._lastEvent,k,"SGR_PIXELS"===this._activeEncoding))||!this._protocols[this._activeProtocol].restrict(k))return!1;const B=this._encodings[this._activeEncoding](k);return B&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(B):this._coreService.triggerDataEvent(B,!0)),this._lastEvent=k,!0}explainEvents(k){return{down:!!(1&k),up:!!(2&k),drag:!!(4&k),move:!!(8&k),wheel:!!(16&k)}}_equalEvents(k,B,N){if(N){if(k.x!==B.x||k.y!==B.y)return!1}else if(k.col!==B.col||k.row!==B.row)return!1;return k.button===B.button&&k.action===B.action&&k.ctrl===B.ctrl&&k.alt===B.alt&&k.shift===B.shift}};f.CoreMouseService=D=P([x(0,a.IBufferService),x(1,a.ICoreService)],D)},6975:function(u,f,_){var P=this&&this.__decorate||function(D,k,B,N){var ce,$=arguments.length,z=$<3?k:null===N?N=Object.getOwnPropertyDescriptor(k,B):N;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)z=Reflect.decorate(D,k,B,N);else for(var S=D.length-1;S>=0;S--)(ce=D[S])&&(z=($<3?ce(z):$>3?ce(k,B,z):ce(k,B))||z);return $>3&&z&&Object.defineProperty(k,B,z),z},x=this&&this.__param||function(D,k){return function(B,N){k(B,N,D)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CoreService=void 0;const a=_(1439),R=_(8460),L=_(844),V=_(2585),F=Object.freeze({insertMode:!1}),T=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let y=f.CoreService=class extends L.Disposable{constructor(D,k,B){super(),this._bufferService=D,this._logService=k,this._optionsService=B,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new R.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new R.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new R.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new R.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,a.clone)(F),this.decPrivateModes=(0,a.clone)(T)}reset(){this.modes=(0,a.clone)(F),this.decPrivateModes=(0,a.clone)(T)}triggerDataEvent(D,k=!1){if(this._optionsService.rawOptions.disableStdin)return;const B=this._bufferService.buffer;k&&this._optionsService.rawOptions.scrollOnUserInput&&B.ybase!==B.ydisp&&this._onRequestScrollToBottom.fire(),k&&this._onUserInput.fire(),this._logService.debug(`sending data "${D}"`,()=>D.split("").map(N=>N.charCodeAt(0))),this._onData.fire(D)}triggerBinaryEvent(D){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${D}"`,()=>D.split("").map(k=>k.charCodeAt(0))),this._onBinary.fire(D))}};f.CoreService=y=P([x(0,V.IBufferService),x(1,V.ILogService),x(2,V.IOptionsService)],y)},9074:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DecorationService=void 0;const P=_(8055),x=_(8460),a=_(844),R=_(6106);let L=0,V=0;f.DecorationService=class F extends a.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new R.SortedList(D=>null==D?void 0:D.marker.line),this._onDecorationRegistered=this.register(new x.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new x.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,a.toDisposable)(()=>this.reset()))}registerDecoration(D){if(D.marker.isDisposed)return;const k=new T(D);if(k){const B=k.marker.onDispose(()=>k.dispose());k.onDispose(()=>{k&&(this._decorations.delete(k)&&this._onDecorationRemoved.fire(k),B.dispose())}),this._decorations.insert(k),this._onDecorationRegistered.fire(k)}return k}reset(){for(const D of this._decorations.values())D.dispose();this._decorations.clear()}*getDecorationsAtCell(D,k,B){var N,ce,$;let z=0,S=0;for(const O of this._decorations.getKeyIterator(k))z=null!==(N=O.options.x)&&void 0!==N?N:0,S=z+(null!==(ce=O.options.width)&&void 0!==ce?ce:1),D>=z&&D<S&&(!B||(null!==($=O.options.layer)&&void 0!==$?$:"bottom")===B)&&(yield O)}forEachDecorationAtCell(D,k,B,N){this._decorations.forEachByKey(k,ce=>{var $,z,S;L=null!==($=ce.options.x)&&void 0!==$?$:0,V=L+(null!==(z=ce.options.width)&&void 0!==z?z:1),D>=L&&D<V&&(!B||(null!==(S=ce.options.layer)&&void 0!==S?S:"bottom")===B)&&N(ce)})}};class T extends a.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return null===this._cachedBg&&(this._cachedBg=this.options.backgroundColor?P.css.toColor(this.options.backgroundColor):void 0),this._cachedBg}get foregroundColorRGB(){return null===this._cachedFg&&(this._cachedFg=this.options.foregroundColor?P.css.toColor(this.options.foregroundColor):void 0),this._cachedFg}constructor(D){super(),this.options=D,this.onRenderEmitter=this.register(new x.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new x.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=D.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.InstantiationService=f.ServiceCollection=void 0;const P=_(2585),x=_(8343);class a{constructor(...L){this._entries=new Map;for(const[V,F]of L)this.set(V,F)}set(L,V){const F=this._entries.get(L);return this._entries.set(L,V),F}forEach(L){for(const[V,F]of this._entries.entries())L(V,F)}has(L){return this._entries.has(L)}get(L){return this._entries.get(L)}}f.ServiceCollection=a,f.InstantiationService=class{constructor(){this._services=new a,this._services.set(P.IInstantiationService,this)}setService(R,L){this._services.set(R,L)}getService(R){return this._services.get(R)}createInstance(R,...L){const V=(0,x.getServiceDependencies)(R).sort((y,D)=>y.index-D.index),F=[];for(const y of V){const D=this._services.get(y.id);if(!D)throw new Error(`[createInstance] ${R.name} depends on UNKNOWN service ${y.id}.`);F.push(D)}const T=V.length>0?V[0].index:L.length;if(L.length!==T)throw new Error(`[createInstance] First service dependency of ${R.name} at position ${T+1} conflicts with ${L.length} static arguments`);return new R(...L,...F)}}},7866:function(u,f,_){var P=this&&this.__decorate||function(T,y,D,k){var B,N=arguments.length,ce=N<3?y:null===k?k=Object.getOwnPropertyDescriptor(y,D):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ce=Reflect.decorate(T,y,D,k);else for(var $=T.length-1;$>=0;$--)(B=T[$])&&(ce=(N<3?B(ce):N>3?B(y,D,ce):B(y,D))||ce);return N>3&&ce&&Object.defineProperty(y,D,ce),ce},x=this&&this.__param||function(T,y){return function(D,k){y(D,k,T)}};Object.defineProperty(f,"__esModule",{value:!0}),f.traceCall=f.setTraceLogger=f.LogService=void 0;const a=_(844),R=_(2585),L={trace:R.LogLevelEnum.TRACE,debug:R.LogLevelEnum.DEBUG,info:R.LogLevelEnum.INFO,warn:R.LogLevelEnum.WARN,error:R.LogLevelEnum.ERROR,off:R.LogLevelEnum.OFF};let V,F=f.LogService=class extends a.Disposable{get logLevel(){return this._logLevel}constructor(T){super(),this._optionsService=T,this._logLevel=R.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),V=this}_updateLogLevel(){this._logLevel=L[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(T){for(let y=0;y<T.length;y++)"function"==typeof T[y]&&(T[y]=T[y]())}_log(T,y,D){this._evalLazyOptionalParams(D),T.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+y,...D)}trace(T,...y){var D,k;this._logLevel<=R.LogLevelEnum.TRACE&&this._log(null!==(k=null===(D=this._optionsService.options.logger)||void 0===D?void 0:D.trace.bind(this._optionsService.options.logger))&&void 0!==k?k:console.log,T,y)}debug(T,...y){var D,k;this._logLevel<=R.LogLevelEnum.DEBUG&&this._log(null!==(k=null===(D=this._optionsService.options.logger)||void 0===D?void 0:D.debug.bind(this._optionsService.options.logger))&&void 0!==k?k:console.log,T,y)}info(T,...y){var D,k;this._logLevel<=R.LogLevelEnum.INFO&&this._log(null!==(k=null===(D=this._optionsService.options.logger)||void 0===D?void 0:D.info.bind(this._optionsService.options.logger))&&void 0!==k?k:console.info,T,y)}warn(T,...y){var D,k;this._logLevel<=R.LogLevelEnum.WARN&&this._log(null!==(k=null===(D=this._optionsService.options.logger)||void 0===D?void 0:D.warn.bind(this._optionsService.options.logger))&&void 0!==k?k:console.warn,T,y)}error(T,...y){var D,k;this._logLevel<=R.LogLevelEnum.ERROR&&this._log(null!==(k=null===(D=this._optionsService.options.logger)||void 0===D?void 0:D.error.bind(this._optionsService.options.logger))&&void 0!==k?k:console.error,T,y)}};f.LogService=F=P([x(0,R.IOptionsService)],F),f.setTraceLogger=function(T){V=T},f.traceCall=function(T,y,D){if("function"!=typeof D.value)throw new Error("not supported");const k=D.value;D.value=function(...B){if(V.logLevel!==R.LogLevelEnum.TRACE)return k.apply(this,B);V.trace(`GlyphRenderer#${k.name}(${B.map(ce=>JSON.stringify(ce)).join(", ")})`);const N=k.apply(this,B);return V.trace(`GlyphRenderer#${k.name} return`,N),N}}},7302:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.OptionsService=f.DEFAULT_OPTIONS=void 0;const P=_(8460),x=_(844),a=_(6114);f.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:a.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const R=["normal","bold","100","200","300","400","500","600","700","800","900"];f.OptionsService=class L extends x.Disposable{constructor(F){super(),this._onOptionChange=this.register(new P.EventEmitter),this.onOptionChange=this._onOptionChange.event;const T=Object.assign({},f.DEFAULT_OPTIONS);for(const y in F)if(y in T)try{T[y]=this._sanitizeAndValidateOption(y,F[y])}catch(D){console.error(D)}this.rawOptions=T,this.options=Object.assign({},T),this._setupOptions()}onSpecificOptionChange(F,T){return this.onOptionChange(y=>{y===F&&T(this.rawOptions[F])})}onMultipleOptionChange(F,T){return this.onOptionChange(y=>{-1!==F.indexOf(y)&&T()})}_setupOptions(){const F=y=>{if(!(y in f.DEFAULT_OPTIONS))throw new Error(`No option with key "${y}"`);return this.rawOptions[y]},T=(y,D)=>{if(!(y in f.DEFAULT_OPTIONS))throw new Error(`No option with key "${y}"`);D=this._sanitizeAndValidateOption(y,D),this.rawOptions[y]!==D&&(this.rawOptions[y]=D,this._onOptionChange.fire(y))};for(const y in this.rawOptions){const D={get:F.bind(this,y),set:T.bind(this,y)};Object.defineProperty(this.options,y,D)}}_sanitizeAndValidateOption(F,T){switch(F){case"cursorStyle":if(T||(T=f.DEFAULT_OPTIONS[F]),"block"!==(y=T)&&"underline"!==y&&"bar"!==y)throw new Error(`"${T}" is not a valid value for ${F}`);break;case"wordSeparator":T||(T=f.DEFAULT_OPTIONS[F]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof T&&1<=T&&T<=1e3)break;T=R.includes(T)?T:f.DEFAULT_OPTIONS[F];break;case"cursorWidth":T=Math.floor(T);case"lineHeight":case"tabStopWidth":if(T<1)throw new Error(`${F} cannot be less than 1, value: ${T}`);break;case"minimumContrastRatio":T=Math.max(1,Math.min(21,Math.round(10*T)/10));break;case"scrollback":if((T=Math.min(T,4294967295))<0)throw new Error(`${F} cannot be less than 0, value: ${T}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(T<=0)throw new Error(`${F} cannot be less than or equal to 0, value: ${T}`);break;case"rows":case"cols":if(!T&&0!==T)throw new Error(`${F} must be numeric, value: ${T}`);break;case"windowsPty":T=null!=T?T:{}}var y;return T}}},2660:function(u,f,_){var P=this&&this.__decorate||function(L,V,F,T){var y,D=arguments.length,k=D<3?V:null===T?T=Object.getOwnPropertyDescriptor(V,F):T;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(L,V,F,T);else for(var B=L.length-1;B>=0;B--)(y=L[B])&&(k=(D<3?y(k):D>3?y(V,F,k):y(V,F))||k);return D>3&&k&&Object.defineProperty(V,F,k),k},x=this&&this.__param||function(L,V){return function(F,T){V(F,T,L)}};Object.defineProperty(f,"__esModule",{value:!0}),f.OscLinkService=void 0;const a=_(2585);let R=f.OscLinkService=class{constructor(L){this._bufferService=L,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(L){const V=this._bufferService.buffer;if(void 0===L.id){const B=V.addMarker(V.ybase+V.y),N={data:L,id:this._nextId++,lines:[B]};return B.onDispose(()=>this._removeMarkerFromLink(N,B)),this._dataByLinkId.set(N.id,N),N.id}const F=L,T=this._getEntryIdKey(F),y=this._entriesWithId.get(T);if(y)return this.addLineToLink(y.id,V.ybase+V.y),y.id;const D=V.addMarker(V.ybase+V.y),k={id:this._nextId++,key:this._getEntryIdKey(F),data:F,lines:[D]};return D.onDispose(()=>this._removeMarkerFromLink(k,D)),this._entriesWithId.set(k.key,k),this._dataByLinkId.set(k.id,k),k.id}addLineToLink(L,V){const F=this._dataByLinkId.get(L);if(F&&F.lines.every(T=>T.line!==V)){const T=this._bufferService.buffer.addMarker(V);F.lines.push(T),T.onDispose(()=>this._removeMarkerFromLink(F,T))}}getLinkData(L){var V;return null===(V=this._dataByLinkId.get(L))||void 0===V?void 0:V.data}_getEntryIdKey(L){return`${L.id};;${L.uri}`}_removeMarkerFromLink(L,V){const F=L.lines.indexOf(V);-1!==F&&(L.lines.splice(F,1),0===L.lines.length&&(void 0!==L.data.id&&this._entriesWithId.delete(L.key),this._dataByLinkId.delete(L.id)))}};f.OscLinkService=R=P([x(0,a.IBufferService)],R)},8343:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.createDecorator=f.getServiceDependencies=f.serviceRegistry=void 0;const _="di$target",P="di$dependencies";f.serviceRegistry=new Map,f.getServiceDependencies=function(x){return x[P]||[]},f.createDecorator=function(x){if(f.serviceRegistry.has(x))return f.serviceRegistry.get(x);const a=function(R,L,V){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");var F,T,y;F=a,y=V,(T=R)[_]===T?T[P].push({id:F,index:y}):(T[P]=[{id:F,index:y}],T[_]=T)};return a.toString=()=>x,f.serviceRegistry.set(x,a),a}},2585:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.IDecorationService=f.IUnicodeService=f.IOscLinkService=f.IOptionsService=f.ILogService=f.LogLevelEnum=f.IInstantiationService=f.ICharsetService=f.ICoreService=f.ICoreMouseService=f.IBufferService=void 0;const P=_(8343);var x,a;f.IBufferService=(0,P.createDecorator)("BufferService"),f.ICoreMouseService=(0,P.createDecorator)("CoreMouseService"),f.ICoreService=(0,P.createDecorator)("CoreService"),f.ICharsetService=(0,P.createDecorator)("CharsetService"),f.IInstantiationService=(0,P.createDecorator)("InstantiationService"),(a=x||(f.LogLevelEnum=x={}))[a.TRACE=0]="TRACE",a[a.DEBUG=1]="DEBUG",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.OFF=5]="OFF",f.ILogService=(0,P.createDecorator)("LogService"),f.IOptionsService=(0,P.createDecorator)("OptionsService"),f.IOscLinkService=(0,P.createDecorator)("OscLinkService"),f.IUnicodeService=(0,P.createDecorator)("UnicodeService"),f.IDecorationService=(0,P.createDecorator)("DecorationService")},1480:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.UnicodeService=void 0;const P=_(8460),x=_(225);f.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new P.EventEmitter,this.onChange=this._onChange.event;const a=new x.UnicodeV6;this.register(a),this._active=a.version,this._activeProvider=a}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(a){if(!this._providers[a])throw new Error(`unknown Unicode version "${a}"`);this._active=a,this._activeProvider=this._providers[a],this._onChange.fire(a)}register(a){this._providers[a.version]=a}wcwidth(a){return this._activeProvider.wcwidth(a)}getStringCellWidth(a){let R=0;const L=a.length;for(let V=0;V<L;++V){let F=a.charCodeAt(V);if(55296<=F&&F<=56319){if(++V>=L)return R+this.wcwidth(F);const T=a.charCodeAt(V);56320<=T&&T<=57343?F=1024*(F-55296)+T-56320+65536:R+=this.wcwidth(T)}R+=this.wcwidth(F)}return R}}}},b={};function e(u){var f=b[u];if(void 0!==f)return f.exports;var _=b[u]={exports:{}};return ht[u].call(_.exports,_,_.exports,e),_.exports}var d={};return(()=>{var u=d;Object.defineProperty(u,"__esModule",{value:!0}),u.Terminal=void 0;const f=e(9042),_=e(3236),P=e(844),x=e(5741),a=e(8285),R=e(7975),L=e(7090),V=["cols","rows"];u.Terminal=class F extends P.Disposable{constructor(y){super(),this._core=this.register(new _.Terminal(y)),this._addonManager=this.register(new x.AddonManager),this._publicOptions=Object.assign({},this._core.options);const D=B=>this._core.options[B],k=(B,N)=>{this._checkReadonlyOptions(B),this._core.options[B]=N};for(const B in this._core.options){const N={get:D.bind(this,B),set:k.bind(this,B)};Object.defineProperty(this._publicOptions,B,N)}}_checkReadonlyOptions(y){if(V.includes(y))throw new Error(`Option "${y}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new R.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new L.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new a.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const y=this._core.coreService.decPrivateModes;let D="none";switch(this._core.coreMouseService.activeProtocol){case"X10":D="x10";break;case"VT200":D="vt200";break;case"DRAG":D="drag";break;case"ANY":D="any"}return{applicationCursorKeysMode:y.applicationCursorKeys,applicationKeypadMode:y.applicationKeypad,bracketedPasteMode:y.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:D,originMode:y.origin,reverseWraparoundMode:y.reverseWraparound,sendFocusMode:y.sendFocus,wraparoundMode:y.wraparound}}get options(){return this._publicOptions}set options(y){for(const D in y)this._publicOptions[D]=y[D]}blur(){this._core.blur()}focus(){this._core.focus()}resize(y,D){this._verifyIntegers(y,D),this._core.resize(y,D)}open(y){this._core.open(y)}attachCustomKeyEventHandler(y){this._core.attachCustomKeyEventHandler(y)}registerLinkProvider(y){return this._core.registerLinkProvider(y)}registerCharacterJoiner(y){return this._checkProposedApi(),this._core.registerCharacterJoiner(y)}deregisterCharacterJoiner(y){this._checkProposedApi(),this._core.deregisterCharacterJoiner(y)}registerMarker(y=0){return this._verifyIntegers(y),this._core.registerMarker(y)}registerDecoration(y){var D,k,B;return this._checkProposedApi(),this._verifyPositiveIntegers(null!==(D=y.x)&&void 0!==D?D:0,null!==(k=y.width)&&void 0!==k?k:0,null!==(B=y.height)&&void 0!==B?B:0),this._core.registerDecoration(y)}hasSelection(){return this._core.hasSelection()}select(y,D,k){this._verifyIntegers(y,D,k),this._core.select(y,D,k)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(y,D){this._verifyIntegers(y,D),this._core.selectLines(y,D)}dispose(){super.dispose()}scrollLines(y){this._verifyIntegers(y),this._core.scrollLines(y)}scrollPages(y){this._verifyIntegers(y),this._core.scrollPages(y)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(y){this._verifyIntegers(y),this._core.scrollToLine(y)}clear(){this._core.clear()}write(y,D){this._core.write(y,D)}writeln(y,D){this._core.write(y),this._core.write("\r\n",D)}paste(y){this._core.paste(y)}refresh(y,D){this._verifyIntegers(y,D),this._core.refresh(y,D)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(y){this._addonManager.loadAddon(this,y)}static get strings(){return f}_verifyIntegers(...y){for(const D of y)if(D===1/0||isNaN(D)||D%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...y){for(const D of y)if(D&&(D===1/0||isNaN(D)||D%1!=0||D<0))throw new Error("This API only accepts positive integers")}}})(),d})())()},5987:(hn,ht,b)=>{"use strict";function a(G,j,fe,ne){return new(fe||(fe=Promise))(function(X,W){function Y(Ke){try{Ae(ne.next(Ke))}catch(be){W(be)}}function Te(Ke){try{Ae(ne.throw(Ke))}catch(be){W(be)}}function Ae(Ke){Ke.done?X(Ke.value):function J(X){return X instanceof fe?X:new fe(function(W){W(X)})}(Ke.value).then(Y,Te)}Ae((ne=ne.apply(G,j||[])).next())})}function B(G){return this instanceof B?(this.v=G,this):new B(G)}function N(G,j,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,ne=fe.apply(G,j||[]),X=[];return J={},W("next"),W("throw"),W("return"),J[Symbol.asyncIterator]=function(){return this},J;function W(Ge){ne[Ge]&&(J[Ge]=function(ee){return new Promise(function(xe,we){X.push([Ge,ee,xe,we])>1||Y(Ge,ee)})})}function Y(Ge,ee){try{!function Te(Ge){Ge.value instanceof B?Promise.resolve(Ge.value.v).then(Ae,Ke):be(X[0][2],Ge)}(ne[Ge](ee))}catch(xe){be(X[0][3],xe)}}function Ae(Ge){Y("next",Ge)}function Ke(Ge){Y("throw",Ge)}function be(Ge,ee){Ge(ee),X.shift(),X.length&&Y(X[0][0],X[0][1])}}function $(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,j=G[Symbol.asyncIterator];return j?j.call(G):(G=function F(G){var j="function"==typeof Symbol&&Symbol.iterator,fe=j&&G[j],ne=0;if(fe)return fe.call(G);if(G&&"number"==typeof G.length)return{next:function(){return G&&ne>=G.length&&(G=void 0),{value:G&&G[ne++],done:!G}}};throw new TypeError(j?"Object is not iterable.":"Symbol.iterator is not defined.")}(G),fe={},ne("next"),ne("throw"),ne("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function ne(X){fe[X]=G[X]&&function(W){return new Promise(function(Y,Te){!function J(X,W,Y,Te){Promise.resolve(Te).then(function(Ae){X({value:Ae,done:Y})},W)}(Y,Te,(W=G[X](W)).done,W.value)})}}}b.d(ht,{FC:()=>N,KL:()=>$,mG:()=>a,qq:()=>B})},655:(hn,ht,b)=>{"use strict";function f(j,fe){var ne={};for(var J in j)Object.prototype.hasOwnProperty.call(j,J)&&fe.indexOf(J)<0&&(ne[J]=j[J]);if(null!=j&&"function"==typeof Object.getOwnPropertySymbols){var X=0;for(J=Object.getOwnPropertySymbols(j);X<J.length;X++)fe.indexOf(J[X])<0&&Object.prototype.propertyIsEnumerable.call(j,J[X])&&(ne[J[X]]=j[J[X]])}return ne}function _(j,fe,ne,J){var Y,X=arguments.length,W=X<3?fe:null===J?J=Object.getOwnPropertyDescriptor(fe,ne):J;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)W=Reflect.decorate(j,fe,ne,J);else for(var Te=j.length-1;Te>=0;Te--)(Y=j[Te])&&(W=(X<3?Y(W):X>3?Y(fe,ne,W):Y(fe,ne))||W);return X>3&&W&&Object.defineProperty(fe,ne,W),W}function a(j,fe,ne,J){return new(ne||(ne=Promise))(function(W,Y){function Te(be){try{Ke(J.next(be))}catch(Ge){Y(Ge)}}function Ae(be){try{Ke(J.throw(be))}catch(Ge){Y(Ge)}}function Ke(be){be.done?W(be.value):function X(W){return W instanceof ne?W:new ne(function(Y){Y(W)})}(be.value).then(Te,Ae)}Ke((J=J.apply(j,fe||[])).next())})}b.d(ht,{_T:()=>f,gn:()=>_,mG:()=>a})},1777:(hn,ht,b)=>{"use strict";b.d(ht,{EY:()=>k,IO:()=>D,LC:()=>d,SB:()=>R,X$:()=>f,ZE:()=>ce,ZN:()=>N,_7:()=>y,_j:()=>e,eR:()=>V,jt:()=>_,k1:()=>$,l3:()=>u,oB:()=>a,oQ:()=>F,pV:()=>T,vP:()=>x});class e{}class d{}const u="*";function f(z,S){return{type:7,name:z,definitions:S,options:{}}}function _(z,S=null){return{type:4,styles:S,timings:z}}function x(z,S=null){return{type:2,steps:z,options:S}}function a(z){return{type:6,styles:z,offset:null}}function R(z,S,O){return{type:0,name:z,styles:S,options:O}}function V(z,S,O=null){return{type:1,expr:z,animation:S,options:O}}function F(z,S=null){return{type:8,animation:z,options:S}}function T(z=null){return{type:9,options:z}}function y(z,S=null){return{type:10,animation:z,options:S}}function D(z,S,O=null){return{type:11,selector:z,animation:S,options:O}}function k(z,S){return{type:12,timings:z,animation:S}}function B(z){Promise.resolve().then(z)}class N{constructor(S=0,O=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=S+O}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(S=>S()),this._onDoneFns=[])}onStart(S){this._originalOnStartFns.push(S),this._onStartFns.push(S)}onDone(S){this._originalOnDoneFns.push(S),this._onDoneFns.push(S)}onDestroy(S){this._onDestroyFns.push(S)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){B(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(S=>S()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(S=>S()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(S){this._position=this.totalTime?S*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(S){const O="start"==S?this._onStartFns:this._onDoneFns;O.forEach(K=>K()),O.length=0}}class ce{constructor(S){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=S;let O=0,K=0,ue=0;const q=this.players.length;0==q?B(()=>this._onFinish()):this.players.forEach(G=>{G.onDone(()=>{++O==q&&this._onFinish()}),G.onDestroy(()=>{++K==q&&this._onDestroy()}),G.onStart(()=>{++ue==q&&this._onStart()})}),this.totalTime=this.players.reduce((G,j)=>Math.max(G,j.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(S=>S()),this._onDoneFns=[])}init(){this.players.forEach(S=>S.init())}onStart(S){this._onStartFns.push(S)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(S=>S()),this._onStartFns=[])}onDone(S){this._onDoneFns.push(S)}onDestroy(S){this._onDestroyFns.push(S)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(S=>S.play())}pause(){this.players.forEach(S=>S.pause())}restart(){this.players.forEach(S=>S.restart())}finish(){this._onFinish(),this.players.forEach(S=>S.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(S=>S.destroy()),this._onDestroyFns.forEach(S=>S()),this._onDestroyFns=[])}reset(){this.players.forEach(S=>S.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(S){const O=S*this.totalTime;this.players.forEach(K=>{const ue=K.totalTime?Math.min(1,O/K.totalTime):1;K.setPosition(ue)})}getPosition(){const S=this.players.reduce((O,K)=>null===O||K.totalTime>O.totalTime?K:O,null);return null!=S?S.getPosition():0}beforeDestroy(){this.players.forEach(S=>{S.beforeDestroy&&S.beforeDestroy()})}triggerCallback(S){const O="start"==S?this._onStartFns:this._onDoneFns;O.forEach(K=>K()),O.length=0}}const $="!"},226:(hn,ht,b)=>{"use strict";b.d(ht,{Is:()=>x,vT:()=>R});var e=b(5e3),d=b(9808);const u=new e.OlP("cdk-dir-doc",{providedIn:"root",factory:function f(){return(0,e.f3M)(d.K0)}}),_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let x=(()=>{class L{constructor(F){if(this.value="ltr",this.change=new e.vpe,F){const y=F.documentElement?F.documentElement.dir:null;this.value=function P(L){const V=(null==L?void 0:L.toLowerCase())||"";return"auto"===V&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?_.test(navigator.language)?"rtl":"ltr":"rtl"===V?"rtl":"ltr"}((F.body?F.body.dir:null)||y||"ltr")}}ngOnDestroy(){this.change.complete()}}return L.\u0275fac=function(F){return new(F||L)(e.LFG(u,8))},L.\u0275prov=e.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})(),R=(()=>{class L{}return L.\u0275fac=function(F){return new(F||L)},L.\u0275mod=e.oAB({type:L}),L.\u0275inj=e.cJS({}),L})()},3191:(hn,ht,b)=>{"use strict";b.d(ht,{Eq:()=>_,Ig:()=>d,fI:()=>x,su:()=>u});var e=b(5e3);function d(R){return null!=R&&"false"!=`${R}`}function u(R,L=0){return function f(R){return!isNaN(parseFloat(R))&&!isNaN(Number(R))}(R)?Number(R):L}function _(R){return Array.isArray(R)?R:[R]}function x(R){return R instanceof e.SBq?R.nativeElement:R}},5573:(hn,ht,b)=>{"use strict";b.d(ht,{Zt:()=>En,Wj:()=>ft,Fd:()=>yo,_t:()=>Vn,bA:()=>ma,EA:()=>Fa});var e=b(5e3),d=b(9808),u=b(925),f=b(3191),Eo=b(7579),Es=b(727),Mi=b(7445),$o=b(6406),Fo=b(9751),or=b(6451),Vo=b(2722),Ao=b(8675),Ri=b(4004),sr=b(5698),fa=b(8505),Qn=b(3900),Oi=b(6731),rr=b(226);function Yr(Yt,Ne,Ue){for(let mt in Ne)if(Ne.hasOwnProperty(mt)){const Lt=Ne[mt];Lt?Yt.setProperty(mt,Lt,null!=Ue&&Ue.has(mt)?"important":""):Yt.removeProperty(mt)}return Yt}function Xi(Yt,Ne){const Ue=Ne?"":"none";Yr(Yt.style,{"touch-action":Ne?"":"none","-webkit-user-drag":Ne?"":"none","-webkit-tap-highlight-color":Ne?"":"transparent","user-select":Ue,"-ms-user-select":Ue,"-webkit-user-select":Ue,"-moz-user-select":Ue})}function na(Yt,Ne,Ue){Yr(Yt.style,{position:Ne?"":"fixed",top:Ne?"":"0",opacity:Ne?"":"0",left:Ne?"":"-999em"},Ue)}function ar(Yt,Ne){return Ne&&"none"!=Ne?Yt+" "+Ne:Yt}function Ss(Yt){const Ne=Yt.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(Yt)*Ne}function ms(Yt,Ne){return Yt.getPropertyValue(Ne).split(",").map(mt=>mt.trim())}function Bs(Yt){const Ne=Yt.getBoundingClientRect();return{top:Ne.top,right:Ne.right,bottom:Ne.bottom,left:Ne.left,width:Ne.width,height:Ne.height,x:Ne.x,y:Ne.y}}function jr(Yt,Ne,Ue){const{top:mt,bottom:Lt,left:an,right:An}=Yt;return Ue>=mt&&Ue<=Lt&&Ne>=an&&Ne<=An}function nt(Yt,Ne,Ue){Yt.top+=Ne,Yt.bottom=Yt.top+Yt.height,Yt.left+=Ue,Yt.right=Yt.left+Yt.width}function Ze(Yt,Ne,Ue,mt){const{top:Lt,right:an,bottom:An,left:On,width:$n,height:ni}=Yt,Ai=$n*Ne,Wi=ni*Ne;return mt>Lt-Wi&&mt<An+Wi&&Ue>On-Ai&&Ue<an+Ai}class Se{constructor(Ne){this._document=Ne,this.positions=new Map}clear(){this.positions.clear()}cache(Ne){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),Ne.forEach(Ue=>{this.positions.set(Ue,{scrollPosition:{top:Ue.scrollTop,left:Ue.scrollLeft},clientRect:Bs(Ue)})})}handleScroll(Ne){const Ue=(0,u.sA)(Ne),mt=this.positions.get(Ue);if(!mt)return null;const Lt=mt.scrollPosition;let an,An;if(Ue===this._document){const ni=this.getViewportScrollPosition();an=ni.top,An=ni.left}else an=Ue.scrollTop,An=Ue.scrollLeft;const On=Lt.top-an,$n=Lt.left-An;return this.positions.forEach((ni,Ai)=>{ni.clientRect&&Ue!==Ai&&Ue.contains(Ai)&&nt(ni.clientRect,On,$n)}),Lt.top=an,Lt.left=An,{top:On,left:$n}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function kt(Yt){const Ne=Yt.cloneNode(!0),Ue=Ne.querySelectorAll("[id]"),mt=Yt.nodeName.toLowerCase();Ne.removeAttribute("id");for(let Lt=0;Lt<Ue.length;Lt++)Ue[Lt].removeAttribute("id");return"canvas"===mt?bo(Yt,Ne):("input"===mt||"select"===mt||"textarea"===mt)&&Gi(Yt,Ne),Ln("canvas",Yt,Ne,bo),Ln("input, textarea, select",Yt,Ne,Gi),Ne}function Ln(Yt,Ne,Ue,mt){const Lt=Ne.querySelectorAll(Yt);if(Lt.length){const an=Ue.querySelectorAll(Yt);for(let An=0;An<Lt.length;An++)mt(Lt[An],an[An])}}let fi=0;function Gi(Yt,Ne){"file"!==Ne.type&&(Ne.value=Yt.value),"radio"===Ne.type&&Ne.name&&(Ne.name=`mat-clone-${Ne.name}-${fi++}`)}function bo(Yt,Ne){const Ue=Ne.getContext("2d");if(Ue)try{Ue.drawImage(Yt,0,0)}catch(mt){}}const Po=(0,u.i$)({passive:!0}),us=(0,u.i$)({passive:!1}),lr=new Set(["position"]);class wr{constructor(Ne,Ue,mt,Lt,an,An){this._config=Ue,this._document=mt,this._ngZone=Lt,this._viewportRuler=an,this._dragDropRegistry=An,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Eo.x,this._pointerMoveSubscription=Es.w0.EMPTY,this._pointerUpSubscription=Es.w0.EMPTY,this._scrollSubscription=Es.w0.EMPTY,this._resizeSubscription=Es.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Eo.x,this.started=new Eo.x,this.released=new Eo.x,this.ended=new Eo.x,this.entered=new Eo.x,this.exited=new Eo.x,this.dropped=new Eo.x,this.moved=this._moveEvents,this._pointerDown=On=>{if(this.beforeStarted.next(),this._handles.length){const $n=this._getTargetHandle(On);$n&&!this._disabledHandles.has($n)&&!this.disabled&&this._initializeDragSequence($n,On)}else this.disabled||this._initializeDragSequence(this._rootElement,On)},this._pointerMove=On=>{const $n=this._getPointerPositionOnPage(On);if(!this._hasStartedDragging){if(Math.abs($n.x-this._pickupPositionOnPage.x)+Math.abs($n.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const Jo=Date.now()>=this._dragStartTime+this._getDragStartDelay(On),fo=this._dropContainer;if(!Jo)return void this._endDragSequence(On);(!fo||!fo.isDragging()&&!fo.isReceiving())&&(On.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(On)))}return}On.preventDefault();const ni=this._getConstrainedPointerPosition($n);if(this._hasMoved=!0,this._lastKnownPointerPosition=$n,this._updatePointerDirectionDelta(ni),this._dropContainer)this._updateActiveDropContainer(ni,$n);else{const Ai=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,Wi=this._activeTransform;Wi.x=ni.x-Ai.x+this._passiveTransform.x,Wi.y=ni.y-Ai.y+this._passiveTransform.y,this._applyRootElementTransform(Wi.x,Wi.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:ni,event:On,distance:this._getDragDistance(ni),delta:this._pointerDirectionDelta})})},this._pointerUp=On=>{this._endDragSequence(On)},this._nativeDragStart=On=>{if(this._handles.length){const $n=this._getTargetHandle(On);$n&&!this._disabledHandles.has($n)&&!this.disabled&&On.preventDefault()}else this.disabled||On.preventDefault()},this.withRootElement(Ne).withParent(Ue.parentDragRef||null),this._parentPositions=new Se(mt),An.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(Ne){const Ue=(0,f.Ig)(Ne);Ue!==this._disabled&&(this._disabled=Ue,this._toggleNativeDragInteractions(),this._handles.forEach(mt=>Xi(mt,Ue)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(Ne){this._handles=Ne.map(mt=>(0,f.fI)(mt)),this._handles.forEach(mt=>Xi(mt,this.disabled)),this._toggleNativeDragInteractions();const Ue=new Set;return this._disabledHandles.forEach(mt=>{this._handles.indexOf(mt)>-1&&Ue.add(mt)}),this._disabledHandles=Ue,this}withPreviewTemplate(Ne){return this._previewTemplate=Ne,this}withPlaceholderTemplate(Ne){return this._placeholderTemplate=Ne,this}withRootElement(Ne){const Ue=(0,f.fI)(Ne);return Ue!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{Ue.addEventListener("mousedown",this._pointerDown,us),Ue.addEventListener("touchstart",this._pointerDown,Po),Ue.addEventListener("dragstart",this._nativeDragStart,us)}),this._initialTransform=void 0,this._rootElement=Ue),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(Ne){return this._boundaryElement=Ne?(0,f.fI)(Ne):null,this._resizeSubscription.unsubscribe(),Ne&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(Ne){return this._parentDragRef=Ne,this}dispose(){var Ne,Ue;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(Ne=this._rootElement)||void 0===Ne||Ne.remove()),null===(Ue=this._anchor)||void 0===Ue||Ue.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(Ne){!this._disabledHandles.has(Ne)&&this._handles.indexOf(Ne)>-1&&(this._disabledHandles.add(Ne),Xi(Ne,!0))}enableHandle(Ne){this._disabledHandles.has(Ne)&&(this._disabledHandles.delete(Ne),Xi(Ne,this.disabled))}withDirection(Ne){return this._direction=Ne,this}_withDropContainer(Ne){this._dropContainer=Ne}getFreeDragPosition(){const Ne=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:Ne.x,y:Ne.y}}setFreeDragPosition(Ne){return this._activeTransform={x:0,y:0},this._passiveTransform.x=Ne.x,this._passiveTransform.y=Ne.y,this._dropContainer||this._applyRootElementTransform(Ne.x,Ne.y),this}withPreviewContainer(Ne){return this._previewContainer=Ne,this}_sortFromLastPointerPosition(){const Ne=this._lastKnownPointerPosition;Ne&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(Ne),Ne)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var Ne,Ue;null===(Ne=this._preview)||void 0===Ne||Ne.remove(),null===(Ue=this._previewRef)||void 0===Ue||Ue.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var Ne,Ue;null===(Ne=this._placeholder)||void 0===Ne||Ne.remove(),null===(Ue=this._placeholderRef)||void 0===Ue||Ue.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(Ne){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:Ne}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(Ne),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const Ue=this._getPointerPositionOnPage(Ne);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(Ue),dropPoint:Ue,event:Ne})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(Ne){Xs(Ne)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const Ue=this._dropContainer;if(Ue){const mt=this._rootElement,Lt=mt.parentNode,an=this._placeholder=this._createPlaceholderElement(),An=this._anchor=this._anchor||this._document.createComment(""),On=this._getShadowRoot();Lt.insertBefore(An,mt),this._initialTransform=mt.style.transform||"",this._preview=this._createPreviewElement(),na(mt,!1,lr),this._document.body.appendChild(Lt.replaceChild(an,mt)),this._getPreviewInsertionPoint(Lt,On).appendChild(this._preview),this.started.next({source:this,event:Ne}),Ue.start(),this._initialContainer=Ue,this._initialIndex=Ue.getItemIndex(this)}else this.started.next({source:this,event:Ne}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(Ue?Ue.getScrollableParents():[])}_initializeDragSequence(Ne,Ue){this._parentDragRef&&Ue.stopPropagation();const mt=this.isDragging(),Lt=Xs(Ue),an=!Lt&&0!==Ue.button,An=this._rootElement,On=(0,u.sA)(Ue),$n=!Lt&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),ni=Lt?function xs(Yt){const Ne=Yt.touches&&Yt.touches[0]||Yt.changedTouches&&Yt.changedTouches[0];return!(!Ne||-1!==Ne.identifier||null!=Ne.radiusX&&1!==Ne.radiusX||null!=Ne.radiusY&&1!==Ne.radiusY)}(Ue):function ir(Yt){return 0===Yt.buttons||0===Yt.offsetX&&0===Yt.offsetY}(Ue);if(On&&On.draggable&&"mousedown"===Ue.type&&Ue.preventDefault(),mt||an||$n||ni)return;if(this._handles.length){const zo=An.style;this._rootElementTapHighlight=zo.webkitTapHighlightColor||"",zo.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(zo=>this._updateOnScroll(zo)),this._boundaryElement&&(this._boundaryRect=Bs(this._boundaryElement));const Ai=this._previewTemplate;this._pickupPositionInElement=Ai&&Ai.template&&!Ai.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,Ne,Ue);const Wi=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(Ue);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:Wi.x,y:Wi.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,Ue)}_cleanupDragArtifacts(Ne){na(this._rootElement,!0,lr),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const Ue=this._dropContainer,mt=Ue.getItemIndex(this),Lt=this._getPointerPositionOnPage(Ne),an=this._getDragDistance(Lt),An=Ue._isOverContainer(Lt.x,Lt.y);this.ended.next({source:this,distance:an,dropPoint:Lt,event:Ne}),this.dropped.next({item:this,currentIndex:mt,previousIndex:this._initialIndex,container:Ue,previousContainer:this._initialContainer,isPointerOverContainer:An,distance:an,dropPoint:Lt,event:Ne}),Ue.drop(this,mt,this._initialIndex,this._initialContainer,An,an,Lt,Ne),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:Ne,y:Ue},{x:mt,y:Lt}){let an=this._initialContainer._getSiblingContainerFromPosition(this,Ne,Ue);!an&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(Ne,Ue)&&(an=this._initialContainer),an&&an!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=an,this._dropContainer.enter(this,Ne,Ue,an===this._initialContainer&&an.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:an,currentIndex:an.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(mt,Lt),this._dropContainer._sortItem(this,Ne,Ue,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(Ne,Ue):this._applyPreviewTransform(Ne-this._pickupPositionInElement.x,Ue-this._pickupPositionInElement.y))}_createPreviewElement(){const Ne=this._previewTemplate,Ue=this.previewClass,mt=Ne?Ne.template:null;let Lt;if(mt&&Ne){const an=Ne.matchSize?this._initialClientRect:null,An=Ne.viewContainer.createEmbeddedView(mt,Ne.context);An.detectChanges(),Lt=Nr(An,this._document),this._previewRef=An,Ne.matchSize?cr(Lt,an):Lt.style.transform=Er(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else Lt=kt(this._rootElement),cr(Lt,this._initialClientRect),this._initialTransform&&(Lt.style.transform=this._initialTransform);return Yr(Lt.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},lr),Xi(Lt,!1),Lt.classList.add("cdk-drag-preview"),Lt.setAttribute("dir",this._direction),Ue&&(Array.isArray(Ue)?Ue.forEach(an=>Lt.classList.add(an)):Lt.classList.add(Ue)),Lt}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const Ne=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(Ne.left,Ne.top);const Ue=function ca(Yt){const Ne=getComputedStyle(Yt),Ue=ms(Ne,"transition-property"),mt=Ue.find(On=>"transform"===On||"all"===On);if(!mt)return 0;const Lt=Ue.indexOf(mt),an=ms(Ne,"transition-duration"),An=ms(Ne,"transition-delay");return Ss(an[Lt])+Ss(An[Lt])}(this._preview);return 0===Ue?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(mt=>{const Lt=An=>{var On;(!An||(0,u.sA)(An)===this._preview&&"transform"===An.propertyName)&&(null===(On=this._preview)||void 0===On||On.removeEventListener("transitionend",Lt),mt(),clearTimeout(an))},an=setTimeout(Lt,1.5*Ue);this._preview.addEventListener("transitionend",Lt)}))}_createPlaceholderElement(){const Ne=this._placeholderTemplate,Ue=Ne?Ne.template:null;let mt;return Ue?(this._placeholderRef=Ne.viewContainer.createEmbeddedView(Ue,Ne.context),this._placeholderRef.detectChanges(),mt=Nr(this._placeholderRef,this._document)):mt=kt(this._rootElement),mt.style.pointerEvents="none",mt.classList.add("cdk-drag-placeholder"),mt}_getPointerPositionInElement(Ne,Ue,mt){const Lt=Ue===this._rootElement?null:Ue,an=Lt?Lt.getBoundingClientRect():Ne,An=Xs(mt)?mt.targetTouches[0]:mt,On=this._getViewportScrollPosition();return{x:an.left-Ne.left+(An.pageX-an.left-On.left),y:an.top-Ne.top+(An.pageY-an.top-On.top)}}_getPointerPositionOnPage(Ne){const Ue=this._getViewportScrollPosition(),mt=Xs(Ne)?Ne.touches[0]||Ne.changedTouches[0]||{pageX:0,pageY:0}:Ne,Lt=mt.pageX-Ue.left,an=mt.pageY-Ue.top;if(this._ownerSVGElement){const An=this._ownerSVGElement.getScreenCTM();if(An){const On=this._ownerSVGElement.createSVGPoint();return On.x=Lt,On.y=an,On.matrixTransform(An.inverse())}}return{x:Lt,y:an}}_getConstrainedPointerPosition(Ne){const Ue=this._dropContainer?this._dropContainer.lockAxis:null;let{x:mt,y:Lt}=this.constrainPosition?this.constrainPosition(Ne,this,this._initialClientRect,this._pickupPositionInElement):Ne;if("x"===this.lockAxis||"x"===Ue?Lt=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===Ue)&&(mt=this._pickupPositionOnPage.x),this._boundaryRect){const{x:an,y:An}=this._pickupPositionInElement,On=this._boundaryRect,{width:$n,height:ni}=this._getPreviewRect(),Ai=On.top+An,Wi=On.bottom-(ni-An);mt=Rr(mt,On.left+an,On.right-($n-an)),Lt=Rr(Lt,Ai,Wi)}return{x:mt,y:Lt}}_updatePointerDirectionDelta(Ne){const{x:Ue,y:mt}=Ne,Lt=this._pointerDirectionDelta,an=this._pointerPositionAtLastDirectionChange,An=Math.abs(Ue-an.x),On=Math.abs(mt-an.y);return An>this._config.pointerDirectionChangeThreshold&&(Lt.x=Ue>an.x?1:-1,an.x=Ue),On>this._config.pointerDirectionChangeThreshold&&(Lt.y=mt>an.y?1:-1,an.y=mt),Lt}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const Ne=this._handles.length>0||!this.isDragging();Ne!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=Ne,Xi(this._rootElement,Ne))}_removeRootElementListeners(Ne){Ne.removeEventListener("mousedown",this._pointerDown,us),Ne.removeEventListener("touchstart",this._pointerDown,Po),Ne.removeEventListener("dragstart",this._nativeDragStart,us)}_applyRootElementTransform(Ne,Ue){const mt=Er(Ne,Ue),Lt=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=Lt.transform&&"none"!=Lt.transform?Lt.transform:""),Lt.transform=ar(mt,this._initialTransform)}_applyPreviewTransform(Ne,Ue){var mt;const Lt=null!==(mt=this._previewTemplate)&&void 0!==mt&&mt.template?void 0:this._initialTransform,an=Er(Ne,Ue);this._preview.style.transform=ar(an,Lt)}_getDragDistance(Ne){const Ue=this._pickupPositionOnPage;return Ue?{x:Ne.x-Ue.x,y:Ne.y-Ue.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:Ne,y:Ue}=this._passiveTransform;if(0===Ne&&0===Ue||this.isDragging()||!this._boundaryElement)return;const mt=this._rootElement.getBoundingClientRect(),Lt=this._boundaryElement.getBoundingClientRect();if(0===Lt.width&&0===Lt.height||0===mt.width&&0===mt.height)return;const an=Lt.left-mt.left,An=mt.right-Lt.right,On=Lt.top-mt.top,$n=mt.bottom-Lt.bottom;Lt.width>mt.width?(an>0&&(Ne+=an),An>0&&(Ne-=An)):Ne=0,Lt.height>mt.height?(On>0&&(Ue+=On),$n>0&&(Ue-=$n)):Ue=0,(Ne!==this._passiveTransform.x||Ue!==this._passiveTransform.y)&&this.setFreeDragPosition({y:Ue,x:Ne})}_getDragStartDelay(Ne){const Ue=this.dragStartDelay;return"number"==typeof Ue?Ue:Xs(Ne)?Ue.touch:Ue?Ue.mouse:0}_updateOnScroll(Ne){const Ue=this._parentPositions.handleScroll(Ne);if(Ue){const mt=(0,u.sA)(Ne);this._boundaryRect&&mt!==this._boundaryElement&&mt.contains(this._boundaryElement)&&nt(this._boundaryRect,Ue.top,Ue.left),this._pickupPositionOnPage.x+=Ue.left,this._pickupPositionOnPage.y+=Ue.top,this._dropContainer||(this._activeTransform.x-=Ue.left,this._activeTransform.y-=Ue.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var Ne;return(null===(Ne=this._parentPositions.positions.get(this._document))||void 0===Ne?void 0:Ne.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,u.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(Ne,Ue){const mt=this._previewContainer||"global";if("parent"===mt)return Ne;if("global"===mt){const Lt=this._document;return Ue||Lt.fullscreenElement||Lt.webkitFullscreenElement||Lt.mozFullScreenElement||Lt.msFullscreenElement||Lt.body}return(0,f.fI)(mt)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(Ne){return this._handles.find(Ue=>Ne.target&&(Ne.target===Ue||Ue.contains(Ne.target)))}}function Er(Yt,Ne){return`translate3d(${Math.round(Yt)}px, ${Math.round(Ne)}px, 0)`}function Rr(Yt,Ne,Ue){return Math.max(Ne,Math.min(Ue,Yt))}function Xs(Yt){return"t"===Yt.type[0]}function Nr(Yt,Ne){const Ue=Yt.rootNodes;if(1===Ue.length&&Ue[0].nodeType===Ne.ELEMENT_NODE)return Ue[0];const mt=Ne.createElement("div");return Ue.forEach(Lt=>mt.appendChild(Lt)),mt}function cr(Yt,Ne){Yt.style.width=`${Ne.width}px`,Yt.style.height=`${Ne.height}px`,Yt.style.transform=Er(Ne.left,Ne.top)}function ma(Yt,Ne,Ue){const mt=Oe(Ne,Yt.length-1),Lt=Oe(Ue,Yt.length-1);if(mt===Lt)return;const an=Yt[mt],An=Lt<mt?-1:1;for(let On=mt;On!==Lt;On+=An)Yt[On]=Yt[On+An];Yt[Lt]=an}function Fa(Yt,Ne,Ue,mt){const Lt=Oe(Ue,Yt.length-1),an=Oe(mt,Ne.length);Yt.length&&Ne.splice(an,0,Yt.splice(Lt,1)[0])}function Oe(Yt,Ne){return Math.max(0,Math.min(Ne,Yt))}class pt{constructor(Ne,Ue){this._element=Ne,this._dragDropRegistry=Ue,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(Ne){this.withItems(Ne)}sort(Ne,Ue,mt,Lt){const an=this._itemPositions,An=this._getItemIndexFromPointerPosition(Ne,Ue,mt,Lt);if(-1===An&&an.length>0)return null;const On="horizontal"===this.orientation,$n=an.findIndex(Lo=>Lo.drag===Ne),ni=an[An],Wi=ni.clientRect,zo=$n>An?1:-1,Jo=this._getItemOffsetPx(an[$n].clientRect,Wi,zo),fo=this._getSiblingOffsetPx($n,an,zo),Bo=an.slice();return ma(an,$n,An),an.forEach((Lo,dr)=>{if(Bo[dr]===Lo)return;const Kr=Lo.drag===Ne,Fr=Kr?Jo:fo,Us=Kr?Ne.getPlaceholderElement():Lo.drag.getRootElement();Lo.offset+=Fr,On?(Us.style.transform=ar(`translate3d(${Math.round(Lo.offset)}px, 0, 0)`,Lo.initialTransform),nt(Lo.clientRect,0,Fr)):(Us.style.transform=ar(`translate3d(0, ${Math.round(Lo.offset)}px, 0)`,Lo.initialTransform),nt(Lo.clientRect,Fr,0))}),this._previousSwap.overlaps=jr(Wi,Ue,mt),this._previousSwap.drag=ni.drag,this._previousSwap.delta=On?Lt.x:Lt.y,{previousIndex:$n,currentIndex:An}}enter(Ne,Ue,mt,Lt){const an=null==Lt||Lt<0?this._getItemIndexFromPointerPosition(Ne,Ue,mt):Lt,An=this._activeDraggables,On=An.indexOf(Ne),$n=Ne.getPlaceholderElement();let ni=An[an];if(ni===Ne&&(ni=An[an+1]),!ni&&(null==an||-1===an||an<An.length-1)&&this._shouldEnterAsFirstChild(Ue,mt)&&(ni=An[0]),On>-1&&An.splice(On,1),ni&&!this._dragDropRegistry.isDragging(ni)){const Ai=ni.getRootElement();Ai.parentElement.insertBefore($n,Ai),An.splice(an,0,Ne)}else(0,f.fI)(this._element).appendChild($n),An.push(Ne);$n.style.transform="",this._cacheItemPositions()}withItems(Ne){this._activeDraggables=Ne.slice(),this._cacheItemPositions()}withSortPredicate(Ne){this._sortPredicate=Ne}reset(){this._activeDraggables.forEach(Ne=>{var Ue;const mt=Ne.getRootElement();if(mt){const Lt=null===(Ue=this._itemPositions.find(an=>an.drag===Ne))||void 0===Ue?void 0:Ue.initialTransform;mt.style.transform=Lt||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(Ne){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(mt=>mt.drag===Ne)}updateOnScroll(Ne,Ue){this._itemPositions.forEach(({clientRect:mt})=>{nt(mt,Ne,Ue)}),this._itemPositions.forEach(({drag:mt})=>{this._dragDropRegistry.isDragging(mt)&&mt._sortFromLastPointerPosition()})}_cacheItemPositions(){const Ne="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(Ue=>{const mt=Ue.getVisibleElement();return{drag:Ue,offset:0,initialTransform:mt.style.transform||"",clientRect:Bs(mt)}}).sort((Ue,mt)=>Ne?Ue.clientRect.left-mt.clientRect.left:Ue.clientRect.top-mt.clientRect.top)}_getItemOffsetPx(Ne,Ue,mt){const Lt="horizontal"===this.orientation;let an=Lt?Ue.left-Ne.left:Ue.top-Ne.top;return-1===mt&&(an+=Lt?Ue.width-Ne.width:Ue.height-Ne.height),an}_getSiblingOffsetPx(Ne,Ue,mt){const Lt="horizontal"===this.orientation,an=Ue[Ne].clientRect,An=Ue[Ne+-1*mt];let On=an[Lt?"width":"height"]*mt;if(An){const $n=Lt?"left":"top",ni=Lt?"right":"bottom";-1===mt?On-=An.clientRect[$n]-an[ni]:On+=an[$n]-An.clientRect[ni]}return On}_shouldEnterAsFirstChild(Ne,Ue){if(!this._activeDraggables.length)return!1;const mt=this._itemPositions,Lt="horizontal"===this.orientation;if(mt[0].drag!==this._activeDraggables[0]){const An=mt[mt.length-1].clientRect;return Lt?Ne>=An.right:Ue>=An.bottom}{const An=mt[0].clientRect;return Lt?Ne<=An.left:Ue<=An.top}}_getItemIndexFromPointerPosition(Ne,Ue,mt,Lt){const an="horizontal"===this.orientation,An=this._itemPositions.findIndex(({drag:On,clientRect:$n})=>{if(On===Ne)return!1;if(Lt){const ni=an?Lt.x:Lt.y;if(On===this._previousSwap.drag&&this._previousSwap.overlaps&&ni===this._previousSwap.delta)return!1}return an?Ue>=Math.floor($n.left)&&Ue<Math.floor($n.right):mt>=Math.floor($n.top)&&mt<Math.floor($n.bottom)});return-1!==An&&this._sortPredicate(An,Ne)?An:-1}}class on{constructor(Ne,Ue,mt,Lt,an){this._dragDropRegistry=Ue,this._ngZone=Lt,this._viewportRuler=an,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Eo.x,this.entered=new Eo.x,this.exited=new Eo.x,this.dropped=new Eo.x,this.sorted=new Eo.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Es.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Eo.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,Mi.F)(0,$o.Z).pipe((0,Vo.R)(this._stopScrollTimers)).subscribe(()=>{const An=this._scrollNode,On=this.autoScrollStep;1===this._verticalScrollDirection?An.scrollBy(0,-On):2===this._verticalScrollDirection&&An.scrollBy(0,On),1===this._horizontalScrollDirection?An.scrollBy(-On,0):2===this._horizontalScrollDirection&&An.scrollBy(On,0)})},this.element=(0,f.fI)(Ne),this._document=mt,this.withScrollableParents([this.element]),Ue.registerDropContainer(this),this._parentPositions=new Se(mt),this._sortStrategy=new pt(this.element,Ue),this._sortStrategy.withSortPredicate((An,On)=>this.sortPredicate(An,On,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(Ne,Ue,mt,Lt){this._draggingStarted(),null==Lt&&this.sortingDisabled&&(Lt=this._draggables.indexOf(Ne)),this._sortStrategy.enter(Ne,Ue,mt,Lt),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:Ne,container:this,currentIndex:this.getItemIndex(Ne)})}exit(Ne){this._reset(),this.exited.next({item:Ne,container:this})}drop(Ne,Ue,mt,Lt,an,An,On,$n={}){this._reset(),this.dropped.next({item:Ne,currentIndex:Ue,previousIndex:mt,container:this,previousContainer:Lt,isPointerOverContainer:an,distance:An,dropPoint:On,event:$n})}withItems(Ne){const Ue=this._draggables;return this._draggables=Ne,Ne.forEach(mt=>mt._withDropContainer(this)),this.isDragging()&&(Ue.filter(Lt=>Lt.isDragging()).every(Lt=>-1===Ne.indexOf(Lt))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(Ne){return this._sortStrategy.direction=Ne,this}connectedTo(Ne){return this._siblings=Ne.slice(),this}withOrientation(Ne){return this._sortStrategy.orientation=Ne,this}withScrollableParents(Ne){const Ue=(0,f.fI)(this.element);return this._scrollableElements=-1===Ne.indexOf(Ue)?[Ue,...Ne]:Ne.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(Ne){return this._isDragging?this._sortStrategy.getItemIndex(Ne):this._draggables.indexOf(Ne)}isReceiving(){return this._activeSiblings.size>0}_sortItem(Ne,Ue,mt,Lt){if(this.sortingDisabled||!this._clientRect||!Ze(this._clientRect,.05,Ue,mt))return;const an=this._sortStrategy.sort(Ne,Ue,mt,Lt);an&&this.sorted.next({previousIndex:an.previousIndex,currentIndex:an.currentIndex,container:this,item:Ne})}_startScrollingIfNecessary(Ne,Ue){if(this.autoScrollDisabled)return;let mt,Lt=0,an=0;if(this._parentPositions.positions.forEach((An,On)=>{On===this._document||!An.clientRect||mt||Ze(An.clientRect,.05,Ne,Ue)&&([Lt,an]=function ui(Yt,Ne,Ue,mt){const Lt=Dn(Ne,mt),an=Nn(Ne,Ue);let An=0,On=0;if(Lt){const $n=Yt.scrollTop;1===Lt?$n>0&&(An=1):Yt.scrollHeight-$n>Yt.clientHeight&&(An=2)}if(an){const $n=Yt.scrollLeft;1===an?$n>0&&(On=1):Yt.scrollWidth-$n>Yt.clientWidth&&(On=2)}return[An,On]}(On,An.clientRect,Ne,Ue),(Lt||an)&&(mt=On))}),!Lt&&!an){const{width:An,height:On}=this._viewportRuler.getViewportSize(),$n={width:An,height:On,top:0,right:An,bottom:On,left:0};Lt=Dn($n,Ue),an=Nn($n,Ne),mt=window}mt&&(Lt!==this._verticalScrollDirection||an!==this._horizontalScrollDirection||mt!==this._scrollNode)&&(this._verticalScrollDirection=Lt,this._horizontalScrollDirection=an,this._scrollNode=mt,(Lt||an)&&mt?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const Ne=(0,f.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=Ne.msScrollSnapType||Ne.scrollSnapType||"",Ne.scrollSnapType=Ne.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const Ne=(0,f.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(Ne).clientRect}_reset(){this._isDragging=!1;const Ne=(0,f.fI)(this.element).style;Ne.scrollSnapType=Ne.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(Ue=>Ue._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(Ne,Ue){return null!=this._clientRect&&jr(this._clientRect,Ne,Ue)}_getSiblingContainerFromPosition(Ne,Ue,mt){return this._siblings.find(Lt=>Lt._canReceive(Ne,Ue,mt))}_canReceive(Ne,Ue,mt){if(!this._clientRect||!jr(this._clientRect,Ue,mt)||!this.enterPredicate(Ne,this))return!1;const Lt=this._getShadowRoot().elementFromPoint(Ue,mt);if(!Lt)return!1;const an=(0,f.fI)(this.element);return Lt===an||an.contains(Lt)}_startReceiving(Ne,Ue){const mt=this._activeSiblings;!mt.has(Ne)&&Ue.every(Lt=>this.enterPredicate(Lt,this)||this._draggables.indexOf(Lt)>-1)&&(mt.add(Ne),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(Ne){this._activeSiblings.delete(Ne),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Ne=>{if(this.isDragging()){const Ue=this._parentPositions.handleScroll(Ne);Ue&&this._sortStrategy.updateOnScroll(Ue.top,Ue.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const Ne=(0,u.kV)((0,f.fI)(this.element));this._cachedShadowRoot=Ne||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const Ne=this._sortStrategy.getActiveItemsSnapshot().filter(Ue=>Ue.isDragging());this._siblings.forEach(Ue=>Ue._startReceiving(this,Ne))}}function Dn(Yt,Ne){const{top:Ue,bottom:mt,height:Lt}=Yt,an=.05*Lt;return Ne>=Ue-an&&Ne<=Ue+an?1:Ne>=mt-an&&Ne<=mt+an?2:0}function Nn(Yt,Ne){const{left:Ue,right:mt,width:Lt}=Yt,an=.05*Lt;return Ne>=Ue-an&&Ne<=Ue+an?1:Ne>=mt-an&&Ne<=mt+an?2:0}const eo=(0,u.i$)({passive:!1,capture:!0});let uo=(()=>{class Yt{constructor(Ue,mt){this._ngZone=Ue,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=Lt=>Lt.isDragging(),this.pointerMove=new Eo.x,this.pointerUp=new Eo.x,this.scroll=new Eo.x,this._preventDefaultWhileDragging=Lt=>{this._activeDragInstances.length>0&&Lt.preventDefault()},this._persistentTouchmoveListener=Lt=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&Lt.preventDefault(),this.pointerMove.next(Lt))},this._document=mt}registerDropContainer(Ue){this._dropInstances.has(Ue)||this._dropInstances.add(Ue)}registerDragItem(Ue){this._dragInstances.add(Ue),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,eo)})}removeDropContainer(Ue){this._dropInstances.delete(Ue)}removeDragItem(Ue){this._dragInstances.delete(Ue),this.stopDragging(Ue),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,eo)}startDragging(Ue,mt){if(!(this._activeDragInstances.indexOf(Ue)>-1)&&(this._activeDragInstances.push(Ue),1===this._activeDragInstances.length)){const Lt=mt.type.startsWith("touch");this._globalListeners.set(Lt?"touchend":"mouseup",{handler:an=>this.pointerUp.next(an),options:!0}).set("scroll",{handler:an=>this.scroll.next(an),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:eo}),Lt||this._globalListeners.set("mousemove",{handler:an=>this.pointerMove.next(an),options:eo}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((an,An)=>{this._document.addEventListener(An,an.handler,an.options)})})}}stopDragging(Ue){const mt=this._activeDragInstances.indexOf(Ue);mt>-1&&(this._activeDragInstances.splice(mt,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(Ue){return this._activeDragInstances.indexOf(Ue)>-1}scrolled(Ue){const mt=[this.scroll];return Ue&&Ue!==this._document&&mt.push(new Fo.y(Lt=>this._ngZone.runOutsideAngular(()=>{const An=On=>{this._activeDragInstances.length&&Lt.next(On)};return Ue.addEventListener("scroll",An,!0),()=>{Ue.removeEventListener("scroll",An,!0)}}))),(0,or.T)(...mt)}ngOnDestroy(){this._dragInstances.forEach(Ue=>this.removeDragItem(Ue)),this._dropInstances.forEach(Ue=>this.removeDropContainer(Ue)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((Ue,mt)=>{this._document.removeEventListener(mt,Ue.handler,Ue.options)}),this._globalListeners.clear()}}return Yt.\u0275fac=function(Ue){return new(Ue||Yt)(e.LFG(e.R0b),e.LFG(d.K0))},Yt.\u0275prov=e.Yz7({token:Yt,factory:Yt.\u0275fac,providedIn:"root"}),Yt})();const mo={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let ji=(()=>{class Yt{constructor(Ue,mt,Lt,an){this._document=Ue,this._ngZone=mt,this._viewportRuler=Lt,this._dragDropRegistry=an}createDrag(Ue,mt=mo){return new wr(Ue,mt,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(Ue){return new on(Ue,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return Yt.\u0275fac=function(Ue){return new(Ue||Yt)(e.LFG(d.K0),e.LFG(e.R0b),e.LFG(Oi.rL),e.LFG(uo))},Yt.\u0275prov=e.Yz7({token:Yt,factory:Yt.\u0275fac,providedIn:"root"}),Yt})();const _o=new e.OlP("CDK_DRAG_PARENT"),bi=new e.OlP("CdkDropListGroup");let yo=(()=>{class Yt{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(Ue){this._disabled=(0,f.Ig)(Ue)}ngOnDestroy(){this._items.clear()}}return Yt.\u0275fac=function(Ue){return new(Ue||Yt)},Yt.\u0275dir=e.lG2({type:Yt,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[e._Bn([{provide:bi,useExisting:Yt}])]}),Yt})();const jo=new e.OlP("CDK_DRAG_CONFIG");let ds=0;const ur=new e.OlP("CdkDropList");let ft=(()=>{class Yt{constructor(Ue,mt,Lt,an,An,On,$n){this.element=Ue,this._changeDetectorRef=Lt,this._scrollDispatcher=an,this._dir=An,this._group=On,this._destroyed=new Eo.x,this.connectedTo=[],this.id="cdk-drop-list-"+ds++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.sorted=new e.vpe,this._unsortedItems=new Set,this._dropListRef=mt.createDropList(Ue),this._dropListRef.data=this,$n&&this._assignDefaults($n),this._dropListRef.enterPredicate=(ni,Ai)=>this.enterPredicate(ni.data,Ai.data),this._dropListRef.sortPredicate=(ni,Ai,Wi)=>this.sortPredicate(ni,Ai.data,Wi.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),Yt._dropLists.push(this),On&&On._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(Ue){this._dropListRef.disabled=this._disabled=(0,f.Ig)(Ue)}addItem(Ue){this._unsortedItems.add(Ue),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(Ue){this._unsortedItems.delete(Ue),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((Ue,mt)=>Ue._dragRef.getVisibleElement().compareDocumentPosition(mt._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const Ue=Yt._dropLists.indexOf(this);Ue>-1&&Yt._dropLists.splice(Ue,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(Ue){this._dir&&this._dir.change.pipe((0,Ao.O)(this._dir.value),(0,Vo.R)(this._destroyed)).subscribe(mt=>Ue.withDirection(mt)),Ue.beforeStarted.subscribe(()=>{const mt=(0,f.Eq)(this.connectedTo).map(Lt=>"string"==typeof Lt?Yt._dropLists.find(An=>An.id===Lt):Lt);if(this._group&&this._group._items.forEach(Lt=>{-1===mt.indexOf(Lt)&&mt.push(Lt)}),!this._scrollableParentsResolved){const Lt=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(an=>an.getElementRef().nativeElement);this._dropListRef.withScrollableParents(Lt),this._scrollableParentsResolved=!0}Ue.disabled=this.disabled,Ue.lockAxis=this.lockAxis,Ue.sortingDisabled=(0,f.Ig)(this.sortingDisabled),Ue.autoScrollDisabled=(0,f.Ig)(this.autoScrollDisabled),Ue.autoScrollStep=(0,f.su)(this.autoScrollStep,2),Ue.connectedTo(mt.filter(Lt=>Lt&&Lt!==this).map(Lt=>Lt._dropListRef)).withOrientation(this.orientation)})}_handleEvents(Ue){Ue.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),Ue.entered.subscribe(mt=>{this.entered.emit({container:this,item:mt.item.data,currentIndex:mt.currentIndex})}),Ue.exited.subscribe(mt=>{this.exited.emit({container:this,item:mt.item.data}),this._changeDetectorRef.markForCheck()}),Ue.sorted.subscribe(mt=>{this.sorted.emit({previousIndex:mt.previousIndex,currentIndex:mt.currentIndex,container:this,item:mt.item.data})}),Ue.dropped.subscribe(mt=>{this.dropped.emit({previousIndex:mt.previousIndex,currentIndex:mt.currentIndex,previousContainer:mt.previousContainer.data,container:mt.container.data,item:mt.item.data,isPointerOverContainer:mt.isPointerOverContainer,distance:mt.distance,dropPoint:mt.dropPoint,event:mt.event}),this._changeDetectorRef.markForCheck()})}_assignDefaults(Ue){const{lockAxis:mt,draggingDisabled:Lt,sortingDisabled:an,listAutoScrollDisabled:An,listOrientation:On}=Ue;this.disabled=null!=Lt&&Lt,this.sortingDisabled=null!=an&&an,this.autoScrollDisabled=null!=An&&An,this.orientation=On||"vertical",mt&&(this.lockAxis=mt)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(Ue=>Ue._dragRef))}}return Yt._dropLists=[],Yt.\u0275fac=function(Ue){return new(Ue||Yt)(e.Y36(e.SBq),e.Y36(ji),e.Y36(e.sBO),e.Y36(Oi.mF),e.Y36(rr.Is,8),e.Y36(bi,12),e.Y36(jo,8))},Yt.\u0275dir=e.lG2({type:Yt,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(Ue,mt){2&Ue&&(e.uIk("id",mt.id),e.ekj("cdk-drop-list-disabled",mt.disabled)("cdk-drop-list-dragging",mt._dropListRef.isDragging())("cdk-drop-list-receiving",mt._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[e._Bn([{provide:bi,useValue:void 0},{provide:ur,useExisting:Yt}])]}),Yt})();const ae=new e.OlP("CdkDragHandle"),We=new e.OlP("CdkDragPlaceholder"),Jt=new e.OlP("CdkDragPreview");let En=(()=>{class Yt{constructor(Ue,mt,Lt,an,An,On,$n,ni,Ai,Wi,zo){this.element=Ue,this.dropContainer=mt,this._ngZone=an,this._viewContainerRef=An,this._dir=$n,this._changeDetectorRef=Ai,this._selfHandle=Wi,this._parentDrag=zo,this._destroyed=new Eo.x,this.started=new e.vpe,this.released=new e.vpe,this.ended=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.dropped=new e.vpe,this.moved=new Fo.y(Jo=>{const fo=this._dragRef.moved.pipe((0,Ri.U)(Bo=>({source:this,pointerPosition:Bo.pointerPosition,event:Bo.event,delta:Bo.delta,distance:Bo.distance}))).subscribe(Jo);return()=>{fo.unsubscribe()}}),this._dragRef=ni.createDrag(Ue,{dragStartThreshold:On&&null!=On.dragStartThreshold?On.dragStartThreshold:5,pointerDirectionChangeThreshold:On&&null!=On.pointerDirectionChangeThreshold?On.pointerDirectionChangeThreshold:5,zIndex:null==On?void 0:On.zIndex}),this._dragRef.data=this,Yt._dragInstances.push(this),On&&this._assignDefaults(On),mt&&(this._dragRef._withDropContainer(mt._dropListRef),mt.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(Ue){this._disabled=(0,f.Ig)(Ue),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(Ue){this._dragRef.setFreeDragPosition(Ue)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,sr.q)(1),(0,Vo.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(Ue){const mt=Ue.rootElementSelector,Lt=Ue.freeDragPosition;mt&&!mt.firstChange&&this._updateRootElement(),Lt&&!Lt.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const Ue=Yt._dragInstances.indexOf(this);Ue>-1&&Yt._dragInstances.splice(Ue,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var Ue;const mt=this.element.nativeElement;let Lt=mt;this.rootElementSelector&&(Lt=void 0!==mt.closest?mt.closest(this.rootElementSelector):null===(Ue=mt.parentElement)||void 0===Ue?void 0:Ue.closest(this.rootElementSelector)),this._dragRef.withRootElement(Lt||mt)}_getBoundaryElement(){const Ue=this.boundaryElement;return Ue?"string"==typeof Ue?this.element.nativeElement.closest(Ue):(0,f.fI)(Ue):null}_syncInputs(Ue){Ue.beforeStarted.subscribe(()=>{if(!Ue.isDragging()){const mt=this._dir,Lt=this.dragStartDelay,an=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,An=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;Ue.disabled=this.disabled,Ue.lockAxis=this.lockAxis,Ue.dragStartDelay="object"==typeof Lt&&Lt?Lt:(0,f.su)(Lt),Ue.constrainPosition=this.constrainPosition,Ue.previewClass=this.previewClass,Ue.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(an).withPreviewTemplate(An).withPreviewContainer(this.previewContainer||"global"),mt&&Ue.withDirection(mt.value)}}),Ue.beforeStarted.pipe((0,sr.q)(1)).subscribe(()=>{var mt;if(this._parentDrag)return void Ue.withParent(this._parentDrag._dragRef);let Lt=this.element.nativeElement.parentElement;for(;Lt;){if(Lt.classList.contains("cdk-drag")){Ue.withParent((null===(mt=Yt._dragInstances.find(an=>an.element.nativeElement===Lt))||void 0===mt?void 0:mt._dragRef)||null);break}Lt=Lt.parentElement}})}_handleEvents(Ue){Ue.started.subscribe(mt=>{this.started.emit({source:this,event:mt.event}),this._changeDetectorRef.markForCheck()}),Ue.released.subscribe(mt=>{this.released.emit({source:this,event:mt.event})}),Ue.ended.subscribe(mt=>{this.ended.emit({source:this,distance:mt.distance,dropPoint:mt.dropPoint,event:mt.event}),this._changeDetectorRef.markForCheck()}),Ue.entered.subscribe(mt=>{this.entered.emit({container:mt.container.data,item:this,currentIndex:mt.currentIndex})}),Ue.exited.subscribe(mt=>{this.exited.emit({container:mt.container.data,item:this})}),Ue.dropped.subscribe(mt=>{this.dropped.emit({previousIndex:mt.previousIndex,currentIndex:mt.currentIndex,previousContainer:mt.previousContainer.data,container:mt.container.data,isPointerOverContainer:mt.isPointerOverContainer,item:this,distance:mt.distance,dropPoint:mt.dropPoint,event:mt.event})})}_assignDefaults(Ue){const{lockAxis:mt,dragStartDelay:Lt,constrainPosition:an,previewClass:An,boundaryElement:On,draggingDisabled:$n,rootElementSelector:ni,previewContainer:Ai}=Ue;this.disabled=null!=$n&&$n,this.dragStartDelay=Lt||0,mt&&(this.lockAxis=mt),an&&(this.constrainPosition=an),An&&(this.previewClass=An),On&&(this.boundaryElement=On),ni&&(this.rootElementSelector=ni),Ai&&(this.previewContainer=Ai)}_setupHandlesListener(){this._handles.changes.pipe((0,Ao.O)(this._handles),(0,fa.b)(Ue=>{const mt=Ue.filter(Lt=>Lt._parentDrag===this).map(Lt=>Lt.element);this._selfHandle&&this.rootElementSelector&&mt.push(this.element),this._dragRef.withHandles(mt)}),(0,Qn.w)(Ue=>(0,or.T)(...Ue.map(mt=>mt._stateChanges.pipe((0,Ao.O)(mt))))),(0,Vo.R)(this._destroyed)).subscribe(Ue=>{const mt=this._dragRef,Lt=Ue.element.nativeElement;Ue.disabled?mt.disableHandle(Lt):mt.enableHandle(Lt)})}}return Yt._dragInstances=[],Yt.\u0275fac=function(Ue){return new(Ue||Yt)(e.Y36(e.SBq),e.Y36(ur,12),e.Y36(d.K0),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(jo,8),e.Y36(rr.Is,8),e.Y36(ji),e.Y36(e.sBO),e.Y36(ae,10),e.Y36(_o,12))},Yt.\u0275dir=e.lG2({type:Yt,selectors:[["","cdkDrag",""]],contentQueries:function(Ue,mt,Lt){if(1&Ue&&(e.Suo(Lt,Jt,5),e.Suo(Lt,We,5),e.Suo(Lt,ae,5)),2&Ue){let an;e.iGM(an=e.CRH())&&(mt._previewTemplate=an.first),e.iGM(an=e.CRH())&&(mt._placeholderTemplate=an.first),e.iGM(an=e.CRH())&&(mt._handles=an)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(Ue,mt){2&Ue&&e.ekj("cdk-drag-disabled",mt.disabled)("cdk-drag-dragging",mt._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[e._Bn([{provide:_o,useExisting:Yt}]),e.TTD]}),Yt})(),Vn=(()=>{class Yt{}return Yt.\u0275fac=function(Ue){return new(Ue||Yt)},Yt.\u0275mod=e.oAB({type:Yt}),Yt.\u0275inj=e.cJS({providers:[ji],imports:[Oi.ZD]}),Yt})()},925:(hn,ht,b)=>{"use strict";b.d(ht,{i$:()=>V,kV:()=>N,sA:()=>$,t4:()=>f});var e=b(5e3),d=b(9808);let u;try{u="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(S){u=!1}let R,k,f=(()=>{class S{constructor(K){this._platformId=K,this.isBrowser=this._platformId?(0,d.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!u)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return S.\u0275fac=function(K){return new(K||S)(e.LFG(e.Lbi))},S.\u0275prov=e.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function V(S){return function L(){if(null==R&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>R=!0}))}finally{R=R||!1}return R}()?S:!!S.capture}function N(S){if(function B(){if(null==k){const S="undefined"!=typeof document?document.head:null;k=!(!S||!S.createShadowRoot&&!S.attachShadow)}return k}()){const O=S.getRootNode?S.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&O instanceof ShadowRoot)return O}return null}function $(S){return S.composedPath?S.composedPath()[0]:S.target}},6731:(hn,ht,b)=>{"use strict";b.d(ht,{ZD:()=>me,mF:()=>xe,Cl:()=>De,rL:()=>it});var e=b(3191),d=b(5e3),u=b(7579),f=b(9646),_=b(9751),P=b(4968),a=(b(6406),b(4408));let L,R=1;const V={};function F(ot){return ot in V&&(delete V[ot],!0)}const T={setImmediate(ot){const Ct=R++;return V[Ct]=!0,L||(L=Promise.resolve()),L.then(()=>F(Ct)&&ot()),Ct},clearImmediate(ot){F(ot)}},{setImmediate:D,clearImmediate:k}=T,B={setImmediate(...ot){const{delegate:Ct}=B;return((null==Ct?void 0:Ct.setImmediate)||D)(...ot)},clearImmediate(ot){const{delegate:Ct}=B;return((null==Ct?void 0:Ct.clearImmediate)||k)(ot)},delegate:void 0};var ce=b(7565);new class $ extends ce.v{flush(Ct){this._active=!0,this._scheduled=void 0;const{actions:Ot}=this;let Ft,Mt=-1;Ct=Ct||Ot.shift();const Ye=Ot.length;do{if(Ft=Ct.execute(Ct.state,Ct.delay))break}while(++Mt<Ye&&(Ct=Ot.shift()));if(this._active=!1,Ft){for(;++Mt<Ye&&(Ct=Ot.shift());)Ct.unsubscribe();throw Ft}}}(class N extends a.o{constructor(Ct,Ot){super(Ct,Ot),this.scheduler=Ct,this.work=Ot}requestAsyncId(Ct,Ot,Ft=0){return null!==Ft&&Ft>0?super.requestAsyncId(Ct,Ot,Ft):(Ct.actions.push(this),Ct._scheduled||(Ct._scheduled=B.setImmediate(Ct.flush.bind(Ct,void 0))))}recycleAsyncId(Ct,Ot,Ft=0){if(null!=Ft&&Ft>0||null==Ft&&this.delay>0)return super.recycleAsyncId(Ct,Ot,Ft);0===Ct.actions.length&&(B.clearImmediate(Ot),Ct._scheduled=void 0)}});var O=b(4986),K=b(4482),ue=b(8421),q=b(5403),j=b(5963);function fe(ot,Ct=O.P){return function G(ot){return(0,K.e)((Ct,Ot)=>{let Ft=!1,Mt=null,Ye=null,st=!1;const je=()=>{if(null==Ye||Ye.unsubscribe(),Ye=null,Ft){Ft=!1;const se=Mt;Mt=null,Ot.next(se)}st&&Ot.complete()},It=()=>{Ye=null,st&&Ot.complete()};Ct.subscribe(new q.Q(Ot,se=>{Ft=!0,Mt=se,Ye||(0,ue.Xf)(ot(se)).subscribe(Ye=new q.Q(Ot,je,It))},()=>{st=!0,(!Ft||!Ye||Ye.closed)&&Ot.complete()}))})}(()=>(0,j.H)(ot,Ct))}var ne=b(9300),J=b(9808),X=b(925),W=b(226);let xe=(()=>{class ot{constructor(Ot,Ft,Mt){this._ngZone=Ot,this._platform=Ft,this._scrolled=new u.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Mt}register(Ot){this.scrollContainers.has(Ot)||this.scrollContainers.set(Ot,Ot.elementScrolled().subscribe(()=>this._scrolled.next(Ot)))}deregister(Ot){const Ft=this.scrollContainers.get(Ot);Ft&&(Ft.unsubscribe(),this.scrollContainers.delete(Ot))}scrolled(Ot=20){return this._platform.isBrowser?new _.y(Ft=>{this._globalSubscription||this._addGlobalListener();const Mt=Ot>0?this._scrolled.pipe(fe(Ot)).subscribe(Ft):this._scrolled.subscribe(Ft);return this._scrolledCount++,()=>{Mt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,f.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Ot,Ft)=>this.deregister(Ft)),this._scrolled.complete()}ancestorScrolled(Ot,Ft){const Mt=this.getAncestorScrollContainers(Ot);return this.scrolled(Ft).pipe((0,ne.h)(Ye=>!Ye||Mt.indexOf(Ye)>-1))}getAncestorScrollContainers(Ot){const Ft=[];return this.scrollContainers.forEach((Mt,Ye)=>{this._scrollableContainsElement(Ye,Ot)&&Ft.push(Ye)}),Ft}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Ot,Ft){let Mt=(0,e.fI)(Ft),Ye=Ot.getElementRef().nativeElement;do{if(Mt==Ye)return!0}while(Mt=Mt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Ot=this._getWindow();return(0,P.R)(Ot.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return ot.\u0275fac=function(Ot){return new(Ot||ot)(d.LFG(d.R0b),d.LFG(X.t4),d.LFG(J.K0,8))},ot.\u0275prov=d.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})(),it=(()=>{class ot{constructor(Ot,Ft,Mt){this._platform=Ot,this._change=new u.x,this._changeListener=Ye=>{this._change.next(Ye)},this._document=Mt,Ft.runOutsideAngular(()=>{if(Ot.isBrowser){const Ye=this._getWindow();Ye.addEventListener("resize",this._changeListener),Ye.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Ot=this._getWindow();Ot.removeEventListener("resize",this._changeListener),Ot.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Ot={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Ot}getViewportRect(){const Ot=this.getViewportScrollPosition(),{width:Ft,height:Mt}=this.getViewportSize();return{top:Ot.top,left:Ot.left,bottom:Ot.top+Mt,right:Ot.left+Ft,height:Mt,width:Ft}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Ot=this._document,Ft=this._getWindow(),Mt=Ot.documentElement,Ye=Mt.getBoundingClientRect();return{top:-Ye.top||Ot.body.scrollTop||Ft.scrollY||Mt.scrollTop||0,left:-Ye.left||Ot.body.scrollLeft||Ft.scrollX||Mt.scrollLeft||0}}change(Ot=20){return Ot>0?this._change.pipe(fe(Ot)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Ot=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Ot.innerWidth,height:Ot.innerHeight}:{width:0,height:0}}}return ot.\u0275fac=function(Ot){return new(Ot||ot)(d.LFG(X.t4),d.LFG(d.R0b),d.LFG(J.K0,8))},ot.\u0275prov=d.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})(),me=(()=>{class ot{}return ot.\u0275fac=function(Ot){return new(Ot||ot)},ot.\u0275mod=d.oAB({type:ot}),ot.\u0275inj=d.cJS({}),ot})(),De=(()=>{class ot{}return ot.\u0275fac=function(Ot){return new(Ot||ot)},ot.\u0275mod=d.oAB({type:ot}),ot.\u0275inj=d.cJS({imports:[W.vT,me,W.vT,me]}),ot})()},9808:(hn,ht,b)=>{"use strict";b.d(ht,{Do:()=>$,ED:()=>Rs,EM:()=>xt,H9:()=>vs,HT:()=>_,JF:()=>Hi,JJ:()=>Cs,K0:()=>x,Mx:()=>Wo,NF:()=>Tr,Nd:()=>$s,O5:()=>Mo,OU:()=>xr,Ov:()=>so,PC:()=>vr,PM:()=>At,RF:()=>Ls,S$:()=>B,V_:()=>L,Ye:()=>z,b0:()=>ce,bD:()=>ir,ez:()=>Lr,mk:()=>xo,n9:()=>ws,q:()=>u,qS:()=>Go,rS:()=>Ks,sg:()=>ho,tP:()=>br,uU:()=>Or,w_:()=>P});var e=b(5e3);let d=null;function u(){return d}function _(Oe){d||(d=Oe)}class P{}const x=new e.OlP("DocumentToken");let a=(()=>{class Oe{historyGo(Ve){throw new Error("Not implemented")}}return Oe.\u0275fac=function(Ve){return new(Ve||Oe)},Oe.\u0275prov=e.Yz7({token:Oe,factory:function(){return function R(){return(0,e.LFG)(V)}()},providedIn:"platform"}),Oe})();const L=new e.OlP("Location Initialized");let V=(()=>{class Oe extends a{constructor(Ve){super(),this._doc=Ve,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return u().getBaseHref(this._doc)}onPopState(Ve){const St=u().getGlobalEventTarget(this._doc,"window");return St.addEventListener("popstate",Ve,!1),()=>St.removeEventListener("popstate",Ve)}onHashChange(Ve){const St=u().getGlobalEventTarget(this._doc,"window");return St.addEventListener("hashchange",Ve,!1),()=>St.removeEventListener("hashchange",Ve)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(Ve){this.location.pathname=Ve}pushState(Ve,St,on){F()?this._history.pushState(Ve,St,on):this.location.hash=on}replaceState(Ve,St,on){F()?this._history.replaceState(Ve,St,on):this.location.hash=on}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ve=0){this._history.go(Ve)}getState(){return this._history.state}}return Oe.\u0275fac=function(Ve){return new(Ve||Oe)(e.LFG(x))},Oe.\u0275prov=e.Yz7({token:Oe,factory:function(){return function T(){return new V((0,e.LFG)(x))}()},providedIn:"platform"}),Oe})();function F(){return!!window.history.pushState}function y(Oe,pt){if(0==Oe.length)return pt;if(0==pt.length)return Oe;let Ve=0;return Oe.endsWith("/")&&Ve++,pt.startsWith("/")&&Ve++,2==Ve?Oe+pt.substring(1):1==Ve?Oe+pt:Oe+"/"+pt}function D(Oe){const pt=Oe.match(/#|\?|$/),Ve=pt&&pt.index||Oe.length;return Oe.slice(0,Ve-("/"===Oe[Ve-1]?1:0))+Oe.slice(Ve)}function k(Oe){return Oe&&"?"!==Oe[0]?"?"+Oe:Oe}let B=(()=>{class Oe{historyGo(Ve){throw new Error("Not implemented")}}return Oe.\u0275fac=function(Ve){return new(Ve||Oe)},Oe.\u0275prov=e.Yz7({token:Oe,factory:function(){return(0,e.f3M)(ce)},providedIn:"root"}),Oe})();const N=new e.OlP("appBaseHref");let ce=(()=>{class Oe extends B{constructor(Ve,St){var on,Dn,Nn;super(),this._platformLocation=Ve,this._removeListenerFns=[],this._baseHref=null!==(Nn=null!==(on=null!=St?St:this._platformLocation.getBaseHrefFromDOM())&&void 0!==on?on:null===(Dn=(0,e.f3M)(x).location)||void 0===Dn?void 0:Dn.origin)&&void 0!==Nn?Nn:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ve){this._removeListenerFns.push(this._platformLocation.onPopState(Ve),this._platformLocation.onHashChange(Ve))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ve){return y(this._baseHref,Ve)}path(Ve=!1){const St=this._platformLocation.pathname+k(this._platformLocation.search),on=this._platformLocation.hash;return on&&Ve?`${St}${on}`:St}pushState(Ve,St,on,Dn){const Nn=this.prepareExternalUrl(on+k(Dn));this._platformLocation.pushState(Ve,St,Nn)}replaceState(Ve,St,on,Dn){const Nn=this.prepareExternalUrl(on+k(Dn));this._platformLocation.replaceState(Ve,St,Nn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ve=0){var St,on;null===(on=(St=this._platformLocation).historyGo)||void 0===on||on.call(St,Ve)}}return Oe.\u0275fac=function(Ve){return new(Ve||Oe)(e.LFG(a),e.LFG(N,8))},Oe.\u0275prov=e.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})(),$=(()=>{class Oe extends B{constructor(Ve,St){super(),this._platformLocation=Ve,this._baseHref="",this._removeListenerFns=[],null!=St&&(this._baseHref=St)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ve){this._removeListenerFns.push(this._platformLocation.onPopState(Ve),this._platformLocation.onHashChange(Ve))}getBaseHref(){return this._baseHref}path(Ve=!1){let St=this._platformLocation.hash;return null==St&&(St="#"),St.length>0?St.substring(1):St}prepareExternalUrl(Ve){const St=y(this._baseHref,Ve);return St.length>0?"#"+St:St}pushState(Ve,St,on,Dn){let Nn=this.prepareExternalUrl(on+k(Dn));0==Nn.length&&(Nn=this._platformLocation.pathname),this._platformLocation.pushState(Ve,St,Nn)}replaceState(Ve,St,on,Dn){let Nn=this.prepareExternalUrl(on+k(Dn));0==Nn.length&&(Nn=this._platformLocation.pathname),this._platformLocation.replaceState(Ve,St,Nn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ve=0){var St,on;null===(on=(St=this._platformLocation).historyGo)||void 0===on||on.call(St,Ve)}}return Oe.\u0275fac=function(Ve){return new(Ve||Oe)(e.LFG(a),e.LFG(N,8))},Oe.\u0275prov=e.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})(),z=(()=>{class Oe{constructor(Ve){this._subject=new e.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Ve;const St=this._locationStrategy.getBaseHref();this._baseHref=D(K(St)),this._locationStrategy.onPopState(on=>{this._subject.emit({url:this.path(!0),pop:!0,state:on.state,type:on.type})})}ngOnDestroy(){var Ve;null===(Ve=this._urlChangeSubscription)||void 0===Ve||Ve.unsubscribe(),this._urlChangeListeners=[]}path(Ve=!1){return this.normalize(this._locationStrategy.path(Ve))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ve,St=""){return this.path()==this.normalize(Ve+k(St))}normalize(Ve){return Oe.stripTrailingSlash(function O(Oe,pt){return Oe&&pt.startsWith(Oe)?pt.substring(Oe.length):pt}(this._baseHref,K(Ve)))}prepareExternalUrl(Ve){return Ve&&"/"!==Ve[0]&&(Ve="/"+Ve),this._locationStrategy.prepareExternalUrl(Ve)}go(Ve,St="",on=null){this._locationStrategy.pushState(on,"",Ve,St),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ve+k(St)),on)}replaceState(Ve,St="",on=null){this._locationStrategy.replaceState(on,"",Ve,St),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ve+k(St)),on)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ve=0){var St,on;null===(on=(St=this._locationStrategy).historyGo)||void 0===on||on.call(St,Ve)}onUrlChange(Ve){return this._urlChangeListeners.push(Ve),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(St=>{this._notifyUrlChangeListeners(St.url,St.state)})),()=>{var St;const on=this._urlChangeListeners.indexOf(Ve);this._urlChangeListeners.splice(on,1),0===this._urlChangeListeners.length&&(null===(St=this._urlChangeSubscription)||void 0===St||St.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ve="",St){this._urlChangeListeners.forEach(on=>on(Ve,St))}subscribe(Ve,St,on){return this._subject.subscribe({next:Ve,error:St,complete:on})}}return Oe.normalizeQueryParams=k,Oe.joinWithSlash=y,Oe.stripTrailingSlash=D,Oe.\u0275fac=function(Ve){return new(Ve||Oe)(e.LFG(B))},Oe.\u0275prov=e.Yz7({token:Oe,factory:function(){return function S(){return new z((0,e.LFG)(B))}()},providedIn:"root"}),Oe})();function K(Oe){return Oe.replace(/\/index.html$/,"")}const ue={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var q=(()=>((q=q||{})[q.Decimal=0]="Decimal",q[q.Percent=1]="Percent",q[q.Currency=2]="Currency",q[q.Scientific=3]="Scientific",q))(),j=(()=>((j=j||{})[j.Format=0]="Format",j[j.Standalone=1]="Standalone",j))(),fe=(()=>((fe=fe||{})[fe.Narrow=0]="Narrow",fe[fe.Abbreviated=1]="Abbreviated",fe[fe.Wide=2]="Wide",fe[fe.Short=3]="Short",fe))(),ne=(()=>((ne=ne||{})[ne.Short=0]="Short",ne[ne.Medium=1]="Medium",ne[ne.Long=2]="Long",ne[ne.Full=3]="Full",ne))(),J=(()=>((J=J||{})[J.Decimal=0]="Decimal",J[J.Group=1]="Group",J[J.List=2]="List",J[J.PercentSign=3]="PercentSign",J[J.PlusSign=4]="PlusSign",J[J.MinusSign=5]="MinusSign",J[J.Exponential=6]="Exponential",J[J.SuperscriptingExponent=7]="SuperscriptingExponent",J[J.PerMille=8]="PerMille",J[J.Infinity=9]="Infinity",J[J.NaN=10]="NaN",J[J.TimeSeparator=11]="TimeSeparator",J[J.CurrencyDecimal=12]="CurrencyDecimal",J[J.CurrencyGroup=13]="CurrencyGroup",J))();function ee(Oe,pt){return me((0,e.cg1)(Oe)[e.wAp.DateFormat],pt)}function xe(Oe,pt){return me((0,e.cg1)(Oe)[e.wAp.TimeFormat],pt)}function we(Oe,pt){return me((0,e.cg1)(Oe)[e.wAp.DateTimeFormat],pt)}function Pe(Oe,pt){const Ve=(0,e.cg1)(Oe),St=Ve[e.wAp.NumberSymbols][pt];if(void 0===St){if(pt===J.CurrencyDecimal)return Ve[e.wAp.NumberSymbols][J.Decimal];if(pt===J.CurrencyGroup)return Ve[e.wAp.NumberSymbols][J.Group]}return St}function dt(Oe,pt){return(0,e.cg1)(Oe)[e.wAp.NumberFormats][pt]}function zt(Oe){if(!Oe[e.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${Oe[e.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function me(Oe,pt){for(let Ve=pt;Ve>-1;Ve--)if(void 0!==Oe[Ve])return Oe[Ve];throw new Error("Locale data API: locale data undefined")}function De(Oe){const[pt,Ve]=Oe.split(":");return{hours:+pt,minutes:+Ve}}const Ft=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Mt={},Ye=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var st=(()=>((st=st||{})[st.Short=0]="Short",st[st.ShortGMT=1]="ShortGMT",st[st.Long=2]="Long",st[st.Extended=3]="Extended",st))(),je=(()=>((je=je||{})[je.FullYear=0]="FullYear",je[je.Month=1]="Month",je[je.Date=2]="Date",je[je.Hours=3]="Hours",je[je.Minutes=4]="Minutes",je[je.Seconds=5]="Seconds",je[je.FractionalSeconds=6]="FractionalSeconds",je[je.Day=7]="Day",je))(),It=(()=>((It=It||{})[It.DayPeriods=0]="DayPeriods",It[It.Days=1]="Days",It[It.Months=2]="Months",It[It.Eras=3]="Eras",It))();function se(Oe,pt,Ve,St){let on=function ai(Oe){if(Ni(Oe))return Oe;if("number"==typeof Oe&&!isNaN(Oe))return new Date(Oe);if("string"==typeof Oe){if(Oe=Oe.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(Oe)){const[on,Dn=1,Nn=1]=Oe.split("-").map(ui=>+ui);return Fe(on,Dn-1,Nn)}const Ve=parseFloat(Oe);if(!isNaN(Oe-Ve))return new Date(Ve);let St;if(St=Oe.match(Ft))return function vi(Oe){const pt=new Date(0);let Ve=0,St=0;const on=Oe[8]?pt.setUTCFullYear:pt.setFullYear,Dn=Oe[8]?pt.setUTCHours:pt.setHours;Oe[9]&&(Ve=Number(Oe[9]+Oe[10]),St=Number(Oe[9]+Oe[11])),on.call(pt,Number(Oe[1]),Number(Oe[2])-1,Number(Oe[3]));const Nn=Number(Oe[4]||0)-Ve,ui=Number(Oe[5]||0)-St,eo=Number(Oe[6]||0),uo=Math.floor(1e3*parseFloat("0."+(Oe[7]||0)));return Dn.call(pt,Nn,ui,eo,uo),pt}(St)}const pt=new Date(Oe);if(!Ni(pt))throw new Error(`Unable to convert "${Oe}" into a date`);return pt}(Oe);pt=he(Ve,pt)||pt;let ui,Nn=[];for(;pt;){if(ui=Ye.exec(pt),!ui){Nn.push(pt);break}{Nn=Nn.concat(ui.slice(1));const mo=Nn.pop();if(!mo)break;pt=mo}}let eo=on.getTimezoneOffset();St&&(eo=rn(St,eo),on=function Hn(Oe,pt,Ve){const St=Ve?-1:1,on=Oe.getTimezoneOffset();return function Bn(Oe,pt){return(Oe=new Date(Oe.getTime())).setMinutes(Oe.getMinutes()+pt),Oe}(Oe,St*(rn(pt,on)-on))}(on,St,!0));let uo="";return Nn.forEach(mo=>{const ji=function Nt(Oe){if(Mn[Oe])return Mn[Oe];let pt;switch(Oe){case"G":case"GG":case"GGG":pt=tt(It.Eras,fe.Abbreviated);break;case"GGGG":pt=tt(It.Eras,fe.Wide);break;case"GGGGG":pt=tt(It.Eras,fe.Narrow);break;case"y":pt=en(je.FullYear,1,0,!1,!0);break;case"yy":pt=en(je.FullYear,2,0,!0,!0);break;case"yyy":pt=en(je.FullYear,3,0,!1,!0);break;case"yyyy":pt=en(je.FullYear,4,0,!1,!0);break;case"Y":pt=Qt(1);break;case"YY":pt=Qt(2,!0);break;case"YYY":pt=Qt(3);break;case"YYYY":pt=Qt(4);break;case"M":case"L":pt=en(je.Month,1,1);break;case"MM":case"LL":pt=en(je.Month,2,1);break;case"MMM":pt=tt(It.Months,fe.Abbreviated);break;case"MMMM":pt=tt(It.Months,fe.Wide);break;case"MMMMM":pt=tt(It.Months,fe.Narrow);break;case"LLL":pt=tt(It.Months,fe.Abbreviated,j.Standalone);break;case"LLLL":pt=tt(It.Months,fe.Wide,j.Standalone);break;case"LLLLL":pt=tt(It.Months,fe.Narrow,j.Standalone);break;case"w":pt=gn(1);break;case"ww":pt=gn(2);break;case"W":pt=gn(1,!0);break;case"d":pt=en(je.Date,1);break;case"dd":pt=en(je.Date,2);break;case"c":case"cc":pt=en(je.Day,1);break;case"ccc":pt=tt(It.Days,fe.Abbreviated,j.Standalone);break;case"cccc":pt=tt(It.Days,fe.Wide,j.Standalone);break;case"ccccc":pt=tt(It.Days,fe.Narrow,j.Standalone);break;case"cccccc":pt=tt(It.Days,fe.Short,j.Standalone);break;case"E":case"EE":case"EEE":pt=tt(It.Days,fe.Abbreviated);break;case"EEEE":pt=tt(It.Days,fe.Wide);break;case"EEEEE":pt=tt(It.Days,fe.Narrow);break;case"EEEEEE":pt=tt(It.Days,fe.Short);break;case"a":case"aa":case"aaa":pt=tt(It.DayPeriods,fe.Abbreviated);break;case"aaaa":pt=tt(It.DayPeriods,fe.Wide);break;case"aaaaa":pt=tt(It.DayPeriods,fe.Narrow);break;case"b":case"bb":case"bbb":pt=tt(It.DayPeriods,fe.Abbreviated,j.Standalone,!0);break;case"bbbb":pt=tt(It.DayPeriods,fe.Wide,j.Standalone,!0);break;case"bbbbb":pt=tt(It.DayPeriods,fe.Narrow,j.Standalone,!0);break;case"B":case"BB":case"BBB":pt=tt(It.DayPeriods,fe.Abbreviated,j.Format,!0);break;case"BBBB":pt=tt(It.DayPeriods,fe.Wide,j.Format,!0);break;case"BBBBB":pt=tt(It.DayPeriods,fe.Narrow,j.Format,!0);break;case"h":pt=en(je.Hours,1,-12);break;case"hh":pt=en(je.Hours,2,-12);break;case"H":pt=en(je.Hours,1);break;case"HH":pt=en(je.Hours,2);break;case"m":pt=en(je.Minutes,1);break;case"mm":pt=en(je.Minutes,2);break;case"s":pt=en(je.Seconds,1);break;case"ss":pt=en(je.Seconds,2);break;case"S":pt=en(je.FractionalSeconds,1);break;case"SS":pt=en(je.FractionalSeconds,2);break;case"SSS":pt=en(je.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":pt=Qe(st.Short);break;case"ZZZZZ":pt=Qe(st.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":pt=Qe(st.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":pt=Qe(st.Long);break;default:return null}return Mn[Oe]=pt,pt}(mo);uo+=ji?ji(on,Ve,eo):"''"===mo?"'":mo.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),uo}function Fe(Oe,pt,Ve){const St=new Date(0);return St.setFullYear(Oe,pt,Ve),St.setHours(0,0,0),St}function he(Oe,pt){const Ve=function W(Oe){return(0,e.cg1)(Oe)[e.wAp.LocaleId]}(Oe);if(Mt[Ve]=Mt[Ve]||{},Mt[Ve][pt])return Mt[Ve][pt];let St="";switch(pt){case"shortDate":St=ee(Oe,ne.Short);break;case"mediumDate":St=ee(Oe,ne.Medium);break;case"longDate":St=ee(Oe,ne.Long);break;case"fullDate":St=ee(Oe,ne.Full);break;case"shortTime":St=xe(Oe,ne.Short);break;case"mediumTime":St=xe(Oe,ne.Medium);break;case"longTime":St=xe(Oe,ne.Long);break;case"fullTime":St=xe(Oe,ne.Full);break;case"short":const on=he(Oe,"shortTime"),Dn=he(Oe,"shortDate");St=gt(we(Oe,ne.Short),[on,Dn]);break;case"medium":const Nn=he(Oe,"mediumTime"),ui=he(Oe,"mediumDate");St=gt(we(Oe,ne.Medium),[Nn,ui]);break;case"long":const eo=he(Oe,"longTime"),uo=he(Oe,"longDate");St=gt(we(Oe,ne.Long),[eo,uo]);break;case"full":const mo=he(Oe,"fullTime"),ji=he(Oe,"fullDate");St=gt(we(Oe,ne.Full),[mo,ji])}return St&&(Mt[Ve][pt]=St),St}function gt(Oe,pt){return pt&&(Oe=Oe.replace(/\{([^}]+)}/g,function(Ve,St){return null!=pt&&St in pt?pt[St]:Ve})),Oe}function cn(Oe,pt,Ve="-",St,on){let Dn="";(Oe<0||on&&Oe<=0)&&(on?Oe=1-Oe:(Oe=-Oe,Dn=Ve));let Nn=String(Oe);for(;Nn.length<pt;)Nn="0"+Nn;return St&&(Nn=Nn.slice(Nn.length-pt)),Dn+Nn}function en(Oe,pt,Ve=0,St=!1,on=!1){return function(Dn,Nn){let ui=function _t(Oe,pt){switch(Oe){case je.FullYear:return pt.getFullYear();case je.Month:return pt.getMonth();case je.Date:return pt.getDate();case je.Hours:return pt.getHours();case je.Minutes:return pt.getMinutes();case je.Seconds:return pt.getSeconds();case je.FractionalSeconds:return pt.getMilliseconds();case je.Day:return pt.getDay();default:throw new Error(`Unknown DateType value "${Oe}".`)}}(Oe,Dn);if((Ve>0||ui>-Ve)&&(ui+=Ve),Oe===je.Hours)0===ui&&-12===Ve&&(ui=12);else if(Oe===je.FractionalSeconds)return function Tn(Oe,pt){return cn(Oe,3).substring(0,pt)}(ui,pt);const eo=Pe(Nn,J.MinusSign);return cn(ui,pt,eo,St,on)}}function tt(Oe,pt,Ve=j.Format,St=!1){return function(on,Dn){return function de(Oe,pt,Ve,St,on,Dn){switch(Ve){case It.Months:return function Ae(Oe,pt,Ve){const St=(0,e.cg1)(Oe),Dn=me([St[e.wAp.MonthsFormat],St[e.wAp.MonthsStandalone]],pt);return me(Dn,Ve)}(pt,on,St)[Oe.getMonth()];case It.Days:return function Te(Oe,pt,Ve){const St=(0,e.cg1)(Oe),Dn=me([St[e.wAp.DaysFormat],St[e.wAp.DaysStandalone]],pt);return me(Dn,Ve)}(pt,on,St)[Oe.getDay()];case It.DayPeriods:const Nn=Oe.getHours(),ui=Oe.getMinutes();if(Dn){const uo=function Ut(Oe){const pt=(0,e.cg1)(Oe);return zt(pt),(pt[e.wAp.ExtraData][2]||[]).map(St=>"string"==typeof St?De(St):[De(St[0]),De(St[1])])}(pt),mo=function ct(Oe,pt,Ve){const St=(0,e.cg1)(Oe);zt(St);const Dn=me([St[e.wAp.ExtraData][0],St[e.wAp.ExtraData][1]],pt)||[];return me(Dn,Ve)||[]}(pt,on,St),ji=uo.findIndex(_o=>{if(Array.isArray(_o)){const[bi,yo]=_o,jo=Nn>=bi.hours&&ui>=bi.minutes,Zs=Nn<yo.hours||Nn===yo.hours&&ui<yo.minutes;if(bi.hours<yo.hours){if(jo&&Zs)return!0}else if(jo||Zs)return!0}else if(_o.hours===Nn&&_o.minutes===ui)return!0;return!1});if(-1!==ji)return mo[ji]}return function Y(Oe,pt,Ve){const St=(0,e.cg1)(Oe),Dn=me([St[e.wAp.DayPeriodsFormat],St[e.wAp.DayPeriodsStandalone]],pt);return me(Dn,Ve)}(pt,on,St)[Nn<12?0:1];case It.Eras:return function Ke(Oe,pt){return me((0,e.cg1)(Oe)[e.wAp.Eras],pt)}(pt,St)[Oe.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Ve}`)}}(on,Dn,Oe,pt,Ve,St)}}function Qe(Oe){return function(pt,Ve,St){const on=-1*St,Dn=Pe(Ve,J.MinusSign),Nn=on>0?Math.floor(on/60):Math.ceil(on/60);switch(Oe){case st.Short:return(on>=0?"+":"")+cn(Nn,2,Dn)+cn(Math.abs(on%60),2,Dn);case st.ShortGMT:return"GMT"+(on>=0?"+":"")+cn(Nn,1,Dn);case st.Long:return"GMT"+(on>=0?"+":"")+cn(Nn,2,Dn)+":"+cn(Math.abs(on%60),2,Dn);case st.Extended:return 0===St?"Z":(on>=0?"+":"")+cn(Nn,2,Dn)+":"+cn(Math.abs(on%60),2,Dn);default:throw new Error(`Unknown zone width "${Oe}"`)}}}function qt(Oe){return Fe(Oe.getFullYear(),Oe.getMonth(),Oe.getDate()+(4-Oe.getDay()))}function gn(Oe,pt=!1){return function(Ve,St){let on;if(pt){const Dn=new Date(Ve.getFullYear(),Ve.getMonth(),1).getDay()-1,Nn=Ve.getDate();on=1+Math.floor((Nn+Dn)/7)}else{const Dn=qt(Ve),Nn=function Be(Oe){const pt=Fe(Oe,0,1).getDay();return Fe(Oe,0,1+(pt<=4?4:11)-pt)}(Dn.getFullYear()),ui=Dn.getTime()-Nn.getTime();on=1+Math.round(ui/6048e5)}return cn(on,Oe,Pe(St,J.MinusSign))}}function Qt(Oe,pt=!1){return function(Ve,St){return cn(qt(Ve).getFullYear(),Oe,Pe(St,J.MinusSign),pt)}}const Mn={};function rn(Oe,pt){Oe=Oe.replace(/:/g,"");const Ve=Date.parse("Jan 01, 1970 00:00:00 "+Oe)/6e4;return isNaN(Ve)?pt:Ve}function Ni(Oe){return Oe instanceof Date&&!isNaN(Oe.valueOf())}const io=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Rt(Oe,pt,Ve,St,on,Dn,Nn=!1){let ui="",eo=!1;if(isFinite(Oe)){let uo=function ti(Oe){let St,on,Dn,Nn,ui,pt=Math.abs(Oe)+"",Ve=0;for((on=pt.indexOf("."))>-1&&(pt=pt.replace(".","")),(Dn=pt.search(/e/i))>0?(on<0&&(on=Dn),on+=+pt.slice(Dn+1),pt=pt.substring(0,Dn)):on<0&&(on=pt.length),Dn=0;"0"===pt.charAt(Dn);Dn++);if(Dn===(ui=pt.length))St=[0],on=1;else{for(ui--;"0"===pt.charAt(ui);)ui--;for(on-=Dn,St=[],Nn=0;Dn<=ui;Dn++,Nn++)St[Nn]=Number(pt.charAt(Dn))}return on>22&&(St=St.splice(0,21),Ve=on-1,on=1),{digits:St,exponent:Ve,integerLen:on}}(Oe);Nn&&(uo=function pi(Oe){if(0===Oe.digits[0])return Oe;const pt=Oe.digits.length-Oe.integerLen;return Oe.exponent?Oe.exponent+=2:(0===pt?Oe.digits.push(0,0):1===pt&&Oe.digits.push(0),Oe.integerLen+=2),Oe}(uo));let mo=pt.minInt,ji=pt.minFrac,_o=pt.maxFrac;if(Dn){const ur=Dn.match(io);if(null===ur)throw new Error(`${Dn} is not a valid digit info`);const ft=ur[1],ae=ur[3],pe=ur[5];null!=ft&&(mo=qi(ft)),null!=ae&&(ji=qi(ae)),null!=pe?_o=qi(pe):null!=ae&&ji>_o&&(_o=ji)}!function Di(Oe,pt,Ve){if(pt>Ve)throw new Error(`The minimum number of digits after fraction (${pt}) is higher than the maximum (${Ve}).`);let St=Oe.digits,on=St.length-Oe.integerLen;const Dn=Math.min(Math.max(pt,on),Ve);let Nn=Dn+Oe.integerLen,ui=St[Nn];if(Nn>0){St.splice(Math.max(Oe.integerLen,Nn));for(let ji=Nn;ji<St.length;ji++)St[ji]=0}else{on=Math.max(0,on),Oe.integerLen=1,St.length=Math.max(1,Nn=Dn+1),St[0]=0;for(let ji=1;ji<Nn;ji++)St[ji]=0}if(ui>=5)if(Nn-1<0){for(let ji=0;ji>Nn;ji--)St.unshift(0),Oe.integerLen++;St.unshift(1),Oe.integerLen++}else St[Nn-1]++;for(;on<Math.max(0,Dn);on++)St.push(0);let eo=0!==Dn;const uo=pt+Oe.integerLen,mo=St.reduceRight(function(ji,_o,bi,yo){return yo[bi]=(_o+=ji)<10?_o:_o-10,eo&&(0===yo[bi]&&bi>=uo?yo.pop():eo=!1),_o>=10?1:0},0);mo&&(St.unshift(mo),Oe.integerLen++)}(uo,ji,_o);let bi=uo.digits,yo=uo.integerLen;const jo=uo.exponent;let Zs=[];for(eo=bi.every(ur=>!ur);yo<mo;yo++)bi.unshift(0);for(;yo<0;yo++)bi.unshift(0);yo>0?Zs=bi.splice(yo,bi.length):(Zs=bi,bi=[0]);const ds=[];for(bi.length>=pt.lgSize&&ds.unshift(bi.splice(-pt.lgSize,bi.length).join(""));bi.length>pt.gSize;)ds.unshift(bi.splice(-pt.gSize,bi.length).join(""));bi.length&&ds.unshift(bi.join("")),ui=ds.join(Pe(Ve,St)),Zs.length&&(ui+=Pe(Ve,on)+Zs.join("")),jo&&(ui+=Pe(Ve,J.Exponential)+"+"+jo)}else ui=Pe(Ve,J.Infinity);return ui=Oe<0&&!eo?pt.negPre+ui+pt.negSuf:pt.posPre+ui+pt.posSuf,ui}function ii(Oe,pt="-"){const Ve={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},St=Oe.split(";"),on=St[0],Dn=St[1],Nn=-1!==on.indexOf(".")?on.split("."):[on.substring(0,on.lastIndexOf("0")+1),on.substring(on.lastIndexOf("0")+1)],ui=Nn[0],eo=Nn[1]||"";Ve.posPre=ui.substring(0,ui.indexOf("#"));for(let mo=0;mo<eo.length;mo++){const ji=eo.charAt(mo);"0"===ji?Ve.minFrac=Ve.maxFrac=mo+1:"#"===ji?Ve.maxFrac=mo+1:Ve.posSuf+=ji}const uo=ui.split(",");if(Ve.gSize=uo[1]?uo[1].length:0,Ve.lgSize=uo[2]||uo[1]?(uo[2]||uo[1]).length:0,Dn){const mo=on.length-Ve.posPre.length-Ve.posSuf.length,ji=Dn.indexOf("#");Ve.negPre=Dn.substring(0,ji).replace(/'/g,""),Ve.negSuf=Dn.slice(ji+mo).replace(/'/g,"")}else Ve.negPre=pt+Ve.posPre,Ve.negSuf=Ve.posSuf;return Ve}function qi(Oe){const pt=parseInt(Oe);if(isNaN(pt))throw new Error("Invalid integer literal when parsing "+Oe);return pt}function Go(Oe,pt,Ve){return(0,e.dwT)(Oe,pt,Ve)}function Wo(Oe,pt){pt=encodeURIComponent(pt);for(const Ve of Oe.split(";")){const St=Ve.indexOf("="),[on,Dn]=-1==St?[Ve,""]:[Ve.slice(0,St),Ve.slice(St+1)];if(on.trim()===pt)return decodeURIComponent(Dn)}return null}let xo=(()=>{class Oe{constructor(Ve,St,on,Dn){this._iterableDiffers=Ve,this._keyValueDiffers=St,this._ngEl=on,this._renderer=Dn,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(Ve){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof Ve?Ve.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(Ve){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof Ve?Ve.split(/\s+/):Ve,this._rawClass&&((0,e.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const Ve=this._iterableDiffer.diff(this._rawClass);Ve&&this._applyIterableChanges(Ve)}else if(this._keyValueDiffer){const Ve=this._keyValueDiffer.diff(this._rawClass);Ve&&this._applyKeyValueChanges(Ve)}}_applyKeyValueChanges(Ve){Ve.forEachAddedItem(St=>this._toggleClass(St.key,St.currentValue)),Ve.forEachChangedItem(St=>this._toggleClass(St.key,St.currentValue)),Ve.forEachRemovedItem(St=>{St.previousValue&&this._toggleClass(St.key,!1)})}_applyIterableChanges(Ve){Ve.forEachAddedItem(St=>{if("string"!=typeof St.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,e.AaK)(St.item)}`);this._toggleClass(St.item,!0)}),Ve.forEachRemovedItem(St=>this._toggleClass(St.item,!1))}_applyClasses(Ve){Ve&&(Array.isArray(Ve)||Ve instanceof Set?Ve.forEach(St=>this._toggleClass(St,!0)):Object.keys(Ve).forEach(St=>this._toggleClass(St,!!Ve[St])))}_removeClasses(Ve){Ve&&(Array.isArray(Ve)||Ve instanceof Set?Ve.forEach(St=>this._toggleClass(St,!1)):Object.keys(Ve).forEach(St=>this._toggleClass(St,!1)))}_toggleClass(Ve,St){(Ve=Ve.trim())&&Ve.split(/\s+/g).forEach(on=>{St?this._renderer.addClass(this._ngEl.nativeElement,on):this._renderer.removeClass(this._ngEl.nativeElement,on)})}}return Oe.\u0275fac=function(Ve){return new(Ve||Oe)(e.Y36(e.ZZ4),e.Y36(e.aQg),e.Y36(e.SBq),e.Y36(e.Qsj))},Oe.\u0275dir=e.lG2({type:Oe,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),Oe})();class os{constructor(pt,Ve,St,on){this.$implicit=pt,this.ngForOf=Ve,this.index=St,this.count=on}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ho=(()=>{class Oe{constructor(Ve,St,on){this._viewContainer=Ve,this._template=St,this._differs=on,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(Ve){this._ngForOf=Ve,this._ngForOfDirty=!0}set ngForTrackBy(Ve){this._trackByFn=Ve}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(Ve){Ve&&(this._template=Ve)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Ve=this._ngForOf;!this._differ&&Ve&&(this._differ=this._differs.find(Ve).create(this.ngForTrackBy))}if(this._differ){const Ve=this._differ.diff(this._ngForOf);Ve&&this._applyChanges(Ve)}}_applyChanges(Ve){const St=this._viewContainer;Ve.forEachOperation((on,Dn,Nn)=>{if(null==on.previousIndex)St.createEmbeddedView(this._template,new os(on.item,this._ngForOf,-1,-1),null===Nn?void 0:Nn);else if(null==Nn)St.remove(null===Dn?void 0:Dn);else if(null!==Dn){const ui=St.get(Dn);St.move(ui,Nn),oo(ui,on)}});for(let on=0,Dn=St.length;on<Dn;on++){const ui=St.get(on).context;ui.index=on,ui.count=Dn,ui.ngForOf=this._ngForOf}Ve.forEachIdentityChange(on=>{oo(St.get(on.currentIndex),on)})}static ngTemplateContextGuard(Ve,St){return!0}}return Oe.\u0275fac=function(Ve){return new(Ve||Oe)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(e.ZZ4))},Oe.\u0275dir=e.lG2({type:Oe,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),Oe})();function oo(Oe,pt){Oe.context.$implicit=pt.item}let Mo=(()=>{class Oe{constructor(Ve,St){this._viewContainer=Ve,this._context=new es,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=St}set ngIf(Ve){this._context.$implicit=this._context.ngIf=Ve,this._updateView()}set ngIfThen(Ve){vo("ngIfThen",Ve),this._thenTemplateRef=Ve,this._thenViewRef=null,this._updateView()}set ngIfElse(Ve){vo("ngIfElse",Ve),this._elseTemplateRef=Ve,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Ve,St){return!0}}return Oe.\u0275fac=function(Ve){return new(Ve||Oe)(e.Y36(e.s_b),e.Y36(e.Rgc))},Oe.\u0275dir=e.lG2({type:Oe,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),Oe})();class es{constructor(){this.$implicit=null,this.ngIf=null}}function vo(Oe,pt){if(pt&&!pt.createEmbeddedView)throw new Error(`${Oe} must be a TemplateRef, but received '${(0,e.AaK)(pt)}'.`)}class qo{constructor(pt,Ve){this._viewContainerRef=pt,this._templateRef=Ve,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(pt){pt&&!this._created?this.create():!pt&&this._created&&this.destroy()}}let Ls=(()=>{class Oe{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Ve){this._ngSwitch=Ve,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Ve){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(Ve)}_matchCase(Ve){const St=Ve==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||St,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),St}_updateDefaultCases(Ve){if(this._defaultViews&&Ve!==this._defaultUsed){this._defaultUsed=Ve;for(let St=0;St<this._defaultViews.length;St++)this._defaultViews[St].enforceState(Ve)}}}return Oe.\u0275fac=function(Ve){return new(Ve||Oe)},Oe.\u0275dir=e.lG2({type:Oe,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),Oe})(),ws=(()=>{class Oe{constructor(Ve,St,on){this.ngSwitch=on,on._addCase(),this._view=new qo(Ve,St)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return Oe.\u0275fac=function(Ve){return new(Ve||Oe)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(Ls,9))},Oe.\u0275dir=e.lG2({type:Oe,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),Oe})(),Rs=(()=>{class Oe{constructor(Ve,St,on){on._addDefault(new qo(Ve,St))}}return Oe.\u0275fac=function(Ve){return new(Ve||Oe)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(Ls,9))},Oe.\u0275dir=e.lG2({type:Oe,selectors:[["","ngSwitchDefault",""]],standalone:!0}),Oe})(),vr=(()=>{class Oe{constructor(Ve,St,on){this._ngEl=Ve,this._differs=St,this._renderer=on,this._ngStyle=null,this._differ=null}set ngStyle(Ve){this._ngStyle=Ve,!this._differ&&Ve&&(this._differ=this._differs.find(Ve).create())}ngDoCheck(){if(this._differ){const Ve=this._differ.diff(this._ngStyle);Ve&&this._applyChanges(Ve)}}_setStyle(Ve,St){const[on,Dn]=Ve.split("."),Nn=-1===on.indexOf("-")?void 0:e.JOm.DashCase;null!=St?this._renderer.setStyle(this._ngEl.nativeElement,on,Dn?`${St}${Dn}`:St,Nn):this._renderer.removeStyle(this._ngEl.nativeElement,on,Nn)}_applyChanges(Ve){Ve.forEachRemovedItem(St=>this._setStyle(St.key,null)),Ve.forEachAddedItem(St=>this._setStyle(St.key,St.currentValue)),Ve.forEachChangedItem(St=>this._setStyle(St.key,St.currentValue))}}return Oe.\u0275fac=function(Ve){return new(Ve||Oe)(e.Y36(e.SBq),e.Y36(e.aQg),e.Y36(e.Qsj))},Oe.\u0275dir=e.lG2({type:Oe,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),Oe})(),br=(()=>{class Oe{constructor(Ve){this._viewContainerRef=Ve,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Ve){if(Ve.ngTemplateOutlet||Ve.ngTemplateOutletInjector){const St=this._viewContainerRef;if(this._viewRef&&St.remove(St.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:on,ngTemplateOutletContext:Dn,ngTemplateOutletInjector:Nn}=this;this._viewRef=St.createEmbeddedView(on,Dn,Nn?{injector:Nn}:void 0)}else this._viewRef=null}else this._viewRef&&Ve.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return Oe.\u0275fac=function(Ve){return new(Ve||Oe)(e.Y36(e.s_b))},Oe.\u0275dir=e.lG2({type:Oe,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[e.TTD]}),Oe})();function gs(Oe,pt){return new e.vHH(2100,!1)}class la{createSubscription(pt,Ve){return pt.subscribe({next:Ve,error:St=>{throw St}})}dispose(pt){pt.unsubscribe()}}class Ns{createSubscription(pt,Ve){return pt.then(Ve,St=>{throw St})}dispose(pt){}}const Wr=new Ns,Mr=new la;let so=(()=>{class Oe{constructor(Ve){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Ve}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Ve){return this._obj?Ve!==this._obj?(this._dispose(),this.transform(Ve)):this._latestValue:(Ve&&this._subscribe(Ve),this._latestValue)}_subscribe(Ve){this._obj=Ve,this._strategy=this._selectStrategy(Ve),this._subscription=this._strategy.createSubscription(Ve,St=>this._updateLatestValue(Ve,St))}_selectStrategy(Ve){if((0,e.QGY)(Ve))return Wr;if((0,e.F4k)(Ve))return Mr;throw gs()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Ve,St){Ve===this._obj&&(this._latestValue=St,this._ref.markForCheck())}}return Oe.\u0275fac=function(Ve){return new(Ve||Oe)(e.Y36(e.sBO,16))},Oe.\u0275pipe=e.Yjl({name:"async",type:Oe,pure:!1,standalone:!0}),Oe})();const Ii=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Ks=(()=>{class Oe{transform(Ve){if(null==Ve)return null;if("string"!=typeof Ve)throw gs();return Ve.replace(Ii,St=>St[0].toUpperCase()+St.slice(1).toLowerCase())}}return Oe.\u0275fac=function(Ve){return new(Ve||Oe)},Oe.\u0275pipe=e.Yjl({name:"titlecase",type:Oe,pure:!0,standalone:!0}),Oe})();const ss=new e.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Or=(()=>{class Oe{constructor(Ve,St){this.locale=Ve,this.defaultTimezone=St}transform(Ve,St="mediumDate",on,Dn){var Nn;if(null==Ve||""===Ve||Ve!=Ve)return null;try{return se(Ve,St,Dn||this.locale,null!==(Nn=null!=on?on:this.defaultTimezone)&&void 0!==Nn?Nn:void 0)}catch(ui){throw gs()}}}return Oe.\u0275fac=function(Ve){return new(Ve||Oe)(e.Y36(e.soG,16),e.Y36(ss,24))},Oe.\u0275pipe=e.Yjl({name:"date",type:Oe,pure:!0,standalone:!0}),Oe})(),$s=(()=>{class Oe{constructor(Ve){this.differs=Ve,this.keyValues=[],this.compareFn=go}transform(Ve,St=go){if(!Ve||!(Ve instanceof Map)&&"object"!=typeof Ve)return null;this.differ||(this.differ=this.differs.find(Ve).create());const on=this.differ.diff(Ve),Dn=St!==this.compareFn;return on&&(this.keyValues=[],on.forEachItem(Nn=>{this.keyValues.push(function qs(Oe,pt){return{key:Oe,value:pt}}(Nn.key,Nn.currentValue))})),(on||Dn)&&(this.keyValues.sort(St),this.compareFn=St),this.keyValues}}return Oe.\u0275fac=function(Ve){return new(Ve||Oe)(e.Y36(e.aQg,16))},Oe.\u0275pipe=e.Yjl({name:"keyvalue",type:Oe,pure:!1,standalone:!0}),Oe})();function go(Oe,pt){const Ve=Oe.key,St=pt.key;if(Ve===St)return 0;if(void 0===Ve)return 1;if(void 0===St)return-1;if(null===Ve)return 1;if(null===St)return-1;if("string"==typeof Ve&&"string"==typeof St)return Ve<St?-1:1;if("number"==typeof Ve&&"number"==typeof St)return Ve-St;if("boolean"==typeof Ve&&"boolean"==typeof St)return Ve<St?-1:1;const on=String(Ve),Dn=String(St);return on==Dn?0:on<Dn?-1:1}let Cs=(()=>{class Oe{constructor(Ve){this._locale=Ve}transform(Ve,St,on){if(!bs(Ve))return null;on=on||this._locale;try{return function Wn(Oe,pt,Ve){return Rt(Oe,ii(dt(pt,q.Decimal),Pe(pt,J.MinusSign)),pt,J.Group,J.Decimal,Ve)}(ys(Ve),on,St)}catch(Dn){throw gs()}}}return Oe.\u0275fac=function(Ve){return new(Ve||Oe)(e.Y36(e.soG,16))},Oe.\u0275pipe=e.Yjl({name:"number",type:Oe,pure:!0,standalone:!0}),Oe})(),vs=(()=>{class Oe{constructor(Ve,St="USD"){this._locale=Ve,this._defaultCurrencyCode=St}transform(Ve,St=this._defaultCurrencyCode,on="symbol",Dn,Nn){if(!bs(Ve))return null;Nn=Nn||this._locale,"boolean"==typeof on&&(on=on?"symbol":"code");let ui=St||this._defaultCurrencyCode;"code"!==on&&(ui="symbol"===on||"symbol-narrow"===on?function ot(Oe,pt,Ve="en"){const St=function vt(Oe){return(0,e.cg1)(Oe)[e.wAp.Currencies]}(Ve)[Oe]||ue[Oe]||[],on=St[1];return"narrow"===pt&&"string"==typeof on?on:St[0]||Oe}(ui,"symbol"===on?"wide":"narrow",Nn):on);try{return function bn(Oe,pt,Ve,St,on){const Nn=ii(dt(pt,q.Currency),Pe(pt,J.MinusSign));return Nn.minFrac=function Ot(Oe){let pt;const Ve=ue[Oe];return Ve&&(pt=Ve[2]),"number"==typeof pt?pt:2}(St),Nn.maxFrac=Nn.minFrac,Rt(Oe,Nn,pt,J.CurrencyGroup,J.CurrencyDecimal,on).replace("\xa4",Ve).replace("\xa4","").trim()}(ys(Ve),Nn,ui,St,Dn)}catch(eo){throw gs()}}}return Oe.\u0275fac=function(Ve){return new(Ve||Oe)(e.Y36(e.soG,16),e.Y36(e.EJc,16))},Oe.\u0275pipe=e.Yjl({name:"currency",type:Oe,pure:!0,standalone:!0}),Oe})();function bs(Oe){return!(null==Oe||""===Oe||Oe!=Oe)}function ys(Oe){if("string"==typeof Oe&&!isNaN(Number(Oe)-parseFloat(Oe)))return Number(Oe);if("number"!=typeof Oe)throw new Error(`${Oe} is not a number`);return Oe}let xr=(()=>{class Oe{transform(Ve,St,on){if(null==Ve)return null;if(!this.supports(Ve))throw gs();return Ve.slice(St,on)}supports(Ve){return"string"==typeof Ve||Array.isArray(Ve)}}return Oe.\u0275fac=function(Ve){return new(Ve||Oe)},Oe.\u0275pipe=e.Yjl({name:"slice",type:Oe,pure:!1,standalone:!0}),Oe})(),Lr=(()=>{class Oe{}return Oe.\u0275fac=function(Ve){return new(Ve||Oe)},Oe.\u0275mod=e.oAB({type:Oe}),Oe.\u0275inj=e.cJS({}),Oe})();const ir="browser";function Tr(Oe){return Oe===ir}function At(Oe){return"server"===Oe}let xt=(()=>{class Oe{}return Oe.\u0275prov=(0,e.Yz7)({token:Oe,providedIn:"root",factory:()=>new Vt((0,e.LFG)(x),window)}),Oe})();class Vt{constructor(pt,Ve){this.document=pt,this.window=Ve,this.offset=()=>[0,0]}setOffset(pt){this.offset=Array.isArray(pt)?()=>pt:pt}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(pt){this.supportsScrolling()&&this.window.scrollTo(pt[0],pt[1])}scrollToAnchor(pt){if(!this.supportsScrolling())return;const Ve=function qn(Oe,pt){const Ve=Oe.getElementById(pt)||Oe.getElementsByName(pt)[0];if(Ve)return Ve;if("function"==typeof Oe.createTreeWalker&&Oe.body&&(Oe.body.createShadowRoot||Oe.body.attachShadow)){const St=Oe.createTreeWalker(Oe.body,NodeFilter.SHOW_ELEMENT);let on=St.currentNode;for(;on;){const Dn=on.shadowRoot;if(Dn){const Nn=Dn.getElementById(pt)||Dn.querySelector(`[name="${pt}"]`);if(Nn)return Nn}on=St.nextNode()}}return null}(this.document,pt);Ve&&(this.scrollToElement(Ve),Ve.focus())}setHistoryScrollRestoration(pt){if(this.supportScrollRestoration()){const Ve=this.window.history;Ve&&Ve.scrollRestoration&&(Ve.scrollRestoration=pt)}}scrollToElement(pt){const Ve=pt.getBoundingClientRect(),St=Ve.left+this.window.pageXOffset,on=Ve.top+this.window.pageYOffset,Dn=this.offset();this.window.scrollTo(St-Dn[0],on-Dn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const pt=Pn(this.window.history)||Pn(Object.getPrototypeOf(this.window.history));return!(!pt||!pt.writable&&!pt.set)}catch(pt){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(pt){return!1}}}function Pn(Oe){return Object.getOwnPropertyDescriptor(Oe,"scrollRestoration")}class Hi{}},520:(hn,ht,b)=>{"use strict";b.d(ht,{JF:()=>Ot,eN:()=>W});var e=b(9808),d=b(5e3),u=b(9646),f=b(9751),_=b(4351),P=b(9300),x=b(4004);class a{}class R{}class L{constructor(st){this.normalizedNames=new Map,this.lazyUpdate=null,st?this.lazyInit="string"==typeof st?()=>{this.headers=new Map,st.split("\n").forEach(je=>{const It=je.indexOf(":");if(It>0){const se=je.slice(0,It),Fe=se.toLowerCase(),he=je.slice(It+1).trim();this.maybeSetNormalizedName(se,Fe),this.headers.has(Fe)?this.headers.get(Fe).push(he):this.headers.set(Fe,[he])}})}:()=>{this.headers=new Map,Object.keys(st).forEach(je=>{let It=st[je];const se=je.toLowerCase();"string"==typeof It&&(It=[It]),It.length>0&&(this.headers.set(se,It),this.maybeSetNormalizedName(je,se))})}:this.headers=new Map}has(st){return this.init(),this.headers.has(st.toLowerCase())}get(st){this.init();const je=this.headers.get(st.toLowerCase());return je&&je.length>0?je[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(st){return this.init(),this.headers.get(st.toLowerCase())||null}append(st,je){return this.clone({name:st,value:je,op:"a"})}set(st,je){return this.clone({name:st,value:je,op:"s"})}delete(st,je){return this.clone({name:st,value:je,op:"d"})}maybeSetNormalizedName(st,je){this.normalizedNames.has(je)||this.normalizedNames.set(je,st)}init(){this.lazyInit&&(this.lazyInit instanceof L?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(st=>this.applyUpdate(st)),this.lazyUpdate=null))}copyFrom(st){st.init(),Array.from(st.headers.keys()).forEach(je=>{this.headers.set(je,st.headers.get(je)),this.normalizedNames.set(je,st.normalizedNames.get(je))})}clone(st){const je=new L;return je.lazyInit=this.lazyInit&&this.lazyInit instanceof L?this.lazyInit:this,je.lazyUpdate=(this.lazyUpdate||[]).concat([st]),je}applyUpdate(st){const je=st.name.toLowerCase();switch(st.op){case"a":case"s":let It=st.value;if("string"==typeof It&&(It=[It]),0===It.length)return;this.maybeSetNormalizedName(st.name,je);const se=("a"===st.op?this.headers.get(je):void 0)||[];se.push(...It),this.headers.set(je,se);break;case"d":const Fe=st.value;if(Fe){let he=this.headers.get(je);if(!he)return;he=he.filter(gt=>-1===Fe.indexOf(gt)),0===he.length?(this.headers.delete(je),this.normalizedNames.delete(je)):this.headers.set(je,he)}else this.headers.delete(je),this.normalizedNames.delete(je)}}forEach(st){this.init(),Array.from(this.normalizedNames.keys()).forEach(je=>st(this.normalizedNames.get(je),this.headers.get(je)))}}class F{encodeKey(st){return k(st)}encodeValue(st){return k(st)}decodeKey(st){return decodeURIComponent(st)}decodeValue(st){return decodeURIComponent(st)}}const y=/%(\d[a-f0-9])/gi,D={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function k(Ye){return encodeURIComponent(Ye).replace(y,(st,je)=>{var It;return null!==(It=D[je])&&void 0!==It?It:st})}function B(Ye){return`${Ye}`}class N{constructor(st={}){if(this.updates=null,this.cloneFrom=null,this.encoder=st.encoder||new F,st.fromString){if(st.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function T(Ye,st){const je=new Map;return Ye.length>0&&Ye.replace(/^\?/,"").split("&").forEach(se=>{const Fe=se.indexOf("="),[he,gt]=-1==Fe?[st.decodeKey(se),""]:[st.decodeKey(se.slice(0,Fe)),st.decodeValue(se.slice(Fe+1))],cn=je.get(he)||[];cn.push(gt),je.set(he,cn)}),je}(st.fromString,this.encoder)}else st.fromObject?(this.map=new Map,Object.keys(st.fromObject).forEach(je=>{const It=st.fromObject[je],se=Array.isArray(It)?It.map(B):[B(It)];this.map.set(je,se)})):this.map=null}has(st){return this.init(),this.map.has(st)}get(st){this.init();const je=this.map.get(st);return je?je[0]:null}getAll(st){return this.init(),this.map.get(st)||null}keys(){return this.init(),Array.from(this.map.keys())}append(st,je){return this.clone({param:st,value:je,op:"a"})}appendAll(st){const je=[];return Object.keys(st).forEach(It=>{const se=st[It];Array.isArray(se)?se.forEach(Fe=>{je.push({param:It,value:Fe,op:"a"})}):je.push({param:It,value:se,op:"a"})}),this.clone(je)}set(st,je){return this.clone({param:st,value:je,op:"s"})}delete(st,je){return this.clone({param:st,value:je,op:"d"})}toString(){return this.init(),this.keys().map(st=>{const je=this.encoder.encodeKey(st);return this.map.get(st).map(It=>je+"="+this.encoder.encodeValue(It)).join("&")}).filter(st=>""!==st).join("&")}clone(st){const je=new N({encoder:this.encoder});return je.cloneFrom=this.cloneFrom||this,je.updates=(this.updates||[]).concat(st),je}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(st=>this.map.set(st,this.cloneFrom.map.get(st))),this.updates.forEach(st=>{switch(st.op){case"a":case"s":const je=("a"===st.op?this.map.get(st.param):void 0)||[];je.push(B(st.value)),this.map.set(st.param,je);break;case"d":if(void 0===st.value){this.map.delete(st.param);break}{let It=this.map.get(st.param)||[];const se=It.indexOf(B(st.value));-1!==se&&It.splice(se,1),It.length>0?this.map.set(st.param,It):this.map.delete(st.param)}}}),this.cloneFrom=this.updates=null)}}class ${constructor(){this.map=new Map}set(st,je){return this.map.set(st,je),this}get(st){return this.map.has(st)||this.map.set(st,st.defaultValue()),this.map.get(st)}delete(st){return this.map.delete(st),this}has(st){return this.map.has(st)}keys(){return this.map.keys()}}function S(Ye){return"undefined"!=typeof ArrayBuffer&&Ye instanceof ArrayBuffer}function O(Ye){return"undefined"!=typeof Blob&&Ye instanceof Blob}function K(Ye){return"undefined"!=typeof FormData&&Ye instanceof FormData}class q{constructor(st,je,It,se){let Fe;if(this.url=je,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=st.toUpperCase(),function z(Ye){switch(Ye){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||se?(this.body=void 0!==It?It:null,Fe=se):Fe=It,Fe&&(this.reportProgress=!!Fe.reportProgress,this.withCredentials=!!Fe.withCredentials,Fe.responseType&&(this.responseType=Fe.responseType),Fe.headers&&(this.headers=Fe.headers),Fe.context&&(this.context=Fe.context),Fe.params&&(this.params=Fe.params)),this.headers||(this.headers=new L),this.context||(this.context=new $),this.params){const he=this.params.toString();if(0===he.length)this.urlWithParams=je;else{const gt=je.indexOf("?");this.urlWithParams=je+(-1===gt?"?":gt<je.length-1?"&":"")+he}}else this.params=new N,this.urlWithParams=je}serializeBody(){return null===this.body?null:S(this.body)||O(this.body)||K(this.body)||function ue(Ye){return"undefined"!=typeof URLSearchParams&&Ye instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof N?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||K(this.body)?null:O(this.body)?this.body.type||null:S(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof N?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(st={}){var je;const It=st.method||this.method,se=st.url||this.url,Fe=st.responseType||this.responseType,he=void 0!==st.body?st.body:this.body,gt=void 0!==st.withCredentials?st.withCredentials:this.withCredentials,cn=void 0!==st.reportProgress?st.reportProgress:this.reportProgress;let Tn=st.headers||this.headers,en=st.params||this.params;const _t=null!==(je=st.context)&&void 0!==je?je:this.context;return void 0!==st.setHeaders&&(Tn=Object.keys(st.setHeaders).reduce((tt,de)=>tt.set(de,st.setHeaders[de]),Tn)),st.setParams&&(en=Object.keys(st.setParams).reduce((tt,de)=>tt.set(de,st.setParams[de]),en)),new q(It,se,he,{params:en,headers:Tn,context:_t,reportProgress:cn,responseType:Fe,withCredentials:gt})}}var G=(()=>((G=G||{})[G.Sent=0]="Sent",G[G.UploadProgress=1]="UploadProgress",G[G.ResponseHeader=2]="ResponseHeader",G[G.DownloadProgress=3]="DownloadProgress",G[G.Response=4]="Response",G[G.User=5]="User",G))();class j{constructor(st,je=200,It="OK"){this.headers=st.headers||new L,this.status=void 0!==st.status?st.status:je,this.statusText=st.statusText||It,this.url=st.url||null,this.ok=this.status>=200&&this.status<300}}class fe extends j{constructor(st={}){super(st),this.type=G.ResponseHeader}clone(st={}){return new fe({headers:st.headers||this.headers,status:void 0!==st.status?st.status:this.status,statusText:st.statusText||this.statusText,url:st.url||this.url||void 0})}}class ne extends j{constructor(st={}){super(st),this.type=G.Response,this.body=void 0!==st.body?st.body:null}clone(st={}){return new ne({body:void 0!==st.body?st.body:this.body,headers:st.headers||this.headers,status:void 0!==st.status?st.status:this.status,statusText:st.statusText||this.statusText,url:st.url||this.url||void 0})}}class J extends j{constructor(st){super(st,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${st.url||"(unknown url)"}`:`Http failure response for ${st.url||"(unknown url)"}: ${st.status} ${st.statusText}`,this.error=st.error||null}}function X(Ye,st){return{body:st,headers:Ye.headers,context:Ye.context,observe:Ye.observe,params:Ye.params,reportProgress:Ye.reportProgress,responseType:Ye.responseType,withCredentials:Ye.withCredentials}}let W=(()=>{class Ye{constructor(je){this.handler=je}request(je,It,se={}){let Fe;if(je instanceof q)Fe=je;else{let cn,Tn;cn=se.headers instanceof L?se.headers:new L(se.headers),se.params&&(Tn=se.params instanceof N?se.params:new N({fromObject:se.params})),Fe=new q(je,It,void 0!==se.body?se.body:null,{headers:cn,context:se.context,params:Tn,reportProgress:se.reportProgress,responseType:se.responseType||"json",withCredentials:se.withCredentials})}const he=(0,u.of)(Fe).pipe((0,_.b)(cn=>this.handler.handle(cn)));if(je instanceof q||"events"===se.observe)return he;const gt=he.pipe((0,P.h)(cn=>cn instanceof ne));switch(se.observe||"body"){case"body":switch(Fe.responseType){case"arraybuffer":return gt.pipe((0,x.U)(cn=>{if(null!==cn.body&&!(cn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return cn.body}));case"blob":return gt.pipe((0,x.U)(cn=>{if(null!==cn.body&&!(cn.body instanceof Blob))throw new Error("Response is not a Blob.");return cn.body}));case"text":return gt.pipe((0,x.U)(cn=>{if(null!==cn.body&&"string"!=typeof cn.body)throw new Error("Response is not a string.");return cn.body}));default:return gt.pipe((0,x.U)(cn=>cn.body))}case"response":return gt;default:throw new Error(`Unreachable: unhandled observe type ${se.observe}}`)}}delete(je,It={}){return this.request("DELETE",je,It)}get(je,It={}){return this.request("GET",je,It)}head(je,It={}){return this.request("HEAD",je,It)}jsonp(je,It){return this.request("JSONP",je,{params:(new N).append(It,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(je,It={}){return this.request("OPTIONS",je,It)}patch(je,It,se={}){return this.request("PATCH",je,X(se,It))}post(je,It,se={}){return this.request("POST",je,X(se,It))}put(je,It,se={}){return this.request("PUT",je,X(se,It))}}return Ye.\u0275fac=function(je){return new(je||Ye)(d.LFG(a))},Ye.\u0275prov=d.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();class Y{constructor(st,je){this.next=st,this.interceptor=je}handle(st){return this.interceptor.intercept(st,this.next)}}const Te=new d.OlP("HTTP_INTERCEPTORS");let Ae=(()=>{class Ye{intercept(je,It){return It.handle(je)}}return Ye.\u0275fac=function(je){return new(je||Ye)},Ye.\u0275prov=d.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const it=/^\)\]\}',?\n/;let vt=(()=>{class Ye{constructor(je){this.xhrFactory=je}handle(je){if("JSONP"===je.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new f.y(It=>{const se=this.xhrFactory.build();if(se.open(je.method,je.urlWithParams),je.withCredentials&&(se.withCredentials=!0),je.headers.forEach((de,Qe)=>se.setRequestHeader(de,Qe.join(","))),je.headers.has("Accept")||se.setRequestHeader("Accept","application/json, text/plain, */*"),!je.headers.has("Content-Type")){const de=je.detectContentTypeHeader();null!==de&&se.setRequestHeader("Content-Type",de)}if(je.responseType){const de=je.responseType.toLowerCase();se.responseType="json"!==de?de:"text"}const Fe=je.serializeBody();let he=null;const gt=()=>{if(null!==he)return he;const de=se.statusText||"OK",Qe=new L(se.getAllResponseHeaders()),ze=function Dt(Ye){return"responseURL"in Ye&&Ye.responseURL?Ye.responseURL:/^X-Request-URL:/m.test(Ye.getAllResponseHeaders())?Ye.getResponseHeader("X-Request-URL"):null}(se)||je.url;return he=new fe({headers:Qe,status:se.status,statusText:de,url:ze}),he},cn=()=>{let{headers:de,status:Qe,statusText:ze,url:Et}=gt(),Be=null;204!==Qe&&(Be=void 0===se.response?se.responseText:se.response),0===Qe&&(Qe=Be?200:0);let qt=Qe>=200&&Qe<300;if("json"===je.responseType&&"string"==typeof Be){const gn=Be;Be=Be.replace(it,"");try{Be=""!==Be?JSON.parse(Be):null}catch(Qt){Be=gn,qt&&(qt=!1,Be={error:Qt,text:Be})}}qt?(It.next(new ne({body:Be,headers:de,status:Qe,statusText:ze,url:Et||void 0})),It.complete()):It.error(new J({error:Be,headers:de,status:Qe,statusText:ze,url:Et||void 0}))},Tn=de=>{const{url:Qe}=gt(),ze=new J({error:de,status:se.status||0,statusText:se.statusText||"Unknown Error",url:Qe||void 0});It.error(ze)};let en=!1;const _t=de=>{en||(It.next(gt()),en=!0);let Qe={type:G.DownloadProgress,loaded:de.loaded};de.lengthComputable&&(Qe.total=de.total),"text"===je.responseType&&!!se.responseText&&(Qe.partialText=se.responseText),It.next(Qe)},tt=de=>{let Qe={type:G.UploadProgress,loaded:de.loaded};de.lengthComputable&&(Qe.total=de.total),It.next(Qe)};return se.addEventListener("load",cn),se.addEventListener("error",Tn),se.addEventListener("timeout",Tn),se.addEventListener("abort",Tn),je.reportProgress&&(se.addEventListener("progress",_t),null!==Fe&&se.upload&&se.upload.addEventListener("progress",tt)),se.send(Fe),It.next({type:G.Sent}),()=>{se.removeEventListener("error",Tn),se.removeEventListener("abort",Tn),se.removeEventListener("load",cn),se.removeEventListener("timeout",Tn),je.reportProgress&&(se.removeEventListener("progress",_t),null!==Fe&&se.upload&&se.upload.removeEventListener("progress",tt)),se.readyState!==se.DONE&&se.abort()}})}}return Ye.\u0275fac=function(je){return new(je||Ye)(d.LFG(e.JF))},Ye.\u0275prov=d.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const Wt=new d.OlP("XSRF_COOKIE_NAME"),zt=new d.OlP("XSRF_HEADER_NAME");class Ut{}let ct=(()=>{class Ye{constructor(je,It,se){this.doc=je,this.platform=It,this.cookieName=se,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const je=this.doc.cookie||"";return je!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,e.Mx)(je,this.cookieName),this.lastCookieString=je),this.lastToken}}return Ye.\u0275fac=function(je){return new(je||Ye)(d.LFG(e.K0),d.LFG(d.Lbi),d.LFG(Wt))},Ye.\u0275prov=d.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})(),at=(()=>{class Ye{constructor(je,It){this.tokenService=je,this.headerName=It}intercept(je,It){const se=je.url.toLowerCase();if("GET"===je.method||"HEAD"===je.method||se.startsWith("http://")||se.startsWith("https://"))return It.handle(je);const Fe=this.tokenService.getToken();return null!==Fe&&!je.headers.has(this.headerName)&&(je=je.clone({headers:je.headers.set(this.headerName,Fe)})),It.handle(je)}}return Ye.\u0275fac=function(je){return new(je||Ye)(d.LFG(Ut),d.LFG(zt))},Ye.\u0275prov=d.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})(),me=(()=>{class Ye{constructor(je,It){this.backend=je,this.injector=It,this.chain=null}handle(je){if(null===this.chain){const It=this.injector.get(Te,[]);this.chain=It.reduceRight((se,Fe)=>new Y(se,Fe),this.backend)}return this.chain.handle(je)}}return Ye.\u0275fac=function(je){return new(je||Ye)(d.LFG(R),d.LFG(d.zs3))},Ye.\u0275prov=d.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})(),Ct=(()=>{class Ye{static disable(){return{ngModule:Ye,providers:[{provide:at,useClass:Ae}]}}static withOptions(je={}){return{ngModule:Ye,providers:[je.cookieName?{provide:Wt,useValue:je.cookieName}:[],je.headerName?{provide:zt,useValue:je.headerName}:[]]}}}return Ye.\u0275fac=function(je){return new(je||Ye)},Ye.\u0275mod=d.oAB({type:Ye}),Ye.\u0275inj=d.cJS({providers:[at,{provide:Te,useExisting:at,multi:!0},{provide:Ut,useClass:ct},{provide:Wt,useValue:"XSRF-TOKEN"},{provide:zt,useValue:"X-XSRF-TOKEN"}]}),Ye})(),Ot=(()=>{class Ye{}return Ye.\u0275fac=function(je){return new(je||Ye)},Ye.\u0275mod=d.oAB({type:Ye}),Ye.\u0275inj=d.cJS({providers:[W,{provide:a,useClass:me},vt,{provide:R,useExisting:vt}],imports:[Ct.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Ye})()},5e3:(hn,ht,b)=>{"use strict";b.d(ht,{$8M:()=>Pl,$Z:()=>b0,AFp:()=>g1,ALo:()=>Vg,AaK:()=>a,Akn:()=>cl,AsE:()=>Jm,B6R:()=>Be,BQk:()=>$p,CHM:()=>rr,CRH:()=>b_,CZH:()=>Wg,CqO:()=>Kl,D6c:()=>Nx,DdM:()=>Ev,Dn7:()=>Nv,EJc:()=>sx,EiD:()=>Cd,EpF:()=>wg,F$t:()=>aC,F4k:()=>Em,FYo:()=>ki,FiY:()=>rc,G48:()=>Ix,G7q:()=>Fv,Gf:()=>zv,GfV:()=>kr,GkF:()=>wm,Gpc:()=>V,HOy:()=>Lg,HTZ:()=>c_,Hh0:()=>u_,Hsn:()=>lC,JOm:()=>Qa,JVY:()=>bf,Jf7:()=>Ia,KtG:()=>Yr,L6k:()=>_p,LAX:()=>Vh,LFG:()=>zs,LSH:()=>wp,Lbi:()=>tx,Lck:()=>h4,MAs:()=>nC,MMx:()=>_v,NdJ:()=>Sm,O4$:()=>ui,OlP:()=>So,Oqu:()=>zm,PXZ:()=>_x,Q6J:()=>Ig,QGY:()=>Bd,QP$:()=>Ni,QbO:()=>nx,Qsj:()=>po,R0b:()=>ul,RDi:()=>Zh,Rgc:()=>Wd,SBq:()=>ci,Sil:()=>C1,Suo:()=>Jv,TTD:()=>ls,TgZ:()=>Tg,Tol:()=>_C,Udp:()=>Fm,VKq:()=>Sv,W1O:()=>Yv,WD2:()=>Cs,WLB:()=>kv,X6Q:()=>xx,XFs:()=>me,Xpm:()=>Et,Xts:()=>Ql,Y36:()=>Td,YKP:()=>n_,YNc:()=>eC,Yjl:()=>Bn,Yz7:()=>xe,Z0I:()=>bt,ZZ4:()=>F_,_Bn:()=>fv,_UZ:()=>Tm,_Vd:()=>Yn,_c5:()=>Lx,_uU:()=>Vm,aQg:()=>B_,c2e:()=>ix,cJS:()=>Pe,cg1:()=>Rg,dDg:()=>fx,dqk:()=>se,dwT:()=>wy,eBb:()=>Hh,eFA:()=>D1,ekj:()=>Dg,eoX:()=>A1,evT:()=>zc,f3M:()=>nu,g9A:()=>m1,gM2:()=>p_,h0i:()=>Qd,hGG:()=>Rx,hij:()=>Pg,iGM:()=>Vv,ifc:()=>It,ip1:()=>h1,jDz:()=>Cv,kEZ:()=>Dv,kL8:()=>BC,l5B:()=>l_,lG2:()=>rn,lcZ:()=>Lv,lnq:()=>Qm,lqb:()=>c,lri:()=>I1,mCW:()=>Qr,n5z:()=>Hs,oAB:()=>Qt,oJD:()=>Gr,oxw:()=>rC,pB0:()=>Cp,q3G:()=>Os,qLn:()=>fr,qOj:()=>pm,qZA:()=>qp,qbA:()=>Mv,qzn:()=>Hc,rFY:()=>d_,rWj:()=>T1,sBO:()=>Tx,sIi:()=>jp,s_b:()=>zg,soG:()=>Yg,tb:()=>_1,tp0:()=>ac,uIk:()=>Cm,vHH:()=>D,vpe:()=>$l,wAp:()=>Ji,xi3:()=>Rv,xp6:()=>gb,ynx:()=>Ag,z2F:()=>jg,z3N:()=>Ya,zSh:()=>Pp,zs3:()=>Au});var e=b(7579),d=b(727),u=b(9751),f=b(6451),_=b(3099);function P(r){for(let l in r)if(r[l]===P)return l;throw Error("Could not find renamed property on target object.")}function x(r,l){for(const h in l)l.hasOwnProperty(h)&&!r.hasOwnProperty(h)&&(r[h]=l[h])}function a(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(a).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const l=r.toString();if(null==l)return""+l;const h=l.indexOf("\n");return-1===h?l:l.substring(0,h)}function R(r,l){return null==r||""===r?null===l?"":l:null==l||""===l?r:r+" "+l}const L=P({__forward_ref__:P});function V(r){return r.__forward_ref__=V,r.toString=function(){return a(this())},r}function F(r){return T(r)?r():r}function T(r){return"function"==typeof r&&r.hasOwnProperty(L)&&r.__forward_ref__===V}class D extends Error{constructor(l,h){super(function k(r,l){return`NG0${Math.abs(r)}${l?": "+l.trim():""}`}(l,h)),this.code=l}}function B(r){return"string"==typeof r?r:null==r?"":String(r)}function S(r,l){throw new D(-201,!1)}function Ae(r,l){null==r&&function Ke(r,l,h,v){throw new Error(`ASSERTION ERROR: ${r}`+(null==v?"":` [Expected=> ${h} ${v} ${l} <=Actual]`))}(l,r,null,"!=")}function xe(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Pe(r){return{providers:r.providers||[],imports:r.imports||[]}}function dt(r){return it(r,zt)||it(r,ct)}function bt(r){return null!==dt(r)}function it(r,l){return r.hasOwnProperty(l)?r[l]:null}function Wt(r){return r&&(r.hasOwnProperty(Ut)||r.hasOwnProperty(at))?r[Ut]:null}const zt=P({\u0275prov:P}),Ut=P({\u0275inj:P}),ct=P({ngInjectableDef:P}),at=P({ngInjectorDef:P});var me=(()=>((me=me||{})[me.Default=0]="Default",me[me.Host=1]="Host",me[me.Self=2]="Self",me[me.SkipSelf=4]="SkipSelf",me[me.Optional=8]="Optional",me))();let De;function Ct(r){const l=De;return De=r,l}function Ot(r,l,h){const v=dt(r);return v&&"root"==v.providedIn?void 0===v.value?v.value=v.factory():v.value:h&me.Optional?null:void 0!==l?l:void S(a(r))}function Mt(r){return{toString:r}.toString()}var Ye=(()=>((Ye=Ye||{})[Ye.OnPush=0]="OnPush",Ye[Ye.Default=1]="Default",Ye))(),It=(()=>{return(r=It||(It={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",It;var r})();const se=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),gt={},cn=[],Tn=P({\u0275cmp:P}),en=P({\u0275dir:P}),_t=P({\u0275pipe:P}),tt=P({\u0275mod:P}),de=P({\u0275fac:P}),Qe=P({__NG_ELEMENT_ID__:P});let ze=0;function Et(r){return Mt(()=>{const h=!0===r.standalone,v={},E={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:v,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Ye.OnPush,directiveDefs:null,pipeDefs:null,standalone:h,dependencies:h&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||cn,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||It.Emulated,id:"c"+ze++,styles:r.styles||cn,_:null,setInput:null,schemas:r.schemas||null,tView:null},U=r.dependencies,re=r.features;return E.inputs=Nt(r.inputs,v),E.outputs=Nt(r.outputs),re&&re.forEach(Ie=>Ie(E)),E.directiveDefs=U?()=>("function"==typeof U?U():U).map(qt).filter(gn):null,E.pipeDefs=U?()=>("function"==typeof U?U():U).map(vi).filter(gn):null,E})}function Be(r,l,h){const v=r.\u0275cmp;v.directiveDefs=()=>("function"==typeof l?l():l).map(qt),v.pipeDefs=()=>("function"==typeof h?h():h).map(vi)}function qt(r){return Hn(r)||ai(r)}function gn(r){return null!==r}function Qt(r){return Mt(()=>({type:r.type,bootstrap:r.bootstrap||cn,declarations:r.declarations||cn,imports:r.imports||cn,exports:r.exports||cn,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Nt(r,l){if(null==r)return gt;const h={};for(const v in r)if(r.hasOwnProperty(v)){let E=r[v],U=E;Array.isArray(E)&&(U=E[1],E=E[0]),h[E]=v,l&&(l[E]=U)}return h}const rn=Et;function Bn(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Hn(r){return r[Tn]||null}function ai(r){return r[en]||null}function vi(r){return r[_t]||null}function Ni(r){const l=Hn(r)||ai(r)||vi(r);return null!==l&&l.standalone}function io(r,l){const h=r[tt]||null;if(!h&&!0===l)throw new Error(`Type ${a(r)} does not have '\u0275mod' property.`);return h}function vo(r){return Array.isArray(r)&&"object"==typeof r[1]}function qo(r){return Array.isArray(r)&&!0===r[1]}function Ls(r){return 0!=(8&r.flags)}function ws(r){return 2==(2&r.flags)}function Rs(r){return 1==(1&r.flags)}function as(r){return null!==r.template}function Cr(r){return 0!=(256&r[2])}function go(r,l){return r.hasOwnProperty(de)?r[de]:null}class Cs{constructor(l,h,v){this.previousValue=l,this.currentValue=h,this.firstChange=v}isFirstChange(){return this.firstChange}}function ls(){return vs}function vs(r){return r.type.prototype.ngOnChanges&&(r.setInput=ys),bs}function bs(){const r=Pr(this),l=null==r?void 0:r.current;if(l){const h=r.previous;if(h===gt)r.previous=l;else for(let v in l)h[v]=l[v];r.current=null,this.ngOnChanges(l)}}function ys(r,l,h,v){const E=Pr(r)||function Lr(r,l){return r[xr]=l}(r,{previous:gt,current:null}),U=E.current||(E.current={}),re=E.previous,Ie=this.declaredInputs[h],Re=re[Ie];U[Ie]=new Cs(Re&&Re.currentValue,l,re===gt),r[v]=l}ls.ngInherit=!0;const xr="__ngSimpleChanges__";function Pr(r){return r[xr]||null}function Le(r){for(;Array.isArray(r);)r=r[0];return r}function Pn(r,l){return Le(l[r])}function qn(r,l){return Le(l[r.index])}function Hi(r,l){return r.data[l]}function Fi(r,l){return r[l]}function Si(r,l){const h=l[r];return vo(h)?h:h[0]}function Oo(r){return 64==(64&r[2])}function Io(r,l){return null==l?null:r[l]}function Eo(r){r[18]=0}function Es(r,l){r[5]+=l;let h=r,v=r[3];for(;null!==v&&(1===l&&1===h[5]||-1===l&&0===h[5]);)v[5]+=l,h=v,v=v[3]}const Mi={lFrame:Fa(null),bindingsEnabled:!0};function Ri(){return Mi.bindingsEnabled}function Qn(){return Mi.lFrame.lView}function Oi(){return Mi.lFrame.tView}function rr(r){return Mi.lFrame.contextLView=r,r[8]}function Yr(r){return Mi.lFrame.contextLView=null,r}function Xi(){let r=na();for(;null!==r&&64===r.type;)r=r.parent;return r}function na(){return Mi.lFrame.currentTNode}function Ss(r,l){const h=Mi.lFrame;h.currentTNode=r,h.isParent=l}function ca(){return Mi.lFrame.isParent}function ms(){Mi.lFrame.isParent=!1}function Se(){const r=Mi.lFrame;let l=r.bindingRootIndex;return-1===l&&(l=r.bindingRootIndex=r.tView.bindingStartIndex),l}function kt(){return Mi.lFrame.bindingIndex}function fi(){return Mi.lFrame.bindingIndex++}function Gi(r){const l=Mi.lFrame,h=l.bindingIndex;return l.bindingIndex=l.bindingIndex+r,h}function us(r,l){const h=Mi.lFrame;h.bindingIndex=h.bindingRootIndex=r,lr(l)}function lr(r){Mi.lFrame.currentDirectiveIndex=r}function Er(){return Mi.lFrame.currentQueryIndex}function Rr(r){Mi.lFrame.currentQueryIndex=r}function Xs(r){const l=r[1];return 2===l.type?l.declTNode:1===l.type?r[6]:null}function Nr(r,l,h){if(h&me.SkipSelf){let E=l,U=r;for(;!(E=E.parent,null!==E||h&me.Host||(E=Xs(U),null===E||(U=U[15],10&E.type))););if(null===E)return!1;l=E,r=U}const v=Mi.lFrame=ma();return v.currentTNode=l,v.lView=r,!0}function cr(r){const l=ma(),h=r[1];Mi.lFrame=l,l.currentTNode=h.firstChild,l.lView=r,l.tView=h,l.contextLView=r,l.bindingIndex=h.bindingStartIndex,l.inI18n=!1}function ma(){const r=Mi.lFrame,l=null===r?null:r.child;return null===l?Fa(r):l}function Fa(r){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=l),l}function Xa(){const r=Mi.lFrame;return Mi.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Oe=Xa;function pt(){const r=Xa();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function on(){return Mi.lFrame.selectedIndex}function Dn(r){Mi.lFrame.selectedIndex=r}function Nn(){const r=Mi.lFrame;return Hi(r.tView,r.selectedIndex)}function ui(){Mi.lFrame.currentNamespace="svg"}function bi(r,l){for(let h=l.directiveStart,v=l.directiveEnd;h<v;h++){const U=r.data[h].type.prototype,{ngAfterContentInit:re,ngAfterContentChecked:Ie,ngAfterViewInit:Re,ngAfterViewChecked:lt,ngOnDestroy:Pt}=U;re&&(r.contentHooks||(r.contentHooks=[])).push(-h,re),Ie&&((r.contentHooks||(r.contentHooks=[])).push(h,Ie),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(h,Ie)),Re&&(r.viewHooks||(r.viewHooks=[])).push(-h,Re),lt&&((r.viewHooks||(r.viewHooks=[])).push(h,lt),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(h,lt)),null!=Pt&&(r.destroyHooks||(r.destroyHooks=[])).push(h,Pt)}}function yo(r,l,h){ds(r,l,3,h)}function jo(r,l,h,v){(3&r[2])===h&&ds(r,l,h,v)}function Zs(r,l){let h=r[2];(3&h)===l&&(h&=2047,h+=1,r[2]=h)}function ds(r,l,h,v){const U=null!=v?v:-1,re=l.length-1;let Ie=0;for(let Re=void 0!==v?65535&r[18]:0;Re<re;Re++)if("number"==typeof l[Re+1]){if(Ie=l[Re],null!=v&&Ie>=v)break}else l[Re]<0&&(r[18]+=65536),(Ie<U||-1==U)&&(ur(r,h,l,Re),r[18]=(4294901760&r[18])+Re+2),Re++}function ur(r,l,h,v){const E=h[v]<0,U=h[v+1],Ie=r[E?-h[v]:h[v]];if(E){if(r[2]>>11<r[18]>>16&&(3&r[2])===l){r[2]+=2048;try{U.call(Ie)}finally{}}}else try{U.call(Ie)}finally{}}class ae{constructor(l,h,v){this.factory=l,this.resolving=!1,this.canSeeViewProviders=h,this.injectImpl=v}}function Yt(r,l,h){let v=0;for(;v<h.length;){const E=h[v];if("number"==typeof E){if(0!==E)break;v++;const U=h[v++],re=h[v++],Ie=h[v++];r.setAttribute(l,re,Ie,U)}else{const U=E,re=h[++v];Ue(U)?r.setProperty(l,U,re):r.setAttribute(l,U,re),v++}}return v}function Ne(r){return 3===r||4===r||6===r}function Ue(r){return 64===r.charCodeAt(0)}function mt(r,l){if(null!==l&&0!==l.length)if(null===r||0===r.length)r=l.slice();else{let h=-1;for(let v=0;v<l.length;v++){const E=l[v];"number"==typeof E?h=E:0===h||Lt(r,h,E,null,-1===h||2===h?l[++v]:null)}}return r}function Lt(r,l,h,v,E){let U=0,re=r.length;if(-1===l)re=-1;else for(;U<r.length;){const Ie=r[U++];if("number"==typeof Ie){if(Ie===l){re=-1;break}if(Ie>l){re=U-1;break}}}for(;U<r.length;){const Ie=r[U];if("number"==typeof Ie)break;if(Ie===h){if(null===v)return void(null!==E&&(r[U+1]=E));if(v===r[U+1])return void(r[U+2]=E)}U++,null!==v&&U++,null!==E&&U++}-1!==re&&(r.splice(re,0,l),U=re+1),r.splice(U++,0,h),null!==v&&r.splice(U++,0,v),null!==E&&r.splice(U++,0,E)}function an(r){return-1!==r}function An(r){return 32767&r}function $n(r,l){let h=function On(r){return r>>16}(r),v=l;for(;h>0;)v=v[15],h--;return v}let ni=!0;function Ai(r){const l=ni;return ni=r,l}let fo=0;const Bo={};function dr(r,l){const h=Fr(r,l);if(-1!==h)return h;const v=l[1];v.firstCreatePass&&(r.injectorIndex=l.length,Kr(v.data,r),Kr(l,null),Kr(v.blueprint,null));const E=Us(r,l),U=r.injectorIndex;if(an(E)){const re=An(E),Ie=$n(E,l),Re=Ie[1].data;for(let lt=0;lt<8;lt++)l[U+lt]=Ie[re+lt]|Re[re+lt]}return l[U+8]=E,U}function Kr(r,l){r.push(0,0,0,0,0,0,0,0,l)}function Fr(r,l){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===l[r.injectorIndex+8]?-1:r.injectorIndex}function Us(r,l){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let h=0,v=null,E=l;for(;null!==E;){if(v=Ba(E),null===v)return-1;if(h++,E=E[15],-1!==v.injectorIndex)return v.injectorIndex|h<<16}return-1}function Ma(r,l,h){!function Lo(r,l,h){let v;"string"==typeof h?v=h.charCodeAt(0)||0:h.hasOwnProperty(Qe)&&(v=h[Qe]),null==v&&(v=h[Qe]=fo++);const E=255&v;l.data[r+(E>>5)]|=1<<E}(r,l,h)}function wi(r,l,h){if(h&me.Optional||void 0!==r)return r;S()}function Pi(r,l,h,v){if(h&me.Optional&&void 0===v&&(v=null),0==(h&(me.Self|me.Host))){const E=r[9],U=Ct(void 0);try{return E?E.get(l,v,h&me.Optional):Ot(l,v,h&me.Optional)}finally{Ct(U)}}return wi(v,0,h)}function to(r,l,h,v=me.Default,E){if(null!==r){if(1024&l[2]){const re=function Oa(r,l,h,v,E){let U=r,re=l;for(;null!==U&&null!==re&&1024&re[2]&&!(256&re[2]);){const Ie=Qo(U,re,h,v|me.Self,Bo);if(Ie!==Bo)return Ie;let Re=U.parent;if(!Re){const lt=re[21];if(lt){const Pt=lt.get(h,Bo,v);if(Pt!==Bo)return Pt}Re=Ba(re),re=re[15]}U=Re}return E}(r,l,h,v,Bo);if(re!==Bo)return re}const U=Qo(r,l,h,v,Bo);if(U!==Bo)return U}return Pi(l,h,v,E)}function Qo(r,l,h,v,E){const U=function To(r){if("string"==typeof r)return r.charCodeAt(0)||0;const l=r.hasOwnProperty(Qe)?r[Qe]:void 0;return"number"==typeof l?l>=0?255&l:Br:l}(h);if("function"==typeof U){if(!Nr(l,r,v))return v&me.Host?wi(E,0,v):Pi(l,h,v,E);try{const re=U(v);if(null!=re||v&me.Optional)return re;S()}finally{Oe()}}else if("number"==typeof U){let re=null,Ie=Fr(r,l),Re=-1,lt=v&me.Host?l[16][6]:null;for((-1===Ie||v&me.SkipSelf)&&(Re=-1===Ie?Us(r,l):l[Ie+8],-1!==Re&&pl(v,!1)?(re=l[1],Ie=An(Re),l=$n(Re,l)):Ie=-1);-1!==Ie;){const Pt=l[1];if(qr(U,Ie,Pt.data)){const Kt=Ro(Ie,l,h,re,v,lt);if(Kt!==Bo)return Kt}Re=l[Ie+8],-1!==Re&&pl(v,l[1].data[Ie+8]===lt)&&qr(U,Ie,l)?(re=Pt,Ie=An(Re),l=$n(Re,l)):Ie=-1}}return E}function Ro(r,l,h,v,E,U){const re=l[1],Ie=re.data[r+8],Pt=ks(Ie,re,h,null==v?ws(Ie)&&ni:v!=re&&0!=(3&Ie.type),E&me.Host&&U===Ie);return null!==Pt?pr(l,re,Pt,Ie):Bo}function ks(r,l,h,v,E){const U=r.providerIndexes,re=l.data,Ie=1048575&U,Re=r.directiveStart,Pt=U>>20,Cn=E?Ie+Pt:r.directiveEnd;for(let kn=v?Ie:Ie+Pt;kn<Cn;kn++){const Jn=re[kn];if(kn<Re&&h===Jn||kn>=Re&&Jn.type===h)return kn}if(E){const kn=re[Re];if(kn&&as(kn)&&kn.type===h)return Re}return null}function pr(r,l,h,v){let E=r[h];const U=l.data;if(function pe(r){return r instanceof ae}(E)){const re=E;re.resolving&&function ce(r,l){const h=l?`. Dependency path: ${l.join(" > ")} > ${r}`:"";throw new D(-200,`Circular dependency in DI detected for ${r}${h}`)}(function N(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():B(r)}(U[h]));const Ie=Ai(re.canSeeViewProviders);re.resolving=!0;const Re=re.injectImpl?Ct(re.injectImpl):null;Nr(r,v,me.Default);try{E=r[h]=re.factory(void 0,U,r,v),l.firstCreatePass&&h>=v.directiveStart&&function _o(r,l,h){const{ngOnChanges:v,ngOnInit:E,ngDoCheck:U}=l.type.prototype;if(v){const re=vs(l);(h.preOrderHooks||(h.preOrderHooks=[])).push(r,re),(h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(r,re)}E&&(h.preOrderHooks||(h.preOrderHooks=[])).push(0-r,E),U&&((h.preOrderHooks||(h.preOrderHooks=[])).push(r,U),(h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(r,U))}(h,U[h],l)}finally{null!==Re&&Ct(Re),Ai(Ie),re.resolving=!1,Oe()}}return E}function qr(r,l,h){return!!(h[l+(r>>5)]&1<<r)}function pl(r,l){return!(r&me.Self||r&me.Host&&l)}class No{constructor(l,h){this._tNode=l,this._lView=h}get(l,h,v){return to(this._tNode,this._lView,l,v,h)}}function Br(){return new No(Xi(),Qn())}function Hs(r){return Mt(()=>{const l=r.prototype.constructor,h=l[de]||_a(l),v=Object.prototype;let E=Object.getPrototypeOf(r.prototype).constructor;for(;E&&E!==v;){const U=E[de]||_a(E);if(U&&U!==h)return U;E=Object.getPrototypeOf(E)}return U=>new U})}function _a(r){return T(r)?()=>{const l=_a(F(r));return l&&l()}:go(r)}function Ba(r){const l=r[1],h=l.type;return 2===h?l.declTNode:1===h?r[6]:null}function Pl(r){return function xi(r,l){if("class"===l)return r.classes;if("style"===l)return r.styles;const h=r.attrs;if(h){const v=h.length;let E=0;for(;E<v;){const U=h[E];if(Ne(U))break;if(0===U)E+=2;else if("number"==typeof U)for(E++;E<v&&"string"==typeof h[E];)E++;else{if(U===l)return h[E+1];E+=2}}}return null}(Xi(),r)}const Za="__parameters__";function hl(r,l,h){return Mt(()=>{const v=function Ca(r){return function(...h){if(r){const v=r(...h);for(const E in v)this[E]=v[E]}}}(l);function E(...U){if(this instanceof E)return v.apply(this,U),this;const re=new E(...U);return Ie.annotation=re,Ie;function Ie(Re,lt,Pt){const Kt=Re.hasOwnProperty(Za)?Re[Za]:Object.defineProperty(Re,Za,{value:[]})[Za];for(;Kt.length<=Pt;)Kt.push(null);return(Kt[Pt]=Kt[Pt]||[]).push(re),Re}}return h&&(E.prototype=Object.create(h.prototype)),E.prototype.ngMetadataName=r,E.annotationCls=E,E})}class So{constructor(l,h){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof h?this.__NG_ELEMENT_ID__=h:void 0!==h&&(this.\u0275prov=xe({token:this,providedIn:h.providedIn||"root",factory:h.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Zr(r,l){void 0===l&&(l=r);for(let h=0;h<r.length;h++){let v=r[h];Array.isArray(v)?(l===r&&(l=r.slice(0,h)),Zr(v,l)):l!==r&&l.push(v)}return l}function Ur(r,l){r.forEach(h=>Array.isArray(h)?Ur(h,l):l(h))}function tl(r,l,h){l>=r.length?r.push(h):r.splice(l,0,h)}function gl(r,l){return l>=r.length-1?r.pop():r.splice(l,1)[0]}function Ms(r,l){const h=[];for(let v=0;v<r;v++)h.push(l);return h}function Xt(r,l,h){let v=wn(r,l);return v>=0?r[1|v]=h:(v=~v,function le(r,l,h,v){let E=r.length;if(E==l)r.push(h,v);else if(1===E)r.push(v,r[0]),r[0]=h;else{for(E--,r.push(r[E-1],r[E]);E>l;)r[E]=r[E-2],E--;r[l]=h,r[l+1]=v}}(r,v,l,h)),v}function sn(r,l){const h=wn(r,l);if(h>=0)return r[1|h]}function wn(r,l){return function yi(r,l,h){let v=0,E=r.length>>h;for(;E!==v;){const U=v+(E-v>>1),re=r[U<<h];if(l===re)return U<<h;re>l?E=U:v=U+1}return~(E<<h)}(r,l,1)}const gr={},oc="__NG_DI_FLAG__",Ac="ngTempTokenPath",Xd=/\n/gm,Gu="__source";let Is;function zr(r){const l=Is;return Is=r,l}function wc(r,l=me.Default){if(void 0===Is)throw new D(-203,!1);return null===Is?Ot(r,void 0,l):Is.get(r,l&me.Optional?null:void 0,l)}function zs(r,l=me.Default){return(function ot(){return De}()||wc)(F(r),l)}function nu(r,l=me.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),zs(r,l)}function Ec(r){const l=[];for(let h=0;h<r.length;h++){const v=F(r[h]);if(Array.isArray(v)){if(0===v.length)throw new D(900,!1);let E,U=me.Default;for(let re=0;re<v.length;re++){const Ie=v[re],Re=fl(Ie);"number"==typeof Re?-1===Re?E=Ie.token:U|=Re:E=Ie}l.push(zs(E,U))}else l.push(zs(v))}return l}function nl(r,l){return r[oc]=l,r.prototype[oc]=l,r}function fl(r){return r[oc]}const rc=nl(hl("Optional"),8),ac=nl(hl("SkipSelf"),4);var Qa=(()=>((Qa=Qa||{})[Qa.Important=1]="Important",Qa[Qa.DashCase=2]="DashCase",Qa))();const ml=new Map;let uc=0;const ln="__ngContext__";function tr(r,l){vo(l)?(r[ln]=l[20],function Ih(r){ml.set(r[20],r)}(l)):r[ln]=l}function pc(r,l){return undefined(r,l)}function Oc(r){const l=r[3];return qo(l)?l[3]:l}function id(r){return Pc(r[13])}function lu(r){return Pc(r[4])}function Pc(r){for(;null!==r&&!qo(r);)r=r[4];return r}function Bl(r,l,h,v,E){if(null!=v){let U,re=!1;qo(v)?U=v:vo(v)&&(re=!0,v=v[0]);const Ie=Le(v);0===r&&null!==h?null==E?du(l,h,Ie):Hl(l,h,Ie,E||null,!0):1===r&&null!==h?Hl(l,h,Ie,E||null,!0):2===r?function gu(r,l,h){const v=Fc(r,l);v&&function Mh(r,l,h,v){r.removeChild(l,h,v)}(r,v,l,h)}(l,Ie,re):3===r&&l.destroyNode(Ie),null!=U&&function fu(r,l,h,v,E){const U=h[7];U!==Le(h)&&Bl(l,r,v,U,E);for(let Ie=10;Ie<h.length;Ie++){const Re=h[Ie];Zc(Re[1],Re,r,l,v,U)}}(l,r,U,h,E)}}function sd(r,l,h){return r.createElement(l,h)}function cu(r,l){const h=r[9],v=h.indexOf(l),E=l[3];512&l[2]&&(l[2]&=-513,Es(E,-1)),h.splice(v,1)}function rd(r,l){if(r.length<=10)return;const h=10+l,v=r[h];if(v){const E=v[17];null!==E&&E!==r&&cu(E,v),l>0&&(r[h-1][4]=v[4]);const U=gl(r,10+l);!function Zl(r,l){Zc(r,l,l[11],2,null,null),l[0]=null,l[6]=null}(v[1],v);const re=U[19];null!==re&&re.detachView(U[1]),v[3]=null,v[4]=null,v[2]&=-65}return v}function ad(r,l){if(!(128&l[2])){const h=l[11];h.destroyNode&&Zc(r,l,h,3,null,null),function pp(r){let l=r[13];if(!l)return uu(r[1],r);for(;l;){let h=null;if(vo(l))h=l[13];else{const v=l[10];v&&(h=v)}if(!h){for(;l&&!l[4]&&l!==r;)vo(l)&&uu(l[1],l),l=l[3];null===l&&(l=r),vo(l)&&uu(l[1],l),h=l&&l[4]}l=h}}(l)}}function uu(r,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function Dh(r,l){let h;if(null!=r&&null!=(h=r.destroyHooks))for(let v=0;v<h.length;v+=2){const E=l[h[v]];if(!(E instanceof ae)){const U=h[v+1];if(Array.isArray(U))for(let re=0;re<U.length;re+=2){const Ie=E[U[re]],Re=U[re+1];try{Re.call(Ie)}finally{}}else try{U.call(E)}finally{}}}}(r,l),function kh(r,l){const h=r.cleanup,v=l[7];let E=-1;if(null!==h)for(let U=0;U<h.length-1;U+=2)if("string"==typeof h[U]){const re=h[U+1],Ie="function"==typeof re?re(l):Le(l[re]),Re=v[E=h[U+2]],lt=h[U+3];"boolean"==typeof lt?Ie.removeEventListener(h[U],Re,lt):lt>=0?v[E=lt]():v[E=-lt].unsubscribe(),U+=2}else{const re=v[E=h[U+1]];h[U].call(re)}if(null!==v){for(let U=E+1;U<v.length;U++)(0,v[U])();l[7]=null}}(r,l),1===l[1].type&&l[11].destroy();const h=l[17];if(null!==h&&qo(l[3])){h!==l[3]&&cu(h,l);const v=l[19];null!==v&&v.detachView(r)}!function dc(r){ml.delete(r[20])}(l)}}function Ul(r,l,h){return function Rc(r,l,h){let v=l;for(;null!==v&&40&v.type;)v=(l=v).parent;if(null===v)return h[0];if(2&v.flags){const E=r.data[v.directiveStart].encapsulation;if(E===It.None||E===It.Emulated)return null}return qn(v,h)}(r,l.parent,h)}function Hl(r,l,h,v,E){r.insertBefore(l,h,v,E)}function du(r,l,h){r.appendChild(l,h)}function Nc(r,l,h,v,E){null!==v?Hl(r,l,h,v,E):du(r,l,h)}function Fc(r,l){return r.parentNode(l)}function Oh(r,l,h){return ff(r,l,h)}let hd,Uc,Vl,ff=function Ph(r,l,h){return 40&r.type?qn(r,h):null};function pu(r,l,h,v){const E=Ul(r,v,l),U=l[11],Ie=Oh(v.parent||l[6],v,l);if(null!=E)if(Array.isArray(h))for(let Re=0;Re<h.length;Re++)Nc(U,E,h[Re],Ie,!1);else Nc(U,E,h,Ie,!1)}function ld(r,l){if(null!==l){const h=l.type;if(3&h)return qn(l,r);if(4&h)return Bc(-1,r[l.index]);if(8&h){const v=l.child;if(null!==v)return ld(r,v);{const E=r[l.index];return qo(E)?Bc(-1,E):Le(E)}}if(32&h)return pc(l,r)()||Le(r[l.index]);{const v=hu(r,l);return null!==v?Array.isArray(v)?v[0]:ld(Oc(r[16]),v):ld(r,l.next)}}return null}function hu(r,l){return null!==l?r[16][6].projection[l.projection]:null}function Bc(r,l){const h=10+r+1;if(h<l.length){const v=l[h],E=v[1].firstChild;if(null!==E)return ld(v,E)}return l[7]}function cd(r,l,h,v,E,U,re){for(;null!=h;){const Ie=v[h.index],Re=h.type;if(re&&0===l&&(Ie&&tr(Le(Ie),v),h.flags|=4),64!=(64&h.flags))if(8&Re)cd(r,l,h.child,v,E,U,!1),Bl(l,r,E,Ie,U);else if(32&Re){const lt=pc(h,v);let Pt;for(;Pt=lt();)Bl(l,r,E,Pt,U);Bl(l,r,E,Ie,U)}else 16&Re?ud(r,l,v,h,E,U):Bl(l,r,E,Ie,U);h=re?h.projectionNext:h.next}}function Zc(r,l,h,v,E,U){cd(h,v,r.firstChild,l,E,U,!1)}function ud(r,l,h,v,E,U){const re=h[16],Re=re[6].projection[v.projection];if(Array.isArray(Re))for(let lt=0;lt<Re.length;lt++)Bl(l,r,E,Re[lt],U);else cd(r,l,Re,re[3],E,U,!0)}function dd(r,l,h){r.setAttribute(l,"style",h)}function pd(r,l,h){""===h?r.removeAttribute(l,"class"):r.setAttribute(l,"class",h)}function hc(r){var l;return(null===(l=function mu(){if(void 0===hd&&(hd=null,se.trustedTypes))try{hd=se.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return hd}())||void 0===l?void 0:l.createHTML(r))||r}function Zh(r){Uc=r}function fd(r){var l;return(null===(l=function gd(){if(void 0===Vl&&(Vl=null,se.trustedTypes))try{Vl=se.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Vl}())||void 0===l?void 0:l.createHTML(r))||r}class Wa{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class _f extends Wa{getTypeName(){return"HTML"}}class _u extends Wa{getTypeName(){return"Style"}}class ol extends Wa{getTypeName(){return"Script"}}class bl extends Wa{getTypeName(){return"URL"}}class Cf extends Wa{getTypeName(){return"ResourceURL"}}function Ya(r){return r instanceof Wa?r.changingThisBreaksApplicationSecurity:r}function Hc(r,l){const h=function vf(r){return r instanceof Wa&&r.getTypeName()||null}(r);if(null!=h&&h!==l){if("ResourceURL"===h&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${h} (see https://g.co/ng/security#xss)`)}return h===l}function bf(r){return new _f(r)}function _p(r){return new _u(r)}function Hh(r){return new ol(r)}function Vh(r){return new bl(r)}function Cp(r){return new Cf(r)}class yf{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const h=(new window.DOMParser).parseFromString(hc(l),"text/html").body;return null===h?this.inertDocumentHelper.getInertBodyElement(l):(h.removeChild(h.firstChild),h)}catch(h){return null}}}class xf{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const h=this.inertDocument.createElement("html");this.inertDocument.appendChild(h);const v=this.inertDocument.createElement("body");h.appendChild(v)}}getInertBodyElement(l){const h=this.inertDocument.createElement("template");if("content"in h)return h.innerHTML=hc(l),h;const v=this.inertDocument.createElement("body");return v.innerHTML=hc(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(v),v}stripCustomNsAttrs(l){const h=l.attributes;for(let E=h.length-1;0<E;E--){const re=h.item(E).name;("xmlns:ns1"===re||0===re.indexOf("ns1:"))&&l.removeAttribute(re)}let v=l.firstChild;for(;v;)v.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(v),v=v.nextSibling}}const zh=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Qr(r){return(r=String(r)).match(zh)?r:"unsafe:"+r}function ja(r){const l={};for(const h of r.split(","))l[h]=!0;return l}function vu(...r){const l={};for(const h of r)for(const v in h)h.hasOwnProperty(v)&&(l[v]=!0);return l}const Jh=ja("area,br,col,hr,img,wbr"),Qh=ja("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bp=ja("rp,rt"),yp=vu(Jh,vu(Qh,ja("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vu(bp,ja("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vu(bp,Qh)),xp=ja("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gc=vu(xp,ja("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ja("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sl=ja("script,style,template");class Wh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let h=l.firstChild,v=!0;for(;h;)if(h.nodeType===Node.ELEMENT_NODE?v=this.startElement(h):h.nodeType===Node.TEXT_NODE?this.chars(h.nodeValue):this.sanitizedSomething=!0,v&&h.firstChild)h=h.firstChild;else for(;h;){h.nodeType===Node.ELEMENT_NODE&&this.endElement(h);let E=this.checkClobberedElement(h,h.nextSibling);if(E){h=E;break}h=this.checkClobberedElement(h,h.parentNode)}return this.buf.join("")}startElement(l){const h=l.nodeName.toLowerCase();if(!yp.hasOwnProperty(h))return this.sanitizedSomething=!0,!sl.hasOwnProperty(h);this.buf.push("<"),this.buf.push(h);const v=l.attributes;for(let E=0;E<v.length;E++){const U=v.item(E),re=U.name,Ie=re.toLowerCase();if(!gc.hasOwnProperty(Ie)){this.sanitizedSomething=!0;continue}let Re=U.value;xp[Ie]&&(Re=Qr(Re)),this.buf.push(" ",re,'="',Tp(Re),'"')}return this.buf.push(">"),!0}endElement(l){const h=l.nodeName.toLowerCase();yp.hasOwnProperty(h)&&!Jh.hasOwnProperty(h)&&(this.buf.push("</"),this.buf.push(h),this.buf.push(">"))}chars(l){this.buf.push(Tp(l))}checkClobberedElement(l,h){if(h&&(l.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return h}}const Ip=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Tf=/([^\#-~ |!])/g;function Tp(r){return r.replace(/&/g,"&amp;").replace(Ip,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Tf,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zl;function Cd(r,l){let h=null;try{zl=zl||function Cu(r){const l=new xf(r);return function vp(){try{return!!(new window.DOMParser).parseFromString(hc(""),"text/html")}catch(r){return!1}}()?new yf(l):l}(r);let v=l?String(l):"";h=zl.getInertBodyElement(v);let E=5,U=v;do{if(0===E)throw new Error("Failed to sanitize html because the input is unstable");E--,v=U,U=h.innerHTML,h=zl.getInertBodyElement(v)}while(v!==U);return hc((new Wh).sanitizeChildren(Ap(h)||h))}finally{if(h){const v=Ap(h)||h;for(;v.firstChild;)v.removeChild(v.firstChild)}}}function Ap(r){return"content"in r&&function Yh(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Os=(()=>((Os=Os||{})[Os.NONE=0]="NONE",Os[Os.HTML=1]="HTML",Os[Os.STYLE=2]="STYLE",Os[Os.SCRIPT=3]="SCRIPT",Os[Os.URL=4]="URL",Os[Os.RESOURCE_URL=5]="RESOURCE_URL",Os))();function Gr(r){const l=yu();return l?fd(l.sanitize(Os.HTML,r)||""):Hc(r,"HTML")?fd(Ya(r)):Cd(function fp(){return void 0!==Uc?Uc:"undefined"!=typeof document?document:void 0}(),B(r))}function wp(r){const l=yu();return l?l.sanitize(Os.URL,r)||"":Hc(r,"URL")?Ya(r):Qr(B(r))}function yu(){const r=Qn();return r&&r[12]}const Ql=new So("ENVIRONMENT_INITIALIZER"),xu=new So("INJECTOR",-1),$r=new So("INJECTOR_DEF_TYPES");class Sp{get(l,h=gr){if(h===gr){const v=new Error(`NullInjectorError: No provider for ${a(l)}!`);throw v.name="NullInjectorError",v}return h}}function kp(...r){return{\u0275providers:vd(0,r)}}function vd(r,...l){const h=[],v=new Set;let E;return Ur(l,U=>{const re=U;yl(re,h,[],v)&&(E||(E=[]),E.push(re))}),void 0!==E&&Dp(E,h),h}function Dp(r,l){for(let h=0;h<r.length;h++){const{providers:E}=r[h];Ur(E,U=>{l.push(U)})}}function yl(r,l,h,v){if(!(r=F(r)))return!1;let E=null,U=Wt(r);const re=!U&&Hn(r);if(U||re){if(re&&!re.standalone)return!1;E=r}else{const Re=r.ngModule;if(U=Wt(Re),!U)return!1;E=Re}const Ie=v.has(E);if(re){if(Ie)return!1;if(v.add(E),re.dependencies){const Re="function"==typeof re.dependencies?re.dependencies():re.dependencies;for(const lt of Re)yl(lt,l,h,v)}}else{if(!U)return!1;{if(null!=U.imports&&!Ie){let lt;v.add(E);try{Ur(U.imports,Pt=>{yl(Pt,l,h,v)&&(lt||(lt=[]),lt.push(Pt))})}finally{}void 0!==lt&&Dp(lt,l)}if(!Ie){const lt=go(E)||(()=>new E);l.push({provide:E,useFactory:lt,deps:cn},{provide:$r,useValue:E,multi:!0},{provide:Ql,useValue:()=>zs(E),multi:!0})}const Re=U.providers;null==Re||Ie||Ur(Re,Pt=>{l.push(Pt)})}}return E!==r&&void 0!==r.providers}const Op=P({provide:String,useValue:P});function bd(r){return null!==r&&"object"==typeof r&&Op in r}function xl(r){return"function"==typeof r}const Pp=new So("Set Injector scope."),yd={},Sf={};let Gl;function m(){return void 0===Gl&&(Gl=new Sp),Gl}class c{}class g extends c{constructor(l,h,v,E){super(),this.parent=h,this.source=v,this.scopes=E,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zt(l,re=>this.processProvider(re)),this.records.set(xu,te(void 0,this)),E.has("environment")&&this.records.set(c,te(void 0,this));const U=this.records.get(Pp);null!=U&&"string"==typeof U.value&&this.scopes.add(U.value),this.injectorDefTypes=new Set(this.get($r.multi,cn,me.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const h=zr(this),v=Ct(void 0);try{return l()}finally{zr(h),Ct(v)}}get(l,h=gr,v=me.Default){this.assertNotDestroyed();const E=zr(this),U=Ct(void 0);try{if(!(v&me.SkipSelf)){let Ie=this.records.get(l);if(void 0===Ie){const Re=function rt(r){return"function"==typeof r||"object"==typeof r&&r instanceof So}(l)&&dt(l);Ie=Re&&this.injectableDefInScope(Re)?te(C(l),yd):null,this.records.set(l,Ie)}if(null!=Ie)return this.hydrate(l,Ie)}return(v&me.Self?m():this.parent).get(l,h=v&me.Optional&&h===gr?null:h)}catch(re){if("NullInjectorError"===re.name){if((re[Ac]=re[Ac]||[]).unshift(a(l)),E)throw re;return function Wu(r,l,h,v){const E=r[Ac];throw l[Gu]&&E.unshift(l[Gu]),r.message=function sc(r,l,h,v=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let E=a(l);if(Array.isArray(l))E=l.map(a).join(" -> ");else if("object"==typeof l){let U=[];for(let re in l)if(l.hasOwnProperty(re)){let Ie=l[re];U.push(re+":"+("string"==typeof Ie?JSON.stringify(Ie):a(Ie)))}E=`{${U.join(", ")}}`}return`${h}${v?"("+v+")":""}[${E}]: ${r.replace(Xd,"\n  ")}`}("\n"+r.message,E,h,v),r.ngTokenPath=E,r[Ac]=null,r}(re,l,"R3InjectorError",this.source)}throw re}finally{Ct(U),zr(E)}}resolveInjectorInitializers(){const l=zr(this),h=Ct(void 0);try{const v=this.get(Ql.multi,cn,me.Self);for(const E of v)E()}finally{zr(l),Ct(h)}}toString(){const l=[],h=this.records;for(const v of h.keys())l.push(a(v));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(l){let h=xl(l=F(l))?l:F(l&&l.provide);const v=function M(r){return bd(r)?te(void 0,r.useValue):te(H(r),yd)}(l);if(xl(l)||!0!==l.multi)this.records.get(h);else{let E=this.records.get(h);E||(E=te(void 0,yd,!0),E.factory=()=>Ec(E.multi),this.records.set(h,E)),h=l,E.multi.push(l)}this.records.set(h,v)}hydrate(l,h){return h.value===yd&&(h.value=Sf,h.value=h.factory()),"object"==typeof h.value&&h.value&&function Me(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(h.value)&&this._ngOnDestroyHooks.add(h.value),h.value}injectableDefInScope(l){if(!l.providedIn)return!1;const h=F(l.providedIn);return"string"==typeof h?"any"===h||this.scopes.has(h):this.injectorDefTypes.has(h)}}function C(r){const l=dt(r),h=null!==l?l.factory:go(r);if(null!==h)return h;if(r instanceof So)throw new D(204,!1);if(r instanceof Function)return function I(r){const l=r.length;if(l>0)throw Ms(l,"?"),new D(204,!1);const h=function Dt(r){const l=r&&(r[zt]||r[ct]);if(l){const h=function vt(r){if(r.hasOwnProperty("name"))return r.name;const l=(""+r).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${h}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${h}" class.`),l}return null}(r);return null!==h?()=>h.factory(r):()=>new r}(r);throw new D(204,!1)}function H(r,l,h){let v;if(xl(r)){const E=F(r);return go(E)||C(E)}if(bd(r))v=()=>F(r.useValue);else if(function Iu(r){return!(!r||!r.useFactory)}(r))v=()=>r.useFactory(...Ec(r.deps||[]));else if(function Vc(r){return!(!r||!r.useExisting)}(r))v=()=>zs(F(r.useExisting));else{const E=F(r&&(r.useClass||r.provide));if(!function ge(r){return!!r.deps}(r))return go(E)||C(E);v=()=>new E(...Ec(r.deps))}return v}function te(r,l,h=!1){return{factory:r,value:l,multi:h?[]:void 0}}function Tt(r){return!!r.\u0275providers}function Zt(r,l){for(const h of r)Array.isArray(h)?Zt(h,l):Tt(h)?Zt(h.\u0275providers,l):l(h)}class mn{}class zn{resolveComponentFactory(l){throw function vn(r){const l=Error(`No component factory found for ${a(r)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=r,l}(l)}}let Yn=(()=>{class r{}return r.NULL=new zn,r})();function ei(){return Gn(Xi(),Qn())}function Gn(r,l){return new ci(qn(r,l))}let ci=(()=>{class r{constructor(h){this.nativeElement=h}}return r.__NG_ELEMENT_ID__=ei,r})();function mi(r){return r instanceof ci?r.nativeElement:r}class ki{}let po=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function lo(){const r=Qn(),h=Si(Xi().index,r);return(vo(h)?h:r)[11]}(),r})(),ro=(()=>{class r{}return r.\u0275prov=xe({token:r,providedIn:"root",factory:()=>null}),r})();class kr{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const ya=new kr("14.2.12"),Zo={};function xa(r){return r.ngOriginalError}class fr{constructor(){this._console=console}handleError(l){const h=this._findOriginalError(l);this._console.error("ERROR",l),h&&this._console.error("ORIGINAL ERROR",h)}_findOriginalError(l){let h=l&&xa(l);for(;h&&xa(h);)h=xa(h);return h||null}}function Ia(r){return r.ownerDocument.defaultView}function zc(r){return r.ownerDocument}function mc(r){return r instanceof Function?r():r}function r0(r,l,h){let v=r.length;for(;;){const E=r.indexOf(l,h);if(-1===E)return E;if(0===E||r.charCodeAt(E-1)<=32){const U=l.length;if(E+U===v||r.charCodeAt(E+U)<=32)return E}h=E+1}}const a0="ng-template";function Df(r,l,h){let v=0;for(;v<r.length;){let E=r[v++];if(h&&"class"===E){if(E=r[v],-1!==r0(E.toLowerCase(),l,0))return!0}else if(1===E){for(;v<r.length&&"string"==typeof(E=r[v++]);)if(E.toLowerCase()===l)return!0;return!1}}return!1}function l0(r){return 4===r.type&&r.value!==a0}function c0(r,l,h){return l===(4!==r.type||h?r.value:a0)}function u0(r,l,h){let v=4;const E=r.attrs||[],U=function d0(r){for(let l=0;l<r.length;l++)if(Ne(r[l]))return l;return r.length}(E);let re=!1;for(let Ie=0;Ie<l.length;Ie++){const Re=l[Ie];if("number"!=typeof Re){if(!re)if(4&v){if(v=2|1&v,""!==Re&&!c0(r,Re,h)||""===Re&&1===l.length){if(Xr(v))return!1;re=!0}}else{const lt=8&v?Re:l[++Ie];if(8&v&&null!==r.attrs){if(!Df(r.attrs,lt,h)){if(Xr(v))return!1;re=!0}continue}const Kt=La(8&v?"class":Re,E,l0(r),h);if(-1===Kt){if(Xr(v))return!1;re=!0;continue}if(""!==lt){let Cn;Cn=Kt>U?"":E[Kt+1].toLowerCase();const kn=8&v?Cn:null;if(kn&&-1!==r0(kn,lt,0)||2&v&&lt!==Cn){if(Xr(v))return!1;re=!0}}}}else{if(!re&&!Xr(v)&&!Xr(Re))return!1;if(re&&Xr(Re))continue;re=!1,v=Re|1&v}}return Xr(v)||re}function Xr(r){return 0==(1&r)}function La(r,l,h,v){if(null===l)return-1;let E=0;if(v||!h){let U=!1;for(;E<l.length;){const re=l[E];if(re===r)return E;if(3===re||6===re)U=!0;else{if(1===re||2===re){let Ie=l[++E];for(;"string"==typeof Ie;)Ie=l[++E];continue}if(4===re)break;if(0===re){E+=4;continue}}E+=U?1:2}return-1}return function Lp(r,l){let h=r.indexOf(4);if(h>-1)for(h++;h<r.length;){const v=r[h];if("number"==typeof v)return-1;if(v===l)return h;h++}return-1}(l,r)}function Mf(r,l,h=!1){for(let v=0;v<l.length;v++)if(u0(r,l[v],h))return!0;return!1}function hb(r,l){e:for(let h=0;h<l.length;h++){const v=l[h];if(r.length===v.length){for(let E=0;E<r.length;E++)if(r[E]!==v[E])continue e;return!0}}return!1}function p0(r,l){return r?":not("+l.trim()+")":l}function Of(r){let l=r[0],h=1,v=2,E="",U=!1;for(;h<r.length;){let re=r[h];if("string"==typeof re)if(2&v){const Ie=r[++h];E+="["+re+(Ie.length>0?'="'+Ie+'"':"")+"]"}else 8&v?E+="."+re:4&v&&(E+=" "+re);else""!==E&&!Xr(re)&&(l+=p0(U,E),E=""),v=re,U=U||!Xr(v);h++}return""!==E&&(l+=p0(U,E)),l}const co={};function gb(r){Pf(Oi(),Qn(),on()+r,!1)}function Pf(r,l,h,v){if(!v)if(3==(3&l[2])){const U=r.preOrderCheckHooks;null!==U&&yo(l,U,h)}else{const U=r.preOrderHooks;null!==U&&jo(l,U,0,h)}Dn(h)}function m0(r,l=null,h=null,v){const E=_0(r,l,h,v);return E.resolveInjectorInitializers(),E}function _0(r,l=null,h=null,v,E=new Set){const U=[h||cn,kp(r)];return v=v||("object"==typeof r?void 0:a(r)),new g(U,l||m(),v||null,E)}let Au=(()=>{class r{static create(h,v){var E;if(Array.isArray(h))return m0({name:""},v,h,"");{const U=null!==(E=h.name)&&void 0!==E?E:"";return m0({name:U},h.parent,h.providers,U)}}}return r.THROW_IF_NOT_FOUND=gr,r.NULL=new Sp,r.\u0275prov=xe({token:r,providedIn:"any",factory:()=>zs(xu)}),r.__NG_ELEMENT_ID__=-1,r})();function Td(r,l=me.Default){const h=Qn();return null===h?zs(r,l):to(Xi(),h,F(r),l)}function b0(){throw new Error("invalid")}function Eu(r,l){return r<<17|l<<2}function Il(r){return r>>17&32767}function Vf(r){return 2|r}function rl(r){return(131068&r)>>2}function og(r,l){return-131069&r|l<<2}function sg(r){return 1|r}function M0(r,l){const h=r.contentQueries;if(null!==h)for(let v=0;v<h.length;v+=2){const E=h[v],U=h[v+1];if(-1!==U){const re=r.data[U];Rr(E),re.contentQueries(2,l[U],U)}}}function ug(r,l,h,v,E,U,re,Ie,Re,lt,Pt){const Kt=l.blueprint.slice();return Kt[0]=E,Kt[2]=76|v,(null!==Pt||r&&1024&r[2])&&(Kt[2]|=1024),Eo(Kt),Kt[3]=Kt[15]=r,Kt[8]=h,Kt[10]=re||r&&r[10],Kt[11]=Ie||r&&r[11],Kt[12]=Re||r&&r[12]||null,Kt[9]=lt||r&&r[9]||null,Kt[6]=U,Kt[20]=function xh(){return uc++}(),Kt[21]=Pt,Kt[16]=2==l.type?r[16]:Kt,Kt}function Ed(r,l,h,v,E){let U=r.data[l];if(null===U)U=function Up(r,l,h,v,E){const U=na(),re=ca(),Re=r.data[l]=function Lb(r,l,h,v,E,U){return{type:h,index:v,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:E,attrs:U,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,re?U:U&&U.parent,h,l,v,E);return null===r.firstChild&&(r.firstChild=Re),null!==U&&(re?null==U.child&&null!==Re.parent&&(U.child=Re):null===U.next&&(U.next=Re)),Re}(r,l,h,v,E),function bo(){return Mi.lFrame.inI18n}()&&(U.flags|=64);else if(64&U.type){U.type=h,U.value=v,U.attrs=E;const re=function ar(){const r=Mi.lFrame,l=r.currentTNode;return r.isParent?l:l.parent}();U.injectorIndex=null===re?-1:re.injectorIndex}return Ss(U,!0),U}function Sd(r,l,h,v){if(0===h)return-1;const E=l.length;for(let U=0;U<h;U++)l.push(v),r.blueprint.push(v),r.data.push(null);return E}function dg(r,l,h){cr(l);try{const v=r.viewQuery;null!==v&&Al(1,v,h);const E=r.template;null!==E&&Hp(r,l,E,1,h),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&M0(r,l),r.staticViewQueries&&Al(2,r.viewQuery,h);const U=r.components;null!==U&&function O0(r,l){for(let h=0;h<l.length;h++)sm(r,l[h])}(l,U)}catch(v){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),v}finally{l[2]&=-5,pt()}}function pg(r,l,h,v){const E=l[2];if(128!=(128&E)){cr(l);try{Eo(l),function Ln(r){return Mi.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==h&&Hp(r,l,h,2,v);const re=3==(3&E);if(re){const lt=r.preOrderCheckHooks;null!==lt&&yo(l,lt,null)}else{const lt=r.preOrderHooks;null!==lt&&jo(l,lt,0,null),Zs(l,0)}if(function kd(r){for(let l=id(r);null!==l;l=lu(l)){if(!l[2])continue;const h=l[9];for(let v=0;v<h.length;v++){const E=h[v],U=E[3];0==(512&E[2])&&Es(U,1),E[2]|=512}}}(l),function V0(r){for(let l=id(r);null!==l;l=lu(l))for(let h=10;h<l.length;h++){const v=l[h],E=v[1];Oo(v)&&pg(E,v,E.template,v[8])}}(l),null!==r.contentQueries&&M0(r,l),re){const lt=r.contentCheckHooks;null!==lt&&yo(l,lt)}else{const lt=r.contentHooks;null!==lt&&jo(l,lt,1),Zs(l,1)}!function Xf(r,l){const h=r.hostBindingOpCodes;if(null!==h)try{for(let v=0;v<h.length;v++){const E=h[v];if(E<0)Dn(~E);else{const U=E,re=h[++v],Ie=h[++v];us(re,U),Ie(2,l[U])}}}finally{Dn(-1)}}(r,l);const Ie=r.components;null!==Ie&&function Ob(r,l){for(let h=0;h<l.length;h++)gg(r,l[h])}(l,Ie);const Re=r.viewQuery;if(null!==Re&&Al(2,Re,v),re){const lt=r.viewCheckHooks;null!==lt&&yo(l,lt)}else{const lt=r.viewHooks;null!==lt&&jo(l,lt,2),Zs(l,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,Es(l[3],-1))}finally{pt()}}}function Hp(r,l,h,v,E){const U=on(),re=2&v;try{Dn(-1),re&&l.length>22&&Pf(r,l,22,!1),h(v,E)}finally{Dn(U)}}function P0(r,l,h){if(Ls(l)){const E=l.directiveEnd;for(let U=l.directiveStart;U<E;U++){const re=r.data[U];re.contentQueries&&re.contentQueries(1,h[U],U)}}}function em(r,l,h){!Ri()||(function Fb(r,l,h,v){const E=h.directiveStart,U=h.directiveEnd;r.firstCreatePass||dr(h,l),tr(v,l);const re=h.initialInputs;for(let Ie=E;Ie<U;Ie++){const Re=r.data[Ie],lt=as(Re);lt&&Bb(l,h,Re);const Pt=pr(l,r,Ie,h);tr(Pt,l),null!==re&&Z0(0,Ie-E,Pt,Re,0,re),lt&&(Si(h.index,l)[8]=Pt)}}(r,l,h,qn(h,l)),128==(128&h.flags)&&function Gp(r,l,h){const v=h.directiveStart,E=h.directiveEnd,U=h.index,re=function Ws(){return Mi.lFrame.currentDirectiveIndex}();try{Dn(U);for(let Ie=v;Ie<E;Ie++){const Re=r.data[Ie],lt=l[Ie];lr(Ie),(null!==Re.hostBindings||0!==Re.hostVars||null!==Re.hostAttrs)&&im(Re,lt)}}finally{Dn(-1),lr(re)}}(r,l,h))}function Wc(r,l,h=qn){const v=l.localNames;if(null!==v){let E=l.index+1;for(let U=0;U<v.length;U+=2){const re=v[U+1],Ie=-1===re?h(l,r):r[re];r[E++]=Ie}}}function Vp(r){const l=r.tView;return null===l||l.incompleteFirstPass?r.tView=zp(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):l}function zp(r,l,h,v,E,U,re,Ie,Re,lt){const Pt=22+v,Kt=Pt+E,Cn=function Pb(r,l){const h=[];for(let v=0;v<l;v++)h.push(v<r?null:co);return h}(Pt,Kt),kn="function"==typeof lt?lt():lt;return Cn[1]={type:r,blueprint:Cn,template:h,queries:null,viewQuery:Ie,declTNode:l,data:Cn.slice().fill(null,Pt),bindingStartIndex:Pt,expandoStartIndex:Kt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof U?U():U,pipeRegistry:"function"==typeof re?re():re,firstChild:null,schemas:Re,consts:kn,incompleteFirstPass:!1}}function tm(r,l,h,v){const E=am(l);null===h?E.push(v):(E.push(h),r.firstCreatePass&&vg(r).push(v,E.length-1))}function nm(r,l,h){for(let v in r)if(r.hasOwnProperty(v)){const E=r[v];(h=null===h?{}:h).hasOwnProperty(v)?h[v].push(l,E):h[v]=[l,E]}return h}function L0(r,l){const v=l.directiveEnd,E=r.data,U=l.attrs,re=[];let Ie=null,Re=null;for(let lt=l.directiveStart;lt<v;lt++){const Pt=E[lt],Kt=Pt.inputs,Cn=null===U||l0(l)?null:ku(Kt,U);re.push(Cn),Ie=nm(Kt,lt,Ie),Re=nm(Pt.outputs,lt,Re)}null!==Ie&&(Ie.hasOwnProperty("class")&&(l.flags|=16),Ie.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=re,l.inputs=Ie,l.outputs=Re}function Qp(r,l){const h=Si(l,r);16&h[2]||(h[2]|=32)}function Tl(r,l,h,v){let E=!1;if(Ri()){const U=function R0(r,l,h){const v=r.directiveRegistry;let E=null;if(v)for(let U=0;U<v.length;U++){const re=v[U];Mf(h,re.selectors,!1)&&(E||(E=[]),Ma(dr(h,l),r,re.type),as(re)?(N0(r,h),E.unshift(re)):E.push(re))}return E}(r,l,h),re=null===v?null:{"":-1};if(null!==U){E=!0,hg(h,r.data.length,U.length);for(let Pt=0;Pt<U.length;Pt++){const Kt=U[Pt];Kt.providersResolver&&Kt.providersResolver(Kt)}let Ie=!1,Re=!1,lt=Sd(r,l,U.length,null);for(let Pt=0;Pt<U.length;Pt++){const Kt=U[Pt];h.mergedAttrs=mt(h.mergedAttrs,Kt.hostAttrs),B0(r,h,l,lt,Kt),F0(lt,Kt,re),null!==Kt.contentQueries&&(h.flags|=8),(null!==Kt.hostBindings||null!==Kt.hostAttrs||0!==Kt.hostVars)&&(h.flags|=128);const Cn=Kt.type.prototype;!Ie&&(Cn.ngOnChanges||Cn.ngOnInit||Cn.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(h.index),Ie=!0),!Re&&(Cn.ngOnChanges||Cn.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(h.index),Re=!0),lt++}L0(r,h)}re&&function om(r,l,h){if(l){const v=r.localNames=[];for(let E=0;E<l.length;E+=2){const U=h[l[E+1]];if(null==U)throw new D(-301,!1);v.push(l[E],U)}}}(h,v,re)}return h.mergedAttrs=mt(h.mergedAttrs,h.attrs),E}function al(r,l,h,v,E,U){const re=U.hostBindings;if(re){let Ie=r.hostBindingOpCodes;null===Ie&&(Ie=r.hostBindingOpCodes=[]);const Re=~l.index;(function Nb(r){let l=r.length;for(;l>0;){const h=r[--l];if("number"==typeof h&&h<0)return h}return 0})(Ie)!=Re&&Ie.push(Re),Ie.push(v,E,re)}}function im(r,l){null!==r.hostBindings&&r.hostBindings(1,l)}function N0(r,l){l.flags|=2,(r.components||(r.components=[])).push(l.index)}function F0(r,l,h){if(h){if(l.exportAs)for(let v=0;v<l.exportAs.length;v++)h[l.exportAs[v]]=r;as(l)&&(h[""]=r)}}function hg(r,l,h){r.flags|=1,r.directiveStart=l,r.directiveEnd=l+h,r.providerIndexes=l}function B0(r,l,h,v,E){r.data[v]=E;const U=E.factory||(E.factory=go(E.type)),re=new ae(U,as(E),Td);r.blueprint[v]=re,h[v]=re,al(r,l,0,v,Sd(r,h,E.hostVars,co),E)}function Bb(r,l,h){const v=qn(l,r),E=Vp(h),U=r[10],re=mg(r,ug(r,E,null,h.onPush?32:16,v,l,U,U.createRenderer(v,h),null,null,null));r[l.index]=re}function Aa(r,l,h,v,E,U){const re=qn(r,l);!function As(r,l,h,v,E,U,re){if(null==U)r.removeAttribute(l,E,h);else{const Ie=null==re?B(U):re(U,v||"",E);r.setAttribute(l,E,Ie,h)}}(l[11],re,U,r.value,h,v,E)}function Z0(r,l,h,v,E,U){const re=U[l];if(null!==re){const Ie=v.setInput;for(let Re=0;Re<re.length;){const lt=re[Re++],Pt=re[Re++],Kt=re[Re++];null!==Ie?v.setInput(h,Kt,lt,Pt):h[Pt]=Kt}}}function ku(r,l){let h=null,v=0;for(;v<l.length;){const E=l[v];if(0!==E)if(5!==E){if("number"==typeof E)break;r.hasOwnProperty(E)&&(null===h&&(h=[]),h.push(E,r[E],l[v+1])),v+=2}else v+=2;else v+=4}return h}function H0(r,l,h,v){return new Array(r,!0,!1,l,null,0,v,h,null,null)}function gg(r,l){const h=Si(l,r);if(Oo(h)){const v=h[1];48&h[2]?pg(v,h,v.template,h[8]):h[5]>0&&fg(h)}}function fg(r){for(let v=id(r);null!==v;v=lu(v))for(let E=10;E<v.length;E++){const U=v[E];if(Oo(U))if(512&U[2]){const re=U[1];pg(re,U,re.template,U[8])}else U[5]>0&&fg(U)}const h=r[1].components;if(null!==h)for(let v=0;v<h.length;v++){const E=Si(h[v],r);Oo(E)&&E[5]>0&&fg(E)}}function sm(r,l){const h=Si(l,r),v=h[1];(function Zb(r,l){for(let h=l.length;h<r.blueprint.length;h++)l.push(r.blueprint[h])})(v,h),dg(v,h,h[8])}function mg(r,l){return r[13]?r[14][4]=l:r[13]=l,r[14]=l,l}function rm(r){for(;r;){r[2]|=32;const l=Oc(r);if(Cr(r)&&!l)return r;r=l}return null}function _g(r,l,h,v=!0){const E=l[10];E.begin&&E.begin();try{pg(r,l,r.template,h)}catch(re){throw v&&J0(l,re),re}finally{E.end&&E.end()}}function Al(r,l,h){Rr(0),l(r,h)}function am(r){return r[7]||(r[7]=[])}function vg(r){return r.cleanup||(r.cleanup=[])}function J0(r,l){const h=r[9],v=h?h.get(fr,null):null;v&&v.handleError(l)}function lm(r,l,h,v,E){for(let U=0;U<h.length;){const re=h[U++],Ie=h[U++],Re=l[re],lt=r.data[re];null!==lt.setInput?lt.setInput(Re,E,v,Ie):Re[Ie]=E}}function Cc(r,l,h){const v=Pn(l,r);!function od(r,l,h){r.setValue(l,h)}(r[11],v,h)}function bg(r,l,h){let v=h?r.styles:null,E=h?r.classes:null,U=0;if(null!==l)for(let re=0;re<l.length;re++){const Ie=l[re];"number"==typeof Ie?U=Ie:1==U?E=R(E,Ie):2==U&&(v=R(v,Ie+": "+l[++re]+";"))}h?r.styles=v:r.stylesWithoutHost=v,h?r.classes=E:r.classesWithoutHost=E}function yg(r,l,h,v,E=!1){for(;null!==h;){const U=l[h.index];if(null!==U&&v.push(Le(U)),qo(U))for(let Ie=10;Ie<U.length;Ie++){const Re=U[Ie],lt=Re[1].firstChild;null!==lt&&yg(Re[1],Re,lt,v)}const re=h.type;if(8&re)yg(r,l,h.child,v);else if(32&re){const Ie=pc(h,l);let Re;for(;Re=Ie();)v.push(Re)}else if(16&re){const Ie=hu(l,h);if(Array.isArray(Ie))v.push(...Ie);else{const Re=Oc(l[16]);yg(Re[1],Re,Ie,v,!0)}}h=E?h.projectionNext:h.next}return v}class Dd{constructor(l,h){this._lView=l,this._cdRefInjectingView=h,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,h=l[1];return yg(h,l,h.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(qo(l)){const h=l[8],v=h?h.indexOf(this):-1;v>-1&&(rd(l,v),gl(h,v))}this._attachedToViewContainer=!1}ad(this._lView[1],this._lView)}onDestroy(l){tm(this._lView[1],this._lView,null,l)}markForCheck(){rm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){_g(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dp(r,l){Zc(r,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=l}}class Q0 extends Dd{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;_g(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class cm extends Yn{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const h=Hn(l);return new Wp(h,this.ngModule)}}function um(r){const l=[];for(let h in r)r.hasOwnProperty(h)&&l.push({propName:r[h],templateName:h});return l}class Hb{constructor(l,h){this.injector=l,this.parentInjector=h}get(l,h,v){const E=this.injector.get(l,Zo,v);return E!==Zo||h===Zo?E:this.parentInjector.get(l,h,v)}}class Wp extends mn{constructor(l,h){super(),this.componentDef=l,this.ngModule=h,this.componentType=l.type,this.selector=function zi(r){return r.map(Of).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!h}get inputs(){return um(this.componentDef.inputs)}get outputs(){return um(this.componentDef.outputs)}create(l,h,v,E){let U=(E=E||this.ngModule)instanceof c?E:null==E?void 0:E.injector;U&&null!==this.componentDef.getStandaloneInjector&&(U=this.componentDef.getStandaloneInjector(U)||U);const re=U?new Hb(l,U):l,Ie=re.get(ki,null);if(null===Ie)throw new D(407,!1);const Re=re.get(ro,null),lt=Ie.createRenderer(null,this.componentDef),Pt=this.componentDef.selectors[0][0]||"div",Kt=v?function Jp(r,l,h){return r.selectRootElement(l,h===It.ShadowDom)}(lt,v,this.componentDef.encapsulation):sd(lt,Pt,function Ub(r){const l=r.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(Pt)),Cn=this.componentDef.onPush?288:272,kn=zp(0,null,null,1,0,null,null,null,null,null),Jn=ug(null,kn,null,Cn,null,null,Ie,lt,Re,re,null);let ri,_i;cr(Jn);try{const Ei=function G0(r,l,h,v,E,U){const re=h[1];h[22]=r;const Re=Ed(re,22,2,"#host",null),lt=Re.mergedAttrs=l.hostAttrs;null!==lt&&(bg(Re,lt,!0),null!==r&&(Yt(E,r,lt),null!==Re.classes&&pd(E,r,Re.classes),null!==Re.styles&&dd(E,r,Re.styles)));const Pt=v.createRenderer(r,l),Kt=ug(h,Vp(l),null,l.onPush?32:16,h[22],Re,v,Pt,U||null,null,null);return re.firstCreatePass&&(Ma(dr(Re,h),re,l.type),N0(re,Re),hg(Re,h.length,1)),mg(h,Kt),h[22]=Kt}(Kt,this.componentDef,Jn,Ie,lt);if(Kt)if(v)Yt(lt,Kt,["ng-version",ya.full]);else{const{attrs:Ui,classes:Kn}=function Xh(r){const l=[],h=[];let v=1,E=2;for(;v<r.length;){let U=r[v];if("string"==typeof U)2===E?""!==U&&l.push(U,r[++v]):8===E&&h.push(U);else{if(!Xr(E))break;E=U}v++}return{attrs:l,classes:h}}(this.componentDef.selectors[0]);Ui&&Yt(lt,Kt,Ui),Kn&&Kn.length>0&&pd(lt,Kt,Kn.join(" "))}if(_i=Hi(kn,22),void 0!==h){const Ui=_i.projection=[];for(let Kn=0;Kn<this.ngContentSelectors.length;Kn++){const Yi=h[Kn];Ui.push(null!=Yi?Array.from(Yi):null)}}ri=function dm(r,l,h,v){const E=h[1],U=function Rb(r,l,h){const v=Xi();r.firstCreatePass&&(h.providersResolver&&h.providersResolver(h),B0(r,v,l,Sd(r,l,1,null),h),L0(r,v));const E=pr(l,r,v.directiveStart,v);tr(E,l);const U=qn(v,l);return U&&tr(U,l),E}(E,h,l);if(r[8]=h[8]=U,null!==v)for(const Ie of v)Ie(U,l);if(l.contentQueries){const Ie=Xi();l.contentQueries(1,U,Ie.directiveStart)}const re=Xi();return!E.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Dn(re.index),al(h[1],re,0,re.directiveStart,re.directiveEnd,l),im(l,U)),U}(Ei,this.componentDef,Jn,[Du]),dg(kn,Jn,null)}finally{pt()}return new zb(this.componentType,ri,Gn(_i,Jn),Jn,_i)}}class zb extends class tn{}{constructor(l,h,v,E,U){super(),this.location=v,this._rootLView=E,this._tNode=U,this.instance=h,this.hostView=this.changeDetectorRef=new Q0(E),this.componentType=l}setInput(l,h){const v=this._tNode.inputs;let E;if(null!==v&&(E=v[l])){const U=this._rootLView;lm(U[1],U,E,l,h),Qp(U,this._tNode.index)}}get injector(){return new No(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function Du(){const r=Xi();bi(Qn()[1],r)}function pm(r){let l=function W0(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),h=!0;const v=[r];for(;l;){let E;if(as(r))E=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new D(903,!1);E=l.\u0275dir}if(E){if(h){v.push(E);const re=r;re.inputs=Yp(r.inputs),re.declaredInputs=Yp(r.declaredInputs),re.outputs=Yp(r.outputs);const Ie=E.hostBindings;Ie&&Jb(r,Ie);const Re=E.viewQuery,lt=E.contentQueries;if(Re&&gm(r,Re),lt&&Md(r,lt),x(r.inputs,E.inputs),x(r.declaredInputs,E.declaredInputs),x(r.outputs,E.outputs),as(E)&&E.data.animation){const Pt=r.data;Pt.animation=(Pt.animation||[]).concat(E.data.animation)}}const U=E.features;if(U)for(let re=0;re<U.length;re++){const Ie=U[re];Ie&&Ie.ngInherit&&Ie(r),Ie===pm&&(h=!1)}}l=Object.getPrototypeOf(l)}!function hm(r){let l=0,h=null;for(let v=r.length-1;v>=0;v--){const E=r[v];E.hostVars=l+=E.hostVars,E.hostAttrs=mt(E.hostAttrs,h=mt(h,E.hostAttrs))}}(v)}function Yp(r){return r===gt?{}:r===cn?[]:r}function gm(r,l){const h=r.viewQuery;r.viewQuery=h?(v,E)=>{l(v,E),h(v,E)}:l}function Md(r,l){const h=r.contentQueries;r.contentQueries=h?(v,E,U)=>{l(v,E,U),h(v,E,U)}:l}function Jb(r,l){const h=r.hostBindings;r.hostBindings=h?(v,E)=>{l(v,E),h(v,E)}:l}let Od=null;function Mu(){if(!Od){const r=se.Symbol;if(r&&r.iterator)Od=r.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let h=0;h<l.length;++h){const v=l[h];"entries"!==v&&"size"!==v&&Map.prototype[v]===Map.prototype.entries&&(Od=v)}}}return Od}function jp(r){return!!xg(r)&&(Array.isArray(r)||!(r instanceof Map)&&Mu()in r)}function xg(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function wl(r,l,h){return r[l]=h}function Pd(r,l){return r[l]}function ha(r,l,h){return!Object.is(r[l],h)&&(r[l]=h,!0)}function Yc(r,l,h,v){const E=ha(r,l,h);return ha(r,l+1,v)||E}function ea(r,l,h,v,E){const U=Yc(r,l,h,v);return ha(r,l+2,E)||U}function ll(r,l,h,v,E,U){const re=Yc(r,l,h,v);return Yc(r,l+2,E,U)||re}function Cm(r,l,h,v){const E=Qn();return ha(E,fi(),l)&&(Oi(),Aa(Nn(),E,r,l,h,v)),Cm}function eC(r,l,h,v,E,U,re,Ie){const Re=Qn(),lt=Oi(),Pt=r+22,Kt=lt.firstCreatePass?function Wb(r,l,h,v,E,U,re,Ie,Re){const lt=l.consts,Pt=Ed(l,r,4,re||null,Io(lt,Ie));Tl(l,h,Pt,Io(lt,Re)),bi(l,Pt);const Kt=Pt.tViews=zp(2,Pt,v,E,U,l.directiveRegistry,l.pipeRegistry,null,l.schemas,lt);return null!==l.queries&&(l.queries.template(l,Pt),Kt.queries=l.queries.embeddedTView(Pt)),Pt}(Pt,lt,Re,l,h,v,E,U,re):lt.data[Pt];Ss(Kt,!1);const Cn=Re[11].createComment("");pu(lt,Re,Cn,Kt),tr(Cn,Re),mg(Re,Re[Pt]=H0(Cn,Re,Cn,Kt)),Rs(Kt)&&em(lt,Re,Kt),null!=re&&Wc(Re,Kt,Ie)}function nC(r){return Fi(function jr(){return Mi.lFrame.contextLView}(),22+r)}function Ig(r,l,h){const v=Qn();return ha(v,fi(),l)&&function Ka(r,l,h,v,E,U,re,Ie){const Re=qn(l,h);let Pt,lt=l.inputs;!Ie&&null!=lt&&(Pt=lt[v])?(lm(r,h,Pt,v,E),ws(l)&&Qp(h,l.index)):3&l.type&&(v=function _c(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(v),E=null!=re?re(E,l.value||"",v):E,U.setProperty(Re,v,E))}(Oi(),Nn(),v,r,l,v[11],h,!1),Ig}function Im(r,l,h,v,E){const re=E?"class":"style";lm(r,h,l.inputs[re],re,v)}function Tg(r,l,h,v){const E=Qn(),U=Oi(),re=22+r,Ie=E[11],Re=E[re]=sd(Ie,l,function ji(){return Mi.lFrame.currentNamespace}()),lt=U.firstCreatePass?function Yb(r,l,h,v,E,U,re){const Ie=l.consts,lt=Ed(l,r,2,E,Io(Ie,U));return Tl(l,h,lt,Io(Ie,re)),null!==lt.attrs&&bg(lt,lt.attrs,!1),null!==lt.mergedAttrs&&bg(lt,lt.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,lt),lt}(re,U,E,0,l,h,v):U.data[re];Ss(lt,!0);const Pt=lt.mergedAttrs;null!==Pt&&Yt(Ie,Re,Pt);const Kt=lt.classes;null!==Kt&&pd(Ie,Re,Kt);const Cn=lt.styles;return null!==Cn&&dd(Ie,Re,Cn),64!=(64&lt.flags)&&pu(U,E,Re,lt),0===function or(){return Mi.lFrame.elementDepthCount}()&&tr(Re,E),function Vo(){Mi.lFrame.elementDepthCount++}(),Rs(lt)&&(em(U,E,lt),P0(U,lt,E)),null!==v&&Wc(E,lt),Tg}function qp(){let r=Xi();ca()?ms():(r=r.parent,Ss(r,!1));const l=r;!function Ao(){Mi.lFrame.elementDepthCount--}();const h=Oi();return h.firstCreatePass&&(bi(h,r),Ls(r)&&h.queries.elementEnd(r)),null!=l.classesWithoutHost&&function un(r){return 0!=(16&r.flags)}(l)&&Im(h,l,Qn(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function _n(r){return 0!=(32&r.flags)}(l)&&Im(h,l,Qn(),l.stylesWithoutHost,!1),qp}function Tm(r,l,h,v){return Tg(r,l,h,v),qp(),Tm}function Ag(r,l,h){const v=Qn(),E=Oi(),U=r+22,re=E.firstCreatePass?function Am(r,l,h,v,E){const U=l.consts,re=Io(U,v),Ie=Ed(l,r,8,"ng-container",re);return null!==re&&bg(Ie,re,!0),Tl(l,h,Ie,Io(U,E)),null!==l.queries&&l.queries.elementStart(l,Ie),Ie}(U,E,v,l,h):E.data[U];Ss(re,!0);const Ie=v[U]=v[11].createComment("");return pu(E,v,Ie,re),tr(Ie,v),Rs(re)&&(em(E,v,re),P0(E,re,v)),null!=h&&Wc(v,re),Ag}function $p(){let r=Xi();const l=Oi();return ca()?ms():(r=r.parent,Ss(r,!1)),l.firstCreatePass&&(bi(l,r),Ls(r)&&l.queries.elementEnd(r)),$p}function wm(r,l,h){return Ag(r,l,h),$p(),wm}function wg(){return Qn()}function Bd(r){return!!r&&"function"==typeof r.then}function Em(r){return!!r&&"function"==typeof r.subscribe}const Kl=Em;function Sm(r,l,h,v){const E=Qn(),U=Oi(),re=Xi();return function iC(r,l,h,v,E,U,re,Ie){const Re=Rs(v),Pt=r.firstCreatePass&&vg(r),Kt=l[8],Cn=am(l);let kn=!0;if(3&v.type||Ie){const _i=qn(v,l),Ei=Ie?Ie(_i):_i,Ui=Cn.length,Kn=Ie?Uo=>Ie(Le(Uo[v.index])):v.index;let Yi=null;if(!Ie&&Re&&(Yi=function jb(r,l,h,v){const E=r.cleanup;if(null!=E)for(let U=0;U<E.length-1;U+=2){const re=E[U];if(re===h&&E[U+1]===v){const Ie=l[7],Re=E[U+2];return Ie.length>Re?Ie[Re]:null}"string"==typeof re&&(U+=2)}return null}(r,l,E,v.index)),null!==Yi)(Yi.__ngLastListenerFn__||Yi).__ngNextListenerFn__=U,Yi.__ngLastListenerFn__=U,kn=!1;else{U=sC(v,l,Kt,U,!1);const Uo=h.listen(Ei,E,U);Cn.push(U,Uo),Pt&&Pt.push(E,Kn,Ui,Ui+1)}}else U=sC(v,l,Kt,U,!1);const Jn=v.outputs;let ri;if(kn&&null!==Jn&&(ri=Jn[E])){const _i=ri.length;if(_i)for(let Ei=0;Ei<_i;Ei+=2){const Qs=l[ri[Ei]][ri[Ei+1]].subscribe(U),Uu=Cn.length;Cn.push(U,Qs),Pt&&Pt.push(E,v.index,Uu,-(Uu+1))}}}(U,E,E[11],re,r,l,0,v),Sm}function oC(r,l,h,v){try{return!1!==h(v)}catch(E){return J0(r,E),!1}}function sC(r,l,h,v,E){return function U(re){if(re===Function)return v;rm(2&r.flags?Si(r.index,l):l);let Re=oC(l,0,v,re),lt=U.__ngNextListenerFn__;for(;lt;)Re=oC(l,0,lt,re)&&Re,lt=lt.__ngNextListenerFn__;return E&&!1===Re&&(re.preventDefault(),re.returnValue=!1),Re}}function rC(r=1){return function Ve(r){return(Mi.lFrame.contextLView=function St(r,l){for(;r>0;)l=l[15],r--;return l}(r,Mi.lFrame.contextLView))[8]}(r)}function Kb(r,l){let h=null;const v=function Jc(r){const l=r.attrs;if(null!=l){const h=l.indexOf(5);if(0==(1&h))return l[h+1]}return null}(r);for(let E=0;E<l.length;E++){const U=l[E];if("*"!==U){if(null===v?Mf(r,U,!0):hb(v,U))return E}else h=E}return h}function aC(r){const l=Qn()[16][6];if(!l.projection){const v=l.projection=Ms(r?r.length:1,null),E=v.slice();let U=l.child;for(;null!==U;){const re=r?Kb(U,r):0;null!==re&&(E[re]?E[re].projectionNext=U:v[re]=U,E[re]=U),U=U.next}}}function lC(r,l=0,h){const v=Qn(),E=Oi(),U=Ed(E,22+r,16,null,h||null);null===U.projection&&(U.projection=l),ms(),64!=(64&U.flags)&&function gp(r,l,h){ud(l[11],0,l,h,Ul(r,h,l),Oh(h.parent||l[6],h,l))}(E,v,U)}function Pm(r,l,h,v,E){const U=r[h+1],re=null===l;let Ie=v?Il(U):rl(U),Re=!1;for(;0!==Ie&&(!1===Re||re);){const Pt=r[Ie+1];$b(r[Ie],l)&&(Re=!0,r[Ie+1]=v?sg(Pt):Vf(Pt)),Ie=v?Il(Pt):rl(Pt)}Re&&(r[h+1]=v?Vf(U):sg(U))}function $b(r,l){return null===r||null==l||(Array.isArray(r)?r[1]:r)===l||!(!Array.isArray(r)||"string"!=typeof l)&&wn(r,l)>=0}const Dr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Lm(r){return r.substring(Dr.key,Dr.keyEnd)}function Xb(r){return r.substring(Dr.value,Dr.valueEnd)}function hC(r,l){const h=Dr.textEnd;return h===l?-1:(l=Dr.keyEnd=function fC(r,l,h){for(;l<h&&r.charCodeAt(l)>32;)l++;return l}(r,Dr.key=l,h),Nu(r,l,h))}function Nm(r,l){const h=Dr.textEnd;let v=Dr.key=Nu(r,l,h);return h===v?-1:(v=Dr.keyEnd=function ty(r,l,h){let v;for(;l<h&&(45===(v=r.charCodeAt(l))||95===v||(-33&v)>=65&&(-33&v)<=90||v>=48&&v<=57);)l++;return l}(r,v,h),v=mC(r,v,h),v=Dr.value=Nu(r,v,h),v=Dr.valueEnd=function ny(r,l,h){let v=-1,E=-1,U=-1,re=l,Ie=re;for(;re<h;){const Re=r.charCodeAt(re++);if(59===Re)return Ie;34===Re||39===Re?Ie=re=Ud(r,Re,re,h):l===re-4&&85===U&&82===E&&76===v&&40===Re?Ie=re=Ud(r,41,re,h):Re>32&&(Ie=re),U=E,E=v,v=-33&Re}return Ie}(r,v,h),mC(r,v,h))}function gC(r){Dr.key=0,Dr.keyEnd=0,Dr.value=0,Dr.valueEnd=0,Dr.textEnd=r.length}function Nu(r,l,h){for(;l<h&&r.charCodeAt(l)<=32;)l++;return l}function mC(r,l,h,v){return(l=Nu(r,l,h))<h&&l++,l}function Ud(r,l,h,v){let E=-1,U=h;for(;U<v;){const re=r.charCodeAt(U++);if(re==l&&92!==E)return U;E=92==re&&92===E?0:re}throw new Error}function Fm(r,l,h){return El(r,l,h,!1),Fm}function Dg(r,l){return El(r,l,null,!0),Dg}function cl(r){Sl(vC,oy,r,!1)}function oy(r,l){for(let h=function ey(r){return gC(r),Nm(r,Nu(r,0,Dr.textEnd))}(l);h>=0;h=Nm(l,h))vC(r,Lm(l),Xb(l))}function _C(r){Sl(Xt,ql,r,!0)}function ql(r,l){for(let h=function Rm(r){return gC(r),hC(r,Nu(r,0,Dr.textEnd))}(l);h>=0;h=hC(l,h))Xt(r,Lm(l),!0)}function El(r,l,h,v){const E=Qn(),U=Oi(),re=Gi(2);U.firstUpdatePass&&Zm(U,r,re,v),l!==co&&ha(E,re,l)&&bC(U,U.data[on()],E,E[11],r,E[re+1]=function Hm(r,l){return null==r||("string"==typeof l?r+=l:"object"==typeof r&&(r=a(Ya(r)))),r}(l,h),v,re)}function Sl(r,l,h,v){const E=Oi(),U=Gi(2);E.firstUpdatePass&&Zm(E,null,U,v);const re=Qn();if(h!==co&&ha(re,U,h)){const Ie=E.data[on()];if(yC(Ie,v)&&!Bm(E,U)){let Re=v?Ie.classesWithoutHost:Ie.stylesWithoutHost;null!==Re&&(h=R(Re,h||"")),Im(E,Ie,re,h,v)}else!function ly(r,l,h,v,E,U,re,Ie){E===co&&(E=cn);let Re=0,lt=0,Pt=0<E.length?E[0]:null,Kt=0<U.length?U[0]:null;for(;null!==Pt||null!==Kt;){const Cn=Re<E.length?E[Re+1]:void 0,kn=lt<U.length?U[lt+1]:void 0;let ri,Jn=null;Pt===Kt?(Re+=2,lt+=2,Cn!==kn&&(Jn=Kt,ri=kn)):null===Kt||null!==Pt&&Pt<Kt?(Re+=2,Jn=Pt):(lt+=2,Jn=Kt,ri=kn),null!==Jn&&bC(r,l,h,v,Jn,ri,re,Ie),Pt=Re<E.length?E[Re]:null,Kt=lt<U.length?U[lt]:null}}(E,Ie,re,re[11],re[U+1],re[U+1]=function ay(r,l,h){if(null==h||""===h)return cn;const v=[],E=Ya(h);if(Array.isArray(E))for(let U=0;U<E.length;U++)r(v,E[U],!0);else if("object"==typeof E)for(const U in E)E.hasOwnProperty(U)&&r(v,U,E[U]);else"string"==typeof E&&l(v,E);return v}(r,l,h),v,U)}}function Bm(r,l){return l>=r.expandoStartIndex}function Zm(r,l,h,v){const E=r.data;if(null===E[h+1]){const U=E[on()],re=Bm(r,h);yC(U,v)&&null===l&&!re&&(l=!1),l=function CC(r,l,h,v){const E=function wr(r){const l=Mi.lFrame.currentDirectiveIndex;return-1===l?null:r[l]}(r);let U=v?l.residualClasses:l.residualStyles;if(null===E)0===(v?l.classBindings:l.styleBindings)&&(h=Ra(h=Mg(null,r,l,h,v),l.attrs,v),U=null);else{const re=l.directiveStylingLast;if(-1===re||r[re]!==E)if(h=Mg(E,r,l,h,v),null===U){let Re=function Um(r,l,h){const v=h?l.classBindings:l.styleBindings;if(0!==rl(v))return r[Il(v)]}(r,l,v);void 0!==Re&&Array.isArray(Re)&&(Re=Mg(null,r,l,Re[1],v),Re=Ra(Re,l.attrs,v),function sy(r,l,h,v){r[Il(h?l.classBindings:l.styleBindings)]=v}(r,l,v,Re))}else U=function ry(r,l,h){let v;const E=l.directiveEnd;for(let U=1+l.directiveStylingLast;U<E;U++)v=Ra(v,r[U].hostAttrs,h);return Ra(v,l.attrs,h)}(r,l,v)}return void 0!==U&&(v?l.residualClasses=U:l.residualStyles=U),h}(E,U,l,v),function Om(r,l,h,v,E,U){let re=U?l.classBindings:l.styleBindings,Ie=Il(re),Re=rl(re);r[v]=h;let Pt,lt=!1;if(Array.isArray(h)){const Kt=h;Pt=Kt[1],(null===Pt||wn(Kt,Pt)>0)&&(lt=!0)}else Pt=h;if(E)if(0!==Re){const Cn=Il(r[Ie+1]);r[v+1]=Eu(Cn,Ie),0!==Cn&&(r[Cn+1]=og(r[Cn+1],v)),r[Ie+1]=function y0(r,l){return 131071&r|l<<17}(r[Ie+1],v)}else r[v+1]=Eu(Ie,0),0!==Ie&&(r[Ie+1]=og(r[Ie+1],v)),Ie=v;else r[v+1]=Eu(Re,0),0===Ie?Ie=v:r[Re+1]=og(r[Re+1],v),Re=v;lt&&(r[v+1]=Vf(r[v+1])),Pm(r,Pt,v,!0),Pm(r,Pt,v,!1),function qb(r,l,h,v,E){const U=E?r.residualClasses:r.residualStyles;null!=U&&"string"==typeof l&&wn(U,l)>=0&&(h[v+1]=sg(h[v+1]))}(l,Pt,r,v,U),re=Eu(Ie,Re),U?l.classBindings=re:l.styleBindings=re}(E,U,l,h,re,v)}}function Mg(r,l,h,v,E){let U=null;const re=h.directiveEnd;let Ie=h.directiveStylingLast;for(-1===Ie?Ie=h.directiveStart:Ie++;Ie<re&&(U=l[Ie],v=Ra(v,U.hostAttrs,E),U!==r);)Ie++;return null!==r&&(h.directiveStylingLast=Ie),v}function Ra(r,l,h){const v=h?1:2;let E=-1;if(null!==l)for(let U=0;U<l.length;U++){const re=l[U];"number"==typeof re?E=re:E===v&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Xt(r,re,!!h||l[++U]))}return void 0===r?null:r}function vC(r,l,h){Xt(r,l,Ya(h))}function bC(r,l,h,v,E,U,re,Ie){if(!(3&l.type))return;const Re=r.data,lt=Re[Ie+1];Og(function x0(r){return 1==(1&r)}(lt)?vc(Re,l,h,E,rl(lt),re):void 0)||(Og(U)||function Bp(r){return 2==(2&r)}(lt)&&(U=vc(Re,null,h,E,Ie,re)),function mf(r,l,h,v,E){if(l)E?r.addClass(h,v):r.removeClass(h,v);else{let U=-1===v.indexOf("-")?void 0:Qa.DashCase;null==E?r.removeStyle(h,v,U):("string"==typeof E&&E.endsWith("!important")&&(E=E.slice(0,-10),U|=Qa.Important),r.setStyle(h,v,E,U))}}(v,re,Pn(on(),h),E,U))}function vc(r,l,h,v,E,U){const re=null===l;let Ie;for(;E>0;){const Re=r[E],lt=Array.isArray(Re),Pt=lt?Re[1]:Re,Kt=null===Pt;let Cn=h[E+1];Cn===co&&(Cn=Kt?cn:void 0);let kn=Kt?sn(Cn,v):Pt===v?Cn:void 0;if(lt&&!Og(kn)&&(kn=sn(Re,v)),Og(kn)&&(Ie=kn,re))return Ie;const Jn=r[E+1];E=re?Il(Jn):rl(Jn)}if(null!==l){let Re=U?l.residualClasses:l.residualStyles;null!=Re&&(Ie=sn(Re,v))}return Ie}function Og(r){return void 0!==r}function yC(r,l){return 0!=(r.flags&(l?16:32))}function Vm(r,l=""){const h=Qn(),v=Oi(),E=r+22,U=v.firstCreatePass?Ed(v,E,1,l,null):v.data[E],re=h[E]=function Ga(r,l){return r.createText(l)}(h[11],l);pu(v,h,re,U),Ss(U,!1)}function zm(r){return Pg("",r,""),zm}function Pg(r,l,h){const v=Qn(),E=function Rd(r,l,h,v){return ha(r,fi(),h)?l+B(h)+v:co}(v,r,l,h);return E!==co&&Cc(v,on(),E),Pg}function Jm(r,l,h,v,E){const U=Qn(),re=function Nd(r,l,h,v,E,U){const Ie=Yc(r,kt(),h,E);return Gi(2),Ie?l+B(h)+v+B(E)+U:co}(U,r,l,h,v,E);return re!==co&&Cc(U,on(),re),Jm}function Qm(r,l,h,v,E,U,re){const Ie=Qn(),Re=function jl(r,l,h,v,E,U,re,Ie){const lt=ea(r,kt(),h,E,re);return Gi(3),lt?l+B(h)+v+B(E)+U+B(re)+Ie:co}(Ie,r,l,h,v,E,U,re);return Re!==co&&Cc(Ie,on(),Re),Qm}function Lg(r,l,h,v,E,U,re,Ie,Re){const lt=Qn(),Pt=function Ou(r,l,h,v,E,U,re,Ie,Re,lt){const Kt=ll(r,kt(),h,E,re,Re);return Gi(4),Kt?l+B(h)+v+B(E)+U+B(re)+Ie+B(Re)+lt:co}(lt,r,l,h,v,E,U,re,Ie,Re);return Pt!==co&&Cc(lt,on(),Pt),Lg}const Hd=void 0;var Ay=["en",[["a","p"],["AM","PM"],Hd],[["AM","PM"],Hd,Hd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hd,"{1} 'at' {0}",Hd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function SI(r){const h=Math.floor(Math.abs(r)),v=r.toString().replace(/^[^.]*\.?/,"").length;return 1===h&&0===v?1:5}];let Vd={};function wy(r,l,h){"string"!=typeof l&&(h=l,l=r[Ji.LocaleId]),l=l.toLowerCase().replace(/_/g,"-"),Vd[l]=r,h&&(Vd[l][Ji.ExtraData]=h)}function Rg(r){const l=function Ey(r){return r.toLowerCase().replace(/_/g,"-")}(r);let h=ZC(l);if(h)return h;const v=l.split("-")[0];if(h=ZC(v),h)return h;if("en"===v)return Ay;throw new D(701,!1)}function BC(r){return Rg(r)[Ji.PluralCase]}function ZC(r){return r in Vd||(Vd[r]=se.ng&&se.ng.common&&se.ng.common.locales&&se.ng.common.locales[r]),Vd[r]}var Ji=(()=>((Ji=Ji||{})[Ji.LocaleId=0]="LocaleId",Ji[Ji.DayPeriodsFormat=1]="DayPeriodsFormat",Ji[Ji.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ji[Ji.DaysFormat=3]="DaysFormat",Ji[Ji.DaysStandalone=4]="DaysStandalone",Ji[Ji.MonthsFormat=5]="MonthsFormat",Ji[Ji.MonthsStandalone=6]="MonthsStandalone",Ji[Ji.Eras=7]="Eras",Ji[Ji.FirstDayOfWeek=8]="FirstDayOfWeek",Ji[Ji.WeekendRange=9]="WeekendRange",Ji[Ji.DateFormat=10]="DateFormat",Ji[Ji.TimeFormat=11]="TimeFormat",Ji[Ji.DateTimeFormat=12]="DateTimeFormat",Ji[Ji.NumberSymbols=13]="NumberSymbols",Ji[Ji.NumberFormats=14]="NumberFormats",Ji[Ji.CurrencyCode=15]="CurrencyCode",Ji[Ji.CurrencySymbol=16]="CurrencySymbol",Ji[Ji.CurrencyName=17]="CurrencyName",Ji[Ji.Currencies=18]="Currencies",Ji[Ji.Directionality=19]="Directionality",Ji[Ji.PluralCase=20]="PluralCase",Ji[Ji.ExtraData=21]="ExtraData",Ji))();const zd="en-US";let Bg=zd;function Hg(r,l,h,v,E){if(r=F(r),Array.isArray(r))for(let U=0;U<r.length;U++)Hg(r[U],l,h,v,E);else{const U=Oi(),re=Qn();let Ie=xl(r)?r:F(r.provide),Re=H(r);const lt=Xi(),Pt=1048575&lt.providerIndexes,Kt=lt.directiveStart,Cn=lt.providerIndexes>>20;if(xl(r)||!r.multi){const kn=new ae(Re,E,Td),Jn=e_(Ie,l,E?Pt:Pt+Cn,Kt);-1===Jn?(Ma(dr(lt,re),U,Ie),sh(U,r,l.length),l.push(Ie),lt.directiveStart++,lt.directiveEnd++,E&&(lt.providerIndexes+=1048576),h.push(kn),re.push(kn)):(h[Jn]=kn,re[Jn]=kn)}else{const kn=e_(Ie,l,Pt+Cn,Kt),Jn=e_(Ie,l,Pt,Pt+Cn),ri=kn>=0&&h[kn],_i=Jn>=0&&h[Jn];if(E&&!_i||!E&&!ri){Ma(dr(lt,re),U,Ie);const Ei=function p4(r,l,h,v,E){const U=new ae(r,h,Td);return U.multi=[],U.index=l,U.componentProviders=0,gv(U,E,v&&!h),U}(E?d4:u4,h.length,E,v,Re);!E&&_i&&(h[Jn].providerFactory=Ei),sh(U,r,l.length,0),l.push(Ie),lt.directiveStart++,lt.directiveEnd++,E&&(lt.providerIndexes+=1048576),h.push(Ei),re.push(Ei)}else sh(U,r,kn>-1?kn:Jn,gv(h[E?Jn:kn],Re,!E&&v));!E&&v&&_i&&h[Jn].componentProviders++}}}function sh(r,l,h,v){const E=xl(l),U=function Ef(r){return!!r.useClass}(l);if(E||U){const Re=(U?F(l.useClass):l).prototype.ngOnDestroy;if(Re){const lt=r.destroyHooks||(r.destroyHooks=[]);if(!E&&l.multi){const Pt=lt.indexOf(h);-1===Pt?lt.push(h,[v,Re]):lt[Pt+1].push(v,Re)}else lt.push(h,Re)}}}function gv(r,l,h){return h&&r.componentProviders++,r.multi.push(l)-1}function e_(r,l,h,v){for(let E=h;E<v;E++)if(l[E]===r)return E;return-1}function u4(r,l,h,v){return t_(this.multi,[])}function d4(r,l,h,v){const E=this.multi;let U;if(this.providerFactory){const re=this.providerFactory.componentProviders,Ie=pr(h,h[1],this.providerFactory.index,v);U=Ie.slice(0,re),t_(E,U);for(let Re=re;Re<Ie.length;Re++)U.push(Ie[Re])}else U=[],t_(E,U);return U}function t_(r,l){for(let h=0;h<r.length;h++)l.push((0,r[h])());return l}function fv(r,l=[]){return h=>{h.providersResolver=(v,E)=>function c4(r,l,h){const v=Oi();if(v.firstCreatePass){const E=as(r);Hg(h,v.data,v.blueprint,E,!0),Hg(l,v.data,v.blueprint,E,!1)}}(v,E?E(r):r,l)}}class Qd{}class n_{}function h4(r,l){return new mv(r,null!=l?l:null)}class mv extends Qd{constructor(l,h){super(),this._parent=h,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cm(this);const v=io(l);this._bootstrapComponents=mc(v.bootstrap),this._r3Injector=_0(l,h,[{provide:Qd,useValue:this},{provide:Yn,useValue:this.componentFactoryResolver}],a(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(h=>h()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class i_ extends n_{constructor(l){super(),this.moduleType=l}create(l){return new mv(this.moduleType,l)}}class g4 extends Qd{constructor(l,h,v){super(),this.componentFactoryResolver=new cm(this),this.instance=null;const E=new g([...l,{provide:Qd,useValue:this},{provide:Yn,useValue:this.componentFactoryResolver}],h||m(),v,new Set(["environment"]));this.injector=E,E.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function _v(r,l,h=null){return new g4(r,l,h).injector}let f4=(()=>{class r{constructor(h){this._injector=h,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(h){if(!h.standalone)return null;if(!this.cachedInjectors.has(h.id)){const v=vd(0,h.type),E=v.length>0?_v([v],this._injector,`Standalone[${h.type.name}]`):null;this.cachedInjectors.set(h.id,E)}return this.cachedInjectors.get(h.id)}ngOnDestroy(){try{for(const h of this.cachedInjectors.values())null!==h&&h.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=xe({token:r,providedIn:"environment",factory:()=>new r(zs(c))}),r})();function Cv(r){r.getStandaloneInjector=l=>l.get(f4).getOrCreateStandaloneInjector(r)}function Ev(r,l,h){const v=Se()+r,E=Qn();return E[v]===co?wl(E,v,h?l.call(h):l()):Pd(E,v)}function Sv(r,l,h,v){return Bu(Qn(),Se(),r,l,h,v)}function kv(r,l,h,v,E){return Ov(Qn(),Se(),r,l,h,v,E)}function Dv(r,l,h,v,E,U){return Pv(Qn(),Se(),r,l,h,v,E,U)}function l_(r,l,h,v,E,U,re){return Gd(Qn(),Se(),r,l,h,v,E,U,re)}function Mv(r,l,h,v,E,U,re,Ie){const Re=Se()+r,lt=Qn(),Pt=ll(lt,Re,h,v,E,U);return ha(lt,Re+4,re)||Pt?wl(lt,Re+5,Ie?l.call(Ie,h,v,E,U,re):l(h,v,E,U,re)):Pd(lt,Re+5)}function c_(r,l,h,v,E,U,re,Ie,Re){const lt=Se()+r,Pt=Qn(),Kt=ll(Pt,lt,h,v,E,U);return Yc(Pt,lt+4,re,Ie)||Kt?wl(Pt,lt+6,Re?l.call(Re,h,v,E,U,re,Ie):l(h,v,E,U,re,Ie)):Pd(Pt,lt+6)}function u_(r,l,h,v,E,U,re,Ie,Re,lt){const Pt=Se()+r,Kt=Qn();let Cn=ll(Kt,Pt,h,v,E,U);return ea(Kt,Pt+4,re,Ie,Re)||Cn?wl(Kt,Pt+7,lt?l.call(lt,h,v,E,U,re,Ie,Re):l(h,v,E,U,re,Ie,Re)):Pd(Kt,Pt+7)}function d_(r,l,h,v){return ah(Qn(),Se(),r,l,h,v)}function rh(r,l){const h=r[l];return h===co?void 0:h}function Bu(r,l,h,v,E,U){const re=l+h;return ha(r,re,E)?wl(r,re+1,U?v.call(U,E):v(E)):rh(r,re+1)}function Ov(r,l,h,v,E,U,re){const Ie=l+h;return Yc(r,Ie,E,U)?wl(r,Ie+2,re?v.call(re,E,U):v(E,U)):rh(r,Ie+2)}function Pv(r,l,h,v,E,U,re,Ie){const Re=l+h;return ea(r,Re,E,U,re)?wl(r,Re+3,Ie?v.call(Ie,E,U,re):v(E,U,re)):rh(r,Re+3)}function Gd(r,l,h,v,E,U,re,Ie,Re){const lt=l+h;return ll(r,lt,E,U,re,Ie)?wl(r,lt+4,Re?v.call(Re,E,U,re,Ie):v(E,U,re,Ie)):rh(r,lt+4)}function ah(r,l,h,v,E,U){let re=l+h,Ie=!1;for(let Re=0;Re<E.length;Re++)ha(r,re++,E[Re])&&(Ie=!0);return Ie?wl(r,re,v.apply(U,E)):rh(r,re)}function Vg(r,l){const h=Oi();let v;const E=r+22;h.firstCreatePass?(v=function x4(r,l){if(l)for(let h=l.length-1;h>=0;h--){const v=l[h];if(r===v.name)return v}}(l,h.pipeRegistry),h.data[E]=v,v.onDestroy&&(h.destroyHooks||(h.destroyHooks=[])).push(E,v.onDestroy)):v=h.data[E];const U=v.factory||(v.factory=go(v.type)),re=Ct(Td);try{const Ie=Ai(!1),Re=U();return Ai(Ie),function tC(r,l,h,v){h>=r.data.length&&(r.data[h]=null,r.blueprint[h]=null),l[h]=v}(h,Qn(),E,Re),Re}finally{Ct(re)}}function Lv(r,l,h){const v=r+22,E=Qn(),U=Fi(E,v);return lh(E,v)?Bu(E,Se(),l,U.transform,h,U):U.transform(h)}function Rv(r,l,h,v){const E=r+22,U=Qn(),re=Fi(U,E);return lh(U,E)?Ov(U,Se(),l,re.transform,h,v,re):re.transform(h,v)}function Nv(r,l,h,v,E){const U=r+22,re=Qn(),Ie=Fi(re,U);return lh(re,U)?Pv(re,Se(),l,Ie.transform,h,v,E,Ie):Ie.transform(h,v,E)}function p_(r,l,h,v,E,U){const re=r+22,Ie=Qn(),Re=Fi(Ie,re);return lh(Ie,re)?Gd(Ie,Se(),l,Re.transform,h,v,E,U,Re):Re.transform(h,v,E,U)}function Fv(r,l,h){const v=r+22,E=Qn(),U=Fi(E,v);return lh(E,v)?ah(E,Se(),l,U.transform,h,U):U.transform.apply(U,h)}function lh(r,l){return r[1].data[l].pure}function h_(r){return l=>{setTimeout(r,void 0,l)}}const $l=class I4 extends e.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,h,v){var E,U,re;let Ie=l,Re=h||(()=>null),lt=v;if(l&&"object"==typeof l){const Kt=l;Ie=null===(E=Kt.next)||void 0===E?void 0:E.bind(Kt),Re=null===(U=Kt.error)||void 0===U?void 0:U.bind(Kt),lt=null===(re=Kt.complete)||void 0===re?void 0:re.bind(Kt)}this.__isAsync&&(Re=h_(Re),Ie&&(Ie=h_(Ie)),lt&&(lt=h_(lt)));const Pt=super.subscribe({next:Ie,error:Re,complete:lt});return l instanceof d.w0&&l.add(Pt),Pt}};function T4(){return this._results[Mu()]()}class g_{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const h=Mu(),v=g_.prototype;v[h]||(v[h]=T4)}get changes(){return this._changes||(this._changes=new $l)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,h){return this._results.reduce(l,h)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,h){const v=this;v.dirty=!1;const E=Zr(l);(this._changesDetected=!function eu(r,l,h){if(r.length!==l.length)return!1;for(let v=0;v<r.length;v++){let E=r[v],U=l[v];if(h&&(E=h(E),U=h(U)),U!==E)return!1}return!0}(v._results,E,h))&&(v._results=E,v.length=E.length,v.last=E[this.length-1],v.first=E[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Wd=(()=>{class r{}return r.__NG_ELEMENT_ID__=E4,r})();const A4=Wd,w4=class extends A4{constructor(l,h,v){super(),this._declarationLView=l,this._declarationTContainer=h,this.elementRef=v}createEmbeddedView(l,h){const v=this._declarationTContainer.tViews,E=ug(this._declarationLView,v,l,16,null,v.declTNode,null,null,null,null,h||null);E[17]=this._declarationLView[this._declarationTContainer.index];const re=this._declarationLView[19];return null!==re&&(E[19]=re.createEmbeddedView(v)),dg(v,E,l),new Dd(E)}};function E4(){return f_(Xi(),Qn())}function f_(r,l){return 4&r.type?new w4(l,r,Gn(r,l)):null}let zg=(()=>{class r{}return r.__NG_ELEMENT_ID__=HI,r})();function HI(){return Uv(Xi(),Qn())}const S4=zg,Bv=class extends S4{constructor(l,h,v){super(),this._lContainer=l,this._hostTNode=h,this._hostLView=v}get element(){return Gn(this._hostTNode,this._hostLView)}get injector(){return new No(this._hostTNode,this._hostLView)}get parentInjector(){const l=Us(this._hostTNode,this._hostLView);if(an(l)){const h=$n(l,this._hostLView),v=An(l);return new No(h[1].data[v+8],h)}return new No(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const h=Zv(this._lContainer);return null!==h&&h[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,h,v){let E,U;"number"==typeof v?E=v:null!=v&&(E=v.index,U=v.injector);const re=l.createEmbeddedView(h||{},U);return this.insert(re,E),re}createComponent(l,h,v,E,U){const re=l&&!function za(r){return"function"==typeof r}(l);let Ie;if(re)Ie=h;else{const Kt=h||{};Ie=Kt.index,v=Kt.injector,E=Kt.projectableNodes,U=Kt.environmentInjector||Kt.ngModuleRef}const Re=re?l:new Wp(Hn(l)),lt=v||this.parentInjector;if(!U&&null==Re.ngModule){const Cn=(re?lt:this.parentInjector).get(c,null);Cn&&(U=Cn)}const Pt=Re.create(lt,E,void 0,U);return this.insert(Pt.hostView,Ie),Pt}insert(l,h){const v=l._lView,E=v[1];if(function Ar(r){return qo(r[3])}(v)){const Pt=this.indexOf(l);if(-1!==Pt)this.detach(Pt);else{const Kt=v[3],Cn=new Bv(Kt,Kt[6],Kt[3]);Cn.detach(Cn.indexOf(l))}}const U=this._adjustIndex(h),re=this._lContainer;!function Lc(r,l,h,v){const E=10+v,U=h.length;v>0&&(h[E-1][4]=l),v<U-10?(l[4]=h[E],tl(h,10+v,l)):(h.push(l),l[4]=null),l[3]=h;const re=l[17];null!==re&&h!==re&&function Sh(r,l){const h=r[9];l[16]!==l[3][3][16]&&(r[2]=!0),null===h?r[9]=[l]:h.push(l)}(re,l);const Ie=l[19];null!==Ie&&Ie.insertView(r),l[2]|=64}(E,v,re,U);const Ie=Bc(U,re),Re=v[11],lt=Fc(Re,re[7]);return null!==lt&&function _s(r,l,h,v,E,U){v[0]=E,v[6]=l,Zc(r,v,h,1,E,U)}(E,re[6],Re,v,lt,Ie),l.attachToViewContainerRef(),tl(m_(re),U,l),l}move(l,h){return this.insert(l,h)}indexOf(l){const h=Zv(this._lContainer);return null!==h?h.indexOf(l):-1}remove(l){const h=this._adjustIndex(l,-1),v=rd(this._lContainer,h);v&&(gl(m_(this._lContainer),h),ad(v[1],v))}detach(l){const h=this._adjustIndex(l,-1),v=rd(this._lContainer,h);return v&&null!=gl(m_(this._lContainer),h)?new Dd(v):null}_adjustIndex(l,h=0){return null==l?this.length+h:l}};function Zv(r){return r[8]}function m_(r){return r[8]||(r[8]=[])}function Uv(r,l){let h;const v=l[r.index];if(qo(v))h=v;else{let E;if(8&r.type)E=Le(v);else{const U=l[11];E=U.createComment("");const re=qn(r,l);Hl(U,Fc(U,re),E,function gf(r,l){return r.nextSibling(l)}(U,re),!1)}l[r.index]=h=H0(v,l,E,r),mg(l,h)}return new Bv(h,r,l)}class wa{constructor(l){this.queryList=l,this.matches=null}clone(){return new wa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Jg{constructor(l=[]){this.queries=l}createEmbeddedView(l){const h=l.queries;if(null!==h){const v=null!==l.contentQueries?l.contentQueries[0]:h.length,E=[];for(let U=0;U<v;U++){const re=h.getByIndex(U);E.push(this.queries[re.indexInDeclarationView].clone())}return new Jg(E)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let h=0;h<this.queries.length;h++)null!==Wv(l,h).matches&&this.queries[h].setDirty()}}class Hv{constructor(l,h,v=null){this.predicate=l,this.flags=h,this.read=v}}class __{constructor(l=[]){this.queries=l}elementStart(l,h){for(let v=0;v<this.queries.length;v++)this.queries[v].elementStart(l,h)}elementEnd(l){for(let h=0;h<this.queries.length;h++)this.queries[h].elementEnd(l)}embeddedTView(l){let h=null;for(let v=0;v<this.length;v++){const E=null!==h?h.length:0,U=this.getByIndex(v).embeddedTView(l,E);U&&(U.indexInDeclarationView=v,null!==h?h.push(U):h=[U])}return null!==h?new __(h):null}template(l,h){for(let v=0;v<this.queries.length;v++)this.queries[v].template(l,h)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class C_{constructor(l,h=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=h}elementStart(l,h){this.isApplyingToNode(h)&&this.matchTNode(l,h)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,h){this.elementStart(l,h)}embeddedTView(l,h){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,h),new C_(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const h=this._declarationNodeIndex;let v=l.parent;for(;null!==v&&8&v.type&&v.index!==h;)v=v.parent;return h===(null!==v?v.index:-1)}return this._appliesToNextNode}matchTNode(l,h){const v=this.metadata.predicate;if(Array.isArray(v))for(let E=0;E<v.length;E++){const U=v[E];this.matchTNodeWithReadOption(l,h,M4(h,U)),this.matchTNodeWithReadOption(l,h,ks(h,l,U,!1,!1))}else v===Wd?4&h.type&&this.matchTNodeWithReadOption(l,h,-1):this.matchTNodeWithReadOption(l,h,ks(h,l,v,!1,!1))}matchTNodeWithReadOption(l,h,v){if(null!==v){const E=this.metadata.read;if(null!==E)if(E===ci||E===zg||E===Wd&&4&h.type)this.addMatch(h.index,-2);else{const U=ks(h,l,E,!1,!1);null!==U&&this.addMatch(h.index,U)}else this.addMatch(h.index,v)}}addMatch(l,h){null===this.matches?this.matches=[l,h]:this.matches.push(l,h)}}function M4(r,l){const h=r.localNames;if(null!==h)for(let v=0;v<h.length;v+=2)if(h[v]===l)return h[v+1];return null}function P4(r,l,h,v){return-1===h?function O4(r,l){return 11&r.type?Gn(r,l):4&r.type?f_(r,l):null}(l,r):-2===h?function Qg(r,l,h){return h===ci?Gn(l,r):h===Wd?f_(l,r):h===zg?Uv(l,r):void 0}(r,l,v):pr(r,r[1],h,l)}function Yd(r,l,h,v){const E=l[19].queries[v];if(null===E.matches){const U=r.data,re=h.matches,Ie=[];for(let Re=0;Re<re.length;Re+=2){const lt=re[Re];Ie.push(lt<0?null:P4(l,U[lt],re[Re+1],h.metadata.read))}E.matches=Ie}return E.matches}function v_(r,l,h,v){const E=r.queries.getByIndex(h),U=E.matches;if(null!==U){const re=Yd(r,l,E,h);for(let Ie=0;Ie<U.length;Ie+=2){const Re=U[Ie];if(Re>0)v.push(re[Ie/2]);else{const lt=U[Ie+1],Pt=l[-Re];for(let Kt=10;Kt<Pt.length;Kt++){const Cn=Pt[Kt];Cn[17]===Cn[3]&&v_(Cn[1],Cn,lt,v)}if(null!==Pt[9]){const Kt=Pt[9];for(let Cn=0;Cn<Kt.length;Cn++){const kn=Kt[Cn];v_(kn[1],kn,lt,v)}}}}}return v}function Vv(r){const l=Qn(),h=Oi(),v=Er();Rr(v+1);const E=Wv(h,v);if(r.dirty&&function cs(r){return 4==(4&r[2])}(l)===(2==(2&E.metadata.flags))){if(null===E.matches)r.reset([]);else{const U=E.crossesNgTemplate?v_(h,l,v,[]):Yd(h,l,E,v);r.reset(U,mi),r.notifyOnChanges()}return!0}return!1}function zv(r,l,h){const v=Oi();v.firstCreatePass&&(Gv(v,new Hv(r,l,h),-1),2==(2&l)&&(v.staticViewQueries=!0)),Qv(v,Qn(),l)}function Jv(r,l,h,v){const E=Oi();if(E.firstCreatePass){const U=Xi();Gv(E,new Hv(l,h,v),U.index),function R4(r,l){const h=r.contentQueries||(r.contentQueries=[]);l!==(h.length?h[h.length-1]:-1)&&h.push(r.queries.length-1,l)}(E,r),2==(2&h)&&(E.staticContentQueries=!0)}Qv(E,Qn(),h)}function b_(){return function L4(r,l){return r[19].queries[l].queryList}(Qn(),Er())}function Qv(r,l,h){const v=new g_(4==(4&h));tm(r,l,v,v.destroy),null===l[19]&&(l[19]=new Jg),l[19].queries.push(new wa(v))}function Gv(r,l,h){null===r.queries&&(r.queries=new __),r.queries.track(new C_(l,h))}function Wv(r,l){return r.queries.getByIndex(l)}function Yv(r,l){return f_(r,l)}function Gg(...r){}const h1=new So("Application Initializer");let Wg=(()=>{class r{constructor(h){this.appInits=h,this.resolve=Gg,this.reject=Gg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((v,E)=>{this.resolve=v,this.reject=E})}runInitializers(){if(this.initialized)return;const h=[],v=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let E=0;E<this.appInits.length;E++){const U=this.appInits[E]();if(Bd(U))h.push(U);else if(Kl(U)){const re=new Promise((Ie,Re)=>{U.subscribe({complete:Ie,error:Re})});h.push(re)}}Promise.all(h).then(()=>{v()}).catch(E=>{this.reject(E)}),0===h.length&&v(),this.initialized=!0}}return r.\u0275fac=function(h){return new(h||r)(zs(h1,8))},r.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const g1=new So("AppId",{providedIn:"root",factory:function f1(){return`${dh()}${dh()}${dh()}`}});function dh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const m1=new So("Platform Initializer"),tx=new So("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_1=new So("appBootstrapListener"),nx=new So("AnimationModuleType");let ix=(()=>{class r{log(h){console.log(h)}warn(h){console.warn(h)}}return r.\u0275fac=function(h){return new(h||r)},r.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const Yg=new So("LocaleId",{providedIn:"root",factory:()=>nu(Yg,me.Optional|me.SkipSelf)||function ox(){return"undefined"!=typeof $localize&&$localize.locale||zd}()}),sx=new So("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class rx{constructor(l,h){this.ngModuleFactory=l,this.componentFactories=h}}let C1=(()=>{class r{compileModuleSync(h){return new i_(h)}compileModuleAsync(h){return Promise.resolve(this.compileModuleSync(h))}compileModuleAndAllComponentsSync(h){const v=this.compileModuleSync(h),U=mc(io(h).declarations).reduce((re,Ie)=>{const Re=Hn(Ie);return Re&&re.push(new Wp(Re)),re},[]);return new rx(v,U)}compileModuleAndAllComponentsAsync(h){return Promise.resolve(this.compileModuleAndAllComponentsSync(h))}clearCache(){}clearCacheFor(h){}getModuleId(h){}}return r.\u0275fac=function(h){return new(h||r)},r.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const cx=(()=>Promise.resolve(0))();function w_(r){"undefined"==typeof Zone?cx.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class ul{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:h=!1,shouldCoalesceRunChangeDetection:v=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $l(!1),this.onMicrotaskEmpty=new $l(!1),this.onStable=new $l(!1),this.onError=new $l(!1),"undefined"==typeof Zone)throw new D(908,!1);Zone.assertZonePatched();const E=this;if(E._nesting=0,E._outer=E._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const U=Zone.AsyncStackTaggingZoneSpec;E._inner=E._inner.fork(new U("Angular"))}Zone.TaskTrackingZoneSpec&&(E._inner=E._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(E._inner=E._inner.fork(Zone.longStackTraceZoneSpec)),E.shouldCoalesceEventChangeDetection=!v&&h,E.shouldCoalesceRunChangeDetection=v,E.lastRequestAnimationFrameId=-1,E.nativeRequestAnimationFrame=function ux(){let r=se.requestAnimationFrame,l=se.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&l){const h=r[Zone.__symbol__("OriginalDelegate")];h&&(r=h);const v=l[Zone.__symbol__("OriginalDelegate")];v&&(l=v)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function hx(r){const l=()=>{!function px(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(se,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,S_(r),r.isCheckStableRunning=!0,E_(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),S_(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(h,v,E,U,re,Ie)=>{try{return y1(r),h.invokeTask(E,U,re,Ie)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===U.type||r.shouldCoalesceRunChangeDetection)&&l(),x1(r)}},onInvoke:(h,v,E,U,re,Ie,Re)=>{try{return y1(r),h.invoke(E,U,re,Ie,Re)}finally{r.shouldCoalesceRunChangeDetection&&l(),x1(r)}},onHasTask:(h,v,E,U)=>{h.hasTask(E,U),v===E&&("microTask"==U.change?(r._hasPendingMicrotasks=U.microTask,S_(r),E_(r)):"macroTask"==U.change&&(r.hasPendingMacrotasks=U.macroTask))},onHandleError:(h,v,E,U)=>(h.handleError(E,U),r.runOutsideAngular(()=>r.onError.emit(U)),!1)})}(E)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ul.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(ul.isInAngularZone())throw new D(909,!1)}run(l,h,v){return this._inner.run(l,h,v)}runTask(l,h,v,E){const U=this._inner,re=U.scheduleEventTask("NgZoneEvent: "+E,l,dx,Gg,Gg);try{return U.runTask(re,h,v)}finally{U.cancelTask(re)}}runGuarded(l,h,v){return this._inner.runGuarded(l,h,v)}runOutsideAngular(l){return this._outer.run(l)}}const dx={};function E_(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function S_(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function y1(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function x1(r){r._nesting--,E_(r)}class gx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $l,this.onMicrotaskEmpty=new $l,this.onStable=new $l,this.onError=new $l}run(l,h,v){return l.apply(h,v)}runGuarded(l,h,v){return l.apply(h,v)}runOutsideAngular(l){return l()}runTask(l,h,v,E){return l.apply(h,v)}}const I1=new So(""),T1=new So("");let hh,fx=(()=>{class r{constructor(h,v,E){this._ngZone=h,this.registry=v,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,hh||(function w1(r){hh=r}(E),E.addToWindow(v)),this._watchAngularEvents(),h.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ul.assertNotInAngularZone(),w_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())w_(()=>{for(;0!==this._callbacks.length;){let h=this._callbacks.pop();clearTimeout(h.timeoutId),h.doneCb(this._didWork)}this._didWork=!1});else{let h=this.getPendingTasks();this._callbacks=this._callbacks.filter(v=>!v.updateCb||!v.updateCb(h)||(clearTimeout(v.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(h=>({source:h.source,creationLocation:h.creationLocation,data:h.data})):[]}addCallback(h,v,E){let U=-1;v&&v>0&&(U=setTimeout(()=>{this._callbacks=this._callbacks.filter(re=>re.timeoutId!==U),h(this._didWork,this.getPendingTasks())},v)),this._callbacks.push({doneCb:h,timeoutId:U,updateCb:E})}whenStable(h,v,E){if(E&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(h,v,E),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(h){this.registry.registerApplication(h,this)}unregisterApplication(h){this.registry.unregisterApplication(h)}findProviders(h,v,E){return[]}}return r.\u0275fac=function(h){return new(h||r)(zs(ul),zs(A1),zs(T1))},r.\u0275prov=xe({token:r,factory:r.\u0275fac}),r})(),A1=(()=>{class r{constructor(){this._applications=new Map}registerApplication(h,v){this._applications.set(h,v)}unregisterApplication(h){this._applications.delete(h)}unregisterAllApplications(){this._applications.clear()}getTestability(h){return this._applications.get(h)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(h,v=!0){var E;return null!==(E=null==hh?void 0:hh.findTestabilityInTree(this,h,v))&&void 0!==E?E:null}}return r.\u0275fac=function(h){return new(h||r)},r.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),ec=null;const E1=new So("AllowMultipleToken"),k_=new So("PlatformDestroyListeners");class _x{constructor(l,h){this.name=l,this.token=h}}function D1(r,l,h=[]){const v=`Platform: ${l}`,E=new So(v);return(U=[])=>{let re=D_();if(!re||re.injector.get(E1,!1)){const Ie=[...h,...U,{provide:E,useValue:!0}];r?r(Ie):function Cx(r){if(ec&&!ec.get(E1,!1))throw new D(400,!1);ec=r;const l=r.get(O1);(function k1(r){const l=r.get(m1,null);l&&l.forEach(h=>h())})(r)}(function M1(r=[],l){return Au.create({name:l,providers:[{provide:Pp,useValue:"platform"},{provide:k_,useValue:new Set([()=>ec=null])},...r]})}(Ie,v))}return function bx(r){const l=D_();if(!l)throw new D(401,!1);return l}()}}function D_(){var r;return null!==(r=null==ec?void 0:ec.get(O1))&&void 0!==r?r:null}let O1=(()=>{class r{constructor(h){this._injector=h,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(h,v){const E=function P1(r,l){let h;return h="noop"===r?new gx:("zone.js"===r?void 0:r)||new ul(l),h}(null==v?void 0:v.ngZone,function M_(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(v)),U=[{provide:ul,useValue:E}];return E.run(()=>{const re=Au.create({providers:U,parent:this.injector,name:h.moduleType.name}),Ie=h.create(re),Re=Ie.injector.get(fr,null);if(!Re)throw new D(402,!1);return E.runOutsideAngular(()=>{const lt=E.onError.subscribe({next:Pt=>{Re.handleError(Pt)}});Ie.onDestroy(()=>{Kg(this._modules,Ie),lt.unsubscribe()})}),function L1(r,l,h){try{const v=h();return Bd(v)?v.catch(E=>{throw l.runOutsideAngular(()=>r.handleError(E)),E}):v}catch(v){throw l.runOutsideAngular(()=>r.handleError(v)),v}}(Re,E,()=>{const lt=Ie.injector.get(Wg);return lt.runInitializers(),lt.donePromise.then(()=>(function UC(r){Ae(r,"Expected localeId to be defined"),"string"==typeof r&&(Bg=r.toLowerCase().replace(/_/g,"-"))}(Ie.injector.get(Yg,zd)||zd),this._moduleDoBootstrap(Ie),Ie))})})}bootstrapModule(h,v=[]){const E=R1({},v);return function S1(r,l,h){const v=new i_(h);return Promise.resolve(v)}(0,0,h).then(U=>this.bootstrapModuleFactory(U,E))}_moduleDoBootstrap(h){const v=h.injector.get(jg);if(h._bootstrapComponents.length>0)h._bootstrapComponents.forEach(E=>v.bootstrap(E));else{if(!h.instance.ngDoBootstrap)throw new D(403,!1);h.instance.ngDoBootstrap(v)}this._modules.push(h)}onDestroy(h){this._destroyListeners.push(h)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new D(404,!1);this._modules.slice().forEach(v=>v.destroy()),this._destroyListeners.forEach(v=>v());const h=this._injector.get(k_,null);h&&(h.forEach(v=>v()),h.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(h){return new(h||r)(zs(Au))},r.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function R1(r,l){return Array.isArray(l)?l.reduce(R1,r):Object.assign(Object.assign({},r),l)}let jg=(()=>{class r{constructor(h,v,E){this._zone=h,this._injector=v,this._exceptionHandler=E,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const U=new u.y(Ie=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Ie.next(this._stable),Ie.complete()})}),re=new u.y(Ie=>{let Re;this._zone.runOutsideAngular(()=>{Re=this._zone.onStable.subscribe(()=>{ul.assertNotInAngularZone(),w_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Ie.next(!0))})})});const lt=this._zone.onUnstable.subscribe(()=>{ul.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Ie.next(!1)}))});return()=>{Re.unsubscribe(),lt.unsubscribe()}});this.isStable=(0,f.T)(U,re.pipe((0,_.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(h,v){const E=h instanceof mn;if(!this._injector.get(Wg).done)throw!E&&Ni(h),new D(405,false);let re;re=E?h:this._injector.get(Yn).resolveComponentFactory(h),this.componentTypes.push(re.componentType);const Ie=function mx(r){return r.isBoundToModule}(re)?void 0:this._injector.get(Qd),lt=re.create(Au.NULL,[],v||re.selector,Ie),Pt=lt.location.nativeElement,Kt=lt.injector.get(I1,null);return null==Kt||Kt.registerApplication(Pt),lt.onDestroy(()=>{this.detachView(lt.hostView),Kg(this.components,lt),null==Kt||Kt.unregisterApplication(Pt)}),this._loadComponent(lt),lt}tick(){if(this._runningTick)throw new D(101,!1);try{this._runningTick=!0;for(let h of this._views)h.detectChanges()}catch(h){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(h))}finally{this._runningTick=!1}}attachView(h){const v=h;this._views.push(v),v.attachToAppRef(this)}detachView(h){const v=h;Kg(this._views,v),v.detachFromAppRef()}_loadComponent(h){this.attachView(h.hostView),this.tick(),this.components.push(h),this._injector.get(_1,[]).concat(this._bootstrapListeners).forEach(E=>E(h))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(h=>h()),this._views.slice().forEach(h=>h.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(h){return this._destroyListeners.push(h),()=>Kg(this._destroyListeners,h)}destroy(){if(this._destroyed)throw new D(406,!1);const h=this._injector;h.destroy&&!h.destroyed&&h.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(h){return new(h||r)(zs(ul),zs(c),zs(fr))},r.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Kg(r,l){const h=r.indexOf(l);h>-1&&r.splice(h,1)}let F1=!0,B1=!1;function xx(){return B1=!0,F1}function Ix(){if(B1)throw new Error("Cannot enable prod mode after platform setup.");F1=!1}let Tx=(()=>{class r{}return r.__NG_ELEMENT_ID__=Ax,r})();function Ax(r){return function wx(r,l,h){if(ws(r)&&!h){const v=Si(r.index,l);return new Dd(v,v)}return 47&r.type?new Dd(l[16],l):null}(Xi(),Qn(),16==(16&r))}class V1{constructor(){}supports(l){return jp(l)}create(l){return new qa(l)}}const z1=(r,l)=>l;class qa{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||z1}forEachItem(l){let h;for(h=this._itHead;null!==h;h=h._next)l(h)}forEachOperation(l){let h=this._itHead,v=this._removalsHead,E=0,U=null;for(;h||v;){const re=!v||h&&h.currentIndex<J1(v,E,U)?h:v,Ie=J1(re,E,U),Re=re.currentIndex;if(re===v)E--,v=v._nextRemoved;else if(h=h._next,null==re.previousIndex)E++;else{U||(U=[]);const lt=Ie-E,Pt=Re-E;if(lt!=Pt){for(let Cn=0;Cn<lt;Cn++){const kn=Cn<U.length?U[Cn]:U[Cn]=0,Jn=kn+Cn;Pt<=Jn&&Jn<lt&&(U[Cn]=kn+1)}U[re.previousIndex]=Pt-lt}}Ie!==Re&&l(re,Ie,Re)}}forEachPreviousItem(l){let h;for(h=this._previousItHead;null!==h;h=h._nextPrevious)l(h)}forEachAddedItem(l){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)l(h)}forEachMovedItem(l){let h;for(h=this._movesHead;null!==h;h=h._nextMoved)l(h)}forEachRemovedItem(l){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)l(h)}forEachIdentityChange(l){let h;for(h=this._identityChangesHead;null!==h;h=h._nextIdentityChange)l(h)}diff(l){if(null==l&&(l=[]),!jp(l))throw new D(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let E,U,re,h=this._itHead,v=!1;if(Array.isArray(l)){this.length=l.length;for(let Ie=0;Ie<this.length;Ie++)U=l[Ie],re=this._trackByFn(Ie,U),null!==h&&Object.is(h.trackById,re)?(v&&(h=this._verifyReinsertion(h,U,re,Ie)),Object.is(h.item,U)||this._addIdentityChange(h,U)):(h=this._mismatch(h,U,re,Ie),v=!0),h=h._next}else E=0,function Y0(r,l){if(Array.isArray(r))for(let h=0;h<r.length;h++)l(r[h]);else{const h=r[Mu()]();let v;for(;!(v=h.next()).done;)l(v.value)}}(l,Ie=>{re=this._trackByFn(E,Ie),null!==h&&Object.is(h.trackById,re)?(v&&(h=this._verifyReinsertion(h,Ie,re,E)),Object.is(h.item,Ie)||this._addIdentityChange(h,Ie)):(h=this._mismatch(h,Ie,re,E),v=!0),h=h._next,E++}),this.length=E;return this._truncate(h),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,h,v,E){let U;return null===l?U=this._itTail:(U=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(v,null))?(Object.is(l.item,h)||this._addIdentityChange(l,h),this._reinsertAfter(l,U,E)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(v,E))?(Object.is(l.item,h)||this._addIdentityChange(l,h),this._moveAfter(l,U,E)):l=this._addAfter(new $a(h,v),U,E),l}_verifyReinsertion(l,h,v,E){let U=null===this._unlinkedRecords?null:this._unlinkedRecords.get(v,null);return null!==U?l=this._reinsertAfter(U,l._prev,E):l.currentIndex!=E&&(l.currentIndex=E,this._addToMoves(l,E)),l}_truncate(l){for(;null!==l;){const h=l._next;this._addToRemovals(this._unlink(l)),l=h}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,h,v){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const E=l._prevRemoved,U=l._nextRemoved;return null===E?this._removalsHead=U:E._nextRemoved=U,null===U?this._removalsTail=E:U._prevRemoved=E,this._insertAfter(l,h,v),this._addToMoves(l,v),l}_moveAfter(l,h,v){return this._unlink(l),this._insertAfter(l,h,v),this._addToMoves(l,v),l}_addAfter(l,h,v){return this._insertAfter(l,h,v),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,h,v){const E=null===h?this._itHead:h._next;return l._next=E,l._prev=h,null===E?this._itTail=l:E._prev=l,null===h?this._itHead=l:h._next=l,null===this._linkedRecords&&(this._linkedRecords=new Xg),this._linkedRecords.put(l),l.currentIndex=v,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const h=l._prev,v=l._next;return null===h?this._itHead=v:h._next=v,null===v?this._itTail=h:v._prev=h,l}_addToMoves(l,h){return l.previousIndex===h||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xg),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,h){return l.item=h,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class $a{constructor(l,h){this.item=l,this.trackById=h,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dl{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,h){let v;for(v=this._head;null!==v;v=v._nextDup)if((null===h||h<=v.currentIndex)&&Object.is(v.trackById,l))return v;return null}remove(l){const h=l._prevDup,v=l._nextDup;return null===h?this._head=v:h._nextDup=v,null===v?this._tail=h:v._prevDup=h,null===this._head}}class Xg{constructor(){this.map=new Map}put(l){const h=l.trackById;let v=this.map.get(h);v||(v=new dl,this.map.set(h,v)),v.add(l)}get(l,h){const E=this.map.get(l);return E?E.get(l,h):null}remove(l){const h=l.trackById;return this.map.get(h).remove(l)&&this.map.delete(h),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function J1(r,l,h){const v=r.previousIndex;if(null===v)return v;let E=0;return h&&v<h.length&&(E=h[v]),v+l+E}class Q1{constructor(){}supports(l){return l instanceof Map||xg(l)}create(){return new Dx}}class Dx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let h;for(h=this._mapHead;null!==h;h=h._next)l(h)}forEachPreviousItem(l){let h;for(h=this._previousMapHead;null!==h;h=h._nextPrevious)l(h)}forEachChangedItem(l){let h;for(h=this._changesHead;null!==h;h=h._nextChanged)l(h)}forEachAddedItem(l){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)l(h)}forEachRemovedItem(l){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)l(h)}diff(l){if(l){if(!(l instanceof Map||xg(l)))throw new D(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let h=this._mapHead;if(this._appendAfter=null,this._forEach(l,(v,E)=>{if(h&&h.key===E)this._maybeAddToChanges(h,v),this._appendAfter=h,h=h._next;else{const U=this._getOrCreateRecordForKey(E,v);h=this._insertBeforeOrAppend(h,U)}}),h){h._prev&&(h._prev._next=null),this._removalsHead=h;for(let v=h;null!==v;v=v._nextRemoved)v===this._mapHead&&(this._mapHead=null),this._records.delete(v.key),v._nextRemoved=v._next,v.previousValue=v.currentValue,v.currentValue=null,v._prev=null,v._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,h){if(l){const v=l._prev;return h._next=l,h._prev=v,l._prev=h,v&&(v._next=h),l===this._mapHead&&(this._mapHead=h),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=h,h._prev=this._appendAfter):this._mapHead=h,this._appendAfter=h,null}_getOrCreateRecordForKey(l,h){if(this._records.has(l)){const E=this._records.get(l);this._maybeAddToChanges(E,h);const U=E._prev,re=E._next;return U&&(U._next=re),re&&(re._prev=U),E._next=null,E._prev=null,E}const v=new Mx(l);return this._records.set(l,v),v.currentValue=h,this._addToAdditions(v),v}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,h){Object.is(h,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=h,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,h){l instanceof Map?l.forEach(h):Object.keys(l).forEach(v=>h(l[v],v))}}class Mx{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function G1(){return new F_([new V1])}let F_=(()=>{class r{constructor(h){this.factories=h}static create(h,v){if(null!=v){const E=v.factories.slice();h=h.concat(E)}return new r(h)}static extend(h){return{provide:r,useFactory:v=>r.create(h,v||G1()),deps:[[r,new ac,new rc]]}}find(h){const v=this.factories.find(E=>E.supports(h));if(null!=v)return v;throw new D(901,!1)}}return r.\u0275prov=xe({token:r,providedIn:"root",factory:G1}),r})();function W1(){return new B_([new Q1])}let B_=(()=>{class r{constructor(h){this.factories=h}static create(h,v){if(v){const E=v.factories.slice();h=h.concat(E)}return new r(h)}static extend(h){return{provide:r,useFactory:v=>r.create(h,v||W1()),deps:[[r,new ac,new rc]]}}find(h){const v=this.factories.find(E=>E.supports(h));if(v)return v;throw new D(901,!1)}}return r.\u0275prov=xe({token:r,providedIn:"root",factory:W1}),r})();const Lx=D1(null,"core",[]);let Rx=(()=>{class r{constructor(h){}}return r.\u0275fac=function(h){return new(h||r)(zs(jg))},r.\u0275mod=Qt({type:r}),r.\u0275inj=Pe({}),r})();function Nx(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}},2382:(hn,ht,b)=>{"use strict";b.d(ht,{Fj:()=>z,Oe:()=>Xi,CE:()=>ys,NI:()=>ws,oH:()=>$s,u:()=>Lr,cw:()=>Je,sg:()=>Cs,x0:()=>vs,u5:()=>rr,nD:()=>Vo,Cf:()=>ue,JU:()=>D,a5:()=>ot,JJ:()=>Ye,JL:()=>st,On:()=>Mr,UX:()=>Yr,kI:()=>j,_Y:()=>so});var e=b(5e3),d=b(9808),u=b(2076),f=b(9751),_=b(4742),P=b(8421),x=b(3269),a=b(5403),R=b(3268),L=b(1810),F=b(4004);let T=(()=>{class nt{constructor(Se,kt){this._renderer=Se,this._elementRef=kt,this.onChange=Ln=>{},this.onTouched=()=>{}}setProperty(Se,kt){this._renderer.setProperty(this._elementRef.nativeElement,Se,kt)}registerOnTouched(Se){this.onTouched=Se}registerOnChange(Se){this.onChange=Se}setDisabledState(Se){this.setProperty("disabled",Se)}}return nt.\u0275fac=function(Se){return new(Se||nt)(e.Y36(e.Qsj),e.Y36(e.SBq))},nt.\u0275dir=e.lG2({type:nt}),nt})(),y=(()=>{class nt extends T{}return nt.\u0275fac=function(){let Ze;return function(kt){return(Ze||(Ze=e.n5z(nt)))(kt||nt)}}(),nt.\u0275dir=e.lG2({type:nt,features:[e.qOj]}),nt})();const D=new e.OlP("NgValueAccessor"),N={provide:D,useExisting:(0,e.Gpc)(()=>z),multi:!0},$=new e.OlP("CompositionEventMode");let z=(()=>{class nt extends T{constructor(Se,kt,Ln){super(Se,kt),this._compositionMode=Ln,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ce(){const nt=(0,d.q)()?(0,d.q)().getUserAgent():"";return/android (\d+)/.test(nt.toLowerCase())}())}writeValue(Se){this.setProperty("value",null==Se?"":Se)}_handleInput(Se){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Se)}_compositionStart(){this._composing=!0}_compositionEnd(Se){this._composing=!1,this._compositionMode&&this.onChange(Se)}}return nt.\u0275fac=function(Se){return new(Se||nt)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36($,8))},nt.\u0275dir=e.lG2({type:nt,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Se,kt){1&Se&&e.NdJ("input",function(fi){return kt._handleInput(fi.target.value)})("blur",function(){return kt.onTouched()})("compositionstart",function(){return kt._compositionStart()})("compositionend",function(fi){return kt._compositionEnd(fi.target.value)})},features:[e._Bn([N]),e.qOj]}),nt})();function O(nt){return null==nt||("string"==typeof nt||Array.isArray(nt))&&0===nt.length}function K(nt){return null!=nt&&"number"==typeof nt.length}const ue=new e.OlP("NgValidators"),q=new e.OlP("NgAsyncValidators"),G=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class j{static min(Ze){return function fe(nt){return Ze=>{if(O(Ze.value)||O(nt))return null;const Se=parseFloat(Ze.value);return!isNaN(Se)&&Se<nt?{min:{min:nt,actual:Ze.value}}:null}}(Ze)}static max(Ze){return function ne(nt){return Ze=>{if(O(Ze.value)||O(nt))return null;const Se=parseFloat(Ze.value);return!isNaN(Se)&&Se>nt?{max:{max:nt,actual:Ze.value}}:null}}(Ze)}static required(Ze){return function J(nt){return O(nt.value)?{required:!0}:null}(Ze)}static requiredTrue(Ze){return function X(nt){return!0===nt.value?null:{required:!0}}(Ze)}static email(Ze){return function W(nt){return O(nt.value)||G.test(nt.value)?null:{email:!0}}(Ze)}static minLength(Ze){return function Y(nt){return Ze=>O(Ze.value)||!K(Ze.value)?null:Ze.value.length<nt?{minlength:{requiredLength:nt,actualLength:Ze.value.length}}:null}(Ze)}static maxLength(Ze){return Te(Ze)}static pattern(Ze){return function Ae(nt){if(!nt)return Ke;let Ze,Se;return"string"==typeof nt?(Se="","^"!==nt.charAt(0)&&(Se+="^"),Se+=nt,"$"!==nt.charAt(nt.length-1)&&(Se+="$"),Ze=new RegExp(Se)):(Se=nt.toString(),Ze=nt),kt=>{if(O(kt.value))return null;const Ln=kt.value;return Ze.test(Ln)?null:{pattern:{requiredPattern:Se,actualValue:Ln}}}}(Ze)}static nullValidator(Ze){return null}static compose(Ze){return dt(Ze)}static composeAsync(Ze){return it(Ze)}}function Te(nt){return Ze=>K(Ze.value)&&Ze.value.length>nt?{maxlength:{requiredLength:nt,actualLength:Ze.value.length}}:null}function Ke(nt){return null}function be(nt){return null!=nt}function Ge(nt){return(0,e.QGY)(nt)?(0,u.D)(nt):nt}function ee(nt){let Ze={};return nt.forEach(Se=>{Ze=null!=Se?Object.assign(Object.assign({},Ze),Se):Ze}),0===Object.keys(Ze).length?null:Ze}function xe(nt,Ze){return Ze.map(Se=>Se(nt))}function Pe(nt){return nt.map(Ze=>function we(nt){return!nt.validate}(Ze)?Ze:Se=>Ze.validate(Se))}function dt(nt){if(!nt)return null;const Ze=nt.filter(be);return 0==Ze.length?null:function(Se){return ee(xe(Se,Ze))}}function bt(nt){return null!=nt?dt(Pe(nt)):null}function it(nt){if(!nt)return null;const Ze=nt.filter(be);return 0==Ze.length?null:function(Se){return function V(...nt){const Ze=(0,x.jO)(nt),{args:Se,keys:kt}=(0,_.D)(nt),Ln=new f.y(fi=>{const{length:Gi}=Se;if(!Gi)return void fi.complete();const bo=new Array(Gi);let Po=Gi,us=Gi;for(let Ws=0;Ws<Gi;Ws++){let lr=!1;(0,P.Xf)(Se[Ws]).subscribe(new a.Q(fi,wr=>{lr||(lr=!0,us--),bo[Ws]=wr},()=>Po--,void 0,()=>{(!Po||!lr)&&(us||fi.next(kt?(0,L.n)(kt,bo):bo),fi.complete())}))}});return Ze?Ln.pipe((0,R.Z)(Ze)):Ln}(xe(Se,Ze).map(Ge)).pipe((0,F.U)(ee))}}function Dt(nt){return null!=nt?it(Pe(nt)):null}function vt(nt,Ze){return null===nt?[Ze]:Array.isArray(nt)?[...nt,Ze]:[nt,Ze]}function Wt(nt){return nt._rawValidators}function zt(nt){return nt._rawAsyncValidators}function Ut(nt){return nt?Array.isArray(nt)?nt:[nt]:[]}function ct(nt,Ze){return Array.isArray(nt)?nt.includes(Ze):nt===Ze}function at(nt,Ze){const Se=Ut(Ze);return Ut(nt).forEach(Ln=>{ct(Se,Ln)||Se.push(Ln)}),Se}function me(nt,Ze){return Ut(Ze).filter(Se=>!ct(nt,Se))}class De{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Ze){this._rawValidators=Ze||[],this._composedValidatorFn=bt(this._rawValidators)}_setAsyncValidators(Ze){this._rawAsyncValidators=Ze||[],this._composedAsyncValidatorFn=Dt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Ze){this._onDestroyCallbacks.push(Ze)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Ze=>Ze()),this._onDestroyCallbacks=[]}reset(Ze){this.control&&this.control.reset(Ze)}hasError(Ze,Se){return!!this.control&&this.control.hasError(Ze,Se)}getError(Ze,Se){return this.control?this.control.getError(Ze,Se):null}}class ot extends De{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ct extends De{get formDirective(){return null}get path(){return null}}class Ot{constructor(Ze){this._cd=Ze}get isTouched(){var Ze,Se;return!(null===(Se=null===(Ze=this._cd)||void 0===Ze?void 0:Ze.control)||void 0===Se||!Se.touched)}get isUntouched(){var Ze,Se;return!(null===(Se=null===(Ze=this._cd)||void 0===Ze?void 0:Ze.control)||void 0===Se||!Se.untouched)}get isPristine(){var Ze,Se;return!(null===(Se=null===(Ze=this._cd)||void 0===Ze?void 0:Ze.control)||void 0===Se||!Se.pristine)}get isDirty(){var Ze,Se;return!(null===(Se=null===(Ze=this._cd)||void 0===Ze?void 0:Ze.control)||void 0===Se||!Se.dirty)}get isValid(){var Ze,Se;return!(null===(Se=null===(Ze=this._cd)||void 0===Ze?void 0:Ze.control)||void 0===Se||!Se.valid)}get isInvalid(){var Ze,Se;return!(null===(Se=null===(Ze=this._cd)||void 0===Ze?void 0:Ze.control)||void 0===Se||!Se.invalid)}get isPending(){var Ze,Se;return!(null===(Se=null===(Ze=this._cd)||void 0===Ze?void 0:Ze.control)||void 0===Se||!Se.pending)}get isSubmitted(){var Ze;return!(null===(Ze=this._cd)||void 0===Ze||!Ze.submitted)}}let Ye=(()=>{class nt extends Ot{constructor(Se){super(Se)}}return nt.\u0275fac=function(Se){return new(Se||nt)(e.Y36(ot,2))},nt.\u0275dir=e.lG2({type:nt,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Se,kt){2&Se&&e.ekj("ng-untouched",kt.isUntouched)("ng-touched",kt.isTouched)("ng-pristine",kt.isPristine)("ng-dirty",kt.isDirty)("ng-valid",kt.isValid)("ng-invalid",kt.isInvalid)("ng-pending",kt.isPending)},features:[e.qOj]}),nt})(),st=(()=>{class nt extends Ot{constructor(Se){super(Se)}}return nt.\u0275fac=function(Se){return new(Se||nt)(e.Y36(Ct,10))},nt.\u0275dir=e.lG2({type:nt,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Se,kt){2&Se&&e.ekj("ng-untouched",kt.isUntouched)("ng-touched",kt.isTouched)("ng-pristine",kt.isPristine)("ng-dirty",kt.isDirty)("ng-valid",kt.isValid)("ng-invalid",kt.isInvalid)("ng-pending",kt.isPending)("ng-submitted",kt.isSubmitted)},features:[e.qOj]}),nt})();const Qt="VALID",Mn="INVALID",Nt="PENDING",rn="DISABLED";function Bn(nt){return(Ni(nt)?nt.validators:nt)||null}function Hn(nt){return Array.isArray(nt)?bt(nt):nt||null}function ai(nt,Ze){return(Ni(Ze)?Ze.asyncValidators:nt)||null}function vi(nt){return Array.isArray(nt)?Dt(nt):nt||null}function Ni(nt){return null!=nt&&!Array.isArray(nt)&&"object"==typeof nt}function io(nt,Ze,Se){const kt=nt.controls;if(!(Ze?Object.keys(kt):kt).length)throw new e.vHH(1e3,"");if(!kt[Se])throw new e.vHH(1001,"")}function Ho(nt,Ze,Se){nt._forEachChild((kt,Ln)=>{if(void 0===Se[Ln])throw new e.vHH(1002,"")})}class Ht{constructor(Ze,Se){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=Ze,this._rawAsyncValidators=Se,this._composedValidatorFn=Hn(this._rawValidators),this._composedAsyncValidatorFn=vi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(Ze){this._rawValidators=this._composedValidatorFn=Ze}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Ze){this._rawAsyncValidators=this._composedAsyncValidatorFn=Ze}get parent(){return this._parent}get valid(){return this.status===Qt}get invalid(){return this.status===Mn}get pending(){return this.status==Nt}get disabled(){return this.status===rn}get enabled(){return this.status!==rn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Ze){this._rawValidators=Ze,this._composedValidatorFn=Hn(Ze)}setAsyncValidators(Ze){this._rawAsyncValidators=Ze,this._composedAsyncValidatorFn=vi(Ze)}addValidators(Ze){this.setValidators(at(Ze,this._rawValidators))}addAsyncValidators(Ze){this.setAsyncValidators(at(Ze,this._rawAsyncValidators))}removeValidators(Ze){this.setValidators(me(Ze,this._rawValidators))}removeAsyncValidators(Ze){this.setAsyncValidators(me(Ze,this._rawAsyncValidators))}hasValidator(Ze){return ct(this._rawValidators,Ze)}hasAsyncValidator(Ze){return ct(this._rawAsyncValidators,Ze)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Ze={}){this.touched=!0,this._parent&&!Ze.onlySelf&&this._parent.markAsTouched(Ze)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Ze=>Ze.markAllAsTouched())}markAsUntouched(Ze={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Se=>{Se.markAsUntouched({onlySelf:!0})}),this._parent&&!Ze.onlySelf&&this._parent._updateTouched(Ze)}markAsDirty(Ze={}){this.pristine=!1,this._parent&&!Ze.onlySelf&&this._parent.markAsDirty(Ze)}markAsPristine(Ze={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Se=>{Se.markAsPristine({onlySelf:!0})}),this._parent&&!Ze.onlySelf&&this._parent._updatePristine(Ze)}markAsPending(Ze={}){this.status=Nt,!1!==Ze.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Ze.onlySelf&&this._parent.markAsPending(Ze)}disable(Ze={}){const Se=this._parentMarkedDirty(Ze.onlySelf);this.status=rn,this.errors=null,this._forEachChild(kt=>{kt.disable(Object.assign(Object.assign({},Ze),{onlySelf:!0}))}),this._updateValue(),!1!==Ze.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},Ze),{skipPristineCheck:Se})),this._onDisabledChange.forEach(kt=>kt(!0))}enable(Ze={}){const Se=this._parentMarkedDirty(Ze.onlySelf);this.status=Qt,this._forEachChild(kt=>{kt.enable(Object.assign(Object.assign({},Ze),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ze.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},Ze),{skipPristineCheck:Se})),this._onDisabledChange.forEach(kt=>kt(!1))}_updateAncestors(Ze){this._parent&&!Ze.onlySelf&&(this._parent.updateValueAndValidity(Ze),Ze.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Ze){this._parent=Ze}getRawValue(){return this.value}updateValueAndValidity(Ze={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qt||this.status===Nt)&&this._runAsyncValidator(Ze.emitEvent)),!1!==Ze.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Ze.onlySelf&&this._parent.updateValueAndValidity(Ze)}_updateTreeValidity(Ze={emitEvent:!0}){this._forEachChild(Se=>Se._updateTreeValidity(Ze)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ze.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rn:Qt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Ze){if(this.asyncValidator){this.status=Nt,this._hasOwnPendingAsyncValidator=!0;const Se=Ge(this.asyncValidator(this));this._asyncValidationSubscription=Se.subscribe(kt=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(kt,{emitEvent:Ze})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Ze,Se={}){this.errors=Ze,this._updateControlsErrors(!1!==Se.emitEvent)}get(Ze){let Se=Ze;return null==Se||(Array.isArray(Se)||(Se=Se.split(".")),0===Se.length)?null:Se.reduce((kt,Ln)=>kt&&kt._find(Ln),this)}getError(Ze,Se){const kt=Se?this.get(Se):this;return kt&&kt.errors?kt.errors[Ze]:null}hasError(Ze,Se){return!!this.getError(Ze,Se)}get root(){let Ze=this;for(;Ze._parent;)Ze=Ze._parent;return Ze}_updateControlsErrors(Ze){this.status=this._calculateStatus(),Ze&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Ze)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?rn:this.errors?Mn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nt)?Nt:this._anyControlsHaveStatus(Mn)?Mn:Qt}_anyControlsHaveStatus(Ze){return this._anyControls(Se=>Se.status===Ze)}_anyControlsDirty(){return this._anyControls(Ze=>Ze.dirty)}_anyControlsTouched(){return this._anyControls(Ze=>Ze.touched)}_updatePristine(Ze={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Ze.onlySelf&&this._parent._updatePristine(Ze)}_updateTouched(Ze={}){this.touched=this._anyControlsTouched(),this._parent&&!Ze.onlySelf&&this._parent._updateTouched(Ze)}_registerOnCollectionChange(Ze){this._onCollectionChange=Ze}_setUpdateStrategy(Ze){Ni(Ze)&&null!=Ze.updateOn&&(this._updateOn=Ze.updateOn)}_parentMarkedDirty(Ze){return!Ze&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Ze){return null}}class Je extends Ht{constructor(Ze,Se,kt){super(Bn(Se),ai(kt,Se)),this.controls=Ze,this._initObservables(),this._setUpdateStrategy(Se),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Ze,Se){return this.controls[Ze]?this.controls[Ze]:(this.controls[Ze]=Se,Se.setParent(this),Se._registerOnCollectionChange(this._onCollectionChange),Se)}addControl(Ze,Se,kt={}){this.registerControl(Ze,Se),this.updateValueAndValidity({emitEvent:kt.emitEvent}),this._onCollectionChange()}removeControl(Ze,Se={}){this.controls[Ze]&&this.controls[Ze]._registerOnCollectionChange(()=>{}),delete this.controls[Ze],this.updateValueAndValidity({emitEvent:Se.emitEvent}),this._onCollectionChange()}setControl(Ze,Se,kt={}){this.controls[Ze]&&this.controls[Ze]._registerOnCollectionChange(()=>{}),delete this.controls[Ze],Se&&this.registerControl(Ze,Se),this.updateValueAndValidity({emitEvent:kt.emitEvent}),this._onCollectionChange()}contains(Ze){return this.controls.hasOwnProperty(Ze)&&this.controls[Ze].enabled}setValue(Ze,Se={}){Ho(this,0,Ze),Object.keys(Ze).forEach(kt=>{io(this,!0,kt),this.controls[kt].setValue(Ze[kt],{onlySelf:!0,emitEvent:Se.emitEvent})}),this.updateValueAndValidity(Se)}patchValue(Ze,Se={}){null!=Ze&&(Object.keys(Ze).forEach(kt=>{const Ln=this.controls[kt];Ln&&Ln.patchValue(Ze[kt],{onlySelf:!0,emitEvent:Se.emitEvent})}),this.updateValueAndValidity(Se))}reset(Ze={},Se={}){this._forEachChild((kt,Ln)=>{kt.reset(Ze[Ln],{onlySelf:!0,emitEvent:Se.emitEvent})}),this._updatePristine(Se),this._updateTouched(Se),this.updateValueAndValidity(Se)}getRawValue(){return this._reduceChildren({},(Ze,Se,kt)=>(Ze[kt]=Se.getRawValue(),Ze))}_syncPendingControls(){let Ze=this._reduceChildren(!1,(Se,kt)=>!!kt._syncPendingControls()||Se);return Ze&&this.updateValueAndValidity({onlySelf:!0}),Ze}_forEachChild(Ze){Object.keys(this.controls).forEach(Se=>{const kt=this.controls[Se];kt&&Ze(kt,Se)})}_setUpControls(){this._forEachChild(Ze=>{Ze.setParent(this),Ze._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Ze){for(const[Se,kt]of Object.entries(this.controls))if(this.contains(Se)&&Ze(kt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Se,kt,Ln)=>((kt.enabled||this.disabled)&&(Se[Ln]=kt.value),Se))}_reduceChildren(Ze,Se){let kt=Ze;return this._forEachChild((Ln,fi)=>{kt=Se(kt,Ln,fi)}),kt}_allControlsDisabled(){for(const Ze of Object.keys(this.controls))if(this.controls[Ze].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Ze){return this.controls.hasOwnProperty(Ze)?this.controls[Ze]:null}}function In(nt,Ze){return[...Ze.path,nt]}function Rt(nt,Ze){var Se,kt;ii(nt,Ze),Ze.valueAccessor.writeValue(nt.value),nt.disabled&&(null===(kt=(Se=Ze.valueAccessor).setDisabledState)||void 0===kt||kt.call(Se,!0)),function ti(nt,Ze){Ze.valueAccessor.registerOnChange(Se=>{nt._pendingValue=Se,nt._pendingChange=!0,nt._pendingDirty=!0,"change"===nt.updateOn&&qi(nt,Ze)})}(nt,Ze),function Do(nt,Ze){const Se=(kt,Ln)=>{Ze.valueAccessor.writeValue(kt),Ln&&Ze.viewToModelUpdate(kt)};nt.registerOnChange(Se),Ze._registerOnDestroy(()=>{nt._unregisterOnChange(Se)})}(nt,Ze),function Di(nt,Ze){Ze.valueAccessor.registerOnTouched(()=>{nt._pendingTouched=!0,"blur"===nt.updateOn&&nt._pendingChange&&qi(nt,Ze),"submit"!==nt.updateOn&&nt.markAsTouched()})}(nt,Ze),function Wn(nt,Ze){if(Ze.valueAccessor.setDisabledState){const Se=kt=>{Ze.valueAccessor.setDisabledState(kt)};nt.registerOnDisabledChange(Se),Ze._registerOnDestroy(()=>{nt._unregisterOnDisabledChange(Se)})}}(nt,Ze)}function bn(nt,Ze,Se=!0){const kt=()=>{};Ze.valueAccessor&&(Ze.valueAccessor.registerOnChange(kt),Ze.valueAccessor.registerOnTouched(kt)),pi(nt,Ze),nt&&(Ze._invokeOnDestroyCallbacks(),nt._registerOnCollectionChange(()=>{}))}function yn(nt,Ze){nt.forEach(Se=>{Se.registerOnValidatorChange&&Se.registerOnValidatorChange(Ze)})}function ii(nt,Ze){const Se=Wt(nt);null!==Ze.validator?nt.setValidators(vt(Se,Ze.validator)):"function"==typeof Se&&nt.setValidators([Se]);const kt=zt(nt);null!==Ze.asyncValidator?nt.setAsyncValidators(vt(kt,Ze.asyncValidator)):"function"==typeof kt&&nt.setAsyncValidators([kt]);const Ln=()=>nt.updateValueAndValidity();yn(Ze._rawValidators,Ln),yn(Ze._rawAsyncValidators,Ln)}function pi(nt,Ze){let Se=!1;if(null!==nt){if(null!==Ze.validator){const Ln=Wt(nt);if(Array.isArray(Ln)&&Ln.length>0){const fi=Ln.filter(Gi=>Gi!==Ze.validator);fi.length!==Ln.length&&(Se=!0,nt.setValidators(fi))}}if(null!==Ze.asyncValidator){const Ln=zt(nt);if(Array.isArray(Ln)&&Ln.length>0){const fi=Ln.filter(Gi=>Gi!==Ze.asyncValidator);fi.length!==Ln.length&&(Se=!0,nt.setAsyncValidators(fi))}}}const kt=()=>{};return yn(Ze._rawValidators,kt),yn(Ze._rawAsyncValidators,kt),Se}function qi(nt,Ze){nt._pendingDirty&&nt.markAsDirty(),nt.setValue(nt._pendingValue,{emitModelToViewChange:!1}),Ze.viewToModelUpdate(nt._pendingValue),nt._pendingChange=!1}function Xo(nt,Ze){if(!nt.hasOwnProperty("model"))return!1;const Se=nt.model;return!!Se.isFirstChange()||!Object.is(Ze,Se.currentValue)}function ho(nt,Ze){if(!Ze)return null;let Se,kt,Ln;return Array.isArray(Ze),Ze.forEach(fi=>{fi.constructor===z?Se=fi:function rs(nt){return Object.getPrototypeOf(nt.constructor)===y}(fi)?kt=fi:Ln=fi}),Ln||kt||Se||null}function qo(nt,Ze){const Se=nt.indexOf(Ze);Se>-1&&nt.splice(Se,1)}function Ls(nt){return"object"==typeof nt&&null!==nt&&2===Object.keys(nt).length&&"value"in nt&&"disabled"in nt}const ws=class extends Ht{constructor(Ze=null,Se,kt){super(Bn(Se),ai(kt,Se)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Ze),this._setUpdateStrategy(Se),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ni(Se)&&(Se.nonNullable||Se.initialValueIsDefault)&&(this.defaultValue=Ls(Ze)?Ze.value:Ze)}setValue(Ze,Se={}){this.value=this._pendingValue=Ze,this._onChange.length&&!1!==Se.emitModelToViewChange&&this._onChange.forEach(kt=>kt(this.value,!1!==Se.emitViewToModelChange)),this.updateValueAndValidity(Se)}patchValue(Ze,Se={}){this.setValue(Ze,Se)}reset(Ze=this.defaultValue,Se={}){this._applyFormState(Ze),this.markAsPristine(Se),this.markAsUntouched(Se),this.setValue(this.value,Se),this._pendingChange=!1}_updateValue(){}_anyControls(Ze){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Ze){this._onChange.push(Ze)}_unregisterOnChange(Ze){qo(this._onChange,Ze)}registerOnDisabledChange(Ze){this._onDisabledChange.push(Ze)}_unregisterOnDisabledChange(Ze){qo(this._onDisabledChange,Ze)}_forEachChild(Ze){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Ze){Ls(Ze)?(this.value=this._pendingValue=Ze.value,Ze.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Ze}};let Cr=(()=>{class nt extends Ct{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return In(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return nt.\u0275fac=function(){let Ze;return function(kt){return(Ze||(Ze=e.n5z(nt)))(kt||nt)}}(),nt.\u0275dir=e.lG2({type:nt,features:[e.qOj]}),nt})();const Ns={provide:ot,useExisting:(0,e.Gpc)(()=>Mr)},Wr=(()=>Promise.resolve())();let Mr=(()=>{class nt extends ot{constructor(Se,kt,Ln,fi,Gi){super(),this._changeDetectorRef=Gi,this.control=new ws,this._registered=!1,this.update=new e.vpe,this._parent=Se,this._setValidators(kt),this._setAsyncValidators(Ln),this.valueAccessor=ho(0,fi)}ngOnChanges(Se){if(this._checkForErrors(),!this._registered||"name"in Se){if(this._registered&&(this._checkName(),this.formDirective)){const kt=Se.name.previousValue;this.formDirective.removeControl({name:kt,path:this._getPath(kt)})}this._setUpControl()}"isDisabled"in Se&&this._updateDisabled(Se),Xo(Se,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(Se){this.viewModel=Se,this.update.emit(Se)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Rt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(Se){Wr.then(()=>{var kt;this.control.setValue(Se,{emitViewToModelChange:!1}),null===(kt=this._changeDetectorRef)||void 0===kt||kt.markForCheck()})}_updateDisabled(Se){const kt=Se.isDisabled.currentValue,Ln=0!==kt&&(0,e.D6c)(kt);Wr.then(()=>{var fi;Ln&&!this.control.disabled?this.control.disable():!Ln&&this.control.disabled&&this.control.enable(),null===(fi=this._changeDetectorRef)||void 0===fi||fi.markForCheck()})}_getPath(Se){return this._parent?In(Se,this._parent):[Se]}}return nt.\u0275fac=function(Se){return new(Se||nt)(e.Y36(Ct,9),e.Y36(ue,10),e.Y36(q,10),e.Y36(D,10),e.Y36(e.sBO,8))},nt.\u0275dir=e.lG2({type:nt,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([Ns]),e.qOj,e.TTD]}),nt})(),so=(()=>{class nt{}return nt.\u0275fac=function(Se){return new(Se||nt)},nt.\u0275dir=e.lG2({type:nt,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),nt})(),ss=(()=>{class nt{}return nt.\u0275fac=function(Se){return new(Se||nt)},nt.\u0275mod=e.oAB({type:nt}),nt.\u0275inj=e.cJS({}),nt})();const fs=new e.OlP("NgModelWithFormControlWarning"),qs={provide:ot,useExisting:(0,e.Gpc)(()=>$s)};let $s=(()=>{class nt extends ot{constructor(Se,kt,Ln,fi){super(),this._ngModelWarningConfig=fi,this.update=new e.vpe,this._ngModelWarningSent=!1,this._setValidators(Se),this._setAsyncValidators(kt),this.valueAccessor=ho(0,Ln)}set isDisabled(Se){}ngOnChanges(Se){if(this._isControlChanged(Se)){const kt=Se.form.previousValue;kt&&bn(kt,this,!1),Rt(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}Xo(Se,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&bn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(Se){this.viewModel=Se,this.update.emit(Se)}_isControlChanged(Se){return Se.hasOwnProperty("form")}}return nt._ngModelWarningSentOnce=!1,nt.\u0275fac=function(Se){return new(Se||nt)(e.Y36(ue,10),e.Y36(q,10),e.Y36(D,10),e.Y36(fs,8))},nt.\u0275dir=e.lG2({type:nt,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[e._Bn([qs]),e.qOj,e.TTD]}),nt})();const go={provide:Ct,useExisting:(0,e.Gpc)(()=>Cs)};let Cs=(()=>{class nt extends Ct{constructor(Se,kt){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.vpe,this._setValidators(Se),this._setAsyncValidators(kt)}ngOnChanges(Se){this._checkFormPresent(),Se.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(pi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Se){const kt=this.form.get(Se.path);return Rt(kt,Se),kt.updateValueAndValidity({emitEvent:!1}),this.directives.push(Se),kt}getControl(Se){return this.form.get(Se.path)}removeControl(Se){bn(Se.control||null,Se,!1),function oo(nt,Ze){const Se=nt.indexOf(Ze);Se>-1&&nt.splice(Se,1)}(this.directives,Se)}addFormGroup(Se){this._setUpFormContainer(Se)}removeFormGroup(Se){this._cleanUpFormContainer(Se)}getFormGroup(Se){return this.form.get(Se.path)}addFormArray(Se){this._setUpFormContainer(Se)}removeFormArray(Se){this._cleanUpFormContainer(Se)}getFormArray(Se){return this.form.get(Se.path)}updateModel(Se,kt){this.form.get(Se.path).setValue(kt)}onSubmit(Se){var kt;return this.submitted=!0,function os(nt,Ze){nt._syncPendingControls(),Ze.forEach(Se=>{const kt=Se.control;"submit"===kt.updateOn&&kt._pendingChange&&(Se.viewToModelUpdate(kt._pendingValue),kt._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(Se),"dialog"===(null===(kt=null==Se?void 0:Se.target)||void 0===kt?void 0:kt.method)}onReset(){this.resetForm()}resetForm(Se){this.form.reset(Se),this.submitted=!1}_updateDomValue(){this.directives.forEach(Se=>{const kt=Se.control,Ln=this.form.get(Se.path);kt!==Ln&&(bn(kt||null,Se),(nt=>nt instanceof ws)(Ln)&&(Rt(Ln,Se),Se.control=Ln))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Se){const kt=this.form.get(Se.path);(function li(nt,Ze){ii(nt,Ze)})(kt,Se),kt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Se){if(this.form){const kt=this.form.get(Se.path);kt&&function Co(nt,Ze){return pi(nt,Ze)}(kt,Se)&&kt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ii(this.form,this),this._oldForm&&pi(this._oldForm,this)}_checkFormPresent(){}}return nt.\u0275fac=function(Se){return new(Se||nt)(e.Y36(ue,10),e.Y36(q,10))},nt.\u0275dir=e.lG2({type:nt,selectors:[["","formGroup",""]],hostBindings:function(Se,kt){1&Se&&e.NdJ("submit",function(fi){return kt.onSubmit(fi)})("reset",function(){return kt.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([go]),e.qOj,e.TTD]}),nt})();const ls={provide:Ct,useExisting:(0,e.Gpc)(()=>vs)};let vs=(()=>{class nt extends Cr{constructor(Se,kt,Ln){super(),this._parent=Se,this._setValidators(kt),this._setAsyncValidators(Ln)}_checkParentType(){xr(this._parent)}}return nt.\u0275fac=function(Se){return new(Se||nt)(e.Y36(Ct,13),e.Y36(ue,10),e.Y36(q,10))},nt.\u0275dir=e.lG2({type:nt,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[e._Bn([ls]),e.qOj]}),nt})();const bs={provide:Ct,useExisting:(0,e.Gpc)(()=>ys)};let ys=(()=>{class nt extends Ct{constructor(Se,kt,Ln){super(),this._parent=Se,this._setValidators(kt),this._setAsyncValidators(Ln)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return In(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){xr(this._parent)}}return nt.\u0275fac=function(Se){return new(Se||nt)(e.Y36(Ct,13),e.Y36(ue,10),e.Y36(q,10))},nt.\u0275dir=e.lG2({type:nt,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[e._Bn([bs]),e.qOj]}),nt})();function xr(nt){return!(nt instanceof vs||nt instanceof Cs||nt instanceof ys)}const Pr={provide:ot,useExisting:(0,e.Gpc)(()=>Lr)};let Lr=(()=>{class nt extends ot{constructor(Se,kt,Ln,fi,Gi){super(),this._ngModelWarningConfig=Gi,this._added=!1,this.update=new e.vpe,this._ngModelWarningSent=!1,this._parent=Se,this._setValidators(kt),this._setAsyncValidators(Ln),this.valueAccessor=ho(0,fi)}set isDisabled(Se){}ngOnChanges(Se){this._added||this._setUpControl(),Xo(Se,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(Se){this.viewModel=Se,this.update.emit(Se)}get path(){return In(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return nt._ngModelWarningSentOnce=!1,nt.\u0275fac=function(Se){return new(Se||nt)(e.Y36(Ct,13),e.Y36(ue,10),e.Y36(q,10),e.Y36(D,10),e.Y36(fs,8))},nt.\u0275dir=e.lG2({type:nt,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[e._Bn([Pr]),e.qOj,e.TTD]}),nt})();let gi=(()=>{class nt{constructor(){this._validator=Ke}ngOnChanges(Se){if(this.inputName in Se){const kt=this.normalizeInput(Se[this.inputName].currentValue);this._enabled=this.enabled(kt),this._validator=this._enabled?this.createValidator(kt):Ke,this._onChange&&this._onChange()}}validate(Se){return this._validator(Se)}registerOnValidatorChange(Se){this._onChange=Se}enabled(Se){return null!=Se}}return nt.\u0275fac=function(Se){return new(Se||nt)},nt.\u0275dir=e.lG2({type:nt,features:[e.TTD]}),nt})();const or={provide:ue,useExisting:(0,e.Gpc)(()=>Vo),multi:!0};let Vo=(()=>{class nt extends gi{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=Se=>function Pn(nt){return"number"==typeof nt?nt:parseInt(nt,10)}(Se),this.createValidator=Se=>Te(Se)}}return nt.\u0275fac=function(){let Ze;return function(kt){return(Ze||(Ze=e.n5z(nt)))(kt||nt)}}(),nt.\u0275dir=e.lG2({type:nt,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(Se,kt){2&Se&&e.uIk("maxlength",kt._enabled?kt.maxlength:null)},inputs:{maxlength:"maxlength"},features:[e._Bn([or]),e.qOj]}),nt})(),Oi=(()=>{class nt{}return nt.\u0275fac=function(Se){return new(Se||nt)},nt.\u0275mod=e.oAB({type:nt}),nt.\u0275inj=e.cJS({imports:[ss]}),nt})(),rr=(()=>{class nt{}return nt.\u0275fac=function(Se){return new(Se||nt)},nt.\u0275mod=e.oAB({type:nt}),nt.\u0275inj=e.cJS({imports:[Oi]}),nt})(),Yr=(()=>{class nt{static withConfig(Se){return{ngModule:nt,providers:[{provide:fs,useValue:Se.warnOnNgModelWithFormControl}]}}}return nt.\u0275fac=function(Se){return new(Se||nt)},nt.\u0275mod=e.oAB({type:nt}),nt.\u0275inj=e.cJS({imports:[Oi]}),nt})();class Xi extends Ht{constructor(Ze,Se,kt){super(Bn(Se),ai(kt,Se)),this.controls=Ze,this._initObservables(),this._setUpdateStrategy(Se),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Ze){return this.controls[this._adjustIndex(Ze)]}push(Ze,Se={}){this.controls.push(Ze),this._registerControl(Ze),this.updateValueAndValidity({emitEvent:Se.emitEvent}),this._onCollectionChange()}insert(Ze,Se,kt={}){this.controls.splice(Ze,0,Se),this._registerControl(Se),this.updateValueAndValidity({emitEvent:kt.emitEvent})}removeAt(Ze,Se={}){let kt=this._adjustIndex(Ze);kt<0&&(kt=0),this.controls[kt]&&this.controls[kt]._registerOnCollectionChange(()=>{}),this.controls.splice(kt,1),this.updateValueAndValidity({emitEvent:Se.emitEvent})}setControl(Ze,Se,kt={}){let Ln=this._adjustIndex(Ze);Ln<0&&(Ln=0),this.controls[Ln]&&this.controls[Ln]._registerOnCollectionChange(()=>{}),this.controls.splice(Ln,1),Se&&(this.controls.splice(Ln,0,Se),this._registerControl(Se)),this.updateValueAndValidity({emitEvent:kt.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Ze,Se={}){Ho(this,0,Ze),Ze.forEach((kt,Ln)=>{io(this,!1,Ln),this.at(Ln).setValue(kt,{onlySelf:!0,emitEvent:Se.emitEvent})}),this.updateValueAndValidity(Se)}patchValue(Ze,Se={}){null!=Ze&&(Ze.forEach((kt,Ln)=>{this.at(Ln)&&this.at(Ln).patchValue(kt,{onlySelf:!0,emitEvent:Se.emitEvent})}),this.updateValueAndValidity(Se))}reset(Ze=[],Se={}){this._forEachChild((kt,Ln)=>{kt.reset(Ze[Ln],{onlySelf:!0,emitEvent:Se.emitEvent})}),this._updatePristine(Se),this._updateTouched(Se),this.updateValueAndValidity(Se)}getRawValue(){return this.controls.map(Ze=>Ze.getRawValue())}clear(Ze={}){this.controls.length<1||(this._forEachChild(Se=>Se._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Ze.emitEvent}))}_adjustIndex(Ze){return Ze<0?Ze+this.length:Ze}_syncPendingControls(){let Ze=this.controls.reduce((Se,kt)=>!!kt._syncPendingControls()||Se,!1);return Ze&&this.updateValueAndValidity({onlySelf:!0}),Ze}_forEachChild(Ze){this.controls.forEach((Se,kt)=>{Ze(Se,kt)})}_updateValue(){this.value=this.controls.filter(Ze=>Ze.enabled||this.disabled).map(Ze=>Ze.value)}_anyControls(Ze){return this.controls.some(Se=>Se.enabled&&Ze(Se))}_setUpControls(){this._forEachChild(Ze=>this._registerControl(Ze))}_allControlsDisabled(){for(const Ze of this.controls)if(Ze.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Ze){Ze.setParent(this),Ze._registerOnCollectionChange(this._onCollectionChange)}_find(Ze){var Se;return null!==(Se=this.at(Ze))&&void 0!==Se?Se:null}}},2313:(hn,ht,b)=>{"use strict";b.d(ht,{Dx:()=>Ye,H7:()=>vi,b2:()=>ot,q6:()=>ct,se:()=>J});var e=b(9808),d=b(5e3);class u extends e.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class f extends u{static makeCurrent(){(0,e.HT)(new f)}onAndCancel(Je,ye,He){return Je.addEventListener(ye,He,!1),()=>{Je.removeEventListener(ye,He,!1)}}dispatchEvent(Je,ye){Je.dispatchEvent(ye)}remove(Je){Je.parentNode&&Je.parentNode.removeChild(Je)}createElement(Je,ye){return(ye=ye||this.getDefaultDocument()).createElement(Je)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Je){return Je.nodeType===Node.ELEMENT_NODE}isShadowRoot(Je){return Je instanceof DocumentFragment}getGlobalEventTarget(Je,ye){return"window"===ye?window:"document"===ye?Je:"body"===ye?Je.body:null}getBaseHref(Je){const ye=function P(){return _=_||document.querySelector("base"),_?_.getAttribute("href"):null}();return null==ye?null:function a(Ht){x=x||document.createElement("a"),x.setAttribute("href",Ht);const Je=x.pathname;return"/"===Je.charAt(0)?Je:`/${Je}`}(ye)}resetBaseElement(){_=null}getUserAgent(){return window.navigator.userAgent}getCookie(Je){return(0,e.Mx)(document.cookie,Je)}}let x,_=null;const R=new d.OlP("TRANSITION_ID"),V=[{provide:d.ip1,useFactory:function L(Ht,Je,ye){return()=>{ye.get(d.CZH).donePromise.then(()=>{const He=(0,e.q)(),ut=Je.querySelectorAll(`style[ng-transition="${Ht}"]`);for(let dn=0;dn<ut.length;dn++)He.remove(ut[dn])})}},deps:[R,e.K0,d.zs3],multi:!0}];let T=(()=>{class Ht{build(){return new XMLHttpRequest}}return Ht.\u0275fac=function(ye){return new(ye||Ht)},Ht.\u0275prov=d.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})();const y=new d.OlP("EventManagerPlugins");let D=(()=>{class Ht{constructor(ye,He){this._zone=He,this._eventNameToPlugin=new Map,ye.forEach(ut=>ut.manager=this),this._plugins=ye.slice().reverse()}addEventListener(ye,He,ut){return this._findPluginFor(He).addEventListener(ye,He,ut)}addGlobalEventListener(ye,He,ut){return this._findPluginFor(He).addGlobalEventListener(ye,He,ut)}getZone(){return this._zone}_findPluginFor(ye){const He=this._eventNameToPlugin.get(ye);if(He)return He;const ut=this._plugins;for(let dn=0;dn<ut.length;dn++){const In=ut[dn];if(In.supports(ye))return this._eventNameToPlugin.set(ye,In),In}throw new Error(`No event manager plugin found for event ${ye}`)}}return Ht.\u0275fac=function(ye){return new(ye||Ht)(d.LFG(y),d.LFG(d.R0b))},Ht.\u0275prov=d.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})();class k{constructor(Je){this._doc=Je}addGlobalEventListener(Je,ye,He){const ut=(0,e.q)().getGlobalEventTarget(this._doc,Je);if(!ut)throw new Error(`Unsupported event target ${ut} for event ${ye}`);return this.addEventListener(ut,ye,He)}}let B=(()=>{class Ht{constructor(){this._stylesSet=new Set}addStyles(ye){const He=new Set;ye.forEach(ut=>{this._stylesSet.has(ut)||(this._stylesSet.add(ut),He.add(ut))}),this.onStylesAdded(He)}onStylesAdded(ye){}getAllStyles(){return Array.from(this._stylesSet)}}return Ht.\u0275fac=function(ye){return new(ye||Ht)},Ht.\u0275prov=d.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})(),N=(()=>{class Ht extends B{constructor(ye){super(),this._doc=ye,this._hostNodes=new Map,this._hostNodes.set(ye.head,[])}_addStylesToHost(ye,He,ut){ye.forEach(dn=>{const In=this._doc.createElement("style");In.textContent=dn,ut.push(He.appendChild(In))})}addHost(ye){const He=[];this._addStylesToHost(this._stylesSet,ye,He),this._hostNodes.set(ye,He)}removeHost(ye){const He=this._hostNodes.get(ye);He&&He.forEach(ce),this._hostNodes.delete(ye)}onStylesAdded(ye){this._hostNodes.forEach((He,ut)=>{this._addStylesToHost(ye,ut,He)})}ngOnDestroy(){this._hostNodes.forEach(ye=>ye.forEach(ce))}}return Ht.\u0275fac=function(ye){return new(ye||Ht)(d.LFG(e.K0))},Ht.\u0275prov=d.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})();function ce(Ht){(0,e.q)().remove(Ht)}const $={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},z=/%COMP%/g,O="%COMP%",K=`_nghost-${O}`,ue=`_ngcontent-${O}`;function j(Ht,Je,ye){for(let He=0;He<Je.length;He++){let ut=Je[He];Array.isArray(ut)?j(Ht,ut,ye):(ut=ut.replace(z,Ht),ye.push(ut))}return ye}function fe(Ht){return Je=>{if("__ngUnwrap__"===Je)return Ht;!1===Ht(Je)&&(Je.preventDefault(),Je.returnValue=!1)}}let J=(()=>{class Ht{constructor(ye,He,ut){this.eventManager=ye,this.sharedStylesHost=He,this.appId=ut,this.rendererByCompId=new Map,this.defaultRenderer=new X(ye)}createRenderer(ye,He){if(!ye||!He)return this.defaultRenderer;switch(He.encapsulation){case d.ifc.Emulated:{let ut=this.rendererByCompId.get(He.id);return ut||(ut=new Ae(this.eventManager,this.sharedStylesHost,He,this.appId),this.rendererByCompId.set(He.id,ut)),ut.applyToHost(ye),ut}case 1:case d.ifc.ShadowDom:return new Ke(this.eventManager,this.sharedStylesHost,ye,He);default:if(!this.rendererByCompId.has(He.id)){const ut=j(He.id,He.styles,[]);this.sharedStylesHost.addStyles(ut),this.rendererByCompId.set(He.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ht.\u0275fac=function(ye){return new(ye||Ht)(d.LFG(D),d.LFG(N),d.LFG(d.AFp))},Ht.\u0275prov=d.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})();class X{constructor(Je){this.eventManager=Je,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Je,ye){return ye?document.createElementNS($[ye]||ye,Je):document.createElement(Je)}createComment(Je){return document.createComment(Je)}createText(Je){return document.createTextNode(Je)}appendChild(Je,ye){(Te(Je)?Je.content:Je).appendChild(ye)}insertBefore(Je,ye,He){Je&&(Te(Je)?Je.content:Je).insertBefore(ye,He)}removeChild(Je,ye){Je&&Je.removeChild(ye)}selectRootElement(Je,ye){let He="string"==typeof Je?document.querySelector(Je):Je;if(!He)throw new Error(`The selector "${Je}" did not match any elements`);return ye||(He.textContent=""),He}parentNode(Je){return Je.parentNode}nextSibling(Je){return Je.nextSibling}setAttribute(Je,ye,He,ut){if(ut){ye=ut+":"+ye;const dn=$[ut];dn?Je.setAttributeNS(dn,ye,He):Je.setAttribute(ye,He)}else Je.setAttribute(ye,He)}removeAttribute(Je,ye,He){if(He){const ut=$[He];ut?Je.removeAttributeNS(ut,ye):Je.removeAttribute(`${He}:${ye}`)}else Je.removeAttribute(ye)}addClass(Je,ye){Je.classList.add(ye)}removeClass(Je,ye){Je.classList.remove(ye)}setStyle(Je,ye,He,ut){ut&(d.JOm.DashCase|d.JOm.Important)?Je.style.setProperty(ye,He,ut&d.JOm.Important?"important":""):Je.style[ye]=He}removeStyle(Je,ye,He){He&d.JOm.DashCase?Je.style.removeProperty(ye):Je.style[ye]=""}setProperty(Je,ye,He){Je[ye]=He}setValue(Je,ye){Je.nodeValue=ye}listen(Je,ye,He){return"string"==typeof Je?this.eventManager.addGlobalEventListener(Je,ye,fe(He)):this.eventManager.addEventListener(Je,ye,fe(He))}}function Te(Ht){return"TEMPLATE"===Ht.tagName&&void 0!==Ht.content}class Ae extends X{constructor(Je,ye,He,ut){super(Je),this.component=He;const dn=j(ut+"-"+He.id,He.styles,[]);ye.addStyles(dn),this.contentAttr=function q(Ht){return ue.replace(z,Ht)}(ut+"-"+He.id),this.hostAttr=function G(Ht){return K.replace(z,Ht)}(ut+"-"+He.id)}applyToHost(Je){super.setAttribute(Je,this.hostAttr,"")}createElement(Je,ye){const He=super.createElement(Je,ye);return super.setAttribute(He,this.contentAttr,""),He}}class Ke extends X{constructor(Je,ye,He,ut){super(Je),this.sharedStylesHost=ye,this.hostEl=He,this.shadowRoot=He.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const dn=j(ut.id,ut.styles,[]);for(let In=0;In<dn.length;In++){const Rt=document.createElement("style");Rt.textContent=dn[In],this.shadowRoot.appendChild(Rt)}}nodeOrShadowRoot(Je){return Je===this.hostEl?this.shadowRoot:Je}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Je,ye){return super.appendChild(this.nodeOrShadowRoot(Je),ye)}insertBefore(Je,ye,He){return super.insertBefore(this.nodeOrShadowRoot(Je),ye,He)}removeChild(Je,ye){return super.removeChild(this.nodeOrShadowRoot(Je),ye)}parentNode(Je){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Je)))}}let be=(()=>{class Ht extends k{constructor(ye){super(ye)}supports(ye){return!0}addEventListener(ye,He,ut){return ye.addEventListener(He,ut,!1),()=>this.removeEventListener(ye,He,ut)}removeEventListener(ye,He,ut){return ye.removeEventListener(He,ut)}}return Ht.\u0275fac=function(ye){return new(ye||Ht)(d.LFG(e.K0))},Ht.\u0275prov=d.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})();const Ge=["alt","control","meta","shift"],ee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xe={alt:Ht=>Ht.altKey,control:Ht=>Ht.ctrlKey,meta:Ht=>Ht.metaKey,shift:Ht=>Ht.shiftKey};let we=(()=>{class Ht extends k{constructor(ye){super(ye)}supports(ye){return null!=Ht.parseEventName(ye)}addEventListener(ye,He,ut){const dn=Ht.parseEventName(He),In=Ht.eventCallback(dn.fullKey,ut,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,e.q)().onAndCancel(ye,dn.domEventName,In))}static parseEventName(ye){const He=ye.toLowerCase().split("."),ut=He.shift();if(0===He.length||"keydown"!==ut&&"keyup"!==ut)return null;const dn=Ht._normalizeKey(He.pop());let In="",Rt=He.indexOf("code");if(Rt>-1&&(He.splice(Rt,1),In="code."),Ge.forEach(yn=>{const Wn=He.indexOf(yn);Wn>-1&&(He.splice(Wn,1),In+=yn+".")}),In+=dn,0!=He.length||0===dn.length)return null;const bn={};return bn.domEventName=ut,bn.fullKey=In,bn}static matchEventFullKeyCode(ye,He){let ut=ee[ye.key]||ye.key,dn="";return He.indexOf("code.")>-1&&(ut=ye.code,dn="code."),!(null==ut||!ut)&&(ut=ut.toLowerCase()," "===ut?ut="space":"."===ut&&(ut="dot"),Ge.forEach(In=>{In!==ut&&(0,xe[In])(ye)&&(dn+=In+".")}),dn+=ut,dn===He)}static eventCallback(ye,He,ut){return dn=>{Ht.matchEventFullKeyCode(dn,ye)&&ut.runGuarded(()=>He(dn))}}static _normalizeKey(ye){return"esc"===ye?"escape":ye}}return Ht.\u0275fac=function(ye){return new(ye||Ht)(d.LFG(e.K0))},Ht.\u0275prov=d.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})();const ct=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:e.bD},{provide:d.g9A,useValue:function vt(){f.makeCurrent()},multi:!0},{provide:e.K0,useFactory:function zt(){return(0,d.RDi)(document),document},deps:[]}]),at=new d.OlP(""),me=[{provide:d.rWj,useClass:class F{addToWindow(Je){d.dqk.getAngularTestability=(He,ut=!0)=>{const dn=Je.findTestabilityInTree(He,ut);if(null==dn)throw new Error("Could not find testability for element.");return dn},d.dqk.getAllAngularTestabilities=()=>Je.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>Je.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(He=>{const ut=d.dqk.getAllAngularTestabilities();let dn=ut.length,In=!1;const Rt=function(bn){In=In||bn,dn--,0==dn&&He(In)};ut.forEach(function(bn){bn.whenStable(Rt)})})}findTestabilityInTree(Je,ye,He){if(null==ye)return null;const ut=Je.getTestability(ye);return null!=ut?ut:He?(0,e.q)().isShadowRoot(ye)?this.findTestabilityInTree(Je,ye.host,!0):this.findTestabilityInTree(Je,ye.parentElement,!0):null}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],De=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Wt(){return new d.qLn},deps:[]},{provide:y,useClass:be,multi:!0,deps:[e.K0,d.R0b,d.Lbi]},{provide:y,useClass:we,multi:!0,deps:[e.K0]},{provide:J,useClass:J,deps:[D,N,d.AFp]},{provide:d.FYo,useExisting:J},{provide:B,useExisting:N},{provide:N,useClass:N,deps:[e.K0]},{provide:D,useClass:D,deps:[y,d.R0b]},{provide:e.JF,useClass:T,deps:[]},[]];let ot=(()=>{class Ht{constructor(ye){}static withServerTransition(ye){return{ngModule:Ht,providers:[{provide:d.AFp,useValue:ye.appId},{provide:R,useExisting:d.AFp},V]}}}return Ht.\u0275fac=function(ye){return new(ye||Ht)(d.LFG(at,12))},Ht.\u0275mod=d.oAB({type:Ht}),Ht.\u0275inj=d.cJS({providers:[...De,...me],imports:[e.ez,d.hGG]}),Ht})(),Ye=(()=>{class Ht{constructor(ye){this._doc=ye}getTitle(){return this._doc.title}setTitle(ye){this._doc.title=ye||""}}return Ht.\u0275fac=function(ye){return new(ye||Ht)(d.LFG(e.K0))},Ht.\u0275prov=d.Yz7({token:Ht,factory:function(ye){let He=null;return He=ye?new ye:function Mt(){return new Ye((0,d.LFG)(e.K0))}(),He},providedIn:"root"}),Ht})();"undefined"!=typeof window&&window;let vi=(()=>{class Ht{}return Ht.\u0275fac=function(ye){return new(ye||Ht)},Ht.\u0275prov=d.Yz7({token:Ht,factory:function(ye){let He=null;return He=ye?new(ye||Ht):d.LFG(io),He},providedIn:"root"}),Ht})(),io=(()=>{class Ht extends vi{constructor(ye){super(),this._doc=ye}sanitize(ye,He){if(null==He)return null;switch(ye){case d.q3G.NONE:return He;case d.q3G.HTML:return(0,d.qzn)(He,"HTML")?(0,d.z3N)(He):(0,d.EiD)(this._doc,String(He)).toString();case d.q3G.STYLE:return(0,d.qzn)(He,"Style")?(0,d.z3N)(He):He;case d.q3G.SCRIPT:if((0,d.qzn)(He,"Script"))return(0,d.z3N)(He);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.qzn)(He,"URL")?(0,d.z3N)(He):(0,d.mCW)(String(He));case d.q3G.RESOURCE_URL:if((0,d.qzn)(He,"ResourceURL"))return(0,d.z3N)(He);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ye} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ye){return(0,d.JVY)(ye)}bypassSecurityTrustStyle(ye){return(0,d.L6k)(ye)}bypassSecurityTrustScript(ye){return(0,d.eBb)(ye)}bypassSecurityTrustUrl(ye){return(0,d.LAX)(ye)}bypassSecurityTrustResourceUrl(ye){return(0,d.pB0)(ye)}}return Ht.\u0275fac=function(ye){return new(ye||Ht)(d.LFG(e.K0))},Ht.\u0275prov=d.Yz7({token:Ht,factory:function(ye){let He=null;return He=ye?new ye:function Ni(Ht){return new io(Ht.get(e.K0))}(d.LFG(d.zs3)),He},providedIn:"root"}),Ht})()},3470:(hn,ht,b)=>{"use strict";b.d(ht,{gz:()=>Zi,F0:()=>Ro,rH:()=>To,Od:()=>pl,yS:()=>qr,Bz:()=>Rl,lC:()=>pn,Xs:()=>Ns,lo:()=>Fe,fw:()=>xt});var e=b(5e3),d=b(2076),u=b(9646),f=b(1135),_=b(6805),P=b(9841),x=b(7272),a=b(9770),R=b(9635),L=b(2843),V=b(9751),F=b(515),T=b(727),y=b(4482),D=b(5403);function k(){return(0,y.e)((_e,ve)=>{let le=null;_e._refCount++;const ke=new D.Q(ve,void 0,void 0,void 0,()=>{if(!_e||_e._refCount<=0||0<--_e._refCount)return void(le=null);const et=_e._connection,wt=le;le=null,et&&(!wt||et===wt)&&et.unsubscribe(),ve.unsubscribe()});_e.subscribe(ke),ke.closed||(le=_e.connect())})}class B extends V.y{constructor(ve,le){super(),this.source=ve,this.subjectFactory=le,this._subject=null,this._refCount=0,this._connection=null,(0,y.A)(ve)&&(this.lift=ve.lift)}_subscribe(ve){return this.getSubject().subscribe(ve)}getSubject(){const ve=this._subject;return(!ve||ve.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:ve}=this;this._subject=this._connection=null,null==ve||ve.unsubscribe()}connect(){let ve=this._connection;if(!ve){ve=this._connection=new T.w0;const le=this.getSubject();ve.add(this.source.subscribe(new D.Q(le,void 0,()=>{this._teardown(),le.complete()},ke=>{this._teardown(),le.error(ke)},()=>this._teardown()))),ve.closed&&(this._connection=null,ve=T.w0.EMPTY)}return ve}refCount(){return k()(this)}}var N=b(7579),ce=b(9808),$=b(4004),z=b(3900),S=b(5698),O=b(8675),K=b(9300),ue=b(5577),q=b(590),G=b(4351),j=b(8505),fe=b(262);function ne(_e,ve,le,ke,et){return(wt,Xt)=>{let sn=le,wn=ve,oi=0;wt.subscribe(new D.Q(Xt,yi=>{const di=oi++;wn=sn?_e(wn,yi,di):(sn=!0,yi),ke&&Xt.next(wn)},et&&(()=>{sn&&Xt.next(wn),Xt.complete()})))}}function J(_e,ve){return(0,y.e)(ne(_e,ve,arguments.length>=2,!0))}var X=b(2035),W=b(8068),Y=b(6590),Te=b(4671);function Ae(_e,ve){const le=arguments.length>=2;return ke=>ke.pipe(_e?(0,K.h)((et,wt)=>_e(et,wt,ke)):Te.y,(0,X.h)(1),le?(0,Y.d)(ve):(0,W.T)(()=>new _.K))}var Ke=b(2529),be=b(9718),Ge=b(8746),ee=b(8189),xe=b(2313);const we="primary",Pe=Symbol("RouteTitle");class dt{constructor(ve){this.params=ve||{}}has(ve){return Object.prototype.hasOwnProperty.call(this.params,ve)}get(ve){if(this.has(ve)){const le=this.params[ve];return Array.isArray(le)?le[0]:le}return null}getAll(ve){if(this.has(ve)){const le=this.params[ve];return Array.isArray(le)?le:[le]}return[]}get keys(){return Object.keys(this.params)}}function bt(_e){return new dt(_e)}function it(_e,ve,le){const ke=le.path.split("/");if(ke.length>_e.length||"full"===le.pathMatch&&(ve.hasChildren()||ke.length<_e.length))return null;const et={};for(let wt=0;wt<ke.length;wt++){const Xt=ke[wt],sn=_e[wt];if(Xt.startsWith(":"))et[Xt.substring(1)]=sn;else if(Xt!==sn.path)return null}return{consumed:_e.slice(0,ke.length),posParams:et}}function vt(_e,ve){const le=_e?Object.keys(_e):void 0,ke=ve?Object.keys(ve):void 0;if(!le||!ke||le.length!=ke.length)return!1;let et;for(let wt=0;wt<le.length;wt++)if(et=le[wt],!Wt(_e[et],ve[et]))return!1;return!0}function Wt(_e,ve){if(Array.isArray(_e)&&Array.isArray(ve)){if(_e.length!==ve.length)return!1;const le=[..._e].sort(),ke=[...ve].sort();return le.every((et,wt)=>ke[wt]===et)}return _e===ve}function zt(_e){return Array.prototype.concat.apply([],_e)}function Ut(_e){return _e.length>0?_e[_e.length-1]:null}function at(_e,ve){for(const le in _e)_e.hasOwnProperty(le)&&ve(_e[le],le)}function me(_e){return(0,e.CqO)(_e)?_e:(0,e.QGY)(_e)?(0,d.D)(Promise.resolve(_e)):(0,u.of)(_e)}const Ct={exact:function Ye(_e,ve,le){if(!Tn(_e.segments,ve.segments)||!se(_e.segments,ve.segments,le)||_e.numberOfChildren!==ve.numberOfChildren)return!1;for(const ke in ve.children)if(!_e.children[ke]||!Ye(_e.children[ke],ve.children[ke],le))return!1;return!0},subset:je},Ot={exact:function Mt(_e,ve){return vt(_e,ve)},subset:function st(_e,ve){return Object.keys(ve).length<=Object.keys(_e).length&&Object.keys(ve).every(le=>Wt(_e[le],ve[le]))},ignored:()=>!0};function Ft(_e,ve,le){return Ct[le.paths](_e.root,ve.root,le.matrixParams)&&Ot[le.queryParams](_e.queryParams,ve.queryParams)&&!("exact"===le.fragment&&_e.fragment!==ve.fragment)}function je(_e,ve,le){return It(_e,ve,ve.segments,le)}function It(_e,ve,le,ke){if(_e.segments.length>le.length){const et=_e.segments.slice(0,le.length);return!(!Tn(et,le)||ve.hasChildren()||!se(et,le,ke))}if(_e.segments.length===le.length){if(!Tn(_e.segments,le)||!se(_e.segments,le,ke))return!1;for(const et in ve.children)if(!_e.children[et]||!je(_e.children[et],ve.children[et],ke))return!1;return!0}{const et=le.slice(0,_e.segments.length),wt=le.slice(_e.segments.length);return!!(Tn(_e.segments,et)&&se(_e.segments,et,ke)&&_e.children[we])&&It(_e.children[we],ve,wt,ke)}}function se(_e,ve,le){return ve.every((ke,et)=>Ot[le](_e[et].parameters,ke.parameters))}class Fe{constructor(ve,le,ke){this.root=ve,this.queryParams=le,this.fragment=ke}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bt(this.queryParams)),this._queryParamMap}toString(){return de.serialize(this)}}class he{constructor(ve,le){this.segments=ve,this.children=le,this.parent=null,at(le,(ke,et)=>ke.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qe(this)}}class gt{constructor(ve,le){this.path=ve,this.parameters=le}get parameterMap(){return this._parameterMap||(this._parameterMap=bt(this.parameters)),this._parameterMap}toString(){return Nt(this)}}function Tn(_e,ve){return _e.length===ve.length&&_e.every((le,ke)=>le.path===ve[ke].path)}let _t=(()=>{class _e{}return _e.\u0275fac=function(le){return new(le||_e)},_e.\u0275prov=e.Yz7({token:_e,factory:function(){return new tt},providedIn:"root"}),_e})();class tt{parse(ve){const le=new Ht(ve);return new Fe(le.parseRootSegment(),le.parseQueryParams(),le.parseFragment())}serialize(ve){const le=`/${ze(ve.root,!0)}`,ke=function Bn(_e){const ve=Object.keys(_e).map(le=>{const ke=_e[le];return Array.isArray(ke)?ke.map(et=>`${Be(le)}=${Be(et)}`).join("&"):`${Be(le)}=${Be(ke)}`}).filter(le=>!!le);return ve.length?`?${ve.join("&")}`:""}(ve.queryParams);return`${le}${ke}${"string"==typeof ve.fragment?`#${function qt(_e){return encodeURI(_e)}(ve.fragment)}`:""}`}}const de=new tt;function Qe(_e){return _e.segments.map(ve=>Nt(ve)).join("/")}function ze(_e,ve){if(!_e.hasChildren())return Qe(_e);if(ve){const le=_e.children[we]?ze(_e.children[we],!1):"",ke=[];return at(_e.children,(et,wt)=>{wt!==we&&ke.push(`${wt}:${ze(et,!1)}`)}),ke.length>0?`${le}(${ke.join("//")})`:le}{const le=function en(_e,ve){let le=[];return at(_e.children,(ke,et)=>{et===we&&(le=le.concat(ve(ke,et)))}),at(_e.children,(ke,et)=>{et!==we&&(le=le.concat(ve(ke,et)))}),le}(_e,(ke,et)=>et===we?[ze(_e.children[we],!1)]:[`${et}:${ze(ke,!1)}`]);return 1===Object.keys(_e.children).length&&null!=_e.children[we]?`${Qe(_e)}/${le[0]}`:`${Qe(_e)}/(${le.join("//")})`}}function Et(_e){return encodeURIComponent(_e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Be(_e){return Et(_e).replace(/%3B/gi,";")}function gn(_e){return Et(_e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qt(_e){return decodeURIComponent(_e)}function Mn(_e){return Qt(_e.replace(/\+/g,"%20"))}function Nt(_e){return`${gn(_e.path)}${function rn(_e){return Object.keys(_e).map(ve=>`;${gn(ve)}=${gn(_e[ve])}`).join("")}(_e.parameters)}`}const Hn=/^[^\/()?;=#]+/;function ai(_e){const ve=_e.match(Hn);return ve?ve[0]:""}const vi=/^[^=?&#]+/,io=/^[^&#]+/;class Ht{constructor(ve){this.url=ve,this.remaining=ve}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){const ve={};if(this.consumeOptional("?"))do{this.parseQueryParam(ve)}while(this.consumeOptional("&"));return ve}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const ve=[];for(this.peekStartsWith("(")||ve.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),ve.push(this.parseSegment());let le={};this.peekStartsWith("/(")&&(this.capture("/"),le=this.parseParens(!0));let ke={};return this.peekStartsWith("(")&&(ke=this.parseParens(!1)),(ve.length>0||Object.keys(le).length>0)&&(ke[we]=new he(ve,le)),ke}parseSegment(){const ve=ai(this.remaining);if(""===ve&&this.peekStartsWith(";"))throw new e.vHH(4009,!1);return this.capture(ve),new gt(Qt(ve),this.parseMatrixParams())}parseMatrixParams(){const ve={};for(;this.consumeOptional(";");)this.parseParam(ve);return ve}parseParam(ve){const le=ai(this.remaining);if(!le)return;this.capture(le);let ke="";if(this.consumeOptional("=")){const et=ai(this.remaining);et&&(ke=et,this.capture(ke))}ve[Qt(le)]=Qt(ke)}parseQueryParam(ve){const le=function Ni(_e){const ve=_e.match(vi);return ve?ve[0]:""}(this.remaining);if(!le)return;this.capture(le);let ke="";if(this.consumeOptional("=")){const Xt=function Ho(_e){const ve=_e.match(io);return ve?ve[0]:""}(this.remaining);Xt&&(ke=Xt,this.capture(ke))}const et=Mn(le),wt=Mn(ke);if(ve.hasOwnProperty(et)){let Xt=ve[et];Array.isArray(Xt)||(Xt=[Xt],ve[et]=Xt),Xt.push(wt)}else ve[et]=wt}parseParens(ve){const le={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const ke=ai(this.remaining),et=this.remaining[ke.length];if("/"!==et&&")"!==et&&";"!==et)throw new e.vHH(4010,!1);let wt;ke.indexOf(":")>-1?(wt=ke.slice(0,ke.indexOf(":")),this.capture(wt),this.capture(":")):ve&&(wt=we);const Xt=this.parseChildren();le[wt]=1===Object.keys(Xt).length?Xt[we]:new he([],Xt),this.consumeOptional("//")}return le}peekStartsWith(ve){return this.remaining.startsWith(ve)}consumeOptional(ve){return!!this.peekStartsWith(ve)&&(this.remaining=this.remaining.substring(ve.length),!0)}capture(ve){if(!this.consumeOptional(ve))throw new e.vHH(4011,!1)}}function Je(_e){return _e.segments.length>0?new he([],{[we]:_e}):_e}function ye(_e){const ve={};for(const ke of Object.keys(_e.children)){const wt=ye(_e.children[ke]);(wt.segments.length>0||wt.hasChildren())&&(ve[ke]=wt)}return function He(_e){if(1===_e.numberOfChildren&&_e.children[we]){const ve=_e.children[we];return new he(_e.segments.concat(ve.segments),ve.children)}return _e}(new he(_e.segments,ve))}function ut(_e){return _e instanceof Fe}function yn(_e,ve,le,ke,et){var wt;if(0===le.length)return pi(ve.root,ve.root,ve.root,ke,et);const sn=function qi(_e){if("string"==typeof _e[0]&&1===_e.length&&"/"===_e[0])return new Di(!0,0,_e);let ve=0,le=!1;const ke=_e.reduce((et,wt,Xt)=>{if("object"==typeof wt&&null!=wt){if(wt.outlets){const sn={};return at(wt.outlets,(wn,oi)=>{sn[oi]="string"==typeof wn?wn.split("/"):wn}),[...et,{outlets:sn}]}if(wt.segmentPath)return[...et,wt.segmentPath]}return"string"!=typeof wt?[...et,wt]:0===Xt?(wt.split("/").forEach((sn,wn)=>{0==wn&&"."===sn||(0==wn&&""===sn?le=!0:".."===sn?ve++:""!=sn&&et.push(sn))}),et):[...et,wt]},[]);return new Di(le,ve,ke)}(le);return sn.toRoot()?pi(ve.root,ve.root,new he([],{}),ke,et):function wn(yi){var di;const Ki=function Co(_e,ve,le,ke){if(_e.isAbsolute)return new Do(ve.root,!0,0);if(-1===ke)return new Do(le,le===ve.root,0);return function Go(_e,ve,le){let ke=_e,et=ve,wt=le;for(;wt>et;){if(wt-=et,ke=ke.parent,!ke)throw new e.vHH(4005,!1);et=ke.segments.length}return new Do(ke,!1,et-wt)}(le,ke+(Wn(_e.commands[0])?0:1),_e.numberOfDoubleDots)}(sn,ve,null===(di=_e.snapshot)||void 0===di?void 0:di._urlSegment,yi),ao=Ki.processChildren?$i(Ki.segmentGroup,Ki.index,sn.commands):xo(Ki.segmentGroup,Ki.index,sn.commands);return pi(ve.root,Ki.segmentGroup,ao,ke,et)}(null===(wt=_e.snapshot)||void 0===wt?void 0:wt._lastPathIndex)}function Wn(_e){return"object"==typeof _e&&null!=_e&&!_e.outlets&&!_e.segmentPath}function ii(_e){return"object"==typeof _e&&null!=_e&&_e.outlets}function pi(_e,ve,le,ke,et){let Xt,wt={};ke&&at(ke,(wn,oi)=>{wt[oi]=Array.isArray(wn)?wn.map(yi=>`${yi}`):`${wn}`}),Xt=_e===ve?le:ti(_e,ve,le);const sn=Je(ye(Xt));return new Fe(sn,wt,et)}function ti(_e,ve,le){const ke={};return at(_e.children,(et,wt)=>{ke[wt]=et===ve?le:ti(et,ve,le)}),new he(_e.segments,ke)}class Di{constructor(ve,le,ke){if(this.isAbsolute=ve,this.numberOfDoubleDots=le,this.commands=ke,ve&&ke.length>0&&Wn(ke[0]))throw new e.vHH(4003,!1);const et=ke.find(ii);if(et&&et!==Ut(ke))throw new e.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Do{constructor(ve,le,ke){this.segmentGroup=ve,this.processChildren=le,this.index=ke}}function xo(_e,ve,le){if(_e||(_e=new he([],{})),0===_e.segments.length&&_e.hasChildren())return $i(_e,ve,le);const ke=function Xo(_e,ve,le){let ke=0,et=ve;const wt={match:!1,pathIndex:0,commandIndex:0};for(;et<_e.segments.length;){if(ke>=le.length)return wt;const Xt=_e.segments[et],sn=le[ke];if(ii(sn))break;const wn=`${sn}`,oi=ke<le.length-1?le[ke+1]:null;if(et>0&&void 0===wn)break;if(wn&&oi&&"object"==typeof oi&&void 0===oi.outlets){if(!oo(wn,oi,Xt))return wt;ke+=2}else{if(!oo(wn,{},Xt))return wt;ke++}et++}return{match:!0,pathIndex:et,commandIndex:ke}}(_e,ve,le),et=le.slice(ke.commandIndex);if(ke.match&&ke.pathIndex<_e.segments.length){const wt=new he(_e.segments.slice(0,ke.pathIndex),{});return wt.children[we]=new he(_e.segments.slice(ke.pathIndex),_e.children),$i(wt,0,et)}return ke.match&&0===et.length?new he(_e.segments,{}):ke.match&&!_e.hasChildren()?rs(_e,ve,le):ke.match?$i(_e,0,et):rs(_e,ve,le)}function $i(_e,ve,le){if(0===le.length)return new he(_e.segments,{});{const ke=function Wo(_e){return ii(_e[0])?_e[0].outlets:{[we]:_e}}(le),et={};return at(ke,(wt,Xt)=>{"string"==typeof wt&&(wt=[wt]),null!==wt&&(et[Xt]=xo(_e.children[Xt],ve,wt))}),at(_e.children,(wt,Xt)=>{void 0===ke[Xt]&&(et[Xt]=wt)}),new he(_e.segments,et)}}function rs(_e,ve,le){const ke=_e.segments.slice(0,ve);let et=0;for(;et<le.length;){const wt=le[et];if(ii(wt)){const wn=os(wt.outlets);return new he(ke,wn)}if(0===et&&Wn(le[0])){ke.push(new gt(_e.segments[ve].path,ho(le[0]))),et++;continue}const Xt=ii(wt)?wt.outlets[we]:`${wt}`,sn=et<le.length-1?le[et+1]:null;Xt&&sn&&Wn(sn)?(ke.push(new gt(Xt,ho(sn))),et+=2):(ke.push(new gt(Xt,{})),et++)}return new he(ke,{})}function os(_e){const ve={};return at(_e,(le,ke)=>{"string"==typeof le&&(le=[le]),null!==le&&(ve[ke]=rs(new he([],{}),0,le))}),ve}function ho(_e){const ve={};return at(_e,(le,ke)=>ve[ke]=`${le}`),ve}function oo(_e,ve,le){return _e==le.path&&vt(ve,le.parameters)}class Bi{constructor(ve,le){this.id=ve,this.url=le}}class Mo extends Bi{constructor(ve,le,ke="imperative",et=null){super(ve,le),this.type=0,this.navigationTrigger=ke,this.restoredState=et}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class es extends Bi{constructor(ve,le,ke){super(ve,le),this.urlAfterRedirects=ke,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vo extends Bi{constructor(ve,le,ke,et){super(ve,le),this.reason=ke,this.code=et,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qo extends Bi{constructor(ve,le,ke,et){super(ve,le),this.error=ke,this.target=et,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ls extends Bi{constructor(ve,le,ke,et){super(ve,le),this.urlAfterRedirects=ke,this.state=et,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ws extends Bi{constructor(ve,le,ke,et){super(ve,le),this.urlAfterRedirects=ke,this.state=et,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rs extends Bi{constructor(ve,le,ke,et,wt){super(ve,le),this.urlAfterRedirects=ke,this.state=et,this.shouldActivate=wt,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class as extends Bi{constructor(ve,le,ke,et){super(ve,le),this.urlAfterRedirects=ke,this.state=et,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cr extends Bi{constructor(ve,le,ke,et){super(ve,le),this.urlAfterRedirects=ke,this.state=et,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ga{constructor(ve){this.route=ve,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vr{constructor(ve){this.route=ve,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class br{constructor(ve){this.snapshot=ve,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Da{constructor(ve){this.snapshot=ve,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gs{constructor(ve){this.snapshot=ve,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class la{constructor(ve){this.snapshot=ve,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ns{constructor(ve,le,ke){this.routerEvent=ve,this.position=le,this.anchor=ke,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Mr{constructor(ve){this._root=ve}get root(){return this._root.value}parent(ve){const le=this.pathFromRoot(ve);return le.length>1?le[le.length-2]:null}children(ve){const le=so(ve,this._root);return le?le.children.map(ke=>ke.value):[]}firstChild(ve){const le=so(ve,this._root);return le&&le.children.length>0?le.children[0].value:null}siblings(ve){const le=si(ve,this._root);return le.length<2?[]:le[le.length-2].children.map(et=>et.value).filter(et=>et!==ve)}pathFromRoot(ve){return si(ve,this._root).map(le=>le.value)}}function so(_e,ve){if(_e===ve.value)return ve;for(const le of ve.children){const ke=so(_e,le);if(ke)return ke}return null}function si(_e,ve){if(_e===ve.value)return[ve];for(const le of ve.children){const ke=si(_e,le);if(ke.length)return ke.unshift(ve),ke}return[]}class Ii{constructor(ve,le){this.value=ve,this.children=le}toString(){return`TreeNode(${this.value})`}}function Ks(_e){const ve={};return _e&&_e.children.forEach(le=>ve[le.value.outlet]=le),ve}class yr extends Mr{constructor(ve,le){super(ve),this.snapshot=le,$s(this,ve)}toString(){return this.snapshot.toString()}}function ss(_e,ve){const le=function Or(_e,ve){const Xt=new fs([],{},{},"",{},we,ve,null,_e.root,-1,{});return new qs("",new Ii(Xt,[]))}(_e,ve),ke=new f.X([new gt("",{})]),et=new f.X({}),wt=new f.X({}),Xt=new f.X({}),sn=new f.X(""),wn=new Zi(ke,et,Xt,sn,wt,we,ve,le.root);return wn.snapshot=le.root,new yr(new Ii(wn,[]),le)}class Zi{constructor(ve,le,ke,et,wt,Xt,sn,wn){var oi,yi;this.url=ve,this.params=le,this.queryParams=ke,this.fragment=et,this.data=wt,this.outlet=Xt,this.component=sn,this.title=null!==(yi=null===(oi=this.data)||void 0===oi?void 0:oi.pipe((0,$.U)(di=>di[Pe])))&&void 0!==yi?yi:(0,u.of)(void 0),this._futureSnapshot=wn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,$.U)(ve=>bt(ve)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,$.U)(ve=>bt(ve)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gs(_e,ve="emptyOnly"){const le=_e.pathFromRoot;let ke=0;if("always"!==ve)for(ke=le.length-1;ke>=1;){const et=le[ke],wt=le[ke-1];if(et.routeConfig&&""===et.routeConfig.path)ke--;else{if(wt.component)break;ke--}}return function Fs(_e){return _e.reduce((ve,le)=>{var ke;return{params:Object.assign(Object.assign({},ve.params),le.params),data:Object.assign(Object.assign({},ve.data),le.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},le.data),ve.resolve),null===(ke=le.routeConfig)||void 0===ke?void 0:ke.data),le._resolvedData)}},{params:{},data:{},resolve:{}})}(le.slice(ke))}class fs{constructor(ve,le,ke,et,wt,Xt,sn,wn,oi,yi,di,Ki){var ao;this.url=ve,this.params=le,this.queryParams=ke,this.fragment=et,this.data=wt,this.outlet=Xt,this.component=sn,this.title=null===(ao=this.data)||void 0===ao?void 0:ao[Pe],this.routeConfig=wn,this._urlSegment=oi,this._lastPathIndex=yi,this._correctedLastPathIndex=null!=Ki?Ki:yi,this._resolve=di}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(ke=>ke.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qs extends Mr{constructor(ve,le){super(le),this.url=ve,$s(this,le)}toString(){return go(this._root)}}function $s(_e,ve){ve.value._routerState=_e,ve.children.forEach(le=>$s(_e,le))}function go(_e){const ve=_e.children.length>0?` { ${_e.children.map(go).join(", ")} } `:"";return`${_e.value}${ve}`}function Cs(_e){if(_e.snapshot){const ve=_e.snapshot,le=_e._futureSnapshot;_e.snapshot=le,vt(ve.queryParams,le.queryParams)||_e.queryParams.next(le.queryParams),ve.fragment!==le.fragment&&_e.fragment.next(le.fragment),vt(ve.params,le.params)||_e.params.next(le.params),function Dt(_e,ve){if(_e.length!==ve.length)return!1;for(let le=0;le<_e.length;++le)if(!vt(_e[le],ve[le]))return!1;return!0}(ve.url,le.url)||_e.url.next(le.url),vt(ve.data,le.data)||_e.data.next(le.data)}else _e.snapshot=_e._futureSnapshot,_e.data.next(_e._futureSnapshot.data)}function ls(_e,ve){const le=vt(_e.params,ve.params)&&function cn(_e,ve){return Tn(_e,ve)&&_e.every((le,ke)=>vt(le.parameters,ve[ke].parameters))}(_e.url,ve.url);return le&&!(!_e.parent!=!ve.parent)&&(!_e.parent||ls(_e.parent,ve.parent))}function bs(_e,ve,le){if(le&&_e.shouldReuseRoute(ve.value,le.value.snapshot)){const ke=le.value;ke._futureSnapshot=ve.value;const et=function ys(_e,ve,le){return ve.children.map(ke=>{for(const et of le.children)if(_e.shouldReuseRoute(ke.value,et.value.snapshot))return bs(_e,ke,et);return bs(_e,ke)})}(_e,ve,le);return new Ii(ke,et)}{if(_e.shouldAttach(ve.value)){const wt=_e.retrieve(ve.value);if(null!==wt){const Xt=wt.route;return Xt.value._futureSnapshot=ve.value,Xt.children=ve.children.map(sn=>bs(_e,sn)),Xt}}const ke=function xr(_e){return new Zi(new f.X(_e.url),new f.X(_e.params),new f.X(_e.queryParams),new f.X(_e.fragment),new f.X(_e.data),_e.outlet,_e.component,_e)}(ve.value),et=ve.children.map(wt=>bs(_e,wt));return new Ii(ke,et)}}const Pr="ngNavigationCancelingError";function Lr(_e,ve){const{redirectTo:le,navigationBehaviorOptions:ke}=ut(ve)?{redirectTo:ve,navigationBehaviorOptions:void 0}:ve,et=ir(!1,0,ve);return et.url=le,et.navigationBehaviorOptions=ke,et}function ir(_e,ve,le){const ke=new Error("NavigationCancelingError: "+(_e||""));return ke[Pr]=!0,ke.cancellationCode=ve,le&&(ke.url=le),ke}function xs(_e){return Yo(_e)&&ut(_e.url)}function Yo(_e){return _e&&_e[Pr]}class Ir{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Tr,this.attachRef=null}}let Tr=(()=>{class _e{constructor(){this.contexts=new Map}onChildOutletCreated(le,ke){const et=this.getOrCreateContext(le);et.outlet=ke,this.contexts.set(le,et)}onChildOutletDestroyed(le){const ke=this.getContext(le);ke&&(ke.outlet=null,ke.attachRef=null)}onOutletDeactivated(){const le=this.contexts;return this.contexts=new Map,le}onOutletReAttached(le){this.contexts=le}getOrCreateContext(le){let ke=this.getContext(le);return ke||(ke=new Ir,this.contexts.set(le,ke)),ke}getContext(le){return this.contexts.get(le)||null}}return _e.\u0275fac=function(le){return new(le||_e)},_e.\u0275prov=e.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();const At=!1;let pn=(()=>{class _e{constructor(le,ke,et,wt,Xt){this.parentContexts=le,this.location=ke,this.changeDetector=wt,this.environmentInjector=Xt,this.activated=null,this._activatedRoute=null,this.activateEvents=new e.vpe,this.deactivateEvents=new e.vpe,this.attachEvents=new e.vpe,this.detachEvents=new e.vpe,this.name=et||we,le.onChildOutletCreated(this.name,this)}ngOnDestroy(){var le;(null===(le=this.parentContexts.getContext(this.name))||void 0===le?void 0:le.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const le=this.parentContexts.getContext(this.name);le&&le.route&&(le.attachRef?this.attach(le.attachRef,le.route):this.activateWith(le.route,le.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.vHH(4012,At);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.vHH(4012,At);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.vHH(4012,At);this.location.detach();const le=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(le.instance),le}attach(le,ke){this.activated=le,this._activatedRoute=ke,this.location.insert(le.hostView),this.attachEvents.emit(le.instance)}deactivate(){if(this.activated){const le=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(le)}}activateWith(le,ke){if(this.isActivated)throw new e.vHH(4013,At);this._activatedRoute=le;const et=this.location,Xt=le._futureSnapshot.component,sn=this.parentContexts.getOrCreateContext(this.name).children,wn=new oe(le,sn,et.injector);if(ke&&function Le(_e){return!!_e.resolveComponentFactory}(ke)){const oi=ke.resolveComponentFactory(Xt);this.activated=et.createComponent(oi,et.length,wn)}else this.activated=et.createComponent(Xt,{index:et.length,injector:wn,environmentInjector:null!=ke?ke:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return _e.\u0275fac=function(le){return new(le||_e)(e.Y36(Tr),e.Y36(e.s_b),e.$8M("name"),e.Y36(e.sBO),e.Y36(e.lqb))},_e.\u0275dir=e.lG2({type:_e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),_e})();class oe{constructor(ve,le,ke){this.route=ve,this.childContexts=le,this.parent=ke}get(ve,le){return ve===Zi?this.route:ve===Tr?this.childContexts:this.parent.get(ve,le)}}let xt=(()=>{class _e{}return _e.\u0275fac=function(le){return new(le||_e)},_e.\u0275cmp=e.Xpm({type:_e,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(le,ke){1&le&&e._UZ(0,"router-outlet")},dependencies:[pn],encapsulation:2}),_e})();function Vt(_e,ve){var le;return _e.providers&&!_e._injector&&(_e._injector=(0,e.MMx)(_e.providers,ve,`Route: ${_e.path}`)),null!==(le=_e._injector)&&void 0!==le?le:ve}function Ar(_e){const ve=_e.children&&_e.children.map(Ar),le=ve?Object.assign(Object.assign({},_e),{children:ve}):Object.assign({},_e);return!le.component&&!le.loadComponent&&(ve||le.loadChildren)&&le.outlet&&le.outlet!==we&&(le.component=xt),le}function Io(_e){return _e.outlet||we}function Eo(_e,ve){const le=_e.filter(ke=>Io(ke)===ve);return le.push(..._e.filter(ke=>Io(ke)!==ve)),le}function Es(_e){var ve;if(!_e)return null;if(null!==(ve=_e.routeConfig)&&void 0!==ve&&ve._injector)return _e.routeConfig._injector;for(let le=_e.parent;le;le=le.parent){const ke=le.routeConfig;if(null!=ke&&ke._loadedInjector)return ke._loadedInjector;if(null!=ke&&ke._injector)return ke._injector}return null}class $o{constructor(ve,le,ke,et){this.routeReuseStrategy=ve,this.futureState=le,this.currState=ke,this.forwardEvent=et}activate(ve){const le=this.futureState._root,ke=this.currState?this.currState._root:null;this.deactivateChildRoutes(le,ke,ve),Cs(this.futureState.root),this.activateChildRoutes(le,ke,ve)}deactivateChildRoutes(ve,le,ke){const et=Ks(le);ve.children.forEach(wt=>{const Xt=wt.value.outlet;this.deactivateRoutes(wt,et[Xt],ke),delete et[Xt]}),at(et,(wt,Xt)=>{this.deactivateRouteAndItsChildren(wt,ke)})}deactivateRoutes(ve,le,ke){const et=ve.value,wt=le?le.value:null;if(et===wt)if(et.component){const Xt=ke.getContext(et.outlet);Xt&&this.deactivateChildRoutes(ve,le,Xt.children)}else this.deactivateChildRoutes(ve,le,ke);else wt&&this.deactivateRouteAndItsChildren(le,ke)}deactivateRouteAndItsChildren(ve,le){ve.value.component&&this.routeReuseStrategy.shouldDetach(ve.value.snapshot)?this.detachAndStoreRouteSubtree(ve,le):this.deactivateRouteAndOutlet(ve,le)}detachAndStoreRouteSubtree(ve,le){const ke=le.getContext(ve.value.outlet),et=ke&&ve.value.component?ke.children:le,wt=Ks(ve);for(const Xt of Object.keys(wt))this.deactivateRouteAndItsChildren(wt[Xt],et);if(ke&&ke.outlet){const Xt=ke.outlet.detach(),sn=ke.children.onOutletDeactivated();this.routeReuseStrategy.store(ve.value.snapshot,{componentRef:Xt,route:ve,contexts:sn})}}deactivateRouteAndOutlet(ve,le){const ke=le.getContext(ve.value.outlet),et=ke&&ve.value.component?ke.children:le,wt=Ks(ve);for(const Xt of Object.keys(wt))this.deactivateRouteAndItsChildren(wt[Xt],et);ke&&ke.outlet&&(ke.outlet.deactivate(),ke.children.onOutletDeactivated(),ke.attachRef=null,ke.resolver=null,ke.route=null)}activateChildRoutes(ve,le,ke){const et=Ks(le);ve.children.forEach(wt=>{this.activateRoutes(wt,et[wt.value.outlet],ke),this.forwardEvent(new la(wt.value.snapshot))}),ve.children.length&&this.forwardEvent(new Da(ve.value.snapshot))}activateRoutes(ve,le,ke){var et;const wt=ve.value,Xt=le?le.value:null;if(Cs(wt),wt===Xt)if(wt.component){const sn=ke.getOrCreateContext(wt.outlet);this.activateChildRoutes(ve,le,sn.children)}else this.activateChildRoutes(ve,le,ke);else if(wt.component){const sn=ke.getOrCreateContext(wt.outlet);if(this.routeReuseStrategy.shouldAttach(wt.snapshot)){const wn=this.routeReuseStrategy.retrieve(wt.snapshot);this.routeReuseStrategy.store(wt.snapshot,null),sn.children.onOutletReAttached(wn.contexts),sn.attachRef=wn.componentRef,sn.route=wn.route.value,sn.outlet&&sn.outlet.attach(wn.componentRef,wn.route.value),Cs(wn.route.value),this.activateChildRoutes(ve,null,sn.children)}else{const wn=Es(wt.snapshot),oi=null!==(et=null==wn?void 0:wn.get(e._Vd))&&void 0!==et?et:null;sn.attachRef=null,sn.route=wt,sn.resolver=oi,sn.injector=wn,sn.outlet&&sn.outlet.activateWith(wt,sn.injector),this.activateChildRoutes(ve,null,sn.children)}}else this.activateChildRoutes(ve,null,ke)}}class Fo{constructor(ve){this.path=ve,this.route=this.path[this.path.length-1]}}class or{constructor(ve,le){this.component=ve,this.route=le}}function Vo(_e,ve,le){const ke=_e._root;return sr(ke,ve?ve._root:null,le,[ke.value])}function Ri(_e,ve){const le=Symbol(),ke=ve.get(_e,le);return ke===le?"function"!=typeof _e||(0,e.Z0I)(_e)?ve.get(_e):_e:ke}function sr(_e,ve,le,ke,et={canDeactivateChecks:[],canActivateChecks:[]}){const wt=Ks(ve);return _e.children.forEach(Xt=>{(function fa(_e,ve,le,ke,et={canDeactivateChecks:[],canActivateChecks:[]}){const wt=_e.value,Xt=ve?ve.value:null,sn=le?le.getContext(_e.value.outlet):null;if(Xt&&wt.routeConfig===Xt.routeConfig){const wn=function Qn(_e,ve,le){if("function"==typeof le)return le(_e,ve);switch(le){case"pathParamsChange":return!Tn(_e.url,ve.url);case"pathParamsOrQueryParamsChange":return!Tn(_e.url,ve.url)||!vt(_e.queryParams,ve.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ls(_e,ve)||!vt(_e.queryParams,ve.queryParams);default:return!ls(_e,ve)}}(Xt,wt,wt.routeConfig.runGuardsAndResolvers);wn?et.canActivateChecks.push(new Fo(ke)):(wt.data=Xt.data,wt._resolvedData=Xt._resolvedData),sr(_e,ve,wt.component?sn?sn.children:null:le,ke,et),wn&&sn&&sn.outlet&&sn.outlet.isActivated&&et.canDeactivateChecks.push(new or(sn.outlet.component,Xt))}else Xt&&Oi(ve,sn,et),et.canActivateChecks.push(new Fo(ke)),sr(_e,null,wt.component?sn?sn.children:null:le,ke,et)})(Xt,wt[Xt.value.outlet],le,ke.concat([Xt.value]),et),delete wt[Xt.value.outlet]}),at(wt,(Xt,sn)=>Oi(Xt,le.getContext(sn),et)),et}function Oi(_e,ve,le){const ke=Ks(_e),et=_e.value;at(ke,(wt,Xt)=>{Oi(wt,et.component?ve?ve.children.getContext(Xt):null:ve,le)}),le.canDeactivateChecks.push(new or(et.component&&ve&&ve.outlet&&ve.outlet.isActivated?ve.outlet.component:null,et))}function rr(_e){return"function"==typeof _e}function jr(_e){return _e instanceof _.K||"EmptyError"===(null==_e?void 0:_e.name)}const nt=Symbol("INITIAL_VALUE");function Ze(){return(0,z.w)(_e=>(0,P.a)(_e.map(ve=>ve.pipe((0,S.q)(1),(0,O.O)(nt)))).pipe((0,$.U)(ve=>{for(const le of ve)if(!0!==le){if(le===nt)return nt;if(!1===le||le instanceof Fe)return le}return!0}),(0,K.h)(ve=>ve!==nt),(0,S.q)(1)))}function lr(_e){return(0,R.z)((0,j.b)(ve=>{if(ut(ve))throw Lr(0,ve)}),(0,$.U)(ve=>!0===ve))}const Er={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Rr(_e,ve,le,ke,et){const wt=Xs(_e,ve,le);return wt.matched?function wr(_e,ve,le,ke){const et=ve.canMatch;if(!et||0===et.length)return(0,u.of)(!0);const wt=et.map(Xt=>{const sn=Ri(Xt,_e);return me(function ca(_e){return _e&&rr(_e.canMatch)}(sn)?sn.canMatch(ve,le):_e.runInContext(()=>sn(ve,le)))});return(0,u.of)(wt).pipe(Ze(),lr())}(ke=Vt(ve,ke),ve,le).pipe((0,$.U)(Xt=>!0===Xt?wt:Object.assign({},Er))):(0,u.of)(wt)}function Xs(_e,ve,le){var ke;if(""===ve.path)return"full"===ve.pathMatch&&(_e.hasChildren()||le.length>0)?Object.assign({},Er):{matched:!0,consumedSegments:[],remainingSegments:le,parameters:{},positionalParamSegments:{}};const wt=(ve.matcher||it)(le,_e,ve);if(!wt)return Object.assign({},Er);const Xt={};at(wt.posParams,(wn,oi)=>{Xt[oi]=wn.path});const sn=wt.consumed.length>0?Object.assign(Object.assign({},Xt),wt.consumed[wt.consumed.length-1].parameters):Xt;return{matched:!0,consumedSegments:wt.consumed,remainingSegments:le.slice(wt.consumed.length),parameters:sn,positionalParamSegments:null!==(ke=wt.posParams)&&void 0!==ke?ke:{}}}function Nr(_e,ve,le,ke,et="corrected"){if(le.length>0&&function Fa(_e,ve,le){return le.some(ke=>Oe(_e,ve,ke)&&Io(ke)!==we)}(_e,le,ke)){const Xt=new he(ve,function ma(_e,ve,le,ke){const et={};et[we]=ke,ke._sourceSegment=_e,ke._segmentIndexShift=ve.length;for(const wt of le)if(""===wt.path&&Io(wt)!==we){const Xt=new he([],{});Xt._sourceSegment=_e,Xt._segmentIndexShift=ve.length,et[Io(wt)]=Xt}return et}(_e,ve,ke,new he(le,_e.children)));return Xt._sourceSegment=_e,Xt._segmentIndexShift=ve.length,{segmentGroup:Xt,slicedSegments:[]}}if(0===le.length&&function Xa(_e,ve,le){return le.some(ke=>Oe(_e,ve,ke))}(_e,le,ke)){const Xt=new he(_e.segments,function cr(_e,ve,le,ke,et,wt){const Xt={};for(const sn of ke)if(Oe(_e,le,sn)&&!et[Io(sn)]){const wn=new he([],{});wn._sourceSegment=_e,wn._segmentIndexShift="legacy"===wt?_e.segments.length:ve.length,Xt[Io(sn)]=wn}return Object.assign(Object.assign({},et),Xt)}(_e,ve,le,ke,_e.children,et));return Xt._sourceSegment=_e,Xt._segmentIndexShift=ve.length,{segmentGroup:Xt,slicedSegments:le}}const wt=new he(_e.segments,_e.children);return wt._sourceSegment=_e,wt._segmentIndexShift=ve.length,{segmentGroup:wt,slicedSegments:le}}function Oe(_e,ve,le){return(!(_e.hasChildren()||ve.length>0)||"full"!==le.pathMatch)&&""===le.path}function pt(_e,ve,le,ke){return!!(Io(_e)===ke||ke!==we&&Oe(ve,le,_e))&&("**"===_e.path||Xs(ve,_e,le).matched)}function Ve(_e,ve,le){return 0===ve.length&&!_e.children[le]}const St=!1;class on{constructor(ve){this.segmentGroup=ve||null}}class Dn{constructor(ve){this.urlTree=ve}}function Nn(_e){return(0,L._)(new on(_e))}function ui(_e){return(0,L._)(new Dn(_e))}class ji{constructor(ve,le,ke,et,wt){this.injector=ve,this.configLoader=le,this.urlSerializer=ke,this.urlTree=et,this.config=wt,this.allowRedirects=!0}apply(){const ve=Nr(this.urlTree.root,[],[],this.config).segmentGroup,le=new he(ve.segments,ve.children);return this.expandSegmentGroup(this.injector,this.config,le,we).pipe((0,$.U)(wt=>this.createUrlTree(ye(wt),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,fe.K)(wt=>{if(wt instanceof Dn)return this.allowRedirects=!1,this.match(wt.urlTree);throw wt instanceof on?this.noMatchError(wt):wt}))}match(ve){return this.expandSegmentGroup(this.injector,this.config,ve.root,we).pipe((0,$.U)(et=>this.createUrlTree(ye(et),ve.queryParams,ve.fragment))).pipe((0,fe.K)(et=>{throw et instanceof on?this.noMatchError(et):et}))}noMatchError(ve){return new e.vHH(4002,St)}createUrlTree(ve,le,ke){const et=Je(ve);return new Fe(et,le,ke)}expandSegmentGroup(ve,le,ke,et){return 0===ke.segments.length&&ke.hasChildren()?this.expandChildren(ve,le,ke).pipe((0,$.U)(wt=>new he([],wt))):this.expandSegment(ve,ke,le,ke.segments,et,!0)}expandChildren(ve,le,ke){const et=[];for(const wt of Object.keys(ke.children))"primary"===wt?et.unshift(wt):et.push(wt);return(0,d.D)(et).pipe((0,G.b)(wt=>{const Xt=ke.children[wt],sn=Eo(le,wt);return this.expandSegmentGroup(ve,sn,Xt,wt).pipe((0,$.U)(wn=>({segment:wn,outlet:wt})))}),J((wt,Xt)=>(wt[Xt.outlet]=Xt.segment,wt),{}),Ae())}expandSegment(ve,le,ke,et,wt,Xt){return(0,d.D)(ke).pipe((0,G.b)(sn=>this.expandSegmentAgainstRoute(ve,le,ke,sn,et,wt,Xt).pipe((0,fe.K)(oi=>{if(oi instanceof on)return(0,u.of)(null);throw oi}))),(0,q.P)(sn=>!!sn),(0,fe.K)((sn,wn)=>{if(jr(sn))return Ve(le,et,wt)?(0,u.of)(new he([],{})):Nn(le);throw sn}))}expandSegmentAgainstRoute(ve,le,ke,et,wt,Xt,sn){return pt(et,le,wt,Xt)?void 0===et.redirectTo?this.matchSegmentAgainstRoute(ve,le,et,wt,Xt):sn&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(ve,le,ke,et,wt,Xt):Nn(le):Nn(le)}expandSegmentAgainstRouteUsingRedirect(ve,le,ke,et,wt,Xt){return"**"===et.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(ve,ke,et,Xt):this.expandRegularSegmentAgainstRouteUsingRedirect(ve,le,ke,et,wt,Xt)}expandWildCardWithParamsAgainstRouteUsingRedirect(ve,le,ke,et){const wt=this.applyRedirectCommands([],ke.redirectTo,{});return ke.redirectTo.startsWith("/")?ui(wt):this.lineralizeSegments(ke,wt).pipe((0,ue.z)(Xt=>{const sn=new he(Xt,{});return this.expandSegment(ve,sn,le,Xt,et,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(ve,le,ke,et,wt,Xt){const{matched:sn,consumedSegments:wn,remainingSegments:oi,positionalParamSegments:yi}=Xs(le,et,wt);if(!sn)return Nn(le);const di=this.applyRedirectCommands(wn,et.redirectTo,yi);return et.redirectTo.startsWith("/")?ui(di):this.lineralizeSegments(et,di).pipe((0,ue.z)(Ki=>this.expandSegment(ve,le,ke,Ki.concat(oi),Xt,!1)))}matchSegmentAgainstRoute(ve,le,ke,et,wt){return"**"===ke.path?(ve=Vt(ke,ve),ke.loadChildren?(ke._loadedRoutes?(0,u.of)({routes:ke._loadedRoutes,injector:ke._loadedInjector}):this.configLoader.loadChildren(ve,ke)).pipe((0,$.U)(sn=>(ke._loadedRoutes=sn.routes,ke._loadedInjector=sn.injector,new he(et,{})))):(0,u.of)(new he(et,{}))):Rr(le,ke,et,ve).pipe((0,z.w)(({matched:Xt,consumedSegments:sn,remainingSegments:wn})=>{var oi;return Xt?(ve=null!==(oi=ke._injector)&&void 0!==oi?oi:ve,this.getChildConfig(ve,ke,et).pipe((0,ue.z)(di=>{var Ki;const ao=null!==(Ki=di.injector)&&void 0!==Ki?Ki:ve,Vs=di.routes,{segmentGroup:Hr,slicedSegments:Vr}=Nr(le,sn,wn,Vs),ia=new he(Hr.segments,Hr.children);if(0===Vr.length&&ia.hasChildren())return this.expandChildren(ao,Vs,ia).pipe((0,$.U)(oc=>new he(sn,oc)));if(0===Vs.length&&0===Vr.length)return(0,u.of)(new he(sn,{}));const ua=Io(ke)===wt;return this.expandSegment(ao,ia,Vs,Vr,ua?we:wt,!0).pipe((0,$.U)(gr=>new he(sn.concat(gr.segments),gr.children)))}))):Nn(le)}))}getChildConfig(ve,le,ke){return le.children?(0,u.of)({routes:le.children,injector:ve}):le.loadChildren?void 0!==le._loadedRoutes?(0,u.of)({routes:le._loadedRoutes,injector:le._loadedInjector}):function Ws(_e,ve,le,ke){const et=ve.canLoad;if(void 0===et||0===et.length)return(0,u.of)(!0);const wt=et.map(Xt=>{const sn=Ri(Xt,_e);return me(function Xi(_e){return _e&&rr(_e.canLoad)}(sn)?sn.canLoad(ve,le):_e.runInContext(()=>sn(ve,le)))});return(0,u.of)(wt).pipe(Ze(),lr())}(ve,le,ke).pipe((0,ue.z)(et=>et?this.configLoader.loadChildren(ve,le).pipe((0,j.b)(wt=>{le._loadedRoutes=wt.routes,le._loadedInjector=wt.injector})):function uo(_e){return(0,L._)(ir(St,3))}())):(0,u.of)({routes:[],injector:ve})}lineralizeSegments(ve,le){let ke=[],et=le.root;for(;;){if(ke=ke.concat(et.segments),0===et.numberOfChildren)return(0,u.of)(ke);if(et.numberOfChildren>1||!et.children[we])return(0,L._)(new e.vHH(4e3,St));et=et.children[we]}}applyRedirectCommands(ve,le,ke){return this.applyRedirectCreateUrlTree(le,this.urlSerializer.parse(le),ve,ke)}applyRedirectCreateUrlTree(ve,le,ke,et){const wt=this.createSegmentGroup(ve,le.root,ke,et);return new Fe(wt,this.createQueryParams(le.queryParams,this.urlTree.queryParams),le.fragment)}createQueryParams(ve,le){const ke={};return at(ve,(et,wt)=>{if("string"==typeof et&&et.startsWith(":")){const sn=et.substring(1);ke[wt]=le[sn]}else ke[wt]=et}),ke}createSegmentGroup(ve,le,ke,et){const wt=this.createSegments(ve,le.segments,ke,et);let Xt={};return at(le.children,(sn,wn)=>{Xt[wn]=this.createSegmentGroup(ve,sn,ke,et)}),new he(wt,Xt)}createSegments(ve,le,ke,et){return le.map(wt=>wt.path.startsWith(":")?this.findPosParam(ve,wt,et):this.findOrReturn(wt,ke))}findPosParam(ve,le,ke){const et=ke[le.path.substring(1)];if(!et)throw new e.vHH(4001,St);return et}findOrReturn(ve,le){let ke=0;for(const et of le){if(et.path===ve.path)return le.splice(ke),et;ke++}return ve}}class yo{}class ds{constructor(ve,le,ke,et,wt,Xt,sn,wn){this.injector=ve,this.rootComponentType=le,this.config=ke,this.urlTree=et,this.url=wt,this.paramsInheritanceStrategy=Xt,this.relativeLinkResolution=sn,this.urlSerializer=wn}recognize(){const ve=Nr(this.urlTree.root,[],[],this.config.filter(le=>void 0===le.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,ve,we).pipe((0,$.U)(le=>{if(null===le)return null;const ke=new fs([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},we,this.rootComponentType,null,this.urlTree.root,-1,{}),et=new Ii(ke,le),wt=new qs(this.url,et);return this.inheritParamsAndData(wt._root),wt}))}inheritParamsAndData(ve){const le=ve.value,ke=Gs(le,this.paramsInheritanceStrategy);le.params=Object.freeze(ke.params),le.data=Object.freeze(ke.data),ve.children.forEach(et=>this.inheritParamsAndData(et))}processSegmentGroup(ve,le,ke,et){return 0===ke.segments.length&&ke.hasChildren()?this.processChildren(ve,le,ke):this.processSegment(ve,le,ke,ke.segments,et)}processChildren(ve,le,ke){return(0,d.D)(Object.keys(ke.children)).pipe((0,G.b)(et=>{const wt=ke.children[et],Xt=Eo(le,et);return this.processSegmentGroup(ve,Xt,wt,et)}),J((et,wt)=>et&&wt?(et.push(...wt),et):null),(0,Ke.o)(et=>null!==et),(0,Y.d)(null),Ae(),(0,$.U)(et=>{if(null===et)return null;const wt=pe(et);return function ur(_e){_e.sort((ve,le)=>ve.value.outlet===we?-1:le.value.outlet===we?1:ve.value.outlet.localeCompare(le.value.outlet))}(wt),wt}))}processSegment(ve,le,ke,et,wt){return(0,d.D)(le).pipe((0,G.b)(Xt=>{var sn;return this.processSegmentAgainstRoute(null!==(sn=Xt._injector)&&void 0!==sn?sn:ve,Xt,ke,et,wt)}),(0,q.P)(Xt=>!!Xt),(0,fe.K)(Xt=>{if(jr(Xt))return Ve(ke,et,wt)?(0,u.of)([]):(0,u.of)(null);throw Xt}))}processSegmentAgainstRoute(ve,le,ke,et,wt){var Xt,sn;if(le.redirectTo||!pt(le,ke,et,wt))return(0,u.of)(null);let wn;if("**"===le.path){const oi=et.length>0?Ut(et).parameters:{},yi=Jt(ke)+et.length,di=new fs(et,oi,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_n(le),Io(le),null!==(sn=null!==(Xt=le.component)&&void 0!==Xt?Xt:le._loadedComponent)&&void 0!==sn?sn:null,le,yt(ke),yi,En(le),yi);wn=(0,u.of)({snapshot:di,consumedSegments:[],remainingSegments:[]})}else wn=Rr(ke,le,et,ve).pipe((0,$.U)(({matched:oi,consumedSegments:yi,remainingSegments:di,parameters:Ki})=>{var ao,Vs;if(!oi)return null;const Hr=Jt(ke)+yi.length;return{snapshot:new fs(yi,Ki,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_n(le),Io(le),null!==(Vs=null!==(ao=le.component)&&void 0!==ao?ao:le._loadedComponent)&&void 0!==Vs?Vs:null,le,yt(ke),Hr,En(le),Hr),consumedSegments:yi,remainingSegments:di}}));return wn.pipe((0,z.w)(oi=>{var yi,di;if(null===oi)return(0,u.of)(null);const{snapshot:Ki,consumedSegments:ao,remainingSegments:Vs}=oi;ve=null!==(yi=le._injector)&&void 0!==yi?yi:ve;const Hr=null!==(di=le._loadedInjector)&&void 0!==di?di:ve,Vr=function ft(_e){return _e.children?_e.children:_e.loadChildren?_e._loadedRoutes:[]}(le),{segmentGroup:ia,slicedSegments:ua}=Nr(ke,ao,Vs,Vr.filter(gr=>void 0===gr.redirectTo),this.relativeLinkResolution);if(0===ua.length&&ia.hasChildren())return this.processChildren(Hr,Vr,ia).pipe((0,$.U)(gr=>null===gr?null:[new Ii(Ki,gr)]));if(0===Vr.length&&0===ua.length)return(0,u.of)([new Ii(Ki,[])]);const ic=Io(le)===wt;return this.processSegment(Hr,Vr,ia,ua,ic?we:wt).pipe((0,$.U)(gr=>null===gr?null:[new Ii(Ki,gr)]))}))}}function ae(_e){const ve=_e.value.routeConfig;return ve&&""===ve.path&&void 0===ve.redirectTo}function pe(_e){const ve=[],le=new Set;for(const ke of _e){if(!ae(ke)){ve.push(ke);continue}const et=ve.find(wt=>ke.value.routeConfig===wt.value.routeConfig);void 0!==et?(et.children.push(...ke.children),le.add(et)):ve.push(ke)}for(const ke of le){const et=pe(ke.children);ve.push(new Ii(ke.value,et))}return ve.filter(ke=>!le.has(ke))}function yt(_e){let ve=_e;for(;ve._sourceSegment;)ve=ve._sourceSegment;return ve}function Jt(_e){var ve,le;let ke=_e,et=null!==(ve=ke._segmentIndexShift)&&void 0!==ve?ve:0;for(;ke._sourceSegment;)ke=ke._sourceSegment,et+=null!==(le=ke._segmentIndexShift)&&void 0!==le?le:0;return et-1}function _n(_e){return _e.data||{}}function En(_e){return _e.resolve||{}}function an(_e){return"string"==typeof _e.title||null===_e.title}function An(_e){return(0,z.w)(ve=>{const le=_e(ve);return le?(0,d.D)(le).pipe((0,$.U)(()=>ve)):(0,u.of)(ve)})}let On=(()=>{class _e{buildTitle(le){var ke;let et,wt=le.root;for(;void 0!==wt;)et=null!==(ke=this.getResolvedTitleForRoute(wt))&&void 0!==ke?ke:et,wt=wt.children.find(Xt=>Xt.outlet===we);return et}getResolvedTitleForRoute(le){return le.data[Pe]}}return _e.\u0275fac=function(le){return new(le||_e)},_e.\u0275prov=e.Yz7({token:_e,factory:function(){return(0,e.f3M)($n)},providedIn:"root"}),_e})(),$n=(()=>{class _e extends On{constructor(le){super(),this.title=le}updateTitle(le){const ke=this.buildTitle(le);void 0!==ke&&this.title.setTitle(ke)}}return _e.\u0275fac=function(le){return new(le||_e)(e.LFG(xe.Dx))},_e.\u0275prov=e.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();class Ai{}class zo extends class Wi{shouldDetach(ve){return!1}store(ve,le){}shouldAttach(ve){return!1}retrieve(ve){return null}shouldReuseRoute(ve,le){return ve.routeConfig===le.routeConfig}}{}const fo=new e.OlP("",{providedIn:"root",factory:()=>({})}),Lo=new e.OlP("ROUTES");let dr=(()=>{class _e{constructor(le,ke){this.injector=le,this.compiler=ke,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(le){if(this.componentLoaders.get(le))return this.componentLoaders.get(le);if(le._loadedComponent)return(0,u.of)(le._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(le);const ke=me(le.loadComponent()).pipe((0,j.b)(wt=>{this.onLoadEndListener&&this.onLoadEndListener(le),le._loadedComponent=wt}),(0,Ge.x)(()=>{this.componentLoaders.delete(le)})),et=new B(ke,()=>new N.x).pipe(k());return this.componentLoaders.set(le,et),et}loadChildren(le,ke){if(this.childrenLoaders.get(ke))return this.childrenLoaders.get(ke);if(ke._loadedRoutes)return(0,u.of)({routes:ke._loadedRoutes,injector:ke._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(ke);const wt=this.loadModuleFactoryOrRoutes(ke.loadChildren).pipe((0,$.U)(sn=>{this.onLoadEndListener&&this.onLoadEndListener(ke);let wn,oi,yi=!1;Array.isArray(sn)?oi=sn:(wn=sn.create(le).injector,oi=zt(wn.get(Lo,[],e.XFs.Self|e.XFs.Optional)));return{routes:oi.map(Ar),injector:wn}}),(0,Ge.x)(()=>{this.childrenLoaders.delete(ke)})),Xt=new B(wt,()=>new N.x).pipe(k());return this.childrenLoaders.set(ke,Xt),Xt}loadModuleFactoryOrRoutes(le){return me(le()).pipe((0,ue.z)(ke=>ke instanceof e.YKP||Array.isArray(ke)?(0,u.of)(ke):(0,d.D)(this.compiler.compileModuleAsync(ke))))}}return _e.\u0275fac=function(le){return new(le||_e)(e.LFG(e.zs3),e.LFG(e.Sil))},_e.\u0275prov=e.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();class Kr{}class Fr{shouldProcessUrl(ve){return!0}extract(ve){return ve}merge(ve,le){return ve}}function Ma(_e){throw _e}function xi(_e,ve,le){return ve.parse("/")}const wi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Pi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Qo(){var _e,ve;const le=(0,e.f3M)(_t),ke=(0,e.f3M)(Tr),et=(0,e.f3M)(ce.Ye),wt=(0,e.f3M)(e.zs3),Xt=(0,e.f3M)(e.Sil),sn=null!==(_e=(0,e.f3M)(Lo,{optional:!0}))&&void 0!==_e?_e:[],wn=null!==(ve=(0,e.f3M)(fo,{optional:!0}))&&void 0!==ve?ve:{},oi=(0,e.f3M)($n),yi=(0,e.f3M)(On,{optional:!0}),di=(0,e.f3M)(Kr,{optional:!0}),Ki=(0,e.f3M)(Ai,{optional:!0}),ao=new Ro(null,le,ke,et,wt,Xt,zt(sn));return di&&(ao.urlHandlingStrategy=di),Ki&&(ao.routeReuseStrategy=Ki),ao.titleStrategy=null!=yi?yi:oi,function to(_e,ve){_e.errorHandler&&(ve.errorHandler=_e.errorHandler),_e.malformedUriErrorHandler&&(ve.malformedUriErrorHandler=_e.malformedUriErrorHandler),_e.onSameUrlNavigation&&(ve.onSameUrlNavigation=_e.onSameUrlNavigation),_e.paramsInheritanceStrategy&&(ve.paramsInheritanceStrategy=_e.paramsInheritanceStrategy),_e.relativeLinkResolution&&(ve.relativeLinkResolution=_e.relativeLinkResolution),_e.urlUpdateStrategy&&(ve.urlUpdateStrategy=_e.urlUpdateStrategy),_e.canceledNavigationResolution&&(ve.canceledNavigationResolution=_e.canceledNavigationResolution)}(wn,ao),ao}let Ro=(()=>{class _e{constructor(le,ke,et,wt,Xt,sn,wn){this.rootComponentType=le,this.urlSerializer=ke,this.rootContexts=et,this.location=wt,this.config=wn,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new N.x,this.errorHandler=Ma,this.malformedUriErrorHandler=xi,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,u.of)(void 0),this.urlHandlingStrategy=new Fr,this.routeReuseStrategy=new zo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=Xt.get(dr),this.configLoader.onLoadEndListener=Ki=>this.triggerEvent(new vr(Ki)),this.configLoader.onLoadStartListener=Ki=>this.triggerEvent(new ga(Ki)),this.ngModule=Xt.get(e.h0i),this.console=Xt.get(e.c2e);const di=Xt.get(e.R0b);this.isNgZoneEnabled=di instanceof e.R0b&&e.R0b.isInAngularZone(),this.resetConfig(wn),this.currentUrlTree=function ot(){return new Fe(new he([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ss(this.currentUrlTree,this.rootComponentType),this.transitions=new f.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var le;return null===(le=this.location.getState())||void 0===le?void 0:le.\u0275routerPageId}setupNavigations(le){const ke=this.events;return le.pipe((0,K.h)(et=>0!==et.id),(0,$.U)(et=>Object.assign(Object.assign({},et),{extractedUrl:this.urlHandlingStrategy.extract(et.rawUrl)})),(0,z.w)(et=>{let wt=!1,Xt=!1;return(0,u.of)(et).pipe((0,j.b)(sn=>{this.currentNavigation={id:sn.id,initialUrl:sn.rawUrl,extractedUrl:sn.extractedUrl,trigger:sn.source,extras:sn.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,z.w)(sn=>{const wn=this.browserUrlTree.toString(),oi=!this.navigated||sn.extractedUrl.toString()!==wn||wn!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||oi)&&this.urlHandlingStrategy.shouldProcessUrl(sn.rawUrl))return pr(sn.source)&&(this.browserUrlTree=sn.extractedUrl),(0,u.of)(sn).pipe((0,z.w)(di=>{const Ki=this.transitions.getValue();return ke.next(new Mo(di.id,this.serializeUrl(di.extractedUrl),di.source,di.restoredState)),Ki!==this.transitions.getValue()?F.E:Promise.resolve(di)}),function _o(_e,ve,le,ke){return(0,z.w)(et=>function mo(_e,ve,le,ke,et){return new ji(_e,ve,le,ke,et).apply()}(_e,ve,le,et.extractedUrl,ke).pipe((0,$.U)(wt=>Object.assign(Object.assign({},et),{urlAfterRedirects:wt}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,j.b)(di=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:di.urlAfterRedirects}),et.urlAfterRedirects=di.urlAfterRedirects}),function Vn(_e,ve,le,ke,et,wt){return(0,ue.z)(Xt=>function Zs(_e,ve,le,ke,et,wt,Xt="emptyOnly",sn="legacy"){return new ds(_e,ve,le,ke,et,Xt,sn,wt).recognize().pipe((0,z.w)(wn=>null===wn?function jo(_e){return new V.y(ve=>ve.error(_e))}(new yo):(0,u.of)(wn)))}(_e,ve,le,Xt.urlAfterRedirects,ke.serialize(Xt.urlAfterRedirects),ke,et,wt).pipe((0,$.U)(sn=>Object.assign(Object.assign({},Xt),{targetSnapshot:sn}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,j.b)(di=>{if(et.targetSnapshot=di.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!di.extras.skipLocationChange){const ao=this.urlHandlingStrategy.merge(di.urlAfterRedirects,di.rawUrl);this.setBrowserUrl(ao,di)}this.browserUrlTree=di.urlAfterRedirects}const Ki=new Ls(di.id,this.serializeUrl(di.extractedUrl),this.serializeUrl(di.urlAfterRedirects),di.targetSnapshot);ke.next(Ki)}));if(oi&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Ki,extractedUrl:ao,source:Vs,restoredState:Hr,extras:Vr}=sn,ia=new Mo(Ki,this.serializeUrl(ao),Vs,Hr);ke.next(ia);const ua=ss(ao,this.rootComponentType).snapshot;return et=Object.assign(Object.assign({},sn),{targetSnapshot:ua,urlAfterRedirects:ao,extras:Object.assign(Object.assign({},Vr),{skipLocationChange:!1,replaceUrl:!1})}),(0,u.of)(et)}return this.rawUrlTree=sn.rawUrl,sn.resolve(null),F.E}),(0,j.b)(sn=>{const wn=new ws(sn.id,this.serializeUrl(sn.extractedUrl),this.serializeUrl(sn.urlAfterRedirects),sn.targetSnapshot);this.triggerEvent(wn)}),(0,$.U)(sn=>et=Object.assign(Object.assign({},sn),{guards:Vo(sn.targetSnapshot,sn.currentSnapshot,this.rootContexts)})),function Se(_e,ve){return(0,ue.z)(le=>{const{targetSnapshot:ke,currentSnapshot:et,guards:{canActivateChecks:wt,canDeactivateChecks:Xt}}=le;return 0===Xt.length&&0===wt.length?(0,u.of)(Object.assign(Object.assign({},le),{guardsResult:!0})):function kt(_e,ve,le,ke){return(0,d.D)(_e).pipe((0,ue.z)(et=>function us(_e,ve,le,ke,et){const wt=ve&&ve.routeConfig?ve.routeConfig.canDeactivate:null;if(!wt||0===wt.length)return(0,u.of)(!0);const Xt=wt.map(sn=>{var wn;const oi=null!==(wn=Es(ve))&&void 0!==wn?wn:et,yi=Ri(sn,oi);return me(function Ss(_e){return _e&&rr(_e.canDeactivate)}(yi)?yi.canDeactivate(_e,ve,le,ke):oi.runInContext(()=>yi(_e,ve,le,ke))).pipe((0,q.P)())});return(0,u.of)(Xt).pipe(Ze())}(et.component,et.route,le,ve,ke)),(0,q.P)(et=>!0!==et,!0))}(Xt,ke,et,_e).pipe((0,ue.z)(sn=>sn&&function Yr(_e){return"boolean"==typeof _e}(sn)?function Ln(_e,ve,le,ke){return(0,d.D)(ve).pipe((0,G.b)(et=>(0,x.z)(function Gi(_e,ve){return null!==_e&&ve&&ve(new br(_e)),(0,u.of)(!0)}(et.route.parent,ke),function fi(_e,ve){return null!==_e&&ve&&ve(new gs(_e)),(0,u.of)(!0)}(et.route,ke),function Po(_e,ve,le){const ke=ve[ve.length-1],wt=ve.slice(0,ve.length-1).reverse().map(Xt=>function Ao(_e){const ve=_e.routeConfig?_e.routeConfig.canActivateChild:null;return ve&&0!==ve.length?{node:_e,guards:ve}:null}(Xt)).filter(Xt=>null!==Xt).map(Xt=>(0,a.P)(()=>{const sn=Xt.guards.map(wn=>{var oi;const yi=null!==(oi=Es(Xt.node))&&void 0!==oi?oi:le,di=Ri(wn,yi);return me(function ar(_e){return _e&&rr(_e.canActivateChild)}(di)?di.canActivateChild(ke,_e):yi.runInContext(()=>di(ke,_e))).pipe((0,q.P)())});return(0,u.of)(sn).pipe(Ze())}));return(0,u.of)(wt).pipe(Ze())}(_e,et.path,le),function bo(_e,ve,le){const ke=ve.routeConfig?ve.routeConfig.canActivate:null;if(!ke||0===ke.length)return(0,u.of)(!0);const et=ke.map(wt=>(0,a.P)(()=>{var Xt;const sn=null!==(Xt=Es(ve))&&void 0!==Xt?Xt:le,wn=Ri(wt,sn);return me(function na(_e){return _e&&rr(_e.canActivate)}(wn)?wn.canActivate(ve,_e):sn.runInContext(()=>wn(ve,_e))).pipe((0,q.P)())}));return(0,u.of)(et).pipe(Ze())}(_e,et.route,le))),(0,q.P)(et=>!0!==et,!0))}(ke,wt,_e,ve):(0,u.of)(sn)),(0,$.U)(sn=>Object.assign(Object.assign({},le),{guardsResult:sn})))})}(this.ngModule.injector,sn=>this.triggerEvent(sn)),(0,j.b)(sn=>{if(et.guardsResult=sn.guardsResult,ut(sn.guardsResult))throw Lr(0,sn.guardsResult);const wn=new Rs(sn.id,this.serializeUrl(sn.extractedUrl),this.serializeUrl(sn.urlAfterRedirects),sn.targetSnapshot,!!sn.guardsResult);this.triggerEvent(wn)}),(0,K.h)(sn=>!!sn.guardsResult||(this.restoreHistory(sn),this.cancelNavigationTransition(sn,"",3),!1)),An(sn=>{if(sn.guards.canActivateChecks.length)return(0,u.of)(sn).pipe((0,j.b)(wn=>{const oi=new as(wn.id,this.serializeUrl(wn.extractedUrl),this.serializeUrl(wn.urlAfterRedirects),wn.targetSnapshot);this.triggerEvent(oi)}),(0,z.w)(wn=>{let oi=!1;return(0,u.of)(wn).pipe(function Yt(_e,ve){return(0,ue.z)(le=>{const{targetSnapshot:ke,guards:{canActivateChecks:et}}=le;if(!et.length)return(0,u.of)(le);let wt=0;return(0,d.D)(et).pipe((0,G.b)(Xt=>function Ne(_e,ve,le,ke){const et=_e.routeConfig,wt=_e._resolve;return void 0!==(null==et?void 0:et.title)&&!an(et)&&(wt[Pe]=et.title),function Ue(_e,ve,le,ke){const et=function mt(_e){return[...Object.keys(_e),...Object.getOwnPropertySymbols(_e)]}(_e);if(0===et.length)return(0,u.of)({});const wt={};return(0,d.D)(et).pipe((0,ue.z)(Xt=>function Lt(_e,ve,le,ke){var et;const wt=null!==(et=Es(ve))&&void 0!==et?et:ke,Xt=Ri(_e,wt);return me(Xt.resolve?Xt.resolve(ve,le):wt.runInContext(()=>Xt(ve,le)))}(_e[Xt],ve,le,ke).pipe((0,q.P)(),(0,j.b)(sn=>{wt[Xt]=sn}))),(0,X.h)(1),(0,be.h)(wt),(0,fe.K)(Xt=>jr(Xt)?F.E:(0,L._)(Xt)))}(wt,_e,ve,ke).pipe((0,$.U)(Xt=>(_e._resolvedData=Xt,_e.data=Gs(_e,le).resolve,et&&an(et)&&(_e.data[Pe]=et.title),null)))}(Xt.route,ke,_e,ve)),(0,j.b)(()=>wt++),(0,X.h)(1),(0,ue.z)(Xt=>wt===et.length?(0,u.of)(le):F.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,j.b)({next:()=>oi=!0,complete:()=>{oi||(this.restoreHistory(wn),this.cancelNavigationTransition(wn,"",2))}}))}),(0,j.b)(wn=>{const oi=new Cr(wn.id,this.serializeUrl(wn.extractedUrl),this.serializeUrl(wn.urlAfterRedirects),wn.targetSnapshot);this.triggerEvent(oi)}))}),An(sn=>{const wn=oi=>{var yi;const di=[];(null===(yi=oi.routeConfig)||void 0===yi?void 0:yi.loadComponent)&&!oi.routeConfig._loadedComponent&&di.push(this.configLoader.loadComponent(oi.routeConfig).pipe((0,j.b)(Ki=>{oi.component=Ki}),(0,$.U)(()=>{})));for(const Ki of oi.children)di.push(...wn(Ki));return di};return(0,P.a)(wn(sn.targetSnapshot.root)).pipe((0,Y.d)(),(0,S.q)(1))}),An(()=>this.afterPreactivation()),(0,$.U)(sn=>{const wn=function vs(_e,ve,le){const ke=bs(_e,ve._root,le?le._root:void 0);return new yr(ke,ve)}(this.routeReuseStrategy,sn.targetSnapshot,sn.currentRouterState);return et=Object.assign(Object.assign({},sn),{targetRouterState:wn})}),(0,j.b)(sn=>{this.currentUrlTree=sn.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(sn.urlAfterRedirects,sn.rawUrl),this.routerState=sn.targetRouterState,"deferred"===this.urlUpdateStrategy&&(sn.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,sn),this.browserUrlTree=sn.urlAfterRedirects)}),((_e,ve,le)=>(0,$.U)(ke=>(new $o(ve,ke.targetRouterState,ke.currentRouterState,le).activate(_e),ke)))(this.rootContexts,this.routeReuseStrategy,sn=>this.triggerEvent(sn)),(0,j.b)({next(){wt=!0},complete(){wt=!0}}),(0,Ge.x)(()=>{var sn;wt||Xt||this.cancelNavigationTransition(et,"",1),(null===(sn=this.currentNavigation)||void 0===sn?void 0:sn.id)===et.id&&(this.currentNavigation=null)}),(0,fe.K)(sn=>{var wn;if(Xt=!0,Yo(sn)){xs(sn)||(this.navigated=!0,this.restoreHistory(et,!0));const oi=new vo(et.id,this.serializeUrl(et.extractedUrl),sn.message,sn.cancellationCode);if(ke.next(oi),xs(sn)){const yi=this.urlHandlingStrategy.merge(sn.url,this.rawUrlTree),di={skipLocationChange:et.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||pr(et.source)};this.scheduleNavigation(yi,"imperative",null,di,{resolve:et.resolve,reject:et.reject,promise:et.promise})}else et.resolve(!1)}else{this.restoreHistory(et,!0);const oi=new qo(et.id,this.serializeUrl(et.extractedUrl),sn,null!==(wn=et.targetSnapshot)&&void 0!==wn?wn:void 0);ke.next(oi);try{et.resolve(this.errorHandler(sn))}catch(yi){et.reject(yi)}}return F.E}))}))}resetRootComponentType(le){this.rootComponentType=le,this.routerState.root.component=this.rootComponentType}setTransition(le){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),le))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(le=>{const ke="popstate"===le.type?"popstate":"hashchange";"popstate"===ke&&setTimeout(()=>{var et;const wt={replaceUrl:!0},Xt=null!==(et=le.state)&&void 0!==et&&et.navigationId?le.state:null;if(Xt){const wn=Object.assign({},Xt);delete wn.navigationId,delete wn.\u0275routerPageId,0!==Object.keys(wn).length&&(wt.state=wn)}const sn=this.parseUrl(le.url);this.scheduleNavigation(sn,ke,Xt,wt)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(le){this.events.next(le)}resetConfig(le){this.config=le.map(Ar),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(le,ke={}){const{relativeTo:et,queryParams:wt,fragment:Xt,queryParamsHandling:sn,preserveFragment:wn}=ke,oi=et||this.routerState.root,yi=wn?this.currentUrlTree.fragment:Xt;let di=null;switch(sn){case"merge":di=Object.assign(Object.assign({},this.currentUrlTree.queryParams),wt);break;case"preserve":di=this.currentUrlTree.queryParams;break;default:di=wt||null}return null!==di&&(di=this.removeEmptyProps(di)),yn(oi,this.currentUrlTree,le,di,null!=yi?yi:null)}navigateByUrl(le,ke={skipLocationChange:!1}){const et=ut(le)?le:this.parseUrl(le),wt=this.urlHandlingStrategy.merge(et,this.rawUrlTree);return this.scheduleNavigation(wt,"imperative",null,ke)}navigate(le,ke={skipLocationChange:!1}){return function ks(_e){for(let ve=0;ve<_e.length;ve++){if(null==_e[ve])throw new e.vHH(4008,false)}}(le),this.navigateByUrl(this.createUrlTree(le,ke),ke)}serializeUrl(le){return this.urlSerializer.serialize(le)}parseUrl(le){let ke;try{ke=this.urlSerializer.parse(le)}catch(et){ke=this.malformedUriErrorHandler(et,this.urlSerializer,le)}return ke}isActive(le,ke){let et;if(et=!0===ke?Object.assign({},wi):!1===ke?Object.assign({},Pi):ke,ut(le))return Ft(this.currentUrlTree,le,et);const wt=this.parseUrl(le);return Ft(this.currentUrlTree,wt,et)}removeEmptyProps(le){return Object.keys(le).reduce((ke,et)=>{const wt=le[et];return null!=wt&&(ke[et]=wt),ke},{})}processNavigations(){this.navigations.subscribe(le=>{var ke;this.navigated=!0,this.lastSuccessfulId=le.id,this.currentPageId=le.targetPageId,this.events.next(new es(le.id,this.serializeUrl(le.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(ke=this.titleStrategy)||void 0===ke||ke.updateTitle(this.routerState.snapshot),le.resolve(!0)},le=>{this.console.warn(`Unhandled Navigation Error: ${le}`)})}scheduleNavigation(le,ke,et,wt,Xt){var sn,wn;if(this.disposed)return Promise.resolve(!1);let oi,yi,di;Xt?(oi=Xt.resolve,yi=Xt.reject,di=Xt.promise):di=new Promise((Vs,Hr)=>{oi=Vs,yi=Hr});const Ki=++this.navigationId;let ao;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(et=this.location.getState()),ao=et&&et.\u0275routerPageId?et.\u0275routerPageId:wt.replaceUrl||wt.skipLocationChange?null!==(sn=this.browserPageId)&&void 0!==sn?sn:0:(null!==(wn=this.browserPageId)&&void 0!==wn?wn:0)+1):ao=0,this.setTransition({id:Ki,targetPageId:ao,source:ke,restoredState:et,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:le,extras:wt,resolve:oi,reject:yi,promise:di,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),di.catch(Vs=>Promise.reject(Vs))}setBrowserUrl(le,ke){const et=this.urlSerializer.serialize(le),wt=Object.assign(Object.assign({},ke.extras.state),this.generateNgRouterState(ke.id,ke.targetPageId));this.location.isCurrentPathEqualTo(et)||ke.extras.replaceUrl?this.location.replaceState(et,"",wt):this.location.go(et,"",wt)}restoreHistory(le,ke=!1){var et,wt;if("computed"===this.canceledNavigationResolution){const Xt=this.currentPageId-le.targetPageId;"popstate"!==le.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(et=this.currentNavigation)||void 0===et?void 0:et.finalUrl)||0===Xt?this.currentUrlTree===(null===(wt=this.currentNavigation)||void 0===wt?void 0:wt.finalUrl)&&0===Xt&&(this.resetState(le),this.browserUrlTree=le.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Xt)}else"replace"===this.canceledNavigationResolution&&(ke&&this.resetState(le),this.resetUrlToCurrentUrlTree())}resetState(le){this.routerState=le.currentRouterState,this.currentUrlTree=le.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,le.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(le,ke,et){const wt=new vo(le.id,this.serializeUrl(le.extractedUrl),ke,et);this.triggerEvent(wt),le.resolve(!1)}generateNgRouterState(le,ke){return"computed"===this.canceledNavigationResolution?{navigationId:le,\u0275routerPageId:ke}:{navigationId:le}}}return _e.\u0275fac=function(le){e.$Z()},_e.\u0275prov=e.Yz7({token:_e,factory:function(){return Qo()},providedIn:"root"}),_e})();function pr(_e){return"imperative"!==_e}let To=(()=>{class _e{constructor(le,ke,et,wt,Xt){this.router=le,this.route=ke,this.tabIndexAttribute=et,this.renderer=wt,this.el=Xt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new N.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(le){this._preserveFragment=(0,e.D6c)(le)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(le){this._skipLocationChange=(0,e.D6c)(le)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(le){this._replaceUrl=(0,e.D6c)(le)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(le){if(null!=this.tabIndexAttribute)return;const ke=this.renderer,et=this.el.nativeElement;null!==le?ke.setAttribute(et,"tabindex",le):ke.removeAttribute(et,"tabindex")}ngOnChanges(le){this.onChanges.next(this)}set routerLink(le){null!=le?(this.commands=Array.isArray(le)?le:[le],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return _e.\u0275fac=function(le){return new(le||_e)(e.Y36(Ro),e.Y36(Zi),e.$8M("tabindex"),e.Y36(e.Qsj),e.Y36(e.SBq))},_e.\u0275dir=e.lG2({type:_e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(le,ke){1&le&&e.NdJ("click",function(){return ke.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[e.TTD]}),_e})(),qr=(()=>{class _e{constructor(le,ke,et){this.router=le,this.route=ke,this.locationStrategy=et,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new N.x,this.subscription=le.events.subscribe(wt=>{wt instanceof es&&this.updateTargetUrlAndHref()})}set preserveFragment(le){this._preserveFragment=(0,e.D6c)(le)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(le){this._skipLocationChange=(0,e.D6c)(le)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(le){this._replaceUrl=(0,e.D6c)(le)}get replaceUrl(){return this._replaceUrl}set routerLink(le){this.commands=null!=le?Array.isArray(le)?le:[le]:null}ngOnChanges(le){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(le,ke,et,wt,Xt){return!!(0!==le||ke||et||wt||Xt||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return _e.\u0275fac=function(le){return new(le||_e)(e.Y36(Ro),e.Y36(Zi),e.Y36(ce.S$))},_e.\u0275dir=e.lG2({type:_e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(le,ke){1&le&&e.NdJ("click",function(wt){return ke.onClick(wt.button,wt.ctrlKey,wt.shiftKey,wt.altKey,wt.metaKey)}),2&le&&e.uIk("target",ke.target)("href",ke.href,e.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[e.TTD]}),_e})(),pl=(()=>{class _e{constructor(le,ke,et,wt,Xt,sn){this.router=le,this.element=ke,this.renderer=et,this.cdr=wt,this.link=Xt,this.linkWithHref=sn,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new e.vpe,this.routerEventsSubscription=le.events.subscribe(wn=>{wn instanceof es&&this.update()})}ngAfterContentInit(){(0,u.of)(this.links.changes,this.linksWithHrefs.changes,(0,u.of)(null)).pipe((0,ee.J)()).subscribe(le=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var le;null===(le=this.linkInputChangesSubscription)||void 0===le||le.unsubscribe();const ke=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(et=>!!et).map(et=>et.onChanges);this.linkInputChangesSubscription=(0,d.D)(ke).pipe((0,ee.J)()).subscribe(et=>{this.isActive!==this.isLinkActive(this.router)(et)&&this.update()})}set routerLinkActive(le){const ke=Array.isArray(le)?le:le.split(" ");this.classes=ke.filter(et=>!!et)}ngOnChanges(le){this.update()}ngOnDestroy(){var le;this.routerEventsSubscription.unsubscribe(),null===(le=this.linkInputChangesSubscription)||void 0===le||le.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const le=this.hasActiveLinks();this.isActive!==le&&(this.isActive=le,this.cdr.markForCheck(),this.classes.forEach(ke=>{le?this.renderer.addClass(this.element.nativeElement,ke):this.renderer.removeClass(this.element.nativeElement,ke)}),le&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(le))})}isLinkActive(le){const ke=function No(_e){return!!_e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return et=>!!et.urlTree&&le.isActive(et.urlTree,ke)}hasActiveLinks(){const le=this.isLinkActive(this.router);return this.link&&le(this.link)||this.linkWithHref&&le(this.linkWithHref)||this.links.some(le)||this.linksWithHrefs.some(le)}}return _e.\u0275fac=function(le){return new(le||_e)(e.Y36(Ro),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(To,8),e.Y36(qr,8))},_e.\u0275dir=e.lG2({type:_e,selectors:[["","routerLinkActive",""]],contentQueries:function(le,ke,et){if(1&le&&(e.Suo(et,To,5),e.Suo(et,qr,5)),2&le){let wt;e.iGM(wt=e.CRH())&&(ke.links=wt),e.iGM(wt=e.CRH())&&(ke.linksWithHrefs=wt)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[e.TTD]}),_e})();class Br{}let Oa=(()=>{class _e{constructor(le,ke,et,wt,Xt){this.router=le,this.injector=et,this.preloadingStrategy=wt,this.loader=Xt}setUpPreloading(){this.subscription=this.router.events.pipe((0,K.h)(le=>le instanceof es),(0,G.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(le,ke){var et,wt,Xt;const sn=[];for(const wn of ke){wn.providers&&!wn._injector&&(wn._injector=(0,e.MMx)(wn.providers,le,`Route: ${wn.path}`));const oi=null!==(et=wn._injector)&&void 0!==et?et:le,yi=null!==(wt=wn._loadedInjector)&&void 0!==wt?wt:oi;wn.loadChildren&&!wn._loadedRoutes&&void 0===wn.canLoad||wn.loadComponent&&!wn._loadedComponent?sn.push(this.preloadConfig(oi,wn)):(wn.children||wn._loadedRoutes)&&sn.push(this.processRoutes(yi,null!==(Xt=wn.children)&&void 0!==Xt?Xt:wn._loadedRoutes))}return(0,d.D)(sn).pipe((0,ee.J)())}preloadConfig(le,ke){return this.preloadingStrategy.preload(ke,()=>{let et;et=ke.loadChildren&&void 0===ke.canLoad?this.loader.loadChildren(le,ke):(0,u.of)(null);const wt=et.pipe((0,ue.z)(Xt=>{var sn;return null===Xt?(0,u.of)(void 0):(ke._loadedRoutes=Xt.routes,ke._loadedInjector=Xt.injector,this.processRoutes(null!==(sn=Xt.injector)&&void 0!==sn?sn:le,Xt.routes))}));if(ke.loadComponent&&!ke._loadedComponent){const Xt=this.loader.loadComponent(ke);return(0,d.D)([wt,Xt]).pipe((0,ee.J)())}return wt})}}return _e.\u0275fac=function(le){return new(le||_e)(e.LFG(Ro),e.LFG(e.Sil),e.LFG(e.lqb),e.LFG(Br),e.LFG(dr))},_e.\u0275prov=e.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();const Ba=new e.OlP("");let Pl=(()=>{class _e{constructor(le,ke,et={}){this.router=le,this.viewportScroller=ke,this.options=et,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},et.scrollPositionRestoration=et.scrollPositionRestoration||"disabled",et.anchorScrolling=et.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(le=>{le instanceof Mo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=le.navigationTrigger,this.restoredId=le.restoredState?le.restoredState.navigationId:0):le instanceof es&&(this.lastId=le.id,this.scheduleScrollEvent(le,this.router.parseUrl(le.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(le=>{le instanceof Ns&&(le.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(le.position):le.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(le.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(le,ke){this.router.triggerEvent(new Ns(le,"popstate"===this.lastSource?this.store[this.restoredId]:null,ke))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return _e.\u0275fac=function(le){e.$Z()},_e.\u0275prov=e.Yz7({token:_e,factory:_e.\u0275fac}),_e})();function Ha(_e,ve){return{\u0275kind:_e,\u0275providers:ve}}function Ca(_e){return[{provide:Lo,multi:!0,useValue:_e}]}function nc(){const _e=(0,e.f3M)(e.zs3);return ve=>{var le,ke;const et=_e.get(e.z2F);if(ve!==et.components[0])return;const wt=_e.get(Ro),Xt=_e.get(va);1===_e.get(So)&&wt.initialNavigation(),null===(le=_e.get(Ic,null,e.XFs.Optional))||void 0===le||le.setUpPreloading(),null===(ke=_e.get(Ba,null,e.XFs.Optional))||void 0===ke||ke.init(),wt.resetRootComponentType(et.componentTypes[0]),Xt.closed||(Xt.next(),Xt.unsubscribe())}}const va=new e.OlP("",{factory:()=>new N.x}),So=new e.OlP("",{providedIn:"root",factory:()=>1});const Ic=new e.OlP("");function Ll(_e){return Ha(0,[{provide:Ic,useExisting:Oa},{provide:Br,useExisting:_e}])}const Tc=new e.OlP("ROUTER_FORROOT_GUARD"),Xc=[ce.Ye,{provide:_t,useClass:tt},{provide:Ro,useFactory:Qo},Tr,{provide:Zi,useFactory:function Ua(_e){return _e.routerState.root},deps:[Ro]},dr];function Ds(){return new e.PXZ("Router",Ro)}let Rl=(()=>{class _e{constructor(le){}static forRoot(le,ke){return{ngModule:_e,providers:[Xc,[],Ca(le),{provide:Tc,useFactory:Zr,deps:[[Ro,new e.FiY,new e.tp0]]},{provide:fo,useValue:ke||{}},null!=ke&&ke.useHash?{provide:ce.S$,useClass:ce.Do}:{provide:ce.S$,useClass:ce.b0},{provide:Ba,useFactory:()=>{const _e=(0,e.f3M)(Ro),ve=(0,e.f3M)(ce.EM),le=(0,e.f3M)(fo);return le.scrollOffset&&ve.setOffset(le.scrollOffset),new Pl(_e,ve,le)}},null!=ke&&ke.preloadingStrategy?Ll(ke.preloadingStrategy).\u0275providers:[],{provide:e.PXZ,multi:!0,useFactory:Ds},null!=ke&&ke.initialNavigation?Ur(ke):[],[{provide:tl,useFactory:nc},{provide:e.tb,multi:!0,useExisting:tl}]]}}static forChild(le){return{ngModule:_e,providers:[Ca(le)]}}}return _e.\u0275fac=function(le){return new(le||_e)(e.LFG(Tc,8))},_e.\u0275mod=e.oAB({type:_e}),_e.\u0275inj=e.cJS({imports:[xt]}),_e})();function Zr(_e){return"guarded"}function Ur(_e){return["disabled"===_e.initialNavigation?Ha(3,[{provide:e.ip1,multi:!0,useFactory:()=>{const ve=(0,e.f3M)(Ro);return()=>{ve.setUpLocationChangeListener()}}},{provide:So,useValue:2}]).\u0275providers:[],"enabledBlocking"===_e.initialNavigation?Ha(2,[{provide:So,useValue:0},{provide:e.ip1,multi:!0,deps:[e.zs3],useFactory:ve=>{const le=ve.get(ce.V_,Promise.resolve());let ke=!1;return()=>le.then(()=>new Promise(wt=>{const Xt=ve.get(Ro),sn=ve.get(va);(function et(wt){ve.get(Ro).events.pipe((0,K.h)(sn=>sn instanceof es||sn instanceof vo||sn instanceof qo),(0,$.U)(sn=>sn instanceof es||sn instanceof vo&&(0===sn.code||1===sn.code)&&null),(0,K.h)(sn=>null!==sn),(0,S.q)(1)).subscribe(()=>{wt()})})(()=>{wt(!0),ke=!0}),Xt.afterPreactivation=()=>(wt(!0),ke||sn.closed?(0,u.of)(void 0):sn),Xt.initialNavigation()}))}}]).\u0275providers:[]]}const tl=new e.OlP("")},5111:(hn,ht,b)=>{"use strict";var e,d;b.d(ht,{U:()=>e}),(d=e=e||(e={}))[d.CONNECTING=0]="CONNECTING",d[d.OPEN=1]="OPEN",d[d.CLOSING=2]="CLOSING",d[d.CLOSED=3]="CLOSED"},430:(hn,ht,b)=>{"use strict";b.d(ht,{Eo:()=>Wt,qZ:()=>zt});var e=b(5e3),d=b(4793),u=b(9162),f=b(7579),_=b(9808),P=b(6451),x=b(9751),a=b(4968),R=b(8505),L=b(3099),V=b(5577),F=b(5698),T=b(4004),y=b(4482),D=b(5403),B=b(9300),N=b(2722);const ce="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function z(Ft,Mt,Ye,st){const je=Mt.querySelectorAll(Ft);if(je.length){const It=Ye.querySelectorAll(Ft);for(let se=0;se<je.length;se++)st(je[se],It[se])}}let S=0;function O(Ft,Mt){"file"!==Mt.type&&(Mt.value=Ft.value),"radio"===Mt.type&&Mt.name&&(Mt.name=`mat-clone-${Mt.name}-${S++}`)}function K(Ft,Mt){const Ye=Mt.getContext("2d");if(Ye)try{Ye.drawImage(Ft,0,0)}catch(st){}}function ue(Ft,Mt,Ye,st){const je={top:Ft.top,bottom:Ft.bottom,left:Ft.left,right:Ft.right};return Mt.top&&(je.top+=st),Mt.bottom&&(je.bottom+=st),Mt.left&&(je.left+=Ye),Mt.right&&(je.right+=Ye),je.height=je.bottom-je.top,je.width=je.right-je.left,je}const G=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function j(Ft,Mt){return Ft.left&&Ft.top?Mt.topLeft:Ft.right&&Ft.top?Mt.topRight:Ft.left&&Ft.bottom?Mt.bottomLeft:Ft.right&&Ft.bottom?Mt.bottomRight:Ft.left||Ft.right?Mt.leftOrRight:Ft.top||Ft.bottom?Mt.topOrBottom:""}function fe({edges:Ft,initialRectangle:Mt,newRectangle:Ye}){const st={};return Object.keys(Ft).forEach(je=>{st[je]=(Ye[je]||0)-(Mt[je]||0)}),st}const ne="resize-active";let W=(()=>{class Ft{constructor(Ye,st,je,It){this.platformId=Ye,this.renderer=st,this.elm=je,this.zone=It,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=G,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new e.vpe,this.resizing=new e.vpe,this.resizeEnd=new e.vpe,this.mouseup=new f.x,this.mousedown=new f.x,this.mousemove=new f.x,this.destroy$=new f.x,this.pointerEventListeners=Y.getInstance(st,It)}ngOnInit(){const Ye=(0,P.T)(this.pointerEventListeners.pointerDown,this.mousedown),st=(0,P.T)(this.pointerEventListeners.pointerMove,this.mousemove).pipe((0,R.b)(({event:gt})=>{if(It)try{gt.preventDefault()}catch(cn){}}),(0,L.B)()),je=(0,P.T)(this.pointerEventListeners.pointerUp,this.mouseup);let It;const se=()=>{It&&It.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(It.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},Fe=()=>Object.assign(Object.assign({},G),this.resizeCursors);Ye.pipe((0,V.z)(gt=>{function cn(_t){return{clientX:_t.clientX-gt.clientX,clientY:_t.clientY-gt.clientY}}const Tn=()=>{const _t={x:1,y:1};return It&&(this.resizeSnapGrid.left&&It.edges.left?_t.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&It.edges.right&&(_t.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&It.edges.top?_t.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&It.edges.bottom&&(_t.y=+this.resizeSnapGrid.bottom)),_t};function en(_t,tt){return{x:Math.ceil(_t.clientX/tt.x),y:Math.ceil(_t.clientY/tt.y)}}return(0,P.T)(st.pipe((0,F.q)(1)).pipe((0,T.U)(_t=>[,_t])),st.pipe(function k(){return(0,y.e)((Ft,Mt)=>{let Ye,st=!1;Ft.subscribe(new D.Q(Mt,je=>{const It=Ye;Ye=je,st&&Mt.next([It,je]),st=!0}))})}())).pipe((0,T.U)(([_t,tt])=>[_t&&cn(_t),cn(tt)])).pipe((0,B.h)(([_t,tt])=>{if(!_t)return!0;const de=Tn(),Qe=en(_t,de),ze=en(tt,de);return Qe.x!==ze.x||Qe.y!==ze.y})).pipe((0,T.U)(([,_t])=>{const tt=Tn();return{clientX:Math.round(_t.clientX/tt.x)*tt.x,clientY:Math.round(_t.clientY/tt.y)*tt.y}})).pipe((0,N.R)((0,P.T)(je,Ye)))})).pipe((0,B.h)(()=>!!It)).pipe((0,T.U)(({clientX:gt,clientY:cn})=>ue(It.startingRect,It.edges,gt,cn))).pipe((0,B.h)(gt=>this.allowNegativeResizes||!!(gt.height&&gt.width&&gt.height>0&&gt.width>0))).pipe((0,B.h)(gt=>!this.validateResize||this.validateResize({rectangle:gt,edges:fe({edges:It.edges,initialRectangle:It.startingRect,newRectangle:gt})})),(0,N.R)(this.destroy$)).subscribe(gt=>{It&&It.clonedNode&&(this.renderer.setStyle(It.clonedNode,"height",`${gt.height}px`),this.renderer.setStyle(It.clonedNode,"width",`${gt.width}px`),this.renderer.setStyle(It.clonedNode,"top",`${gt.top}px`),this.renderer.setStyle(It.clonedNode,"left",`${gt.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:fe({edges:It.edges,initialRectangle:It.startingRect,newRectangle:gt}),rectangle:gt})}),It.currentRect=gt}),Ye.pipe((0,T.U)(({edges:gt})=>gt||{}),(0,B.h)(gt=>Object.keys(gt).length>0),(0,N.R)(this.destroy$)).subscribe(gt=>{It&&se();const cn=function q(Ft,Mt){let Ye=0,st=0;const je=Ft.nativeElement.style,se=["transform","-ms-transform","-moz-transform","-o-transform"].map(Fe=>je[Fe]).find(Fe=>!!Fe);if(se&&se.includes("translate")&&(Ye=se.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),st=se.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===Mt)return{height:Ft.nativeElement.offsetHeight,width:Ft.nativeElement.offsetWidth,top:Ft.nativeElement.offsetTop-st,bottom:Ft.nativeElement.offsetHeight+Ft.nativeElement.offsetTop-st,left:Ft.nativeElement.offsetLeft-Ye,right:Ft.nativeElement.offsetWidth+Ft.nativeElement.offsetLeft-Ye};{const Fe=Ft.nativeElement.getBoundingClientRect();return{height:Fe.height,width:Fe.width,top:Fe.top-st,bottom:Fe.bottom-st,left:Fe.left-Ye,right:Fe.right-Ye,scrollTop:Ft.nativeElement.scrollTop,scrollLeft:Ft.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);It={edges:gt,startingRect:cn,currentRect:cn};const Tn=Fe(),en=j(It.edges,Tn);this.renderer.setStyle(document.body,"cursor",en),this.setElementClass(this.elm,ne,!0),this.enableGhostResize&&(It.clonedNode=function $(Ft){const Mt=Ft.cloneNode(!0),Ye=Mt.querySelectorAll("[id]"),st=Ft.nodeName.toLowerCase();return Mt.removeAttribute("id"),Ye.forEach(je=>{je.removeAttribute("id")}),"canvas"===st?K(Ft,Mt):("input"===st||"select"===st||"textarea"===st)&&O(Ft,Mt),z("canvas",Ft,Mt,K),z("input, textarea, select",Ft,Mt,O),Mt}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(It.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(It.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(It.clonedNode,"left",`${It.startingRect.left}px`),this.renderer.setStyle(It.clonedNode,"top",`${It.startingRect.top}px`),this.renderer.setStyle(It.clonedNode,"height",`${It.startingRect.height}px`),this.renderer.setStyle(It.clonedNode,"width",`${It.startingRect.width}px`),this.renderer.setStyle(It.clonedNode,"cursor",j(It.edges,Tn)),this.renderer.addClass(It.clonedNode,"resize-ghost-element"),It.clonedNode.scrollTop=It.startingRect.scrollTop,It.clonedNode.scrollLeft=It.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:fe({edges:gt,initialRectangle:cn,newRectangle:cn}),rectangle:ue(cn,{},0,0)})})}),je.pipe((0,N.R)(this.destroy$)).subscribe(()=>{It&&(this.renderer.removeClass(this.elm.nativeElement,ne),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:fe({edges:It.edges,initialRectangle:It.startingRect,newRectangle:It.currentRect}),rectangle:It.currentRect})}),se(),It=null)})}ngOnDestroy(){(0,_.NF)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(Ye,st,je){je?this.renderer.addClass(Ye.nativeElement,st):this.renderer.removeClass(Ye.nativeElement,st)}}return Ft.\u0275fac=function(Ye){return new(Ye||Ft)(e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.R0b))},Ft.\u0275dir=e.lG2({type:Ft,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),Ft})();class Y{constructor(Mt,Ye){this.pointerDown=new x.y(st=>{let je,It;return Ye.runOutsideAngular(()=>{je=Mt.listen("document","mousedown",se=>{st.next({clientX:se.clientX,clientY:se.clientY,event:se})}),ce&&(It=Mt.listen("document","touchstart",se=>{st.next({clientX:se.touches[0].clientX,clientY:se.touches[0].clientY,event:se})}))}),()=>{je(),ce&&It()}}).pipe((0,L.B)()),this.pointerMove=new x.y(st=>{let je,It;return Ye.runOutsideAngular(()=>{je=Mt.listen("document","mousemove",se=>{st.next({clientX:se.clientX,clientY:se.clientY,event:se})}),ce&&(It=Mt.listen("document","touchmove",se=>{st.next({clientX:se.targetTouches[0].clientX,clientY:se.targetTouches[0].clientY,event:se})}))}),()=>{je(),ce&&It()}}).pipe((0,L.B)()),this.pointerUp=new x.y(st=>{let je,It,se;return Ye.runOutsideAngular(()=>{je=Mt.listen("document","mouseup",Fe=>{st.next({clientX:Fe.clientX,clientY:Fe.clientY,event:Fe})}),ce&&(It=Mt.listen("document","touchend",Fe=>{st.next({clientX:Fe.changedTouches[0].clientX,clientY:Fe.changedTouches[0].clientY,event:Fe})}),se=Mt.listen("document","touchcancel",Fe=>{st.next({clientX:Fe.changedTouches[0].clientX,clientY:Fe.changedTouches[0].clientY,event:Fe})}))}),()=>{je(),ce&&(It(),se())}}).pipe((0,L.B)())}static getInstance(Mt,Ye){return Y.instance||(Y.instance=new Y(Mt,Ye)),Y.instance}}let Te=(()=>{class Ft{constructor(Ye,st,je,It){this.renderer=Ye,this.element=st,this.zone=je,this.resizableDirective=It,this.resizeEdges={},this.eventListeners={},this.destroy$=new f.x}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(Ye=>{this.onMousedown(Ye,Ye.clientX,Ye.clientY)}),this.listenOnTheHost("mouseup").subscribe(Ye=>{this.onMouseup(Ye.clientX,Ye.clientY)}),ce&&(this.listenOnTheHost("touchstart").subscribe(Ye=>{this.onMousedown(Ye,Ye.touches[0].clientX,Ye.touches[0].clientY)}),(0,P.T)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(Ye=>{this.onMouseup(Ye.changedTouches[0].clientX,Ye.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(Ye,st,je){Ye.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",It=>{this.onMousemove(It,It.targetTouches[0].clientX,It.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",It=>{this.onMousemove(It,It.clientX,It.clientY)})),this.resizable.mousedown.next({clientX:st,clientY:je,edges:this.resizeEdges})}onMouseup(Ye,st){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:Ye,clientY:st,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(Ye,st,je){this.resizable.mousemove.next({clientX:st,clientY:je,edges:this.resizeEdges,event:Ye})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(Ye=>{this.eventListeners[Ye](),delete this.eventListeners[Ye]})}listenOnTheHost(Ye){return(0,a.R)(this.element.nativeElement,Ye).pipe((0,N.R)(this.destroy$))}}return Ft.\u0275fac=function(Ye){return new(Ye||Ft)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(W,8))},Ft.\u0275dir=e.lG2({type:Ft,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),Ft})(),Ae=(()=>{class Ft{}return Ft.\u0275fac=function(Ye){return new(Ye||Ft)},Ft.\u0275mod=e.oAB({type:Ft}),Ft.\u0275inj=e.cJS({}),Ft})();const Ke=["terminal"],be=["resizeBox"],Ge=["detectBox"],ee=function(Ft){return{"handle-active":Ft}},xe=function(){return{top:!1}},we=function(){return{left:!1}},Pe=function(){return{right:!0}},dt=function(){return{right:!1}},bt=function(){return{bottom:!0}},it=function(){return{bottom:!1}};let Dt=(()=>{class Ft{constructor(Ye){this.hostRef=Ye,this.handlerToCheckElementConnection=void 0,this.propertyChangeQueue=[],this.itemsToBeHandled=new f.x,this.handleImmediate=()=>{if(!this.handlerToCheckElementConnection){let st=this.propertyChangeQueue.splice(0,1);1==st.length&&this.itemsToBeHandled.next(st[0])}}}get renderObservable(){return this.itemsToBeHandled}handleNextOne(Ye=!1){!this.hostRef.nativeElement.isConnected||Ye?this.pollAndHandle(this.hostRef.nativeElement.isConnected?"LAZY":"NOT_CONNECTED_ELEMENT"):this.handleImmediate()}pushAndHandle(Ye,st=!1){let je=Object.assign({},Ye);this.propertyChangeQueue.push(je),this.handleNextOne(st)}pollAndHandle(Ye){(()=>{if(this.handlerToCheckElementConnection)return;const je=setInterval(()=>{this.hostRef.nativeElement.isConnected&&(clearInterval(je),this.handlerToCheckElementConnection=void 0,this.handleImmediate())},"NOT_CONNECTED_ELEMENT"===Ye?500:30);this.handlerToCheckElementConnection=je})()}ngOnDestroy(){this.handlerToCheckElementConnection&&clearInterval(this.handlerToCheckElementConnection)}}return Ft.\u0275fac=function(Ye){return new(Ye||Ft)(e.LFG(e.SBq))},Ft.\u0275prov=e.Yz7({token:Ft,factory:Ft.\u0275fac,providedIn:"root"}),Ft})(),vt=(()=>{class Ft{constructor(){}ngOnInit(){}}return Ft.\u0275fac=function(Ye){return new(Ye||Ft)},Ft.\u0275cmp=e.Xpm({type:Ft,selectors:[["global-style"]],decls:0,vars:0,template:function(Ye,st){},styles:['/**\n * Copyright (c) 2014 The xterm.js authors. All rights reserved.\n * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)\n * https://github.com/chjj/term.js\n * @license MIT\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the "Software"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n * Originally forked from (with the author\'s permission):\n *   Fabrice Bellard\'s javascript vt100 for jslinux:\n *   http://bellard.org/jslinux/\n *   Copyright (c) 2011 Fabrice Bellard\n *   The original design remains. The terminal itself\n *   has been extended to include xterm CSI codes, among\n *   other features.\n */.xterm{cursor:text;position:relative;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:5}.xterm .xterm-helper-textarea{padding:0;border:0;margin:0;position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-5;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;inset:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility,.xterm .xterm-message{position:absolute;inset:0;z-index:10;color:transparent;pointer-events:none}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:1!important}.xterm-underline-1{text-decoration:underline}.xterm-underline-2{-webkit-text-decoration:double underline;text-decoration:double underline}.xterm-underline-3{-webkit-text-decoration:wavy underline;text-decoration:wavy underline}.xterm-underline-4{-webkit-text-decoration:dotted underline;text-decoration:dotted underline}.xterm-underline-5{-webkit-text-decoration:dashed underline;text-decoration:dashed underline}.xterm-overline{text-decoration:overline}.xterm-overline.xterm-underline-1{text-decoration:overline underline}.xterm-overline.xterm-underline-2{-webkit-text-decoration:overline double underline;text-decoration:overline double underline}.xterm-overline.xterm-underline-3{-webkit-text-decoration:overline wavy underline;text-decoration:overline wavy underline}.xterm-overline.xterm-underline-4{-webkit-text-decoration:overline dotted underline;text-decoration:overline dotted underline}.xterm-overline.xterm-underline-5{-webkit-text-decoration:overline dashed underline;text-decoration:overline dashed underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}.xterm-screen .xterm-decoration-container .xterm-decoration.xterm-decoration-top-layer{z-index:7}.xterm-decoration-overview-ruler{z-index:8;position:absolute;top:0;right:0;pointer-events:none}.xterm-decoration-top{z-index:2;position:relative}\n'],encapsulation:2}),Ft})(),Wt=(()=>{class Ft{constructor(Ye,st){this.renderer=Ye,this.hostRef=st,this.dataSubject=new f.x,this.keySubject=new f.x,this.keyInputSubjectSubscription=void 0,this.keyEventSubjectSubscription=void 0,this.allLogsSubjectSubscription=void 0,this.dataSourceSubscription=void 0,this.resizableObservers=[],this.dataSource=void 0,this.paddingSize=5,this.stylesForResizeBox={display:"block"},this.keyInputEmitter=new e.vpe,this.keyEventEmitter=new e.vpe,this.dataEmitter=this.keyInputEmitter,this.keyEmitter=this.keyEventEmitter,this._xtermOptions={},this.lastDraggedPosition=void 0,this._draggable=!1,this._stylesInput={},this.handleToCheckLazyContainer=void 0,this.lastDetectedWidth=0,this.linearRender=new Dt(st)}set _dataSource(Ye){!Ye||(null!=this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.dataSource=Ye,this.dataSourceSubscription=this.dataSource.subscribe(st=>this.write(st)))}set draggable(Ye){this._draggable=Ye}get draggable(){return this._draggable}setMinWidth(Ye){this._minWidthInput=Ye}setMinHeight(Ye){this._minHeightInput=Ye}setDraggable(Ye){this._draggable=Ye,this.lastDraggedPosition=void 0}setXtermOptions(Ye){this._xtermOptions=Ye,this.linearRender.pushAndHandle({time:new Date,type:"none"})}setRows(Ye){this._rowsInput!=Ye&&(this._rowsInput=Ye,this.linearRender.pushAndHandle({time:new Date,type:"rowChanged"}))}setCols(Ye){this._colsInput!=Ye&&(this._colsInput=Ye,this.linearRender.pushAndHandle({time:new Date,type:"columnChanged"}))}setStyle(Ye){var st;JSON.stringify(null!==(st=this._stylesInput)&&void 0!==st?st:{})!=JSON.stringify(null!=Ye?Ye:{})&&(this._stylesInput=Ye,this.linearRender.pushAndHandle({time:new Date,type:"none"}))}setup(){this.xterm&&(this.xterm.onData(Ye=>{this.dataSubject.next(Ye)}),this.xterm.onKey(Ye=>{this.keySubject.next(Ye)})),this.keyInputSubjectSubscription=this.dataSubject.subscribe(Ye=>{this.keyInputEmitter.emit(Ye)}),this.keyEventSubjectSubscription=this.keySubject.subscribe(Ye=>{this.keyEventEmitter.emit(Ye)}),this.setupResizeObservers(),this.allLogsSubjectSubscription=this.linearRender.renderObservable.subscribe(Ye=>{this.coordinateOuterAndTerminal(Ye),this.linearRender.handleNextOne()}),this.linearRender.handleNextOne()}setOuterDimensions(Ye,st,je,It){this.linearRender.pushAndHandle({time:new Date,type:"dragged",dragged:{draggedWidth:`${je}px`,draggedHeight:`${It}px`}})}applyStylesToResizeBox(){Object.keys(this.stylesForResizeBox).map(Ye=>({key:Ye,value:this.stylesForResizeBox[Ye]})).forEach(({key:Ye,value:st})=>{this.resizeBox&&(st?this.renderer.setStyle(this.resizeBox.nativeElement,Ye,st):this.renderer.removeStyle(this.resizeBox.nativeElement,Ye))}),this.stylesForResizeBox=this.stylesForResizeBox}ngOnInit(){}ngAfterViewInit(){this.fitAddon=new u.FitAddon,this.xterm=new d.Terminal({allowProposedApi:!0}),this.terminalOuter.nativeElement.isConnected?(this.xterm.open(this.terminalOuter.nativeElement),this.xterm.loadAddon(this.fitAddon),this.setup(),this.linearRender.pushAndHandle({time:new Date,type:"none"})):this.handleToCheckLazyContainer=setInterval(()=>{if(this.terminalOuter.nativeElement.isConnected)try{console.debug("The container's been connected."),this.xterm.open(this.terminalOuter.nativeElement),this.xterm.loadAddon(this.fitAddon),this.setup(),this.linearRender.pushAndHandle({time:new Date,type:"none"})}finally{this.handleToCheckLazyContainer&&clearInterval(this.handleToCheckLazyContainer)}},500)}ngOnChanges(Ye){var st,je,It,se;console.group("onChanges"),console.debug("prop: ",Ye),console.groupEnd(),null!=Ye&&Ye._rowsInput&&(null===(st=null==Ye?void 0:Ye._rowsInput)||void 0===st?void 0:st.previousValue)!=(null===(je=null==Ye?void 0:Ye._rowsInput)||void 0===je?void 0:je.currentValue)&&this.linearRender.pushAndHandle({time:new Date,type:"rowChanged"}),null!=Ye&&Ye._colsInput&&(null===(It=null==Ye?void 0:Ye._colsInput)||void 0===It?void 0:It.previousValue)!=(null===(se=null==Ye?void 0:Ye._colsInput)||void 0===se?void 0:se.currentValue)&&this.linearRender.pushAndHandle({time:new Date,type:"columnChanged"}),null!=Ye&&Ye.draggable&&this.linearRender.pushAndHandle({time:new Date,type:"none"})}coordinateOuterAndTerminal(Ye){var st;console.debug(`changeList: ${JSON.stringify(Ye)}`),this.xterm&&(null!==(null===(st=this.hostRef.nativeElement)||void 0===st?void 0:st.offsetParent)?(this.doUpdateXtermStyles(),this.doAdjustDimensionOfResizeBox(Ye),this.doAdjustSizeOfXtermScreen(Ye),this.doUpdateViewportAndResizeBoxWithPixcelUnit()):console.debug("`display` of host element was set to `none`"))}doUpdateXtermStyles(){var Ye,st;!this.xterm||(this.xterm.options=Object.assign({},this._xtermOptions),!(null===(Ye=this._xtermOptions.theme)||void 0===Ye)&&Ye.background&&(this.resizeHandleStyleRule||(this.resizeHandleStyleRule=this.findCssStyleRule(".resize-handle[")),this.resizeHandleStyleRule&&(this.resizeHandleStyleRule.style.backgroundColor=this._xtermOptions.theme.background)),null!==(st=this._xtermOptions.theme)&&void 0!==st&&st.border&&(this.resizeHandleActiveStyleRule||(this.resizeHandleActiveStyleRule=this.findCssStyleRule(".handle-active")),this.resizeHandleActiveStyleRule&&(this.resizeHandleActiveStyleRule.style.backgroundColor=this._xtermOptions.theme.border)))}doAdjustDimensionOfResizeBox(Ye){var st,je;if(this.stylesForResizeBox=Object.assign(Object.assign(Object.assign({},this.stylesForResizeBox),this._stylesInput),{width:this.stylesForResizeBox.width,height:this.stylesForResizeBox.height}),"dragged"===Ye.type){const It=null!==(st=this._minWidthInput)&&void 0!==st?st:24,se=null!==(je=this._minHeightInput)&&void 0!==je?je:24,Fe=parseInt(Ye.dragged.draggedWidth)>It?Ye.dragged.draggedWidth:`${It}px`,he=parseInt(Ye.dragged.draggedHeight)>se?Ye.dragged.draggedHeight:`${se}px`;this.stylesForResizeBox.width=Fe,this.stylesForResizeBox.height=he,this.lastDraggedPosition={width:Fe,height:he},this.applyStylesToResizeBox()}else if(!this.draggable||!this.lastDraggedPosition){const It=getComputedStyle(this.hostRef.nativeElement).width,se=getComputedStyle(this.detectBox.nativeElement).width;let Fe=!1;parseFloat(se)<parseFloat(It)&&(Fe=!0),Fe?(this.stylesForResizeBox.width=`${parseFloat(se)}px`,this.applyStylesToResizeBox()):(this._rowsInput||(this.stylesForResizeBox.height="100%"),this._colsInput||(this.stylesForResizeBox.width="100%"),this.applyStylesToResizeBox())}}doAdjustSizeOfXtermScreen(Ye){var st,je,It;!this.xterm||("rowChanged"==Ye.type&&this._rowsInput||"columnChanged"==Ye.type&&this._colsInput?this.xterm.resize(null!==(st=this._colsInput)&&void 0!==st?st:this.xterm.cols,null!==(je=this._rowsInput)&&void 0!==je?je:this.xterm.rows):this.xterm.element&&(this.xterm.element.style.paddingLeft=`${this.paddingSize}px`,this.printDimension("Before fitAddon.fit() of Xterm"),null===(It=this.fitAddon)||void 0===It||It.fit(),this.printDimension("After fitAddon.fit() of Xterm"),this.xterm.element.style.paddingLeft="0px"))}doUpdateViewportAndResizeBoxWithPixcelUnit(){var Ye;if(null!==(Ye=this.xterm)&&void 0!==Ye&&Ye.element){let st=this.xterm.element.getElementsByClassName("xterm-screen")[0],je=this.xterm.element.getElementsByClassName("xterm-viewport")[0];const It=st.clientWidth,se=st.clientHeight,he=this.underlying._core.viewport.scrollBarWidth;parseInt(getComputedStyle(this.hostRef.nativeElement).width),this.renderer.setStyle(je,"width",`${It+he}px`);const cn=It+he+2*this.paddingSize,en=parseInt(getComputedStyle(this.hostRef.nativeElement).width),_t=cn>en?en:cn;this.stylesForResizeBox=Object.assign(Object.assign({},this.stylesForResizeBox),{width:`${_t}px`,height:`${se+2*this.paddingSize}px`}),this.applyStylesToResizeBox(),this.printDimension("After update the dimensions for all boxes with pixel values")}}printDimension(Ye){var st;if((0,e.X6Q)()&&(null===(st=this.xterm)||void 0===st?void 0:st.element)){let je=this.resizeBox.nativeElement,It=this.xterm.element.getElementsByClassName("xterm-screen")[0],se=this.xterm.element.getElementsByClassName("xterm-viewport")[0];const Fe=It.clientWidth,he=It.clientHeight;console.group(`${Ye}`),console.debug(`width(resizeBox): ${getComputedStyle(je).width},\nwidth(viewport): ${getComputedStyle(se).width},\nwidth(screen): ${Fe}\nscrollBarWidth: ${this.scrollBarWidth}`),console.debug(`height(resizeBox): ${getComputedStyle(je).height},\nheight(viewport) ${getComputedStyle(se).height},\nheight(screen): ${he}`),console.groupEnd()}}setupResizeObservers(){this.resizableObservers=[];let Ye=this.observeXtermViewportDimension(),st=this.observeHostDimension();Ye&&this.resizableObservers.push(Ye),st&&this.resizableObservers.push(st)}observeXtermViewportDimension(){let Ye=this.terminalOuter.nativeElement.querySelector(".xterm-viewport");if(Ye){const st=new ResizeObserver(je=>{var It,se;const Fe=null===(It=this.terminalOuter.nativeElement)||void 0===It?void 0:It.clientWidth,he=null===(se=this.terminalOuter.nativeElement)||void 0===se?void 0:se.clientHeight;for(let gt of je)if(gt.contentBoxSize.length>0){let cn=gt.target.clientWidth,Tn=gt.target.clientHeight;(Fe&&cn>Fe||he&&Tn>he)&&(console.debug("Changes on a xterm viewport element will be handled."),this.linearRender.pushAndHandle({time:new Date,type:"xtermViewportExceedingOuterDiv",xtermViewportExceedingOuterDiv:{width:`${cn}`,height:`${Tn}`,outerDivWidth:`${Fe}`,outerDivHeight:`${he}`}},!0))}});return st.observe(Ye),st}console.error("Invalid state is detected. xterm element should exist below .terminal-outer.")}observeHostDimension(){let Ye=this.hostRef.nativeElement,st=this.detectBox.nativeElement;if(Ye&&st){const je=new ResizeObserver(It=>{for(let se of It){if(se.target===Ye&&se.contentBoxSize.length>0){let Fe=getComputedStyle(se.target).width,he=getComputedStyle(se.target).height;parseInt(Fe)>=0&&parseInt(he)>=0&&(console.debug("Changes on a host element will be handled."),this.linearRender.pushAndHandle({time:new Date,type:"hostResized",hostResized:{width:`${Fe}`,height:`${he}`}},!0))}if(se.target===st&&se.contentBoxSize.length>0){let Fe=getComputedStyle(se.target).width;parseInt(Fe)>=0&&parseInt(Fe)<=this.lastDetectedWidth&&(console.debug("Changes on a detect-box element will be handled."),this.linearRender.pushAndHandle({time:new Date,type:"detectBoxResized",detectBoxResized:{width:`${Fe}`}},!0)),this.lastDetectedWidth=parseInt(Fe)}}});return je.observe(Ye),je.observe(st),je}console.error("Invalid state is detected. xterm element should exist below .terminal-outer.")}ngOnDestroy(){this.resizableObservers.forEach(Ye=>Ye.disconnect()),this.keyInputSubjectSubscription&&this.keyInputSubjectSubscription.unsubscribe(),this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.keyEventSubjectSubscription&&this.keyEventSubjectSubscription.unsubscribe(),this.allLogsSubjectSubscription&&this.allLogsSubjectSubscription.unsubscribe(),this.handleToCheckLazyContainer&&clearInterval(this.handleToCheckLazyContainer),this.xterm&&this.xterm.dispose(),console.debug("All resources has been cleaned up.")}write(Ye){var st;null===(st=this.xterm)||void 0===st||st.write(Ye)}get keyInput(){return this.dataSubject}onData(){return this.dataSubject}get keyEventInput(){return this.keySubject}onKey(){return this.keySubject}get underlying(){return this.xterm}get isDraggableOnEdgeActivated(){return this._draggable}get scrollBarWidth(){return this.underlying._core.viewport.scrollBarWidth}onResizeEnd(Ye,st,je,It){this.setOuterDimensions(Ye,st,je,It)}validatorFactory(){return st=>!!this._draggable}findCssStyleRule(Ye){for(let st=0;st<document.styleSheets.length;st++){let je=document.styleSheets.item(st);if(je)for(let It=0;It<je.cssRules.length;It++){let se=je.cssRules.item(It);if("selectorText"in se&&se.selectorText.includes(Ye))return se}}}}return Ft.\u0275fac=function(Ye){return new(Ye||Ft)(e.Y36(e.Qsj),e.Y36(e.SBq))},Ft.\u0275cmp=e.Xpm({type:Ft,selectors:[["ng-terminal"]],viewQuery:function(Ye,st){if(1&Ye&&(e.Gf(Ke,7),e.Gf(be,7),e.Gf(Ge,7)),2&Ye){let je;e.iGM(je=e.CRH())&&(st.terminalOuter=je.first),e.iGM(je=e.CRH())&&(st.resizeBox=je.first),e.iGM(je=e.CRH())&&(st.detectBox=je.first)}},inputs:{_dataSource:["dataSource","_dataSource"],_rowsInput:["rows","_rowsInput"],_colsInput:["cols","_colsInput"],_minWidthInput:["minWidth","_minWidthInput"],_minHeightInput:["minHeight","_minHeightInput"],draggable:"draggable",_xtermOptions:["xtermOptions","_xtermOptions"]},outputs:{keyInputEmitter:"keyInput",keyEventEmitter:"keyEvent",dataEmitter:"data",keyEmitter:"key"},features:[e._Bn([Dt]),e.TTD],decls:11,vars:24,consts:[["mwlResizable","",1,"resize-box",3,"validateResize","enableGhostResize","resizeEnd"],["resizeBox",""],[1,"terminal-outer"],["terminal",""],["mwlResizeHandle","",1,"resize-handle","resize-handle-top",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-left",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-right",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-bottom",3,"ngClass","resizeEdges"],[2,"width","100%","height","0px","position","absolute"],["detectBox",""]],template:function(Ye,st){1&Ye&&(e._UZ(0,"global-style"),e.TgZ(1,"div",0,1),e.NdJ("resizeEnd",function(It){let se;return st.onResizeEnd(It.rectangle.left,It.rectangle.top,null!==(se=It.rectangle.width)&&void 0!==se?se:0,null!==(se=It.rectangle.height)&&void 0!==se?se:0)}),e._UZ(3,"div",2,3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),e.qZA(),e._UZ(9,"div",8,9)),2&Ye&&(e.xp6(1),e.Q6J("validateResize",st.validatorFactory())("enableGhostResize",!0),e.xp6(4),e.Q6J("ngClass",e.VKq(10,ee,st.isDraggableOnEdgeActivated))("resizeEdges",e.DdM(12,xe)),e.xp6(1),e.Q6J("ngClass",e.VKq(13,ee,st.isDraggableOnEdgeActivated))("resizeEdges",e.DdM(15,we)),e.xp6(1),e.Q6J("ngClass",e.VKq(16,ee,st.isDraggableOnEdgeActivated))("resizeEdges",st.isDraggableOnEdgeActivated?e.DdM(18,Pe):e.DdM(19,dt)),e.xp6(1),e.Q6J("ngClass",e.VKq(20,ee,st.isDraggableOnEdgeActivated))("resizeEdges",st.isDraggableOnEdgeActivated?e.DdM(22,bt):e.DdM(23,it)))},dependencies:[W,Te,_.mk,vt],styles:[".terminal-outer[_ngcontent-%COMP%]{box-sizing:border-box;height:100%;width:100%;padding:5px}[_nghost-%COMP%]{display:block;height:100%;width:100%}.resize-box[_ngcontent-%COMP%]{box-sizing:border-box;height:100%;width:100%;position:relative}div[_ngcontent-%COMP%] > .handle-active[_ngcontent-%COMP%]{z-index:100;background-color:#85858a!important}.resize-handle[_ngcontent-%COMP%]{background-color:#000}.resize-handle-top.handle-active[_ngcontent-%COMP%], .resize-handle-bottom.handle-active[_ngcontent-%COMP%]{cursor:row-resize}.resize-handle-left.handle-active[_ngcontent-%COMP%], .resize-handle-right.handle-active[_ngcontent-%COMP%]{cursor:col-resize}.resize-handle-top[_ngcontent-%COMP%], .resize-handle-bottom[_ngcontent-%COMP%]{position:absolute;height:5px;width:100%}.resize-handle-top[_ngcontent-%COMP%]{top:0}.resize-handle-bottom[_ngcontent-%COMP%]{bottom:0}.resize-handle-left[_ngcontent-%COMP%], .resize-handle-right[_ngcontent-%COMP%]{position:absolute;height:100%;width:5px}.resize-handle-left[_ngcontent-%COMP%]{left:0;top:0}.resize-handle-right[_ngcontent-%COMP%]{right:0;top:0}"],changeDetection:0}),Ft})(),zt=(()=>{class Ft{}return Ft.\u0275fac=function(Ye){return new(Ye||Ft)},Ft.\u0275mod=e.oAB({type:Ft}),Ft.\u0275inj=e.cJS({imports:[Ae,_.ez]}),Ft})()},3877:(hn,ht,b)=>{"use strict";b.d(ht,{QG:()=>q,ap:()=>ue});var e=b(5e3),d=b(655),u=b(2313),f=b(9808);const _=["wrapper"],P=["sourceImage"];function x(j,fe){if(1&j){const ne=e.EpF();e.TgZ(0,"img",4,5),e.NdJ("load",function(){e.CHM(ne);const X=e.oxw();return e.KtG(X.imageLoadedInView())})("mousedown",function(X){e.CHM(ne);const W=e.oxw();return e.KtG(W.startMove(X,W.moveTypes.Drag))})("touchstart",function(X){e.CHM(ne);const W=e.oxw();return e.KtG(W.startMove(X,W.moveTypes.Drag))}),e.qZA()}if(2&j){const ne=e.oxw();e.Udp("visibility",ne.imageVisible?"visible":"hidden")("transform",ne.safeTransformStyle),e.ekj("ngx-ic-draggable",!ne.disabled&&ne.allowMoveImage),e.Q6J("src",ne.safeImgDataUrl,e.LSH),e.uIk("alt",ne.imageAltText)}}function a(j,fe){if(1&j){const ne=e.EpF();e.ynx(0),e.TgZ(1,"span",9),e.NdJ("mousedown",function(X){e.CHM(ne);const W=e.oxw(2);return e.KtG(W.startMove(X,W.moveTypes.Resize,"topleft"))})("touchstart",function(X){e.CHM(ne);const W=e.oxw(2);return e.KtG(W.startMove(X,W.moveTypes.Resize,"topleft"))}),e._UZ(2,"span",10),e.qZA(),e.TgZ(3,"span",11),e._UZ(4,"span",10),e.qZA(),e.TgZ(5,"span",12),e.NdJ("mousedown",function(X){e.CHM(ne);const W=e.oxw(2);return e.KtG(W.startMove(X,W.moveTypes.Resize,"topright"))})("touchstart",function(X){e.CHM(ne);const W=e.oxw(2);return e.KtG(W.startMove(X,W.moveTypes.Resize,"topright"))}),e._UZ(6,"span",10),e.qZA(),e.TgZ(7,"span",13),e._UZ(8,"span",10),e.qZA(),e.TgZ(9,"span",14),e.NdJ("mousedown",function(X){e.CHM(ne);const W=e.oxw(2);return e.KtG(W.startMove(X,W.moveTypes.Resize,"bottomright"))})("touchstart",function(X){e.CHM(ne);const W=e.oxw(2);return e.KtG(W.startMove(X,W.moveTypes.Resize,"bottomright"))}),e._UZ(10,"span",10),e.qZA(),e.TgZ(11,"span",15),e._UZ(12,"span",10),e.qZA(),e.TgZ(13,"span",16),e.NdJ("mousedown",function(X){e.CHM(ne);const W=e.oxw(2);return e.KtG(W.startMove(X,W.moveTypes.Resize,"bottomleft"))})("touchstart",function(X){e.CHM(ne);const W=e.oxw(2);return e.KtG(W.startMove(X,W.moveTypes.Resize,"bottomleft"))}),e._UZ(14,"span",10),e.qZA(),e.TgZ(15,"span",17),e._UZ(16,"span",10),e.qZA(),e.TgZ(17,"span",18),e.NdJ("mousedown",function(X){e.CHM(ne);const W=e.oxw(2);return e.KtG(W.startMove(X,W.moveTypes.Resize,"top"))})("touchstart",function(X){e.CHM(ne);const W=e.oxw(2);return e.KtG(W.startMove(X,W.moveTypes.Resize,"top"))}),e.qZA(),e.TgZ(18,"span",19),e.NdJ("mousedown",function(X){e.CHM(ne);const W=e.oxw(2);return e.KtG(W.startMove(X,W.moveTypes.Resize,"right"))})("touchstart",function(X){e.CHM(ne);const W=e.oxw(2);return e.KtG(W.startMove(X,W.moveTypes.Resize,"right"))}),e.qZA(),e.TgZ(19,"span",20),e.NdJ("mousedown",function(X){e.CHM(ne);const W=e.oxw(2);return e.KtG(W.startMove(X,W.moveTypes.Resize,"bottom"))})("touchstart",function(X){e.CHM(ne);const W=e.oxw(2);return e.KtG(W.startMove(X,W.moveTypes.Resize,"bottom"))}),e.qZA(),e.TgZ(20,"span",21),e.NdJ("mousedown",function(X){e.CHM(ne);const W=e.oxw(2);return e.KtG(W.startMove(X,W.moveTypes.Resize,"left"))})("touchstart",function(X){e.CHM(ne);const W=e.oxw(2);return e.KtG(W.startMove(X,W.moveTypes.Resize,"left"))}),e.qZA(),e.BQk()}}function R(j,fe){if(1&j){const ne=e.EpF();e.TgZ(0,"div",6),e.NdJ("keydown",function(X){e.CHM(ne);const W=e.oxw();return e.KtG(W.keyboardAccess(X))}),e.TgZ(1,"div",7),e.NdJ("mousedown",function(X){e.CHM(ne);const W=e.oxw();return e.KtG(W.startMove(X,W.moveTypes.Move))})("touchstart",function(X){e.CHM(ne);const W=e.oxw();return e.KtG(W.startMove(X,W.moveTypes.Move))}),e.qZA(),e.YNc(2,a,21,0,"ng-container",8),e.qZA()}if(2&j){const ne=e.oxw();e.Udp("top",ne.cropper.y1,"px")("left",ne.cropper.x1,"px")("width",ne.cropper.x2-ne.cropper.x1,"px")("height",ne.cropper.y2-ne.cropper.y1,"px")("margin-left","center"===ne.alignImage?ne.marginLeft:null)("visibility",ne.imageVisible?"visible":"hidden"),e.ekj("ngx-ic-round",ne.roundCropper),e.xp6(2),e.Q6J("ngIf",!ne.hideResizeSquares)}}class L{constructor(){this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resetCropOnAspectRatioChange=!0,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=null,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(fe){Object.keys(fe).filter(ne=>ne in this).forEach(ne=>this[ne]=fe[ne]),this.validateOptions()}setOptionsFromChanges(fe){Object.keys(fe).filter(ne=>ne in this).forEach(ne=>this[ne]=fe[ne].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}}var V=(()=>{return(j=V||(V={})).Drag="drag",j.Move="move",j.Resize="resize",j.Pinch="pinch",V;var j})();function k(j,fe){return j/100*fe}let B=(()=>{class j{crop(ne,J,X,W){const Y=this.getImagePosition(ne,J,X,W),Te=Y.x2-Y.x1,Ae=Y.y2-Y.y1,Ke=document.createElement("canvas");Ke.width=Te,Ke.height=Ae;const be=Ke.getContext("2d");if(!be)return null;null!=W.backgroundColor&&(be.fillStyle=W.backgroundColor,be.fillRect(0,0,Te,Ae));const Ge=(W.transform.scale||1)*(W.transform.flipH?-1:1),ee=(W.transform.scale||1)*(W.transform.flipV?-1:1),{translateH:xe,translateV:we}=this.getCanvasTranslate(ne,J,W),Pe=J.transformed;be.setTransform(Ge,0,0,ee,Pe.size.width/2+xe,Pe.size.height/2+we),be.translate(-Y.x1/Ge,-Y.y1/ee),be.rotate((W.transform.rotate||0)*Math.PI/180),be.drawImage(Pe.image,-Pe.size.width/2,-Pe.size.height/2);const dt={width:Te,height:Ae,imagePosition:Y,cropperPosition:Object.assign({},X)};W.containWithinAspectRatio&&(dt.offsetImagePosition=this.getOffsetImagePosition(ne,J,X,W));const bt=this.getResizeRatio(Te,Ae,W);return 1!==bt&&(dt.width=Math.round(Te*bt),dt.height=W.maintainAspectRatio?Math.round(dt.width/W.aspectRatio):Math.round(Ae*bt),function D(j,fe,ne){const J=j.width,X=j.height,W=J/(fe=Math.round(fe)),Y=X/(ne=Math.round(ne)),Te=Math.ceil(W/2),Ae=Math.ceil(Y/2),Ke=j.getContext("2d");if(Ke){const be=Ke.getImageData(0,0,J,X),Ge=Ke.createImageData(fe,ne),ee=be.data,xe=Ge.data;for(let we=0;we<ne;we++)for(let Pe=0;Pe<fe;Pe++){const dt=4*(Pe+we*fe),bt=we*Y;let it=0,Dt=0,vt=0,Wt=0,zt=0,Ut=0,ct=0;const at=Math.floor(Pe*W),me=Math.floor(we*Y);let De=Math.ceil((Pe+1)*W),ot=Math.ceil((we+1)*Y);De=Math.min(De,J),ot=Math.min(ot,X);for(let Ct=me;Ct<ot;Ct++){const Ot=Math.abs(bt-Ct)/Ae,Ft=Pe*W,Mt=Ot*Ot;for(let Ye=at;Ye<De;Ye++){const st=Math.abs(Ft-Ye)/Te,je=Math.sqrt(Mt+st*st);if(je>=1)continue;it=2*je*je*je-3*je*je+1;const It=4*(Ye+Ct*J);ct+=it*ee[It+3],vt+=it,ee[It+3]<255&&(it=it*ee[It+3]/250),Wt+=it*ee[It],zt+=it*ee[It+1],Ut+=it*ee[It+2],Dt+=it}}xe[dt]=Wt/Dt,xe[dt+1]=zt/Dt,xe[dt+2]=Ut/Dt,xe[dt+3]=ct/vt}j.width=fe,j.height=ne,Ke.putImageData(Ge,0,0)}}(Ke,dt.width,dt.height)),dt.base64=Ke.toDataURL("image/"+W.format,this.getQuality(W)),dt}getCanvasTranslate(ne,J,X){if("px"===X.transform.translateUnit){const W=this.getRatio(ne,J);return{translateH:(X.transform.translateH||0)*W,translateV:(X.transform.translateV||0)*W}}return{translateH:X.transform.translateH?k(X.transform.translateH,J.transformed.size.width):0,translateV:X.transform.translateV?k(X.transform.translateV,J.transformed.size.height):0}}getRatio(ne,J){return J.transformed.size.width/ne.nativeElement.offsetWidth}getImagePosition(ne,J,X,W){const Y=this.getRatio(ne,J),Te={x1:Math.round(X.x1*Y),y1:Math.round(X.y1*Y),x2:Math.round(X.x2*Y),y2:Math.round(X.y2*Y)};return W.containWithinAspectRatio||(Te.x1=Math.max(Te.x1,0),Te.y1=Math.max(Te.y1,0),Te.x2=Math.min(Te.x2,J.transformed.size.width),Te.y2=Math.min(Te.y2,J.transformed.size.height)),Te}getOffsetImagePosition(ne,J,X,W){const Ae=J.transformed.size.width/ne.nativeElement.offsetWidth;let Ke,be;(W.canvasRotation+J.exifTransform.rotate)%2?(Ke=(J.transformed.size.width-J.original.size.height)/2,be=(J.transformed.size.height-J.original.size.width)/2):(Ke=(J.transformed.size.width-J.original.size.width)/2,be=(J.transformed.size.height-J.original.size.height)/2);const Ge={x1:Math.round(X.x1*Ae)-Ke,y1:Math.round(X.y1*Ae)-be,x2:Math.round(X.x2*Ae)-Ke,y2:Math.round(X.y2*Ae)-be};return W.containWithinAspectRatio||(Ge.x1=Math.max(Ge.x1,0),Ge.y1=Math.max(Ge.y1,0),Ge.x2=Math.min(Ge.x2,J.transformed.size.width),Ge.y2=Math.min(Ge.y2,J.transformed.size.height)),Ge}getResizeRatio(ne,J,X){const W=X.resizeToWidth/ne,Y=X.resizeToHeight/J,Te=new Array;X.resizeToWidth>0&&Te.push(W),X.resizeToHeight>0&&Te.push(Y);const Ae=0===Te.length?1:Math.min(...Te);return Ae>1&&!X.onlyScaleDown?Ae:Math.min(Ae,1)}getQuality(ne){return Math.min(1,Math.max(0,ne.imageQuality/100))}}return j.\u0275fac=function(ne){return new(ne||j)},j.\u0275prov=e.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})(),N=(()=>{class j{resetCropperPosition(ne,J,X){if(null==ne||!ne.nativeElement)return;const W=ne.nativeElement;if(X.cropperStaticHeight&&X.cropperStaticWidth)J.x1=0,J.x2=W.offsetWidth>X.cropperStaticWidth?X.cropperStaticWidth:W.offsetWidth,J.y1=0,J.y2=W.offsetHeight>X.cropperStaticHeight?X.cropperStaticHeight:W.offsetHeight;else{const Y=Math.min(X.cropperScaledMaxWidth,W.offsetWidth),Te=Math.min(X.cropperScaledMaxHeight,W.offsetHeight);if(X.maintainAspectRatio)if(W.offsetWidth/X.aspectRatio<W.offsetHeight){J.x1=0,J.x2=Y;const Ae=Y/X.aspectRatio;J.y1=(W.offsetHeight-Ae)/2,J.y2=J.y1+Ae}else{J.y1=0,J.y2=Te;const Ae=Te*X.aspectRatio;J.x1=(W.offsetWidth-Ae)/2,J.x2=J.x1+Ae}else J.x1=0,J.x2=Y,J.y1=0,J.y2=Te}}move(ne,J,X){const W=this.getClientX(ne)-J.clientX,Y=this.getClientY(ne)-J.clientY;X.x1=J.x1+W,X.y1=J.y1+Y,X.x2=J.x2+W,X.y2=J.y2+Y}resize(ne,J,X,W,Y){const Te=this.getClientX(ne)-J.clientX,Ae=this.getClientY(ne)-J.clientY;switch(J.position){case"left":X.x1=Math.min(Math.max(J.x1+Te,X.x2-Y.cropperScaledMaxWidth),X.x2-Y.cropperScaledMinWidth);break;case"topleft":X.x1=Math.min(Math.max(J.x1+Te,X.x2-Y.cropperScaledMaxWidth),X.x2-Y.cropperScaledMinWidth),X.y1=Math.min(Math.max(J.y1+Ae,X.y2-Y.cropperScaledMaxHeight),X.y2-Y.cropperScaledMinHeight);break;case"top":X.y1=Math.min(Math.max(J.y1+Ae,X.y2-Y.cropperScaledMaxHeight),X.y2-Y.cropperScaledMinHeight);break;case"topright":X.x2=Math.max(Math.min(J.x2+Te,X.x1+Y.cropperScaledMaxWidth),X.x1+Y.cropperScaledMinWidth),X.y1=Math.min(Math.max(J.y1+Ae,X.y2-Y.cropperScaledMaxHeight),X.y2-Y.cropperScaledMinHeight);break;case"right":X.x2=Math.max(Math.min(J.x2+Te,X.x1+Y.cropperScaledMaxWidth),X.x1+Y.cropperScaledMinWidth);break;case"bottomright":X.x2=Math.max(Math.min(J.x2+Te,X.x1+Y.cropperScaledMaxWidth),X.x1+Y.cropperScaledMinWidth),X.y2=Math.max(Math.min(J.y2+Ae,X.y1+Y.cropperScaledMaxHeight),X.y1+Y.cropperScaledMinHeight);break;case"bottom":X.y2=Math.max(Math.min(J.y2+Ae,X.y1+Y.cropperScaledMaxHeight),X.y1+Y.cropperScaledMinHeight);break;case"bottomleft":X.x1=Math.min(Math.max(J.x1+Te,X.x2-Y.cropperScaledMaxWidth),X.x2-Y.cropperScaledMinWidth),X.y2=Math.max(Math.min(J.y2+Ae,X.y1+Y.cropperScaledMaxHeight),X.y1+Y.cropperScaledMinHeight);break;case"center":const Ke=ne.scale,be=Math.min(Math.max(Y.cropperScaledMinWidth,Math.abs(J.x2-J.x1)*Ke),Y.cropperScaledMaxWidth),Ge=Math.min(Math.max(Y.cropperScaledMinHeight,Math.abs(J.y2-J.y1)*Ke),Y.cropperScaledMaxHeight);X.x1=J.clientX-be/2,X.x2=J.clientX+be/2,X.y1=J.clientY-Ge/2,X.y2=J.clientY+Ge/2,X.x1<0?(X.x2-=X.x1,X.x1=0):X.x2>W.width&&(X.x1-=X.x2-W.width,X.x2=W.width),X.y1<0?(X.y2-=X.y1,X.y1=0):X.y2>W.height&&(X.y1-=X.y2-W.height,X.y2=W.height)}Y.maintainAspectRatio&&this.checkAspectRatio(J.position,X,W,Y)}checkAspectRatio(ne,J,X,W){let Y=0,Te=0;switch(ne){case"top":J.x2=J.x1+(J.y2-J.y1)*W.aspectRatio,Y=Math.max(J.x2-X.width,0),Te=Math.max(0-J.y1,0),(Y>0||Te>0)&&(J.x2-=Te*W.aspectRatio>Y?Te*W.aspectRatio:Y,J.y1+=Te*W.aspectRatio>Y?Te:Y/W.aspectRatio);break;case"bottom":J.x2=J.x1+(J.y2-J.y1)*W.aspectRatio,Y=Math.max(J.x2-X.width,0),Te=Math.max(J.y2-X.height,0),(Y>0||Te>0)&&(J.x2-=Te*W.aspectRatio>Y?Te*W.aspectRatio:Y,J.y2-=Te*W.aspectRatio>Y?Te:Y/W.aspectRatio);break;case"topleft":J.y1=J.y2-(J.x2-J.x1)/W.aspectRatio,Y=Math.max(0-J.x1,0),Te=Math.max(0-J.y1,0),(Y>0||Te>0)&&(J.x1+=Te*W.aspectRatio>Y?Te*W.aspectRatio:Y,J.y1+=Te*W.aspectRatio>Y?Te:Y/W.aspectRatio);break;case"topright":J.y1=J.y2-(J.x2-J.x1)/W.aspectRatio,Y=Math.max(J.x2-X.width,0),Te=Math.max(0-J.y1,0),(Y>0||Te>0)&&(J.x2-=Te*W.aspectRatio>Y?Te*W.aspectRatio:Y,J.y1+=Te*W.aspectRatio>Y?Te:Y/W.aspectRatio);break;case"right":case"bottomright":J.y2=J.y1+(J.x2-J.x1)/W.aspectRatio,Y=Math.max(J.x2-X.width,0),Te=Math.max(J.y2-X.height,0),(Y>0||Te>0)&&(J.x2-=Te*W.aspectRatio>Y?Te*W.aspectRatio:Y,J.y2-=Te*W.aspectRatio>Y?Te:Y/W.aspectRatio);break;case"left":case"bottomleft":J.y2=J.y1+(J.x2-J.x1)/W.aspectRatio,Y=Math.max(0-J.x1,0),Te=Math.max(J.y2-X.height,0),(Y>0||Te>0)&&(J.x1+=Te*W.aspectRatio>Y?Te*W.aspectRatio:Y,J.y2-=Te*W.aspectRatio>Y?Te:Y/W.aspectRatio);break;case"center":J.x2=J.x1+(J.y2-J.y1)*W.aspectRatio,J.y2=J.y1+(J.x2-J.x1)/W.aspectRatio;const Ae=Math.max(0-J.x1,0),Ke=Math.max(J.x2-X.width,0),be=Math.max(J.y2-X.height,0),Ge=Math.max(0-J.y1,0);(Ae>0||Ke>0||be>0||Ge>0)&&(J.x1+=be*W.aspectRatio>Ae?be*W.aspectRatio:Ae,J.x2-=Ge*W.aspectRatio>Ke?Ge*W.aspectRatio:Ke,J.y1+=Ge*W.aspectRatio>Ke?Ge:Ke/W.aspectRatio,J.y2-=be*W.aspectRatio>Ae?be:Ae/W.aspectRatio)}}getClientX(ne){var J;return(null===(J=ne.touches)||void 0===J?void 0:J[0].clientX)||ne.clientX||0}getClientY(ne){var J;return(null===(J=ne.touches)||void 0===J?void 0:J[0].clientY)||ne.clientY||0}}return j.\u0275fac=function(ne){return new(ne||j)},j.\u0275prov=e.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})();let K=(()=>{class j{constructor(){this.autoRotateSupported=function $(){return new Promise(j=>{const fe=new Image;fe.onload=()=>{j(1===fe.width&&2===fe.height)},fe.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}()}loadImageFile(ne,J){return new Promise((X,W)=>{const Y=new FileReader;Y.onload=Te=>{this.loadImage(Te.target.result,ne.type,J).then(X).catch(W)},Y.readAsDataURL(ne)})}loadImage(ne,J,X){return this.isValidImageType(J)?this.loadBase64Image(ne,X):Promise.reject(new Error("Invalid image type"))}isValidImageType(ne){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp|x-icon|vnd.microsoft.icon)/.test(ne)}loadImageFromURL(ne,J){return new Promise((X,W)=>{const Y=new Image;Y.onerror=()=>W,Y.onload=()=>{const Te=document.createElement("canvas"),Ae=Te.getContext("2d");Te.width=Y.width,Te.height=Y.height,null==Ae||Ae.drawImage(Y,0,0),this.loadBase64Image(Te.toDataURL(),J).then(X)},Y.crossOrigin="anonymous",Y.src=ne})}loadBase64Image(ne,J){return new Promise((X,W)=>{const Y=new Image;Y.onload=()=>X({originalImage:Y,originalBase64:ne}),Y.onerror=W,Y.src=ne}).then(X=>this.transformImageBase64(X,J))}transformImageBase64(ne,J){return(0,d.mG)(this,void 0,void 0,function*(){const X=yield this.autoRotateSupported,W=yield function z(j){switch("string"==typeof j&&(j=function S(j){const fe=new DataView(function O(j){j=j.replace(/^data\:([^\;]+)\;base64,/gim,"");const fe=atob(j),ne=fe.length,J=new Uint8Array(ne);for(let X=0;X<ne;X++)J[X]=fe.charCodeAt(X);return J.buffer}(j));if(65496!==fe.getUint16(0,!1))return-2;const ne=fe.byteLength;let J=2;for(;J<ne;){if(fe.getUint16(J+2,!1)<=8)return-1;const X=fe.getUint16(J,!1);if(J+=2,65505==X){if(1165519206!==fe.getUint32(J+=2,!1))return-1;const W=18761==fe.getUint16(J+=6,!1);J+=fe.getUint32(J+4,W);const Y=fe.getUint16(J,W);J+=2;for(let Te=0;Te<Y;Te++)if(274==fe.getUint16(J+12*Te,W))return fe.getUint16(J+12*Te+8,W)}else{if(65280!=(65280&X))break;J+=fe.getUint16(J,!1)}}return-1}(j)),j){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(X?-1:ne.originalBase64);return ne.originalImage&&ne.originalImage.complete?this.transformLoadedImage({original:{base64:ne.originalBase64,image:ne.originalImage,size:{width:ne.originalImage.naturalWidth,height:ne.originalImage.naturalHeight}},exifTransform:W},J):Promise.reject(new Error("No image loaded"))})}transformLoadedImage(ne,J){return(0,d.mG)(this,void 0,void 0,function*(){const X=J.canvasRotation+ne.exifTransform.rotate,W={width:ne.original.image.naturalWidth,height:ne.original.image.naturalHeight};if(0===X&&!ne.exifTransform.flip&&!J.containWithinAspectRatio)return{original:{base64:ne.original.base64,image:ne.original.image,size:Object.assign({},W)},transformed:{base64:ne.original.base64,image:ne.original.image,size:Object.assign({},W)},exifTransform:ne.exifTransform};const Y=this.getTransformedSize(W,ne.exifTransform,J),Te=document.createElement("canvas");Te.width=Y.width,Te.height=Y.height;const Ae=Te.getContext("2d");null==Ae||Ae.setTransform(ne.exifTransform.flip?-1:1,0,0,1,Te.width/2,Te.height/2),null==Ae||Ae.rotate(Math.PI*(X/2)),null==Ae||Ae.drawImage(ne.original.image,-W.width/2,-W.height/2);const Ke=Te.toDataURL(),be=yield this.loadImageFromBase64(Ke);return{original:{base64:ne.original.base64,image:ne.original.image,size:Object.assign({},W)},transformed:{base64:Ke,image:be,size:{width:be.width,height:be.height}},exifTransform:ne.exifTransform}})}loadImageFromBase64(ne){return new Promise((J,X)=>{const W=new Image;W.onload=()=>J(W),W.onerror=X,W.src=ne})}getTransformedSize(ne,J,X){const W=X.canvasRotation+J.rotate;if(X.containWithinAspectRatio){if(W%2){const Te=ne.height/X.aspectRatio;return{width:Math.max(ne.height,ne.width*X.aspectRatio),height:Math.max(ne.width,Te)}}{const Te=ne.width/X.aspectRatio;return{width:Math.max(ne.width,ne.height*X.aspectRatio),height:Math.max(ne.height,Te)}}}return W%2?{height:ne.width,width:ne.height}:{width:ne.width,height:ne.height}}}return j.\u0275fac=function(ne){return new(ne||j)},j.\u0275prov=e.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})(),ue=(()=>{class j{constructor(ne,J,X,W,Y){this.cropService=ne,this.cropperPositionService=J,this.loadImageService=X,this.sanitizer=W,this.cd=Y,this.Hammer=(null==window?void 0:window.Hammer)||null,this.settings=new L,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.marginLeft="0px",this.maxSize={width:0,height:0},this.moveTypes=V,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resetCropOnAspectRatioChange=this.settings.resetCropOnAspectRatioChange,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.allowMoveImage=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.hidden=!1,this.imageCropped=new e.vpe,this.startCropImage=new e.vpe,this.imageLoaded=new e.vpe,this.cropperReady=new e.vpe,this.loadImageFailed=new e.vpe,this.transformChange=new e.vpe,this.reset()}ngOnChanges(ne){var J;this.onChangesUpdateSettings(ne),this.onChangesInputImage(ne),(null===(J=this.loadedImage)||void 0===J?void 0:J.original.image.complete)&&(ne.containWithinAspectRatio||ne.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(X=>this.setLoadedImage(X)).catch(X=>this.loadImageError(X)),(ne.cropper||ne.maintainAspectRatio||ne.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),!this.maintainAspectRatio||!this.resetCropOnAspectRatioChange&&this.aspectRatioIsCorrect()||!ne.maintainAspectRatio&&!ne.aspectRatio?ne.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop()):this.resetCropperPosition(),this.cd.markForCheck()),ne.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop(),this.cd.markForCheck()),ne.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesUpdateSettings(ne){this.settings.setOptionsFromChanges(ne),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})}onChangesInputImage(ne){(ne.imageChangedEvent||ne.imageURL||ne.imageBase64||ne.imageFile)&&this.reset(),ne.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),ne.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),ne.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),ne.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){var ne,J,X;return(null===(X=null===(J=null===(ne=this.imageChangedEvent)||void 0===ne?void 0:ne.target)||void 0===J?void 0:J.files)||void 0===X?void 0:X.length)>0}setCssTransform(){var ne;const J=(null===(ne=this.transform)||void 0===ne?void 0:ne.translateUnit)||"%";this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle(`translate(${this.transform.translateH||0}${J}, ${this.transform.translateV||0}${J}) scaleX(`+(this.transform.scale||1)*(this.transform.flipH?-1:1)+") scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+") rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=void 0,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(ne){this.loadImageService.loadImageFile(ne,this.settings).then(J=>this.setLoadedImage(J)).catch(J=>this.loadImageError(J))}loadBase64Image(ne){this.loadImageService.loadBase64Image(ne,this.settings).then(J=>this.setLoadedImage(J)).catch(J=>this.loadImageError(J))}loadImageFromURL(ne){this.loadImageService.loadImageFromURL(ne,this.settings).then(J=>this.setLoadedImage(J)).catch(J=>this.loadImageError(J))}setLoadedImage(ne){this.loadedImage=ne,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(ne.transformed.base64),this.cd.markForCheck()}loadImageError(ne){console.error(ne),this.loadImageFailed.emit()}imageLoadedInView(){null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){var ne,J;return(null===(J=null===(ne=this.sourceImage)||void 0===ne?void 0:ne.nativeElement)||void 0===J?void 0:J.offsetWidth)>0}onResize(){!this.loadedImage||(this.hidden?this.resizedWhileHidden=!0:(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()))}activatePinchGesture(){if(this.Hammer){const ne=new this.Hammer(this.wrapper.nativeElement);ne.get("pinch").set({enable:!0}),ne.on("pinchmove",this.onPinch.bind(this)),ne.on("pinchend",this.pinchStop.bind(this)),ne.on("pinchstart",this.startPinch.bind(this))}else(0,e.X6Q)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}resizeCropperPosition(){const ne=this.sourceImage.nativeElement;(this.maxSize.width!==ne.offsetWidth||this.maxSize.height!==ne.offsetHeight)&&(this.cropper.x1=this.cropper.x1*ne.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*ne.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*ne.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*ne.offsetHeight/this.maxSize.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(ne){this.changeKeyboardStepSize(ne),this.keyboardMoveCropper(ne)}changeKeyboardStepSize(ne){const J=+ne.key;J>=1&&J<=9&&(this.settings.stepSize=J)}keyboardMoveCropper(ne){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(ne.key))return;const X=ne.shiftKey?V.Resize:V.Move,W=ne.altKey?function T(j){switch(j){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";default:return"right"}}(ne.key):function F(j){switch(j){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";default:return"left"}}(ne.key),Y=function y(j,fe){switch(j){case"ArrowUp":return{clientX:0,clientY:-1*fe};case"ArrowRight":return{clientX:fe,clientY:0};case"ArrowDown":return{clientX:0,clientY:fe};default:return{clientX:-1*fe,clientY:0}}}(ne.key,this.settings.stepSize);ne.preventDefault(),ne.stopPropagation(),this.startMove({clientX:0,clientY:0},X,W),this.moveImg(Y),this.moveStop()}startMove(ne,J,X=null){var W,Y;this.disabled||(null===(W=this.moveStart)||void 0===W?void 0:W.active)&&(null===(Y=this.moveStart)||void 0===Y?void 0:Y.type)===V.Pinch||J===V.Drag&&!this.allowMoveImage||(ne.preventDefault&&ne.preventDefault(),this.moveStart=Object.assign({active:!0,type:J,position:X,transform:Object.assign({},this.transform),clientX:this.cropperPositionService.getClientX(ne),clientY:this.cropperPositionService.getClientY(ne)},this.cropper))}startPinch(ne){!this.safeImgDataUrl||(ne.preventDefault&&ne.preventDefault(),this.moveStart=Object.assign({active:!0,type:V.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}moveImg(ne){var J,X;if(this.moveStart.active){if(ne.stopPropagation&&ne.stopPropagation(),ne.preventDefault&&ne.preventDefault(),this.moveStart.type===V.Move)this.cropperPositionService.move(ne,this.moveStart,this.cropper),this.checkCropperPosition(!0);else if(this.moveStart.type===V.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(ne,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1);else if(this.moveStart.type===V.Drag){const W=this.cropperPositionService.getClientX(ne)-this.moveStart.clientX,Y=this.cropperPositionService.getClientY(ne)-this.moveStart.clientY;this.transform=Object.assign(Object.assign({},this.transform),{translateH:((null===(J=this.moveStart.transform)||void 0===J?void 0:J.translateH)||0)+W,translateV:((null===(X=this.moveStart.transform)||void 0===X?void 0:X.translateV)||0)+Y}),this.setCssTransform()}this.cd.detectChanges()}}onPinch(ne){this.moveStart.active&&(ne.stopPropagation&&ne.stopPropagation(),ne.preventDefault&&ne.preventDefault(),this.moveStart.type===V.Pinch&&(this.cropperPositionService.resize(ne,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}setMaxSize(){if(this.sourceImage){const ne=this.sourceImage.nativeElement;this.maxSize.width=ne.offsetWidth,this.maxSize.height=ne.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){var ne,J;null!==(J=null===(ne=this.loadedImage)||void 0===ne?void 0:ne.transformed)&&void 0!==J&&J.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}setCropperScaledMaxSize(){var ne,J;if(null!==(J=null===(ne=this.loadedImage)||void 0===ne?void 0:ne.transformed)&&void 0!==J&&J.image){const X=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/X:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/X:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(ne=!1){this.cropper.x1<0&&(this.cropper.x2-=ne?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=ne?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=ne?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=ne?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}moveStop(){var ne;this.moveStart.active&&(this.moveStart.active=!1,(null===(ne=this.moveStart)||void 0===ne?void 0:ne.type)===V.Drag?this.transformChange.emit(this.transform):this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(){var ne,J;if(null!=(null===(J=null===(ne=this.loadedImage)||void 0===ne?void 0:ne.transformed)||void 0===J?void 0:J.image)){this.startCropImage.emit();const X=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=X&&this.imageCropped.emit(X),X}return null}aspectRatioIsCorrect(){return(this.cropper.x2-this.cropper.x1)/(this.cropper.y2-this.cropper.y1)===this.aspectRatio}}return j.\u0275fac=function(ne){return new(ne||j)(e.Y36(B),e.Y36(N),e.Y36(K),e.Y36(u.H7),e.Y36(e.sBO))},j.\u0275cmp=e.Xpm({type:j,selectors:[["image-cropper"]],viewQuery:function(ne,J){if(1&ne&&(e.Gf(_,7),e.Gf(P,5)),2&ne){let X;e.iGM(X=e.CRH())&&(J.wrapper=X.first),e.iGM(X=e.CRH())&&(J.sourceImage=X.first)}},hostVars:6,hostBindings:function(ne,J){1&ne&&e.NdJ("resize",function(){return J.onResize()},!1,e.Jf7)("mousemove",function(W){return J.moveImg(W)},!1,e.evT)("touchmove",function(W){return J.moveImg(W)},!1,e.evT)("mouseup",function(){return J.moveStop()},!1,e.evT)("touchend",function(){return J.moveStop()},!1,e.evT),2&ne&&(e.Udp("text-align",J.alignImage),e.ekj("disabled",J.disabled)("ngx-ix-hidden",J.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",imageAltText:"imageAltText",format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange"},features:[e.TTD],decls:5,vars:10,consts:[["wrapper",""],["class","ngx-ic-source-image",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"ngx-ic-source-image",3,"src","load","mousedown","touchstart"],["sourceImage",""],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],[1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],[1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],[1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],[1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],[1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(ne,J){1&ne&&(e.TgZ(0,"div",null,0),e.YNc(2,x,2,8,"img",1),e._UZ(3,"div",2),e.YNc(4,R,3,15,"div",3),e.qZA()),2&ne&&(e.Udp("background",J.imageVisible&&J.backgroundColor),e.xp6(2),e.Q6J("ngIf",J.safeImgDataUrl),e.xp6(1),e.Udp("width",J.maxSize.width,"px")("height",J.maxSize.height,"px")("margin-left","center"===J.alignImage?J.marginLeft:null),e.xp6(1),e.Q6J("ngIf",J.imageVisible))},dependencies:[f.O5],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ix-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0}),j})(),q=(()=>{class j{}return j.\u0275fac=function(ne){return new(ne||j)},j.\u0275mod=e.oAB({type:j}),j.\u0275inj=e.cJS({imports:[[f.ez]]}),j})()},9354:(hn,ht,b)=>{"use strict";b.d(ht,{lF:()=>Hn,JP:()=>io});var e=b(5e3),d=b(7579),u=b(6451),f=b(9646),_=b(5963),P=b(3900),x=b(9718),a=b(1884),R=b(4782),L=b(8675),V=b(4004),F=b(2722),y=(b(590),b(9808));let k={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const N=/[&<>"']/,ce=new RegExp(N.source,"g"),$=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,z=new RegExp($.source,"g"),S={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},O=Ht=>S[Ht];function K(Ht,Je){if(Je){if(N.test(Ht))return Ht.replace(ce,O)}else if($.test(Ht))return Ht.replace(z,O);return Ht}const ue=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function q(Ht){return Ht.replace(ue,(Je,ye)=>"colon"===(ye=ye.toLowerCase())?":":"#"===ye.charAt(0)?"x"===ye.charAt(1)?String.fromCharCode(parseInt(ye.substring(2),16)):String.fromCharCode(+ye.substring(1)):"")}const G=/(^|[^\[])\^/g;function j(Ht,Je){Ht="string"==typeof Ht?Ht:Ht.source,Je=Je||"";const ye={replace:(He,ut)=>(ut=(ut=ut.source||ut).replace(G,"$1"),Ht=Ht.replace(He,ut),ye),getRegex:()=>new RegExp(Ht,Je)};return ye}const fe=/[^\w:]/g,ne=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function J(Ht,Je,ye){if(Ht){let He;try{He=decodeURIComponent(q(ye)).replace(fe,"").toLowerCase()}catch(ut){return null}if(0===He.indexOf("javascript:")||0===He.indexOf("vbscript:")||0===He.indexOf("data:"))return null}Je&&!ne.test(ye)&&(ye=function Ae(Ht,Je){X[" "+Ht]||(X[" "+Ht]=W.test(Ht)?Ht+"/":ee(Ht,"/",!0));const ye=-1===(Ht=X[" "+Ht]).indexOf(":");return"//"===Je.substring(0,2)?ye?Je:Ht.replace(Y,"$1")+Je:"/"===Je.charAt(0)?ye?Je:Ht.replace(Te,"$1")+Je:Ht+Je}(Je,ye));try{ye=encodeURI(ye).replace(/%25/g,"%")}catch(He){return null}return ye}const X={},W=/^[^:]+:\/*[^/]*$/,Y=/^([^:]+:)[\s\S]*$/,Te=/^([^:]+:\/*[^/]*)[\s\S]*$/,Ke={exec:function(){}};function be(Ht){let ye,He,Je=1;for(;Je<arguments.length;Je++)for(He in ye=arguments[Je],ye)Object.prototype.hasOwnProperty.call(ye,He)&&(Ht[He]=ye[He]);return Ht}function Ge(Ht,Je){const He=Ht.replace(/\|/g,(dn,In,Rt)=>{let bn=!1,yn=In;for(;--yn>=0&&"\\"===Rt[yn];)bn=!bn;return bn?"|":" |"}).split(/ \|/);let ut=0;if(He[0].trim()||He.shift(),He.length>0&&!He[He.length-1].trim()&&He.pop(),He.length>Je)He.splice(Je);else for(;He.length<Je;)He.push("");for(;ut<He.length;ut++)He[ut]=He[ut].trim().replace(/\\\|/g,"|");return He}function ee(Ht,Je,ye){const He=Ht.length;if(0===He)return"";let ut=0;for(;ut<He;){const dn=Ht.charAt(He-ut-1);if(dn!==Je||ye){if(dn===Je||!ye)break;ut++}else ut++}return Ht.slice(0,He-ut)}function we(Ht){Ht&&Ht.sanitize&&!Ht.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Pe(Ht,Je){if(Je<1)return"";let ye="";for(;Je>1;)1&Je&&(ye+=Ht),Je>>=1,Ht+=Ht;return ye+Ht}function dt(Ht,Je,ye,He){const ut=Je.href,dn=Je.title?K(Je.title):null,In=Ht[1].replace(/\\([\[\]])/g,"$1");if("!"!==Ht[0].charAt(0)){He.state.inLink=!0;const Rt={type:"link",raw:ye,href:ut,title:dn,text:In,tokens:He.inlineTokens(In)};return He.state.inLink=!1,Rt}return{type:"image",raw:ye,href:ut,title:dn,text:K(In)}}class it{constructor(Je){this.options=Je||k}space(Je){const ye=this.rules.block.newline.exec(Je);if(ye&&ye[0].length>0)return{type:"space",raw:ye[0]}}code(Je){const ye=this.rules.block.code.exec(Je);if(ye){const He=ye[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:ye[0],codeBlockStyle:"indented",text:this.options.pedantic?He:ee(He,"\n")}}}fences(Je){const ye=this.rules.block.fences.exec(Je);if(ye){const He=ye[0],ut=function bt(Ht,Je){const ye=Ht.match(/^(\s+)(?:```)/);if(null===ye)return Je;const He=ye[1];return Je.split("\n").map(ut=>{const dn=ut.match(/^\s+/);if(null===dn)return ut;const[In]=dn;return In.length>=He.length?ut.slice(He.length):ut}).join("\n")}(He,ye[3]||"");return{type:"code",raw:He,lang:ye[2]?ye[2].trim().replace(this.rules.inline._escapes,"$1"):ye[2],text:ut}}}heading(Je){const ye=this.rules.block.heading.exec(Je);if(ye){let He=ye[2].trim();if(/#$/.test(He)){const ut=ee(He,"#");(this.options.pedantic||!ut||/ $/.test(ut))&&(He=ut.trim())}return{type:"heading",raw:ye[0],depth:ye[1].length,text:He,tokens:this.lexer.inline(He)}}}hr(Je){const ye=this.rules.block.hr.exec(Je);if(ye)return{type:"hr",raw:ye[0]}}blockquote(Je){const ye=this.rules.block.blockquote.exec(Je);if(ye){const He=ye[0].replace(/^ *>[ \t]?/gm,""),ut=this.lexer.state.top;this.lexer.state.top=!0;const dn=this.lexer.blockTokens(He);return this.lexer.state.top=ut,{type:"blockquote",raw:ye[0],tokens:dn,text:He}}}list(Je){let ye=this.rules.block.list.exec(Je);if(ye){let He,ut,dn,In,Rt,bn,yn,Wn,ii,pi,ti,Di,qi=ye[1].trim();const Do=qi.length>1,li={type:"list",raw:"",ordered:Do,start:Do?+qi.slice(0,-1):"",loose:!1,items:[]};qi=Do?`\\d{1,9}\\${qi.slice(-1)}`:`\\${qi}`,this.options.pedantic&&(qi=Do?qi:"[*+-]");const Co=new RegExp(`^( {0,3}${qi})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;Je&&(Di=!1,(ye=Co.exec(Je))&&!this.rules.block.hr.test(Je));){if(He=ye[0],Je=Je.substring(He.length),Wn=ye[2].split("\n",1)[0].replace(/^\t+/,Wo=>" ".repeat(3*Wo.length)),ii=Je.split("\n",1)[0],this.options.pedantic?(In=2,ti=Wn.trimLeft()):(In=ye[2].search(/[^ ]/),In=In>4?1:In,ti=Wn.slice(In),In+=ye[1].length),bn=!1,!Wn&&/^ *$/.test(ii)&&(He+=ii+"\n",Je=Je.substring(ii.length+1),Di=!0),!Di){const Wo=new RegExp(`^ {0,${Math.min(3,In-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),xo=new RegExp(`^ {0,${Math.min(3,In-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),$i=new RegExp(`^ {0,${Math.min(3,In-1)}}(?:\`\`\`|~~~)`),Xo=new RegExp(`^ {0,${Math.min(3,In-1)}}#`);for(;Je&&(pi=Je.split("\n",1)[0],ii=pi,this.options.pedantic&&(ii=ii.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!($i.test(ii)||Xo.test(ii)||Wo.test(ii)||xo.test(Je)));){if(ii.search(/[^ ]/)>=In||!ii.trim())ti+="\n"+ii.slice(In);else{if(bn||Wn.search(/[^ ]/)>=4||$i.test(Wn)||Xo.test(Wn)||xo.test(Wn))break;ti+="\n"+ii}!bn&&!ii.trim()&&(bn=!0),He+=pi+"\n",Je=Je.substring(pi.length+1),Wn=ii.slice(In)}}li.loose||(yn?li.loose=!0:/\n *\n *$/.test(He)&&(yn=!0)),this.options.gfm&&(ut=/^\[[ xX]\] /.exec(ti),ut&&(dn="[ ] "!==ut[0],ti=ti.replace(/^\[[ xX]\] +/,""))),li.items.push({type:"list_item",raw:He,task:!!ut,checked:dn,loose:!1,text:ti}),li.raw+=He}li.items[li.items.length-1].raw=He.trimRight(),li.items[li.items.length-1].text=ti.trimRight(),li.raw=li.raw.trimRight();const Go=li.items.length;for(Rt=0;Rt<Go;Rt++)if(this.lexer.state.top=!1,li.items[Rt].tokens=this.lexer.blockTokens(li.items[Rt].text,[]),!li.loose){const Wo=li.items[Rt].tokens.filter($i=>"space"===$i.type),xo=Wo.length>0&&Wo.some($i=>/\n.*\n/.test($i.raw));li.loose=xo}if(li.loose)for(Rt=0;Rt<Go;Rt++)li.items[Rt].loose=!0;return li}}html(Je){const ye=this.rules.block.html.exec(Je);if(ye){const He={type:"html",raw:ye[0],pre:!this.options.sanitizer&&("pre"===ye[1]||"script"===ye[1]||"style"===ye[1]),text:ye[0]};if(this.options.sanitize){const ut=this.options.sanitizer?this.options.sanitizer(ye[0]):K(ye[0]);He.type="paragraph",He.text=ut,He.tokens=this.lexer.inline(ut)}return He}}def(Je){const ye=this.rules.block.def.exec(Je);if(ye){const He=ye[1].toLowerCase().replace(/\s+/g," "),ut=ye[2]?ye[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",dn=ye[3]?ye[3].substring(1,ye[3].length-1).replace(this.rules.inline._escapes,"$1"):ye[3];return{type:"def",tag:He,raw:ye[0],href:ut,title:dn}}}table(Je){const ye=this.rules.block.table.exec(Je);if(ye){const He={type:"table",header:Ge(ye[1]).map(ut=>({text:ut})),align:ye[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:ye[3]&&ye[3].trim()?ye[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(He.header.length===He.align.length){He.raw=ye[0];let dn,In,Rt,bn,ut=He.align.length;for(dn=0;dn<ut;dn++)He.align[dn]=/^ *-+: *$/.test(He.align[dn])?"right":/^ *:-+: *$/.test(He.align[dn])?"center":/^ *:-+ *$/.test(He.align[dn])?"left":null;for(ut=He.rows.length,dn=0;dn<ut;dn++)He.rows[dn]=Ge(He.rows[dn],He.header.length).map(yn=>({text:yn}));for(ut=He.header.length,In=0;In<ut;In++)He.header[In].tokens=this.lexer.inline(He.header[In].text);for(ut=He.rows.length,In=0;In<ut;In++)for(bn=He.rows[In],Rt=0;Rt<bn.length;Rt++)bn[Rt].tokens=this.lexer.inline(bn[Rt].text);return He}}}lheading(Je){const ye=this.rules.block.lheading.exec(Je);if(ye)return{type:"heading",raw:ye[0],depth:"="===ye[2].charAt(0)?1:2,text:ye[1],tokens:this.lexer.inline(ye[1])}}paragraph(Je){const ye=this.rules.block.paragraph.exec(Je);if(ye){const He="\n"===ye[1].charAt(ye[1].length-1)?ye[1].slice(0,-1):ye[1];return{type:"paragraph",raw:ye[0],text:He,tokens:this.lexer.inline(He)}}}text(Je){const ye=this.rules.block.text.exec(Je);if(ye)return{type:"text",raw:ye[0],text:ye[0],tokens:this.lexer.inline(ye[0])}}escape(Je){const ye=this.rules.inline.escape.exec(Je);if(ye)return{type:"escape",raw:ye[0],text:K(ye[1])}}tag(Je){const ye=this.rules.inline.tag.exec(Je);if(ye)return!this.lexer.state.inLink&&/^<a /i.test(ye[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(ye[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(ye[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(ye[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:ye[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ye[0]):K(ye[0]):ye[0]}}link(Je){const ye=this.rules.inline.link.exec(Je);if(ye){const He=ye[2].trim();if(!this.options.pedantic&&/^</.test(He)){if(!/>$/.test(He))return;const In=ee(He.slice(0,-1),"\\");if((He.length-In.length)%2==0)return}else{const In=function xe(Ht,Je){if(-1===Ht.indexOf(Je[1]))return-1;const ye=Ht.length;let He=0,ut=0;for(;ut<ye;ut++)if("\\"===Ht[ut])ut++;else if(Ht[ut]===Je[0])He++;else if(Ht[ut]===Je[1]&&(He--,He<0))return ut;return-1}(ye[2],"()");if(In>-1){const bn=(0===ye[0].indexOf("!")?5:4)+ye[1].length+In;ye[2]=ye[2].substring(0,In),ye[0]=ye[0].substring(0,bn).trim(),ye[3]=""}}let ut=ye[2],dn="";if(this.options.pedantic){const In=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ut);In&&(ut=In[1],dn=In[3])}else dn=ye[3]?ye[3].slice(1,-1):"";return ut=ut.trim(),/^</.test(ut)&&(ut=this.options.pedantic&&!/>$/.test(He)?ut.slice(1):ut.slice(1,-1)),dt(ye,{href:ut&&ut.replace(this.rules.inline._escapes,"$1"),title:dn&&dn.replace(this.rules.inline._escapes,"$1")},ye[0],this.lexer)}}reflink(Je,ye){let He;if((He=this.rules.inline.reflink.exec(Je))||(He=this.rules.inline.nolink.exec(Je))){let ut=(He[2]||He[1]).replace(/\s+/g," ");if(ut=ye[ut.toLowerCase()],!ut){const dn=He[0].charAt(0);return{type:"text",raw:dn,text:dn}}return dt(He,ut,He[0],this.lexer)}}emStrong(Je,ye,He=""){let ut=this.rules.inline.emStrong.lDelim.exec(Je);if(!ut||ut[3]&&He.match(/[\p{L}\p{N}]/u))return;const dn=ut[1]||ut[2]||"";if(!dn||dn&&(""===He||this.rules.inline.punctuation.exec(He))){const In=ut[0].length-1;let Rt,bn,yn=In,Wn=0;const ii="*"===ut[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(ii.lastIndex=0,ye=ye.slice(-1*Je.length+In);null!=(ut=ii.exec(ye));){if(Rt=ut[1]||ut[2]||ut[3]||ut[4]||ut[5]||ut[6],!Rt)continue;if(bn=Rt.length,ut[3]||ut[4]){yn+=bn;continue}if((ut[5]||ut[6])&&In%3&&!((In+bn)%3)){Wn+=bn;continue}if(yn-=bn,yn>0)continue;bn=Math.min(bn,bn+yn+Wn);const pi=Je.slice(0,In+ut.index+(ut[0].length-Rt.length)+bn);if(Math.min(In,bn)%2){const Di=pi.slice(1,-1);return{type:"em",raw:pi,text:Di,tokens:this.lexer.inlineTokens(Di)}}const ti=pi.slice(2,-2);return{type:"strong",raw:pi,text:ti,tokens:this.lexer.inlineTokens(ti)}}}}codespan(Je){const ye=this.rules.inline.code.exec(Je);if(ye){let He=ye[2].replace(/\n/g," ");const ut=/[^ ]/.test(He),dn=/^ /.test(He)&&/ $/.test(He);return ut&&dn&&(He=He.substring(1,He.length-1)),He=K(He,!0),{type:"codespan",raw:ye[0],text:He}}}br(Je){const ye=this.rules.inline.br.exec(Je);if(ye)return{type:"br",raw:ye[0]}}del(Je){const ye=this.rules.inline.del.exec(Je);if(ye)return{type:"del",raw:ye[0],text:ye[2],tokens:this.lexer.inlineTokens(ye[2])}}autolink(Je,ye){const He=this.rules.inline.autolink.exec(Je);if(He){let ut,dn;return"@"===He[2]?(ut=K(this.options.mangle?ye(He[1]):He[1]),dn="mailto:"+ut):(ut=K(He[1]),dn=ut),{type:"link",raw:He[0],text:ut,href:dn,tokens:[{type:"text",raw:ut,text:ut}]}}}url(Je,ye){let He;if(He=this.rules.inline.url.exec(Je)){let ut,dn;if("@"===He[2])ut=K(this.options.mangle?ye(He[0]):He[0]),dn="mailto:"+ut;else{let In;do{In=He[0],He[0]=this.rules.inline._backpedal.exec(He[0])[0]}while(In!==He[0]);ut=K(He[0]),dn="www."===He[1]?"http://"+He[0]:He[0]}return{type:"link",raw:He[0],text:ut,href:dn,tokens:[{type:"text",raw:ut,text:ut}]}}}inlineText(Je,ye){const He=this.rules.inline.text.exec(Je);if(He){let ut;return ut=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(He[0]):K(He[0]):He[0]:K(this.options.smartypants?ye(He[0]):He[0]),{type:"text",raw:He[0],text:ut}}}}const Dt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Ke,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Dt.def=j(Dt.def).replace("label",Dt._label).replace("title",Dt._title).getRegex(),Dt.bullet=/(?:[*+-]|\d{1,9}[.)])/,Dt.listItemStart=j(/^( *)(bull) */).replace("bull",Dt.bullet).getRegex(),Dt.list=j(Dt.list).replace(/bull/g,Dt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Dt.def.source+")").getRegex(),Dt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Dt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Dt.html=j(Dt.html,"i").replace("comment",Dt._comment).replace("tag",Dt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Dt.paragraph=j(Dt._paragraph).replace("hr",Dt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dt._tag).getRegex(),Dt.blockquote=j(Dt.blockquote).replace("paragraph",Dt.paragraph).getRegex(),Dt.normal=be({},Dt),Dt.gfm=be({},Dt.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Dt.gfm.table=j(Dt.gfm.table).replace("hr",Dt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dt._tag).getRegex(),Dt.gfm.paragraph=j(Dt._paragraph).replace("hr",Dt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Dt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dt._tag).getRegex(),Dt.pedantic=be({},Dt.normal,{html:j("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Dt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ke,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:j(Dt.normal._paragraph).replace("hr",Dt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Dt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const vt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Ke,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Ke,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Wt(Ht){return Ht.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function zt(Ht){let ye,He,Je="";const ut=Ht.length;for(ye=0;ye<ut;ye++)He=Ht.charCodeAt(ye),Math.random()>.5&&(He="x"+He.toString(16)),Je+="&#"+He+";";return Je}vt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",vt.punctuation=j(vt.punctuation).replace(/punctuation/g,vt._punctuation).getRegex(),vt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,vt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,vt._comment=j(Dt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),vt.emStrong.lDelim=j(vt.emStrong.lDelim).replace(/punct/g,vt._punctuation).getRegex(),vt.emStrong.rDelimAst=j(vt.emStrong.rDelimAst,"g").replace(/punct/g,vt._punctuation).getRegex(),vt.emStrong.rDelimUnd=j(vt.emStrong.rDelimUnd,"g").replace(/punct/g,vt._punctuation).getRegex(),vt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,vt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,vt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,vt.autolink=j(vt.autolink).replace("scheme",vt._scheme).replace("email",vt._email).getRegex(),vt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,vt.tag=j(vt.tag).replace("comment",vt._comment).replace("attribute",vt._attribute).getRegex(),vt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,vt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,vt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,vt.link=j(vt.link).replace("label",vt._label).replace("href",vt._href).replace("title",vt._title).getRegex(),vt.reflink=j(vt.reflink).replace("label",vt._label).replace("ref",Dt._label).getRegex(),vt.nolink=j(vt.nolink).replace("ref",Dt._label).getRegex(),vt.reflinkSearch=j(vt.reflinkSearch,"g").replace("reflink",vt.reflink).replace("nolink",vt.nolink).getRegex(),vt.normal=be({},vt),vt.pedantic=be({},vt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:j(/^!?\[(label)\]\((.*?)\)/).replace("label",vt._label).getRegex(),reflink:j(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",vt._label).getRegex()}),vt.gfm=be({},vt.normal,{escape:j(vt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),vt.gfm.url=j(vt.gfm.url,"i").replace("email",vt.gfm._extended_email).getRegex(),vt.breaks=be({},vt.gfm,{br:j(vt.br).replace("{2,}","*").getRegex(),text:j(vt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Ut{constructor(Je){this.tokens=[],this.tokens.links=Object.create(null),this.options=Je||k,this.options.tokenizer=this.options.tokenizer||new it,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const ye={block:Dt.normal,inline:vt.normal};this.options.pedantic?(ye.block=Dt.pedantic,ye.inline=vt.pedantic):this.options.gfm&&(ye.block=Dt.gfm,ye.inline=this.options.breaks?vt.breaks:vt.gfm),this.tokenizer.rules=ye}static get rules(){return{block:Dt,inline:vt}}static lex(Je,ye){return new Ut(ye).lex(Je)}static lexInline(Je,ye){return new Ut(ye).inlineTokens(Je)}lex(Je){let ye;for(Je=Je.replace(/\r\n|\r/g,"\n"),this.blockTokens(Je,this.tokens);ye=this.inlineQueue.shift();)this.inlineTokens(ye.src,ye.tokens);return this.tokens}blockTokens(Je,ye=[]){let He,ut,dn,In;for(Je=this.options.pedantic?Je.replace(/\t/g,"    ").replace(/^ +$/gm,""):Je.replace(/^( *)(\t+)/gm,(Rt,bn,yn)=>bn+"    ".repeat(yn.length));Je;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(Rt=>!!(He=Rt.call({lexer:this},Je,ye))&&(Je=Je.substring(He.raw.length),ye.push(He),!0)))){if(He=this.tokenizer.space(Je)){Je=Je.substring(He.raw.length),1===He.raw.length&&ye.length>0?ye[ye.length-1].raw+="\n":ye.push(He);continue}if(He=this.tokenizer.code(Je)){Je=Je.substring(He.raw.length),ut=ye[ye.length-1],!ut||"paragraph"!==ut.type&&"text"!==ut.type?ye.push(He):(ut.raw+="\n"+He.raw,ut.text+="\n"+He.text,this.inlineQueue[this.inlineQueue.length-1].src=ut.text);continue}if(He=this.tokenizer.fences(Je)){Je=Je.substring(He.raw.length),ye.push(He);continue}if(He=this.tokenizer.heading(Je)){Je=Je.substring(He.raw.length),ye.push(He);continue}if(He=this.tokenizer.hr(Je)){Je=Je.substring(He.raw.length),ye.push(He);continue}if(He=this.tokenizer.blockquote(Je)){Je=Je.substring(He.raw.length),ye.push(He);continue}if(He=this.tokenizer.list(Je)){Je=Je.substring(He.raw.length),ye.push(He);continue}if(He=this.tokenizer.html(Je)){Je=Je.substring(He.raw.length),ye.push(He);continue}if(He=this.tokenizer.def(Je)){Je=Je.substring(He.raw.length),ut=ye[ye.length-1],!ut||"paragraph"!==ut.type&&"text"!==ut.type?this.tokens.links[He.tag]||(this.tokens.links[He.tag]={href:He.href,title:He.title}):(ut.raw+="\n"+He.raw,ut.text+="\n"+He.raw,this.inlineQueue[this.inlineQueue.length-1].src=ut.text);continue}if(He=this.tokenizer.table(Je)){Je=Je.substring(He.raw.length),ye.push(He);continue}if(He=this.tokenizer.lheading(Je)){Je=Je.substring(He.raw.length),ye.push(He);continue}if(dn=Je,this.options.extensions&&this.options.extensions.startBlock){let Rt=1/0;const bn=Je.slice(1);let yn;this.options.extensions.startBlock.forEach(function(Wn){yn=Wn.call({lexer:this},bn),"number"==typeof yn&&yn>=0&&(Rt=Math.min(Rt,yn))}),Rt<1/0&&Rt>=0&&(dn=Je.substring(0,Rt+1))}if(this.state.top&&(He=this.tokenizer.paragraph(dn))){ut=ye[ye.length-1],In&&"paragraph"===ut.type?(ut.raw+="\n"+He.raw,ut.text+="\n"+He.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ut.text):ye.push(He),In=dn.length!==Je.length,Je=Je.substring(He.raw.length);continue}if(He=this.tokenizer.text(Je)){Je=Je.substring(He.raw.length),ut=ye[ye.length-1],ut&&"text"===ut.type?(ut.raw+="\n"+He.raw,ut.text+="\n"+He.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ut.text):ye.push(He);continue}if(Je){const Rt="Infinite loop on byte: "+Je.charCodeAt(0);if(this.options.silent){console.error(Rt);break}throw new Error(Rt)}}return this.state.top=!0,ye}inline(Je,ye=[]){return this.inlineQueue.push({src:Je,tokens:ye}),ye}inlineTokens(Je,ye=[]){let He,ut,dn,Rt,bn,yn,In=Je;if(this.tokens.links){const Wn=Object.keys(this.tokens.links);if(Wn.length>0)for(;null!=(Rt=this.tokenizer.rules.inline.reflinkSearch.exec(In));)Wn.includes(Rt[0].slice(Rt[0].lastIndexOf("[")+1,-1))&&(In=In.slice(0,Rt.index)+"["+Pe("a",Rt[0].length-2)+"]"+In.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Rt=this.tokenizer.rules.inline.blockSkip.exec(In));)In=In.slice(0,Rt.index)+"["+Pe("a",Rt[0].length-2)+"]"+In.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(Rt=this.tokenizer.rules.inline.escapedEmSt.exec(In));)In=In.slice(0,Rt.index+Rt[0].length-2)+"++"+In.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;Je;)if(bn||(yn=""),bn=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(Wn=>!!(He=Wn.call({lexer:this},Je,ye))&&(Je=Je.substring(He.raw.length),ye.push(He),!0)))){if(He=this.tokenizer.escape(Je)){Je=Je.substring(He.raw.length),ye.push(He);continue}if(He=this.tokenizer.tag(Je)){Je=Je.substring(He.raw.length),ut=ye[ye.length-1],ut&&"text"===He.type&&"text"===ut.type?(ut.raw+=He.raw,ut.text+=He.text):ye.push(He);continue}if(He=this.tokenizer.link(Je)){Je=Je.substring(He.raw.length),ye.push(He);continue}if(He=this.tokenizer.reflink(Je,this.tokens.links)){Je=Je.substring(He.raw.length),ut=ye[ye.length-1],ut&&"text"===He.type&&"text"===ut.type?(ut.raw+=He.raw,ut.text+=He.text):ye.push(He);continue}if(He=this.tokenizer.emStrong(Je,In,yn)){Je=Je.substring(He.raw.length),ye.push(He);continue}if(He=this.tokenizer.codespan(Je)){Je=Je.substring(He.raw.length),ye.push(He);continue}if(He=this.tokenizer.br(Je)){Je=Je.substring(He.raw.length),ye.push(He);continue}if(He=this.tokenizer.del(Je)){Je=Je.substring(He.raw.length),ye.push(He);continue}if(He=this.tokenizer.autolink(Je,zt)){Je=Je.substring(He.raw.length),ye.push(He);continue}if(!this.state.inLink&&(He=this.tokenizer.url(Je,zt))){Je=Je.substring(He.raw.length),ye.push(He);continue}if(dn=Je,this.options.extensions&&this.options.extensions.startInline){let Wn=1/0;const ii=Je.slice(1);let pi;this.options.extensions.startInline.forEach(function(ti){pi=ti.call({lexer:this},ii),"number"==typeof pi&&pi>=0&&(Wn=Math.min(Wn,pi))}),Wn<1/0&&Wn>=0&&(dn=Je.substring(0,Wn+1))}if(He=this.tokenizer.inlineText(dn,Wt)){Je=Je.substring(He.raw.length),"_"!==He.raw.slice(-1)&&(yn=He.raw.slice(-1)),bn=!0,ut=ye[ye.length-1],ut&&"text"===ut.type?(ut.raw+=He.raw,ut.text+=He.text):ye.push(He);continue}if(Je){const Wn="Infinite loop on byte: "+Je.charCodeAt(0);if(this.options.silent){console.error(Wn);break}throw new Error(Wn)}}return ye}}class ct{constructor(Je){this.options=Je||k}code(Je,ye,He){const ut=(ye||"").match(/\S*/)[0];if(this.options.highlight){const dn=this.options.highlight(Je,ut);null!=dn&&dn!==Je&&(He=!0,Je=dn)}return Je=Je.replace(/\n$/,"")+"\n",ut?'<pre><code class="'+this.options.langPrefix+K(ut)+'">'+(He?Je:K(Je,!0))+"</code></pre>\n":"<pre><code>"+(He?Je:K(Je,!0))+"</code></pre>\n"}blockquote(Je){return`<blockquote>\n${Je}</blockquote>\n`}html(Je){return Je}heading(Je,ye,He,ut){return this.options.headerIds?`<h${ye} id="${this.options.headerPrefix+ut.slug(He)}">${Je}</h${ye}>\n`:`<h${ye}>${Je}</h${ye}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(Je,ye,He){const ut=ye?"ol":"ul";return"<"+ut+(ye&&1!==He?' start="'+He+'"':"")+">\n"+Je+"</"+ut+">\n"}listitem(Je){return`<li>${Je}</li>\n`}checkbox(Je){return"<input "+(Je?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(Je){return`<p>${Je}</p>\n`}table(Je,ye){return ye&&(ye=`<tbody>${ye}</tbody>`),"<table>\n<thead>\n"+Je+"</thead>\n"+ye+"</table>\n"}tablerow(Je){return`<tr>\n${Je}</tr>\n`}tablecell(Je,ye){const He=ye.header?"th":"td";return(ye.align?`<${He} align="${ye.align}">`:`<${He}>`)+Je+`</${He}>\n`}strong(Je){return`<strong>${Je}</strong>`}em(Je){return`<em>${Je}</em>`}codespan(Je){return`<code>${Je}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(Je){return`<del>${Je}</del>`}link(Je,ye,He){if(null===(Je=J(this.options.sanitize,this.options.baseUrl,Je)))return He;let ut='<a href="'+Je+'"';return ye&&(ut+=' title="'+ye+'"'),ut+=">"+He+"</a>",ut}image(Je,ye,He){if(null===(Je=J(this.options.sanitize,this.options.baseUrl,Je)))return He;let ut=`<img src="${Je}" alt="${He}"`;return ye&&(ut+=` title="${ye}"`),ut+=this.options.xhtml?"/>":">",ut}text(Je){return Je}}class at{strong(Je){return Je}em(Je){return Je}codespan(Je){return Je}del(Je){return Je}html(Je){return Je}text(Je){return Je}link(Je,ye,He){return""+He}image(Je,ye,He){return""+He}br(){return""}}class me{constructor(){this.seen={}}serialize(Je){return Je.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(Je,ye){let He=Je,ut=0;if(this.seen.hasOwnProperty(He)){ut=this.seen[Je];do{ut++,He=Je+"-"+ut}while(this.seen.hasOwnProperty(He))}return ye||(this.seen[Je]=ut,this.seen[He]=0),He}slug(Je,ye={}){const He=this.serialize(Je);return this.getNextSafeSlug(He,ye.dryrun)}}class De{constructor(Je){this.options=Je||k,this.options.renderer=this.options.renderer||new ct,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new at,this.slugger=new me}static parse(Je,ye){return new De(ye).parse(Je)}static parseInline(Je,ye){return new De(ye).parseInline(Je)}parse(Je,ye=!0){let ut,dn,In,Rt,bn,yn,Wn,ii,pi,ti,Di,qi,Do,li,Co,Go,Wo,xo,$i,He="";const Xo=Je.length;for(ut=0;ut<Xo;ut++)if(ti=Je[ut],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ti.type]&&($i=this.options.extensions.renderers[ti.type].call({parser:this},ti),!1!==$i||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ti.type)))He+=$i||"";else switch(ti.type){case"space":continue;case"hr":He+=this.renderer.hr();continue;case"heading":He+=this.renderer.heading(this.parseInline(ti.tokens),ti.depth,q(this.parseInline(ti.tokens,this.textRenderer)),this.slugger);continue;case"code":He+=this.renderer.code(ti.text,ti.lang,ti.escaped);continue;case"table":for(ii="",Wn="",Rt=ti.header.length,dn=0;dn<Rt;dn++)Wn+=this.renderer.tablecell(this.parseInline(ti.header[dn].tokens),{header:!0,align:ti.align[dn]});for(ii+=this.renderer.tablerow(Wn),pi="",Rt=ti.rows.length,dn=0;dn<Rt;dn++){for(yn=ti.rows[dn],Wn="",bn=yn.length,In=0;In<bn;In++)Wn+=this.renderer.tablecell(this.parseInline(yn[In].tokens),{header:!1,align:ti.align[In]});pi+=this.renderer.tablerow(Wn)}He+=this.renderer.table(ii,pi);continue;case"blockquote":pi=this.parse(ti.tokens),He+=this.renderer.blockquote(pi);continue;case"list":for(Di=ti.ordered,qi=ti.start,Do=ti.loose,Rt=ti.items.length,pi="",dn=0;dn<Rt;dn++)Co=ti.items[dn],Go=Co.checked,Wo=Co.task,li="",Co.task&&(xo=this.renderer.checkbox(Go),Do?Co.tokens.length>0&&"paragraph"===Co.tokens[0].type?(Co.tokens[0].text=xo+" "+Co.tokens[0].text,Co.tokens[0].tokens&&Co.tokens[0].tokens.length>0&&"text"===Co.tokens[0].tokens[0].type&&(Co.tokens[0].tokens[0].text=xo+" "+Co.tokens[0].tokens[0].text)):Co.tokens.unshift({type:"text",text:xo}):li+=xo),li+=this.parse(Co.tokens,Do),pi+=this.renderer.listitem(li,Wo,Go);He+=this.renderer.list(pi,Di,qi);continue;case"html":He+=this.renderer.html(ti.text);continue;case"paragraph":He+=this.renderer.paragraph(this.parseInline(ti.tokens));continue;case"text":for(pi=ti.tokens?this.parseInline(ti.tokens):ti.text;ut+1<Xo&&"text"===Je[ut+1].type;)ti=Je[++ut],pi+="\n"+(ti.tokens?this.parseInline(ti.tokens):ti.text);He+=ye?this.renderer.paragraph(pi):pi;continue;default:{const rs='Token with "'+ti.type+'" type was not found.';if(this.options.silent)return void console.error(rs);throw new Error(rs)}}return He}parseInline(Je,ye){ye=ye||this.renderer;let ut,dn,In,He="";const Rt=Je.length;for(ut=0;ut<Rt;ut++)if(dn=Je[ut],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[dn.type]&&(In=this.options.extensions.renderers[dn.type].call({parser:this},dn),!1!==In||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(dn.type)))He+=In||"";else switch(dn.type){case"escape":case"text":He+=ye.text(dn.text);break;case"html":He+=ye.html(dn.text);break;case"link":He+=ye.link(dn.href,dn.title,this.parseInline(dn.tokens,ye));break;case"image":He+=ye.image(dn.href,dn.title,dn.text);break;case"strong":He+=ye.strong(this.parseInline(dn.tokens,ye));break;case"em":He+=ye.em(this.parseInline(dn.tokens,ye));break;case"codespan":He+=ye.codespan(dn.text);break;case"br":He+=ye.br();break;case"del":He+=ye.del(this.parseInline(dn.tokens,ye));break;default:{const bn='Token with "'+dn.type+'" type was not found.';if(this.options.silent)return void console.error(bn);throw new Error(bn)}}return He}}function ot(Ht,Je,ye){if(null==Ht)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof Ht)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Ht)+", string expected");if("function"==typeof Je&&(ye=Je,Je=null),we(Je=be({},ot.defaults,Je||{})),ye){const ut=Je.highlight;let dn;try{dn=Ut.lex(Ht,Je)}catch(bn){return ye(bn)}const In=function(bn){let yn;if(!bn)try{Je.walkTokens&&ot.walkTokens(dn,Je.walkTokens),yn=De.parse(dn,Je)}catch(Wn){bn=Wn}return Je.highlight=ut,bn?ye(bn):ye(null,yn)};if(!ut||ut.length<3||(delete Je.highlight,!dn.length))return In();let Rt=0;return ot.walkTokens(dn,function(bn){"code"===bn.type&&(Rt++,setTimeout(()=>{ut(bn.text,bn.lang,function(yn,Wn){if(yn)return In(yn);null!=Wn&&Wn!==bn.text&&(bn.text=Wn,bn.escaped=!0),Rt--,0===Rt&&In()})},0))}),void(0===Rt&&In())}function He(ut){if(ut.message+="\nPlease report this to https://github.com/markedjs/marked.",Je.silent)return"<p>An error occurred:</p><pre>"+K(ut.message+"",!0)+"</pre>";throw ut}try{const ut=Ut.lex(Ht,Je);if(Je.walkTokens){if(Je.async)return Promise.all(ot.walkTokens(ut,Je.walkTokens)).then(()=>De.parse(ut,Je)).catch(He);ot.walkTokens(ut,Je.walkTokens)}return De.parse(ut,Je)}catch(ut){He(ut)}}ot.options=ot.setOptions=function(Ht){return be(ot.defaults,Ht),function B(Ht){k=Ht}(ot.defaults),ot},ot.getDefaults=function D(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},ot.defaults=k,ot.use=function(...Ht){const Je=ot.defaults.extensions||{renderers:{},childTokens:{}};Ht.forEach(ye=>{const He=be({},ye);if(He.async=ot.defaults.async||He.async,ye.extensions&&(ye.extensions.forEach(ut=>{if(!ut.name)throw new Error("extension name required");if(ut.renderer){const dn=Je.renderers[ut.name];Je.renderers[ut.name]=dn?function(...In){let Rt=ut.renderer.apply(this,In);return!1===Rt&&(Rt=dn.apply(this,In)),Rt}:ut.renderer}if(ut.tokenizer){if(!ut.level||"block"!==ut.level&&"inline"!==ut.level)throw new Error("extension level must be 'block' or 'inline'");Je[ut.level]?Je[ut.level].unshift(ut.tokenizer):Je[ut.level]=[ut.tokenizer],ut.start&&("block"===ut.level?Je.startBlock?Je.startBlock.push(ut.start):Je.startBlock=[ut.start]:"inline"===ut.level&&(Je.startInline?Je.startInline.push(ut.start):Je.startInline=[ut.start]))}ut.childTokens&&(Je.childTokens[ut.name]=ut.childTokens)}),He.extensions=Je),ye.renderer){const ut=ot.defaults.renderer||new ct;for(const dn in ye.renderer){const In=ut[dn];ut[dn]=(...Rt)=>{let bn=ye.renderer[dn].apply(ut,Rt);return!1===bn&&(bn=In.apply(ut,Rt)),bn}}He.renderer=ut}if(ye.tokenizer){const ut=ot.defaults.tokenizer||new it;for(const dn in ye.tokenizer){const In=ut[dn];ut[dn]=(...Rt)=>{let bn=ye.tokenizer[dn].apply(ut,Rt);return!1===bn&&(bn=In.apply(ut,Rt)),bn}}He.tokenizer=ut}if(ye.walkTokens){const ut=ot.defaults.walkTokens;He.walkTokens=function(dn){let In=[];return In.push(ye.walkTokens.call(this,dn)),ut&&(In=In.concat(ut.call(this,dn))),In}}ot.setOptions(He)})},ot.walkTokens=function(Ht,Je){let ye=[];for(const He of Ht)switch(ye=ye.concat(Je.call(ot,He)),He.type){case"table":for(const ut of He.header)ye=ye.concat(ot.walkTokens(ut.tokens,Je));for(const ut of He.rows)for(const dn of ut)ye=ye.concat(ot.walkTokens(dn.tokens,Je));break;case"list":ye=ye.concat(ot.walkTokens(He.items,Je));break;default:ot.defaults.extensions&&ot.defaults.extensions.childTokens&&ot.defaults.extensions.childTokens[He.type]?ot.defaults.extensions.childTokens[He.type].forEach(function(ut){ye=ye.concat(ot.walkTokens(He[ut],Je))}):He.tokens&&(ye=ye.concat(ot.walkTokens(He.tokens,Je)))}return ye},ot.parseInline=function(Ht,Je){if(null==Ht)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof Ht)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Ht)+", string expected");we(Je=be({},ot.defaults,Je||{}));try{const ye=Ut.lexInline(Ht,Je);return Je.walkTokens&&ot.walkTokens(ye,Je.walkTokens),De.parseInline(ye,Je)}catch(ye){if(ye.message+="\nPlease report this to https://github.com/markedjs/marked.",Je.silent)return"<p>An error occurred:</p><pre>"+K(ye.message+"",!0)+"</pre>";throw ye}},ot.Parser=De,ot.parser=De.parse,ot.Renderer=ct,ot.TextRenderer=at,ot.Lexer=Ut,ot.lexer=Ut.lex,ot.Tokenizer=it,ot.Slugger=me,ot.parse=ot;var se=b(520),Fe=b(2313);const he=["*"];let Tn=(()=>{class Ht{constructor(){this._buttonClick$=new d.x,this.copied$=this._buttonClick$.pipe((0,P.w)(()=>(0,u.T)((0,f.of)(!0),(0,_.H)(3e3).pipe((0,x.h)(!1)))),(0,a.x)(),(0,R.d)(1)),this.copiedText$=this.copied$.pipe((0,L.O)(!1),(0,V.U)(ye=>ye?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return Ht.\u0275fac=function(ye){return new(ye||Ht)},Ht.\u0275cmp=e.Xpm({type:Ht,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(ye,He){1&ye&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return He.onCopyToClipboardClick()}),e.ALo(1,"async"),e._uU(2),e.ALo(3,"async"),e.qZA()),2&ye&&(e.ekj("copied",e.lcZ(1,3,He.copied$)),e.xp6(2),e.Oqu(e.lcZ(3,5,He.copiedText$)))},dependencies:[y.Ov],encapsulation:2,changeDetection:0}),Ht})();class en{}var Qe=(()=>{return(Ht=Qe||(Qe={})).CommandLine="command-line",Ht.LineHighlight="line-highlight",Ht.LineNumbers="line-numbers",Qe;var Ht})();class ze{}const Nt=new e.OlP("SECURITY_CONTEXT");let Bn=(()=>{class Ht{constructor(ye,He,ut,dn,In,Rt){this.platform=ye,this.securityContext=He,this.http=ut,this.clipboardOptions=dn,this.sanitizer=Rt,this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this.DEFAULT_MARKED_OPTIONS={renderer:new ct},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this._reload$=new d.x,this.reload$=this._reload$.asObservable(),this.options=In}get options(){return this._options}set options(ye){this._options=Object.assign(Object.assign({},this.DEFAULT_MARKED_OPTIONS),ye)}get renderer(){return this.options.renderer}set renderer(ye){this.options.renderer=ye}parse(ye,He=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:ut,inline:dn,emoji:In,mermaid:Rt,markedOptions:bn=this.options}=He;Rt&&(this.renderer=this.extendRenderer(bn.renderer||new ct));const yn=this.trimIndentation(ye),Wn=ut?this.decodeHtml(yn):yn,ii=In?this.parseEmoji(Wn):Wn,pi=this.parseMarked(ii,bn,dn);return this.sanitizer.sanitize(this.securityContext,pi)||""}render(ye,He=this.DEFAULT_RENDER_OPTIONS,ut){const{clipboard:dn,clipboardOptions:In,katex:Rt,katexOptions:bn,mermaid:yn,mermaidOptions:Wn}=He;dn&&this.renderClipboard(ye,ut,Object.assign(Object.assign(Object.assign({},this.DEFAULT_CLIPBOARD_OPTIONS),this.clipboardOptions),In)),Rt&&this.renderKatex(ye,Object.assign(Object.assign({},this.DEFAULT_KATEX_OPTIONS),bn)),yn&&this.renderMermaid(ye,Object.assign(Object.assign({},this.DEFAULT_MERMAID_OPTIONS),Wn)),this.highlight(ye)}reload(){this._reload$.next()}getSource(ye){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(ye,{responseType:"text"}).pipe((0,V.U)(He=>this.handleExtension(ye,He)))}highlight(ye){if(!(0,y.NF)(this.platform)||"undefined"==typeof Prism||void 0===Prism.highlightAllUnder)return;ye||(ye=document);const He=ye.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(He,ut=>ut.classList.add("language-none")),Prism.highlightAllUnder(ye)}decodeHtml(ye){if(!(0,y.NF)(this.platform))return ye;const He=document.createElement("textarea");return He.innerHTML=ye,He.value}extendRenderer(ye){const He=ye;if(!0===He.\u0275NgxMarkdownRendererExtended)return ye;const ut=ye.code;return ye.code=function(dn,In,Rt){return"mermaid"===In?`<div class="mermaid">${dn}</div>`:ut.call(this,dn,In,Rt)},He.\u0275NgxMarkdownRendererExtended=!0,ye}handleExtension(ye,He){const ut=ye.lastIndexOf("://"),dn=ut>-1?ye.substring(ut+4):ye,In=dn.lastIndexOf("/"),Rt=In>-1?dn.substring(In+1).split("?")[0]:"",bn=Rt.lastIndexOf("."),yn=bn>-1?Rt.substring(bn+1):"";return yn&&"md"!==yn?"```"+yn+"\n"+He+"\n```":He}parseMarked(ye,He,ut=!1){return(0,y.NF)(this.platform)?ut?ot.parseInline(ye,He):ot.parse(ye,He):ye}parseEmoji(ye){if(!(0,y.NF)(this.platform))return ye;if("undefined"==typeof joypixels||void 0===joypixels.shortnameToUnicode)throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(ye)}renderKatex(ye,He){if((0,y.NF)(this.platform)){if("undefined"==typeof katex||"undefined"==typeof renderMathInElement)throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(ye,He)}}renderClipboard(ye,He,ut){if(!(0,y.NF)(this.platform))return;if("undefined"==typeof ClipboardJS)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!He)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:dn,buttonTemplate:In}=ut,Rt=ye.querySelectorAll("pre");for(let bn=0;bn<Rt.length;bn++){const yn=Rt.item(bn),Wn=document.createElement("div");Wn.style.position="relative",yn.parentNode.insertBefore(Wn,yn),Wn.appendChild(yn);const ii=document.createElement("div");let pi,ti;ii.style.position="absolute",ii.style.top=".5em",ii.style.right=".5em",ii.style.opacity="0",ii.style.transition="opacity 250ms ease-out",Wn.insertAdjacentElement("beforeend",ii),yn.onmouseover=()=>ii.style.opacity="1",yn.onmouseout=()=>ii.style.opacity="0",pi=dn?He.createComponent(dn).hostView:In?He.createEmbeddedView(In):He.createComponent(Tn).hostView,pi.rootNodes.forEach(Di=>{Di.onmouseover=()=>ii.style.opacity="1",ii.appendChild(Di),ti=new ClipboardJS(Di,{text:()=>yn.innerText})}),pi.onDestroy(()=>ti.destroy())}}renderMermaid(ye,He=this.DEFAULT_MERMAID_OPTIONS){if(!(0,y.NF)(this.platform))return;if("undefined"==typeof mermaid||void 0===mermaid.init)throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const ut=ye.querySelectorAll(".mermaid");0!==ut.length&&(mermaid.initialize(He),mermaid.init(ut))}trimIndentation(ye){if(!ye)return"";let He;return ye.split("\n").map(ut=>{let dn=He;return ut.length>0&&(dn=isNaN(dn)?ut.search(/\S|$/):Math.min(ut.search(/\S|$/),dn)),isNaN(He)&&(He=dn),dn?ut.substring(dn):ut}).join("\n")}}return Ht.\u0275fac=function(ye){return new(ye||Ht)(e.LFG(e.Lbi),e.LFG(Nt),e.LFG(se.eN,8),e.LFG(en,8),e.LFG(ze,8),e.LFG(Fe.H7))},Ht.\u0275prov=e.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})(),Hn=(()=>{class Ht{constructor(ye,He,ut){this.element=ye,this.markdownService=He,this.viewContainerRef=ut,this.error=new e.vpe,this.load=new e.vpe,this.ready=new e.vpe,this._commandLine=!1,this._clipboard=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new d.x}get inline(){return this._inline}set inline(ye){this._inline=this.coerceBooleanProperty(ye)}get clipboard(){return this._clipboard}set clipboard(ye){this._clipboard=this.coerceBooleanProperty(ye)}get emoji(){return this._emoji}set emoji(ye){this._emoji=this.coerceBooleanProperty(ye)}get katex(){return this._katex}set katex(ye){this._katex=this.coerceBooleanProperty(ye)}get mermaid(){return this._mermaid}set mermaid(ye){this._mermaid=this.coerceBooleanProperty(ye)}get lineHighlight(){return this._lineHighlight}set lineHighlight(ye){this._lineHighlight=this.coerceBooleanProperty(ye)}get lineNumbers(){return this._lineNumbers}set lineNumbers(ye){this._lineNumbers=this.coerceBooleanProperty(ye)}get commandLine(){return this._commandLine}set commandLine(ye){this._commandLine=this.coerceBooleanProperty(ye)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe((0,F.R)(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(ye,He=!1){const dn={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},In=this.markdownService.parse(ye,{decodeHtml:He,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid});this.element.nativeElement.innerHTML=In,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,dn,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(ye){return null!=ye&&"false"!=`${String(ye)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:ye=>{this.render(ye),this.load.emit(ye)},error:ye=>this.error.emit(ye)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Qe.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Qe.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(ye,He){const ut=ye.querySelectorAll("pre");for(let dn=0;dn<ut.length;dn++){const In=He instanceof Array?He:[He];ut.item(dn).classList.add(...In)}}setPluginOptions(ye,He){const ut=ye.querySelectorAll("pre");for(let dn=0;dn<ut.length;dn++)Object.keys(He).forEach(In=>{const Rt=He[In];if(Rt){const bn=this.toLispCase(In);ut.item(dn).setAttribute(bn,Rt.toString())}})}toLispCase(ye){const He=ye.match(/([A-Z])/g);if(!He)return ye;let ut=ye.toString();for(let dn=0,In=He.length;dn<In;dn++)ut=ut.replace(new RegExp(He[dn]),"-"+He[dn].toLowerCase());return"-"===ut.slice(0,1)&&(ut=ut.slice(1)),ut}}return Ht.\u0275fac=function(ye){return new(ye||Ht)(e.Y36(e.SBq),e.Y36(Bn),e.Y36(e.s_b))},Ht.\u0275cmp=e.Xpm({type:Ht,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[e.TTD],ngContentSelectors:he,decls:1,vars:0,template:function(ye,He){1&ye&&(e.F$t(),e.Hsn(0))},encapsulation:2}),Ht})(),io=(()=>{class Ht{static forRoot(ye){return{ngModule:Ht,providers:[Bn,ye&&ye.loader||[],ye&&ye.clipboardOptions||[],ye&&ye.markedOptions||[],{provide:Nt,useValue:ye&&null!=ye.sanitize?ye.sanitize:e.q3G.HTML}]}}static forChild(){return{ngModule:Ht}}}return Ht.\u0275fac=function(ye){return new(ye||Ht)},Ht.\u0275mod=e.oAB({type:Ht}),Ht.\u0275inj=e.cJS({imports:[y.ez]}),Ht})();var Ho;!function(Ht){let Je;var ut;let ye,He;(ut=Je=Ht.SecurityLevel||(Ht.SecurityLevel={})).Strict="strict",ut.Loose="loose",ut.Antiscript="antiscript",ut.Sandbox="sandbox",function(ut){ut.Base="base",ut.Forest="forest",ut.Dark="dark",ut.Default="default",ut.Neutral="neutral"}(ye=Ht.Theme||(Ht.Theme={})),function(ut){ut[ut.Debug=1]="Debug",ut[ut.Info=2]="Info",ut[ut.Warn=3]="Warn",ut[ut.Error=4]="Error",ut[ut.Fatal=5]="Fatal"}(He=Ht.LogLevel||(Ht.LogLevel={}))}(Ho||(Ho={}))},2436:(hn,ht,b)=>{"use strict";b.d(ht,{g6:()=>X,qH:()=>W});var e=b(5e3);const d={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},u=new e.OlP("config",{providedIn:"root",factory:()=>({modules:d})});var _=b(9808),P=b(2313),x=b(9770),a=b(9751),R=b(576);function L(Ae){return!!Ae&&(Ae instanceof a.y||(0,R.m)(Ae.lift)&&(0,R.m)(Ae.subscribe))}var V=b(3905),F=b(727),T=b(4968),y=b(4782),D=b(5577),k=b(8372),B=b(2382),N=b(655);function ce(Ae,Ke){1&Ae&&e._UZ(0,"div",2)}function $(Ae,Ke){1&Ae&&e._UZ(0,"pre",2)}function z(Ae,Ke){if(1&Ae&&(e.ynx(0),e.YNc(1,ce,1,0,"div",1),e.YNc(2,$,1,0,"pre",1),e.BQk()),2&Ae){const be=e.oxw();e.xp6(1),e.Q6J("ngIf",!be.preserve),e.xp6(1),e.Q6J("ngIf",be.preserve)}}function S(Ae,Ke){1&Ae&&e._UZ(0,"div",2)}function O(Ae,Ke){1&Ae&&e._UZ(0,"pre",2)}function K(Ae,Ke){if(1&Ae&&(e.ynx(0),e.YNc(1,S,1,0,"div",1),e.YNc(2,O,1,0,"pre",1),e.BQk()),2&Ae){const be=e.oxw();e.xp6(1),e.Q6J("ngIf",!be.preserve),e.xp6(1),e.Q6J("ngIf",be.preserve)}}const ue=[[["","quill-editor-toolbar",""]]],q=["[quill-editor-toolbar]"],fe=(Ae,Ke)=>Ae||Ke||"html";let ne=(()=>{class Ae{constructor(be,Ge){this.config=Ge,this.quill$=(0,x.P)(()=>(0,N.mG)(this,void 0,void 0,function*(){var ee;if(!this.Quill){const xe=this.document.addEventListener;this.document.addEventListener=this.document.__zone_symbol__addEventListener||this.document.addEventListener;const we=yield b.e(971).then(b.t.bind(b,9971,19));this.document.addEventListener=xe,this.Quill=we.default?we.default:we}return null===(ee=this.config.customOptions)||void 0===ee||ee.forEach(xe=>{const we=this.Quill.import(xe.import);we.whitelist=xe.whitelist,this.Quill.register(we,!0,this.config.suppressGlobalRegisterWarning)}),yield this.registerCustomModules(this.Quill,this.config.customModules,this.config.suppressGlobalRegisterWarning)})).pipe((0,y.d)({bufferSize:1,refCount:!0})),this.document=be.get(_.K0),this.config||(this.config={modules:d})}getQuill(){return this.quill$}registerCustomModules(be,Ge,ee){return(0,N.mG)(this,void 0,void 0,function*(){if(Array.isArray(Ge))for(let{implementation:xe,path:we}of Ge)L(xe)&&(xe=yield(0,V.z)(xe)),be.register(we,xe,ee);return be})}}return Ae.\u0275fac=function(be){return new(be||Ae)(e.LFG(e.zs3),e.LFG(u,8))},Ae.\u0275prov=e.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})(),J=(()=>{class Ae{constructor(be,Ge,ee,xe,we,Pe,dt,bt){this.elementRef=Ge,this.cd=ee,this.domSanitizer=xe,this.platformId=we,this.renderer=Pe,this.zone=dt,this.service=bt,this.required=!1,this.customToolbarPosition="top",this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new e.vpe,this.onEditorChanged=new e.vpe,this.onContentChanged=new e.vpe,this.onSelectionChanged=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.disabled=!1,this.preserve=!1,this.toolbarPosition="top",this.subscription=null,this.quillSubscription=null,this.valueGetter=(it,Dt)=>{let vt=Dt.querySelector(".ql-editor").innerHTML;("<p><br></p>"===vt||"<div><br></div>"===vt)&&(vt=this.defaultEmptyValue);let Wt=vt;const zt=fe(this.format,this.service.config.format);if("text"===zt)Wt=it.getText();else if("object"===zt)Wt=it.getContents();else if("json"===zt)try{Wt=JSON.stringify(it.getContents())}catch(Ut){Wt=it.getText()}return Wt},this.valueSetter=(it,Dt)=>{const vt=fe(this.format,this.service.config.format);if("html"===vt)return([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(Dt=this.domSanitizer.sanitize(e.q3G.HTML,Dt)),it.clipboard.convert(Dt);if("json"===vt)try{return JSON.parse(Dt)}catch(Wt){return[{insert:Dt}]}return Dt},this.selectionChangeHandler=(it,Dt,vt)=>{const Wt=!it&&!!this.onModelTouched;!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!Wt||this.zone.run(()=>{null===it?this.onBlur.emit({editor:this.quillEditor,source:vt}):null===Dt&&this.onFocus.emit({editor:this.quillEditor,source:vt}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:Dt,range:it,source:vt}),Wt&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(it,Dt,vt)=>{const Wt=this.quillEditor.getText(),zt=this.quillEditor.getContents();let Ut=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===Ut||"<div><br></div>"===Ut)&&(Ut=this.defaultEmptyValue);const ct=this.trackChanges||this.service.config.trackChanges,at=("user"===vt||ct&&"all"===ct)&&!!this.onModelChange;!this.onContentChanged.observed&&!at||this.zone.run(()=>{at&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:zt,delta:it,editor:this.quillEditor,html:Ut,oldDelta:Dt,source:vt,text:Wt}),this.cd.markForCheck()})},this.editorChangeHandler=(it,Dt,vt,Wt)=>{if(this.onEditorChanged.observed)if("text-change"===it){const zt=this.quillEditor.getText(),Ut=this.quillEditor.getContents();let ct=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===ct||"<div><br></div>"===ct)&&(ct=this.defaultEmptyValue),this.zone.run(()=>{this.onEditorChanged.emit({content:Ut,delta:Dt,editor:this.quillEditor,event:it,html:ct,oldDelta:vt,source:Wt,text:zt}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:it,oldRange:vt,range:Dt,source:Wt}),this.cd.markForCheck()})},this.document=be.get(_.K0)}static normalizeClassNames(be){return be.trim().split(" ").reduce((ee,xe)=>{const we=xe.trim();return we&&ee.push(we),ee},[])}ngOnInit(){this.preserve=this.preserveWhitespace,this.toolbarPosition=this.customToolbarPosition}ngAfterViewInit(){(0,_.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe((0,D.z)(be=>{var Ge;const ee=[this.service.registerCustomModules(be,this.customModules)],xe=null!==(Ge=this.beforeRender)&&void 0!==Ge?Ge:this.service.config.beforeRender;return xe&&ee.push(xe()),Promise.all(ee).then(()=>be)})).subscribe(be=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const Ge=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),ee=Object.assign({},this.modules||this.service.config.modules);Ge?ee.toolbar=Ge:void 0===ee.toolbar&&(ee.toolbar=d.toolbar);let xe=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===xe&&(xe="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(vt=>{this.renderer.setStyle(this.editorElem,vt,this.styles[vt])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(vt=>{const Wt=be.import(vt.import);Wt.whitelist=vt.whitelist,be.register(Wt,!0)});let we=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;we||(we=this.service.config.bounds?this.service.config.bounds:this.document.body);let Pe=this.debug;!Pe&&!1!==Pe&&this.service.config.debug&&(Pe=this.service.config.debug);let dt=this.readOnly;!dt&&!1!==this.readOnly&&(dt=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let bt=this.defaultEmptyValue;this.service.config.hasOwnProperty("defaultEmptyValue")&&(bt=this.service.config.defaultEmptyValue);let it=this.scrollingContainer;!it&&null!==this.scrollingContainer&&(it=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let Dt=this.formats;if(!Dt&&void 0===Dt&&(Dt=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{var vt,Wt,zt;if(this.quillEditor=new be(this.editorElem,{bounds:we,debug:Pe,formats:Dt,modules:ee,placeholder:xe,readOnly:dt,defaultEmptyValue:bt,scrollingContainer:it,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.linkPlaceholder){const Ut=null===(Wt=null===(vt=this.quillEditor)||void 0===vt?void 0:vt.theme)||void 0===Wt?void 0:Wt.tooltip,ct=null===(zt=null==Ut?void 0:Ut.root)||void 0===zt?void 0:zt.querySelector("input[data-link]");null!=ct&&ct.dataset&&(ct.dataset.link=this.linkPlaceholder)}}),this.content){if("text"===fe(this.format,this.service.config.format))this.quillEditor.setText(this.content,"silent");else{const Wt=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(Wt,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),(this.onEditorCreated.observed||this.onValidatorChanged)&&requestAnimationFrame(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor),this.onEditorCreated.complete()})}))}ngOnDestroy(){var be;this.dispose(),null===(be=this.quillSubscription)||void 0===be||be.unsubscribe(),this.quillSubscription=null}ngOnChanges(be){if(this.quillEditor){if(be.readOnly&&this.quillEditor.enable(!be.readOnly.currentValue),be.placeholder&&(this.quillEditor.root.dataset.placeholder=be.placeholder.currentValue),be.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=be.defaultEmptyValue.currentValue),be.styles){const Ge=be.styles.currentValue,ee=be.styles.previousValue;ee&&Object.keys(ee).forEach(xe=>{this.renderer.removeStyle(this.editorElem,xe)}),Ge&&Object.keys(Ge).forEach(xe=>{this.renderer.setStyle(this.editorElem,xe,this.styles[xe])})}if(be.classes){const Ge=be.classes.currentValue,ee=be.classes.previousValue;ee&&this.removeClasses(ee),Ge&&this.addClasses(Ge)}be.debounceTime&&this.addQuillEventListeners()}}addClasses(be){Ae.normalizeClassNames(be).forEach(Ge=>{this.renderer.addClass(this.editorElem,Ge)})}removeClasses(be){Ae.normalizeClassNames(be).forEach(Ge=>{this.renderer.removeClass(this.editorElem,Ge)})}writeValue(be){if(this.filterNull&&null===be||(this.content=be,!this.quillEditor))return;const Ge=fe(this.format,this.service.config.format),ee=this.valueSetter(this.quillEditor,be);if(this.compareValues){const xe=this.quillEditor.getContents();if(JSON.stringify(xe)===JSON.stringify(ee))return}be?"text"===Ge?this.quillEditor.setText(be):this.quillEditor.setContents(ee):this.quillEditor.setText("")}setDisabledState(be=this.disabled){this.disabled=be,this.quillEditor&&(be?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(be){this.onModelChange=be}registerOnTouched(be){this.onModelTouched=be}registerOnValidatorChange(be){this.onValidatorChanged=be}validate(){if(!this.quillEditor)return null;const be={};let Ge=!0;const ee=this.quillEditor.getText(),xe=this.trimOnValidation?ee.trim().length:1===ee.length&&0===ee.trim().length?0:ee.length-1,we=this.quillEditor.getContents().ops,Pe=we&&1===we.length&&["\n",""].includes(we[0].insert);return this.minLength&&xe&&xe<this.minLength&&(be.minLengthError={given:xe,minLength:this.minLength},Ge=!1),this.maxLength&&xe>this.maxLength&&(be.maxLengthError={given:xe,maxLength:this.maxLength},Ge=!1),this.required&&!xe&&Pe&&(be.requiredError={empty:!0},Ge=!1),Ge?null:be}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new F.w0,this.subscription.add((0,T.R)(this.quillEditor,"selection-change").subscribe(([ee,xe,we])=>{this.selectionChangeHandler(ee,xe,we)}));let be=(0,T.R)(this.quillEditor,"text-change"),Ge=(0,T.R)(this.quillEditor,"editor-change");"number"==typeof this.debounceTime&&(be=be.pipe((0,k.b)(this.debounceTime)),Ge=Ge.pipe((0,k.b)(this.debounceTime))),this.subscription.add(be.subscribe(([ee,xe,we])=>{this.textChangeHandler(ee,xe,we)})),this.subscription.add(Ge.subscribe(([ee,xe,we,Pe])=>{this.editorChangeHandler(ee,xe,we,Pe)}))})}dispose(){null!==this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}}return Ae.\u0275fac=function(be){return new(be||Ae)(e.Y36(e.zs3),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(P.H7),e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(ne))},Ae.\u0275dir=e.lG2({type:Ae,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",beforeRender:"beforeRender",styles:"styles",strict:"strict",scrollingContainer:"scrollingContainer",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",preserveWhitespace:"preserveWhitespace",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur"},features:[e.TTD]}),Ae})(),X=(()=>{class Ae extends J{constructor(be,Ge,ee,xe,we,Pe,dt,bt){super(be,Ge,ee,xe,we,Pe,dt,bt)}}return Ae.\u0275fac=function(be){return new(be||Ae)(e.Y36(e.zs3),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(P.H7),e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(ne))},Ae.\u0275cmp=e.Xpm({type:Ae,selectors:[["quill-editor"]],standalone:!0,features:[e._Bn([{multi:!0,provide:B.JU,useExisting:(0,e.Gpc)(()=>Ae)},{multi:!0,provide:B.Cf,useExisting:(0,e.Gpc)(()=>Ae)}]),e.qOj,e.jDz],ngContentSelectors:q,decls:3,vars:2,consts:[[4,"ngIf"],["quill-editor-element","",4,"ngIf"],["quill-editor-element",""]],template:function(be,Ge){1&be&&(e.F$t(ue),e.YNc(0,z,3,2,"ng-container",0),e.Hsn(1),e.YNc(2,K,3,2,"ng-container",0)),2&be&&(e.Q6J("ngIf","top"!==Ge.toolbarPosition),e.xp6(2),e.Q6J("ngIf","top"===Ge.toolbarPosition))},dependencies:[_.ez,_.O5],styles:["[_nghost-%COMP%]{display:inline-block}"]}),Ae})(),W=(()=>{class Ae{constructor(be,Ge){this.sanitizer=be,this.service=Ge,this.content="",this.innerHTML="",this.themeClass="ql-snow"}ngOnChanges(be){if(be.theme?this.themeClass=`ql-${be.theme.currentValue||(this.service.config.theme?this.service.config.theme:"snow")} ngx-quill-view-html`:this.theme||(this.themeClass=`ql-${this.service.config.theme?this.service.config.theme:"snow"} ngx-quill-view-html`),be.content){const Ge=be.content.currentValue,ee=[!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1;this.innerHTML=ee?Ge:this.sanitizer.bypassSecurityTrustHtml(Ge)}}}return Ae.\u0275fac=function(be){return new(be||Ae)(e.Y36(P.H7),e.Y36(ne))},Ae.\u0275cmp=e.Xpm({type:Ae,selectors:[["quill-view-html"]],inputs:{content:"content",theme:"theme",sanitize:"sanitize"},standalone:!0,features:[e.TTD,e.jDz],decls:2,vars:2,consts:[[1,"ql-container",3,"ngClass"],[1,"ql-editor",3,"innerHTML"]],template:function(be,Ge){1&be&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA()),2&be&&(e.Q6J("ngClass",Ge.themeClass),e.xp6(1),e.Q6J("innerHTML",Ge.innerHTML,e.oJD))},dependencies:[_.ez,_.mk],styles:[".ql-container.ngx-quill-view-html{border:0}\n"],encapsulation:2}),Ae})()},6954:(hn,ht,b)=>{"use strict";b.d(ht,{x:()=>f});var e=b(9808),d=b(5e3);let f=(()=>{class _{}return _.\u0275fac=function(x){return new(x||_)},_.\u0275mod=d.oAB({type:_}),_.\u0275inj=d.cJS({imports:[e.ez]}),_})()},9783:(hn,ht,b)=>{"use strict";b.d(ht,{$_:()=>B,F0:()=>T,Lk:()=>a,Y:()=>z,YP:()=>x,a6:()=>R,b4:()=>D,ez:()=>F,h4:()=>k,iZ:()=>V,jx:()=>N,m8:()=>ce,pg:()=>L,wB:()=>P,ws:()=>$});var e=b(5e3),d=b(7579),u=b(5921),f=b(9808);const _=["*"];var P=(()=>{return(S=P||(P={}))[S.ACCEPT=0]="ACCEPT",S[S.REJECT=1]="REJECT",S[S.CANCEL=2]="CANCEL",P;var S})();let x=(()=>{class S{constructor(){this.requireConfirmationSource=new d.x,this.acceptConfirmationSource=new d.x,this.requireConfirmation$=this.requireConfirmationSource.asObservable(),this.accept=this.acceptConfirmationSource.asObservable()}confirm(K){return this.requireConfirmationSource.next(K),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}}return S.\u0275fac=function(K){return new(K||S)},S.\u0275prov=e.Yz7({token:S,factory:S.\u0275fac}),S})(),a=(()=>{class S{constructor(){this.activeItemKeyChange=new d.x,this.activeItemKeyChange$=this.activeItemKeyChange.asObservable()}changeKey(K){this.activeItemKey=K,this.activeItemKeyChange.next(this.activeItemKey)}reset(){this.activeItemKey=null,this.activeItemKeyChange.next(this.activeItemKey)}}return S.\u0275fac=function(K){return new(K||S)},S.\u0275prov=e.Yz7({token:S,factory:S.\u0275fac}),S})(),R=(()=>{class S{}return S.STARTS_WITH="startsWith",S.CONTAINS="contains",S.NOT_CONTAINS="notContains",S.ENDS_WITH="endsWith",S.EQUALS="equals",S.NOT_EQUALS="notEquals",S.IN="in",S.LESS_THAN="lt",S.LESS_THAN_OR_EQUAL_TO="lte",S.GREATER_THAN="gt",S.GREATER_THAN_OR_EQUAL_TO="gte",S.BETWEEN="between",S.IS="is",S.IS_NOT="isNot",S.BEFORE="before",S.AFTER="after",S.DATE_IS="dateIs",S.DATE_IS_NOT="dateIsNot",S.DATE_BEFORE="dateBefore",S.DATE_AFTER="dateAfter",S})(),L=(()=>{class S{}return S.AND="and",S.OR="or",S})(),V=(()=>{class S{constructor(){this.filters={startsWith:(K,ue,q)=>{if(null==ue||""===ue.trim())return!0;if(null==K)return!1;let G=u.gb.removeAccents(ue.toString()).toLocaleLowerCase(q);return u.gb.removeAccents(K.toString()).toLocaleLowerCase(q).slice(0,G.length)===G},contains:(K,ue,q)=>{if(null==ue||"string"==typeof ue&&""===ue.trim())return!0;if(null==K)return!1;let G=u.gb.removeAccents(ue.toString()).toLocaleLowerCase(q);return-1!==u.gb.removeAccents(K.toString()).toLocaleLowerCase(q).indexOf(G)},notContains:(K,ue,q)=>{if(null==ue||"string"==typeof ue&&""===ue.trim())return!0;if(null==K)return!1;let G=u.gb.removeAccents(ue.toString()).toLocaleLowerCase(q);return-1===u.gb.removeAccents(K.toString()).toLocaleLowerCase(q).indexOf(G)},endsWith:(K,ue,q)=>{if(null==ue||""===ue.trim())return!0;if(null==K)return!1;let G=u.gb.removeAccents(ue.toString()).toLocaleLowerCase(q),j=u.gb.removeAccents(K.toString()).toLocaleLowerCase(q);return-1!==j.indexOf(G,j.length-G.length)},equals:(K,ue,q)=>null==ue||"string"==typeof ue&&""===ue.trim()||null!=K&&(K.getTime&&ue.getTime?K.getTime()===ue.getTime():u.gb.removeAccents(K.toString()).toLocaleLowerCase(q)==u.gb.removeAccents(ue.toString()).toLocaleLowerCase(q)),notEquals:(K,ue,q)=>!(null==ue||"string"==typeof ue&&""===ue.trim()||null!=K&&(K.getTime&&ue.getTime?K.getTime()===ue.getTime():u.gb.removeAccents(K.toString()).toLocaleLowerCase(q)==u.gb.removeAccents(ue.toString()).toLocaleLowerCase(q))),in:(K,ue)=>{if(null==ue||0===ue.length)return!0;for(let q=0;q<ue.length;q++)if(u.gb.equals(K,ue[q]))return!0;return!1},between:(K,ue)=>null==ue||null==ue[0]||null==ue[1]||null!=K&&(K.getTime?ue[0].getTime()<=K.getTime()&&K.getTime()<=ue[1].getTime():ue[0]<=K&&K<=ue[1]),lt:(K,ue,q)=>null==ue||null!=K&&(K.getTime&&ue.getTime?K.getTime()<ue.getTime():K<ue),lte:(K,ue,q)=>null==ue||null!=K&&(K.getTime&&ue.getTime?K.getTime()<=ue.getTime():K<=ue),gt:(K,ue,q)=>null==ue||null!=K&&(K.getTime&&ue.getTime?K.getTime()>ue.getTime():K>ue),gte:(K,ue,q)=>null==ue||null!=K&&(K.getTime&&ue.getTime?K.getTime()>=ue.getTime():K>=ue),is:(K,ue,q)=>this.filters.equals(K,ue,q),isNot:(K,ue,q)=>this.filters.notEquals(K,ue,q),before:(K,ue,q)=>this.filters.lt(K,ue,q),after:(K,ue,q)=>this.filters.gt(K,ue,q),dateIs:(K,ue)=>null==ue||null!=K&&K.toDateString()===ue.toDateString(),dateIsNot:(K,ue)=>null==ue||null!=K&&K.toDateString()!==ue.toDateString(),dateBefore:(K,ue)=>null==ue||null!=K&&K.getTime()<ue.getTime(),dateAfter:(K,ue)=>null==ue||null!=K&&K.getTime()>ue.getTime()}}filter(K,ue,q,G,j){let fe=[];if(K)for(let ne of K)for(let J of ue){let X=u.gb.resolveFieldData(ne,J);if(this.filters[G](X,q,j)){fe.push(ne);break}}return fe}register(K,ue){this.filters[K]=ue}}return S.\u0275fac=function(K){return new(K||S)},S.\u0275prov=e.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),F=(()=>{class S{constructor(){this.messageSource=new d.x,this.clearSource=new d.x,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(K){K&&this.messageSource.next(K)}addAll(K){K&&K.length&&this.messageSource.next(K)}clear(K){this.clearSource.next(K||null)}}return S.\u0275fac=function(K){return new(K||S)},S.\u0275prov=e.Yz7({token:S,factory:S.\u0275fac}),S})(),T=(()=>{class S{constructor(){this.clickSource=new d.x,this.clickObservable=this.clickSource.asObservable()}add(K){K&&this.clickSource.next(K)}}return S.\u0275fac=function(K){return new(K||S)},S.\u0275prov=e.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),D=(()=>{class S{constructor(){this.ripple=!1,this.overlayOptions={},this.filterMatchModeOptions={text:[R.STARTS_WITH,R.CONTAINS,R.NOT_CONTAINS,R.ENDS_WITH,R.EQUALS,R.NOT_EQUALS],numeric:[R.EQUALS,R.NOT_EQUALS,R.LESS_THAN,R.LESS_THAN_OR_EQUAL_TO,R.GREATER_THAN,R.GREATER_THAN_OR_EQUAL_TO],date:[R.DATE_IS,R.DATE_IS_NOT,R.DATE_BEFORE,R.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new d.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(K){return this.translation[K]}setTranslation(K){this.translation=Object.assign(Object.assign({},this.translation),K),this.translationSource.next(this.translation)}}return S.\u0275fac=function(K){return new(K||S)},S.\u0275prov=e.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),k=(()=>{class S{}return S.\u0275fac=function(K){return new(K||S)},S.\u0275cmp=e.Xpm({type:S,selectors:[["p-header"]],ngContentSelectors:_,decls:1,vars:0,template:function(K,ue){1&K&&(e.F$t(),e.Hsn(0))},encapsulation:2}),S})(),B=(()=>{class S{}return S.\u0275fac=function(K){return new(K||S)},S.\u0275cmp=e.Xpm({type:S,selectors:[["p-footer"]],ngContentSelectors:_,decls:1,vars:0,template:function(K,ue){1&K&&(e.F$t(),e.Hsn(0))},encapsulation:2}),S})(),N=(()=>{class S{constructor(K){this.template=K}getType(){return this.name}}return S.\u0275fac=function(K){return new(K||S)(e.Y36(e.Rgc))},S.\u0275dir=e.lG2({type:S,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),S})(),ce=(()=>{class S{}return S.\u0275fac=function(K){return new(K||S)},S.\u0275mod=e.oAB({type:S}),S.\u0275inj=e.cJS({imports:[f.ez]}),S})(),$=(()=>{class S{}return S.STARTS_WITH="startsWith",S.CONTAINS="contains",S.NOT_CONTAINS="notContains",S.ENDS_WITH="endsWith",S.EQUALS="equals",S.NOT_EQUALS="notEquals",S.NO_FILTER="noFilter",S.LT="lt",S.LTE="lte",S.GT="gt",S.GTE="gte",S.IS="is",S.IS_NOT="isNot",S.BEFORE="before",S.AFTER="after",S.CLEAR="clear",S.APPLY="apply",S.MATCH_ALL="matchAll",S.MATCH_ANY="matchAny",S.ADD_RULE="addRule",S.REMOVE_RULE="removeRule",S.ACCEPT="accept",S.REJECT="reject",S.CHOOSE="choose",S.UPLOAD="upload",S.CANCEL="cancel",S.DAY_NAMES="dayNames",S.DAY_NAMES_SHORT="dayNamesShort",S.DAY_NAMES_MIN="dayNamesMin",S.MONTH_NAMES="monthNames",S.MONTH_NAMES_SHORT="monthNamesShort",S.FIRST_DAY_OF_WEEK="firstDayOfWeek",S.TODAY="today",S.WEEK_HEADER="weekHeader",S.WEAK="weak",S.MEDIUM="medium",S.STRONG="strong",S.PASSWORD_PROMPT="passwordPrompt",S.EMPTY_MESSAGE="emptyMessage",S.EMPTY_FILTER_MESSAGE="emptyFilterMessage",S})(),z=(()=>{class S{constructor(){this.dragStartSource=new d.x,this.dragStopSource=new d.x,this.dragStart$=this.dragStartSource.asObservable(),this.dragStop$=this.dragStopSource.asObservable()}startDrag(K){this.dragStartSource.next(K)}stopDrag(K){this.dragStopSource.next(K)}}return S.\u0275fac=function(K){return new(K||S)},S.\u0275prov=e.Yz7({token:S,factory:S.\u0275fac}),S})()},2145:(hn,ht,b)=>{"use strict";b.d(ht,{Qc:()=>Tn,WN:()=>en});var e=b(5e3),d=b(9808),u=b(1777),f=b(1424),_=b(845),P=b(5787),x=b(9783),a=b(5730),R=b(5921),L=b(2382),V=b(5871),F=b(9618);const T=["container"],y=["in"],D=["multiIn"],k=["multiContainer"],B=["ddBtn"],N=["items"],ce=["scroller"],$=function(_t,tt){return{"p-autocomplete-dd-input":_t,"p-disabled":tt}};function z(_t,tt){if(1&_t){const de=e.EpF();e.TgZ(0,"input",8,9),e.NdJ("click",function(ze){e.CHM(de);const Et=e.oxw();return e.KtG(Et.onInputClick(ze))})("input",function(ze){e.CHM(de);const Et=e.oxw();return e.KtG(Et.onInput(ze))})("keydown",function(ze){e.CHM(de);const Et=e.oxw();return e.KtG(Et.onKeydown(ze))})("keyup",function(ze){e.CHM(de);const Et=e.oxw();return e.KtG(Et.onKeyup(ze))})("focus",function(ze){e.CHM(de);const Et=e.oxw();return e.KtG(Et.onInputFocus(ze))})("blur",function(ze){e.CHM(de);const Et=e.oxw();return e.KtG(Et.onInputBlur(ze))})("change",function(ze){e.CHM(de);const Et=e.oxw();return e.KtG(Et.onInputChange(ze))})("paste",function(ze){e.CHM(de);const Et=e.oxw();return e.KtG(Et.onInputPaste(ze))}),e.qZA()}if(2&_t){const de=e.oxw();e.Tol(de.inputStyleClass),e.Q6J("autofocus",de.autofocus)("ngStyle",de.inputStyle)("autocomplete",de.autocomplete)("ngClass",e.WLB(20,$,de.dropdown,de.disabled))("value",de.inputFieldValue)("readonly",de.readonly)("disabled",de.disabled),e.uIk("type",de.type)("id",de.inputId)("required",de.required)("name",de.name)("placeholder",de.placeholder)("size",de.size)("maxlength",de.maxlength)("tabindex",de.tabindex)("aria-label",de.ariaLabel)("aria-labelledby",de.ariaLabelledBy)("aria-required",de.required)}}function S(_t,tt){if(1&_t){const de=e.EpF();e.TgZ(0,"i",10),e.NdJ("click",function(){e.CHM(de);const ze=e.oxw();return e.KtG(ze.clear())}),e.qZA()}}function O(_t,tt){if(1&_t){const de=e.EpF();e.TgZ(0,"i",10),e.NdJ("click",function(){e.CHM(de);const ze=e.oxw();return e.KtG(ze.clear())}),e.qZA()}}function K(_t,tt){1&_t&&e.GkF(0)}function ue(_t,tt){if(1&_t&&(e.TgZ(0,"span",22),e._uU(1),e.qZA()),2&_t){const de=e.oxw().$implicit,Qe=e.oxw(2);e.xp6(1),e.Oqu(Qe.resolveFieldData(de))}}function q(_t,tt){if(1&_t){const de=e.EpF();e.TgZ(0,"span",23),e.NdJ("click",function(){e.CHM(de),e.oxw();const ze=e.MAs(1),Et=e.oxw(2);return e.KtG(Et.removeItem(ze))}),e.qZA()}}const G=function(_t){return{$implicit:_t}};function j(_t,tt){if(1&_t&&(e.TgZ(0,"li",17,18),e.YNc(2,K,1,0,"ng-container",19),e.YNc(3,ue,2,1,"span",20),e.YNc(4,q,1,0,"span",21),e.qZA()),2&_t){const de=tt.$implicit,Qe=e.oxw(2);e.xp6(2),e.Q6J("ngTemplateOutlet",Qe.selectedItemTemplate)("ngTemplateOutletContext",e.VKq(4,G,de)),e.xp6(1),e.Q6J("ngIf",!Qe.selectedItemTemplate),e.xp6(1),e.Q6J("ngIf",!Qe.disabled&&!Qe.readonly)}}const fe=function(_t,tt){return{"p-disabled":_t,"p-focus":tt}};function ne(_t,tt){if(1&_t){const de=e.EpF();e.TgZ(0,"ul",11,12),e.NdJ("click",function(){e.CHM(de);const ze=e.MAs(5);return e.KtG(ze.focus())}),e.YNc(2,j,5,6,"li",13),e.TgZ(3,"li",14)(4,"input",15,16),e.NdJ("input",function(ze){e.CHM(de);const Et=e.oxw();return e.KtG(Et.onInput(ze))})("click",function(ze){e.CHM(de);const Et=e.oxw();return e.KtG(Et.onInputClick(ze))})("keydown",function(ze){e.CHM(de);const Et=e.oxw();return e.KtG(Et.onKeydown(ze))})("keyup",function(ze){e.CHM(de);const Et=e.oxw();return e.KtG(Et.onKeyup(ze))})("focus",function(ze){e.CHM(de);const Et=e.oxw();return e.KtG(Et.onInputFocus(ze))})("blur",function(ze){e.CHM(de);const Et=e.oxw();return e.KtG(Et.onInputBlur(ze))})("change",function(ze){e.CHM(de);const Et=e.oxw();return e.KtG(Et.onInputChange(ze))})("paste",function(ze){e.CHM(de);const Et=e.oxw();return e.KtG(Et.onInputPaste(ze))}),e.qZA()()()}if(2&_t){const de=e.oxw();e.Q6J("ngClass",e.WLB(20,fe,de.disabled,de.focus)),e.xp6(2),e.Q6J("ngForOf",de.value),e.xp6(2),e.Tol(de.inputStyleClass),e.Q6J("autofocus",de.autofocus)("disabled",de.disabled)("readonly",de.readonly)("autocomplete",de.autocomplete)("ngStyle",de.inputStyle),e.uIk("type",de.type)("id",de.inputId)("placeholder",de.value&&de.value.length?null:de.placeholder)("tabindex",de.tabindex)("maxlength",de.maxlength)("aria-label",de.ariaLabel)("aria-labelledby",de.ariaLabelledBy)("aria-required",de.required)("aria-controls",de.listId)("aria-expanded",de.overlayVisible)("aria-activedescendant","p-highlighted-option")}}function J(_t,tt){1&_t&&e._UZ(0,"i",24)}function X(_t,tt){if(1&_t){const de=e.EpF();e.TgZ(0,"button",25,26),e.NdJ("click",function(ze){e.CHM(de);const Et=e.oxw();return e.KtG(Et.handleDropdownClick(ze))}),e.qZA()}if(2&_t){const de=e.oxw();e.Q6J("icon",de.dropdownIcon)("disabled",de.disabled),e.uIk("aria-label",de.dropdownAriaLabel)("tabindex",de.tabindex)}}function W(_t,tt){1&_t&&e.GkF(0)}function Y(_t,tt){1&_t&&e.GkF(0)}const Te=function(_t,tt){return{$implicit:_t,options:tt}};function Ae(_t,tt){if(1&_t&&e.YNc(0,Y,1,0,"ng-container",19),2&_t){const de=tt.$implicit,Qe=tt.options;e.oxw(2);const ze=e.MAs(6);e.Q6J("ngTemplateOutlet",ze)("ngTemplateOutletContext",e.WLB(2,Te,de,Qe))}}function Ke(_t,tt){1&_t&&e.GkF(0)}const be=function(_t){return{options:_t}};function Ge(_t,tt){if(1&_t&&e.YNc(0,Ke,1,0,"ng-container",19),2&_t){const de=tt.options,Qe=e.oxw(4);e.Q6J("ngTemplateOutlet",Qe.loaderTemplate)("ngTemplateOutletContext",e.VKq(2,be,de))}}function ee(_t,tt){1&_t&&(e.ynx(0),e.YNc(1,Ge,1,4,"ng-template",36),e.BQk())}const xe=function(_t){return{height:_t}};function we(_t,tt){if(1&_t){const de=e.EpF();e.TgZ(0,"p-scroller",33,34),e.NdJ("onLazyLoad",function(ze){e.CHM(de);const Et=e.oxw(2);return e.KtG(Et.onLazyLoad.emit(ze))}),e.YNc(2,Ae,1,5,"ng-template",35),e.YNc(3,ee,2,0,"ng-container",31),e.qZA()}if(2&_t){const de=e.oxw(2);e.Akn(e.VKq(8,xe,de.scrollHeight)),e.Q6J("items",de.suggestions)("itemSize",de.virtualScrollItemSize||de._itemSize)("autoSize",!0)("lazy",de.lazy)("options",de.virtualScrollOptions),e.xp6(3),e.Q6J("ngIf",de.loaderTemplate)}}function Pe(_t,tt){1&_t&&e.GkF(0)}const dt=function(){return{}};function bt(_t,tt){if(1&_t&&(e.ynx(0),e.YNc(1,Pe,1,0,"ng-container",19),e.BQk()),2&_t){e.oxw();const de=e.MAs(6),Qe=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",de)("ngTemplateOutletContext",e.WLB(3,Te,Qe.suggestions,e.DdM(2,dt)))}}function it(_t,tt){if(1&_t&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&_t){const de=e.oxw().$implicit,Qe=e.oxw(4);e.xp6(1),e.Oqu(Qe.getOptionGroupLabel(de)||"empty")}}function Dt(_t,tt){1&_t&&e.GkF(0)}function vt(_t,tt){1&_t&&e.GkF(0)}function Wt(_t,tt){if(1&_t&&(e.TgZ(0,"li",42),e.YNc(1,it,2,1,"span",31),e.YNc(2,Dt,1,0,"ng-container",19),e.qZA(),e.YNc(3,vt,1,0,"ng-container",19)),2&_t){const de=tt.$implicit,Qe=e.oxw(2).options,ze=e.MAs(5),Et=e.oxw(2);e.Q6J("ngStyle",e.VKq(6,xe,Qe.itemSize+"px")),e.xp6(1),e.Q6J("ngIf",!Et.groupTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",Et.groupTemplate)("ngTemplateOutletContext",e.VKq(8,G,de)),e.xp6(1),e.Q6J("ngTemplateOutlet",ze)("ngTemplateOutletContext",e.VKq(10,G,Et.getOptionGroupChildren(de)))}}function zt(_t,tt){if(1&_t&&(e.ynx(0),e.YNc(1,Wt,4,12,"ng-template",41),e.BQk()),2&_t){const de=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",de)}}function Ut(_t,tt){1&_t&&e.GkF(0)}function ct(_t,tt){if(1&_t&&(e.ynx(0),e.YNc(1,Ut,1,0,"ng-container",19),e.BQk()),2&_t){const de=e.oxw().$implicit,Qe=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",Qe)("ngTemplateOutletContext",e.VKq(2,G,de))}}function at(_t,tt){if(1&_t&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&_t){const de=e.oxw().$implicit,Qe=e.oxw(4);e.xp6(1),e.Oqu(Qe.resolveFieldData(de))}}function me(_t,tt){1&_t&&e.GkF(0)}const De=function(_t){return{"p-highlight":_t}},ot=function(_t,tt){return{$implicit:_t,index:tt}};function Ct(_t,tt){if(1&_t){const de=e.EpF();e.TgZ(0,"li",44),e.NdJ("click",function(){const Et=e.CHM(de).$implicit,Be=e.oxw(4);return e.KtG(Be.selectItem(Et))}),e.YNc(1,at,2,1,"span",31),e.YNc(2,me,1,0,"ng-container",19),e.qZA()}if(2&_t){const de=tt.$implicit,Qe=tt.index,ze=e.oxw(2).options,Et=e.oxw(2);e.Q6J("ngStyle",e.VKq(6,xe,ze.itemSize+"px"))("ngClass",e.VKq(8,De,de===Et.highlightOption))("id",Et.highlightOption==de?"p-highlighted-option":""),e.xp6(1),e.Q6J("ngIf",!Et.itemTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",Et.itemTemplate)("ngTemplateOutletContext",e.WLB(10,ot,de,ze.getOptions?ze.getOptions(Qe):Qe))}}function Ot(_t,tt){1&_t&&e.YNc(0,Ct,3,13,"li",43),2&_t&&e.Q6J("ngForOf",tt.$implicit)}function Ft(_t,tt){if(1&_t&&(e.ynx(0),e._uU(1),e.BQk()),2&_t){const de=e.oxw(4);e.xp6(1),e.hij(" ",de.emptyMessageLabel," ")}}function Mt(_t,tt){1&_t&&e.GkF(0,null,47)}function Ye(_t,tt){if(1&_t&&(e.TgZ(0,"li",45),e.YNc(1,Ft,2,1,"ng-container",46),e.YNc(2,Mt,2,0,"ng-container",29),e.qZA()),2&_t){const de=e.oxw().options,Qe=e.oxw(2);e.Q6J("ngStyle",e.VKq(4,xe,de.itemSize+"px")),e.xp6(1),e.Q6J("ngIf",!Qe.emptyTemplate)("ngIfElse",Qe.empty),e.xp6(1),e.Q6J("ngTemplateOutlet",Qe.emptyTemplate)}}function st(_t,tt){if(1&_t&&(e.TgZ(0,"ul",37,38),e.YNc(2,zt,2,1,"ng-container",31),e.YNc(3,ct,2,4,"ng-container",31),e.YNc(4,Ot,1,1,"ng-template",null,39,e.W1O),e.YNc(6,Ye,3,6,"li",40),e.qZA()),2&_t){const de=tt.options,Qe=e.oxw(2);e.Akn(de.contentStyle),e.Q6J("ngClass",de.contentStyleClass),e.uIk("id",Qe.listId),e.xp6(2),e.Q6J("ngIf",Qe.group),e.xp6(1),e.Q6J("ngIf",!Qe.group),e.xp6(3),e.Q6J("ngIf",Qe.noResults&&Qe.showEmptyMessage)}}function je(_t,tt){1&_t&&e.GkF(0)}const It=function(){return["p-autocomplete-panel p-component"]},se=function(_t,tt){return{showTransitionParams:_t,hideTransitionParams:tt}},Fe=function(_t){return{value:"visible",params:_t}};function he(_t,tt){if(1&_t){const de=e.EpF();e.TgZ(0,"div",27,28),e.NdJ("click",function(ze){e.CHM(de);const Et=e.oxw();return e.KtG(Et.onOverlayClick(ze))})("@overlayAnimation.start",function(ze){e.CHM(de);const Et=e.oxw();return e.KtG(Et.onOverlayAnimationStart(ze))})("@overlayAnimation.done",function(ze){e.CHM(de);const Et=e.oxw();return e.KtG(Et.onOverlayAnimationEnd(ze))}),e.YNc(2,W,1,0,"ng-container",29),e.YNc(3,we,4,10,"p-scroller",30),e.YNc(4,bt,2,6,"ng-container",31),e.YNc(5,st,7,7,"ng-template",null,32,e.W1O),e.YNc(7,je,1,0,"ng-container",29),e.qZA()}if(2&_t){const de=e.oxw();e.Tol(de.panelStyleClass),e.Udp("max-height",de.virtualScroll?"auto":de.scrollHeight),e.Q6J("ngClass",e.DdM(11,It))("ngStyle",de.panelStyle)("@overlayAnimation",e.VKq(15,Fe,e.WLB(12,se,de.showTransitionOptions,de.hideTransitionOptions))),e.xp6(2),e.Q6J("ngTemplateOutlet",de.headerTemplate),e.xp6(1),e.Q6J("ngIf",de.virtualScroll),e.xp6(1),e.Q6J("ngIf",!de.virtualScroll),e.xp6(3),e.Q6J("ngTemplateOutlet",de.footerTemplate)}}const gt=function(_t,tt){return{"p-autocomplete p-component":!0,"p-autocomplete-dd":_t,"p-autocomplete-multiple":tt}},cn={provide:L.JU,useExisting:(0,e.Gpc)(()=>Tn),multi:!0};let Tn=(()=>{class _t{constructor(de,Qe,ze,Et,Be,qt){this.el=de,this.renderer=Qe,this.cd=ze,this.differs=Et,this.config=Be,this.overlayService=qt,this.minLength=1,this.delay=300,this.scrollHeight="200px",this.lazy=!1,this.type="text",this.autoZIndex=!0,this.baseZIndex=0,this.dropdownIcon="pi pi-chevron-down",this.unique=!0,this.completeOnFocus=!1,this.showClear=!1,this.dropdownMode="blank",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autocomplete="off",this.completeMethod=new e.vpe,this.onSelect=new e.vpe,this.onUnselect=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onDropdownClick=new e.vpe,this.onClear=new e.vpe,this.onKeyUp=new e.vpe,this.onShow=new e.vpe,this.onHide=new e.vpe,this.onLazyLoad=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.overlayVisible=!1,this.focus=!1,this.inputFieldValue=null,this.inputValue=null,this.differ=Et.find([]).create(null),this.listId=(0,R.Th)()+"_list"}get itemSize(){return this._itemSize}set itemSize(de){this._itemSize=de,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get suggestions(){return this._suggestions}set suggestions(de){this._suggestions=de,this.handleSuggestionsChange()}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlay&&this.overlay.offsetParent&&(setTimeout(()=>{this.overlay&&this.alignOverlay()},1),this.suggestionsUpdated=!1),this.highlightOptionChanged&&(setTimeout(()=>{if(this.overlay&&this.itemsWrapper){let de=a.p.findSingle(this.overlay,"li.p-highlight");de&&a.p.scrollInView(this.itemsWrapper,de)}},1),this.highlightOptionChanged=!1)}handleSuggestionsChange(){null!=this._suggestions&&this.loading&&(this.highlightOption=null,this._suggestions.length?(this.noResults=!1,this.show(),this.suggestionsUpdated=!0,this.autoHighlight&&(this.highlightOption=this._suggestions[0])):(this.noResults=!0,this.showEmptyMessage?(this.show(),this.suggestionsUpdated=!0):this.hide()),this.loading=!1)}ngAfterContentInit(){this.templates.forEach(de=>{switch(de.getType()){case"item":default:this.itemTemplate=de.template;break;case"group":this.groupTemplate=de.template;break;case"selectedItem":this.selectedItemTemplate=de.template;break;case"header":this.headerTemplate=de.template;break;case"empty":this.emptyTemplate=de.template;break;case"footer":this.footerTemplate=de.template;break;case"loader":this.loaderTemplate=de.template}})}writeValue(de){this.value=de,this.filled=this.value&&""!=this.value,this.updateInputField(),this.cd.markForCheck()}getOptionGroupChildren(de){return this.optionGroupChildren?R.gb.resolveFieldData(de,this.optionGroupChildren):de.items}getOptionGroupLabel(de){return this.optionGroupLabel?R.gb.resolveFieldData(de,this.optionGroupLabel):null!=de.label?de.label:de}registerOnChange(de){this.onModelChange=de}registerOnTouched(de){this.onModelTouched=de}setDisabledState(de){this.disabled=de,this.cd.markForCheck()}onInput(de){if(!this.inputKeyDown&&a.p.isIE())return;this.timeout&&clearTimeout(this.timeout);let Qe=de.target.value;this.inputValue=Qe,!this.multiple&&!this.forceSelection&&this.onModelChange(Qe),0===Qe.length&&!this.multiple&&(this.value=null,this.hide(),this.onClear.emit(de),this.onModelChange(Qe)),Qe.length>=this.minLength?this.timeout=setTimeout(()=>{this.search(de,Qe)},this.delay):this.hide(),this.updateFilledState(),this.inputKeyDown=!1}onInputClick(de){this.documentClickListener&&(this.inputClick=!0)}search(de,Qe){null!=Qe&&(this.loading=!0,this.completeMethod.emit({originalEvent:de,query:Qe}))}selectItem(de,Qe=!0){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.multiple?(this.multiInputEL.nativeElement.value="",this.value=this.value||[],(!this.isSelected(de)||!this.unique)&&(this.value=[...this.value,de],this.onModelChange(this.value))):(this.inputEL.nativeElement.value=this.resolveFieldData(de),this.value=de,this.onModelChange(this.value)),this.onSelect.emit(de),this.updateFilledState(),Qe&&(this.itemClicked=!0,this.focusInput())}show(){if(this.multiInputEL||this.inputEL){let de=this.multiple?this.multiInputEL.nativeElement.ownerDocument.activeElement==this.multiInputEL.nativeElement:this.inputEL.nativeElement.ownerDocument.activeElement==this.inputEL.nativeElement;!this.overlayVisible&&de&&(this.overlayVisible=!0)}}clear(){this.multiple?this.value=null:(this.inputValue=null,this.inputEL.nativeElement.value=""),this.updateFilledState(),this.onModelChange(this.value),this.onClear.emit()}onOverlayAnimationStart(de){var Qe;switch(de.toState){case"visible":this.overlay=de.element,this.itemsWrapper=this.virtualScroll?a.p.findSingle(this.overlay,".p-scroller"):this.overlay,this.virtualScroll&&(null===(Qe=this.scroller)||void 0===Qe||Qe.setContentEl(this.itemsViewChild.nativeElement)),this.appendOverlay(),this.autoZIndex&&R.P9.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.onShow.emit(de);break;case"void":this.onOverlayHide()}}onOverlayAnimationEnd(de){"void"===de.toState&&this.autoZIndex&&R.P9.clear(de.element)}onOverlayClick(de){this.overlayService.add({originalEvent:de,target:this.el.nativeElement})}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):a.p.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=a.p.getWidth(this.el.nativeElement.children[0])+"px"))}resolveFieldData(de){let Qe=this.field?R.gb.resolveFieldData(de,this.field):de;return void 0!==Qe?Qe:""}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.appendTo?a.p.absolutePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement):a.p.relativePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}handleDropdownClick(de){if(this.overlayVisible)this.hide();else{this.focusInput();let Qe=this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value;"blank"===this.dropdownMode?this.search(de,""):"current"===this.dropdownMode&&this.search(de,Qe),this.onDropdownClick.emit({originalEvent:de,query:Qe})}}focusInput(){this.multiple?this.multiInputEL.nativeElement.focus():this.inputEL.nativeElement.focus()}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(x.ws.EMPTY_MESSAGE)}removeItem(de){let Qe=a.p.index(de),ze=this.value[Qe];this.value=this.value.filter((Et,Be)=>Be!=Qe),this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(ze)}onKeydown(de){if(this.overlayVisible)switch(de.which){case 40:if(this.group){let ze=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==ze){let Et=ze.itemIndex+1;Et<this.getOptionGroupChildren(this.suggestions[ze.groupIndex]).length?(this.highlightOption=this.getOptionGroupChildren(this.suggestions[ze.groupIndex])[Et],this.highlightOptionChanged=!0):this.suggestions[ze.groupIndex+1]&&(this.highlightOption=this.getOptionGroupChildren(this.suggestions[ze.groupIndex+1])[0],this.highlightOptionChanged=!0)}else this.highlightOption=this.getOptionGroupChildren(this.suggestions[0])[0]}else{let ze=this.findOptionIndex(this.highlightOption,this.suggestions);if(-1!=ze){var Qe=ze+1;Qe!=this.suggestions.length&&(this.highlightOption=this.suggestions[Qe],this.highlightOptionChanged=!0)}else this.highlightOption=this.suggestions[0]}de.preventDefault();break;case 38:if(this.group){let ze=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==ze){let Et=ze.itemIndex-1;if(Et>=0)this.highlightOption=this.getOptionGroupChildren(this.suggestions[ze.groupIndex])[Et],this.highlightOptionChanged=!0;else if(Et<0){let Be=this.suggestions[ze.groupIndex-1];Be&&(this.highlightOption=this.getOptionGroupChildren(Be)[this.getOptionGroupChildren(Be).length-1],this.highlightOptionChanged=!0)}}}else{let ze=this.findOptionIndex(this.highlightOption,this.suggestions);ze>0&&(this.highlightOption=this.suggestions[ze-1],this.highlightOptionChanged=!0)}de.preventDefault();break;case 13:this.highlightOption&&(this.selectItem(this.highlightOption),this.hide()),de.preventDefault();break;case 27:this.hide(),de.preventDefault();break;case 9:this.highlightOption&&this.selectItem(this.highlightOption),this.hide()}else 40===de.which&&this.suggestions?this.search(de,de.target.value):de.ctrlKey&&"z"===de.key&&!this.multiple?(this.inputEL.nativeElement.value=this.resolveFieldData(null),this.value="",this.onModelChange(this.value)):de.ctrlKey&&"z"===de.key&&this.multiple&&(this.value.pop(),this.onModelChange(this.value),this.updateFilledState());if(this.multiple&&8===de.which&&this.value&&this.value.length&&!this.multiInputEL.nativeElement.value){this.value=[...this.value];const ze=this.value.pop();this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(ze)}this.inputKeyDown=!0}onKeyup(de){this.onKeyUp.emit(de)}onInputFocus(de){!this.itemClicked&&this.completeOnFocus&&this.search(de,this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value),this.focus=!0,this.onFocus.emit(de),this.itemClicked=!1}onInputBlur(de){this.focus=!1,this.onModelTouched(),this.onBlur.emit(de)}onInputChange(de){if(this.forceSelection){let Qe=!1,ze=de.target.value.trim();if(this.suggestions)for(let Et of this.suggestions){let Be=this.field?R.gb.resolveFieldData(Et,this.field):Et;if(Be&&ze===Be.trim()){Qe=!0,this.forceSelectionUpdateModelTimeout=setTimeout(()=>{this.selectItem(Et,!1)},250);break}}Qe||(this.multiple?this.multiInputEL.nativeElement.value="":(this.value=null,this.inputEL.nativeElement.value=""),this.onClear.emit(de),this.onModelChange(this.value),this.updateFilledState())}}onInputPaste(de){this.onKeydown(de)}isSelected(de){let Qe=!1;if(this.value&&this.value.length)for(let ze=0;ze<this.value.length;ze++)if(R.gb.equals(this.value[ze],de,this.dataKey)){Qe=!0;break}return Qe}findOptionIndex(de,Qe){let ze=-1;if(Qe)for(let Et=0;Et<Qe.length;Et++)if(R.gb.equals(de,Qe[Et])){ze=Et;break}return ze}findOptionGroupIndex(de,Qe){let ze,Et;if(Qe)for(let Be=0;Be<Qe.length&&(ze=Be,Et=this.findOptionIndex(de,this.getOptionGroupChildren(Qe[Be])),-1===Et);Be++);return-1!==Et?{groupIndex:ze,itemIndex:Et}:-1}updateFilledState(){this.filled=this.multiple?this.value&&this.value.length||this.multiInputEL&&this.multiInputEL.nativeElement&&""!=this.multiInputEL.nativeElement.value:this.inputFieldValue&&""!=this.inputFieldValue||this.inputEL&&this.inputEL.nativeElement&&""!=this.inputEL.nativeElement.value}updateInputField(){let de=this.resolveFieldData(this.value);this.inputFieldValue=de,this.inputEL&&this.inputEL.nativeElement&&(this.inputEL.nativeElement.value=de),this.updateFilledState()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",Qe=>{3!==Qe.which&&(!this.inputClick&&!this.isDropdownClick(Qe)&&this.hide(),this.inputClick=!1,this.cd.markForCheck())}))}isDropdownClick(de){if(this.dropdown){let Qe=de.target;return Qe===this.dropdownButton.nativeElement||Qe.parentNode===this.dropdownButton.nativeElement}return!1}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!a.p.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new a.V(this.containerEL.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay&&(this.overlay=null,this.onHide.emit())}ngOnDestroy(){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&R.P9.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return _t.\u0275fac=function(de){return new(de||_t)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.ZZ4),e.Y36(x.b4),e.Y36(x.F0))},_t.\u0275cmp=e.Xpm({type:_t,selectors:[["p-autoComplete"]],contentQueries:function(de,Qe,ze){if(1&de&&e.Suo(ze,x.jx,4),2&de){let Et;e.iGM(Et=e.CRH())&&(Qe.templates=Et)}},viewQuery:function(de,Qe){if(1&de&&(e.Gf(T,5),e.Gf(y,5),e.Gf(D,5),e.Gf(k,5),e.Gf(B,5),e.Gf(N,5),e.Gf(ce,5)),2&de){let ze;e.iGM(ze=e.CRH())&&(Qe.containerEL=ze.first),e.iGM(ze=e.CRH())&&(Qe.inputEL=ze.first),e.iGM(ze=e.CRH())&&(Qe.multiInputEL=ze.first),e.iGM(ze=e.CRH())&&(Qe.multiContainerEL=ze.first),e.iGM(ze=e.CRH())&&(Qe.dropdownButton=ze.first),e.iGM(ze=e.CRH())&&(Qe.itemsViewChild=ze.first),e.iGM(ze=e.CRH())&&(Qe.scroller=ze.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(de,Qe){2&de&&e.ekj("p-inputwrapper-filled",Qe.filled)("p-inputwrapper-focus",Qe.focus&&!Qe.disabled||Qe.autofocus||Qe.overlayVisible)("p-autocomplete-clearable",Qe.showClear&&!Qe.disabled)},inputs:{minLength:"minLength",delay:"delay",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:"readonly",disabled:"disabled",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",maxlength:"maxlength",name:"name",required:"required",size:"size",appendTo:"appendTo",autoHighlight:"autoHighlight",forceSelection:"forceSelection",type:"type",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",ariaLabel:"ariaLabel",dropdownAriaLabel:"dropdownAriaLabel",ariaLabelledBy:"ariaLabelledBy",dropdownIcon:"dropdownIcon",unique:"unique",group:"group",completeOnFocus:"completeOnFocus",showClear:"showClear",field:"field",dropdown:"dropdown",showEmptyMessage:"showEmptyMessage",dropdownMode:"dropdownMode",multiple:"multiple",tabindex:"tabindex",dataKey:"dataKey",emptyMessage:"emptyMessage",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:"autofocus",autocomplete:"autocomplete",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",itemSize:"itemSize",suggestions:"suggestions"},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide",onLazyLoad:"onLazyLoad"},features:[e._Bn([cn])],decls:9,vars:14,consts:[[3,"ngClass","ngStyle"],["container",""],["pAutoFocus","","class","p-autocomplete-input p-inputtext p-component","aria-autocomplete","list","role","searchbox",3,"autofocus","ngStyle","class","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste",4,"ngIf"],["class","p-autocomplete-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-autocomplete-multiple-container p-component p-inputtext",3,"ngClass","click",4,"ngIf"],["class","p-autocomplete-loader pi pi-spinner pi-spin",4,"ngIf"],["type","button","pButton","","class","p-autocomplete-dropdown","pRipple","",3,"icon","disabled","click",4,"ngIf"],[3,"ngClass","max-height","ngStyle","class","click",4,"ngIf"],["pAutoFocus","","aria-autocomplete","list","role","searchbox",1,"p-autocomplete-input","p-inputtext","p-component",3,"autofocus","ngStyle","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste"],["in",""],[1,"p-autocomplete-clear-icon","pi","pi-times",3,"click"],[1,"p-autocomplete-multiple-container","p-component","p-inputtext",3,"ngClass","click"],["multiContainer",""],["class","p-autocomplete-token",4,"ngFor","ngForOf"],[1,"p-autocomplete-input-token"],["pAutoFocus","","aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"autofocus","disabled","readonly","autocomplete","ngStyle","input","click","keydown","keyup","focus","blur","change","paste"],["multiIn",""],[1,"p-autocomplete-token"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-autocomplete-token-label",4,"ngIf"],["class","p-autocomplete-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-autocomplete-token-label"],[1,"p-autocomplete-token-icon","pi","pi-times-circle",3,"click"],[1,"p-autocomplete-loader","pi","pi-spinner","pi-spin"],["type","button","pButton","","pRipple","",1,"p-autocomplete-dropdown",3,"icon","disabled","click"],["ddBtn",""],[3,"ngClass","ngStyle","click"],["panel",""],[4,"ngTemplateOutlet"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["buildInItems",""],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-autocomplete-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-autocomplete-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-autocomplete-item-group",3,"ngStyle"],["role","option","class","p-autocomplete-item","pRipple","",3,"ngStyle","ngClass","id","click",4,"ngFor","ngForOf"],["role","option","pRipple","",1,"p-autocomplete-item",3,"ngStyle","ngClass","id","click"],[1,"p-autocomplete-empty-message",3,"ngStyle"],[4,"ngIf","ngIfElse"],["empty",""]],template:function(de,Qe){1&de&&(e.TgZ(0,"span",0,1),e.YNc(2,z,2,23,"input",2),e.YNc(3,S,1,0,"i",3),e.YNc(4,O,1,0,"i",3),e.YNc(5,ne,6,23,"ul",4),e.YNc(6,J,1,0,"i",5),e.YNc(7,X,2,4,"button",6),e.YNc(8,he,8,17,"div",7),e.qZA()),2&de&&(e.Tol(Qe.styleClass),e.Q6J("ngClass",e.WLB(11,gt,Qe.dropdown,Qe.multiple))("ngStyle",Qe.style),e.xp6(2),e.Q6J("ngIf",!Qe.multiple),e.xp6(1),e.Q6J("ngIf",!Qe.multiple&&Qe.filled&&!Qe.disabled&&Qe.showClear),e.xp6(1),e.Q6J("ngIf",Qe.multiple&&Qe.filled&&!Qe.disabled&&Qe.showClear),e.xp6(1),e.Q6J("ngIf",Qe.multiple),e.xp6(1),e.Q6J("ngIf",Qe.loading),e.xp6(1),e.Q6J("ngIf",Qe.dropdown),e.xp6(1),e.Q6J("ngIf",Qe.overlayVisible))},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,_.Hq,x.jx,P.H,V.T,F.P],styles:[".p-autocomplete{display:inline-flex;position:relative}.p-autocomplete-loader{position:absolute;top:50%;margin-top:-.5rem}.p-autocomplete-dd .p-autocomplete-input{flex:1 1 auto;width:1%}.p-autocomplete-dd .p-autocomplete-input,.p-autocomplete-dd .p-autocomplete-multiple-container{border-top-right-radius:0;border-bottom-right-radius:0}.p-autocomplete-dd .p-autocomplete-dropdown{border-top-left-radius:0;border-bottom-left-radius:0}.p-autocomplete .p-autocomplete-panel{min-width:100%;top:0;left:0}.p-autocomplete-panel{position:absolute;overflow:auto}.p-autocomplete-items{margin:0;padding:0;list-style-type:none}.p-autocomplete-item{cursor:pointer;white-space:nowrap;position:relative;overflow:hidden}.p-autocomplete-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-autocomplete-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-autocomplete-token-icon{cursor:pointer}.p-autocomplete-input-token{flex:1 1 auto;display:inline-flex}.p-autocomplete-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-autocomplete{display:flex}.p-fluid .p-autocomplete-dd .p-autocomplete-input{width:1%}.p-autocomplete-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-autocomplete-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,u.X$)("overlayAnimation",[(0,u.eR)(":enter",[(0,u.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,u.jt)("{{showTransitionParams}}")]),(0,u.eR)(":leave",[(0,u.jt)("{{hideTransitionParams}}",(0,u.oB)({opacity:0}))])])]},changeDetection:0}),_t})(),en=(()=>{class _t{}return _t.\u0275fac=function(de){return new(de||_t)},_t.\u0275mod=e.oAB({type:_t}),_t.\u0275inj=e.cJS({imports:[d.ez,f.j,_.hJ,x.m8,P.T,V.v,F.E,x.m8,V.v,F.E]}),_t})()},9618:(hn,ht,b)=>{"use strict";b.d(ht,{E:()=>_,P:()=>f});var e=b(9808),d=b(5e3),u=b(5730);let f=(()=>{class P{constructor(a){this.host=a,this.focused=!1}ngAfterViewChecked(){if(!this.focused&&this.autofocus){const a=u.p.getFocusableElements(this.host.nativeElement);0===a.length&&this.host.nativeElement.focus(),a.length>0&&a[0].focus(),this.focused=!0}}}return P.\u0275fac=function(a){return new(a||P)(d.Y36(d.SBq))},P.\u0275dir=d.lG2({type:P,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:"autofocus"}}),P})(),_=(()=>{class P{}return P.\u0275fac=function(a){return new(a||P)},P.\u0275mod=d.oAB({type:P}),P.\u0275inj=d.cJS({imports:[e.ez]}),P})()},85:(hn,ht,b)=>{"use strict";b.d(ht,{Ct:()=>a,TX:()=>R,lM:()=>x});var e=b(9808),d=b(5e3),u=b(9783),f=b(5730),_=b(5921);function P(L,V){if(1&L&&(d.TgZ(0,"span",1),d._uU(1),d.qZA()),2&L){const F=d.oxw();d.Tol(F.styleClass),d.Q6J("ngClass",F.containerClass())("ngStyle",F.style),d.xp6(1),d.Oqu(F.value)}}let x=(()=>{class L{constructor(F){this.el=F,this.iconPos="left",this._disabled=!1}get disabled(){return this._disabled}set disabled(F){this._disabled=F}ngAfterViewInit(){this.id=(0,_.Th)()+"_badge";let F=-1!=this.el.nativeElement.nodeName.indexOf("-")?this.el.nativeElement.firstChild:this.el.nativeElement;if(this._disabled)return null;let T=document.createElement("span");T.id=this.id,T.className="p-badge p-component",this.severity&&f.p.addClass(T,"p-badge-"+this.severity),null!=this.value?(T.appendChild(document.createTextNode(this.value)),1===String(this.value).length&&f.p.addClass(T,"p-badge-no-gutter")):f.p.addClass(T,"p-badge-dot"),f.p.addClass(F,"p-overlay-badge"),F.appendChild(T),this.initialized=!0}get value(){return this._value}set value(F){if(F!==this._value&&(this._value=F,this.initialized)){let T=document.getElementById(this.id);this._value?(f.p.hasClass(T,"p-badge-dot")&&f.p.removeClass(T,"p-badge-dot"),1===String(this._value).length?f.p.addClass(T,"p-badge-no-gutter"):f.p.removeClass(T,"p-badge-no-gutter")):!this._value&&!f.p.hasClass(T,"p-badge-dot")&&f.p.addClass(T,"p-badge-dot"),T.innerHTML="",T.appendChild(document.createTextNode(this._value))}}ngOnDestroy(){this.initialized=!1}}return L.\u0275fac=function(F){return new(F||L)(d.Y36(d.SBq))},L.\u0275dir=d.lG2({type:L,selectors:[["","pBadge",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",disabled:["badgeDisabled","disabled"],value:"value",severity:"severity"}}),L})(),a=(()=>{class L{constructor(){this.badgeDisabled=!1}containerClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":null!=this.value&&1===String(this.value).length,"p-badge-lg":"large"===this.size,"p-badge-xl":"xlarge"===this.size,"p-badge-info":"info"===this.severity,"p-badge-success":"success"===this.severity,"p-badge-warning":"warning"===this.severity,"p-badge-danger":"danger"===this.severity}}}return L.\u0275fac=function(F){return new(F||L)},L.\u0275cmp=d.Xpm({type:L,selectors:[["p-badge"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",size:"size",severity:"severity",value:"value",badgeDisabled:"badgeDisabled"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"]],template:function(F,T){1&F&&d.YNc(0,P,2,5,"span",0),2&F&&d.Q6J("ngIf",!T.badgeDisabled)},dependencies:[e.mk,e.O5,e.PC],styles:[".p-badge{display:inline-block;border-radius:10px;text-align:center;padding:0 .5rem}.p-overlay-badge{position:relative}.p-overlay-badge .p-badge{position:absolute;top:0;right:0;transform:translate(50%,-50%);transform-origin:100% 0;margin:0}.p-badge-dot{width:.5rem;min-width:.5rem;height:.5rem;border-radius:50%;padding:0}.p-badge-no-gutter{padding:0;border-radius:50%}\n"],encapsulation:2,changeDetection:0}),L})(),R=(()=>{class L{}return L.\u0275fac=function(F){return new(F||L)},L.\u0275mod=d.oAB({type:L}),L.\u0275inj=d.cJS({imports:[e.ez,u.m8]}),L})()},7433:(hn,ht,b)=>{"use strict";b.d(ht,{b:()=>V,u:()=>F});var e=b(5e3),d=b(9808),u=b(9783),f=b(5921),_=b(5730);const P=["mask"];function x(T,y){1&T&&e.GkF(0)}const a=function(T){return{"p-blockui-document":T,"p-blockui p-component-overlay p-component-overlay-enter":!0}},R=function(T){return{display:T}},L=["*"];let V=(()=>{class T{constructor(D,k,B){this.el=D,this.cd=k,this.config=B,this.autoZIndex=!0,this.baseZIndex=0}get blocked(){return this._blocked}set blocked(D){this.mask&&this.mask.nativeElement?D?this.block():this.unblock():this._blocked=D}ngAfterViewInit(){if(this.target&&!this.target.getBlockableElement)throw"Target of BlockUI must implement BlockableUI interface"}ngAfterContentInit(){this.templates.forEach(D=>{D.getType(),this.contentTemplate=D.template})}block(){this._blocked=!0,this.target?(this.target.getBlockableElement().appendChild(this.mask.nativeElement),this.target.getBlockableElement().style.position="relative"):document.body.appendChild(this.mask.nativeElement),this.autoZIndex&&f.P9.set("modal",this.mask.nativeElement,this.baseZIndex+this.config.zIndex.modal)}unblock(){this.animationEndListener=this.destroyModal.bind(this),this.mask.nativeElement.addEventListener("animationend",this.animationEndListener),_.p.addClass(this.mask.nativeElement,"p-component-overlay-leave")}destroyModal(){this._blocked=!1,_.p.removeClass(this.mask.nativeElement,"p-component-overlay-leave"),f.P9.clear(this.mask.nativeElement),this.el.nativeElement.appendChild(this.mask.nativeElement),this.unbindAnimationEndListener(),this.cd.markForCheck()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.nativeElement.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}ngOnDestroy(){this.unblock(),this.destroyModal()}}return T.\u0275fac=function(D){return new(D||T)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(u.b4))},T.\u0275cmp=e.Xpm({type:T,selectors:[["p-blockUI"]],contentQueries:function(D,k,B){if(1&D&&e.Suo(B,u.jx,4),2&D){let N;e.iGM(N=e.CRH())&&(k.templates=N)}},viewQuery:function(D,k){if(1&D&&e.Gf(P,5),2&D){let B;e.iGM(B=e.CRH())&&(k.mask=B.first)}},hostAttrs:[1,"p-element"],inputs:{target:"target",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",styleClass:"styleClass",blocked:"blocked"},ngContentSelectors:L,decls:4,vars:9,consts:[[3,"ngClass","ngStyle"],["mask",""],[4,"ngTemplateOutlet"]],template:function(D,k){1&D&&(e.F$t(),e.TgZ(0,"div",0,1),e.Hsn(2),e.YNc(3,x,1,0,"ng-container",2),e.qZA()),2&D&&(e.Tol(k.styleClass),e.Q6J("ngClass",e.VKq(5,a,!k.target))("ngStyle",e.VKq(7,R,k.blocked?"flex":"none")),e.xp6(3),e.Q6J("ngTemplateOutlet",k.contentTemplate))},dependencies:[d.mk,d.tP,d.PC],styles:[".p-blockui{position:absolute;top:0;left:0;width:100%;height:100%;background-color:transparent;transition-property:background-color;display:flex;align-items:center;justify-content:center}.p-blockui.p-component-overlay{position:absolute}.p-blockui-document.p-component-overlay{position:fixed}.p-blockui-leave.p-component-overlay{background-color:transparent}\n"],encapsulation:2,changeDetection:0}),T})(),F=(()=>{class T{}return T.\u0275fac=function(D){return new(D||T)},T.\u0275mod=e.oAB({type:T}),T.\u0275inj=e.cJS({imports:[d.ez]}),T})()},7658:(hn,ht,b)=>{"use strict";b.d(ht,{a:()=>X,w:()=>W});var e=b(5e3),d=b(9808),u=b(3470),f=b(4119);function _(Y,Te){if(1&Y&&e._UZ(0,"span",10),2&Y){const Ae=e.oxw(3);e.Q6J("ngClass",Ae.home.icon||"pi pi-home")("ngStyle",Ae.home.iconStyle)}}function P(Y,Te){if(1&Y&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&Y){const Ae=e.oxw(4);e.xp6(1),e.Oqu(Ae.home.label)}}function x(Y,Te){if(1&Y&&e._UZ(0,"span",14),2&Y){const Ae=e.oxw(4);e.Q6J("innerHTML",Ae.home.label,e.oJD)}}function a(Y,Te){if(1&Y&&(e.ynx(0),e.YNc(1,P,2,1,"span",11),e.YNc(2,x,1,1,"ng-template",null,12,e.W1O),e.BQk()),2&Y){const Ae=e.MAs(3),Ke=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!1!==Ke.home.escape)("ngIfElse",Ae)}}function R(Y,Te){if(1&Y){const Ae=e.EpF();e.TgZ(0,"a",7),e.NdJ("click",function(be){e.CHM(Ae);const Ge=e.oxw(2);return e.KtG(Ge.itemClick(be,Ge.home))}),e.YNc(1,_,1,2,"span",8),e.YNc(2,a,4,2,"ng-container",9),e.qZA()}if(2&Y){const Ae=e.oxw(2);e.Q6J("href",Ae.home.url?Ae.home.url:null,e.LSH)("target",Ae.home.target),e.uIk("aria-label",Ae.homeAriaLabel)("title",Ae.home.title)("id",Ae.home.id)("tabindex",Ae.home.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",Ae.home.icon),e.xp6(1),e.Q6J("ngIf",Ae.home.label)}}function L(Y,Te){if(1&Y&&e._UZ(0,"span",10),2&Y){const Ae=e.oxw(3);e.Q6J("ngClass",Ae.home.icon||"pi pi-home")("ngStyle",Ae.home.iconStyle)}}function V(Y,Te){if(1&Y&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&Y){const Ae=e.oxw(4);e.xp6(1),e.Oqu(Ae.home.label)}}function F(Y,Te){if(1&Y&&e._UZ(0,"span",14),2&Y){const Ae=e.oxw(4);e.Q6J("innerHTML",Ae.home.label,e.oJD)}}function T(Y,Te){if(1&Y&&(e.ynx(0),e.YNc(1,V,2,1,"span",11),e.YNc(2,F,1,1,"ng-template",null,16,e.W1O),e.BQk()),2&Y){const Ae=e.MAs(3),Ke=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!1!==Ke.home.escape)("ngIfElse",Ae)}}const y=function(){return{exact:!1}};function D(Y,Te){if(1&Y){const Ae=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(be){e.CHM(Ae);const Ge=e.oxw(2);return e.KtG(Ge.itemClick(be,Ge.home))}),e.YNc(1,L,1,2,"span",8),e.YNc(2,T,4,2,"ng-container",9),e.qZA()}if(2&Y){const Ae=e.oxw(2);e.Q6J("routerLink",Ae.home.routerLink)("queryParams",Ae.home.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",Ae.home.routerLinkActiveOptions||e.DdM(17,y))("target",Ae.home.target)("fragment",Ae.home.fragment)("queryParamsHandling",Ae.home.queryParamsHandling)("preserveFragment",Ae.home.preserveFragment)("skipLocationChange",Ae.home.skipLocationChange)("replaceUrl",Ae.home.replaceUrl)("state",Ae.home.state),e.uIk("aria-label",Ae.homeAriaLabel)("title",Ae.home.title)("id",Ae.home.id)("tabindex",Ae.home.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",Ae.home.icon),e.xp6(1),e.Q6J("ngIf",Ae.home.label)}}const k=function(Y){return{"p-breadcrumb-home":!0,"p-disabled":Y}};function B(Y,Te){if(1&Y&&(e.TgZ(0,"li",4),e.YNc(1,R,3,8,"a",5),e.YNc(2,D,3,18,"a",6),e.qZA()),2&Y){const Ae=e.oxw();e.Tol(Ae.home.styleClass),e.Q6J("ngClass",e.VKq(7,k,Ae.home.disabled))("ngStyle",Ae.home.style)("tooltipOptions",Ae.home.tooltipOptions),e.xp6(1),e.Q6J("ngIf",!Ae.home.routerLink),e.xp6(1),e.Q6J("ngIf",Ae.home.routerLink)}}function N(Y,Te){1&Y&&e._UZ(0,"li",17)}function ce(Y,Te){if(1&Y&&e._UZ(0,"span",10),2&Y){const Ae=e.oxw(2).$implicit;e.Q6J("ngClass",Ae.icon)("ngStyle",Ae.iconStyle)}}function $(Y,Te){if(1&Y&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&Y){const Ae=e.oxw(3).$implicit;e.xp6(1),e.Oqu(Ae.label)}}function z(Y,Te){if(1&Y&&e._UZ(0,"span",14),2&Y){const Ae=e.oxw(3).$implicit;e.Q6J("innerHTML",Ae.label,e.oJD)}}function S(Y,Te){if(1&Y&&(e.ynx(0),e.YNc(1,$,2,1,"span",11),e.YNc(2,z,1,1,"ng-template",null,21,e.W1O),e.BQk()),2&Y){const Ae=e.MAs(3),Ke=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",!1!==Ke.escape)("ngIfElse",Ae)}}function O(Y,Te){if(1&Y){const Ae=e.EpF();e.TgZ(0,"a",20),e.NdJ("click",function(be){e.CHM(Ae);const Ge=e.oxw().$implicit,ee=e.oxw();return e.KtG(ee.itemClick(be,Ge))}),e.YNc(1,ce,1,2,"span",8),e.YNc(2,S,4,2,"ng-container",9),e.qZA()}if(2&Y){const Ae=e.oxw().$implicit;e.Q6J("target",Ae.target),e.uIk("href",Ae.url?Ae.url:null,e.LSH)("title",Ae.title)("id",Ae.id)("tabindex",Ae.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",Ae.icon),e.xp6(1),e.Q6J("ngIf",Ae.label)}}function K(Y,Te){if(1&Y&&e._UZ(0,"span",10),2&Y){const Ae=e.oxw(2).$implicit;e.Q6J("ngClass",Ae.icon)("ngStyle",Ae.iconStyle)}}function ue(Y,Te){if(1&Y&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&Y){const Ae=e.oxw(3).$implicit;e.xp6(1),e.Oqu(Ae.label)}}function q(Y,Te){if(1&Y&&e._UZ(0,"span",14),2&Y){const Ae=e.oxw(3).$implicit;e.Q6J("innerHTML",Ae.label,e.oJD)}}function G(Y,Te){if(1&Y&&(e.ynx(0),e.YNc(1,ue,2,1,"span",11),e.YNc(2,q,1,1,"ng-template",null,22,e.W1O),e.BQk()),2&Y){const Ae=e.MAs(3),Ke=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",!1!==Ke.escape)("ngIfElse",Ae)}}function j(Y,Te){if(1&Y){const Ae=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(be){e.CHM(Ae);const Ge=e.oxw().$implicit,ee=e.oxw();return e.KtG(ee.itemClick(be,Ge))}),e.YNc(1,K,1,2,"span",8),e.YNc(2,G,4,2,"ng-container",9),e.qZA()}if(2&Y){const Ae=e.oxw().$implicit;e.Q6J("routerLink",Ae.routerLink)("queryParams",Ae.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",Ae.routerLinkActiveOptions||e.DdM(16,y))("target",Ae.target)("fragment",Ae.fragment)("queryParamsHandling",Ae.queryParamsHandling)("preserveFragment",Ae.preserveFragment)("skipLocationChange",Ae.skipLocationChange)("replaceUrl",Ae.replaceUrl)("state",Ae.state),e.uIk("title",Ae.title)("id",Ae.id)("tabindex",Ae.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",Ae.icon),e.xp6(1),e.Q6J("ngIf",Ae.label)}}function fe(Y,Te){1&Y&&e._UZ(0,"li",17)}const ne=function(Y){return{"p-disabled":Y}};function J(Y,Te){if(1&Y&&(e.TgZ(0,"li",18),e.YNc(1,O,3,7,"a",19),e.YNc(2,j,3,17,"a",6),e.qZA(),e.YNc(3,fe,1,0,"li",2)),2&Y){const Ae=Te.$implicit,Ke=Te.last;e.Tol(Ae.styleClass),e.Q6J("ngStyle",Ae.style)("ngClass",e.VKq(8,ne,Ae.disabled))("tooltipOptions",Ae.tooltipOptions),e.xp6(1),e.Q6J("ngIf",!Ae.routerLink),e.xp6(1),e.Q6J("ngIf",Ae.routerLink),e.xp6(1),e.Q6J("ngIf",!Ke)}}let X=(()=>{class Y{constructor(){this.onItemClick=new e.vpe}itemClick(Ae,Ke){Ke.disabled?Ae.preventDefault():(!Ke.url&&!Ke.routerLink&&Ae.preventDefault(),Ke.command&&Ke.command({originalEvent:Ae,item:Ke}),this.onItemClick.emit({originalEvent:Ae,item:Ke}))}onHomeClick(Ae){this.home&&this.itemClick(Ae,this.home)}}return Y.\u0275fac=function(Ae){return new(Ae||Y)},Y.\u0275cmp=e.Xpm({type:Y,selectors:[["p-breadcrumb"]],hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",home:"home",homeAriaLabel:"homeAriaLabel"},outputs:{onItemClick:"onItemClick"},decls:5,vars:7,consts:[[3,"ngStyle","ngClass"],["pTooltip","",3,"class","ngClass","ngStyle","tooltipOptions",4,"ngIf"],["class","p-breadcrumb-chevron pi pi-chevron-right",4,"ngIf"],["ngFor","",3,"ngForOf"],["pTooltip","",3,"ngClass","ngStyle","tooltipOptions"],["class","p-menuitem-link",3,"href","target","click",4,"ngIf"],["class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click",4,"ngIf"],[1,"p-menuitem-link",3,"href","target","click"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],[4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlHomeLabel",""],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click"],["htmlHomeRouteLabel",""],[1,"p-breadcrumb-chevron","pi","pi-chevron-right"],["pTooltip","",3,"ngStyle","ngClass","tooltipOptions"],["class","p-menuitem-link",3,"target","click",4,"ngIf"],[1,"p-menuitem-link",3,"target","click"],["htmlLabel",""],["htmlRouteLabel",""]],template:function(Ae,Ke){1&Ae&&(e.TgZ(0,"div",0)(1,"ul"),e.YNc(2,B,3,9,"li",1),e.YNc(3,N,1,0,"li",2),e.YNc(4,J,4,10,"ng-template",3),e.qZA()()),2&Ae&&(e.Tol(Ke.styleClass),e.Q6J("ngStyle",Ke.style)("ngClass","p-breadcrumb p-component"),e.xp6(2),e.Q6J("ngIf",Ke.home),e.xp6(1),e.Q6J("ngIf",Ke.model&&Ke.home),e.xp6(1),e.Q6J("ngForOf",Ke.model))},dependencies:[d.mk,d.sg,d.O5,d.PC,u.yS,u.Od,f.u],styles:[".p-breadcrumb{overflow-x:auto}.p-breadcrumb ul{margin:0;padding:0;list-style-type:none;display:flex;align-items:center;flex-wrap:nowrap}.p-breadcrumb .p-menuitem-text{line-height:1}.p-breadcrumb .p-menuitem-link{text-decoration:none;cursor:pointer}.p-breadcrumb::-webkit-scrollbar{display:none}\n"],encapsulation:2,changeDetection:0}),Y})(),W=(()=>{class Y{}return Y.\u0275fac=function(Ae){return new(Ae||Y)},Y.\u0275mod=e.oAB({type:Y}),Y.\u0275inj=e.cJS({imports:[d.ez,u.Bz,f.z,u.Bz,f.z]}),Y})()},845:(hn,ht,b)=>{"use strict";b.d(ht,{Hq:()=>y,hJ:()=>k,zx:()=>D});var e=b(9808),d=b(5e3),u=b(9783),f=b(5730),_=b(5787),P=b(5921);function x(B,N){1&B&&d.GkF(0)}const a=function(B,N,ce,$){return{"p-button-icon":!0,"p-button-icon-left":B,"p-button-icon-right":N,"p-button-icon-top":ce,"p-button-icon-bottom":$}};function R(B,N){if(1&B&&d._UZ(0,"span",4),2&B){const ce=d.oxw();d.Tol(ce.loading?"p-button-loading-icon "+ce.loadingIcon:ce.icon),d.Q6J("ngClass",d.l5B(4,a,"left"===ce.iconPos&&ce.label,"right"===ce.iconPos&&ce.label,"top"===ce.iconPos&&ce.label,"bottom"===ce.iconPos&&ce.label)),d.uIk("aria-hidden",!0)}}function L(B,N){if(1&B&&(d.TgZ(0,"span",5),d._uU(1),d.qZA()),2&B){const ce=d.oxw();d.uIk("aria-hidden",ce.icon&&!ce.label),d.xp6(1),d.Oqu(ce.label)}}function V(B,N){if(1&B&&(d.TgZ(0,"span",4),d._uU(1),d.qZA()),2&B){const ce=d.oxw();d.Tol(ce.badgeClass),d.Q6J("ngClass",ce.badgeStyleClass()),d.xp6(1),d.Oqu(ce.badge)}}const F=function(B,N,ce,$,z){return{"p-button p-component":!0,"p-button-icon-only":B,"p-button-vertical":N,"p-disabled":ce,"p-button-loading":$,"p-button-loading-label-only":z}},T=["*"];let y=(()=>{class B{constructor(ce){this.el=ce,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}get label(){return this._label}set label(ce){this._label=ce,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(ce){this._icon=ce,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(ce){this._loading=ce,this.initialized&&(this.updateIcon(),this.setStyleClass())}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,f.p.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let ce="p-button p-component";return this.icon&&!this.label&&P.gb.isEmpty(this.el.nativeElement.textContent)&&(ce+=" p-button-icon-only"),this.loading&&(ce+=" p-disabled p-button-loading",!this.icon&&this.label&&(ce+=" p-button-loading-label-only")),ce}setStyleClass(){let ce=this.getStyleClass();this.el.nativeElement.className=ce+" "+this._initialStyleClass}createLabel(){if(this.label){let ce=document.createElement("span");this.icon&&!this.label&&ce.setAttribute("aria-hidden","true"),ce.className="p-button-label",ce.appendChild(document.createTextNode(this.label)),this.el.nativeElement.appendChild(ce)}}createIcon(){if(this.icon||this.loading){let ce=document.createElement("span");ce.className="p-button-icon",ce.setAttribute("aria-hidden","true");let $=this.label?"p-button-icon-"+this.iconPos:null;$&&f.p.addClass(ce,$);let z=this.getIconClass();z&&f.p.addMultipleClasses(ce,z),this.el.nativeElement.insertBefore(ce,this.el.nativeElement.firstChild)}}updateLabel(){let ce=f.p.findSingle(this.el.nativeElement,".p-button-label");this.label?ce?ce.textContent=this.label:this.createLabel():ce&&this.el.nativeElement.removeChild(ce)}updateIcon(){let ce=f.p.findSingle(this.el.nativeElement,".p-button-icon");this.icon||this.loading?ce?ce.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon():ce&&this.el.nativeElement.removeChild(ce)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}ngOnDestroy(){this.initialized=!1}}return B.\u0275fac=function(ce){return new(ce||B)(d.Y36(d.SBq))},B.\u0275dir=d.lG2({type:B,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),B})(),D=(()=>{class B{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new d.vpe,this.onFocus=new d.vpe,this.onBlur=new d.vpe}ngAfterContentInit(){this.templates.forEach(ce=>{ce.getType(),this.contentTemplate=ce.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return B.\u0275fac=function(ce){return new(ce||B)},B.\u0275cmp=d.Xpm({type:B,selectors:[["p-button"]],contentQueries:function(ce,$,z){if(1&ce&&d.Suo(z,u.jx,4),2&ce){let S;d.iGM(S=d.CRH())&&($.templates=S)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:T,decls:6,vars:17,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(ce,$){1&ce&&(d.F$t(),d.TgZ(0,"button",0),d.NdJ("click",function(S){return $.onClick.emit(S)})("focus",function(S){return $.onFocus.emit(S)})("blur",function(S){return $.onBlur.emit(S)}),d.Hsn(1),d.YNc(2,x,1,0,"ng-container",1),d.YNc(3,R,1,9,"span",2),d.YNc(4,L,2,2,"span",3),d.YNc(5,V,2,4,"span",2),d.qZA()),2&ce&&(d.Tol($.styleClass),d.Q6J("ngStyle",$.style)("disabled",$.disabled||$.loading)("ngClass",d.qbA(11,F,$.icon&&!$.label,("top"===$.iconPos||"bottom"===$.iconPos)&&$.label,$.disabled||$.loading,$.loading,$.loading&&!$.icon&&$.label)),d.uIk("type",$.type)("aria-label",$.ariaLabel),d.xp6(2),d.Q6J("ngTemplateOutlet",$.contentTemplate),d.xp6(1),d.Q6J("ngIf",!$.contentTemplate&&($.icon||$.loading)),d.xp6(1),d.Q6J("ngIf",!$.contentTemplate&&$.label),d.xp6(1),d.Q6J("ngIf",!$.contentTemplate&&$.badge))},dependencies:[e.mk,e.O5,e.tP,e.PC,_.H],encapsulation:2,changeDetection:0}),B})(),k=(()=>{class B{}return B.\u0275fac=function(ce){return new(ce||B)},B.\u0275mod=d.oAB({type:B}),B.\u0275inj=d.cJS({imports:[e.ez,_.T]}),B})()},5652:(hn,ht,b)=>{"use strict";b.d(ht,{_8:()=>st,f:()=>Ye});var e=b(1777),d=b(9808),u=b(5e3),f=b(2382),_=b(9783),P=b(845),x=b(5730),a=b(5787),R=b(5921);const L=["container"],V=["inputfield"],F=["contentWrapper"];function T(je,It){if(1&je){const se=u.EpF();u.TgZ(0,"i",8),u.NdJ("click",function(){u.CHM(se);const he=u.oxw(2);return u.KtG(he.clear())}),u.qZA()}}function y(je,It){if(1&je){const se=u.EpF();u.TgZ(0,"button",9),u.NdJ("click",function(he){u.CHM(se),u.oxw();const gt=u.MAs(1),cn=u.oxw();return u.KtG(cn.onButtonClick(he,gt))}),u.qZA()}if(2&je){const se=u.oxw(2);u.Q6J("icon",se.icon)("disabled",se.disabled),u.uIk("aria-label",se.iconAriaLabel)}}function D(je,It){if(1&je){const se=u.EpF();u.TgZ(0,"input",4,5),u.NdJ("focus",function(he){u.CHM(se);const gt=u.oxw();return u.KtG(gt.onInputFocus(he))})("keydown",function(he){u.CHM(se);const gt=u.oxw();return u.KtG(gt.onInputKeydown(he))})("click",function(){u.CHM(se);const he=u.oxw();return u.KtG(he.onInputClick())})("blur",function(he){u.CHM(se);const gt=u.oxw();return u.KtG(gt.onInputBlur(he))})("input",function(he){u.CHM(se);const gt=u.oxw();return u.KtG(gt.onUserInput(he))}),u.qZA(),u.YNc(2,T,1,0,"i",6),u.YNc(3,y,1,3,"button",7)}if(2&je){const se=u.oxw();u.Tol(se.inputStyleClass),u.Q6J("value",se.inputFieldValue)("readonly",se.readonlyInput)("ngStyle",se.inputStyle)("placeholder",se.placeholder||"")("disabled",se.disabled)("ngClass","p-inputtext p-component"),u.uIk("id",se.inputId)("name",se.name)("required",se.required)("aria-required",se.required)("tabindex",se.tabindex)("inputmode",se.touchUI?"off":null)("aria-labelledby",se.ariaLabelledBy),u.xp6(2),u.Q6J("ngIf",se.showClear&&!se.disabled&&null!=se.value),u.xp6(1),u.Q6J("ngIf",se.showIcon)}}function k(je,It){1&je&&u.GkF(0)}function B(je,It){if(1&je){const se=u.EpF();u.TgZ(0,"button",30),u.NdJ("keydown",function(he){u.CHM(se);const gt=u.oxw(4);return u.KtG(gt.onContainerButtonKeydown(he))})("click",function(he){u.CHM(se);const gt=u.oxw(4);return u.KtG(gt.onPrevButtonClick(he))}),u._UZ(1,"span",31),u.qZA()}}function N(je,It){if(1&je){const se=u.EpF();u.TgZ(0,"button",32),u.NdJ("click",function(he){u.CHM(se);const gt=u.oxw(4);return u.KtG(gt.switchToMonthView(he))})("keydown",function(he){u.CHM(se);const gt=u.oxw(4);return u.KtG(gt.onContainerButtonKeydown(he))}),u._uU(1),u.qZA()}if(2&je){const se=u.oxw().$implicit,Fe=u.oxw(3);u.Q6J("disabled",Fe.switchViewButtonDisabled()),u.xp6(1),u.hij(" ",Fe.getMonthName(se.month)," ")}}function ce(je,It){if(1&je){const se=u.EpF();u.TgZ(0,"button",33),u.NdJ("click",function(he){u.CHM(se);const gt=u.oxw(4);return u.KtG(gt.switchToYearView(he))})("keydown",function(he){u.CHM(se);const gt=u.oxw(4);return u.KtG(gt.onContainerButtonKeydown(he))}),u._uU(1),u.qZA()}if(2&je){const se=u.oxw().$implicit,Fe=u.oxw(3);u.Q6J("disabled",Fe.switchViewButtonDisabled()),u.xp6(1),u.hij(" ",Fe.getYear(se)," ")}}function $(je,It){if(1&je&&(u.ynx(0),u._uU(1),u.BQk()),2&je){const se=u.oxw(5);u.xp6(1),u.AsE("",se.yearPickerValues()[0]," - ",se.yearPickerValues()[se.yearPickerValues().length-1],"")}}function z(je,It){1&je&&u.GkF(0)}const S=function(je){return{$implicit:je}};function O(je,It){if(1&je&&(u.TgZ(0,"span",34),u.YNc(1,$,2,2,"ng-container",13),u.YNc(2,z,1,0,"ng-container",35),u.qZA()),2&je){const se=u.oxw(4);u.xp6(1),u.Q6J("ngIf",!se.decadeTemplate),u.xp6(1),u.Q6J("ngTemplateOutlet",se.decadeTemplate)("ngTemplateOutletContext",u.VKq(3,S,se.yearPickerValues))}}function K(je,It){if(1&je&&(u.TgZ(0,"th",41)(1,"span"),u._uU(2),u.qZA()()),2&je){const se=u.oxw(5);u.xp6(2),u.Oqu(se.getTranslation("weekHeader"))}}function ue(je,It){if(1&je&&(u.TgZ(0,"th",42)(1,"span"),u._uU(2),u.qZA()()),2&je){const se=It.$implicit;u.xp6(2),u.Oqu(se)}}function q(je,It){if(1&je&&(u.TgZ(0,"td",45)(1,"span",46),u._uU(2),u.qZA()()),2&je){const se=u.oxw().index,Fe=u.oxw(2).$implicit;u.xp6(2),u.hij(" ",Fe.weekNumbers[se]," ")}}function G(je,It){if(1&je&&(u.ynx(0),u._uU(1),u.BQk()),2&je){const se=u.oxw(2).$implicit;u.xp6(1),u.Oqu(se.day)}}function j(je,It){1&je&&u.GkF(0)}const fe=function(je,It){return{"p-highlight":je,"p-disabled":It}};function ne(je,It){if(1&je){const se=u.EpF();u.ynx(0),u.TgZ(1,"span",48),u.NdJ("click",function(he){u.CHM(se);const gt=u.oxw().$implicit,cn=u.oxw(6);return u.KtG(cn.onDateSelect(he,gt))})("keydown",function(he){u.CHM(se);const gt=u.oxw().$implicit,cn=u.oxw(3).index,Tn=u.oxw(3);return u.KtG(Tn.onDateCellKeydown(he,gt,cn))}),u.YNc(2,G,2,1,"ng-container",13),u.YNc(3,j,1,0,"ng-container",35),u.qZA(),u.BQk()}if(2&je){const se=u.oxw().$implicit,Fe=u.oxw(6);u.xp6(1),u.Q6J("ngClass",u.WLB(4,fe,Fe.isSelected(se),!se.selectable)),u.xp6(1),u.Q6J("ngIf",!Fe.dateTemplate),u.xp6(1),u.Q6J("ngTemplateOutlet",Fe.dateTemplate)("ngTemplateOutletContext",u.VKq(7,S,se))}}const J=function(je,It){return{"p-datepicker-other-month":je,"p-datepicker-today":It}};function X(je,It){if(1&je&&(u.TgZ(0,"td",47),u.YNc(1,ne,4,9,"ng-container",13),u.qZA()),2&je){const se=It.$implicit,Fe=u.oxw(6);u.Q6J("ngClass",u.WLB(2,J,se.otherMonth,se.today)),u.xp6(1),u.Q6J("ngIf",!se.otherMonth||Fe.showOtherMonths)}}function W(je,It){if(1&je&&(u.TgZ(0,"tr"),u.YNc(1,q,3,1,"td",43),u.YNc(2,X,2,5,"td",44),u.qZA()),2&je){const se=It.$implicit,Fe=u.oxw(5);u.xp6(1),u.Q6J("ngIf",Fe.showWeek),u.xp6(1),u.Q6J("ngForOf",se)}}function Y(je,It){if(1&je&&(u.TgZ(0,"div",36)(1,"table",37)(2,"thead")(3,"tr"),u.YNc(4,K,3,1,"th",38),u.YNc(5,ue,3,1,"th",39),u.qZA()(),u.TgZ(6,"tbody"),u.YNc(7,W,3,2,"tr",40),u.qZA()()()),2&je){const se=u.oxw().$implicit,Fe=u.oxw(3);u.xp6(4),u.Q6J("ngIf",Fe.showWeek),u.xp6(1),u.Q6J("ngForOf",Fe.weekDays),u.xp6(2),u.Q6J("ngForOf",se.dates)}}function Te(je,It){if(1&je){const se=u.EpF();u.TgZ(0,"div",20)(1,"div",21),u.YNc(2,B,2,0,"button",22),u.TgZ(3,"div",23),u.YNc(4,N,2,2,"button",24),u.YNc(5,ce,2,2,"button",25),u.YNc(6,O,3,5,"span",26),u.qZA(),u.TgZ(7,"button",27),u.NdJ("keydown",function(he){u.CHM(se);const gt=u.oxw(3);return u.KtG(gt.onContainerButtonKeydown(he))})("click",function(he){u.CHM(se);const gt=u.oxw(3);return u.KtG(gt.onNextButtonClick(he))}),u._UZ(8,"span",28),u.qZA()(),u.YNc(9,Y,8,3,"div",29),u.qZA()}if(2&je){const se=It.index,Fe=u.oxw(3);u.xp6(2),u.Q6J("ngIf",0===se),u.xp6(2),u.Q6J("ngIf","date"===Fe.currentView),u.xp6(1),u.Q6J("ngIf","year"!==Fe.currentView),u.xp6(1),u.Q6J("ngIf","year"===Fe.currentView),u.xp6(1),u.Udp("display",1===Fe.numberOfMonths||se===Fe.numberOfMonths-1?"inline-flex":"none"),u.xp6(2),u.Q6J("ngIf","date"===Fe.currentView)}}function Ae(je,It){if(1&je){const se=u.EpF();u.TgZ(0,"span",51),u.NdJ("click",function(he){const cn=u.CHM(se).index,Tn=u.oxw(4);return u.KtG(Tn.onMonthSelect(he,cn))})("keydown",function(he){const cn=u.CHM(se).index,Tn=u.oxw(4);return u.KtG(Tn.onMonthCellKeydown(he,cn))}),u._uU(1),u.qZA()}if(2&je){const se=It.$implicit,Fe=It.index,he=u.oxw(4);u.Q6J("ngClass",u.WLB(2,fe,he.isMonthSelected(Fe),he.isMonthDisabled(Fe))),u.xp6(1),u.hij(" ",se," ")}}function Ke(je,It){if(1&je&&(u.TgZ(0,"div",49),u.YNc(1,Ae,2,5,"span",50),u.qZA()),2&je){const se=u.oxw(3);u.xp6(1),u.Q6J("ngForOf",se.monthPickerValues())}}const be=function(je){return{"p-highlight":je}};function Ge(je,It){if(1&je){const se=u.EpF();u.TgZ(0,"span",54),u.NdJ("click",function(he){const cn=u.CHM(se).$implicit,Tn=u.oxw(4);return u.KtG(Tn.onYearSelect(he,cn))})("keydown",function(he){const cn=u.CHM(se).$implicit,Tn=u.oxw(4);return u.KtG(Tn.onYearCellKeydown(he,cn))}),u._uU(1),u.qZA()}if(2&je){const se=It.$implicit,Fe=u.oxw(4);u.Q6J("ngClass",u.VKq(2,be,Fe.isYearSelected(se))),u.xp6(1),u.hij(" ",se," ")}}function ee(je,It){if(1&je&&(u.TgZ(0,"div",52),u.YNc(1,Ge,2,4,"span",53),u.qZA()),2&je){const se=u.oxw(3);u.xp6(1),u.Q6J("ngForOf",se.yearPickerValues())}}function xe(je,It){if(1&je&&(u.ynx(0),u.TgZ(1,"div",16),u.YNc(2,Te,10,7,"div",17),u.qZA(),u.YNc(3,Ke,2,1,"div",18),u.YNc(4,ee,2,1,"div",19),u.BQk()),2&je){const se=u.oxw(2);u.xp6(2),u.Q6J("ngForOf",se.months),u.xp6(1),u.Q6J("ngIf","month"===se.currentView),u.xp6(1),u.Q6J("ngIf","year"===se.currentView)}}function we(je,It){1&je&&(u.ynx(0),u._uU(1,"0"),u.BQk())}function Pe(je,It){1&je&&(u.ynx(0),u._uU(1,"0"),u.BQk())}function dt(je,It){if(1&je&&(u.TgZ(0,"div",60)(1,"span"),u._uU(2),u.qZA()()),2&je){const se=u.oxw(3);u.xp6(2),u.Oqu(se.timeSeparator)}}function bt(je,It){1&je&&(u.ynx(0),u._uU(1,"0"),u.BQk())}function it(je,It){if(1&je){const se=u.EpF();u.TgZ(0,"div",65)(1,"button",57),u.NdJ("keydown",function(he){u.CHM(se);const gt=u.oxw(3);return u.KtG(gt.onContainerButtonKeydown(he))})("keydown.enter",function(he){u.CHM(se);const gt=u.oxw(3);return u.KtG(gt.incrementSecond(he))})("keydown.space",function(he){u.CHM(se);const gt=u.oxw(3);return u.KtG(gt.incrementSecond(he))})("mousedown",function(he){u.CHM(se);const gt=u.oxw(3);return u.KtG(gt.onTimePickerElementMouseDown(he,2,1))})("mouseup",function(he){u.CHM(se);const gt=u.oxw(3);return u.KtG(gt.onTimePickerElementMouseUp(he))})("keyup.enter",function(he){u.CHM(se);const gt=u.oxw(3);return u.KtG(gt.onTimePickerElementMouseUp(he))})("keyup.space",function(he){u.CHM(se);const gt=u.oxw(3);return u.KtG(gt.onTimePickerElementMouseUp(he))})("mouseleave",function(){u.CHM(se);const he=u.oxw(3);return u.KtG(he.onTimePickerElementMouseLeave())}),u._UZ(2,"span",58),u.qZA(),u.TgZ(3,"span"),u.YNc(4,bt,2,0,"ng-container",13),u._uU(5),u.qZA(),u.TgZ(6,"button",57),u.NdJ("keydown",function(he){u.CHM(se);const gt=u.oxw(3);return u.KtG(gt.onContainerButtonKeydown(he))})("keydown.enter",function(he){u.CHM(se);const gt=u.oxw(3);return u.KtG(gt.decrementSecond(he))})("keydown.space",function(he){u.CHM(se);const gt=u.oxw(3);return u.KtG(gt.decrementSecond(he))})("mousedown",function(he){u.CHM(se);const gt=u.oxw(3);return u.KtG(gt.onTimePickerElementMouseDown(he,2,-1))})("mouseup",function(he){u.CHM(se);const gt=u.oxw(3);return u.KtG(gt.onTimePickerElementMouseUp(he))})("keyup.enter",function(he){u.CHM(se);const gt=u.oxw(3);return u.KtG(gt.onTimePickerElementMouseUp(he))})("keyup.space",function(he){u.CHM(se);const gt=u.oxw(3);return u.KtG(gt.onTimePickerElementMouseUp(he))})("mouseleave",function(){u.CHM(se);const he=u.oxw(3);return u.KtG(he.onTimePickerElementMouseLeave())}),u._UZ(7,"span",59),u.qZA()()}if(2&je){const se=u.oxw(3);u.xp6(4),u.Q6J("ngIf",se.currentSecond<10),u.xp6(1),u.Oqu(se.currentSecond)}}function Dt(je,It){if(1&je){const se=u.EpF();u.TgZ(0,"div",66)(1,"button",67),u.NdJ("keydown",function(he){u.CHM(se);const gt=u.oxw(3);return u.KtG(gt.onContainerButtonKeydown(he))})("click",function(he){u.CHM(se);const gt=u.oxw(3);return u.KtG(gt.toggleAMPM(he))})("keydown.enter",function(he){u.CHM(se);const gt=u.oxw(3);return u.KtG(gt.toggleAMPM(he))}),u._UZ(2,"span",58),u.qZA(),u.TgZ(3,"span"),u._uU(4),u.qZA(),u.TgZ(5,"button",67),u.NdJ("keydown",function(he){u.CHM(se);const gt=u.oxw(3);return u.KtG(gt.onContainerButtonKeydown(he))})("click",function(he){u.CHM(se);const gt=u.oxw(3);return u.KtG(gt.toggleAMPM(he))})("keydown.enter",function(he){u.CHM(se);const gt=u.oxw(3);return u.KtG(gt.toggleAMPM(he))}),u._UZ(6,"span",59),u.qZA()()}if(2&je){const se=u.oxw(3);u.xp6(4),u.Oqu(se.pm?"PM":"AM")}}function vt(je,It){if(1&je){const se=u.EpF();u.TgZ(0,"div",55)(1,"div",56)(2,"button",57),u.NdJ("keydown",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.onContainerButtonKeydown(he))})("keydown.enter",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.incrementHour(he))})("keydown.space",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.incrementHour(he))})("mousedown",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.onTimePickerElementMouseDown(he,0,1))})("mouseup",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.onTimePickerElementMouseUp(he))})("keyup.enter",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.onTimePickerElementMouseUp(he))})("keyup.space",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.onTimePickerElementMouseUp(he))})("mouseleave",function(){u.CHM(se);const he=u.oxw(2);return u.KtG(he.onTimePickerElementMouseLeave())}),u._UZ(3,"span",58),u.qZA(),u.TgZ(4,"span"),u.YNc(5,we,2,0,"ng-container",13),u._uU(6),u.qZA(),u.TgZ(7,"button",57),u.NdJ("keydown",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.onContainerButtonKeydown(he))})("keydown.enter",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.decrementHour(he))})("keydown.space",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.decrementHour(he))})("mousedown",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.onTimePickerElementMouseDown(he,0,-1))})("mouseup",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.onTimePickerElementMouseUp(he))})("keyup.enter",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.onTimePickerElementMouseUp(he))})("keyup.space",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.onTimePickerElementMouseUp(he))})("mouseleave",function(){u.CHM(se);const he=u.oxw(2);return u.KtG(he.onTimePickerElementMouseLeave())}),u._UZ(8,"span",59),u.qZA()(),u.TgZ(9,"div",60)(10,"span"),u._uU(11),u.qZA()(),u.TgZ(12,"div",61)(13,"button",57),u.NdJ("keydown",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.onContainerButtonKeydown(he))})("keydown.enter",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.incrementMinute(he))})("keydown.space",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.incrementMinute(he))})("mousedown",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.onTimePickerElementMouseDown(he,1,1))})("mouseup",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.onTimePickerElementMouseUp(he))})("keyup.enter",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.onTimePickerElementMouseUp(he))})("keyup.space",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.onTimePickerElementMouseUp(he))})("mouseleave",function(){u.CHM(se);const he=u.oxw(2);return u.KtG(he.onTimePickerElementMouseLeave())}),u._UZ(14,"span",58),u.qZA(),u.TgZ(15,"span"),u.YNc(16,Pe,2,0,"ng-container",13),u._uU(17),u.qZA(),u.TgZ(18,"button",57),u.NdJ("keydown",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.onContainerButtonKeydown(he))})("keydown.enter",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.decrementMinute(he))})("keydown.space",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.decrementMinute(he))})("mousedown",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.onTimePickerElementMouseDown(he,1,-1))})("mouseup",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.onTimePickerElementMouseUp(he))})("keyup.enter",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.onTimePickerElementMouseUp(he))})("keyup.space",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.onTimePickerElementMouseUp(he))})("mouseleave",function(){u.CHM(se);const he=u.oxw(2);return u.KtG(he.onTimePickerElementMouseLeave())}),u._UZ(19,"span",59),u.qZA()(),u.YNc(20,dt,3,1,"div",62),u.YNc(21,it,8,2,"div",63),u.YNc(22,Dt,7,1,"div",64),u.qZA()}if(2&je){const se=u.oxw(2);u.xp6(5),u.Q6J("ngIf",se.currentHour<10),u.xp6(1),u.Oqu(se.currentHour),u.xp6(5),u.Oqu(se.timeSeparator),u.xp6(5),u.Q6J("ngIf",se.currentMinute<10),u.xp6(1),u.Oqu(se.currentMinute),u.xp6(3),u.Q6J("ngIf",se.showSeconds),u.xp6(1),u.Q6J("ngIf",se.showSeconds),u.xp6(1),u.Q6J("ngIf","12"==se.hourFormat)}}const Wt=function(je){return[je]};function zt(je,It){if(1&je){const se=u.EpF();u.TgZ(0,"div",68)(1,"button",69),u.NdJ("keydown",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.onContainerButtonKeydown(he))})("click",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.onTodayButtonClick(he))}),u.qZA(),u.TgZ(2,"button",69),u.NdJ("keydown",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.onContainerButtonKeydown(he))})("click",function(he){u.CHM(se);const gt=u.oxw(2);return u.KtG(gt.onClearButtonClick(he))}),u.qZA()()}if(2&je){const se=u.oxw(2);u.xp6(1),u.Q6J("label",se.getTranslation("today"))("ngClass",u.VKq(4,Wt,se.todayButtonStyleClass)),u.xp6(1),u.Q6J("label",se.getTranslation("clear"))("ngClass",u.VKq(6,Wt,se.clearButtonStyleClass))}}function Ut(je,It){1&je&&u.GkF(0)}const ct=function(je,It,se,Fe,he,gt){return{"p-datepicker p-component":!0,"p-datepicker-inline":je,"p-disabled":It,"p-datepicker-timeonly":se,"p-datepicker-multiple-month":Fe,"p-datepicker-monthpicker":he,"p-datepicker-touch-ui":gt}},at=function(je,It){return{showTransitionParams:je,hideTransitionParams:It}},me=function(je){return{value:"visibleTouchUI",params:je}},De=function(je){return{value:"visible",params:je}};function ot(je,It){if(1&je){const se=u.EpF();u.TgZ(0,"div",10,11),u.NdJ("@overlayAnimation.start",function(he){u.CHM(se);const gt=u.oxw();return u.KtG(gt.onOverlayAnimationStart(he))})("@overlayAnimation.done",function(he){u.CHM(se);const gt=u.oxw();return u.KtG(gt.onOverlayAnimationDone(he))})("click",function(he){u.CHM(se);const gt=u.oxw();return u.KtG(gt.onOverlayClick(he))}),u.Hsn(2),u.YNc(3,k,1,0,"ng-container",12),u.YNc(4,xe,5,3,"ng-container",13),u.YNc(5,vt,23,8,"div",14),u.YNc(6,zt,3,8,"div",15),u.Hsn(7,1),u.YNc(8,Ut,1,0,"ng-container",12),u.qZA()}if(2&je){const se=u.oxw();u.Tol(se.panelStyleClass),u.Q6J("ngStyle",se.panelStyle)("ngClass",u.HTZ(11,ct,se.inline,se.disabled,se.timeOnly,se.numberOfMonths>1,"month"===se.view,se.touchUI))("@overlayAnimation",se.touchUI?u.VKq(21,me,u.WLB(18,at,se.showTransitionOptions,se.hideTransitionOptions)):u.VKq(26,De,u.WLB(23,at,se.showTransitionOptions,se.hideTransitionOptions)))("@.disabled",!0===se.inline),u.xp6(3),u.Q6J("ngTemplateOutlet",se.headerTemplate),u.xp6(1),u.Q6J("ngIf",!se.timeOnly),u.xp6(1),u.Q6J("ngIf",(se.showTime||se.timeOnly)&&"date"===se.currentView),u.xp6(1),u.Q6J("ngIf",se.showButtonBar),u.xp6(2),u.Q6J("ngTemplateOutlet",se.footerTemplate)}}const Ct=[[["p-header"]],[["p-footer"]]],Ot=function(je,It,se,Fe){return{"p-calendar":!0,"p-calendar-w-btn":je,"p-calendar-timeonly":It,"p-calendar-disabled":se,"p-focus":Fe}},Ft=["p-header","p-footer"],Mt={provide:f.JU,useExisting:(0,u.Gpc)(()=>Ye),multi:!0};let Ye=(()=>{class je{constructor(se,Fe,he,gt,cn,Tn){this.el=se,this.renderer=Fe,this.cd=he,this.zone=gt,this.config=cn,this.overlayService=Tn,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.showClear=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new u.vpe,this.onBlur=new u.vpe,this.onClose=new u.vpe,this.onSelect=new u.vpe,this.onClear=new u.vpe,this.onInput=new u.vpe,this.onTodayClick=new u.vpe,this.onClearClick=new u.vpe,this.onMonthChange=new u.vpe,this.onYearChange=new u.vpe,this.onClickOutside=new u.vpe,this.onShow=new u.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(en,_t){return"12"==this.hourFormat?12===en?_t?12:0:_t?en+12:en:en}}set content(se){this.contentViewChild=se,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(se){this._view=se,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(se){if(this._defaultDate=se,this.initialized){const Fe=se||new Date;this.currentMonth=Fe.getMonth(),this.currentYear=Fe.getFullYear(),this.initTime(Fe),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(se){this._minDate=se,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(se){this._maxDate=se,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(se){this._disabledDates=se,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(se){this._disabledDays=se,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(se){if(this._yearRange=se,se){const Fe=se.split(":"),he=parseInt(Fe[0]),gt=parseInt(Fe[1]);this.populateYearOptions(he,gt)}}get showTime(){return this._showTime}set showTime(se){this._showTime=se,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(se){this._responsiveOptions=se,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(se){this._numberOfMonths=se,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(se){this._firstDayOfWeek=se,this.createWeekDays()}set locale(se){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=(0,R.Th)();const se=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=se.getMonth(),this.currentYear=se.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(se),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(se=>{switch(se.getType()){case"date":default:this.dateTemplate=se.template;break;case"decade":this.decadeTemplate=se.template;break;case"disabledDate":this.disabledDateTemplate=se.template;break;case"header":this.headerTemplate=se.template;break;case"footer":this.footerTemplate=se.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=x.p.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(se){return this.config.getTranslation(se)}populateYearOptions(se,Fe){this.yearOptions=[];for(let he=se;he<=Fe;he++)this.yearOptions.push(he)}createWeekDays(){this.weekDays=[];let se=this.getFirstDateOfWeek(),Fe=this.getTranslation(_.ws.DAY_NAMES_MIN);for(let he=0;he<7;he++)this.weekDays.push(Fe[se]),se=6==se?0:++se}monthPickerValues(){let se=[];for(let Fe=0;Fe<=11;Fe++)se.push(this.config.getTranslation("monthNamesShort")[Fe]);return se}yearPickerValues(){let se=[],Fe=this.currentYear-this.currentYear%10;for(let he=0;he<10;he++)se.push(Fe+he);return se}createMonths(se,Fe){this.months=this.months=[];for(let he=0;he<this.numberOfMonths;he++){let gt=se+he,cn=Fe;gt>11&&(gt=gt%11-1,cn=Fe+1),this.months.push(this.createMonth(gt,cn))}}getWeekNumber(se){let Fe=new Date(se.getTime());Fe.setDate(Fe.getDate()+4-(Fe.getDay()||7));let he=Fe.getTime();return Fe.setMonth(0),Fe.setDate(1),Math.floor(Math.round((he-Fe.getTime())/864e5)/7)+1}createMonth(se,Fe){let he=[],gt=this.getFirstDayOfMonthIndex(se,Fe),cn=this.getDaysCountInMonth(se,Fe),Tn=this.getDaysCountInPrevMonth(se,Fe),en=1,_t=new Date,tt=[],de=Math.ceil((cn+gt)/7);for(let Qe=0;Qe<de;Qe++){let ze=[];if(0==Qe){for(let Be=Tn-gt+1;Be<=Tn;Be++){let qt=this.getPreviousMonthAndYear(se,Fe);ze.push({day:Be,month:qt.month,year:qt.year,otherMonth:!0,today:this.isToday(_t,Be,qt.month,qt.year),selectable:this.isSelectable(Be,qt.month,qt.year,!0)})}let Et=7-ze.length;for(let Be=0;Be<Et;Be++)ze.push({day:en,month:se,year:Fe,today:this.isToday(_t,en,se,Fe),selectable:this.isSelectable(en,se,Fe,!1)}),en++}else for(let Et=0;Et<7;Et++){if(en>cn){let Be=this.getNextMonthAndYear(se,Fe);ze.push({day:en-cn,month:Be.month,year:Be.year,otherMonth:!0,today:this.isToday(_t,en-cn,Be.month,Be.year),selectable:this.isSelectable(en-cn,Be.month,Be.year,!0)})}else ze.push({day:en,month:se,year:Fe,today:this.isToday(_t,en,se,Fe),selectable:this.isSelectable(en,se,Fe,!1)});en++}this.showWeek&&tt.push(this.getWeekNumber(new Date(ze[0].year,ze[0].month,ze[0].day))),he.push(ze)}return{month:se,year:Fe,dates:he,weekNumbers:tt}}initTime(se){this.pm=se.getHours()>11,this.showTime?(this.currentMinute=se.getMinutes(),this.currentSecond=se.getSeconds(),this.setCurrentHourPM(se.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(se){this.disabled?se.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(se){this.disabled?se.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let se=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-se,this.yearOptions[this.yearOptions.length-1]-se)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let se=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+se,this.yearOptions[this.yearOptions.length-1]+se)}}switchToMonthView(se){this.setCurrentView("month"),se.preventDefault()}switchToYearView(se){this.setCurrentView("year"),se.preventDefault()}onDateSelect(se,Fe){!this.disabled&&Fe.selectable?(this.isMultipleSelection()&&this.isSelected(Fe)?(this.value=this.value.filter((he,gt)=>!this.isDateEquals(he,Fe)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(Fe)&&this.selectDate(Fe),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{se.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),se.preventDefault()):se.preventDefault()}shouldSelectDate(se){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(se,Fe){"month"===this.view?this.onDateSelect(se,{year:this.currentYear,month:Fe,day:1,selectable:!0}):(this.currentMonth=Fe,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(se,Fe){"year"===this.view?this.onDateSelect(se,{year:Fe,month:0,day:1,selectable:!0}):(this.currentYear=Fe,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let se="";if(this.value)if(this.isSingleSelection())se=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let Fe=0;Fe<this.value.length;Fe++)se+=this.formatDateTime(this.value[Fe]),Fe!==this.value.length-1&&(se+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let he=this.value[1];se=this.formatDateTime(this.value[0]),he&&(se+=" "+this.rangeSeparator+" "+this.formatDateTime(he))}this.inputFieldValue=se,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(se){let Fe=this.keepInvalid?se:null;return this.isValidDate(se)&&(this.timeOnly?Fe=this.formatTime(se):(Fe=this.formatDate(se,this.getDateFormat()),this.showTime&&(Fe+=" "+this.formatTime(se)))),Fe}setCurrentHourPM(se){"12"==this.hourFormat?(this.pm=se>11,this.currentHour=se>=12?12==se?12:se-12:0==se?12:se):this.currentHour=se}setCurrentView(se){this.currentView=se,this.cd.detectChanges(),this.alignOverlay()}selectDate(se){let Fe=new Date(se.year,se.month,se.day);if(this.showTime&&(Fe.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),Fe.setMinutes(this.currentMinute),Fe.setSeconds(this.currentSecond)),this.minDate&&this.minDate>Fe&&(Fe=this.minDate,this.setCurrentHourPM(Fe.getHours()),this.currentMinute=Fe.getMinutes(),this.currentSecond=Fe.getSeconds()),this.maxDate&&this.maxDate<Fe&&(Fe=this.maxDate,this.setCurrentHourPM(Fe.getHours()),this.currentMinute=Fe.getMinutes(),this.currentSecond=Fe.getSeconds()),this.isSingleSelection())this.updateModel(Fe);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,Fe]:[Fe]);else if(this.isRangeSelection())if(this.value&&this.value.length){let he=this.value[0],gt=this.value[1];!gt&&Fe.getTime()>=he.getTime()?gt=Fe:(he=Fe,gt=null),this.updateModel([he,gt])}else this.updateModel([Fe,null]);this.onSelect.emit(Fe)}updateModel(se){if(this.value=se,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let Fe=null;this.value&&(Fe=this.value.map(he=>this.formatDateTime(he))),this.onModelChange(Fe)}}getFirstDayOfMonthIndex(se,Fe){let he=new Date;he.setDate(1),he.setMonth(se),he.setFullYear(Fe);let gt=he.getDay()+this.getSundayIndex();return gt>=7?gt-7:gt}getDaysCountInMonth(se,Fe){return 32-this.daylightSavingAdjust(new Date(Fe,se,32)).getDate()}getDaysCountInPrevMonth(se,Fe){let he=this.getPreviousMonthAndYear(se,Fe);return this.getDaysCountInMonth(he.month,he.year)}getPreviousMonthAndYear(se,Fe){let he,gt;return 0===se?(he=11,gt=Fe-1):(he=se-1,gt=Fe),{month:he,year:gt}}getNextMonthAndYear(se,Fe){let he,gt;return 11===se?(he=0,gt=Fe+1):(he=se+1,gt=Fe),{month:he,year:gt}}getSundayIndex(){let se=this.getFirstDateOfWeek();return se>0?7-se:0}isSelected(se){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,se);if(this.isMultipleSelection()){let Fe=!1;for(let he of this.value)if(Fe=this.isDateEquals(he,se),Fe)break;return Fe}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],se)||this.isDateEquals(this.value[1],se)||this.isDateBetween(this.value[0],this.value[1],se):this.isDateEquals(this.value[0],se):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(se){if(this.isComparable()&&!this.isMultipleSelection()){const[Fe,he]=this.isRangeSelection()?this.value:[this.value,this.value],gt=new Date(this.currentYear,se,1);return gt>=Fe&&gt<=(null!=he?he:Fe)}return!1}isMonthDisabled(se){return!this.isSelectable(1,se,this.currentYear,!1)}isYearSelected(se){if(this.isComparable()){let Fe=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&Fe.getFullYear()===se}return!1}isDateEquals(se,Fe){return!!(se&&se instanceof Date)&&se.getDate()===Fe.day&&se.getMonth()===Fe.month&&se.getFullYear()===Fe.year}isDateBetween(se,Fe,he){if(se&&Fe){let cn=new Date(he.year,he.month,he.day);return se.getTime()<=cn.getTime()&&Fe.getTime()>=cn.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(se,Fe,he,gt){return se.getDate()===Fe&&se.getMonth()===he&&se.getFullYear()===gt}isSelectable(se,Fe,he,gt){let cn=!0,Tn=!0,en=!0,_t=!0;return!(gt&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>he||this.minDate.getFullYear()===he&&(this.minDate.getMonth()>Fe||this.minDate.getMonth()===Fe&&this.minDate.getDate()>se))&&(cn=!1),this.maxDate&&(this.maxDate.getFullYear()<he||this.maxDate.getFullYear()===he&&(this.maxDate.getMonth()<Fe||this.maxDate.getMonth()===Fe&&this.maxDate.getDate()<se))&&(Tn=!1),this.disabledDates&&(en=!this.isDateDisabled(se,Fe,he)),this.disabledDays&&(_t=!this.isDayDisabled(se,Fe,he)),cn&&Tn&&en&&_t)}isDateDisabled(se,Fe,he){if(this.disabledDates)for(let gt of this.disabledDates)if(gt.getFullYear()===he&&gt.getMonth()===Fe&&gt.getDate()===se)return!0;return!1}isDayDisabled(se,Fe,he){if(this.disabledDays){let cn=new Date(he,Fe,se).getDay();return-1!==this.disabledDays.indexOf(cn)}return!1}onInputFocus(se){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(se)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(se){this.focus=!1,this.onBlur.emit(se),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(se,Fe){this.overlayVisible?this.hideOverlay():(Fe.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(se){this.overlayService.add({originalEvent:se,target:this.el.nativeElement})}getMonthName(se){return this.config.getTranslation("monthNames")[se]}getYear(se){return"month"===this.currentView?this.currentYear:se.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(se){this.navigationState={backward:!0,button:!0},this.navBackward(se)}onNextButtonClick(se){this.navigationState={backward:!1,button:!0},this.navForward(se)}onContainerButtonKeydown(se){switch(se.which){case 9:this.inline||this.trapFocus(se);break;case 27:this.overlayVisible=!1,se.preventDefault()}}onInputKeydown(se){this.isKeydown=!0,40===se.keyCode&&this.contentViewChild?this.trapFocus(se):27===se.keyCode||13===se.keyCode?this.overlayVisible&&(this.overlayVisible=!1,se.preventDefault()):9===se.keyCode&&this.contentViewChild&&(x.p.getFocusableElements(this.contentViewChild.nativeElement).forEach(Fe=>Fe.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(se,Fe,he){const gt=se.currentTarget,cn=gt.parentElement;switch(se.which){case 40:{gt.tabIndex="-1";let Tn=x.p.index(cn),en=cn.parentElement.nextElementSibling;en?x.p.hasClass(en.children[Tn].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(se)):(en.children[Tn].children[0].tabIndex="0",en.children[Tn].children[0].focus()):(this.navigationState={backward:!1},this.navForward(se)),se.preventDefault();break}case 38:{gt.tabIndex="-1";let Tn=x.p.index(cn),en=cn.parentElement.previousElementSibling;if(en){let _t=en.children[Tn].children[0];x.p.hasClass(_t,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(se)):(_t.tabIndex="0",_t.focus())}else this.navigationState={backward:!0},this.navBackward(se);se.preventDefault();break}case 37:{gt.tabIndex="-1";let Tn=cn.previousElementSibling;if(Tn){let en=Tn.children[0];x.p.hasClass(en,"p-disabled")||x.p.hasClass(en.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,he):(en.tabIndex="0",en.focus())}else this.navigateToMonth(!0,he);se.preventDefault();break}case 39:{gt.tabIndex="-1";let Tn=cn.nextElementSibling;if(Tn){let en=Tn.children[0];x.p.hasClass(en,"p-disabled")?this.navigateToMonth(!1,he):(en.tabIndex="0",en.focus())}else this.navigateToMonth(!1,he);se.preventDefault();break}case 13:case 32:this.onDateSelect(se,Fe),se.preventDefault();break;case 27:this.overlayVisible=!1,se.preventDefault();break;case 9:this.inline||this.trapFocus(se)}}onMonthCellKeydown(se,Fe){const he=se.currentTarget;switch(se.which){case 38:case 40:{he.tabIndex="-1";var gt=he.parentElement.children,cn=x.p.index(he);let Tn=gt[40===se.which?cn+3:cn-3];Tn&&(Tn.tabIndex="0",Tn.focus()),se.preventDefault();break}case 37:{he.tabIndex="-1";let Tn=he.previousElementSibling;Tn?(Tn.tabIndex="0",Tn.focus()):(this.navigationState={backward:!0},this.navBackward(se)),se.preventDefault();break}case 39:{he.tabIndex="-1";let Tn=he.nextElementSibling;Tn?(Tn.tabIndex="0",Tn.focus()):(this.navigationState={backward:!1},this.navForward(se)),se.preventDefault();break}case 13:this.onMonthSelect(se,Fe),se.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,se.preventDefault();break;case 9:this.inline||this.trapFocus(se)}}onYearCellKeydown(se,Fe){const he=se.currentTarget;switch(se.which){case 38:case 40:{he.tabIndex="-1";var gt=he.parentElement.children,cn=x.p.index(he);let Tn=gt[40===se.which?cn+2:cn-2];Tn&&(Tn.tabIndex="0",Tn.focus()),se.preventDefault();break}case 37:{he.tabIndex="-1";let Tn=he.previousElementSibling;Tn?(Tn.tabIndex="0",Tn.focus()):(this.navigationState={backward:!0},this.navBackward(se)),se.preventDefault();break}case 39:{he.tabIndex="-1";let Tn=he.nextElementSibling;Tn?(Tn.tabIndex="0",Tn.focus()):(this.navigationState={backward:!1},this.navForward(se)),se.preventDefault();break}case 13:case 32:this.onYearSelect(se,Fe),se.preventDefault();break;case 27:this.overlayVisible=!1,se.preventDefault();break;case 9:this.trapFocus(se)}}navigateToMonth(se,Fe){if(se)if(1===this.numberOfMonths||0===Fe)this.navigationState={backward:!0},this.navBackward(event);else{let gt=x.p.find(this.contentViewChild.nativeElement.children[Fe-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),cn=gt[gt.length-1];cn.tabIndex="0",cn.focus()}else if(1===this.numberOfMonths||Fe===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let gt=x.p.findSingle(this.contentViewChild.nativeElement.children[Fe+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");gt.tabIndex="0",gt.focus()}}updateFocus(){let se;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?x.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():x.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let Fe;Fe=x.p.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),Fe&&Fe.length>0&&(se=Fe[Fe.length-1])}else se=x.p.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");se&&(se.tabIndex="0",se.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){var se;const Fe=null===(se=this.contentViewChild)||void 0===se?void 0:se.nativeElement;let he;if("month"===this.currentView){let gt=x.p.find(Fe,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),cn=x.p.findSingle(Fe,".p-monthpicker .p-monthpicker-month.p-highlight");gt.forEach(Tn=>Tn.tabIndex=-1),he=cn||gt[0],0===gt.length&&x.p.find(Fe,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(en=>en.tabIndex=-1)}else if("year"===this.currentView){let gt=x.p.find(Fe,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),cn=x.p.findSingle(Fe,".p-yearpicker .p-yearpicker-year.p-highlight");gt.forEach(Tn=>Tn.tabIndex=-1),he=cn||gt[0],0===gt.length&&x.p.find(Fe,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(en=>en.tabIndex=-1)}else if(he=x.p.findSingle(Fe,"span.p-highlight"),!he){let gt=x.p.findSingle(Fe,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");he=gt||x.p.findSingle(Fe,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}he&&(he.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{he.focus()},1),this.preventFocus=!1)}trapFocus(se){let Fe=x.p.getFocusableElements(this.contentViewChild.nativeElement);if(Fe&&Fe.length>0)if(Fe[0].ownerDocument.activeElement){let he=Fe.indexOf(Fe[0].ownerDocument.activeElement);if(se.shiftKey)if(-1==he||0===he)if(this.focusTrap)Fe[Fe.length-1].focus();else{if(-1===he)return this.hideOverlay();if(0===he)return}else Fe[he-1].focus();else if(-1==he||he===Fe.length-1){if(!this.focusTrap&&-1!=he)return this.hideOverlay();Fe[0].focus()}else Fe[he+1].focus()}else Fe[0].focus();se.preventDefault()}onMonthDropdownChange(se){this.currentMonth=parseInt(se),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(se){this.currentYear=parseInt(se),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(se,Fe,he,gt){let cn=this.value;const Tn=this.convertTo24Hour(se,gt);this.isRangeSelection()&&(cn=this.value[1]||this.value[0]),this.isMultipleSelection()&&(cn=this.value[this.value.length-1]);const en=cn?cn.toDateString():null;return!(this.minDate&&en&&this.minDate.toDateString()===en&&(this.minDate.getHours()>Tn||this.minDate.getHours()===Tn&&(this.minDate.getMinutes()>Fe||this.minDate.getMinutes()===Fe&&this.minDate.getSeconds()>he))||this.maxDate&&en&&this.maxDate.toDateString()===en&&(this.maxDate.getHours()<Tn||this.maxDate.getHours()===Tn&&(this.maxDate.getMinutes()<Fe||this.maxDate.getMinutes()===Fe&&this.maxDate.getSeconds()<he)))}incrementHour(se){let he=this.currentHour+this.stepHour,gt=this.pm;"24"==this.hourFormat?he=he>=24?he-24:he:"12"==this.hourFormat&&(this.currentHour<12&&he>11&&(gt=!this.pm),he=he>=13?he-12:he),this.validateTime(he,this.currentMinute,this.currentSecond,gt)&&(this.currentHour=he,this.pm=gt),se.preventDefault()}onTimePickerElementMouseDown(se,Fe,he){this.disabled||(this.repeat(se,null,Fe,he),se.preventDefault())}onTimePickerElementMouseUp(se){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(se,Fe,he,gt){let cn=Fe||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(se,100,he,gt),this.cd.markForCheck()},cn),he){case 0:1===gt?this.incrementHour(se):this.decrementHour(se);break;case 1:1===gt?this.incrementMinute(se):this.decrementMinute(se);break;case 2:1===gt?this.incrementSecond(se):this.decrementSecond(se)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(se){let Fe=this.currentHour-this.stepHour,he=this.pm;"24"==this.hourFormat?Fe=Fe<0?24+Fe:Fe:"12"==this.hourFormat&&(12===this.currentHour&&(he=!this.pm),Fe=Fe<=0?12+Fe:Fe),this.validateTime(Fe,this.currentMinute,this.currentSecond,he)&&(this.currentHour=Fe,this.pm=he),se.preventDefault()}incrementMinute(se){let Fe=this.currentMinute+this.stepMinute;Fe=Fe>59?Fe-60:Fe,this.validateTime(this.currentHour,Fe,this.currentSecond,this.pm)&&(this.currentMinute=Fe),se.preventDefault()}decrementMinute(se){let Fe=this.currentMinute-this.stepMinute;Fe=Fe<0?60+Fe:Fe,this.validateTime(this.currentHour,Fe,this.currentSecond,this.pm)&&(this.currentMinute=Fe),se.preventDefault()}incrementSecond(se){let Fe=this.currentSecond+this.stepSecond;Fe=Fe>59?Fe-60:Fe,this.validateTime(this.currentHour,this.currentMinute,Fe,this.pm)&&(this.currentSecond=Fe),se.preventDefault()}decrementSecond(se){let Fe=this.currentSecond-this.stepSecond;Fe=Fe<0?60+Fe:Fe,this.validateTime(this.currentHour,this.currentMinute,Fe,this.pm)&&(this.currentSecond=Fe),se.preventDefault()}updateTime(){let se=this.value;this.isRangeSelection()&&(se=this.value[1]||this.value[0]),this.isMultipleSelection()&&(se=this.value[this.value.length-1]),se=se?new Date(se.getTime()):new Date,se.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),se.setMinutes(this.currentMinute),se.setSeconds(this.currentSecond),this.isRangeSelection()&&(se=this.value[1]?[this.value[0],se]:[se,null]),this.isMultipleSelection()&&(se=[...this.value.slice(0,-1),se]),this.updateModel(se),this.onSelect.emit(se),this.updateInputfield()}toggleAMPM(se){const Fe=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,Fe)&&(this.pm=Fe,this.updateTime()),se.preventDefault()}onUserInput(se){if(!this.isKeydown)return;this.isKeydown=!1;let Fe=se.target.value;try{let he=this.parseValueFromString(Fe);this.isValidSelection(he)&&(this.updateModel(he),this.updateUI())}catch(he){this.updateModel(this.keepInvalid?Fe:null)}this.filled=null!=Fe&&Fe.length,this.onInput.emit(se)}isValidSelection(se){let Fe=!0;return this.isSingleSelection()?this.isSelectable(se.getDate(),se.getMonth(),se.getFullYear(),!1)||(Fe=!1):se.every(he=>this.isSelectable(he.getDate(),he.getMonth(),he.getFullYear(),!1))&&this.isRangeSelection()&&(Fe=se.length>1&&se[1]>se[0]),Fe}parseValueFromString(se){if(!se||0===se.trim().length)return null;let Fe;if(this.isSingleSelection())Fe=this.parseDateTime(se);else if(this.isMultipleSelection()){let he=se.split(this.multipleSeparator);Fe=[];for(let gt of he)Fe.push(this.parseDateTime(gt.trim()))}else if(this.isRangeSelection()){let he=se.split(" "+this.rangeSeparator+" ");Fe=[];for(let gt=0;gt<he.length;gt++)Fe[gt]=this.parseDateTime(he[gt].trim())}return Fe}parseDateTime(se){let Fe,he=se.split(" ");if(this.timeOnly)Fe=new Date,this.populateTime(Fe,he[0],he[1]);else{const gt=this.getDateFormat();if(this.showTime){let cn="12"==this.hourFormat?he.pop():null,Tn=he.pop();Fe=this.parseDate(he.join(" "),gt),this.populateTime(Fe,Tn,cn)}else Fe=this.parseDate(se,gt)}return Fe}populateTime(se,Fe,he){if("12"==this.hourFormat&&!he)throw"Invalid Time";this.pm="PM"===he||"pm"===he;let gt=this.parseTime(Fe);se.setHours(gt.hour),se.setMinutes(gt.minute),se.setSeconds(gt.second)}isValidDate(se){return se instanceof Date&&R.gb.isNotEmpty(se)}updateUI(){let se=this.value;Array.isArray(se)&&(se=se[0]);let Fe=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:se&&this.isValidDate(se)?se:new Date;this.currentMonth=Fe.getMonth(),this.currentYear=Fe.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(Fe.getHours()),this.currentMinute=Fe.getMinutes(),this.currentSecond=Fe.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(se){switch(se.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=se.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?R.P9.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):R.P9.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(se));break;case"void":this.onOverlayHide(),this.onClose.emit(se)}}onOverlayAnimationDone(se){switch(se.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&R.P9.clear(se.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):x.p.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=x.p.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=x.p.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=x.p.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",x.p.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):x.p.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(se){this.mask||this.touchUI||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(se.style.zIndex)-1),x.p.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",he=>{this.disableModality()}),document.body.appendChild(this.mask),x.p.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(x.p.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){if(!this.mask)return;document.body.removeChild(this.mask);let Fe,se=document.body.children;for(let he=0;he<se.length;he++)if(x.p.hasClass(se[he],"p-datepicker-mask-scrollblocker")){Fe=!0;break}Fe||x.p.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(se){if(this.value=se,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch(Fe){this.keepInvalid&&(this.value=se)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(se){this.onModelChange=se}registerOnTouched(se){this.onModelTouched=se}setDisabledState(se){this.disabled=se,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(_.ws.FIRST_DAY_OF_WEEK)}formatDate(se,Fe){if(!se)return"";let he;const gt=tt=>{const de=he+1<Fe.length&&Fe.charAt(he+1)===tt;return de&&he++,de},cn=(tt,de,Qe)=>{let ze=""+de;if(gt(tt))for(;ze.length<Qe;)ze="0"+ze;return ze},Tn=(tt,de,Qe,ze)=>gt(tt)?ze[de]:Qe[de];let en="",_t=!1;if(se)for(he=0;he<Fe.length;he++)if(_t)"'"!==Fe.charAt(he)||gt("'")?en+=Fe.charAt(he):_t=!1;else switch(Fe.charAt(he)){case"d":en+=cn("d",se.getDate(),2);break;case"D":en+=Tn("D",se.getDay(),this.getTranslation(_.ws.DAY_NAMES_SHORT),this.getTranslation(_.ws.DAY_NAMES));break;case"o":en+=cn("o",Math.round((new Date(se.getFullYear(),se.getMonth(),se.getDate()).getTime()-new Date(se.getFullYear(),0,0).getTime())/864e5),3);break;case"m":en+=cn("m",se.getMonth()+1,2);break;case"M":en+=Tn("M",se.getMonth(),this.getTranslation(_.ws.MONTH_NAMES_SHORT),this.getTranslation(_.ws.MONTH_NAMES));break;case"y":en+=gt("y")?se.getFullYear():(se.getFullYear()%100<10?"0":"")+se.getFullYear()%100;break;case"@":en+=se.getTime();break;case"!":en+=1e4*se.getTime()+this.ticksTo1970;break;case"'":gt("'")?en+="'":_t=!0;break;default:en+=Fe.charAt(he)}return en}formatTime(se){if(!se)return"";let Fe="",he=se.getHours(),gt=se.getMinutes(),cn=se.getSeconds();return"12"==this.hourFormat&&he>11&&12!=he&&(he-=12),Fe+="12"==this.hourFormat&&0===he?12:he<10?"0"+he:he,Fe+=":",Fe+=gt<10?"0"+gt:gt,this.showSeconds&&(Fe+=":",Fe+=cn<10?"0"+cn:cn),"12"==this.hourFormat&&(Fe+=se.getHours()>11?" PM":" AM"),Fe}parseTime(se){let Fe=se.split(":");if(Fe.length!==(this.showSeconds?3:2))throw"Invalid time";let gt=parseInt(Fe[0]),cn=parseInt(Fe[1]),Tn=this.showSeconds?parseInt(Fe[2]):null;if(isNaN(gt)||isNaN(cn)||gt>23||cn>59||"12"==this.hourFormat&&gt>12||this.showSeconds&&(isNaN(Tn)||Tn>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==gt&&this.pm?gt+=12:!this.pm&&12===gt&&(gt-=12)),{hour:gt,minute:cn,second:Tn}}parseDate(se,Fe){if(null==Fe||null==se)throw"Invalid arguments";if(""===(se="object"==typeof se?se.toString():se+""))return null;let he,gt,cn,Et,Tn=0,en="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),_t=-1,tt=-1,de=-1,Qe=-1,ze=!1,Be=Mn=>{let Nt=he+1<Fe.length&&Fe.charAt(he+1)===Mn;return Nt&&he++,Nt},qt=Mn=>{let Nt=Be(Mn),rn="@"===Mn?14:"!"===Mn?20:"y"===Mn&&Nt?4:"o"===Mn?3:2,Hn=new RegExp("^\\d{"+("y"===Mn?rn:1)+","+rn+"}"),ai=se.substring(Tn).match(Hn);if(!ai)throw"Missing number at position "+Tn;return Tn+=ai[0].length,parseInt(ai[0],10)},gn=(Mn,Nt,rn)=>{let Bn=-1,Hn=Be(Mn)?rn:Nt,ai=[];for(let vi=0;vi<Hn.length;vi++)ai.push([vi,Hn[vi]]);ai.sort((vi,Ni)=>-(vi[1].length-Ni[1].length));for(let vi=0;vi<ai.length;vi++){let Ni=ai[vi][1];if(se.substr(Tn,Ni.length).toLowerCase()===Ni.toLowerCase()){Bn=ai[vi][0],Tn+=Ni.length;break}}if(-1!==Bn)return Bn+1;throw"Unknown name at position "+Tn},Qt=()=>{if(se.charAt(Tn)!==Fe.charAt(he))throw"Unexpected literal at position "+Tn;Tn++};for("month"===this.view&&(de=1),he=0;he<Fe.length;he++)if(ze)"'"!==Fe.charAt(he)||Be("'")?Qt():ze=!1;else switch(Fe.charAt(he)){case"d":de=qt("d");break;case"D":gn("D",this.getTranslation(_.ws.DAY_NAMES_SHORT),this.getTranslation(_.ws.DAY_NAMES));break;case"o":Qe=qt("o");break;case"m":tt=qt("m");break;case"M":tt=gn("M",this.getTranslation(_.ws.MONTH_NAMES_SHORT),this.getTranslation(_.ws.MONTH_NAMES));break;case"y":_t=qt("y");break;case"@":Et=new Date(qt("@")),_t=Et.getFullYear(),tt=Et.getMonth()+1,de=Et.getDate();break;case"!":Et=new Date((qt("!")-this.ticksTo1970)/1e4),_t=Et.getFullYear(),tt=Et.getMonth()+1,de=Et.getDate();break;case"'":Be("'")?Qt():ze=!0;break;default:Qt()}if(Tn<se.length&&(cn=se.substr(Tn),!/^\s+/.test(cn)))throw"Extra/unparsed characters found in date: "+cn;if(-1===_t?_t=(new Date).getFullYear():_t<100&&(_t+=(new Date).getFullYear()-(new Date).getFullYear()%100+(_t<=en?0:-100)),Qe>-1)for(tt=1,de=Qe;gt=this.getDaysCountInMonth(_t,tt-1),!(de<=gt);)tt++,de-=gt;if("year"===this.view&&(tt=-1===tt?1:tt,de=-1===de?1:de),Et=this.daylightSavingAdjust(new Date(_t,tt-1,de)),Et.getFullYear()!==_t||Et.getMonth()+1!==tt||Et.getDate()!==de)throw"Invalid date";return Et}daylightSavingAdjust(se){return se?(se.setHours(se.getHours()>12?se.getHours()+2:0),se):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(se){let Fe=new Date,he={day:Fe.getDate(),month:Fe.getMonth(),year:Fe.getFullYear(),otherMonth:Fe.getMonth()!==this.currentMonth||Fe.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(se,he),this.onTodayClick.emit(se)}onClearButtonClick(se){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(se)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let se="";if(this.responsiveOptions){let Fe=[...this.responsiveOptions].filter(he=>!(!he.breakpoint||!he.numMonths)).sort((he,gt)=>-1*he.breakpoint.localeCompare(gt.breakpoint,void 0,{numeric:!0}));for(let he=0;he<Fe.length;he++){let{breakpoint:gt,numMonths:cn}=Fe[he],Tn=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${cn}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let en=cn;en<this.numberOfMonths;en++)Tn+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${en+1}) {\n                                display: none !important;\n                            }\n                        `;se+=`\n                        @media screen and (max-width: ${gt}) {\n                            ${Tn}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=se}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",Fe=>{this.isOutsideClicked(Fe)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(Fe),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new x.V(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(se){return!(this.el.nativeElement.isSameNode(se.target)||this.isNavIconClicked(se)||this.el.nativeElement.contains(se.target)||this.overlay&&this.overlay.contains(se.target))}isNavIconClicked(se){return x.p.hasClass(se.target,"p-datepicker-prev")||x.p.hasClass(se.target,"p-datepicker-prev-icon")||x.p.hasClass(se.target,"p-datepicker-next")||x.p.hasClass(se.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!x.p.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&R.P9.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return je.\u0275fac=function(se){return new(se||je)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(u.R0b),u.Y36(_.b4),u.Y36(_.F0))},je.\u0275cmp=u.Xpm({type:je,selectors:[["p-calendar"]],contentQueries:function(se,Fe,he){if(1&se&&u.Suo(he,_.jx,4),2&se){let gt;u.iGM(gt=u.CRH())&&(Fe.templates=gt)}},viewQuery:function(se,Fe){if(1&se&&(u.Gf(L,5),u.Gf(V,5),u.Gf(F,5)),2&se){let he;u.iGM(he=u.CRH())&&(Fe.containerViewChild=he.first),u.iGM(he=u.CRH())&&(Fe.inputfieldViewChild=he.first),u.iGM(he=u.CRH())&&(Fe.content=he.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(se,Fe){2&se&&u.ekj("p-inputwrapper-filled",Fe.filled)("p-inputwrapper-focus",Fe.focus)("p-calendar-clearable",Fe.showClear&&!Fe.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[u._Bn([Mt])],ngContentSelectors:Ft,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["class","p-calendar-clear-icon pi pi-times",3,"click",4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],[1,"p-calendar-clear-icon","pi","pi-times",3,"click"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(se,Fe){1&se&&(u.F$t(Ct),u.TgZ(0,"span",0,1),u.YNc(2,D,4,17,"ng-template",2),u.YNc(3,ot,9,28,"div",3),u.qZA()),2&se&&(u.Tol(Fe.styleClass),u.Q6J("ngClass",u.l5B(6,Ot,Fe.showIcon,Fe.timeOnly,Fe.disabled,Fe.focus))("ngStyle",Fe.style),u.xp6(2),u.Q6J("ngIf",!Fe.inline),u.xp6(1),u.Q6J("ngIf",Fe.inline||Fe.overlayVisible))},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,P.Hq,a.H],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,e.X$)("overlayAnimation",[(0,e.SB)("visibleTouchUI",(0,e.oB)({transform:"translate(-50%,-50%)",opacity:1})),(0,e.eR)("void => visible",[(0,e.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,e.jt)("{{showTransitionParams}}",(0,e.oB)({opacity:1,transform:"*"}))]),(0,e.eR)("visible => void",[(0,e.jt)("{{hideTransitionParams}}",(0,e.oB)({opacity:0}))]),(0,e.eR)("void => visibleTouchUI",[(0,e.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),(0,e.jt)("{{showTransitionParams}}")]),(0,e.eR)("visibleTouchUI => void",[(0,e.jt)("{{hideTransitionParams}}",(0,e.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),je})(),st=(()=>{class je{}return je.\u0275fac=function(se){return new(se||je)},je.\u0275mod=u.oAB({type:je}),je.\u0275inj=u.cJS({imports:[d.ez,P.hJ,_.m8,a.T,P.hJ,_.m8]}),je})()},7575:(hn,ht,b)=>{"use strict";b.d(ht,{S:()=>Gl,C:()=>Sf});var e=b(5e3),d=b(9808);function u(m){return m+.5|0}const f=(m,c,g)=>Math.max(Math.min(m,g),c);function _(m){return f(u(2.55*m),0,255)}function x(m){return f(u(255*m),0,255)}function a(m){return f(u(m/2.55)/100,0,1)}function R(m){return f(u(100*m),0,100)}const L={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},V=[..."0123456789ABCDEF"],F=m=>V[15&m],T=m=>V[(240&m)>>4]+V[15&m],y=m=>(240&m)>>4==(15&m);const ce=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function $(m,c,g){const C=c*Math.min(g,1-g),I=(M,H=(M+m/30)%12)=>g-C*Math.max(Math.min(H-3,9-H,1),-1);return[I(0),I(8),I(4)]}function z(m,c,g){const C=(I,M=(I+m/60)%6)=>g-g*c*Math.max(Math.min(M,4-M,1),0);return[C(5),C(3),C(1)]}function S(m,c,g){const C=$(m,1,.5);let I;for(c+g>1&&(I=1/(c+g),c*=I,g*=I),I=0;I<3;I++)C[I]*=1-c-g,C[I]+=c;return C}function K(m){const g=m.r/255,C=m.g/255,I=m.b/255,M=Math.max(g,C,I),H=Math.min(g,C,I),te=(M+H)/2;let ge,Me,rt;return M!==H&&(rt=M-H,Me=te>.5?rt/(2-M-H):rt/(M+H),ge=function O(m,c,g,C,I){return m===I?(c-g)/C+(c<g?6:0):c===I?(g-m)/C+2:(m-c)/C+4}(g,C,I,rt,M),ge=60*ge+.5),[0|ge,Me||0,te]}function ue(m,c,g,C){return(Array.isArray(c)?m(c[0],c[1],c[2]):m(c,g,C)).map(x)}function q(m,c,g){return ue($,m,c,g)}function fe(m){return(m%360+360)%360}const W={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Y={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Ae;const be=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,xe=m=>m<=.0031308?12.92*m:1.055*Math.pow(m,1/2.4)-.055,we=m=>m<=.04045?m/12.92:Math.pow((m+.055)/1.055,2.4);function dt(m,c,g){if(m){let C=K(m);C[c]=Math.max(0,Math.min(C[c]+C[c]*g,0===c?360:1)),C=q(C),m.r=C[0],m.g=C[1],m.b=C[2]}}function bt(m,c){return m&&Object.assign(c||{},m)}function it(m){var c={r:0,g:0,b:0,a:255};return Array.isArray(m)?m.length>=3&&(c={r:m[0],g:m[1],b:m[2],a:255},m.length>3&&(c.a=x(m[3]))):(c=bt(m,{r:0,g:0,b:0,a:1})).a=x(c.a),c}function Dt(m){return"r"===m.charAt(0)?function Ge(m){const c=be.exec(m);let C,I,M,g=255;if(c){if(c[7]!==C){const H=+c[7];g=c[8]?_(H):f(255*H,0,255)}return C=+c[1],I=+c[3],M=+c[5],C=255&(c[2]?_(C):f(C,0,255)),I=255&(c[4]?_(I):f(I,0,255)),M=255&(c[6]?_(M):f(M,0,255)),{r:C,g:I,b:M,a:g}}}(m):function ne(m){const c=ce.exec(m);let C,g=255;if(!c)return;c[5]!==C&&(g=c[6]?_(+c[5]):x(+c[5]));const I=fe(+c[2]),M=+c[3]/100,H=+c[4]/100;return C="hwb"===c[1]?function G(m,c,g){return ue(S,m,c,g)}(I,M,H):"hsv"===c[1]?function j(m,c,g){return ue(z,m,c,g)}(I,M,H):q(I,M,H),{r:C[0],g:C[1],b:C[2],a:g}}(m)}class vt{constructor(c){if(c instanceof vt)return c;const g=typeof c;let C;"object"===g?C=it(c):"string"===g&&(C=function k(m){var g,c=m.length;return"#"===m[0]&&(4===c||5===c?g={r:255&17*L[m[1]],g:255&17*L[m[2]],b:255&17*L[m[3]],a:5===c?17*L[m[4]]:255}:(7===c||9===c)&&(g={r:L[m[1]]<<4|L[m[2]],g:L[m[3]]<<4|L[m[4]],b:L[m[5]]<<4|L[m[6]],a:9===c?L[m[7]]<<4|L[m[8]]:255})),g}(c)||function Ke(m){Ae||(Ae=function Te(){const m={},c=Object.keys(Y),g=Object.keys(W);let C,I,M,H,te;for(C=0;C<c.length;C++){for(H=te=c[C],I=0;I<g.length;I++)M=g[I],te=te.replace(M,W[M]);M=parseInt(Y[H],16),m[te]=[M>>16&255,M>>8&255,255&M]}return m}(),Ae.transparent=[0,0,0,0]);const c=Ae[m.toLowerCase()];return c&&{r:c[0],g:c[1],b:c[2],a:4===c.length?c[3]:255}}(c)||Dt(c)),this._rgb=C,this._valid=!!C}get valid(){return this._valid}get rgb(){var c=bt(this._rgb);return c&&(c.a=a(c.a)),c}set rgb(c){this._rgb=it(c)}rgbString(){return this._valid?function ee(m){return m&&(m.a<255?`rgba(${m.r}, ${m.g}, ${m.b}, ${a(m.a)})`:`rgb(${m.r}, ${m.g}, ${m.b})`)}(this._rgb):void 0}hexString(){return this._valid?function N(m){var c=(m=>y(m.r)&&y(m.g)&&y(m.b)&&y(m.a))(m)?F:T;return m?"#"+c(m.r)+c(m.g)+c(m.b)+((m,c)=>m<255?c(m):"")(m.a,c):void 0}(this._rgb):void 0}hslString(){return this._valid?function X(m){if(!m)return;const c=K(m),g=c[0],C=R(c[1]),I=R(c[2]);return m.a<255?`hsla(${g}, ${C}%, ${I}%, ${a(m.a)})`:`hsl(${g}, ${C}%, ${I}%)`}(this._rgb):void 0}mix(c,g){if(c){const C=this.rgb,I=c.rgb;let M;const H=g===M?.5:g,te=2*H-1,ge=C.a-I.a,Me=((te*ge==-1?te:(te+ge)/(1+te*ge))+1)/2;M=1-Me,C.r=255&Me*C.r+M*I.r+.5,C.g=255&Me*C.g+M*I.g+.5,C.b=255&Me*C.b+M*I.b+.5,C.a=H*C.a+(1-H)*I.a,this.rgb=C}return this}interpolate(c,g){return c&&(this._rgb=function Pe(m,c,g){const C=we(a(m.r)),I=we(a(m.g)),M=we(a(m.b));return{r:x(xe(C+g*(we(a(c.r))-C))),g:x(xe(I+g*(we(a(c.g))-I))),b:x(xe(M+g*(we(a(c.b))-M))),a:m.a+g*(c.a-m.a)}}(this._rgb,c._rgb,g)),this}clone(){return new vt(this.rgb)}alpha(c){return this._rgb.a=x(c),this}clearer(c){return this._rgb.a*=1-c,this}greyscale(){const c=this._rgb,g=u(.3*c.r+.59*c.g+.11*c.b);return c.r=c.g=c.b=g,this}opaquer(c){return this._rgb.a*=1+c,this}negate(){const c=this._rgb;return c.r=255-c.r,c.g=255-c.g,c.b=255-c.b,this}lighten(c){return dt(this._rgb,2,c),this}darken(c){return dt(this._rgb,2,-c),this}saturate(c){return dt(this._rgb,1,c),this}desaturate(c){return dt(this._rgb,1,-c),this}rotate(c){return function J(m,c){var g=K(m);g[0]=fe(g[0]+c),g=q(g),m.r=g[0],m.g=g[1],m.b=g[2]}(this._rgb,c),this}}function zt(){}const Ut=(()=>{let m=0;return()=>m++})();function ct(m){return null==m}function at(m){if(Array.isArray&&Array.isArray(m))return!0;const c=Object.prototype.toString.call(m);return"[object"===c.slice(0,7)&&"Array]"===c.slice(-6)}function me(m){return null!==m&&"[object Object]"===Object.prototype.toString.call(m)}function De(m){return("number"==typeof m||m instanceof Number)&&isFinite(+m)}function ot(m,c){return De(m)?m:c}function Ct(m,c){return void 0===m?c:m}const Ft=(m,c)=>"string"==typeof m&&m.endsWith("%")?parseFloat(m)/100*c:+m;function Mt(m,c,g){if(m&&"function"==typeof m.call)return m.apply(g,c)}function Ye(m,c,g,C){let I,M,H;if(at(m))if(M=m.length,C)for(I=M-1;I>=0;I--)c.call(g,m[I],I);else for(I=0;I<M;I++)c.call(g,m[I],I);else if(me(m))for(H=Object.keys(m),M=H.length,I=0;I<M;I++)c.call(g,m[H[I]],H[I])}function st(m,c){let g,C,I,M;if(!m||!c||m.length!==c.length)return!1;for(g=0,C=m.length;g<C;++g)if(I=m[g],M=c[g],I.datasetIndex!==M.datasetIndex||I.index!==M.index)return!1;return!0}function je(m){if(at(m))return m.map(je);if(me(m)){const c=Object.create(null),g=Object.keys(m),C=g.length;let I=0;for(;I<C;++I)c[g[I]]=je(m[g[I]]);return c}return m}function It(m){return-1===["__proto__","prototype","constructor"].indexOf(m)}function se(m,c,g,C){if(!It(m))return;const I=c[m],M=g[m];me(I)&&me(M)?Fe(I,M,C):c[m]=je(M)}function Fe(m,c,g){const C=at(c)?c:[c],I=C.length;if(!me(m))return m;const M=(g=g||{}).merger||se;let H;for(let te=0;te<I;++te){if(H=C[te],!me(H))continue;const ge=Object.keys(H);for(let Me=0,rt=ge.length;Me<rt;++Me)M(ge[Me],m,H,g)}return m}function he(m,c){return Fe(m,c,{merger:gt})}function gt(m,c,g){if(!It(m))return;const C=c[m],I=g[m];me(C)&&me(I)?he(C,I):Object.prototype.hasOwnProperty.call(c,m)||(c[m]=je(I))}const Tn={"":m=>m,x:m=>m.x,y:m=>m.y};function tt(m,c){return(Tn[c]||(Tn[c]=function _t(m){const c=function en(m){const c=m.split("."),g=[];let C="";for(const I of c)C+=I,C.endsWith("\\")?C=C.slice(0,-1)+".":(g.push(C),C="");return g}(m);return g=>{for(const C of c){if(""===C)break;g=g&&g[C]}return g}}(c)))(m)}function de(m){return m.charAt(0).toUpperCase()+m.slice(1)}const Qe=m=>void 0!==m,ze=m=>"function"==typeof m,Et=(m,c)=>{if(m.size!==c.size)return!1;for(const g of m)if(!c.has(g))return!1;return!0},qt=Math.PI,gn=2*qt,Qt=gn+qt,Mn=Number.POSITIVE_INFINITY,Nt=qt/180,rn=qt/2,Bn=qt/4,Hn=2*qt/3,ai=Math.log10,vi=Math.sign;function Ni(m,c,g){return Math.abs(m-c)<g}function io(m){const c=Math.round(m);m=Ni(m,c,m/1e3)?c:m;const g=Math.pow(10,Math.floor(ai(m))),C=m/g;return(C<=1?1:C<=2?2:C<=5?5:10)*g}function Ht(m){return!isNaN(parseFloat(m))&&isFinite(m)}function ye(m,c,g){let C,I,M;for(C=0,I=m.length;C<I;C++)M=m[C][g],isNaN(M)||(c.min=Math.min(c.min,M),c.max=Math.max(c.max,M))}function He(m){return m*(qt/180)}function ut(m){return m*(180/qt)}function dn(m){if(!De(m))return;let c=1,g=0;for(;Math.round(m*c)/c!==m;)c*=10,g++;return g}function In(m,c){const g=c.x-m.x,C=c.y-m.y,I=Math.sqrt(g*g+C*C);let M=Math.atan2(C,g);return M<-.5*qt&&(M+=gn),{angle:M,distance:I}}function Rt(m,c){return Math.sqrt(Math.pow(c.x-m.x,2)+Math.pow(c.y-m.y,2))}function bn(m,c){return(m-c+Qt)%gn-qt}function yn(m){return(m%gn+gn)%gn}function Wn(m,c,g,C){const I=yn(m),M=yn(c),H=yn(g),te=yn(M-I),ge=yn(H-I),Me=yn(I-M),rt=yn(I-H);return I===M||I===H||C&&M===H||te>ge&&Me<rt}function ii(m,c,g){return Math.max(c,Math.min(g,m))}function ti(m,c,g,C=1e-6){return m>=Math.min(c,g)-C&&m<=Math.max(c,g)+C}function Di(m,c,g){g=g||(H=>m[H]<c);let M,C=m.length-1,I=0;for(;C-I>1;)M=I+C>>1,g(M)?I=M:C=M;return{lo:I,hi:C}}const qi=(m,c,g,C)=>Di(m,g,C?I=>{const M=m[I][c];return M<g||M===g&&m[I+1][c]===g}:I=>m[I][c]<g),Do=(m,c,g)=>Di(m,g,C=>m[C][c]>=g),Co=["push","pop","shift","splice","unshift"];function Wo(m,c){const g=m._chartjs;if(!g)return;const C=g.listeners,I=C.indexOf(c);-1!==I&&C.splice(I,1),!(C.length>0)&&(Co.forEach(M=>{delete m[M]}),delete m._chartjs)}function xo(m){const c=new Set(m);return c.size===m.length?m:Array.from(c)}const Xo="undefined"==typeof window?function(m){return m()}:window.requestAnimationFrame;function rs(m,c){let g=[],C=!1;return function(...I){g=I,C||(C=!0,Xo.call(window,()=>{C=!1,m.apply(c,g)}))}}const ho=m=>"start"===m?"left":"end"===m?"right":"center",oo=(m,c,g)=>"start"===m?c:"end"===m?g:(c+g)/2;function Mo(m,c,g){const C=c.length;let I=0,M=C;if(m._sorted){const{iScale:H,_parsed:te}=m,ge=H.axis,{min:Me,max:rt,minDefined:Tt,maxDefined:Zt}=H.getUserBounds();Tt&&(I=ii(Math.min(qi(te,ge,Me).lo,g?C:qi(c,ge,H.getPixelForValue(Me)).lo),0,C-1)),M=Zt?ii(Math.max(qi(te,H.axis,rt,!0).hi+1,g?0:qi(c,ge,H.getPixelForValue(rt),!0).hi+1),I,C)-I:C-I}return{start:I,count:M}}function es(m){const{xScale:c,yScale:g,_scaleRanges:C}=m,I={xmin:c.min,xmax:c.max,ymin:g.min,ymax:g.max};if(!C)return m._scaleRanges=I,!0;const M=C.xmin!==c.min||C.xmax!==c.max||C.ymin!==g.min||C.ymax!==g.max;return Object.assign(C,I),M}const vo=m=>0===m||1===m,qo=(m,c,g)=>-Math.pow(2,10*(m-=1))*Math.sin((m-c)*gn/g),Ls=(m,c,g)=>Math.pow(2,-10*m)*Math.sin((m-c)*gn/g)+1,ws={linear:m=>m,easeInQuad:m=>m*m,easeOutQuad:m=>-m*(m-2),easeInOutQuad:m=>(m/=.5)<1?.5*m*m:-.5*(--m*(m-2)-1),easeInCubic:m=>m*m*m,easeOutCubic:m=>(m-=1)*m*m+1,easeInOutCubic:m=>(m/=.5)<1?.5*m*m*m:.5*((m-=2)*m*m+2),easeInQuart:m=>m*m*m*m,easeOutQuart:m=>-((m-=1)*m*m*m-1),easeInOutQuart:m=>(m/=.5)<1?.5*m*m*m*m:-.5*((m-=2)*m*m*m-2),easeInQuint:m=>m*m*m*m*m,easeOutQuint:m=>(m-=1)*m*m*m*m+1,easeInOutQuint:m=>(m/=.5)<1?.5*m*m*m*m*m:.5*((m-=2)*m*m*m*m+2),easeInSine:m=>1-Math.cos(m*rn),easeOutSine:m=>Math.sin(m*rn),easeInOutSine:m=>-.5*(Math.cos(qt*m)-1),easeInExpo:m=>0===m?0:Math.pow(2,10*(m-1)),easeOutExpo:m=>1===m?1:1-Math.pow(2,-10*m),easeInOutExpo:m=>vo(m)?m:m<.5?.5*Math.pow(2,10*(2*m-1)):.5*(2-Math.pow(2,-10*(2*m-1))),easeInCirc:m=>m>=1?m:-(Math.sqrt(1-m*m)-1),easeOutCirc:m=>Math.sqrt(1-(m-=1)*m),easeInOutCirc:m=>(m/=.5)<1?-.5*(Math.sqrt(1-m*m)-1):.5*(Math.sqrt(1-(m-=2)*m)+1),easeInElastic:m=>vo(m)?m:qo(m,.075,.3),easeOutElastic:m=>vo(m)?m:Ls(m,.075,.3),easeInOutElastic:m=>vo(m)?m:m<.5?.5*qo(2*m,.1125,.45):.5+.5*Ls(2*m-1,.1125,.45),easeInBack:m=>m*m*(2.70158*m-1.70158),easeOutBack:m=>(m-=1)*m*(2.70158*m+1.70158)+1,easeInOutBack(m){let c=1.70158;return(m/=.5)<1?m*m*((1+(c*=1.525))*m-c)*.5:.5*((m-=2)*m*((1+(c*=1.525))*m+c)+2)},easeInBounce:m=>1-ws.easeOutBounce(1-m),easeOutBounce:m=>m<1/2.75?7.5625*m*m:m<2/2.75?7.5625*(m-=1.5/2.75)*m+.75:m<2.5/2.75?7.5625*(m-=2.25/2.75)*m+.9375:7.5625*(m-=2.625/2.75)*m+.984375,easeInOutBounce:m=>m<.5?.5*ws.easeInBounce(2*m):.5*ws.easeOutBounce(2*m-1)+.5};function Rs(m){if(m&&"object"==typeof m){const c=m.toString();return"[object CanvasPattern]"===c||"[object CanvasGradient]"===c}return!1}function as(m){return Rs(m)?m:new vt(m)}function Cr(m){return Rs(m)?m:new vt(m).saturate(.5).darken(.1).hexString()}const ga=["x","y","borderWidth","radius","tension"],vr=["color","borderColor","backgroundColor"],gs=new Map;function Ns(m,c,g){return function la(m,c){c=c||{};const g=m+JSON.stringify(c);let C=gs.get(g);return C||(C=new Intl.NumberFormat(m,c),gs.set(g,C)),C}(c,g).format(m)}const Wr={values:m=>at(m)?m:""+m,numeric(m,c,g){if(0===m)return"0";const C=this.chart.options.locale;let I,M=m;if(g.length>1){const Me=Math.max(Math.abs(g[0].value),Math.abs(g[g.length-1].value));(Me<1e-4||Me>1e15)&&(I="scientific"),M=function Mr(m,c){let g=c.length>3?c[2].value-c[1].value:c[1].value-c[0].value;return Math.abs(g)>=1&&m!==Math.floor(m)&&(g=m-Math.floor(m)),g}(m,g)}const H=ai(Math.abs(M)),te=isNaN(H)?1:Math.max(Math.min(-1*Math.floor(H),20),0),ge={notation:I,minimumFractionDigits:te,maximumFractionDigits:te};return Object.assign(ge,this.options.ticks.format),Ns(m,C,ge)},logarithmic(m,c,g){if(0===m)return"0";const C=g[c].significand||m/Math.pow(10,Math.floor(ai(m)));return[1,2,3,5,10,15].includes(C)||c>.8*g.length?Wr.numeric.call(this,m,c,g):""}};var so={formatters:Wr};const Ii=Object.create(null),Ks=Object.create(null);function yr(m,c){if(!c)return m;const g=c.split(".");for(let C=0,I=g.length;C<I;++C){const M=g[C];m=m[M]||(m[M]=Object.create(null))}return m}function ss(m,c,g){return"string"==typeof c?Fe(yr(m,c),g):Fe(yr(m,""),c)}class Or{constructor(c,g){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=C=>C.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(C,I)=>Cr(I.backgroundColor),this.hoverBorderColor=(C,I)=>Cr(I.borderColor),this.hoverColor=(C,I)=>Cr(I.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(c),this.apply(g)}set(c,g){return ss(this,c,g)}get(c){return yr(this,c)}describe(c,g){return ss(Ks,c,g)}override(c,g){return ss(Ii,c,g)}route(c,g,C,I){const M=yr(this,c),H=yr(this,C),te="_"+g;Object.defineProperties(M,{[te]:{value:M[g],writable:!0},[g]:{enumerable:!0,get(){const ge=this[te],Me=H[I];return me(ge)?Object.assign({},Me,ge):Ct(ge,Me)},set(ge){this[te]=ge}}})}apply(c){c.forEach(g=>g(this))}}var Zi=new Or({_scriptable:m=>!m.startsWith("on"),_indexable:m=>"events"!==m,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function br(m){m.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),m.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:c=>"onProgress"!==c&&"onComplete"!==c&&"fn"!==c}),m.set("animations",{colors:{type:"color",properties:vr},numbers:{type:"number",properties:ga}}),m.describe("animations",{_fallback:"animation"}),m.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:c=>0|c}}}})},function Da(m){m.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function si(m){m.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(c,g)=>g.lineWidth,tickColor:(c,g)=>g.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:so.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),m.route("scale.ticks","color","","color"),m.route("scale.grid","color","","borderColor"),m.route("scale.border","color","","borderColor"),m.route("scale.title","color","","color"),m.describe("scale",{_fallback:!1,_scriptable:c=>!c.startsWith("before")&&!c.startsWith("after")&&"callback"!==c&&"parser"!==c,_indexable:c=>"borderDash"!==c&&"tickBorderDash"!==c&&"dash"!==c}),m.describe("scales",{_fallback:"scale"}),m.describe("scale.ticks",{_scriptable:c=>"backdropPadding"!==c&&"callback"!==c,_indexable:c=>"backdropPadding"!==c})}]);function Fs(m,c,g,C,I){let M=c[I];return M||(M=c[I]=m.measureText(I).width,g.push(I)),M>C&&(C=M),C}function fs(m,c,g,C){let I=(C=C||{}).data=C.data||{},M=C.garbageCollect=C.garbageCollect||[];C.font!==c&&(I=C.data={},M=C.garbageCollect=[],C.font=c),m.save(),m.font=c;let H=0;const te=g.length;let ge,Me,rt,Tt,Zt;for(ge=0;ge<te;ge++)if(Tt=g[ge],null==Tt||at(Tt)){if(at(Tt))for(Me=0,rt=Tt.length;Me<rt;Me++)Zt=Tt[Me],null!=Zt&&!at(Zt)&&(H=Fs(m,I,M,H,Zt))}else H=Fs(m,I,M,H,Tt);m.restore();const tn=M.length/2;if(tn>g.length){for(ge=0;ge<tn;ge++)delete I[M[ge]];M.splice(0,tn)}return H}function qs(m,c,g){const C=m.currentDevicePixelRatio,I=0!==g?Math.max(g/2,.5):0;return Math.round((c-I)*C)/C+I}function $s(m,c){(c=c||m.getContext("2d")).save(),c.resetTransform(),c.clearRect(0,0,m.width,m.height),c.restore()}function go(m,c,g,C){Cs(m,c,g,C,null)}function Cs(m,c,g,C,I){let M,H,te,ge,Me,rt,Tt,Zt;const tn=c.pointStyle,mn=c.rotation,vn=c.radius;let xn=(mn||0)*Nt;if(tn&&"object"==typeof tn&&(M=tn.toString(),"[object HTMLImageElement]"===M||"[object HTMLCanvasElement]"===M))return m.save(),m.translate(g,C),m.rotate(xn),m.drawImage(tn,-tn.width/2,-tn.height/2,tn.width,tn.height),void m.restore();if(!(isNaN(vn)||vn<=0)){switch(m.beginPath(),tn){default:I?m.ellipse(g,C,I/2,vn,0,0,gn):m.arc(g,C,vn,0,gn),m.closePath();break;case"triangle":rt=I?I/2:vn,m.moveTo(g+Math.sin(xn)*rt,C-Math.cos(xn)*vn),xn+=Hn,m.lineTo(g+Math.sin(xn)*rt,C-Math.cos(xn)*vn),xn+=Hn,m.lineTo(g+Math.sin(xn)*rt,C-Math.cos(xn)*vn),m.closePath();break;case"rectRounded":Me=.516*vn,ge=vn-Me,H=Math.cos(xn+Bn)*ge,Tt=Math.cos(xn+Bn)*(I?I/2-Me:ge),te=Math.sin(xn+Bn)*ge,Zt=Math.sin(xn+Bn)*(I?I/2-Me:ge),m.arc(g-Tt,C-te,Me,xn-qt,xn-rn),m.arc(g+Zt,C-H,Me,xn-rn,xn),m.arc(g+Tt,C+te,Me,xn,xn+rn),m.arc(g-Zt,C+H,Me,xn+rn,xn+qt),m.closePath();break;case"rect":if(!mn){ge=Math.SQRT1_2*vn,rt=I?I/2:ge,m.rect(g-rt,C-ge,2*rt,2*ge);break}xn+=Bn;case"rectRot":Tt=Math.cos(xn)*(I?I/2:vn),H=Math.cos(xn)*vn,te=Math.sin(xn)*vn,Zt=Math.sin(xn)*(I?I/2:vn),m.moveTo(g-Tt,C-te),m.lineTo(g+Zt,C-H),m.lineTo(g+Tt,C+te),m.lineTo(g-Zt,C+H),m.closePath();break;case"crossRot":xn+=Bn;case"cross":Tt=Math.cos(xn)*(I?I/2:vn),H=Math.cos(xn)*vn,te=Math.sin(xn)*vn,Zt=Math.sin(xn)*(I?I/2:vn),m.moveTo(g-Tt,C-te),m.lineTo(g+Tt,C+te),m.moveTo(g+Zt,C-H),m.lineTo(g-Zt,C+H);break;case"star":Tt=Math.cos(xn)*(I?I/2:vn),H=Math.cos(xn)*vn,te=Math.sin(xn)*vn,Zt=Math.sin(xn)*(I?I/2:vn),m.moveTo(g-Tt,C-te),m.lineTo(g+Tt,C+te),m.moveTo(g+Zt,C-H),m.lineTo(g-Zt,C+H),xn+=Bn,Tt=Math.cos(xn)*(I?I/2:vn),H=Math.cos(xn)*vn,te=Math.sin(xn)*vn,Zt=Math.sin(xn)*(I?I/2:vn),m.moveTo(g-Tt,C-te),m.lineTo(g+Tt,C+te),m.moveTo(g+Zt,C-H),m.lineTo(g-Zt,C+H);break;case"line":H=I?I/2:Math.cos(xn)*vn,te=Math.sin(xn)*vn,m.moveTo(g-H,C-te),m.lineTo(g+H,C+te);break;case"dash":m.moveTo(g,C),m.lineTo(g+Math.cos(xn)*(I?I/2:vn),C+Math.sin(xn)*vn);break;case!1:m.closePath()}m.fill(),c.borderWidth>0&&m.stroke()}}function ls(m,c,g){return g=g||.5,!c||m&&m.x>c.left-g&&m.x<c.right+g&&m.y>c.top-g&&m.y<c.bottom+g}function vs(m,c){m.save(),m.beginPath(),m.rect(c.left,c.top,c.right-c.left,c.bottom-c.top),m.clip()}function bs(m){m.restore()}function ys(m,c,g,C,I){if(!c)return m.lineTo(g.x,g.y);if("middle"===I){const M=(c.x+g.x)/2;m.lineTo(M,c.y),m.lineTo(M,g.y)}else"after"===I!=!!C?m.lineTo(c.x,g.y):m.lineTo(g.x,c.y);m.lineTo(g.x,g.y)}function xr(m,c,g,C){if(!c)return m.lineTo(g.x,g.y);m.bezierCurveTo(C?c.cp1x:c.cp2x,C?c.cp1y:c.cp2y,C?g.cp2x:g.cp1x,C?g.cp2y:g.cp1y,g.x,g.y)}function Lr(m,c,g,C,I){if(I.strikethrough||I.underline){const M=m.measureText(C),H=c-M.actualBoundingBoxLeft,te=c+M.actualBoundingBoxRight,ge=g-M.actualBoundingBoxAscent,Me=g+M.actualBoundingBoxDescent,rt=I.strikethrough?(ge+Me)/2:Me;m.strokeStyle=m.fillStyle,m.beginPath(),m.lineWidth=I.decorationWidth||2,m.moveTo(H,rt),m.lineTo(te,rt),m.stroke()}}function ir(m,c){const g=m.fillStyle;m.fillStyle=c.color,m.fillRect(c.left,c.top,c.width,c.height),m.fillStyle=g}function xs(m,c,g,C,I,M={}){const H=at(c)?c:[c],te=M.strokeWidth>0&&""!==M.strokeColor;let ge,Me;for(m.save(),m.font=I.string,function Pr(m,c){c.translation&&m.translate(c.translation[0],c.translation[1]),ct(c.rotation)||m.rotate(c.rotation),c.color&&(m.fillStyle=c.color),c.textAlign&&(m.textAlign=c.textAlign),c.textBaseline&&(m.textBaseline=c.textBaseline)}(m,M),ge=0;ge<H.length;++ge)Me=H[ge],M.backdrop&&ir(m,M.backdrop),te&&(M.strokeColor&&(m.strokeStyle=M.strokeColor),ct(M.strokeWidth)||(m.lineWidth=M.strokeWidth),m.strokeText(Me,g,C,M.maxWidth)),m.fillText(Me,g,C,M.maxWidth),Lr(m,g,C,Me,M),C+=Number(I.lineHeight);m.restore()}function Yo(m,c){const{x:g,y:C,w:I,h:M,radius:H}=c;m.arc(g+H.topLeft,C+H.topLeft,H.topLeft,-rn,qt,!0),m.lineTo(g,C+M-H.bottomLeft),m.arc(g+H.bottomLeft,C+M-H.bottomLeft,H.bottomLeft,qt,rn,!0),m.lineTo(g+I-H.bottomRight,C+M),m.arc(g+I-H.bottomRight,C+M-H.bottomRight,H.bottomRight,rn,0,!0),m.lineTo(g+I,C+H.topRight),m.arc(g+I-H.topRight,C+H.topRight,H.topRight,0,-rn,!0),m.lineTo(g+H.topLeft,C)}const Ir=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Tr=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function At(m,c){const g=(""+m).match(Ir);if(!g||"normal"===g[1])return 1.2*c;switch(m=+g[2],g[3]){case"px":return m;case"%":m/=100}return c*m}const pn=m=>+m||0;function oe(m,c){const g={},C=me(c),I=C?Object.keys(c):c,M=me(m)?C?H=>Ct(m[H],m[c[H]]):H=>m[H]:()=>m;for(const H of I)g[H]=pn(M(H));return g}function Le(m){return oe(m,{top:"y",right:"x",bottom:"y",left:"x"})}function xt(m){return oe(m,["topLeft","topRight","bottomLeft","bottomRight"])}function Vt(m){const c=Le(m);return c.width=c.left+c.right,c.height=c.top+c.bottom,c}function Pn(m,c){let g=Ct((m=m||{}).size,(c=c||Zi.font).size);"string"==typeof g&&(g=parseInt(g,10));let C=Ct(m.style,c.style);C&&!(""+C).match(Tr)&&(console.warn('Invalid font style specified: "'+C+'"'),C=void 0);const I={family:Ct(m.family,c.family),lineHeight:At(Ct(m.lineHeight,c.lineHeight),g),size:g,style:C,weight:Ct(m.weight,c.weight),string:""};return I.string=function Gs(m){return!m||ct(m.size)||ct(m.family)?null:(m.style?m.style+" ":"")+(m.weight?m.weight+" ":"")+m.size+"px "+m.family}(I),I}function qn(m,c,g,C){let M,H,te,I=!0;for(M=0,H=m.length;M<H;++M)if(te=m[M],void 0!==te&&(void 0!==c&&"function"==typeof te&&(te=te(c),I=!1),void 0!==g&&at(te)&&(te=te[g%te.length],I=!1),void 0!==te))return C&&!I&&(C.cacheable=!1),te}function Hi(m,c){return Object.assign(Object.create(m),c)}function Fi(m,c=[""],g,C,I=(()=>m[0])){const M=g||m;void 0===C&&(C=fa("_fallback",m));const H={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:m,_rootScopes:M,_fallback:C,_getTarget:I,override:te=>Fi([te,...m],c,M,C)};return new Proxy(H,{deleteProperty:(te,ge)=>(delete te[ge],delete te._keys,delete m[0][ge],!0),get:(te,ge)=>Io(te,ge,()=>function sr(m,c,g,C){let I;for(const M of c)if(I=fa(Oo(M,m),g),void 0!==I)return Ar(m,I)?Vo(g,C,m,I):I}(ge,c,m,te)),getOwnPropertyDescriptor:(te,ge)=>Reflect.getOwnPropertyDescriptor(te._scopes[0],ge),getPrototypeOf:()=>Reflect.getPrototypeOf(m[0]),has:(te,ge)=>Qn(te).includes(ge),ownKeys:te=>Qn(te),set(te,ge,Me){const rt=te._storage||(te._storage=I());return te[ge]=rt[ge]=Me,delete te._keys,!0}})}function Si(m,c,g,C){const I={_cacheable:!1,_proxy:m,_context:c,_subProxy:g,_stack:new Set,_descriptors:cs(m,C),setContext:M=>Si(m,M,g,C),override:M=>Si(m.override(M),c,g,C)};return new Proxy(I,{deleteProperty:(M,H)=>(delete M[H],delete m[H],!0),get:(M,H,te)=>Io(M,H,()=>function Eo(m,c,g){const{_proxy:C,_context:I,_subProxy:M,_descriptors:H}=m;let te=C[c];return ze(te)&&H.isScriptable(c)&&(te=function Es(m,c,g,C){const{_proxy:I,_context:M,_subProxy:H,_stack:te}=g;if(te.has(m))throw new Error("Recursion detected: "+Array.from(te).join("->")+"->"+m);te.add(m);let ge=c(M,H||C);return te.delete(m),Ar(m,ge)&&(ge=Vo(I._scopes,I,m,ge)),ge}(c,te,m,g)),at(te)&&te.length&&(te=function Mi(m,c,g,C){const{_proxy:I,_context:M,_subProxy:H,_descriptors:te}=g;if(void 0!==M.index&&C(m))return c[M.index%c.length];if(me(c[0])){const ge=c,Me=I._scopes.filter(rt=>rt!==ge);c=[];for(const rt of ge){const Tt=Vo(Me,I,m,rt);c.push(Si(Tt,M,H&&H[m],te))}}return c}(c,te,m,H.isIndexable)),Ar(c,te)&&(te=Si(te,I,M&&M[c],H)),te}(M,H,te)),getOwnPropertyDescriptor:(M,H)=>M._descriptors.allKeys?Reflect.has(m,H)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(m,H),getPrototypeOf:()=>Reflect.getPrototypeOf(m),has:(M,H)=>Reflect.has(m,H),ownKeys:()=>Reflect.ownKeys(m),set:(M,H,te)=>(m[H]=te,delete M[H],!0)})}function cs(m,c={scriptable:!0,indexable:!0}){const{_scriptable:g=c.scriptable,_indexable:C=c.indexable,_allKeys:I=c.allKeys}=m;return{allKeys:I,scriptable:g,indexable:C,isScriptable:ze(g)?g:()=>g,isIndexable:ze(C)?C:()=>C}}const Oo=(m,c)=>m?m+de(c):c,Ar=(m,c)=>me(c)&&"adapters"!==m&&(null===Object.getPrototypeOf(c)||c.constructor===Object);function Io(m,c,g){if(Object.prototype.hasOwnProperty.call(m,c))return m[c];const C=g();return m[c]=C,C}function $o(m,c,g){return ze(m)?m(c,g):m}const Fo=(m,c)=>!0===m?c:"string"==typeof m?tt(c,m):void 0;function or(m,c,g,C,I){for(const M of c){const H=Fo(g,M);if(H){m.add(H);const te=$o(H._fallback,g,I);if(void 0!==te&&te!==g&&te!==C)return te}else if(!1===H&&void 0!==C&&g!==C)return null}return!1}function Vo(m,c,g,C){const I=c._rootScopes,M=$o(c._fallback,g,C),H=[...m,...I],te=new Set;te.add(C);let ge=Ao(te,H,g,M||g,C);return null!==ge&&(void 0===M||M===g||(ge=Ao(te,H,M,ge,C),null!==ge))&&Fi(Array.from(te),[""],I,M,()=>function Ri(m,c,g){const C=m._getTarget();c in C||(C[c]={});const I=C[c];return at(I)&&me(g)?g:I||{}}(c,g,C))}function Ao(m,c,g,C,I){for(;g;)g=or(m,c,g,C,I);return g}function fa(m,c){for(const g of c){if(!g)continue;const C=g[m];if(void 0!==C)return C}}function Qn(m){let c=m._keys;return c||(c=m._keys=function Oi(m){const c=new Set;for(const g of m)for(const C of Object.keys(g).filter(I=>!I.startsWith("_")))c.add(C);return Array.from(c)}(m._scopes)),c}function rr(m,c,g,C){const{iScale:I}=m,{key:M="r"}=this._parsing,H=new Array(C);let te,ge,Me,rt;for(te=0,ge=C;te<ge;++te)Me=te+g,rt=c[Me],H[te]={r:I.parse(tt(rt,M),Me)};return H}const Yr=Number.EPSILON||1e-14,Xi=(m,c)=>c<m.length&&!m[c].skip&&m[c],na=m=>"x"===m?"y":"x";function ar(m,c,g,C){const I=m.skip?c:m,M=c,H=g.skip?c:g,te=Rt(M,I),ge=Rt(H,M);let Me=te/(te+ge),rt=ge/(te+ge);Me=isNaN(Me)?0:Me,rt=isNaN(rt)?0:rt;const Tt=C*Me,Zt=C*rt;return{previous:{x:M.x-Tt*(H.x-I.x),y:M.y-Tt*(H.y-I.y)},next:{x:M.x+Zt*(H.x-I.x),y:M.y+Zt*(H.y-I.y)}}}function Bs(m,c,g){return Math.max(Math.min(m,g),c)}function nt(m,c,g,C,I){let M,H,te,ge;if(c.spanGaps&&(m=m.filter(Me=>!Me.skip)),"monotone"===c.cubicInterpolationMode)!function ms(m,c="x"){const g=na(c),C=m.length,I=Array(C).fill(0),M=Array(C);let H,te,ge,Me=Xi(m,0);for(H=0;H<C;++H)if(te=ge,ge=Me,Me=Xi(m,H+1),ge){if(Me){const rt=Me[c]-ge[c];I[H]=0!==rt?(Me[g]-ge[g])/rt:0}M[H]=te?Me?vi(I[H-1])!==vi(I[H])?0:(I[H-1]+I[H])/2:I[H-1]:I[H]}(function Ss(m,c,g){const C=m.length;let I,M,H,te,ge,Me=Xi(m,0);for(let rt=0;rt<C-1;++rt)if(ge=Me,Me=Xi(m,rt+1),ge&&Me){if(Ni(c[rt],0,Yr)){g[rt]=g[rt+1]=0;continue}I=g[rt]/c[rt],M=g[rt+1]/c[rt],te=Math.pow(I,2)+Math.pow(M,2),!(te<=9)&&(H=3/Math.sqrt(te),g[rt]=I*H*c[rt],g[rt+1]=M*H*c[rt])}})(m,I,M),function ca(m,c,g="x"){const C=na(g),I=m.length;let M,H,te,ge=Xi(m,0);for(let Me=0;Me<I;++Me){if(H=te,te=ge,ge=Xi(m,Me+1),!te)continue;const rt=te[g],Tt=te[C];H&&(M=(rt-H[g])/3,te[`cp1${g}`]=rt-M,te[`cp1${C}`]=Tt-M*c[Me]),ge&&(M=(ge[g]-rt)/3,te[`cp2${g}`]=rt+M,te[`cp2${C}`]=Tt+M*c[Me])}}(m,M,c)}(m,I);else{let Me=C?m[m.length-1]:m[0];for(M=0,H=m.length;M<H;++M)te=m[M],ge=ar(Me,te,m[Math.min(M+1,H-(C?0:1))%H],c.tension),te.cp1x=ge.previous.x,te.cp1y=ge.previous.y,te.cp2x=ge.next.x,te.cp2y=ge.next.y,Me=te}c.capBezierPoints&&function jr(m,c){let g,C,I,M,H,te=ls(m[0],c);for(g=0,C=m.length;g<C;++g)H=M,M=te,te=g<C-1&&ls(m[g+1],c),M&&(I=m[g],H&&(I.cp1x=Bs(I.cp1x,c.left,c.right),I.cp1y=Bs(I.cp1y,c.top,c.bottom)),te&&(I.cp2x=Bs(I.cp2x,c.left,c.right),I.cp2y=Bs(I.cp2y,c.top,c.bottom)))}(m,g)}function Ze(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Se(m){let c=m.parentNode;return c&&"[object ShadowRoot]"===c.toString()&&(c=c.host),c}function kt(m,c,g){let C;return"string"==typeof m?(C=parseInt(m,10),-1!==m.indexOf("%")&&(C=C/100*c.parentNode[g])):C=m,C}const Ln=m=>m.ownerDocument.defaultView.getComputedStyle(m,null),Gi=["top","right","bottom","left"];function bo(m,c,g){const C={};g=g?"-"+g:"";for(let I=0;I<4;I++){const M=Gi[I];C[M]=parseFloat(m[c+"-"+M+g])||0}return C.width=C.left+C.right,C.height=C.top+C.bottom,C}function Ws(m,c){if("native"in m)return m;const{canvas:g,currentDevicePixelRatio:C}=c,I=Ln(g),M="border-box"===I.boxSizing,H=bo(I,"padding"),te=bo(I,"border","width"),{x:ge,y:Me,box:rt}=function us(m,c){const g=m.touches,C=g&&g.length?g[0]:m,{offsetX:I,offsetY:M}=C;let te,ge,H=!1;if(((m,c,g)=>(m>0||c>0)&&(!g||!g.shadowRoot))(I,M,m.target))te=I,ge=M;else{const Me=c.getBoundingClientRect();te=C.clientX-Me.left,ge=C.clientY-Me.top,H=!0}return{x:te,y:ge,box:H}}(m,g),Tt=H.left+(rt&&te.left),Zt=H.top+(rt&&te.top);let{width:tn,height:mn}=c;return M&&(tn-=H.width+te.width,mn-=H.height+te.height),{x:Math.round((ge-Tt)/tn*g.width/C),y:Math.round((Me-Zt)/mn*g.height/C)}}const wr=m=>Math.round(10*m)/10;function Rr(m,c,g){const C=c||1,I=Math.floor(m.height*C),M=Math.floor(m.width*C);m.height=Math.floor(m.height),m.width=Math.floor(m.width);const H=m.canvas;return H.style&&(g||!H.style.height&&!H.style.width)&&(H.style.height=`${m.height}px`,H.style.width=`${m.width}px`),(m.currentDevicePixelRatio!==C||H.height!==I||H.width!==M)&&(m.currentDevicePixelRatio=C,H.height=I,H.width=M,m.ctx.setTransform(C,0,0,C,0,0),!0)}const Xs=function(){let m=!1;try{const c={get passive(){return m=!0,!1}};window.addEventListener("test",null,c),window.removeEventListener("test",null,c)}catch(c){}return m}();function Nr(m,c){const g=function fi(m,c){return Ln(m).getPropertyValue(c)}(m,c),C=g&&g.match(/^(\d+)(\.\d+)?px$/);return C?+C[1]:void 0}function cr(m,c,g,C){return{x:m.x+g*(c.x-m.x),y:m.y+g*(c.y-m.y)}}function ma(m,c,g,C){return{x:m.x+g*(c.x-m.x),y:"middle"===C?g<.5?m.y:c.y:"after"===C?g<1?m.y:c.y:g>0?c.y:m.y}}function Fa(m,c,g,C){const I={x:m.cp2x,y:m.cp2y},M={x:c.cp1x,y:c.cp1y},H=cr(m,I,g),te=cr(I,M,g),ge=cr(M,c,g),Me=cr(H,te,g),rt=cr(te,ge,g);return cr(Me,rt,g)}function pt(m,c,g){return m?function(m,c){return{x:g=>m+m+c-g,setWidth(g){c=g},textAlign:g=>"center"===g?g:"right"===g?"left":"right",xPlus:(g,C)=>g-C,leftForLtr:(g,C)=>g-C}}(c,g):{x:m=>m,setWidth(m){},textAlign:m=>m,xPlus:(m,c)=>m+c,leftForLtr:(m,c)=>m}}function Ve(m,c){let g,C;("ltr"===c||"rtl"===c)&&(g=m.canvas.style,C=[g.getPropertyValue("direction"),g.getPropertyPriority("direction")],g.setProperty("direction",c,"important"),m.prevTextDirection=C)}function St(m,c){void 0!==c&&(delete m.prevTextDirection,m.canvas.style.setProperty("direction",c[0],c[1]))}function on(m){return"angle"===m?{between:Wn,compare:bn,normalize:yn}:{between:ti,compare:(c,g)=>c-g,normalize:c=>c}}function Dn({start:m,end:c,count:g,loop:C,style:I}){return{start:m%g,end:c%g,loop:C&&(c-m+1)%g==0,style:I}}function ui(m,c,g){if(!g)return[m];const{property:C,start:I,end:M}=g,H=c.length,{compare:te,between:ge,normalize:Me}=on(C),{start:rt,end:Tt,loop:Zt,style:tn}=function Nn(m,c,g){const{property:C,start:I,end:M}=g,{between:H,normalize:te}=on(C),ge=c.length;let Zt,tn,{start:Me,end:rt,loop:Tt}=m;if(Tt){for(Me+=ge,rt+=ge,Zt=0,tn=ge;Zt<tn&&H(te(c[Me%ge][C]),I,M);++Zt)Me--,rt--;Me%=ge,rt%=ge}return rt<Me&&(rt+=ge),{start:Me,end:rt,loop:Tt,style:m.style}}(m,c,g),mn=[];let Zn,zn,Yn,vn=!1,xn=null;for(let hi=rt,ki=rt;hi<=Tt;++hi)zn=c[hi%H],!zn.skip&&(Zn=Me(zn[C]),Zn!==Yn&&(vn=ge(Zn,I,M),null===xn&&(vn||ge(I,Yn,Zn)&&0!==te(I,Yn))&&(xn=0===te(Zn,I)?hi:ki),null!==xn&&(!vn||0===te(M,Zn)||ge(M,Yn,Zn))&&(mn.push(Dn({start:xn,end:hi,loop:Zt,count:H,style:tn})),xn=null),ki=hi,Yn=Zn));return null!==xn&&mn.push(Dn({start:xn,end:Tt,loop:Zt,count:H,style:tn})),mn}function eo(m,c){const g=[],C=m.segments;for(let I=0;I<C.length;I++){const M=ui(C[I],m.points,c);M.length&&g.push(...M)}return g}function yo(m){return{backgroundColor:m.backgroundColor,borderCapStyle:m.borderCapStyle,borderDash:m.borderDash,borderDashOffset:m.borderDashOffset,borderJoinStyle:m.borderJoinStyle,borderWidth:m.borderWidth,borderColor:m.borderColor}}function jo(m,c){if(!c)return!1;const g=[],C=function(I,M){return Rs(M)?(g.includes(M)||g.push(M),g.indexOf(M)):M};return JSON.stringify(m,C)!==JSON.stringify(c,C)}class Zs{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(c,g,C,I){const H=g.duration;g.listeners[I].forEach(te=>te({chart:c,initial:g.initial,numSteps:H,currentStep:Math.min(C-g.start,H)}))}_refresh(){this._request||(this._running=!0,this._request=Xo.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(c=Date.now()){let g=0;this._charts.forEach((C,I)=>{if(!C.running||!C.items.length)return;const M=C.items;let ge,H=M.length-1,te=!1;for(;H>=0;--H)ge=M[H],ge._active?(ge._total>C.duration&&(C.duration=ge._total),ge.tick(c),te=!0):(M[H]=M[M.length-1],M.pop());te&&(I.draw(),this._notify(I,C,c,"progress")),M.length||(C.running=!1,this._notify(I,C,c,"complete"),C.initial=!1),g+=M.length}),this._lastDate=c,0===g&&(this._running=!1)}_getAnims(c){const g=this._charts;let C=g.get(c);return C||(C={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},g.set(c,C)),C}listen(c,g,C){this._getAnims(c).listeners[g].push(C)}add(c,g){!g||!g.length||this._getAnims(c).items.push(...g)}has(c){return this._getAnims(c).items.length>0}start(c){const g=this._charts.get(c);!g||(g.running=!0,g.start=Date.now(),g.duration=g.items.reduce((C,I)=>Math.max(C,I._duration),0),this._refresh())}running(c){if(!this._running)return!1;const g=this._charts.get(c);return!(!g||!g.running||!g.items.length)}stop(c){const g=this._charts.get(c);if(!g||!g.items.length)return;const C=g.items;let I=C.length-1;for(;I>=0;--I)C[I].cancel();g.items=[],this._notify(c,g,Date.now(),"complete")}remove(c){return this._charts.delete(c)}}var ds=new Zs;const ur="transparent",ft={boolean:(m,c,g)=>g>.5?c:m,color(m,c,g){const C=as(m||ur),I=C.valid&&as(c||ur);return I&&I.valid?I.mix(C,g).hexString():c},number:(m,c,g)=>m+(c-m)*g};class ae{constructor(c,g,C,I){const M=g[C];I=qn([c.to,I,M,c.from]);const H=qn([c.from,M,I]);this._active=!0,this._fn=c.fn||ft[c.type||typeof H],this._easing=ws[c.easing]||ws.linear,this._start=Math.floor(Date.now()+(c.delay||0)),this._duration=this._total=Math.floor(c.duration),this._loop=!!c.loop,this._target=g,this._prop=C,this._from=H,this._to=I,this._promises=void 0}active(){return this._active}update(c,g,C){if(this._active){this._notify(!1);const I=this._target[this._prop],M=C-this._start,H=this._duration-M;this._start=C,this._duration=Math.floor(Math.max(H,c.duration)),this._total+=M,this._loop=!!c.loop,this._to=qn([c.to,g,I,c.from]),this._from=qn([c.from,I,g])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(c){const g=c-this._start,C=this._duration,I=this._prop,M=this._from,H=this._loop,te=this._to;let ge;if(this._active=M!==te&&(H||g<C),!this._active)return this._target[I]=te,void this._notify(!0);g<0?this._target[I]=M:(ge=g/C%2,ge=H&&ge>1?2-ge:ge,ge=this._easing(Math.min(1,Math.max(0,ge))),this._target[I]=this._fn(M,te,ge))}wait(){const c=this._promises||(this._promises=[]);return new Promise((g,C)=>{c.push({res:g,rej:C})})}_notify(c){const g=c?"res":"rej",C=this._promises||[];for(let I=0;I<C.length;I++)C[I][g]()}}class pe{constructor(c,g){this._chart=c,this._properties=new Map,this.configure(g)}configure(c){if(!me(c))return;const g=Object.keys(Zi.animation),C=this._properties;Object.getOwnPropertyNames(c).forEach(I=>{const M=c[I];if(!me(M))return;const H={};for(const te of g)H[te]=M[te];(at(M.properties)&&M.properties||[I]).forEach(te=>{(te===I||!C.has(te))&&C.set(te,H)})})}_animateOptions(c,g){const C=g.options,I=function yt(m,c){if(!c)return;let g=m.options;if(g)return g.$shared&&(m.options=g=Object.assign({},g,{$shared:!1,$animations:{}})),g;m.options=c}(c,C);if(!I)return[];const M=this._createAnimations(I,C);return C.$shared&&function We(m,c){const g=[],C=Object.keys(c);for(let I=0;I<C.length;I++){const M=m[C[I]];M&&M.active()&&g.push(M.wait())}return Promise.all(g)}(c.options.$animations,C).then(()=>{c.options=C},()=>{}),M}_createAnimations(c,g){const C=this._properties,I=[],M=c.$animations||(c.$animations={}),H=Object.keys(g),te=Date.now();let ge;for(ge=H.length-1;ge>=0;--ge){const Me=H[ge];if("$"===Me.charAt(0))continue;if("options"===Me){I.push(...this._animateOptions(c,g));continue}const rt=g[Me];let Tt=M[Me];const Zt=C.get(Me);if(Tt){if(Zt&&Tt.active()){Tt.update(Zt,rt,te);continue}Tt.cancel()}Zt&&Zt.duration?(M[Me]=Tt=new ae(Zt,c,Me,rt),I.push(Tt)):c[Me]=rt}return I}update(c,g){if(0===this._properties.size)return void Object.assign(c,g);const C=this._createAnimations(c,g);return C.length?(ds.add(this._chart,C),!0):void 0}}function Jt(m,c){const g=m&&m.options||{},C=g.reverse,I=void 0===g.min?c:0,M=void 0===g.max?c:0;return{start:C?M:I,end:C?I:M}}function En(m,c){const g=[],C=m._getSortedDatasetMetas(c);let I,M;for(I=0,M=C.length;I<M;++I)g.push(C[I].index);return g}function Vn(m,c,g,C={}){const I=m.keys,M="single"===C.mode;let H,te,ge,Me;if(null!==c){for(H=0,te=I.length;H<te;++H){if(ge=+I[H],ge===g){if(C.all)continue;break}Me=m.values[ge],De(Me)&&(M||0===c||vi(c)===vi(Me))&&(c+=Me)}return c}}function Ne(m,c){const g=m&&m.options.stacked;return g||void 0===g&&void 0!==c.stack}function Lt(m,c,g){const C=m[c]||(m[c]={});return C[g]||(C[g]={})}function an(m,c,g,C){for(const I of c.getMatchingVisibleMetas(C).reverse()){const M=m[I.index];if(g&&M>0||!g&&M<0)return I.index}return null}function An(m,c){const{chart:g,_cachedMeta:C}=m,I=g._stacks||(g._stacks={}),{iScale:M,vScale:H,index:te}=C,ge=M.axis,Me=H.axis,rt=function Ue(m,c,g){return`${m.id}.${c.id}.${g.stack||g.type}`}(M,H,C),Tt=c.length;let Zt;for(let tn=0;tn<Tt;++tn){const mn=c[tn],{[ge]:vn,[Me]:xn}=mn;Zt=(mn._stacks||(mn._stacks={}))[Me]=Lt(I,rt,vn),Zt[te]=xn,Zt._top=an(Zt,H,!0,C.type),Zt._bottom=an(Zt,H,!1,C.type),(Zt._visualValues||(Zt._visualValues={}))[te]=xn}}function On(m,c){const g=m.scales;return Object.keys(g).filter(C=>g[C].axis===c).shift()}function Ai(m,c){const g=m.controller.index,C=m.vScale&&m.vScale.axis;if(C){c=c||m._parsed;for(const I of c){const M=I._stacks;if(!M||void 0===M[C]||void 0===M[C][g])return;delete M[C][g],void 0!==M[C]._visualValues&&void 0!==M[C]._visualValues[g]&&delete M[C]._visualValues[g]}}}const Wi=m=>"reset"===m||"none"===m,zo=(m,c)=>c?m:Object.assign({},m);class fo{constructor(c,g){this.chart=c,this._ctx=c.ctx,this.index=g,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const c=this._cachedMeta;this.configure(),this.linkScales(),c._stacked=Ne(c.vScale,c),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(c){this.index!==c&&Ai(this._cachedMeta),this.index=c}linkScales(){const c=this.chart,g=this._cachedMeta,C=this.getDataset(),I=(Tt,Zt,tn,mn)=>"x"===Tt?Zt:"r"===Tt?mn:tn,M=g.xAxisID=Ct(C.xAxisID,On(c,"x")),H=g.yAxisID=Ct(C.yAxisID,On(c,"y")),te=g.rAxisID=Ct(C.rAxisID,On(c,"r")),ge=g.indexAxis,Me=g.iAxisID=I(ge,M,H,te),rt=g.vAxisID=I(ge,H,M,te);g.xScale=this.getScaleForId(M),g.yScale=this.getScaleForId(H),g.rScale=this.getScaleForId(te),g.iScale=this.getScaleForId(Me),g.vScale=this.getScaleForId(rt)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(c){return this.chart.scales[c]}_getOtherScale(c){const g=this._cachedMeta;return c===g.iScale?g.vScale:g.iScale}reset(){this._update("reset")}_destroy(){const c=this._cachedMeta;this._data&&Wo(this._data,this),c._stacked&&Ai(c)}_dataCheck(){const c=this.getDataset(),g=c.data||(c.data=[]),C=this._data;if(me(g))this._data=function Yt(m){const c=Object.keys(m),g=new Array(c.length);let C,I,M;for(C=0,I=c.length;C<I;++C)M=c[C],g[C]={x:M,y:m[M]};return g}(g);else if(C!==g){if(C){Wo(C,this);const I=this._cachedMeta;Ai(I),I._parsed=[]}g&&Object.isExtensible(g)&&function Go(m,c){m._chartjs?m._chartjs.listeners.push(c):(Object.defineProperty(m,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[c]}}),Co.forEach(g=>{const C="_onData"+de(g),I=m[g];Object.defineProperty(m,g,{configurable:!0,enumerable:!1,value(...M){const H=I.apply(this,M);return m._chartjs.listeners.forEach(te=>{"function"==typeof te[C]&&te[C](...M)}),H}})}))}(g,this),this._syncList=[],this._data=g}}addElements(){const c=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(c.dataset=new this.datasetElementType)}buildOrUpdateElements(c){const g=this._cachedMeta,C=this.getDataset();let I=!1;this._dataCheck();const M=g._stacked;g._stacked=Ne(g.vScale,g),g.stack!==C.stack&&(I=!0,Ai(g),g.stack=C.stack),this._resyncElements(c),(I||M!==g._stacked)&&An(this,g._parsed)}configure(){const c=this.chart.config,g=c.datasetScopeKeys(this._type),C=c.getOptionScopes(this.getDataset(),g,!0);this.options=c.createResolver(C,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(c,g){const{_cachedMeta:C,_data:I}=this,{iScale:M,_stacked:H}=C,te=M.axis;let rt,Tt,Zt,ge=0===c&&g===I.length||C._sorted,Me=c>0&&C._parsed[c-1];if(!1===this._parsing)C._parsed=I,C._sorted=!0,Zt=I;else{Zt=at(I[c])?this.parseArrayData(C,I,c,g):me(I[c])?this.parseObjectData(C,I,c,g):this.parsePrimitiveData(C,I,c,g);const tn=()=>null===Tt[te]||Me&&Tt[te]<Me[te];for(rt=0;rt<g;++rt)C._parsed[rt+c]=Tt=Zt[rt],ge&&(tn()&&(ge=!1),Me=Tt);C._sorted=ge}H&&An(this,Zt)}parsePrimitiveData(c,g,C,I){const{iScale:M,vScale:H}=c,te=M.axis,ge=H.axis,Me=M.getLabels(),rt=M===H,Tt=new Array(I);let Zt,tn,mn;for(Zt=0,tn=I;Zt<tn;++Zt)mn=Zt+C,Tt[Zt]={[te]:rt||M.parse(Me[mn],mn),[ge]:H.parse(g[mn],mn)};return Tt}parseArrayData(c,g,C,I){const{xScale:M,yScale:H}=c,te=new Array(I);let ge,Me,rt,Tt;for(ge=0,Me=I;ge<Me;++ge)rt=ge+C,Tt=g[rt],te[ge]={x:M.parse(Tt[0],rt),y:H.parse(Tt[1],rt)};return te}parseObjectData(c,g,C,I){const{xScale:M,yScale:H}=c,{xAxisKey:te="x",yAxisKey:ge="y"}=this._parsing,Me=new Array(I);let rt,Tt,Zt,tn;for(rt=0,Tt=I;rt<Tt;++rt)Zt=rt+C,tn=g[Zt],Me[rt]={x:M.parse(tt(tn,te),Zt),y:H.parse(tt(tn,ge),Zt)};return Me}getParsed(c){return this._cachedMeta._parsed[c]}getDataElement(c){return this._cachedMeta.data[c]}applyStack(c,g,C){const M=this._cachedMeta,H=g[c.axis];return Vn({keys:En(this.chart,!0),values:g._stacks[c.axis]._visualValues},H,M.index,{mode:C})}updateRangeFromParsed(c,g,C,I){const M=C[g.axis];let H=null===M?NaN:M;const te=I&&C._stacks[g.axis];I&&te&&(I.values=te,H=Vn(I,M,this._cachedMeta.index)),c.min=Math.min(c.min,H),c.max=Math.max(c.max,H)}getMinMax(c,g){const C=this._cachedMeta,I=C._parsed,M=C._sorted&&c===C.iScale,H=I.length,te=this._getOtherScale(c),ge=((m,c,g)=>m&&!c.hidden&&c._stacked&&{keys:En(this.chart,!0),values:null})(g,C),Me={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:rt,max:Tt}=function mt(m){const{min:c,max:g,minDefined:C,maxDefined:I}=m.getUserBounds();return{min:C?c:Number.NEGATIVE_INFINITY,max:I?g:Number.POSITIVE_INFINITY}}(te);let Zt,tn;function mn(){tn=I[Zt];const vn=tn[te.axis];return!De(tn[c.axis])||rt>vn||Tt<vn}for(Zt=0;Zt<H&&(mn()||(this.updateRangeFromParsed(Me,c,tn,ge),!M));++Zt);if(M)for(Zt=H-1;Zt>=0;--Zt)if(!mn()){this.updateRangeFromParsed(Me,c,tn,ge);break}return Me}getAllParsedValues(c){const g=this._cachedMeta._parsed,C=[];let I,M,H;for(I=0,M=g.length;I<M;++I)H=g[I][c.axis],De(H)&&C.push(H);return C}getMaxOverflow(){return!1}getLabelAndValue(c){const g=this._cachedMeta,C=g.iScale,I=g.vScale,M=this.getParsed(c);return{label:C?""+C.getLabelForValue(M[C.axis]):"",value:I?""+I.getLabelForValue(M[I.axis]):""}}_update(c){const g=this._cachedMeta;this.update(c||"default"),g._clip=function _n(m){let c,g,C,I;return me(m)?(c=m.top,g=m.right,C=m.bottom,I=m.left):c=g=C=I=m,{top:c,right:g,bottom:C,left:I,disabled:!1===m}}(Ct(this.options.clip,function un(m,c,g){if(!1===g)return!1;const C=Jt(m,g),I=Jt(c,g);return{top:I.end,right:C.end,bottom:I.start,left:C.start}}(g.xScale,g.yScale,this.getMaxOverflow())))}update(c){}draw(){const c=this._ctx,C=this._cachedMeta,I=C.data||[],M=this.chart.chartArea,H=[],te=this._drawStart||0,ge=this._drawCount||I.length-te,Me=this.options.drawActiveElementsOnTop;let rt;for(C.dataset&&C.dataset.draw(c,M,te,ge),rt=te;rt<te+ge;++rt){const Tt=I[rt];Tt.hidden||(Tt.active&&Me?H.push(Tt):Tt.draw(c,M))}for(rt=0;rt<H.length;++rt)H[rt].draw(c,M)}getStyle(c,g){const C=g?"active":"default";return void 0===c&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(C):this.resolveDataElementOptions(c||0,C)}getContext(c,g,C){const I=this.getDataset();let M;if(c>=0&&c<this._cachedMeta.data.length){const H=this._cachedMeta.data[c];M=H.$context||(H.$context=function ni(m,c,g){return Hi(m,{active:!1,dataIndex:c,parsed:void 0,raw:void 0,element:g,index:c,mode:"default",type:"data"})}(this.getContext(),c,H)),M.parsed=this.getParsed(c),M.raw=I.data[c],M.index=M.dataIndex=c}else M=this.$context||(this.$context=function $n(m,c){return Hi(m,{active:!1,dataset:void 0,datasetIndex:c,index:c,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),M.dataset=I,M.index=M.datasetIndex=this.index;return M.active=!!g,M.mode=C,M}resolveDatasetElementOptions(c){return this._resolveElementOptions(this.datasetElementType.id,c)}resolveDataElementOptions(c,g){return this._resolveElementOptions(this.dataElementType.id,g,c)}_resolveElementOptions(c,g="default",C){const I="active"===g,M=this._cachedDataOpts,H=c+"-"+g,te=M[H],ge=this.enableOptionSharing&&Qe(C);if(te)return zo(te,ge);const Me=this.chart.config,rt=Me.datasetElementScopeKeys(this._type,c),Tt=I?[`${c}Hover`,"hover",c,""]:[c,""],Zt=Me.getOptionScopes(this.getDataset(),rt),tn=Object.keys(Zi.elements[c]),vn=Me.resolveNamedOptions(Zt,tn,()=>this.getContext(C,I,g),Tt);return vn.$shared&&(vn.$shared=ge,M[H]=Object.freeze(zo(vn,ge))),vn}_resolveAnimations(c,g,C){const I=this.chart,M=this._cachedDataOpts,H=`animation-${g}`,te=M[H];if(te)return te;let ge;if(!1!==I.options.animation){const rt=this.chart.config,Tt=rt.datasetAnimationScopeKeys(this._type,g),Zt=rt.getOptionScopes(this.getDataset(),Tt);ge=rt.createResolver(Zt,this.getContext(c,C,g))}const Me=new pe(I,ge&&ge.animations);return ge&&ge._cacheable&&(M[H]=Object.freeze(Me)),Me}getSharedOptions(c){if(c.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},c))}includeOptions(c,g){return!g||Wi(c)||this.chart._animationsDisabled}_getSharedOptions(c,g){const C=this.resolveDataElementOptions(c,g),I=this._sharedOptions,M=this.getSharedOptions(C),H=this.includeOptions(g,M)||M!==I;return this.updateSharedOptions(M,g,C),{sharedOptions:M,includeOptions:H}}updateElement(c,g,C,I){Wi(I)?Object.assign(c,C):this._resolveAnimations(g,I).update(c,C)}updateSharedOptions(c,g,C){c&&!Wi(g)&&this._resolveAnimations(void 0,g).update(c,C)}_setStyle(c,g,C,I){c.active=I;const M=this.getStyle(g,I);this._resolveAnimations(g,C,I).update(c,{options:!I&&this.getSharedOptions(M)||M})}removeHoverStyle(c,g,C){this._setStyle(c,C,"active",!1)}setHoverStyle(c,g,C){this._setStyle(c,C,"active",!0)}_removeDatasetHoverStyle(){const c=this._cachedMeta.dataset;c&&this._setStyle(c,void 0,"active",!1)}_setDatasetHoverStyle(){const c=this._cachedMeta.dataset;c&&this._setStyle(c,void 0,"active",!0)}_resyncElements(c){const g=this._data,C=this._cachedMeta.data;for(const[te,ge,Me]of this._syncList)this[te](ge,Me);this._syncList=[];const I=C.length,M=g.length,H=Math.min(M,I);H&&this.parse(0,H),M>I?this._insertElements(I,M-I,c):M<I&&this._removeElements(M,I-M)}_insertElements(c,g,C=!0){const I=this._cachedMeta,M=I.data,H=c+g;let te;const ge=Me=>{for(Me.length+=g,te=Me.length-1;te>=H;te--)Me[te]=Me[te-g]};for(ge(M),te=c;te<H;++te)M[te]=new this.dataElementType;this._parsing&&ge(I._parsed),this.parse(c,g),C&&this.updateElements(M,c,g,"reset")}updateElements(c,g,C,I){}_removeElements(c,g){const C=this._cachedMeta;if(this._parsing){const I=C._parsed.splice(c,g);C._stacked&&Ai(C,I)}C.data.splice(c,g)}_sync(c){if(this._parsing)this._syncList.push(c);else{const[g,C,I]=c;this[g](C,I)}this.chart._dataChanges.push([this.index,...c])}_onDataPush(){const c=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-c,c])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(c,g){g&&this._sync(["_removeElements",c,g]);const C=arguments.length-2;C&&this._sync(["_insertElements",c,C])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Lo(m){const c=m.iScale,g=function Bo(m,c){if(!m._cache.$bar){const g=m.getMatchingVisibleMetas(c);let C=[];for(let I=0,M=g.length;I<M;I++)C=C.concat(g[I].controller.getAllParsedValues(m));m._cache.$bar=xo(C.sort((I,M)=>I-M))}return m._cache.$bar}(c,m.type);let I,M,H,te,C=c._length;const ge=()=>{32767===H||-32768===H||(Qe(te)&&(C=Math.min(C,Math.abs(H-te)||C)),te=H)};for(I=0,M=g.length;I<M;++I)H=c.getPixelForValue(g[I]),ge();for(te=void 0,I=0,M=c.ticks.length;I<M;++I)H=c.getPixelForTick(I),ge();return C}function Us(m,c,g,C){return at(m)?function Fr(m,c,g,C){const I=g.parse(m[0],C),M=g.parse(m[1],C),H=Math.min(I,M),te=Math.max(I,M);let ge=H,Me=te;Math.abs(H)>Math.abs(te)&&(ge=te,Me=H),c[g.axis]=Me,c._custom={barStart:ge,barEnd:Me,start:I,end:M,min:H,max:te}}(m,c,g,C):c[g.axis]=g.parse(m,C),c}function Ma(m,c,g,C){const I=m.iScale,M=m.vScale,H=I.getLabels(),te=I===M,ge=[];let Me,rt,Tt,Zt;for(Me=g,rt=g+C;Me<rt;++Me)Zt=c[Me],Tt={},Tt[I.axis]=te||I.parse(H[Me],Me),ge.push(Us(Zt,Tt,M,Me));return ge}function xi(m){return m&&void 0!==m.barStart&&void 0!==m.barEnd}function to(m,c,g,C){let I=c.borderSkipped;const M={};if(!I)return void(m.borderSkipped=M);if(!0===I)return void(m.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:H,end:te,reverse:ge,top:Me,bottom:rt}=function Pi(m){let c,g,C,I,M;return m.horizontal?(c=m.base>m.x,g="left",C="right"):(c=m.base<m.y,g="bottom",C="top"),c?(I="end",M="start"):(I="start",M="end"),{start:g,end:C,reverse:c,top:I,bottom:M}}(m);"middle"===I&&g&&(m.enableBorderRadius=!0,(g._top||0)===C?I=Me:(g._bottom||0)===C?I=rt:(M[Qo(rt,H,te,ge)]=!0,I=Me)),M[Qo(I,H,te,ge)]=!0,m.borderSkipped=M}function Qo(m,c,g,C){return C?(m=function Ro(m,c,g){return m===c?g:m===g?c:m}(m,c,g),m=ks(m,g,c)):m=ks(m,c,g),m}function ks(m,c,g){return"start"===m?c:"end"===m?g:m}function pr(m,{inflateAmount:c},g){m.inflateAmount="auto"===c?1===g?.33:0:c}Ci(fo,"defaults",{}),Ci(fo,"datasetElementType",null),Ci(fo,"dataElementType",null);class To extends fo{parsePrimitiveData(c,g,C,I){return Ma(c,g,C,I)}parseArrayData(c,g,C,I){return Ma(c,g,C,I)}parseObjectData(c,g,C,I){const{iScale:M,vScale:H}=c,{xAxisKey:te="x",yAxisKey:ge="y"}=this._parsing,Me="x"===M.axis?te:ge,rt="x"===H.axis?te:ge,Tt=[];let Zt,tn,mn,vn;for(Zt=C,tn=C+I;Zt<tn;++Zt)vn=g[Zt],mn={},mn[M.axis]=M.parse(tt(vn,Me),Zt),Tt.push(Us(tt(vn,rt),mn,H,Zt));return Tt}updateRangeFromParsed(c,g,C,I){super.updateRangeFromParsed(c,g,C,I);const M=C._custom;M&&g===this._cachedMeta.vScale&&(c.min=Math.min(c.min,M.min),c.max=Math.max(c.max,M.max))}getMaxOverflow(){return 0}getLabelAndValue(c){const g=this._cachedMeta,{iScale:C,vScale:I}=g,M=this.getParsed(c),H=M._custom,te=xi(H)?"["+H.start+", "+H.end+"]":""+I.getLabelForValue(M[I.axis]);return{label:""+C.getLabelForValue(M[C.axis]),value:te}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(c){const g=this._cachedMeta;this.updateElements(g.data,0,g.data.length,c)}updateElements(c,g,C,I){const M="reset"===I,{index:H,_cachedMeta:{vScale:te}}=this,ge=te.getBasePixel(),Me=te.isHorizontal(),rt=this._getRuler(),{sharedOptions:Tt,includeOptions:Zt}=this._getSharedOptions(g,I);for(let tn=g;tn<g+C;tn++){const mn=this.getParsed(tn),vn=M||ct(mn[te.axis])?{base:ge,head:ge}:this._calculateBarValuePixels(tn),xn=this._calculateBarIndexPixels(tn,rt),Zn=(mn._stacks||{})[te.axis],zn={horizontal:Me,base:vn.base,enableBorderRadius:!Zn||xi(mn._custom)||H===Zn._top||H===Zn._bottom,x:Me?vn.head:xn.center,y:Me?xn.center:vn.head,height:Me?xn.size:Math.abs(vn.size),width:Me?Math.abs(vn.size):xn.size};Zt&&(zn.options=Tt||this.resolveDataElementOptions(tn,c[tn].active?"active":I));const Yn=zn.options||c[tn].options;to(zn,Yn,Zn,H),pr(zn,Yn,rt.ratio),this.updateElement(c[tn],tn,zn,I)}}_getStacks(c,g){const{iScale:C}=this._cachedMeta,I=C.getMatchingVisibleMetas(this._type).filter(ge=>ge.controller.options.grouped),M=C.options.stacked,H=[],te=ge=>{const Me=ge.controller.getParsed(g),rt=Me&&Me[ge.vScale.axis];if(ct(rt)||isNaN(rt))return!0};for(const ge of I)if((void 0===g||!te(ge))&&((!1===M||-1===H.indexOf(ge.stack)||void 0===M&&void 0===ge.stack)&&H.push(ge.stack),ge.index===c))break;return H.length||H.push(void 0),H}_getStackCount(c){return this._getStacks(void 0,c).length}_getStackIndex(c,g,C){const I=this._getStacks(c,C),M=void 0!==g?I.indexOf(g):-1;return-1===M?I.length-1:M}_getRuler(){const c=this.options,g=this._cachedMeta,C=g.iScale,I=[];let M,H;for(M=0,H=g.data.length;M<H;++M)I.push(C.getPixelForValue(this.getParsed(M)[C.axis],M));const te=c.barThickness;return{min:te||Lo(g),pixels:I,start:C._startPixel,end:C._endPixel,stackCount:this._getStackCount(),scale:C,grouped:c.grouped,ratio:te?1:c.categoryPercentage*c.barPercentage}}_calculateBarValuePixels(c){const{_cachedMeta:{vScale:g,_stacked:C,index:I},options:{base:M,minBarLength:H}}=this,te=M||0,ge=this.getParsed(c),Me=ge._custom,rt=xi(Me);let mn,vn,Tt=ge[g.axis],Zt=0,tn=C?this.applyStack(g,ge,C):Tt;tn!==Tt&&(Zt=tn-Tt,tn=Tt),rt&&(Tt=Me.barStart,tn=Me.barEnd-Me.barStart,0!==Tt&&vi(Tt)!==vi(Me.barEnd)&&(Zt=0),Zt+=Tt);const xn=ct(M)||rt?Zt:M;let Zn=g.getPixelForValue(xn);if(mn=this.chart.getDataVisibility(c)?g.getPixelForValue(Zt+tn):Zn,vn=mn-Zn,Math.abs(vn)<H){vn=function wi(m,c,g){return 0!==m?vi(m):(c.isHorizontal()?1:-1)*(c.min>=g?1:-1)}(vn,g,te)*H,Tt===te&&(Zn-=vn/2);const zn=g.getPixelForDecimal(0),Yn=g.getPixelForDecimal(1),ei=Math.min(zn,Yn),Gn=Math.max(zn,Yn);Zn=Math.max(Math.min(Zn,Gn),ei),mn=Zn+vn,C&&!rt&&(ge._stacks[g.axis]._visualValues[I]=g.getValueForPixel(mn)-g.getValueForPixel(Zn))}if(Zn===g.getPixelForValue(te)){const zn=vi(vn)*g.getLineWidthForValue(te)/2;Zn+=zn,vn-=zn}return{size:vn,base:Zn,head:mn,center:mn+vn/2}}_calculateBarIndexPixels(c,g){const C=g.scale,I=this.options,M=I.skipNull,H=Ct(I.maxBarThickness,1/0);let te,ge;if(g.grouped){const Me=M?this._getStackCount(c):g.stackCount,rt="flex"===I.barThickness?function Kr(m,c,g,C){const I=c.pixels,M=I[m];let H=m>0?I[m-1]:null,te=m<I.length-1?I[m+1]:null;const ge=g.categoryPercentage;null===H&&(H=M-(null===te?c.end-c.start:te-M)),null===te&&(te=M+M-H);const Me=M-(M-Math.min(H,te))/2*ge;return{chunk:Math.abs(te-H)/2*ge/C,ratio:g.barPercentage,start:Me}}(c,g,I,Me):function dr(m,c,g,C){const I=g.barThickness;let M,H;return ct(I)?(M=c.min*g.categoryPercentage,H=g.barPercentage):(M=I*C,H=1),{chunk:M/C,ratio:H,start:c.pixels[m]-M/2}}(c,g,I,Me),Tt=this._getStackIndex(this.index,this._cachedMeta.stack,M?c:void 0);te=rt.start+rt.chunk*Tt+rt.chunk/2,ge=Math.min(H,rt.chunk*rt.ratio)}else te=C.getPixelForValue(this.getParsed(c)[C.axis],c),ge=Math.min(H,g.min*g.ratio);return{base:te-ge/2,head:te+ge/2,center:te,size:ge}}draw(){const c=this._cachedMeta,g=c.vScale,C=c.data,I=C.length;let M=0;for(;M<I;++M)null!==this.getParsed(M)[g.axis]&&C[M].draw(this._ctx)}}Ci(To,"id","bar"),Ci(To,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ci(To,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class qr extends fo{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(c,g,C,I){const M=super.parsePrimitiveData(c,g,C,I);for(let H=0;H<M.length;H++)M[H]._custom=this.resolveDataElementOptions(H+C).radius;return M}parseArrayData(c,g,C,I){const M=super.parseArrayData(c,g,C,I);for(let H=0;H<M.length;H++)M[H]._custom=Ct(g[C+H][2],this.resolveDataElementOptions(H+C).radius);return M}parseObjectData(c,g,C,I){const M=super.parseObjectData(c,g,C,I);for(let H=0;H<M.length;H++){const te=g[C+H];M[H]._custom=Ct(te&&te.r&&+te.r,this.resolveDataElementOptions(H+C).radius)}return M}getMaxOverflow(){const c=this._cachedMeta.data;let g=0;for(let C=c.length-1;C>=0;--C)g=Math.max(g,c[C].size(this.resolveDataElementOptions(C))/2);return g>0&&g}getLabelAndValue(c){const g=this._cachedMeta,C=this.chart.data.labels||[],{xScale:I,yScale:M}=g,H=this.getParsed(c),te=I.getLabelForValue(H.x),ge=M.getLabelForValue(H.y),Me=H._custom;return{label:C[c]||"",value:"("+te+", "+ge+(Me?", "+Me:"")+")"}}update(c){const g=this._cachedMeta.data;this.updateElements(g,0,g.length,c)}updateElements(c,g,C,I){const M="reset"===I,{iScale:H,vScale:te}=this._cachedMeta,{sharedOptions:ge,includeOptions:Me}=this._getSharedOptions(g,I),rt=H.axis,Tt=te.axis;for(let Zt=g;Zt<g+C;Zt++){const tn=c[Zt],mn=!M&&this.getParsed(Zt),vn={},xn=vn[rt]=M?H.getPixelForDecimal(.5):H.getPixelForValue(mn[rt]),Zn=vn[Tt]=M?te.getBasePixel():te.getPixelForValue(mn[Tt]);vn.skip=isNaN(xn)||isNaN(Zn),Me&&(vn.options=ge||this.resolveDataElementOptions(Zt,tn.active?"active":I),M&&(vn.options.radius=0)),this.updateElement(tn,Zt,vn,I)}}resolveDataElementOptions(c,g){const C=this.getParsed(c);let I=super.resolveDataElementOptions(c,g);I.$shared&&(I=Object.assign({},I,{$shared:!1}));const M=I.radius;return"active"!==g&&(I.radius=0),I.radius+=Ct(C&&C._custom,M),I}}Ci(qr,"id","bubble"),Ci(qr,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Ci(qr,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class No extends fo{constructor(c,g){super(c,g),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(c,g){const C=this.getDataset().data,I=this._cachedMeta;if(!1===this._parsing)I._parsed=C;else{let H,te,M=ge=>+C[ge];if(me(C[c])){const{key:ge="value"}=this._parsing;M=Me=>+tt(C[Me],ge)}for(H=c,te=c+g;H<te;++H)I._parsed[H]=M(H)}}_getRotation(){return He(this.options.rotation-90)}_getCircumference(){return He(this.options.circumference)}_getRotationExtents(){let c=gn,g=-gn;for(let C=0;C<this.chart.data.datasets.length;++C)if(this.chart.isDatasetVisible(C)&&this.chart.getDatasetMeta(C).type===this._type){const I=this.chart.getDatasetMeta(C).controller,M=I._getRotation(),H=I._getCircumference();c=Math.min(c,M),g=Math.max(g,M+H)}return{rotation:c,circumference:g-c}}update(c){const g=this.chart,{chartArea:C}=g,I=this._cachedMeta,M=I.data,H=this.getMaxBorderWidth()+this.getMaxOffset(M)+this.options.spacing,te=Math.max((Math.min(C.width,C.height)-H)/2,0),ge=Math.min(((m,c)=>"string"==typeof m&&m.endsWith("%")?parseFloat(m)/100:+m/c)(this.options.cutout,te),1),Me=this._getRingWeight(this.index),{circumference:rt,rotation:Tt}=this._getRotationExtents(),{ratioX:Zt,ratioY:tn,offsetX:mn,offsetY:vn}=function pl(m,c,g){let C=1,I=1,M=0,H=0;if(c<gn){const te=m,ge=te+c,Me=Math.cos(te),rt=Math.sin(te),Tt=Math.cos(ge),Zt=Math.sin(ge),tn=(Yn,ei,Gn)=>Wn(Yn,te,ge,!0)?1:Math.max(ei,ei*g,Gn,Gn*g),mn=(Yn,ei,Gn)=>Wn(Yn,te,ge,!0)?-1:Math.min(ei,ei*g,Gn,Gn*g),vn=tn(0,Me,Tt),xn=tn(rn,rt,Zt),Zn=mn(qt,Me,Tt),zn=mn(qt+rn,rt,Zt);C=(vn-Zn)/2,I=(xn-zn)/2,M=-(vn+Zn)/2,H=-(xn+zn)/2}return{ratioX:C,ratioY:I,offsetX:M,offsetY:H}}(Tt,rt,ge),zn=Math.max(Math.min((C.width-H)/Zt,(C.height-H)/tn)/2,0),Yn=Ft(this.options.radius,zn),Gn=(Yn-Math.max(Yn*ge,0))/this._getVisibleDatasetWeightTotal();this.offsetX=mn*Yn,this.offsetY=vn*Yn,I.total=this.calculateTotal(),this.outerRadius=Yn-Gn*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Gn*Me,0),this.updateElements(M,0,M.length,c)}_circumference(c,g){const C=this.options,I=this._cachedMeta,M=this._getCircumference();return g&&C.animation.animateRotate||!this.chart.getDataVisibility(c)||null===I._parsed[c]||I.data[c].hidden?0:this.calculateCircumference(I._parsed[c]*M/gn)}updateElements(c,g,C,I){const M="reset"===I,H=this.chart,te=H.chartArea,rt=(te.left+te.right)/2,Tt=(te.top+te.bottom)/2,Zt=M&&H.options.animation.animateScale,tn=Zt?0:this.innerRadius,mn=Zt?0:this.outerRadius,{sharedOptions:vn,includeOptions:xn}=this._getSharedOptions(g,I);let zn,Zn=this._getRotation();for(zn=0;zn<g;++zn)Zn+=this._circumference(zn,M);for(zn=g;zn<g+C;++zn){const Yn=this._circumference(zn,M),ei=c[zn],Gn={x:rt+this.offsetX,y:Tt+this.offsetY,startAngle:Zn,endAngle:Zn+Yn,circumference:Yn,outerRadius:mn,innerRadius:tn};xn&&(Gn.options=vn||this.resolveDataElementOptions(zn,ei.active?"active":I)),Zn+=Yn,this.updateElement(ei,zn,Gn,I)}}calculateTotal(){const c=this._cachedMeta,g=c.data;let I,C=0;for(I=0;I<g.length;I++){const M=c._parsed[I];null!==M&&!isNaN(M)&&this.chart.getDataVisibility(I)&&!g[I].hidden&&(C+=Math.abs(M))}return C}calculateCircumference(c){const g=this._cachedMeta.total;return g>0&&!isNaN(c)?gn*(Math.abs(c)/g):0}getLabelAndValue(c){const C=this.chart,I=C.data.labels||[],M=Ns(this._cachedMeta._parsed[c],C.options.locale);return{label:I[c]||"",value:M}}getMaxBorderWidth(c){let g=0;const C=this.chart;let I,M,H,te,ge;if(!c)for(I=0,M=C.data.datasets.length;I<M;++I)if(C.isDatasetVisible(I)){H=C.getDatasetMeta(I),c=H.data,te=H.controller;break}if(!c)return 0;for(I=0,M=c.length;I<M;++I)ge=te.resolveDataElementOptions(I),"inner"!==ge.borderAlign&&(g=Math.max(g,ge.borderWidth||0,ge.hoverBorderWidth||0));return g}getMaxOffset(c){let g=0;for(let C=0,I=c.length;C<I;++C){const M=this.resolveDataElementOptions(C);g=Math.max(g,M.offset||0,M.hoverOffset||0)}return g}_getRingWeightOffset(c){let g=0;for(let C=0;C<c;++C)this.chart.isDatasetVisible(C)&&(g+=this._getRingWeight(C));return g}_getRingWeight(c){return Math.max(Ct(this.chart.data.datasets[c].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ci(No,"id","doughnut"),Ci(No,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ci(No,"descriptors",{_scriptable:c=>"spacing"!==c,_indexable:c=>"spacing"!==c&&!c.startsWith("borderDash")&&!c.startsWith("hoverBorderDash")}),Ci(No,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(c){const g=c.data;if(g.labels.length&&g.datasets.length){const{labels:{pointStyle:C,color:I}}=c.legend.options;return g.labels.map((M,H)=>{const ge=c.getDatasetMeta(0).controller.getStyle(H);return{text:M,fillStyle:ge.backgroundColor,strokeStyle:ge.borderColor,fontColor:I,lineWidth:ge.borderWidth,pointStyle:C,hidden:!c.getDataVisibility(H),index:H}})}return[]}},onClick(c,g,C){C.chart.toggleDataVisibility(g.index),C.chart.update()}}}});class Br extends fo{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(c){const g=this._cachedMeta,{dataset:C,data:I=[],_dataset:M}=g,H=this.chart._animationsDisabled;let{start:te,count:ge}=Mo(g,I,H);this._drawStart=te,this._drawCount=ge,es(g)&&(te=0,ge=I.length),C._chart=this.chart,C._datasetIndex=this.index,C._decimated=!!M._decimated,C.points=I;const Me=this.resolveDatasetElementOptions(c);this.options.showLine||(Me.borderWidth=0),Me.segment=this.options.segment,this.updateElement(C,void 0,{animated:!H,options:Me},c),this.updateElements(I,te,ge,c)}updateElements(c,g,C,I){const M="reset"===I,{iScale:H,vScale:te,_stacked:ge,_dataset:Me}=this._cachedMeta,{sharedOptions:rt,includeOptions:Tt}=this._getSharedOptions(g,I),Zt=H.axis,tn=te.axis,{spanGaps:mn,segment:vn}=this.options,xn=Ht(mn)?mn:Number.POSITIVE_INFINITY,Zn=this.chart._animationsDisabled||M||"none"===I,zn=g+C,Yn=c.length;let ei=g>0&&this.getParsed(g-1);for(let Gn=0;Gn<Yn;++Gn){const ci=c[Gn],mi=Zn?ci:{};if(Gn<g||Gn>=zn){mi.skip=!0;continue}const hi=this.getParsed(Gn),ki=ct(hi[tn]),po=mi[Zt]=H.getPixelForValue(hi[Zt],Gn),lo=mi[tn]=M||ki?te.getBasePixel():te.getPixelForValue(ge?this.applyStack(te,hi,ge):hi[tn],Gn);mi.skip=isNaN(po)||isNaN(lo)||ki,mi.stop=Gn>0&&Math.abs(hi[Zt]-ei[Zt])>xn,vn&&(mi.parsed=hi,mi.raw=Me.data[Gn]),Tt&&(mi.options=rt||this.resolveDataElementOptions(Gn,ci.active?"active":I)),Zn||this.updateElement(ci,Gn,mi,I),ei=hi}}getMaxOverflow(){const c=this._cachedMeta,g=c.dataset,C=g.options&&g.options.borderWidth||0,I=c.data||[];if(!I.length)return C;const M=I[0].size(this.resolveDataElementOptions(0)),H=I[I.length-1].size(this.resolveDataElementOptions(I.length-1));return Math.max(C,M,H)/2}draw(){const c=this._cachedMeta;c.dataset.updateControlPoints(this.chart.chartArea,c.iScale.axis),super.draw()}}Ci(Br,"id","line"),Ci(Br,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ci(Br,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Hs extends fo{constructor(c,g){super(c,g),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(c){const C=this.chart,I=C.data.labels||[],M=Ns(this._cachedMeta._parsed[c].r,C.options.locale);return{label:I[c]||"",value:M}}parseObjectData(c,g,C,I){return rr.bind(this)(c,g,C,I)}update(c){const g=this._cachedMeta.data;this._updateRadius(),this.updateElements(g,0,g.length,c)}getMinMax(){const g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((C,I)=>{const M=this.getParsed(I).r;!isNaN(M)&&this.chart.getDataVisibility(I)&&(M<g.min&&(g.min=M),M>g.max&&(g.max=M))}),g}_updateRadius(){const c=this.chart,g=c.chartArea,C=c.options,I=Math.min(g.right-g.left,g.bottom-g.top),M=Math.max(I/2,0),te=(M-Math.max(C.cutoutPercentage?M/100*C.cutoutPercentage:1,0))/c.getVisibleDatasetCount();this.outerRadius=M-te*this.index,this.innerRadius=this.outerRadius-te}updateElements(c,g,C,I){const M="reset"===I,H=this.chart,ge=H.options.animation,Me=this._cachedMeta.rScale,rt=Me.xCenter,Tt=Me.yCenter,Zt=Me.getIndexAngle(0)-.5*qt;let mn,tn=Zt;const vn=360/this.countVisibleElements();for(mn=0;mn<g;++mn)tn+=this._computeAngle(mn,I,vn);for(mn=g;mn<g+C;mn++){const xn=c[mn];let Zn=tn,zn=tn+this._computeAngle(mn,I,vn),Yn=H.getDataVisibility(mn)?Me.getDistanceFromCenterForValue(this.getParsed(mn).r):0;tn=zn,M&&(ge.animateScale&&(Yn=0),ge.animateRotate&&(Zn=zn=Zt));const ei={x:rt,y:Tt,innerRadius:0,outerRadius:Yn,startAngle:Zn,endAngle:zn,options:this.resolveDataElementOptions(mn,xn.active?"active":I)};this.updateElement(xn,mn,ei,I)}}countVisibleElements(){let g=0;return this._cachedMeta.data.forEach((C,I)=>{!isNaN(this.getParsed(I).r)&&this.chart.getDataVisibility(I)&&g++}),g}_computeAngle(c,g,C){return this.chart.getDataVisibility(c)?He(this.resolveDataElementOptions(c,g).angle||C):0}}Ci(Hs,"id","polarArea"),Ci(Hs,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Ci(Hs,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(c){const g=c.data;if(g.labels.length&&g.datasets.length){const{labels:{pointStyle:C,color:I}}=c.legend.options;return g.labels.map((M,H)=>{const ge=c.getDatasetMeta(0).controller.getStyle(H);return{text:M,fillStyle:ge.backgroundColor,strokeStyle:ge.borderColor,fontColor:I,lineWidth:ge.borderWidth,pointStyle:C,hidden:!c.getDataVisibility(H),index:H}})}return[]}},onClick(c,g,C){C.chart.toggleDataVisibility(g.index),C.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class _a extends No{}Ci(_a,"id","pie"),Ci(_a,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Oa extends fo{getLabelAndValue(c){const g=this._cachedMeta.vScale,C=this.getParsed(c);return{label:g.getLabels()[c],value:""+g.getLabelForValue(C[g.axis])}}parseObjectData(c,g,C,I){return rr.bind(this)(c,g,C,I)}update(c){const g=this._cachedMeta,C=g.dataset,I=g.data||[],M=g.iScale.getLabels();if(C.points=I,"resize"!==c){const H=this.resolveDatasetElementOptions(c);this.options.showLine||(H.borderWidth=0),this.updateElement(C,void 0,{_loop:!0,_fullLoop:M.length===I.length,options:H},c)}this.updateElements(I,0,I.length,c)}updateElements(c,g,C,I){const M=this._cachedMeta.rScale,H="reset"===I;for(let te=g;te<g+C;te++){const ge=c[te],Me=this.resolveDataElementOptions(te,ge.active?"active":I),rt=M.getPointPositionForValue(te,this.getParsed(te).r),Tt=H?M.xCenter:rt.x,Zt=H?M.yCenter:rt.y,tn={x:Tt,y:Zt,angle:rt.angle,skip:isNaN(Tt)||isNaN(Zt),options:Me};this.updateElement(ge,te,tn,I)}}}Ci(Oa,"id","radar"),Ci(Oa,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Ci(Oa,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Ba extends fo{getLabelAndValue(c){const g=this._cachedMeta,C=this.chart.data.labels||[],{xScale:I,yScale:M}=g,H=this.getParsed(c),te=I.getLabelForValue(H.x),ge=M.getLabelForValue(H.y);return{label:C[c]||"",value:"("+te+", "+ge+")"}}update(c){const g=this._cachedMeta,{data:C=[]}=g,I=this.chart._animationsDisabled;let{start:M,count:H}=Mo(g,C,I);if(this._drawStart=M,this._drawCount=H,es(g)&&(M=0,H=C.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:te,_dataset:ge}=g;te._chart=this.chart,te._datasetIndex=this.index,te._decimated=!!ge._decimated,te.points=C;const Me=this.resolveDatasetElementOptions(c);Me.segment=this.options.segment,this.updateElement(te,void 0,{animated:!I,options:Me},c)}else this.datasetElementType&&(delete g.dataset,this.datasetElementType=!1);this.updateElements(C,M,H,c)}addElements(){const{showLine:c}=this.options;!this.datasetElementType&&c&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(c,g,C,I){const M="reset"===I,{iScale:H,vScale:te,_stacked:ge,_dataset:Me}=this._cachedMeta,rt=this.resolveDataElementOptions(g,I),Tt=this.getSharedOptions(rt),Zt=this.includeOptions(I,Tt),tn=H.axis,mn=te.axis,{spanGaps:vn,segment:xn}=this.options,Zn=Ht(vn)?vn:Number.POSITIVE_INFINITY,zn=this.chart._animationsDisabled||M||"none"===I;let Yn=g>0&&this.getParsed(g-1);for(let ei=g;ei<g+C;++ei){const Gn=c[ei],ci=this.getParsed(ei),mi=zn?Gn:{},hi=ct(ci[mn]),ki=mi[tn]=H.getPixelForValue(ci[tn],ei),po=mi[mn]=M||hi?te.getBasePixel():te.getPixelForValue(ge?this.applyStack(te,ci,ge):ci[mn],ei);mi.skip=isNaN(ki)||isNaN(po)||hi,mi.stop=ei>0&&Math.abs(ci[tn]-Yn[tn])>Zn,xn&&(mi.parsed=ci,mi.raw=Me.data[ei]),Zt&&(mi.options=Tt||this.resolveDataElementOptions(ei,Gn.active?"active":I)),zn||this.updateElement(Gn,ei,mi,I),Yn=ci}this.updateSharedOptions(Tt,I,rt)}getMaxOverflow(){const c=this._cachedMeta,g=c.data||[];if(!this.options.showLine){let te=0;for(let ge=g.length-1;ge>=0;--ge)te=Math.max(te,g[ge].size(this.resolveDataElementOptions(ge))/2);return te>0&&te}const C=c.dataset,I=C.options&&C.options.borderWidth||0;if(!g.length)return I;const M=g[0].size(this.resolveDataElementOptions(0)),H=g[g.length-1].size(this.resolveDataElementOptions(g.length-1));return Math.max(I,M,H)/2}}Ci(Ba,"id","scatter"),Ci(Ba,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Ci(Ba,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Pl=Object.freeze({__proto__:null,BarController:To,BubbleController:qr,DoughnutController:No,LineController:Br,PieController:_a,PolarAreaController:Hs,RadarController:Oa,ScatterController:Ba});function hr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Za{constructor(c){Ci(this,"options"),this.options=c||{}}static override(c){Object.assign(Za.prototype,c)}init(){}formats(){return hr()}parse(){return hr()}format(){return hr()}add(){return hr()}diff(){return hr()}startOf(){return hr()}endOf(){return hr()}}var Ua__date=Za;function Ha(m,c,g,C){const{controller:I,data:M,_sorted:H}=m,te=I._cachedMeta.iScale;if(te&&c===te.axis&&"r"!==c&&H&&M.length){const ge=te._reversePixels?Do:qi;if(!C)return ge(M,c,g);if(I._sharedOptions){const Me=M[0],rt="function"==typeof Me.getRange&&Me.getRange(c);if(rt){const Tt=ge(M,c,g-rt),Zt=ge(M,c,g+rt);return{lo:Tt.lo,hi:Zt.hi}}}}return{lo:0,hi:M.length-1}}function Ca(m,c,g,C,I){const M=m.getSortedVisibleDatasetMetas(),H=g[c];for(let te=0,ge=M.length;te<ge;++te){const{index:Me,data:rt}=M[te],{lo:Tt,hi:Zt}=Ha(M[te],c,H,I);for(let tn=Tt;tn<=Zt;++tn){const mn=rt[tn];mn.skip||C(mn,Me,tn)}}}function nc(m,c,g,C,I){const M=[];return!I&&!m.isPointInArea(c)||Ca(m,g,c,function(te,ge,Me){!I&&!ls(te,m.chartArea,0)||te.inRange(c.x,c.y,C)&&M.push({element:te,datasetIndex:ge,index:Me})},!0),M}function xc(m,c,g,C,I,M){return M||m.isPointInArea(c)?"r"!==g||C?function So(m,c,g,C,I,M){let H=[];const te=function hl(m){const c=-1!==m.indexOf("x"),g=-1!==m.indexOf("y");return function(C,I){const M=c?Math.abs(C.x-I.x):0,H=g?Math.abs(C.y-I.y):0;return Math.sqrt(Math.pow(M,2)+Math.pow(H,2))}}(g);let ge=Number.POSITIVE_INFINITY;return Ca(m,g,c,function Me(rt,Tt,Zt){const tn=rt.inRange(c.x,c.y,I);if(C&&!tn)return;const mn=rt.getCenterPoint(I);if(!M&&!m.isPointInArea(mn)&&!tn)return;const xn=te(c,mn);xn<ge?(H=[{element:rt,datasetIndex:Tt,index:Zt}],ge=xn):xn===ge&&H.push({element:rt,datasetIndex:Tt,index:Zt})}),H}(m,c,g,C,I,M):function va(m,c,g,C){let I=[];return Ca(m,g,c,function M(H,te,ge){const{startAngle:Me,endAngle:rt}=H.getProps(["startAngle","endAngle"],C),{angle:Tt}=In(H,{x:c.x,y:c.y});Wn(Tt,Me,rt)&&I.push({element:H,datasetIndex:te,index:ge})}),I}(m,c,g,I):[]}function qc(m,c,g,C,I){const M=[],H="x"===g?"inXRange":"inYRange";let te=!1;return Ca(m,g,c,(ge,Me,rt)=>{ge[H](c[g],I)&&(M.push({element:ge,datasetIndex:Me,index:rt}),te=te||ge.inRange(c.x,c.y,I))}),C&&!te?[]:M}var Ju={evaluateInteractionItems:Ca,modes:{index(m,c,g,C){const I=Ws(c,m),M=g.axis||"x",H=g.includeInvisible||!1,te=g.intersect?nc(m,I,M,C,H):xc(m,I,M,!1,C,H),ge=[];return te.length?(m.getSortedVisibleDatasetMetas().forEach(Me=>{const rt=te[0].index,Tt=Me.data[rt];Tt&&!Tt.skip&&ge.push({element:Tt,datasetIndex:Me.index,index:rt})}),ge):[]},dataset(m,c,g,C){const I=Ws(c,m),M=g.axis||"xy",H=g.includeInvisible||!1;let te=g.intersect?nc(m,I,M,C,H):xc(m,I,M,!1,C,H);if(te.length>0){const ge=te[0].datasetIndex,Me=m.getDatasetMeta(ge).data;te=[];for(let rt=0;rt<Me.length;++rt)te.push({element:Me[rt],datasetIndex:ge,index:rt})}return te},point:(m,c,g,C)=>nc(m,Ws(c,m),g.axis||"xy",C,g.includeInvisible||!1),nearest:(m,c,g,C)=>xc(m,Ws(c,m),g.axis||"xy",g.intersect,C,g.includeInvisible||!1),x:(m,c,g,C)=>qc(m,Ws(c,m),"x",g.intersect,C),y:(m,c,g,C)=>qc(m,Ws(c,m),"y",g.intersect,C)}};const Ic=["left","top","right","bottom"];function Ll(m,c){return m.filter(g=>g.pos===c)}function $c(m,c){return m.filter(g=>-1===Ic.indexOf(g.pos)&&g.box.axis===c)}function Va(m,c){return m.sort((g,C)=>{const I=c?C:g,M=c?g:C;return I.weight===M.weight?I.index-M.index:I.weight-M.weight})}function Rl(m,c,g,C){return Math.max(m[g],c[g])+Math.max(m[C],c[C])}function za(m,c){m.top=Math.max(m.top,c.top),m.left=Math.max(m.left,c.left),m.bottom=Math.max(m.bottom,c.bottom),m.right=Math.max(m.right,c.right)}function Qu(m,c,g,C){const{pos:I,box:M}=g,H=m.maxPadding;if(!me(I)){g.size&&(m[I]-=g.size);const Tt=C[g.stack]||{size:0,count:1};Tt.size=Math.max(Tt.size,g.horizontal?M.height:M.width),g.size=Tt.size/Tt.count,m[I]+=g.size}M.getPadding&&za(H,M.getPadding());const te=Math.max(0,c.outerWidth-Rl(H,m,"left","right")),ge=Math.max(0,c.outerHeight-Rl(H,m,"top","bottom")),Me=te!==m.w,rt=ge!==m.h;return m.w=te,m.h=ge,g.horizontal?{same:Me,other:rt}:{same:rt,other:Me}}function Zr(m,c){const g=c.maxPadding;return function C(I){const M={left:0,top:0,right:0,bottom:0};return I.forEach(H=>{M[H]=Math.max(c[H],g[H])}),M}(m?["left","right"]:["top","bottom"])}function Ur(m,c,g,C){const I=[];let M,H,te,ge,Me,rt;for(M=0,H=m.length,Me=0;M<H;++M){te=m[M],ge=te.box,ge.update(te.width||c.w,te.height||c.h,Zr(te.horizontal,c));const{same:Tt,other:Zt}=Qu(c,g,te,C);Me|=Tt&&I.length,rt=rt||Zt,ge.fullSize||I.push(te)}return Me&&Ur(I,c,g,C)||rt}function tl(m,c,g,C,I){m.top=g,m.left=c,m.right=c+C,m.bottom=g+I,m.width=C,m.height=I}function gl(m,c,g,C){const I=g.padding;let{x:M,y:H}=c;for(const te of m){const ge=te.box,Me=C[te.stack]||{count:1,placed:0,weight:1},rt=te.stackWeight/Me.weight||1;if(te.horizontal){const Tt=c.w*rt,Zt=Me.size||ge.height;Qe(Me.start)&&(H=Me.start),ge.fullSize?tl(ge,I.left,H,g.outerWidth-I.right-I.left,Zt):tl(ge,c.left+Me.placed,H,Tt,Zt),Me.start=H,Me.placed+=Tt,H=ge.bottom}else{const Tt=c.h*rt,Zt=Me.size||ge.width;Qe(Me.start)&&(M=Me.start),ge.fullSize?tl(ge,M,I.top,Zt,g.outerHeight-I.bottom-I.top):tl(ge,M,c.top+Me.placed,Zt,Tt),Me.start=M,Me.placed+=Tt,M=ge.right}}c.x=M,c.y=H}var Ms={addBox(m,c){m.boxes||(m.boxes=[]),c.fullSize=c.fullSize||!1,c.position=c.position||"top",c.weight=c.weight||0,c._layers=c._layers||function(){return[{z:0,draw(g){c.draw(g)}}]},m.boxes.push(c)},removeBox(m,c){const g=m.boxes?m.boxes.indexOf(c):-1;-1!==g&&m.boxes.splice(g,1)},configure(m,c,g){c.fullSize=g.fullSize,c.position=g.position,c.weight=g.weight},update(m,c,g,C){if(!m)return;const I=Vt(m.options.layout.padding),M=Math.max(c-I.width,0),H=Math.max(g-I.height,0),te=function Ds(m){const c=function el(m){const c=[];let g,C,I,M,H,te;for(g=0,C=(m||[]).length;g<C;++g)I=m[g],({position:M,options:{stack:H,stackWeight:te=1}}=I),c.push({index:g,box:I,pos:M,horizontal:I.isHorizontal(),weight:I.weight,stack:H&&M+H,stackWeight:te});return c}(m),g=Va(c.filter(Me=>Me.box.fullSize),!0),C=Va(Ll(c,"left"),!0),I=Va(Ll(c,"right")),M=Va(Ll(c,"top"),!0),H=Va(Ll(c,"bottom")),te=$c(c,"x"),ge=$c(c,"y");return{fullSize:g,leftAndTop:C.concat(M),rightAndBottom:I.concat(ge).concat(H).concat(te),chartArea:Ll(c,"chartArea"),vertical:C.concat(I).concat(ge),horizontal:M.concat(H).concat(te)}}(m.boxes),ge=te.vertical,Me=te.horizontal;Ye(m.boxes,vn=>{"function"==typeof vn.beforeLayout&&vn.beforeLayout()});const rt=ge.reduce((vn,xn)=>xn.box.options&&!1===xn.box.options.display?vn:vn+1,0)||1,Tt=Object.freeze({outerWidth:c,outerHeight:g,padding:I,availableWidth:M,availableHeight:H,vBoxMaxWidth:M/2/rt,hBoxMaxHeight:H/2}),Zt=Object.assign({},I);za(Zt,Vt(C));const tn=Object.assign({maxPadding:Zt,w:M,h:H,x:I.left,y:I.top},I),mn=function Xc(m,c){const g=function Tc(m){const c={};for(const g of m){const{stack:C,pos:I,stackWeight:M}=g;if(!C||!Ic.includes(I))continue;const H=c[C]||(c[C]={count:0,placed:0,weight:0,size:0});H.count++,H.weight+=M}return c}(m),{vBoxMaxWidth:C,hBoxMaxHeight:I}=c;let M,H,te;for(M=0,H=m.length;M<H;++M){te=m[M];const{fullSize:ge}=te.box,Me=g[te.stack],rt=Me&&te.stackWeight/Me.weight;te.horizontal?(te.width=rt?rt*C:ge&&c.availableWidth,te.height=I):(te.width=C,te.height=rt?rt*I:ge&&c.availableHeight)}return g}(ge.concat(Me),Tt);Ur(te.fullSize,tn,Tt,mn),Ur(ge,tn,Tt,mn),Ur(Me,tn,Tt,mn)&&Ur(ge,tn,Tt,mn),function eu(m){const c=m.maxPadding;function g(C){const I=Math.max(c[C]-m[C],0);return m[C]+=I,I}m.y+=g("top"),m.x+=g("left"),g("right"),g("bottom")}(tn),gl(te.leftAndTop,tn,Tt,mn),tn.x+=tn.w,tn.y+=tn.h,gl(te.rightAndBottom,tn,Tt,mn),m.chartArea={left:tn.left,top:tn.top,right:tn.left+tn.w,bottom:tn.top+tn.h,height:tn.h,width:tn.w},Ye(te.chartArea,vn=>{const xn=vn.box;Object.assign(xn,m.chartArea),xn.update(tn.w,tn.h,{left:0,top:0,right:0,bottom:0})})}};class _e{acquireContext(c,g){}releaseContext(c){return!1}addEventListener(c,g,C){}removeEventListener(c,g,C){}getDevicePixelRatio(){return 1}getMaximumSize(c,g,C,I){return g=Math.max(0,g||c.width),C=C||c.height,{width:g,height:Math.max(0,I?Math.floor(g/I):C)}}isAttached(c){return!0}updateConfig(c){}}class ve extends _e{acquireContext(c){return c&&c.getContext&&c.getContext("2d")||null}updateConfig(c){c.options.animation=!1}}const le="$chartjs",ke={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},et=m=>null===m||""===m,Xt=!!Xs&&{passive:!0};function wn(m,c,g){m.canvas.removeEventListener(c,g,Xt)}function yi(m,c){for(const g of m)if(g===c||g.contains(c))return!0}function di(m,c,g){const C=m.canvas,I=new MutationObserver(M=>{let H=!1;for(const te of M)H=H||yi(te.addedNodes,C),H=H&&!yi(te.removedNodes,C);H&&g()});return I.observe(document,{childList:!0,subtree:!0}),I}function Ki(m,c,g){const C=m.canvas,I=new MutationObserver(M=>{let H=!1;for(const te of M)H=H||yi(te.removedNodes,C),H=H&&!yi(te.addedNodes,C);H&&g()});return I.observe(document,{childList:!0,subtree:!0}),I}const ao=new Map;let Vs=0;function Hr(){const m=window.devicePixelRatio;m!==Vs&&(Vs=m,ao.forEach((c,g)=>{g.currentDevicePixelRatio!==m&&c()}))}function ua(m,c,g){const C=m.canvas,I=C&&Se(C);if(!I)return;const M=rs((te,ge)=>{const Me=I.clientWidth;g(te,ge),Me<I.clientWidth&&g()},window),H=new ResizeObserver(te=>{const ge=te[0],Me=ge.contentRect.width,rt=ge.contentRect.height;0===Me&&0===rt||M(Me,rt)});return H.observe(I),function Vr(m,c){ao.size||window.addEventListener("resize",Hr),ao.set(m,c)}(m,M),H}function ic(m,c,g){g&&g.disconnect(),"resize"===c&&function ia(m){ao.delete(m),ao.size||window.removeEventListener("resize",Hr)}(m)}function gr(m,c,g){const C=m.canvas,I=rs(M=>{null!==m.ctx&&g(function oi(m,c){const g=ke[m.type]||m.type,{x:C,y:I}=Ws(m,c);return{type:g,chart:c,native:m,x:void 0!==C?C:null,y:void 0!==I?I:null}}(M,m))},m);return function sn(m,c,g){m.addEventListener(c,g,Xt)}(C,c,I),I}class oc extends _e{acquireContext(c,g){const C=c&&c.getContext&&c.getContext("2d");return C&&C.canvas===c?(function wt(m,c){const g=m.style,C=m.getAttribute("height"),I=m.getAttribute("width");if(m[le]={initial:{height:C,width:I,style:{display:g.display,height:g.height,width:g.width}}},g.display=g.display||"block",g.boxSizing=g.boxSizing||"border-box",et(I)){const M=Nr(m,"width");void 0!==M&&(m.width=M)}if(et(C))if(""===m.style.height)m.height=m.width/(c||2);else{const M=Nr(m,"height");void 0!==M&&(m.height=M)}}(c,g),C):null}releaseContext(c){const g=c.canvas;if(!g[le])return!1;const C=g[le].initial;["height","width"].forEach(M=>{const H=C[M];ct(H)?g.removeAttribute(M):g.setAttribute(M,H)});const I=C.style||{};return Object.keys(I).forEach(M=>{g.style[M]=I[M]}),g.width=g.width,delete g[le],!0}addEventListener(c,g,C){this.removeEventListener(c,g),(c.$proxies||(c.$proxies={}))[g]=({attach:di,detach:Ki,resize:ua}[g]||gr)(c,g,C)}removeEventListener(c,g){const C=c.$proxies||(c.$proxies={}),I=C[g];I&&(({attach:ic,detach:ic,resize:ic}[g]||wn)(c,g,I),C[g]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(c,g,C,I){return function Er(m,c,g,C){const I=Ln(m),M=bo(I,"margin"),H=kt(I.maxWidth,m,"clientWidth")||Mn,te=kt(I.maxHeight,m,"clientHeight")||Mn,ge=function lr(m,c,g){let C,I;if(void 0===c||void 0===g){const M=Se(m);if(M){const H=M.getBoundingClientRect(),te=Ln(M),ge=bo(te,"border","width"),Me=bo(te,"padding");c=H.width-Me.width-ge.width,g=H.height-Me.height-ge.height,C=kt(te.maxWidth,M,"clientWidth"),I=kt(te.maxHeight,M,"clientHeight")}else c=m.clientWidth,g=m.clientHeight}return{width:c,height:g,maxWidth:C||Mn,maxHeight:I||Mn}}(m,c,g);let{width:Me,height:rt}=ge;if("content-box"===I.boxSizing){const Zt=bo(I,"border","width"),tn=bo(I,"padding");Me-=tn.width+Zt.width,rt-=tn.height+Zt.height}return Me=Math.max(0,Me-M.width),rt=Math.max(0,C?Me/C:rt-M.height),Me=wr(Math.min(Me,H,ge.maxWidth)),rt=wr(Math.min(rt,te,ge.maxHeight)),Me&&!rt&&(rt=wr(Me/2)),(void 0!==c||void 0!==g)&&C&&ge.height&&rt>ge.height&&(rt=ge.height,Me=wr(Math.floor(rt*C))),{width:Me,height:rt}}(c,g,C,I)}isAttached(c){const g=Se(c);return!(!g||!g.isConnected)}}class ba{constructor(){Ci(this,"x"),Ci(this,"y"),Ci(this,"active",!1),Ci(this,"options"),Ci(this,"$animations")}tooltipPosition(c){const{x:g,y:C}=this.getProps(["x","y"],c);return{x:g,y:C}}hasValue(){return Ht(this.x)&&Ht(this.y)}getProps(c,g){const C=this.$animations;if(!g||!C)return this;const I={};return c.forEach(M=>{I[M]=C[M]&&C[M].active()?C[M]._to:this[M]}),I}}function wc(m,c,g,C,I){const M=Ct(C,0),H=Math.min(Ct(I,m.length),m.length);let ge,Me,rt,te=0;for(g=Math.ceil(g),I&&(ge=I-C,g=ge/Math.floor(ge/g)),rt=M;rt<0;)te++,rt=Math.round(M+te*g);for(Me=Math.max(M,0);Me<H;Me++)Me===rt&&(c.push(m[Me]),te++,rt=Math.round(M+te*g))}Ci(ba,"defaults",{}),Ci(ba,"defaultRoutes");const nu=(m,c,g)=>"top"===c||"left"===c?m[c]+g:m[c]-g,Ec=(m,c)=>Math.min(c||m,m);function nl(m,c){const g=[],C=m.length/c,I=m.length;let M=0;for(;M<I;M+=C)g.push(m[Math.floor(M)]);return g}function fl(m,c,g){const C=m.ticks.length,I=Math.min(c,C-1),M=m._startPixel,H=m._endPixel;let Me,ge=m.getPixelForTick(I);if(!(g&&(Me=1===C?Math.max(ge-M,H-ge):0===c?(m.getPixelForTick(1)-ge)/2:(ge-m.getPixelForTick(I-1))/2,ge+=I<c?Me:-Me,ge<M-1e-6||ge>H+1e-6)))return ge}function sc(m){return m.drawTicks?m.tickLength:0}function Sc(m,c){if(!m.display)return 0;const g=Pn(m.font,c),C=Vt(m.padding);return(at(m.text)?m.text.length:1)*g.lineHeight+C.height}function ac(m,c,g){let C=ho(m);return(g&&"right"!==c||!g&&"right"===c)&&(C=(m=>"left"===m?"right":"right"===m?"left":m)(C)),C}class Sr extends ba{constructor(c){super(),this.id=c.id,this.type=c.type,this.options=void 0,this.ctx=c.ctx,this.chart=c.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(c){this.options=c.setContext(this.getContext()),this.axis=c.axis,this._userMin=this.parse(c.min),this._userMax=this.parse(c.max),this._suggestedMin=this.parse(c.suggestedMin),this._suggestedMax=this.parse(c.suggestedMax)}parse(c,g){return c}getUserBounds(){let{_userMin:c,_userMax:g,_suggestedMin:C,_suggestedMax:I}=this;return c=ot(c,Number.POSITIVE_INFINITY),g=ot(g,Number.NEGATIVE_INFINITY),C=ot(C,Number.POSITIVE_INFINITY),I=ot(I,Number.NEGATIVE_INFINITY),{min:ot(c,C),max:ot(g,I),minDefined:De(c),maxDefined:De(g)}}getMinMax(c){let H,{min:g,max:C,minDefined:I,maxDefined:M}=this.getUserBounds();if(I&&M)return{min:g,max:C};const te=this.getMatchingVisibleMetas();for(let ge=0,Me=te.length;ge<Me;++ge)H=te[ge].controller.getMinMax(this,c),I||(g=Math.min(g,H.min)),M||(C=Math.max(C,H.max));return g=M&&g>C?C:g,C=I&&g>C?g:C,{min:ot(g,ot(C,g)),max:ot(C,ot(g,C))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const c=this.chart.data;return this.options.labels||(this.isHorizontal()?c.xLabels:c.yLabels)||c.labels||[]}getLabelItems(c=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(c))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Mt(this.options.beforeUpdate,[this])}update(c,g,C){const{beginAtZero:I,grace:M,ticks:H}=this.options,te=H.sampleSize;this.beforeUpdate(),this.maxWidth=c,this.maxHeight=g,this._margins=C=Object.assign({left:0,right:0,top:0,bottom:0},C),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+C.left+C.right:this.height+C.top+C.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function gi(m,c,g){const{min:C,max:I}=m,M=Ft(c,(I-C)/2),H=(te,ge)=>g&&0===te?0:te+ge;return{min:H(C,-Math.abs(M)),max:H(I,M)}}(this,M,I),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const ge=te<this.ticks.length;this._convertTicksToLabels(ge?nl(this.ticks,te):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),H.display&&(H.autoSkip||"auto"===H.source)&&(this.ticks=function Xd(m,c){const g=m.options.ticks,C=function ep(m){const c=m.options.offset,g=m._tickSize();return Math.floor(Math.min(m._length/g+(c?0:1),m._maxLength/g))}(m),I=Math.min(g.maxTicksLimit||C,C),M=g.major.enabled?function Is(m){const c=[];let g,C;for(g=0,C=m.length;g<C;g++)m[g].major&&c.push(g);return c}(c):[],H=M.length,te=M[0],ge=M[H-1],Me=[];if(H>I)return function zr(m,c,g,C){let H,I=0,M=g[0];for(C=Math.ceil(C),H=0;H<m.length;H++)H===M&&(c.push(m[H]),I++,M=g[I*C])}(c,Me,M,H/I),Me;const rt=function Gu(m,c,g){const C=function zs(m){const c=m.length;let g,C;if(c<2)return!1;for(C=m[0],g=1;g<c;++g)if(m[g]-m[g-1]!==C)return!1;return C}(m),I=c.length/g;if(!C)return Math.max(I,1);const M=function Ho(m){const c=[],g=Math.sqrt(m);let C;for(C=1;C<g;C++)m%C==0&&(c.push(C),c.push(m/C));return g===(0|g)&&c.push(g),c.sort((I,M)=>I-M).pop(),c}(C);for(let H=0,te=M.length-1;H<te;H++){const ge=M[H];if(ge>I)return ge}return Math.max(I,1)}(M,c,I);if(H>0){let Tt,Zt;const tn=H>1?Math.round((ge-te)/(H-1)):null;for(wc(c,Me,rt,ct(tn)?0:te-tn,te),Tt=0,Zt=H-1;Tt<Zt;Tt++)wc(c,Me,rt,M[Tt],M[Tt+1]);return wc(c,Me,rt,ge,ct(tn)?c.length:ge+tn),Me}return wc(c,Me,rt),Me}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),ge&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let g,C,c=this.options.reverse;this.isHorizontal()?(g=this.left,C=this.right):(g=this.top,C=this.bottom,c=!c),this._startPixel=g,this._endPixel=C,this._reversePixels=c,this._length=C-g,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Mt(this.options.afterUpdate,[this])}beforeSetDimensions(){Mt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Mt(this.options.afterSetDimensions,[this])}_callHooks(c){this.chart.notifyPlugins(c,this.getContext()),Mt(this.options[c],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Mt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(c){const g=this.options.ticks;let C,I,M;for(C=0,I=c.length;C<I;C++)M=c[C],M.label=Mt(g.callback,[M.value,C,c],this)}afterTickToLabelConversion(){Mt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Mt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const c=this.options,g=c.ticks,C=Ec(this.ticks.length,c.ticks.maxTicksLimit),I=g.minRotation||0,M=g.maxRotation;let te,ge,Me,H=I;if(!this._isVisible()||!g.display||I>=M||C<=1||!this.isHorizontal())return void(this.labelRotation=I);const rt=this._getLabelSizes(),Tt=rt.widest.width,Zt=rt.highest.height,tn=ii(this.chart.width-Tt,0,this.maxWidth);te=c.offset?this.maxWidth/C:tn/(C-1),Tt+6>te&&(te=tn/(C-(c.offset?.5:1)),ge=this.maxHeight-sc(c.grid)-g.padding-Sc(c.title,this.chart.options.font),Me=Math.sqrt(Tt*Tt+Zt*Zt),H=ut(Math.min(Math.asin(ii((rt.highest.height+6)/te,-1,1)),Math.asin(ii(ge/Me,-1,1))-Math.asin(ii(Zt/Me,-1,1)))),H=Math.max(I,Math.min(M,H))),this.labelRotation=H}afterCalculateLabelRotation(){Mt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Mt(this.options.beforeFit,[this])}fit(){const c={width:0,height:0},{chart:g,options:{ticks:C,title:I,grid:M}}=this,H=this._isVisible(),te=this.isHorizontal();if(H){const ge=Sc(I,g.options.font);if(te?(c.width=this.maxWidth,c.height=sc(M)+ge):(c.height=this.maxHeight,c.width=sc(M)+ge),C.display&&this.ticks.length){const{first:Me,last:rt,widest:Tt,highest:Zt}=this._getLabelSizes(),tn=2*C.padding,mn=He(this.labelRotation),vn=Math.cos(mn),xn=Math.sin(mn);te?c.height=Math.min(this.maxHeight,c.height+(C.mirror?0:xn*Tt.width+vn*Zt.height)+tn):c.width=Math.min(this.maxWidth,c.width+(C.mirror?0:vn*Tt.width+xn*Zt.height)+tn),this._calculatePadding(Me,rt,xn,vn)}}this._handleMargins(),te?(this.width=this._length=g.width-this._margins.left-this._margins.right,this.height=c.height):(this.width=c.width,this.height=this._length=g.height-this._margins.top-this._margins.bottom)}_calculatePadding(c,g,C,I){const{ticks:{align:M,padding:H},position:te}=this.options,ge=0!==this.labelRotation,Me="top"!==te&&"x"===this.axis;if(this.isHorizontal()){const rt=this.getPixelForTick(0)-this.left,Tt=this.right-this.getPixelForTick(this.ticks.length-1);let Zt=0,tn=0;ge?Me?(Zt=I*c.width,tn=C*g.height):(Zt=C*c.height,tn=I*g.width):"start"===M?tn=g.width:"end"===M?Zt=c.width:"inner"!==M&&(Zt=c.width/2,tn=g.width/2),this.paddingLeft=Math.max((Zt-rt+H)*this.width/(this.width-rt),0),this.paddingRight=Math.max((tn-Tt+H)*this.width/(this.width-Tt),0)}else{let rt=g.height/2,Tt=c.height/2;"start"===M?(rt=0,Tt=c.height):"end"===M&&(rt=g.height,Tt=0),this.paddingTop=rt+H,this.paddingBottom=Tt+H}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Mt(this.options.afterFit,[this])}isHorizontal(){const{axis:c,position:g}=this.options;return"top"===g||"bottom"===g||"x"===c}isFullSize(){return this.options.fullSize}_convertTicksToLabels(c){let g,C;for(this.beforeTickToLabelConversion(),this.generateTickLabels(c),g=0,C=c.length;g<C;g++)ct(c[g].label)&&(c.splice(g,1),C--,g--);this.afterTickToLabelConversion()}_getLabelSizes(){let c=this._labelSizes;if(!c){const g=this.options.ticks.sampleSize;let C=this.ticks;g<C.length&&(C=nl(C,g)),this._labelSizes=c=this._computeLabelSizes(C,C.length,this.options.ticks.maxTicksLimit)}return c}_computeLabelSizes(c,g,C){const{ctx:I,_longestTextCache:M}=this,H=[],te=[],ge=Math.floor(g/Ec(g,C));let Tt,Zt,tn,mn,vn,xn,Zn,zn,Yn,ei,Gn,Me=0,rt=0;for(Tt=0;Tt<g;Tt+=ge){if(mn=c[Tt].label,vn=this._resolveTickFontOptions(Tt),I.font=xn=vn.string,Zn=M[xn]=M[xn]||{data:{},gc:[]},zn=vn.lineHeight,Yn=ei=0,ct(mn)||at(mn)){if(at(mn))for(Zt=0,tn=mn.length;Zt<tn;++Zt)Gn=mn[Zt],!ct(Gn)&&!at(Gn)&&(Yn=Fs(I,Zn.data,Zn.gc,Yn,Gn),ei+=zn)}else Yn=Fs(I,Zn.data,Zn.gc,Yn,mn),ei=zn;H.push(Yn),te.push(ei),Me=Math.max(Yn,Me),rt=Math.max(ei,rt)}!function Wu(m,c){Ye(m,g=>{const C=g.gc,I=C.length/2;let M;if(I>c){for(M=0;M<I;++M)delete g.data[C[M]];C.splice(0,I)}})}(M,g);const ci=H.indexOf(Me),mi=te.indexOf(rt),hi=ki=>({width:H[ki]||0,height:te[ki]||0});return{first:hi(0),last:hi(g-1),widest:hi(ci),highest:hi(mi),widths:H,heights:te}}getLabelForValue(c){return c}getPixelForValue(c,g){return NaN}getValueForPixel(c){}getPixelForTick(c){const g=this.ticks;return c<0||c>g.length-1?null:this.getPixelForValue(g[c].value)}getPixelForDecimal(c){this._reversePixels&&(c=1-c);const g=this._startPixel+c*this._length;return function pi(m){return ii(m,-32768,32767)}(this._alignToPixels?qs(this.chart,g,0):g)}getDecimalForPixel(c){const g=(c-this._startPixel)/this._length;return this._reversePixels?1-g:g}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:c,max:g}=this;return c<0&&g<0?g:c>0&&g>0?c:0}getContext(c){const g=this.ticks||[];if(c>=0&&c<g.length){const C=g[c];return C.$context||(C.$context=function Yu(m,c,g){return Hi(m,{tick:g,index:c,type:"tick"})}(this.getContext(),c,C))}return this.$context||(this.$context=function rc(m,c){return Hi(m,{scale:c,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const c=this.options.ticks,g=He(this.labelRotation),C=Math.abs(Math.cos(g)),I=Math.abs(Math.sin(g)),M=this._getLabelSizes(),H=c.autoSkipPadding||0,te=M?M.widest.width+H:0,ge=M?M.highest.height+H:0;return this.isHorizontal()?ge*C>te*I?te/C:ge/I:ge*I<te*C?ge/C:te/I}_isVisible(){const c=this.options.display;return"auto"!==c?!!c:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(c){const g=this.axis,C=this.chart,I=this.options,{grid:M,position:H,border:te}=I,ge=M.offset,Me=this.isHorizontal(),Tt=this.ticks.length+(ge?1:0),Zt=sc(M),tn=[],mn=te.setContext(this.getContext()),vn=mn.display?mn.width:0,xn=vn/2,Zn=function(ts){return qs(C,ts,vn)};let zn,Yn,ei,Gn,ci,mi,hi,ki,po,lo,ro,kr;if("top"===H)zn=Zn(this.bottom),mi=this.bottom-Zt,ki=zn-xn,lo=Zn(c.top)+xn,kr=c.bottom;else if("bottom"===H)zn=Zn(this.top),lo=c.top,kr=Zn(c.bottom)-xn,mi=zn+xn,ki=this.top+Zt;else if("left"===H)zn=Zn(this.right),ci=this.right-Zt,hi=zn-xn,po=Zn(c.left)+xn,ro=c.right;else if("right"===H)zn=Zn(this.left),po=c.left,ro=Zn(c.right)-xn,ci=zn+xn,hi=this.left+Zt;else if("x"===g){if("center"===H)zn=Zn((c.top+c.bottom)/2+.5);else if(me(H)){const ts=Object.keys(H)[0];zn=Zn(this.chart.scales[ts].getPixelForValue(H[ts]))}lo=c.top,kr=c.bottom,mi=zn+xn,ki=mi+Zt}else if("y"===g){if("center"===H)zn=Zn((c.left+c.right)/2);else if(me(H)){const ts=Object.keys(H)[0];zn=Zn(this.chart.scales[ts].getPixelForValue(H[ts]))}ci=zn-xn,hi=ci-Zt,po=c.left,ro=c.right}const ya=Ct(I.ticks.maxTicksLimit,Tt),Zo=Math.max(1,Math.ceil(Tt/ya));for(Yn=0;Yn<Tt;Yn+=Zo){const ts=this.getContext(Yn),js=M.setContext(ts),xa=te.setContext(ts),fr=js.lineWidth,aa=js.color,Tu=xa.dash||[],fc=xa.dashOffset,Js=js.tickWidth,Ia=js.tickColor,zc=js.tickBorderDash||[],Pa=js.tickBorderDashOffset;ei=fl(this,Yn,ge),void 0!==ei&&(Gn=qs(C,ei,fr),Me?ci=hi=po=ro=Gn:mi=ki=lo=kr=Gn,tn.push({tx1:ci,ty1:mi,tx2:hi,ty2:ki,x1:po,y1:lo,x2:ro,y2:kr,width:fr,color:aa,borderDash:Tu,borderDashOffset:fc,tickWidth:Js,tickColor:Ia,tickBorderDash:zc,tickBorderDashOffset:Pa}))}return this._ticksLength=Tt,this._borderValue=zn,tn}_computeLabelItems(c){const g=this.axis,C=this.options,{position:I,ticks:M}=C,H=this.isHorizontal(),te=this.ticks,{align:ge,crossAlign:Me,padding:rt,mirror:Tt}=M,Zt=sc(C.grid),tn=Zt+rt,mn=Tt?-rt:tn,vn=-He(this.labelRotation),xn=[];let Zn,zn,Yn,ei,Gn,ci,mi,hi,ki,po,lo,ro,kr="middle";if("top"===I)ci=this.bottom-mn,mi=this._getXAxisLabelAlignment();else if("bottom"===I)ci=this.top+mn,mi=this._getXAxisLabelAlignment();else if("left"===I){const Zo=this._getYAxisLabelAlignment(Zt);mi=Zo.textAlign,Gn=Zo.x}else if("right"===I){const Zo=this._getYAxisLabelAlignment(Zt);mi=Zo.textAlign,Gn=Zo.x}else if("x"===g){if("center"===I)ci=(c.top+c.bottom)/2+tn;else if(me(I)){const Zo=Object.keys(I)[0];ci=this.chart.scales[Zo].getPixelForValue(I[Zo])+tn}mi=this._getXAxisLabelAlignment()}else if("y"===g){if("center"===I)Gn=(c.left+c.right)/2-tn;else if(me(I)){const Zo=Object.keys(I)[0];Gn=this.chart.scales[Zo].getPixelForValue(I[Zo])}mi=this._getYAxisLabelAlignment(Zt).textAlign}"y"===g&&("start"===ge?kr="top":"end"===ge&&(kr="bottom"));const ya=this._getLabelSizes();for(Zn=0,zn=te.length;Zn<zn;++Zn){Yn=te[Zn],ei=Yn.label;const Zo=M.setContext(this.getContext(Zn));hi=this.getPixelForTick(Zn)+M.labelOffset,ki=this._resolveTickFontOptions(Zn),po=ki.lineHeight,lo=at(ei)?ei.length:1;const ts=lo/2,js=Zo.color,xa=Zo.textStrokeColor,fr=Zo.textStrokeWidth;let Tu,aa=mi;if(H?(Gn=hi,"inner"===mi&&(aa=Zn===zn-1?this.options.reverse?"left":"right":0===Zn?this.options.reverse?"right":"left":"center"),ro="top"===I?"near"===Me||0!==vn?-lo*po+po/2:"center"===Me?-ya.highest.height/2-ts*po+po:po/2-ya.highest.height:"near"===Me||0!==vn?po/2:"center"===Me?ya.highest.height/2-ts*po:ya.highest.height-lo*po,Tt&&(ro*=-1),0!==vn&&!Zo.showLabelBackdrop&&(Gn+=po/2*Math.sin(vn))):(ci=hi,ro=(1-lo)*po/2),Zo.showLabelBackdrop){const fc=Vt(Zo.backdropPadding),Js=ya.heights[Zn],Ia=ya.widths[Zn];let zc=ro-fc.top,Pa=0-fc.left;switch(kr){case"middle":zc-=Js/2;break;case"bottom":zc-=Js}switch(mi){case"center":Pa-=Ia/2;break;case"right":Pa-=Ia}Tu={left:Pa,top:zc,width:Ia+fc.width,height:Js+fc.height,color:Zo.backdropColor}}xn.push({label:ei,font:ki,textOffset:ro,options:{rotation:vn,color:js,strokeColor:xa,strokeWidth:fr,textAlign:aa,textBaseline:kr,translation:[Gn,ci],backdrop:Tu}})}return xn}_getXAxisLabelAlignment(){const{position:c,ticks:g}=this.options;if(-He(this.labelRotation))return"top"===c?"left":"right";let I="center";return"start"===g.align?I="left":"end"===g.align?I="right":"inner"===g.align&&(I="inner"),I}_getYAxisLabelAlignment(c){const{position:g,ticks:{crossAlign:C,mirror:I,padding:M}}=this.options,te=c+M,ge=this._getLabelSizes().widest.width;let Me,rt;return"left"===g?I?(rt=this.right+M,"near"===C?Me="left":"center"===C?(Me="center",rt+=ge/2):(Me="right",rt+=ge)):(rt=this.right-te,"near"===C?Me="right":"center"===C?(Me="center",rt-=ge/2):(Me="left",rt=this.left)):"right"===g?I?(rt=this.left+M,"near"===C?Me="right":"center"===C?(Me="center",rt-=ge/2):(Me="left",rt-=ge)):(rt=this.left+te,"near"===C?Me="left":"center"===C?(Me="center",rt+=ge/2):(Me="right",rt=this.right)):Me="right",{textAlign:Me,x:rt}}_computeLabelArea(){if(this.options.ticks.mirror)return;const c=this.chart,g=this.options.position;return"left"===g||"right"===g?{top:0,left:this.left,bottom:c.height,right:this.right}:"top"===g||"bottom"===g?{top:this.top,left:0,bottom:this.bottom,right:c.width}:void 0}drawBackground(){const{ctx:c,options:{backgroundColor:g},left:C,top:I,width:M,height:H}=this;g&&(c.save(),c.fillStyle=g,c.fillRect(C,I,M,H),c.restore())}getLineWidthForValue(c){const g=this.options.grid;if(!this._isVisible()||!g.display)return 0;const I=this.ticks.findIndex(M=>M.value===c);return I>=0?g.setContext(this.getContext(I)).lineWidth:0}drawGrid(c){const g=this.options.grid,C=this.ctx,I=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(c));let M,H;const te=(ge,Me,rt)=>{!rt.width||!rt.color||(C.save(),C.lineWidth=rt.width,C.strokeStyle=rt.color,C.setLineDash(rt.borderDash||[]),C.lineDashOffset=rt.borderDashOffset,C.beginPath(),C.moveTo(ge.x,ge.y),C.lineTo(Me.x,Me.y),C.stroke(),C.restore())};if(g.display)for(M=0,H=I.length;M<H;++M){const ge=I[M];g.drawOnChartArea&&te({x:ge.x1,y:ge.y1},{x:ge.x2,y:ge.y2},ge),g.drawTicks&&te({x:ge.tx1,y:ge.ty1},{x:ge.tx2,y:ge.ty2},{color:ge.tickColor,width:ge.tickWidth,borderDash:ge.tickBorderDash,borderDashOffset:ge.tickBorderDashOffset})}}drawBorder(){const{chart:c,ctx:g,options:{border:C,grid:I}}=this,M=C.setContext(this.getContext()),H=C.display?M.width:0;if(!H)return;const te=I.setContext(this.getContext(0)).lineWidth,ge=this._borderValue;let Me,rt,Tt,Zt;this.isHorizontal()?(Me=qs(c,this.left,H)-H/2,rt=qs(c,this.right,te)+te/2,Tt=Zt=ge):(Tt=qs(c,this.top,H)-H/2,Zt=qs(c,this.bottom,te)+te/2,Me=rt=ge),g.save(),g.lineWidth=M.width,g.strokeStyle=M.color,g.beginPath(),g.moveTo(Me,Tt),g.lineTo(rt,Zt),g.stroke(),g.restore()}drawLabels(c){if(!this.options.ticks.display)return;const C=this.ctx,I=this._computeLabelArea();I&&vs(C,I);const M=this.getLabelItems(c);for(const H of M)xs(C,H.label,0,H.textOffset,H.font,H.options);I&&bs(C)}drawTitle(){const{ctx:c,options:{position:g,title:C,reverse:I}}=this;if(!C.display)return;const M=Pn(C.font),H=Vt(C.padding),te=C.align;let ge=M.lineHeight/2;"bottom"===g||"center"===g||me(g)?(ge+=H.bottom,at(C.text)&&(ge+=M.lineHeight*(C.text.length-1))):ge+=H.top;const{titleX:Me,titleY:rt,maxWidth:Tt,rotation:Zt}=function tp(m,c,g,C){const{top:I,left:M,bottom:H,right:te,chart:ge}=m,{chartArea:Me,scales:rt}=ge;let Zt,tn,mn,Tt=0;const vn=H-I,xn=te-M;if(m.isHorizontal()){if(tn=oo(C,M,te),me(g)){const Zn=Object.keys(g)[0];mn=rt[Zn].getPixelForValue(g[Zn])+vn-c}else mn="center"===g?(Me.bottom+Me.top)/2+vn-c:nu(m,g,c);Zt=te-M}else{if(me(g)){const Zn=Object.keys(g)[0];tn=rt[Zn].getPixelForValue(g[Zn])-xn+c}else tn="center"===g?(Me.left+Me.right)/2-xn+c:nu(m,g,c);mn=oo(C,H,I),Tt="left"===g?-rn:rn}return{titleX:tn,titleY:mn,maxWidth:Zt,rotation:Tt}}(this,ge,g,te);xs(c,C.text,0,0,M,{color:C.color,maxWidth:Tt,rotation:Zt,textAlign:ac(te,g,I),textBaseline:"middle",translation:[Me,rt]})}draw(c){!this._isVisible()||(this.drawBackground(),this.drawGrid(c),this.drawBorder(),this.drawTitle(),this.drawLabels(c))}_layers(){const c=this.options,g=c.ticks&&c.ticks.z||0,C=Ct(c.grid&&c.grid.z,-1),I=Ct(c.border&&c.border.z,0);return this._isVisible()&&this.draw===Sr.prototype.draw?[{z:C,draw:M=>{this.drawBackground(),this.drawGrid(M),this.drawTitle()}},{z:I,draw:()=>{this.drawBorder()}},{z:g,draw:M=>{this.drawLabels(M)}}]:[{z:g,draw:M=>{this.draw(M)}}]}getMatchingVisibleMetas(c){const g=this.chart.getSortedVisibleDatasetMetas(),C=this.axis+"AxisID",I=[];let M,H;for(M=0,H=g.length;M<H;++M){const te=g[M];te[C]===this.id&&(!c||te.type===c)&&I.push(te)}return I}_resolveTickFontOptions(c){return Pn(this.options.ticks.setContext(this.getContext(c)).font)}_maxDigits(){const c=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/c}}class Ja{constructor(c,g,C){this.type=c,this.scope=g,this.override=C,this.items=Object.create(null)}isForType(c){return Object.prototype.isPrototypeOf.call(this.type.prototype,c.prototype)}register(c){const g=Object.getPrototypeOf(c);let C;(function np(m){return"id"in m&&"defaults"in m})(g)&&(C=this.register(g));const I=this.items,M=c.id,H=this.scope+"."+M;if(!M)throw new Error("class does not have id: "+c);return M in I||(I[M]=c,function kc(m,c,g){const C=Fe(Object.create(null),[g?Zi.get(g):{},Zi.get(c),m.defaults]);Zi.set(c,C),m.defaultRoutes&&function ju(m,c){Object.keys(c).forEach(g=>{const C=g.split("."),I=C.pop(),M=[m].concat(C).join("."),H=c[g].split("."),te=H.pop(),ge=H.join(".");Zi.route(M,I,ge,te)})}(c,m.defaultRoutes),m.descriptors&&Zi.describe(c,m.descriptors)}(c,H,C),this.override&&Zi.override(c.id,c.overrides)),H}get(c){return this.items[c]}unregister(c){const g=this.items,C=c.id,I=this.scope;C in g&&delete g[C],I&&C in Zi[I]&&(delete Zi[I][C],this.override&&delete Ii[C])}}class Ku{constructor(){this.controllers=new Ja(fo,"datasets",!0),this.elements=new Ja(ba,"elements"),this.plugins=new Ja(Object,"plugins"),this.scales=new Ja(Sr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...c){this._each("register",c)}remove(...c){this._each("unregister",c)}addControllers(...c){this._each("register",c,this.controllers)}addElements(...c){this._each("register",c,this.elements)}addPlugins(...c){this._each("register",c,this.plugins)}addScales(...c){this._each("register",c,this.scales)}getController(c){return this._get(c,this.controllers,"controller")}getElement(c){return this._get(c,this.elements,"element")}getPlugin(c){return this._get(c,this.plugins,"plugin")}getScale(c){return this._get(c,this.scales,"scale")}removeControllers(...c){this._each("unregister",c,this.controllers)}removeElements(...c){this._each("unregister",c,this.elements)}removePlugins(...c){this._each("unregister",c,this.plugins)}removeScales(...c){this._each("unregister",c,this.scales)}_each(c,g,C){[...g].forEach(I=>{const M=C||this._getRegistryForType(I);C||M.isForType(I)||M===this.plugins&&I.id?this._exec(c,M,I):Ye(I,H=>{const te=C||this._getRegistryForType(H);this._exec(c,te,H)})})}_exec(c,g,C){const I=de(c);Mt(C["before"+I],[],C),g[c](C),Mt(C["after"+I],[],C)}_getRegistryForType(c){for(let g=0;g<this._typedRegistries.length;g++){const C=this._typedRegistries[g];if(C.isForType(c))return C}return this.plugins}_get(c,g,C){const I=g.get(c);if(void 0===I)throw new Error('"'+c+'" is not a registered '+C+".");return I}}var Jr=new Ku;class lc{constructor(){this._init=[]}notify(c,g,C,I){"beforeInit"===g&&(this._init=this._createDescriptors(c,!0),this._notify(this._init,c,"install"));const M=I?this._descriptors(c).filter(I):this._descriptors(c),H=this._notify(M,c,g,C);return"afterDestroy"===g&&(this._notify(M,c,"stop"),this._notify(this._init,c,"uninstall")),H}_notify(c,g,C,I){I=I||{};for(const M of c){const H=M.plugin;if(!1===Mt(H[C],[g,I,M.options],H)&&I.cancelable)return!1}return!0}invalidate(){ct(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(c){if(this._cache)return this._cache;const g=this._cache=this._createDescriptors(c);return this._notifyStateChanges(c),g}_createDescriptors(c,g){const C=c&&c.config,I=Ct(C.options&&C.options.plugins,{}),M=function Ee(m){const c={},g=[],C=Object.keys(Jr.plugins.items);for(let M=0;M<C.length;M++)g.push(Jr.getPlugin(C[M]));const I=m.plugins||[];for(let M=0;M<I.length;M++){const H=I[M];-1===g.indexOf(H)&&(g.push(H),c[H.id]=!0)}return{plugins:g,localIds:c}}(C);return!1!==I||g?function ie(m,{plugins:c,localIds:g},C,I){const M=[],H=m.getContext();for(const te of c){const ge=te.id,Me=Bt(C[ge],I);null!==Me&&M.push({plugin:te,options:Xe(m.config,{plugin:te,local:g[ge]},Me,H)})}return M}(c,M,I,g):[]}_notifyStateChanges(c){const g=this._oldCache||[],C=this._cache,I=(M,H)=>M.filter(te=>!H.some(ge=>te.plugin.id===ge.plugin.id));this._notify(I(g,C),c,"stop"),this._notify(I(C,g),c,"start")}}function Bt(m,c){return c||!1!==m?!0===m?{}:m:null}function Xe(m,{plugin:c,local:g},C,I){const M=m.pluginScopeKeys(c),H=m.getOptionScopes(C,M);return g&&c.defaults&&H.push(c.defaults),m.createResolver(H,I,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function nn(m,c){return((c.datasets||{})[m]||{}).indexAxis||c.indexAxis||(Zi.datasets[m]||{}).indexAxis||"x"}function Vi(m){if("x"===m||"y"===m||"r"===m)return m}function er(m){return"top"===m||"bottom"===m?"x":"left"===m||"right"===m?"y":void 0}function oa(m,...c){if(Vi(m))return m;for(const g of c){const C=g.axis||er(g.position)||m.length>1&&Vi(m[0].toLowerCase());if(C)return C}throw new Error(`Cannot determine type of '${m}' axis. Please provide 'axis' or 'position' option.`)}function iu(m,c,g){if(g[c+"AxisID"]===m)return{axis:c}}function cc(m){const c=m.options||(m.options={});c.plugins=Ct(c.plugins,{}),c.scales=function ip(m,c){const g=Ii[m.type]||{scales:{}},C=c.scales||{},I=nn(m.type,c),M=Object.create(null);return Object.keys(C).forEach(H=>{const te=C[H];if(!me(te))return console.error(`Invalid scale configuration for scale: ${H}`);if(te._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${H}`);const ge=oa(H,te,function qu(m,c){if(c.data&&c.data.datasets){const g=c.data.datasets.filter(C=>C.xAxisID===m||C.yAxisID===m);if(g.length)return iu(m,"x",g[0])||iu(m,"y",g[0])}return{}}(H,m),Zi.scales[te.type]),Me=function Xn(m,c){return m===c?"_index_":"_value_"}(ge,I),rt=g.scales||{};M[H]=he(Object.create(null),[{axis:ge},te,rt[ge],rt[Me]])}),m.data.datasets.forEach(H=>{const te=H.type||m.type,ge=H.indexAxis||nn(te,c),rt=(Ii[te]||{}).scales||{};Object.keys(rt).forEach(Tt=>{const Zt=function Sn(m,c){let g=m;return"_index_"===m?g=c:"_value_"===m&&(g="x"===c?"y":"x"),g}(Tt,ge),tn=H[Zt+"AxisID"]||Zt;M[tn]=M[tn]||Object.create(null),he(M[tn],[{axis:Zt},C[tn],rt[Tt]])})}),Object.keys(M).forEach(H=>{const te=M[H];he(te,[Zi.scales[te.type],Zi.scale])}),M}(m,c)}function Ch(m){return(m=m||{}).datasets=m.datasets||[],m.labels=m.labels||[],m}const vh=new Map,$u=new Set;function op(m,c){let g=vh.get(m);return g||(g=c(),vh.set(m,g),$u.add(g)),g}const ou=(m,c,g)=>{const C=tt(c,g);void 0!==C&&m.add(C)};class su{constructor(c){this._config=function cf(m){return(m=m||{}).data=Ch(m.data),cc(m),m}(c),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(c){this._config.type=c}get data(){return this._config.data}set data(c){this._config.data=Ch(c)}get options(){return this._config.options}set options(c){this._config.options=c}get plugins(){return this._config.plugins}update(){const c=this._config;this.clearCache(),cc(c)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(c){return op(c,()=>[[`datasets.${c}`,""]])}datasetAnimationScopeKeys(c,g){return op(`${c}.transition.${g}`,()=>[[`datasets.${c}.transitions.${g}`,`transitions.${g}`],[`datasets.${c}`,""]])}datasetElementScopeKeys(c,g){return op(`${c}-${g}`,()=>[[`datasets.${c}.elements.${g}`,`datasets.${c}`,`elements.${g}`,""]])}pluginScopeKeys(c){const g=c.id;return op(`${this.type}-plugin-${g}`,()=>[[`plugins.${g}`,...c.additionalOptionScopes||[]]])}_cachedScopes(c,g){const C=this._scopeCache;let I=C.get(c);return(!I||g)&&(I=new Map,C.set(c,I)),I}getOptionScopes(c,g,C){const{options:I,type:M}=this,H=this._cachedScopes(c,C),te=H.get(g);if(te)return te;const ge=new Set;g.forEach(rt=>{c&&(ge.add(c),rt.forEach(Tt=>ou(ge,c,Tt))),rt.forEach(Tt=>ou(ge,I,Tt)),rt.forEach(Tt=>ou(ge,Ii[M]||{},Tt)),rt.forEach(Tt=>ou(ge,Zi,Tt)),rt.forEach(Tt=>ou(ge,Ks,Tt))});const Me=Array.from(ge);return 0===Me.length&&Me.push(Object.create(null)),$u.has(g)&&H.set(g,Me),Me}chartOptionScopes(){const{options:c,type:g}=this;return[c,Ii[g]||{},Zi.datasets[g]||{},{type:g},Zi,Ks]}resolveNamedOptions(c,g,C,I=[""]){const M={$shared:!0},{resolver:H,subPrefixes:te}=uf(this._resolverCache,c,I);let ge=H;(function t0(m,c){const{isScriptable:g,isIndexable:C}=cs(m);for(const I of c){const M=g(I),H=C(I),te=(H||M)&&m[I];if(M&&(ze(te)||e0(te))||H&&at(te))return!0}return!1})(H,g)&&(M.$shared=!1,ge=Si(H,C=ze(C)?C():C,this.createResolver(c,C,te)));for(const Me of g)M[Me]=ge[Me];return M}createResolver(c,g,C=[""],I){const{resolver:M}=uf(this._resolverCache,c,C);return me(g)?Si(M,g,void 0,I):M}}function uf(m,c,g){let C=m.get(c);C||(C=new Map,m.set(c,C));const I=g.join();let M=C.get(I);return M||(M={resolver:Fi(c,g),subPrefixes:g.filter(te=>!te.toLowerCase().includes("hover"))},C.set(I,M)),M}const e0=m=>me(m)&&Object.getOwnPropertyNames(m).reduce((c,g)=>c||ze(m[g]),!1),o0=["top","bottom","left","right","chartArea"];function bh(m,c){return"top"===m||"bottom"===m||-1===o0.indexOf(m)&&"x"===c}function sp(m,c){return function(g,C){return g[m]===C[m]?g[c]-C[c]:g[m]-C[m]}}function Xu(m){const c=m.chart,g=c.options.animation;c.notifyPlugins("afterRender"),Mt(g&&g.onComplete,[m],c)}function rp(m){const c=m.chart,g=c.options.animation;Mt(g&&g.onProgress,[m],c)}function ap(m){return Ze()&&"string"==typeof m?m=document.getElementById(m):m&&m.length&&(m=m[0]),m&&m.canvas&&(m=m.canvas),m}const Dc={},Qa=m=>{const c=ap(m);return Object.values(Dc).filter(g=>g.canvas===c).pop()};function ru(m,c,g){const C=Object.keys(m);for(const I of C){const M=+I;if(M>=c){const H=m[I];delete m[I],(g>0||M>c)&&(m[M+g]=H)}}}class il{static register(...c){Jr.add(...c),ml()}static unregister(...c){Jr.remove(...c),ml()}constructor(c,g){const C=this.config=new su(g),I=ap(c),M=Qa(I);if(M)throw new Error("Canvas is already in use. Chart with ID '"+M.id+"' must be destroyed before the canvas with ID '"+M.canvas.id+"' can be reused.");const H=C.createResolver(C.chartOptionScopes(),this.getContext());this.platform=new(C.platform||function Ac(m){return!Ze()||"undefined"!=typeof OffscreenCanvas&&m instanceof OffscreenCanvas?ve:oc}(I)),this.platform.updateConfig(C);const te=this.platform.acquireContext(I,H.aspectRatio),ge=te&&te.canvas,Me=ge&&ge.height,rt=ge&&ge.width;this.id=Ut(),this.ctx=te,this.canvas=ge,this.width=rt,this.height=Me,this._options=H,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new lc,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function os(m,c){let g;return function(...C){return c?(clearTimeout(g),g=setTimeout(m,c,C)):m.apply(this,C),c}}(Tt=>this.update(Tt),H.resizeDelay||0),this._dataChanges=[],Dc[this.id]=this,te&&ge?(ds.listen(this,"complete",Xu),ds.listen(this,"progress",rp),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:c,maintainAspectRatio:g},width:C,height:I,_aspectRatio:M}=this;return ct(c)?g&&M?M:I?C/I:null:c}get data(){return this.config.data}set data(c){this.config.data=c}get options(){return this._options}set options(c){this.config.options=c}get registry(){return Jr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Rr(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return $s(this.canvas,this.ctx),this}stop(){return ds.stop(this),this}resize(c,g){ds.running(this)?this._resizeBeforeDraw={width:c,height:g}:this._resize(c,g)}_resize(c,g){const C=this.options,H=this.platform.getMaximumSize(this.canvas,c,g,C.maintainAspectRatio&&this.aspectRatio),te=C.devicePixelRatio||this.platform.getDevicePixelRatio(),ge=this.width?"resize":"attach";this.width=H.width,this.height=H.height,this._aspectRatio=this.aspectRatio,Rr(this,te,!0)&&(this.notifyPlugins("resize",{size:H}),Mt(C.onResize,[this,H],this),this.attached&&this._doResize(ge)&&this.render())}ensureScalesHaveIDs(){Ye(this.options.scales||{},(C,I)=>{C.id=I})}buildOrUpdateScales(){const c=this.options,g=c.scales,C=this.scales,I=Object.keys(C).reduce((H,te)=>(H[te]=!1,H),{});let M=[];g&&(M=M.concat(Object.keys(g).map(H=>{const te=g[H],ge=oa(H,te),Me="r"===ge,rt="x"===ge;return{options:te,dposition:Me?"chartArea":rt?"bottom":"left",dtype:Me?"radialLinear":rt?"category":"linear"}}))),Ye(M,H=>{const te=H.options,ge=te.id,Me=oa(ge,te),rt=Ct(te.type,H.dtype);(void 0===te.position||bh(te.position,Me)!==bh(H.dposition))&&(te.position=H.dposition),I[ge]=!0;let Tt=null;ge in C&&C[ge].type===rt?Tt=C[ge]:(Tt=new(Jr.getScale(rt))({id:ge,type:rt,ctx:this.ctx,chart:this}),C[Tt.id]=Tt),Tt.init(te,c)}),Ye(I,(H,te)=>{H||delete C[te]}),Ye(C,H=>{Ms.configure(this,H,H.options),Ms.addBox(this,H)})}_updateMetasets(){const c=this._metasets,g=this.data.datasets.length,C=c.length;if(c.sort((I,M)=>I.index-M.index),C>g){for(let I=g;I<C;++I)this._destroyDatasetMeta(I);c.splice(g,C-g)}this._sortedMetasets=c.slice(0).sort(sp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:c,data:{datasets:g}}=this;c.length>g.length&&delete this._stacks,c.forEach((C,I)=>{0===g.filter(M=>M===C._dataset).length&&this._destroyDatasetMeta(I)})}buildOrUpdateControllers(){const c=[],g=this.data.datasets;let C,I;for(this._removeUnreferencedMetasets(),C=0,I=g.length;C<I;C++){const M=g[C];let H=this.getDatasetMeta(C);const te=M.type||this.config.type;if(H.type&&H.type!==te&&(this._destroyDatasetMeta(C),H=this.getDatasetMeta(C)),H.type=te,H.indexAxis=M.indexAxis||nn(te,this.options),H.order=M.order||0,H.index=C,H.label=""+M.label,H.visible=this.isDatasetVisible(C),H.controller)H.controller.updateIndex(C),H.controller.linkScales();else{const ge=Jr.getController(te),{datasetElementType:Me,dataElementType:rt}=Zi.datasets[te];Object.assign(ge,{dataElementType:Jr.getElement(rt),datasetElementType:Me&&Jr.getElement(Me)}),H.controller=new ge(this,C),c.push(H.controller)}}return this._updateMetasets(),c}_resetElements(){Ye(this.data.datasets,(c,g)=>{this.getDatasetMeta(g).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(c){const g=this.config;g.update();const C=this._options=g.createResolver(g.chartOptionScopes(),this.getContext()),I=this._animationsDisabled=!C.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:c,cancelable:!0}))return;const M=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let H=0;for(let Me=0,rt=this.data.datasets.length;Me<rt;Me++){const{controller:Tt}=this.getDatasetMeta(Me),Zt=!I&&-1===M.indexOf(Tt);Tt.buildOrUpdateElements(Zt),H=Math.max(+Tt.getMaxOverflow(),H)}H=this._minPadding=C.layout.autoPadding?H:0,this._updateLayout(H),I||Ye(M,Me=>{Me.reset()}),this._updateDatasets(c),this.notifyPlugins("afterUpdate",{mode:c}),this._layers.sort(sp("z","_idx"));const{_active:te,_lastEvent:ge}=this;ge?this._eventHandler(ge,!0):te.length&&this._updateHoverStyles(te,te,!0),this.render()}_updateScales(){Ye(this.scales,c=>{Ms.removeBox(this,c)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const c=this.options,g=new Set(Object.keys(this._listeners)),C=new Set(c.events);(!Et(g,C)||!!this._responsiveListeners!==c.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:c}=this,g=this._getUniformDataChanges()||[];for(const{method:C,start:I,count:M}of g)ru(c,I,"_removeElements"===C?-M:M)}_getUniformDataChanges(){const c=this._dataChanges;if(!c||!c.length)return;this._dataChanges=[];const g=this.data.datasets.length,C=M=>new Set(c.filter(H=>H[0]===M).map((H,te)=>te+","+H.splice(1).join(","))),I=C(0);for(let M=1;M<g;M++)if(!Et(I,C(M)))return;return Array.from(I).map(M=>M.split(",")).map(M=>({method:M[1],start:+M[2],count:+M[3]}))}_updateLayout(c){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Ms.update(this,this.width,this.height,c);const g=this.chartArea,C=g.width<=0||g.height<=0;this._layers=[],Ye(this.boxes,I=>{C&&"chartArea"===I.position||(I.configure&&I.configure(),this._layers.push(...I._layers()))},this),this._layers.forEach((I,M)=>{I._idx=M}),this.notifyPlugins("afterLayout")}_updateDatasets(c){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:c,cancelable:!0})){for(let g=0,C=this.data.datasets.length;g<C;++g)this.getDatasetMeta(g).controller.configure();for(let g=0,C=this.data.datasets.length;g<C;++g)this._updateDataset(g,ze(c)?c({datasetIndex:g}):c);this.notifyPlugins("afterDatasetsUpdate",{mode:c})}}_updateDataset(c,g){const C=this.getDatasetMeta(c),I={meta:C,index:c,mode:g,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",I)&&(C.controller._update(g),I.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",I))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(ds.has(this)?this.attached&&!ds.running(this)&&ds.start(this):(this.draw(),Xu({chart:this})))}draw(){let c;if(this._resizeBeforeDraw){const{width:C,height:I}=this._resizeBeforeDraw;this._resize(C,I),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const g=this._layers;for(c=0;c<g.length&&g[c].z<=0;++c)g[c].draw(this.chartArea);for(this._drawDatasets();c<g.length;++c)g[c].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(c){const g=this._sortedMetasets,C=[];let I,M;for(I=0,M=g.length;I<M;++I){const H=g[I];(!c||H.visible)&&C.push(H)}return C}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const c=this.getSortedVisibleDatasetMetas();for(let g=c.length-1;g>=0;--g)this._drawDataset(c[g]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(c){const g=this.ctx,C=c._clip,I=!C.disabled,M=function yh(m){const{xScale:c,yScale:g}=m;if(c&&g)return{left:c.left,right:c.right,top:g.top,bottom:g.bottom}}(c)||this.chartArea,H={meta:c,index:c.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",H)&&(I&&vs(g,{left:!1===C.left?0:M.left-C.left,right:!1===C.right?this.width:M.right+C.right,top:!1===C.top?0:M.top-C.top,bottom:!1===C.bottom?this.height:M.bottom+C.bottom}),c.controller.draw(),I&&bs(g),H.cancelable=!1,this.notifyPlugins("afterDatasetDraw",H))}isPointInArea(c){return ls(c,this.chartArea,this._minPadding)}getElementsAtEventForMode(c,g,C,I){const M=Ju.modes[g];return"function"==typeof M?M(this,c,C,I):[]}getDatasetMeta(c){const g=this.data.datasets[c],C=this._metasets;let I=C.filter(M=>M&&M._dataset===g).pop();return I||(I={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:g&&g.order||0,index:c,_dataset:g,_parsed:[],_sorted:!1},C.push(I)),I}getContext(){return this.$context||(this.$context=Hi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(c){const g=this.data.datasets[c];if(!g)return!1;const C=this.getDatasetMeta(c);return"boolean"==typeof C.hidden?!C.hidden:!g.hidden}setDatasetVisibility(c,g){this.getDatasetMeta(c).hidden=!g}toggleDataVisibility(c){this._hiddenIndices[c]=!this._hiddenIndices[c]}getDataVisibility(c){return!this._hiddenIndices[c]}_updateVisibility(c,g,C){const I=C?"show":"hide",M=this.getDatasetMeta(c),H=M.controller._resolveAnimations(void 0,I);Qe(g)?(M.data[g].hidden=!C,this.update()):(this.setDatasetVisibility(c,C),H.update(M,{visible:C}),this.update(te=>te.datasetIndex===c?I:void 0))}hide(c,g){this._updateVisibility(c,g,!1)}show(c,g){this._updateVisibility(c,g,!0)}_destroyDatasetMeta(c){const g=this._metasets[c];g&&g.controller&&g.controller._destroy(),delete this._metasets[c]}_stop(){let c,g;for(this.stop(),ds.remove(this),c=0,g=this.data.datasets.length;c<g;++c)this._destroyDatasetMeta(c)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:c,ctx:g}=this;this._stop(),this.config.clearCache(),c&&(this.unbindEvents(),$s(c,g),this.platform.releaseContext(g),this.canvas=null,this.ctx=null),delete Dc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...c){return this.canvas.toDataURL(...c)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const c=this._listeners,g=this.platform,C=(M,H)=>{g.addEventListener(this,M,H),c[M]=H},I=(M,H,te)=>{M.offsetX=H,M.offsetY=te,this._eventHandler(M)};Ye(this.options.events,M=>C(M,I))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const c=this._responsiveListeners,g=this.platform,C=(ge,Me)=>{g.addEventListener(this,ge,Me),c[ge]=Me},I=(ge,Me)=>{c[ge]&&(g.removeEventListener(this,ge,Me),delete c[ge])},M=(ge,Me)=>{this.canvas&&this.resize(ge,Me)};let H;const te=()=>{I("attach",te),this.attached=!0,this.resize(),C("resize",M),C("detach",H)};H=()=>{this.attached=!1,I("resize",M),this._stop(),this._resize(0,0),C("attach",te)},g.isAttached(this.canvas)?te():H()}unbindEvents(){Ye(this._listeners,(c,g)=>{this.platform.removeEventListener(this,g,c)}),this._listeners={},Ye(this._responsiveListeners,(c,g)=>{this.platform.removeEventListener(this,g,c)}),this._responsiveListeners=void 0}updateHoverStyle(c,g,C){const I=C?"set":"remove";let M,H,te,ge;for("dataset"===g&&(M=this.getDatasetMeta(c[0].datasetIndex),M.controller["_"+I+"DatasetHoverStyle"]()),te=0,ge=c.length;te<ge;++te){H=c[te];const Me=H&&this.getDatasetMeta(H.datasetIndex).controller;Me&&Me[I+"HoverStyle"](H.element,H.datasetIndex,H.index)}}getActiveElements(){return this._active||[]}setActiveElements(c){const g=this._active||[],C=c.map(({datasetIndex:M,index:H})=>{const te=this.getDatasetMeta(M);if(!te)throw new Error("No dataset found at index "+M);return{datasetIndex:M,element:te.data[H],index:H}});!st(C,g)&&(this._active=C,this._lastEvent=null,this._updateHoverStyles(C,g))}notifyPlugins(c,g,C){return this._plugins.notify(this,c,g,C)}isPluginEnabled(c){return 1===this._plugins._cache.filter(g=>g.plugin.id===c).length}_updateHoverStyles(c,g,C){const I=this.options.hover,M=(ge,Me)=>ge.filter(rt=>!Me.some(Tt=>rt.datasetIndex===Tt.datasetIndex&&rt.index===Tt.index)),H=M(g,c),te=C?c:M(c,g);H.length&&this.updateHoverStyle(H,I.mode,!1),te.length&&I.mode&&this.updateHoverStyle(te,I.mode,!0)}_eventHandler(c,g){const C={event:c,replay:g,cancelable:!0,inChartArea:this.isPointInArea(c)},I=H=>(H.options.events||this.options.events).includes(c.native.type);if(!1===this.notifyPlugins("beforeEvent",C,I))return;const M=this._handleEvent(c,g,C.inChartArea);return C.cancelable=!1,this.notifyPlugins("afterEvent",C,I),(M||C.changed)&&this.render(),this}_handleEvent(c,g,C){const{_active:I=[],options:M}=this,te=this._getActiveElements(c,I,C,g),ge=function Be(m){return"mouseup"===m.type||"click"===m.type||"contextmenu"===m.type}(c),Me=function Li(m,c,g,C){return g&&"mouseout"!==m.type?C?c:m:null}(c,this._lastEvent,C,ge);C&&(this._lastEvent=null,Mt(M.onHover,[c,te,this],this),ge&&Mt(M.onClick,[c,te,this],this));const rt=!st(te,I);return(rt||g)&&(this._active=te,this._updateHoverStyles(te,I,g)),this._lastEvent=Me,rt}_getActiveElements(c,g,C,I){if("mouseout"===c.type)return[];if(!C)return g;const M=this.options.hover;return this.getElementsAtEventForMode(c,M.mode,M,I)}}function ml(){return Ye(il.instances,m=>m._plugins.invalidate())}function Nl(m,c,g,C){return{x:g+m*Math.cos(c),y:C+m*Math.sin(c)}}function dc(m,c,g,C,I,M){const{x:H,y:te,startAngle:ge,pixelMargin:Me,innerRadius:rt}=c,Tt=Math.max(c.outerRadius+C+g-Me,0),Zt=rt>0?rt+C+g+Me:0;let tn=0;const mn=I-ge;if(C){const js=((rt>0?rt-C:0)+(Tt>0?Tt-C:0))/2;tn=(mn-(0!==js?mn*js/(js+C):mn))/2}const xn=(mn-Math.max(.001,mn*Tt-g/qt)/Tt)/2,Zn=ge+xn+tn,zn=I-xn-tn,{outerStart:Yn,outerEnd:ei,innerStart:Gn,innerEnd:ci}=function Ih(m,c,g,C){const I=function xh(m){return oe(m,["outerStart","outerEnd","innerStart","innerEnd"])}(m.options.borderRadius),M=(g-c)/2,H=Math.min(M,C*c/2),te=ge=>{const Me=(g-Math.min(M,ge))*C/2;return ii(ge,0,Math.min(M,Me))};return{outerStart:te(I.outerStart),outerEnd:te(I.outerEnd),innerStart:ii(I.innerStart,0,H),innerEnd:ii(I.innerEnd,0,H)}}(c,Zt,Tt,zn-Zn),mi=Tt-Yn,hi=Tt-ei,ki=Zn+Yn/mi,po=zn-ei/hi,lo=Zt+Gn,ro=Zt+ci,kr=Zn+Gn/lo,ya=zn-ci/ro;if(m.beginPath(),M){const Zo=(ki+po)/2;if(m.arc(H,te,Tt,ki,Zo),m.arc(H,te,Tt,Zo,po),ei>0){const fr=Nl(hi,po,H,te);m.arc(fr.x,fr.y,ei,po,zn+rn)}const ts=Nl(ro,zn,H,te);if(m.lineTo(ts.x,ts.y),ci>0){const fr=Nl(ro,ya,H,te);m.arc(fr.x,fr.y,ci,zn+rn,ya+Math.PI)}const js=(zn-ci/Zt+(Zn+Gn/Zt))/2;if(m.arc(H,te,Zt,zn-ci/Zt,js,!0),m.arc(H,te,Zt,js,Zn+Gn/Zt,!0),Gn>0){const fr=Nl(lo,kr,H,te);m.arc(fr.x,fr.y,Gn,kr+Math.PI,Zn-rn)}const xa=Nl(mi,Zn,H,te);if(m.lineTo(xa.x,xa.y),Yn>0){const fr=Nl(mi,ki,H,te);m.arc(fr.x,fr.y,Yn,Zn-rn,ki)}}else{m.moveTo(H,te);const Zo=Math.cos(ki)*Tt+H,ts=Math.sin(ki)*Tt+te;m.lineTo(Zo,ts);const js=Math.cos(po)*Tt+H,xa=Math.sin(po)*Tt+te;m.lineTo(js,xa)}m.closePath()}Ci(il,"defaults",Zi),Ci(il,"instances",Dc),Ci(il,"overrides",Ii),Ci(il,"registry",Jr),Ci(il,"version","4.3.3"),Ci(il,"getChart",Qa);class ra extends ba{constructor(g){super(),Ci(this,"circumference"),Ci(this,"endAngle"),Ci(this,"fullCircles"),Ci(this,"innerRadius"),Ci(this,"outerRadius"),Ci(this,"pixelMargin"),Ci(this,"startAngle"),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,g&&Object.assign(this,g)}inRange(g,C,I){const M=this.getProps(["x","y"],I),{angle:H,distance:te}=In(M,{x:g,y:C}),{startAngle:ge,endAngle:Me,innerRadius:rt,outerRadius:Tt,circumference:Zt}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],I),tn=(this.options.spacing+this.options.borderWidth)/2,vn=Ct(Zt,Me-ge)>=gn||Wn(H,ge,Me),xn=ti(te,rt+tn,Tt+tn);return vn&&xn}getCenterPoint(g){const{x:C,y:I,startAngle:M,endAngle:H,innerRadius:te,outerRadius:ge}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],g),{offset:Me,spacing:rt}=this.options,Tt=(M+H)/2,Zt=(te+ge+rt+Me)/2;return{x:C+Math.cos(Tt)*Zt,y:I+Math.sin(Tt)*Zt}}tooltipPosition(g){return this.getCenterPoint(g)}draw(g){const{options:C,circumference:I}=this,M=(C.offset||0)/4,H=(C.spacing||0)/2,te=C.circular;if(this.pixelMargin="inner"===C.borderAlign?.33:0,this.fullCircles=I>gn?Math.floor(I/gn):0,0===I||this.innerRadius<0||this.outerRadius<0)return;g.save();const ge=(this.startAngle+this.endAngle)/2;g.translate(Math.cos(ge)*M,Math.sin(ge)*M);const rt=M*(1-Math.sin(Math.min(qt,I||0)));g.fillStyle=C.backgroundColor,g.strokeStyle=C.borderColor,function Th(m,c,g,C,I){const{fullCircles:M,startAngle:H,circumference:te}=c;let ge=c.endAngle;if(M){dc(m,c,g,C,ge,I);for(let Me=0;Me<M;++Me)m.fill();isNaN(te)||(ge=H+(te%gn||gn))}dc(m,c,g,C,ge,I),m.fill()}(g,this,rt,H,te),function sa(m,c,g,C,I){const{fullCircles:M,startAngle:H,circumference:te,options:ge}=c,{borderWidth:Me,borderJoinStyle:rt,borderDash:Tt,borderDashOffset:Zt}=ge,tn="inner"===ge.borderAlign;if(!Me)return;m.setLineDash(Tt||[]),m.lineDashOffset=Zt,tn?(m.lineWidth=2*Me,m.lineJoin=rt||"round"):(m.lineWidth=Me,m.lineJoin=rt||"bevel");let mn=c.endAngle;if(M){dc(m,c,g,C,mn,I);for(let vn=0;vn<M;++vn)m.stroke();isNaN(te)||(mn=H+(te%gn||gn))}tn&&function uc(m,c,g){const{startAngle:C,pixelMargin:I,x:M,y:H,outerRadius:te,innerRadius:ge}=c;let Me=I/te;m.beginPath(),m.arc(M,H,te,C-Me,g+Me),ge>I?(Me=I/ge,m.arc(M,H,ge,g+Me,C-Me,!0)):m.arc(M,H,I,g+rn,C-rn),m.closePath(),m.clip()}(m,c,mn),M||(dc(m,c,g,C,mn,I),m.stroke())}(g,this,rt,H,te),g.restore()}}function ed(m,c,g=c){m.lineCap=Ct(g.borderCapStyle,c.borderCapStyle),m.setLineDash(Ct(g.borderDash,c.borderDash)),m.lineDashOffset=Ct(g.borderDashOffset,c.borderDashOffset),m.lineJoin=Ct(g.borderJoinStyle,c.borderJoinStyle),m.lineWidth=Ct(g.borderWidth,c.borderWidth),m.strokeStyle=Ct(g.borderColor,c.borderColor)}function ln(m,c,g){m.lineTo(g.x,g.y)}function Ys(m,c,g={}){const C=m.length,{start:I=0,end:M=C-1}=g,{start:H,end:te}=c,ge=Math.max(I,H),Me=Math.min(M,te);return{count:C,start:ge,loop:c.loop,ilen:Me<ge&&!(I<H&&M<H||I>te&&M>te)?C+Me-ge:Me-ge}}function Ko(m,c,g,C){const{points:I,options:M}=c,{count:H,start:te,loop:ge,ilen:Me}=Ys(I,g,C),rt=function tr(m){return m.stepped?ys:m.tension||"monotone"===m.cubicInterpolationMode?xr:ln}(M);let tn,mn,vn,{move:Tt=!0,reverse:Zt}=C||{};for(tn=0;tn<=Me;++tn)mn=I[(te+(Zt?Me-tn:tn))%H],!mn.skip&&(Tt?(m.moveTo(mn.x,mn.y),Tt=!1):rt(m,vn,mn,Zt,M.stepped),vn=mn);return ge&&(mn=I[(te+(Zt?Me:0))%H],rt(m,vn,mn,Zt,M.stepped)),!!ge}function df(m,c,g,C){const I=c.points,{count:M,start:H,ilen:te}=Ys(I,g,C),{move:ge=!0,reverse:Me}=C||{};let Zt,tn,mn,vn,xn,Zn,rt=0,Tt=0;const zn=ei=>(H+(Me?te-ei:ei))%M,Yn=()=>{vn!==xn&&(m.lineTo(rt,xn),m.lineTo(rt,vn),m.lineTo(rt,Zn))};for(ge&&(tn=I[zn(0)],m.moveTo(tn.x,tn.y)),Zt=0;Zt<=te;++Zt){if(tn=I[zn(Zt)],tn.skip)continue;const ei=tn.x,Gn=tn.y,ci=0|ei;ci===mn?(Gn<vn?vn=Gn:Gn>xn&&(xn=Gn),rt=(Tt*rt+ei)/++Tt):(Yn(),m.lineTo(ei,Gn),mn=ci,Tt=0,vn=xn=Gn),Zn=Gn}Yn()}function td(m){const c=m.options;return m._decimated||m._loop||c.tension||"monotone"===c.cubicInterpolationMode||c.stepped||c.borderDash&&c.borderDash.length?Ko:df}Ci(ra,"id","arc"),Ci(ra,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Ci(ra,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ci(ra,"descriptors",{_scriptable:!0,_indexable:g=>"borderDash"!==g});const da="function"==typeof Path2D;class _l extends ba{constructor(c){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,c&&Object.assign(this,c)}updateControlPoints(c,g){const C=this.options;!C.tension&&"monotone"!==C.cubicInterpolationMode||C.stepped||this._pointsUpdated||(nt(this._points,C,c,C.spanGaps?this._loop:this._fullLoop,g),this._pointsUpdated=!0)}set points(c){this._points=c,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function ji(m,c){const g=m.points,C=m.options.spanGaps,I=g.length;if(!I)return[];const M=!!m._loop,{start:H,end:te}=function uo(m,c,g,C){let I=0,M=c-1;if(g&&!C)for(;I<c&&!m[I].skip;)I++;for(;I<c&&m[I].skip;)I++;for(I%=c,g&&(M+=I);M>I&&m[M%c].skip;)M--;return M%=c,{start:I,end:M}}(g,I,M,C);return function _o(m,c,g,C){return C&&C.setContext&&g?function bi(m,c,g,C){const I=m._chart.getContext(),M=yo(m.options),{_datasetIndex:H,options:{spanGaps:te}}=m,ge=g.length,Me=[];let rt=M,Tt=c[0].start,Zt=Tt;function tn(mn,vn,xn,Zn){const zn=te?-1:1;if(mn!==vn){for(mn+=ge;g[mn%ge].skip;)mn-=zn;for(;g[vn%ge].skip;)vn+=zn;mn%ge!=vn%ge&&(Me.push({start:mn%ge,end:vn%ge,loop:xn,style:Zn}),rt=Zn,Tt=vn%ge)}}for(const mn of c){Tt=te?Tt:mn.start;let xn,vn=g[Tt%ge];for(Zt=Tt+1;Zt<=mn.end;Zt++){const Zn=g[Zt%ge];xn=yo(C.setContext(Hi(I,{type:"segment",p0:vn,p1:Zn,p0DataIndex:(Zt-1)%ge,p1DataIndex:Zt%ge,datasetIndex:H}))),jo(xn,rt)&&tn(Tt,Zt-1,mn.loop,rt),vn=Zn,rt=xn}Tt<Zt-1&&tn(Tt,Zt-1,mn.loop,rt)}return Me}(m,c,g,C):c}(m,!0===C?[{start:H,end:te,loop:M}]:function mo(m,c,g,C){const I=m.length,M=[];let ge,H=c,te=m[c];for(ge=c+1;ge<=g;++ge){const Me=m[ge%I];Me.skip||Me.stop?te.skip||(M.push({start:c%I,end:(ge-1)%I,loop:C=!1}),c=H=Me.stop?ge:null):(H=ge,te.skip&&(c=ge)),te=Me}return null!==H&&M.push({start:c%I,end:H%I,loop:C}),M}(g,H,te<H?te+I:te,!!m._fullLoop&&0===H&&te===I-1),g,c)}(this,this.options.segment))}first(){const c=this.segments;return c.length&&this.points[c[0].start]}last(){const c=this.segments,C=c.length;return C&&this.points[c[C-1].end]}interpolate(c,g){const C=this.options,I=c[g],M=this.points,H=eo(this,{property:g,start:I,end:I});if(!H.length)return;const te=[],ge=function au(m){return m.stepped?ma:m.tension||"monotone"===m.cubicInterpolationMode?Fa:cr}(C);let Me,rt;for(Me=0,rt=H.length;Me<rt;++Me){const{start:Tt,end:Zt}=H[Me],tn=M[Tt],mn=M[Zt];if(tn===mn){te.push(tn);continue}const xn=ge(tn,mn,Math.abs((I-tn[g])/(mn[g]-tn[g])),C.stepped);xn[g]=c[g],te.push(xn)}return 1===te.length?te[0]:te}pathSegment(c,g,C){return td(this)(c,this,g,C)}path(c,g,C){const I=this.segments,M=td(this);let H=this._loop;g=g||0,C=C||this.points.length-g;for(const te of I)H&=M(c,this,te,{start:g,end:g+C-1});return!!H}draw(c,g,C,I){(this.points||[]).length&&(this.options||{}).borderWidth&&(c.save(),function Mc(m,c,g,C){da&&!c.options.segment?function Ah(m,c,g,C){let I=c._path;I||(I=c._path=new Path2D,c.path(I,g,C)&&I.closePath()),ed(m,c.options),m.stroke(I)}(m,c,g,C):function lp(m,c,g,C){const{segments:I,options:M}=c,H=td(c);for(const te of I)ed(m,M,te.style),m.beginPath(),H(m,c,te,{start:g,end:g+C-1})&&m.closePath(),m.stroke()}(m,c,g,C)}(c,this,C,I),c.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function wh(m,c,g,C){const I=m.options,{[g]:M}=m.getProps([g],C);return Math.abs(c-M)<I.radius+I.hitRadius}Ci(_l,"id","line"),Ci(_l,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ci(_l,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ci(_l,"descriptors",{_scriptable:!0,_indexable:c=>"borderDash"!==c&&"fill"!==c});class Fl extends ba{constructor(g){super(),Ci(this,"parsed"),Ci(this,"skip"),Ci(this,"stop"),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,g&&Object.assign(this,g)}inRange(g,C,I){const M=this.options,{x:H,y:te}=this.getProps(["x","y"],I);return Math.pow(g-H,2)+Math.pow(C-te,2)<Math.pow(M.hitRadius+M.radius,2)}inXRange(g,C){return wh(this,g,"x",C)}inYRange(g,C){return wh(this,g,"y",C)}getCenterPoint(g){const{x:C,y:I}=this.getProps(["x","y"],g);return{x:C,y:I}}size(g){let C=(g=g||this.options||{}).radius||0;return C=Math.max(C,C&&g.hoverRadius||0),2*(C+(C&&g.borderWidth||0))}draw(g,C){const I=this.options;this.skip||I.radius<.1||!ls(this,C,this.size(I)/2)||(g.strokeStyle=I.borderColor,g.lineWidth=I.borderWidth,g.fillStyle=I.backgroundColor,go(g,I,this.x,this.y))}getRange(){const g=this.options||{};return g.radius+g.hitRadius}}function pc(m,c){const{x:g,y:C,base:I,width:M,height:H}=m.getProps(["x","y","base","width","height"],c);let te,ge,Me,rt,Tt;return m.horizontal?(Tt=H/2,te=Math.min(g,I),ge=Math.max(g,I),Me=C-Tt,rt=C+Tt):(Tt=M/2,te=g-Tt,ge=g+Tt,Me=Math.min(C,I),rt=Math.max(C,I)),{left:te,top:Me,right:ge,bottom:rt}}function Cl(m,c,g,C){return m?0:ii(c,g,C)}function nd(m,c,g,C){const I=null===c,M=null===g,te=m&&!(I&&M)&&pc(m,C);return te&&(I||ti(c,te.left,te.right))&&(M||ti(g,te.top,te.bottom))}function id(m,c){m.rect(c.x,c.y,c.w,c.h)}function lu(m,c,g={}){const C=m.x!==g.x?-c:0,I=m.y!==g.y?-c:0;return{x:m.x+C,y:m.y+I,w:m.w+((m.x+m.w!==g.x+g.w?c:0)-C),h:m.h+((m.y+m.h!==g.y+g.h?c:0)-I),radius:m.radius}}Ci(Fl,"id","point"),Ci(Fl,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ci(Fl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class Pc extends ba{constructor(c){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,c&&Object.assign(this,c)}draw(c){const{inflateAmount:g,options:{borderColor:C,backgroundColor:I}}=this,{inner:M,outer:H}=function Oc(m){const c=pc(m),g=c.right-c.left,C=c.bottom-c.top,I=function cp(m,c,g){const I=m.borderSkipped,M=Le(m.options.borderWidth);return{t:Cl(I.top,M.top,0,g),r:Cl(I.right,M.right,0,c),b:Cl(I.bottom,M.bottom,0,g),l:Cl(I.left,M.left,0,c)}}(m,g/2,C/2),M=function vl(m,c,g){const{enableBorderRadius:C}=m.getProps(["enableBorderRadius"]),I=m.options.borderRadius,M=xt(I),H=Math.min(c,g),te=m.borderSkipped,ge=C||me(I);return{topLeft:Cl(!ge||te.top||te.left,M.topLeft,0,H),topRight:Cl(!ge||te.top||te.right,M.topRight,0,H),bottomLeft:Cl(!ge||te.bottom||te.left,M.bottomLeft,0,H),bottomRight:Cl(!ge||te.bottom||te.right,M.bottomRight,0,H)}}(m,g/2,C/2);return{outer:{x:c.left,y:c.top,w:g,h:C,radius:M},inner:{x:c.left+I.l,y:c.top+I.t,w:g-I.l-I.r,h:C-I.t-I.b,radius:{topLeft:Math.max(0,M.topLeft-Math.max(I.t,I.l)),topRight:Math.max(0,M.topRight-Math.max(I.t,I.r)),bottomLeft:Math.max(0,M.bottomLeft-Math.max(I.b,I.l)),bottomRight:Math.max(0,M.bottomRight-Math.max(I.b,I.r))}}}}(this),te=function up(m){return m.topLeft||m.topRight||m.bottomLeft||m.bottomRight}(H.radius)?Yo:id;c.save(),(H.w!==M.w||H.h!==M.h)&&(c.beginPath(),te(c,lu(H,g,M)),c.clip(),te(c,lu(M,-g,H)),c.fillStyle=C,c.fill("evenodd")),c.beginPath(),te(c,lu(M,g)),c.fillStyle=I,c.fill(),c.restore()}inRange(c,g,C){return nd(this,c,g,C)}inXRange(c,g){return nd(this,c,null,g)}inYRange(c,g){return nd(this,null,c,g)}getCenterPoint(c){const{x:g,y:C,base:I,horizontal:M}=this.getProps(["x","y","base","horizontal"],c);return{x:M?(g+I)/2:g,y:M?C:(C+I)/2}}getRange(c){return"x"===c?this.width/2:this.height/2}}Ci(Pc,"id","bar"),Ci(Pc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ci(Pc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var pf=Object.freeze({__proto__:null,ArcElement:ra,BarElement:Pc,LineElement:_l,PointElement:Fl});const Bl=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Ga=Bl.map(m=>m.replace("rgb(","rgba(").replace(")",", 0.5)"));function od(m){return Bl[m%Bl.length]}function Eh(m){return Ga[m%Ga.length]}function pp(m){let c;for(c in m)if(m[c].borderColor||m[c].backgroundColor)return!0;return!1}var Sh={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(m,c,g){if(!g.enabled)return;const{data:{datasets:C},options:I}=m.config,{elements:M}=I;if(!g.forceOverride&&(pp(C)||function Lc(m){return m&&(m.borderColor||m.backgroundColor)}(I)||M&&pp(M)))return;const H=function dp(m){let c=0;return(g,C)=>{const I=m.getDatasetMeta(C).controller;I instanceof No?c=function Zl(m,c){return m.backgroundColor=m.data.map(()=>od(c++)),c}(g,c):I instanceof Hs?c=function _s(m,c){return m.backgroundColor=m.data.map(()=>Eh(c++)),c}(g,c):I&&(c=function sd(m,c){return m.borderColor=od(c),m.backgroundColor=Eh(c),++c}(g,c))}}(m);C.forEach(H)}};function ad(m){if(m._decimated){const c=m._data;delete m._decimated,delete m._data,Object.defineProperty(m,"data",{configurable:!0,enumerable:!0,writable:!0,value:c})}}function uu(m){m.data.datasets.forEach(c=>{ad(c)})}var Dh={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(m,c,g)=>{if(!g.enabled)return void uu(m);const C=m.width;m.data.datasets.forEach((I,M)=>{const{_data:H,indexAxis:te}=I,ge=m.getDatasetMeta(M),Me=H||I.data;if("y"===qn([te,m.options.indexAxis])||!ge.controller.supportsDecimation)return;const rt=m.scales[ge.xAxisID];if("linear"!==rt.type&&"time"!==rt.type||m.options.parsing)return;let mn,{start:Tt,count:Zt}=function kh(m,c){const g=c.length;let I,C=0;const{iScale:M}=m,{min:H,max:te,minDefined:ge,maxDefined:Me}=M.getUserBounds();return ge&&(C=ii(qi(c,M.axis,H).lo,0,g-1)),I=Me?ii(qi(c,M.axis,te).hi+1,C,g)-C:g-C,{start:C,count:I}}(ge,Me);if(Zt<=(g.threshold||4*C))ad(I);else{switch(ct(H)&&(I._data=Me,delete I.data,Object.defineProperty(I,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(vn){this._data=vn}})),g.algorithm){case"lttb":mn=function cu(m,c,g,C,I){const M=I.samples||C;if(M>=g)return m.slice(c,c+g);const H=[],te=(g-2)/(M-2);let ge=0;const Me=c+g-1;let Tt,Zt,tn,mn,vn,rt=c;for(H[ge++]=m[rt],Tt=0;Tt<M-2;Tt++){let zn,xn=0,Zn=0;const Yn=Math.floor((Tt+1)*te)+1+c,ei=Math.min(Math.floor((Tt+2)*te)+1,g)+c,Gn=ei-Yn;for(zn=Yn;zn<ei;zn++)xn+=m[zn].x,Zn+=m[zn].y;xn/=Gn,Zn/=Gn;const ci=Math.floor(Tt*te)+1+c,mi=Math.min(Math.floor((Tt+1)*te)+1,g)+c,{x:hi,y:ki}=m[rt];for(tn=mn=-1,zn=ci;zn<mi;zn++)mn=.5*Math.abs((hi-xn)*(m[zn].y-ki)-(hi-m[zn].x)*(Zn-ki)),mn>tn&&(tn=mn,Zt=m[zn],vn=zn);H[ge++]=Zt,rt=vn}return H[ge++]=m[Me],H}(Me,Tt,Zt,C,g);break;case"min-max":mn=function rd(m,c,g,C){let H,te,ge,Me,rt,Tt,Zt,tn,mn,vn,I=0,M=0;const xn=[],zn=m[c].x,ei=m[c+g-1].x-zn;for(H=c;H<c+g;++H){te=m[H],ge=(te.x-zn)/ei*C,Me=te.y;const Gn=0|ge;if(Gn===rt)Me<mn?(mn=Me,Tt=H):Me>vn&&(vn=Me,Zt=H),I=(M*I+te.x)/++M;else{const ci=H-1;if(!ct(Tt)&&!ct(Zt)){const mi=Math.min(Tt,Zt),hi=Math.max(Tt,Zt);mi!==tn&&mi!==ci&&xn.push(ub(cb({},m[mi]),{x:I})),hi!==tn&&hi!==ci&&xn.push(ub(cb({},m[hi]),{x:I}))}H>0&&ci!==tn&&xn.push(m[ci]),xn.push(te),rt=Gn,M=0,mn=vn=Me,Tt=Zt=tn=H}}return xn}(Me,Tt,Zt,C);break;default:throw new Error(`Unsupported decimation algorithm '${g.algorithm}'`)}I._decimated=mn}})},destroy(m){uu(m)}};function Rc(m,c,g,C){if(C)return;let I=c[m],M=g[m];return"angle"===m&&(I=yn(I),M=yn(M)),{property:m,start:I,end:M}}function du(m,c,g){for(;c>m;c--){const C=g[c];if(!isNaN(C.x)&&!isNaN(C.y))break}return c}function Nc(m,c,g,C){return m&&c?C(m[g],c[g]):m?m[g]:c?c[g]:0}function Mh(m,c){let g=[],C=!1;return at(m)?(C=!0,g=m):g=function Hl(m,c){const{x:g=null,y:C=null}=m||{},I=c.points,M=[];return c.segments.forEach(({start:H,end:te})=>{te=du(H,te,I);const ge=I[H],Me=I[te];null!==C?(M.push({x:ge.x,y:C}),M.push({x:Me.x,y:C})):null!==g&&(M.push({x:g,y:ge.y}),M.push({x:g,y:Me.y}))}),M}(m,c),g.length?new _l({points:g,options:{tension:0},_loop:C,_fullLoop:C}):null}function hf(m){return m&&!1!==m.fill}function Fc(m,c,g){let I=m[c].fill;const M=[c];let H;if(!g)return I;for(;!1!==I&&-1===M.indexOf(I);){if(!De(I))return I;if(H=m[I],!H)return!1;if(H.visible)return I;M.push(I),I=H.fill}return!1}function gf(m,c,g){const C=function hp(m){const c=m.options,g=c.fill;let C=Ct(g&&g.target,g);return void 0===C&&(C=!!c.backgroundColor),!1!==C&&null!==C&&(!0===C?"origin":C)}(m);if(me(C))return!isNaN(C.value)&&C;let I=parseFloat(C);return De(I)&&Math.floor(I)===I?function Oh(m,c,g,C){return("-"===m||"+"===m)&&(g=c+g),!(g===c||g<0||g>=C)&&g}(C[0],c,I,g):["origin","start","end","stack","shape"].indexOf(C)>=0&&C}function ld(m,c,g){const C=[];for(let I=0;I<g.length;I++){const M=g[I],{first:H,last:te,point:ge}=hu(M,c,"x");if(!(!ge||H&&te))if(H)C.unshift(ge);else if(m.push(ge),!te)break}m.push(...C)}function hu(m,c,g){const C=m.interpolate(c,g);if(!C)return{};const I=C[g],M=m.segments,H=m.points;let te=!1,ge=!1;for(let Me=0;Me<M.length;Me++){const rt=M[Me],Tt=H[rt.start][g],Zt=H[rt.end][g];if(ti(I,Tt,Zt)){te=I===Tt,ge=I===Zt;break}}return{first:te,last:ge,point:C}}class Bc{constructor(c){this.x=c.x,this.y=c.y,this.radius=c.radius}pathSegment(c,g,C){const{x:I,y:M,radius:H}=this;return c.arc(I,M,H,(g=g||{start:0,end:gn}).end,g.start,!0),!C.bounds}interpolate(c){const{x:g,y:C,radius:I}=this,M=c.angle;return{x:g+Math.cos(M)*I,y:C+Math.sin(M)*I,angle:M}}}function fu(m,c,g){const C=function gu(m){const{chart:c,fill:g,line:C}=m;if(De(g))return function cd(m,c){const g=m.getDatasetMeta(c);return g&&m.isDatasetVisible(c)?g.dataset:null}(c,g);if("stack"===g)return function Lh(m){const{scale:c,index:g,line:C}=m,I=[],M=C.segments,H=C.points,te=function pu(m,c){const g=[],C=m.getMatchingVisibleMetas("line");for(let I=0;I<C.length;I++){const M=C[I];if(M.index===c)break;M.hidden||g.unshift(M.dataset)}return g}(c,g);te.push(Mh({x:null,y:c.bottom},C));for(let ge=0;ge<M.length;ge++){const Me=M[ge];for(let rt=Me.start;rt<=Me.end;rt++)ld(I,H[rt],te)}return new _l({points:I,options:{}})}(m);if("shape"===g)return!0;const I=function Zc(m){return(m.scale||{}).getPointPositionForValue?function ud(m){const{scale:c,fill:g}=m,C=c.options,I=c.getLabels().length,M=C.reverse?c.max:c.min,H=function ff(m,c,g){let C;return C="start"===m?g:"end"===m?c.options.reverse?c.min:c.max:me(m)?m.value:c.getBaseValue(),C}(g,c,M),te=[];if(C.grid.circular){const ge=c.getPointPositionForValue(0,M);return new Bc({x:ge.x,y:ge.y,radius:c.getDistanceFromCenterForValue(H)})}for(let ge=0;ge<I;++ge)te.push(c.getPointPositionForValue(ge,H));return te}(m):function gp(m){const{scale:c={},fill:g}=m,C=function Ph(m,c){let g=null;return"start"===m?g=c.bottom:"end"===m?g=c.top:me(m)?g=c.getPixelForValue(m.value):c.getBasePixel&&(g=c.getBasePixel()),g}(g,c);if(De(C)){const I=c.isHorizontal();return{x:I?C:null,y:I?null:C}}return null}(m)}(m);return I instanceof Bc?I:Mh(I,C)}(c),{line:I,scale:M,axis:H}=c,te=I.options,ge=te.fill,Me=te.backgroundColor,{above:rt=Me,below:Tt=Me}=ge||{};C&&I.points.length&&(vs(m,g),function mf(m,c){const{line:g,target:C,above:I,below:M,area:H,scale:te}=c,ge=g._loop?"angle":c.axis;m.save(),"x"===ge&&M!==I&&(dd(m,C,H.top),pd(m,{line:g,target:C,color:I,scale:te,property:ge}),m.restore(),m.save(),dd(m,C,H.bottom)),pd(m,{line:g,target:C,color:M,scale:te,property:ge}),m.restore()}(m,{line:I,target:C,above:rt,below:Tt,area:g,scale:M,axis:H}),bs(m))}function dd(m,c,g){const{segments:C,points:I}=c;let M=!0,H=!1;m.beginPath();for(const te of C){const{start:ge,end:Me}=te,rt=I[ge],Tt=I[du(ge,Me,I)];M?(m.moveTo(rt.x,rt.y),M=!1):(m.lineTo(rt.x,g),m.lineTo(rt.x,rt.y)),H=!!c.pathSegment(m,te,{move:H}),H?m.closePath():m.lineTo(Tt.x,g)}m.lineTo(c.first().x,g),m.closePath(),m.clip()}function pd(m,c){const{line:g,target:C,property:I,color:M,scale:H}=c,te=function Ul(m,c,g){const C=m.segments,I=m.points,M=c.points,H=[];for(const te of C){let{start:ge,end:Me}=te;Me=du(ge,Me,I);const rt=Rc(g,I[ge],I[Me],te.loop);if(!c.segments){H.push({source:te,target:rt,start:I[ge],end:I[Me]});continue}const Tt=eo(c,rt);for(const Zt of Tt){const tn=Rc(g,M[Zt.start],M[Zt.end],Zt.loop),mn=ui(te,I,tn);for(const vn of mn)H.push({source:vn,target:Zt,start:{[g]:Nc(rt,tn,"start",Math.max)},end:{[g]:Nc(rt,tn,"end",Math.min)}})}}return H}(g,C,I);for(const{source:ge,target:Me,start:rt,end:Tt}of te){const{style:{backgroundColor:Zt=M}={}}=ge,tn=!0!==C;m.save(),m.fillStyle=Zt,hd(m,H,tn&&Rc(I,rt,Tt)),m.beginPath();const mn=!!g.pathSegment(m,ge);let vn;if(tn){mn?m.closePath():mu(m,C,Tt,I);const xn=!!C.pathSegment(m,Me,{move:mn,reverse:!0});vn=mn&&xn,vn||mu(m,C,rt,I)}m.closePath(),m.fill(vn?"evenodd":"nonzero"),m.restore()}}function hd(m,c,g){const{top:C,bottom:I}=c.chart.chartArea,{property:M,start:H,end:te}=g||{};"x"===M&&(m.beginPath(),m.rect(H,C,te-H,I-C),m.clip())}function mu(m,c,g,C){const I=c.interpolate(g,C);I&&m.lineTo(I.x,I.y)}var hc={id:"filler",afterDatasetsUpdate(m,c,g){const C=(m.data.datasets||[]).length,I=[];let M,H,te,ge;for(H=0;H<C;++H)M=m.getDatasetMeta(H),te=M.dataset,ge=null,te&&te.options&&te instanceof _l&&(ge={visible:m.isDatasetVisible(H),index:H,fill:gf(te,H,C),chart:m,axis:M.controller.options.indexAxis,scale:M.vScale,line:te}),M.$filler=ge,I.push(ge);for(H=0;H<C;++H)ge=I[H],ge&&!1!==ge.fill&&(ge.fill=Fc(I,H,g.propagate))},beforeDraw(m,c,g){const C="beforeDraw"===g.drawTime,I=m.getSortedVisibleDatasetMetas(),M=m.chartArea;for(let H=I.length-1;H>=0;--H){const te=I[H].$filler;!te||(te.line.updateControlPoints(M,te.axis),C&&te.fill&&fu(m.ctx,te,M))}},beforeDatasetsDraw(m,c,g){if("beforeDatasetsDraw"!==g.drawTime)return;const C=m.getSortedVisibleDatasetMetas();for(let I=C.length-1;I>=0;--I){const M=C[I].$filler;hf(M)&&fu(m.ctx,M,m.chartArea)}},beforeDatasetDraw(m,c,g){const C=c.meta.$filler;!hf(C)||"beforeDatasetDraw"!==g.drawTime||fu(m.ctx,C,m.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Rh=(m,c)=>{let{boxHeight:g=c,boxWidth:C=c}=m;return m.usePointStyle&&(g=Math.min(g,c),C=m.pointStyleWidth||Math.min(C,c)),{boxWidth:C,boxHeight:g,itemHeight:Math.max(c,g)}};class Fh extends ba{constructor(c){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=c.chart,this.options=c.options,this.ctx=c.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(c,g,C){this.maxWidth=c,this.maxHeight=g,this._margins=C,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const c=this.options.labels||{};let g=Mt(c.generateLabels,[this.chart],this)||[];c.filter&&(g=g.filter(C=>c.filter(C,this.chart.data))),c.sort&&(g=g.sort((C,I)=>c.sort(C,I,this.chart.data))),this.options.reverse&&g.reverse(),this.legendItems=g}fit(){const{options:c,ctx:g}=this;if(!c.display)return void(this.width=this.height=0);const C=c.labels,I=Pn(C.font),M=I.size,H=this._computeTitleHeight(),{boxWidth:te,itemHeight:ge}=Rh(C,M);let Me,rt;g.font=I.string,this.isHorizontal()?(Me=this.maxWidth,rt=this._fitRows(H,M,te,ge)+10):(rt=this.maxHeight,Me=this._fitCols(H,I,te,ge)+10),this.width=Math.min(Me,c.maxWidth||this.maxWidth),this.height=Math.min(rt,c.maxHeight||this.maxHeight)}_fitRows(c,g,C,I){const{ctx:M,maxWidth:H,options:{labels:{padding:te}}}=this,ge=this.legendHitBoxes=[],Me=this.lineWidths=[0],rt=I+te;let Tt=c;M.textAlign="left",M.textBaseline="middle";let Zt=-1,tn=-rt;return this.legendItems.forEach((mn,vn)=>{const xn=C+g/2+M.measureText(mn.text).width;(0===vn||Me[Me.length-1]+xn+2*te>H)&&(Tt+=rt,Me[Me.length-(vn>0?0:1)]=0,tn+=rt,Zt++),ge[vn]={left:0,top:tn,row:Zt,width:xn,height:I},Me[Me.length-1]+=xn+te}),Tt}_fitCols(c,g,C,I){const{ctx:M,maxHeight:H,options:{labels:{padding:te}}}=this,ge=this.legendHitBoxes=[],Me=this.columnSizes=[],rt=H-c;let Tt=te,Zt=0,tn=0,mn=0,vn=0;return this.legendItems.forEach((xn,Zn)=>{const{itemWidth:zn,itemHeight:Yn}=function Bh(m,c,g,C,I){const M=function Uc(m,c,g,C){let I=m.text;return I&&"string"!=typeof I&&(I=I.reduce((M,H)=>M.length>H.length?M:H)),c+g.size/2+C.measureText(I).width}(C,m,c,g),H=function Zh(m,c,g){let C=m;return"string"!=typeof c.text&&(C=fp(c,g)),C}(I,C,c.lineHeight);return{itemWidth:M,itemHeight:H}}(C,g,M,xn,I);Zn>0&&tn+Yn+2*te>rt&&(Tt+=Zt+te,Me.push({width:Zt,height:tn}),mn+=Zt+te,vn++,Zt=tn=0),ge[Zn]={left:mn,top:tn,col:vn,width:zn,height:Yn},Zt=Math.max(Zt,zn),tn+=Yn+te}),Tt+=Zt,Me.push({width:Zt,height:tn}),Tt}adjustHitBoxes(){if(!this.options.display)return;const c=this._computeTitleHeight(),{legendHitBoxes:g,options:{align:C,labels:{padding:I},rtl:M}}=this,H=pt(M,this.left,this.width);if(this.isHorizontal()){let te=0,ge=oo(C,this.left+I,this.right-this.lineWidths[te]);for(const Me of g)te!==Me.row&&(te=Me.row,ge=oo(C,this.left+I,this.right-this.lineWidths[te])),Me.top+=this.top+c+I,Me.left=H.leftForLtr(H.x(ge),Me.width),ge+=Me.width+I}else{let te=0,ge=oo(C,this.top+c+I,this.bottom-this.columnSizes[te].height);for(const Me of g)Me.col!==te&&(te=Me.col,ge=oo(C,this.top+c+I,this.bottom-this.columnSizes[te].height)),Me.top=ge,Me.left+=this.left+I,Me.left=H.leftForLtr(H.x(Me.left),Me.width),ge+=Me.height+I}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const c=this.ctx;vs(c,this),this._draw(),bs(c)}}_draw(){const{options:c,columnSizes:g,lineWidths:C,ctx:I}=this,{align:M,labels:H}=c,te=Zi.color,ge=pt(c.rtl,this.left,this.width),Me=Pn(H.font),{padding:rt}=H,Tt=Me.size,Zt=Tt/2;let tn;this.drawTitle(),I.textAlign=ge.textAlign("left"),I.textBaseline="middle",I.lineWidth=.5,I.font=Me.string;const{boxWidth:mn,boxHeight:vn,itemHeight:xn}=Rh(H,Tt),Yn=this.isHorizontal(),ei=this._computeTitleHeight();tn=Yn?{x:oo(M,this.left+rt,this.right-C[0]),y:this.top+rt+ei,line:0}:{x:this.left+rt,y:oo(M,this.top+ei+rt,this.bottom-g[0].height),line:0},Ve(this.ctx,c.textDirection);const Gn=xn+rt;this.legendItems.forEach((ci,mi)=>{I.strokeStyle=ci.fontColor,I.fillStyle=ci.fontColor;const hi=I.measureText(ci.text).width,ki=ge.textAlign(ci.textAlign||(ci.textAlign=H.textAlign)),po=mn+Zt+hi;let lo=tn.x,ro=tn.y;ge.setWidth(this.width),Yn?mi>0&&lo+po+rt>this.right&&(ro=tn.y+=Gn,tn.line++,lo=tn.x=oo(M,this.left+rt,this.right-C[tn.line])):mi>0&&ro+Gn>this.bottom&&(lo=tn.x=lo+g[tn.line].width+rt,tn.line++,ro=tn.y=oo(M,this.top+ei+rt,this.bottom-g[tn.line].height)),function(ci,mi,hi){if(isNaN(mn)||mn<=0||isNaN(vn)||vn<0)return;I.save();const ki=Ct(hi.lineWidth,1);if(I.fillStyle=Ct(hi.fillStyle,te),I.lineCap=Ct(hi.lineCap,"butt"),I.lineDashOffset=Ct(hi.lineDashOffset,0),I.lineJoin=Ct(hi.lineJoin,"miter"),I.lineWidth=ki,I.strokeStyle=Ct(hi.strokeStyle,te),I.setLineDash(Ct(hi.lineDash,[])),H.usePointStyle){const po={radius:vn*Math.SQRT2/2,pointStyle:hi.pointStyle,rotation:hi.rotation,borderWidth:ki},lo=ge.xPlus(ci,mn/2);Cs(I,po,lo,mi+Zt,H.pointStyleWidth&&mn)}else{const po=mi+Math.max((Tt-vn)/2,0),lo=ge.leftForLtr(ci,mn),ro=xt(hi.borderRadius);I.beginPath(),Object.values(ro).some(kr=>0!==kr)?Yo(I,{x:lo,y:po,w:mn,h:vn,radius:ro}):I.rect(lo,po,mn,vn),I.fill(),0!==ki&&I.stroke()}I.restore()}(ge.x(lo),ro,ci),lo=((m,c,g,C)=>m===(C?"left":"right")?g:"center"===m?(c+g)/2:c)(ki,lo+mn+Zt,Yn?lo+po:this.right,c.rtl),function(ci,mi,hi){xs(I,hi.text,ci,mi+xn/2,Me,{strikethrough:hi.hidden,textAlign:ge.textAlign(hi.textAlign)})}(ge.x(lo),ro,ci),Yn?tn.x+=po+rt:tn.y+="string"!=typeof ci.text?fp(ci,Me.lineHeight)+rt:Gn}),St(this.ctx,c.textDirection)}drawTitle(){const c=this.options,g=c.title,C=Pn(g.font),I=Vt(g.padding);if(!g.display)return;const M=pt(c.rtl,this.left,this.width),H=this.ctx,te=g.position,Me=I.top+C.size/2;let rt,Tt=this.left,Zt=this.width;if(this.isHorizontal())Zt=Math.max(...this.lineWidths),rt=this.top+Me,Tt=oo(c.align,Tt,this.right-Zt);else{const mn=this.columnSizes.reduce((vn,xn)=>Math.max(vn,xn.height),0);rt=Me+oo(c.align,this.top,this.bottom-mn-c.labels.padding-this._computeTitleHeight())}const tn=oo(te,Tt,Tt+Zt);H.textAlign=M.textAlign(ho(te)),H.textBaseline="middle",H.strokeStyle=g.color,H.fillStyle=g.color,H.font=C.string,xs(H,g.text,tn,rt,C)}_computeTitleHeight(){const c=this.options.title,g=Pn(c.font),C=Vt(c.padding);return c.display?g.lineHeight+C.height:0}_getLegendItemAt(c,g){let C,I,M;if(ti(c,this.left,this.right)&&ti(g,this.top,this.bottom))for(M=this.legendHitBoxes,C=0;C<M.length;++C)if(I=M[C],ti(c,I.left,I.left+I.width)&&ti(g,I.top,I.top+I.height))return this.legendItems[C];return null}handleEvent(c){const g=this.options;if(!function Vl(m,c){return!(("mousemove"!==m&&"mouseout"!==m||!c.onHover&&!c.onLeave)&&(!c.onClick||"click"!==m&&"mouseup"!==m))}(c.type,g))return;const C=this._getLegendItemAt(c.x,c.y);if("mousemove"===c.type||"mouseout"===c.type){const I=this._hoveredItem,M=((m,c)=>null!==m&&null!==c&&m.datasetIndex===c.datasetIndex&&m.index===c.index)(I,C);I&&!M&&Mt(g.onLeave,[c,I,this],this),this._hoveredItem=C,C&&!M&&Mt(g.onHover,[c,C,this],this)}else C&&Mt(g.onClick,[c,C,this],this)}}function fp(m,c){return c*(m.text?m.text.length:0)}var gd={id:"legend",_element:Fh,start(m,c,g){const C=m.legend=new Fh({ctx:m.ctx,options:g,chart:m});Ms.configure(m,C,g),Ms.addBox(m,C)},stop(m){Ms.removeBox(m,m.legend),delete m.legend},beforeUpdate(m,c,g){const C=m.legend;Ms.configure(m,C,g),C.options=g},afterUpdate(m){const c=m.legend;c.buildLabels(),c.adjustHitBoxes()},afterEvent(m,c){c.replay||m.legend.handleEvent(c.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(m,c,g){const C=c.datasetIndex,I=g.chart;I.isDatasetVisible(C)?(I.hide(C),c.hidden=!0):(I.show(C),c.hidden=!1)},onHover:null,onLeave:null,labels:{color:m=>m.chart.options.color,boxWidth:40,padding:10,generateLabels(m){const c=m.data.datasets,{labels:{usePointStyle:g,pointStyle:C,textAlign:I,color:M,useBorderRadius:H,borderRadius:te}}=m.legend.options;return m._getSortedDatasetMetas().map(ge=>{const Me=ge.controller.getStyle(g?0:void 0),rt=Vt(Me.borderWidth);return{text:c[ge.index].label,fillStyle:Me.backgroundColor,fontColor:M,hidden:!ge.visible,lineCap:Me.borderCapStyle,lineDash:Me.borderDash,lineDashOffset:Me.borderDashOffset,lineJoin:Me.borderJoinStyle,lineWidth:(rt.width+rt.height)/4,strokeStyle:Me.borderColor,pointStyle:C||Me.pointStyle,rotation:Me.rotation,textAlign:I||Me.textAlign,borderRadius:H&&(te||Me.borderRadius),datasetIndex:ge.index}},this)}},title:{color:m=>m.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:m=>!m.startsWith("on"),labels:{_scriptable:m=>!["generateLabels","filter","sort"].includes(m)}}};class fd extends ba{constructor(c){super(),this.chart=c.chart,this.options=c.options,this.ctx=c.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(c,g){const C=this.options;if(this.left=0,this.top=0,!C.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=c,this.height=this.bottom=g;const I=at(C.text)?C.text.length:1;this._padding=Vt(C.padding);const M=I*Pn(C.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=M:this.width=M}isHorizontal(){const c=this.options.position;return"top"===c||"bottom"===c}_drawArgs(c){const{top:g,left:C,bottom:I,right:M,options:H}=this,te=H.align;let Me,rt,Tt,ge=0;return this.isHorizontal()?(rt=oo(te,C,M),Tt=g+c,Me=M-C):("left"===H.position?(rt=C+c,Tt=oo(te,I,g),ge=-.5*qt):(rt=M-c,Tt=oo(te,g,I),ge=.5*qt),Me=I-g),{titleX:rt,titleY:Tt,maxWidth:Me,rotation:ge}}draw(){const c=this.ctx,g=this.options;if(!g.display)return;const C=Pn(g.font),M=C.lineHeight/2+this._padding.top,{titleX:H,titleY:te,maxWidth:ge,rotation:Me}=this._drawArgs(M);xs(c,g.text,0,0,C,{color:g.color,maxWidth:ge,rotation:Me,textAlign:ho(g.align),textBaseline:"middle",translation:[H,te]})}}var mp={id:"title",_element:fd,start(m,c,g){!function Uh(m,c){const g=new fd({ctx:m.ctx,options:c,chart:m});Ms.configure(m,g,c),Ms.addBox(m,g),m.titleBlock=g}(m,g)},stop(m){Ms.removeBox(m,m.titleBlock),delete m.titleBlock},beforeUpdate(m,c,g){const C=m.titleBlock;Ms.configure(m,C,g),C.options=g},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Wa=new WeakMap;var _f={id:"subtitle",start(m,c,g){const C=new fd({ctx:m.ctx,options:g,chart:m});Ms.configure(m,C,g),Ms.addBox(m,C),Wa.set(m,C)},stop(m){Ms.removeBox(m,Wa.get(m)),Wa.delete(m)},beforeUpdate(m,c,g){const C=Wa.get(m);Ms.configure(m,C,g),C.options=g},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const _u={average(m){if(!m.length)return!1;let c,g,C=0,I=0,M=0;for(c=0,g=m.length;c<g;++c){const H=m[c].element;if(H&&H.hasValue()){const te=H.tooltipPosition();C+=te.x,I+=te.y,++M}}return{x:C/M,y:I/M}},nearest(m,c){if(!m.length)return!1;let M,H,te,g=c.x,C=c.y,I=Number.POSITIVE_INFINITY;for(M=0,H=m.length;M<H;++M){const ge=m[M].element;if(ge&&ge.hasValue()){const rt=Rt(c,ge.getCenterPoint());rt<I&&(I=rt,te=ge)}}if(te){const ge=te.tooltipPosition();g=ge.x,C=ge.y}return{x:g,y:C}}};function ol(m,c){return c&&(at(c)?Array.prototype.push.apply(m,c):m.push(c)),m}function bl(m){return("string"==typeof m||m instanceof String)&&m.indexOf("\n")>-1?m.split("\n"):m}function Cf(m,c){const{element:g,datasetIndex:C,index:I}=c,M=m.getDatasetMeta(C).controller,{label:H,value:te}=M.getLabelAndValue(I);return{chart:m,label:H,parsed:M.getParsed(I),raw:m.data.datasets[C].data[I],formattedValue:te,dataset:M.getDataset(),dataIndex:I,datasetIndex:C,element:g}}function Ya(m,c){const g=m.chart.ctx,{body:C,footer:I,title:M}=m,{boxWidth:H,boxHeight:te}=c,ge=Pn(c.bodyFont),Me=Pn(c.titleFont),rt=Pn(c.footerFont),Tt=M.length,Zt=I.length,tn=C.length,mn=Vt(c.padding);let vn=mn.height,xn=0,Zn=C.reduce((ei,Gn)=>ei+Gn.before.length+Gn.lines.length+Gn.after.length,0);Zn+=m.beforeBody.length+m.afterBody.length,Tt&&(vn+=Tt*Me.lineHeight+(Tt-1)*c.titleSpacing+c.titleMarginBottom),Zn&&(vn+=tn*(c.displayColors?Math.max(te,ge.lineHeight):ge.lineHeight)+(Zn-tn)*ge.lineHeight+(Zn-1)*c.bodySpacing),Zt&&(vn+=c.footerMarginTop+Zt*rt.lineHeight+(Zt-1)*c.footerSpacing);let zn=0;const Yn=function(ei){xn=Math.max(xn,g.measureText(ei).width+zn)};return g.save(),g.font=Me.string,Ye(m.title,Yn),g.font=ge.string,Ye(m.beforeBody.concat(m.afterBody),Yn),zn=c.displayColors?H+2+c.boxPadding:0,Ye(C,ei=>{Ye(ei.before,Yn),Ye(ei.lines,Yn),Ye(ei.after,Yn)}),zn=0,g.font=rt.string,Ye(m.footer,Yn),g.restore(),xn+=mn.width,{width:xn,height:vn}}function bf(m,c,g,C){const{x:I,width:M}=g,{width:H,chartArea:{left:te,right:ge}}=m;let Me="center";return"center"===C?Me=I<=(te+ge)/2?"left":"right":I<=M/2?Me="left":I>=H-M/2&&(Me="right"),function vf(m,c,g,C){const{x:I,width:M}=C,H=g.caretSize+g.caretPadding;if("left"===m&&I+M+H>c.width||"right"===m&&I-M-H<0)return!0}(Me,m,c,g)&&(Me="center"),Me}function _p(m,c,g){const C=g.yAlign||c.yAlign||function Hc(m,c){const{y:g,height:C}=c;return g<C/2?"top":g>m.height-C/2?"bottom":"center"}(m,g);return{xAlign:g.xAlign||c.xAlign||bf(m,c,g,C),yAlign:C}}function Cp(m,c,g,C){const{caretSize:I,caretPadding:M,cornerRadius:H}=m,{xAlign:te,yAlign:ge}=g,Me=I+M,{topLeft:rt,topRight:Tt,bottomLeft:Zt,bottomRight:tn}=xt(H);let mn=function Hh(m,c){let{x:g,width:C}=m;return"right"===c?g-=C:"center"===c&&(g-=C/2),g}(c,te);const vn=function Vh(m,c,g){let{y:C,height:I}=m;return"top"===c?C+=g:C-="bottom"===c?I+g:I/2,C}(c,ge,Me);return"center"===ge?"left"===te?mn+=Me:"right"===te&&(mn-=Me):"left"===te?mn-=Math.max(rt,Zt)+I:"right"===te&&(mn+=Math.max(Tt,tn)+I),{x:ii(mn,0,C.width-c.width),y:ii(vn,0,C.height-c.height)}}function Cu(m,c,g){const C=Vt(g.padding);return"center"===c?m.x+m.width/2:"right"===c?m.x+m.width-C.right:m.x+C.left}function yf(m){return ol([],bl(m))}function vp(m,c){const g=c&&c.dataset&&c.dataset.tooltip&&c.dataset.tooltip.callbacks;return g?m.override(g):m}const zh={beforeTitle:zt,title(m){if(m.length>0){const c=m[0],g=c.chart.data.labels,C=g?g.length:0;if(this&&this.options&&"dataset"===this.options.mode)return c.dataset.label||"";if(c.label)return c.label;if(C>0&&c.dataIndex<C)return g[c.dataIndex]}return""},afterTitle:zt,beforeBody:zt,beforeLabel:zt,label(m){if(this&&this.options&&"dataset"===this.options.mode)return m.label+": "+m.formattedValue||m.formattedValue;let c=m.dataset.label||"";c&&(c+=": ");const g=m.formattedValue;return ct(g)||(c+=g),c},labelColor(m){const g=m.chart.getDatasetMeta(m.datasetIndex).controller.getStyle(m.dataIndex);return{borderColor:g.borderColor,backgroundColor:g.backgroundColor,borderWidth:g.borderWidth,borderDash:g.borderDash,borderDashOffset:g.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(m){const g=m.chart.getDatasetMeta(m.datasetIndex).controller.getStyle(m.dataIndex);return{pointStyle:g.pointStyle,rotation:g.rotation}},afterLabel:zt,afterBody:zt,beforeFooter:zt,footer:zt,afterFooter:zt};function Qr(m,c,g,C){const I=m[c].call(g,C);return void 0===I?zh[c].call(g,C):I}class ja extends ba{constructor(c){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=c.chart,this.options=c.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(c){this.options=c,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const c=this._cachedAnimations;if(c)return c;const g=this.chart,C=this.options.setContext(this.getContext()),I=C.enabled&&g.options.animation&&C.animations,M=new pe(this.chart,I);return I._cacheable&&(this._cachedAnimations=Object.freeze(M)),M}getContext(){return this.$context||(this.$context=function xf(m,c,g){return Hi(m,{tooltip:c,tooltipItems:g,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(c,g){const{callbacks:C}=g,I=Qr(C,"beforeTitle",this,c),M=Qr(C,"title",this,c),H=Qr(C,"afterTitle",this,c);let te=[];return te=ol(te,bl(I)),te=ol(te,bl(M)),te=ol(te,bl(H)),te}getBeforeBody(c,g){return yf(Qr(g.callbacks,"beforeBody",this,c))}getBody(c,g){const{callbacks:C}=g,I=[];return Ye(c,M=>{const H={before:[],lines:[],after:[]},te=vp(C,M);ol(H.before,bl(Qr(te,"beforeLabel",this,M))),ol(H.lines,Qr(te,"label",this,M)),ol(H.after,bl(Qr(te,"afterLabel",this,M))),I.push(H)}),I}getAfterBody(c,g){return yf(Qr(g.callbacks,"afterBody",this,c))}getFooter(c,g){const{callbacks:C}=g,I=Qr(C,"beforeFooter",this,c),M=Qr(C,"footer",this,c),H=Qr(C,"afterFooter",this,c);let te=[];return te=ol(te,bl(I)),te=ol(te,bl(M)),te=ol(te,bl(H)),te}_createItems(c){const g=this._active,C=this.chart.data,I=[],M=[],H=[];let ge,Me,te=[];for(ge=0,Me=g.length;ge<Me;++ge)te.push(Cf(this.chart,g[ge]));return c.filter&&(te=te.filter((rt,Tt,Zt)=>c.filter(rt,Tt,Zt,C))),c.itemSort&&(te=te.sort((rt,Tt)=>c.itemSort(rt,Tt,C))),Ye(te,rt=>{const Tt=vp(c.callbacks,rt);I.push(Qr(Tt,"labelColor",this,rt)),M.push(Qr(Tt,"labelPointStyle",this,rt)),H.push(Qr(Tt,"labelTextColor",this,rt))}),this.labelColors=I,this.labelPointStyles=M,this.labelTextColors=H,this.dataPoints=te,te}update(c,g){const C=this.options.setContext(this.getContext()),I=this._active;let M,H=[];if(I.length){const te=_u[C.position].call(this,I,this._eventPosition);H=this._createItems(C),this.title=this.getTitle(H,C),this.beforeBody=this.getBeforeBody(H,C),this.body=this.getBody(H,C),this.afterBody=this.getAfterBody(H,C),this.footer=this.getFooter(H,C);const ge=this._size=Ya(this,C),Me=Object.assign({},te,ge),rt=_p(this.chart,C,Me),Tt=Cp(C,Me,rt,this.chart);this.xAlign=rt.xAlign,this.yAlign=rt.yAlign,M={opacity:1,x:Tt.x,y:Tt.y,width:ge.width,height:ge.height,caretX:te.x,caretY:te.y}}else 0!==this.opacity&&(M={opacity:0});this._tooltipItems=H,this.$context=void 0,M&&this._resolveAnimations().update(this,M),c&&C.external&&C.external.call(this,{chart:this.chart,tooltip:this,replay:g})}drawCaret(c,g,C,I){const M=this.getCaretPosition(c,C,I);g.lineTo(M.x1,M.y1),g.lineTo(M.x2,M.y2),g.lineTo(M.x3,M.y3)}getCaretPosition(c,g,C){const{xAlign:I,yAlign:M}=this,{caretSize:H,cornerRadius:te}=C,{topLeft:ge,topRight:Me,bottomLeft:rt,bottomRight:Tt}=xt(te),{x:Zt,y:tn}=c,{width:mn,height:vn}=g;let xn,Zn,zn,Yn,ei,Gn;return"center"===M?(ei=tn+vn/2,"left"===I?(xn=Zt,Zn=xn-H,Yn=ei+H,Gn=ei-H):(xn=Zt+mn,Zn=xn+H,Yn=ei-H,Gn=ei+H),zn=xn):(Zn="left"===I?Zt+Math.max(ge,rt)+H:"right"===I?Zt+mn-Math.max(Me,Tt)-H:this.caretX,"top"===M?(Yn=tn,ei=Yn-H,xn=Zn-H,zn=Zn+H):(Yn=tn+vn,ei=Yn+H,xn=Zn+H,zn=Zn-H),Gn=Yn),{x1:xn,x2:Zn,x3:zn,y1:Yn,y2:ei,y3:Gn}}drawTitle(c,g,C){const I=this.title,M=I.length;let H,te,ge;if(M){const Me=pt(C.rtl,this.x,this.width);for(c.x=Cu(this,C.titleAlign,C),g.textAlign=Me.textAlign(C.titleAlign),g.textBaseline="middle",H=Pn(C.titleFont),te=C.titleSpacing,g.fillStyle=C.titleColor,g.font=H.string,ge=0;ge<M;++ge)g.fillText(I[ge],Me.x(c.x),c.y+H.lineHeight/2),c.y+=H.lineHeight+te,ge+1===M&&(c.y+=C.titleMarginBottom-te)}}_drawColorBox(c,g,C,I,M){const H=this.labelColors[C],te=this.labelPointStyles[C],{boxHeight:ge,boxWidth:Me}=M,rt=Pn(M.bodyFont),Tt=Cu(this,"left",M),Zt=I.x(Tt),mn=g.y+(ge<rt.lineHeight?(rt.lineHeight-ge)/2:0);if(M.usePointStyle){const vn={radius:Math.min(Me,ge)/2,pointStyle:te.pointStyle,rotation:te.rotation,borderWidth:1},xn=I.leftForLtr(Zt,Me)+Me/2,Zn=mn+ge/2;c.strokeStyle=M.multiKeyBackground,c.fillStyle=M.multiKeyBackground,go(c,vn,xn,Zn),c.strokeStyle=H.borderColor,c.fillStyle=H.backgroundColor,go(c,vn,xn,Zn)}else{c.lineWidth=me(H.borderWidth)?Math.max(...Object.values(H.borderWidth)):H.borderWidth||1,c.strokeStyle=H.borderColor,c.setLineDash(H.borderDash||[]),c.lineDashOffset=H.borderDashOffset||0;const vn=I.leftForLtr(Zt,Me),xn=I.leftForLtr(I.xPlus(Zt,1),Me-2),Zn=xt(H.borderRadius);Object.values(Zn).some(zn=>0!==zn)?(c.beginPath(),c.fillStyle=M.multiKeyBackground,Yo(c,{x:vn,y:mn,w:Me,h:ge,radius:Zn}),c.fill(),c.stroke(),c.fillStyle=H.backgroundColor,c.beginPath(),Yo(c,{x:xn,y:mn+1,w:Me-2,h:ge-2,radius:Zn}),c.fill()):(c.fillStyle=M.multiKeyBackground,c.fillRect(vn,mn,Me,ge),c.strokeRect(vn,mn,Me,ge),c.fillStyle=H.backgroundColor,c.fillRect(xn,mn+1,Me-2,ge-2))}c.fillStyle=this.labelTextColors[C]}drawBody(c,g,C){const{body:I}=this,{bodySpacing:M,bodyAlign:H,displayColors:te,boxHeight:ge,boxWidth:Me,boxPadding:rt}=C,Tt=Pn(C.bodyFont);let Zt=Tt.lineHeight,tn=0;const mn=pt(C.rtl,this.x,this.width),vn=function(hi){g.fillText(hi,mn.x(c.x+tn),c.y+Zt/2),c.y+=Zt+M},xn=mn.textAlign(H);let Zn,zn,Yn,ei,Gn,ci,mi;for(g.textAlign=H,g.textBaseline="middle",g.font=Tt.string,c.x=Cu(this,xn,C),g.fillStyle=C.bodyColor,Ye(this.beforeBody,vn),tn=te&&"right"!==xn?"center"===H?Me/2+rt:Me+2+rt:0,ei=0,ci=I.length;ei<ci;++ei){for(Zn=I[ei],zn=this.labelTextColors[ei],g.fillStyle=zn,Ye(Zn.before,vn),Yn=Zn.lines,te&&Yn.length&&(this._drawColorBox(g,c,ei,mn,C),Zt=Math.max(Tt.lineHeight,ge)),Gn=0,mi=Yn.length;Gn<mi;++Gn)vn(Yn[Gn]),Zt=Tt.lineHeight;Ye(Zn.after,vn)}tn=0,Zt=Tt.lineHeight,Ye(this.afterBody,vn),c.y-=M}drawFooter(c,g,C){const I=this.footer,M=I.length;let H,te;if(M){const ge=pt(C.rtl,this.x,this.width);for(c.x=Cu(this,C.footerAlign,C),c.y+=C.footerMarginTop,g.textAlign=ge.textAlign(C.footerAlign),g.textBaseline="middle",H=Pn(C.footerFont),g.fillStyle=C.footerColor,g.font=H.string,te=0;te<M;++te)g.fillText(I[te],ge.x(c.x),c.y+H.lineHeight/2),c.y+=H.lineHeight+C.footerSpacing}}drawBackground(c,g,C,I){const{xAlign:M,yAlign:H}=this,{x:te,y:ge}=c,{width:Me,height:rt}=C,{topLeft:Tt,topRight:Zt,bottomLeft:tn,bottomRight:mn}=xt(I.cornerRadius);g.fillStyle=I.backgroundColor,g.strokeStyle=I.borderColor,g.lineWidth=I.borderWidth,g.beginPath(),g.moveTo(te+Tt,ge),"top"===H&&this.drawCaret(c,g,C,I),g.lineTo(te+Me-Zt,ge),g.quadraticCurveTo(te+Me,ge,te+Me,ge+Zt),"center"===H&&"right"===M&&this.drawCaret(c,g,C,I),g.lineTo(te+Me,ge+rt-mn),g.quadraticCurveTo(te+Me,ge+rt,te+Me-mn,ge+rt),"bottom"===H&&this.drawCaret(c,g,C,I),g.lineTo(te+tn,ge+rt),g.quadraticCurveTo(te,ge+rt,te,ge+rt-tn),"center"===H&&"left"===M&&this.drawCaret(c,g,C,I),g.lineTo(te,ge+Tt),g.quadraticCurveTo(te,ge,te+Tt,ge),g.closePath(),g.fill(),I.borderWidth>0&&g.stroke()}_updateAnimationTarget(c){const g=this.chart,C=this.$animations,I=C&&C.x,M=C&&C.y;if(I||M){const H=_u[c.position].call(this,this._active,this._eventPosition);if(!H)return;const te=this._size=Ya(this,c),ge=Object.assign({},H,this._size),Me=_p(g,c,ge),rt=Cp(c,ge,Me,g);(I._to!==rt.x||M._to!==rt.y)&&(this.xAlign=Me.xAlign,this.yAlign=Me.yAlign,this.width=te.width,this.height=te.height,this.caretX=H.x,this.caretY=H.y,this._resolveAnimations().update(this,rt))}}_willRender(){return!!this.opacity}draw(c){const g=this.options.setContext(this.getContext());let C=this.opacity;if(!C)return;this._updateAnimationTarget(g);const I={width:this.width,height:this.height},M={x:this.x,y:this.y};C=Math.abs(C)<.001?0:C;const H=Vt(g.padding);g.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(c.save(),c.globalAlpha=C,this.drawBackground(M,c,I,g),Ve(c,g.textDirection),M.y+=H.top,this.drawTitle(M,c,g),this.drawBody(M,c,g),this.drawFooter(M,c,g),St(c,g.textDirection),c.restore())}getActiveElements(){return this._active||[]}setActiveElements(c,g){const C=this._active,I=c.map(({datasetIndex:te,index:ge})=>{const Me=this.chart.getDatasetMeta(te);if(!Me)throw new Error("Cannot find a dataset at index "+te);return{datasetIndex:te,element:Me.data[ge],index:ge}}),M=!st(C,I),H=this._positionChanged(I,g);(M||H)&&(this._active=I,this._eventPosition=g,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(c,g,C=!0){if(g&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const I=this.options,M=this._active||[],H=this._getActiveElements(c,M,g,C),te=this._positionChanged(H,c),ge=g||!st(H,M)||te;return ge&&(this._active=H,(I.enabled||I.external)&&(this._eventPosition={x:c.x,y:c.y},this.update(!0,g))),ge}_getActiveElements(c,g,C,I){const M=this.options;if("mouseout"===c.type)return[];if(!I)return g;const H=this.chart.getElementsAtEventForMode(c,M.mode,M,C);return M.reverse&&H.reverse(),H}_positionChanged(c,g){const{caretX:C,caretY:I,options:M}=this,H=_u[M.position].call(this,c,g);return!1!==H&&(C!==H.x||I!==H.y)}}Ci(ja,"positioners",_u);var Jh=Object.freeze({__proto__:null,Colors:Sh,Decimation:Dh,Filler:hc,Legend:gd,SubTitle:_f,Title:mp,Tooltip:{id:"tooltip",_element:ja,positioners:_u,afterInit(m,c,g){g&&(m.tooltip=new ja({chart:m,options:g}))},beforeUpdate(m,c,g){m.tooltip&&m.tooltip.initialize(g)},reset(m,c,g){m.tooltip&&m.tooltip.initialize(g)},afterDraw(m){const c=m.tooltip;if(c&&c._willRender()){const g={tooltip:c};if(!1===m.notifyPlugins("beforeTooltipDraw",ub(cb({},g),{cancelable:!0})))return;c.draw(m.ctx),m.notifyPlugins("afterTooltipDraw",g)}},afterEvent(m,c){m.tooltip&&m.tooltip.handleEvent(c.event,c.replay,c.inChartArea)&&(c.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(m,c)=>c.bodyFont.size,boxWidth:(m,c)=>c.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:zh},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:m=>"filter"!==m&&"itemSort"!==m&&"external"!==m,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function If(m){const c=this.getLabels();return m>=0&&m<c.length?c[m]:m}class Gh extends Sr{constructor(c){super(c),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(c){const g=this._addedLabels;if(g.length){const C=this.getLabels();for(const{index:I,label:M}of g)C[I]===M&&C.splice(I,1);this._addedLabels=[]}super.init(c)}parse(c,g){if(ct(c))return null;const C=this.getLabels();return((m,c)=>null===m?null:ii(Math.round(m),0,c))(g=isFinite(g)&&C[g]===c?g:function bp(m,c,g,C){const I=m.indexOf(c);return-1===I?((m,c,g,C)=>("string"==typeof c?(g=m.push(c)-1,C.unshift({index:g,label:c})):isNaN(c)&&(g=null),g))(m,c,g,C):I!==m.lastIndexOf(c)?g:I}(C,c,Ct(g,c),this._addedLabels),C.length-1)}determineDataLimits(){const{minDefined:c,maxDefined:g}=this.getUserBounds();let{min:C,max:I}=this.getMinMax(!0);"ticks"===this.options.bounds&&(c||(C=0),g||(I=this.getLabels().length-1)),this.min=C,this.max=I}buildTicks(){const c=this.min,g=this.max,C=this.options.offset,I=[];let M=this.getLabels();M=0===c&&g===M.length-1?M:M.slice(c,g+1),this._valueRange=Math.max(M.length-(C?0:1),1),this._startValue=this.min-(C?.5:0);for(let H=c;H<=g;H++)I.push({value:H});return I}getLabelForValue(c){return If.call(this,c)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(c){return"number"!=typeof c&&(c=this.parse(c)),null===c?NaN:this.getPixelForDecimal((c-this._startValue)/this._valueRange)}getPixelForTick(c){const g=this.ticks;return c<0||c>g.length-1?null:this.getPixelForValue(g[c].value)}getValueForPixel(c){return Math.round(this._startValue+this.getDecimalForPixel(c)*this._valueRange)}getBasePixel(){return this.bottom}}function xp(m,c,{horizontal:g,minRotation:C}){const I=He(C),M=(g?Math.sin(I):Math.cos(I))||.001;return Math.min(c/M,.75*c*(""+m).length)}Ci(Gh,"id","category"),Ci(Gh,"defaults",{ticks:{callback:If}});class md extends Sr{constructor(c){super(c),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(c,g){return ct(c)||("number"==typeof c||c instanceof Number)&&!isFinite(+c)?null:+c}handleTickRangeOptions(){const{beginAtZero:c}=this.options,{minDefined:g,maxDefined:C}=this.getUserBounds();let{min:I,max:M}=this;const H=ge=>I=g?I:ge,te=ge=>M=C?M:ge;if(c){const ge=vi(I),Me=vi(M);ge<0&&Me<0?te(0):ge>0&&Me>0&&H(0)}if(I===M){let ge=0===M?1:Math.abs(.05*M);te(M+ge),c||H(I-ge)}this.min=I,this.max=M}getTickLimit(){const c=this.options.ticks;let I,{maxTicksLimit:g,stepSize:C}=c;return C?(I=Math.ceil(this.max/C)-Math.floor(this.min/C)+1,I>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${C} would result generating up to ${I} ticks. Limiting to 1000.`),I=1e3)):(I=this.computeTickLimit(),g=g||11),g&&(I=Math.min(g,I)),I}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const c=this.options,g=c.ticks;let C=this.getTickLimit();C=Math.max(2,C);const H=function yp(m,c){const g=[],{bounds:I,step:M,min:H,max:te,precision:ge,count:Me,maxTicks:rt,maxDigits:Tt,includeBounds:Zt}=m,tn=M||1,mn=rt-1,{min:vn,max:xn}=c,Zn=!ct(H),zn=!ct(te),Yn=!ct(Me),ei=(xn-vn)/(Tt+1);let ci,mi,hi,ki,Gn=io((xn-vn)/mn/tn)*tn;if(Gn<1e-14&&!Zn&&!zn)return[{value:vn},{value:xn}];ki=Math.ceil(xn/Gn)-Math.floor(vn/Gn),ki>mn&&(Gn=io(ki*Gn/mn/tn)*tn),ct(ge)||(ci=Math.pow(10,ge),Gn=Math.ceil(Gn*ci)/ci),"ticks"===I?(mi=Math.floor(vn/Gn)*Gn,hi=Math.ceil(xn/Gn)*Gn):(mi=vn,hi=xn),Zn&&zn&&M&&function Je(m,c){const g=Math.round(m);return g-c<=m&&g+c>=m}((te-H)/M,Gn/1e3)?(ki=Math.round(Math.min((te-H)/Gn,rt)),Gn=(te-H)/ki,mi=H,hi=te):Yn?(mi=Zn?H:mi,hi=zn?te:hi,ki=Me-1,Gn=(hi-mi)/ki):(ki=(hi-mi)/Gn,ki=Ni(ki,Math.round(ki),Gn/1e3)?Math.round(ki):Math.ceil(ki));const po=Math.max(dn(Gn),dn(mi));ci=Math.pow(10,ct(ge)?po:ge),mi=Math.round(mi*ci)/ci,hi=Math.round(hi*ci)/ci;let lo=0;for(Zn&&(Zt&&mi!==H?(g.push({value:H}),mi<H&&lo++,Ni(Math.round((mi+lo*Gn)*ci)/ci,H,xp(H,ei,m))&&lo++):mi<H&&lo++);lo<ki;++lo){const ro=Math.round((mi+lo*Gn)*ci)/ci;if(zn&&ro>te)break;g.push({value:ro})}return zn&&Zt&&hi!==te?g.length&&Ni(g[g.length-1].value,te,xp(te,ei,m))?g[g.length-1].value=te:g.push({value:te}):(!zn||hi===te)&&g.push({value:hi}),g}({maxTicks:C,bounds:c.bounds,min:c.min,max:c.max,precision:g.precision,step:g.stepSize,count:g.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:g.minRotation||0,includeBounds:!1!==g.includeBounds},this._range||this);return"ticks"===c.bounds&&ye(H,this,"value"),c.reverse?(H.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),H}configure(){const c=this.ticks;let g=this.min,C=this.max;if(super.configure(),this.options.offset&&c.length){const I=(C-g)/Math.max(c.length-1,1)/2;g-=I,C+=I}this._startValue=g,this._endValue=C,this._valueRange=C-g}getLabelForValue(c){return Ns(c,this.chart.options.locale,this.options.ticks.format)}}class _d extends md{determineDataLimits(){const{min:c,max:g}=this.getMinMax(!0);this.min=De(c)?c:0,this.max=De(g)?g:1,this.handleTickRangeOptions()}computeTickLimit(){const c=this.isHorizontal(),g=c?this.width:this.height,C=He(this.options.ticks.minRotation),I=(c?Math.sin(C):Math.cos(C))||.001,M=this._resolveTickFontOptions(0);return Math.ceil(g/Math.min(40,M.lineHeight/I))}getPixelForValue(c){return null===c?NaN:this.getPixelForDecimal((c-this._startValue)/this._valueRange)}getValueForPixel(c){return this._startValue+this.getDecimalForPixel(c)*this._valueRange}}Ci(_d,"id","linear"),Ci(_d,"defaults",{ticks:{callback:so.formatters.numeric}});const gc=m=>Math.floor(ai(m)),sl=(m,c)=>Math.pow(10,gc(m)+c);function Wh(m){return m/Math.pow(10,gc(m))==1}function Ip(m,c,g){const C=Math.pow(10,g),I=Math.floor(m/C);return Math.ceil(c/C)-I}class zl extends Sr{constructor(c){super(c),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(c,g){const C=md.prototype.parse.apply(this,[c,g]);if(0!==C)return De(C)&&C>0?C:null;this._zero=!0}determineDataLimits(){const{min:c,max:g}=this.getMinMax(!0);this.min=De(c)?Math.max(0,c):null,this.max=De(g)?Math.max(0,g):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!De(this._userMin)&&(this.min=c===sl(this.min,0)?sl(this.min,-1):sl(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:c,maxDefined:g}=this.getUserBounds();let C=this.min,I=this.max;const M=te=>C=c?C:te,H=te=>I=g?I:te;C===I&&(C<=0?(M(1),H(10)):(M(sl(C,-1)),H(sl(I,1)))),C<=0&&M(sl(I,-1)),I<=0&&H(sl(C,1)),this.min=C,this.max=I}buildTicks(){const c=this.options,C=function Tp(m,{min:c,max:g}){c=ot(m.min,c);const C=[],I=gc(c);let M=function Tf(m,c){let C=gc(c-m);for(;Ip(m,c,C)>10;)C++;for(;Ip(m,c,C)<10;)C--;return Math.min(C,gc(m))}(c,g),H=M<0?Math.pow(10,Math.abs(M)):1;const te=Math.pow(10,M),ge=I>M?Math.pow(10,I):0,Me=Math.round((c-ge)*H)/H,rt=Math.floor((c-ge)/te/10)*te*10;let Tt=Math.floor((Me-rt)/Math.pow(10,M)),Zt=ot(m.min,Math.round((ge+rt+Tt*Math.pow(10,M))*H)/H);for(;Zt<g;)C.push({value:Zt,major:Wh(Zt),significand:Tt}),Tt>=10?Tt=Tt<15?15:20:Tt++,Tt>=20&&(M++,Tt=2,H=M>=0?1:H),Zt=Math.round((ge+rt+Tt*Math.pow(10,M))*H)/H;const tn=ot(m.max,Zt);return C.push({value:tn,major:Wh(tn),significand:Tt}),C}({min:this._userMin,max:this._userMax},this);return"ticks"===c.bounds&&ye(C,this,"value"),c.reverse?(C.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),C}getLabelForValue(c){return void 0===c?"0":Ns(c,this.chart.options.locale,this.options.ticks.format)}configure(){const c=this.min;super.configure(),this._startValue=ai(c),this._valueRange=ai(this.max)-ai(c)}getPixelForValue(c){return(void 0===c||0===c)&&(c=this.min),null===c||isNaN(c)?NaN:this.getPixelForDecimal(c===this.min?0:(ai(c)-this._startValue)/this._valueRange)}getValueForPixel(c){const g=this.getDecimalForPixel(c);return Math.pow(10,this._startValue+g*this._valueRange)}}function Cd(m){const c=m.ticks;if(c.display&&m.display){const g=Vt(c.backdropPadding);return Ct(c.font&&c.font.size,Zi.font.size)+g.height}return 0}function Ap(m,c,g){return g=at(g)?g:[g],{w:fs(m,c.string,g),h:g.length*c.lineHeight}}function Yh(m,c,g,C,I){return m===C||m===I?{start:c-g/2,end:c+g/2}:m<C||m>I?{start:c-g,end:c}:{start:c,end:c+g}}function Gr(m,c,g,C,I){const M=Math.abs(Math.sin(g)),H=Math.abs(Math.cos(g));let te=0,ge=0;C.start<c.l?(te=(c.l-C.start)/M,m.l=Math.min(m.l,c.l-te)):C.end>c.r&&(te=(C.end-c.r)/M,m.r=Math.max(m.r,c.r+te)),I.start<c.t?(ge=(c.t-I.start)/H,m.t=Math.min(m.t,c.t-ge)):I.end>c.b&&(ge=(I.end-c.b)/H,m.b=Math.max(m.b,c.b+ge))}function jh(m,c,g){const C=m.drawingArea,{extra:I,additionalAngle:M,padding:H,size:te}=g,ge=m.getPointPosition(c,C+I+H,M),Me=Math.round(ut(yn(ge.angle+rn))),rt=function Kh(m,c,g){return 90===g||270===g?m-=c/2:(g>270||g<90)&&(m-=c),m}(ge.y,te.h,Me),Tt=function wf(m){return 0===m||180===m?"center":m<180?"left":"right"}(Me),Zt=function bu(m,c,g){return"right"===g?m-=c:"center"===g&&(m-=c/2),m}(ge.x,te.w,Tt);return{visible:!0,x:ge.x,y:rt,textAlign:Tt,left:Zt,top:rt,right:Zt+te.w,bottom:rt+te.h}}function wp(m,c){if(!c)return!0;const{left:g,top:C,right:I,bottom:M}=m;return!(ls({x:g,y:C},c)||ls({x:g,y:M},c)||ls({x:I,y:C},c)||ls({x:I,y:M},c))}function qh(m,c,g){const{left:C,top:I,right:M,bottom:H}=g,{backdropColor:te}=c;if(!ct(te)){const ge=xt(c.borderRadius),Me=Vt(c.backdropPadding);m.fillStyle=te;const rt=C-Me.left,Tt=I-Me.top,Zt=M-C+Me.width,tn=H-I+Me.height;Object.values(ge).some(mn=>0!==mn)?(m.beginPath(),Yo(m,{x:rt,y:Tt,w:Zt,h:tn,radius:ge}),m.fill()):m.fillRect(rt,Tt,Zt,tn)}}function Jl(m,c,g,C){const{ctx:I}=m;if(g)I.arc(m.xCenter,m.yCenter,c,0,gn);else{let M=m.getPointPosition(0,c);I.moveTo(M.x,M.y);for(let H=1;H<C;H++)M=m.getPointPosition(H,c),I.lineTo(M.x,M.y)}}Ci(zl,"id","logarithmic"),Ci(zl,"defaults",{ticks:{callback:so.formatters.logarithmic,major:{enabled:!0}}});class Ql extends md{constructor(c){super(c),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const c=this._padding=Vt(Cd(this.options)/2),g=this.width=this.maxWidth-c.width,C=this.height=this.maxHeight-c.height;this.xCenter=Math.floor(this.left+g/2+c.left),this.yCenter=Math.floor(this.top+C/2+c.top),this.drawingArea=Math.floor(Math.min(g,C)/2)}determineDataLimits(){const{min:c,max:g}=this.getMinMax(!1);this.min=De(c)&&!isNaN(c)?c:0,this.max=De(g)&&!isNaN(g)?g:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Cd(this.options))}generateTickLabels(c){md.prototype.generateTickLabels.call(this,c),this._pointLabels=this.getLabels().map((g,C)=>{const I=Mt(this.options.pointLabels.callback,[g,C],this);return I||0===I?I:""}).filter((g,C)=>this.chart.getDataVisibility(C))}fit(){const c=this.options;c.display&&c.pointLabels.display?function Os(m){const c={l:m.left+m._padding.left,r:m.right-m._padding.right,t:m.top+m._padding.top,b:m.bottom-m._padding.bottom},g=Object.assign({},c),C=[],I=[],M=m._pointLabels.length,H=m.options.pointLabels,te=H.centerPointLabels?qt/M:0;for(let ge=0;ge<M;ge++){const Me=H.setContext(m.getPointLabelContext(ge));I[ge]=Me.padding;const rt=m.getPointPosition(ge,m.drawingArea+I[ge],te),Tt=Pn(Me.font),Zt=Ap(m.ctx,Tt,m._pointLabels[ge]);C[ge]=Zt;const tn=yn(m.getIndexAngle(ge)+te),mn=Math.round(ut(tn));Gr(g,c,tn,Yh(mn,rt.x,Zt.w,0,180),Yh(mn,rt.y,Zt.h,90,270))}m.setCenterPoint(c.l-g.l,g.r-c.r,c.t-g.t,g.b-c.b),m._pointLabelItems=function Af(m,c,g){const C=[],I=m._pointLabels.length,M=m.options,{centerPointLabels:H,display:te}=M.pointLabels,ge={extra:Cd(M)/2,additionalAngle:H?qt/I:0};let Me;for(let rt=0;rt<I;rt++){ge.padding=g[rt],ge.size=c[rt];const Tt=jh(m,rt,ge);C.push(Tt),"auto"===te&&(Tt.visible=wp(Tt,Me),Tt.visible&&(Me=Tt))}return C}(m,C,I)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(c,g,C,I){this.xCenter+=Math.floor((c-g)/2),this.yCenter+=Math.floor((C-I)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(c,g,C,I))}getIndexAngle(c){return yn(c*(gn/(this._pointLabels.length||1))+He(this.options.startAngle||0))}getDistanceFromCenterForValue(c){if(ct(c))return NaN;const g=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-c)*g:(c-this.min)*g}getValueForDistanceFromCenter(c){if(ct(c))return NaN;const g=c/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-g:this.min+g}getPointLabelContext(c){const g=this._pointLabels||[];if(c>=0&&c<g.length){const C=g[c];return function yu(m,c,g){return Hi(m,{label:g,index:c,type:"pointLabel"})}(this.getContext(),c,C)}}getPointPosition(c,g,C=0){const I=this.getIndexAngle(c)-rn+C;return{x:Math.cos(I)*g+this.xCenter,y:Math.sin(I)*g+this.yCenter,angle:I}}getPointPositionForValue(c,g){return this.getPointPosition(c,this.getDistanceFromCenterForValue(g))}getBasePosition(c){return this.getPointPositionForValue(c||0,this.getBaseValue())}getPointLabelPosition(c){const{left:g,top:C,right:I,bottom:M}=this._pointLabelItems[c];return{left:g,top:C,right:I,bottom:M}}drawBackground(){const{backgroundColor:c,grid:{circular:g}}=this.options;if(c){const C=this.ctx;C.save(),C.beginPath(),Jl(this,this.getDistanceFromCenterForValue(this._endValue),g,this._pointLabels.length),C.closePath(),C.fillStyle=c,C.fill(),C.restore()}}drawGrid(){const c=this.ctx,g=this.options,{angleLines:C,grid:I,border:M}=g,H=this._pointLabels.length;let te,ge,Me;if(g.pointLabels.display&&function $h(m,c){const{ctx:g,options:{pointLabels:C}}=m;for(let I=c-1;I>=0;I--){const M=m._pointLabelItems[I];if(!M.visible)continue;const H=C.setContext(m.getPointLabelContext(I));qh(g,H,M);const te=Pn(H.font),{x:ge,y:Me,textAlign:rt}=M;xs(g,m._pointLabels[I],ge,Me+te.lineHeight/2,te,{color:H.color,textAlign:rt,textBaseline:"middle"})}}(this,H),I.display&&this.ticks.forEach((rt,Tt)=>{if(0!==Tt){ge=this.getDistanceFromCenterForValue(rt.value);const Zt=this.getContext(Tt),tn=I.setContext(Zt),mn=M.setContext(Zt);!function Ep(m,c,g,C,I){const M=m.ctx,H=c.circular,{color:te,lineWidth:ge}=c;!H&&!C||!te||!ge||g<0||(M.save(),M.strokeStyle=te,M.lineWidth=ge,M.setLineDash(I.dash),M.lineDashOffset=I.dashOffset,M.beginPath(),Jl(m,g,H,C),M.closePath(),M.stroke(),M.restore())}(this,tn,ge,H,mn)}}),C.display){for(c.save(),te=H-1;te>=0;te--){const rt=C.setContext(this.getPointLabelContext(te)),{color:Tt,lineWidth:Zt}=rt;!Zt||!Tt||(c.lineWidth=Zt,c.strokeStyle=Tt,c.setLineDash(rt.borderDash),c.lineDashOffset=rt.borderDashOffset,ge=this.getDistanceFromCenterForValue(g.ticks.reverse?this.min:this.max),Me=this.getPointPosition(te,ge),c.beginPath(),c.moveTo(this.xCenter,this.yCenter),c.lineTo(Me.x,Me.y),c.stroke())}c.restore()}}drawBorder(){}drawLabels(){const c=this.ctx,g=this.options,C=g.ticks;if(!C.display)return;const I=this.getIndexAngle(0);let M,H;c.save(),c.translate(this.xCenter,this.yCenter),c.rotate(I),c.textAlign="center",c.textBaseline="middle",this.ticks.forEach((te,ge)=>{if(0===ge&&!g.reverse)return;const Me=C.setContext(this.getContext(ge)),rt=Pn(Me.font);if(M=this.getDistanceFromCenterForValue(this.ticks[ge].value),Me.showLabelBackdrop){c.font=rt.string,H=c.measureText(te.label).width,c.fillStyle=Me.backdropColor;const Tt=Vt(Me.backdropPadding);c.fillRect(-H/2-Tt.left,-M-rt.size/2-Tt.top,H+Tt.width,rt.size+Tt.height)}xs(c,te.label,0,-M,rt,{color:Me.color,strokeColor:Me.textStrokeColor,strokeWidth:Me.textStrokeWidth})}),c.restore()}drawTitle(){}}Ci(Ql,"id","radialLinear"),Ci(Ql,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:so.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:c=>c,padding:5,centerPointLabels:!1}}),Ci(Ql,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Ci(Ql,"descriptors",{angleLines:{_fallback:"grid"}});const xu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},$r=Object.keys(xu);function Sp(m,c){return m-c}function kp(m,c){if(ct(c))return null;const g=m._adapter,{parser:C,round:I,isoWeekday:M}=m._parseOpts;let H=c;return"function"==typeof C&&(H=C(H)),De(H)||(H="string"==typeof C?g.parse(H,C):g.parse(H)),null===H?null:(I&&(H="week"!==I||!Ht(M)&&!0!==M?g.startOf(H,I):g.startOf(H,"isoWeek",M)),+H)}function vd(m,c,g,C){const I=$r.length;for(let M=$r.indexOf(m);M<I-1;++M){const H=xu[$r[M]],te=H.steps?H.steps:Number.MAX_SAFE_INTEGER;if(H.common&&Math.ceil((g-c)/(te*H.size))<=C)return $r[M]}return $r[I-1]}function Mp(m,c,g){if(g){if(g.length){const{lo:C,hi:I}=Di(g,c);m[g[C]>=c?g[C]:g[I]]=!0}}else m[c]=!0}function bd(m,c,g){const C=[],I={},M=c.length;let H,te;for(H=0;H<M;++H)te=c[H],I[te]=H,C.push({value:te,major:!1});return 0!==M&&g?function Op(m,c,g,C){const I=m._adapter,M=+I.startOf(c[0].value,C),H=c[c.length-1].value;let te,ge;for(te=M;te<=H;te=+I.add(te,1,C))ge=g[te],ge>=0&&(c[ge].major=!0);return c}(m,C,I,g):C}class Vc extends Sr{constructor(c){super(c),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(c,g={}){const C=c.time||(c.time={}),I=this._adapter=new Ua__date(c.adapters.date);I.init(g),he(C.displayFormats,I.formats()),this._parseOpts={parser:C.parser,round:C.round,isoWeekday:C.isoWeekday},super.init(c),this._normalized=g.normalized}parse(c,g){return void 0===c?null:kp(this,c)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const c=this.options,g=this._adapter,C=c.time.unit||"day";let{min:I,max:M,minDefined:H,maxDefined:te}=this.getUserBounds();function ge(Me){!H&&!isNaN(Me.min)&&(I=Math.min(I,Me.min)),!te&&!isNaN(Me.max)&&(M=Math.max(M,Me.max))}(!H||!te)&&(ge(this._getLabelBounds()),("ticks"!==c.bounds||"labels"!==c.ticks.source)&&ge(this.getMinMax(!1))),I=De(I)&&!isNaN(I)?I:+g.startOf(Date.now(),C),M=De(M)&&!isNaN(M)?M:+g.endOf(Date.now(),C)+1,this.min=Math.min(I,M-1),this.max=Math.max(I+1,M)}_getLabelBounds(){const c=this.getLabelTimestamps();let g=Number.POSITIVE_INFINITY,C=Number.NEGATIVE_INFINITY;return c.length&&(g=c[0],C=c[c.length-1]),{min:g,max:C}}buildTicks(){const c=this.options,g=c.time,C=c.ticks,I="labels"===C.source?this.getLabelTimestamps():this._generate();"ticks"===c.bounds&&I.length&&(this.min=this._userMin||I[0],this.max=this._userMax||I[I.length-1]);const M=this.min,te=function li(m,c,g){let C=0,I=m.length;for(;C<I&&m[C]<c;)C++;for(;I>C&&m[I-1]>g;)I--;return C>0||I<m.length?m.slice(C,I):m}(I,M,this.max);return this._unit=g.unit||(C.autoSkip?vd(g.minUnit,this.min,this.max,this._getLabelCapacity(M)):function Dp(m,c,g,C,I){for(let M=$r.length-1;M>=$r.indexOf(g);M--){const H=$r[M];if(xu[H].common&&m._adapter.diff(I,C,H)>=c-1)return H}return $r[g?$r.indexOf(g):0]}(this,te.length,g.minUnit,this.min,this.max)),this._majorUnit=C.major.enabled&&"year"!==this._unit?function yl(m){for(let c=$r.indexOf(m)+1,g=$r.length;c<g;++c)if(xu[$r[c]].common)return $r[c]}(this._unit):void 0,this.initOffsets(I),c.reverse&&te.reverse(),bd(this,te,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(c=>+c.value))}initOffsets(c=[]){let I,M,g=0,C=0;this.options.offset&&c.length&&(I=this.getDecimalForValue(c[0]),g=1===c.length?1-I:(this.getDecimalForValue(c[1])-I)/2,M=this.getDecimalForValue(c[c.length-1]),C=1===c.length?M:(M-this.getDecimalForValue(c[c.length-2]))/2);const H=c.length<3?.5:.25;g=ii(g,0,H),C=ii(C,0,H),this._offsets={start:g,end:C,factor:1/(g+1+C)}}_generate(){const c=this._adapter,g=this.min,C=this.max,I=this.options,M=I.time,H=M.unit||vd(M.minUnit,g,C,this._getLabelCapacity(g)),te=Ct(I.ticks.stepSize,1),ge="week"===H&&M.isoWeekday,Me=Ht(ge)||!0===ge,rt={};let Zt,tn,Tt=g;if(Me&&(Tt=+c.startOf(Tt,"isoWeek",ge)),Tt=+c.startOf(Tt,Me?"day":H),c.diff(C,g,H)>1e5*te)throw new Error(g+" and "+C+" are too far apart with stepSize of "+te+" "+H);const mn="data"===I.ticks.source&&this.getDataTimestamps();for(Zt=Tt,tn=0;Zt<C;Zt=+c.add(Zt,te,H),tn++)Mp(rt,Zt,mn);return(Zt===C||"ticks"===I.bounds||1===tn)&&Mp(rt,Zt,mn),Object.keys(rt).sort(Sp).map(vn=>+vn)}getLabelForValue(c){const C=this.options.time;return this._adapter.format(c,C.tooltipFormat?C.tooltipFormat:C.displayFormats.datetime)}format(c,g){return this._adapter.format(c,g||this.options.time.displayFormats[this._unit])}_tickFormatFunction(c,g,C,I){const M=this.options,H=M.ticks.callback;if(H)return Mt(H,[c,g,C],this);const te=M.time.displayFormats,ge=this._unit,Me=this._majorUnit,Tt=Me&&te[Me],Zt=C[g];return this._adapter.format(c,I||(Me&&Tt&&Zt&&Zt.major?Tt:ge&&te[ge]))}generateTickLabels(c){let g,C,I;for(g=0,C=c.length;g<C;++g)I=c[g],I.label=this._tickFormatFunction(I.value,g,c)}getDecimalForValue(c){return null===c?NaN:(c-this.min)/(this.max-this.min)}getPixelForValue(c){const g=this._offsets,C=this.getDecimalForValue(c);return this.getPixelForDecimal((g.start+C)*g.factor)}getValueForPixel(c){const g=this._offsets,C=this.getDecimalForPixel(c)/g.factor-g.end;return this.min+C*(this.max-this.min)}_getLabelSize(c){const g=this.options.ticks,C=this.ctx.measureText(c).width,I=He(this.isHorizontal()?g.maxRotation:g.minRotation),M=Math.cos(I),H=Math.sin(I),te=this._resolveTickFontOptions(0).size;return{w:C*M+te*H,h:C*H+te*M}}_getLabelCapacity(c){const g=this.options.time,C=g.displayFormats,I=C[g.unit]||C.millisecond,M=this._tickFormatFunction(c,0,bd(this,[c],this._majorUnit),I),H=this._getLabelSize(M),te=Math.floor(this.isHorizontal()?this.width/H.w:this.height/H.h)-1;return te>0?te:1}getDataTimestamps(){let g,C,c=this._cache.data||[];if(c.length)return c;const I=this.getMatchingVisibleMetas();if(this._normalized&&I.length)return this._cache.data=I[0].controller.getAllParsedValues(this);for(g=0,C=I.length;g<C;++g)c=c.concat(I[g].controller.getAllParsedValues(this));return this._cache.data=this.normalize(c)}getLabelTimestamps(){const c=this._cache.labels||[];let g,C;if(c.length)return c;const I=this.getLabels();for(g=0,C=I.length;g<C;++g)c.push(kp(this,I[g]));return this._cache.labels=this._normalized?c:this.normalize(c)}normalize(c){return xo(c.sort(Sp))}}function Iu(m,c,g){let M,H,te,ge,C=0,I=m.length-1;g?(c>=m[C].pos&&c<=m[I].pos&&({lo:C,hi:I}=qi(m,"pos",c)),({pos:M,time:te}=m[C]),({pos:H,time:ge}=m[I])):(c>=m[C].time&&c<=m[I].time&&({lo:C,hi:I}=qi(m,"time",c)),({time:M,pos:te}=m[C]),({time:H,pos:ge}=m[I]));const Me=H-M;return Me?te+(ge-te)*(c-M)/Me:te}Ci(Vc,"id","time"),Ci(Vc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class xl extends Vc{constructor(c){super(c),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const c=this._getTimestampsForTable(),g=this._table=this.buildLookupTable(c);this._minPos=Iu(g,this.min),this._tableRange=Iu(g,this.max)-this._minPos,super.initOffsets(c)}buildLookupTable(c){const{min:g,max:C}=this,I=[],M=[];let H,te,ge,Me,rt;for(H=0,te=c.length;H<te;++H)Me=c[H],Me>=g&&Me<=C&&I.push(Me);if(I.length<2)return[{time:g,pos:0},{time:C,pos:1}];for(H=0,te=I.length;H<te;++H)rt=I[H+1],ge=I[H-1],Me=I[H],Math.round((rt+ge)/2)!==Me&&M.push({time:Me,pos:H/(te-1)});return M}_generate(){const c=this.min,g=this.max;let C=super.getDataTimestamps();return(!C.includes(c)||!C.length)&&C.splice(0,0,c),(!C.includes(g)||1===C.length)&&C.push(g),C.sort((I,M)=>I-M)}_getTimestampsForTable(){let c=this._cache.all||[];if(c.length)return c;const g=this.getDataTimestamps(),C=this.getLabelTimestamps();return c=g.length&&C.length?this.normalize(g.concat(C)):g.length?g:C,c=this._cache.all=c,c}getDecimalForValue(c){return(Iu(this._table,c)-this._minPos)/this._tableRange}getValueForPixel(c){const g=this._offsets,C=this.getDecimalForPixel(c)/g.factor-g.end;return Iu(this._table,C*this._tableRange+this._minPos,!0)}}Ci(xl,"id","timeseries"),Ci(xl,"defaults",Vc.defaults),il.register(Pl,pf,Jh,Object.freeze({__proto__:null,CategoryScale:Gh,LinearScale:_d,LogarithmicScale:zl,RadialLinearScale:Ql,TimeScale:Vc,TimeSeriesScale:xl}));const yd=il;let Sf=(()=>{class m{constructor(g){this.el=g,this.plugins=[],this.responsive=!0,this.onDataSelect=new e.vpe,this._options={}}get data(){return this._data}set data(g){this._data=g,this.reinit()}get options(){return this._options}set options(g){this._options=g,this.reinit()}ngAfterViewInit(){this.initChart(),this.initialized=!0}onCanvasClick(g){if(this.chart){const C=this.chart.getElementsAtEventForMode(g,"nearest",{intersect:!0},!1),I=this.chart.getElementsAtEventForMode(g,"dataset",{intersect:!0},!1);C&&C[0]&&I&&this.onDataSelect.emit({originalEvent:g,element:C[0],dataset:I})}}initChart(){let g=this.options||{};g.responsive=this.responsive,g.responsive&&(this.height||this.width)&&(g.maintainAspectRatio=!1),this.chart=new yd(this.el.nativeElement.children[0].children[0],{type:this.type,data:this.data,options:this.options,plugins:this.plugins})}getCanvas(){return this.el.nativeElement.children[0].children[0]}getBase64Image(){return this.chart.toBase64Image()}generateLegend(){if(this.chart)return this.chart.generateLegend()}refresh(){this.chart&&this.chart.update()}reinit(){this.chart&&(this.chart.destroy(),this.initChart())}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.initialized=!1,this.chart=null)}}return m.\u0275fac=function(g){return new(g||m)(e.Y36(e.SBq))},m.\u0275cmp=e.Xpm({type:m,selectors:[["p-chart"]],hostAttrs:[1,"p-element"],inputs:{type:"type",plugins:"plugins",width:"width",height:"height",responsive:"responsive",data:"data",options:"options"},outputs:{onDataSelect:"onDataSelect"},decls:2,vars:6,consts:[[2,"position","relative"],[3,"click"]],template:function(g,C){1&g&&(e.TgZ(0,"div",0)(1,"canvas",1),e.NdJ("click",function(M){return C.onCanvasClick(M)}),e.qZA()()),2&g&&(e.Udp("width",C.responsive&&!C.width?null:C.width)("height",C.responsive&&!C.height?null:C.height),e.xp6(1),e.uIk("width",C.responsive&&!C.width?null:C.width)("height",C.responsive&&!C.height?null:C.height))},encapsulation:2,changeDetection:0}),m})(),Gl=(()=>{class m{}return m.\u0275fac=function(g){return new(g||m)},m.\u0275mod=e.oAB({type:m}),m.\u0275inj=e.cJS({imports:[d.ez]}),m})()},1208:(hn,ht,b)=>{"use strict";b.d(ht,{XZ:()=>V,nD:()=>F});var e=b(5e3),d=b(9808),u=b(2382),f=b(5921);const _=["cb"],P=function(T,y,D){return{"p-checkbox-label":!0,"p-checkbox-label-active":T,"p-disabled":y,"p-checkbox-label-focus":D}};function x(T,y){if(1&T){const D=e.EpF();e.TgZ(0,"label",7),e.NdJ("click",function(B){e.CHM(D);const N=e.oxw(),ce=e.MAs(3);return e.KtG(N.onClick(B,ce,!0))}),e._uU(1),e.qZA()}if(2&T){const D=e.oxw();e.Tol(D.labelStyleClass),e.Q6J("ngClass",e.kEZ(5,P,D.checked(),D.disabled,D.focused)),e.uIk("for",D.inputId),e.xp6(1),e.Oqu(D.label)}}const a=function(T,y,D){return{"p-checkbox p-component":!0,"p-checkbox-checked":T,"p-checkbox-disabled":y,"p-checkbox-focused":D}},R=function(T,y,D){return{"p-highlight":T,"p-disabled":y,"p-focus":D}},L={provide:u.JU,useExisting:(0,e.Gpc)(()=>V),multi:!0};let V=(()=>{class T{constructor(D){this.cd=D,this.checkboxIcon="pi pi-check",this.trueValue=!0,this.falseValue=!1,this.onChange=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.focused=!1}onClick(D,k,B){D.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(D),B&&k.focus())}updateModel(D){let k;this.binary?(k=this.checked()?this.falseValue:this.trueValue,this.model=k,this.onModelChange(k)):(k=this.checked()?this.model.filter(B=>!f.gb.equals(B,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(k),this.model=k,this.formControl&&this.formControl.setValue(k)),this.onChange.emit({checked:k,originalEvent:D})}handleChange(D){this.readonly||this.updateModel(D)}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(D){this.model=D,this.cd.markForCheck()}registerOnChange(D){this.onModelChange=D}registerOnTouched(D){this.onModelTouched=D}setDisabledState(D){this.disabled=D,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:f.gb.contains(this.value,this.model)}}return T.\u0275fac=function(D){return new(D||T)(e.Y36(e.sBO))},T.\u0275cmp=e.Xpm({type:T,selectors:[["p-checkbox"]],viewQuery:function(D,k){if(1&D&&e.Gf(_,5),2&D){let B;e.iGM(B=e.CRH())&&(k.inputViewChild=B.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[e._Bn([L])],decls:7,vars:26,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"readonly","value","checked","disabled","focus","blur","change"],["cb",""],[1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[3,"class","ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(D,k){if(1&D){const B=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),e.NdJ("focus",function(){return k.onFocus()})("blur",function(){return k.onBlur()})("change",function(ce){return k.handleChange(ce)}),e.qZA()(),e.TgZ(4,"div",4),e.NdJ("click",function(ce){e.CHM(B);const $=e.MAs(3);return e.KtG(k.onClick(ce,$,!0))}),e._UZ(5,"span",5),e.qZA()(),e.YNc(6,x,2,9,"label",6)}2&D&&(e.Tol(k.styleClass),e.Q6J("ngStyle",k.style)("ngClass",e.kEZ(18,a,k.checked(),k.disabled,k.focused)),e.xp6(2),e.Q6J("readonly",k.readonly)("value",k.value)("checked",k.checked())("disabled",k.disabled),e.uIk("id",k.inputId)("name",k.name)("tabindex",k.tabindex)("aria-labelledby",k.ariaLabelledBy)("aria-label",k.ariaLabel)("aria-checked",k.checked())("required",k.required),e.xp6(2),e.Q6J("ngClass",e.kEZ(22,R,k.checked(),k.disabled,k.focused)),e.xp6(1),e.Q6J("ngClass",k.checked()?k.checkboxIcon:null),e.xp6(1),e.Q6J("ngIf",k.label))},dependencies:[d.mk,d.O5,d.PC],styles:[".p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}\n"],encapsulation:2,changeDetection:0}),T})(),F=(()=>{class T{}return T.\u0275fac=function(D){return new(D||T)},T.\u0275mod=e.oAB({type:T}),T.\u0275inj=e.cJS({imports:[d.ez]}),T})()},6888:(hn,ht,b)=>{"use strict";b.d(ht,{e4:()=>O,zH:()=>S});var e=b(5e3),d=b(1777),u=b(9808),f=b(5730),_=b(2382),P=b(5921),x=b(9783);const a=["container"],R=["input"],L=["colorSelector"],V=["colorHandle"],F=["hue"],T=["hueHandle"],y=function(K){return{"p-disabled":K}};function D(K,ue){if(1&K){const q=e.EpF();e.TgZ(0,"input",4,5),e.NdJ("focus",function(){e.CHM(q);const j=e.oxw();return e.KtG(j.onInputFocus())})("click",function(){e.CHM(q);const j=e.oxw();return e.KtG(j.onInputClick())})("keydown",function(j){e.CHM(q);const fe=e.oxw();return e.KtG(fe.onInputKeydown(j))}),e.qZA()}if(2&K){const q=e.oxw();e.Udp("background-color",q.inputBgColor),e.Q6J("ngClass",e.VKq(6,y,q.disabled))("disabled",q.disabled),e.uIk("id",q.inputId)("tabindex",q.tabindex)}}const k=function(K,ue){return{"p-colorpicker-panel":!0,"p-colorpicker-overlay-panel":K,"p-disabled":ue}},B=function(K,ue){return{showTransitionParams:K,hideTransitionParams:ue}},N=function(K){return{value:"visible",params:K}};function ce(K,ue){if(1&K){const q=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(j){e.CHM(q);const fe=e.oxw();return e.KtG(fe.onOverlayClick(j))})("@overlayAnimation.start",function(j){e.CHM(q);const fe=e.oxw();return e.KtG(fe.onOverlayAnimationStart(j))})("@overlayAnimation.done",function(j){e.CHM(q);const fe=e.oxw();return e.KtG(fe.onOverlayAnimationEnd(j))}),e.TgZ(1,"div",7)(2,"div",8,9),e.NdJ("touchstart",function(j){e.CHM(q);const fe=e.oxw();return e.KtG(fe.onColorTouchStart(j))})("touchmove",function(j){e.CHM(q);const fe=e.oxw();return e.KtG(fe.onMove(j))})("touchend",function(){e.CHM(q);const j=e.oxw();return e.KtG(j.onDragEnd())})("mousedown",function(j){e.CHM(q);const fe=e.oxw();return e.KtG(fe.onColorMousedown(j))}),e.TgZ(4,"div",10),e._UZ(5,"div",11,12),e.qZA()(),e.TgZ(7,"div",13,14),e.NdJ("mousedown",function(j){e.CHM(q);const fe=e.oxw();return e.KtG(fe.onHueMousedown(j))})("touchstart",function(j){e.CHM(q);const fe=e.oxw();return e.KtG(fe.onHueTouchStart(j))})("touchmove",function(j){e.CHM(q);const fe=e.oxw();return e.KtG(fe.onMove(j))})("touchend",function(){e.CHM(q);const j=e.oxw();return e.KtG(j.onDragEnd())}),e._UZ(9,"div",15,16),e.qZA()()()}if(2&K){const q=e.oxw();e.Q6J("ngClass",e.WLB(3,k,!q.inline,q.disabled))("@overlayAnimation",e.VKq(9,N,e.WLB(6,B,q.showTransitionOptions,q.hideTransitionOptions)))("@.disabled",!0===q.inline)}}const $=function(K,ue){return{"p-colorpicker p-component":!0,"p-colorpicker-overlay":K,"p-colorpicker-dragging":ue}},z={provide:_.JU,useExisting:(0,e.Gpc)(()=>S),multi:!0};let S=(()=>{class K{constructor(q,G,j,fe,ne){this.el=q,this.renderer=G,this.cd=j,this.config=fe,this.overlayService=ne,this.format="hex",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onChange=new e.vpe,this.onShow=new e.vpe,this.onHide=new e.vpe,this.value={h:0,s:100,b:100},this.defaultColor="ff0000",this.onModelChange=()=>{},this.onModelTouched=()=>{}}set colorSelector(q){this.colorSelectorViewChild=q}set colorHandle(q){this.colorHandleViewChild=q}set hue(q){this.hueViewChild=q}set hueHandle(q){this.hueHandleViewChild=q}onHueMousedown(q){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.hueDragging=!0,this.pickHue(q))}onHueTouchStart(q){this.disabled||(this.hueDragging=!0,this.pickHue(q,q.changedTouches[0]))}onColorTouchStart(q){this.disabled||(this.colorDragging=!0,this.pickColor(q,q.changedTouches[0]))}pickHue(q,G){let j=G?G.pageY:q.pageY,fe=this.hueViewChild.nativeElement.getBoundingClientRect().top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0);this.value=this.validateHSB({h:Math.floor(360*(150-Math.max(0,Math.min(150,j-fe)))/150),s:this.value.s,b:this.value.b}),this.updateColorSelector(),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:q,value:this.getValueToUpdate()})}onColorMousedown(q){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.colorDragging=!0,this.pickColor(q))}onMove(q){this.colorDragging&&(this.pickColor(q,q.changedTouches[0]),q.preventDefault()),this.hueDragging&&(this.pickHue(q,q.changedTouches[0]),q.preventDefault())}onDragEnd(){this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}pickColor(q,G){let j=G?G.pageX:q.pageX,fe=G?G.pageY:q.pageY,ne=this.colorSelectorViewChild.nativeElement.getBoundingClientRect(),J=ne.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),X=ne.left+document.body.scrollLeft,W=Math.floor(100*Math.max(0,Math.min(150,j-X))/150),Y=Math.floor(100*(150-Math.max(0,Math.min(150,fe-J)))/150);this.value=this.validateHSB({h:this.value.h,s:W,b:Y}),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:q,value:this.getValueToUpdate()})}getValueToUpdate(){let q;switch(this.format){case"hex":q="#"+this.HSBtoHEX(this.value);break;case"rgb":q=this.HSBtoRGB(this.value);break;case"hsb":q=this.value}return q}updateModel(){this.onModelChange(this.getValueToUpdate())}writeValue(q){if(q)switch(this.format){case"hex":this.value=this.HEXtoHSB(q);break;case"rgb":this.value=this.RGBtoHSB(q);break;case"hsb":this.value=q}else this.value=this.HEXtoHSB(this.defaultColor);this.updateColorSelector(),this.updateUI(),this.cd.markForCheck()}updateColorSelector(){if(this.colorSelectorViewChild){const q={s:100,b:100};q.h=this.value.h,this.colorSelectorViewChild.nativeElement.style.backgroundColor="#"+this.HSBtoHEX(q)}}updateUI(){this.colorHandleViewChild&&this.hueHandleViewChild.nativeElement&&(this.colorHandleViewChild.nativeElement.style.left=Math.floor(150*this.value.s/100)+"px",this.colorHandleViewChild.nativeElement.style.top=Math.floor(150*(100-this.value.b)/100)+"px",this.hueHandleViewChild.nativeElement.style.top=Math.floor(150-150*this.value.h/360)+"px"),this.inputBgColor="#"+this.HSBtoHEX(this.value)}onInputFocus(){this.onModelTouched()}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(q){switch(q.toState){case"visible":this.inline||(this.overlay=q.element,this.appendOverlay(),this.autoZIndex&&P.P9.set("overlay",this.overlay,this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.updateColorSelector(),this.updateUI());break;case"void":this.onOverlayHide()}}onOverlayAnimationEnd(q){switch(q.toState){case"visible":this.inline||this.onShow.emit({});break;case"void":this.autoZIndex&&P.P9.clear(q.element),this.onHide.emit({})}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):f.p.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.appendTo?f.p.absolutePosition(this.overlay,this.inputViewChild.nativeElement):f.p.relativePosition(this.overlay,this.inputViewChild.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onInputClick(){this.selfClick=!0,this.togglePanel()}togglePanel(){this.overlayVisible?this.hide():this.show()}onInputKeydown(q){switch(q.which){case 32:this.togglePanel(),q.preventDefault();break;case 27:case 9:this.hide()}}onOverlayClick(q){this.overlayService.add({originalEvent:q,target:this.el.nativeElement}),this.selfClick=!0}registerOnChange(q){this.onModelChange=q}registerOnTouched(q){this.onModelTouched=q}setDisabledState(q){this.disabled=q,this.cd.markForCheck()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.selfClick||(this.overlayVisible=!1,this.unbindDocumentClickListener()),this.selfClick=!1,this.cd.markForCheck()}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentMousemoveListener(){this.documentMousemoveListener||(this.documentMousemoveListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousemove",G=>{this.colorDragging&&this.pickColor(G),this.hueDragging&&this.pickHue(G)}))}unbindDocumentMousemoveListener(){this.documentMousemoveListener&&(this.documentMousemoveListener(),this.documentMousemoveListener=null)}bindDocumentMouseupListener(){this.documentMouseupListener||(this.documentMouseupListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mouseup",()=>{this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}))}unbindDocumentMouseupListener(){this.documentMouseupListener&&(this.documentMouseupListener(),this.documentMouseupListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!f.p.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new f.V(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}validateHSB(q){return{h:Math.min(360,Math.max(0,q.h)),s:Math.min(100,Math.max(0,q.s)),b:Math.min(100,Math.max(0,q.b))}}validateRGB(q){return{r:Math.min(255,Math.max(0,q.r)),g:Math.min(255,Math.max(0,q.g)),b:Math.min(255,Math.max(0,q.b))}}validateHEX(q){var G=6-q.length;if(G>0){for(var j=[],fe=0;fe<G;fe++)j.push("0");j.push(q),q=j.join("")}return q}HEXtoRGB(q){let G=parseInt(q.indexOf("#")>-1?q.substring(1):q,16);return{r:G>>16,g:(65280&G)>>8,b:255&G}}HEXtoHSB(q){return this.RGBtoHSB(this.HEXtoRGB(q))}RGBtoHSB(q){var G={h:0,s:0,b:0},j=Math.min(q.r,q.g,q.b),fe=Math.max(q.r,q.g,q.b),ne=fe-j;return G.b=fe,G.s=0!=fe?255*ne/fe:0,G.h=0!=G.s?q.r==fe?(q.g-q.b)/ne:q.g==fe?2+(q.b-q.r)/ne:4+(q.r-q.g)/ne:-1,G.h*=60,G.h<0&&(G.h+=360),G.s*=100/255,G.b*=100/255,G}HSBtoRGB(q){var G={r:null,g:null,b:null};let j=q.h,fe=255*q.s/100,ne=255*q.b/100;if(0==fe)G={r:ne,g:ne,b:ne};else{let J=ne,X=(255-fe)*ne/255,W=j%60*(J-X)/60;360==j&&(j=0),j<60?(G.r=J,G.b=X,G.g=X+W):j<120?(G.g=J,G.b=X,G.r=J-W):j<180?(G.g=J,G.r=X,G.b=X+W):j<240?(G.b=J,G.r=X,G.g=J-W):j<300?(G.b=J,G.g=X,G.r=X+W):j<360?(G.r=J,G.g=X,G.b=J-W):(G.r=0,G.g=0,G.b=0)}return{r:Math.round(G.r),g:Math.round(G.g),b:Math.round(G.b)}}RGBtoHEX(q){var G=[q.r.toString(16),q.g.toString(16),q.b.toString(16)];for(var j in G)1==G[j].length&&(G[j]="0"+G[j]);return G.join("")}HSBtoHEX(q){return this.RGBtoHEX(this.HSBtoRGB(q))}onOverlayHide(){this.unbindScrollListener(),this.unbindDocumentResizeListener(),this.unbindDocumentClickListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&this.autoZIndex&&P.P9.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return K.\u0275fac=function(q){return new(q||K)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(x.b4),e.Y36(x.F0))},K.\u0275cmp=e.Xpm({type:K,selectors:[["p-colorPicker"]],viewQuery:function(q,G){if(1&q&&(e.Gf(a,5),e.Gf(R,5),e.Gf(L,5),e.Gf(V,5),e.Gf(F,5),e.Gf(T,5)),2&q){let j;e.iGM(j=e.CRH())&&(G.containerViewChild=j.first),e.iGM(j=e.CRH())&&(G.inputViewChild=j.first),e.iGM(j=e.CRH())&&(G.colorSelector=j.first),e.iGM(j=e.CRH())&&(G.colorHandle=j.first),e.iGM(j=e.CRH())&&(G.hue=j.first),e.iGM(j=e.CRH())&&(G.hueHandle=j.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",inline:"inline",format:"format",appendTo:"appendTo",disabled:"disabled",tabindex:"tabindex",inputId:"inputId",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onChange:"onChange",onShow:"onShow",onHide:"onHide"},features:[e._Bn([z])],decls:4,vars:9,consts:[[3,"ngStyle","ngClass"],["container",""],["type","text","class","p-colorpicker-preview p-inputtext","readonly","readonly",3,"ngClass","disabled","backgroundColor","focus","click","keydown",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["type","text","readonly","readonly",1,"p-colorpicker-preview","p-inputtext",3,"ngClass","disabled","focus","click","keydown"],["input",""],[3,"ngClass","click"],[1,"p-colorpicker-content"],[1,"p-colorpicker-color-selector",3,"touchstart","touchmove","touchend","mousedown"],["colorSelector",""],[1,"p-colorpicker-color"],[1,"p-colorpicker-color-handle"],["colorHandle",""],[1,"p-colorpicker-hue",3,"mousedown","touchstart","touchmove","touchend"],["hue",""],[1,"p-colorpicker-hue-handle"],["hueHandle",""]],template:function(q,G){1&q&&(e.TgZ(0,"div",0,1),e.YNc(2,D,2,8,"input",2),e.YNc(3,ce,11,11,"div",3),e.qZA()),2&q&&(e.Tol(G.styleClass),e.Q6J("ngStyle",G.style)("ngClass",e.WLB(6,$,!G.inline,G.colorDragging||G.hueDragging)),e.xp6(2),e.Q6J("ngIf",!G.inline),e.xp6(1),e.Q6J("ngIf",G.inline||G.overlayVisible))},dependencies:[u.mk,u.O5,u.PC],styles:[".p-colorpicker{display:inline-block}.p-colorpicker-dragging{cursor:pointer}.p-colorpicker-overlay{position:relative}.p-colorpicker-panel{position:relative;width:193px;height:166px}.p-colorpicker-overlay-panel{position:absolute;top:0;left:0}.p-colorpicker-preview{cursor:pointer}.p-colorpicker-panel .p-colorpicker-content{position:relative}.p-colorpicker-panel .p-colorpicker-color-selector{width:150px;height:150px;top:8px;left:8px;position:absolute}.p-colorpicker-panel .p-colorpicker-color{width:150px;height:150px}.p-colorpicker-panel .p-colorpicker-color-handle{position:absolute;top:0;left:150px;border-radius:100%;width:10px;height:10px;border-width:1px;border-style:solid;margin:-5px 0 0 -5px;cursor:pointer;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue{width:17px;height:150px;top:8px;left:167px;position:absolute;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue-handle{position:absolute;top:150px;left:0;width:21px;margin-left:-2px;margin-top:-5px;height:10px;border-width:2px;border-style:solid;opacity:.85;cursor:pointer}\n"],encapsulation:2,data:{animation:[(0,d.X$)("overlayAnimation",[(0,d.eR)(":enter",[(0,d.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,d.jt)("{{showTransitionParams}}")]),(0,d.eR)(":leave",[(0,d.jt)("{{hideTransitionParams}}",(0,d.oB)({opacity:0}))])])]},changeDetection:0}),K})(),O=(()=>{class K{}return K.\u0275fac=function(q){return new(q||K)},K.\u0275mod=e.oAB({type:K}),K.\u0275inj=e.cJS({imports:[u.ez]}),K})()},9114:(hn,ht,b)=>{"use strict";b.d(ht,{D:()=>X,Q:()=>J});var e=b(5e3),d=b(1777),u=b(9808),f=b(5730),_=b(9783),P=b(845),x=b(5921),a=b(5787);const R=["content"];function L(W,Y){1&W&&e.GkF(0)}function V(W,Y){if(1&W&&(e.TgZ(0,"div",10),e.YNc(1,L,1,0,"ng-container",11),e.qZA()),2&W){const Te=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",Te.headerTemplate)}}function F(W,Y){if(1&W&&(e.TgZ(0,"span",15),e._uU(1),e.qZA()),2&W){const Te=e.oxw(4);e.xp6(1),e.Oqu(Te.option("header"))}}const T=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function y(W,Y){if(1&W){const Te=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(Ke){e.CHM(Te);const be=e.oxw(4);return e.KtG(be.close(Ke))})("keydown.enter",function(Ke){e.CHM(Te);const be=e.oxw(4);return e.KtG(be.close(Ke))}),e._UZ(1,"span",17),e.qZA()}2&W&&e.Q6J("ngClass",e.DdM(1,T))}function D(W,Y){if(1&W&&(e.TgZ(0,"div",10),e.YNc(1,F,2,1,"span",12),e.TgZ(2,"div",13),e.YNc(3,y,2,2,"button",14),e.qZA()()),2&W){const Te=e.oxw(3);e.xp6(1),e.Q6J("ngIf",Te.option("header")),e.xp6(2),e.Q6J("ngIf",Te.closable)}}function k(W,Y){if(1&W&&e._UZ(0,"i",1),2&W){const Te=e.oxw(3);e.Tol(Te.option("icon")),e.Q6J("ngClass","p-confirm-dialog-icon")}}function B(W,Y){1&W&&e.GkF(0)}function N(W,Y){if(1&W&&(e.TgZ(0,"div",18),e.Hsn(1),e.YNc(2,B,1,0,"ng-container",11),e.qZA()),2&W){const Te=e.oxw(3);e.xp6(2),e.Q6J("ngTemplateOutlet",Te.footerTemplate)}}function ce(W,Y){if(1&W){const Te=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(Te);const Ke=e.oxw(4);return e.KtG(Ke.reject())}),e.qZA()}if(2&W){const Te=e.oxw(4);e.Tol(Te.option("rejectButtonStyleClass")),e.Q6J("icon",Te.option("rejectIcon"))("label",Te.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),e.uIk("aria-label",Te.rejectAriaLabel)}}function $(W,Y){if(1&W){const Te=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(Te);const Ke=e.oxw(4);return e.KtG(Ke.accept())}),e.qZA()}if(2&W){const Te=e.oxw(4);e.Tol(Te.option("acceptButtonStyleClass")),e.Q6J("icon",Te.option("acceptIcon"))("label",Te.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),e.uIk("aria-label",Te.acceptAriaLabel)}}function z(W,Y){if(1&W&&(e.TgZ(0,"div",18),e.YNc(1,ce,1,6,"button",19),e.YNc(2,$,1,6,"button",19),e.qZA()),2&W){const Te=e.oxw(3);e.xp6(1),e.Q6J("ngIf",Te.option("rejectVisible")),e.xp6(1),e.Q6J("ngIf",Te.option("acceptVisible"))}}const S=function(W){return{"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":W}},O=function(W,Y){return{transform:W,transition:Y}},K=function(W){return{value:"visible",params:W}};function ue(W,Y){if(1&W){const Te=e.EpF();e.TgZ(0,"div",3),e.NdJ("@animation.start",function(Ke){e.CHM(Te);const be=e.oxw(2);return e.KtG(be.onAnimationStart(Ke))})("@animation.done",function(Ke){e.CHM(Te);const be=e.oxw(2);return e.KtG(be.onAnimationEnd(Ke))}),e.YNc(1,V,2,1,"div",4),e.YNc(2,D,4,2,"div",4),e.TgZ(3,"div",5,6),e.YNc(5,k,1,3,"i",7),e._UZ(6,"span",8),e.qZA(),e.YNc(7,N,3,1,"div",9),e.YNc(8,z,3,2,"div",9),e.qZA()}if(2&W){const Te=e.oxw(2);e.Tol(Te.styleClass),e.Q6J("ngClass",e.VKq(11,S,Te.rtl))("ngStyle",Te.style)("@animation",e.VKq(16,K,e.WLB(13,O,Te.transformOptions,Te.transitionOptions))),e.xp6(1),e.Q6J("ngIf",Te.headerTemplate),e.xp6(1),e.Q6J("ngIf",!Te.headerTemplate),e.xp6(3),e.Q6J("ngIf",Te.option("icon")),e.xp6(1),e.Q6J("innerHTML",Te.option("message"),e.oJD),e.xp6(1),e.Q6J("ngIf",Te.footer||Te.footerTemplate),e.xp6(1),e.Q6J("ngIf",!Te.footer&&!Te.footerTemplate)}}function q(W,Y){if(1&W&&(e.TgZ(0,"div",1),e.YNc(1,ue,9,18,"div",2),e.qZA()),2&W){const Te=e.oxw();e.Tol(Te.maskStyleClass),e.Q6J("ngClass",Te.getMaskClass()),e.xp6(1),e.Q6J("ngIf",Te.visible)}}const G=[[["p-footer"]]],j=["p-footer"],fe=(0,d.oQ)([(0,d.oB)({transform:"{{transform}}",opacity:0}),(0,d.jt)("{{transition}}",(0,d.oB)({transform:"none",opacity:1}))]),ne=(0,d.oQ)([(0,d.jt)("{{transition}}",(0,d.oB)({transform:"{{transform}}",opacity:0}))]);let J=(()=>{class W{constructor(Te,Ae,Ke,be,Ge,ee){this.el=Te,this.renderer=Ae,this.confirmationService=Ke,this.zone=be,this.cd=Ge,this.config=ee,this.acceptIcon="pi pi-check",this.acceptVisible=!0,this.rejectIcon="pi pi-times",this.rejectVisible=!0,this.closeOnEscape=!0,this.blockScroll=!0,this.closable=!0,this.autoZIndex=!0,this.baseZIndex=0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.focusTrap=!0,this.defaultFocus="accept",this.onHide=new e.vpe,this._position="center",this.transformOptions="scale(0.7)",this.id=(0,x.Th)(),this.subscription=this.confirmationService.requireConfirmation$.subscribe(xe=>{xe?xe.key===this.key&&(this.confirmation=xe,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:null==this.confirmation.rejectVisible?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:null==this.confirmation.acceptVisible?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:!1===this.confirmation.blockScroll||!0===this.confirmation.blockScroll?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:!1===this.confirmation.closeOnEscape||!0===this.confirmation.closeOnEscape?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:!1===this.confirmation.dismissableMask||!0===this.confirmation.dismissableMask?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new e.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new e.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(Te){this._visible=Te,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(Te){switch(this._position=Te,Te){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}ngAfterContentInit(){this.templates.forEach(Te=>{switch(Te.getType()){case"header":this.headerTemplate=Te.template;break;case"footer":this.footerTemplate=Te.template}})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}option(Te){const Ae=this.confirmationOptions||this;if(Ae.hasOwnProperty(Te))return Ae[Te]}onAnimationStart(Te){if("visible"===Te.toState){this.container=Te.element,this.wrapper=this.container.parentElement,this.contentContainer=f.p.findSingle(this.container,".p-dialog-content"),this.container.setAttribute(this.id,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality();const Ae=this.getElementToFocus();Ae&&Ae.focus()}}onAnimationEnd(Te){"void"===Te.toState&&this.onOverlayHide()}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":default:return f.p.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return f.p.findSingle(this.container,".p-confirm-dialog-reject");case"close":return f.p.findSingle(this.container,".p-dialog-header-close");case"none":return null}}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):f.p.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&f.p.addClass(document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",Te=>{this.wrapper&&this.wrapper.isSameNode(Te.target)&&this.close(Te)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&f.p.removeClass(document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let Te="";for(let Ae in this.breakpoints)Te+=`\n                    @media screen and (max-width: ${Ae}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[Ae]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=Te}}close(Te){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(_.wB.CANCEL),this.hide(_.wB.CANCEL),Te.preventDefault()}hide(Te){this.onHide.emit(Te),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(x.P9.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}getMaskClass(){let Te={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return Te[this.getPositionClass().toString()]=!0,Te}getPositionClass(){const Ae=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(Ke=>Ke===this.position);return Ae?`p-dialog-${Ae}`:""}bindGlobalListeners(){(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener)&&(this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",Ae=>{if(27==Ae.which&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===x.P9.get(this.container)&&this.visible&&this.close(Ae),9===Ae.which&&this.focusTrap){Ae.preventDefault();let Ke=f.p.getFocusableElements(this.container);if(Ke&&Ke.length>0)if(Ke[0].ownerDocument.activeElement){let be=Ke.indexOf(Ke[0].ownerDocument.activeElement);Ae.shiftKey?-1==be||0===be?Ke[Ke.length-1].focus():Ke[be-1].focus():-1==be||be===Ke.length-1?Ke[0].focus():Ke[be+1].focus()}else Ke[0].focus()}}))}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.container&&this.autoZIndex&&x.P9.clear(this.container),this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(_.wB.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(_.wB.REJECT),this.hide(_.wB.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(_.ws.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(_.ws.REJECT)}}return W.\u0275fac=function(Te){return new(Te||W)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(_.YP),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(_.b4))},W.\u0275cmp=e.Xpm({type:W,selectors:[["p-confirmDialog"]],contentQueries:function(Te,Ae,Ke){if(1&Te&&(e.Suo(Ke,_.$_,5),e.Suo(Ke,_.jx,4)),2&Te){let be;e.iGM(be=e.CRH())&&(Ae.footer=be.first),e.iGM(be=e.CRH())&&(Ae.templates=be)}},viewQuery:function(Te,Ae){if(1&Te&&e.Gf(R,5),2&Te){let Ke;e.iGM(Ke=e.CRH())&&(Ae.contentViewChild=Ke.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:"acceptVisible",rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:"rejectVisible",acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",blockScroll:"blockScroll",rtl:"rtl",closable:"closable",appendTo:"appendTo",key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",transitionOptions:"transitionOptions",focusTrap:"focusTrap",defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},ngContentSelectors:j,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","ngStyle"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-dialog-message",3,"innerHTML"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button",3,"ngClass","click","keydown.enter"],[1,"pi","pi-times"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","click"]],template:function(Te,Ae){1&Te&&(e.F$t(G),e.YNc(0,q,2,4,"div",0)),2&Te&&e.Q6J("ngIf",Ae.maskVisible)},dependencies:[u.mk,u.O5,u.tP,u.PC,P.Hq,a.H],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,d.X$)("animation",[(0,d.eR)("void => visible",[(0,d._7)(fe)]),(0,d.eR)("visible => void",[(0,d._7)(ne)])])]},changeDetection:0}),W})(),X=(()=>{class W{}return W.\u0275fac=function(Te){return new(Te||W)},W.\u0275mod=e.oAB({type:W}),W.\u0275inj=e.cJS({imports:[u.ez,P.hJ,a.T,P.hJ,_.m8]}),W})()},7307:(hn,ht,b)=>{"use strict";b.d(ht,{P:()=>y,n:()=>D});var e=b(5e3),d=b(9808),u=b(9783),f=b(845),_=b(5921),P=b(1777),x=b(5730);function a(k,B){if(1&k&&e._UZ(0,"i",8),2&k){const N=e.oxw(2);e.Tol(N.confirmation.icon),e.Q6J("ngClass","p-confirm-popup-icon")}}function R(k,B){if(1&k){const N=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(N);const $=e.oxw(2);return e.KtG($.reject())}),e.qZA()}if(2&k){const N=e.oxw(2);e.Tol(N.confirmation.rejectButtonStyleClass||"p-button-text"),e.Q6J("icon",N.confirmation.rejectIcon)("label",N.rejectButtonLabel)("ngClass","p-confirm-popup-reject p-button-sm"),e.uIk("aria-label",N.rejectButtonLabel)}}function L(k,B){if(1&k){const N=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(N);const $=e.oxw(2);return e.KtG($.accept())}),e.qZA()}if(2&k){const N=e.oxw(2);e.Tol(N.confirmation.acceptButtonStyleClass),e.Q6J("icon",N.confirmation.acceptIcon)("label",N.acceptButtonLabel)("ngClass","p-confirm-popup-accept p-button-sm"),e.uIk("aria-label",N.acceptButtonLabel)}}const V=function(k,B){return{showTransitionParams:k,hideTransitionParams:B}},F=function(k){return{value:"open",params:k}};function T(k,B){if(1&k){const N=e.EpF();e.TgZ(0,"div",1),e.NdJ("click",function($){e.CHM(N);const z=e.oxw();return e.KtG(z.onOverlayClick($))})("@animation.start",function($){e.CHM(N);const z=e.oxw();return e.KtG(z.onAnimationStart($))})("@animation.done",function($){e.CHM(N);const z=e.oxw();return e.KtG(z.onAnimationEnd($))}),e.TgZ(1,"div",2,3),e.YNc(3,a,1,3,"i",4),e.TgZ(4,"span",5),e._uU(5),e.qZA()(),e.TgZ(6,"div",6),e.YNc(7,R,1,6,"button",7),e.YNc(8,L,1,6,"button",7),e.qZA()()}if(2&k){const N=e.oxw();e.Tol(N.styleClass),e.Q6J("ngClass","p-confirm-popup p-component")("ngStyle",N.style)("@animation",e.VKq(12,F,e.WLB(9,V,N.showTransitionOptions,N.hideTransitionOptions))),e.xp6(3),e.Q6J("ngIf",N.confirmation.icon),e.xp6(2),e.Oqu(N.confirmation.message),e.xp6(2),e.Q6J("ngIf",!1!==N.confirmation.rejectVisible),e.xp6(1),e.Q6J("ngIf",!1!==N.confirmation.acceptVisible)}}let y=(()=>{class k{constructor(N,ce,$,z,S,O){this.el=N,this.confirmationService=ce,this.renderer=$,this.cd=z,this.config=S,this.overlayService=O,this.defaultFocus="accept",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autoZIndex=!0,this.baseZIndex=0,this.subscription=this.confirmationService.requireConfirmation$.subscribe(K=>{K?K.key===this.key&&(this.confirmation=K,this.confirmation.accept&&(this.confirmation.acceptEvent=new e.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new e.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(N){this._visible=N,this.cd.markForCheck()}onAnimationStart(N){if("open"===N.toState){this.container=N.element,document.body.appendChild(this.container),this.align(),this.bindListeners();const ce=this.getElementToFocus();ce&&ce.focus()}}onAnimationEnd(N){"void"===N.toState&&this.onContainerDestroy()}getElementToFocus(){switch(this.defaultFocus){case"accept":return x.p.findSingle(this.container,".p-confirm-popup-accept");case"reject":return x.p.findSingle(this.container,".p-confirm-popup-reject");case"none":return null}}align(){this.autoZIndex&&_.P9.set("overlay",this.container,this.config.zIndex.overlay),x.p.absolutePosition(this.container,this.confirmation.target);const N=x.p.getOffset(this.container),ce=x.p.getOffset(this.confirmation.target);let $=0;N.left<ce.left&&($=ce.left-N.left),this.container.style.setProperty("--overlayArrowLeft",`${$}px`),N.top<ce.top&&x.p.addClass(this.container,"p-confirm-popup-flipped")}hide(){this.visible=!1}accept(){this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide()}reject(){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(),this.hide()}onOverlayClick(N){this.overlayService.add({originalEvent:N,target:this.el.nativeElement})}bindListeners(){setTimeout(()=>{this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener()})}unbindListeners(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}bindDocumentClickListener(){if(!this.documentClickListener){let N=x.p.isIOS()?"touchstart":"click";const ce=this.el?this.el.nativeElement.ownerDocument:document;this.documentClickListener=this.renderer.listen(ce,N,$=>{let z=this.confirmation.target;this.container!==$.target&&!this.container.contains($.target)&&z!==$.target&&!z.contains($.target)&&this.hide()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}onWindowResize(){this.visible&&!x.p.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new x.V(this.confirmation.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unsubscribeConfirmationSubscriptions(){this.confirmation&&(this.confirmation.acceptEvent&&this.confirmation.acceptEvent.unsubscribe(),this.confirmation.rejectEvent&&this.confirmation.rejectEvent.unsubscribe())}onContainerDestroy(){this.unbindListeners(),this.unsubscribeConfirmationSubscriptions(),this.autoZIndex&&_.P9.clear(this.container),this.confirmation=null,this.container=null}restoreAppend(){this.container&&document.body.removeChild(this.container),this.onContainerDestroy()}get acceptButtonLabel(){return this.confirmation.acceptLabel||this.config.getTranslation(u.ws.ACCEPT)}get rejectButtonLabel(){return this.confirmation.rejectLabel||this.config.getTranslation(u.ws.REJECT)}ngOnDestroy(){this.restoreAppend(),this.subscription&&this.subscription.unsubscribe()}}return k.\u0275fac=function(N){return new(N||k)(e.Y36(e.SBq),e.Y36(u.YP),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(u.b4),e.Y36(u.F0))},k.\u0275cmp=e.Xpm({type:k,selectors:[["p-confirmPopup"]],hostAttrs:[1,"p-element"],inputs:{key:"key",defaultFocus:"defaultFocus",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",visible:"visible"},decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-confirm-popup-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-popup-message"],[1,"p-confirm-popup-footer"],["type","button","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],[3,"ngClass"],["type","button","pButton","",3,"icon","label","ngClass","click"]],template:function(N,ce){1&N&&e.YNc(0,T,9,14,"div",0),2&N&&e.Q6J("ngIf",ce.visible)},dependencies:[d.mk,d.O5,d.PC,f.Hq],styles:['.p-confirm-popup{position:absolute;margin-top:10px;top:0;left:0}.p-confirm-popup-flipped{margin-top:0;margin-bottom:10px}.p-confirm-popup:after,.p-confirm-popup:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-confirm-popup:after{border-width:8px;margin-left:-8px}.p-confirm-popup:before{border-width:10px;margin-left:-10px}.p-confirm-popup-flipped:after,.p-confirm-popup-flipped:before{bottom:auto;top:100%}.p-confirm-popup.p-confirm-popup-flipped:after{border-bottom-color:transparent}.p-confirm-popup.p-confirm-popup-flipped:before{border-bottom-color:transparent}.p-confirm-popup .p-confirm-popup-content{display:flex;align-items:center}\n'],encapsulation:2,data:{animation:[(0,P.X$)("animation",[(0,P.SB)("void",(0,P.oB)({transform:"scaleY(0.8)",opacity:0})),(0,P.SB)("open",(0,P.oB)({transform:"translateY(0)",opacity:1})),(0,P.eR)("void => open",(0,P.jt)("{{showTransitionParams}}")),(0,P.eR)("open => void",(0,P.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),k})(),D=(()=>{class k{}return k.\u0275fac=function(N){return new(N||k)},k.\u0275mod=e.oAB({type:k}),k.\u0275inj=e.cJS({imports:[d.ez,f.hJ]}),k})()},330:(hn,ht,b)=>{"use strict";b.d(ht,{vI:()=>Ke,xV:()=>Ae});var e=b(5e3),d=b(9808),u=b(5730),f=b(9783),_=b(5787),P=b(5921),x=b(3470),a=b(7579),R=b(2722),L=b(4119);const V=["sublist"],F=["menuitem"],T=function(be){return{"p-hidden":be}};function y(be,Ge){if(1&be&&e._UZ(0,"li",5,6),2&be){const ee=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,T,!1===ee.visible))}}function D(be,Ge){if(1&be&&e._UZ(0,"span",17),2&be){const ee=e.oxw(3).$implicit;e.Q6J("ngClass",ee.icon)("ngStyle",ee.iconStyle)}}function k(be,Ge){if(1&be&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&be){const ee=e.oxw(3).$implicit;e.xp6(1),e.Oqu(ee.label)}}function B(be,Ge){if(1&be&&e._UZ(0,"span",19),2&be){const ee=e.oxw(3).$implicit;e.Q6J("innerHTML",ee.label,e.oJD)}}function N(be,Ge){if(1&be&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&be){const ee=e.oxw(3).$implicit;e.Q6J("ngClass",ee.badgeStyleClass),e.xp6(1),e.Oqu(ee.badge)}}function ce(be,Ge){1&be&&e._UZ(0,"span",21)}const $=function(be){return{"p-menuitem-link":!0,"p-disabled":be}};function z(be,Ge){if(1&be){const ee=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(we){e.CHM(ee),e.oxw();const Pe=e.MAs(1),dt=e.oxw(),bt=dt.$implicit,it=dt.index,Dt=e.oxw();return e.KtG(Dt.onItemClick(we,bt,Pe,Dt.getKey(it)))}),e.YNc(1,D,1,2,"span",12),e.YNc(2,k,2,1,"span",13),e.YNc(3,B,1,1,"ng-template",null,14,e.W1O),e.YNc(5,N,2,2,"span",15),e.YNc(6,ce,1,0,"span",16),e.qZA()}if(2&be){const ee=e.MAs(4),xe=e.oxw(2),we=xe.$implicit,Pe=xe.index,dt=e.oxw();e.Q6J("target",we.target)("ngClass",e.VKq(13,$,we.disabled)),e.uIk("href",we.url?we.url:null,e.LSH)("title",we.title)("id",we.id)("tabindex",we.disabled?null:"0")("aria-haspopup",null!=dt.item.items)("aria-expanded",dt.isActive(dt.getKey(Pe))),e.xp6(1),e.Q6J("ngIf",we.icon),e.xp6(1),e.Q6J("ngIf",!1!==we.escape)("ngIfElse",ee),e.xp6(3),e.Q6J("ngIf",we.badge),e.xp6(1),e.Q6J("ngIf",we.items)}}function S(be,Ge){if(1&be&&e._UZ(0,"span",17),2&be){const ee=e.oxw(3).$implicit;e.Q6J("ngClass",ee.icon)("ngStyle",ee.iconStyle)}}function O(be,Ge){if(1&be&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&be){const ee=e.oxw(3).$implicit;e.xp6(1),e.Oqu(ee.label)}}function K(be,Ge){if(1&be&&e._UZ(0,"span",19),2&be){const ee=e.oxw(3).$implicit;e.Q6J("innerHTML",ee.label,e.oJD)}}function ue(be,Ge){if(1&be&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&be){const ee=e.oxw(3).$implicit;e.Q6J("ngClass",ee.badgeStyleClass),e.xp6(1),e.Oqu(ee.badge)}}function q(be,Ge){1&be&&e._UZ(0,"span",21)}const G=function(){return{exact:!1}};function j(be,Ge){if(1&be){const ee=e.EpF();e.TgZ(0,"a",22),e.NdJ("click",function(we){e.CHM(ee),e.oxw();const Pe=e.MAs(1),dt=e.oxw(),bt=dt.$implicit,it=dt.index,Dt=e.oxw();return e.KtG(Dt.onItemClick(we,bt,Pe,Dt.getKey(it)))}),e.YNc(1,S,1,2,"span",12),e.YNc(2,O,2,1,"span",13),e.YNc(3,K,1,1,"ng-template",null,23,e.W1O),e.YNc(5,ue,2,2,"span",15),e.YNc(6,q,1,0,"span",16),e.qZA()}if(2&be){const ee=e.MAs(4),xe=e.oxw(2).$implicit;e.Q6J("routerLink",xe.routerLink)("queryParams",xe.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",xe.routerLinkActiveOptions||e.DdM(20,G))("target",xe.target)("ngClass",e.VKq(21,$,xe.disabled))("fragment",xe.fragment)("queryParamsHandling",xe.queryParamsHandling)("preserveFragment",xe.preserveFragment)("skipLocationChange",xe.skipLocationChange)("replaceUrl",xe.replaceUrl)("state",xe.state),e.uIk("title",xe.title)("id",xe.id)("tabindex",xe.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",xe.icon),e.xp6(1),e.Q6J("ngIf",!1!==xe.escape)("ngIfElse",ee),e.xp6(3),e.Q6J("ngIf",xe.badge),e.xp6(1),e.Q6J("ngIf",xe.items)}}function fe(be,Ge){if(1&be){const ee=e.EpF();e.TgZ(0,"p-contextMenuSub",24),e.NdJ("leafClick",function(){e.CHM(ee);const we=e.oxw(3);return e.KtG(we.onLeafClick())}),e.qZA()}if(2&be){const ee=e.oxw(2),xe=ee.index,we=ee.$implicit,Pe=e.oxw();e.Q6J("parentItemKey",Pe.getKey(xe))("item",we)}}const ne=function(be,Ge){return{"p-menuitem":!0,"p-menuitem-active":be,"p-hidden":Ge}};function J(be,Ge){if(1&be){const ee=e.EpF();e.TgZ(0,"li",7,6),e.NdJ("mouseenter",function(we){e.CHM(ee);const Pe=e.oxw(),dt=Pe.$implicit,bt=Pe.index,it=e.oxw();return e.KtG(it.onItemMouseEnter(we,dt,it.getKey(bt)))})("mouseleave",function(we){e.CHM(ee);const Pe=e.oxw().$implicit,dt=e.oxw();return e.KtG(dt.onItemMouseLeave(we,Pe))}),e.YNc(2,z,7,15,"a",8),e.YNc(3,j,7,23,"a",9),e.YNc(4,fe,1,2,"p-contextMenuSub",10),e.qZA()}if(2&be){const ee=e.oxw(),xe=ee.$implicit,we=ee.index,Pe=e.oxw();e.Tol(xe.styleClass),e.Q6J("ngClass",e.WLB(9,ne,Pe.isActive(Pe.getKey(we)),!1===xe.visible))("ngStyle",xe.style)("tooltipOptions",xe.tooltipOptions),e.uIk("data-ik",Pe.getKey(we)),e.xp6(2),e.Q6J("ngIf",!xe.routerLink),e.xp6(1),e.Q6J("ngIf",xe.routerLink),e.xp6(1),e.Q6J("ngIf",xe.items)}}function X(be,Ge){if(1&be&&(e.YNc(0,y,2,3,"li",3),e.YNc(1,J,5,12,"li",4)),2&be){const ee=Ge.$implicit;e.Q6J("ngIf",ee.separator),e.xp6(1),e.Q6J("ngIf",!ee.separator)}}const W=function(be){return{"p-submenu-list":be}},Y=["container"];let Te=(()=>{class be{constructor(ee){this.leafClick=new e.vpe,this.contextMenu=ee}ngOnInit(){this.activeItemKeyChangeSubscription=this.contextMenu.contextMenuService.activeItemKeyChange$.pipe((0,R.R)(this.contextMenu.ngDestroy$)).subscribe(ee=>{this.activeItemKey=ee,this.isActive(this.parentItemKey)&&u.p.hasClass(this.sublistViewChild.nativeElement,"p-submenu-list-active")&&this.contextMenu.positionSubmenu(this.sublistViewChild.nativeElement),this.contextMenu.cd.markForCheck()})}onItemMouseEnter(ee,xe,we){if(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null),xe.disabled)this.activeItemKey=null;else{if(xe.items){let Pe=u.p.findSingle(ee.currentTarget,".p-submenu-list");u.p.addClass(Pe,"p-submenu-list-active")}this.contextMenu.contextMenuService.changeKey(we)}}onItemMouseLeave(ee,xe){xe.disabled||this.contextMenu.el.nativeElement.contains(ee.toElement)&&(xe.items&&this.contextMenu.removeActiveFromSubLists(ee.currentTarget),this.root||this.contextMenu.contextMenuService.changeKey(this.parentItemKey))}onItemClick(ee,xe,we,Pe){if(xe.disabled)ee.preventDefault();else{if(!xe.url&&!xe.routerLink&&ee.preventDefault(),xe.command&&xe.command({originalEvent:ee,item:xe}),xe.items){let dt=u.p.findSingle(we,".p-submenu-list");dt&&(this.isActive(Pe)&&u.p.hasClass(dt,"p-submenu-list-active")?this.contextMenu.removeActiveFromSubLists(we):u.p.addClass(dt,"p-submenu-list-active"),this.contextMenu.contextMenuService.changeKey(Pe))}xe.items||this.onLeafClick()}}onLeafClick(){this.root&&this.contextMenu.hide(),this.leafClick.emit()}getKey(ee){return this.root?String(ee):this.parentItemKey+"_"+ee}isActive(ee){return this.activeItemKey&&(this.activeItemKey.startsWith(ee+"_")||this.activeItemKey===ee)}}return be.\u0275fac=function(ee){return new(ee||be)(e.Y36((0,e.Gpc)(()=>Ae)))},be.\u0275cmp=e.Xpm({type:be,selectors:[["p-contextMenuSub"]],viewQuery:function(ee,xe){if(1&ee&&(e.Gf(V,5),e.Gf(F,5)),2&ee){let we;e.iGM(we=e.CRH())&&(xe.sublistViewChild=we.first),e.iGM(we=e.CRH())&&(xe.menuitemViewChild=we.first)}},hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",parentItemKey:"parentItemKey"},outputs:{leafClick:"leafClick"},decls:3,vars:4,consts:[[3,"ngClass"],["sublist",""],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["pTooltip","","role","none",3,"ngClass","ngStyle","class","tooltipOptions","mouseenter","mouseleave",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["menuitem",""],["pTooltip","","role","none",3,"ngClass","ngStyle","tooltipOptions","mouseenter","mouseleave"],["pRipple","",3,"target","ngClass","click",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click",4,"ngIf"],[3,"parentItemKey","item","leafClick",4,"ngIf"],["pRipple","",3,"target","ngClass","click"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],["class","p-submenu-icon pi pi-angle-right",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[1,"p-submenu-icon","pi","pi-angle-right"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click"],["htmlRouteLabel",""],[3,"parentItemKey","item","leafClick"]],template:function(ee,xe){1&ee&&(e.TgZ(0,"ul",0,1),e.YNc(2,X,2,2,"ng-template",2),e.qZA()),2&ee&&(e.Q6J("ngClass",e.VKq(2,W,!xe.root)),e.xp6(2),e.Q6J("ngForOf",xe.root?xe.item:xe.item.items))},dependencies:[d.mk,d.sg,d.O5,d.PC,x.yS,x.Od,_.H,L.u,be],encapsulation:2}),be})(),Ae=(()=>{class be{constructor(ee,xe,we,Pe,dt,bt){this.el=ee,this.renderer=xe,this.cd=we,this.zone=Pe,this.contextMenuService=dt,this.config=bt,this.autoZIndex=!0,this.baseZIndex=0,this.triggerEvent="contextmenu",this.onShow=new e.vpe,this.onHide=new e.vpe,this.ngDestroy$=new a.x,this.preventDocumentDefault=!1}ngAfterViewInit(){this.global?this.triggerEventListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document",this.triggerEvent,xe=>{this.show(xe),xe.preventDefault()}):this.target&&(this.triggerEventListener=this.renderer.listen(this.target,this.triggerEvent,ee=>{this.show(ee),ee.preventDefault()})),this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.containerViewChild.nativeElement):u.p.appendChild(this.containerViewChild.nativeElement,this.appendTo))}show(ee){this.clearActiveItem(),this.position(ee),this.moveOnTop(),this.containerViewChild.nativeElement.style.display="block",this.preventDocumentDefault=!0,u.p.fadeIn(this.containerViewChild.nativeElement,250),this.bindGlobalListeners(),ee&&ee.preventDefault(),this.onShow.emit()}hide(){this.containerViewChild.nativeElement.style.display="none",this.autoZIndex&&P.P9.clear(this.containerViewChild.nativeElement),this.clearActiveItem(),this.unbindGlobalListeners(),this.onHide.emit()}moveOnTop(){this.autoZIndex&&this.containerViewChild&&"block"!==this.containerViewChild.nativeElement.style.display&&P.P9.set("menu",this.containerViewChild.nativeElement,this.baseZIndex+this.config.zIndex.menu)}toggle(ee){this.containerViewChild.nativeElement.offsetParent?this.hide():this.show(ee)}position(ee){if(ee){let xe=ee.pageX+1,we=ee.pageY+1,Pe=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetWidth:u.p.getHiddenElementOuterWidth(this.containerViewChild.nativeElement),dt=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetHeight:u.p.getHiddenElementOuterHeight(this.containerViewChild.nativeElement),bt=u.p.getViewport();xe+Pe-document.scrollingElement.scrollLeft>bt.width&&(xe-=Pe),we+dt-document.scrollingElement.scrollTop>bt.height&&(we-=dt),xe<document.scrollingElement.scrollLeft&&(xe=document.scrollingElement.scrollLeft),we<document.scrollingElement.scrollTop&&(we=document.scrollingElement.scrollTop),this.containerViewChild.nativeElement.style.left=xe+"px",this.containerViewChild.nativeElement.style.top=we+"px"}}positionSubmenu(ee){let xe=ee.parentElement.parentElement,we=u.p.getViewport(),Pe=ee.offsetParent?ee.offsetWidth:u.p.getHiddenElementOuterWidth(ee),dt=ee.offsetHeight?ee.offsetHeight:u.p.getHiddenElementOuterHeight(ee),bt=u.p.getOuterWidth(xe.children[0]),it=u.p.getOuterHeight(xe.children[0]),Dt=u.p.getOffset(xe.parentElement);ee.style.zIndex=++u.p.zindex,parseInt(Dt.top)+it+dt>we.height-u.p.calculateScrollbarHeight()?(ee.style.removeProperty("top"),ee.style.bottom="0px"):(ee.style.removeProperty("bottom"),ee.style.top="0px"),ee.style.left=parseInt(Dt.left)+bt+Pe>we.width-u.p.calculateScrollbarWidth()?-Pe+"px":bt+"px"}isItemMatched(ee){return u.p.hasClass(ee,"p-menuitem")&&!u.p.hasClass(ee.children[0],"p-disabled")}findNextItem(ee,xe){let we=ee.nextElementSibling;if(we)return this.isItemMatched(we)?we:this.findNextItem(we,xe);{let Pe=ee.parentElement.children[0];return this.isItemMatched(Pe)?Pe:xe?null:this.findNextItem(Pe,!0)}}findPrevItem(ee,xe){let we=ee.previousElementSibling;if(we)return this.isItemMatched(we)?we:this.findPrevItem(we,xe);{let Pe=ee.parentElement.children[ee.parentElement.children.length-1];return this.isItemMatched(Pe)?Pe:xe?null:this.findPrevItem(Pe,!0)}}getActiveItem(){let ee=this.contextMenuService.activeItemKey;return null==ee?null:u.p.findSingle(this.containerViewChild.nativeElement,'.p-menuitem[data-ik="'+ee+'"]')}clearActiveItem(){this.contextMenuService.activeItemKey&&(this.removeActiveFromSubLists(this.containerViewChild.nativeElement),this.contextMenuService.reset())}removeActiveFromSubLists(ee){let xe=u.p.find(ee,".p-submenu-list-active");for(let we of xe)u.p.removeClass(we,"p-submenu-list-active")}removeActiveFromSublist(ee){ee&&u.p.findSingle(ee,".p-submenu-list")&&u.p.hasClass(ee,"p-submenu-list-active")&&u.p.removeClass(ee,"p-submenu-list-active")}bindGlobalListeners(){if(!this.documentClickListener){const ee=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(ee,"click",xe=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(xe)&&!xe.ctrlKey&&2!==xe.button&&this.hide()}),this.documentTriggerListener=this.renderer.listen(ee,this.triggerEvent,xe=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(xe)&&!this.preventDocumentDefault&&this.hide(),this.preventDocumentDefault=!1})}this.zone.runOutsideAngular(()=>{this.windowResizeListener||(this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener))}),this.documentKeydownListener||(this.documentKeydownListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",xe=>{let we=this.getActiveItem();switch(xe.key){case"ArrowDown":if(we)this.removeActiveFromSublist(we),we=this.findNextItem(we);else{let Pe=u.p.findSingle(this.containerViewChild.nativeElement,".p-menuitem-link").parentElement;we=this.isItemMatched(Pe)?Pe:this.findNextItem(Pe)}we&&this.contextMenuService.changeKey(we.getAttribute("data-ik")),xe.preventDefault();break;case"ArrowUp":if(we)this.removeActiveFromSublist(we),we=this.findPrevItem(we);else{let Pe=u.p.findSingle(this.containerViewChild.nativeElement,"ul"),dt=Pe.children[Pe.children.length-1];we=this.isItemMatched(dt)?dt:this.findPrevItem(dt)}we&&this.contextMenuService.changeKey(we.getAttribute("data-ik")),xe.preventDefault();break;case"ArrowRight":if(we){let Pe=u.p.findSingle(we,".p-submenu-list");Pe&&(u.p.addClass(Pe,"p-submenu-list-active"),we=u.p.findSingle(Pe,".p-menuitem-link:not(.p-disabled)").parentElement,we&&this.contextMenuService.changeKey(we.getAttribute("data-ik")))}xe.preventDefault();break;case"ArrowLeft":if(we){let Pe=we.parentElement;Pe&&u.p.hasClass(Pe,"p-submenu-list-active")&&(u.p.removeClass(Pe,"p-submenu-list-active"),we=Pe.parentElement.parentElement,we&&this.contextMenuService.changeKey(we.getAttribute("data-ik")))}xe.preventDefault();break;case"Escape":this.hide(),xe.preventDefault();break;case"Enter":we&&this.handleItemClick(xe,this.findModelItemFromKey(this.contextMenuService.activeItemKey),we),xe.preventDefault()}}))}findModelItemFromKey(ee){return null!=ee&&this.model?ee.split("_").reduce((we,Pe)=>we?we.items[Pe]:this.model[Pe],null):null}handleItemClick(ee,xe,we){if(xe&&!xe.disabled){if(xe.command&&xe.command({originalEvent:ee,item:xe}),xe.items){let Pe=u.p.findSingle(we,".p-submenu-list");Pe&&(u.p.hasClass(Pe,"p-submenu-list-active")?this.removeActiveFromSubLists(we):(u.p.addClass(Pe,"p-submenu-list-active"),this.positionSubmenu(Pe)))}xe.items||this.hide()}}unbindGlobalListeners(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null),this.documentTriggerListener&&(this.documentTriggerListener(),this.documentTriggerListener=null),this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),this.windowResizeListener=null),this.documentKeydownListener&&(this.documentKeydownListener(),this.documentKeydownListener=null)}onWindowResize(ee){this.containerViewChild.nativeElement.offsetParent&&this.hide()}isOutsideClicked(ee){return!(this.containerViewChild.nativeElement.isSameNode(ee.target)||this.containerViewChild.nativeElement.contains(ee.target))}ngOnDestroy(){this.unbindGlobalListeners(),this.triggerEventListener&&this.triggerEventListener(),this.containerViewChild&&this.autoZIndex&&P.P9.clear(this.containerViewChild.nativeElement),this.appendTo&&this.el.nativeElement.appendChild(this.containerViewChild.nativeElement),this.ngDestroy$.next(!0),this.ngDestroy$.complete()}}return be.\u0275fac=function(ee){return new(ee||be)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(f.Lk),e.Y36(f.b4))},be.\u0275cmp=e.Xpm({type:be,selectors:[["p-contextMenu"]],viewQuery:function(ee,xe){if(1&ee&&e.Gf(Y,5),2&ee){let we;e.iGM(we=e.CRH())&&(xe.containerViewChild=we.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",global:"global",target:"target",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",triggerEvent:"triggerEvent"},outputs:{onShow:"onShow",onHide:"onHide"},decls:3,vars:6,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"item","root"]],template:function(ee,xe){1&ee&&(e.TgZ(0,"div",0,1),e._UZ(2,"p-contextMenuSub",2),e.qZA()),2&ee&&(e.Tol(xe.styleClass),e.Q6J("ngClass","p-contextmenu p-component")("ngStyle",xe.style),e.xp6(2),e.Q6J("item",xe.model)("root",!0))},dependencies:[d.mk,d.PC,Te],styles:[".p-contextmenu{position:absolute;display:none}.p-contextmenu ul{margin:0;padding:0;list-style:none}.p-contextmenu .p-submenu-list{position:absolute;min-width:100%;z-index:1;display:none}.p-contextmenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-contextmenu .p-menuitem-text{line-height:1}.p-contextmenu .p-menuitem{position:relative}.p-contextmenu .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-contextmenu .p-menuitem-active>p-contextmenusub>.p-submenu-list.p-submenu-list-active{display:block!important}\n"],encapsulation:2,changeDetection:0}),be})(),Ke=(()=>{class be{}return be.\u0275fac=function(ee){return new(ee||be)},be.\u0275mod=e.oAB({type:be}),be.\u0275inj=e.cJS({providers:[f.Lk],imports:[d.ez,x.Bz,_.T,L.z,x.Bz,L.z]}),be})()},5315:(hn,ht,b)=>{"use strict";b.d(ht,{V:()=>Te,S:()=>Ae});var e=b(5e3),d=b(1777),u=b(9808),f=b(5730),_=b(9783);let P=(()=>{class Ke{constructor(Ge){this.el=Ge}onkeydown(Ge){if(!0!==this.pFocusTrapDisabled){Ge.preventDefault();let ee=f.p.getFocusableElements(this.el.nativeElement);if(ee&&ee.length>0)if(ee[0].ownerDocument.activeElement){let xe=ee.indexOf(ee[0].ownerDocument.activeElement);Ge.shiftKey?-1==xe||0===xe?ee[ee.length-1].focus():ee[xe-1].focus():-1==xe||xe===ee.length-1?ee[0].focus():ee[xe+1].focus()}else ee[0].focus()}}}return Ke.\u0275fac=function(Ge){return new(Ge||Ke)(e.Y36(e.SBq))},Ke.\u0275dir=e.lG2({type:Ke,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(Ge,ee){1&Ge&&e.NdJ("keydown.tab",function(we){return ee.onkeydown(we)})("keydown.shift.tab",function(we){return ee.onkeydown(we)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),Ke})(),x=(()=>{class Ke{}return Ke.\u0275fac=function(Ge){return new(Ge||Ke)},Ke.\u0275mod=e.oAB({type:Ke}),Ke.\u0275inj=e.cJS({imports:[u.ez]}),Ke})();var a=b(5787),R=b(5921);const L=["titlebar"],V=["content"],F=["footer"];function T(Ke,be){if(1&Ke){const Ge=e.EpF();e.TgZ(0,"div",11),e.NdJ("mousedown",function(xe){e.CHM(Ge);const we=e.oxw(3);return e.KtG(we.initResize(xe))}),e.qZA()}}function y(Ke,be){if(1&Ke&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&Ke){const Ge=e.oxw(4);e.uIk("id",Ge.id+"-label"),e.xp6(1),e.Oqu(Ge.header)}}function D(Ke,be){if(1&Ke&&(e.TgZ(0,"span",18),e.Hsn(1,1),e.qZA()),2&Ke){const Ge=e.oxw(4);e.uIk("id",Ge.id+"-label")}}function k(Ke,be){1&Ke&&e.GkF(0)}const B=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function N(Ke,be){if(1&Ke){const Ge=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(Ge);const xe=e.oxw(4);return e.KtG(xe.maximize())})("keydown.enter",function(){e.CHM(Ge);const xe=e.oxw(4);return e.KtG(xe.maximize())}),e._UZ(1,"span",20),e.qZA()}if(2&Ke){const Ge=e.oxw(4);e.Q6J("ngClass",e.DdM(2,B)),e.xp6(1),e.Q6J("ngClass",Ge.maximized?Ge.minimizeIcon:Ge.maximizeIcon)}}const ce=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function $(Ke,be){if(1&Ke){const Ge=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(xe){e.CHM(Ge);const we=e.oxw(4);return e.KtG(we.close(xe))})("keydown.enter",function(xe){e.CHM(Ge);const we=e.oxw(4);return e.KtG(we.close(xe))}),e._UZ(1,"span",22),e.qZA()}if(2&Ke){const Ge=e.oxw(4);e.Q6J("ngClass",e.DdM(4,ce)),e.uIk("aria-label",Ge.closeAriaLabel)("tabindex",Ge.closeTabindex),e.xp6(1),e.Q6J("ngClass",Ge.closeIcon)}}function z(Ke,be){if(1&Ke){const Ge=e.EpF();e.TgZ(0,"div",12,13),e.NdJ("mousedown",function(xe){e.CHM(Ge);const we=e.oxw(3);return e.KtG(we.initDrag(xe))}),e.YNc(2,y,2,2,"span",14),e.YNc(3,D,2,1,"span",14),e.YNc(4,k,1,0,"ng-container",9),e.TgZ(5,"div",15),e.YNc(6,N,2,3,"button",16),e.YNc(7,$,2,5,"button",17),e.qZA()()}if(2&Ke){const Ge=e.oxw(3);e.xp6(2),e.Q6J("ngIf",!Ge.headerFacet&&!Ge.headerTemplate),e.xp6(1),e.Q6J("ngIf",Ge.headerFacet),e.xp6(1),e.Q6J("ngTemplateOutlet",Ge.headerTemplate),e.xp6(2),e.Q6J("ngIf",Ge.maximizable),e.xp6(1),e.Q6J("ngIf",Ge.closable)}}function S(Ke,be){1&Ke&&e.GkF(0)}function O(Ke,be){1&Ke&&e.GkF(0)}function K(Ke,be){if(1&Ke&&(e.TgZ(0,"div",23,24),e.Hsn(2,2),e.YNc(3,O,1,0,"ng-container",9),e.qZA()),2&Ke){const Ge=e.oxw(3);e.xp6(3),e.Q6J("ngTemplateOutlet",Ge.footerTemplate)}}const ue=function(Ke,be,Ge,ee){return{"p-dialog p-component":!0,"p-dialog-rtl":Ke,"p-dialog-draggable":be,"p-dialog-resizable":Ge,"p-dialog-maximized":ee}},q=function(Ke,be){return{transform:Ke,transition:be}},G=function(Ke){return{value:"visible",params:Ke}};function j(Ke,be){if(1&Ke){const Ge=e.EpF();e.TgZ(0,"div",3,4),e.NdJ("@animation.start",function(xe){e.CHM(Ge);const we=e.oxw(2);return e.KtG(we.onAnimationStart(xe))})("@animation.done",function(xe){e.CHM(Ge);const we=e.oxw(2);return e.KtG(we.onAnimationEnd(xe))}),e.YNc(2,T,1,0,"div",5),e.YNc(3,z,8,5,"div",6),e.TgZ(4,"div",7,8),e.Hsn(6),e.YNc(7,S,1,0,"ng-container",9),e.qZA(),e.YNc(8,K,4,1,"div",10),e.qZA()}if(2&Ke){const Ge=e.oxw(2);e.Tol(Ge.styleClass),e.Q6J("ngClass",e.l5B(15,ue,Ge.rtl,Ge.draggable,Ge.resizable,Ge.maximized))("ngStyle",Ge.style)("pFocusTrapDisabled",!1===Ge.focusTrap)("@animation",e.VKq(23,G,e.WLB(20,q,Ge.transformOptions,Ge.transitionOptions))),e.uIk("aria-labelledby",Ge.id+"-label"),e.xp6(2),e.Q6J("ngIf",Ge.resizable),e.xp6(1),e.Q6J("ngIf",Ge.showHeader),e.xp6(1),e.Tol(Ge.contentStyleClass),e.Q6J("ngClass","p-dialog-content")("ngStyle",Ge.contentStyle),e.xp6(3),e.Q6J("ngTemplateOutlet",Ge.contentTemplate),e.xp6(1),e.Q6J("ngIf",Ge.footerFacet||Ge.footerTemplate)}}const fe=function(Ke,be,Ge,ee,xe,we,Pe,dt,bt,it){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":Ke,"p-dialog-mask-scrollblocker":be,"p-dialog-left":Ge,"p-dialog-right":ee,"p-dialog-top":xe,"p-dialog-top-left":we,"p-dialog-top-right":Pe,"p-dialog-bottom":dt,"p-dialog-bottom-left":bt,"p-dialog-bottom-right":it}};function ne(Ke,be){if(1&Ke&&(e.TgZ(0,"div",1),e.YNc(1,j,9,25,"div",2),e.qZA()),2&Ke){const Ge=e.oxw();e.Tol(Ge.maskStyleClass),e.Q6J("ngClass",e.rFY(4,fe,[Ge.modal,Ge.modal||Ge.blockScroll,"left"===Ge.position,"right"===Ge.position,"top"===Ge.position,"topleft"===Ge.position||"top-left"===Ge.position,"topright"===Ge.position||"top-right"===Ge.position,"bottom"===Ge.position,"bottomleft"===Ge.position||"bottom-left"===Ge.position,"bottomright"===Ge.position||"bottom-right"===Ge.position])),e.xp6(1),e.Q6J("ngIf",Ge.visible)}}const J=["*",[["p-header"]],[["p-footer"]]],X=["*","p-header","p-footer"],W=(0,d.oQ)([(0,d.oB)({transform:"{{transform}}",opacity:0}),(0,d.jt)("{{transition}}")]),Y=(0,d.oQ)([(0,d.jt)("{{transition}}",(0,d.oB)({transform:"{{transform}}",opacity:0}))]);let Te=(()=>{class Ke{constructor(Ge,ee,xe,we,Pe){this.el=Ge,this.renderer=ee,this.zone=xe,this.cd=we,this.config=Pe,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.closeTabindex="-1",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new e.vpe,this.onHide=new e.vpe,this.visibleChange=new e.vpe,this.onResizeInit=new e.vpe,this.onResizeEnd=new e.vpe,this.onDragEnd=new e.vpe,this.onMaximize=new e.vpe,this.id=(0,R.Th)(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(Ge){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(Ge){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(Ge){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(Ge){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(Ge=>{switch(Ge.getType()){case"header":this.headerTemplate=Ge.template;break;case"content":default:this.contentTemplate=Ge.template;break;case"footer":this.footerTemplate=Ge.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(Ge){this._visible=Ge,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(Ge){Ge&&(this._style=Object.assign({},Ge),this.originalStyle=Ge)}get position(){return this._position}set position(Ge){switch(this._position=Ge,Ge){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let Ge=f.p.findSingle(this.container,"[autofocus]");Ge&&this.zone.runOutsideAngular(()=>{setTimeout(()=>Ge.focus(),5)})}close(Ge){this.visibleChange.emit(!1),Ge.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",Ge=>{this.wrapper&&this.wrapper.isSameNode(Ge.target)&&this.close(Ge)})),this.modal&&f.p.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&f.p.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?f.p.addClass(document.body,"p-overflow-hidden"):f.p.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(R.P9.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let Ge="";for(let ee in this.breakpoints)Ge+=`\n                    @media screen and (max-width: ${ee}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[ee]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=Ge}}initDrag(Ge){f.p.hasClass(Ge.target,"p-dialog-header-icon")||f.p.hasClass(Ge.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=Ge.pageX,this.lastPageY=Ge.pageY,this.container.style.margin="0",f.p.addClass(document.body,"p-unselectable-text"))}onKeydown(Ge){if(this.focusTrap&&9===Ge.which){Ge.preventDefault();let ee=f.p.getFocusableElements(this.container);if(ee&&ee.length>0)if(ee[0].ownerDocument.activeElement){let xe=ee.indexOf(ee[0].ownerDocument.activeElement);Ge.shiftKey?-1==xe||0===xe?ee[ee.length-1].focus():ee[xe-1].focus():-1==xe||xe===ee.length-1?ee[0].focus():ee[xe+1].focus()}else ee[0].focus()}}onDrag(Ge){if(this.dragging){let ee=f.p.getOuterWidth(this.container),xe=f.p.getOuterHeight(this.container),we=Ge.pageX-this.lastPageX,Pe=Ge.pageY-this.lastPageY,dt=this.container.getBoundingClientRect(),bt=dt.left+we,it=dt.top+Pe,Dt=f.p.getViewport();this.container.style.position="fixed",this.keepInViewport?(bt>=this.minX&&bt+ee<Dt.width&&(this._style.left=bt+"px",this.lastPageX=Ge.pageX,this.container.style.left=bt+"px"),it>=this.minY&&it+xe<Dt.height&&(this._style.top=it+"px",this.lastPageY=Ge.pageY,this.container.style.top=it+"px")):(this.lastPageX=Ge.pageX,this.container.style.left=bt+"px",this.lastPageY=Ge.pageY,this.container.style.top=it+"px")}}endDrag(Ge){this.dragging&&(this.dragging=!1,f.p.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(Ge))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(Ge){this.resizable&&(this.resizing=!0,this.lastPageX=Ge.pageX,this.lastPageY=Ge.pageY,f.p.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(Ge))}onResize(Ge){if(this.resizing){let ee=Ge.pageX-this.lastPageX,xe=Ge.pageY-this.lastPageY,we=f.p.getOuterWidth(this.container),Pe=f.p.getOuterHeight(this.container),dt=f.p.getOuterHeight(this.contentViewChild.nativeElement),bt=we+ee,it=Pe+xe,Dt=this.container.style.minWidth,vt=this.container.style.minHeight,Wt=this.container.getBoundingClientRect(),zt=f.p.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(bt+=ee,it+=xe),(!Dt||bt>parseInt(Dt))&&Wt.left+bt<zt.width&&(this._style.width=bt+"px",this.container.style.width=this._style.width),(!vt||it>parseInt(vt))&&Wt.top+it<zt.height&&(this.contentViewChild.nativeElement.style.height=dt+it-Pe+"px",this._style.height&&(this._style.height=it+"px",this.container.style.height=this._style.height)),this.lastPageX=Ge.pageX,this.lastPageY=Ge.pageY}}resizeEnd(Ge){this.resizing&&(this.resizing=!1,f.p.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(Ge))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",ee=>{27==ee.which&&this.close(ee)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):f.p.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(Ge){switch(Ge.toState){case"visible":this.container=Ge.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&f.p.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&f.p.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(Ge){switch(Ge.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(f.p.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&f.p.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&R.P9.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?Object.assign({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return Ke.\u0275fac=function(Ge){return new(Ge||Ke)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(_.b4))},Ke.\u0275cmp=e.Xpm({type:Ke,selectors:[["p-dialog"]],contentQueries:function(Ge,ee,xe){if(1&Ge&&(e.Suo(xe,_.h4,5),e.Suo(xe,_.$_,5),e.Suo(xe,_.jx,4)),2&Ge){let we;e.iGM(we=e.CRH())&&(ee.headerFacet=we.first),e.iGM(we=e.CRH())&&(ee.footerFacet=we.first),e.iGM(we=e.CRH())&&(ee.templates=we)}},viewQuery:function(Ge,ee){if(1&Ge&&(e.Gf(L,5),e.Gf(V,5),e.Gf(F,5)),2&Ge){let xe;e.iGM(xe=e.CRH())&&(ee.headerViewChild=xe.first),e.iGM(xe=e.CRH())&&(ee.contentViewChild=xe.first),e.iGM(xe=e.CRH())&&(ee.footerViewChild=xe.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:X,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""]],template:function(Ge,ee){1&Ge&&(e.F$t(J),e.YNc(0,ne,2,15,"div",0)),2&Ge&&e.Q6J("ngIf",ee.maskVisible)},dependencies:[u.mk,u.O5,u.tP,u.PC,P,a.H],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,d.X$)("animation",[(0,d.eR)("void => visible",[(0,d._7)(W)]),(0,d.eR)("visible => void",[(0,d._7)(Y)])])]},changeDetection:0}),Ke})(),Ae=(()=>{class Ke{}return Ke.\u0275fac=function(Ge){return new(Ge||Ke)},Ke.\u0275mod=e.oAB({type:Ke}),Ke.\u0275inj=e.cJS({imports:[u.ez,x,a.T,_.m8]}),Ke})()},5730:(hn,ht,b)=>{"use strict";b.d(ht,{V:()=>d,p:()=>e});let e=(()=>{class u{static addClass(_,P){_&&P&&(_.classList?_.classList.add(P):_.className+=" "+P)}static addMultipleClasses(_,P){if(_&&P)if(_.classList){let x=P.trim().split(" ");for(let a=0;a<x.length;a++)_.classList.add(x[a])}else{let x=P.split(" ");for(let a=0;a<x.length;a++)_.className+=" "+x[a]}}static removeClass(_,P){_&&P&&(_.classList?_.classList.remove(P):_.className=_.className.replace(new RegExp("(^|\\b)"+P.split(" ").join("|")+"(\\b|$)","gi")," "))}static hasClass(_,P){return!(!_||!P)&&(_.classList?_.classList.contains(P):new RegExp("(^| )"+P+"( |$)","gi").test(_.className))}static siblings(_){return Array.prototype.filter.call(_.parentNode.children,function(P){return P!==_})}static find(_,P){return Array.from(_.querySelectorAll(P))}static findSingle(_,P){return _?_.querySelector(P):null}static index(_){let P=_.parentNode.childNodes,x=0;for(var a=0;a<P.length;a++){if(P[a]==_)return x;1==P[a].nodeType&&x++}return-1}static indexWithinGroup(_,P){let x=_.parentNode?_.parentNode.childNodes:[],a=0;for(var R=0;R<x.length;R++){if(x[R]==_)return a;x[R].attributes&&x[R].attributes[P]&&1==x[R].nodeType&&a++}return-1}static appendOverlay(_,P,x="self"){"self"!==x&&_&&P&&this.appendChild(_,P)}static alignOverlay(_,P,x="self",a=!0){_&&P&&(a&&(_.style.minWidth||(_.style.minWidth=u.getOuterWidth(P)+"px")),"self"===x?this.relativePosition(_,P):this.absolutePosition(_,P))}static relativePosition(_,P){const x=N=>{if(N)return"relative"===getComputedStyle(N).getPropertyValue("position")?N:x(N.parentElement)},a=_.offsetParent?{width:_.offsetWidth,height:_.offsetHeight}:this.getHiddenElementDimensions(_),R=P.offsetHeight,L=P.getBoundingClientRect(),V=this.getWindowScrollTop(),F=this.getWindowScrollLeft(),T=this.getViewport(),y=x(_),D=(null==y?void 0:y.getBoundingClientRect())||{top:-1*V,left:-1*F};let k,B;L.top+R+a.height>T.height?(k=L.top-D.top-a.height,_.style.transformOrigin="bottom",L.top+k<0&&(k=-1*L.top)):(k=R+L.top-D.top,_.style.transformOrigin="top"),B=a.width>T.width?-1*(L.left-D.left):L.left-D.left+a.width>T.width?-1*(L.left-D.left+a.width-T.width):L.left-D.left,_.style.top=k+"px",_.style.left=B+"px"}static absolutePosition(_,P){const x=_.offsetParent?{width:_.offsetWidth,height:_.offsetHeight}:this.getHiddenElementDimensions(_),a=x.height,R=x.width,L=P.offsetHeight,V=P.offsetWidth,F=P.getBoundingClientRect(),T=this.getWindowScrollTop(),y=this.getWindowScrollLeft(),D=this.getViewport();let k,B;F.top+L+a>D.height?(k=F.top+T-a,_.style.transformOrigin="bottom",k<0&&(k=T)):(k=L+F.top+T,_.style.transformOrigin="top"),B=F.left+R>D.width?Math.max(0,F.left+y+V-R):F.left+y,_.style.top=k+"px",_.style.left=B+"px"}static getParents(_,P=[]){return null===_.parentNode?P:this.getParents(_.parentNode,P.concat([_.parentNode]))}static getScrollableParents(_){let P=[];if(_){let x=this.getParents(_);const a=/(auto|scroll)/,R=L=>{let V=window.getComputedStyle(L,null);return a.test(V.getPropertyValue("overflow"))||a.test(V.getPropertyValue("overflowX"))||a.test(V.getPropertyValue("overflowY"))};for(let L of x){let V=1===L.nodeType&&L.dataset.scrollselectors;if(V){let F=V.split(",");for(let T of F){let y=this.findSingle(L,T);y&&R(y)&&P.push(y)}}9!==L.nodeType&&R(L)&&P.push(L)}}return P}static getHiddenElementOuterHeight(_){_.style.visibility="hidden",_.style.display="block";let P=_.offsetHeight;return _.style.display="none",_.style.visibility="visible",P}static getHiddenElementOuterWidth(_){_.style.visibility="hidden",_.style.display="block";let P=_.offsetWidth;return _.style.display="none",_.style.visibility="visible",P}static getHiddenElementDimensions(_){let P={};return _.style.visibility="hidden",_.style.display="block",P.width=_.offsetWidth,P.height=_.offsetHeight,_.style.display="none",_.style.visibility="visible",P}static scrollInView(_,P){let x=getComputedStyle(_).getPropertyValue("borderTopWidth"),a=x?parseFloat(x):0,R=getComputedStyle(_).getPropertyValue("paddingTop"),L=R?parseFloat(R):0,V=_.getBoundingClientRect(),T=P.getBoundingClientRect().top+document.body.scrollTop-(V.top+document.body.scrollTop)-a-L,y=_.scrollTop,D=_.clientHeight,k=this.getOuterHeight(P);T<0?_.scrollTop=y+T:T+k>D&&(_.scrollTop=y+T-D+k)}static fadeIn(_,P){_.style.opacity=0;let x=+new Date,a=0,R=function(){a=+_.style.opacity.replace(",",".")+((new Date).getTime()-x)/P,_.style.opacity=a,x=+new Date,+a<1&&(window.requestAnimationFrame&&requestAnimationFrame(R)||setTimeout(R,16))};R()}static fadeOut(_,P){var x=1,L=50/P;let V=setInterval(()=>{(x-=L)<=0&&(x=0,clearInterval(V)),_.style.opacity=x},50)}static getWindowScrollTop(){let _=document.documentElement;return(window.pageYOffset||_.scrollTop)-(_.clientTop||0)}static getWindowScrollLeft(){let _=document.documentElement;return(window.pageXOffset||_.scrollLeft)-(_.clientLeft||0)}static matches(_,P){var x=Element.prototype;return(x.matches||x.webkitMatchesSelector||x.mozMatchesSelector||x.msMatchesSelector||function(R){return-1!==[].indexOf.call(document.querySelectorAll(R),this)}).call(_,P)}static getOuterWidth(_,P){let x=_.offsetWidth;if(P){let a=getComputedStyle(_);x+=parseFloat(a.marginLeft)+parseFloat(a.marginRight)}return x}static getHorizontalPadding(_){let P=getComputedStyle(_);return parseFloat(P.paddingLeft)+parseFloat(P.paddingRight)}static getHorizontalMargin(_){let P=getComputedStyle(_);return parseFloat(P.marginLeft)+parseFloat(P.marginRight)}static innerWidth(_){let P=_.offsetWidth,x=getComputedStyle(_);return P+=parseFloat(x.paddingLeft)+parseFloat(x.paddingRight),P}static width(_){let P=_.offsetWidth,x=getComputedStyle(_);return P-=parseFloat(x.paddingLeft)+parseFloat(x.paddingRight),P}static getInnerHeight(_){let P=_.offsetHeight,x=getComputedStyle(_);return P+=parseFloat(x.paddingTop)+parseFloat(x.paddingBottom),P}static getOuterHeight(_,P){let x=_.offsetHeight;if(P){let a=getComputedStyle(_);x+=parseFloat(a.marginTop)+parseFloat(a.marginBottom)}return x}static getHeight(_){let P=_.offsetHeight,x=getComputedStyle(_);return P-=parseFloat(x.paddingTop)+parseFloat(x.paddingBottom)+parseFloat(x.borderTopWidth)+parseFloat(x.borderBottomWidth),P}static getWidth(_){let P=_.offsetWidth,x=getComputedStyle(_);return P-=parseFloat(x.paddingLeft)+parseFloat(x.paddingRight)+parseFloat(x.borderLeftWidth)+parseFloat(x.borderRightWidth),P}static getViewport(){let _=window,P=document,x=P.documentElement,a=P.getElementsByTagName("body")[0];return{width:_.innerWidth||x.clientWidth||a.clientWidth,height:_.innerHeight||x.clientHeight||a.clientHeight}}static getOffset(_){var P=_.getBoundingClientRect();return{top:P.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:P.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(_,P){let x=_.parentNode;if(!x)throw"Can't replace element";return x.replaceChild(P,_)}static getUserAgent(){return navigator.userAgent}static isIE(){var _=window.navigator.userAgent;return _.indexOf("MSIE ")>0||(_.indexOf("Trident/")>0?(_.indexOf("rv:"),!0):_.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(_,P){if(this.isElement(P))P.appendChild(_);else{if(!P.el||!P.el.nativeElement)throw"Cannot append "+P+" to "+_;P.el.nativeElement.appendChild(_)}}static removeChild(_,P){if(this.isElement(P))P.removeChild(_);else{if(!P.el||!P.el.nativeElement)throw"Cannot remove "+_+" from "+P;P.el.nativeElement.removeChild(_)}}static removeElement(_){"remove"in Element.prototype?_.remove():_.parentNode.removeChild(_)}static isElement(_){return"object"==typeof HTMLElement?_ instanceof HTMLElement:_&&"object"==typeof _&&null!==_&&1===_.nodeType&&"string"==typeof _.nodeName}static calculateScrollbarWidth(_){if(_){let P=getComputedStyle(_);return _.offsetWidth-_.clientWidth-parseFloat(P.borderLeftWidth)-parseFloat(P.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let P=document.createElement("div");P.className="p-scrollbar-measure",document.body.appendChild(P);let x=P.offsetWidth-P.clientWidth;return document.body.removeChild(P),this.calculatedScrollbarWidth=x,x}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let _=document.createElement("div");_.className="p-scrollbar-measure",document.body.appendChild(_);let P=_.offsetHeight-_.clientHeight;return document.body.removeChild(_),this.calculatedScrollbarWidth=P,P}static invokeElementMethod(_,P,x){_[P].apply(_,x)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(_){}}static getBrowser(){if(!this.browser){let _=this.resolveUserAgent();this.browser={},_.browser&&(this.browser[_.browser]=!0,this.browser.version=_.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let _=navigator.userAgent.toLowerCase(),P=/(chrome)[ \/]([\w.]+)/.exec(_)||/(webkit)[ \/]([\w.]+)/.exec(_)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(_)||/(msie) ([\w.]+)/.exec(_)||_.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(_)||[];return{browser:P[1]||"",version:P[2]||"0"}}static isInteger(_){return Number.isInteger?Number.isInteger(_):"number"==typeof _&&isFinite(_)&&Math.floor(_)===_}static isHidden(_){return!_||null===_.offsetParent}static isVisible(_){return _&&null!=_.offsetParent}static isExist(_){return null!=_&&_.nodeName&&_.parentNode}static focus(_,P){_&&document.activeElement!==_&&_.focus(P)}static getFocusableElements(_){let P=u.find(_,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),x=[];for(let a of P)"none"!=getComputedStyle(a).display&&"hidden"!=getComputedStyle(a).visibility&&x.push(a);return x}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(_,P){if(!_)return null;switch(_){case"document":return document;case"window":return window;case"@next":return null==P?void 0:P.nextElementSibling;case"@prev":return null==P?void 0:P.previousElementSibling;case"@parent":return null==P?void 0:P.parentElement;case"@grandparent":return null==P?void 0:P.parentElement.parentElement;default:const x=typeof _;if("string"===x)return document.querySelector(_);if("object"===x&&_.hasOwnProperty("nativeElement"))return this.isExist(_.nativeElement)?_.nativeElement:void 0;const R=(L=_)&&L.constructor&&L.call&&L.apply?_():_;return R&&9===R.nodeType||this.isExist(R)?R:null}var L}}return u.zindex=1e3,u.calculatedScrollbarWidth=null,u.calculatedScrollbarHeight=null,u})();class d{constructor(f,_=(()=>{})){this.element=f,this.listener=_}bindScrollListener(){this.scrollableParents=e.getScrollableParents(this.element);for(let f=0;f<this.scrollableParents.length;f++)this.scrollableParents[f].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let f=0;f<this.scrollableParents.length;f++)this.scrollableParents[f].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},9873:(hn,ht,b)=>{"use strict";b.d(ht,{_l:()=>f,_t:()=>P,bK:()=>_});var e=b(5e3),d=b(9808),u=b(5730);let f=(()=>{class x{constructor(R,L){this.el=R,this.zone=L,this.onDragStart=new e.vpe,this.onDragEnd=new e.vpe,this.onDrag=new e.vpe}get pDraggableDisabled(){return this._pDraggableDisabled}set pDraggableDisabled(R){this._pDraggableDisabled=R,this._pDraggableDisabled?this.unbindMouseListeners():(this.el.nativeElement.draggable=!0,this.bindMouseListeners())}ngAfterViewInit(){this.pDraggableDisabled||(this.el.nativeElement.draggable=!0,this.bindMouseListeners())}bindDragListener(){this.dragListener||this.zone.runOutsideAngular(()=>{this.dragListener=this.drag.bind(this),this.el.nativeElement.addEventListener("drag",this.dragListener)})}unbindDragListener(){this.dragListener&&this.zone.runOutsideAngular(()=>{this.el.nativeElement.removeEventListener("drag",this.dragListener),this.dragListener=null})}bindMouseListeners(){!this.mouseDownListener&&!this.mouseUpListener&&this.zone.runOutsideAngular(()=>{this.mouseDownListener=this.mousedown.bind(this),this.mouseUpListener=this.mouseup.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener),this.el.nativeElement.addEventListener("mouseup",this.mouseUpListener)})}unbindMouseListeners(){this.mouseDownListener&&this.mouseUpListener&&this.zone.runOutsideAngular(()=>{this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),this.el.nativeElement.removeEventListener("mouseup",this.mouseUpListener),this.mouseDownListener=null,this.mouseUpListener=null})}drag(R){this.onDrag.emit(R)}dragStart(R){this.allowDrag()&&!this.pDraggableDisabled?(this.dragEffect&&(R.dataTransfer.effectAllowed=this.dragEffect),R.dataTransfer.setData("text",this.scope),this.onDragStart.emit(R),this.bindDragListener()):R.preventDefault()}dragEnd(R){this.onDragEnd.emit(R),this.unbindDragListener()}mousedown(R){this.handle=R.target}mouseup(R){this.handle=null}allowDrag(){return!this.dragHandle||!this.handle||u.p.matches(this.handle,this.dragHandle)}ngOnDestroy(){this.unbindDragListener(),this.unbindMouseListeners()}}return x.\u0275fac=function(R){return new(R||x)(e.Y36(e.SBq),e.Y36(e.R0b))},x.\u0275dir=e.lG2({type:x,selectors:[["","pDraggable",""]],hostAttrs:[1,"p-element"],hostBindings:function(R,L){1&R&&e.NdJ("dragstart",function(F){return L.dragStart(F)})("dragend",function(F){return L.dragEnd(F)})},inputs:{scope:["pDraggable","scope"],dragEffect:"dragEffect",dragHandle:"dragHandle",pDraggableDisabled:"pDraggableDisabled"},outputs:{onDragStart:"onDragStart",onDragEnd:"onDragEnd",onDrag:"onDrag"}}),x})(),_=(()=>{class x{constructor(R,L){this.el=R,this.zone=L,this.onDragEnter=new e.vpe,this.onDragLeave=new e.vpe,this.onDrop=new e.vpe}ngAfterViewInit(){this.pDroppableDisabled||this.bindDragOverListener()}bindDragOverListener(){this.dragOverListener||this.zone.runOutsideAngular(()=>{this.dragOverListener=this.dragOver.bind(this),this.el.nativeElement.addEventListener("dragover",this.dragOverListener)})}unbindDragOverListener(){this.dragOverListener&&this.zone.runOutsideAngular(()=>{this.el.nativeElement.removeEventListener("dragover",this.dragOverListener),this.dragOverListener=null})}dragOver(R){R.preventDefault()}drop(R){this.allowDrop(R)&&(u.p.removeClass(this.el.nativeElement,"p-draggable-enter"),R.preventDefault(),this.onDrop.emit(R))}dragEnter(R){R.preventDefault(),this.dropEffect&&(R.dataTransfer.dropEffect=this.dropEffect),u.p.addClass(this.el.nativeElement,"p-draggable-enter"),this.onDragEnter.emit(R)}dragLeave(R){R.preventDefault(),u.p.removeClass(this.el.nativeElement,"p-draggable-enter"),this.onDragLeave.emit(R)}allowDrop(R){let L=R.dataTransfer.getData("text");if("string"==typeof this.scope&&L==this.scope)return!0;if(this.scope instanceof Array)for(let V=0;V<this.scope.length;V++)if(L==this.scope[V])return!0;return!1}ngOnDestroy(){this.unbindDragOverListener()}}return x.\u0275fac=function(R){return new(R||x)(e.Y36(e.SBq),e.Y36(e.R0b))},x.\u0275dir=e.lG2({type:x,selectors:[["","pDroppable",""]],hostAttrs:[1,"p-element"],hostBindings:function(R,L){1&R&&e.NdJ("drop",function(F){return L.drop(F)})("dragenter",function(F){return L.dragEnter(F)})("dragleave",function(F){return L.dragLeave(F)})},inputs:{scope:["pDroppable","scope"],pDroppableDisabled:"pDroppableDisabled",dropEffect:"dropEffect"},outputs:{onDragEnter:"onDragEnter",onDragLeave:"onDragLeave",onDrop:"onDrop"}}),x})(),P=(()=>{class x{}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=e.oAB({type:x}),x.\u0275inj=e.cJS({imports:[d.ez]}),x})()},4036:(hn,ht,b)=>{"use strict";b.d(ht,{Lt:()=>Tn,kW:()=>en});var e=b(9808),d=b(5e3),u=b(2382),f=b(9783),_=b(9618),P=b(5730),x=b(8050),a=b(5787),R=b(5871),L=b(4119),V=b(5921);function F(_t,tt){if(1&_t&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&_t){const de=d.oxw();d.xp6(1),d.Oqu(de.label||"empty")}}function T(_t,tt){1&_t&&d.GkF(0)}const y=function(_t){return{height:_t}},D=function(_t,tt){return{"p-dropdown-item":!0,"p-highlight":_t,"p-disabled":tt}},k=function(_t){return{$implicit:_t}},B=["container"],N=["filter"],ce=["in"],$=["editableInput"],z=["items"],S=["scroller"],O=["overlay"];function K(_t,tt){if(1&_t&&(d.ynx(0),d._uU(1),d.BQk()),2&_t){const de=d.oxw(2);d.xp6(1),d.Oqu(de.label||"empty")}}function ue(_t,tt){1&_t&&d.GkF(0)}const q=function(_t){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":_t}};function G(_t,tt){if(1&_t&&(d.TgZ(0,"span",14),d.YNc(1,K,2,1,"ng-container",15),d.YNc(2,ue,1,0,"ng-container",16),d.qZA()),2&_t){const de=d.oxw();d.Q6J("ngClass",d.VKq(9,q,null==de.label||0===de.label.length))("pTooltip",de.tooltip)("tooltipPosition",de.tooltipPosition)("positionStyle",de.tooltipPositionStyle)("tooltipStyleClass",de.tooltipStyleClass),d.uIk("id",de.labelId),d.xp6(1),d.Q6J("ngIf",!de.selectedItemTemplate),d.xp6(1),d.Q6J("ngTemplateOutlet",de.selectedItemTemplate)("ngTemplateOutletContext",d.VKq(11,k,de.selectedOption))}}const j=function(_t){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":_t}};function fe(_t,tt){if(1&_t&&(d.TgZ(0,"span",17),d._uU(1),d.qZA()),2&_t){const de=d.oxw();d.Q6J("ngClass",d.VKq(2,j,null==de.placeholder||0===de.placeholder.length)),d.xp6(1),d.Oqu(de.placeholder||"empty")}}function ne(_t,tt){if(1&_t){const de=d.EpF();d.TgZ(0,"input",18,19),d.NdJ("input",function(ze){d.CHM(de);const Et=d.oxw();return d.KtG(Et.onEditableInputChange(ze))})("focus",function(ze){d.CHM(de);const Et=d.oxw();return d.KtG(Et.onEditableInputFocus(ze))})("blur",function(ze){d.CHM(de);const Et=d.oxw();return d.KtG(Et.onInputBlur(ze))}),d.qZA()}if(2&_t){const de=d.oxw();d.Q6J("disabled",de.disabled),d.uIk("maxlength",de.maxlength)("placeholder",de.placeholder)("aria-expanded",de.overlayVisible)}}function J(_t,tt){if(1&_t){const de=d.EpF();d.TgZ(0,"i",20),d.NdJ("click",function(ze){d.CHM(de);const Et=d.oxw();return d.KtG(Et.clear(ze))}),d.qZA()}}function X(_t,tt){1&_t&&d.GkF(0)}function W(_t,tt){1&_t&&d.GkF(0)}const Y=function(_t){return{options:_t}};function Te(_t,tt){if(1&_t&&(d.ynx(0),d.YNc(1,W,1,0,"ng-container",16),d.BQk()),2&_t){const de=d.oxw(3);d.xp6(1),d.Q6J("ngTemplateOutlet",de.filterTemplate)("ngTemplateOutletContext",d.VKq(2,Y,de.filterOptions))}}function Ae(_t,tt){if(1&_t){const de=d.EpF();d.TgZ(0,"div",30)(1,"input",31,32),d.NdJ("keydown.enter",function(ze){return ze.preventDefault()})("keydown",function(ze){d.CHM(de);const Et=d.oxw(3);return d.KtG(Et.onKeydown(ze,!1))})("input",function(ze){d.CHM(de);const Et=d.oxw(3);return d.KtG(Et.onFilterInputChange(ze))}),d.qZA(),d._UZ(3,"span",33),d.qZA()}if(2&_t){const de=d.oxw(3);d.xp6(1),d.Q6J("value",de.filterValue||""),d.uIk("placeholder",de.filterPlaceholder)("aria-label",de.ariaFilterLabel)("aria-activedescendant",de.overlayVisible?"p-highlighted-option":de.labelId)}}function Ke(_t,tt){if(1&_t&&(d.TgZ(0,"div",27),d.NdJ("click",function(Qe){return Qe.stopPropagation()}),d.YNc(1,Te,2,4,"ng-container",28),d.YNc(2,Ae,4,4,"ng-template",null,29,d.W1O),d.qZA()),2&_t){const de=d.MAs(3),Qe=d.oxw(2);d.xp6(1),d.Q6J("ngIf",Qe.filterTemplate)("ngIfElse",de)}}function be(_t,tt){1&_t&&d.GkF(0)}const Ge=function(_t,tt){return{$implicit:_t,options:tt}};function ee(_t,tt){if(1&_t&&d.YNc(0,be,1,0,"ng-container",16),2&_t){const de=tt.$implicit,Qe=tt.options;d.oxw(2);const ze=d.MAs(7);d.Q6J("ngTemplateOutlet",ze)("ngTemplateOutletContext",d.WLB(2,Ge,de,Qe))}}function xe(_t,tt){1&_t&&d.GkF(0)}function we(_t,tt){if(1&_t&&d.YNc(0,xe,1,0,"ng-container",16),2&_t){const de=tt.options,Qe=d.oxw(4);d.Q6J("ngTemplateOutlet",Qe.loaderTemplate)("ngTemplateOutletContext",d.VKq(2,Y,de))}}function Pe(_t,tt){1&_t&&(d.ynx(0),d.YNc(1,we,1,4,"ng-template",36),d.BQk())}function dt(_t,tt){if(1&_t){const de=d.EpF();d.TgZ(0,"p-scroller",34,35),d.NdJ("onLazyLoad",function(ze){d.CHM(de);const Et=d.oxw(2);return d.KtG(Et.onLazyLoad.emit(ze))}),d.YNc(2,ee,1,5,"ng-template",13),d.YNc(3,Pe,2,0,"ng-container",15),d.qZA()}if(2&_t){const de=d.oxw(2);d.Akn(d.VKq(8,y,de.scrollHeight)),d.Q6J("items",de.optionsToDisplay)("itemSize",de.virtualScrollItemSize||de._itemSize)("autoSize",!0)("lazy",de.lazy)("options",de.virtualScrollOptions),d.xp6(3),d.Q6J("ngIf",de.loaderTemplate)}}function bt(_t,tt){1&_t&&d.GkF(0)}const it=function(){return{}};function Dt(_t,tt){if(1&_t&&(d.ynx(0),d.YNc(1,bt,1,0,"ng-container",16),d.BQk()),2&_t){d.oxw();const de=d.MAs(7),Qe=d.oxw();d.xp6(1),d.Q6J("ngTemplateOutlet",de)("ngTemplateOutletContext",d.WLB(3,Ge,Qe.optionsToDisplay,d.DdM(2,it)))}}function vt(_t,tt){if(1&_t&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&_t){const de=d.oxw().$implicit,Qe=d.oxw(4);d.xp6(1),d.Oqu(Qe.getOptionGroupLabel(de)||"empty")}}function Wt(_t,tt){1&_t&&d.GkF(0)}function zt(_t,tt){1&_t&&d.GkF(0)}const Ut=function(_t,tt){return{$implicit:_t,selectedOption:tt}};function ct(_t,tt){if(1&_t&&(d.TgZ(0,"li",42),d.YNc(1,vt,2,1,"span",15),d.YNc(2,Wt,1,0,"ng-container",16),d.qZA(),d.YNc(3,zt,1,0,"ng-container",16)),2&_t){const de=tt.$implicit,Qe=d.oxw(2).options,ze=d.MAs(5),Et=d.oxw(2);d.Q6J("ngStyle",d.VKq(6,y,Qe.itemSize+"px")),d.xp6(1),d.Q6J("ngIf",!Et.groupTemplate),d.xp6(1),d.Q6J("ngTemplateOutlet",Et.groupTemplate)("ngTemplateOutletContext",d.VKq(8,k,de)),d.xp6(1),d.Q6J("ngTemplateOutlet",ze)("ngTemplateOutletContext",d.WLB(10,Ut,Et.getOptionGroupChildren(de),Et.selectedOption))}}function at(_t,tt){if(1&_t&&(d.ynx(0),d.YNc(1,ct,4,13,"ng-template",41),d.BQk()),2&_t){const de=d.oxw().$implicit;d.xp6(1),d.Q6J("ngForOf",de)}}function me(_t,tt){1&_t&&d.GkF(0)}function De(_t,tt){if(1&_t&&(d.ynx(0),d.YNc(1,me,1,0,"ng-container",16),d.BQk()),2&_t){const de=d.oxw().$implicit,Qe=d.MAs(5),ze=d.oxw(2);d.xp6(1),d.Q6J("ngTemplateOutlet",Qe)("ngTemplateOutletContext",d.WLB(2,Ut,de,ze.selectedOption))}}function ot(_t,tt){if(1&_t){const de=d.EpF();d.TgZ(0,"p-dropdownItem",43),d.NdJ("onClick",function(ze){d.CHM(de);const Et=d.oxw(4);return d.KtG(Et.onItemClick(ze))}),d.qZA()}if(2&_t){const de=tt.$implicit,Qe=d.oxw().selectedOption,ze=d.oxw(3);d.Q6J("option",de)("selected",Qe==de)("label",ze.getOptionLabel(de))("disabled",ze.isOptionDisabled(de))("template",ze.itemTemplate)}}function Ct(_t,tt){1&_t&&d.YNc(0,ot,1,5,"ng-template",41),2&_t&&d.Q6J("ngForOf",tt.$implicit)}function Ot(_t,tt){if(1&_t&&(d.ynx(0),d._uU(1),d.BQk()),2&_t){const de=d.oxw(4);d.xp6(1),d.hij(" ",de.emptyFilterMessageLabel," ")}}function Ft(_t,tt){1&_t&&d.GkF(0,null,45)}function Mt(_t,tt){if(1&_t&&(d.TgZ(0,"li",44),d.YNc(1,Ot,2,1,"ng-container",28),d.YNc(2,Ft,2,0,"ng-container",22),d.qZA()),2&_t){const de=d.oxw().options,Qe=d.oxw(2);d.Q6J("ngStyle",d.VKq(4,y,de.itemSize+"px")),d.xp6(1),d.Q6J("ngIf",!Qe.emptyFilterTemplate&&!Qe.emptyTemplate)("ngIfElse",Qe.emptyFilter),d.xp6(1),d.Q6J("ngTemplateOutlet",Qe.emptyFilterTemplate||Qe.emptyTemplate)}}function Ye(_t,tt){if(1&_t&&(d.ynx(0),d._uU(1),d.BQk()),2&_t){const de=d.oxw(4);d.xp6(1),d.hij(" ",de.emptyMessageLabel," ")}}function st(_t,tt){1&_t&&d.GkF(0,null,46)}function je(_t,tt){if(1&_t&&(d.TgZ(0,"li",44),d.YNc(1,Ye,2,1,"ng-container",28),d.YNc(2,st,2,0,"ng-container",22),d.qZA()),2&_t){const de=d.oxw().options,Qe=d.oxw(2);d.Q6J("ngStyle",d.VKq(4,y,de.itemSize+"px")),d.xp6(1),d.Q6J("ngIf",!Qe.emptyTemplate)("ngIfElse",Qe.empty),d.xp6(1),d.Q6J("ngTemplateOutlet",Qe.emptyTemplate)}}function It(_t,tt){if(1&_t&&(d.TgZ(0,"ul",37,38),d.YNc(2,at,2,1,"ng-container",15),d.YNc(3,De,2,5,"ng-container",15),d.YNc(4,Ct,1,1,"ng-template",null,39,d.W1O),d.YNc(6,Mt,3,6,"li",40),d.YNc(7,je,3,6,"li",40),d.qZA()),2&_t){const de=tt.options,Qe=d.oxw(2);d.Akn(de.contentStyle),d.Q6J("ngClass",de.contentStyleClass),d.uIk("id",Qe.listId),d.xp6(2),d.Q6J("ngIf",Qe.group),d.xp6(1),d.Q6J("ngIf",!Qe.group),d.xp6(3),d.Q6J("ngIf",Qe.filterValue&&Qe.isEmpty()),d.xp6(1),d.Q6J("ngIf",!Qe.filterValue&&Qe.isEmpty())}}function se(_t,tt){1&_t&&d.GkF(0)}function Fe(_t,tt){if(1&_t&&(d.TgZ(0,"div",21),d.YNc(1,X,1,0,"ng-container",22),d.YNc(2,Ke,4,2,"div",23),d.TgZ(3,"div",24),d.YNc(4,dt,4,10,"p-scroller",25),d.YNc(5,Dt,2,6,"ng-container",15),d.YNc(6,It,8,8,"ng-template",null,26,d.W1O),d.qZA(),d.YNc(8,se,1,0,"ng-container",22),d.qZA()),2&_t){const de=d.oxw();d.Tol(de.panelStyleClass),d.Q6J("ngClass","p-dropdown-panel p-component")("ngStyle",de.panelStyle),d.xp6(1),d.Q6J("ngTemplateOutlet",de.headerTemplate),d.xp6(1),d.Q6J("ngIf",de.filter),d.xp6(1),d.Udp("max-height",de.virtualScroll?"auto":de.scrollHeight||"auto"),d.xp6(1),d.Q6J("ngIf",de.virtualScroll),d.xp6(1),d.Q6J("ngIf",!de.virtualScroll),d.xp6(3),d.Q6J("ngTemplateOutlet",de.footerTemplate)}}const he=function(_t,tt,de,Qe){return{"p-dropdown p-component":!0,"p-disabled":_t,"p-dropdown-open":tt,"p-focus":de,"p-dropdown-clearable":Qe}},gt={provide:u.JU,useExisting:(0,d.Gpc)(()=>Tn),multi:!0};let cn=(()=>{class _t{constructor(){this.onClick=new d.vpe}onOptionClick(de){this.onClick.emit({originalEvent:de,option:this.option})}}return _t.\u0275fac=function(de){return new(de||_t)},_t.\u0275cmp=d.Xpm({type:_t,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(de,Qe){1&de&&(d.TgZ(0,"li",0),d.NdJ("click",function(Et){return Qe.onOptionClick(Et)}),d.YNc(1,F,2,1,"span",1),d.YNc(2,T,1,0,"ng-container",2),d.qZA()),2&de&&(d.Q6J("ngStyle",d.VKq(8,y,Qe.itemSize+"px"))("id",Qe.selected?"p-highlighted-option":"")("ngClass",d.WLB(10,D,Qe.selected,Qe.disabled)),d.uIk("aria-label",Qe.label)("aria-selected",Qe.selected),d.xp6(1),d.Q6J("ngIf",!Qe.template),d.xp6(1),d.Q6J("ngTemplateOutlet",Qe.template)("ngTemplateOutletContext",d.VKq(13,k,Qe.option)))},dependencies:[e.mk,e.O5,e.tP,e.PC,a.H],encapsulation:2}),_t})(),Tn=(()=>{class _t{constructor(de,Qe,ze,Et,Be,qt){this.el=de,this.renderer=Qe,this.cd=ze,this.zone=Et,this.filterService=Be,this.config=qt,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.lazy=!1,this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.overlayDirection="end",this.onChange=new d.vpe,this.onFilter=new d.vpe,this.onFocus=new d.vpe,this.onBlur=new d.vpe,this.onClick=new d.vpe,this.onShow=new d.vpe,this.onHide=new d.vpe,this.onClear=new d.vpe,this.onLazyLoad=new d.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.id=(0,V.Th)()}get disabled(){return this._disabled}set disabled(de){de&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=de,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(de){this._itemSize=de,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get autoZIndex(){return this._autoZIndex}set autoZIndex(de){this._autoZIndex=de,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(de){this._baseZIndex=de,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(de){this._showTransitionOptions=de,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(de){this._hideTransitionOptions=de,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}ngAfterContentInit(){this.templates.forEach(de=>{switch(de.getType()){case"item":default:this.itemTemplate=de.template;break;case"selectedItem":this.selectedItemTemplate=de.template;break;case"header":this.headerTemplate=de.template;break;case"filter":this.filterTemplate=de.template;break;case"footer":this.footerTemplate=de.template;break;case"emptyfilter":this.emptyFilterTemplate=de.template;break;case"empty":this.emptyTemplate=de.template;break;case"group":this.groupTemplate=de.template;break;case"loader":this.loaderTemplate=de.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list",this.filterBy&&(this.filterOptions={filter:de=>this.onFilterInputChange(de),reset:()=>this.resetFilter()})}get options(){return this._options}set options(de){this._options=de,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),!this.selectedOption&&V.gb.isNotEmpty(this.value)&&!this.editable&&(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(de){this._filterValue=de,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(f.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(f.ws.EMPTY_FILTER_MESSAGE)}get filled(){return"string"==typeof this.value?!!this.value:this.value||null!=this.value||null!=this.value}get isVisibleClearIcon(){return null!=this.value&&""!==this.value&&this.showClear&&!this.disabled}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(de){return this.optionLabel?V.gb.resolveFieldData(de,this.optionLabel):de&&void 0!==de.label?de.label:de}getOptionValue(de){return this.optionValue?V.gb.resolveFieldData(de,this.optionValue):!this.optionLabel&&de&&void 0!==de.value?de.value:de}isOptionDisabled(de){return this.optionDisabled?V.gb.resolveFieldData(de,this.optionDisabled):!(!de||void 0===de.disabled)&&de.disabled}getOptionGroupLabel(de){return this.optionGroupLabel?V.gb.resolveFieldData(de,this.optionGroupLabel):de&&void 0!==de.label?de.label:de}getOptionGroupChildren(de){return this.optionGroupChildren?V.gb.resolveFieldData(de,this.optionGroupChildren):de.items}onItemClick(de){const Qe=de.option;this.isOptionDisabled(Qe)||(this.selectItem(de.originalEvent,Qe),this.accessibleViewChild.nativeElement.focus({preventScroll:!0})),setTimeout(()=>{this.hide()},1)}selectItem(de,Qe){this.selectedOption!=Qe&&(this.selectedOption=Qe,this.value=this.getOptionValue(Qe),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:de,value:this.value}))}ngAfterViewChecked(){this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper&&(P.p.findSingle(this.overlayViewChild.el.nativeElement,"li.p-highlight")&&P.p.scrollInView(this.itemsWrapper,P.p.findSingle(this.overlayViewChild.el.nativeElement,"li.p-highlight")),this.selectedOptionUpdated=!1)}writeValue(de){this.filter&&this.resetFilter(),this.value=de,this.updateSelectedOption(de),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(de){this.selectedOption=this.findOption(de,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(de){this.onModelChange=de}registerOnTouched(de){this.onModelTouched=de}setDisabledState(de){this.disabled=de,this.cd.markForCheck()}onMouseclick(de){this.disabled||this.readonly||this.isInputClick(de)||(this.onClick.emit(de),this.accessibleViewChild.nativeElement.focus({preventScroll:!0}),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}isInputClick(de){return P.p.hasClass(de.target,"p-dropdown-clear-icon")||de.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&de.target.isSameNode(this.editableInputViewChild.nativeElement)}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputFocus(de){this.focused=!0,this.hide(),this.onFocus.emit(de)}onEditableInputChange(de){this.value=de.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:de,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(de){if("visible"===de.toState){if(this.itemsWrapper=P.p.findSingle(this.overlayViewChild.el.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller.setContentEl(this.itemsViewChild.nativeElement),this.options&&this.options.length)if(this.virtualScroll){const Qe=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;-1!==Qe&&this.scroller.scrollToIndex(Qe)}else{let Qe=P.p.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");Qe&&Qe.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(de)}"void"===de.toState&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(de))}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.cd.markForCheck()}onInputFocus(de){this.focused=!0,this.onFocus.emit(de)}onInputBlur(de){this.focused=!1,this.onBlur.emit(de),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(de){let Qe;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let ze=de-1;0<=ze;ze--){let Et=this.optionsToDisplay[ze];if(!this.isOptionDisabled(Et)){Qe=Et;break}}if(!Qe)for(let ze=this.optionsToDisplay.length-1;ze>=de;ze--){let Et=this.optionsToDisplay[ze];if(!this.isOptionDisabled(Et)){Qe=Et;break}}}return Qe}findNextEnabledOption(de){let Qe;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let ze=de+1;ze<this.optionsToDisplay.length;ze++){let Et=this.optionsToDisplay[ze];if(!this.isOptionDisabled(Et)){Qe=Et;break}}if(!Qe)for(let ze=0;ze<de;ze++){let Et=this.optionsToDisplay[ze];if(!this.isOptionDisabled(Et)){Qe=Et;break}}}return Qe}onKeydown(de,Qe){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(de.which){case 40:if(!this.overlayVisible&&de.altKey)this.show();else if(this.group){let ze=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==ze){let Et=ze.itemIndex+1;Et<this.getOptionGroupChildren(this.optionsToDisplay[ze.groupIndex]).length?(this.selectItem(de,this.getOptionGroupChildren(this.optionsToDisplay[ze.groupIndex])[Et]),this.selectedOptionUpdated=!0):this.optionsToDisplay[ze.groupIndex+1]&&(this.selectItem(de,this.getOptionGroupChildren(this.optionsToDisplay[ze.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(de,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let ze=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,Et=this.findNextEnabledOption(ze);Et&&(this.selectItem(de,Et),this.selectedOptionUpdated=!0)}de.preventDefault();break;case 38:if(this.group){let ze=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==ze){let Et=ze.itemIndex-1;if(Et>=0)this.selectItem(de,this.getOptionGroupChildren(this.optionsToDisplay[ze.groupIndex])[Et]),this.selectedOptionUpdated=!0;else if(Et<0){let Be=this.optionsToDisplay[ze.groupIndex-1];Be&&(this.selectItem(de,this.getOptionGroupChildren(Be)[this.getOptionGroupChildren(Be).length-1]),this.selectedOptionUpdated=!0)}}}else{let ze=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,Et=this.findPrevEnabledOption(ze);Et&&(this.selectItem(de,Et),this.selectedOptionUpdated=!0)}de.preventDefault();break;case 32:Qe&&(this.overlayVisible?this.hide():this.show(),de.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),de.preventDefault();break;case 27:case 9:this.hide();break;default:Qe&&!de.metaKey&&17!==de.which&&this.search(de)}}search(de){this.searchTimeout&&clearTimeout(this.searchTimeout);const Qe=de.key;let ze;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=Qe,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+Qe:Qe,this.group){let Et=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};ze=this.searchOptionWithinGroup(Et)}else{let Et=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;ze=this.searchOption(++Et)}ze&&!this.isOptionDisabled(ze)&&(this.selectItem(de,ze),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(de){let Qe;return this.searchValue&&(Qe=this.searchOptionInRange(de,this.optionsToDisplay.length),Qe||(Qe=this.searchOptionInRange(0,de))),Qe}searchOptionInRange(de,Qe){for(let ze=de;ze<Qe;ze++){let Et=this.optionsToDisplay[ze];if(this.getOptionLabel(Et).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(Et))return Et}return null}searchOptionWithinGroup(de){if(this.searchValue){for(let ze=de.groupIndex;ze<this.optionsToDisplay.length;ze++)for(let Et=de.groupIndex===ze?de.itemIndex+1:0;Et<this.getOptionGroupChildren(this.optionsToDisplay[ze]).length;Et++){let Be=this.getOptionGroupChildren(this.optionsToDisplay[ze])[Et];if(this.getOptionLabel(Be).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(Be))return Be}for(let ze=0;ze<=de.groupIndex;ze++)for(let Et=0;Et<(de.groupIndex===ze?de.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[ze]).length);Et++){let Be=this.getOptionGroupChildren(this.optionsToDisplay[ze])[Et];if(this.getOptionLabel(Be).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(Be))return Be}}return null}findOptionIndex(de,Qe){let ze=-1;if(Qe)for(let Et=0;Et<Qe.length;Et++)if(null==de&&null==this.getOptionValue(Qe[Et])||V.gb.equals(de,this.getOptionValue(Qe[Et]),this.dataKey)){ze=Et;break}return ze}findOptionGroupIndex(de,Qe){let ze,Et;if(Qe)for(let Be=0;Be<Qe.length&&(ze=Be,Et=this.findOptionIndex(de,this.getOptionGroupChildren(Qe[Be])),-1===Et);Be++);return-1!==Et?{groupIndex:ze,itemIndex:Et}:-1}findOption(de,Qe,ze){if(this.group&&!ze){let Et;if(Qe&&Qe.length)for(let Be of Qe)if(Et=this.findOption(de,this.getOptionGroupChildren(Be),!0),Et)break;return Et}{let Et=this.findOptionIndex(de,Qe);return-1!=Et?Qe[Et]:null}}onFilterInputChange(de){let Qe=de.target.value;Qe&&Qe.length?(this._filterValue=Qe,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.virtualScroll&&this.scroller.scrollToIndex(0),this.optionsChanged=!0,this.onFilter.emit({originalEvent:de,filter:this._filterValue})}activateFilter(){let de=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let Qe=[];for(let ze of this.options){let Et=this.filterService.filter(this.getOptionGroupChildren(ze),de,this.filterValue,this.filterMatchMode,this.filterLocale);Et&&Et.length&&Qe.push(Object.assign(Object.assign({},ze),{[this.optionGroupChildren]:Et}))}this.optionsToDisplay=Qe}else this.optionsToDisplay=this.filterService.filter(this.options,de,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?P.p.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():P.p.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}clear(de){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:de,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(de)}}return _t.\u0275fac=function(de){return new(de||_t)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(d.R0b),d.Y36(f.iZ),d.Y36(f.b4))},_t.\u0275cmp=d.Xpm({type:_t,selectors:[["p-dropdown"]],contentQueries:function(de,Qe,ze){if(1&de&&d.Suo(ze,f.jx,4),2&de){let Et;d.iGM(Et=d.CRH())&&(Qe.templates=Et)}},viewQuery:function(de,Qe){if(1&de&&(d.Gf(B,5),d.Gf(N,5),d.Gf(ce,5),d.Gf($,5),d.Gf(z,5),d.Gf(S,5),d.Gf(O,5)),2&de){let ze;d.iGM(ze=d.CRH())&&(Qe.containerViewChild=ze.first),d.iGM(ze=d.CRH())&&(Qe.filterViewChild=ze.first),d.iGM(ze=d.CRH())&&(Qe.accessibleViewChild=ze.first),d.iGM(ze=d.CRH())&&(Qe.editableInputViewChild=ze.first),d.iGM(ze=d.CRH())&&(Qe.itemsViewChild=ze.first),d.iGM(ze=d.CRH())&&(Qe.scroller=ze.first),d.iGM(ze=d.CRH())&&(Qe.overlayViewChild=ze.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(de,Qe){2&de&&d.ekj("p-inputwrapper-filled",Qe.filled)("p-inputwrapper-focus",Qe.focused||Qe.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",overlayDirection:"overlayDirection",disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[d._Bn([gt])],decls:14,vars:32,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","pAutoFocus","","role","combobox",3,"disabled","autofocus","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",3,"click",4,"ngIf"],[1,"p-dropdown-items-wrapper"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],[1,"p-dropdown-header",3,"click"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-dropdown-filter-container"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-dropdown-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","onClick"],[1,"p-dropdown-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""]],template:function(de,Qe){1&de&&(d.TgZ(0,"div",0,1),d.NdJ("click",function(Et){return Qe.onMouseclick(Et)}),d.TgZ(2,"div",2)(3,"input",3,4),d.NdJ("focus",function(Et){return Qe.onInputFocus(Et)})("blur",function(Et){return Qe.onInputBlur(Et)})("keydown",function(Et){return Qe.onKeydown(Et,!0)}),d.qZA()(),d.YNc(5,G,3,13,"span",5),d.YNc(6,fe,2,4,"span",6),d.YNc(7,ne,2,4,"input",7),d.YNc(8,J,1,0,"i",8),d.TgZ(9,"div",9),d._UZ(10,"span",10),d.qZA(),d.TgZ(11,"p-overlay",11,12),d.NdJ("visibleChange",function(Et){return Qe.overlayVisible=Et})("onAnimationStart",function(Et){return Qe.onOverlayAnimationStart(Et)})("onHide",function(){return Qe.hide()}),d.YNc(13,Fe,9,11,"ng-template",13),d.qZA()()),2&de&&(d.Tol(Qe.styleClass),d.Q6J("ngClass",d.l5B(27,he,Qe.disabled,Qe.overlayVisible,Qe.focused,Qe.showClear&&!Qe.disabled))("ngStyle",Qe.style),d.xp6(3),d.Q6J("disabled",Qe.disabled)("autofocus",Qe.autofocus),d.uIk("id",Qe.inputId)("placeholder",Qe.placeholder)("aria-label",Qe.ariaLabel)("aria-expanded",!1)("aria-labelledby",Qe.ariaLabelledBy)("tabindex",Qe.tabindex)("aria-activedescendant",Qe.overlayVisible?Qe.labelId:null),d.xp6(2),d.Q6J("ngIf",!Qe.editable&&null!=Qe.label),d.xp6(1),d.Q6J("ngIf",!Qe.editable&&null==Qe.label),d.xp6(1),d.Q6J("ngIf",Qe.editable),d.xp6(1),d.Q6J("ngIf",Qe.isVisibleClearIcon),d.xp6(1),d.uIk("aria-expanded",Qe.overlayVisible),d.xp6(1),d.Q6J("ngClass",Qe.dropdownIcon),d.xp6(1),d.Q6J("visible",Qe.overlayVisible)("options",Qe.overlayOptions)("target","@parent")("appendTo",Qe.appendTo)("autoZIndex",Qe.autoZIndex)("baseZIndex",Qe.baseZIndex)("showTransitionOptions",Qe.showTransitionOptions)("hideTransitionOptions",Qe.hideTransitionOptions))},dependencies:[e.mk,e.sg,e.O5,e.tP,e.PC,x.aV,f.jx,L.u,R.T,_.P,cn],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,changeDetection:0}),_t})(),en=(()=>{class _t{}return _t.\u0275fac=function(de){return new(de||_t)},_t.\u0275mod=d.oAB({type:_t}),_t.\u0275inj=d.cJS({imports:[e.ez,x.U8,f.m8,L.z,a.T,R.v,_.E,x.U8,f.m8,R.v]}),_t})()},5330:(hn,ht,b)=>{"use strict";b.d(ht,{DL:()=>fe,E7:()=>ue,S:()=>K,xA:()=>J});var e=b(5e3),d=b(1777),u=b(9808),f=b(5730),_=b(5921),P=b(7579),x=b(9783);const a=["mask"],R=["content"],L=["titlebar"];function V(X,W){if(1&X){const Y=e.EpF();e.TgZ(0,"div",11),e.NdJ("mousedown",function(Ae){e.CHM(Y);const Ke=e.oxw(2);return e.KtG(Ke.initResize(Ae))}),e.qZA()}}const F=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function T(X,W){if(1&X){const Y=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(Y);const Ae=e.oxw(3);return e.KtG(Ae.maximize())})("keydown.enter",function(){e.CHM(Y);const Ae=e.oxw(3);return e.KtG(Ae.maximize())}),e._UZ(1,"span",19),e.qZA()}if(2&X){const Y=e.oxw(3);e.Q6J("ngClass",e.DdM(2,F)),e.xp6(1),e.Q6J("ngClass",Y.maximized?Y.minimizeIcon:Y.maximizeIcon)}}function y(X,W){if(1&X){const Y=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(Y);const Ae=e.oxw(3);return e.KtG(Ae.hide())})("keydown.enter",function(){e.CHM(Y);const Ae=e.oxw(3);return e.KtG(Ae.hide())}),e._UZ(1,"span",21),e.qZA()}2&X&&e.Q6J("ngClass","p-dialog-header-icon p-dialog-header-maximize p-link")}function D(X,W){if(1&X){const Y=e.EpF();e.TgZ(0,"div",12,13),e.NdJ("mousedown",function(Ae){e.CHM(Y);const Ke=e.oxw(2);return e.KtG(Ke.initDrag(Ae))}),e.TgZ(2,"span",14),e._uU(3),e.qZA(),e.TgZ(4,"div",15),e.YNc(5,T,2,3,"button",16),e.YNc(6,y,2,1,"button",17),e.qZA()()}if(2&X){const Y=e.oxw(2);e.xp6(3),e.Oqu(Y.config.header),e.xp6(2),e.Q6J("ngIf",Y.config.maximizable),e.xp6(1),e.Q6J("ngIf",!1!==Y.config.closable)}}function k(X,W){}function B(X,W){if(1&X&&(e.TgZ(0,"div",22),e._uU(1),e.qZA()),2&X){const Y=e.oxw(2);e.xp6(1),e.hij(" ",Y.config.footer," ")}}const N=function(X,W,Y,Te){return{"p-dialog p-dynamic-dialog p-component":!0,"p-dialog-rtl":X,"p-dialog-resizable":W,"p-dialog-draggable":Y,"p-dialog-maximized":Te}},ce=function(X,W){return{transform:X,transition:W}},$=function(X){return{value:"visible",params:X}};function z(X,W){if(1&X){const Y=e.EpF();e.TgZ(0,"div",3,4),e.NdJ("@animation.start",function(Ae){e.CHM(Y);const Ke=e.oxw();return e.KtG(Ke.onAnimationStart(Ae))})("@animation.done",function(Ae){e.CHM(Y);const Ke=e.oxw();return e.KtG(Ke.onAnimationEnd(Ae))}),e.YNc(2,V,1,0,"div",5),e.YNc(3,D,7,3,"div",6),e.TgZ(4,"div",7,8),e.YNc(6,k,0,0,"ng-template",9),e.qZA(),e.YNc(7,B,2,1,"div",10),e.qZA()}if(2&X){const Y=e.oxw();e.Tol(Y.config.styleClass),e.Udp("width",Y.config.width)("height",Y.config.height),e.Q6J("ngClass",e.l5B(13,N,Y.config.rtl,Y.config.resizable,Y.config.draggable,Y.maximized))("ngStyle",Y.config.style)("@animation",e.VKq(21,$,e.WLB(18,ce,Y.transformOptions,Y.config.transitionOptions||"150ms cubic-bezier(0, 0, 0.2, 1)"))),e.xp6(2),e.Q6J("ngIf",Y.config.resizable),e.xp6(1),e.Q6J("ngIf",!1!==Y.config.showHeader),e.xp6(1),e.Q6J("ngStyle",Y.config.contentStyle),e.xp6(3),e.Q6J("ngIf",Y.config.footer)}}const S=function(X,W,Y,Te,Ae,Ke,be,Ge,ee){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter p-dialog-mask-scrollblocker":X,"p-dialog-left":W,"p-dialog-right":Y,"p-dialog-top":Te,"p-dialog-bottom":Ae,"p-dialog-top-left":Ke,"p-dialog-top-right":be,"p-dialog-bottom-left":Ge,"p-dialog-bottom-right":ee}};let O=(()=>{class X{constructor(Y){this.viewContainerRef=Y}}return X.\u0275fac=function(Y){return new(Y||X)(e.Y36(e.s_b))},X.\u0275dir=e.lG2({type:X,selectors:[["","pDynamicDialogContent",""]],hostAttrs:[1,"p-element"]}),X})();class K{}class ue{constructor(){this._onClose=new P.x,this.onClose=this._onClose.asObservable(),this._onDestroy=new P.x,this.onDestroy=this._onDestroy.asObservable(),this._onDragStart=new P.x,this.onDragStart=this._onDragStart.asObservable(),this._onDragEnd=new P.x,this.onDragEnd=this._onDragEnd.asObservable(),this._onResizeInit=new P.x,this.onResizeInit=this._onResizeInit.asObservable(),this._onResizeEnd=new P.x,this.onResizeEnd=this._onResizeEnd.asObservable(),this._onMaximize=new P.x,this.onMaximize=this._onMaximize.asObservable()}close(W){this._onClose.next(W)}destroy(){this._onDestroy.next(null)}dragStart(W){this._onDragStart.next(W)}dragEnd(W){this._onDragEnd.next(W)}resizeInit(W){this._onResizeInit.next(W)}resizeEnd(W){this._onResizeEnd.next(W)}maximize(W){this._onMaximize.next(W)}}const q=(0,d.oQ)([(0,d.oB)({transform:"{{transform}}",opacity:0}),(0,d.jt)("{{transition}}",(0,d.oB)({transform:"none",opacity:1}))]),G=(0,d.oQ)([(0,d.jt)("{{transition}}",(0,d.oB)({transform:"{{transform}}",opacity:0}))]);let j=(()=>{class X{constructor(Y,Te,Ae,Ke,be,Ge,ee){this.componentFactoryResolver=Y,this.cd=Te,this.renderer=Ae,this.config=Ke,this.dialogRef=be,this.zone=Ge,this.primeNGConfig=ee,this.visible=!0,this._style={},this.transformOptions="scale(0.7)"}get minX(){return this.config.minX?this.config.minX:0}get minY(){return this.config.minY?this.config.minY:0}get keepInViewport(){return this.config.keepInViewport}get maximizable(){return this.config.maximizable}get maximizeIcon(){return this.config.maximizeIcon?this.config.maximizeIcon:"pi pi-window-maximize"}get minimizeIcon(){return this.config.minimizeIcon?this.config.minimizeIcon:"pi pi-window-minimize"}get style(){return this._style}get position(){return this.config.position}set style(Y){Y&&(this._style=Object.assign({},Y),this.originalStyle=Y)}ngAfterViewInit(){this.loadChildComponent(this.childComponentType),this.cd.detectChanges()}loadChildComponent(Y){var Te;let Ae=this.componentFactoryResolver.resolveComponentFactory(Y),Ke=null===(Te=this.insertionPoint)||void 0===Te?void 0:Te.viewContainerRef;null==Ke||Ke.clear(),this.componentRef=null==Ke?void 0:Ke.createComponent(Ae)}moveOnTop(){!1!==this.config.autoZIndex&&(_.P9.set("modal",this.container,(this.config.baseZIndex||0)+this.primeNGConfig.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}onAnimationStart(Y){switch(Y.toState){case"visible":this.container=Y.element,this.wrapper=this.container.parentElement,this.moveOnTop(),this.bindGlobalListeners(),!1!==this.config.modal&&this.enableModality(),this.focus();break;case"void":this.wrapper&&!1!==this.config.modal&&f.p.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(Y){"void"===Y.toState&&(this.onContainerDestroy(),this.dialogRef.destroy())}onContainerDestroy(){this.unbindGlobalListeners(),this.container&&!1!==this.config.autoZIndex&&_.P9.clear(this.container),!1!==this.config.modal&&this.disableModality(),this.container=null}close(){this.visible=!1,this.cd.markForCheck()}hide(){this.dialogRef&&this.dialogRef.close()}enableModality(){!1!==this.config.closable&&this.config.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",Y=>{this.wrapper&&this.wrapper.isSameNode(Y.target)&&this.hide()})),!1!==this.config.modal&&f.p.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.config.dismissableMask&&this.unbindMaskClickListener(),!1!==this.config.modal&&f.p.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}onKeydown(Y){if(9===Y.which){Y.preventDefault();let Te=f.p.getFocusableElements(this.container);if(Te&&Te.length>0)if(Te[0].ownerDocument.activeElement){let Ae=Te.indexOf(Te[0].ownerDocument.activeElement);Y.shiftKey?-1==Ae||0===Ae?Te[Te.length-1].focus():Te[Ae-1].focus():-1==Ae||Ae===Te.length-1?Te[0].focus():Te[Ae+1].focus()}else Te[0].focus()}}focus(){let Y=f.p.findSingle(this.container,"[autofocus]");Y&&this.zone.runOutsideAngular(()=>{setTimeout(()=>Y.focus(),5)})}maximize(){this.maximized=!this.maximized,this.maximized?f.p.addClass(document.body,"p-overflow-hidden"):f.p.removeClass(document.body,"p-overflow-hidden"),this.dialogRef.maximize({maximized:this.maximized})}initResize(Y){this.config.resizable&&(this.resizing=!0,this.lastPageX=Y.pageX,this.lastPageY=Y.pageY,f.p.addClass(document.body,"p-unselectable-text"),this.dialogRef.resizeInit(Y))}onResize(Y){if(this.resizing){let Te=Y.pageX-this.lastPageX,Ae=Y.pageY-this.lastPageY,Ke=f.p.getOuterWidth(this.container),be=f.p.getOuterHeight(this.container),Ge=f.p.getOuterHeight(this.contentViewChild.nativeElement),ee=Ke+Te,xe=be+Ae,we=this.container.style.minWidth,Pe=this.container.style.minHeight,dt=this.container.getBoundingClientRect(),bt=f.p.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(ee+=Te,xe+=Ae),(!we||ee>parseInt(we))&&dt.left+ee<bt.width&&(this._style.width=ee+"px",this.container.style.width=this._style.width),(!Pe||xe>parseInt(Pe))&&dt.top+xe<bt.height&&(this.contentViewChild.nativeElement.style.height=Ge+xe-be+"px",this._style.height&&(this._style.height=xe+"px",this.container.style.height=this._style.height)),this.lastPageX=Y.pageX,this.lastPageY=Y.pageY}}resizeEnd(Y){this.resizing&&(this.resizing=!1,f.p.removeClass(document.body,"p-unselectable-text"),this.dialogRef.resizeEnd(Y))}initDrag(Y){f.p.hasClass(Y.target,"p-dialog-header-icon")||f.p.hasClass(Y.target.parentElement,"p-dialog-header-icon")||this.config.draggable&&(this.dragging=!0,this.lastPageX=Y.pageX,this.lastPageY=Y.pageY,this.container.style.margin="0",f.p.addClass(document.body,"p-unselectable-text"),this.dialogRef.dragStart(Y))}onDrag(Y){if(this.dragging){let Te=f.p.getOuterWidth(this.container),Ae=f.p.getOuterHeight(this.container),Ke=Y.pageX-this.lastPageX,be=Y.pageY-this.lastPageY,Ge=this.container.getBoundingClientRect(),ee=Ge.left+Ke,xe=Ge.top+be,we=f.p.getViewport();this.container.style.position="fixed",this.keepInViewport?(ee>=this.minX&&ee+Te<we.width&&(this._style.left=ee+"px",this.lastPageX=Y.pageX,this.container.style.left=ee+"px"),xe>=this.minY&&xe+Ae<we.height&&(this._style.top=xe+"px",this.lastPageY=Y.pageY,this.container.style.top=xe+"px")):(this.lastPageX=Y.pageX,this.container.style.left=ee+"px",this.lastPageY=Y.pageY,this.container.style.top=xe+"px")}}endDrag(Y){this.dragging&&(this.dragging=!1,f.p.removeClass(document.body,"p-unselectable-text"),this.dialogRef.dragEnd(Y),this.cd.detectChanges())}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindGlobalListeners(){this.bindDocumentKeydownListener(),!1!==this.config.closeOnEscape&&!1!==this.config.closable&&this.bindDocumentEscapeListener(),this.config.resizable&&this.bindDocumentResizeListeners(),this.config.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener())}unbindGlobalListeners(){this.unbindDocumentKeydownListener(),this.unbindDocumentEscapeListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener()}bindDocumentKeydownListener(){this.zone.runOutsideAngular(()=>{this.documentKeydownListener=this.onKeydown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener)})}unbindDocumentKeydownListener(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.maskViewChild?this.maskViewChild.nativeElement.ownerDocument:"document","keydown",Te=>{27==Te.which&&parseInt(this.container.style.zIndex)==_.P9.getCurrent()&&this.hide()})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}ngOnDestroy(){this.onContainerDestroy(),this.componentRef&&this.componentRef.destroy()}}return X.\u0275fac=function(Y){return new(Y||X)(e.Y36(e._Vd),e.Y36(e.sBO),e.Y36(e.Qsj),e.Y36(K),e.Y36(ue),e.Y36(e.R0b),e.Y36(x.b4))},X.\u0275cmp=e.Xpm({type:X,selectors:[["p-dynamicDialog"]],viewQuery:function(Y,Te){if(1&Y&&(e.Gf(O,5),e.Gf(a,5),e.Gf(R,5),e.Gf(L,5)),2&Y){let Ae;e.iGM(Ae=e.CRH())&&(Te.insertionPoint=Ae.first),e.iGM(Ae=e.CRH())&&(Te.maskViewChild=Ae.first),e.iGM(Ae=e.CRH())&&(Te.contentViewChild=Ae.first),e.iGM(Ae=e.CRH())&&(Te.headerViewChild=Ae.first)}},hostAttrs:[1,"p-element"],decls:3,vars:14,consts:[[3,"ngClass"],["mask",""],["role","dialog",3,"ngClass","ngStyle","class","width","height",4,"ngIf"],["role","dialog",3,"ngClass","ngStyle"],["container",""],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[1,"p-dialog-content",3,"ngStyle"],["content",""],["pDynamicDialogContent",""],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],[1,"p-dialog-title"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon","pi","pi-times"],[1,"p-dialog-footer"]],template:function(Y,Te){1&Y&&(e.TgZ(0,"div",0,1),e.YNc(2,z,8,23,"div",2),e.qZA()),2&Y&&(e.Tol(Te.config.maskStyleClass),e.Q6J("ngClass",e.rFY(4,S,[!1!==Te.config.modal,"left"===Te.position,"right"===Te.position,"top"===Te.position,"bottom"===Te.position,"topleft"===Te.position||"top-left"===Te.position,"topright"===Te.position||"top-right"===Te.position,"bottomleft"===Te.position||"bottom-left"===Te.position,"bottomright"===Te.position||"bottom-right"===Te.position])),e.xp6(2),e.Q6J("ngIf",Te.visible))},dependencies:function(){return[u.mk,u.O5,u.PC,O]},styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,d.X$)("animation",[(0,d.eR)("void => visible",[(0,d._7)(q)]),(0,d.eR)("visible => void",[(0,d._7)(G)])])]}}),X})(),fe=(()=>{class X{}return X.\u0275fac=function(Y){return new(Y||X)},X.\u0275mod=e.oAB({type:X}),X.\u0275inj=e.cJS({imports:[u.ez]}),X})();class ne{constructor(W,Y){this._parentInjector=W,this._additionalTokens=Y}get(W,Y,Te){return this._additionalTokens.get(W)||this._parentInjector.get(W,Y)}}let J=(()=>{class X{constructor(Y,Te,Ae){this.componentFactoryResolver=Y,this.appRef=Te,this.injector=Ae,this.dialogComponentRefMap=new Map}open(Y,Te){const Ae=this.appendDialogComponentToBody(Te);return this.dialogComponentRefMap.get(Ae).instance.childComponentType=Y,Ae}appendDialogComponentToBody(Y){const Te=new WeakMap;Te.set(K,Y);const Ae=new ue;Te.set(ue,Ae);const Ke=Ae.onClose.subscribe(()=>{this.dialogComponentRefMap.get(Ae).instance.close()}),be=Ae.onDestroy.subscribe(()=>{this.removeDialogComponentFromBody(Ae),be.unsubscribe(),Ke.unsubscribe()}),ee=this.componentFactoryResolver.resolveComponentFactory(j).create(new ne(this.injector,Te));return this.appRef.attachView(ee.hostView),document.body.appendChild(ee.hostView.rootNodes[0]),this.dialogComponentRefMap.set(Ae,ee),Ae}removeDialogComponentFromBody(Y){if(!Y||!this.dialogComponentRefMap.has(Y))return;const Te=this.dialogComponentRefMap.get(Y);this.appRef.detachView(Te.hostView),Te.destroy(),this.dialogComponentRefMap.delete(Y)}}return X.\u0275fac=function(Y){return new(Y||X)(e.LFG(e._Vd),e.LFG(e.z2F),e.LFG(e.zs3))},X.\u0275prov=e.Yz7({token:X,factory:X.\u0275fac}),X})()},2537:(hn,ht,b)=>{"use strict";b.d(ht,{vy:()=>L,zz:()=>V});var e=b(5e3),d=b(9808),u=b(5730),f=b(1424),_=b(2382),P=b(9618);const x=["input"];function a(F,T){if(1&F){const y=e.EpF();e.TgZ(0,"i",3),e.NdJ("click",function(){e.CHM(y);const k=e.oxw();return e.KtG(k.clear())}),e.qZA()}}const R={provide:_.JU,useExisting:(0,e.Gpc)(()=>L),multi:!0};let L=(()=>{class F{constructor(y,D){this.el=y,this.cd=D,this.type="text",this.slotChar="_",this.autoClear=!0,this.showClear=!1,this.characterPattern="[A-Za-z]",this.onComplete=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onInput=new e.vpe,this.onKeydown=new e.vpe,this.onClear=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){let y=u.p.getUserAgent();this.androidChrome=/chrome/i.test(y)&&/android/i.test(y),this.initMask()}get mask(){return this._mask}set mask(y){this._mask=y,this.initMask(),this.writeValue(""),this.onModelChange(this.value)}initMask(){this.tests=[],this.partialPosition=this.mask.length,this.len=this.mask.length,this.firstNonMaskPos=null,this.defs={9:"[0-9]",a:this.characterPattern,"*":`${this.characterPattern}|[0-9]`};let y=this.mask.split("");for(let D=0;D<y.length;D++){let k=y[D];"?"==k?(this.len--,this.partialPosition=D):this.defs[k]?(this.tests.push(new RegExp(this.defs[k])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1),D<this.partialPosition&&(this.lastRequiredNonMaskPos=this.tests.length-1)):this.tests.push(null)}this.buffer=[];for(let D=0;D<y.length;D++){let k=y[D];"?"!=k&&this.buffer.push(this.defs[k]?this.getPlaceholder(D):k)}this.defaultBuffer=this.buffer.join("")}writeValue(y){this.value=y,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.value=null==this.value||null==this.value?"":this.value,this.checkVal(),this.focusText=this.inputViewChild.nativeElement.value,this.updateFilledState())}registerOnChange(y){this.onModelChange=y}registerOnTouched(y){this.onModelTouched=y}setDisabledState(y){this.disabled=y,this.cd.markForCheck()}caret(y,D){let k,B,N;if(this.inputViewChild.nativeElement.offsetParent&&this.inputViewChild.nativeElement===this.inputViewChild.nativeElement.ownerDocument.activeElement){if("number"!=typeof y)return this.inputViewChild.nativeElement.setSelectionRange?(B=this.inputViewChild.nativeElement.selectionStart,N=this.inputViewChild.nativeElement.selectionEnd):document.selection&&document.selection.createRange&&(k=document.selection.createRange(),B=0-k.duplicate().moveStart("character",-1e5),N=B+k.text.length),{begin:B,end:N};B=y,N="number"==typeof D?D:B,this.inputViewChild.nativeElement.setSelectionRange?this.inputViewChild.nativeElement.setSelectionRange(B,N):this.inputViewChild.nativeElement.createTextRange&&(k=this.inputViewChild.nativeElement.createTextRange(),k.collapse(!0),k.moveEnd("character",N),k.moveStart("character",B),k.select())}}isCompleted(){for(let D=this.firstNonMaskPos;D<=this.lastRequiredNonMaskPos;D++)if(this.tests[D]&&this.buffer[D]===this.getPlaceholder(D))return!1;return!0}getPlaceholder(y){return this.slotChar.charAt(y<this.slotChar.length?y:0)}seekNext(y){for(;++y<this.len&&!this.tests[y];);return y}seekPrev(y){for(;--y>=0&&!this.tests[y];);return y}shiftL(y,D){let k,B;if(!(y<0)){for(k=y,B=this.seekNext(D);k<this.len;k++)if(this.tests[k]){if(!(B<this.len&&this.tests[k].test(this.buffer[B])))break;this.buffer[k]=this.buffer[B],this.buffer[B]=this.getPlaceholder(B),B=this.seekNext(B)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,y))}}shiftR(y){let D,k,B,N;for(D=y,k=this.getPlaceholder(y);D<this.len;D++)if(this.tests[D]){if(B=this.seekNext(D),N=this.buffer[D],this.buffer[D]=k,!(B<this.len&&this.tests[B].test(N)))break;k=N}}handleAndroidInput(y){var D=this.inputViewChild.nativeElement.value,k=this.caret();if(this.oldVal&&this.oldVal.length&&this.oldVal.length>D.length){for(this.checkVal(!0);k.begin>0&&!this.tests[k.begin-1];)k.begin--;if(0===k.begin)for(;k.begin<this.firstNonMaskPos&&!this.tests[k.begin];)k.begin++;setTimeout(()=>{this.caret(k.begin,k.begin),this.updateModel(y),this.isCompleted()&&this.onComplete.emit()},0)}else{for(this.checkVal(!0);k.begin<this.len&&!this.tests[k.begin];)k.begin++;setTimeout(()=>{this.caret(k.begin,k.begin),this.updateModel(y),this.isCompleted()&&this.onComplete.emit()},0)}}onInputBlur(y){if(this.focused=!1,this.onModelTouched(),this.checkVal(),this.updateFilledState(),this.onBlur.emit(y),this.inputViewChild.nativeElement.value!=this.focusText||this.inputViewChild.nativeElement.value!=this.value){this.updateModel(y);let D=document.createEvent("HTMLEvents");D.initEvent("change",!0,!1),this.inputViewChild.nativeElement.dispatchEvent(D)}}onInputKeydown(y){if(this.readonly)return;let k,B,N,D=y.which||y.keyCode,ce=/iphone/i.test(u.p.getUserAgent());this.oldVal=this.inputViewChild.nativeElement.value,this.onKeydown.emit(y),8===D||46===D||ce&&127===D?(k=this.caret(),B=k.begin,N=k.end,N-B==0&&(B=46!==D?this.seekPrev(B):N=this.seekNext(B-1),N=46===D?this.seekNext(N):N),this.clearBuffer(B,N),this.shiftL(B,N-1),this.updateModel(y),this.onInput.emit(y),y.preventDefault()):13===D?(this.onInputBlur(y),this.updateModel(y)):27===D&&(this.inputViewChild.nativeElement.value=this.focusText,this.caret(0,this.checkVal()),this.updateModel(y),y.preventDefault())}onKeyPress(y){if(!this.readonly){var B,N,ce,$,D=y.which||y.keyCode,k=this.caret();y.ctrlKey||y.altKey||y.metaKey||D<32||D>34&&D<41||(D&&13!==D&&(k.end-k.begin!=0&&(this.clearBuffer(k.begin,k.end),this.shiftL(k.begin,k.end-1)),(B=this.seekNext(k.begin-1))<this.len&&(N=String.fromCharCode(D),this.tests[B].test(N)&&(this.shiftR(B),this.buffer[B]=N,this.writeBuffer(),ce=this.seekNext(B),/android/i.test(u.p.getUserAgent())?setTimeout(()=>{this.caret(ce)},0):this.caret(ce),k.begin<=this.lastRequiredNonMaskPos&&($=this.isCompleted()),this.onInput.emit(y))),y.preventDefault()),this.updateModel(y),this.updateFilledState(),$&&this.onComplete.emit())}}clearBuffer(y,D){let k;for(k=y;k<D&&k<this.len;k++)this.tests[k]&&(this.buffer[k]=this.getPlaceholder(k))}writeBuffer(){this.inputViewChild.nativeElement.value=this.buffer.join("")}checkVal(y){let B,N,ce,D=this.inputViewChild.nativeElement.value,k=-1;for(B=0,ce=0;B<this.len;B++)if(this.tests[B]){for(this.buffer[B]=this.getPlaceholder(B);ce++<D.length;)if(N=D.charAt(ce-1),this.tests[B].test(N)){this.buffer[B]=N,k=B;break}if(ce>D.length){this.clearBuffer(B+1,this.len);break}}else this.buffer[B]===D.charAt(ce)&&ce++,B<this.partialPosition&&(k=B);return y?this.writeBuffer():k+1<this.partialPosition?this.autoClear||this.buffer.join("")===this.defaultBuffer?(this.inputViewChild.nativeElement.value&&(this.inputViewChild.nativeElement.value=""),this.clearBuffer(0,this.len)):this.writeBuffer():(this.writeBuffer(),this.inputViewChild.nativeElement.value=this.inputViewChild.nativeElement.value.substring(0,k+1)),this.partialPosition?B:this.firstNonMaskPos}onInputFocus(y){if(this.readonly)return;let D;this.focused=!0,clearTimeout(this.caretTimeoutId),this.focusText=this.inputViewChild.nativeElement.value,D=this.checkVal(),this.caretTimeoutId=setTimeout(()=>{this.inputViewChild.nativeElement===this.inputViewChild.nativeElement.ownerDocument.activeElement&&(this.writeBuffer(),D==this.mask.replace("?","").length?this.caret(0,D):this.caret(D))},10),this.onFocus.emit(y)}onInputChange(y){this.androidChrome?this.handleAndroidInput(y):this.handleInputChange(y),this.onInput.emit(y)}handleInputChange(y){this.readonly||setTimeout(()=>{var D=this.checkVal(!0);this.caret(D),this.updateModel(y),this.isCompleted()&&this.onComplete.emit()},0)}getUnmaskedValue(){let y=[];for(let D=0;D<this.buffer.length;D++){let k=this.buffer[D];this.tests[D]&&k!=this.getPlaceholder(D)&&y.push(k)}return y.join("")}updateModel(y){const D=this.unmask?this.getUnmaskedValue():y.target.value;(null!==D||void 0!==D)&&(this.value=D,this.onModelChange(this.value))}updateFilledState(){this.filled=this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}focus(){this.inputViewChild.nativeElement.focus()}clear(){this.inputViewChild.nativeElement.value="",this.value=null,this.onModelChange(this.value),this.onClear.emit()}}return F.\u0275fac=function(y){return new(y||F)(e.Y36(e.SBq),e.Y36(e.sBO))},F.\u0275cmp=e.Xpm({type:F,selectors:[["p-inputMask"]],viewQuery:function(y,D){if(1&y&&e.Gf(x,7),2&y){let k;e.iGM(k=e.CRH())&&(D.inputViewChild=k.first)}},hostAttrs:[1,"p-element"],hostVars:6,hostBindings:function(y,D){2&y&&e.ekj("p-inputwrapper-filled",D.filled)("p-inputwrapper-focus",D.focused)("p-inputmask-clearable",D.showClear&&!D.disabled)},inputs:{type:"type",slotChar:"slotChar",autoClear:"autoClear",showClear:"showClear",style:"style",inputId:"inputId",styleClass:"styleClass",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",disabled:"disabled",readonly:"readonly",unmask:"unmask",name:"name",required:"required",characterPattern:"characterPattern",autoFocus:"autoFocus",autocomplete:"autocomplete",mask:"mask"},outputs:{onComplete:"onComplete",onFocus:"onFocus",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClear:"onClear"},features:[e._Bn([R])],decls:3,vars:18,consts:[["pInputText","","pAutoFocus","",1,"p-inputmask",3,"ngStyle","ngClass","disabled","readonly","autofocus","focus","blur","keydown","keypress","input","paste"],["input",""],["class","p-inputmask-clear-icon pi pi-times",3,"click",4,"ngIf"],[1,"p-inputmask-clear-icon","pi","pi-times",3,"click"]],template:function(y,D){1&y&&(e.TgZ(0,"input",0,1),e.NdJ("focus",function(B){return D.onInputFocus(B)})("blur",function(B){return D.onInputBlur(B)})("keydown",function(B){return D.onInputKeydown(B)})("keypress",function(B){return D.onKeyPress(B)})("input",function(B){return D.onInputChange(B)})("paste",function(B){return D.handleInputChange(B)}),e.qZA(),e.YNc(2,a,1,0,"i",2)),2&y&&(e.Q6J("ngStyle",D.style)("ngClass",D.styleClass)("disabled",D.disabled)("readonly",D.readonly)("autofocus",D.autoFocus),e.uIk("id",D.inputId)("type",D.type)("name",D.name)("placeholder",D.placeholder)("title",D.title)("size",D.size)("autocomplete",D.autocomplete)("maxlength",D.maxlength)("tabindex",D.tabindex)("aria-label",D.ariaLabel)("aria-required",D.ariaRequired)("required",D.required),e.xp6(2),e.Q6J("ngIf",null!=D.value&&D.filled&&D.showClear&&!D.disabled))},dependencies:[d.mk,d.O5,d.PC,f.o,P.P],styles:[".p-inputmask-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputmask-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),F})(),V=(()=>{class F{}return F.\u0275fac=function(y){return new(y||F)},F.\u0275mod=e.oAB({type:F}),F.\u0275inj=e.cJS({imports:[d.ez,f.j,P.E]}),F})()},7010:(hn,ht,b)=>{"use strict";b.d(ht,{L$:()=>B,Rn:()=>k});var e=b(9808),d=b(5e3),u=b(2382),f=b(845),_=b(5730),P=b(1424);const x=["input"];function a(N,ce){if(1&N){const $=d.EpF();d.TgZ(0,"i",6),d.NdJ("click",function(){d.CHM($);const S=d.oxw();return d.KtG(S.clear())}),d.qZA()}}const R=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},L=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function V(N,ce){if(1&N){const $=d.EpF();d.TgZ(0,"span",7)(1,"button",8),d.NdJ("mousedown",function(S){d.CHM($);const O=d.oxw();return d.KtG(O.onUpButtonMouseDown(S))})("mouseup",function(){d.CHM($);const S=d.oxw();return d.KtG(S.onUpButtonMouseUp())})("mouseleave",function(){d.CHM($);const S=d.oxw();return d.KtG(S.onUpButtonMouseLeave())})("keydown",function(S){d.CHM($);const O=d.oxw();return d.KtG(O.onUpButtonKeyDown(S))})("keyup",function(){d.CHM($);const S=d.oxw();return d.KtG(S.onUpButtonKeyUp())}),d.qZA(),d.TgZ(2,"button",8),d.NdJ("mousedown",function(S){d.CHM($);const O=d.oxw();return d.KtG(O.onDownButtonMouseDown(S))})("mouseup",function(){d.CHM($);const S=d.oxw();return d.KtG(S.onDownButtonMouseUp())})("mouseleave",function(){d.CHM($);const S=d.oxw();return d.KtG(S.onDownButtonMouseLeave())})("keydown",function(S){d.CHM($);const O=d.oxw();return d.KtG(O.onDownButtonKeyDown(S))})("keyup",function(){d.CHM($);const S=d.oxw();return d.KtG(S.onDownButtonKeyUp())}),d.qZA()()}if(2&N){const $=d.oxw();d.xp6(1),d.Tol($.incrementButtonClass),d.Q6J("ngClass",d.DdM(10,R))("icon",$.incrementButtonIcon)("disabled",$.disabled),d.xp6(1),d.Tol($.decrementButtonClass),d.Q6J("ngClass",d.DdM(11,L))("icon",$.decrementButtonIcon)("disabled",$.disabled)}}function F(N,ce){if(1&N){const $=d.EpF();d.TgZ(0,"button",8),d.NdJ("mousedown",function(S){d.CHM($);const O=d.oxw();return d.KtG(O.onUpButtonMouseDown(S))})("mouseup",function(){d.CHM($);const S=d.oxw();return d.KtG(S.onUpButtonMouseUp())})("mouseleave",function(){d.CHM($);const S=d.oxw();return d.KtG(S.onUpButtonMouseLeave())})("keydown",function(S){d.CHM($);const O=d.oxw();return d.KtG(O.onUpButtonKeyDown(S))})("keyup",function(){d.CHM($);const S=d.oxw();return d.KtG(S.onUpButtonKeyUp())}),d.qZA()}if(2&N){const $=d.oxw();d.Tol($.incrementButtonClass),d.Q6J("ngClass",d.DdM(5,R))("icon",$.incrementButtonIcon)("disabled",$.disabled)}}function T(N,ce){if(1&N){const $=d.EpF();d.TgZ(0,"button",8),d.NdJ("mousedown",function(S){d.CHM($);const O=d.oxw();return d.KtG(O.onDownButtonMouseDown(S))})("mouseup",function(){d.CHM($);const S=d.oxw();return d.KtG(S.onDownButtonMouseUp())})("mouseleave",function(){d.CHM($);const S=d.oxw();return d.KtG(S.onDownButtonMouseLeave())})("keydown",function(S){d.CHM($);const O=d.oxw();return d.KtG(O.onDownButtonKeyDown(S))})("keyup",function(){d.CHM($);const S=d.oxw();return d.KtG(S.onDownButtonKeyUp())}),d.qZA()}if(2&N){const $=d.oxw();d.Tol($.decrementButtonClass),d.Q6J("ngClass",d.DdM(5,L))("icon",$.decrementButtonIcon)("disabled",$.disabled)}}const y=function(N,ce,$){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":N,"p-inputnumber-buttons-horizontal":ce,"p-inputnumber-buttons-vertical":$}},D={provide:u.JU,useExisting:(0,d.Gpc)(()=>k),multi:!0};let k=(()=>{class N{constructor($,z){this.el=$,this.cd=z,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.showClear=!1,this.onInput=new d.vpe,this.onFocus=new d.vpe,this.onBlur=new d.vpe,this.onKeyDown=new d.vpe,this.onClear=new d.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar=""}get disabled(){return this._disabled}set disabled($){$&&(this.focused=!1),this._disabled=$,this.timer&&this.clearTimer()}ngOnChanges($){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(S=>!!$[S])&&this.updateConstructParser()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const $=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),z=new Map($.map((S,O)=>[S,O]));this._numeral=new RegExp(`[${$.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=S=>z.get(S)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp($){return $.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const $=new Intl.NumberFormat(this.locale,Object.assign(Object.assign({},this.getOptions()),{useGrouping:!1}));return new RegExp(`[${$.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const $=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=$.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const $=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${$.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const $=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${$.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const $=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=$.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const $=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=$.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue($){if(null!=$){if("-"===$)return $;if(this.format){let S=new Intl.NumberFormat(this.locale,this.getOptions()).format($);return this.prefix&&(S=this.prefix+S),this.suffix&&(S+=this.suffix),S}return $.toString()}return""}parseValue($){let z=$.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(z){if("-"===z)return z;let S=+z;return isNaN(S)?null:S}return null}repeat($,z,S){if(this.readonly)return;let O=z||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat($,40,S)},O),this.spin($,S)}spin($,z){let S=this.step*z,O=this.parseValue(this.input.nativeElement.value)||0,K=this.validateValue(O+S);this.maxlength&&this.maxlength<this.formatValue(K).length||(this.updateInput(K,null,"spin",null),this.updateModel($,K),this.handleOnInput($,O,K))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown($){this.input.nativeElement.focus(),this.repeat($,null,1),$.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown($){(32===$.keyCode||13===$.keyCode)&&this.repeat($,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown($){this.input.nativeElement.focus(),this.repeat($,null,-1),$.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown($){(32===$.keyCode||13===$.keyCode)&&this.repeat($,null,-1)}onUserInput($){this.readonly||(this.isSpecialChar&&($.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown($){if(this.readonly)return;if(this.lastValue=$.target.value,$.shiftKey||$.altKey)return void(this.isSpecialChar=!0);let z=$.target.selectionStart,S=$.target.selectionEnd,O=$.target.value,K=null;switch($.altKey&&$.preventDefault(),$.which){case 38:this.spin($,1),$.preventDefault();break;case 40:this.spin($,-1),$.preventDefault();break;case 37:this.isNumeralChar(O.charAt(z-1))||$.preventDefault();break;case 39:this.isNumeralChar(O.charAt(z))||$.preventDefault();break;case 13:K=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(K),this.input.nativeElement.setAttribute("aria-valuenow",K),this.updateModel($,K);break;case 8:if($.preventDefault(),z===S){const ue=O.charAt(z-1),{decimalCharIndex:q,decimalCharIndexWithoutPrefix:G}=this.getDecimalCharIndexes(O);if(this.isNumeralChar(ue)){const j=this.getDecimalLength(O);if(this._group.test(ue))this._group.lastIndex=0,K=O.slice(0,z-2)+O.slice(z-1);else if(this._decimal.test(ue))this._decimal.lastIndex=0,j?this.input.nativeElement.setSelectionRange(z-1,z-1):K=O.slice(0,z-1)+O.slice(z);else if(q>0&&z>q){const fe=this.isDecimalMode()&&(this.minFractionDigits||0)<j?"":"0";K=O.slice(0,z-1)+fe+O.slice(z)}else 1===G?(K=O.slice(0,z-1)+"0"+O.slice(z),K=this.parseValue(K)>0?K:""):K=O.slice(0,z-1)+O.slice(z)}this.updateValue($,K,null,"delete-single")}else K=this.deleteRange(O,z,S),this.updateValue($,K,null,"delete-range");break;case 46:if($.preventDefault(),z===S){const ue=O.charAt(z),{decimalCharIndex:q,decimalCharIndexWithoutPrefix:G}=this.getDecimalCharIndexes(O);if(this.isNumeralChar(ue)){const j=this.getDecimalLength(O);if(this._group.test(ue))this._group.lastIndex=0,K=O.slice(0,z)+O.slice(z+2);else if(this._decimal.test(ue))this._decimal.lastIndex=0,j?this.input.nativeElement.setSelectionRange(z+1,z+1):K=O.slice(0,z)+O.slice(z+1);else if(q>0&&z>q){const fe=this.isDecimalMode()&&(this.minFractionDigits||0)<j?"":"0";K=O.slice(0,z)+fe+O.slice(z+1)}else 1===G?(K=O.slice(0,z)+"0"+O.slice(z+1),K=this.parseValue(K)>0?K:""):K=O.slice(0,z)+O.slice(z+1)}this.updateValue($,K,null,"delete-back-single")}else K=this.deleteRange(O,z,S),this.updateValue($,K,null,"delete-range")}this.onKeyDown.emit($)}onInputKeyPress($){if(this.readonly)return;let z=$.which||$.keyCode,S=String.fromCharCode(z);const O=this.isDecimalSign(S),K=this.isMinusSign(S);13!=z&&$.preventDefault(),(48<=z&&z<=57||K||O)&&this.insert($,S,{isDecimalSign:O,isMinusSign:K})}onPaste($){if(!this.disabled&&!this.readonly){$.preventDefault();let z=($.clipboardData||window.clipboardData).getData("Text");if(z){let S=this.parseValue(z);null!=S&&this.insert($,S.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign($){return!(!this._minusSign.test($)&&"-"!==$||(this._minusSign.lastIndex=0,0))}isDecimalSign($){return!!this._decimal.test($)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes($){let z=$.search(this._decimal);this._decimal.lastIndex=0;const O=$.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:z,decimalCharIndexWithoutPrefix:O}}getCharIndexes($){const z=$.search(this._decimal);this._decimal.lastIndex=0;const S=$.search(this._minusSign);this._minusSign.lastIndex=0;const O=$.search(this._suffix);this._suffix.lastIndex=0;const K=$.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:z,minusCharIndex:S,suffixCharIndex:O,currencyCharIndex:K}}insert($,z,S={isDecimalSign:!1,isMinusSign:!1}){const O=z.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==O)return;let K=this.input.nativeElement.selectionStart,ue=this.input.nativeElement.selectionEnd,q=this.input.nativeElement.value.trim();const{decimalCharIndex:G,minusCharIndex:j,suffixCharIndex:fe,currencyCharIndex:ne}=this.getCharIndexes(q);let J;if(S.isMinusSign)0===K&&(J=q,(-1===j||0!==ue)&&(J=this.insertText(q,z,0,ue)),this.updateValue($,J,z,"insert"));else if(S.isDecimalSign)G>0&&K===G?this.updateValue($,q,z,"insert"):(G>K&&G<ue||-1===G&&this.maxFractionDigits)&&(J=this.insertText(q,z,K,ue),this.updateValue($,J,z,"insert"));else{const X=this.numberFormat.resolvedOptions().maximumFractionDigits,W=K!==ue?"range-insert":"insert";if(G>0&&K>G){if(K+z.length-(G+1)<=X){const Y=ne>=K?ne-1:fe>=K?fe:q.length;J=q.slice(0,K)+z+q.slice(K+z.length,Y)+q.slice(Y),this.updateValue($,J,z,W)}}else J=this.insertText(q,z,K,ue),this.updateValue($,J,z,W)}}insertText($,z,S,O){if(2===("."===z?z:z.split(".")).length){const ue=$.slice(S,O).search(this._decimal);return this._decimal.lastIndex=0,ue>0?$.slice(0,S)+this.formatValue(z)+$.slice(O):$||this.formatValue(z)}return O-S===$.length?this.formatValue(z):0===S?z+$.slice(O):O===$.length?$.slice(0,S)+z:$.slice(0,S)+z+$.slice(O)}deleteRange($,z,S){let O;return O=S-z===$.length?"":0===z?$.slice(S):S===$.length?$.slice(0,z):$.slice(0,z)+$.slice(S),O}initCursor(){let $=this.input.nativeElement.selectionStart,z=this.input.nativeElement.value,S=z.length,O=null,K=(this.prefixChar||"").length;z=z.replace(this._prefix,""),$-=K;let ue=z.charAt($);if(this.isNumeralChar(ue))return $+K;let q=$-1;for(;q>=0;){if(ue=z.charAt(q),this.isNumeralChar(ue)){O=q+K;break}q--}if(null!==O)this.input.nativeElement.setSelectionRange(O+1,O+1);else{for(q=$;q<S;){if(ue=z.charAt(q),this.isNumeralChar(ue)){O=q+K;break}q++}null!==O&&this.input.nativeElement.setSelectionRange(O,O)}return O||0}onInputClick(){!this.readonly&&this.input.nativeElement.value!==_.p.getSelection()&&this.initCursor()}isNumeralChar($){return!(1!==$.length||!(this._numeral.test($)||this._decimal.test($)||this._group.test($)||this._minusSign.test($))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue($,z,S,O){let K=this.input.nativeElement.value,ue=null;null!=z&&(ue=this.parseValue(z),ue=ue||this.allowEmpty?ue:0,this.updateInput(ue,S,O,z),this.handleOnInput($,K,ue))}handleOnInput($,z,S){this.isValueChanged(z,S)&&this.onInput.emit({originalEvent:$,value:S,formattedValue:z})}isValueChanged($,z){return null===z&&null!==$||null!=z&&z!==("string"==typeof $?this.parseValue($):$)}validateValue($){return"-"===$||null==$?null:null!=this.min&&$<this.min?this.min:null!=this.max&&$>this.max?this.max:$}updateInput($,z,S,O){z=z||"";let K=this.input.nativeElement.value,ue=this.formatValue($),q=K.length;if(ue!==O&&(ue=this.concatValues(ue,O)),0===q){this.input.nativeElement.value=ue,this.input.nativeElement.setSelectionRange(0,0);const j=this.initCursor()+z.length;this.input.nativeElement.setSelectionRange(j,j)}else{let G=this.input.nativeElement.selectionStart,j=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<ue.length)return;this.input.nativeElement.value=ue;let fe=ue.length;if("range-insert"===S){const ne=this.parseValue((K||"").slice(0,G)),X=(null!==ne?ne.toString():"").split("").join(`(${this.groupChar})?`),W=new RegExp(X,"g");W.test(ue);const Y=z.split("").join(`(${this.groupChar})?`),Te=new RegExp(Y,"g");Te.test(ue.slice(W.lastIndex)),j=W.lastIndex+Te.lastIndex,this.input.nativeElement.setSelectionRange(j,j)}else if(fe===q)"insert"===S||"delete-back-single"===S?this.input.nativeElement.setSelectionRange(j+1,j+1):"delete-single"===S?this.input.nativeElement.setSelectionRange(j-1,j-1):("delete-range"===S||"spin"===S)&&this.input.nativeElement.setSelectionRange(j,j);else if("delete-back-single"===S){let ne=K.charAt(j-1),J=K.charAt(j),X=q-fe,W=this._group.test(J);W&&1===X?j+=1:!W&&this.isNumeralChar(ne)&&(j+=-1*X+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(j,j)}else if("-"===K&&"insert"===S){this.input.nativeElement.setSelectionRange(0,0);const J=this.initCursor()+z.length+1;this.input.nativeElement.setSelectionRange(J,J)}else j+=fe-q,this.input.nativeElement.setSelectionRange(j,j)}this.input.nativeElement.setAttribute("aria-valuenow",$)}concatValues($,z){if($&&z){let S=z.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?$.replace(this.suffixChar,"").split(this._decimal)[0]+z.replace(this.suffixChar,"").slice(S)+this.suffixChar:-1!==S?$.split(this._decimal)[0]+z.slice(S):$}return $}getDecimalLength($){if($){const z=$.split(this._decimal);if(2===z.length)return z[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus($){this.focused=!0,this.onFocus.emit($)}onInputBlur($){this.focused=!1;let z=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(z),this.input.nativeElement.setAttribute("aria-valuenow",z),this.updateModel($,z),this.onBlur.emit($)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel($,z){this.value!==z&&(this.value=z,this.onModelChange(z)),this.onModelTouched()}writeValue($){this.value=$,this.cd.markForCheck()}registerOnChange($){this.onModelChange=$}registerOnTouched($){this.onModelTouched=$}setDisabledState($){this.disabled=$,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return N.\u0275fac=function($){return new($||N)(d.Y36(d.SBq),d.Y36(d.sBO))},N.\u0275cmp=d.Xpm({type:N,selectors:[["p-inputNumber"]],viewQuery:function($,z){if(1&$&&d.Gf(x,5),2&$){let S;d.iGM(S=d.CRH())&&(z.input=S.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function($,z){2&$&&d.ekj("p-inputwrapper-filled",z.filled)("p-inputwrapper-focus",z.focused)("p-inputnumber-clearable",z.showClear&&"vertical"!=z.buttonLayout)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:"showClear",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[d._Bn([D]),d.TTD],decls:7,vars:32,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-clear-icon","pi","pi-times",3,"click"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function($,z){1&$&&(d.TgZ(0,"span",0)(1,"input",1,2),d.NdJ("input",function(O){return z.onUserInput(O)})("keydown",function(O){return z.onInputKeyDown(O)})("keypress",function(O){return z.onInputKeyPress(O)})("paste",function(O){return z.onPaste(O)})("click",function(){return z.onInputClick()})("focus",function(O){return z.onInputFocus(O)})("blur",function(O){return z.onInputBlur(O)}),d.qZA(),d.YNc(3,a,1,0,"i",3),d.YNc(4,V,3,12,"span",4),d.YNc(5,F,1,6,"button",5),d.YNc(6,T,1,6,"button",5),d.qZA()),2&$&&(d.Tol(z.styleClass),d.Q6J("ngClass",d.kEZ(28,y,z.showButtons&&"stacked"===z.buttonLayout,z.showButtons&&"horizontal"===z.buttonLayout,z.showButtons&&"vertical"===z.buttonLayout))("ngStyle",z.style),d.xp6(1),d.Tol(z.inputStyleClass),d.Q6J("ngClass","p-inputnumber-input")("ngStyle",z.inputStyle)("value",z.formattedValue())("disabled",z.disabled)("readonly",z.readonly),d.uIk("placeholder",z.placeholder)("title",z.title)("id",z.inputId)("size",z.size)("name",z.name)("autocomplete",z.autocomplete)("maxlength",z.maxlength)("tabindex",z.tabindex)("aria-label",z.ariaLabel)("aria-required",z.ariaRequired)("required",z.required)("min",z.min)("max",z.max),d.xp6(2),d.Q6J("ngIf","vertical"!=z.buttonLayout&&z.showClear&&z.value),d.xp6(1),d.Q6J("ngIf",z.showButtons&&"stacked"===z.buttonLayout),d.xp6(1),d.Q6J("ngIf",z.showButtons&&"stacked"!==z.buttonLayout),d.xp6(1),d.Q6J("ngIf",z.showButtons&&"stacked"!==z.buttonLayout))},dependencies:[e.mk,e.O5,e.PC,P.o,f.Hq],styles:["p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),N})(),B=(()=>{class N{}return N.\u0275fac=function($){return new($||N)},N.\u0275mod=d.oAB({type:N}),N.\u0275inj=d.cJS({imports:[e.ez,P.j,f.hJ]}),N})()},242:(hn,ht,b)=>{"use strict";b.d(ht,{Iu:()=>x,Ql:()=>P});var e=b(5e3),d=b(9808),u=b(2382);const f=function(a,R,L){return{"p-inputswitch p-component":!0,"p-inputswitch-checked":a,"p-disabled":R,"p-focus":L}},_={provide:u.JU,useExisting:(0,e.Gpc)(()=>P),multi:!0};let P=(()=>{class a{constructor(L){this.cd=L,this.trueValue=!0,this.falseValue=!1,this.onChange=new e.vpe,this.modelValue=!1,this.focused=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(L,V){!this.disabled&&!this.readonly&&(L.preventDefault(),this.toggle(L),V.focus())}onInputChange(L){this.readonly||this.updateModel(L,L.target.checked)}toggle(L){this.updateModel(L,!this.checked())}updateModel(L,V){this.modelValue=V?this.trueValue:this.falseValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:L,checked:this.modelValue})}onFocus(L){this.focused=!0}onBlur(L){this.focused=!1,this.onModelTouched()}writeValue(L){this.modelValue=L,this.cd.markForCheck()}registerOnChange(L){this.onModelChange=L}registerOnTouched(L){this.onModelTouched=L}setDisabledState(L){this.disabled=L,this.cd.markForCheck()}checked(){return this.modelValue===this.trueValue}}return a.\u0275fac=function(L){return new(L||a)(e.Y36(e.sBO))},a.\u0275cmp=e.Xpm({type:a,selectors:[["p-inputSwitch"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:"tabindex",inputId:"inputId",name:"name",disabled:"disabled",readonly:"readonly",trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onChange:"onChange"},features:[e._Bn([_])],decls:5,vars:16,consts:[[3,"ngClass","ngStyle","click"],[1,"p-hidden-accessible"],["type","checkbox","role","switch",3,"checked","disabled","change","focus","blur"],["cb",""],[1,"p-inputswitch-slider"]],template:function(L,V){if(1&L){const F=e.EpF();e.TgZ(0,"div",0),e.NdJ("click",function(y){e.CHM(F);const D=e.MAs(3);return e.KtG(V.onClick(y,D))}),e.TgZ(1,"div",1)(2,"input",2,3),e.NdJ("change",function(y){return V.onInputChange(y)})("focus",function(y){return V.onFocus(y)})("blur",function(y){return V.onBlur(y)}),e.qZA()(),e._UZ(4,"span",4),e.qZA()}2&L&&(e.Tol(V.styleClass),e.Q6J("ngClass",e.kEZ(12,f,V.checked(),V.disabled,V.focused))("ngStyle",V.style),e.xp6(2),e.Q6J("checked",V.checked())("disabled",V.disabled),e.uIk("aria-label",V.ariaLabel)("id",V.inputId)("name",V.name)("tabindex",V.tabindex)("aria-checked",V.checked())("aria-labelledby",V.ariaLabelledBy))},dependencies:[d.mk,d.PC],styles:['.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;inset:0}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}\n'],encapsulation:2,changeDetection:0}),a})(),x=(()=>{class a{}return a.\u0275fac=function(L){return new(L||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[d.ez]}),a})()},1424:(hn,ht,b)=>{"use strict";b.d(ht,{j:()=>_,o:()=>f});var e=b(5e3),d=b(9808),u=b(2382);let f=(()=>{class P{constructor(a,R,L){this.el=a,this.ngModel=R,this.cd=L}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(a){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return P.\u0275fac=function(a){return new(a||P)(e.Y36(e.SBq),e.Y36(u.On,8),e.Y36(e.sBO))},P.\u0275dir=e.lG2({type:P,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(a,R){1&a&&e.NdJ("input",function(V){return R.onInput(V)}),2&a&&e.ekj("p-filled",R.filled)}}),P})(),_=(()=>{class P{}return P.\u0275fac=function(a){return new(a||P)},P.\u0275mod=e.oAB({type:P}),P.\u0275inj=e.cJS({imports:[d.ez]}),P})()},3407:(hn,ht,b)=>{"use strict";b.d(ht,{A:()=>_,g:()=>f});var e=b(5e3),d=b(9808),u=b(2382);let f=(()=>{class P{constructor(a,R,L,V){this.el=a,this.ngModel=R,this.control=L,this.cd=V,this.onResize=new e.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(a){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(a){this.autoResize&&this.resize(a)}onBlur(a){this.autoResize&&this.resize(a)}resize(a){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(a||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return P.\u0275fac=function(a){return new(a||P)(e.Y36(e.SBq),e.Y36(u.On,8),e.Y36(u.a5,8),e.Y36(e.sBO))},P.\u0275dir=e.lG2({type:P,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(a,R){1&a&&e.NdJ("input",function(V){return R.onInput(V)})("focus",function(V){return R.onFocus(V)})("blur",function(V){return R.onBlur(V)}),2&a&&e.ekj("p-filled",R.filled)("p-inputtextarea-resizable",R.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),P})(),_=(()=>{class P{}return P.\u0275fac=function(a){return new(a||P)},P.\u0275mod=e.oAB({type:P}),P.\u0275inj=e.cJS({imports:[d.ez]}),P})()},657:(hn,ht,b)=>{"use strict";b.d(ht,{Fr:()=>R,kK:()=>L});var e=b(5e3),d=b(9808),u=b(5730);const _={provide:b(2382).Cf,useExisting:(0,e.Gpc)(()=>R),multi:!0},P={pint:/[\d]/,int:/[\d\-]/,pnum:/[\d\.]/,money:/[\d\.\s,]/,num:/[\d\-\.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_\.\-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/i},a={63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35};let R=(()=>{class V{constructor(T){this.el=T,this.ngModelChange=new e.vpe,this.isAndroid=u.p.isAndroid()}get pattern(){return this._pattern}set pattern(T){this._pattern=T,this.regex=P[this._pattern]||this._pattern}isNavKeyPress(T){let y=T.keyCode;return y=u.p.getBrowser().safari&&a[y]||y,y>=33&&y<=40||13==y||9==y||27==y}isSpecialKey(T){let y=T.keyCode||T.charCode;return 9==y||13==y||27==y||16==y||17==y||y>=18&&y<=20||u.p.getBrowser().opera&&!T.shiftKey&&(8==y||y>=33&&y<=35||y>=36&&y<=39||y>=44&&y<=45)}getKey(T){let y=T.keyCode||T.charCode;return u.p.getBrowser().safari&&a[y]||y}getCharCode(T){return T.charCode||T.keyCode||T.which}findDelta(T,y){let D="";for(let k=0;k<T.length;k++)T.substr(0,k)+T.substr(k+T.length-y.length)===y&&(D=T.substr(k,T.length-y.length));return D}isValidChar(T){return this.regex.test(T)}isValidString(T){for(let y=0;y<T.length;y++)if(!this.isValidChar(T.substr(y,1)))return!1;return!0}onInput(T){if(this.isAndroid&&!this.pValidateOnly){let y=this.el.nativeElement.value,D=this.lastValue||"",k=this.findDelta(y,D),B=this.findDelta(D,y);k.length>1||!k&&!B?this.isValidString(y)||(this.el.nativeElement.value=D,this.ngModelChange.emit(D)):B||this.isValidChar(k)||(this.el.nativeElement.value=D,this.ngModelChange.emit(D)),y=this.el.nativeElement.value,this.isValidString(y)&&(this.lastValue=y)}}onKeyPress(T){if(this.isAndroid||this.pValidateOnly)return;let y=u.p.getBrowser(),D=this.getKey(T);if(y.mozilla&&(T.ctrlKey||T.altKey))return;if(17==D||18==D)return;let k=this.getCharCode(T),B=String.fromCharCode(k),N=!0;!y.mozilla&&(this.isSpecialKey(T)||!B)||(N=this.regex.test(B),N||T.preventDefault())}onPaste(T){const y=T.clipboardData||window.clipboardData.getData("text");if(y){const D=y.getData("text");for(let k of D.toString())if(!this.regex.test(k))return void T.preventDefault()}}validate(T){if(this.pValidateOnly){let y=this.el.nativeElement.value;if(y&&!this.regex.test(y))return{validatePattern:!1}}}}return V.\u0275fac=function(T){return new(T||V)(e.Y36(e.SBq))},V.\u0275dir=e.lG2({type:V,selectors:[["","pKeyFilter",""]],hostAttrs:[1,"p-element"],hostBindings:function(T,y){1&T&&e.NdJ("input",function(k){return y.onInput(k)})("keypress",function(k){return y.onKeyPress(k)})("paste",function(k){return y.onPaste(k)})},inputs:{pValidateOnly:"pValidateOnly",pattern:["pKeyFilter","pattern"]},outputs:{ngModelChange:"ngModelChange"},features:[e._Bn([_])]}),V})(),L=(()=>{class V{}return V.\u0275fac=function(T){return new(T||V)},V.\u0275mod=e.oAB({type:V}),V.\u0275inj=e.cJS({imports:[d.ez]}),V})()},5055:(hn,ht,b)=>{"use strict";b.d(ht,{ON:()=>Ut,Ri:()=>zt});var e=b(5e3),d=b(9808),u=b(9783),f=b(5730),_=b(5921),P=b(2382),x=b(5787);const a=["headerchkbox"],R=["filter"];function L(ct,at){1&ct&&e.GkF(0)}function V(ct,at){if(1&ct&&(e.TgZ(0,"div",7),e.Hsn(1),e.YNc(2,L,1,0,"ng-container",8),e.qZA()),2&ct){const me=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",me.headerTemplate)}}const F=function(ct){return{"p-checkbox-disabled":ct}},T=function(ct,at,me){return{"p-highlight":ct,"p-focus":at,"p-disabled":me}},y=function(ct){return{"pi pi-check":ct}};function D(ct,at){if(1&ct){const me=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"input",14),e.NdJ("focus",function(){e.CHM(me);const ot=e.oxw(2);return e.KtG(ot.onHeaderCheckboxFocus())})("blur",function(){e.CHM(me);const ot=e.oxw(2);return e.KtG(ot.onHeaderCheckboxBlur())})("keydown.space",function(ot){e.CHM(me);const Ct=e.oxw(2);return e.KtG(Ct.toggleAll(ot))}),e.qZA()(),e.TgZ(3,"div",15,16),e.NdJ("click",function(ot){e.CHM(me);const Ct=e.oxw(2);return e.KtG(Ct.toggleAll(ot))}),e._UZ(5,"span",17),e.qZA()()}if(2&ct){const me=e.oxw(2);e.Q6J("ngClass",e.VKq(5,F,me.disabled||me.toggleAllDisabled)),e.xp6(2),e.Q6J("checked",me.allChecked)("disabled",me.disabled||me.toggleAllDisabled),e.xp6(1),e.Q6J("ngClass",e.kEZ(7,T,me.allChecked,me.headerCheckboxFocus,me.disabled||me.toggleAllDisabled)),e.xp6(2),e.Q6J("ngClass",e.VKq(11,y,me.allChecked))}}function k(ct,at){1&ct&&e.GkF(0)}const B=function(ct){return{options:ct}};function N(ct,at){if(1&ct&&(e.ynx(0),e.YNc(1,k,1,0,"ng-container",18),e.BQk()),2&ct){const me=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",me.filterTemplate)("ngTemplateOutletContext",e.VKq(2,B,me.filterOptions))}}function ce(ct,at){if(1&ct){const me=e.EpF();e.TgZ(0,"div",20)(1,"input",21,22),e.NdJ("input",function(ot){e.CHM(me);const Ct=e.oxw(3);return e.KtG(Ct.onFilter(ot))}),e.qZA(),e._UZ(3,"span",23),e.qZA()}if(2&ct){const me=e.oxw(3);e.xp6(1),e.Q6J("value",me.filterValue||"")("disabled",me.disabled),e.uIk("placeholder",me.filterPlaceHolder)("aria-label",me.ariaFilterLabel)}}function $(ct,at){if(1&ct&&e.YNc(0,ce,4,4,"div",19),2&ct){const me=e.oxw(2);e.Q6J("ngIf",me.filter)}}function z(ct,at){if(1&ct&&(e.TgZ(0,"div",7),e.YNc(1,D,6,13,"div",9),e.YNc(2,N,2,4,"ng-container",10),e.YNc(3,$,1,1,"ng-template",null,11,e.W1O),e.qZA()),2&ct){const me=e.MAs(4),De=e.oxw();e.xp6(1),e.Q6J("ngIf",De.checkbox&&De.multiple&&De.showToggleAll),e.xp6(1),e.Q6J("ngIf",De.filterTemplate)("ngIfElse",me)}}function S(ct,at){if(1&ct&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&ct){const me=e.oxw().$implicit,De=e.oxw(2);e.xp6(1),e.Oqu(De.getOptionGroupLabel(me)||"empty")}}function O(ct,at){1&ct&&e.GkF(0)}function K(ct,at){1&ct&&e.GkF(0)}const ue=function(ct){return{$implicit:ct}};function q(ct,at){if(1&ct&&(e.TgZ(0,"li",25),e.YNc(1,S,2,1,"span",3),e.YNc(2,O,1,0,"ng-container",18),e.qZA(),e.YNc(3,K,1,0,"ng-container",18)),2&ct){const me=at.$implicit,De=e.oxw(2),ot=e.MAs(8);e.xp6(1),e.Q6J("ngIf",!De.groupTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",De.groupTemplate)("ngTemplateOutletContext",e.VKq(5,ue,me)),e.xp6(1),e.Q6J("ngTemplateOutlet",ot)("ngTemplateOutletContext",e.VKq(7,ue,De.getOptionGroupChildren(me)))}}function G(ct,at){if(1&ct&&(e.ynx(0),e.YNc(1,q,4,9,"ng-template",24),e.BQk()),2&ct){const me=e.oxw();e.xp6(1),e.Q6J("ngForOf",me.optionsToRender)}}function j(ct,at){1&ct&&e.GkF(0)}function fe(ct,at){if(1&ct&&(e.ynx(0),e.YNc(1,j,1,0,"ng-container",18),e.BQk()),2&ct){const me=e.oxw(),De=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",De)("ngTemplateOutletContext",e.VKq(2,ue,me.optionsToRender))}}const ne=function(ct){return{"p-highlight":ct}};function J(ct,at){if(1&ct&&(e.TgZ(0,"div",12)(1,"div",28),e._UZ(2,"span",17),e.qZA()()),2&ct){const me=e.oxw().$implicit,De=e.oxw(2);e.Q6J("ngClass",e.VKq(3,F,De.disabled||De.isOptionDisabled(me))),e.xp6(1),e.Q6J("ngClass",e.VKq(5,ne,De.isSelected(me))),e.xp6(1),e.Q6J("ngClass",e.VKq(7,y,De.isSelected(me)))}}function X(ct,at){if(1&ct&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&ct){const me=e.oxw().$implicit,De=e.oxw(2);e.xp6(1),e.Oqu(De.getOptionLabel(me))}}function W(ct,at){1&ct&&e.GkF(0)}const Y=function(ct,at){return{"p-listbox-item":!0,"p-highlight":ct,"p-disabled":at}},Te=function(ct,at){return{$implicit:ct,index:at}};function Ae(ct,at){if(1&ct){const me=e.EpF();e.TgZ(0,"li",27),e.NdJ("click",function(ot){const Ot=e.CHM(me).$implicit,Ft=e.oxw(2);return e.KtG(Ft.onOptionClick(ot,Ot))})("dblclick",function(ot){const Ot=e.CHM(me).$implicit,Ft=e.oxw(2);return e.KtG(Ft.onOptionDoubleClick(ot,Ot))})("touchend",function(){const Ct=e.CHM(me).$implicit,Ot=e.oxw(2);return e.KtG(Ot.onOptionTouchEnd(Ct))})("keydown",function(ot){const Ot=e.CHM(me).$implicit,Ft=e.oxw(2);return e.KtG(Ft.onOptionKeyDown(ot,Ot))}),e.YNc(1,J,3,9,"div",9),e.YNc(2,X,2,1,"span",3),e.YNc(3,W,1,0,"ng-container",18),e.qZA()}if(2&ct){const me=at.$implicit,De=at.index,ot=e.oxw(2);e.Q6J("ngClass",e.WLB(8,Y,ot.isSelected(me),ot.isOptionDisabled(me))),e.uIk("tabindex",ot.disabled||ot.isOptionDisabled(me)?null:"0")("aria-label",ot.getOptionLabel(me))("aria-selected",ot.isSelected(me)),e.xp6(1),e.Q6J("ngIf",ot.checkbox&&ot.multiple),e.xp6(1),e.Q6J("ngIf",!ot.itemTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",ot.itemTemplate)("ngTemplateOutletContext",e.WLB(11,Te,me,De))}}function Ke(ct,at){1&ct&&e.YNc(0,Ae,4,14,"li",26),2&ct&&e.Q6J("ngForOf",at.$implicit)}function be(ct,at){if(1&ct&&(e.ynx(0),e._uU(1),e.BQk()),2&ct){const me=e.oxw(2);e.xp6(1),e.hij(" ",me.emptyFilterMessageLabel," ")}}function Ge(ct,at){1&ct&&e.GkF(0,null,30)}function ee(ct,at){if(1&ct&&(e.TgZ(0,"li",29),e.YNc(1,be,2,1,"ng-container",10),e.YNc(2,Ge,2,0,"ng-container",8),e.qZA()),2&ct){const me=e.oxw();e.xp6(1),e.Q6J("ngIf",!me.emptyFilterTemplate&&!me.emptyTemplate)("ngIfElse",me.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",me.emptyFilterTemplate||me.emptyTemplate)}}function xe(ct,at){if(1&ct&&(e.ynx(0),e._uU(1),e.BQk()),2&ct){const me=e.oxw(2);e.xp6(1),e.hij(" ",me.emptyMessageLabel," ")}}function we(ct,at){1&ct&&e.GkF(0,null,31)}function Pe(ct,at){if(1&ct&&(e.TgZ(0,"li",29),e.YNc(1,xe,2,1,"ng-container",10),e.YNc(2,we,2,0,"ng-container",8),e.qZA()),2&ct){const me=e.oxw();e.xp6(1),e.Q6J("ngIf",!me.emptyTemplate)("ngIfElse",me.empty),e.xp6(1),e.Q6J("ngTemplateOutlet",me.emptyTemplate)}}function dt(ct,at){1&ct&&e.GkF(0)}function bt(ct,at){if(1&ct&&(e.TgZ(0,"div",32),e.Hsn(1,1),e.YNc(2,dt,1,0,"ng-container",8),e.qZA()),2&ct){const me=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",me.footerTemplate)}}const it=[[["p-header"]],[["p-footer"]]],Dt=function(ct){return{"p-listbox p-component":!0,"p-disabled":ct}},vt=["p-header","p-footer"],Wt={provide:P.JU,useExisting:(0,e.Gpc)(()=>zt),multi:!0};let zt=(()=>{class ct{constructor(me,De,ot,Ct){this.el=me,this.cd=De,this.filterService=ot,this.config=Ct,this.checkbox=!1,this.filter=!1,this.filterMatchMode="contains",this.metaKeySelection=!0,this.showToggleAll=!0,this.optionGroupChildren="items",this.onChange=new e.vpe,this.onClick=new e.vpe,this.onDblClick=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get options(){return this._options}set options(me){this._options=me,this.hasFilter()&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(me){this._filterValue=me,this.activateFilter()}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.filterBy&&(this.filterOptions={filter:me=>this.onFilter(me),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(me=>{switch(me.getType()){case"item":default:this.itemTemplate=me.template;break;case"group":this.groupTemplate=me.template;break;case"header":this.headerTemplate=me.template;break;case"filter":this.filterTemplate=me.template;break;case"footer":this.footerTemplate=me.template;break;case"empty":this.emptyTemplate=me.template;break;case"emptyfilter":this.emptyFilterTemplate=me.template}})}getOptionLabel(me){return this.optionLabel?_.gb.resolveFieldData(me,this.optionLabel):null!=me.label?me.label:me}getOptionGroupChildren(me){return this.optionGroupChildren?_.gb.resolveFieldData(me,this.optionGroupChildren):me.items}getOptionGroupLabel(me){return this.optionGroupLabel?_.gb.resolveFieldData(me,this.optionGroupLabel):null!=me.label?me.label:me}getOptionValue(me){return this.optionValue?_.gb.resolveFieldData(me,this.optionValue):this.optionLabel||void 0===me.value?me:me.value}isOptionDisabled(me){return this.optionDisabled?_.gb.resolveFieldData(me,this.optionDisabled):void 0!==me.disabled&&me.disabled}writeValue(me){this.value=me,this.cd.markForCheck()}registerOnChange(me){this.onModelChange=me}registerOnTouched(me){this.onModelTouched=me}setDisabledState(me){this.disabled=me,this.cd.markForCheck()}onOptionClick(me,De){this.disabled||this.isOptionDisabled(De)||this.readonly||(this.multiple?this.checkbox?this.onOptionClickCheckbox(me,De):this.onOptionClickMultiple(me,De):this.onOptionClickSingle(me,De),this.onClick.emit({originalEvent:me,option:De,value:this.value}),this.optionTouched=!1)}onOptionTouchEnd(me){this.disabled||this.isOptionDisabled(me)||this.readonly||(this.optionTouched=!0)}onOptionDoubleClick(me,De){this.disabled||this.isOptionDisabled(De)||this.readonly||this.onDblClick.emit({originalEvent:me,option:De,value:this.value})}onOptionClickSingle(me,De){let ot=this.isSelected(De),Ct=!1;if(!this.optionTouched&&this.metaKeySelection){let Ft=me.metaKey||me.ctrlKey;ot?Ft&&(this.value=null,Ct=!0):(this.value=this.getOptionValue(De),Ct=!0)}else this.value=ot?null:this.getOptionValue(De),Ct=!0;Ct&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:me,value:this.value}))}onOptionClickMultiple(me,De){let ot=this.isSelected(De),Ct=!1;if(!this.optionTouched&&this.metaKeySelection){let Ft=me.metaKey||me.ctrlKey;ot?(Ft?this.removeOption(De):this.value=[this.getOptionValue(De)],Ct=!0):(this.value=Ft&&this.value||[],this.value=[...this.value,this.getOptionValue(De)],Ct=!0)}else ot?this.removeOption(De):this.value=[...this.value||[],this.getOptionValue(De)],Ct=!0;Ct&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:me,value:this.value}))}onOptionClickCheckbox(me,De){this.disabled||this.readonly||(this.isSelected(De)?this.removeOption(De):(this.value=this.value?this.value:[],this.value=[...this.value,this.getOptionValue(De)]),this.onModelChange(this.value),this.onChange.emit({originalEvent:me,value:this.value}))}removeOption(me){this.value=this.value.filter(De=>!_.gb.equals(De,this.getOptionValue(me),this.dataKey))}isSelected(me){let De=!1,ot=this.getOptionValue(me);if(this.multiple){if(this.value)for(let Ct of this.value)if(_.gb.equals(Ct,ot,this.dataKey)){De=!0;break}}else De=_.gb.equals(this.value,ot,this.dataKey);return De}get allChecked(){let me=this.optionsToRender;if(!me||0===me.length)return!1;{let De=0,ot=0,Ct=0,Ot=this.group?0:this.optionsToRender.length;for(let Ft of me)if(this.group)for(let Mt of this.getOptionGroupChildren(Ft)){let Ye=this.isOptionDisabled(Mt),st=this.isSelected(Mt);if(Ye)st?De++:ot++;else{if(!st)return!1;Ct++}Ot++}else{let Mt=this.isOptionDisabled(Ft),Ye=this.isSelected(Ft);if(Mt)Ye?De++:ot++;else{if(!Ye)return!1;Ct++}}return Ot===De||Ot===Ct||Ct&&Ot===Ct+ot+De}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(u.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(u.ws.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(){return!this.optionsToRender||this.optionsToRender&&0===this.optionsToRender.length}onFilter(me){this._filterValue=me.target.value,this.activateFilter()}activateFilter(){if(this.hasFilter()&&this._options)if(this.group){let me=(this.filterBy||this.optionLabel||"label").split(","),De=[];for(let ot of this.options){let Ct=this.filterService.filter(this.getOptionGroupChildren(ot),me,this.filterValue,this.filterMatchMode,this.filterLocale);Ct&&Ct.length&&De.push(Object.assign(Object.assign({},ot),{[this.optionGroupChildren]:Ct}))}this._filteredOptions=De}else this._filteredOptions=this._options.filter(me=>this.filterService.filters[this.filterMatchMode](this.getOptionLabel(me),this._filterValue,this.filterLocale));else this._filteredOptions=null}resetFilter(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this._filterValue=null,this._filteredOptions=null}get toggleAllDisabled(){let me=this.optionsToRender;if(!me||0===me.length)return!0;for(let De of me)if(!this.isOptionDisabled(De))return!1;return!0}toggleAll(me){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:me,value:this.value}),me.preventDefault())}checkAll(){let De=[];this.optionsToRender.forEach(ot=>{if(this.group){let Ct=this.getOptionGroupChildren(ot);Ct&&Ct.forEach(Ot=>{let Ft=this.isOptionDisabled(Ot);(!Ft||Ft&&this.isSelected(Ot))&&De.push(this.getOptionValue(Ot))})}else{let Ct=this.isOptionDisabled(ot);(!Ct||Ct&&this.isSelected(ot))&&De.push(this.getOptionValue(ot))}}),this.value=De}uncheckAll(){let De=[];this.optionsToRender.forEach(ot=>{this.group?ot.items&&ot.items.forEach(Ct=>{this.isOptionDisabled(Ct)&&this.isSelected(Ct)&&De.push(this.getOptionValue(Ct))}):this.isOptionDisabled(ot)&&this.isSelected(ot)&&De.push(this.getOptionValue(ot))}),this.value=De}onOptionKeyDown(me,De){if(this.readonly)return;let ot=me.currentTarget;switch(me.which){case 40:var Ct=this.findNextItem(ot);Ct&&Ct.focus(),me.preventDefault();break;case 38:var Ot=this.findPrevItem(ot);Ot&&Ot.focus(),me.preventDefault();break;case 13:this.onOptionClick(me,De),me.preventDefault()}}findNextItem(me){let De=me.nextElementSibling;return De?f.p.hasClass(De,"p-disabled")||f.p.isHidden(De)||f.p.hasClass(De,"p-listbox-item-group")?this.findNextItem(De):De:null}findPrevItem(me){let De=me.previousElementSibling;return De?f.p.hasClass(De,"p-disabled")||f.p.isHidden(De)||f.p.hasClass(De,"p-listbox-item-group")?this.findPrevItem(De):De:null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}}return ct.\u0275fac=function(me){return new(me||ct)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(u.iZ),e.Y36(u.b4))},ct.\u0275cmp=e.Xpm({type:ct,selectors:[["p-listbox"]],contentQueries:function(me,De,ot){if(1&me&&(e.Suo(ot,u.h4,5),e.Suo(ot,u.$_,5),e.Suo(ot,u.jx,4)),2&me){let Ct;e.iGM(Ct=e.CRH())&&(De.headerFacet=Ct.first),e.iGM(Ct=e.CRH())&&(De.footerFacet=Ct.first),e.iGM(Ct=e.CRH())&&(De.templates=Ct)}},viewQuery:function(me,De){if(1&me&&(e.Gf(a,5),e.Gf(R,5)),2&me){let ot;e.iGM(ot=e.CRH())&&(De.headerCheckboxViewChild=ot.first),e.iGM(ot=e.CRH())&&(De.filterViewChild=ot.first)}},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:"readonly",disabled:"disabled",checkbox:"checkbox",filter:"filter",filterBy:"filterBy",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:"metaKeySelection",dataKey:"dataKey",showToggleAll:"showToggleAll",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:"group",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick"},features:[e._Bn([Wt])],ngContentSelectors:vt,decls:12,vars:18,consts:[[3,"ngClass","ngStyle"],["class","p-listbox-header",4,"ngIf"],["role","listbox",1,"p-listbox-list"],[4,"ngIf"],["itemslist",""],["class","p-listbox-empty-message",4,"ngIf"],["class","p-listbox-footer",4,"ngIf"],[1,"p-listbox-header"],[4,"ngTemplateOutlet"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],[1,"p-checkbox-box",3,"ngClass","click"],["headerchkbox",""],[1,"p-checkbox-icon",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-listbox-filter-container",4,"ngIf"],[1,"p-listbox-filter-container"],["type","text",1,"p-listbox-filter","p-inputtext","p-component",3,"value","disabled","input"],["filter",""],[1,"p-listbox-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-listbox-item-group"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown",4,"ngFor","ngForOf"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-listbox-empty-message"],["emptyFilter",""],["empty",""],[1,"p-listbox-footer"]],template:function(me,De){1&me&&(e.F$t(it),e.TgZ(0,"div",0),e.YNc(1,V,3,1,"div",1),e.YNc(2,z,5,3,"div",1),e.TgZ(3,"div",0)(4,"ul",2),e.YNc(5,G,2,1,"ng-container",3),e.YNc(6,fe,2,4,"ng-container",3),e.YNc(7,Ke,1,1,"ng-template",null,4,e.W1O),e.YNc(9,ee,3,3,"li",5),e.YNc(10,Pe,3,3,"li",5),e.qZA()(),e.YNc(11,bt,3,1,"div",6),e.qZA()),2&me&&(e.Tol(De.styleClass),e.Q6J("ngClass",e.VKq(16,Dt,De.disabled))("ngStyle",De.style),e.xp6(1),e.Q6J("ngIf",De.headerFacet||De.headerTemplate),e.xp6(1),e.Q6J("ngIf",De.checkbox&&De.multiple&&De.showToggleAll||De.filter),e.xp6(1),e.Tol(De.listStyleClass),e.Q6J("ngClass","p-listbox-list-wrapper")("ngStyle",De.listStyle),e.xp6(1),e.uIk("aria-multiselectable",De.multiple),e.xp6(1),e.Q6J("ngIf",De.group),e.xp6(1),e.Q6J("ngIf",!De.group),e.xp6(3),e.Q6J("ngIf",De.hasFilter()&&De.isEmpty()),e.xp6(1),e.Q6J("ngIf",!De.hasFilter()&&De.isEmpty()),e.xp6(1),e.Q6J("ngIf",De.footerFacet||De.footerTemplate))},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,x.H],styles:[".p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.p-listbox-header{display:flex;align-items:center}.p-listbox-filter-container{position:relative;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}\n"],encapsulation:2,changeDetection:0}),ct})(),Ut=(()=>{class ct{}return ct.\u0275fac=function(me){return new(me||ct)},ct.\u0275mod=e.oAB({type:ct}),ct.\u0275inj=e.cJS({imports:[d.ez,u.m8,x.T,u.m8]}),ct})()},1874:(hn,ht,b)=>{"use strict";b.d(ht,{$9:()=>bt,v2:()=>dt});var e=b(5e3),d=b(1777),u=b(9808),f=b(5730),_=b(5921),P=b(3470),x=b(5787),a=b(4119),R=b(9783);const L=["pMenuItemContent",""];function V(it,Dt){if(1&it&&e._UZ(0,"span",7),2&it){const vt=e.oxw(2);e.Tol(vt.item.iconClass),e.Q6J("ngClass",vt.item.icon)("ngStyle",vt.item.iconStyle)}}function F(it,Dt){if(1&it&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&it){const vt=e.oxw(2);e.xp6(1),e.Oqu(vt.item.label)}}function T(it,Dt){if(1&it&&e._UZ(0,"span",9),2&it){const vt=e.oxw(2);e.Q6J("innerHTML",vt.item.label,e.oJD)}}function y(it,Dt){if(1&it&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&it){const vt=e.oxw(2);e.Q6J("ngClass",vt.item.badgeStyleClass),e.xp6(1),e.Oqu(vt.item.badge)}}const D=function(it){return{"p-disabled":it}};function k(it,Dt){if(1&it){const vt=e.EpF();e.TgZ(0,"a",2),e.NdJ("keydown",function(zt){e.CHM(vt);const Ut=e.oxw();return e.KtG(Ut.onItemKeyDown(zt))})("click",function(zt){e.CHM(vt);const Ut=e.oxw();return e.KtG(Ut.menu.itemClick(zt,Ut.item))}),e.YNc(1,V,1,4,"span",3),e.YNc(2,F,2,1,"span",4),e.YNc(3,T,1,1,"ng-template",null,5,e.W1O),e.YNc(5,y,2,2,"span",6),e.qZA()}if(2&it){const vt=e.MAs(4),Wt=e.oxw();e.Q6J("target",Wt.item.target)("ngClass",e.VKq(12,D,Wt.item.disabled))("target",Wt.item.target),e.uIk("href",Wt.item.url||null,e.LSH)("tabindex",Wt.item.disabled?null:"0")("data-automationid",Wt.item.automationId)("title",Wt.item.title)("id",Wt.item.id),e.xp6(1),e.Q6J("ngIf",Wt.item.icon),e.xp6(1),e.Q6J("ngIf",!1!==Wt.item.escape)("ngIfElse",vt),e.xp6(3),e.Q6J("ngIf",Wt.item.badge)}}function B(it,Dt){if(1&it&&e._UZ(0,"span",14),2&it){const vt=e.oxw(2);e.Q6J("ngClass",vt.item.icon)}}function N(it,Dt){if(1&it&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&it){const vt=e.oxw(2);e.xp6(1),e.Oqu(vt.item.label)}}function ce(it,Dt){if(1&it&&e._UZ(0,"span",9),2&it){const vt=e.oxw(2);e.Q6J("innerHTML",vt.item.label,e.oJD)}}function $(it,Dt){if(1&it&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&it){const vt=e.oxw(2);e.Q6J("ngClass",vt.item.badgeStyleClass),e.xp6(1),e.Oqu(vt.item.badge)}}const z=function(){return{exact:!1}};function S(it,Dt){if(1&it){const vt=e.EpF();e.TgZ(0,"a",11),e.NdJ("keydown",function(zt){e.CHM(vt);const Ut=e.oxw();return e.KtG(Ut.onItemKeyDown(zt))})("click",function(zt){e.CHM(vt);const Ut=e.oxw();return e.KtG(Ut.menu.itemClick(zt,Ut.item))}),e.YNc(1,B,1,1,"span",12),e.YNc(2,N,2,1,"span",4),e.YNc(3,ce,1,1,"ng-template",null,13,e.W1O),e.YNc(5,$,2,2,"span",6),e.qZA()}if(2&it){const vt=e.MAs(4),Wt=e.oxw();e.Q6J("routerLink",Wt.item.routerLink)("queryParams",Wt.item.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",Wt.item.routerLinkActiveOptions||e.DdM(20,z))("target",Wt.item.target)("ngClass",e.VKq(21,D,Wt.item.disabled))("fragment",Wt.item.fragment)("queryParamsHandling",Wt.item.queryParamsHandling)("preserveFragment",Wt.item.preserveFragment)("skipLocationChange",Wt.item.skipLocationChange)("replaceUrl",Wt.item.replaceUrl)("state",Wt.item.state),e.uIk("data-automationid",Wt.item.automationId)("id",Wt.item.id)("tabindex",Wt.item.disabled?null:"0")("title",Wt.item.title),e.xp6(1),e.Q6J("ngIf",Wt.item.icon),e.xp6(1),e.Q6J("ngIf",!1!==Wt.item.escape)("ngIfElse",vt),e.xp6(3),e.Q6J("ngIf",Wt.item.badge)}}const O=["container"],K=function(it){return{"p-hidden":it}};function ue(it,Dt){if(1&it&&e._UZ(0,"li",8),2&it){const vt=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,K,!1===vt.visible))}}function q(it,Dt){if(1&it&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&it){const vt=e.oxw(2).$implicit;e.xp6(1),e.Oqu(vt.label)}}function G(it,Dt){if(1&it&&e._UZ(0,"span",12),2&it){const vt=e.oxw(2).$implicit;e.Q6J("innerHTML",vt.label,e.oJD)}}const j=function(it,Dt){return{"p-hidden":it,flex:Dt}};function fe(it,Dt){if(1&it&&(e.TgZ(0,"li",9),e.YNc(1,q,2,1,"span",10),e.YNc(2,G,1,1,"ng-template",null,11,e.W1O),e.qZA()),2&it){const vt=e.MAs(3),Wt=e.oxw().$implicit;e.Q6J("ngClass",e.WLB(5,j,!1===Wt.visible,Wt.visible))("tooltipOptions",Wt.tooltipOptions),e.uIk("data-automationid",Wt.automationId),e.xp6(1),e.Q6J("ngIf",!1!==Wt.escape)("ngIfElse",vt)}}function ne(it,Dt){if(1&it&&e._UZ(0,"li",8),2&it){const vt=e.oxw().$implicit,Wt=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,K,!1===vt.visible||!1===Wt.visible))}}function J(it,Dt){if(1&it&&e._UZ(0,"li",14),2&it){const vt=e.oxw().$implicit,Wt=e.oxw().$implicit;e.Tol(vt.styleClass),e.Q6J("pMenuItemContent",vt)("ngClass",e.VKq(6,K,!1===vt.visible||!1===Wt.visible))("ngStyle",vt.style)("tooltipOptions",vt.tooltipOptions)}}function X(it,Dt){if(1&it&&(e.YNc(0,ne,1,3,"li",6),e.YNc(1,J,1,8,"li",13)),2&it){const vt=Dt.$implicit;e.Q6J("ngIf",vt.separator),e.xp6(1),e.Q6J("ngIf",!vt.separator)}}function W(it,Dt){if(1&it&&(e.YNc(0,ue,1,3,"li",6),e.YNc(1,fe,4,8,"li",7),e.YNc(2,X,2,2,"ng-template",5)),2&it){const vt=Dt.$implicit;e.Q6J("ngIf",vt.separator),e.xp6(1),e.Q6J("ngIf",!vt.separator),e.xp6(1),e.Q6J("ngForOf",vt.items)}}function Y(it,Dt){if(1&it&&e.YNc(0,W,3,3,"ng-template",5),2&it){const vt=e.oxw(2);e.Q6J("ngForOf",vt.model)}}function Te(it,Dt){if(1&it&&e._UZ(0,"li",8),2&it){const vt=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,K,!1===vt.visible))}}function Ae(it,Dt){if(1&it&&e._UZ(0,"li",14),2&it){const vt=e.oxw().$implicit;e.Tol(vt.styleClass),e.Q6J("pMenuItemContent",vt)("ngClass",e.VKq(6,K,!1===vt.visible))("ngStyle",vt.style)("tooltipOptions",vt.tooltipOptions)}}function Ke(it,Dt){if(1&it&&(e.YNc(0,Te,1,3,"li",6),e.YNc(1,Ae,1,8,"li",13)),2&it){const vt=Dt.$implicit;e.Q6J("ngIf",vt.separator),e.xp6(1),e.Q6J("ngIf",!vt.separator)}}function be(it,Dt){if(1&it&&e.YNc(0,Ke,2,2,"ng-template",5),2&it){const vt=e.oxw(2);e.Q6J("ngForOf",vt.model)}}const Ge=function(it){return{"p-menu p-component":!0,"p-menu-overlay":it}},ee=function(it,Dt){return{showTransitionParams:it,hideTransitionParams:Dt}},xe=function(it){return{value:"visible",params:it}};function we(it,Dt){if(1&it){const vt=e.EpF();e.TgZ(0,"div",1,2),e.NdJ("click",function(zt){e.CHM(vt);const Ut=e.oxw();return e.KtG(Ut.onOverlayClick(zt))})("@overlayAnimation.start",function(zt){e.CHM(vt);const Ut=e.oxw();return e.KtG(Ut.onOverlayAnimationStart(zt))})("@overlayAnimation.done",function(zt){e.CHM(vt);const Ut=e.oxw();return e.KtG(Ut.onOverlayAnimationEnd(zt))}),e.TgZ(2,"ul",3),e.YNc(3,Y,1,1,null,4),e.YNc(4,be,1,1,null,4),e.qZA()()}if(2&it){const vt=e.oxw();e.Tol(vt.styleClass),e.Q6J("ngClass",e.VKq(8,Ge,vt.popup))("ngStyle",vt.style)("@overlayAnimation",e.VKq(13,xe,e.WLB(10,ee,vt.showTransitionOptions,vt.hideTransitionOptions)))("@.disabled",!0!==vt.popup),e.xp6(3),e.Q6J("ngIf",vt.hasSubMenu()),e.xp6(1),e.Q6J("ngIf",!vt.hasSubMenu())}}let Pe=(()=>{class it{constructor(vt){this.menu=vt}onItemKeyDown(vt){let Wt=vt.currentTarget.parentElement;switch(vt.code){case"ArrowDown":var zt=this.findNextItem(Wt);zt&&zt.children[0].focus(),vt.preventDefault();break;case"ArrowUp":var Ut=this.findPrevItem(Wt);Ut&&Ut.children[0].focus(),vt.preventDefault();break;case"Space":case"Enter":Wt&&!f.p.hasClass(Wt,"p-disabled")&&Wt.children[0].click(),vt.preventDefault()}}findNextItem(vt){let Wt=vt.nextElementSibling;return Wt?f.p.hasClass(Wt,"p-disabled")||!f.p.hasClass(Wt,"p-menuitem")?this.findNextItem(Wt):Wt:null}findPrevItem(vt){let Wt=vt.previousElementSibling;return Wt?f.p.hasClass(Wt,"p-disabled")||!f.p.hasClass(Wt,"p-menuitem")?this.findPrevItem(Wt):Wt:null}}return it.\u0275fac=function(vt){return new(vt||it)(e.Y36((0,e.Gpc)(()=>dt)))},it.\u0275cmp=e.Xpm({type:it,selectors:[["","pMenuItemContent",""]],hostAttrs:[1,"p-element"],inputs:{item:["pMenuItemContent","item"]},attrs:L,decls:2,vars:2,consts:[["class","p-menuitem-link","role","menuitem",3,"target","ngClass","keydown","click",4,"ngIf"],["class","p-menuitem-link","role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click",4,"ngIf"],["role","menuitem",1,"p-menuitem-link",3,"target","ngClass","keydown","click"],["class","p-menuitem-icon",3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],["role","menuitem","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click"],["class","p-menuitem-icon",3,"ngClass",4,"ngIf"],["htmlRouteLabel",""],[1,"p-menuitem-icon",3,"ngClass"]],template:function(vt,Wt){1&vt&&(e.YNc(0,k,6,14,"a",0),e.YNc(1,S,6,23,"a",1)),2&vt&&(e.Q6J("ngIf",!Wt.item.routerLink),e.xp6(1),e.Q6J("ngIf",Wt.item.routerLink))},dependencies:[u.mk,u.O5,u.PC,P.yS,P.Od,x.H],encapsulation:2}),it})(),dt=(()=>{class it{constructor(vt,Wt,zt,Ut,ct){this.el=vt,this.renderer=Wt,this.cd=zt,this.config=Ut,this.overlayService=ct,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new e.vpe,this.onHide=new e.vpe}toggle(vt){this.visible?this.hide():this.show(vt),this.preventDocumentDefault=!0}show(vt){this.target=vt.currentTarget,this.relativeAlign=vt.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(vt){switch(vt.toState){case"visible":this.popup&&(this.container=vt.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.onOverlayHide(),this.onHide.emit({})}}onOverlayAnimationEnd(vt){"void"===vt.toState&&this.autoZIndex&&_.P9.clear(vt.element)}alignOverlay(){this.relativeAlign?f.p.relativePosition(this.container,this.target):f.p.absolutePosition(this.container,this.target)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):f.p.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}moveOnTop(){this.autoZIndex&&_.P9.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.markForCheck()}onWindowResize(){this.visible&&!f.p.isTouchDevice()&&this.hide()}itemClick(vt,Wt){Wt.disabled?vt.preventDefault():(!Wt.url&&!Wt.routerLink&&vt.preventDefault(),Wt.command&&Wt.command({originalEvent:vt,item:Wt}),this.popup&&this.hide())}onOverlayClick(vt){this.popup&&this.overlayService.add({originalEvent:vt,target:this.el.nativeElement}),this.preventDocumentDefault=!0}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.preventDocumentDefault||this.hide(),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new f.V(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&_.P9.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide())}hasSubMenu(){if(this.model)for(var vt of this.model)if(vt.items)return!0;return!1}}return it.\u0275fac=function(vt){return new(vt||it)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(R.b4),e.Y36(R.F0))},it.\u0275cmp=e.Xpm({type:it,selectors:[["p-menu"]],viewQuery:function(vt,Wt){if(1&vt&&e.Gf(O,5),2&vt){let zt;e.iGM(zt=e.CRH())&&(Wt.containerViewChild=zt.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["container",""],["role","menu",1,"p-menu-list","p-reset"],[4,"ngIf"],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["class","p-submenu-header","pTooltip","","role","none",3,"ngClass","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["pTooltip","","role","none",1,"p-submenu-header",3,"ngClass","tooltipOptions"],[4,"ngIf","ngIfElse"],["htmlSubmenuLabel",""],[3,"innerHTML"],["class","p-menuitem","pTooltip","","role","none",3,"pMenuItemContent","ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],["pTooltip","","role","none",1,"p-menuitem",3,"pMenuItemContent","ngClass","ngStyle","tooltipOptions"]],template:function(vt,Wt){1&vt&&e.YNc(0,we,5,15,"div",0),2&vt&&e.Q6J("ngIf",!Wt.popup||Wt.visible)},dependencies:[u.mk,u.sg,u.O5,u.PC,a.u,Pe],styles:[".p-menu-overlay{position:absolute;top:0;left:0}.p-menu ul{margin:0;padding:0;list-style:none}.p-menu .p-submenu-header{align-items:center}.p-menu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menu .p-menuitem-text{line-height:1}\n"],encapsulation:2,data:{animation:[(0,d.X$)("overlayAnimation",[(0,d.eR)(":enter",[(0,d.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,d.jt)("{{showTransitionParams}}")]),(0,d.eR)(":leave",[(0,d.jt)("{{hideTransitionParams}}",(0,d.oB)({opacity:0}))])])]},changeDetection:0}),it})(),bt=(()=>{class it{}return it.\u0275fac=function(vt){return new(vt||it)},it.\u0275mod=e.oAB({type:it}),it.\u0275inj=e.cJS({imports:[u.ez,P.Bz,x.T,a.z,P.Bz,a.z]}),it})()},7172:(hn,ht,b)=>{"use strict";b.d(ht,{W6:()=>we,nm:()=>xe});var e=b(5e3),d=b(9808),u=b(5921),f=b(9783),_=b(3470),P=b(5787),x=b(4119);const a=function(Pe){return{"p-hidden":Pe}};function R(Pe,dt){if(1&Pe&&e._UZ(0,"li",4),2&Pe){const bt=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,a,!1===bt.visible))}}function L(Pe,dt){if(1&Pe&&e._UZ(0,"span",16),2&Pe){const bt=e.oxw(3).$implicit;e.Q6J("ngClass",bt.icon)("ngStyle",bt.iconStyle)}}function V(Pe,dt){if(1&Pe&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&Pe){const bt=e.oxw(3).$implicit;e.xp6(1),e.Oqu(bt.label)}}function F(Pe,dt){if(1&Pe&&e._UZ(0,"span",18),2&Pe){const bt=e.oxw(3).$implicit;e.Q6J("innerHTML",bt.label,e.oJD)}}function T(Pe,dt){if(1&Pe&&(e.TgZ(0,"span",19),e._uU(1),e.qZA()),2&Pe){const bt=e.oxw(3).$implicit;e.Q6J("ngClass",bt.badgeStyleClass),e.xp6(1),e.Oqu(bt.badge)}}const y=function(Pe,dt){return{"pi-angle-down":Pe,"pi-angle-right":dt}};function D(Pe,dt){if(1&Pe&&e._UZ(0,"span",20),2&Pe){const bt=e.oxw(4);e.Q6J("ngClass",e.WLB(1,y,bt.root,!bt.root))}}const k=function(Pe){return{"p-menuitem-link":!0,"p-disabled":Pe}};function B(Pe,dt){if(1&Pe){const bt=e.EpF();e.TgZ(0,"a",10),e.NdJ("click",function(Dt){e.CHM(bt);const vt=e.oxw(2).$implicit,Wt=e.oxw();return e.KtG(Wt.onItemClick(Dt,vt))})("mouseenter",function(Dt){e.CHM(bt);const vt=e.oxw(2).$implicit,Wt=e.oxw();return e.KtG(Wt.onItemMouseEnter(Dt,vt))}),e.YNc(1,L,1,2,"span",11),e.YNc(2,V,2,1,"span",12),e.YNc(3,F,1,1,"ng-template",null,13,e.W1O),e.YNc(5,T,2,2,"span",14),e.YNc(6,D,1,4,"span",15),e.qZA()}if(2&Pe){const bt=e.MAs(4),it=e.oxw(2).$implicit,Dt=e.oxw();e.Q6J("target",it.target)("ngClass",e.VKq(14,k,it.disabled)),e.uIk("href",it.url,e.LSH)("data-automationid",it.automationId)("title",it.title)("id",it.id)("tabindex",it.disabled?null:"0")("aria-haspopup",null!=Dt.item.items)("aria-expanded",Dt.item===Dt.activeItem),e.xp6(1),e.Q6J("ngIf",it.icon),e.xp6(1),e.Q6J("ngIf",!1!==it.escape)("ngIfElse",bt),e.xp6(3),e.Q6J("ngIf",it.badge),e.xp6(1),e.Q6J("ngIf",it.items)}}function N(Pe,dt){if(1&Pe&&e._UZ(0,"span",16),2&Pe){const bt=e.oxw(3).$implicit;e.Q6J("ngClass",bt.icon)("ngStyle",bt.iconStyle)}}function ce(Pe,dt){if(1&Pe&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&Pe){const bt=e.oxw(3).$implicit;e.xp6(1),e.Oqu(bt.label)}}function $(Pe,dt){if(1&Pe&&e._UZ(0,"span",18),2&Pe){const bt=e.oxw(3).$implicit;e.Q6J("innerHTML",bt.label,e.oJD)}}function z(Pe,dt){if(1&Pe&&(e.TgZ(0,"span",19),e._uU(1),e.qZA()),2&Pe){const bt=e.oxw(3).$implicit;e.Q6J("ngClass",bt.badgeStyleClass),e.xp6(1),e.Oqu(bt.badge)}}function S(Pe,dt){if(1&Pe&&e._UZ(0,"span",20),2&Pe){const bt=e.oxw(4);e.Q6J("ngClass",e.WLB(1,y,bt.root,!bt.root))}}const O=function(){return{exact:!1}};function K(Pe,dt){if(1&Pe){const bt=e.EpF();e.TgZ(0,"a",21),e.NdJ("click",function(Dt){e.CHM(bt);const vt=e.oxw(2).$implicit,Wt=e.oxw();return e.KtG(Wt.onItemClick(Dt,vt))})("mouseenter",function(Dt){e.CHM(bt);const vt=e.oxw(2).$implicit,Wt=e.oxw();return e.KtG(Wt.onItemMouseEnter(Dt,vt))}),e.YNc(1,N,1,2,"span",11),e.YNc(2,ce,2,1,"span",12),e.YNc(3,$,1,1,"ng-template",null,22,e.W1O),e.YNc(5,z,2,2,"span",14),e.YNc(6,S,1,4,"span",15),e.qZA()}if(2&Pe){const bt=e.MAs(4),it=e.oxw(2).$implicit;e.Q6J("routerLink",it.routerLink)("queryParams",it.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",it.routerLinkActiveOptions||e.DdM(21,O))("target",it.target)("ngClass",e.VKq(22,k,it.disabled))("fragment",it.fragment)("queryParamsHandling",it.queryParamsHandling)("preserveFragment",it.preserveFragment)("skipLocationChange",it.skipLocationChange)("replaceUrl",it.replaceUrl)("state",it.state),e.uIk("data-automationid",it.automationId)("title",it.title)("id",it.id)("tabindex",it.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",it.icon),e.xp6(1),e.Q6J("ngIf",!1!==it.escape)("ngIfElse",bt),e.xp6(3),e.Q6J("ngIf",it.badge),e.xp6(1),e.Q6J("ngIf",it.items)}}function ue(Pe,dt){if(1&Pe){const bt=e.EpF();e.TgZ(0,"p-menubarSub",23),e.NdJ("leafClick",function(){e.CHM(bt);const Dt=e.oxw(3);return e.KtG(Dt.onLeafClick())}),e.qZA()}if(2&Pe){const bt=e.oxw(2).$implicit,it=e.oxw();e.Q6J("parentActive",bt===it.activeItem)("item",bt)("mobileActive",it.mobileActive)("autoDisplay",it.autoDisplay)}}const q=function(Pe,dt){return{"p-menuitem":!0,"p-menuitem-active":Pe,"p-hidden":dt}};function G(Pe,dt){if(1&Pe&&(e.TgZ(0,"li",5,6),e.YNc(2,B,7,16,"a",7),e.YNc(3,K,7,24,"a",8),e.YNc(4,ue,1,4,"p-menubarSub",9),e.qZA()),2&Pe){const bt=e.oxw().$implicit,it=e.oxw();e.Tol(bt.styleClass),e.Q6J("ngClass",e.WLB(8,q,bt===it.activeItem,!1===bt.visible))("ngStyle",bt.style)("tooltipOptions",bt.tooltipOptions),e.xp6(2),e.Q6J("ngIf",!bt.routerLink),e.xp6(1),e.Q6J("ngIf",bt.routerLink),e.xp6(1),e.Q6J("ngIf",bt.items)}}function j(Pe,dt){if(1&Pe&&(e.YNc(0,R,1,3,"li",2),e.YNc(1,G,5,11,"li",3)),2&Pe){const bt=dt.$implicit;e.Q6J("ngIf",bt.separator),e.xp6(1),e.Q6J("ngIf",!bt.separator)}}const fe=function(Pe,dt){return{"p-submenu-list":Pe,"p-menubar-root-list":dt}},ne=["menubutton"],J=["rootmenu"];function X(Pe,dt){1&Pe&&e.GkF(0)}function W(Pe,dt){if(1&Pe&&(e.TgZ(0,"div",7),e.YNc(1,X,1,0,"ng-container",8),e.qZA()),2&Pe){const bt=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",bt.startTemplate)}}function Y(Pe,dt){if(1&Pe){const bt=e.EpF();e.TgZ(0,"a",9,10),e.NdJ("click",function(Dt){e.CHM(bt);const vt=e.oxw();return e.KtG(vt.toggle(Dt))}),e._UZ(2,"i",11),e.qZA()}}function Te(Pe,dt){1&Pe&&e.GkF(0)}function Ae(Pe,dt){if(1&Pe&&(e.TgZ(0,"div",12),e.YNc(1,Te,1,0,"ng-container",8),e.qZA()),2&Pe){const bt=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",bt.endTemplate)}}function Ke(Pe,dt){1&Pe&&(e.TgZ(0,"div",12),e.Hsn(1),e.qZA())}const be=function(Pe){return{"p-menubar p-component":!0,"p-menubar-mobile-active":Pe}},Ge=["*"];let ee=(()=>{class Pe{constructor(bt,it,Dt){this.el=bt,this.renderer=it,this.cd=Dt,this.autoZIndex=!0,this.baseZIndex=0,this.leafClick=new e.vpe,this.menuHoverActive=!1}get parentActive(){return this._parentActive}set parentActive(bt){this.root||(this._parentActive=bt,bt||(this.activeItem=null))}onItemClick(bt,it){it.disabled?bt.preventDefault():(!it.url&&!it.routerLink&&bt.preventDefault(),it.command&&it.command({originalEvent:bt,item:it}),it.items&&(this.activeItem&&it===this.activeItem?(this.activeItem=null,this.unbindDocumentClickListener()):(this.activeItem=it,this.root&&this.bindDocumentClickListener())),it.items||this.onLeafClick())}onItemMouseEnter(bt,it){it.disabled||this.mobileActive?bt.preventDefault():this.root?(this.activeItem||this.autoDisplay)&&(this.activeItem=it,this.bindDocumentClickListener()):(this.activeItem=it,this.bindDocumentClickListener())}onLeafClick(){this.activeItem=null,this.root&&this.unbindDocumentClickListener(),this.leafClick.emit()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=bt=>{this.el&&!this.el.nativeElement.contains(bt.target)&&(this.activeItem=null,this.cd.markForCheck(),this.unbindDocumentClickListener())},document.addEventListener("click",this.documentClickListener))}unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)}ngOnDestroy(){this.unbindDocumentClickListener()}}return Pe.\u0275fac=function(bt){return new(bt||Pe)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO))},Pe.\u0275cmp=e.Xpm({type:Pe,selectors:[["p-menubarSub"]],hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",mobileActive:"mobileActive",autoDisplay:"autoDisplay",parentActive:"parentActive"},outputs:{leafClick:"leafClick"},decls:2,vars:6,consts:[[3,"ngClass"],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["role","none","pTooltip","",3,"ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["role","none","pTooltip","",3,"ngClass","ngStyle","tooltipOptions"],["listItem",""],["role","menuitem","pRipple","",3,"target","ngClass","click","mouseenter",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","mouseenter",4,"ngIf"],[3,"parentActive","item","mobileActive","autoDisplay","leafClick",4,"ngIf"],["role","menuitem","pRipple","",3,"target","ngClass","click","mouseenter"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],["class","p-submenu-icon pi",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[1,"p-submenu-icon","pi",3,"ngClass"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","mouseenter"],["htmlRouteLabel",""],[3,"parentActive","item","mobileActive","autoDisplay","leafClick"]],template:function(bt,it){1&bt&&(e.TgZ(0,"ul",0),e.YNc(1,j,2,2,"ng-template",1),e.qZA()),2&bt&&(e.Q6J("ngClass",e.WLB(3,fe,!it.root,it.root)),e.uIk("role",it.root?"menubar":"menu"),e.xp6(1),e.Q6J("ngForOf",it.root?it.item:it.item.items))},dependencies:[d.mk,d.sg,d.O5,d.PC,_.yS,_.Od,P.H,x.u,Pe],encapsulation:2}),Pe})(),xe=(()=>{class Pe{constructor(bt,it,Dt,vt){this.el=bt,this.renderer=it,this.cd=Dt,this.config=vt,this.autoZIndex=!0,this.baseZIndex=0}ngAfterContentInit(){this.templates.forEach(bt=>{switch(bt.getType()){case"start":this.startTemplate=bt.template;break;case"end":this.endTemplate=bt.template}})}toggle(bt){this.mobileActive?(this.hide(),u.P9.clear(this.rootmenu.el.nativeElement)):(this.mobileActive=!0,u.P9.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu)),this.bindOutsideClickListener(),bt.preventDefault()}bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=bt=>{this.mobileActive&&this.rootmenu.el.nativeElement!==bt.target&&!this.rootmenu.el.nativeElement.contains(bt.target)&&this.menubutton.nativeElement!==bt.target&&!this.menubutton.nativeElement.contains(bt.target)&&this.hide()},document.addEventListener("click",this.outsideClickListener))}hide(){this.mobileActive=!1,this.cd.markForCheck(),u.P9.clear(this.rootmenu.el.nativeElement),this.unbindOutsideClickListener()}onLeafClick(){this.hide()}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}ngOnDestroy(){this.unbindOutsideClickListener()}}return Pe.\u0275fac=function(bt){return new(bt||Pe)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(f.b4))},Pe.\u0275cmp=e.Xpm({type:Pe,selectors:[["p-menubar"]],contentQueries:function(bt,it,Dt){if(1&bt&&e.Suo(Dt,f.jx,4),2&bt){let vt;e.iGM(vt=e.CRH())&&(it.templates=vt)}},viewQuery:function(bt,it){if(1&bt&&(e.Gf(ne,5),e.Gf(J,5)),2&bt){let Dt;e.iGM(Dt=e.CRH())&&(it.menubutton=Dt.first),e.iGM(Dt=e.CRH())&&(it.rootmenu=Dt.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",autoDisplay:"autoDisplay"},ngContentSelectors:Ge,decls:8,vars:15,consts:[[3,"ngClass","ngStyle"],["class","p-menubar-start",4,"ngIf"],["tabindex","0","class","p-menubar-button",3,"click",4,"ngIf"],["root","root",3,"item","baseZIndex","autoZIndex","mobileActive","autoDisplay","leafClick"],["rootmenu",""],["class","p-menubar-end",4,"ngIf","ngIfElse"],["legacy",""],[1,"p-menubar-start"],[4,"ngTemplateOutlet"],["tabindex","0",1,"p-menubar-button",3,"click"],["menubutton",""],[1,"pi","pi-bars"],[1,"p-menubar-end"]],template:function(bt,it){if(1&bt&&(e.F$t(),e.TgZ(0,"div",0),e.YNc(1,W,2,1,"div",1),e.YNc(2,Y,3,0,"a",2),e.TgZ(3,"p-menubarSub",3,4),e.NdJ("leafClick",function(){return it.onLeafClick()}),e.qZA(),e.YNc(5,Ae,2,1,"div",5),e.YNc(6,Ke,2,0,"ng-template",null,6,e.W1O),e.qZA()),2&bt){const Dt=e.MAs(7);e.Tol(it.styleClass),e.Q6J("ngClass",e.VKq(13,be,it.mobileActive))("ngStyle",it.style),e.xp6(1),e.Q6J("ngIf",it.startTemplate),e.xp6(1),e.Q6J("ngIf",it.model&&it.model.length>0),e.xp6(1),e.Q6J("item",it.model)("baseZIndex",it.baseZIndex)("autoZIndex",it.autoZIndex)("mobileActive",it.mobileActive)("autoDisplay",it.autoDisplay),e.xp6(2),e.Q6J("ngIf",it.endTemplate)("ngIfElse",Dt)}},dependencies:[d.mk,d.O5,d.tP,d.PC,ee],styles:[".p-menubar{display:flex;align-items:center}.p-menubar ul{margin:0;padding:0;list-style:none}.p-menubar .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menubar .p-menuitem-text{line-height:1}.p-menubar .p-menuitem{position:relative}.p-menubar-root-list{display:flex;align-items:center}.p-menubar-root-list>li ul{display:none;z-index:1}.p-menubar-root-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block}.p-menubar .p-submenu-list{display:none;position:absolute;z-index:1}.p-menubar .p-submenu-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block;left:100%;top:0}.p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-menubar .p-menubar-custom,.p-menubar .p-menubar-end{margin-left:auto;align-self:center}.p-menubar-button{display:none;cursor:pointer;align-items:center;justify-content:center}\n"],encapsulation:2,changeDetection:0}),Pe})(),we=(()=>{class Pe{}return Pe.\u0275fac=function(bt){return new(bt||Pe)},Pe.\u0275mod=e.oAB({type:Pe}),Pe.\u0275inj=e.cJS({imports:[d.ez,_.Bz,P.T,x.z,f.m8,_.Bz,x.z,f.m8]}),Pe})()},6526:(hn,ht,b)=>{"use strict";b.d(ht,{NU:()=>qt,q4:()=>gn});var e=b(9808),d=b(5e3),u=b(2382),f=b(9783),_=b(5730),P=b(8050),x=b(5787),a=b(5871),R=b(4119),L=b(5921);function V(Qt,Mn){if(1&Qt&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&Qt){const Nt=d.oxw();d.xp6(1),d.Oqu(Nt.label)}}function F(Qt,Mn){1&Qt&&d.GkF(0)}const T=function(Qt){return{height:Qt}},y=function(Qt,Mn){return{"p-highlight":Qt,"p-disabled":Mn}},D=function(Qt){return{"p-highlight":Qt}},k=function(Qt){return{"pi pi-check":Qt}},B=function(Qt){return{$implicit:Qt}},N=["container"],ce=["overlay"],$=["filterInput"],z=["in"],S=["items"],O=["scroller"];function K(Qt,Mn){if(1&Qt&&(d.ynx(0),d._uU(1),d.BQk()),2&Qt){const Nt=d.oxw(2);d.xp6(1),d.Oqu(Nt.valuesAsString||"empty")}}function ue(Qt,Mn){if(1&Qt){const Nt=d.EpF();d.TgZ(0,"span",20),d.NdJ("click",function(Bn){d.CHM(Nt);const Hn=d.oxw().$implicit,ai=d.oxw(3);return d.KtG(ai.removeChip(Hn,Bn))}),d.qZA()}}function q(Qt,Mn){if(1&Qt&&(d.TgZ(0,"div",16,17)(2,"span",18),d._uU(3),d.qZA(),d.YNc(4,ue,1,0,"span",19),d.qZA()),2&Qt){const Nt=Mn.$implicit,rn=d.oxw(3);d.xp6(3),d.Oqu(rn.findLabelByValue(Nt)),d.xp6(1),d.Q6J("ngIf",!rn.disabled)}}function G(Qt,Mn){if(1&Qt&&(d.ynx(0),d._uU(1),d.BQk()),2&Qt){const Nt=d.oxw(3);d.xp6(1),d.Oqu(Nt.placeholder||Nt.defaultLabel||"empty")}}function j(Qt,Mn){if(1&Qt&&(d.ynx(0),d.YNc(1,q,5,2,"div",15),d.YNc(2,G,2,1,"ng-container",7),d.BQk()),2&Qt){const Nt=d.oxw(2);d.xp6(1),d.Q6J("ngForOf",Nt.value),d.xp6(1),d.Q6J("ngIf",!Nt.value||0===Nt.value.length)}}function fe(Qt,Mn){if(1&Qt&&(d.ynx(0),d.YNc(1,K,2,1,"ng-container",7),d.YNc(2,j,3,2,"ng-container",7),d.BQk()),2&Qt){const Nt=d.oxw();d.xp6(1),d.Q6J("ngIf","comma"===Nt.display),d.xp6(1),d.Q6J("ngIf","chip"===Nt.display)}}function ne(Qt,Mn){1&Qt&&d.GkF(0)}function J(Qt,Mn){if(1&Qt){const Nt=d.EpF();d.TgZ(0,"i",21),d.NdJ("click",function(Bn){d.CHM(Nt);const Hn=d.oxw();return d.KtG(Hn.clear(Bn))}),d.qZA()}}function X(Qt,Mn){1&Qt&&d.GkF(0)}function W(Qt,Mn){1&Qt&&d.GkF(0)}const Y=function(Qt){return{options:Qt}};function Te(Qt,Mn){if(1&Qt&&(d.ynx(0),d.YNc(1,W,1,0,"ng-container",8),d.BQk()),2&Qt){const Nt=d.oxw(3);d.xp6(1),d.Q6J("ngTemplateOutlet",Nt.filterTemplate)("ngTemplateOutletContext",d.VKq(2,Y,Nt.filterOptions))}}const Ae=function(Qt){return{"p-checkbox-disabled":Qt}},Ke=function(Qt,Mn,Nt){return{"p-highlight":Qt,"p-focus":Mn,"p-disabled":Nt}};function be(Qt,Mn){if(1&Qt){const Nt=d.EpF();d.TgZ(0,"div",36)(1,"div",2)(2,"input",37),d.NdJ("focus",function(){d.CHM(Nt);const Bn=d.oxw(4);return d.KtG(Bn.onHeaderCheckboxFocus())})("blur",function(){d.CHM(Nt);const Bn=d.oxw(4);return d.KtG(Bn.onHeaderCheckboxBlur())})("keydown.space",function(Bn){d.CHM(Nt);const Hn=d.oxw(4);return d.KtG(Hn.toggleAll(Bn))}),d.qZA()(),d.TgZ(3,"div",38),d.NdJ("click",function(Bn){d.CHM(Nt);const Hn=d.oxw(4);return d.KtG(Hn.toggleAll(Bn))}),d._UZ(4,"span",39),d.qZA()()}if(2&Qt){const Nt=d.oxw(4);d.Q6J("ngClass",d.VKq(6,Ae,Nt.disabled||Nt.toggleAllDisabled)),d.xp6(2),d.Q6J("checked",Nt.allChecked)("disabled",Nt.disabled||Nt.toggleAllDisabled),d.xp6(1),d.Q6J("ngClass",d.kEZ(8,Ke,Nt.allChecked,Nt.headerCheckboxFocus,Nt.disabled||Nt.toggleAllDisabled)),d.uIk("aria-checked",Nt.allChecked),d.xp6(1),d.Q6J("ngClass",d.VKq(12,k,Nt.allChecked))}}function Ge(Qt,Mn){if(1&Qt){const Nt=d.EpF();d.TgZ(0,"div",40)(1,"input",41,42),d.NdJ("input",function(Bn){d.CHM(Nt);const Hn=d.oxw(4);return d.KtG(Hn.onFilterInputChange(Bn))}),d.qZA(),d._UZ(3,"span",43),d.qZA()}if(2&Qt){const Nt=d.oxw(4);d.xp6(1),d.Q6J("value",Nt.filterValue||"")("disabled",Nt.disabled),d.uIk("autocomplete",Nt.autocomplete)("placeholder",Nt.filterPlaceHolder)("aria-label",Nt.ariaFilterLabel)}}function ee(Qt,Mn){if(1&Qt){const Nt=d.EpF();d.YNc(0,be,5,14,"div",32),d.YNc(1,Ge,4,5,"div",33),d.TgZ(2,"button",34),d.NdJ("click",function(Bn){d.CHM(Nt);const Hn=d.oxw(3);return d.KtG(Hn.close(Bn))}),d._UZ(3,"span",35),d.qZA()}if(2&Qt){const Nt=d.oxw(3);d.Q6J("ngIf",Nt.showToggleAll&&!Nt.selectionLimit),d.xp6(1),d.Q6J("ngIf",Nt.filter)}}function xe(Qt,Mn){if(1&Qt&&(d.TgZ(0,"div",28),d.Hsn(1),d.YNc(2,X,1,0,"ng-container",29),d.YNc(3,Te,2,4,"ng-container",30),d.YNc(4,ee,4,2,"ng-template",null,31,d.W1O),d.qZA()),2&Qt){const Nt=d.MAs(5),rn=d.oxw(2);d.xp6(2),d.Q6J("ngTemplateOutlet",rn.headerTemplate),d.xp6(1),d.Q6J("ngIf",rn.filterTemplate)("ngIfElse",Nt)}}function we(Qt,Mn){1&Qt&&d.GkF(0)}const Pe=function(Qt,Mn){return{$implicit:Qt,options:Mn}};function dt(Qt,Mn){if(1&Qt&&d.YNc(0,we,1,0,"ng-container",8),2&Qt){const Nt=Mn.$implicit,rn=Mn.options;d.oxw(2);const Bn=d.MAs(6);d.Q6J("ngTemplateOutlet",Bn)("ngTemplateOutletContext",d.WLB(2,Pe,Nt,rn))}}function bt(Qt,Mn){1&Qt&&d.GkF(0)}function it(Qt,Mn){if(1&Qt&&d.YNc(0,bt,1,0,"ng-container",8),2&Qt){const Nt=Mn.options,rn=d.oxw(4);d.Q6J("ngTemplateOutlet",rn.loaderTemplate)("ngTemplateOutletContext",d.VKq(2,Y,Nt))}}function Dt(Qt,Mn){1&Qt&&(d.ynx(0),d.YNc(1,it,1,4,"ng-template",46),d.BQk())}function vt(Qt,Mn){if(1&Qt){const Nt=d.EpF();d.TgZ(0,"p-scroller",44,45),d.NdJ("onLazyLoad",function(Bn){d.CHM(Nt);const Hn=d.oxw(2);return d.KtG(Hn.onLazyLoad.emit(Bn))}),d.YNc(2,dt,1,5,"ng-template",14),d.YNc(3,Dt,2,0,"ng-container",7),d.qZA()}if(2&Qt){const Nt=d.oxw(2);d.Akn(d.VKq(9,T,Nt.scrollHeight)),d.Q6J("items",Nt.optionsToRender)("itemSize",Nt.virtualScrollItemSize||Nt._itemSize)("autoSize",!0)("tabindex",-1)("lazy",Nt.lazy)("options",Nt.virtualScrollOptions),d.xp6(3),d.Q6J("ngIf",Nt.loaderTemplate)}}function Wt(Qt,Mn){1&Qt&&d.GkF(0)}const zt=function(){return{}};function Ut(Qt,Mn){if(1&Qt&&(d.ynx(0),d.YNc(1,Wt,1,0,"ng-container",8),d.BQk()),2&Qt){d.oxw();const Nt=d.MAs(6),rn=d.oxw();d.xp6(1),d.Q6J("ngTemplateOutlet",Nt)("ngTemplateOutletContext",d.WLB(3,Pe,rn.optionsToRender,d.DdM(2,zt)))}}function ct(Qt,Mn){if(1&Qt&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&Qt){const Nt=d.oxw().$implicit,rn=d.oxw(4);d.xp6(1),d.Oqu(rn.getOptionGroupLabel(Nt)||"empty")}}function at(Qt,Mn){1&Qt&&d.GkF(0)}function me(Qt,Mn){1&Qt&&d.GkF(0)}function De(Qt,Mn){if(1&Qt&&(d.TgZ(0,"li",52),d.YNc(1,ct,2,1,"span",7),d.YNc(2,at,1,0,"ng-container",8),d.qZA(),d.YNc(3,me,1,0,"ng-container",8)),2&Qt){const Nt=Mn.$implicit,rn=d.oxw(2).options,Bn=d.MAs(5),Hn=d.oxw(2);d.Q6J("ngStyle",d.VKq(6,T,rn.itemSize+"px")),d.xp6(1),d.Q6J("ngIf",!Hn.groupTemplate),d.xp6(1),d.Q6J("ngTemplateOutlet",Hn.groupTemplate)("ngTemplateOutletContext",d.VKq(8,B,Nt)),d.xp6(1),d.Q6J("ngTemplateOutlet",Bn)("ngTemplateOutletContext",d.VKq(10,B,Hn.getOptionGroupChildren(Nt)))}}function ot(Qt,Mn){if(1&Qt&&(d.ynx(0),d.YNc(1,De,4,12,"ng-template",51),d.BQk()),2&Qt){const Nt=d.oxw().$implicit;d.xp6(1),d.Q6J("ngForOf",Nt)}}function Ct(Qt,Mn){1&Qt&&d.GkF(0)}function Ot(Qt,Mn){if(1&Qt&&(d.ynx(0),d.YNc(1,Ct,1,0,"ng-container",8),d.BQk()),2&Qt){const Nt=d.oxw().$implicit,rn=d.MAs(5);d.xp6(1),d.Q6J("ngTemplateOutlet",rn)("ngTemplateOutletContext",d.VKq(2,B,Nt))}}function Ft(Qt,Mn){if(1&Qt){const Nt=d.EpF();d.TgZ(0,"p-multiSelectItem",53),d.NdJ("onClick",function(Bn){d.CHM(Nt);const Hn=d.oxw(4);return d.KtG(Hn.onOptionClick(Bn))})("onKeydown",function(Bn){d.CHM(Nt);const Hn=d.oxw(4);return d.KtG(Hn.onOptionKeydown(Bn))}),d.qZA()}if(2&Qt){const Nt=Mn.$implicit,rn=d.oxw(2).options,Bn=d.oxw(2);d.Q6J("option",Nt)("selected",Bn.isSelected(Nt))("label",Bn.getOptionLabel(Nt))("disabled",Bn.isOptionDisabled(Nt))("template",Bn.itemTemplate)("itemSize",rn.itemSize)}}function Mt(Qt,Mn){1&Qt&&d.YNc(0,Ft,1,6,"ng-template",51),2&Qt&&d.Q6J("ngForOf",Mn.$implicit)}function Ye(Qt,Mn){if(1&Qt&&(d.ynx(0),d._uU(1),d.BQk()),2&Qt){const Nt=d.oxw(4);d.xp6(1),d.hij(" ",Nt.emptyFilterMessageLabel," ")}}function st(Qt,Mn){1&Qt&&d.GkF(0,null,55)}function je(Qt,Mn){if(1&Qt&&(d.TgZ(0,"li",54),d.YNc(1,Ye,2,1,"ng-container",30),d.YNc(2,st,2,0,"ng-container",29),d.qZA()),2&Qt){const Nt=d.oxw().options,rn=d.oxw(2);d.Q6J("ngStyle",d.VKq(4,T,Nt.itemSize+"px")),d.xp6(1),d.Q6J("ngIf",!rn.emptyFilterTemplate&&!rn.emptyTemplate)("ngIfElse",rn.emptyFilter),d.xp6(1),d.Q6J("ngTemplateOutlet",rn.emptyFilterTemplate||rn.emptyTemplate)}}function It(Qt,Mn){if(1&Qt&&(d.ynx(0),d._uU(1),d.BQk()),2&Qt){const Nt=d.oxw(4);d.xp6(1),d.hij(" ",Nt.emptyMessageLabel," ")}}function se(Qt,Mn){1&Qt&&d.GkF(0,null,56)}function Fe(Qt,Mn){if(1&Qt&&(d.TgZ(0,"li",54),d.YNc(1,It,2,1,"ng-container",30),d.YNc(2,se,2,0,"ng-container",29),d.qZA()),2&Qt){const Nt=d.oxw().options,rn=d.oxw(2);d.Q6J("ngStyle",d.VKq(4,T,Nt.itemSize+"px")),d.xp6(1),d.Q6J("ngIf",!rn.emptyTemplate)("ngIfElse",rn.empty),d.xp6(1),d.Q6J("ngTemplateOutlet",rn.emptyTemplate)}}function he(Qt,Mn){if(1&Qt&&(d.TgZ(0,"ul",47,48),d.YNc(2,ot,2,1,"ng-container",7),d.YNc(3,Ot,2,4,"ng-container",7),d.YNc(4,Mt,1,1,"ng-template",null,49,d.W1O),d.YNc(6,je,3,6,"li",50),d.YNc(7,Fe,3,6,"li",50),d.qZA()),2&Qt){const Nt=Mn.options,rn=d.oxw(2);d.Akn(Nt.contentStyle),d.Q6J("ngClass",Nt.contentStyleClass),d.xp6(2),d.Q6J("ngIf",rn.group),d.xp6(1),d.Q6J("ngIf",!rn.group),d.xp6(3),d.Q6J("ngIf",rn.hasFilter()&&rn.isEmpty()),d.xp6(1),d.Q6J("ngIf",!rn.hasFilter()&&rn.isEmpty())}}function gt(Qt,Mn){1&Qt&&d.GkF(0)}function cn(Qt,Mn){if(1&Qt&&(d.TgZ(0,"div",57),d.Hsn(1,1),d.YNc(2,gt,1,0,"ng-container",29),d.qZA()),2&Qt){const Nt=d.oxw(2);d.xp6(2),d.Q6J("ngTemplateOutlet",Nt.footerTemplate)}}const Tn=function(){return["p-multiselect-panel p-component"]};function en(Qt,Mn){if(1&Qt){const Nt=d.EpF();d.TgZ(0,"div",22),d.NdJ("keydown",function(Bn){d.CHM(Nt);const Hn=d.oxw();return d.KtG(Hn.onKeydown(Bn))}),d.YNc(1,xe,6,3,"div",23),d.TgZ(2,"div",24),d.YNc(3,vt,4,11,"p-scroller",25),d.YNc(4,Ut,2,6,"ng-container",7),d.YNc(5,he,8,7,"ng-template",null,26,d.W1O),d.qZA(),d.YNc(7,cn,3,1,"div",27),d.qZA()}if(2&Qt){const Nt=d.oxw();d.Tol(Nt.panelStyleClass),d.Q6J("ngClass",d.DdM(10,Tn))("ngStyle",Nt.panelStyle),d.xp6(1),d.Q6J("ngIf",Nt.showHeader),d.xp6(1),d.Udp("max-height",Nt.virtualScroll?"auto":Nt.scrollHeight||"auto"),d.xp6(1),d.Q6J("ngIf",Nt.virtualScroll),d.xp6(1),d.Q6J("ngIf",!Nt.virtualScroll),d.xp6(3),d.Q6J("ngIf",Nt.footerFacet||Nt.footerTemplate)}}const _t=[[["p-header"]],[["p-footer"]]],tt=function(Qt,Mn,Nt,rn){return{"p-multiselect p-component":!0,"p-multiselect-open":Qt,"p-multiselect-chip":Mn,"p-focus":Nt,"p-disabled":rn}},de=function(Qt,Mn){return{"p-placeholder":Qt,"p-multiselect-label-empty":Mn}},Qe=function(){return{"p-multiselect-trigger":!0}},ze=["p-header","p-footer"],Et={provide:u.JU,useExisting:(0,d.Gpc)(()=>qt),multi:!0};let Be=(()=>{class Qt{constructor(){this.onClick=new d.vpe,this.onKeydown=new d.vpe}onOptionClick(Nt){this.onClick.emit({originalEvent:Nt,option:this.option})}onOptionKeydown(Nt){this.onKeydown.emit({originalEvent:Nt,option:this.option})}}return Qt.\u0275fac=function(Nt){return new(Nt||Qt)},Qt.\u0275cmp=d.Xpm({type:Qt,selectors:[["p-multiSelectItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick",onKeydown:"onKeydown"},decls:6,vars:20,consts:[["pRipple","",1,"p-multiselect-item",3,"ngStyle","ngClass","click","keydown"],[1,"p-checkbox","p-component"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-checkbox-icon",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(Nt,rn){1&Nt&&(d.TgZ(0,"li",0),d.NdJ("click",function(Hn){return rn.onOptionClick(Hn)})("keydown",function(Hn){return rn.onOptionKeydown(Hn)}),d.TgZ(1,"div",1)(2,"div",2),d._UZ(3,"span",3),d.qZA()(),d.YNc(4,V,2,1,"span",4),d.YNc(5,F,1,0,"ng-container",5),d.qZA()),2&Nt&&(d.Q6J("ngStyle",d.VKq(9,T,rn.itemSize+"px"))("ngClass",d.WLB(11,y,rn.selected,rn.disabled)),d.uIk("aria-label",rn.label)("tabindex",rn.disabled?null:"0"),d.xp6(2),d.Q6J("ngClass",d.VKq(14,D,rn.selected)),d.xp6(1),d.Q6J("ngClass",d.VKq(16,k,rn.selected)),d.xp6(1),d.Q6J("ngIf",!rn.template),d.xp6(1),d.Q6J("ngTemplateOutlet",rn.template)("ngTemplateOutletContext",d.VKq(18,B,rn.option)))},dependencies:[e.mk,e.O5,e.tP,e.PC,x.H],encapsulation:2}),Qt})(),qt=(()=>{class Qt{constructor(Nt,rn,Bn,Hn,ai,vi,Ni){this.el=Nt,this.renderer=rn,this.cd=Bn,this.zone=Hn,this.filterService=ai,this.config=vi,this.overlayService=Ni,this.filter=!0,this.displaySelectedLabel=!0,this.maxSelectedLabels=3,this.selectedItemsLabel="ellipsis",this.showToggleAll=!0,this.emptyFilterMessage="",this.emptyMessage="",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.showHeader=!0,this.scrollHeight="200px",this.lazy=!1,this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.display="comma",this.autocomplete="on",this.showClear=!1,this.onChange=new d.vpe,this.onFilter=new d.vpe,this.onFocus=new d.vpe,this.onBlur=new d.vpe,this.onClick=new d.vpe,this.onClear=new d.vpe,this.onPanelShow=new d.vpe,this.onPanelHide=new d.vpe,this.onLazyLoad=new d.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get autoZIndex(){return this._autoZIndex}set autoZIndex(Nt){this._autoZIndex=Nt,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(Nt){this._baseZIndex=Nt,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(Nt){this._showTransitionOptions=Nt,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(Nt){this._hideTransitionOptions=Nt,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}set defaultLabel(Nt){this._defaultLabel=Nt,this.updateLabel()}get defaultLabel(){return this._defaultLabel}set placeholder(Nt){this._placeholder=Nt,this.updateLabel()}get placeholder(){return this._placeholder}get options(){return this._options}set options(Nt){this._options=Nt,this.updateLabel()}get filterValue(){return this._filterValue}set filterValue(Nt){this._filterValue=Nt,this.activateFilter()}get itemSize(){return this._itemSize}set itemSize(Nt){this._itemSize=Nt,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.updateLabel(),this.filterBy&&(this.filterOptions={filter:Nt=>this.onFilterInputChange(Nt),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(Nt=>{switch(Nt.getType()){case"item":default:this.itemTemplate=Nt.template;break;case"group":this.groupTemplate=Nt.template;break;case"selectedItems":this.selectedItemsTemplate=Nt.template;break;case"header":this.headerTemplate=Nt.template;break;case"filter":this.filterTemplate=Nt.template;break;case"emptyfilter":this.emptyFilterTemplate=Nt.template;break;case"empty":this.emptyTemplate=Nt.template;break;case"footer":this.footerTemplate=Nt.template;break;case"loader":this.loaderTemplate=Nt.template}})}ngAfterViewInit(){this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{var Nt;null===(Nt=this.overlayViewChild)||void 0===Nt||Nt.alignOverlay()},1)}),this.filtered=!1)}getOptionLabel(Nt){return this.optionLabel?L.gb.resolveFieldData(Nt,this.optionLabel):Nt&&null!=Nt.label?Nt.label:Nt}getOptionValue(Nt){return this.optionValue?L.gb.resolveFieldData(Nt,this.optionValue):!this.optionLabel&&Nt&&void 0!==Nt.value?Nt.value:Nt}getOptionGroupLabel(Nt){return this.optionGroupLabel?L.gb.resolveFieldData(Nt,this.optionGroupLabel):Nt&&null!=Nt.label?Nt.label:Nt}getOptionGroupChildren(Nt){return this.optionGroupChildren?L.gb.resolveFieldData(Nt,this.optionGroupChildren):Nt.items}isOptionDisabled(Nt){return(this.optionDisabled?L.gb.resolveFieldData(Nt,this.optionDisabled):!(!Nt||void 0===Nt.disabled)&&Nt.disabled)||this.maxSelectionLimitReached&&!this.isSelected(Nt)}writeValue(Nt){this.value=Nt,this.updateLabel(),this.updateFilledState(),this.checkSelectionLimit(),this.cd.markForCheck()}checkSelectionLimit(){this.maxSelectionLimitReached=!(!this.selectionLimit||!this.value||this.value.length!==this.selectionLimit)}updateFilledState(){this.filled=this.value&&this.value.length>0}registerOnChange(Nt){this.onModelChange=Nt}registerOnTouched(Nt){this.onModelTouched=Nt}setDisabledState(Nt){this.disabled=Nt,this.cd.markForCheck()}onOptionClick(Nt){let rn=Nt.option;if(this.isOptionDisabled(rn))return;let Bn=this.getOptionValue(rn),Hn=this.findSelectionIndex(Bn);-1!=Hn?(this.value=this.value.filter((ai,vi)=>vi!=Hn),this.selectionLimit&&(this.maxSelectionLimitReached=!1)):((!this.selectionLimit||!this.value||this.value.length<this.selectionLimit)&&(this.value=[...this.value||[],Bn]),this.checkSelectionLimit()),this.onModelChange(this.value),this.onChange.emit({originalEvent:Nt.originalEvent,value:this.value,itemValue:Bn}),this.updateLabel(),this.updateFilledState()}isSelected(Nt){return-1!=this.findSelectionIndex(this.getOptionValue(Nt))}findSelectionIndex(Nt){let rn=-1;if(this.value)for(let Bn=0;Bn<this.value.length;Bn++)if(L.gb.equals(this.value[Bn],Nt,this.dataKey)){rn=Bn;break}return rn}get toggleAllDisabled(){let Nt=this.optionsToRender;if(!Nt||0===Nt.length)return!0;for(let rn of Nt)if(!this.isOptionDisabled(rn))return!1;return!0}toggleAll(Nt){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:Nt,value:this.value}),this.updateFilledState(),this.updateLabel(),Nt.preventDefault())}checkAll(){let rn=[];this.optionsToRender.forEach(Bn=>{if(this.group){let Hn=this.getOptionGroupChildren(Bn);Hn&&Hn.forEach(ai=>{let vi=this.isOptionDisabled(ai);(!vi||vi&&this.isSelected(ai))&&rn.push(this.getOptionValue(ai))})}else{let Hn=this.isOptionDisabled(Bn);(!Hn||Hn&&this.isSelected(Bn))&&rn.push(this.getOptionValue(Bn))}}),this.value=rn}uncheckAll(){let rn=[];this.optionsToRender.forEach(Bn=>{this.group?Bn.items&&Bn.items.forEach(Hn=>{this.isOptionDisabled(Hn)&&this.isSelected(Hn)&&rn.push(this.getOptionValue(Hn))}):this.isOptionDisabled(Bn)&&this.isSelected(Bn)&&rn.push(this.getOptionValue(Bn))}),this.value=rn}show(){this.overlayVisible||(this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck())}onOverlayAnimationStart(Nt){var rn;switch(Nt.toState){case"visible":this.virtualScroll&&(null===(rn=this.scroller)||void 0===rn||rn.setContentEl(this.itemsViewChild.nativeElement)),this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit();break;case"void":this.onModelTouched()}}hide(){this.overlayVisible=!1,this.resetFilterOnHide&&this.resetFilter(),this.onPanelHide.emit(),this.cd.markForCheck()}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue=null,this._filteredOptions=null}close(Nt){this.hide(),Nt.preventDefault(),Nt.stopPropagation()}clear(Nt){this.value=null,this.updateLabel(),this.updateFilledState(),this.onClear.emit(),this.onModelChange(this.value),Nt.stopPropagation()}onMouseclick(Nt,rn){var Bn,Hn,ai;this.disabled||this.readonly||Nt.target.isSameNode(this.accessibleViewChild.nativeElement)||(this.onClick.emit(Nt),(null===(ai=null===(Hn=null===(Bn=this.overlayViewChild)||void 0===Bn?void 0:Bn.el)||void 0===Hn?void 0:Hn.nativeElement)||void 0===ai||!ai.contains(Nt.target))&&!_.p.hasClass(Nt.target,"p-multiselect-token-icon")&&(this.overlayVisible?this.hide():this.show(),rn.focus()))}removeChip(Nt,rn){this.value=this.value.filter(Bn=>!L.gb.equals(Bn,Nt,this.dataKey)),this.onModelChange(this.value),this.checkSelectionLimit(),this.onChange.emit({originalEvent:rn,value:this.value,itemValue:Nt}),this.updateLabel(),this.updateFilledState()}onInputFocus(Nt){this.focus=!0,this.onFocus.emit({originalEvent:Nt})}onInputBlur(Nt){this.focus=!1,this.onBlur.emit({originalEvent:Nt}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onOptionKeydown(Nt){if(!this.readonly)switch(Nt.originalEvent.which){case 40:var rn=this.findNextItem(Nt.originalEvent.target.parentElement);rn&&rn.focus(),Nt.originalEvent.preventDefault();break;case 38:var Bn=this.findPrevItem(Nt.originalEvent.target.parentElement);Bn&&Bn.focus(),Nt.originalEvent.preventDefault();break;case 13:this.onOptionClick(Nt),Nt.originalEvent.preventDefault();break;case 27:case 9:this.hide()}}findNextItem(Nt){let rn=Nt.nextElementSibling;return rn?_.p.hasClass(rn.children[0],"p-disabled")||_.p.isHidden(rn.children[0])||_.p.hasClass(rn,"p-multiselect-item-group")?this.findNextItem(rn):rn.children[0]:null}findPrevItem(Nt){let rn=Nt.previousElementSibling;return rn?_.p.hasClass(rn.children[0],"p-disabled")||_.p.isHidden(rn.children[0])||_.p.hasClass(rn,"p-multiselect-item-group")?this.findPrevItem(rn):rn.children[0]:null}onKeydown(Nt){switch(Nt.which){case 40:!this.overlayVisible&&Nt.altKey&&(this.show(),Nt.preventDefault());break;case 32:this.overlayVisible||(this.show(),Nt.preventDefault());break;case 27:this.hide()}}updateLabel(){if(this.value&&this.options&&this.value.length&&this.displaySelectedLabel){let Nt="";for(let rn=0;rn<this.value.length;rn++){let Bn=this.findLabelByValue(this.value[rn]);Bn&&(Nt.length>0&&(Nt+=", "),Nt+=Bn)}if(this.value.length<=this.maxSelectedLabels||"ellipsis"===this.selectedItemsLabel)this.valuesAsString=Nt;else{let rn=/{(.*?)}/;this.valuesAsString=rn.test(this.selectedItemsLabel)?this.selectedItemsLabel.replace(this.selectedItemsLabel.match(rn)[0],this.value.length+""):this.selectedItemsLabel}}else this.valuesAsString=this.placeholder||this.defaultLabel}findLabelByValue(Nt){if(this.group){let rn=null;for(let Bn=0;Bn<this.options.length;Bn++){let Hn=this.getOptionGroupChildren(this.options[Bn]);if(Hn&&(rn=this.searchLabelByValue(Nt,Hn),rn))break}return rn}return this.searchLabelByValue(Nt,this.options)}searchLabelByValue(Nt,rn){let Bn=null;for(let Hn=0;Hn<rn.length;Hn++){let ai=rn[Hn],vi=this.getOptionValue(ai);if(null==Nt&&null==vi||L.gb.equals(Nt,vi,this.dataKey)){Bn=this.getOptionLabel(ai);break}}return Bn}get allChecked(){let Nt=this.optionsToRender;if(!Nt||0===Nt.length)return!1;{let rn=0,Bn=0,Hn=0,ai=this.group?0:this.optionsToRender.length;for(let vi of Nt)if(this.group)for(let Ni of this.getOptionGroupChildren(vi)){let io=this.isOptionDisabled(Ni),Ho=this.isSelected(Ni);if(io)Ho?rn++:Bn++;else{if(!Ho)return!1;Hn++}ai++}else{let Ni=this.isOptionDisabled(vi),io=this.isSelected(vi);if(Ni)io?rn++:Bn++;else{if(!io)return!1;Hn++}}return ai===rn||ai===Hn||Hn&&ai===Hn+Bn+rn}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(f.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(f.ws.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(){return!this.optionsToRender||this.optionsToRender&&0===this.optionsToRender.length}onFilterInputChange(Nt){this._filterValue=Nt.target.value,this.activateFilter(),this.onFilter.emit({originalEvent:Nt,filter:this._filterValue}),this.cd.detectChanges()}activateFilter(){if(this.hasFilter()&&this._options){let Nt=(this.filterBy||this.optionLabel||"label").split(",");if(this.group){let rn=[];for(let Bn of this.options){let Hn=this.filterService.filter(this.getOptionGroupChildren(Bn),Nt,this.filterValue,this.filterMatchMode,this.filterLocale);Hn&&Hn.length&&rn.push(Object.assign(Object.assign({},Bn),{[this.optionGroupChildren]:Hn}))}this._filteredOptions=rn}else this._filteredOptions=this.filterService.filter(this.options,Nt,this._filterValue,this.filterMatchMode,this.filterLocale)}else this._filteredOptions=null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}}return Qt.\u0275fac=function(Nt){return new(Nt||Qt)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(d.R0b),d.Y36(f.iZ),d.Y36(f.b4),d.Y36(f.F0))},Qt.\u0275cmp=d.Xpm({type:Qt,selectors:[["p-multiSelect"]],contentQueries:function(Nt,rn,Bn){if(1&Nt&&(d.Suo(Bn,f.$_,5),d.Suo(Bn,f.h4,5),d.Suo(Bn,f.jx,4)),2&Nt){let Hn;d.iGM(Hn=d.CRH())&&(rn.footerFacet=Hn.first),d.iGM(Hn=d.CRH())&&(rn.headerFacet=Hn.first),d.iGM(Hn=d.CRH())&&(rn.templates=Hn)}},viewQuery:function(Nt,rn){if(1&Nt&&(d.Gf(N,5),d.Gf(ce,5),d.Gf($,5),d.Gf(z,5),d.Gf(S,5),d.Gf(O,5)),2&Nt){let Bn;d.iGM(Bn=d.CRH())&&(rn.containerViewChild=Bn.first),d.iGM(Bn=d.CRH())&&(rn.overlayViewChild=Bn.first),d.iGM(Bn=d.CRH())&&(rn.filterInputChild=Bn.first),d.iGM(Bn=d.CRH())&&(rn.accessibleViewChild=Bn.first),d.iGM(Bn=d.CRH())&&(rn.itemsViewChild=Bn.first),d.iGM(Bn=d.CRH())&&(rn.scroller=Bn.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(Nt,rn){2&Nt&&d.ekj("p-inputwrapper-filled",rn.filled)("p-inputwrapper-focus",rn.focus||rn.overlayVisible)("p-multiselect-clearable",rn.showClear&&!rn.disabled)},inputs:{style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:"disabled",readonly:"readonly",group:"group",filter:"filter",filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:"overlayVisible",tabindex:"tabindex",appendTo:"appendTo",dataKey:"dataKey",name:"name",label:"label",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:"selectionLimit",selectedItemsLabel:"selectedItemsLabel",showToggleAll:"showToggleAll",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:"showHeader",filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",display:"display",autocomplete:"autocomplete",showClear:"showClear",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue",itemSize:"itemSize"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad"},features:[d._Bn([Et])],ngContentSelectors:ze,decls:15,vars:41,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","readonly","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[1,"p-multiselect-label-container",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[1,"p-multiselect-label",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-multiselect-clear-icon pi pi-times",3,"click",4,"ngIf"],[3,"ngClass"],[1,"p-multiselect-trigger-icon",3,"ngClass"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],["class","p-multiselect-token",4,"ngFor","ngForOf"],[1,"p-multiselect-token"],["token",""],[1,"p-multiselect-token-label"],["class","p-multiselect-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-multiselect-token-icon","pi","pi-times-circle",3,"click"],[1,"p-multiselect-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle","keydown"],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-items-wrapper"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],["class","p-multiselect-footer",4,"ngIf"],[1,"p-multiselect-header"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],["type","button","pRipple","",1,"p-multiselect-close","p-link",3,"click"],[1,"p-multiselect-close-icon","pi","pi-times"],[1,"p-checkbox","p-component",3,"ngClass"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[1,"p-multiselect-filter-container"],["type","text","role","textbox",1,"p-multiselect-filter","p-inputtext","p-component",3,"value","disabled","input"],["filterInput",""],[1,"p-multiselect-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","tabindex","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-items","p-component",3,"ngClass"],["items",""],["itemslist",""],["class","p-multiselect-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-multiselect-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","itemSize","onClick","onKeydown"],[1,"p-multiselect-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""],[1,"p-multiselect-footer"]],template:function(Nt,rn){if(1&Nt){const Bn=d.EpF();d.F$t(_t),d.TgZ(0,"div",0,1),d.NdJ("click",function(ai){d.CHM(Bn);const vi=d.MAs(4);return d.KtG(rn.onMouseclick(ai,vi))}),d.TgZ(2,"div",2)(3,"input",3,4),d.NdJ("focus",function(ai){return rn.onInputFocus(ai)})("blur",function(ai){return rn.onInputBlur(ai)})("keydown",function(ai){return rn.onKeydown(ai)}),d.qZA()(),d.TgZ(5,"div",5)(6,"div",6),d.YNc(7,fe,3,2,"ng-container",7),d.YNc(8,ne,1,0,"ng-container",8),d.qZA(),d.YNc(9,J,1,0,"i",9),d.qZA(),d.TgZ(10,"div",10),d._UZ(11,"span",11),d.qZA(),d.TgZ(12,"p-overlay",12,13),d.NdJ("visibleChange",function(ai){return rn.overlayVisible=ai})("onAnimationStart",function(ai){return rn.onOverlayAnimationStart(ai)})("onHide",function(){return rn.hide()}),d.YNc(14,en,8,11,"ng-template",14),d.qZA()()}2&Nt&&(d.Tol(rn.styleClass),d.Q6J("ngClass",d.l5B(30,tt,rn.overlayVisible,"chip"===rn.display,rn.focus,rn.disabled))("ngStyle",rn.style),d.xp6(3),d.Q6J("disabled",rn.disabled),d.uIk("label",rn.label)("id",rn.inputId)("name",rn.name)("tabindex",rn.tabindex)("aria-expanded",rn.overlayVisible)("aria-labelledby",rn.ariaLabelledBy),d.xp6(2),d.Q6J("pTooltip",rn.tooltip)("tooltipPosition",rn.tooltipPosition)("positionStyle",rn.tooltipPositionStyle)("tooltipStyleClass",rn.tooltipStyleClass),d.xp6(1),d.Q6J("ngClass",d.WLB(35,de,rn.valuesAsString===(rn.defaultLabel||rn.placeholder),!(null!=rn.valuesAsString&&0!==rn.valuesAsString.length||null!=rn.placeholder&&0!==rn.placeholder.length))),d.xp6(1),d.Q6J("ngIf",!rn.selectedItemsTemplate),d.xp6(1),d.Q6J("ngTemplateOutlet",rn.selectedItemsTemplate)("ngTemplateOutletContext",d.VKq(38,B,rn.value)),d.xp6(1),d.Q6J("ngIf",null!=rn.value&&rn.filled&&!rn.disabled&&rn.showClear),d.xp6(1),d.Q6J("ngClass",d.DdM(40,Qe)),d.xp6(1),d.Q6J("ngClass",rn.dropdownIcon),d.xp6(1),d.Q6J("visible",rn.overlayVisible)("options",rn.overlayOptions)("target","@parent")("appendTo",rn.appendTo)("autoZIndex",rn.autoZIndex)("baseZIndex",rn.baseZIndex)("showTransitionOptions",rn.showTransitionOptions)("hideTransitionOptions",rn.hideTransitionOptions))},dependencies:[e.mk,e.sg,e.O5,e.tP,e.PC,P.aV,f.jx,R.u,x.H,a.T,Be],styles:[".p-multiselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-multiselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-multiselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer}.p-multiselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-multiselect-chip .p-multiselect-label{display:flex}.p-multiselect-label-empty{overflow:hidden;visibility:hidden}.p-multiselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-multiselect-token-icon{cursor:pointer}.p-multiselect-items-wrapper{overflow:auto}.p-multiselect-items{margin:0;padding:0;list-style-type:none}.p-multiselect-item{cursor:pointer;display:flex;align-items:center;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-multiselect-header{display:flex;align-items:center;justify-content:space-between}.p-multiselect-filter-container{position:relative;flex:1 1 auto}.p-multiselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-multiselect-filter-container .p-inputtext{width:100%}.p-multiselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative}.p-fluid .p-multiselect{display:flex}.p-multiselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-multiselect-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),Qt})(),gn=(()=>{class Qt{}return Qt.\u0275fac=function(Nt){return new(Nt||Qt)},Qt.\u0275mod=d.oAB({type:Qt}),Qt.\u0275inj=d.cJS({imports:[e.ez,P.U8,f.m8,R.z,x.T,a.v,P.U8,f.m8,a.v]}),Qt})()},8050:(hn,ht,b)=>{"use strict";b.d(ht,{U8:()=>O,aV:()=>S});var e=b(1777),d=b(9808),u=b(5e3),f=b(2382),_=b(9783),P=b(5730),x=b(5921);const a=["overlay"],R=["content"];function L(K,ue){1&K&&u.GkF(0)}const V=function(K,ue,q){return{showTransitionParams:K,hideTransitionParams:ue,transform:q}},F=function(K){return{value:"visible",params:K}},T=function(K){return{mode:K}},y=function(K){return{$implicit:K}};function D(K,ue){if(1&K){const q=u.EpF();u.TgZ(0,"div",1,3),u.NdJ("click",function(j){u.CHM(q);const fe=u.oxw(2);return u.KtG(fe.onOverlayContentClick(j))})("@overlayContentAnimation.start",function(j){u.CHM(q);const fe=u.oxw(2);return u.KtG(fe.onOverlayContentAnimationStart(j))})("@overlayContentAnimation.done",function(j){u.CHM(q);const fe=u.oxw(2);return u.KtG(fe.onOverlayContentAnimationDone(j))}),u.Hsn(2),u.YNc(3,L,1,0,"ng-container",4),u.qZA()}if(2&K){const q=u.oxw(2);u.Tol(q.contentStyleClass),u.Q6J("ngStyle",q.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",u.VKq(11,F,u.kEZ(7,V,q.showTransitionOptions,q.hideTransitionOptions,q.transformOptions[q.modal?q.overlayResponsiveDirection:"default"]))),u.xp6(3),u.Q6J("ngTemplateOutlet",q.contentTemplate)("ngTemplateOutletContext",u.VKq(15,y,u.VKq(13,T,q.overlayMode)))}}const k=function(K,ue,q,G,j,fe,ne,J,X,W,Y,Te,Ae,Ke){return{"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":K,"p-overlay-center":ue,"p-overlay-top":q,"p-overlay-top-start":G,"p-overlay-top-end":j,"p-overlay-bottom":fe,"p-overlay-bottom-start":ne,"p-overlay-bottom-end":J,"p-overlay-left":X,"p-overlay-left-start":W,"p-overlay-left-end":Y,"p-overlay-right":Te,"p-overlay-right-start":Ae,"p-overlay-right-end":Ke}};function B(K,ue){if(1&K){const q=u.EpF();u.TgZ(0,"div",1,2),u.NdJ("click",function(j){u.CHM(q);const fe=u.oxw();return u.KtG(fe.onOverlayClick(j))}),u.YNc(2,D,4,17,"div",0),u.qZA()}if(2&K){const q=u.oxw();u.Tol(q.styleClass),u.Q6J("ngStyle",q.style)("ngClass",u.rFY(5,k,[q.modal,q.modal&&"center"===q.overlayResponsiveDirection,q.modal&&"top"===q.overlayResponsiveDirection,q.modal&&"top-start"===q.overlayResponsiveDirection,q.modal&&"top-end"===q.overlayResponsiveDirection,q.modal&&"bottom"===q.overlayResponsiveDirection,q.modal&&"bottom-start"===q.overlayResponsiveDirection,q.modal&&"bottom-end"===q.overlayResponsiveDirection,q.modal&&"left"===q.overlayResponsiveDirection,q.modal&&"left-start"===q.overlayResponsiveDirection,q.modal&&"left-end"===q.overlayResponsiveDirection,q.modal&&"right"===q.overlayResponsiveDirection,q.modal&&"right-start"===q.overlayResponsiveDirection,q.modal&&"right-end"===q.overlayResponsiveDirection])),u.xp6(2),u.Q6J("ngIf",q.visible)}}const N=["*"],ce={provide:f.JU,useExisting:(0,u.Gpc)(()=>S),multi:!0},$=(0,e.oQ)([(0,e.oB)({transform:"{{transform}}",opacity:0}),(0,e.jt)("{{showTransitionParams}}")]),z=(0,e.oQ)([(0,e.jt)("{{hideTransitionParams}}",(0,e.oB)({transform:"{{transform}}",opacity:0}))]);let S=(()=>{class K{constructor(q,G,j,fe,ne,J){this.document=q,this.el=G,this.renderer=j,this.config=fe,this.overlayService=ne,this.cd=J,this.visibleChange=new u.vpe,this.onBeforeShow=new u.vpe,this.onShow=new u.vpe,this.onBeforeHide=new u.vpe,this.onHide=new u.vpe,this.onAnimationStart=new u.vpe,this.onAnimationDone=new u.vpe,this._visible=!1,this.modalVisible=!1,this.isOverlayClicked=!1,this.isOverlayContentClicked=!1,this.transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"},this.window=this.document.defaultView}get visible(){return this._visible}set visible(q){this._visible=q,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){var q;return this._mode||(null===(q=this.overlayOptions)||void 0===q?void 0:q.mode)}set mode(q){this._mode=q}get style(){var q,G;return x.gb.merge(this._style,this.modal?null===(q=this.overlayResponsiveOptions)||void 0===q?void 0:q.style:null===(G=this.overlayOptions)||void 0===G?void 0:G.style)}set style(q){this._style=q}get styleClass(){var q,G;return x.gb.merge(this._styleClass,this.modal?null===(q=this.overlayResponsiveOptions)||void 0===q?void 0:q.styleClass:null===(G=this.overlayOptions)||void 0===G?void 0:G.styleClass)}set styleClass(q){this._styleClass=q}get contentStyle(){var q,G;return x.gb.merge(this._contentStyle,this.modal?null===(q=this.overlayResponsiveOptions)||void 0===q?void 0:q.contentStyle:null===(G=this.overlayOptions)||void 0===G?void 0:G.contentStyle)}set contentStyle(q){this._contentStyle=q}get contentStyleClass(){var q,G;return x.gb.merge(this._contentStyleClass,this.modal?null===(q=this.overlayResponsiveOptions)||void 0===q?void 0:q.contentStyleClass:null===(G=this.overlayOptions)||void 0===G?void 0:G.contentStyleClass)}set contentStyleClass(q){this._contentStyleClass=q}get target(){var q;const G=this._target||(null===(q=this.overlayOptions)||void 0===q?void 0:q.target);return void 0===G?"@prev":G}set target(q){this._target=q}get appendTo(){var q;return this._appendTo||(null===(q=this.overlayOptions)||void 0===q?void 0:q.appendTo)}set appendTo(q){this._appendTo=q}get autoZIndex(){var q;const G=this._autoZIndex||(null===(q=this.overlayOptions)||void 0===q?void 0:q.autoZIndex);return void 0===G||G}set autoZIndex(q){this._autoZIndex=q}get baseZIndex(){var q;const G=this._baseZIndex||(null===(q=this.overlayOptions)||void 0===q?void 0:q.baseZIndex);return void 0===G?0:G}set baseZIndex(q){this._baseZIndex=q}get showTransitionOptions(){var q;const G=this._showTransitionOptions||(null===(q=this.overlayOptions)||void 0===q?void 0:q.showTransitionOptions);return void 0===G?".12s cubic-bezier(0, 0, 0.2, 1)":G}set showTransitionOptions(q){this._showTransitionOptions=q}get hideTransitionOptions(){var q;const G=this._hideTransitionOptions||(null===(q=this.overlayOptions)||void 0===q?void 0:q.hideTransitionOptions);return void 0===G?".1s linear":G}set hideTransitionOptions(q){this._hideTransitionOptions=q}get listener(){var q;return this._listener||(null===(q=this.overlayOptions)||void 0===q?void 0:q.listener)}set listener(q){this._listener=q}get responsive(){var q;return this._responsive||(null===(q=this.overlayOptions)||void 0===q?void 0:q.responsive)}set responsive(q){this._responsive=q}get options(){return this._options}set options(q){this._options=q}get modal(){var q,G;return"modal"===this.mode||this.overlayResponsiveOptions&&(null===(q=this.window)||void 0===q?void 0:q.matchMedia((null===(G=this.overlayResponsiveOptions.media)||void 0===G?void 0:G.replace("@media",""))||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches)}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){var q;return Object.assign(Object.assign({},null===(q=this.config)||void 0===q?void 0:q.overlayOptions),this.options)}get overlayResponsiveOptions(){var q;return Object.assign(Object.assign({},null===(q=this.overlayOptions)||void 0===q?void 0:q.responsive),this.responsive)}get overlayResponsiveDirection(){var q;return(null===(q=this.overlayResponsiveOptions)||void 0===q?void 0:q.direction)||"center"}get overlayEl(){var q;return null===(q=this.overlayViewChild)||void 0===q?void 0:q.nativeElement}get contentEl(){var q;return null===(q=this.contentViewChild)||void 0===q?void 0:q.nativeElement}get targetEl(){var q;return P.p.getTargetElement(this.target,null===(q=this.el)||void 0===q?void 0:q.nativeElement)}ngAfterContentInit(){var q;null===(q=this.templates)||void 0===q||q.forEach(G=>{G.getType(),this.contentTemplate=G.template})}show(q,G=!1){var j;this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:q||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),G&&P.p.focus(this.targetEl),this.modal&&P.p.addClass(null===(j=this.document)||void 0===j?void 0:j.body,"p-overflow-hidden")}hide(q,G=!1){var j;this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:q||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),G&&P.p.focus(this.targetEl),this.modal&&P.p.removeClass(null===(j=this.document)||void 0===j?void 0:j.body,"p-overflow-hidden")}alignOverlay(){!this.modal&&P.p.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(q){this._visible=q,this.visibleChange.emit(q)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(q){this.overlayService.add({originalEvent:q,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(q){var G;switch(q.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&x.P9.set(this.overlayMode,this.overlayEl,this.baseZIndex+(null===(G=this.config)||void 0===G?void 0:G.zIndex[this.overlayMode])),P.p.appendOverlay(this.overlayEl,"body"===this.appendTo?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&P.p.addClass(this.overlayEl,"p-component-overlay-leave")}this.handleEvents("onAnimationStart",q)}onOverlayContentAnimationDone(q){const G=this.overlayEl||q.element.parentElement;switch(q.toState){case"visible":this.show(G,!0),this.bindListeners();break;case"void":this.hide(G,!0),this.unbindListeners(),P.p.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),x.P9.clear(G),this.modalVisible=!1}this.handleEvents("onAnimationDone",q)}handleEvents(q,G){var j,fe,ne;this[q].emit(G),this.options&&this.options[q]&&this.options[q](G),(null===(j=this.config)||void 0===j?void 0:j.overlayOptions)&&(null===(fe=this.config)||void 0===fe?void 0:fe.overlayOptions[q])&&(null===(ne=this.config)||void 0===ne||ne.overlayOptions[q](G))}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new P.V(this.targetEl,q=>{(!this.listener||this.listener(q,{type:"scroll",mode:this.overlayMode,valid:!0}))&&this.hide(q,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",q=>{const j=!(this.targetEl&&(this.targetEl.isSameNode(q.target)||!this.isOverlayClicked&&this.targetEl.contains(q.target))||this.isOverlayContentClicked);(this.listener?this.listener(q,{type:"outside",mode:this.overlayMode,valid:3!==q.which&&j}):j)&&this.hide(q),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen("window","resize",q=>{(this.listener?this.listener(q,{type:"resize",mode:this.overlayMode,valid:!P.p.isTouchDevice()}):!P.p.isTouchDevice())&&this.hide(q,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(P.p.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),x.P9.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}}return K.\u0275fac=function(q){return new(q||K)(u.Y36(d.K0),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(_.b4),u.Y36(_.F0),u.Y36(u.sBO))},K.\u0275cmp=u.Xpm({type:K,selectors:[["p-overlay"]],contentQueries:function(q,G,j){if(1&q&&u.Suo(j,_.jx,4),2&q){let fe;u.iGM(fe=u.CRH())&&(G.templates=fe)}},viewQuery:function(q,G){if(1&q&&(u.Gf(a,5),u.Gf(R,5)),2&q){let j;u.iGM(j=u.CRH())&&(G.overlayViewChild=j.first),u.iGM(j=u.CRH())&&(G.contentViewChild=j.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[u._Bn([ce])],ngContentSelectors:N,decls:1,vars:1,consts:[[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"ngStyle","ngClass","click"],["overlay",""],["content",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(q,G){1&q&&(u.F$t(),u.YNc(0,B,3,20,"div",0)),2&q&&u.Q6J("ngIf",G.modalVisible)},dependencies:[d.mk,d.O5,d.tP,d.PC],styles:[".p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}\n"],encapsulation:2,data:{animation:[(0,e.X$)("overlayContentAnimation",[(0,e.eR)(":enter",[(0,e._7)($)]),(0,e.eR)(":leave",[(0,e._7)(z)])])]},changeDetection:0}),K})(),O=(()=>{class K{}return K.\u0275fac=function(q){return new(q||K)},K.\u0275mod=u.oAB({type:K}),K.\u0275inj=u.cJS({imports:[d.ez,_.m8,_.m8]}),K})()},3640:(hn,ht,b)=>{"use strict";b.d(ht,{T:()=>y,y:()=>D});var e=b(5e3),d=b(9808),u=b(5730),f=b(9783),_=b(5787),P=b(1777),x=b(5921);function a(k,B){1&k&&e.GkF(0)}function R(k,B){if(1&k){const N=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function($){e.CHM(N);const z=e.oxw(2);return e.KtG(z.onCloseClick($))})("keydown.enter",function(){e.CHM(N);const $=e.oxw(2);return e.KtG($.hide())}),e._UZ(1,"span",6),e.qZA()}if(2&k){const N=e.oxw(2);e.uIk("aria-label",N.ariaCloseLabel)}}const L=function(k,B){return{showTransitionParams:k,hideTransitionParams:B}},V=function(k,B){return{value:k,params:B}};function F(k,B){if(1&k){const N=e.EpF();e.TgZ(0,"div",1),e.NdJ("click",function($){e.CHM(N);const z=e.oxw();return e.KtG(z.onOverlayClick($))})("@animation.start",function($){e.CHM(N);const z=e.oxw();return e.KtG(z.onAnimationStart($))})("@animation.done",function($){e.CHM(N);const z=e.oxw();return e.KtG(z.onAnimationEnd($))}),e.TgZ(1,"div",2),e.NdJ("click",function(){e.CHM(N);const $=e.oxw();return e.KtG($.onContentClick())})("mousedown",function(){e.CHM(N);const $=e.oxw();return e.KtG($.onContentClick())}),e.Hsn(2),e.YNc(3,a,1,0,"ng-container",3),e.qZA(),e.YNc(4,R,2,1,"button",4),e.qZA()}if(2&k){const N=e.oxw();e.Tol(N.styleClass),e.Q6J("ngClass","p-overlaypanel p-component")("ngStyle",N.style)("@animation",e.WLB(10,V,N.overlayVisible?"open":"close",e.WLB(7,L,N.showTransitionOptions,N.hideTransitionOptions))),e.xp6(3),e.Q6J("ngTemplateOutlet",N.contentTemplate),e.xp6(1),e.Q6J("ngIf",N.showCloseIcon)}}const T=["*"];let y=(()=>{class k{constructor(N,ce,$,z,S,O){this.el=N,this.renderer=ce,this.cd=$,this.zone=z,this.config=S,this.overlayService=O,this.dismissable=!0,this.appendTo="body",this.autoZIndex=!0,this.baseZIndex=0,this.focusOnShow=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new e.vpe,this.onHide=new e.vpe,this.overlayVisible=!1,this.render=!1,this.isOverlayAnimationInProgress=!1,this.selfClick=!1}ngAfterContentInit(){this.templates.forEach(N=>{N.getType(),this.contentTemplate=N.template,this.cd.markForCheck()})}bindDocumentClickListener(){!this.documentClickListener&&this.dismissable&&this.zone.runOutsideAngular(()=>{let N=u.p.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document",N,$=>{!this.container.contains($.target)&&this.target!==$.target&&!this.target.contains($.target)&&!this.selfClick&&this.zone.run(()=>{this.hide()}),this.selfClick=!1,this.cd.markForCheck()})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(N,ce){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(N,ce)&&(this.destroyCallback=()=>{this.show(null,ce||N.currentTarget||N.target)}),this.hide()):this.show(N,ce))}show(N,ce){this.isOverlayAnimationInProgress||(this.target=ce||N.currentTarget||N.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(N){this.overlayService.add({originalEvent:N,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(){this.selfClick=!0}hasTargetChanged(N,ce){return null!=this.target&&this.target!==(ce||N.currentTarget||N.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):u.p.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}align(){this.autoZIndex&&x.P9.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),u.p.absolutePosition(this.container,this.target);const N=u.p.getOffset(this.container),ce=u.p.getOffset(this.target);let $=0;N.left<ce.left&&($=ce.left-N.left),this.container.style.setProperty("--overlayArrowLeft",`${$}px`),N.top<ce.top&&(u.p.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&(this.container.style.marginTop="30px"))}onAnimationStart(N){"open"===N.toState&&(this.container=N.element,this.onShow.emit(null),this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=ce=>{this.container&&this.container.contains(ce.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(N){switch(N.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&x.P9.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}this.isOverlayAnimationInProgress=!1}focus(){let N=u.p.findSingle(this.container,"[autofocus]");N&&this.zone.runOutsideAngular(()=>{setTimeout(()=>N.focus(),5)})}hide(){this.isOverlayAnimationInProgress||(this.overlayVisible=!1,this.cd.markForCheck())}onCloseClick(N){this.hide(),N.preventDefault()}onWindowResize(N){this.overlayVisible&&!u.p.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new u.V(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&x.P9.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}}return k.\u0275fac=function(N){return new(N||k)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(f.b4),e.Y36(f.F0))},k.\u0275cmp=e.Xpm({type:k,selectors:[["p-overlayPanel"]],contentQueries:function(N,ce,$){if(1&N&&e.Suo($,f.jx,4),2&N){let z;e.iGM(z=e.CRH())&&(ce.templates=z)}},hostAttrs:[1,"p-element"],inputs:{dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:T,decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[1,"p-overlaypanel-close-icon","pi","pi-times"]],template:function(N,ce){1&N&&(e.F$t(),e.YNc(0,F,5,13,"div",0)),2&N&&e.Q6J("ngIf",ce.render)},dependencies:[d.mk,d.O5,d.tP,d.PC,_.H],styles:['.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}\n'],encapsulation:2,data:{animation:[(0,P.X$)("animation",[(0,P.SB)("void",(0,P.oB)({transform:"scaleY(0.8)",opacity:0})),(0,P.SB)("close",(0,P.oB)({opacity:0})),(0,P.SB)("open",(0,P.oB)({transform:"translateY(0)",opacity:1})),(0,P.eR)("void => open",(0,P.jt)("{{showTransitionParams}}")),(0,P.eR)("open => close",(0,P.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),k})(),D=(()=>{class k{}return k.\u0275fac=function(N){return new(N||k)},k.\u0275mod=e.oAB({type:k}),k.\u0275inj=e.cJS({imports:[d.ez,_.T,f.m8,f.m8]}),k})()},4132:(hn,ht,b)=>{"use strict";b.d(ht,{D:()=>j,U:()=>fe});var e=b(5e3),d=b(9808),u=b(2382),f=b(4036),_=b(5787),P=b(9783),x=b(7010);function a(ne,J){1&ne&&e.GkF(0)}const R=function(ne){return{$implicit:ne}};function L(ne,J){if(1&ne&&(e.TgZ(0,"div",15),e.YNc(1,a,1,0,"ng-container",16),e.qZA()),2&ne){const X=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",X.templateLeft)("ngTemplateOutletContext",e.VKq(2,R,X.paginatorState))}}function V(ne,J){if(1&ne&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&ne){const X=e.oxw(2);e.xp6(1),e.Oqu(X.currentPageReport)}}const F=function(ne){return{"p-disabled":ne}};function T(ne,J){if(1&ne){const X=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(Y){e.CHM(X);const Te=e.oxw(2);return e.KtG(Te.changePageToFirst(Y))}),e._UZ(1,"span",19),e.qZA()}if(2&ne){const X=e.oxw(2);e.Q6J("disabled",X.isFirstPage()||X.empty())("ngClass",e.VKq(2,F,X.isFirstPage()||X.empty()))}}const y=function(ne){return{"p-highlight":ne}};function D(ne,J){if(1&ne){const X=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(Y){const Ae=e.CHM(X).$implicit,Ke=e.oxw(3);return e.KtG(Ke.onPageLinkClick(Y,Ae-1))}),e._uU(1),e.qZA()}if(2&ne){const X=J.$implicit,W=e.oxw(3);e.Q6J("ngClass",e.VKq(2,y,X-1==W.getPage())),e.xp6(1),e.hij(" ",X," ")}}function k(ne,J){if(1&ne&&(e.TgZ(0,"span",20),e.YNc(1,D,2,4,"button",21),e.qZA()),2&ne){const X=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",X.pageLinks)}}function B(ne,J){if(1&ne&&e._uU(0),2&ne){const X=e.oxw(3);e.Oqu(X.currentPageReport)}}function N(ne,J){if(1&ne){const X=e.EpF();e.TgZ(0,"p-dropdown",23),e.NdJ("onChange",function(Y){e.CHM(X);const Te=e.oxw(2);return e.KtG(Te.onPageDropdownChange(Y))}),e.YNc(1,B,1,1,"ng-template",24),e.qZA()}if(2&ne){const X=e.oxw(2);e.Q6J("options",X.pageItems)("ngModel",X.getPage())("disabled",X.empty())("appendTo",X.dropdownAppendTo)("scrollHeight",X.dropdownScrollHeight)}}function ce(ne,J){if(1&ne){const X=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(Y){e.CHM(X);const Te=e.oxw(2);return e.KtG(Te.changePageToLast(Y))}),e._UZ(1,"span",26),e.qZA()}if(2&ne){const X=e.oxw(2);e.Q6J("disabled",X.isLastPage()||X.empty())("ngClass",e.VKq(2,F,X.isLastPage()||X.empty()))}}function $(ne,J){if(1&ne){const X=e.EpF();e.TgZ(0,"p-inputNumber",27),e.NdJ("ngModelChange",function(Y){e.CHM(X);const Te=e.oxw(2);return e.KtG(Te.changePage(Y-1))}),e.qZA()}if(2&ne){const X=e.oxw(2);e.Q6J("ngModel",X.currentPage())("disabled",X.empty())}}function z(ne,J){1&ne&&e.GkF(0)}function S(ne,J){if(1&ne&&e.YNc(0,z,1,0,"ng-container",16),2&ne){const X=J.$implicit,W=e.oxw(4);e.Q6J("ngTemplateOutlet",W.dropdownItemTemplate)("ngTemplateOutletContext",e.VKq(2,R,X))}}function O(ne,J){1&ne&&(e.ynx(0),e.YNc(1,S,1,4,"ng-template",30),e.BQk())}function K(ne,J){if(1&ne){const X=e.EpF();e.TgZ(0,"p-dropdown",28),e.NdJ("ngModelChange",function(Y){e.CHM(X);const Te=e.oxw(2);return e.KtG(Te.rows=Y)})("onChange",function(Y){e.CHM(X);const Te=e.oxw(2);return e.KtG(Te.onRppChange(Y))}),e.YNc(1,O,2,0,"ng-container",29),e.qZA()}if(2&ne){const X=e.oxw(2);e.Q6J("options",X.rowsPerPageItems)("ngModel",X.rows)("disabled",X.empty())("appendTo",X.dropdownAppendTo)("scrollHeight",X.dropdownScrollHeight),e.xp6(1),e.Q6J("ngIf",X.dropdownItemTemplate)}}function ue(ne,J){1&ne&&e.GkF(0)}function q(ne,J){if(1&ne&&(e.TgZ(0,"div",31),e.YNc(1,ue,1,0,"ng-container",16),e.qZA()),2&ne){const X=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",X.templateRight)("ngTemplateOutletContext",e.VKq(2,R,X.paginatorState))}}function G(ne,J){if(1&ne){const X=e.EpF();e.TgZ(0,"div",1),e.YNc(1,L,2,4,"div",2),e.YNc(2,V,2,1,"span",3),e.YNc(3,T,2,4,"button",4),e.TgZ(4,"button",5),e.NdJ("click",function(Y){e.CHM(X);const Te=e.oxw();return e.KtG(Te.changePageToPrev(Y))}),e._UZ(5,"span",6),e.qZA(),e.YNc(6,k,2,1,"span",7),e.YNc(7,N,2,5,"p-dropdown",8),e.TgZ(8,"button",9),e.NdJ("click",function(Y){e.CHM(X);const Te=e.oxw();return e.KtG(Te.changePageToNext(Y))}),e._UZ(9,"span",10),e.qZA(),e.YNc(10,ce,2,4,"button",11),e.YNc(11,$,1,2,"p-inputNumber",12),e.YNc(12,K,2,6,"p-dropdown",13),e.YNc(13,q,2,4,"div",14),e.qZA()}if(2&ne){const X=e.oxw();e.Tol(X.styleClass),e.Q6J("ngStyle",X.style)("ngClass","p-paginator p-component"),e.xp6(1),e.Q6J("ngIf",X.templateLeft),e.xp6(1),e.Q6J("ngIf",X.showCurrentPageReport),e.xp6(1),e.Q6J("ngIf",X.showFirstLastIcon),e.xp6(1),e.Q6J("disabled",X.isFirstPage()||X.empty())("ngClass",e.VKq(17,F,X.isFirstPage()||X.empty())),e.xp6(2),e.Q6J("ngIf",X.showPageLinks),e.xp6(1),e.Q6J("ngIf",X.showJumpToPageDropdown),e.xp6(1),e.Q6J("disabled",X.isLastPage()||X.empty())("ngClass",e.VKq(19,F,X.isLastPage()||X.empty())),e.xp6(2),e.Q6J("ngIf",X.showFirstLastIcon),e.xp6(1),e.Q6J("ngIf",X.showJumpToPageInput),e.xp6(1),e.Q6J("ngIf",X.rowsPerPageOptions),e.xp6(1),e.Q6J("ngIf",X.templateRight)}}let j=(()=>{class ne{constructor(X){this.cd=X,this.pageLinkSize=5,this.onPageChange=new e.vpe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(X){X.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),X.first&&(this._first=X.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),X.rows&&(this.updatePageLinks(),this.updatePaginatorState()),X.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(X){this._first=X}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let X of this.rowsPerPageOptions)"object"==typeof X&&X.showAll?this.rowsPerPageItems.unshift({label:X.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(X),value:X})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let X=this.getPageCount(),W=Math.min(this.pageLinkSize,X),Y=Math.max(0,Math.ceil(this.getPage()-W/2)),Te=Math.min(X-1,Y+W-1);return Y=Math.max(0,Y-(this.pageLinkSize-(Te-Y+1))),[Y,Te]}updatePageLinks(){this.pageLinks=[];let X=this.calculatePageLinkBoundaries(),Y=X[1];for(let Te=X[0];Te<=Y;Te++)this.pageLinks.push(Te+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let Te=0;Te<this.getPageCount();Te++)this.pageItems.push({label:String(Te+1),value:Te})}}changePage(X){var W=this.getPageCount();if(X>=0&&X<W){this._first=this.rows*X;var Y={page:X,first:this.first,rows:this.rows,pageCount:W};this.updatePageLinks(),this.onPageChange.emit(Y),this.updatePaginatorState()}}updateFirst(){const X=this.getPage();X>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(X-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(X){this.isFirstPage()||this.changePage(0),X.preventDefault()}changePageToPrev(X){this.changePage(this.getPage()-1),X.preventDefault()}changePageToNext(X){this.changePage(this.getPage()+1),X.preventDefault()}changePageToLast(X){this.isLastPage()||this.changePage(this.getPageCount()-1),X.preventDefault()}onPageLinkClick(X,W){this.changePage(W),X.preventDefault()}onRppChange(X){this.changePage(this.getPage())}onPageDropdownChange(X){this.changePage(X.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return ne.\u0275fac=function(X){return new(X||ne)(e.Y36(e.sBO))},ne.\u0275cmp=e.Xpm({type:ne,selectors:[["p-paginator"]],hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[e.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(X,W){1&X&&e.YNc(0,G,14,21,"div",0),2&X&&e.Q6J("ngIf",!!W.alwaysShow||W.pageLinks&&W.pageLinks.length>1)},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,f.Lt,P.jx,x.Rn,u.JJ,u.On,_.H],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}\n"],encapsulation:2,changeDetection:0}),ne})(),fe=(()=>{class ne{}return ne.\u0275fac=function(X){return new(X||ne)},ne.\u0275mod=e.oAB({type:ne}),ne.\u0275inj=e.cJS({imports:[d.ez,f.kW,x.L$,u.u5,P.m8,_.T,f.kW,x.L$,u.u5,P.m8]}),ne})()},5132:(hn,ht,b)=>{"use strict";b.d(ht,{G:()=>Wt,f:()=>zt});var e=b(5e3),d=b(9808),u=b(845),f=b(9783),_=b(5730),P=b(5787),x=b(5573),a=b(5921);const R=["sourcelist"],L=["targetlist"],V=["sourceFilter"],F=["targetFilter"];function T(Ut,ct){if(1&Ut){const at=e.EpF();e.TgZ(0,"div",18)(1,"button",19),e.NdJ("click",function(){e.CHM(at);const De=e.oxw(),ot=e.MAs(6);return e.KtG(De.moveUp(ot,De.source,De.selectedItemsSource,De.onSourceReorder,De.SOURCE_LIST))}),e.qZA(),e.TgZ(2,"button",20),e.NdJ("click",function(){e.CHM(at);const De=e.oxw(),ot=e.MAs(6);return e.KtG(De.moveTop(ot,De.source,De.selectedItemsSource,De.onSourceReorder,De.SOURCE_LIST))}),e.qZA(),e.TgZ(3,"button",21),e.NdJ("click",function(){e.CHM(at);const De=e.oxw(),ot=e.MAs(6);return e.KtG(De.moveDown(ot,De.source,De.selectedItemsSource,De.onSourceReorder,De.SOURCE_LIST))}),e.qZA(),e.TgZ(4,"button",22),e.NdJ("click",function(){e.CHM(at);const De=e.oxw(),ot=e.MAs(6);return e.KtG(De.moveBottom(ot,De.source,De.selectedItemsSource,De.onSourceReorder,De.SOURCE_LIST))}),e.qZA()()}if(2&Ut){const at=e.oxw();e.xp6(1),e.Q6J("disabled",at.sourceMoveDisabled()),e.uIk("aria-label",at.upButtonAriaLabel),e.xp6(1),e.Q6J("disabled",at.sourceMoveDisabled()),e.uIk("aria-label",at.topButtonAriaLabel),e.xp6(1),e.Q6J("disabled",at.sourceMoveDisabled()),e.uIk("aria-label",at.downButtonAriaLabel),e.xp6(1),e.Q6J("disabled",at.sourceMoveDisabled()),e.uIk("aria-label",at.bottomButtonAriaLabel)}}function y(Ut,ct){if(1&Ut&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&Ut){const at=e.oxw(2);e.xp6(1),e.Oqu(at.sourceHeader)}}function D(Ut,ct){1&Ut&&e.GkF(0)}function k(Ut,ct){if(1&Ut&&(e.TgZ(0,"div",23),e.YNc(1,y,2,1,"div",24),e.YNc(2,D,1,0,"ng-container",25),e.qZA()),2&Ut){const at=e.oxw();e.xp6(1),e.Q6J("ngIf",!at.sourceHeaderTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",at.sourceHeaderTemplate)}}function B(Ut,ct){1&Ut&&e.GkF(0)}const N=function(Ut){return{options:Ut}};function ce(Ut,ct){if(1&Ut&&(e.ynx(0),e.YNc(1,B,1,0,"ng-container",30),e.BQk()),2&Ut){const at=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",at.sourceFilterTemplate)("ngTemplateOutletContext",e.VKq(2,N,at.sourceFilterOptions))}}function $(Ut,ct){if(1&Ut){const at=e.EpF();e.TgZ(0,"div",31)(1,"input",32,33),e.NdJ("keyup",function(De){e.CHM(at);const ot=e.oxw(2);return e.KtG(ot.onFilter(De,ot.SOURCE_LIST))}),e.qZA(),e._UZ(3,"span",34),e.qZA()}if(2&Ut){const at=e.oxw(2);e.xp6(1),e.Q6J("disabled",at.disabled),e.uIk("placeholder",at.sourceFilterPlaceholder)("aria-label",at.ariaSourceFilterLabel)}}function z(Ut,ct){if(1&Ut&&(e.TgZ(0,"div",27),e.YNc(1,ce,2,4,"ng-container",28),e.YNc(2,$,4,3,"ng-template",null,29,e.W1O),e.qZA()),2&Ut){const at=e.MAs(3),me=e.oxw();e.xp6(1),e.Q6J("ngIf",me.sourceFilterTemplate)("ngIfElse",at)}}function S(Ut,ct){1&Ut&&e.GkF(0)}const O=function(Ut,ct){return{"p-picklist-item":!0,"p-highlight":Ut,"p-disabled":ct}},K=function(Ut,ct){return{$implicit:Ut,index:ct}};function ue(Ut,ct){if(1&Ut){const at=e.EpF();e.TgZ(0,"li",36),e.NdJ("click",function(De){e.CHM(at);const ot=e.oxw().$implicit,Ct=e.oxw();return e.KtG(Ct.onItemClick(De,ot,Ct.selectedItemsSource,Ct.onSourceSelect))})("dblclick",function(){e.CHM(at);const De=e.oxw(2);return e.KtG(De.onSourceItemDblClick())})("touchend",function(){e.CHM(at);const De=e.oxw(2);return e.KtG(De.onItemTouchEnd())})("keydown",function(De){e.CHM(at);const ot=e.oxw().$implicit,Ct=e.oxw();return e.KtG(Ct.onItemKeydown(De,ot,Ct.selectedItemsSource,Ct.onSourceSelect))}),e.YNc(1,S,1,0,"ng-container",30),e.qZA()}if(2&Ut){const at=e.oxw(),me=at.$implicit,De=at.index,ot=e.oxw();e.Q6J("ngClass",e.WLB(6,O,ot.isSelected(me,ot.selectedItemsSource),ot.disabled))("cdkDragData",me)("cdkDragDisabled",!ot.dragdrop),e.uIk("aria-selected",ot.isSelected(me,ot.selectedItemsSource)),e.xp6(1),e.Q6J("ngTemplateOutlet",ot.itemTemplate)("ngTemplateOutletContext",e.WLB(9,K,me,De))}}function q(Ut,ct){if(1&Ut&&e.YNc(0,ue,2,12,"li",35),2&Ut){const at=ct.$implicit,me=e.oxw();e.Q6J("ngIf",me.isItemVisible(at,me.SOURCE_LIST))}}function G(Ut,ct){1&Ut&&e.GkF(0)}function j(Ut,ct){if(1&Ut&&(e.TgZ(0,"li",38),e.YNc(1,G,1,0,"ng-container",25),e.qZA()),2&Ut){const at=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",at.emptyMessageSourceTemplate)}}function fe(Ut,ct){1&Ut&&e.GkF(0)}function ne(Ut,ct){if(1&Ut&&(e.TgZ(0,"li",38),e.YNc(1,fe,1,0,"ng-container",25),e.qZA()),2&Ut){const at=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",at.emptyFilterMessageSourceTemplate)}}function J(Ut,ct){if(1&Ut&&(e.ynx(0),e.YNc(1,j,2,1,"li",37),e.YNc(2,ne,2,1,"li",37),e.BQk()),2&Ut){const at=e.oxw();e.xp6(1),e.Q6J("ngIf",!at.filterValueSource||!at.emptyFilterMessageSourceTemplate),e.xp6(1),e.Q6J("ngIf",at.filterValueSource)}}function X(Ut,ct){if(1&Ut&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&Ut){const at=e.oxw(2);e.xp6(1),e.Oqu(at.targetHeader)}}function W(Ut,ct){1&Ut&&e.GkF(0)}function Y(Ut,ct){if(1&Ut&&(e.TgZ(0,"div",23),e.YNc(1,X,2,1,"div",24),e.YNc(2,W,1,0,"ng-container",25),e.qZA()),2&Ut){const at=e.oxw();e.xp6(1),e.Q6J("ngIf",!at.targetHeaderTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",at.targetHeaderTemplate)}}function Te(Ut,ct){1&Ut&&e.GkF(0)}function Ae(Ut,ct){if(1&Ut&&(e.ynx(0),e.YNc(1,Te,1,0,"ng-container",30),e.BQk()),2&Ut){const at=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",at.targetFilterTemplate)("ngTemplateOutletContext",e.VKq(2,N,at.targetFilterOptions))}}function Ke(Ut,ct){if(1&Ut){const at=e.EpF();e.TgZ(0,"div",31)(1,"input",32,40),e.NdJ("keyup",function(De){e.CHM(at);const ot=e.oxw(2);return e.KtG(ot.onFilter(De,ot.TARGET_LIST))}),e.qZA(),e._UZ(3,"span",34),e.qZA()}if(2&Ut){const at=e.oxw(2);e.xp6(1),e.Q6J("disabled",at.disabled),e.uIk("placeholder",at.targetFilterPlaceholder)("aria-label",at.ariaTargetFilterLabel)}}function be(Ut,ct){if(1&Ut&&(e.TgZ(0,"div",27),e.YNc(1,Ae,2,4,"ng-container",28),e.YNc(2,Ke,4,3,"ng-template",null,39,e.W1O),e.qZA()),2&Ut){const at=e.MAs(3),me=e.oxw();e.xp6(1),e.Q6J("ngIf",me.targetFilterTemplate)("ngIfElse",at)}}function Ge(Ut,ct){1&Ut&&e.GkF(0)}function ee(Ut,ct){if(1&Ut){const at=e.EpF();e.TgZ(0,"li",36),e.NdJ("click",function(De){e.CHM(at);const ot=e.oxw().$implicit,Ct=e.oxw();return e.KtG(Ct.onItemClick(De,ot,Ct.selectedItemsTarget,Ct.onTargetSelect))})("dblclick",function(){e.CHM(at);const De=e.oxw(2);return e.KtG(De.onTargetItemDblClick())})("touchend",function(){e.CHM(at);const De=e.oxw(2);return e.KtG(De.onItemTouchEnd())})("keydown",function(De){e.CHM(at);const ot=e.oxw().$implicit,Ct=e.oxw();return e.KtG(Ct.onItemKeydown(De,ot,Ct.selectedItemsTarget,Ct.onTargetSelect))}),e.YNc(1,Ge,1,0,"ng-container",30),e.qZA()}if(2&Ut){const at=e.oxw(),me=at.$implicit,De=at.index,ot=e.oxw();e.Q6J("ngClass",e.WLB(6,O,ot.isSelected(me,ot.selectedItemsTarget),ot.disabled))("cdkDragData",me)("cdkDragDisabled",!ot.dragdrop),e.uIk("aria-selected",ot.isSelected(me,ot.selectedItemsTarget)),e.xp6(1),e.Q6J("ngTemplateOutlet",ot.itemTemplate)("ngTemplateOutletContext",e.WLB(9,K,me,De))}}function xe(Ut,ct){if(1&Ut&&e.YNc(0,ee,2,12,"li",35),2&Ut){const at=ct.$implicit,me=e.oxw();e.Q6J("ngIf",me.isItemVisible(at,me.TARGET_LIST))}}function we(Ut,ct){1&Ut&&e.GkF(0)}function Pe(Ut,ct){if(1&Ut&&(e.TgZ(0,"li",38),e.YNc(1,we,1,0,"ng-container",25),e.qZA()),2&Ut){const at=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",at.emptyMessageTargetTemplate)}}function dt(Ut,ct){1&Ut&&e.GkF(0)}function bt(Ut,ct){if(1&Ut&&(e.TgZ(0,"li",38),e.YNc(1,dt,1,0,"ng-container",25),e.qZA()),2&Ut){const at=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",at.emptyFilterMessageTargetTemplate)}}function it(Ut,ct){if(1&Ut&&(e.ynx(0),e.YNc(1,Pe,2,1,"li",37),e.YNc(2,bt,2,1,"li",37),e.BQk()),2&Ut){const at=e.oxw();e.xp6(1),e.Q6J("ngIf",!at.filterValueTarget||!at.emptyFilterMessageTargetTemplate),e.xp6(1),e.Q6J("ngIf",at.filterValueTarget)}}function Dt(Ut,ct){if(1&Ut){const at=e.EpF();e.TgZ(0,"div",41)(1,"button",19),e.NdJ("click",function(){e.CHM(at);const De=e.oxw(),ot=e.MAs(18);return e.KtG(De.moveUp(ot,De.target,De.selectedItemsTarget,De.onTargetReorder,De.TARGET_LIST))}),e.qZA(),e.TgZ(2,"button",20),e.NdJ("click",function(){e.CHM(at);const De=e.oxw(),ot=e.MAs(18);return e.KtG(De.moveTop(ot,De.target,De.selectedItemsTarget,De.onTargetReorder,De.TARGET_LIST))}),e.qZA(),e.TgZ(3,"button",21),e.NdJ("click",function(){e.CHM(at);const De=e.oxw(),ot=e.MAs(18);return e.KtG(De.moveDown(ot,De.target,De.selectedItemsTarget,De.onTargetReorder,De.TARGET_LIST))}),e.qZA(),e.TgZ(4,"button",22),e.NdJ("click",function(){e.CHM(at);const De=e.oxw(),ot=e.MAs(18);return e.KtG(De.moveBottom(ot,De.target,De.selectedItemsTarget,De.onTargetReorder,De.TARGET_LIST))}),e.qZA()()}if(2&Ut){const at=e.oxw();e.xp6(1),e.Q6J("disabled",at.targetMoveDisabled()),e.uIk("aria-label",at.upButtonAriaLabel),e.xp6(1),e.Q6J("disabled",at.targetMoveDisabled()),e.uIk("aria-label",at.topButtonAriaLabel),e.xp6(1),e.Q6J("disabled",at.targetMoveDisabled()),e.uIk("aria-label",at.downButtonAriaLabel),e.xp6(1),e.Q6J("disabled",at.targetMoveDisabled()),e.uIk("aria-label",at.bottomButtonAriaLabel)}}const vt=function(Ut){return{"p-picklist p-component":!0,"p-picklist-striped":Ut}};let Wt=(()=>{class Ut{constructor(at,me,De){this.el=at,this.cd=me,this.filterService=De,this.trackBy=(ot,Ct)=>Ct,this.showSourceFilter=!0,this.showTargetFilter=!0,this.metaKeySelection=!0,this.dragdrop=!1,this.showSourceControls=!0,this.showTargetControls=!0,this.disabled=!1,this.filterMatchMode="contains",this.breakpoint="960px",this.keepSelection=!1,this.onMoveToSource=new e.vpe,this.onMoveAllToSource=new e.vpe,this.onMoveAllToTarget=new e.vpe,this.onMoveToTarget=new e.vpe,this.onSourceReorder=new e.vpe,this.onTargetReorder=new e.vpe,this.onSourceSelect=new e.vpe,this.onTargetSelect=new e.vpe,this.onSourceFilter=new e.vpe,this.onTargetFilter=new e.vpe,this.selectedItemsSource=[],this.selectedItemsTarget=[],this.id=(0,a.Th)(),this.SOURCE_LIST=-1,this.TARGET_LIST=1}ngOnInit(){this.responsive&&this.createStyle(),this.filterBy&&(this.sourceFilterOptions={filter:at=>this.filterSource(at),reset:()=>this.resetSourceFilter()},this.targetFilterOptions={filter:at=>this.filterTarget(at),reset:()=>this.resetTargetFilter()})}ngAfterContentInit(){this.templates.forEach(at=>{switch(at.getType()){case"item":default:this.itemTemplate=at.template;break;case"sourceHeader":this.sourceHeaderTemplate=at.template;break;case"targetHeader":this.targetHeaderTemplate=at.template;break;case"sourceFilter":this.sourceFilterTemplate=at.template;break;case"targetFilter":this.targetFilterTemplate=at.template;break;case"emptymessagesource":this.emptyMessageSourceTemplate=at.template;break;case"emptyfiltermessagesource":this.emptyFilterMessageSourceTemplate=at.template;break;case"emptymessagetarget":this.emptyMessageTargetTemplate=at.template;break;case"emptyfiltermessagetarget":this.emptyFilterMessageTargetTemplate=at.template}})}ngAfterViewChecked(){if(this.movedUp||this.movedDown){let me,at=_.p.find(this.reorderedListElement,"li.p-highlight");me=this.movedUp?at[0]:at[at.length-1],_.p.scrollInView(this.reorderedListElement,me),this.movedUp=!1,this.movedDown=!1,this.reorderedListElement=null}}onItemClick(at,me,De,ot){if(this.disabled)return;let Ct=this.findIndexInSelection(me,De),Ot=-1!=Ct;if(!this.itemTouched&&this.metaKeySelection){let Mt=at.metaKey||at.ctrlKey||at.shiftKey;Ot&&Mt?De.splice(Ct,1):(Mt||(De.length=0),De.push(me))}else Ot?De.splice(Ct,1):De.push(me);ot.emit({originalEvent:at,items:De}),this.itemTouched=!1}onSourceItemDblClick(){this.disabled||this.moveRight()}onTargetItemDblClick(){this.disabled||this.moveLeft()}onFilter(at,me){let De=at.target.value;me===this.SOURCE_LIST?this.filterSource(De):me===this.TARGET_LIST&&this.filterTarget(De)}filterSource(at=""){this.filterValueSource=at.trim().toLocaleLowerCase(this.filterLocale),this.filter(this.source,this.SOURCE_LIST)}filterTarget(at=""){this.filterValueTarget=at.trim().toLocaleLowerCase(this.filterLocale),this.filter(this.target,this.TARGET_LIST)}filter(at,me){let De=this.filterBy.split(",");me===this.SOURCE_LIST?(this.visibleOptionsSource=this.filterService.filter(at,De,this.filterValueSource,this.filterMatchMode,this.filterLocale),this.onSourceFilter.emit({query:this.filterValueSource,value:this.visibleOptionsSource})):me===this.TARGET_LIST&&(this.visibleOptionsTarget=this.filterService.filter(at,De,this.filterValueTarget,this.filterMatchMode,this.filterLocale),this.onTargetFilter.emit({query:this.filterValueTarget,value:this.visibleOptionsTarget}))}isItemVisible(at,me){return me==this.SOURCE_LIST?this.isVisibleInList(this.visibleOptionsSource,at,this.filterValueSource):this.isVisibleInList(this.visibleOptionsTarget,at,this.filterValueTarget)}isEmpty(at){return at==this.SOURCE_LIST?this.filterValueSource?!this.visibleOptionsSource||0===this.visibleOptionsSource.length:!this.source||0===this.source.length:this.filterValueTarget?!this.visibleOptionsTarget||0===this.visibleOptionsTarget.length:!this.target||0===this.target.length}isVisibleInList(at,me,De){if(!De||!De.trim().length)return!0;for(let ot=0;ot<at.length;ot++)if(me==at[ot])return!0}onItemTouchEnd(){this.disabled||(this.itemTouched=!0)}sortByIndexInList(at,me){return at.sort((De,ot)=>a.gb.findIndexInList(De,me)-a.gb.findIndexInList(ot,me))}moveUp(at,me,De,ot,Ct){if(De&&De.length){De=this.sortByIndexInList(De,me);for(let Ot=0;Ot<De.length;Ot++){let Mt=a.gb.findIndexInList(De[Ot],me);if(0==Mt)break;{let st=me[Mt-1];me[Mt-1]=me[Mt],me[Mt]=st}}this.dragdrop&&(this.filterValueSource&&Ct===this.SOURCE_LIST||this.filterValueTarget&&Ct===this.TARGET_LIST)&&this.filter(me,Ct),this.movedUp=!0,this.reorderedListElement=at,ot.emit({items:De})}}moveTop(at,me,De,ot,Ct){if(De&&De.length){De=this.sortByIndexInList(De,me);for(let Ot=0;Ot<De.length;Ot++){let Mt=a.gb.findIndexInList(De[Ot],me);if(0==Mt)break;{let Ye=me.splice(Mt,1)[0];me.unshift(Ye)}}this.dragdrop&&(this.filterValueSource&&Ct===this.SOURCE_LIST||this.filterValueTarget&&Ct===this.TARGET_LIST)&&this.filter(me,Ct),at.scrollTop=0,ot.emit({items:De})}}moveDown(at,me,De,ot,Ct){if(De&&De.length){for(let Ot=(De=this.sortByIndexInList(De,me)).length-1;Ot>=0;Ot--){let Mt=a.gb.findIndexInList(De[Ot],me);if(Mt==me.length-1)break;{let st=me[Mt+1];me[Mt+1]=me[Mt],me[Mt]=st}}this.dragdrop&&(this.filterValueSource&&Ct===this.SOURCE_LIST||this.filterValueTarget&&Ct===this.TARGET_LIST)&&this.filter(me,Ct),this.movedDown=!0,this.reorderedListElement=at,ot.emit({items:De})}}moveBottom(at,me,De,ot,Ct){if(De&&De.length){for(let Ot=(De=this.sortByIndexInList(De,me)).length-1;Ot>=0;Ot--){let Mt=a.gb.findIndexInList(De[Ot],me);if(Mt==me.length-1)break;{let Ye=me.splice(Mt,1)[0];me.push(Ye)}}this.dragdrop&&(this.filterValueSource&&Ct===this.SOURCE_LIST||this.filterValueTarget&&Ct===this.TARGET_LIST)&&this.filter(me,Ct),at.scrollTop=at.scrollHeight,ot.emit({items:De})}}moveRight(){if(this.selectedItemsSource&&this.selectedItemsSource.length){for(let at=0;at<this.selectedItemsSource.length;at++){let me=this.selectedItemsSource[at];-1==a.gb.findIndexInList(me,this.target)&&(this.target.push(this.source.splice(a.gb.findIndexInList(me,this.source),1)[0]),this.visibleOptionsSource&&this.visibleOptionsSource.splice(a.gb.findIndexInList(me,this.visibleOptionsSource),1))}this.onMoveToTarget.emit({items:this.selectedItemsSource}),this.keepSelection&&(this.selectedItemsTarget=[...this.selectedItemsTarget,...this.selectedItemsSource]),this.selectedItemsSource=[],this.filterValueTarget&&this.filter(this.target,this.TARGET_LIST)}}moveAllRight(){if(this.source){let at=[];for(let me=0;me<this.source.length;me++)if(this.isItemVisible(this.source[me],this.SOURCE_LIST)){let De=this.source.splice(me,1)[0];this.target.push(De),at.push(De),me--}this.onMoveAllToTarget.emit({items:at}),this.keepSelection&&(this.selectedItemsTarget=[...this.selectedItemsTarget,...this.selectedItemsSource]),this.selectedItemsSource=[],this.filterValueTarget&&this.filter(this.target,this.TARGET_LIST),this.visibleOptionsSource=[]}}moveLeft(){if(this.selectedItemsTarget&&this.selectedItemsTarget.length){for(let at=0;at<this.selectedItemsTarget.length;at++){let me=this.selectedItemsTarget[at];-1==a.gb.findIndexInList(me,this.source)&&(this.source.push(this.target.splice(a.gb.findIndexInList(me,this.target),1)[0]),this.visibleOptionsTarget&&this.visibleOptionsTarget.splice(a.gb.findIndexInList(me,this.visibleOptionsTarget),1))}this.onMoveToSource.emit({items:this.selectedItemsTarget}),this.keepSelection&&(this.selectedItemsSource=[...this.selectedItemsSource,...this.selectedItemsTarget]),this.selectedItemsTarget=[],this.filterValueSource&&this.filter(this.source,this.SOURCE_LIST)}}moveAllLeft(){if(this.target){let at=[];for(let me=0;me<this.target.length;me++)if(this.isItemVisible(this.target[me],this.TARGET_LIST)){let De=this.target.splice(me,1)[0];this.source.push(De),at.push(De),me--}this.onMoveAllToSource.emit({items:at}),this.keepSelection&&(this.selectedItemsSource=[...this.selectedItemsSource,...this.selectedItemsTarget]),this.selectedItemsTarget=[],this.filterValueSource&&this.filter(this.source,this.SOURCE_LIST),this.visibleOptionsTarget=[]}}isSelected(at,me){return-1!=this.findIndexInSelection(at,me)}findIndexInSelection(at,me){return a.gb.findIndexInList(at,me)}onDrop(at,me){let De=at.previousContainer!==at.container,ot=this.getDropIndexes(at.previousIndex,at.currentIndex,me,De,at.item.data);if(me===this.SOURCE_LIST){if(De){(0,x.EA)(at.previousContainer.data,at.container.data,ot.previousIndex,ot.currentIndex);let Ct=a.gb.findIndexInList(at.item.data,this.selectedItemsTarget);-1!=Ct&&(this.selectedItemsTarget.splice(Ct,1),this.keepSelection&&this.selectedItemsTarget.push(at.item.data)),this.visibleOptionsTarget&&this.visibleOptionsTarget.splice(at.previousIndex,1),this.onMoveToSource.emit({items:[at.item.data]})}else(0,x.bA)(at.container.data,ot.previousIndex,ot.currentIndex),this.onSourceReorder.emit({items:[at.item.data]});this.filterValueSource&&this.filter(this.source,this.SOURCE_LIST)}else{if(De){(0,x.EA)(at.previousContainer.data,at.container.data,ot.previousIndex,ot.currentIndex);let Ct=a.gb.findIndexInList(at.item.data,this.selectedItemsSource);-1!=Ct&&(this.selectedItemsSource.splice(Ct,1),this.keepSelection&&this.selectedItemsTarget.push(at.item.data)),this.visibleOptionsSource&&this.visibleOptionsSource.splice(at.previousIndex,1),this.onMoveToTarget.emit({items:[at.item.data]})}else(0,x.bA)(at.container.data,ot.previousIndex,ot.currentIndex),this.onTargetReorder.emit({items:[at.item.data]});this.filterValueTarget&&this.filter(this.target,this.TARGET_LIST)}}getDropIndexes(at,me,De,ot,Ct){let Ot,Ft;return De===this.SOURCE_LIST?(Ot=ot?this.filterValueTarget?a.gb.findIndexInList(Ct,this.target):at:this.filterValueSource?a.gb.findIndexInList(Ct,this.source):at,Ft=this.filterValueSource?this.findFilteredCurrentIndex(this.visibleOptionsSource,me,this.source):me):(Ot=ot?this.filterValueSource?a.gb.findIndexInList(Ct,this.source):at:this.filterValueTarget?a.gb.findIndexInList(Ct,this.target):at,Ft=this.filterValueTarget?this.findFilteredCurrentIndex(this.visibleOptionsTarget,me,this.target):me),{previousIndex:Ot,currentIndex:Ft}}findFilteredCurrentIndex(at,me,De){return at.length===me?a.gb.findIndexInList(at[me-1],De)+1:a.gb.findIndexInList(at[me],De)}resetSourceFilter(){this.visibleOptionsSource=null,this.filterValueSource=null,this.sourceFilterViewChild&&(this.sourceFilterViewChild.nativeElement.value="")}resetTargetFilter(){this.visibleOptionsTarget=null,this.filterValueTarget=null,this.targetFilterViewChild&&(this.targetFilterViewChild.nativeElement.value="")}resetFilter(){this.resetSourceFilter(),this.resetTargetFilter()}onItemKeydown(at,me,De,ot){let Ct=at.currentTarget;switch(at.which){case 40:var Ot=this.findNextItem(Ct);Ot&&Ot.focus(),at.preventDefault();break;case 38:var Ft=this.findPrevItem(Ct);Ft&&Ft.focus(),at.preventDefault();break;case 13:this.onItemClick(at,me,De,ot),at.preventDefault()}}findNextItem(at){let me=at.nextElementSibling;return me?!_.p.hasClass(me,"p-picklist-item")||_.p.isHidden(me)?this.findNextItem(me):me:null}findPrevItem(at){let me=at.previousElementSibling;return me?!_.p.hasClass(me,"p-picklist-item")||_.p.isHidden(me)?this.findPrevItem(me):me:null}createStyle(){this.styleElement||(this.el.nativeElement.children[0].setAttribute(this.id,""),this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement),this.styleElement.innerHTML=`\n            @media screen and (max-width: ${this.breakpoint}) {\n                .p-picklist[${this.id}] {\n                    flex-direction: column;\n                }\n\n                .p-picklist[${this.id}] .p-picklist-buttons {\n                    padding: var(--content-padding);\n                    flex-direction: row;\n                }\n\n                .p-picklist[${this.id}] .p-picklist-buttons .p-button {\n                    margin-right: var(--inline-spacing);\n                    margin-bottom: 0;\n                }\n\n                .p-picklist[${this.id}] .p-picklist-buttons .p-button:last-child {\n                    margin-right: 0;\n                }\n\n                .p-picklist[${this.id}] .pi-angle-right:before {\n                    content: "\\e930"\n                }\n\n                .p-picklist[${this.id}] .pi-angle-double-right:before {\n                    content: "\\e92c"\n                }\n\n                .p-picklist[${this.id}] .pi-angle-left:before {\n                    content: "\\e933"\n                }\n\n                .p-picklist[${this.id}] .pi-angle-double-left:before {\n                    content: "\\e92f"\n                }\n            }\n            `)}sourceMoveDisabled(){if(this.disabled||!this.selectedItemsSource.length)return!0}targetMoveDisabled(){if(this.disabled||!this.selectedItemsTarget.length)return!0}moveRightDisabled(){return this.disabled||a.gb.isEmpty(this.selectedItemsSource)}moveLeftDisabled(){return this.disabled||a.gb.isEmpty(this.selectedItemsTarget)}moveAllRightDisabled(){return this.disabled||a.gb.isEmpty(this.source)}moveAllLeftDisabled(){return this.disabled||a.gb.isEmpty(this.target)}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.destroyStyle()}}return Ut.\u0275fac=function(at){return new(at||Ut)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(f.iZ))},Ut.\u0275cmp=e.Xpm({type:Ut,selectors:[["p-pickList"]],contentQueries:function(at,me,De){if(1&at&&e.Suo(De,f.jx,4),2&at){let ot;e.iGM(ot=e.CRH())&&(me.templates=ot)}},viewQuery:function(at,me){if(1&at&&(e.Gf(R,5),e.Gf(L,5),e.Gf(V,5),e.Gf(F,5)),2&at){let De;e.iGM(De=e.CRH())&&(me.listViewSourceChild=De.first),e.iGM(De=e.CRH())&&(me.listViewTargetChild=De.first),e.iGM(De=e.CRH())&&(me.sourceFilterViewChild=De.first),e.iGM(De=e.CRH())&&(me.targetFilterViewChild=De.first)}},hostAttrs:[1,"p-element"],inputs:{source:"source",target:"target",sourceHeader:"sourceHeader",rightButtonAriaLabel:"rightButtonAriaLabel",leftButtonAriaLabel:"leftButtonAriaLabel",allRightButtonAriaLabel:"allRightButtonAriaLabel",allLeftButtonAriaLabel:"allLeftButtonAriaLabel",upButtonAriaLabel:"upButtonAriaLabel",downButtonAriaLabel:"downButtonAriaLabel",topButtonAriaLabel:"topButtonAriaLabel",bottomButtonAriaLabel:"bottomButtonAriaLabel",targetHeader:"targetHeader",responsive:"responsive",filterBy:"filterBy",filterLocale:"filterLocale",trackBy:"trackBy",sourceTrackBy:"sourceTrackBy",targetTrackBy:"targetTrackBy",showSourceFilter:"showSourceFilter",showTargetFilter:"showTargetFilter",metaKeySelection:"metaKeySelection",dragdrop:"dragdrop",style:"style",styleClass:"styleClass",sourceStyle:"sourceStyle",targetStyle:"targetStyle",showSourceControls:"showSourceControls",showTargetControls:"showTargetControls",sourceFilterPlaceholder:"sourceFilterPlaceholder",targetFilterPlaceholder:"targetFilterPlaceholder",disabled:"disabled",ariaSourceFilterLabel:"ariaSourceFilterLabel",ariaTargetFilterLabel:"ariaTargetFilterLabel",filterMatchMode:"filterMatchMode",breakpoint:"breakpoint",stripedRows:"stripedRows",keepSelection:"keepSelection"},outputs:{onMoveToSource:"onMoveToSource",onMoveAllToSource:"onMoveAllToSource",onMoveAllToTarget:"onMoveAllToTarget",onMoveToTarget:"onMoveToTarget",onSourceReorder:"onSourceReorder",onTargetReorder:"onTargetReorder",onSourceSelect:"onSourceSelect",onTargetSelect:"onTargetSelect",onSourceFilter:"onSourceFilter",onTargetFilter:"onTargetFilter"},decls:22,vars:30,consts:[["cdkDropListGroup","",3,"ngStyle","ngClass"],["class","p-picklist-buttons p-picklist-source-controls",4,"ngIf"],[1,"p-picklist-list-wrapper","p-picklist-source-wrapper"],["class","p-picklist-header",4,"ngIf"],["class","p-picklist-filter-container",4,"ngIf"],["cdkDropList","","role","listbox","aria-multiselectable","multiple",1,"p-picklist-list","p-picklist-source",3,"cdkDropListData","ngStyle","cdkDropListDropped"],["sourcelist",""],["ngFor","",3,"ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"p-picklist-buttons","p-picklist-transfer-buttons"],["type","button","pButton","","pRipple","","icon","pi pi-angle-right",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-right",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-left",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-left",3,"disabled","click"],[1,"p-picklist-list-wrapper","p-picklist-target-wrapper"],["cdkDropList","","role","listbox","aria-multiselectable","multiple",1,"p-picklist-list","p-picklist-target",3,"cdkDropListData","ngStyle","cdkDropListDropped"],["targetlist",""],["class","p-picklist-buttons p-picklist-target-controls",4,"ngIf"],[1,"p-picklist-buttons","p-picklist-source-controls"],["type","button","pButton","","pRipple","","icon","pi pi-angle-up",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-up",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-down",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-down",3,"disabled","click"],[1,"p-picklist-header"],["class","p-picklist-title",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"p-picklist-title"],[1,"p-picklist-filter-container"],[4,"ngIf","ngIfElse"],["builtInSourceElement",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-picklist-filter"],["type","text","role","textbox",1,"p-picklist-filter-input","p-inputtext","p-component",3,"disabled","keyup"],["sourceFilter",""],[1,"p-picklist-filter-icon","pi","pi-search"],["pRipple","","cdkDrag","","tabindex","0","role","option",3,"ngClass","cdkDragData","cdkDragDisabled","click","dblclick","touchend","keydown",4,"ngIf"],["pRipple","","cdkDrag","","tabindex","0","role","option",3,"ngClass","cdkDragData","cdkDragDisabled","click","dblclick","touchend","keydown"],["class","p-picklist-empty-message",4,"ngIf"],[1,"p-picklist-empty-message"],["builtInTargetElement",""],["targetFilter",""],[1,"p-picklist-buttons","p-picklist-target-controls"]],template:function(at,me){1&at&&(e.TgZ(0,"div",0),e.YNc(1,T,5,8,"div",1),e.TgZ(2,"div",2),e.YNc(3,k,3,2,"div",3),e.YNc(4,z,4,2,"div",4),e.TgZ(5,"ul",5,6),e.NdJ("cdkDropListDropped",function(ot){return me.onDrop(ot,me.SOURCE_LIST)}),e.YNc(7,q,1,1,"ng-template",7),e.YNc(8,J,3,2,"ng-container",8),e.qZA()(),e.TgZ(9,"div",9)(10,"button",10),e.NdJ("click",function(){return me.moveRight()}),e.qZA(),e.TgZ(11,"button",11),e.NdJ("click",function(){return me.moveAllRight()}),e.qZA(),e.TgZ(12,"button",12),e.NdJ("click",function(){return me.moveLeft()}),e.qZA(),e.TgZ(13,"button",13),e.NdJ("click",function(){return me.moveAllLeft()}),e.qZA()(),e.TgZ(14,"div",14),e.YNc(15,Y,3,2,"div",3),e.YNc(16,be,4,2,"div",4),e.TgZ(17,"ul",15,16),e.NdJ("cdkDropListDropped",function(ot){return me.onDrop(ot,me.TARGET_LIST)}),e.YNc(19,xe,1,1,"ng-template",7),e.YNc(20,it,3,2,"ng-container",8),e.qZA()(),e.YNc(21,Dt,5,8,"div",17),e.qZA()),2&at&&(e.Tol(me.styleClass),e.Q6J("ngStyle",me.style)("ngClass",e.VKq(28,vt,me.stripedRows)),e.xp6(1),e.Q6J("ngIf",me.showSourceControls),e.xp6(2),e.Q6J("ngIf",me.sourceHeader||me.sourceHeaderTemplate),e.xp6(1),e.Q6J("ngIf",me.filterBy&&!1!==me.showSourceFilter),e.xp6(1),e.Q6J("cdkDropListData",me.source)("ngStyle",me.sourceStyle),e.xp6(2),e.Q6J("ngForOf",me.source)("ngForTrackBy",me.sourceTrackBy||me.trackBy),e.xp6(1),e.Q6J("ngIf",me.isEmpty(me.SOURCE_LIST)&&(me.emptyMessageSourceTemplate||me.emptyFilterMessageSourceTemplate)),e.xp6(2),e.Q6J("disabled",me.moveRightDisabled()),e.uIk("aria-label",me.rightButtonAriaLabel),e.xp6(1),e.Q6J("disabled",me.moveAllRightDisabled()),e.uIk("aria-label",me.allRightButtonAriaLabel),e.xp6(1),e.Q6J("disabled",me.moveLeftDisabled()),e.uIk("aria-label",me.leftButtonAriaLabel),e.xp6(1),e.Q6J("disabled",me.moveAllLeftDisabled()),e.uIk("aria-label",me.allLeftButtonAriaLabel),e.xp6(2),e.Q6J("ngIf",me.targetHeader||me.targetHeaderTemplate),e.xp6(1),e.Q6J("ngIf",me.filterBy&&!1!==me.showTargetFilter),e.xp6(1),e.Q6J("cdkDropListData",me.target)("ngStyle",me.targetStyle),e.xp6(2),e.Q6J("ngForOf",me.target)("ngForTrackBy",me.targetTrackBy||me.trackBy),e.xp6(1),e.Q6J("ngIf",me.isEmpty(me.TARGET_LIST)&&(me.emptyMessageTargetTemplate||me.emptyFilterMessageTargetTemplate)),e.xp6(1),e.Q6J("ngIf",me.showTargetControls))},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,u.Hq,P.H,x.Wj,x.Fd,x.Zt],styles:[".p-picklist{display:flex}.p-picklist-buttons{display:flex;flex-direction:column;justify-content:center}.p-picklist-list-wrapper{flex:1 1 50%}.p-picklist-list{list-style-type:none;margin:0;padding:0;overflow:auto;min-height:12rem}.p-picklist-item{display:block;cursor:pointer;overflow:hidden;position:relative}.p-picklist-item:not(.cdk-drag-disabled){cursor:move}.p-picklist-item.cdk-drag-placeholder{opacity:0}.p-picklist-item.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.p-picklist-filter{position:relative}.p-picklist-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-picklist-filter-input{width:100%}.p-picklist-list.cdk-drop-list-dragging .p-picklist-item:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}\n"],encapsulation:2,changeDetection:0}),Ut})(),zt=(()=>{class Ut{}return Ut.\u0275fac=function(at){return new(at||Ut)},Ut.\u0275mod=e.oAB({type:Ut}),Ut.\u0275inj=e.cJS({imports:[d.ez,u.hJ,f.m8,P.T,x._t,f.m8,x._t]}),Ut})()},8185:(hn,ht,b)=>{"use strict";b.d(ht,{k:()=>x,q:()=>a});var e=b(5e3),d=b(9808);function u(R,L){if(1&R&&(e.TgZ(0,"div",5),e._uU(1),e.qZA()),2&R){const V=e.oxw(2);e.Udp("display",null!=V.value&&0!==V.value?"flex":"none"),e.xp6(1),e.AsE("",V.value,"",V.unit,"")}}function f(R,L){if(1&R&&(e.TgZ(0,"div",3),e.YNc(1,u,2,4,"div",4),e.qZA()),2&R){const V=e.oxw();e.Udp("width",V.value+"%"),e.xp6(1),e.Q6J("ngIf",V.showValue)}}function _(R,L){1&R&&(e.TgZ(0,"div",6),e._UZ(1,"div",7),e.qZA())}const P=function(R,L){return{"p-progressbar p-component":!0,"p-progressbar-determinate":R,"p-progressbar-indeterminate":L}};let x=(()=>{class R{constructor(){this.showValue=!0,this.unit="%",this.mode="determinate"}}return R.\u0275fac=function(V){return new(V||R)},R.\u0275cmp=e.Xpm({type:R,selectors:[["p-progressBar"]],hostAttrs:[1,"p-element"],inputs:{value:"value",showValue:"showValue",style:"style",styleClass:"styleClass",unit:"unit",mode:"mode"},decls:3,vars:10,consts:[["role","progressbar","aria-valuemin","0","aria-valuemax","100",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate","style","display:flex",3,"width",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",2,"display","flex"],["class","p-progressbar-label",3,"display",4,"ngIf"],[1,"p-progressbar-label"],[1,"p-progressbar-indeterminate-container"],[1,"p-progressbar-value","p-progressbar-value-animate"]],template:function(V,F){1&V&&(e.TgZ(0,"div",0),e.YNc(1,f,2,3,"div",1),e.YNc(2,_,2,0,"div",2),e.qZA()),2&V&&(e.Tol(F.styleClass),e.Q6J("ngStyle",F.style)("ngClass",e.WLB(7,P,"determinate"===F.mode,"indeterminate"===F.mode)),e.uIk("aria-valuenow",F.value),e.xp6(1),e.Q6J("ngIf","determinate"===F.mode),e.xp6(1),e.Q6J("ngIf","indeterminate"===F.mode))},dependencies:[d.mk,d.O5,d.PC],styles:['.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}\n'],encapsulation:2,changeDetection:0}),R})(),a=(()=>{class R{}return R.\u0275fac=function(V){return new(V||R)},R.\u0275mod=e.oAB({type:R}),R.\u0275inj=e.cJS({imports:[d.ez]}),R})()},6198:(hn,ht,b)=>{"use strict";b.d(ht,{G:()=>u,L:()=>f});var e=b(5e3),d=b(9808);let u=(()=>{class _{constructor(){this.strokeWidth="2",this.fill="none",this.animationDuration="2s"}}return _.\u0275fac=function(x){return new(x||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["p-progressSpinner"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration"},decls:3,vars:6,consts:[["role","alert","aria-busy","true",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(x,a){1&x&&(e.TgZ(0,"div",0),e.O4$(),e.TgZ(1,"svg",1),e._UZ(2,"circle",2),e.qZA()()),2&x&&(e.Q6J("ngStyle",a.style)("ngClass",a.styleClass),e.xp6(1),e.Udp("animation-duration",a.animationDuration),e.xp6(1),e.uIk("fill",a.fill)("stroke-width",a.strokeWidth))},dependencies:[d.mk,d.PC],styles:['.p-progress-spinner{position:relative;margin:0 auto;width:100px;height:100px;display:inline-block}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;inset:0;margin:auto}.p-progress-spinner-circle{stroke-dasharray:89,200;stroke-dashoffset:0;stroke:#d62d20;animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke-linecap:round}@keyframes p-progress-spinner-rotate{to{transform:rotate(360deg)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{to,0%{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}\n'],encapsulation:2,changeDetection:0}),_})(),f=(()=>{class _{}return _.\u0275fac=function(x){return new(x||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[d.ez]}),_})()},5787:(hn,ht,b)=>{"use strict";b.d(ht,{H:()=>_,T:()=>P});var e=b(5e3),d=b(9808),u=b(5730),f=b(9783);let _=(()=>{class x{constructor(R,L,V){this.el=R,this.zone=L,this.config=V}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(R){let L=this.getInk();if(!L||"none"===getComputedStyle(L,null).display)return;if(u.p.removeClass(L,"p-ink-active"),!u.p.getHeight(L)&&!u.p.getWidth(L)){let y=Math.max(u.p.getOuterWidth(this.el.nativeElement),u.p.getOuterHeight(this.el.nativeElement));L.style.height=y+"px",L.style.width=y+"px"}let V=u.p.getOffset(this.el.nativeElement),F=R.pageX-V.left+document.body.scrollTop-u.p.getWidth(L)/2,T=R.pageY-V.top+document.body.scrollLeft-u.p.getHeight(L)/2;L.style.top=T+"px",L.style.left=F+"px",u.p.addClass(L,"p-ink-active"),this.timeout=setTimeout(()=>{let y=this.getInk();y&&u.p.removeClass(y,"p-ink-active")},401)}getInk(){for(let R=0;R<this.el.nativeElement.children.length;R++)if(-1!==this.el.nativeElement.children[R].className.indexOf("p-ink"))return this.el.nativeElement.children[R];return null}resetInk(){let R=this.getInk();R&&u.p.removeClass(R,"p-ink-active")}onAnimationEnd(R){this.timeout&&clearTimeout(this.timeout),u.p.removeClass(R.currentTarget,"p-ink-active")}create(){let R=document.createElement("span");R.className="p-ink",this.el.nativeElement.appendChild(R),this.animationListener=this.onAnimationEnd.bind(this),R.addEventListener("animationend",this.animationListener)}remove(){let R=this.getInk();R&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),R.removeEventListener("animationend",this.animationListener),u.p.removeElement(R))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return x.\u0275fac=function(R){return new(R||x)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(f.b4,8))},x.\u0275dir=e.lG2({type:x,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),x})(),P=(()=>{class x{}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=e.oAB({type:x}),x.\u0275inj=e.cJS({imports:[d.ez]}),x})()},5871:(hn,ht,b)=>{"use strict";b.d(ht,{T:()=>Y,v:()=>Te});var e=b(9808),d=b(5e3),u=b(9783),f=b(5730);const _=["element"],P=["content"];function x(Ae,Ke){1&Ae&&d.GkF(0)}const a=function(Ae,Ke){return{$implicit:Ae,options:Ke}};function R(Ae,Ke){if(1&Ae&&(d.ynx(0),d.YNc(1,x,1,0,"ng-container",7),d.BQk()),2&Ae){const be=d.oxw(2);d.xp6(1),d.Q6J("ngTemplateOutlet",be.contentTemplate)("ngTemplateOutletContext",d.WLB(2,a,be.loadedItems,be.getContentOptions()))}}function L(Ae,Ke){1&Ae&&d.GkF(0)}function V(Ae,Ke){if(1&Ae&&(d.ynx(0),d.YNc(1,L,1,0,"ng-container",7),d.BQk()),2&Ae){const be=Ke.$implicit,Ge=Ke.index,ee=d.oxw(3);d.xp6(1),d.Q6J("ngTemplateOutlet",ee.itemTemplate)("ngTemplateOutletContext",d.WLB(2,a,be,ee.getOptions(Ge)))}}const F=function(Ae){return{"p-scroller-loading":Ae}};function T(Ae,Ke){if(1&Ae&&(d.TgZ(0,"div",8,9),d.YNc(2,V,2,5,"ng-container",10),d.qZA()),2&Ae){const be=d.oxw(2);d.Q6J("ngClass",d.VKq(4,F,be.d_loading))("ngStyle",be.contentStyle),d.xp6(2),d.Q6J("ngForOf",be.loadedItems)("ngForTrackBy",be._trackBy||be.index)}}function y(Ae,Ke){if(1&Ae&&d._UZ(0,"div",11),2&Ae){const be=d.oxw(2);d.Q6J("ngStyle",be.spacerStyle)}}function D(Ae,Ke){1&Ae&&d.GkF(0)}const k=function(Ae){return{numCols:Ae}},B=function(Ae){return{options:Ae}};function N(Ae,Ke){if(1&Ae&&(d.ynx(0),d.YNc(1,D,1,0,"ng-container",7),d.BQk()),2&Ae){const be=Ke.index,Ge=d.oxw(4);d.xp6(1),d.Q6J("ngTemplateOutlet",Ge.loaderTemplate)("ngTemplateOutletContext",d.VKq(4,B,Ge.getLoaderOptions(be,Ge.both&&d.VKq(2,k,Ge._numItemsInViewport.cols))))}}function ce(Ae,Ke){if(1&Ae&&(d.ynx(0),d.YNc(1,N,2,6,"ng-container",14),d.BQk()),2&Ae){const be=d.oxw(3);d.xp6(1),d.Q6J("ngForOf",be.loaderArr)}}function $(Ae,Ke){1&Ae&&d.GkF(0)}const z=function(){return{styleClass:"p-scroller-loading-icon"}};function S(Ae,Ke){if(1&Ae&&(d.ynx(0),d.YNc(1,$,1,0,"ng-container",7),d.BQk()),2&Ae){const be=d.oxw(4);d.xp6(1),d.Q6J("ngTemplateOutlet",be.loaderIconTemplate)("ngTemplateOutletContext",d.VKq(3,B,d.DdM(2,z)))}}function O(Ae,Ke){1&Ae&&d._UZ(0,"i",16)}function K(Ae,Ke){if(1&Ae&&(d.YNc(0,S,2,5,"ng-container",0),d.YNc(1,O,1,0,"ng-template",null,15,d.W1O)),2&Ae){const be=d.MAs(2),Ge=d.oxw(3);d.Q6J("ngIf",Ge.loaderIconTemplate)("ngIfElse",be)}}const ue=function(Ae){return{"p-component-overlay":Ae}};function q(Ae,Ke){if(1&Ae&&(d.TgZ(0,"div",12),d.YNc(1,ce,2,1,"ng-container",0),d.YNc(2,K,3,2,"ng-template",null,13,d.W1O),d.qZA()),2&Ae){const be=d.MAs(3),Ge=d.oxw(2);d.Q6J("ngClass",d.VKq(3,ue,!Ge.loaderTemplate)),d.xp6(1),d.Q6J("ngIf",Ge.loaderTemplate)("ngIfElse",be)}}const G=function(Ae,Ke,be){return{"p-scroller":!0,"p-scroller-inline":Ae,"p-both-scroll":Ke,"p-horizontal-scroll":be}};function j(Ae,Ke){if(1&Ae){const be=d.EpF();d.ynx(0),d.TgZ(1,"div",2,3),d.NdJ("scroll",function(ee){d.CHM(be);const xe=d.oxw();return d.KtG(xe.onContainerScroll(ee))}),d.YNc(3,R,2,5,"ng-container",0),d.YNc(4,T,3,6,"ng-template",null,4,d.W1O),d.YNc(6,y,1,1,"div",5),d.YNc(7,q,4,5,"div",6),d.qZA(),d.BQk()}if(2&Ae){const be=d.MAs(5),Ge=d.oxw();d.xp6(1),d.Tol(Ge._styleClass),d.Q6J("ngStyle",Ge._style)("ngClass",d.kEZ(10,G,Ge.inline,Ge.both,Ge.horizontal)),d.uIk("id",Ge._id)("tabindex",Ge.tabindex),d.xp6(2),d.Q6J("ngIf",Ge.contentTemplate)("ngIfElse",be),d.xp6(3),d.Q6J("ngIf",Ge._showSpacer),d.xp6(1),d.Q6J("ngIf",!Ge.loaderDisabled&&Ge._showLoader&&Ge.d_loading)}}function fe(Ae,Ke){1&Ae&&d.GkF(0)}const ne=function(Ae,Ke){return{rows:Ae,columns:Ke}};function J(Ae,Ke){if(1&Ae&&(d.ynx(0),d.YNc(1,fe,1,0,"ng-container",7),d.BQk()),2&Ae){const be=d.oxw(2);d.xp6(1),d.Q6J("ngTemplateOutlet",be.contentTemplate)("ngTemplateOutletContext",d.WLB(5,a,be.items,d.WLB(2,ne,be._items,be.loadedColumns)))}}function X(Ae,Ke){if(1&Ae&&(d.Hsn(0),d.YNc(1,J,2,8,"ng-container",17)),2&Ae){const be=d.oxw();d.xp6(1),d.Q6J("ngIf",be.contentTemplate)}}const W=["*"];let Y=(()=>{class Ae{constructor(be,Ge){this.cd=be,this.zone=Ge,this.onLazyLoad=new d.vpe,this.onScroll=new d.vpe,this.onScrollIndexChange=new d.vpe,this._tabindex=0,this._itemSize=0,this._orientation="vertical",this._step=0,this._delay=0,this._resizeDelay=10,this._appendOnly=!1,this._inline=!1,this._lazy=!1,this._disabled=!1,this._loaderDisabled=!1,this._showSpacer=!0,this._showLoader=!1,this._autoSize=!1,this.d_loading=!1,this.first=0,this.last=0,this.page=0,this.numItemsInViewport=0,this.lastScrollPos=0,this.lazyLoadState={},this.loaderArr=[],this.spacerStyle={},this.contentStyle={},this.initialized=!1}get id(){return this._id}set id(be){this._id=be}get style(){return this._style}set style(be){this._style=be}get styleClass(){return this._styleClass}set styleClass(be){this._styleClass=be}get tabindex(){return this._tabindex}set tabindex(be){this._tabindex=be}get items(){return this._items}set items(be){this._items=be}get itemSize(){return this._itemSize}set itemSize(be){this._itemSize=be}get scrollHeight(){return this._scrollHeight}set scrollHeight(be){this._scrollHeight=be}get scrollWidth(){return this._scrollWidth}set scrollWidth(be){this._scrollWidth=be}get orientation(){return this._orientation}set orientation(be){this._orientation=be}get step(){return this._step}set step(be){this._step=be}get delay(){return this._delay}set delay(be){this._delay=be}get resizeDelay(){return this._resizeDelay}set resizeDelay(be){this._resizeDelay=be}get appendOnly(){return this._appendOnly}set appendOnly(be){this._appendOnly=be}get inline(){return this._inline}set inline(be){this._inline=be}get lazy(){return this._lazy}set lazy(be){this._lazy=be}get disabled(){return this._disabled}set disabled(be){this._disabled=be}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(be){this._loaderDisabled=be}get columns(){return this._columns}set columns(be){this._columns=be}get showSpacer(){return this._showSpacer}set showSpacer(be){this._showSpacer=be}get showLoader(){return this._showLoader}set showLoader(be){this._showLoader=be}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(be){this._numToleratedItems=be}get loading(){return this._loading}set loading(be){this._loading=be}get autoSize(){return this._autoSize}set autoSize(be){this._autoSize=be}get trackBy(){return this._trackBy}set trackBy(be){this._trackBy=be}get options(){return this._options}set options(be){this._options=be,be&&"object"==typeof be&&Object.entries(be).forEach(([Ge,ee])=>this[`_${Ge}`]!==ee&&(this[`_${Ge}`]=ee))}get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(be=>this._columns?be:be.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}get isPageChanged(){return!this._step||this.page!==this.getPageByFirst()}ngOnInit(){this.setInitialState()}ngOnChanges(be){var Ge,ee,xe,we;let Pe=!1;if(be.loading){const{previousValue:dt,currentValue:bt}=be.loading;this.lazy&&dt!==bt&&bt!==this.d_loading&&(this.d_loading=bt,Pe=!0)}if(be.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),be.numToleratedItems){const{previousValue:dt,currentValue:bt}=be.numToleratedItems;dt!==bt&&bt!==this.d_numToleratedItems&&(this.d_numToleratedItems=bt)}if(be.options){const{previousValue:dt,currentValue:bt}=be.options;this.lazy&&(null==dt?void 0:dt.loading)!==(null==bt?void 0:bt.loading)&&(null==bt?void 0:bt.loading)!==this.d_loading&&(this.d_loading=bt.loading,Pe=!0),(null==dt?void 0:dt.numToleratedItems)!==(null==bt?void 0:bt.numToleratedItems)&&(null==bt?void 0:bt.numToleratedItems)!==this.d_numToleratedItems&&(this.d_numToleratedItems=bt.numToleratedItems)}this.initialized&&!Pe&&((null===(ee=null===(Ge=be.items)||void 0===Ge?void 0:Ge.previousValue)||void 0===ee?void 0:ee.length)!==(null===(we=null===(xe=be.items)||void 0===xe?void 0:xe.currentValue)||void 0===we?void 0:we.length)||be.itemSize||be.scrollHeight||be.scrollWidth)&&this.init()}ngAfterContentInit(){this.templates.forEach(be=>{switch(be.getType()){case"content":this.contentTemplate=be.template;break;case"item":default:this.itemTemplate=be.template;break;case"loader":this.loaderTemplate=be.template;break;case"loadericon":this.loaderIconTemplate=be.template}})}ngAfterViewInit(){this.viewInit()}ngAfterViewChecked(){this.initialized||this.viewInit(),this.calculateAutoSize()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){var be;f.p.isVisible(null===(be=this.elementViewChild)||void 0===be?void 0:be.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.defaultWidth=f.p.getWidth(this.elementViewChild.nativeElement),this.defaultHeight=f.p.getHeight(this.elementViewChild.nativeElement),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(be){var Ge,ee;this.contentEl=be||(null===(Ge=this.contentViewChild)||void 0===Ge?void 0:Ge.nativeElement)||f.p.findSingle(null===(ee=this.elementViewChild)||void 0===ee?void 0:ee.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(){return Math.floor((this.first+4*this.d_numToleratedItems)/(this._step||1))}scrollTo(be){var Ge,ee;this.lastScrollPos=this.both?{top:0,left:0}:0,null===(ee=null===(Ge=this.elementViewChild)||void 0===Ge?void 0:Ge.nativeElement)||void 0===ee||ee.scrollTo(be)}scrollToIndex(be,Ge="auto"){const{numToleratedItems:ee}=this.calculateNumItems(),xe=this.getContentPosition(),we=(bt=0,it)=>bt<=it?0:bt,Pe=(bt,it,Dt)=>bt*it+Dt,dt=(bt=0,it=0)=>this.scrollTo({left:bt,top:it,behavior:Ge});this.both?(this.first={rows:we(be[0],ee[0]),cols:we(be[1],ee[1])},dt(Pe(this.first.cols,this._itemSize[1],xe.left),Pe(this.first.rows,this._itemSize[0],xe.top))):(this.first=we(be,ee),this.horizontal?dt(Pe(this.first,this._itemSize,xe.left),0):dt(0,Pe(this.first,this._itemSize,xe.top)))}scrollInView(be,Ge,ee="auto"){if(Ge){const{first:xe,viewport:we}=this.getRenderedRange(),Pe=(it=0,Dt=0)=>this.scrollTo({left:it,top:Dt,behavior:ee}),bt="to-end"===Ge;if("to-start"===Ge){if(this.both)we.first.rows-xe.rows>be[0]?Pe(we.first.cols*this._itemSize[1],(we.first.rows-1)*this._itemSize[0]):we.first.cols-xe.cols>be[1]&&Pe((we.first.cols-1)*this._itemSize[1],we.first.rows*this._itemSize[0]);else if(we.first-xe>be){const it=(we.first-1)*this._itemSize;this.horizontal?Pe(it,0):Pe(0,it)}}else if(bt)if(this.both)we.last.rows-xe.rows<=be[0]+1?Pe(we.first.cols*this._itemSize[1],(we.first.rows+1)*this._itemSize[0]):we.last.cols-xe.cols<=be[1]+1&&Pe((we.first.cols+1)*this._itemSize[1],we.first.rows*this._itemSize[0]);else if(we.last-xe<=be+1){const it=(we.first+1)*this._itemSize;this.horizontal?Pe(it,0):Pe(0,it)}}else this.scrollToIndex(be,ee)}getRenderedRange(){var be;const Ge=(we,Pe)=>Math.floor(we/(Pe||we));let ee=this.first,xe=0;if(null!==(be=this.elementViewChild)&&void 0!==be&&be.nativeElement){const{scrollTop:we,scrollLeft:Pe}=this.elementViewChild.nativeElement;this.both?(ee={rows:Ge(we,this._itemSize[0]),cols:Ge(Pe,this._itemSize[1])},xe={rows:ee.rows+this.numItemsInViewport.rows,cols:ee.cols+this.numItemsInViewport.cols}):(ee=Ge(this.horizontal?Pe:we,this._itemSize),xe=ee+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:ee,last:xe}}}calculateNumItems(){var be,Ge;const ee=this.getContentPosition(),xe=null!==(be=this.elementViewChild)&&void 0!==be&&be.nativeElement?this.elementViewChild.nativeElement.offsetWidth-ee.left:0,we=null!==(Ge=this.elementViewChild)&&void 0!==Ge&&Ge.nativeElement?this.elementViewChild.nativeElement.offsetHeight-ee.top:0,Pe=(Dt,vt)=>Math.ceil(Dt/(vt||Dt)),dt=Dt=>Math.ceil(Dt/2),bt=this.both?{rows:Pe(we,this._itemSize[0]),cols:Pe(xe,this._itemSize[1])}:Pe(this.horizontal?xe:we,this._itemSize);return{numItemsInViewport:bt,numToleratedItems:this.d_numToleratedItems||(this.both?[dt(bt.rows),dt(bt.cols)]:dt(bt))}}calculateOptions(){const{numItemsInViewport:be,numToleratedItems:Ge}=this.calculateNumItems(),ee=(Pe,dt,bt,it=!1)=>this.getLast(Pe+dt+(Pe<bt?2:3)*bt,it),xe=this.first,we=this.both?{rows:ee(this.first.rows,be.rows,Ge[0]),cols:ee(this.first.cols,be.cols,Ge[1],!0)}:ee(this.first,be,Ge);this.last=we,this.numItemsInViewport=be,this.d_numToleratedItems=Ge,this.showLoader&&(this.loaderArr=this.both?Array.from({length:be.rows}).map(()=>Array.from({length:be.cols})):Array.from({length:be})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:xe.cols}:0:xe,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto";const{offsetWidth:be,offsetHeight:Ge}=this.contentEl;(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=(be<this.defaultWidth?be:this.defaultWidth)+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=(Ge<this.defaultHeight?Ge:this.defaultHeight)+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth=""}})}getLast(be=0,Ge=!1){return this._items?Math.min(Ge?(this._columns||this._items[0]).length:this._items.length,be):0}getContentPosition(){if(this.contentEl){const be=getComputedStyle(this.contentEl),Ge=parseFloat(be.paddingLeft)+Math.max(parseFloat(be.left)||0,0),ee=parseFloat(be.paddingRight)+Math.max(parseFloat(be.right)||0,0),xe=parseFloat(be.paddingTop)+Math.max(parseFloat(be.top)||0,0),we=parseFloat(be.paddingBottom)+Math.max(parseFloat(be.bottom)||0,0);return{left:Ge,right:ee,top:xe,bottom:we,x:Ge+ee,y:xe+we}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){var be;if(null!==(be=this.elementViewChild)&&void 0!==be&&be.nativeElement){const Ge=this.elementViewChild.nativeElement.parentElement.parentElement,ee=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||Ge.offsetWidth}px`,xe=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||Ge.offsetHeight}px`,we=(Pe,dt)=>this.elementViewChild.nativeElement.style[Pe]=dt;this.both||this.horizontal?(we("height",xe),we("width",ee)):we("height",xe)}}setSpacerSize(){if(this._items){const be=this.getContentPosition(),Ge=(ee,xe,we,Pe=0)=>this.spacerStyle=Object.assign(Object.assign({},this.spacerStyle),{[`${ee}`]:(xe||[]).length*we+Pe+"px"});this.both?(Ge("height",this._items,this._itemSize[0],be.y),Ge("width",this._columns||this._items[1],this._itemSize[1],be.x)):this.horizontal?Ge("width",this._columns||this._items,this._itemSize,be.x):Ge("height",this._items,this._itemSize,be.y)}}setContentPosition(be){if(this.contentEl&&!this._appendOnly){const Ge=be?be.first:this.first,ee=(we,Pe)=>we*Pe,xe=(we=0,Pe=0)=>this.contentStyle=Object.assign(Object.assign({},this.contentStyle),{transform:`translate3d(${we}px, ${Pe}px, 0)`});if(this.both)xe(ee(Ge.cols,this._itemSize[1]),ee(Ge.rows,this._itemSize[0]));else{const we=ee(Ge,this._itemSize);this.horizontal?xe(we,0):xe(0,we)}}}onScrollPositionChange(be){const Ge=be.target,ee=this.getContentPosition(),xe=(ct,at)=>ct?ct>at?ct-at:ct:0,we=(ct,at)=>Math.floor(ct/(at||ct)),Pe=(ct,at,me,De,ot,Ct)=>ct<=ot?ot:Ct?me-De-ot:at+ot-1,dt=(ct,at,me,De,ot,Ct,Ot)=>ct<=Ct?0:Math.max(0,Ot?ct<at?me:ct-Ct:ct>at?me:ct-2*Ct),bt=(ct,at,me,De,ot,Ct=!1)=>{let Ot=at+De+2*ot;return ct>=ot&&(Ot+=ot+1),this.getLast(Ot,Ct)},it=xe(Ge.scrollTop,ee.top),Dt=xe(Ge.scrollLeft,ee.left);let vt=this.both?{rows:0,cols:0}:0,Wt=this.last,zt=!1,Ut=this.lastScrollPos;if(this.both){const ct=this.lastScrollPos.top<=it,at=this.lastScrollPos.left<=Dt;if(!this._appendOnly||this._appendOnly&&(ct||at)){const me={rows:we(it,this._itemSize[0]),cols:we(Dt,this._itemSize[1])},De={rows:Pe(me.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],ct),cols:Pe(me.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],at)};vt={rows:dt(me.rows,De.rows,this.first.rows,0,0,this.d_numToleratedItems[0],ct),cols:dt(me.cols,De.cols,this.first.cols,0,0,this.d_numToleratedItems[1],at)},Wt={rows:bt(me.rows,vt.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:bt(me.cols,vt.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},zt=vt.rows!==this.first.rows||Wt.rows!==this.last.rows||vt.cols!==this.first.cols||Wt.cols!==this.last.cols,Ut={top:it,left:Dt}}}else{const ct=this.horizontal?Dt:it,at=this.lastScrollPos<=ct;if(!this._appendOnly||this._appendOnly&&at){const me=we(ct,this._itemSize);vt=dt(me,Pe(me,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,at),this.first,0,0,this.d_numToleratedItems,at),Wt=bt(me,vt,0,this.numItemsInViewport,this.d_numToleratedItems),zt=vt!==this.first||Wt!==this.last,Ut=ct}}return{first:vt,last:Wt,isRangeChanged:zt,scrollPos:Ut}}onScrollChange(be){const{first:Ge,last:ee,isRangeChanged:xe,scrollPos:we}=this.onScrollPositionChange(be);if(xe){const Pe={first:Ge,last:ee};if(this.setContentPosition(Pe),this.first=Ge,this.last=ee,this.lastScrollPos=we,this.handleEvents("onScrollIndexChange",Pe),this._lazy&&this.isPageChanged){const dt={first:this._step?Math.min(this.getPageByFirst()*this._step,this.items.length-this._step):Ge,last:Math.min(this._step?(this.getPageByFirst()+1)*this._step:ee,this.items.length)};(this.lazyLoadState.first!==dt.first||this.lazyLoadState.last!==dt.last)&&this.handleEvents("onLazyLoad",dt),this.lazyLoadState=dt}}}onContainerScroll(be){if(this.handleEvents("onScroll",{originalEvent:be}),this._delay&&this.isPageChanged){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:Ge}=this.onScrollPositionChange(be);(Ge||this._step&&this.isPageChanged)&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(be),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(be)}bindResizeListener(){this.windowResizeListener||this.zone.runOutsideAngular(()=>{this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener),window.addEventListener("orientationchange",this.windowResizeListener)})}unbindResizeListener(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),window.removeEventListener("orientationchange",this.windowResizeListener),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{var be;if(f.p.isVisible(null===(be=this.elementViewChild)||void 0===be?void 0:be.nativeElement)){const[Ge,ee]=[f.p.getWidth(this.elementViewChild.nativeElement),f.p.getHeight(this.elementViewChild.nativeElement)],[xe,we]=[Ge!==this.defaultWidth,ee!==this.defaultHeight];(this.both?xe||we:this.horizontal?xe:this.vertical&&we)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=Ge,this.defaultHeight=ee,this.init()})}},this._resizeDelay)}handleEvents(be,Ge){return this.options&&this.options[be]?this.options[be](Ge):this[be].emit(Ge)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:be=>this.getOptions(be),loading:this.d_loading,getLoaderOptions:(be,Ge)=>this.getLoaderOptions(be,Ge),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(be){const Ge=(this._items||[]).length,ee=this.both?this.first.rows+be:this.first+be;return{index:ee,count:Ge,first:0===ee,last:ee===Ge-1,even:ee%2==0,odd:ee%2!=0}}getLoaderOptions(be,Ge){const ee=this.loaderArr.length;return Object.assign({index:be,count:ee,first:0===be,last:be===ee-1,even:be%2==0,odd:be%2!=0},Ge)}}return Ae.\u0275fac=function(be){return new(be||Ae)(d.Y36(d.sBO),d.Y36(d.R0b))},Ae.\u0275cmp=d.Xpm({type:Ae,selectors:[["p-scroller"]],contentQueries:function(be,Ge,ee){if(1&be&&d.Suo(ee,u.jx,4),2&be){let xe;d.iGM(xe=d.CRH())&&(Ge.templates=xe)}},viewQuery:function(be,Ge){if(1&be&&(d.Gf(_,5),d.Gf(P,5)),2&be){let ee;d.iGM(ee=d.CRH())&&(Ge.elementViewChild=ee.first),d.iGM(ee=d.CRH())&&(Ge.contentViewChild=ee.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[d.TTD],ngContentSelectors:W,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["disabledContainer",""],[3,"ngStyle","ngClass","scroll"],["element",""],["buildInContent",""],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],["content",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],["buildInLoader",""],[4,"ngFor","ngForOf"],["buildInLoaderIcon",""],[1,"p-scroller-loading-icon","pi","pi-spinner","pi-spin"],[4,"ngIf"]],template:function(be,Ge){if(1&be&&(d.F$t(),d.YNc(0,j,8,14,"ng-container",0),d.YNc(1,X,2,1,"ng-template",null,1,d.W1O)),2&be){const ee=d.MAs(2);d.Q6J("ngIf",!Ge._disabled)("ngIfElse",ee)}},dependencies:[e.mk,e.sg,e.O5,e.tP,e.PC],styles:["p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{font-size:2rem}.p-scroller-inline .p-scroller-content{position:static}\n"],encapsulation:2}),Ae})(),Te=(()=>{class Ae{}return Ae.\u0275fac=function(be){return new(be||Ae)},Ae.\u0275mod=d.oAB({type:Ae}),Ae.\u0275inj=d.cJS({imports:[e.ez]}),Ae})()},7102:(hn,ht,b)=>{"use strict";b.d(ht,{Qy:()=>D,UN:()=>y});var e=b(5e3),d=b(9808),u=b(5921),f=b(5787),_=b(2382);function P(k,B){if(1&k&&e._UZ(0,"span",8),2&k){const N=e.oxw(2).$implicit;e.Tol(N.icon),e.Q6J("ngClass","p-button-icon p-button-icon-left")}}function x(k,B){if(1&k&&(e.ynx(0),e.YNc(1,P,1,3,"span",6),e.TgZ(2,"span",7),e._uU(3),e.qZA(),e.BQk()),2&k){const N=e.oxw().$implicit,ce=e.oxw();e.xp6(1),e.Q6J("ngIf",N.icon),e.xp6(2),e.Oqu(ce.getOptionLabel(N))}}function a(k,B){1&k&&e.GkF(0)}const R=function(k,B){return{$implicit:k,index:B}};function L(k,B){if(1&k&&e.YNc(0,a,1,0,"ng-container",9),2&k){const N=e.oxw(),ce=N.$implicit,$=N.index,z=e.oxw();e.Q6J("ngTemplateOutlet",z.itemTemplate)("ngTemplateOutletContext",e.WLB(2,R,ce,$))}}const V=function(k,B,N){return{"p-highlight":k,"p-disabled":B,"p-button-icon-only":N}};function F(k,B){if(1&k){const N=e.EpF();e.TgZ(0,"div",2,3),e.NdJ("click",function($){const z=e.CHM(N),S=z.$implicit,O=z.index,K=e.oxw();return e.KtG(K.onItemClick($,S,O))})("keydown.enter",function($){const z=e.CHM(N),S=z.$implicit,O=z.index,K=e.oxw();return e.KtG(K.onItemClick($,S,O))})("blur",function(){e.CHM(N);const $=e.oxw();return e.KtG($.onBlur())}),e.YNc(2,x,4,2,"ng-container",4),e.YNc(3,L,1,5,"ng-template",null,5,e.W1O),e.qZA()}if(2&k){const N=B.$implicit,ce=e.MAs(4),$=e.oxw();e.Tol(N.styleClass),e.Q6J("ngClass",e.kEZ(10,V,$.isSelected(N),$.disabled||$.isOptionDisabled(N),N.icon&&!$.getOptionLabel(N))),e.uIk("aria-pressed",$.isSelected(N))("title",N.title)("aria-label",N.label)("tabindex",$.disabled?null:$.tabindex)("aria-labelledby",$.getOptionLabel(N)),e.xp6(2),e.Q6J("ngIf",!$.itemTemplate)("ngIfElse",ce)}}const T={provide:_.JU,useExisting:(0,e.Gpc)(()=>y),multi:!0};let y=(()=>{class k{constructor(N){this.cd=N,this.tabindex=0,this.onOptionClick=new e.vpe,this.onChange=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(N){return this.optionLabel?u.gb.resolveFieldData(N,this.optionLabel):null!=N.label?N.label:N}getOptionValue(N){return this.optionValue?u.gb.resolveFieldData(N,this.optionValue):this.optionLabel||void 0===N.value?N:N.value}isOptionDisabled(N){return this.optionDisabled?u.gb.resolveFieldData(N,this.optionDisabled):void 0!==N.disabled&&N.disabled}writeValue(N){this.value=N,this.cd.markForCheck()}registerOnChange(N){this.onModelChange=N}registerOnTouched(N){this.onModelTouched=N}setDisabledState(N){this.disabled=N,this.cd.markForCheck()}onItemClick(N,ce,$){if(!this.disabled&&!this.isOptionDisabled(ce)){if(this.multiple)this.isSelected(ce)?this.removeOption(ce):this.value=[...this.value||[],this.getOptionValue(ce)],this.onModelChange(this.value),this.onChange.emit({originalEvent:N,value:this.value});else{let z=this.getOptionValue(ce);this.value!==z&&(this.value=this.getOptionValue(ce),this.onModelChange(this.value),this.onChange.emit({originalEvent:N,value:this.value}))}this.onOptionClick.emit({originalEvent:N,option:ce,index:$})}}onBlur(){this.onModelTouched()}removeOption(N){this.value=this.value.filter(ce=>!u.gb.equals(ce,this.getOptionValue(N),this.dataKey))}isSelected(N){let ce=!1,$=this.getOptionValue(N);if(this.multiple){if(this.value&&this.value instanceof Array)for(let z of this.value)if(u.gb.equals(z,$,this.dataKey)){ce=!0;break}}else ce=u.gb.equals(this.getOptionValue(N),this.value,this.dataKey);return ce}}return k.\u0275fac=function(N){return new(N||k)(e.Y36(e.sBO))},k.\u0275cmp=e.Xpm({type:k,selectors:[["p-selectButton"]],contentQueries:function(N,ce,$){if(1&N&&e.Suo($,e.Rgc,5),2&N){let z;e.iGM(z=e.CRH())&&(ce.itemTemplate=z.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[e._Bn([T])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(N,ce){1&N&&(e.TgZ(0,"div",0),e.YNc(1,F,5,14,"div",1),e.qZA()),2&N&&(e.Tol(ce.styleClass),e.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",ce.style),e.xp6(1),e.Q6J("ngForOf",ce.options))},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,f.H],styles:['.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}\n'],encapsulation:2,changeDetection:0}),k})(),D=(()=>{class k{}return k.\u0275fac=function(N){return new(N||k)},k.\u0275mod=e.oAB({type:k}),k.\u0275inj=e.cJS({imports:[d.ez,f.T]}),k})()},4500:(hn,ht,b)=>{"use strict";b.d(ht,{O:()=>u,m:()=>f});var e=b(5e3),d=b(9808);let u=(()=>{class _{constructor(){this.shape="rectangle",this.animation="wave",this.borderRadius=null,this.size=null,this.width="100%",this.height="1rem"}containerClass(){return{"p-skeleton p-component":!0,"p-skeleton-circle":"circle"===this.shape,"p-skeleton-none":"none"===this.animation}}containerStyle(){return Object.assign(Object.assign({},this.style),this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius})}}return _.\u0275fac=function(x){return new(x||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["p-skeleton"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",shape:"shape",animation:"animation",borderRadius:"borderRadius",size:"size",width:"width",height:"height"},decls:1,vars:4,consts:[[3,"ngClass","ngStyle"]],template:function(x,a){1&x&&e._UZ(0,"div",0),2&x&&(e.Tol(a.styleClass),e.Q6J("ngClass",a.containerClass())("ngStyle",a.containerStyle()))},dependencies:[d.mk,d.PC],styles:['.p-skeleton{position:relative;overflow:hidden}.p-skeleton:after{content:"";animation:p-skeleton-animation 1.2s infinite;height:100%;left:0;position:absolute;right:0;top:0;transform:translate(-100%);z-index:1}.p-skeleton.p-skeleton-circle{border-radius:50%}.p-skeleton-none:after{animation:none}@keyframes p-skeleton-animation{0%{transform:translate(-100%)}to{transform:translate(100%)}}\n'],encapsulation:2,changeDetection:0}),_})(),f=(()=>{class _{}return _.\u0275fac=function(x){return new(x||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[d.ez]}),_})()},4496:(hn,ht,b)=>{"use strict";b.d(ht,{aj:()=>Ge,ce:()=>ee});var e=b(5e3),d=b(1777),u=b(9808),f=b(5730),_=b(3470),P=b(5921),x=b(4119),a=b(9783);const R=["sublist"],L=function(xe){return{"p-hidden":xe}};function V(xe,we){if(1&xe&&e._UZ(0,"li",5),2&xe){const Pe=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,L,!1===Pe.visible))}}function F(xe,we){if(1&xe&&e._UZ(0,"span",17),2&xe){const Pe=e.oxw(3).$implicit;e.Q6J("ngClass",Pe.icon)("ngStyle",Pe.iconStyle)}}function T(xe,we){if(1&xe&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&xe){const Pe=e.oxw(3).$implicit;e.xp6(1),e.Oqu(Pe.label)}}function y(xe,we){if(1&xe&&e._UZ(0,"span",19),2&xe){const Pe=e.oxw(3).$implicit;e.Q6J("innerHTML",Pe.label,e.oJD)}}function D(xe,we){if(1&xe&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&xe){const Pe=e.oxw(3).$implicit;e.Q6J("ngClass",Pe.badgeStyleClass),e.xp6(1),e.Oqu(Pe.badge)}}function k(xe,we){1&xe&&e._UZ(0,"span",21)}const B=function(xe){return{"p-disabled":xe}};function N(xe,we){if(1&xe){const Pe=e.EpF();e.TgZ(0,"a",11),e.NdJ("keydown",function(bt){e.CHM(Pe);const it=e.oxw(3);return e.KtG(it.onItemKeyDown(bt))})("click",function(bt){e.CHM(Pe),e.oxw();const it=e.MAs(1),Dt=e.oxw().$implicit,vt=e.oxw();return e.KtG(vt.itemClick(bt,Dt,it))}),e.YNc(1,F,1,2,"span",12),e.YNc(2,T,2,1,"span",13),e.YNc(3,y,1,1,"ng-template",null,14,e.W1O),e.YNc(5,D,2,2,"span",15),e.YNc(6,k,1,0,"span",16),e.qZA()}if(2&xe){const Pe=e.MAs(4),dt=e.oxw(2).$implicit,bt=e.oxw();e.Q6J("target",dt.target)("ngClass",e.VKq(11,B,dt.disabled)),e.uIk("href",dt.url,e.LSH)("title",dt.title)("id",dt.id)("tabindex",dt.disabled||!bt.isActive?null:"0"),e.xp6(1),e.Q6J("ngIf",dt.icon),e.xp6(1),e.Q6J("ngIf",!1!==dt.escape)("ngIfElse",Pe),e.xp6(3),e.Q6J("ngIf",dt.badge),e.xp6(1),e.Q6J("ngIf",dt.items)}}function ce(xe,we){if(1&xe&&e._UZ(0,"span",17),2&xe){const Pe=e.oxw(3).$implicit;e.Q6J("ngClass",Pe.icon)("ngStyle",Pe.iconStyle)}}function $(xe,we){if(1&xe&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&xe){const Pe=e.oxw(3).$implicit;e.xp6(1),e.Oqu(Pe.label)}}function z(xe,we){if(1&xe&&e._UZ(0,"span",19),2&xe){const Pe=e.oxw(3).$implicit;e.Q6J("innerHTML",Pe.label,e.oJD)}}function S(xe,we){if(1&xe&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&xe){const Pe=e.oxw(3).$implicit;e.Q6J("ngClass",Pe.badgeStyleClass),e.xp6(1),e.Oqu(Pe.badge)}}function O(xe,we){1&xe&&e._UZ(0,"span",24)}const K=function(){return{exact:!1}};function ue(xe,we){if(1&xe){const Pe=e.EpF();e.TgZ(0,"a",22),e.NdJ("keydown",function(bt){e.CHM(Pe);const it=e.oxw(3);return e.KtG(it.onItemKeyDown(bt))})("click",function(bt){e.CHM(Pe),e.oxw();const it=e.MAs(1),Dt=e.oxw().$implicit,vt=e.oxw();return e.KtG(vt.itemClick(bt,Dt,it))}),e.YNc(1,ce,1,2,"span",12),e.YNc(2,$,2,1,"span",13),e.YNc(3,z,1,1,"ng-template",null,14,e.W1O),e.YNc(5,S,2,2,"span",15),e.YNc(6,O,1,0,"span",23),e.qZA()}if(2&xe){const Pe=e.MAs(4),dt=e.oxw(2).$implicit,bt=e.oxw();e.Q6J("routerLink",dt.routerLink)("queryParams",dt.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",dt.routerLinkActiveOptions||e.DdM(21,K))("href",dt.url,e.LSH)("target",dt.target)("ngClass",e.VKq(22,B,dt.disabled))("fragment",dt.fragment)("queryParamsHandling",dt.queryParamsHandling)("preserveFragment",dt.preserveFragment)("skipLocationChange",dt.skipLocationChange)("replaceUrl",dt.replaceUrl)("state",dt.state),e.uIk("title",dt.title)("id",dt.id)("tabindex",dt.disabled||!bt.isActive?null:"0"),e.xp6(1),e.Q6J("ngIf",dt.icon),e.xp6(1),e.Q6J("ngIf",!1!==dt.escape)("ngIfElse",Pe),e.xp6(3),e.Q6J("ngIf",dt.badge),e.xp6(1),e.Q6J("ngIf",dt.items)}}function q(xe,we){if(1&xe&&e._UZ(0,"p-slideMenuSub",25),2&xe){const Pe=e.oxw(2).$implicit,dt=e.oxw();e.Q6J("item",Pe)("index",dt.index+1)("menuWidth",dt.menuWidth)}}const G=function(xe,we){return{"p-menuitem":!0,"p-menuitem-active":xe,"p-hidden":we}};function j(xe,we){if(1&xe&&(e.TgZ(0,"li",6,7),e.YNc(2,N,7,13,"a",8),e.YNc(3,ue,7,24,"a",9),e.YNc(4,q,1,3,"p-slideMenuSub",10),e.qZA()),2&xe){const Pe=e.MAs(1),dt=e.oxw().$implicit,bt=e.oxw();e.Tol(dt.styleClass),e.Q6J("ngClass",e.WLB(8,G,Pe==bt.activeItem,!1===dt.visible))("tooltipOptions",dt.tooltipOptions)("ngStyle",dt.style),e.xp6(2),e.Q6J("ngIf",!dt.routerLink),e.xp6(1),e.Q6J("ngIf",dt.routerLink),e.xp6(1),e.Q6J("ngIf",dt.items)}}function fe(xe,we){if(1&xe&&(e.YNc(0,V,1,3,"li",3),e.YNc(1,j,5,11,"li",4)),2&xe){const Pe=we.$implicit;e.Q6J("ngIf",Pe.separator),e.xp6(1),e.Q6J("ngIf",!Pe.separator)}}const ne=function(xe,we,Pe){return{"p-slidemenu-rootlist":xe,"p-submenu-list":we,"p-active-submenu":Pe}},J=["container"],X=["backward"],W=["slideMenuContent"],Y=function(xe){return{"p-slidemenu p-component":!0,"p-slidemenu-overlay":xe}},Te=function(xe,we){return{showTransitionParams:xe,hideTransitionParams:we}},Ae=function(xe){return{value:"visible",params:xe}};function Ke(xe,we){if(1&xe){const Pe=e.EpF();e.TgZ(0,"div",1,2),e.NdJ("click",function(bt){e.CHM(Pe);const it=e.oxw();return e.KtG(it.onOverlayClick(bt))})("@overlayAnimation.start",function(bt){e.CHM(Pe);const it=e.oxw();return e.KtG(it.onOverlayAnimationStart(bt))})("@overlayAnimation.done",function(bt){e.CHM(Pe);const it=e.oxw();return e.KtG(it.onOverlayAnimationEnd(bt))}),e.TgZ(2,"div",3)(3,"div",4,5),e._UZ(5,"p-slideMenuSub",6),e.qZA(),e.TgZ(6,"a",7,8),e.NdJ("keydown.enter",function(bt){e.CHM(Pe);const it=e.oxw();return e.KtG(it.onBackwardKeydown(bt))})("keydown.space",function(bt){e.CHM(Pe);const it=e.oxw();return e.KtG(it.onBackwardKeydown(bt))})("click",function(){e.CHM(Pe);const bt=e.oxw();return e.KtG(bt.goBack())}),e._UZ(8,"span",9),e.TgZ(9,"span"),e._uU(10),e.qZA()()()()}if(2&xe){const Pe=e.oxw();e.Tol(Pe.styleClass),e.Q6J("ngClass",e.VKq(18,Y,Pe.popup))("ngStyle",Pe.style)("@overlayAnimation",e.VKq(23,Ae,e.WLB(20,Te,Pe.showTransitionOptions,Pe.hideTransitionOptions)))("@.disabled",!0!==Pe.popup),e.xp6(2),e.Udp("height",Pe.left?Pe.viewportHeight+"px":"auto")("width",Pe.menuWidth+"px"),e.xp6(3),e.Q6J("item",Pe.model)("index",0)("menuWidth",Pe.menuWidth)("effectDuration",Pe.effectDuration)("easing",Pe.easing),e.xp6(1),e.Udp("display",Pe.left?"block":"none"),e.xp6(4),e.Oqu(Pe.backLabel)}}let be=(()=>{class xe{constructor(Pe){this.backLabel="Back",this.easing="ease-out",this.slideMenu=Pe}itemClick(Pe,dt,bt){dt.disabled?Pe.preventDefault():(!dt.url&&!dt.routerLink&&Pe.preventDefault(),dt.command&&dt.command({originalEvent:Pe,item:dt}),dt.items&&!this.slideMenu.animating&&(this.slideMenu.left-=this.slideMenu.menuWidth,this.activeItem=bt,this.slideMenu.animating=!0,setTimeout(()=>this.slideMenu.animating=!1,this.effectDuration)),!dt.items&&this.slideMenu.popup&&this.slideMenu.hide())}focusNextList(Pe){if(!this.slideMenu.animating){let dt=f.p.getFocusableElements(Pe);dt&&dt.length>0&&dt[0].focus(),this.unbindTransitionEndListener()}}onItemKeyDown(Pe){let dt=Pe.currentTarget.parentElement;switch(Pe.code){case"Space":case"Enter":dt&&!f.p.hasClass(dt,"p-disabled")&&(dt.children[0].click(),this.transitionEndListener=this.focusNextList.bind(this,dt),this.sublistViewChild.nativeElement.addEventListener("transitionend",this.transitionEndListener)),Pe.preventDefault()}}unbindTransitionEndListener(){this.transitionEndListener&&this.sublistViewChild&&(this.sublistViewChild.nativeElement.removeEventListener("transitionend",this.transitionEndListener),this.transitionEndListener=null)}ngOnDestroy(){this.activeItem=null,this.unbindTransitionEndListener()}get isActive(){return-this.slideMenu.left==this.index*this.menuWidth}}return xe.\u0275fac=function(Pe){return new(Pe||xe)(e.Y36((0,e.Gpc)(()=>Ge)))},xe.\u0275cmp=e.Xpm({type:xe,selectors:[["p-slideMenuSub"]],viewQuery:function(Pe,dt){if(1&Pe&&e.Gf(R,5),2&Pe){let bt;e.iGM(bt=e.CRH())&&(dt.sublistViewChild=bt.first)}},hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",backLabel:"backLabel",menuWidth:"menuWidth",effectDuration:"effectDuration",easing:"easing",index:"index"},decls:3,vars:16,consts:[[3,"ngClass"],["sublist",""],["ngFor","",3,"ngForOf"],["class","p-menu-separator",3,"ngClass",4,"ngIf"],["pTooltip","",3,"ngClass","tooltipOptions","class","ngStyle",4,"ngIf"],[1,"p-menu-separator",3,"ngClass"],["pTooltip","",3,"ngClass","tooltipOptions","ngStyle"],["listitem",""],["class","p-menuitem-link",3,"target","ngClass","keydown","click",4,"ngIf"],["class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","href","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click",4,"ngIf"],["class","p-submenu",3,"item","index","menuWidth",4,"ngIf"],[1,"p-menuitem-link",3,"target","ngClass","keydown","click"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlRouteLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],["class","p-submenu-icon pi pi-fw pi-angle-right",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[1,"p-submenu-icon","pi","pi-fw","pi-angle-right"],[1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","href","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click"],["class","p-submenu-icon pi pi-fw pi-caret-right",4,"ngIf"],[1,"p-submenu-icon","pi","pi-fw","pi-caret-right"],[1,"p-submenu",3,"item","index","menuWidth"]],template:function(Pe,dt){1&Pe&&(e.TgZ(0,"ul",0,1),e.YNc(2,fe,2,2,"ng-template",2),e.qZA()),2&Pe&&(e.Udp("width",dt.menuWidth,"px")("left",dt.root?dt.slideMenu.left:dt.slideMenu.menuWidth,"px")("transition-property",dt.root?"left":"none")("transition-duration",dt.effectDuration+"ms")("transition-timing-function",dt.easing),e.Q6J("ngClass",e.kEZ(12,ne,dt.root,!dt.root,dt.isActive)),e.xp6(2),e.Q6J("ngForOf",dt.root?dt.item:dt.item.items))},dependencies:[u.mk,u.sg,u.O5,u.PC,_.yS,_.Od,x.u,xe],encapsulation:2}),xe})(),Ge=(()=>{class xe{constructor(Pe,dt,bt,it,Dt){this.el=Pe,this.renderer=dt,this.cd=bt,this.config=it,this.overlayService=Dt,this.menuWidth=190,this.viewportHeight=180,this.effectDuration=250,this.easing="ease-out",this.backLabel="Back",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new e.vpe,this.onHide=new e.vpe,this.left=0,this.animating=!1}ngAfterViewChecked(){!this.viewportUpdated&&!this.popup&&this.containerViewChild&&(this.updateViewPort(),this.viewportUpdated=!0)}set container(Pe){this.containerViewChild=Pe}set backward(Pe){this.backwardViewChild=Pe}set slideMenuContent(Pe){this.slideMenuContentViewChild=Pe}updateViewPort(){this.slideMenuContentViewChild.nativeElement.style.height=this.viewportHeight-f.p.getHiddenElementOuterHeight(this.backwardViewChild.nativeElement)+"px"}toggle(Pe){this.visible?this.hide():this.show(Pe),this.preventDocumentDefault=!0}show(Pe){this.target=Pe.currentTarget,this.visible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayClick(Pe){this.popup&&this.overlayService.add({originalEvent:Pe,target:this.el.nativeElement}),this.preventDocumentDefault=!0}onOverlayAnimationStart(Pe){switch(Pe.toState){case"visible":this.popup&&(this.updateViewPort(),this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),f.p.absolutePosition(this.containerViewChild.nativeElement,this.target),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.onOverlayHide(),this.onHide.emit({})}}onOverlayAnimationEnd(Pe){"void"===Pe.toState&&P.P9.clear(Pe.element)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.containerViewChild.nativeElement):f.p.appendChild(this.containerViewChild.nativeElement,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.containerViewChild.nativeElement)}moveOnTop(){this.autoZIndex&&P.P9.set("menu",this.containerViewChild.nativeElement,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.cd.markForCheck()}onWindowResize(){this.visible&&!f.p.isTouchDevice()&&this.hide()}goBack(){this.left+=this.menuWidth}onBackwardKeydown(Pe){this.goBack(),this.left||setTimeout(()=>{let dt=f.p.getFocusableElements(this.el.nativeElement);dt&&dt.length>0&&dt[0].focus()},1),Pe.preventDefault()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.preventDocumentDefault||(this.hide(),this.cd.detectChanges()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new f.V(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.left=0,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.restoreOverlayAppend(),this.onOverlayHide())}}return xe.\u0275fac=function(Pe){return new(Pe||xe)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(a.b4),e.Y36(a.F0))},xe.\u0275cmp=e.Xpm({type:xe,selectors:[["p-slideMenu"]],viewQuery:function(Pe,dt){if(1&Pe&&(e.Gf(J,5),e.Gf(X,5),e.Gf(W,5)),2&Pe){let bt;e.iGM(bt=e.CRH())&&(dt.container=bt.first),e.iGM(bt=e.CRH())&&(dt.backward=bt.first),e.iGM(bt=e.CRH())&&(dt.slideMenuContent=bt.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",menuWidth:"menuWidth",viewportHeight:"viewportHeight",effectDuration:"effectDuration",easing:"easing",backLabel:"backLabel",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["container",""],[1,"p-slidemenu-wrapper"],[1,"p-slidemenu-content"],["slideMenuContent",""],["root","root",3,"item","index","menuWidth","effectDuration","easing"],["tabindex","0",1,"p-slidemenu-backward","p-menuitem-link",3,"keydown.enter","keydown.space","click"],["backward",""],[1,"p-slidemenu-backward-icon","pi","pi-fw","pi-caret-left"]],template:function(Pe,dt){1&Pe&&e.YNc(0,Ke,11,25,"div",0),2&Pe&&e.Q6J("ngIf",!dt.popup||dt.visible)},dependencies:[u.mk,u.O5,u.PC,be],styles:[".p-slidemenu{width:12.5rem}.p-slidemenu.p-slidemenu-overlay{position:absolute;top:0;left:0}.p-slidemenu ul{list-style:none;margin:0;padding:0}.p-slidemenu .p-slidemenu-rootlist{position:absolute;top:0}.p-slidemenu .p-submenu-list{display:none;position:absolute;top:0;width:12.5rem}.p-slidemenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden}.p-slidemenu .p-menuitem-icon,.p-slidemenu .p-menuitem-text{vertical-align:middle}.p-slidemenu .p-menuitem{position:relative}.p-slidemenu .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-slidemenu .p-slidemenu-wrapper{position:relative}.p-slidemenu .p-slidemenu-content{overflow-x:hidden;overflow-y:auto;position:relative}.p-slidemenu-backward{position:absolute;bottom:0;width:100%;cursor:pointer;display:none}.p-slidemenu-backward .p-slidemenu-backward-icon,.p-slidemenu-backward span{vertical-align:middle}.p-slidemenu .p-menuitem-active{position:static}.p-slidemenu .p-menuitem-active>.p-submenu>.p-submenu-list{display:block}.p-slidemenu ul:not(.p-active-submenu)>.p-menuitem:not(.p-menuitem-active),.p-slidemenu .p-active-submenu>.p-menuitem-active>.p-submenu>.p-submenu-list{display:none}.p-slidemenu .p-active-submenu>.p-menuitem-active~.p-menuitem{display:block}\n"],encapsulation:2,data:{animation:[(0,d.X$)("overlayAnimation",[(0,d.eR)(":enter",[(0,d.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,d.jt)("{{showTransitionParams}}")]),(0,d.eR)(":leave",[(0,d.jt)("{{hideTransitionParams}}",(0,d.oB)({opacity:0}))])])]},changeDetection:0}),xe})(),ee=(()=>{class xe{}return xe.\u0275fac=function(Pe){return new(Pe||xe)},xe.\u0275mod=e.oAB({type:xe}),xe.\u0275inj=e.cJS({imports:[u.ez,_.Bz,x.z,_.Bz,x.z]}),xe})()},4776:(hn,ht,b)=>{"use strict";b.d(ht,{JH:()=>K,iR:()=>O});var e=b(9808),d=b(5e3),u=b(2382),f=b(5730);const _=["sliderHandle"],P=["sliderHandleStart"],x=["sliderHandleEnd"],a=function(ue,q){return{left:ue,width:q}};function R(ue,q){if(1&ue&&d._UZ(0,"span",4),2&ue){const G=d.oxw();d.Q6J("ngStyle",d.WLB(1,a,null!=G.offset?G.offset+"%":G.handleValues[0]+"%",G.diff?G.diff+"%":G.handleValues[1]-G.handleValues[0]+"%"))}}const L=function(ue,q){return{bottom:ue,height:q}};function V(ue,q){if(1&ue&&d._UZ(0,"span",4),2&ue){const G=d.oxw();d.Q6J("ngStyle",d.WLB(1,L,null!=G.offset?G.offset+"%":G.handleValues[0]+"%",G.diff?G.diff+"%":G.handleValues[1]-G.handleValues[0]+"%"))}}const F=function(ue){return{height:ue}};function T(ue,q){if(1&ue&&d._UZ(0,"span",4),2&ue){const G=d.oxw();d.Q6J("ngStyle",d.VKq(1,F,G.handleValue+"%"))}}const y=function(ue){return{width:ue}};function D(ue,q){if(1&ue&&d._UZ(0,"span",4),2&ue){const G=d.oxw();d.Q6J("ngStyle",d.VKq(1,y,G.handleValue+"%"))}}const k=function(ue,q){return{left:ue,bottom:q}};function B(ue,q){if(1&ue){const G=d.EpF();d.TgZ(0,"span",5,6),d.NdJ("keydown",function(fe){d.CHM(G);const ne=d.oxw();return d.KtG(ne.onHandleKeydown(fe))})("mousedown",function(fe){d.CHM(G);const ne=d.oxw();return d.KtG(ne.onMouseDown(fe))})("touchstart",function(fe){d.CHM(G);const ne=d.oxw();return d.KtG(ne.onTouchStart(fe))})("touchmove",function(fe){d.CHM(G);const ne=d.oxw();return d.KtG(ne.onTouchMove(fe))})("touchend",function(fe){d.CHM(G);const ne=d.oxw();return d.KtG(ne.onTouchEnd(fe))}),d.qZA()}if(2&ue){const G=d.oxw();d.Udp("transition",G.dragging?"none":null),d.Q6J("ngStyle",d.WLB(8,k,"horizontal"==G.orientation?G.handleValue+"%":null,"vertical"==G.orientation?G.handleValue+"%":null)),d.uIk("tabindex",G.disabled?null:G.tabindex)("aria-valuemin",G.min)("aria-valuenow",G.value)("aria-valuemax",G.max)("aria-labelledby",G.ariaLabelledBy)}}const N=function(ue){return{"p-slider-handle-active":ue}};function ce(ue,q){if(1&ue){const G=d.EpF();d.TgZ(0,"span",7,8),d.NdJ("keydown",function(fe){d.CHM(G);const ne=d.oxw();return d.KtG(ne.onHandleKeydown(fe,0))})("mousedown",function(fe){d.CHM(G);const ne=d.oxw();return d.KtG(ne.onMouseDown(fe,0))})("touchstart",function(fe){d.CHM(G);const ne=d.oxw();return d.KtG(ne.onTouchStart(fe,0))})("touchmove",function(fe){d.CHM(G);const ne=d.oxw();return d.KtG(ne.onTouchMove(fe,0))})("touchend",function(fe){d.CHM(G);const ne=d.oxw();return d.KtG(ne.onTouchEnd(fe))}),d.qZA()}if(2&ue){const G=d.oxw();d.Udp("transition",G.dragging?"none":null),d.Q6J("ngStyle",d.WLB(9,k,G.rangeStartLeft,G.rangeStartBottom))("ngClass",d.VKq(12,N,0==G.handleIndex)),d.uIk("tabindex",G.disabled?null:G.tabindex)("aria-valuemin",G.min)("aria-valuenow",G.value?G.value[0]:null)("aria-valuemax",G.max)("aria-labelledby",G.ariaLabelledBy)}}function $(ue,q){if(1&ue){const G=d.EpF();d.TgZ(0,"span",7,9),d.NdJ("keydown",function(fe){d.CHM(G);const ne=d.oxw();return d.KtG(ne.onHandleKeydown(fe,1))})("mousedown",function(fe){d.CHM(G);const ne=d.oxw();return d.KtG(ne.onMouseDown(fe,1))})("touchstart",function(fe){d.CHM(G);const ne=d.oxw();return d.KtG(ne.onTouchStart(fe,1))})("touchmove",function(fe){d.CHM(G);const ne=d.oxw();return d.KtG(ne.onTouchMove(fe,1))})("touchend",function(fe){d.CHM(G);const ne=d.oxw();return d.KtG(ne.onTouchEnd(fe))}),d.qZA()}if(2&ue){const G=d.oxw();d.Udp("transition",G.dragging?"none":null),d.Q6J("ngStyle",d.WLB(9,k,G.rangeEndLeft,G.rangeEndBottom))("ngClass",d.VKq(12,N,1==G.handleIndex)),d.uIk("tabindex",G.disabled?null:G.tabindex)("aria-valuemin",G.min)("aria-valuenow",G.value?G.value[1]:null)("aria-valuemax",G.max)("aria-labelledby",G.ariaLabelledBy)}}const z=function(ue,q,G,j){return{"p-slider p-component":!0,"p-disabled":ue,"p-slider-horizontal":q,"p-slider-vertical":G,"p-slider-animate":j}},S={provide:u.JU,useExisting:(0,d.Gpc)(()=>O),multi:!0};let O=(()=>{class ue{constructor(G,j,fe,ne){this.el=G,this.renderer=j,this.ngZone=fe,this.cd=ne,this.min=0,this.max=100,this.orientation="horizontal",this.tabindex=0,this.onChange=new d.vpe,this.onSlideEnd=new d.vpe,this.handleValues=[],this.onModelChange=()=>{},this.onModelTouched=()=>{},this.handleIndex=0}onMouseDown(G,j){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:j,this.bindDragListeners(),G.target.focus(),G.preventDefault(),this.animate&&f.p.removeClass(this.el.nativeElement.children[0],"p-slider-animate"))}onTouchStart(G,j){if(!this.disabled){var fe=G.changedTouches[0];this.startHandleValue=this.range?this.handleValues[j]:this.handleValue,this.dragging=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:j,"horizontal"===this.orientation?(this.startx=parseInt(fe.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(fe.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),this.animate&&f.p.removeClass(this.el.nativeElement.children[0],"p-slider-animate"),G.preventDefault()}}onTouchMove(G,j){if(!this.disabled){var ne,fe=G.changedTouches[0];ne="horizontal"===this.orientation?Math.floor(100*(parseInt(fe.clientX,10)-this.startx)/this.barWidth)+this.startHandleValue:Math.floor(100*(this.starty-parseInt(fe.clientY,10))/this.barHeight)+this.startHandleValue,this.setValueFromHandle(G,ne),G.preventDefault()}}onTouchEnd(G,j){this.disabled||(this.dragging=!1,this.onSlideEnd.emit(this.range?{originalEvent:G,values:this.values}:{originalEvent:G,value:this.value}),this.animate&&f.p.addClass(this.el.nativeElement.children[0],"p-slider-animate"),G.preventDefault())}onBarClick(G){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(G)),this.sliderHandleClick=!1)}onHandleKeydown(G,j){this.disabled||(38==G.which||39==G.which?this.spin(G,1,j):(37==G.which||40==G.which)&&this.spin(G,-1,j))}spin(G,j,fe){let ne=(this.step||1)*j;this.range?(this.handleIndex=fe,this.updateValue(this.values[this.handleIndex]+ne),this.updateHandleValue()):(this.updateValue(this.value+ne),this.updateHandleValue()),G.preventDefault()}handleChange(G){let j=this.calculateHandleValue(G);this.setValueFromHandle(G,j)}bindDragListeners(){this.ngZone.runOutsideAngular(()=>{const G=this.el?this.el.nativeElement.ownerDocument:"document";this.dragListener||(this.dragListener=this.renderer.listen(G,"mousemove",j=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(j)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(G,"mouseup",j=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.onSlideEnd.emit(this.range?{originalEvent:j,values:this.values}:{originalEvent:j,value:this.value}),this.animate&&f.p.addClass(this.el.nativeElement.children[0],"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&this.dragListener(),this.mouseupListener&&this.mouseupListener()}setValueFromHandle(G,j){this.sliderHandleClick=!1;let fe=this.getValueFromHandle(j);this.range?this.step?this.handleStepChange(fe,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=j,this.updateValue(fe,G)):this.step?this.handleStepChange(fe,this.value):(this.handleValue=j,this.updateValue(fe,G)),this.cd.markForCheck()}handleStepChange(G,j){let fe=G-j,ne=j;fe<0?ne=j+Math.ceil(G/this.step-j/this.step)*this.step:fe>0&&(ne=j+Math.floor(G/this.step-j/this.step)*this.step),this.updateValue(ne),this.updateHandleValue()}writeValue(G){this.range?this.values=G||[0,0]:this.value=G||0,this.updateHandleValue(),this.updateDiffAndOffset(),this.cd.markForCheck()}registerOnChange(G){this.onModelChange=G}registerOnTouched(G){this.onModelTouched=G}setDisabledState(G){this.disabled=G,this.cd.markForCheck()}get rangeStartLeft(){return this.isVertical()?null:this.handleValues[0]>100?"100%":this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?null:this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return"vertical"===this.orientation}updateDomData(){let G=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=G.left+f.p.getWindowScrollLeft(),this.initY=G.top+f.p.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight}calculateHandleValue(G){return"horizontal"===this.orientation?100*(G.pageX-this.initX)/this.barWidth:100*(this.initY+this.barHeight-G.pageY)/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=100*(this.values[0]<this.min?0:this.values[0]-this.min)/(this.max-this.min),this.handleValues[1]=100*(this.values[1]>this.max?100:this.values[1]-this.min)/(this.max-this.min)):this.handleValue=this.value<this.min?0:this.value>this.max?100:100*(this.value-this.min)/(this.max-this.min),this.step&&this.updateDiffAndOffset()}updateDiffAndOffset(){this.diff=this.getDiff(),this.offset=this.getOffset()}getDiff(){return Math.abs(this.handleValues[0]-this.handleValues[1])}getOffset(){return Math.min(this.handleValues[0],this.handleValues[1])}updateValue(G,j){if(this.range){let fe=G;0==this.handleIndex?(fe<this.min?(fe=this.min,this.handleValues[0]=0):fe>this.values[1]&&fe>this.max&&(fe=this.max,this.handleValues[0]=100),this.sliderHandleStart.nativeElement.focus()):(fe>this.max?(fe=this.max,this.handleValues[1]=100,this.offset=this.handleValues[1]):fe<this.min?(fe=this.min,this.handleValues[1]=0):fe<this.values[0]&&(this.offset=this.handleValues[1]),this.sliderHandleEnd.nativeElement.focus()),this.step?this.updateHandleValue():this.updateDiffAndOffset(),this.values[this.handleIndex]=this.getNormalizedValue(fe),this.onModelChange([this.minVal,this.maxVal]),this.onChange.emit({event:j,values:this.values})}else G<this.min?(G=this.min,this.handleValue=0):G>this.max&&(G=this.max,this.handleValue=100),this.value=this.getNormalizedValue(G),this.onModelChange(this.value),this.onChange.emit({event:j,value:this.value}),this.sliderHandle.nativeElement.focus()}getValueFromHandle(G){return G/100*(this.max-this.min)+this.min}getDecimalsCount(G){return G&&Math.floor(G)!==G&&G.toString().split(".")[1].length||0}getNormalizedValue(G){let j=this.getDecimalsCount(this.step);return j>0?+parseFloat(G.toString()).toFixed(j):Math.floor(G)}ngOnDestroy(){this.unbindDragListeners()}get minVal(){return Math.min(this.values[1],this.values[0])}get maxVal(){return Math.max(this.values[1],this.values[0])}}return ue.\u0275fac=function(G){return new(G||ue)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.R0b),d.Y36(d.sBO))},ue.\u0275cmp=d.Xpm({type:ue,selectors:[["p-slider"]],viewQuery:function(G,j){if(1&G&&(d.Gf(_,5),d.Gf(P,5),d.Gf(x,5)),2&G){let fe;d.iGM(fe=d.CRH())&&(j.sliderHandle=fe.first),d.iGM(fe=d.CRH())&&(j.sliderHandleStart=fe.first),d.iGM(fe=d.CRH())&&(j.sliderHandleEnd=fe.first)}},hostAttrs:[1,"p-element"],inputs:{animate:"animate",disabled:"disabled",min:"min",max:"max",orientation:"orientation",step:"step",range:"range",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex"},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[d._Bn([S])],decls:8,vars:16,consts:[[3,"ngStyle","ngClass","click"],["class","p-slider-range",3,"ngStyle",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[1,"p-slider-range",3,"ngStyle"],[1,"p-slider-handle",3,"ngStyle","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandle",""],[1,"p-slider-handle",3,"ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandleStart",""],["sliderHandleEnd",""]],template:function(G,j){1&G&&(d.TgZ(0,"div",0),d.NdJ("click",function(ne){return j.onBarClick(ne)}),d.YNc(1,R,1,4,"span",1),d.YNc(2,V,1,4,"span",1),d.YNc(3,T,1,3,"span",1),d.YNc(4,D,1,3,"span",1),d.YNc(5,B,2,11,"span",2),d.YNc(6,ce,2,14,"span",3),d.YNc(7,$,2,14,"span",3),d.qZA()),2&G&&(d.Tol(j.styleClass),d.Q6J("ngStyle",j.style)("ngClass",d.l5B(11,z,j.disabled,"horizontal"==j.orientation,"vertical"==j.orientation,j.animate)),d.xp6(1),d.Q6J("ngIf",j.range&&"horizontal"==j.orientation),d.xp6(1),d.Q6J("ngIf",j.range&&"vertical"==j.orientation),d.xp6(1),d.Q6J("ngIf",!j.range&&"vertical"==j.orientation),d.xp6(1),d.Q6J("ngIf",!j.range&&"horizontal"==j.orientation),d.xp6(1),d.Q6J("ngIf",!j.range),d.xp6(1),d.Q6J("ngIf",j.range),d.xp6(1),d.Q6J("ngIf",j.range))},dependencies:[e.mk,e.O5,e.PC],styles:[".p-slider{position:relative}.p-slider .p-slider-handle{position:absolute;cursor:grab;touch-action:none;display:block}.p-slider-range{position:absolute;display:block}.p-slider-horizontal .p-slider-range{top:0;left:0;height:100%}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}\n"],encapsulation:2,changeDetection:0}),ue})(),K=(()=>{class ue{}return ue.\u0275fac=function(G){return new(G||ue)},ue.\u0275mod=d.oAB({type:ue}),ue.\u0275inj=d.cJS({imports:[e.ez]}),ue})()},9955:(hn,ht,b)=>{"use strict";b.d(ht,{l:()=>Pe});var e=b(5e3),d=b(9808),u=b(845),f=b(3470),_=b(5787),P=b(4119);let Te=(()=>{class dt{}return dt.\u0275fac=function(it){return new(it||dt)},dt.\u0275mod=e.oAB({type:dt}),dt.\u0275inj=e.cJS({imports:[d.ez,f.Bz,_.T,P.z,f.Bz,P.z]}),dt})(),Pe=(()=>{class dt{}return dt.\u0275fac=function(it){return new(it||dt)},dt.\u0275mod=e.oAB({type:dt}),dt.\u0275inj=e.cJS({imports:[d.ez,u.hJ,Te,u.hJ,Te]}),dt})()},8952:(hn,ht,b)=>{"use strict";b.d(ht,{YL:()=>ys,xl:()=>Yo,Wq:()=>go,on:()=>yr,jB:()=>fs,Ei:()=>Zi,fz:()=>Or,lQ:()=>ss,iA:()=>si,U$:()=>Tr});var e=b(1777),d=b(9808),u=b(5e3),f=b(2382),_=b(9783),P=b(845),x=b(5652),a=b(5730),R=b(4036),L=b(7010),V=b(1424),F=b(4132),T=b(5871),y=b(7102);const D=function(At,pn,oe){return{"p-checkbox-label-active":At,"p-disabled":pn,"p-checkbox-label-focus":oe}};function k(At,pn){if(1&At){const oe=u.EpF();u.TgZ(0,"label",7),u.NdJ("click",function(xt){u.CHM(oe);const Vt=u.oxw(),Pn=u.MAs(3);return u.KtG(Vt.onClick(xt,Pn))}),u._uU(1),u.qZA()}if(2&At){const oe=u.oxw();u.Q6J("ngClass",u.kEZ(3,D,null!=oe.value,oe.disabled,oe.focused)),u.uIk("for",oe.inputId),u.xp6(1),u.Oqu(oe.label)}}const B=function(At,pn){return{"p-checkbox p-component":!0,"p-checkbox-disabled":At,"p-checkbox-focused":pn}},N=function(At,pn,oe){return{"p-highlight":At,"p-disabled":pn,"p-focus":oe}},ce={provide:f.JU,useExisting:(0,u.Gpc)(()=>$),multi:!0};let $=(()=>{class At{constructor(oe){this.cd=oe,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new u.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(oe,Le){!this.disabled&&!this.readonly&&(this.toggle(oe),this.focused=!0,Le.focus())}onKeydown(oe){32==oe.keyCode&&oe.preventDefault()}onKeyup(oe){32==oe.keyCode&&!this.readonly&&(this.toggle(oe),oe.preventDefault())}toggle(oe){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:oe,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(oe){this.onModelChange=oe}registerOnTouched(oe){this.onModelTouched=oe}writeValue(oe){this.value=oe,this.cd.markForCheck()}setDisabledState(oe){this.disabled=oe,this.cd.markForCheck()}}return At.\u0275fac=function(oe){return new(oe||At)(u.Y36(u.sBO))},At.\u0275cmp=u.Xpm({type:At,selectors:[["p-triStateCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[u._Bn([ce])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(oe,Le){if(1&oe){const xt=u.EpF();u.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),u.NdJ("keyup",function(Pn){return Le.onKeyup(Pn)})("keydown",function(Pn){return Le.onKeydown(Pn)})("focus",function(){return Le.onFocus()})("blur",function(){return Le.onBlur()}),u.qZA()(),u.TgZ(4,"div",4),u.NdJ("click",function(Pn){u.CHM(xt);const qn=u.MAs(3);return u.KtG(Le.onClick(Pn,qn))}),u._UZ(5,"span",5),u.qZA()(),u.YNc(6,k,2,7,"label",6)}2&oe&&(u.Tol(Le.styleClass),u.Q6J("ngStyle",Le.style)("ngClass",u.WLB(14,B,Le.disabled,Le.focused)),u.xp6(2),u.Q6J("name",Le.name)("readonly",Le.readonly)("disabled",Le.disabled),u.uIk("id",Le.inputId)("tabindex",Le.tabindex)("aria-labelledby",Le.ariaLabelledBy),u.xp6(2),u.Q6J("ngClass",u.kEZ(17,N,null!=Le.value,Le.disabled,Le.focused)),u.uIk("aria-checked",!0===Le.value),u.xp6(1),u.Q6J("ngClass",!0===Le.value?Le.checkboxTrueIcon:!1===Le.value?Le.checkboxFalseIcon:""),u.xp6(1),u.Q6J("ngIf",Le.label))},dependencies:[d.mk,d.O5,d.PC],encapsulation:2,changeDetection:0}),At})(),z=(()=>{class At{}return At.\u0275fac=function(oe){return new(oe||At)},At.\u0275mod=u.oAB({type:At}),At.\u0275inj=u.cJS({imports:[d.ez]}),At})();var S=b(5921),O=b(7579);const K=["container"],ue=["resizeHelper"],q=["reorderIndicatorUp"],G=["reorderIndicatorDown"],j=["wrapper"],fe=["table"],ne=["thead"],J=["tfoot"],X=["scroller"];function W(At,pn){if(1&At&&(u.TgZ(0,"div",15),u._UZ(1,"i"),u.qZA()),2&At){const oe=u.oxw();u.xp6(1),u.Tol("p-datatable-loading-icon pi-spin "+oe.loadingIcon)}}function Y(At,pn){1&At&&u.GkF(0)}function Te(At,pn){if(1&At&&(u.TgZ(0,"div",16),u.YNc(1,Y,1,0,"ng-container",17),u.qZA()),2&At){const oe=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",oe.captionTemplate)}}function Ae(At,pn){if(1&At){const oe=u.EpF();u.TgZ(0,"p-paginator",18),u.NdJ("onPageChange",function(xt){u.CHM(oe);const Vt=u.oxw();return u.KtG(Vt.onPageChange(xt))}),u.qZA()}if(2&At){const oe=u.oxw();u.Q6J("rows",oe.rows)("first",oe.first)("totalRecords",oe.totalRecords)("pageLinkSize",oe.pageLinks)("alwaysShow",oe.alwaysShowPaginator)("rowsPerPageOptions",oe.rowsPerPageOptions)("templateLeft",oe.paginatorLeftTemplate)("templateRight",oe.paginatorRightTemplate)("dropdownAppendTo",oe.paginatorDropdownAppendTo)("dropdownScrollHeight",oe.paginatorDropdownScrollHeight)("currentPageReportTemplate",oe.currentPageReportTemplate)("showFirstLastIcon",oe.showFirstLastIcon)("dropdownItemTemplate",oe.paginatorDropdownItemTemplate)("showCurrentPageReport",oe.showCurrentPageReport)("showJumpToPageDropdown",oe.showJumpToPageDropdown)("showJumpToPageInput",oe.showJumpToPageInput)("showPageLinks",oe.showPageLinks)}}function Ke(At,pn){1&At&&u.GkF(0)}const be=function(At,pn){return{$implicit:At,options:pn}};function Ge(At,pn){if(1&At&&u.YNc(0,Ke,1,0,"ng-container",22),2&At){const oe=pn.$implicit,Le=pn.options;u.oxw(2);const xt=u.MAs(10);u.Q6J("ngTemplateOutlet",xt)("ngTemplateOutletContext",u.WLB(2,be,oe,Le))}}const ee=function(At){return{height:At}};function xe(At,pn){if(1&At){const oe=u.EpF();u.TgZ(0,"p-scroller",19,20),u.NdJ("onLazyLoad",function(xt){u.CHM(oe);const Vt=u.oxw();return u.KtG(Vt.onLazyItemLoad(xt))}),u.YNc(2,Ge,1,5,"ng-template",21),u.qZA()}if(2&At){const oe=u.oxw();u.Akn(u.VKq(14,ee,"flex"!==oe.scrollHeight?oe.scrollHeight:void 0)),u.Q6J("items",oe.processedData)("columns",oe.columns)("scrollHeight","flex"!==oe.scrollHeight?void 0:"100%")("itemSize",oe.virtualScrollItemSize||oe._virtualRowHeight)("step",oe.rows)("delay",oe.lazy?oe.virtualScrollDelay:0)("inline",!0)("lazy",oe.lazy)("loaderDisabled",!0)("showSpacer",!1)("showLoader",oe.loadingBodyTemplate)("options",oe.virtualScrollOptions)}}function we(At,pn){1&At&&u.GkF(0)}const Pe=function(At){return{columns:At}};function dt(At,pn){if(1&At&&(u.ynx(0),u.YNc(1,we,1,0,"ng-container",22),u.BQk()),2&At){const oe=u.oxw(),Le=u.MAs(10);u.xp6(1),u.Q6J("ngTemplateOutlet",Le)("ngTemplateOutletContext",u.WLB(4,be,oe.processedData,u.VKq(2,Pe,oe.columns)))}}function bt(At,pn){1&At&&u.GkF(0)}function it(At,pn){1&At&&u.GkF(0)}function Dt(At,pn){if(1&At&&u._UZ(0,"tbody",31),2&At){const oe=u.oxw().options,Le=u.oxw();u.Q6J("value",Le.frozenValue)("frozenRows",!0)("pTableBody",oe.columns)("pTableBodyTemplate",Le.frozenBodyTemplate)("frozen",!0)}}function vt(At,pn){if(1&At&&u._UZ(0,"tbody",32),2&At){const oe=u.oxw().options;u.Akn("height: calc("+oe.spacerStyle.height+" - "+oe.rows.length*oe.itemSize+"px);")}}function Wt(At,pn){1&At&&u.GkF(0)}const zt=function(At){return{$implicit:At}};function Ut(At,pn){if(1&At&&(u.TgZ(0,"tfoot",33,34),u.YNc(2,Wt,1,0,"ng-container",22),u.qZA()),2&At){const oe=u.oxw().options,Le=u.oxw();u.xp6(2),u.Q6J("ngTemplateOutlet",Le.footerGroupedTemplate||Le.footerTemplate)("ngTemplateOutletContext",u.VKq(2,zt,oe.columns))}}const ct=function(At,pn,oe){return{"p-datatable-table":!0,"p-datatable-scrollable-table":At,"p-datatable-resizable-table":pn,"p-datatable-resizable-table-fit":oe}};function at(At,pn){if(1&At&&(u.TgZ(0,"table",23,24),u.YNc(2,bt,1,0,"ng-container",22),u.TgZ(3,"thead",25,26),u.YNc(5,it,1,0,"ng-container",22),u.qZA(),u.YNc(6,Dt,1,5,"tbody",27),u._UZ(7,"tbody",28),u.YNc(8,vt,1,2,"tbody",29),u.YNc(9,Ut,3,4,"tfoot",30),u.qZA()),2&At){const oe=pn.options,Le=u.oxw();u.Akn(Le.tableStyle),u.Tol(Le.tableStyleClass),u.Q6J("ngClass",u.kEZ(20,ct,Le.scrollable,Le.resizableColumns,Le.resizableColumns&&"fit"===Le.columnResizeMode)),u.uIk("id",Le.id+"-table"),u.xp6(2),u.Q6J("ngTemplateOutlet",Le.colGroupTemplate)("ngTemplateOutletContext",u.VKq(24,zt,oe.columns)),u.xp6(3),u.Q6J("ngTemplateOutlet",Le.headerGroupedTemplate||Le.headerTemplate)("ngTemplateOutletContext",u.VKq(26,zt,oe.columns)),u.xp6(1),u.Q6J("ngIf",Le.frozenValue||Le.frozenBodyTemplate),u.xp6(1),u.Akn(oe.contentStyle),u.Q6J("ngClass",oe.contentStyleClass)("value",Le.dataToRender(oe.rows))("pTableBody",oe.columns)("pTableBodyTemplate",Le.bodyTemplate)("scrollerOptions",oe),u.xp6(1),u.Q6J("ngIf",oe.spacerStyle),u.xp6(1),u.Q6J("ngIf",Le.footerGroupedTemplate||Le.footerTemplate)}}function me(At,pn){if(1&At){const oe=u.EpF();u.TgZ(0,"p-paginator",35),u.NdJ("onPageChange",function(xt){u.CHM(oe);const Vt=u.oxw();return u.KtG(Vt.onPageChange(xt))}),u.qZA()}if(2&At){const oe=u.oxw();u.Q6J("rows",oe.rows)("first",oe.first)("totalRecords",oe.totalRecords)("pageLinkSize",oe.pageLinks)("alwaysShow",oe.alwaysShowPaginator)("rowsPerPageOptions",oe.rowsPerPageOptions)("templateLeft",oe.paginatorLeftTemplate)("templateRight",oe.paginatorRightTemplate)("dropdownAppendTo",oe.paginatorDropdownAppendTo)("dropdownScrollHeight",oe.paginatorDropdownScrollHeight)("currentPageReportTemplate",oe.currentPageReportTemplate)("showFirstLastIcon",oe.showFirstLastIcon)("dropdownItemTemplate",oe.paginatorDropdownItemTemplate)("showCurrentPageReport",oe.showCurrentPageReport)("showJumpToPageDropdown",oe.showJumpToPageDropdown)("showJumpToPageInput",oe.showJumpToPageInput)("showPageLinks",oe.showPageLinks)}}function De(At,pn){1&At&&u.GkF(0)}function ot(At,pn){if(1&At&&(u.TgZ(0,"div",36),u.YNc(1,De,1,0,"ng-container",17),u.qZA()),2&At){const oe=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",oe.summaryTemplate)}}function Ct(At,pn){1&At&&u._UZ(0,"div",37,38)}function Ot(At,pn){1&At&&u._UZ(0,"span",39,40)}function Ft(At,pn){1&At&&u._UZ(0,"span",41,42)}const Mt=function(At,pn,oe){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":At,"p-datatable-scrollable":pn,"p-datatable-flex-scrollable":oe}},Ye=function(At){return{maxHeight:At}},st=["pTableBody",""];function je(At,pn){1&At&&u.GkF(0)}const It=function(At,pn,oe,Le,xt){return{$implicit:At,rowIndex:pn,columns:oe,editing:Le,frozen:xt}};function se(At,pn){if(1&At&&(u.ynx(0,3),u.YNc(1,je,1,0,"ng-container",4),u.BQk()),2&At){const oe=u.oxw(),Le=oe.$implicit,xt=oe.index,Vt=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Vt.dt.groupHeaderTemplate)("ngTemplateOutletContext",u.qbA(2,It,Le,Vt.getRowIndex(xt),Vt.columns,"row"===Vt.dt.editMode&&Vt.dt.isRowEditing(Le),Vt.frozen))}}function Fe(At,pn){1&At&&u.GkF(0)}function he(At,pn){if(1&At&&(u.ynx(0),u.YNc(1,Fe,1,0,"ng-container",4),u.BQk()),2&At){const oe=u.oxw(),Le=oe.$implicit,xt=oe.index,Vt=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Le?Vt.template:Vt.dt.loadingBodyTemplate)("ngTemplateOutletContext",u.qbA(2,It,Le,Vt.getRowIndex(xt),Vt.columns,"row"===Vt.dt.editMode&&Vt.dt.isRowEditing(Le),Vt.frozen))}}function gt(At,pn){1&At&&u.GkF(0)}const cn=function(At,pn,oe,Le,xt,Vt,Pn){return{$implicit:At,rowIndex:pn,columns:oe,editing:Le,frozen:xt,rowgroup:Vt,rowspan:Pn}};function Tn(At,pn){if(1&At&&(u.ynx(0),u.YNc(1,gt,1,0,"ng-container",4),u.BQk()),2&At){const oe=u.oxw(),Le=oe.$implicit,xt=oe.index,Vt=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Le?Vt.template:Vt.dt.loadingBodyTemplate)("ngTemplateOutletContext",u.Hh0(2,cn,Le,Vt.getRowIndex(xt),Vt.columns,"row"===Vt.dt.editMode&&Vt.dt.isRowEditing(Le),Vt.frozen,Vt.shouldRenderRowspan(Vt.value,Le,xt),Vt.calculateRowGroupSize(Vt.value,Le,xt)))}}function en(At,pn){1&At&&u.GkF(0)}function _t(At,pn){if(1&At&&(u.ynx(0,3),u.YNc(1,en,1,0,"ng-container",4),u.BQk()),2&At){const oe=u.oxw(),Le=oe.$implicit,xt=oe.index,Vt=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Vt.dt.groupFooterTemplate)("ngTemplateOutletContext",u.qbA(2,It,Le,Vt.getRowIndex(xt),Vt.columns,"row"===Vt.dt.editMode&&Vt.dt.isRowEditing(Le),Vt.frozen))}}function tt(At,pn){if(1&At&&(u.YNc(0,se,2,8,"ng-container",2),u.YNc(1,he,2,8,"ng-container",0),u.YNc(2,Tn,2,10,"ng-container",0),u.YNc(3,_t,2,8,"ng-container",2)),2&At){const oe=pn.$implicit,Le=pn.index,xt=u.oxw(2);u.Q6J("ngIf",xt.dt.groupHeaderTemplate&&!xt.dt.virtualScroll&&"subheader"===xt.dt.rowGroupMode&&xt.shouldRenderRowGroupHeader(xt.value,oe,Le)),u.xp6(1),u.Q6J("ngIf","rowspan"!==xt.dt.rowGroupMode),u.xp6(1),u.Q6J("ngIf","rowspan"===xt.dt.rowGroupMode),u.xp6(1),u.Q6J("ngIf",xt.dt.groupFooterTemplate&&!xt.dt.virtualScroll&&"subheader"===xt.dt.rowGroupMode&&xt.shouldRenderRowGroupFooter(xt.value,oe,Le))}}function de(At,pn){if(1&At&&(u.ynx(0),u.YNc(1,tt,4,4,"ng-template",1),u.BQk()),2&At){const oe=u.oxw();u.xp6(1),u.Q6J("ngForOf",oe.value)("ngForTrackBy",oe.dt.rowTrackBy)}}function Qe(At,pn){1&At&&u.GkF(0)}const ze=function(At,pn,oe,Le,xt,Vt){return{$implicit:At,rowIndex:pn,columns:oe,expanded:Le,editing:xt,frozen:Vt}};function Et(At,pn){if(1&At&&(u.ynx(0),u.YNc(1,Qe,1,0,"ng-container",4),u.BQk()),2&At){const oe=u.oxw(),Le=oe.$implicit,xt=oe.index,Vt=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Vt.template)("ngTemplateOutletContext",u.HTZ(2,ze,Le,Vt.getRowIndex(xt),Vt.columns,Vt.dt.isRowExpanded(Le),"row"===Vt.dt.editMode&&Vt.dt.isRowEditing(Le),Vt.frozen))}}function Be(At,pn){1&At&&u.GkF(0)}function qt(At,pn){if(1&At&&(u.ynx(0,3),u.YNc(1,Be,1,0,"ng-container",4),u.BQk()),2&At){const oe=u.oxw(),Le=oe.$implicit,xt=oe.index,Vt=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Vt.dt.groupHeaderTemplate)("ngTemplateOutletContext",u.HTZ(2,ze,Le,Vt.getRowIndex(xt),Vt.columns,Vt.dt.isRowExpanded(Le),"row"===Vt.dt.editMode&&Vt.dt.isRowEditing(Le),Vt.frozen))}}function gn(At,pn){1&At&&u.GkF(0)}function Qt(At,pn){1&At&&u.GkF(0)}function Mn(At,pn){if(1&At&&(u.ynx(0,3),u.YNc(1,Qt,1,0,"ng-container",4),u.BQk()),2&At){const oe=u.oxw(2),Le=oe.$implicit,xt=oe.index,Vt=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Vt.dt.groupFooterTemplate)("ngTemplateOutletContext",u.HTZ(2,ze,Le,Vt.getRowIndex(xt),Vt.columns,Vt.dt.isRowExpanded(Le),"row"===Vt.dt.editMode&&Vt.dt.isRowEditing(Le),Vt.frozen))}}const Nt=function(At,pn,oe,Le){return{$implicit:At,rowIndex:pn,columns:oe,frozen:Le}};function rn(At,pn){if(1&At&&(u.ynx(0),u.YNc(1,gn,1,0,"ng-container",4),u.YNc(2,Mn,2,9,"ng-container",2),u.BQk()),2&At){const oe=u.oxw(),Le=oe.$implicit,xt=oe.index,Vt=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Vt.dt.expandedRowTemplate)("ngTemplateOutletContext",u.l5B(3,Nt,Le,Vt.getRowIndex(xt),Vt.columns,Vt.frozen)),u.xp6(1),u.Q6J("ngIf",Vt.dt.groupFooterTemplate&&"subheader"===Vt.dt.rowGroupMode&&Vt.shouldRenderRowGroupFooter(Vt.value,Le,Vt.getRowIndex(xt)))}}function Bn(At,pn){if(1&At&&(u.YNc(0,Et,2,9,"ng-container",0),u.YNc(1,qt,2,9,"ng-container",2),u.YNc(2,rn,3,8,"ng-container",0)),2&At){const oe=pn.$implicit,Le=pn.index,xt=u.oxw(2);u.Q6J("ngIf",!xt.dt.groupHeaderTemplate),u.xp6(1),u.Q6J("ngIf",xt.dt.groupHeaderTemplate&&"subheader"===xt.dt.rowGroupMode&&xt.shouldRenderRowGroupHeader(xt.value,oe,xt.getRowIndex(Le))),u.xp6(1),u.Q6J("ngIf",xt.dt.isRowExpanded(oe))}}function Hn(At,pn){if(1&At&&(u.ynx(0),u.YNc(1,Bn,3,3,"ng-template",1),u.BQk()),2&At){const oe=u.oxw();u.xp6(1),u.Q6J("ngForOf",oe.value)("ngForTrackBy",oe.dt.rowTrackBy)}}function ai(At,pn){1&At&&u.GkF(0)}function vi(At,pn){1&At&&u.GkF(0)}function Ni(At,pn){if(1&At&&(u.ynx(0),u.YNc(1,vi,1,0,"ng-container",4),u.BQk()),2&At){const oe=u.oxw(),Le=oe.$implicit,xt=oe.index,Vt=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Vt.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",u.l5B(2,Nt,Le,Vt.getRowIndex(xt),Vt.columns,Vt.frozen))}}function io(At,pn){if(1&At&&(u.YNc(0,ai,1,0,"ng-container",4),u.YNc(1,Ni,2,7,"ng-container",0)),2&At){const oe=pn.$implicit,Le=pn.index,xt=u.oxw(2);u.Q6J("ngTemplateOutlet",xt.template)("ngTemplateOutletContext",u.HTZ(3,ze,oe,xt.getRowIndex(Le),xt.columns,xt.dt.isRowExpanded(oe),"row"===xt.dt.editMode&&xt.dt.isRowEditing(oe),xt.frozen)),u.xp6(1),u.Q6J("ngIf",xt.dt.isRowExpanded(oe))}}function Ho(At,pn){if(1&At&&(u.ynx(0),u.YNc(1,io,2,10,"ng-template",1),u.BQk()),2&At){const oe=u.oxw();u.xp6(1),u.Q6J("ngForOf",oe.value)("ngForTrackBy",oe.dt.rowTrackBy)}}function Ht(At,pn){1&At&&u.GkF(0)}const Je=function(At,pn){return{$implicit:At,frozen:pn}};function ye(At,pn){if(1&At&&(u.ynx(0),u.YNc(1,Ht,1,0,"ng-container",4),u.BQk()),2&At){const oe=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",oe.dt.loadingBodyTemplate)("ngTemplateOutletContext",u.WLB(2,Je,oe.columns,oe.frozen))}}function He(At,pn){1&At&&u.GkF(0)}function ut(At,pn){if(1&At&&(u.ynx(0),u.YNc(1,He,1,0,"ng-container",4),u.BQk()),2&At){const oe=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",oe.dt.emptyMessageTemplate)("ngTemplateOutletContext",u.WLB(2,Je,oe.columns,oe.frozen))}}function dn(At,pn){if(1&At&&(u.TgZ(0,"span",2),u._uU(1),u.qZA()),2&At){const oe=u.oxw();u.xp6(1),u.Oqu(oe.getBadgeValue())}}const In=function(At,pn,oe){return{"pi-sort-amount-up-alt":At,"pi-sort-amount-down":pn,"pi-sort-alt":oe}};function Rt(At,pn){1&At&&u.GkF(0)}function bn(At,pn){if(1&At&&(u.ynx(0),u.YNc(1,Rt,1,0,"ng-container",1),u.BQk()),2&At){const oe=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",oe.inputTemplate)}}function yn(At,pn){1&At&&u.GkF(0)}function Wn(At,pn){if(1&At&&(u.ynx(0),u.YNc(1,yn,1,0,"ng-container",1),u.BQk()),2&At){const oe=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",oe.outputTemplate)}}const li=["icon"];function Co(At,pn){if(1&At&&u._UZ(0,"p-columnFilterFormElement",5),2&At){const oe=u.oxw();u.Q6J("type",oe.type)("field",oe.field)("filterConstraint",oe.dt.filters[oe.field])("filterTemplate",oe.filterTemplate)("placeholder",oe.placeholder)("minFractionDigits",oe.minFractionDigits)("maxFractionDigits",oe.maxFractionDigits)("prefix",oe.prefix)("suffix",oe.suffix)("locale",oe.locale)("localeMatcher",oe.localeMatcher)("currency",oe.currency)("currencyDisplay",oe.currencyDisplay)("useGrouping",oe.useGrouping)("showButtons",oe.showButtons)}}const Go=function(At,pn){return{"p-column-filter-menu-button-open":At,"p-column-filter-menu-button-active":pn}};function Wo(At,pn){if(1&At){const oe=u.EpF();u.TgZ(0,"button",6,7),u.NdJ("click",function(){u.CHM(oe);const xt=u.oxw();return u.KtG(xt.toggleMenu())})("keydown",function(xt){u.CHM(oe);const Vt=u.oxw();return u.KtG(Vt.onToggleButtonKeyDown(xt))}),u._UZ(2,"span",8),u.qZA()}if(2&At){const oe=u.oxw();u.Q6J("ngClass",u.WLB(2,Go,oe.overlayVisible,oe.hasFilter())),u.uIk("aria-expanded",oe.overlayVisible)}}const xo=function(At){return{"p-hidden-space":At}};function $i(At,pn){if(1&At){const oe=u.EpF();u.TgZ(0,"button",9,7),u.NdJ("click",function(){u.CHM(oe);const xt=u.oxw();return u.KtG(xt.clearFilter())}),u._UZ(2,"span",10),u.qZA()}if(2&At){const oe=u.oxw();u.Q6J("ngClass",u.VKq(1,xo,!oe.hasRowFilter()))}}function Xo(At,pn){1&At&&u.GkF(0)}const rs=function(At){return{"p-highlight":At}};function os(At,pn){if(1&At){const oe=u.EpF();u.TgZ(0,"li",19),u.NdJ("click",function(){const Vt=u.CHM(oe).$implicit,Pn=u.oxw(3);return u.KtG(Pn.onRowMatchModeChange(Vt.value))})("keydown",function(xt){u.CHM(oe);const Vt=u.oxw(3);return u.KtG(Vt.onRowMatchModeKeyDown(xt))})("keydown.enter",function(){const Vt=u.CHM(oe).$implicit,Pn=u.oxw(3);return u.KtG(Pn.onRowMatchModeChange(Vt.value))}),u._uU(1),u.qZA()}if(2&At){const oe=pn.$implicit,Le=pn.index,xt=u.oxw(3);u.Q6J("ngClass",u.VKq(3,rs,xt.isRowMatchModeSelected(oe.value))),u.uIk("tabindex",0===Le?"0":null),u.xp6(1),u.hij(" ",oe.label," ")}}function ho(At,pn){if(1&At){const oe=u.EpF();u.TgZ(0,"ul",15),u.YNc(1,os,2,5,"li",16),u._UZ(2,"li",17),u.TgZ(3,"li",18),u.NdJ("click",function(){u.CHM(oe);const xt=u.oxw(2);return u.KtG(xt.onRowClearItemClick())})("keydown",function(xt){u.CHM(oe);const Vt=u.oxw(2);return u.KtG(Vt.onRowMatchModeKeyDown(xt))})("keydown.enter",function(){u.CHM(oe);const xt=u.oxw(2);return u.KtG(xt.onRowClearItemClick())}),u._uU(4),u.qZA()()}if(2&At){const oe=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",oe.matchModes),u.xp6(3),u.Oqu(oe.noFilterLabel)}}function oo(At,pn){if(1&At){const oe=u.EpF();u.TgZ(0,"div",27)(1,"p-dropdown",28),u.NdJ("ngModelChange",function(xt){u.CHM(oe);const Vt=u.oxw(3);return u.KtG(Vt.onOperatorChange(xt))}),u.qZA()()}if(2&At){const oe=u.oxw(3);u.xp6(1),u.Q6J("options",oe.operatorOptions)("ngModel",oe.operator)}}function Bi(At,pn){if(1&At){const oe=u.EpF();u.TgZ(0,"p-dropdown",33),u.NdJ("ngModelChange",function(xt){u.CHM(oe);const Vt=u.oxw().$implicit,Pn=u.oxw(3);return u.KtG(Pn.onMenuMatchModeChange(xt,Vt))}),u.qZA()}if(2&At){const oe=u.oxw().$implicit,Le=u.oxw(3);u.Q6J("options",Le.matchModes)("ngModel",oe.matchMode)}}function Mo(At,pn){if(1&At){const oe=u.EpF();u.TgZ(0,"button",34),u.NdJ("click",function(){u.CHM(oe);const xt=u.oxw().$implicit,Vt=u.oxw(3);return u.KtG(Vt.removeConstraint(xt))}),u.qZA()}if(2&At){const oe=u.oxw(4);u.Q6J("label",oe.removeRuleButtonLabel)}}function es(At,pn){if(1&At&&(u.TgZ(0,"div",29),u.YNc(1,Bi,1,2,"p-dropdown",30),u._UZ(2,"p-columnFilterFormElement",31),u.TgZ(3,"div"),u.YNc(4,Mo,1,1,"button",32),u.qZA()()),2&At){const oe=pn.$implicit,Le=u.oxw(3);u.xp6(1),u.Q6J("ngIf",Le.showMatchModes&&Le.matchModes),u.xp6(1),u.Q6J("type",Le.type)("field",Le.field)("filterConstraint",oe)("filterTemplate",Le.filterTemplate)("placeholder",Le.placeholder)("minFractionDigits",Le.minFractionDigits)("maxFractionDigits",Le.maxFractionDigits)("prefix",Le.prefix)("suffix",Le.suffix)("locale",Le.locale)("localeMatcher",Le.localeMatcher)("currency",Le.currency)("currencyDisplay",Le.currencyDisplay)("useGrouping",Le.useGrouping),u.xp6(2),u.Q6J("ngIf",Le.showRemoveIcon)}}function vo(At,pn){if(1&At){const oe=u.EpF();u.TgZ(0,"div",35)(1,"button",36),u.NdJ("click",function(){u.CHM(oe);const xt=u.oxw(3);return u.KtG(xt.addConstraint())}),u.qZA()()}if(2&At){const oe=u.oxw(3);u.xp6(1),u.Q6J("label",oe.addRuleButtonLabel)}}function qo(At,pn){if(1&At){const oe=u.EpF();u.TgZ(0,"button",37),u.NdJ("click",function(){u.CHM(oe);const xt=u.oxw(3);return u.KtG(xt.clearFilter())}),u.qZA()}if(2&At){const oe=u.oxw(3);u.Q6J("label",oe.clearButtonLabel)}}function Ls(At,pn){if(1&At){const oe=u.EpF();u.TgZ(0,"button",38),u.NdJ("click",function(){u.CHM(oe);const xt=u.oxw(3);return u.KtG(xt.applyFilter())}),u.qZA()}if(2&At){const oe=u.oxw(3);u.Q6J("label",oe.applyButtonLabel)}}function ws(At,pn){if(1&At&&(u.YNc(0,oo,2,2,"div",20),u.TgZ(1,"div",21),u.YNc(2,es,5,16,"div",22),u.qZA(),u.YNc(3,vo,2,1,"div",23),u.TgZ(4,"div",24),u.YNc(5,qo,1,1,"button",25),u.YNc(6,Ls,1,1,"button",26),u.qZA()),2&At){const oe=u.oxw(2);u.Q6J("ngIf",oe.isShowOperator),u.xp6(2),u.Q6J("ngForOf",oe.fieldConstraints),u.xp6(1),u.Q6J("ngIf",oe.isShowAddConstraint),u.xp6(2),u.Q6J("ngIf",oe.showClearButton),u.xp6(1),u.Q6J("ngIf",oe.showApplyButton)}}function Rs(At,pn){1&At&&u.GkF(0)}const as=function(At){return{"p-column-filter-overlay p-component p-fluid":!0,"p-column-filter-overlay-menu":At}};function Cr(At,pn){if(1&At){const oe=u.EpF();u.TgZ(0,"div",11),u.NdJ("click",function(){u.CHM(oe);const xt=u.oxw();return u.KtG(xt.onContentClick())})("@overlayAnimation.start",function(xt){u.CHM(oe);const Vt=u.oxw();return u.KtG(Vt.onOverlayAnimationStart(xt))})("@overlayAnimation.done",function(xt){u.CHM(oe);const Vt=u.oxw();return u.KtG(Vt.onOverlayAnimationEnd(xt))})("keydown.escape",function(){u.CHM(oe);const xt=u.oxw();return u.KtG(xt.onEscape())}),u.YNc(1,Xo,1,0,"ng-container",12),u.YNc(2,ho,5,2,"ul",13),u.YNc(3,ws,7,5,"ng-template",null,14,u.W1O),u.YNc(5,Rs,1,0,"ng-container",12),u.qZA()}if(2&At){const oe=u.MAs(4),Le=u.oxw();u.Q6J("ngClass",u.VKq(8,as,"menu"===Le.display))("@overlayAnimation","visible"),u.xp6(1),u.Q6J("ngTemplateOutlet",Le.headerTemplate)("ngTemplateOutletContext",u.VKq(10,zt,Le.field)),u.xp6(1),u.Q6J("ngIf","row"===Le.display)("ngIfElse",oe),u.xp6(3),u.Q6J("ngTemplateOutlet",Le.footerTemplate)("ngTemplateOutletContext",u.VKq(12,zt,Le.field))}}const ga=function(At,pn){return{"p-column-filter-row":At,"p-column-filter-menu":pn}};function vr(At,pn){1&At&&u.GkF(0)}const br=function(At,pn){return{$implicit:At,filterCallback:pn}};function Da(At,pn){if(1&At&&(u.ynx(0),u.YNc(1,vr,1,0,"ng-container",2),u.BQk()),2&At){const oe=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",oe.filterTemplate)("ngTemplateOutletContext",u.WLB(2,br,oe.filterConstraint.value,oe.filterCallback))}}function gs(At,pn){if(1&At){const oe=u.EpF();u.TgZ(0,"input",8),u.NdJ("input",function(xt){u.CHM(oe);const Vt=u.oxw(2);return u.KtG(Vt.onModelChange(xt.target.value))})("keydown.enter",function(xt){u.CHM(oe);const Vt=u.oxw(2);return u.KtG(Vt.onTextInputEnterKeyDown(xt))}),u.qZA()}if(2&At){const oe=u.oxw(2);u.Q6J("value",null==oe.filterConstraint?null:oe.filterConstraint.value),u.uIk("placeholder",oe.placeholder)}}function la(At,pn){if(1&At){const oe=u.EpF();u.TgZ(0,"p-inputNumber",9),u.NdJ("ngModelChange",function(xt){u.CHM(oe);const Vt=u.oxw(2);return u.KtG(Vt.onModelChange(xt))})("onKeyDown",function(xt){u.CHM(oe);const Vt=u.oxw(2);return u.KtG(Vt.onNumericInputKeyDown(xt))}),u.qZA()}if(2&At){const oe=u.oxw(2);u.Q6J("ngModel",null==oe.filterConstraint?null:oe.filterConstraint.value)("showButtons",oe.showButtons)("minFractionDigits",oe.minFractionDigits)("maxFractionDigits",oe.maxFractionDigits)("prefix",oe.prefix)("suffix",oe.suffix)("placeholder",oe.placeholder)("mode",oe.currency?"currency":"decimal")("locale",oe.locale)("localeMatcher",oe.localeMatcher)("currency",oe.currency)("currencyDisplay",oe.currencyDisplay)("useGrouping",oe.useGrouping)}}function Ns(At,pn){if(1&At){const oe=u.EpF();u.TgZ(0,"p-triStateCheckbox",10),u.NdJ("ngModelChange",function(xt){u.CHM(oe);const Vt=u.oxw(2);return u.KtG(Vt.onModelChange(xt))}),u.qZA()}if(2&At){const oe=u.oxw(2);u.Q6J("ngModel",null==oe.filterConstraint?null:oe.filterConstraint.value)}}function Wr(At,pn){if(1&At){const oe=u.EpF();u.TgZ(0,"p-calendar",11),u.NdJ("ngModelChange",function(xt){u.CHM(oe);const Vt=u.oxw(2);return u.KtG(Vt.onModelChange(xt))}),u.qZA()}if(2&At){const oe=u.oxw(2);u.Q6J("placeholder",oe.placeholder)("ngModel",null==oe.filterConstraint?null:oe.filterConstraint.value)}}function Mr(At,pn){if(1&At&&(u.ynx(0,3),u.YNc(1,gs,1,2,"input",4),u.YNc(2,la,1,13,"p-inputNumber",5),u.YNc(3,Ns,1,1,"p-triStateCheckbox",6),u.YNc(4,Wr,1,2,"p-calendar",7),u.BQk()),2&At){const oe=u.oxw();u.Q6J("ngSwitch",oe.type),u.xp6(1),u.Q6J("ngSwitchCase","text"),u.xp6(1),u.Q6J("ngSwitchCase","numeric"),u.xp6(1),u.Q6J("ngSwitchCase","boolean"),u.xp6(1),u.Q6J("ngSwitchCase","date")}}let so=(()=>{class At{constructor(){this.sortSource=new O.x,this.selectionSource=new O.x,this.contextMenuSource=new O.x,this.valueSource=new O.x,this.totalRecordsSource=new O.x,this.columnsSource=new O.x,this.resetSource=new O.x,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(oe){this.sortSource.next(oe)}onSelectionChange(){this.selectionSource.next(null)}onResetChange(){this.resetSource.next(null)}onContextMenu(oe){this.contextMenuSource.next(oe)}onValueChange(oe){this.valueSource.next(oe)}onTotalRecordsChange(oe){this.totalRecordsSource.next(oe)}onColumnsChange(oe){this.columnsSource.next(oe)}}return At.\u0275fac=function(oe){return new(oe||At)},At.\u0275prov=u.Yz7({token:At,factory:At.\u0275fac}),At})(),si=(()=>{class At{constructor(oe,Le,xt,Vt,Pn,qn){this.el=oe,this.zone=Le,this.tableService=xt,this.cd=Vt,this.filterService=Pn,this.overlayService=qn,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectAllChange=new u.vpe,this.selectionChange=new u.vpe,this.contextMenuSelectionChange=new u.vpe,this.contextMenuSelectionMode="separate",this.rowTrackBy=(gi,Hi)=>Hi,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.scrollDirection="vertical",this.virtualScrollDelay=250,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.groupRowsByOrder=1,this.responsiveLayout="scroll",this.breakpoint="960px",this.onRowSelect=new u.vpe,this.onRowUnselect=new u.vpe,this.onPage=new u.vpe,this.onSort=new u.vpe,this.onFilter=new u.vpe,this.onLazyLoad=new u.vpe,this.onRowExpand=new u.vpe,this.onRowCollapse=new u.vpe,this.onContextMenuSelect=new u.vpe,this.onColResize=new u.vpe,this.onColReorder=new u.vpe,this.onRowReorder=new u.vpe,this.onEditInit=new u.vpe,this.onEditComplete=new u.vpe,this.onEditCancel=new u.vpe,this.onHeaderCheckboxToggle=new u.vpe,this.sortFunction=new u.vpe,this.firstChange=new u.vpe,this.rowsChange=new u.vpe,this.onStateSave=new u.vpe,this.onStateRestore=new u.vpe,this._virtualRowHeight=28,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1,this._selectAll=null,this.columnResizing=!1,this.rowGroupHeaderStyleObject={},this.id=(0,S.Th)()}get responsive(){return this._responsive}set responsive(oe){this._responsive=oe,console.warn("responsive propery is deprecated as table is always responsive with scrollable behavior.")}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(oe){this._virtualRowHeight=oe,console.warn("The virtualRowHeight property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(oe=>{switch(oe.getType()){case"caption":this.captionTemplate=oe.template;break;case"header":this.headerTemplate=oe.template;break;case"headergrouped":this.headerGroupedTemplate=oe.template;break;case"body":this.bodyTemplate=oe.template;break;case"loadingbody":this.loadingBodyTemplate=oe.template;break;case"footer":this.footerTemplate=oe.template;break;case"footergrouped":this.footerGroupedTemplate=oe.template;break;case"summary":this.summaryTemplate=oe.template;break;case"colgroup":this.colGroupTemplate=oe.template;break;case"rowexpansion":this.expandedRowTemplate=oe.template;break;case"groupheader":this.groupHeaderTemplate=oe.template;break;case"rowspan":this.rowspanTemplate=oe.template;break;case"groupfooter":this.groupFooterTemplate=oe.template;break;case"frozenrows":this.frozenRowsTemplate=oe.template;break;case"frozenheader":this.frozenHeaderTemplate=oe.template;break;case"frozenbody":this.frozenBodyTemplate=oe.template;break;case"frozenfooter":this.frozenFooterTemplate=oe.template;break;case"frozencolgroup":this.frozenColGroupTemplate=oe.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=oe.template;break;case"emptymessage":this.emptyMessageTemplate=oe.template;break;case"paginatorleft":this.paginatorLeftTemplate=oe.template;break;case"paginatorright":this.paginatorRightTemplate=oe.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=oe.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths()}ngOnChanges(oe){oe.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=oe.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&(this.sortField||this.groupRowsBy)?this.sortSingle():"multiple"==this.sortMode&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(oe.value.currentValue)),oe.columns&&(this._columns=oe.columns.currentValue,this.tableService.onColumnsChange(oe.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),oe.sortField&&(this._sortField=oe.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),oe.groupRowsBy&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),oe.sortOrder&&(this._sortOrder=oe.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),oe.groupRowsByOrder&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),oe.multiSortMeta&&(this._multiSortMeta=oe.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),oe.selection&&(this._selection=oe.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),oe.selectAll&&(this._selectAll=oe.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(oe){this._value=oe}get columns(){return this._columns}set columns(oe){this._columns=oe}get first(){return this._first}set first(oe){this._first=oe}get rows(){return this._rows}set rows(oe){this._rows=oe}get totalRecords(){return this._totalRecords}set totalRecords(oe){this._totalRecords=oe,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(oe){this._sortField=oe}get sortOrder(){return this._sortOrder}set sortOrder(oe){this._sortOrder=oe}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(oe){this._multiSortMeta=oe}get selection(){return this._selection}set selection(oe){this._selection=oe}get selectAll(){return this._selection}set selectAll(oe){this._selection=oe}get processedData(){return this.filteredValue||this.value||[]}dataToRender(oe){const Le=oe||this.processedData;if(Le&&this.paginator){const xt=this.lazy?0:this.first;return Le.slice(xt,xt+this.rows)}return Le}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let oe of this._selection)this.selectionKeys[String(S.gb.resolveFieldData(oe,this.dataKey))]=1;else this.selectionKeys[String(S.gb.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(oe){this.first=oe.first,this.rows=oe.rows,this.onPage.emit({first:this.first,rows:this.rows}),this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(oe){let Le=oe.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===oe.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=oe.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let xt=Le.metaKey||Le.ctrlKey,Vt=this.getSortMeta(oe.field);Vt?xt?Vt.order=-1*Vt.order:(this._multiSortMeta=[{field:oe.field,order:-1*Vt.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!xt||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:oe.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let oe=this.sortField||this.groupRowsBy,Le=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField)return this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],void this.sortMultiple();if(oe&&Le){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:oe,order:Le}):(this.value.sort((Vt,Pn)=>{let qn=S.gb.resolveFieldData(Vt,oe),gi=S.gb.resolveFieldData(Pn,oe),Hi=null;return Hi=null==qn&&null!=gi?-1:null!=qn&&null==gi?1:null==qn&&null==gi?0:"string"==typeof qn&&"string"==typeof gi?qn.localeCompare(gi):qn<gi?-1:qn>gi?1:0,Le*Hi}),this._value=[...this.value]),this.hasFilter()&&this._filter());let xt={field:oe,order:Le};this.onSort.emit(xt),this.tableService.onSort(xt)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((oe,Le)=>this.multisortField(oe,Le,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(oe,Le,xt,Vt){const Pn=S.gb.resolveFieldData(oe,xt[Vt].field),qn=S.gb.resolveFieldData(Le,xt[Vt].field);return 0===S.gb.compare(Pn,qn,this.filterLocale)?xt.length-1>Vt?this.multisortField(oe,Le,xt,Vt+1):0:this.compareValuesOnSort(Pn,qn,xt[Vt].order)}compareValuesOnSort(oe,Le,xt){return S.gb.sort(oe,Le,xt,this.filterLocale,this.sortOrder)}getSortMeta(oe){if(this.multiSortMeta&&this.multiSortMeta.length)for(let Le=0;Le<this.multiSortMeta.length;Le++)if(this.multiSortMeta[Le].field===oe)return this.multiSortMeta[Le];return null}isSorted(oe){if("single"===this.sortMode)return this.sortField&&this.sortField===oe;if("multiple"===this.sortMode){let Le=!1;if(this.multiSortMeta)for(let xt=0;xt<this.multiSortMeta.length;xt++)if(this.multiSortMeta[xt].field==oe){Le=!0;break}return Le}}handleRowClick(oe){let Le=oe.originalEvent.target,xt=Le.nodeName,Vt=Le.parentElement&&Le.parentElement.nodeName;if("INPUT"!=xt&&"BUTTON"!=xt&&"A"!=xt&&"INPUT"!=Vt&&"BUTTON"!=Vt&&"A"!=Vt&&!a.p.hasClass(oe.originalEvent.target,"p-clickable")){if(this.selectionMode){let Pn=oe.rowData,qn=oe.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&oe.originalEvent.shiftKey&&null!=this.anchorRowIndex)a.p.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(oe.originalEvent),this.rangeRowIndex=qn,this.selectRange(oe.originalEvent,qn);else{let gi=this.isSelected(Pn);if(!gi&&!this.isRowSelectable(Pn,qn))return;let Hi=!this.rowTouched&&this.metaKeySelection,Fi=this.dataKey?String(S.gb.resolveFieldData(Pn,this.dataKey)):null;if(this.anchorRowIndex=qn,this.rangeRowIndex=qn,Hi){let Si=oe.originalEvent.metaKey||oe.originalEvent.ctrlKey;if(gi&&Si){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let cs=this.findIndexInSelection(Pn);this._selection=this.selection.filter((Oo,Ar)=>Ar!=cs),this.selectionChange.emit(this.selection),Fi&&delete this.selectionKeys[Fi]}this.onRowUnselect.emit({originalEvent:oe.originalEvent,data:Pn,type:"row"})}else this.isSingleSelectionMode()?(this._selection=Pn,this.selectionChange.emit(Pn),Fi&&(this.selectionKeys={},this.selectionKeys[Fi]=1)):this.isMultipleSelectionMode()&&(Si?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,Pn],this.selectionChange.emit(this.selection),Fi&&(this.selectionKeys[Fi]=1)),this.onRowSelect.emit({originalEvent:oe.originalEvent,data:Pn,type:"row",index:qn})}else if("single"===this.selectionMode)gi?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:oe.originalEvent,data:Pn,type:"row",index:qn})):(this._selection=Pn,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:oe.originalEvent,data:Pn,type:"row",index:qn}),Fi&&(this.selectionKeys={},this.selectionKeys[Fi]=1));else if("multiple"===this.selectionMode)if(gi){let Si=this.findIndexInSelection(Pn);this._selection=this.selection.filter((cs,Oo)=>Oo!=Si),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:oe.originalEvent,data:Pn,type:"row",index:qn}),Fi&&delete this.selectionKeys[Fi]}else this._selection=this.selection?[...this.selection,Pn]:[Pn],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:oe.originalEvent,data:Pn,type:"row",index:qn}),Fi&&(this.selectionKeys[Fi]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(oe){this.rowTouched=!0}handleRowRightClick(oe){if(this.contextMenu){const Le=oe.rowData,xt=oe.rowIndex;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=Le,this.contextMenuSelectionChange.emit(Le),this.onContextMenuSelect.emit({originalEvent:oe.originalEvent,data:Le,index:oe.rowIndex}),this.contextMenu.show(oe.originalEvent),this.tableService.onContextMenu(Le);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let Vt=this.isSelected(Le),Pn=this.dataKey?String(S.gb.resolveFieldData(Le,this.dataKey)):null;if(!Vt){if(!this.isRowSelectable(Le,xt))return;this.isSingleSelectionMode()?(this.selection=Le,this.selectionChange.emit(Le),Pn&&(this.selectionKeys={},this.selectionKeys[Pn]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,Le]:[Le],this.selectionChange.emit(this.selection),Pn&&(this.selectionKeys[Pn]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(oe.originalEvent),this.onContextMenuSelect.emit({originalEvent:oe,data:Le,index:oe.rowIndex})}}}selectRange(oe,Le){let xt,Vt;this.anchorRowIndex>Le?(xt=Le,Vt=this.anchorRowIndex):this.anchorRowIndex<Le?(xt=this.anchorRowIndex,Vt=Le):(xt=Le,Vt=Le),this.lazy&&this.paginator&&(xt-=this.first,Vt-=this.first);let Pn=[];for(let qn=xt;qn<=Vt;qn++){let gi=this.filteredValue?this.filteredValue[qn]:this.value[qn];if(!this.isSelected(gi)){if(!this.isRowSelectable(gi,Le))continue;Pn.push(gi),this._selection=[...this.selection,gi];let Hi=this.dataKey?String(S.gb.resolveFieldData(gi,this.dataKey)):null;Hi&&(this.selectionKeys[Hi]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:oe,data:Pn,type:"row"})}clearSelectionRange(oe){let Le,xt;this.rangeRowIndex>this.anchorRowIndex?(Le=this.anchorRowIndex,xt=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(Le=this.rangeRowIndex,xt=this.anchorRowIndex):(Le=this.rangeRowIndex,xt=this.rangeRowIndex);for(let Vt=Le;Vt<=xt;Vt++){let Pn=this.value[Vt],qn=this.findIndexInSelection(Pn);this._selection=this.selection.filter((Hi,Fi)=>Fi!=qn);let gi=this.dataKey?String(S.gb.resolveFieldData(Pn,this.dataKey)):null;gi&&delete this.selectionKeys[gi],this.onRowUnselect.emit({originalEvent:oe,data:Pn,type:"row"})}}isSelected(oe){return!(!oe||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[S.gb.resolveFieldData(oe,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(oe)>-1:this.equals(oe,this.selection))}findIndexInSelection(oe){let Le=-1;if(this.selection&&this.selection.length)for(let xt=0;xt<this.selection.length;xt++)if(this.equals(oe,this.selection[xt])){Le=xt;break}return Le}isRowSelectable(oe,Le){return!(this.rowSelectable&&!this.rowSelectable({data:oe,index:Le}))}toggleRowWithRadio(oe,Le){if(this.preventSelectionSetterPropagation=!0,this.selection!=Le){if(!this.isRowSelectable(Le,oe.rowIndex))return;this._selection=Le,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:oe.originalEvent,index:oe.rowIndex,data:Le,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(S.gb.resolveFieldData(Le,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:oe.originalEvent,index:oe.rowIndex,data:Le,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(oe,Le){this.selection=this.selection||[];let xt=this.isSelected(Le),Vt=this.dataKey?String(S.gb.resolveFieldData(Le,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,xt){let Pn=this.findIndexInSelection(Le);this._selection=this.selection.filter((qn,gi)=>gi!=Pn),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:oe.originalEvent,index:oe.rowIndex,data:Le,type:"checkbox"}),Vt&&delete this.selectionKeys[Vt]}else{if(!this.isRowSelectable(Le,oe.rowIndex))return;this._selection=this.selection?[...this.selection,Le]:[Le],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:oe.originalEvent,index:oe.rowIndex,data:Le,type:"checkbox"}),Vt&&(this.selectionKeys[Vt]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(oe,Le){if(null!==this._selectAll)this.selectAllChange.emit({originalEvent:oe,checked:Le});else{const xt=this.selectionPageOnly?this.dataToRender(this.processedData):this.processedData;let Vt=this.selectionPageOnly&&this._selection?this._selection.filter(Pn=>!xt.some(qn=>this.equals(Pn,qn))):[];Le&&(Vt=this.frozenValue?[...Vt,...this.frozenValue,...xt]:[...Vt,...xt],Vt=this.rowSelectable?Vt.filter((Pn,qn)=>this.rowSelectable({data:Pn,index:qn})):Vt),this._selection=Vt,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:oe,checked:Le}),this.isStateful()&&this.saveState()}}equals(oe,Le){return"equals"===this.compareSelectionBy?oe===Le:S.gb.equals(oe,Le,this.dataKey)}filter(oe,Le,xt){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(oe)?this.filters[Le]&&delete this.filters[Le]:this.filters[Le]={value:oe,matchMode:xt},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(oe,Le){this.filter(oe,"global",Le)}isFilterBlank(oe){return null==oe||"string"==typeof oe&&0==oe.trim().length||oe instanceof Array&&0==oe.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let oe;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");oe=this.globalFilterFields||this.columns}this.filteredValue=[];for(let Le=0;Le<this.value.length;Le++){let qn,xt=!0,Vt=!1,Pn=!1;for(let gi in this.filters)if(this.filters.hasOwnProperty(gi)&&"global"!==gi){Pn=!0;let Hi=gi,Fi=this.filters[Hi];if(Array.isArray(Fi)){for(let Si of Fi)if(xt=this.executeLocalFilter(Hi,this.value[Le],Si),Si.operator===_.pg.OR&&xt||Si.operator===_.pg.AND&&!xt)break}else xt=this.executeLocalFilter(Hi,this.value[Le],Fi);if(!xt)break}if(this.filters.global&&!Vt&&oe)for(let gi=0;gi<oe.length&&(Vt=this.filterService.filters[this.filters.global.matchMode](S.gb.resolveFieldData(this.value[Le],oe[gi].field||oe[gi]),this.filters.global.value,this.filterLocale),!Vt);gi++);qn=this.filters.global?Pn?Pn&&xt&&Vt:Vt:Pn&&xt,qn&&this.filteredValue.push(this.value[Le])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(oe,Le,xt){let Vt=xt.value,Pn=xt.matchMode||_.a6.STARTS_WITH,qn=S.gb.resolveFieldData(Le,oe);return(0,this.filterService.filters[Pn])(qn,Vt,this.filterLocale)}hasFilter(){let oe=!0;for(let Le in this.filters)if(this.filters.hasOwnProperty(Le)){oe=!1;break}return!oe}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filters.global&&(this.filters.global.value=null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}getExportHeader(oe){return oe[this.exportHeader]||oe.header||oe.field}exportCSV(oe){let Le,xt="",Vt=this.columns;oe&&oe.selectionOnly?Le=this.selection||[]:(Le=this.filteredValue||this.value,this.frozenValue&&(Le=Le?[...this.frozenValue,...Le]:this.frozenValue));for(let gi=0;gi<Vt.length;gi++){let Hi=Vt[gi];!1!==Hi.exportable&&Hi.field&&(xt+='"'+this.getExportHeader(Hi)+'"',gi<Vt.length-1&&(xt+=this.csvSeparator))}Le.forEach((gi,Hi)=>{xt+="\n";for(let Fi=0;Fi<Vt.length;Fi++){let Si=Vt[Fi];if(!1!==Si.exportable&&Si.field){let cs=S.gb.resolveFieldData(gi,Si.field);cs=null!=cs?this.exportFunction?this.exportFunction({data:cs,field:Si.field}):String(cs).replace(/"/g,'""'):"",xt+='"'+cs+'"',Fi<Vt.length-1&&(xt+=this.csvSeparator)}}});let Pn=new Blob([xt],{type:"text/csv;charset=utf-8;"}),qn=document.createElement("a");qn.style.display="none",document.body.appendChild(qn),void 0!==qn.download?(qn.setAttribute("href",URL.createObjectURL(Pn)),qn.setAttribute("download",this.exportFilename+".csv"),qn.click()):(xt="data:text/csv;charset=utf-8,"+xt,window.open(encodeURI(xt))),document.body.removeChild(qn)}onLazyItemLoad(oe){this.onLazyLoad.emit(Object.assign(Object.assign(Object.assign({},this.createLazyLoadMetadata()),oe),{rows:oe.last-oe.first}))}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(oe){this.virtualScroll&&this.scroller.scrollToIndex(oe)}scrollTo(oe){this.virtualScroll?this.scroller.scrollTo(oe):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(oe):(this.wrapperViewChild.nativeElement.scrollLeft=oe.left,this.wrapperViewChild.nativeElement.scrollTop=oe.top))}updateEditingCell(oe,Le,xt,Vt){this.editingCell=oe,this.editingCellData=Le,this.editingCellField=xt,this.editingCellRowIndex=Vt,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===a.p.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=oe=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(a.p.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:oe,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(oe){let Le=String(S.gb.resolveFieldData(oe,this.dataKey));this.editingRowKeys[Le]=!0}saveRowEdit(oe,Le){if(0===a.p.find(Le,".ng-invalid.ng-dirty").length){let xt=String(S.gb.resolveFieldData(oe,this.dataKey));delete this.editingRowKeys[xt]}}cancelRowEdit(oe){let Le=String(S.gb.resolveFieldData(oe,this.dataKey));delete this.editingRowKeys[Le]}toggleRow(oe,Le){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let xt=String(S.gb.resolveFieldData(oe,this.dataKey));null!=this.expandedRowKeys[xt]?(delete this.expandedRowKeys[xt],this.onRowCollapse.emit({originalEvent:Le,data:oe})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[xt]=!0,this.onRowExpand.emit({originalEvent:Le,data:oe})),Le&&Le.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(oe){return!0===this.expandedRowKeys[String(S.gb.resolveFieldData(oe,this.dataKey))]}isRowEditing(oe){return!0===this.editingRowKeys[String(S.gb.resolveFieldData(oe,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(oe){let Le=a.p.getOffset(this.containerViewChild.nativeElement).left;this.resizeColumnElement=oe.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=oe.pageX-Le+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(oe),oe.preventDefault()}onColumnResize(oe){let Le=a.p.getOffset(this.containerViewChild.nativeElement).left;a.p.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=oe.pageX-Le+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let oe=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,xt=this.resizeColumnElement.offsetWidth+oe;if(xt>=(this.resizeColumnElement.style.minWidth.replace(/[^\d.]/g,"")||15)){if("fit"===this.columnResizeMode){let qn=this.resizeColumnElement.nextElementSibling.offsetWidth-oe;xt>15&&qn>15&&this.resizeTableCells(xt,qn)}else"expand"===this.columnResizeMode&&(this.setResizeTableWidth(this.tableViewChild.nativeElement.offsetWidth+oe+"px"),this.resizeTableCells(xt,null));this.onColResize.emit({element:this.resizeColumnElement,delta:oe}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",a.p.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}resizeTableCells(oe,Le){let xt=a.p.index(this.resizeColumnElement),Vt=[];const Pn=a.p.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");a.p.find(Pn,"tr > th").forEach(Hi=>Vt.push(a.p.getOuterWidth(Hi))),this.destroyStyleElement(),this.createStyleElement();let gi="";Vt.forEach((Hi,Fi)=>{let Si=Fi===xt?oe:Le&&Fi===xt+1?Le:Hi;gi+=`\n                #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${Fi+1}),\n                #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${Fi+1}),\n                #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${Fi+1}) {\n                    width: ${Si}px !important; max-width: ${Si}px !important;\n                }\n            `}),this.styleElement.innerHTML=gi}onColumnDragStart(oe,Le){this.reorderIconWidth=a.p.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=a.p.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=Le,oe.dataTransfer.setData("text","b")}onColumnDragEnter(oe,Le){if(this.reorderableColumns&&this.draggedColumn&&Le){oe.preventDefault();let xt=a.p.getOffset(this.containerViewChild.nativeElement),Vt=a.p.getOffset(Le);if(this.draggedColumn!=Le){let Pn=a.p.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),qn=a.p.indexWithinGroup(Le,"preorderablecolumn"),gi=Vt.left-xt.left,Fi=Vt.left+Le.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=Vt.top-xt.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=Vt.top-xt.top+Le.offsetHeight+"px",oe.pageX>Fi?(this.reorderIndicatorUpViewChild.nativeElement.style.left=gi+Le.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=gi+Le.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=gi-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=gi-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),qn-Pn==1&&-1===this.dropPosition||qn-Pn==-1&&1===this.dropPosition?(this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none"):(this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block")}else oe.dataTransfer.dropEffect="none"}}onColumnDragLeave(oe){this.reorderableColumns&&this.draggedColumn&&(oe.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(oe,Le){if(oe.preventDefault(),this.draggedColumn){let xt=a.p.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),Vt=a.p.indexWithinGroup(Le,"preorderablecolumn"),Pn=xt!=Vt;Pn&&(Vt-xt==1&&-1===this.dropPosition||xt-Vt==1&&1===this.dropPosition)&&(Pn=!1),Pn&&Vt<xt&&1===this.dropPosition&&(Vt+=1),Pn&&Vt>xt&&-1===this.dropPosition&&(Vt-=1),Pn&&(S.gb.reorderArray(this.columns,xt,Vt),this.onColReorder.emit({dragIndex:xt,dropIndex:Vt,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(oe,Le){this.rowDragging=!0,this.draggedRowIndex=Le,oe.dataTransfer.setData("text","b")}onRowDragOver(oe,Le,xt){if(this.rowDragging&&this.draggedRowIndex!==Le){let Vt=a.p.getOffset(xt).top+a.p.getWindowScrollTop(),Pn=oe.pageY,qn=Vt+a.p.getOuterHeight(xt)/2,gi=xt.previousElementSibling;Pn<qn?(a.p.removeClass(xt,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=Le,gi?a.p.addClass(gi,"p-datatable-dragpoint-bottom"):a.p.addClass(xt,"p-datatable-dragpoint-top")):(gi?a.p.removeClass(gi,"p-datatable-dragpoint-bottom"):a.p.addClass(xt,"p-datatable-dragpoint-top"),this.droppedRowIndex=Le+1,a.p.addClass(xt,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(oe,Le){let xt=Le.previousElementSibling;xt&&a.p.removeClass(xt,"p-datatable-dragpoint-bottom"),a.p.removeClass(Le,"p-datatable-dragpoint-bottom"),a.p.removeClass(Le,"p-datatable-dragpoint-top")}onRowDragEnd(oe){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(oe,Le){if(null!=this.droppedRowIndex){let xt=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;S.gb.reorderArray(this.value,this.draggedRowIndex,xt),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:xt})}this.onRowDragLeave(oe,Le),this.onRowDragEnd(oe)}isEmpty(){let oe=this.filteredValue||this.value;return null==oe||0==oe.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const oe=this.getStorage();let Le={};this.paginator&&(Le.first=this.first,Le.rows=this.rows),this.sortField&&(Le.sortField=this.sortField,Le.sortOrder=this.sortOrder),this.multiSortMeta&&(Le.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(Le.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(Le),this.reorderableColumns&&this.saveColumnOrder(Le),this.selection&&(Le.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(Le.expandedRowKeys=this.expandedRowKeys),oe.setItem(this.stateKey,JSON.stringify(Le)),this.onStateSave.emit(Le)}clearState(){const oe=this.getStorage();this.stateKey&&oe.removeItem(this.stateKey)}restoreState(){const Le=this.getStorage().getItem(this.stateKey),xt=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(Le){let Pn=JSON.parse(Le,function(Pn,qn){return"string"==typeof qn&&xt.test(qn)?new Date(qn):qn});this.paginator&&(void 0!==this.first&&(this.first=Pn.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=Pn.rows,this.rowsChange.emit(this.rows))),Pn.sortField&&(this.restoringSort=!0,this._sortField=Pn.sortField,this._sortOrder=Pn.sortOrder),Pn.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=Pn.multiSortMeta),Pn.filters&&(this.restoringFilter=!0,this.filters=Pn.filters),this.resizableColumns&&(this.columnWidthsState=Pn.columnWidths,this.tableWidthState=Pn.tableWidth),Pn.expandedRowKeys&&(this.expandedRowKeys=Pn.expandedRowKeys),Pn.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(Pn.selection)),this.stateRestored=!0,this.onStateRestore.emit(Pn)}}saveColumnWidths(oe){let Le=[];a.p.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(Vt=>Le.push(a.p.getOuterWidth(Vt))),oe.columnWidths=Le.join(","),"expand"===this.columnResizeMode&&(oe.tableWidth=a.p.getOuterWidth(this.tableViewChild.nativeElement)+"px")}setResizeTableWidth(oe){this.tableViewChild.nativeElement.style.width=oe,this.tableViewChild.nativeElement.style.minWidth=oe}restoreColumnWidths(){if(this.columnWidthsState){let oe=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&this.setResizeTableWidth(this.tableWidthState+"px"),S.gb.isNotEmpty(oe)){this.createStyleElement();let Le="";oe.forEach((xt,Vt)=>{Le+=`\n                        #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${Vt+1}),\n                        #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${Vt+1}),\n                        #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${Vt+1}) {\n                            width: ${xt}px !important; max-width: ${xt}px !important\n                        }\n                    `}),this.styleElement.innerHTML=Le}}}saveColumnOrder(oe){if(this.columns){let Le=[];this.columns.map(xt=>{Le.push(xt.field||xt.key)}),oe.columnOrder=Le}}restoreColumnOrder(){const Le=this.getStorage().getItem(this.stateKey);if(Le){let Vt=JSON.parse(Le).columnOrder;if(Vt){let Pn=[];Vt.map(qn=>{let gi=this.findColumnByKey(qn);gi&&Pn.push(gi)}),this.columnOrderStateRestored=!0,this.columns=Pn}}}findColumnByKey(oe){if(!this.columns)return null;for(let Le of this.columns)if(Le.key===oe||Le.field===oe)return Le}createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement),this.responsiveStyleElement.innerHTML=`\n@media screen and (max-width: ${this.breakpoint}) {\n    #${this.id}-table > .p-datatable-thead > tr > th,\n    #${this.id}-table > .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    #${this.id}.p-datatable-gridlines > .p-datatable-wrapper > .p-datatable-table > .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n`)}destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.destroyStyleElement(),this.destroyResponsiveStyle()}}return At.\u0275fac=function(oe){return new(oe||At)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(so),u.Y36(u.sBO),u.Y36(_.iZ),u.Y36(_.F0))},At.\u0275cmp=u.Xpm({type:At,selectors:[["p-table"]],contentQueries:function(oe,Le,xt){if(1&oe&&u.Suo(xt,_.jx,4),2&oe){let Vt;u.iGM(Vt=u.CRH())&&(Le.templates=Vt)}},viewQuery:function(oe,Le){if(1&oe&&(u.Gf(K,5),u.Gf(ue,5),u.Gf(q,5),u.Gf(G,5),u.Gf(j,5),u.Gf(fe,5),u.Gf(ne,5),u.Gf(J,5),u.Gf(X,5)),2&oe){let xt;u.iGM(xt=u.CRH())&&(Le.containerViewChild=xt.first),u.iGM(xt=u.CRH())&&(Le.resizeHelperViewChild=xt.first),u.iGM(xt=u.CRH())&&(Le.reorderIndicatorUpViewChild=xt.first),u.iGM(xt=u.CRH())&&(Le.reorderIndicatorDownViewChild=xt.first),u.iGM(xt=u.CRH())&&(Le.wrapperViewChild=xt.first),u.iGM(xt=u.CRH())&&(Le.tableViewChild=xt.first),u.iGM(xt=u.CRH())&&(Le.tableHeaderViewChild=xt.first),u.iGM(xt=u.CRH())&&(Le.tableFooterViewChild=xt.first),u.iGM(xt=u.CRH())&&(Le.scroller=xt.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",selectionPageOnly:"selectionPageOnly",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:"virtualScrollDelay",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:"groupRowsByOrder",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",virtualRowHeight:"virtualRowHeight",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll"},outputs:{selectAllChange:"selectAllChange",selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[u._Bn([so]),u.TTD],decls:16,vars:22,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],[3,"items","columns","style","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["buildInTable",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display:none",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display:none",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[3,"items","columns","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","onLazyLoad"],["scroller",""],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","table",3,"ngClass"],["table",""],[1,"p-datatable-thead"],["thead",""],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"ngClass","value","pTableBody","pTableBodyTemplate","scrollerOptions"],["class","p-datatable-scroller-spacer",3,"style",4,"ngIf"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-scroller-spacer"],[1,"p-datatable-tfoot"],["tfoot",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(oe,Le){1&oe&&(u.TgZ(0,"div",0,1),u.YNc(2,W,2,2,"div",2),u.YNc(3,Te,2,1,"div",3),u.YNc(4,Ae,1,17,"p-paginator",4),u.TgZ(5,"div",5,6),u.YNc(7,xe,3,16,"p-scroller",7),u.YNc(8,dt,2,7,"ng-container",8),u.YNc(9,at,10,28,"ng-template",null,9,u.W1O),u.qZA(),u.YNc(11,me,1,17,"p-paginator",10),u.YNc(12,ot,2,1,"div",11),u.YNc(13,Ct,2,0,"div",12),u.YNc(14,Ot,2,0,"span",13),u.YNc(15,Ft,2,0,"span",14),u.qZA()),2&oe&&(u.Tol(Le.styleClass),u.Q6J("ngStyle",Le.style)("ngClass",u.kEZ(16,Mt,Le.rowHover||Le.selectionMode,Le.scrollable,Le.scrollable&&"flex"===Le.scrollHeight)),u.uIk("id",Le.id),u.xp6(2),u.Q6J("ngIf",Le.loading&&Le.showLoader),u.xp6(1),u.Q6J("ngIf",Le.captionTemplate),u.xp6(1),u.Q6J("ngIf",Le.paginator&&("top"===Le.paginatorPosition||"both"==Le.paginatorPosition)),u.xp6(1),u.Q6J("ngStyle",u.VKq(20,Ye,Le.virtualScroll?"":Le.scrollHeight)),u.xp6(2),u.Q6J("ngIf",Le.virtualScroll),u.xp6(1),u.Q6J("ngIf",!Le.virtualScroll),u.xp6(3),u.Q6J("ngIf",Le.paginator&&("bottom"===Le.paginatorPosition||"both"==Le.paginatorPosition)),u.xp6(1),u.Q6J("ngIf",Le.summaryTemplate),u.xp6(1),u.Q6J("ngIf",Le.resizableColumns),u.xp6(1),u.Q6J("ngIf",Le.reorderableColumns),u.xp6(1),u.Q6J("ngIf",Le.reorderableColumns))},dependencies:function(){return[d.mk,d.O5,d.tP,d.PC,F.D,_.jx,T.T,Ii]},styles:[".p-datatable{position:relative}.p-datatable>.p-datatable-wrapper{overflow:auto}.p-datatable-table{border-spacing:0px;width:100%}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable>.p-datatable-wrapper{position:relative}.p-datatable-scrollable-table>.p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable>.p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable-table>.p-datatable-tbody>.p-rowgroup-header{position:sticky;z-index:1}.p-datatable-resizable-table>.p-datatable-thead>tr>th,.p-datatable-resizable-table>.p-datatable-tfoot>tr>td,.p-datatable-resizable-table>.p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable-table>.p-datatable-thead>tr>th.p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-table-fit>.p-datatable-thead>tr>th.p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute;display:none}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable-tbody>tr>td>.p-column-title{display:none}.p-datatable-scroller-spacer{display:flex}.p-datatable .p-scroller .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}\n"],encapsulation:2}),At})(),Ii=(()=>{class At{constructor(oe,Le,xt,Vt){this.dt=oe,this.tableService=Le,this.cd=xt,this.el=Vt,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}get value(){return this._value}set value(oe){this._value=oe,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}shouldRenderRowGroupHeader(oe,Le,xt){let Vt=S.gb.resolveFieldData(Le,this.dt.groupRowsBy),Pn=oe[xt-1];return!Pn||Vt!==S.gb.resolveFieldData(Pn,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(oe,Le,xt){let Vt=S.gb.resolveFieldData(Le,this.dt.groupRowsBy),Pn=oe[xt+1];return!Pn||Vt!==S.gb.resolveFieldData(Pn,this.dt.groupRowsBy)}shouldRenderRowspan(oe,Le,xt){let Vt=S.gb.resolveFieldData(Le,this.dt.groupRowsBy),Pn=oe[xt-1];return!Pn||Vt!==S.gb.resolveFieldData(Pn,this.dt.groupRowsBy)}calculateRowGroupSize(oe,Le,xt){let Vt=S.gb.resolveFieldData(Le,this.dt.groupRowsBy),Pn=Vt,qn=0;for(;Vt===Pn;){qn++;let gi=oe[++xt];if(!gi)break;Pn=S.gb.resolveFieldData(gi,this.dt.groupRowsBy)}return 1===qn?null:qn}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=a.p.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let oe=a.p.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=oe+"px"}}getScrollerOption(oe,Le){return this.dt.virtualScroll&&(Le=Le||this.scrollerOptions)?Le[oe]:null}getRowIndex(oe){const Le=this.dt.paginator?this.dt.first+oe:oe,xt=this.getScrollerOption("getItemOptions");return xt?xt(Le).index:Le}}return At.\u0275fac=function(oe){return new(oe||At)(u.Y36(si),u.Y36(so),u.Y36(u.sBO),u.Y36(u.SBq))},At.\u0275cmp=u.Xpm({type:At,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows",scrollerOptions:"scrollerOptions"},attrs:st,decls:5,vars:5,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(oe,Le){1&oe&&(u.YNc(0,de,2,2,"ng-container",0),u.YNc(1,Hn,2,2,"ng-container",0),u.YNc(2,Ho,2,2,"ng-container",0),u.YNc(3,ye,2,5,"ng-container",0),u.YNc(4,ut,2,5,"ng-container",0)),2&oe&&(u.Q6J("ngIf",!Le.dt.expandedRowTemplate),u.xp6(1),u.Q6J("ngIf",Le.dt.expandedRowTemplate&&!(Le.frozen&&Le.dt.frozenExpandedRowTemplate)),u.xp6(1),u.Q6J("ngIf",Le.dt.frozenExpandedRowTemplate&&Le.frozen),u.xp6(1),u.Q6J("ngIf",Le.dt.loading),u.xp6(1),u.Q6J("ngIf",Le.dt.isEmpty()&&!Le.dt.loading))},dependencies:[d.sg,d.O5,d.tP],encapsulation:2}),At})(),yr=(()=>{class At{constructor(oe){this.el=oe,this.alignFrozen="left",this._frozen=!0}get frozen(){return this._frozen}set frozen(oe){this._frozen=oe,this.updateStickyPosition()}ngAfterViewInit(){setTimeout(()=>{this.updateStickyPosition()},1e3)}updateStickyPosition(){if(this._frozen){if("right"===this.alignFrozen){let Le=0,xt=this.el.nativeElement.nextElementSibling;xt&&(Le=a.p.getOuterWidth(xt)+(parseFloat(xt.style.right)||0)),this.el.nativeElement.style.right=Le+"px"}else{let Le=0,xt=this.el.nativeElement.previousElementSibling;xt&&(Le=a.p.getOuterWidth(xt)+(parseFloat(xt.style.left)||0)),this.el.nativeElement.style.left=Le+"px"}let oe=this.el.nativeElement.parentElement.nextElementSibling;if(oe){let Le=a.p.index(this.el.nativeElement);oe.children&&oe.children[Le]&&(oe.children[Le].style.left=this.el.nativeElement.style.left,oe.children[Le].style.right=this.el.nativeElement.style.right)}}}}return At.\u0275fac=function(oe){return new(oe||At)(u.Y36(u.SBq))},At.\u0275dir=u.lG2({type:At,selectors:[["","pFrozenColumn",""]],hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(oe,Le){2&oe&&u.ekj("p-frozen-column",Le.frozen)},inputs:{frozen:"frozen",alignFrozen:"alignFrozen"}}),At})(),ss=(()=>{class At{constructor(oe){this.dt=oe,this.isEnabled()&&(this.subscription=this.dt.tableService.sortSource$.subscribe(Le=>{this.updateSortState()}))}ngOnInit(){this.isEnabled()&&this.updateSortState()}updateSortState(){this.sorted=this.dt.isSorted(this.field),this.sortOrder=this.sorted?1===this.dt.sortOrder?"ascending":"descending":"none"}onClick(oe){this.isEnabled()&&!this.isFilterElement(oe.target)&&(this.updateSortState(),this.dt.sort({originalEvent:oe,field:this.field}),a.p.clearSelection())}onEnterKey(oe){this.onClick(oe)}isEnabled(){return!0!==this.pSortableColumnDisabled}isFilterElement(oe){return a.p.hasClass(oe,"pi-filter-icon")||a.p.hasClass(oe,"p-column-filter-menu-button")}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return At.\u0275fac=function(oe){return new(oe||At)(u.Y36(si))},At.\u0275dir=u.lG2({type:At,selectors:[["","pSortableColumn",""]],hostAttrs:[1,"p-element"],hostVars:7,hostBindings:function(oe,Le){1&oe&&u.NdJ("click",function(Vt){return Le.onClick(Vt)})("keydown.enter",function(Vt){return Le.onEnterKey(Vt)}),2&oe&&(u.uIk("tabindex",Le.isEnabled()?"0":null)("role","columnheader")("aria-sort",Le.sortOrder),u.ekj("p-sortable-column",Le.isEnabled())("p-highlight",Le.sorted))},inputs:{field:["pSortableColumn","field"],pSortableColumnDisabled:"pSortableColumnDisabled"}}),At})(),Or=(()=>{class At{constructor(oe,Le){this.dt=oe,this.cd=Le,this.subscription=this.dt.tableService.sortSource$.subscribe(xt=>{this.updateSortState()})}ngOnInit(){this.updateSortState()}onClick(oe){oe.preventDefault()}updateSortState(){if("single"===this.dt.sortMode)this.sortOrder=this.dt.isSorted(this.field)?this.dt.sortOrder:0;else if("multiple"===this.dt.sortMode){let oe=this.dt.getSortMeta(this.field);this.sortOrder=oe?oe.order:0}this.cd.markForCheck()}getMultiSortMetaIndex(){let oe=this.dt._multiSortMeta,Le=-1;if(oe&&"multiple"===this.dt.sortMode&&(this.dt.showInitialSortBadge||oe.length>1))for(let xt=0;xt<oe.length;xt++){let Vt=oe[xt];if(Vt.field===this.field||Vt.field===this.field){Le=xt;break}}return Le}getBadgeValue(){let oe=this.getMultiSortMetaIndex();return this.dt.groupRowsBy&&oe>-1?oe:oe+1}isMultiSorted(){return"multiple"===this.dt.sortMode&&this.getMultiSortMetaIndex()>-1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return At.\u0275fac=function(oe){return new(oe||At)(u.Y36(si),u.Y36(u.sBO))},At.\u0275cmp=u.Xpm({type:At,selectors:[["p-sortIcon"]],hostAttrs:[1,"p-element"],inputs:{field:"field"},decls:2,vars:6,consts:[[1,"p-sortable-column-icon","pi","pi-fw",3,"ngClass"],["class","p-sortable-column-badge",4,"ngIf"],[1,"p-sortable-column-badge"]],template:function(oe,Le){1&oe&&(u._UZ(0,"i",0),u.YNc(1,dn,2,1,"span",1)),2&oe&&(u.Q6J("ngClass",u.kEZ(2,In,1===Le.sortOrder,-1===Le.sortOrder,0===Le.sortOrder)),u.xp6(1),u.Q6J("ngIf",Le.isMultiSorted()))},dependencies:[d.mk,d.O5],encapsulation:2,changeDetection:0}),At})(),Zi=(()=>{class At{constructor(oe,Le){this.dt=oe,this.tableService=Le,this.isEnabled()&&(this.subscription=this.dt.tableService.selectionSource$.subscribe(()=>{this.selected=this.dt.isSelected(this.data)}))}ngOnInit(){this.isEnabled()&&(this.selected=this.dt.isSelected(this.data))}onClick(oe){this.isEnabled()&&this.dt.handleRowClick({originalEvent:oe,rowData:this.data,rowIndex:this.index})}onTouchEnd(oe){this.isEnabled()&&this.dt.handleRowTouchEnd(oe)}onArrowDownKeyDown(oe){if(!this.isEnabled())return;const xt=this.findNextSelectableRow(oe.currentTarget);xt&&xt.focus(),oe.preventDefault()}onArrowUpKeyDown(oe){if(!this.isEnabled())return;const xt=this.findPrevSelectableRow(oe.currentTarget);xt&&xt.focus(),oe.preventDefault()}onEnterKeyDown(oe){!this.isEnabled()||this.dt.handleRowClick({originalEvent:oe,rowData:this.data,rowIndex:this.index})}onPageDownKeyDown(){this.dt.virtualScroll&&this.dt.scroller.elementViewChild.nativeElement.focus()}onSpaceKeydown(){this.dt.virtualScroll&&!this.dt.editingCell&&this.dt.scroller.elementViewChild.nativeElement.focus()}findNextSelectableRow(oe){let Le=oe.nextElementSibling;return Le?a.p.hasClass(Le,"p-selectable-row")?Le:this.findNextSelectableRow(Le):null}findPrevSelectableRow(oe){let Le=oe.previousElementSibling;return Le?a.p.hasClass(Le,"p-selectable-row")?Le:this.findPrevSelectableRow(Le):null}isEnabled(){return!0!==this.pSelectableRowDisabled}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return At.\u0275fac=function(oe){return new(oe||At)(u.Y36(si),u.Y36(so))},At.\u0275dir=u.lG2({type:At,selectors:[["","pSelectableRow",""]],hostAttrs:[1,"p-element"],hostVars:5,hostBindings:function(oe,Le){1&oe&&u.NdJ("click",function(Vt){return Le.onClick(Vt)})("touchend",function(Vt){return Le.onTouchEnd(Vt)})("keydown.arrowdown",function(Vt){return Le.onArrowDownKeyDown(Vt)})("keydown.arrowup",function(Vt){return Le.onArrowUpKeyDown(Vt)})("keydown.enter",function(Vt){return Le.onEnterKeyDown(Vt)})("keydown.shift.enter",function(Vt){return Le.onEnterKeyDown(Vt)})("keydown.meta.enter",function(Vt){return Le.onEnterKeyDown(Vt)})("keydown.pagedown",function(){return Le.onPageDownKeyDown()})("keydown.pageup",function(){return Le.onPageDownKeyDown()})("keydown.home",function(){return Le.onPageDownKeyDown()})("keydown.end",function(){return Le.onPageDownKeyDown()})("keydown.space",function(){return Le.onSpaceKeydown()}),2&oe&&(u.uIk("tabindex",Le.isEnabled()?0:void 0),u.ekj("p-selectable-row",Le.isEnabled())("p-highlight",Le.selected))},inputs:{data:["pSelectableRow","data"],index:["pSelectableRowIndex","index"],pSelectableRowDisabled:"pSelectableRowDisabled"}}),At})(),fs=(()=>{class At{constructor(oe){this.dt=oe}onClick(oe){this.isEnabled()&&(this.dt.toggleRow(this.data,oe),oe.preventDefault())}isEnabled(){return!0!==this.pRowTogglerDisabled}}return At.\u0275fac=function(oe){return new(oe||At)(u.Y36(si))},At.\u0275dir=u.lG2({type:At,selectors:[["","pRowToggler",""]],hostAttrs:[1,"p-element"],hostBindings:function(oe,Le){1&oe&&u.NdJ("click",function(Vt){return Le.onClick(Vt)})},inputs:{data:["pRowToggler","data"],pRowTogglerDisabled:"pRowTogglerDisabled"}}),At})(),go=(()=>{class At{constructor(oe,Le,xt){this.dt=oe,this.el=Le,this.zone=xt}ngAfterViewInit(){this.isEnabled()&&a.p.addClass(this.el.nativeElement,"p-editable-column")}onClick(oe){if(this.isEnabled())if(this.dt.selfClick=!0,this.dt.editingCell){if(this.dt.editingCell!==this.el.nativeElement){if(!this.dt.isEditingCellValid())return;this.closeEditingCell(!0,oe),this.openCell()}}else this.openCell()}openCell(){this.dt.updateEditingCell(this.el.nativeElement,this.data,this.field,this.rowIndex),a.p.addClass(this.el.nativeElement,"p-cell-editing"),this.dt.onEditInit.emit({field:this.field,data:this.data,index:this.rowIndex}),this.zone.runOutsideAngular(()=>{setTimeout(()=>{let Le=a.p.findSingle(this.el.nativeElement,this.pFocusCellSelector||"input, textarea, select");Le&&Le.focus()},50)}),this.overlayEventListener=oe=>{this.el&&this.el.nativeElement.contains(oe.target)&&(this.dt.selfClick=!0)},this.dt.overlaySubscription=this.dt.overlayService.clickObservable.subscribe(this.overlayEventListener)}closeEditingCell(oe,Le){oe?this.dt.onEditComplete.emit({field:this.dt.editingCellField,data:this.dt.editingCellData,originalEvent:Le,index:this.dt.editingCellRowIndex}):this.dt.onEditCancel.emit({field:this.dt.editingCellField,data:this.dt.editingCellData,originalEvent:Le,index:this.dt.editingCellRowIndex}),a.p.removeClass(this.dt.editingCell,"p-cell-editing"),this.dt.editingCell=null,this.dt.editingCellData=null,this.dt.editingCellField=null,this.dt.unbindDocumentEditListener(),this.dt.overlaySubscription&&this.dt.overlaySubscription.unsubscribe()}onEnterKeyDown(oe){this.isEnabled()&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,oe),oe.preventDefault())}onTabKeyDown(oe){this.isEnabled()&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,oe),oe.preventDefault())}onEscapeKeyDown(oe){this.isEnabled()&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!1,oe),oe.preventDefault())}onShiftKeyDown(oe){this.isEnabled()&&(oe.shiftKey?this.moveToPreviousCell(oe):this.moveToNextCell(oe))}onArrowDown(oe){if(this.isEnabled()){let Le=this.findCell(oe.target);if(Le){let xt=a.p.index(Le),Vt=this.findNextEditableColumnByIndex(Le,xt);Vt&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,oe),a.p.invokeElementMethod(oe.target,"blur"),a.p.invokeElementMethod(Vt,"click")),oe.preventDefault()}}}onArrowUp(oe){if(this.isEnabled()){let Le=this.findCell(oe.target);if(Le){let xt=a.p.index(Le),Vt=this.findPrevEditableColumnByIndex(Le,xt);Vt&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,oe),a.p.invokeElementMethod(oe.target,"blur"),a.p.invokeElementMethod(Vt,"click")),oe.preventDefault()}}}onArrowLeft(oe){this.isEnabled()&&this.moveToPreviousCell(oe)}onArrowRight(oe){this.isEnabled()&&this.moveToNextCell(oe)}findCell(oe){if(oe){let Le=oe;for(;Le&&!a.p.hasClass(Le,"p-cell-editing");)Le=Le.parentElement;return Le}return null}moveToPreviousCell(oe){let Le=this.findCell(oe.target);if(Le){let xt=this.findPreviousEditableColumn(Le);xt&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,oe),a.p.invokeElementMethod(oe.target,"blur"),a.p.invokeElementMethod(xt,"click"),oe.preventDefault())}}moveToNextCell(oe){let Le=this.findCell(oe.target);if(Le){let xt=this.findNextEditableColumn(Le);xt&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,oe),a.p.invokeElementMethod(oe.target,"blur"),a.p.invokeElementMethod(xt,"click"),oe.preventDefault())}}findPreviousEditableColumn(oe){let Le=oe.previousElementSibling;if(!Le){let xt=oe.parentElement.previousElementSibling;xt&&(Le=xt.lastElementChild)}return Le?a.p.hasClass(Le,"p-editable-column")?Le:this.findPreviousEditableColumn(Le):null}findNextEditableColumn(oe){let Le=oe.nextElementSibling;if(!Le){let xt=oe.parentElement.nextElementSibling;xt&&(Le=xt.firstElementChild)}return Le?a.p.hasClass(Le,"p-editable-column")?Le:this.findNextEditableColumn(Le):null}findNextEditableColumnByIndex(oe,Le){let xt=oe.parentElement.nextElementSibling;if(xt){let Vt=xt.children[Le];return Vt&&a.p.hasClass(Vt,"p-editable-column")?Vt:null}return null}findPrevEditableColumnByIndex(oe,Le){let xt=oe.parentElement.previousElementSibling;if(xt){let Vt=xt.children[Le];return Vt&&a.p.hasClass(Vt,"p-editable-column")?Vt:null}return null}isEnabled(){return!0!==this.pEditableColumnDisabled}ngOnDestroy(){this.dt.overlaySubscription&&this.dt.overlaySubscription.unsubscribe()}}return At.\u0275fac=function(oe){return new(oe||At)(u.Y36(si),u.Y36(u.SBq),u.Y36(u.R0b))},At.\u0275dir=u.lG2({type:At,selectors:[["","pEditableColumn",""]],hostAttrs:[1,"p-element"],hostBindings:function(oe,Le){1&oe&&u.NdJ("click",function(Vt){return Le.onClick(Vt)})("keydown.enter",function(Vt){return Le.onEnterKeyDown(Vt)})("keydown.tab",function(Vt){return Le.onShiftKeyDown(Vt)})("keydown.escape",function(Vt){return Le.onEscapeKeyDown(Vt)})("keydown.shift.tab",function(Vt){return Le.onShiftKeyDown(Vt)})("keydown.meta.tab",function(Vt){return Le.onShiftKeyDown(Vt)})("keydown.arrowdown",function(Vt){return Le.onArrowDown(Vt)})("keydown.arrowup",function(Vt){return Le.onArrowUp(Vt)})("keydown.arrowleft",function(Vt){return Le.onArrowLeft(Vt)})("keydown.arrowright",function(Vt){return Le.onArrowRight(Vt)})},inputs:{data:["pEditableColumn","data"],field:["pEditableColumnField","field"],rowIndex:["pEditableColumnRowIndex","rowIndex"],pEditableColumnDisabled:"pEditableColumnDisabled",pFocusCellSelector:"pFocusCellSelector"}}),At})(),Cs=(()=>{class At{constructor(oe){this.el=oe}isEnabled(){return!0!==this.pEditableRowDisabled}}return At.\u0275fac=function(oe){return new(oe||At)(u.Y36(u.SBq))},At.\u0275dir=u.lG2({type:At,selectors:[["","pEditableRow",""]],hostAttrs:[1,"p-element"],inputs:{data:["pEditableRow","data"],pEditableRowDisabled:"pEditableRowDisabled"}}),At})(),ys=(()=>{class At{constructor(oe,Le,xt){this.dt=oe,this.editableColumn=Le,this.editableRow=xt}ngAfterContentInit(){this.templates.forEach(oe=>{switch(oe.getType()){case"input":this.inputTemplate=oe.template;break;case"output":this.outputTemplate=oe.template}})}get editing(){return this.dt.editingCell&&this.editableColumn&&this.dt.editingCell===this.editableColumn.el.nativeElement||this.editableRow&&"row"===this.dt.editMode&&this.dt.isRowEditing(this.editableRow.data)}}return At.\u0275fac=function(oe){return new(oe||At)(u.Y36(si),u.Y36(go,8),u.Y36(Cs,8))},At.\u0275cmp=u.Xpm({type:At,selectors:[["p-cellEditor"]],contentQueries:function(oe,Le,xt){if(1&oe&&u.Suo(xt,_.jx,4),2&oe){let Vt;u.iGM(Vt=u.CRH())&&(Le.templates=Vt)}},hostAttrs:[1,"p-element"],decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(oe,Le){1&oe&&(u.YNc(0,bn,2,1,"ng-container",0),u.YNc(1,Wn,2,1,"ng-container",0)),2&oe&&(u.Q6J("ngIf",Le.editing),u.xp6(1),u.Q6J("ngIf",!Le.editing))},dependencies:[d.O5,d.tP],encapsulation:2}),At})(),Yo=(()=>{class At{constructor(oe,Le,xt,Vt,Pn){this.el=oe,this.dt=Le,this.renderer=xt,this.config=Vt,this.overlayService=Pn,this.type="text",this.display="row",this.showMenu=!0,this.operator=_.pg.AND,this.showOperator=!0,this.showClearButton=!0,this.showApplyButton=!0,this.showMatchModes=!0,this.showAddButton=!0,this.hideOnClear=!1,this.maxConstraints=2,this.useGrouping=!0,this.showButtons=!0}ngOnInit(){this.dt.filters[this.field]||this.initFieldFilterConstraint(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.generateMatchModeOptions(),this.generateOperatorOptions()}),this.resetSubscription=this.dt.tableService.resetSource$.subscribe(()=>{this.initFieldFilterConstraint()}),this.generateMatchModeOptions(),this.generateOperatorOptions()}generateMatchModeOptions(){var oe;this.matchModes=this.matchModeOptions||(null===(oe=this.config.filterMatchModeOptions[this.type])||void 0===oe?void 0:oe.map(Le=>({label:this.config.getTranslation(Le),value:Le})))}generateOperatorOptions(){this.operatorOptions=[{label:this.config.getTranslation(_.ws.MATCH_ALL),value:_.pg.AND},{label:this.config.getTranslation(_.ws.MATCH_ANY),value:_.pg.OR}]}ngAfterContentInit(){this.templates.forEach(oe=>{switch(oe.getType()){case"header":this.headerTemplate=oe.template;break;case"filter":default:this.filterTemplate=oe.template;break;case"footer":this.footerTemplate=oe.template}})}initFieldFilterConstraint(){let oe=this.getDefaultMatchMode();this.dt.filters[this.field]="row"==this.display?{value:null,matchMode:oe}:[{value:null,matchMode:oe,operator:this.operator}]}onMenuMatchModeChange(oe,Le){Le.matchMode=oe,this.showApplyButton||this.dt._filter()}onRowMatchModeChange(oe){this.dt.filters[this.field].matchMode=oe,this.dt._filter(),this.hide()}onRowMatchModeKeyDown(oe){let Le=oe.target;switch(oe.key){case"ArrowDown":var xt=this.findNextItem(Le);xt&&(Le.removeAttribute("tabindex"),xt.tabIndex="0",xt.focus()),oe.preventDefault();break;case"ArrowUp":var Vt=this.findPrevItem(Le);Vt&&(Le.removeAttribute("tabindex"),Vt.tabIndex="0",Vt.focus()),oe.preventDefault()}}onRowClearItemClick(){this.clearFilter(),this.hide()}isRowMatchModeSelected(oe){return this.dt.filters[this.field].matchMode===oe}addConstraint(){this.dt.filters[this.field].push({value:null,matchMode:this.getDefaultMatchMode(),operator:this.getDefaultOperator()})}removeConstraint(oe){this.dt.filters[this.field]=this.dt.filters[this.field].filter(Le=>Le!==oe),this.dt._filter()}onOperatorChange(oe){this.dt.filters[this.field].forEach(Le=>{Le.operator=oe,this.operator=oe}),this.showApplyButton||this.dt._filter()}toggleMenu(){this.overlayVisible=!this.overlayVisible}onToggleButtonKeyDown(oe){switch(oe.key){case"Escape":case"Tab":this.overlayVisible=!1;break;case"ArrowDown":if(this.overlayVisible){let Le=a.p.getFocusableElements(this.overlay);Le&&Le[0].focus(),oe.preventDefault()}else oe.altKey&&(this.overlayVisible=!0,oe.preventDefault())}}onEscape(){this.overlayVisible=!1,this.icon.nativeElement.focus()}findNextItem(oe){let Le=oe.nextElementSibling;return Le?a.p.hasClass(Le,"p-column-filter-separator")?this.findNextItem(Le):Le:oe.parentElement.firstElementChild}findPrevItem(oe){let Le=oe.previousElementSibling;return Le?a.p.hasClass(Le,"p-column-filter-separator")?this.findPrevItem(Le):Le:oe.parentElement.lastElementChild}onContentClick(){this.selfClick=!0}onOverlayAnimationStart(oe){switch(oe.toState){case"visible":this.overlay=oe.element,document.body.appendChild(this.overlay),S.P9.set("overlay",this.overlay,this.config.zIndex.overlay),a.p.absolutePosition(this.overlay,this.icon.nativeElement),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.overlayEventListener=Le=>{this.overlay&&this.overlay.contains(Le.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener);break;case"void":this.onOverlayHide(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}}onOverlayAnimationEnd(oe){"void"===oe.toState&&S.P9.clear(oe.element)}getDefaultMatchMode(){return this.matchMode?this.matchMode:"text"===this.type?_.a6.STARTS_WITH:"numeric"===this.type?_.a6.EQUALS:"date"===this.type?_.a6.DATE_IS:_.a6.CONTAINS}getDefaultOperator(){return this.dt.filters?this.dt.filters[this.field][0].operator:this.operator}hasRowFilter(){return this.dt.filters[this.field]&&!this.dt.isFilterBlank(this.dt.filters[this.field].value)}get fieldConstraints(){return this.dt.filters?this.dt.filters[this.field]:null}get showRemoveIcon(){return!!this.fieldConstraints&&this.fieldConstraints.length>1}get showMenuButton(){return this.showMenu&&("row"!==this.display||"boolean"!==this.type)}get isShowOperator(){return this.showOperator&&"boolean"!==this.type}get isShowAddConstraint(){return this.showAddButton&&"boolean"!==this.type&&this.fieldConstraints&&this.fieldConstraints.length<this.maxConstraints}get applyButtonLabel(){return this.config.getTranslation(_.ws.APPLY)}get clearButtonLabel(){return this.config.getTranslation(_.ws.CLEAR)}get addRuleButtonLabel(){return this.config.getTranslation(_.ws.ADD_RULE)}get removeRuleButtonLabel(){return this.config.getTranslation(_.ws.REMOVE_RULE)}get noFilterLabel(){return this.config.getTranslation(_.ws.NO_FILTER)}hasFilter(){let oe=this.dt.filters[this.field];return!!oe&&(Array.isArray(oe)?!this.dt.isFilterBlank(oe[0].value):!this.dt.isFilterBlank(oe.value))}isOutsideClicked(oe){return!(this.overlay.isSameNode(oe.target)||this.overlay.contains(oe.target)||this.icon.nativeElement.isSameNode(oe.target)||this.icon.nativeElement.contains(oe.target)||a.p.hasClass(oe.target,"p-column-filter-add-button")||a.p.hasClass(oe.target.parentElement,"p-column-filter-add-button")||a.p.hasClass(oe.target,"p-column-filter-remove-button")||a.p.hasClass(oe.target.parentElement,"p-column-filter-remove-button"))}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",Le=>{this.overlayVisible&&!this.selfClick&&this.isOutsideClicked(Le)&&this.hide(),this.selfClick=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}bindDocumentResizeListener(){this.documentResizeListener=()=>{this.overlayVisible&&!a.p.isTouchDevice()&&this.hide()},window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new a.V(this.icon.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}hide(){this.overlayVisible=!1}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}clearFilter(){this.initFieldFilterConstraint(),this.dt._filter(),this.hideOnClear&&this.hide()}applyFilter(){this.dt._filter(),this.hide()}ngOnDestroy(){this.overlay&&(this.el.nativeElement.appendChild(this.overlay),S.P9.clear(this.overlay),this.onOverlayHide()),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.resetSubscription&&this.resetSubscription.unsubscribe(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}}return At.\u0275fac=function(oe){return new(oe||At)(u.Y36(u.SBq),u.Y36(si),u.Y36(u.Qsj),u.Y36(_.b4),u.Y36(_.F0))},At.\u0275cmp=u.Xpm({type:At,selectors:[["p-columnFilter"]],contentQueries:function(oe,Le,xt){if(1&oe&&u.Suo(xt,_.jx,4),2&oe){let Vt;u.iGM(Vt=u.CRH())&&(Le.templates=Vt)}},viewQuery:function(oe,Le){if(1&oe&&u.Gf(li,5),2&oe){let xt;u.iGM(xt=u.CRH())&&(Le.icon=xt.first)}},hostAttrs:[1,"p-element"],inputs:{field:"field",type:"type",display:"display",showMenu:"showMenu",matchMode:"matchMode",operator:"operator",showOperator:"showOperator",showClearButton:"showClearButton",showApplyButton:"showApplyButton",showMatchModes:"showMatchModes",showAddButton:"showAddButton",hideOnClear:"hideOnClear",placeholder:"placeholder",matchModeOptions:"matchModeOptions",maxConstraints:"maxConstraints",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",locale:"locale",localeMatcher:"localeMatcher",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",showButtons:"showButtons"},decls:5,vars:8,consts:[[1,"p-column-filter",3,"ngClass"],["class","p-fluid",3,"type","field","filterConstraint","filterTemplate","placeholder","minFractionDigits","maxFractionDigits","prefix","suffix","locale","localeMatcher","currency","currencyDisplay","useGrouping","showButtons",4,"ngIf"],["type","button","class","p-column-filter-menu-button p-link","aria-haspopup","true",3,"ngClass","click","keydown",4,"ngIf"],["type","button","class","p-column-filter-clear-button p-link",3,"ngClass","click",4,"ngIf"],[3,"ngClass","click","keydown.escape",4,"ngIf"],[1,"p-fluid",3,"type","field","filterConstraint","filterTemplate","placeholder","minFractionDigits","maxFractionDigits","prefix","suffix","locale","localeMatcher","currency","currencyDisplay","useGrouping","showButtons"],["type","button","aria-haspopup","true",1,"p-column-filter-menu-button","p-link",3,"ngClass","click","keydown"],["icon",""],[1,"pi","pi-filter-icon","pi-filter"],["type","button",1,"p-column-filter-clear-button","p-link",3,"ngClass","click"],[1,"pi","pi-filter-slash"],[3,"ngClass","click","keydown.escape"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-column-filter-row-items",4,"ngIf","ngIfElse"],["menu",""],[1,"p-column-filter-row-items"],["class","p-column-filter-row-item",3,"ngClass","click","keydown","keydown.enter",4,"ngFor","ngForOf"],[1,"p-column-filter-separator"],[1,"p-column-filter-row-item",3,"click","keydown","keydown.enter"],[1,"p-column-filter-row-item",3,"ngClass","click","keydown","keydown.enter"],["class","p-column-filter-operator",4,"ngIf"],[1,"p-column-filter-constraints"],["class","p-column-filter-constraint",4,"ngFor","ngForOf"],["class","p-column-filter-add-rule",4,"ngIf"],[1,"p-column-filter-buttonbar"],["type","button","pButton","","class","p-button-outlined p-button-sm","pRipple","",3,"label","click",4,"ngIf"],["type","button","pButton","","class","p-button-sm","pRipple","",3,"label","click",4,"ngIf"],[1,"p-column-filter-operator"],["styleClass","p-column-filter-operator-dropdown",3,"options","ngModel","ngModelChange"],[1,"p-column-filter-constraint"],["styleClass","p-column-filter-matchmode-dropdown",3,"options","ngModel","ngModelChange",4,"ngIf"],[3,"type","field","filterConstraint","filterTemplate","placeholder","minFractionDigits","maxFractionDigits","prefix","suffix","locale","localeMatcher","currency","currencyDisplay","useGrouping"],["type","button","pButton","","icon","pi pi-trash","class","p-column-filter-remove-button p-button-text p-button-danger p-button-sm","pRipple","",3,"label","click",4,"ngIf"],["styleClass","p-column-filter-matchmode-dropdown",3,"options","ngModel","ngModelChange"],["type","button","pButton","","icon","pi pi-trash","pRipple","",1,"p-column-filter-remove-button","p-button-text","p-button-danger","p-button-sm",3,"label","click"],[1,"p-column-filter-add-rule"],["type","button","pButton","","icon","pi pi-plus","pRipple","",1,"p-column-filter-add-button","p-button-text","p-button-sm",3,"label","click"],["type","button","pButton","","pRipple","",1,"p-button-outlined","p-button-sm",3,"label","click"],["type","button","pButton","","pRipple","",1,"p-button-sm",3,"label","click"]],template:function(oe,Le){1&oe&&(u.TgZ(0,"div",0),u.YNc(1,Co,1,15,"p-columnFilterFormElement",1),u.YNc(2,Wo,3,5,"button",2),u.YNc(3,$i,3,3,"button",3),u.YNc(4,Cr,6,14,"div",4),u.qZA()),2&oe&&(u.Q6J("ngClass",u.WLB(5,ga,"row"===Le.display,"menu"===Le.display)),u.xp6(1),u.Q6J("ngIf","row"===Le.display),u.xp6(1),u.Q6J("ngIf",Le.showMenuButton),u.xp6(1),u.Q6J("ngIf",Le.showClearButton&&"row"===Le.display),u.xp6(1),u.Q6J("ngIf",Le.showMenu&&Le.overlayVisible))},dependencies:function(){return[d.mk,d.sg,d.O5,d.tP,R.Lt,f.JJ,f.On,P.Hq,Ir]},encapsulation:2,data:{animation:[(0,e.X$)("overlayAnimation",[(0,e.eR)(":enter",[(0,e.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,e.jt)(".12s cubic-bezier(0, 0, 0.2, 1)")]),(0,e.eR)(":leave",[(0,e.jt)(".1s linear",(0,e.oB)({opacity:0}))])])]}}),At})(),Ir=(()=>{class At{constructor(oe,Le){this.dt=oe,this.colFilter=Le,this.useGrouping=!0}get showButtons(){return this.colFilter.showButtons}ngOnInit(){this.filterCallback=oe=>{this.filterConstraint.value=oe,this.dt._filter()}}onModelChange(oe){this.filterConstraint.value=oe,("boolean"===this.type||""===oe)&&this.dt._filter()}onTextInputEnterKeyDown(oe){this.dt._filter(),oe.preventDefault()}onNumericInputKeyDown(oe){"Enter"===oe.key&&(this.dt._filter(),oe.preventDefault())}}return At.\u0275fac=function(oe){return new(oe||At)(u.Y36(si),u.Y36(Yo))},At.\u0275cmp=u.Xpm({type:At,selectors:[["p-columnFilterFormElement"]],hostAttrs:[1,"p-element"],inputs:{field:"field",type:"type",filterConstraint:"filterConstraint",filterTemplate:"filterTemplate",placeholder:"placeholder",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",locale:"locale",localeMatcher:"localeMatcher",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["builtInElement",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],["type","text","pInputText","",3,"value","input","keydown.enter",4,"ngSwitchCase"],[3,"ngModel","showButtons","minFractionDigits","maxFractionDigits","prefix","suffix","placeholder","mode","locale","localeMatcher","currency","currencyDisplay","useGrouping","ngModelChange","onKeyDown",4,"ngSwitchCase"],[3,"ngModel","ngModelChange",4,"ngSwitchCase"],[3,"placeholder","ngModel","ngModelChange",4,"ngSwitchCase"],["type","text","pInputText","",3,"value","input","keydown.enter"],[3,"ngModel","showButtons","minFractionDigits","maxFractionDigits","prefix","suffix","placeholder","mode","locale","localeMatcher","currency","currencyDisplay","useGrouping","ngModelChange","onKeyDown"],[3,"ngModel","ngModelChange"],[3,"placeholder","ngModel","ngModelChange"]],template:function(oe,Le){if(1&oe&&(u.YNc(0,Da,2,5,"ng-container",0),u.YNc(1,Mr,5,5,"ng-template",null,1,u.W1O)),2&oe){const xt=u.MAs(2);u.Q6J("ngIf",Le.filterTemplate)("ngIfElse",xt)}},dependencies:[d.O5,d.tP,d.RF,d.n9,L.Rn,f.JJ,f.On,V.o,x.f,$],encapsulation:2}),At})(),Tr=(()=>{class At{}return At.\u0275fac=function(oe){return new(oe||At)},At.\u0275mod=u.oAB({type:At}),At.\u0275inj=u.cJS({imports:[d.ez,F.U,V.j,R.kW,f.u5,P.hJ,y.Qy,x._8,L.L$,z,T.v,_.m8,T.v]}),At})()},3725:(hn,ht,b)=>{"use strict";b.d(ht,{LU:()=>ne,x4:()=>j,xf:()=>fe});var e=b(5e3),d=b(9808),u=b(4119),f=b(5787),_=b(9783),P=b(5730);function x(J,X){1&J&&e.GkF(0)}function a(J,X){if(1&J&&(e.ynx(0),e.YNc(1,x,1,0,"ng-container",3),e.BQk()),2&J){const W=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",W.contentTemplate)}}function R(J,X){if(1&J&&(e.TgZ(0,"div",1),e.Hsn(1),e.YNc(2,a,2,1,"ng-container",2),e.qZA()),2&J){const W=e.oxw();e.Q6J("hidden",!W.selected),e.uIk("id",W.id)("aria-hidden",!W.selected)("aria-labelledby",W.id+"-label"),e.xp6(2),e.Q6J("ngIf",W.contentTemplate&&(W.cache?W.loaded:W.selected))}}const L=["*"],V=["content"],F=["navbar"],T=["prevBtn"],y=["nextBtn"],D=["inkbar"];function k(J,X){if(1&J){const W=e.EpF();e.TgZ(0,"button",12,13),e.NdJ("click",function(){e.CHM(W);const Te=e.oxw();return e.KtG(Te.navBackward())}),e._UZ(2,"span",14),e.qZA()}}function B(J,X){if(1&J&&e._UZ(0,"span",24),2&J){const W=e.oxw(3).$implicit;e.Q6J("ngClass",W.leftIcon)}}function N(J,X){if(1&J&&e._UZ(0,"span",25),2&J){const W=e.oxw(3).$implicit;e.Q6J("ngClass",W.rightIcon)}}function ce(J,X){if(1&J&&(e.ynx(0),e.YNc(1,B,1,1,"span",21),e.TgZ(2,"span",22),e._uU(3),e.qZA(),e.YNc(4,N,1,1,"span",23),e.BQk()),2&J){const W=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",W.leftIcon),e.xp6(2),e.Oqu(W.header),e.xp6(1),e.Q6J("ngIf",W.rightIcon)}}function $(J,X){1&J&&e.GkF(0)}function z(J,X){if(1&J){const W=e.EpF();e.TgZ(0,"span",26),e.NdJ("click",function(Te){e.CHM(W);const Ae=e.oxw(2).$implicit,Ke=e.oxw();return e.KtG(Ke.close(Te,Ae))}),e.qZA()}}const S=function(J,X){return{"p-highlight":J,"p-disabled":X}};function O(J,X){if(1&J){const W=e.EpF();e.TgZ(0,"li",16)(1,"a",17),e.NdJ("click",function(Te){e.CHM(W);const Ae=e.oxw().$implicit,Ke=e.oxw();return e.KtG(Ke.open(Te,Ae))})("keydown.enter",function(Te){e.CHM(W);const Ae=e.oxw().$implicit,Ke=e.oxw();return e.KtG(Ke.open(Te,Ae))}),e.YNc(2,ce,5,3,"ng-container",18),e.YNc(3,$,1,0,"ng-container",19),e.YNc(4,z,1,0,"span",20),e.qZA()()}if(2&J){const W=e.oxw().$implicit;e.Tol(W.headerStyleClass),e.Q6J("ngClass",e.WLB(16,S,W.selected,W.disabled))("ngStyle",W.headerStyle),e.xp6(1),e.Q6J("pTooltip",W.tooltip)("tooltipPosition",W.tooltipPosition)("positionStyle",W.tooltipPositionStyle)("tooltipStyleClass",W.tooltipStyleClass),e.uIk("id",W.id+"-label")("aria-selected",W.selected)("aria-controls",W.id)("aria-selected",W.selected)("tabindex",W.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",!W.headerTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",W.headerTemplate),e.xp6(1),e.Q6J("ngIf",W.closable)}}function K(J,X){1&J&&e.YNc(0,O,5,19,"li",15),2&J&&e.Q6J("ngIf",!X.$implicit.closed)}function ue(J,X){if(1&J){const W=e.EpF();e.TgZ(0,"button",27,28),e.NdJ("click",function(){e.CHM(W);const Te=e.oxw();return e.KtG(Te.navForward())}),e._UZ(2,"span",29),e.qZA()}}const q=function(J){return{"p-tabview p-component":!0,"p-tabview-scrollable":J}};let G=0,j=(()=>{class J{constructor(W,Y,Te){this.viewContainer=Y,this.cd=Te,this.cache=!0,this.tooltipPosition="top",this.tooltipPositionStyle="absolute",this.id="p-tabpanel-"+G++,this.tabView=W}ngAfterContentInit(){this.templates.forEach(W=>{"header"===W.getType()?this.headerTemplate=W.template:this.contentTemplate=W.template})}get selected(){return this._selected}set selected(W){this._selected=W,this.loaded||this.cd.detectChanges(),W&&(this.loaded=!0)}get disabled(){return this._disabled}set disabled(W){this._disabled=W,this.tabView.cd.markForCheck()}get header(){return this._header}set header(W){this._header=W,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(W){this._leftIcon=W,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(W){this._rightIcon=W,this.tabView.cd.markForCheck()}ngOnDestroy(){this.view=null}}return J.\u0275fac=function(W){return new(W||J)(e.Y36((0,e.Gpc)(()=>fe)),e.Y36(e.s_b),e.Y36(e.sBO))},J.\u0275cmp=e.Xpm({type:J,selectors:[["p-tabPanel"]],contentQueries:function(W,Y,Te){if(1&W&&e.Suo(Te,_.jx,4),2&W){let Ae;e.iGM(Ae=e.CRH())&&(Y.templates=Ae)}},hostAttrs:[1,"p-element"],inputs:{closable:"closable",headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:"cache",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},ngContentSelectors:L,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(W,Y){1&W&&(e.F$t(),e.YNc(0,R,3,5,"div",0)),2&W&&e.Q6J("ngIf",!Y.closed)},dependencies:[d.O5,d.tP],encapsulation:2}),J})(),fe=(()=>{class J{constructor(W,Y){this.el=W,this.cd=Y,this.orientation="top",this.onChange=new e.vpe,this.onClose=new e.vpe,this.activeIndexChange=new e.vpe,this.backwardIsDisabled=!0,this.forwardIsDisabled=!1}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(W=>{this.initTabs()})}ngAfterViewChecked(){this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe()}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}open(W,Y){if(Y.disabled)W&&W.preventDefault();else{if(!Y.selected){let Te=this.findSelectedTab();Te&&(Te.selected=!1),this.tabChanged=!0,Y.selected=!0;let Ae=this.findTabIndex(Y);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(Ae),this.onChange.emit({originalEvent:W,index:Ae}),this.updateScrollBar(Ae)}W&&W.preventDefault()}}close(W,Y){this.controlClose?this.onClose.emit({originalEvent:W,index:this.findTabIndex(Y),close:()=>{this.closeTab(Y)}}):(this.closeTab(Y),this.onClose.emit({originalEvent:W,index:this.findTabIndex(Y)})),W.stopPropagation()}closeTab(W){if(!W.disabled){if(W.selected){this.tabChanged=!0,W.selected=!1;for(let Y=0;Y<this.tabs.length;Y++){let Te=this.tabs[Y];if(!Te.closed&&!W.disabled){Te.selected=!0;break}}}W.closed=!0}}findSelectedTab(){for(let W=0;W<this.tabs.length;W++)if(this.tabs[W].selected)return this.tabs[W];return null}findTabIndex(W){let Y=-1;for(let Te=0;Te<this.tabs.length;Te++)if(this.tabs[Te]==W){Y=Te;break}return Y}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(W){this._activeIndex=W,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(W))}updateInkBar(){if(this.navbar){const W=P.p.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!W)return;this.inkbar.nativeElement.style.width=P.p.getWidth(W)+"px",this.inkbar.nativeElement.style.left=P.p.getOffset(W).left-P.p.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(W){this.navbar.nativeElement.children[W].scrollIntoView({block:"nearest"})}updateButtonState(){const W=this.content.nativeElement,{scrollLeft:Y,scrollWidth:Te}=W,Ae=P.p.getWidth(W);this.backwardIsDisabled=0===Y,this.forwardIsDisabled=parseInt(Y)===Te-Ae}onScroll(W){this.scrollable&&this.updateButtonState(),W.preventDefault()}getVisibleButtonWidths(){var W,Y;return[null===(W=this.prevBtn)||void 0===W?void 0:W.nativeElement,null===(Y=this.nextBtn)||void 0===Y?void 0:Y.nativeElement].reduce((Te,Ae)=>Ae?Te+P.p.getWidth(Ae):Te,0)}navBackward(){const W=this.content.nativeElement,Y=P.p.getWidth(W)-this.getVisibleButtonWidths(),Te=W.scrollLeft-Y;W.scrollLeft=Te<=0?0:Te}navForward(){const W=this.content.nativeElement,Y=P.p.getWidth(W)-this.getVisibleButtonWidths(),Te=W.scrollLeft+Y,Ae=W.scrollWidth-Y;W.scrollLeft=Te>=Ae?Ae:Te}}return J.\u0275fac=function(W){return new(W||J)(e.Y36(e.SBq),e.Y36(e.sBO))},J.\u0275cmp=e.Xpm({type:J,selectors:[["p-tabView"]],contentQueries:function(W,Y,Te){if(1&W&&e.Suo(Te,j,4),2&W){let Ae;e.iGM(Ae=e.CRH())&&(Y.tabPanels=Ae)}},viewQuery:function(W,Y){if(1&W&&(e.Gf(V,5),e.Gf(F,5),e.Gf(T,5),e.Gf(y,5),e.Gf(D,5)),2&W){let Te;e.iGM(Te=e.CRH())&&(Y.content=Te.first),e.iGM(Te=e.CRH())&&(Y.navbar=Te.first),e.iGM(Te=e.CRH())&&(Y.prevBtn=Te.first),e.iGM(Te=e.CRH())&&(Y.nextBtn=Te.first),e.iGM(Te=e.CRH())&&(Y.inkbar=Te.first)}},hostAttrs:[1,"p-element"],inputs:{orientation:"orientation",style:"style",styleClass:"styleClass",controlClose:"controlClose",scrollable:"scrollable",activeIndex:"activeIndex"},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},ngContentSelectors:L,decls:13,vars:9,consts:[[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["content",""],["role","tablist",1,"p-tabview-nav"],["navbar",""],["ngFor","",3,"ngForOf"],[1,"p-tabview-ink-bar"],["inkbar",""],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],["prevBtn",""],[1,"pi","pi-chevron-left"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","click","keydown.enter"],[4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tabview-close pi pi-times",3,"click",4,"ngIf"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-close","pi","pi-times",3,"click"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"],["nextBtn",""],[1,"pi","pi-chevron-right"]],template:function(W,Y){1&W&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,k,3,0,"button",2),e.TgZ(3,"div",3,4),e.NdJ("scroll",function(Ae){return Y.onScroll(Ae)}),e.TgZ(5,"ul",5,6),e.YNc(7,K,1,1,"ng-template",7),e._UZ(8,"li",8,9),e.qZA()(),e.YNc(10,ue,3,0,"button",10),e.qZA(),e.TgZ(11,"div",11),e.Hsn(12),e.qZA()()),2&W&&(e.Tol(Y.styleClass),e.Q6J("ngClass",e.VKq(7,q,Y.scrollable))("ngStyle",Y.style),e.xp6(2),e.Q6J("ngIf",Y.scrollable&&!Y.backwardIsDisabled),e.xp6(5),e.Q6J("ngForOf",Y.tabs),e.xp6(3),e.Q6J("ngIf",Y.scrollable&&!Y.forwardIsDisabled))},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,u.u,f.H],styles:[".p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:flex;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}\n"],encapsulation:2,changeDetection:0}),J})(),ne=(()=>{class J{}return J.\u0275fac=function(W){return new(W||J)},J.\u0275mod=e.oAB({type:J}),J.\u0275inj=e.cJS({imports:[d.ez,_.m8,u.z,f.T,_.m8]}),J})()},7773:(hn,ht,b)=>{"use strict";b.d(ht,{EV:()=>ce,FN:()=>N});var e=b(5e3),d=b(9808),u=b(9783),f=b(5921),_=b(5787),P=b(1777);const x=["container"],a=function($,z,S,O){return{"pi-info-circle":$,"pi-exclamation-triangle":z,"pi-times-circle":S,"pi-check":O}};function R($,z){if(1&$&&(e.ynx(0),e._UZ(1,"span",6),e.TgZ(2,"div",7)(3,"div",8),e._uU(4),e.qZA(),e.TgZ(5,"div",9),e._uU(6),e.qZA()(),e.BQk()),2&$){const S=e.oxw();e.xp6(1),e.Tol("p-toast-message-icon pi"+(S.message.icon?" "+S.message.icon:"")),e.Q6J("ngClass",e.l5B(5,a,"info"==S.message.severity,"warn"==S.message.severity,"error"==S.message.severity,"success"==S.message.severity)),e.xp6(3),e.Oqu(S.message.summary),e.xp6(2),e.Oqu(S.message.detail)}}function L($,z){1&$&&e.GkF(0)}function V($,z){if(1&$){const S=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(K){e.CHM(S);const ue=e.oxw();return e.KtG(ue.onCloseIconClick(K))})("keydown.enter",function(K){e.CHM(S);const ue=e.oxw();return e.KtG(ue.onCloseIconClick(K))}),e._UZ(1,"span",11),e.qZA()}}const F=function($){return[$,"p-toast-message"]},T=function($,z,S,O){return{showTransformParams:$,hideTransformParams:z,showTransitionParams:S,hideTransitionParams:O}},y=function($){return{value:"visible",params:$}},D=function($){return{$implicit:$}};function k($,z){if(1&$){const S=e.EpF();e.TgZ(0,"p-toastItem",3),e.NdJ("onClose",function(K){e.CHM(S);const ue=e.oxw();return e.KtG(ue.onMessageClose(K))})("@toastAnimation.start",function(K){e.CHM(S);const ue=e.oxw();return e.KtG(ue.onAnimationStart(K))})("@toastAnimation.done",function(K){e.CHM(S);const ue=e.oxw();return e.KtG(ue.onAnimationEnd(K))}),e.qZA()}if(2&$){const S=z.$implicit,O=z.index,K=e.oxw();e.Q6J("message",S)("index",O)("template",K.template)("@toastAnimation",void 0)("showTransformOptions",K.showTransformOptions)("hideTransformOptions",K.hideTransformOptions)("showTransitionOptions",K.showTransitionOptions)("hideTransitionOptions",K.hideTransitionOptions)}}let B=(()=>{class ${constructor(S){this.zone=S,this.onClose=new e.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(S){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),S.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return $.\u0275fac=function(S){return new(S||$)(e.Y36(e.R0b))},$.\u0275cmp=e.Xpm({type:$,selectors:[["p-toastItem"]],viewQuery:function(S,O){if(1&S&&e.Gf(x,5),2&S){let K;e.iGM(K=e.CRH())&&(O.containerViewChild=K.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(S,O){1&S&&(e.TgZ(0,"div",0,1),e.NdJ("mouseenter",function(){return O.onMouseEnter()})("mouseleave",function(){return O.onMouseLeave()}),e.TgZ(2,"div",2),e.YNc(3,R,7,10,"ng-container",3),e.YNc(4,L,1,0,"ng-container",4),e.YNc(5,V,2,0,"button",5),e.qZA()()),2&S&&(e.Tol(O.message.styleClass),e.Q6J("ngClass",e.VKq(10,F,"p-toast-message-"+O.message.severity))("@messageState",e.VKq(17,y,e.l5B(12,T,O.showTransformOptions,O.hideTransformOptions,O.showTransitionOptions,O.hideTransitionOptions))),e.uIk("id",O.message.id),e.xp6(2),e.Q6J("ngClass",O.message.contentStyleClass),e.xp6(1),e.Q6J("ngIf",!O.template),e.xp6(1),e.Q6J("ngTemplateOutlet",O.template)("ngTemplateOutletContext",e.VKq(19,D,O.message)),e.xp6(1),e.Q6J("ngIf",!1!==O.message.closable))},dependencies:[d.mk,d.O5,d.tP,_.H],encapsulation:2,data:{animation:[(0,P.X$)("messageState",[(0,P.SB)("visible",(0,P.oB)({transform:"translateY(0)",opacity:1})),(0,P.eR)("void => *",[(0,P.oB)({transform:"{{showTransformParams}}",opacity:0}),(0,P.jt)("{{showTransitionParams}}")]),(0,P.eR)("* => void",[(0,P.jt)("{{hideTransitionParams}}",(0,P.oB)({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),$})(),N=(()=>{class ${constructor(S,O,K){this.messageService=S,this.cd=O,this.config=K,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new e.vpe,this.id=(0,f.Th)()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(S=>{if(S)if(S instanceof Array){const O=S.filter(K=>this.canAdd(K));this.add(O)}else this.canAdd(S)&&this.add([S])}),this.clearSubscription=this.messageService.clearObserver.subscribe(S=>{S?this.key===S&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(S){this.messages=this.messages?[...this.messages,...S]:[...S],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...S]:[...S]),this.cd.markForCheck()}canAdd(S){let O=this.key===S.key;return O&&this.preventOpenDuplicates&&(O=!this.containsMessage(this.messages,S)),O&&this.preventDuplicates&&(O=!this.containsMessage(this.messagesArchieve,S)),O}containsMessage(S,O){return!!S&&null!=S.find(K=>K.summary===O.summary&&K.detail==O.detail&&K.severity===O.severity)}ngAfterContentInit(){this.templates.forEach(S=>{S.getType(),this.template=S.template})}onMessageClose(S){this.messages.splice(S.index,1),this.onClose.emit({message:S.message}),this.cd.detectChanges()}onAnimationStart(S){"void"===S.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&""===this.containerViewChild.nativeElement.style.zIndex&&f.P9.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(S){"void"===S.toState&&this.autoZIndex&&f.gb.isEmpty(this.messages)&&f.P9.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let S="";for(let O in this.breakpoints){let K="";for(let ue in this.breakpoints[O])K+=ue+":"+this.breakpoints[O][ue]+" !important;";S+=`\n                    @media screen and (max-width: ${O}) {\n                        .p-toast[${this.id}] {\n                           ${K}\n                        }\n                    }\n                `}this.styleElement.innerHTML=S}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&f.P9.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return $.\u0275fac=function(S){return new(S||$)(e.Y36(u.ez),e.Y36(e.sBO),e.Y36(u.b4))},$.\u0275cmp=e.Xpm({type:$,selectors:[["p-toast"]],contentQueries:function(S,O,K){if(1&S&&e.Suo(K,u.jx,4),2&S){let ue;e.iGM(ue=e.CRH())&&(O.templates=ue)}},viewQuery:function(S,O){if(1&S&&e.Gf(x,5),2&S){let K;e.iGM(K=e.CRH())&&(O.containerViewChild=K.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(S,O){1&S&&(e.TgZ(0,"div",0,1),e.YNc(2,k,1,8,"p-toastItem",2),e.qZA()),2&S&&(e.Tol(O.styleClass),e.Q6J("ngClass","p-toast p-component p-toast-"+O.position)("ngStyle",O.style),e.xp6(2),e.Q6J("ngForOf",O.messages))},dependencies:[d.mk,d.sg,d.PC,B],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[(0,P.X$)("toastAnimation",[(0,P.eR)(":enter, :leave",[(0,P.IO)("@*",(0,P.pV)())])])]},changeDetection:0}),$})(),ce=(()=>{class ${}return $.\u0275fac=function(S){return new(S||$)},$.\u0275mod=e.oAB({type:$}),$.\u0275inj=e.cJS({imports:[d.ez,_.T,u.m8]}),$})()},4119:(hn,ht,b)=>{"use strict";b.d(ht,{u:()=>P,z:()=>x});var e=b(5e3),d=b(9808),u=b(5730),f=b(5921),_=b(9783);let P=(()=>{class a{constructor(L,V,F){this.el=L,this.zone=V,this.config=F,this.escape=!0,this.fitContent=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(L){this._disabled=L,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let L=this.getTarget(this.el.nativeElement);L.addEventListener("focus",this.focusListener),L.addEventListener("blur",this.blurListener)}})}ngOnChanges(L){L.tooltipPosition&&this.setOption({tooltipPosition:L.tooltipPosition.currentValue}),L.tooltipEvent&&this.setOption({tooltipEvent:L.tooltipEvent.currentValue}),L.appendTo&&this.setOption({appendTo:L.appendTo.currentValue}),L.positionStyle&&this.setOption({positionStyle:L.positionStyle.currentValue}),L.tooltipStyleClass&&this.setOption({tooltipStyleClass:L.tooltipStyleClass.currentValue}),L.tooltipZIndex&&this.setOption({tooltipZIndex:L.tooltipZIndex.currentValue}),L.escape&&this.setOption({escape:L.escape.currentValue}),L.showDelay&&this.setOption({showDelay:L.showDelay.currentValue}),L.hideDelay&&this.setOption({hideDelay:L.hideDelay.currentValue}),L.life&&this.setOption({life:L.life.currentValue}),L.positionTop&&this.setOption({positionTop:L.positionTop.currentValue}),L.positionLeft&&this.setOption({positionLeft:L.positionLeft.currentValue}),L.disabled&&this.setOption({disabled:L.disabled.currentValue}),L.text&&(this.setOption({tooltipLabel:L.text.currentValue}),this.active&&(L.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),L.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),L.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(L){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(L){this.deactivate()}onFocus(L){this.activate()}onBlur(L){this.deactivate()}onClick(L){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let L=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},L)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let L=document.createElement("div");L.className="p-tooltip-arrow",this.container.appendChild(L),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?u.p.appendChild(this.container,this.el.nativeElement):u.p.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content")}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),u.p.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?f.P9.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&f.P9.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let L=this.el.nativeElement.getBoundingClientRect();return{left:L.left+u.p.getWindowScrollLeft(),top:L.top+u.p.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let L=this.getHostOffset(),V=L.left+u.p.getOuterWidth(this.el.nativeElement),F=L.top+(u.p.getOuterHeight(this.el.nativeElement)-u.p.getOuterHeight(this.container))/2;this.container.style.left=V+this.getOption("positionLeft")+"px",this.container.style.top=F+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let L=this.getHostOffset(),V=L.left-u.p.getOuterWidth(this.container),F=L.top+(u.p.getOuterHeight(this.el.nativeElement)-u.p.getOuterHeight(this.container))/2;this.container.style.left=V+this.getOption("positionLeft")+"px",this.container.style.top=F+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let L=this.getHostOffset(),V=L.left+(u.p.getOuterWidth(this.el.nativeElement)-u.p.getOuterWidth(this.container))/2,F=L.top-u.p.getOuterHeight(this.container);this.container.style.left=V+this.getOption("positionLeft")+"px",this.container.style.top=F+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let L=this.getHostOffset(),V=L.left+(u.p.getOuterWidth(this.el.nativeElement)-u.p.getOuterWidth(this.container))/2,F=L.top+u.p.getOuterHeight(this.el.nativeElement);this.container.style.left=V+this.getOption("positionLeft")+"px",this.container.style.top=F+this.getOption("positionTop")+"px"}setOption(L){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),L)}getOption(L){return this._tooltipOptions[L]}getTarget(L){return u.p.hasClass(L,"p-inputwrapper")?u.p.findSingle(L,"input"):L}preAlign(L){this.container.style.left="-999px",this.container.style.top="-999px";let V="p-tooltip p-component p-tooltip-"+L;this.container.className=this.getOption("tooltipStyleClass")?V+" "+this.getOption("tooltipStyleClass"):V}isOutOfBounds(){let L=this.container.getBoundingClientRect(),V=L.top,F=L.left,T=u.p.getOuterWidth(this.container),y=u.p.getOuterHeight(this.container),D=u.p.getViewport();return F+T>D.width||F<0||V<0||V+y>D.height}onWindowResize(L){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new u.V(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let L=this.getTarget(this.el.nativeElement);L.removeEventListener("focus",this.focusListener),L.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):u.p.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&f.P9.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return a.\u0275fac=function(L){return new(L||a)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(_.b4))},a.\u0275dir=e.lG2({type:a,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",fitContent:"fitContent",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[e.TTD]}),a})(),x=(()=>{class a{}return a.\u0275fac=function(L){return new(L||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[d.ez]}),a})()},2629:(hn,ht,b)=>{"use strict";b.d(ht,{mp:()=>de,xc:()=>Qe});var e=b(5e3),d=b(9808),u=b(9783),f=b(5921),_=b(5730),P=b(5787),x=b(5871);const a=function(ze){return{"p-treenode-droppoint-active":ze}};function R(ze,Et){if(1&ze){const Be=e.EpF();e.TgZ(0,"li",4),e.NdJ("drop",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt.onDropPoint(gn,-1))})("dragover",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt.onDropPointDragOver(gn))})("dragenter",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt.onDropPointDragEnter(gn,-1))})("dragleave",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt.onDropPointDragLeave(gn))}),e.qZA()}if(2&ze){const Be=e.oxw(2);e.Q6J("ngClass",e.VKq(1,a,Be.draghoverPrev))}}const L=function(ze){return{"p-checkbox-disabled":ze}},V=function(ze,Et){return{"p-highlight":ze,"p-indeterminate":Et}},F=function(ze,Et){return{"pi-check":ze,"pi-minus":Et}};function T(ze,Et){if(1&ze&&(e.TgZ(0,"div",13)(1,"div",14),e._UZ(2,"span",15),e.qZA()()),2&ze){const Be=e.oxw(3);e.Q6J("ngClass",e.VKq(4,L,!1===Be.node.selectable)),e.uIk("aria-checked",Be.isSelected()),e.xp6(1),e.Q6J("ngClass",e.WLB(6,V,Be.isSelected(),Be.node.partialSelected)),e.xp6(1),e.Q6J("ngClass",e.WLB(9,F,Be.isSelected(),Be.node.partialSelected))}}function y(ze,Et){if(1&ze&&e._UZ(0,"span"),2&ze){const Be=e.oxw(3);e.Tol(Be.getIcon())}}function D(ze,Et){if(1&ze&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&ze){const Be=e.oxw(3);e.xp6(1),e.Oqu(Be.node.label)}}function k(ze,Et){1&ze&&e.GkF(0)}const B=function(ze){return{$implicit:ze}};function N(ze,Et){if(1&ze&&(e.TgZ(0,"span"),e.YNc(1,k,1,0,"ng-container",16),e.qZA()),2&ze){const Be=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",Be.tree.getTemplateForNode(Be.node))("ngTemplateOutletContext",e.VKq(2,B,Be.node))}}function ce(ze,Et){if(1&ze&&e._UZ(0,"p-treeNode",19),2&ze){const Be=Et.$implicit,qt=Et.first,gn=Et.last,Qt=Et.index,Mn=e.oxw(4);e.Q6J("node",Be)("parentNode",Mn.node)("firstChild",qt)("lastChild",gn)("index",Qt)("itemSize",Mn.itemSize)("level",Mn.level+1)}}function $(ze,Et){if(1&ze&&(e.TgZ(0,"ul",17),e.YNc(1,ce,1,7,"p-treeNode",18),e.qZA()),2&ze){const Be=e.oxw(3);e.Udp("display",Be.node.expanded?"block":"none"),e.xp6(1),e.Q6J("ngForOf",Be.node.children)("ngForTrackBy",Be.tree.trackBy)}}const z=function(ze,Et){return["p-treenode",ze,Et]},S=function(ze){return{height:ze}},O=function(ze,Et,Be){return{"p-treenode-selectable":ze,"p-treenode-dragover":Et,"p-highlight":Be}},K=function(ze,Et){return{"pi-chevron-right":ze,"pi-chevron-down":Et}};function ue(ze,Et){if(1&ze){const Be=e.EpF();e.TgZ(0,"li",5)(1,"div",6),e.NdJ("click",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt.onNodeClick(gn))})("contextmenu",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt.onNodeRightClick(gn))})("touchend",function(){e.CHM(Be);const gn=e.oxw(2);return e.KtG(gn.onNodeTouchEnd())})("drop",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt.onDropNode(gn))})("dragover",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt.onDropNodeDragOver(gn))})("dragenter",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt.onDropNodeDragEnter(gn))})("dragleave",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt.onDropNodeDragLeave(gn))})("dragstart",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt.onDragStart(gn))})("dragend",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt.onDragStop(gn))})("keydown",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt.onKeyDown(gn))}),e.TgZ(2,"button",7),e.NdJ("click",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt.toggle(gn))}),e._UZ(3,"span",8),e.qZA(),e.YNc(4,T,3,12,"div",9),e.YNc(5,y,1,2,"span",3),e.TgZ(6,"span",10),e.YNc(7,D,2,1,"span",11),e.YNc(8,N,2,4,"span",11),e.qZA()(),e.YNc(9,$,2,4,"ul",12),e.qZA()}if(2&ze){const Be=e.oxw(2);e.Akn(Be.node.style),e.Q6J("ngClass",e.WLB(20,z,Be.node.styleClass||"",Be.isLeaf()?"p-treenode-leaf":""))("ngStyle",e.VKq(23,S,Be.itemSize+"px")),e.xp6(1),e.Udp("padding-left",Be.level*Be.indentation+"rem"),e.Q6J("draggable",Be.tree.draggableNodes)("ngClass",e.kEZ(25,O,Be.tree.selectionMode&&!1!==Be.node.selectable,Be.draghoverNode,Be.isSelected())),e.uIk("tabindex",0)("aria-posinset",Be.index+1)("aria-expanded",Be.node.expanded)("aria-selected",Be.isSelected())("aria-label",Be.node.label),e.xp6(1),e.uIk("aria-label",Be.tree.togglerAriaLabel),e.xp6(1),e.Q6J("ngClass",e.WLB(29,K,!Be.node.expanded,Be.node.expanded)),e.xp6(1),e.Q6J("ngIf","checkbox"==Be.tree.selectionMode),e.xp6(1),e.Q6J("ngIf",Be.node.icon||Be.node.expandedIcon||Be.node.collapsedIcon),e.xp6(2),e.Q6J("ngIf",!Be.tree.getTemplateForNode(Be.node)),e.xp6(1),e.Q6J("ngIf",Be.tree.getTemplateForNode(Be.node)),e.xp6(1),e.Q6J("ngIf",!Be.tree.virtualScroll&&Be.node.children&&Be.node.expanded)}}function q(ze,Et){if(1&ze){const Be=e.EpF();e.TgZ(0,"li",4),e.NdJ("drop",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt.onDropPoint(gn,1))})("dragover",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt.onDropPointDragOver(gn))})("dragenter",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt.onDropPointDragEnter(gn,1))})("dragleave",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt.onDropPointDragLeave(gn))}),e.qZA()}if(2&ze){const Be=e.oxw(2);e.Q6J("ngClass",e.VKq(1,a,Be.draghoverNext))}}const G=function(ze){return{"p-treenode-connector-line":ze}};function j(ze,Et){if(1&ze&&(e.TgZ(0,"td",25)(1,"table",26)(2,"tbody")(3,"tr"),e._UZ(4,"td",27),e.qZA(),e.TgZ(5,"tr"),e._UZ(6,"td",27),e.qZA()()()()),2&ze){const Be=e.oxw(3);e.xp6(4),e.Q6J("ngClass",e.VKq(2,G,!Be.firstChild)),e.xp6(2),e.Q6J("ngClass",e.VKq(4,G,!Be.lastChild))}}const fe=function(ze,Et){return{"pi-plus":ze,"pi-minus":Et}};function ne(ze,Et){if(1&ze){const Be=e.EpF();e.TgZ(0,"span",28),e.NdJ("click",function(gn){e.CHM(Be);const Qt=e.oxw(3);return e.KtG(Qt.toggle(gn))}),e.qZA()}if(2&ze){const Be=e.oxw(3);e.Q6J("ngClass",e.WLB(2,fe,!Be.node.expanded,Be.node.expanded)),e.uIk("aria-label",Be.tree.togglerAriaLabel)}}function J(ze,Et){if(1&ze&&e._UZ(0,"span"),2&ze){const Be=e.oxw(3);e.Tol(Be.getIcon())}}function X(ze,Et){if(1&ze&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&ze){const Be=e.oxw(3);e.xp6(1),e.Oqu(Be.node.label)}}function W(ze,Et){1&ze&&e.GkF(0)}function Y(ze,Et){if(1&ze&&(e.TgZ(0,"span"),e.YNc(1,W,1,0,"ng-container",16),e.qZA()),2&ze){const Be=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",Be.tree.getTemplateForNode(Be.node))("ngTemplateOutletContext",e.VKq(2,B,Be.node))}}function Te(ze,Et){if(1&ze&&e._UZ(0,"p-treeNode",32),2&ze){const qt=Et.first,gn=Et.last;e.Q6J("node",Et.$implicit)("firstChild",qt)("lastChild",gn)}}function Ae(ze,Et){if(1&ze&&(e.TgZ(0,"td",29)(1,"div",30),e.YNc(2,Te,1,3,"p-treeNode",31),e.qZA()()),2&ze){const Be=e.oxw(3);e.Udp("display",Be.node.expanded?"table-cell":"none"),e.xp6(2),e.Q6J("ngForOf",Be.node.children)("ngForTrackBy",Be.tree.trackBy)}}const Ke=function(ze){return{"p-treenode-collapsed":ze}},be=function(ze,Et){return{"p-treenode-selectable":ze,"p-highlight":Et}};function Ge(ze,Et){if(1&ze){const Be=e.EpF();e.TgZ(0,"table")(1,"tbody")(2,"tr"),e.YNc(3,j,7,6,"td",20),e.TgZ(4,"td",21)(5,"div",22),e.NdJ("click",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt.onNodeClick(gn))})("contextmenu",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt.onNodeRightClick(gn))})("touchend",function(){e.CHM(Be);const gn=e.oxw(2);return e.KtG(gn.onNodeTouchEnd())})("keydown",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt.onNodeKeydown(gn))}),e.YNc(6,ne,1,5,"span",23),e.YNc(7,J,1,2,"span",3),e.TgZ(8,"span",10),e.YNc(9,X,2,1,"span",11),e.YNc(10,Y,2,4,"span",11),e.qZA()()(),e.YNc(11,Ae,3,4,"td",24),e.qZA()()()}if(2&ze){const Be=e.oxw(2);e.Tol(Be.node.styleClass),e.xp6(3),e.Q6J("ngIf",!Be.root),e.xp6(1),e.Q6J("ngClass",e.VKq(10,Ke,!Be.node.expanded)),e.xp6(1),e.Q6J("ngClass",e.WLB(12,be,Be.tree.selectionMode,Be.isSelected())),e.xp6(1),e.Q6J("ngIf",!Be.isLeaf()),e.xp6(1),e.Q6J("ngIf",Be.node.icon||Be.node.expandedIcon||Be.node.collapsedIcon),e.xp6(2),e.Q6J("ngIf",!Be.tree.getTemplateForNode(Be.node)),e.xp6(1),e.Q6J("ngIf",Be.tree.getTemplateForNode(Be.node)),e.xp6(1),e.Q6J("ngIf",Be.node.children&&Be.node.expanded)}}function ee(ze,Et){if(1&ze&&(e.YNc(0,R,1,3,"li",1),e.YNc(1,ue,10,32,"li",2),e.YNc(2,q,1,3,"li",1),e.YNc(3,Ge,12,15,"table",3)),2&ze){const Be=e.oxw();e.Q6J("ngIf",Be.tree.droppableNodes),e.xp6(1),e.Q6J("ngIf",!Be.tree.horizontal),e.xp6(1),e.Q6J("ngIf",Be.tree.droppableNodes&&Be.lastChild),e.xp6(1),e.Q6J("ngIf",Be.tree.horizontal)}}const xe=["filter"],we=["scroller"],Pe=["wrapper"];function dt(ze,Et){if(1&ze&&(e.TgZ(0,"div",9),e._UZ(1,"i"),e.qZA()),2&ze){const Be=e.oxw(2);e.xp6(1),e.Tol("p-tree-loading-icon pi-spin "+Be.loadingIcon)}}function bt(ze,Et){1&ze&&e.GkF(0)}function it(ze,Et){if(1&ze){const Be=e.EpF();e.TgZ(0,"div",10)(1,"input",11,12),e.NdJ("keydown.enter",function(gn){return gn.preventDefault()})("input",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt._filter(gn.target.value))}),e.qZA(),e._UZ(3,"span",13),e.qZA()}if(2&ze){const Be=e.oxw(2);e.xp6(1),e.uIk("placeholder",Be.filterPlaceholder)}}function Dt(ze,Et){if(1&ze&&e._UZ(0,"p-treeNode",20),2&ze){const Be=Et.$implicit,qt=Et.first,gn=Et.last,Qt=Et.index,Mn=e.oxw(2).options,Nt=e.oxw(3);e.Q6J("level",Be.level)("rowNode",Be)("node",Be.node)("firstChild",qt)("lastChild",gn)("index",Nt.getIndex(Mn,Qt))("itemSize",Mn.itemSize)("indentation",Nt.indentation)}}function vt(ze,Et){if(1&ze&&(e.TgZ(0,"ul",18),e.YNc(1,Dt,1,8,"p-treeNode",19),e.qZA()),2&ze){const Be=e.oxw(),qt=Be.options,gn=Be.$implicit,Qt=e.oxw(3);e.Akn(qt.contentStyle),e.Q6J("ngClass",qt.contentStyleClass),e.uIk("aria-label",Qt.ariaLabel)("aria-labelledby",Qt.ariaLabelledBy),e.xp6(1),e.Q6J("ngForOf",gn)("ngForTrackBy",Qt.trackBy)}}function Wt(ze,Et){1&ze&&e.YNc(0,vt,2,7,"ul",17),2&ze&&e.Q6J("ngIf",Et.$implicit)}function zt(ze,Et){1&ze&&e.GkF(0)}const Ut=function(ze){return{options:ze}};function ct(ze,Et){if(1&ze&&e.YNc(0,zt,1,0,"ng-container",22),2&ze){const Be=Et.options,qt=e.oxw(4);e.Q6J("ngTemplateOutlet",qt.loaderTemplate)("ngTemplateOutletContext",e.VKq(2,Ut,Be))}}function at(ze,Et){1&ze&&(e.ynx(0),e.YNc(1,ct,1,4,"ng-template",21),e.BQk())}function me(ze,Et){if(1&ze){const Be=e.EpF();e.TgZ(0,"p-scroller",14,15),e.NdJ("onScroll",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt.onScroll.emit(gn))})("onScrollIndexChange",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt.onScrollIndexChange.emit(gn))})("onLazyLoad",function(gn){e.CHM(Be);const Qt=e.oxw(2);return e.KtG(Qt.onLazyLoad.emit(gn))}),e.YNc(2,Wt,1,1,"ng-template",16),e.YNc(3,at,2,0,"ng-container",7),e.qZA()}if(2&ze){const Be=e.oxw(2);e.Akn(e.VKq(7,S,Be.scrollHeight)),e.Q6J("items",Be.serializedValue)("itemSize",Be.virtualScrollItemSize||Be._virtualNodeHeight)("lazy",Be.lazy)("options",Be.virtualScrollOptions),e.xp6(3),e.Q6J("ngIf",Be.loaderTemplate)}}function De(ze,Et){if(1&ze&&e._UZ(0,"p-treeNode",28),2&ze){const qt=Et.first,gn=Et.last,Qt=Et.index;e.Q6J("node",Et.$implicit)("firstChild",qt)("lastChild",gn)("index",Qt)("level",0)}}function ot(ze,Et){if(1&ze&&(e.TgZ(0,"ul",26),e.YNc(1,De,1,5,"p-treeNode",27),e.qZA()),2&ze){const Be=e.oxw(3);e.uIk("aria-label",Be.ariaLabel)("aria-labelledby",Be.ariaLabelledBy),e.xp6(1),e.Q6J("ngForOf",Be.getRootNode())("ngForTrackBy",Be.trackBy)}}function Ct(ze,Et){if(1&ze&&(e.ynx(0),e.TgZ(1,"div",23,24),e.YNc(3,ot,2,4,"ul",25),e.qZA(),e.BQk()),2&ze){const Be=e.oxw(2);e.xp6(1),e.Udp("max-height",Be.scrollHeight),e.xp6(2),e.Q6J("ngIf",Be.getRootNode())}}function Ot(ze,Et){if(1&ze&&(e.ynx(0),e._uU(1),e.BQk()),2&ze){const Be=e.oxw(3);e.xp6(1),e.hij(" ",Be.emptyMessageLabel," ")}}function Ft(ze,Et){1&ze&&e.GkF(0,null,31)}function Mt(ze,Et){if(1&ze&&(e.TgZ(0,"div",29),e.YNc(1,Ot,2,1,"ng-container",30),e.YNc(2,Ft,2,0,"ng-container",4),e.qZA()),2&ze){const Be=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!Be.emptyMessageTemplate)("ngIfElse",Be.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",Be.emptyMessageTemplate)}}function Ye(ze,Et){1&ze&&e.GkF(0)}const st=function(ze,Et,Be,qt){return{"p-tree p-component":!0,"p-tree-selectable":ze,"p-treenode-dragover":Et,"p-tree-loading":Be,"p-tree-flex-scrollable":qt}};function je(ze,Et){if(1&ze){const Be=e.EpF();e.TgZ(0,"div",2),e.NdJ("drop",function(gn){e.CHM(Be);const Qt=e.oxw();return e.KtG(Qt.onDrop(gn))})("dragover",function(gn){e.CHM(Be);const Qt=e.oxw();return e.KtG(Qt.onDragOver(gn))})("dragenter",function(){e.CHM(Be);const gn=e.oxw();return e.KtG(gn.onDragEnter())})("dragleave",function(gn){e.CHM(Be);const Qt=e.oxw();return e.KtG(Qt.onDragLeave(gn))}),e.YNc(1,dt,2,2,"div",3),e.YNc(2,bt,1,0,"ng-container",4),e.YNc(3,it,4,1,"div",5),e.YNc(4,me,4,9,"p-scroller",6),e.YNc(5,Ct,4,3,"ng-container",7),e.YNc(6,Mt,3,3,"div",8),e.YNc(7,Ye,1,0,"ng-container",4),e.qZA()}if(2&ze){const Be=e.oxw();e.Tol(Be.styleClass),e.Q6J("ngClass",e.l5B(11,st,Be.selectionMode,Be.dragHover,Be.loading,"flex"===Be.scrollHeight))("ngStyle",Be.style),e.xp6(1),e.Q6J("ngIf",Be.loading),e.xp6(1),e.Q6J("ngTemplateOutlet",Be.headerTemplate),e.xp6(1),e.Q6J("ngIf",Be.filter),e.xp6(1),e.Q6J("ngIf",Be.virtualScroll),e.xp6(1),e.Q6J("ngIf",!Be.virtualScroll),e.xp6(1),e.Q6J("ngIf",!Be.loading&&(null==Be.getRootNode()||0===Be.getRootNode().length)),e.xp6(1),e.Q6J("ngTemplateOutlet",Be.footerTemplate)}}function It(ze,Et){1&ze&&e.GkF(0)}function se(ze,Et){if(1&ze&&(e.TgZ(0,"div",34),e._UZ(1,"i"),e.qZA()),2&ze){const Be=e.oxw(2);e.xp6(1),e.Tol("p-tree-loading-icon pi-spin "+Be.loadingIcon)}}function Fe(ze,Et){if(1&ze&&(e.TgZ(0,"table"),e._UZ(1,"p-treeNode",35),e.qZA()),2&ze){const Be=e.oxw(2);e.xp6(1),e.Q6J("node",Be.value[0])("root",!0)}}function he(ze,Et){if(1&ze&&(e.ynx(0),e._uU(1),e.BQk()),2&ze){const Be=e.oxw(3);e.xp6(1),e.hij(" ",Be.emptyMessageLabel," ")}}function gt(ze,Et){1&ze&&e.GkF(0,null,31)}function cn(ze,Et){if(1&ze&&(e.TgZ(0,"div",29),e.YNc(1,he,2,1,"ng-container",30),e.YNc(2,gt,2,0,"ng-container",4),e.qZA()),2&ze){const Be=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!Be.emptyMessageTemplate)("ngIfElse",Be.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",Be.emptyMessageTemplate)}}function Tn(ze,Et){1&ze&&e.GkF(0)}const en=function(ze){return{"p-tree p-tree-horizontal p-component":!0,"p-tree-selectable":ze}};function _t(ze,Et){if(1&ze&&(e.TgZ(0,"div",32),e.YNc(1,It,1,0,"ng-container",4),e.YNc(2,se,2,2,"div",33),e.YNc(3,Fe,2,2,"table",7),e.YNc(4,cn,3,3,"div",8),e.YNc(5,Tn,1,0,"ng-container",4),e.qZA()),2&ze){const Be=e.oxw();e.Tol(Be.styleClass),e.Q6J("ngClass",e.VKq(9,en,Be.selectionMode))("ngStyle",Be.style),e.xp6(1),e.Q6J("ngTemplateOutlet",Be.headerTemplate),e.xp6(1),e.Q6J("ngIf",Be.loading),e.xp6(1),e.Q6J("ngIf",Be.value&&Be.value[0]),e.xp6(1),e.Q6J("ngIf",!Be.loading&&(null==Be.getRootNode()||0===Be.getRootNode().length)),e.xp6(1),e.Q6J("ngTemplateOutlet",Be.footerTemplate)}}let tt=(()=>{class ze{constructor(Be){this.tree=Be}ngOnInit(){this.node.parent=this.parentNode,this.parentNode&&this.tree.syncNodeOption(this.node,this.tree.value,"parent",this.tree.getNodeWithKey(this.parentNode.key,this.tree.value))}getIcon(){let Be;return Be=this.node.icon?this.node.icon:this.node.expanded&&this.node.children&&this.node.children.length?this.node.expandedIcon:this.node.collapsedIcon,ze.ICON_CLASS+" "+Be}isLeaf(){return this.tree.isNodeLeaf(this.node)}toggle(Be){this.node.expanded?this.collapse(Be):this.expand(Be)}expand(Be){this.node.expanded=!0,this.tree.virtualScroll&&this.tree.updateSerializedValue(),this.tree.onNodeExpand.emit({originalEvent:Be,node:this.node})}collapse(Be){this.node.expanded=!1,this.tree.virtualScroll&&this.tree.updateSerializedValue(),this.tree.onNodeCollapse.emit({originalEvent:Be,node:this.node})}onNodeClick(Be){this.tree.onNodeClick(Be,this.node)}onNodeKeydown(Be){13===Be.which&&this.tree.onNodeClick(Be,this.node)}onNodeTouchEnd(){this.tree.onNodeTouchEnd()}onNodeRightClick(Be){this.tree.onNodeRightClick(Be,this.node)}isSelected(){return this.tree.isSelected(this.node)}onDropPoint(Be,qt){Be.preventDefault();let gn=this.tree.dragNode,Nt=this.tree.dragNodeTree!==this.tree||1===qt||this.tree.dragNodeIndex!==this.index-1;if(this.tree.allowDrop(gn,this.node,this.tree.dragNodeScope)&&Nt){let rn=Object.assign({},this.createDropPointEventMetadata(qt));this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:Be,dragNode:gn,dropNode:this.node,index:this.index,accept:()=>{this.processPointDrop(rn)}}):(this.processPointDrop(rn),this.tree.onNodeDrop.emit({originalEvent:Be,dragNode:gn,dropNode:this.node,index:this.index}))}this.draghoverPrev=!1,this.draghoverNext=!1}processPointDrop(Be){let qt=Be.dropNode.parent?Be.dropNode.parent.children:this.tree.value;Be.dragNodeSubNodes.splice(Be.dragNodeIndex,1);let gn=this.index;Be.position<0?(gn=Be.dragNodeSubNodes===qt?Be.dragNodeIndex>Be.index?Be.index:Be.index-1:Be.index,qt.splice(gn,0,Be.dragNode)):(gn=qt.length,qt.push(Be.dragNode)),this.tree.dragDropService.stopDrag({node:Be.dragNode,subNodes:Be.dropNode.parent?Be.dropNode.parent.children:this.tree.value,index:Be.dragNodeIndex})}createDropPointEventMetadata(Be){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node,index:this.index,position:Be}}onDropPointDragOver(Be){Be.dataTransfer.dropEffect="move",Be.preventDefault()}onDropPointDragEnter(Be,qt){this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(qt<0?this.draghoverPrev=!0:this.draghoverNext=!0)}onDropPointDragLeave(Be){this.draghoverPrev=!1,this.draghoverNext=!1}onDragStart(Be){this.tree.draggableNodes&&!1!==this.node.draggable?(Be.dataTransfer.setData("text","data"),this.tree.dragDropService.startDrag({tree:this,node:this.node,subNodes:this.node.parent?this.node.parent.children:this.tree.value,index:this.index,scope:this.tree.draggableScope})):Be.preventDefault()}onDragStop(Be){this.tree.dragDropService.stopDrag({node:this.node,subNodes:this.node.parent?this.node.parent.children:this.tree.value,index:this.index})}onDropNodeDragOver(Be){Be.dataTransfer.dropEffect="move",this.tree.droppableNodes&&(Be.preventDefault(),Be.stopPropagation())}onDropNode(Be){if(this.tree.droppableNodes&&!1!==this.node.droppable){let qt=this.tree.dragNode;if(this.tree.allowDrop(qt,this.node,this.tree.dragNodeScope)){let gn=Object.assign({},this.createDropNodeEventMetadata());this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:Be,dragNode:qt,dropNode:this.node,index:this.index,accept:()=>{this.processNodeDrop(gn)}}):(this.processNodeDrop(gn),this.tree.onNodeDrop.emit({originalEvent:Be,dragNode:qt,dropNode:this.node,index:this.index}))}}Be.preventDefault(),Be.stopPropagation(),this.draghoverNode=!1}createDropNodeEventMetadata(){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node}}processNodeDrop(Be){let qt=Be.dragNodeIndex;Be.dragNodeSubNodes.splice(qt,1),Be.dropNode.children?Be.dropNode.children.push(Be.dragNode):Be.dropNode.children=[Be.dragNode],this.tree.dragDropService.stopDrag({node:Be.dragNode,subNodes:Be.dropNode.parent?Be.dropNode.parent.children:this.tree.value,index:qt})}onDropNodeDragEnter(Be){this.tree.droppableNodes&&!1!==this.node.droppable&&this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(this.draghoverNode=!0)}onDropNodeDragLeave(Be){if(this.tree.droppableNodes){let qt=Be.currentTarget.getBoundingClientRect();(Be.x>qt.left+qt.width||Be.x<qt.left||Be.y>=Math.floor(qt.top+qt.height)||Be.y<qt.top)&&(this.draghoverNode=!1)}}onKeyDown(Be){const qt=Be.target.parentElement.parentElement;if(!("P-TREENODE"!==qt.nodeName||this.tree.contextMenu&&"block"===this.tree.contextMenu.containerViewChild.nativeElement.style.display))switch(Be.which){case 40:const gn=this.tree.droppableNodes?qt.children[1].children[1]:qt.children[0].children[1];if(gn&&gn.children.length>0)this.focusNode(gn.children[0]);else{const Qt=qt.nextElementSibling;if(Qt)this.focusNode(Qt);else{let Mn=this.findNextSiblingOfAncestor(qt);Mn&&this.focusNode(Mn)}}Be.preventDefault();break;case 38:if(qt.previousElementSibling)this.focusNode(this.findLastVisibleDescendant(qt.previousElementSibling));else{let Qt=this.getParentNodeElement(qt);Qt&&this.focusNode(Qt)}Be.preventDefault();break;case 39:!this.node.expanded&&!this.tree.isNodeLeaf(this.node)&&this.expand(Be),Be.preventDefault();break;case 37:if(this.node.expanded)this.collapse(Be);else{let Qt=this.getParentNodeElement(qt);Qt&&this.focusNode(Qt)}Be.preventDefault();break;case 13:this.tree.onNodeClick(Be,this.node),Be.preventDefault()}}findNextSiblingOfAncestor(Be){let qt=this.getParentNodeElement(Be);return qt?qt.nextElementSibling?qt.nextElementSibling:this.findNextSiblingOfAncestor(qt):null}findLastVisibleDescendant(Be){const gn=Array.from(Be.children).find(Qt=>_.p.hasClass(Qt,"p-treenode")).children[1];return gn&&gn.children.length>0?this.findLastVisibleDescendant(gn.children[gn.children.length-1]):Be}getParentNodeElement(Be){const qt=Be.parentElement.parentElement.parentElement;return"P-TREENODE"===qt.tagName?qt:null}focusNode(Be){this.tree.droppableNodes?Be.children[1].children[0].focus():Be.children[0].children[0].focus()}}return ze.ICON_CLASS="p-treenode-icon ",ze.\u0275fac=function(Be){return new(Be||ze)(e.Y36((0,e.Gpc)(()=>de)))},ze.\u0275cmp=e.Xpm({type:ze,selectors:[["p-treeNode"]],hostAttrs:[1,"p-element"],inputs:{rowNode:"rowNode",node:"node",parentNode:"parentNode",root:"root",index:"index",firstChild:"firstChild",lastChild:"lastChild",level:"level",indentation:"indentation",itemSize:"itemSize"},decls:1,vars:1,consts:[[3,"ngIf"],["class","p-treenode-droppoint",3,"ngClass","drop","dragover","dragenter","dragleave",4,"ngIf"],[3,"ngClass","ngStyle","style",4,"ngIf"],[3,"class",4,"ngIf"],[1,"p-treenode-droppoint",3,"ngClass","drop","dragover","dragenter","dragleave"],[3,"ngClass","ngStyle"],["role","treeitem",1,"p-treenode-content",3,"draggable","ngClass","click","contextmenu","touchend","drop","dragover","dragenter","dragleave","dragstart","dragend","keydown"],["type","button","pRipple","","tabindex","-1",1,"p-tree-toggler","p-link",3,"click"],[1,"p-tree-toggler-icon","pi","pi-fw",3,"ngClass"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[1,"p-treenode-label"],[4,"ngIf"],["class","p-treenode-children","style","display: none;","role","group",3,"display",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-checkbox-icon","pi",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","group",1,"p-treenode-children",2,"display","none"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level"],["class","p-treenode-connector",4,"ngIf"],[1,"p-treenode",3,"ngClass"],["tabindex","0",1,"p-treenode-content",3,"ngClass","click","contextmenu","touchend","keydown"],["class","p-tree-toggler pi pi-fw",3,"ngClass","click",4,"ngIf"],["class","p-treenode-children-container",3,"display",4,"ngIf"],[1,"p-treenode-connector"],[1,"p-treenode-connector-table"],[3,"ngClass"],[1,"p-tree-toggler","pi","pi-fw",3,"ngClass","click"],[1,"p-treenode-children-container"],[1,"p-treenode-children"],[3,"node","firstChild","lastChild",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild"]],template:function(Be,qt){1&Be&&e.YNc(0,ee,4,4,"ng-template",0),2&Be&&e.Q6J("ngIf",qt.node)},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,P.H,ze],encapsulation:2}),ze})(),de=(()=>{class ze{constructor(Be,qt,gn){this.el=Be,this.dragDropService=qt,this.config=gn,this.layout="vertical",this.metaKeySelection=!0,this.propagateSelectionUp=!0,this.propagateSelectionDown=!0,this.loadingIcon="pi pi-spinner",this.emptyMessage="",this.filterBy="label",this.filterMode="lenient",this.lazy=!1,this.indentation=1.5,this.trackBy=(Qt,Mn)=>Mn,this.selectionChange=new e.vpe,this.onNodeSelect=new e.vpe,this.onNodeUnselect=new e.vpe,this.onNodeExpand=new e.vpe,this.onNodeCollapse=new e.vpe,this.onNodeContextMenuSelect=new e.vpe,this.onNodeDrop=new e.vpe,this.onLazyLoad=new e.vpe,this.onScroll=new e.vpe,this.onScrollIndexChange=new e.vpe,this.onFilter=new e.vpe}get virtualNodeHeight(){return this._virtualNodeHeight}set virtualNodeHeight(Be){this._virtualNodeHeight=Be,console.warn("The virtualNodeHeight property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.droppableNodes&&(this.dragStartSubscription=this.dragDropService.dragStart$.subscribe(Be=>{this.dragNodeTree=Be.tree,this.dragNode=Be.node,this.dragNodeSubNodes=Be.subNodes,this.dragNodeIndex=Be.index,this.dragNodeScope=Be.scope}),this.dragStopSubscription=this.dragDropService.dragStop$.subscribe(Be=>{this.dragNodeTree=null,this.dragNode=null,this.dragNodeSubNodes=null,this.dragNodeIndex=null,this.dragNodeScope=null,this.dragHover=!1}))}ngOnChanges(Be){Be.value&&this.updateSerializedValue()}get horizontal(){return"horizontal"==this.layout}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(u.ws.EMPTY_MESSAGE)}ngAfterContentInit(){this.templates.length&&(this._templateMap={}),this.templates.forEach(Be=>{switch(Be.getType()){case"header":this.headerTemplate=Be.template;break;case"empty":this.emptyMessageTemplate=Be.template;break;case"footer":this.footerTemplate=Be.template;break;case"loader":this.loaderTemplate=Be.template;break;default:this._templateMap[Be.name]=Be.template}})}updateSerializedValue(){this.serializedValue=[],this.serializeNodes(null,this.getRootNode(),0,!0)}serializeNodes(Be,qt,gn,Qt){if(qt&&qt.length)for(let Mn of qt){Mn.parent=Be;const Nt={node:Mn,parent:Be,level:gn,visible:Qt&&(!Be||Be.expanded)};this.serializedValue.push(Nt),Nt.visible&&Mn.expanded&&this.serializeNodes(Mn,Mn.children,gn+1,Nt.visible)}}onNodeClick(Be,qt){let gn=Be.target;if(!_.p.hasClass(gn,"p-tree-toggler")&&!_.p.hasClass(gn,"p-tree-toggler-icon")){if(this.selectionMode){if(!1===qt.selectable||this.hasFilteredNodes()&&!(qt=this.getNodeWithKey(qt.key,this.value)))return;let Qt=this.findIndexInSelection(qt),Mn=Qt>=0;if(this.isCheckboxSelectionMode())Mn?(this.propagateSelectionDown?this.propagateDown(qt,!1):this.selection=this.selection.filter((Nt,rn)=>rn!=Qt),this.propagateSelectionUp&&qt.parent&&this.propagateUp(qt.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:Be,node:qt})):(this.propagateSelectionDown?this.propagateDown(qt,!0):this.selection=[...this.selection||[],qt],this.propagateSelectionUp&&qt.parent&&this.propagateUp(qt.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:Be,node:qt}));else if(!this.nodeTouched&&this.metaKeySelection){let rn=Be.metaKey||Be.ctrlKey;Mn&&rn?(this.isSingleSelectionMode()?this.selectionChange.emit(null):(this.selection=this.selection.filter((Bn,Hn)=>Hn!=Qt),this.selectionChange.emit(this.selection)),this.onNodeUnselect.emit({originalEvent:Be,node:qt})):(this.isSingleSelectionMode()?this.selectionChange.emit(qt):this.isMultipleSelectionMode()&&(this.selection=rn&&this.selection||[],this.selection=[...this.selection,qt],this.selectionChange.emit(this.selection)),this.onNodeSelect.emit({originalEvent:Be,node:qt}))}else this.isSingleSelectionMode()?Mn?(this.selection=null,this.onNodeUnselect.emit({originalEvent:Be,node:qt})):(this.selection=qt,this.onNodeSelect.emit({originalEvent:Be,node:qt})):Mn?(this.selection=this.selection.filter((rn,Bn)=>Bn!=Qt),this.onNodeUnselect.emit({originalEvent:Be,node:qt})):(this.selection=[...this.selection||[],qt],this.onNodeSelect.emit({originalEvent:Be,node:qt})),this.selectionChange.emit(this.selection)}this.nodeTouched=!1}}onNodeTouchEnd(){this.nodeTouched=!0}onNodeRightClick(Be,qt){if(this.contextMenu){let gn=Be.target;if(gn.className&&0===gn.className.indexOf("p-tree-toggler"))return;this.findIndexInSelection(qt)>=0||(this.isSingleSelectionMode()?this.selectionChange.emit(qt):this.selectionChange.emit([qt])),this.contextMenu.show(Be),this.onNodeContextMenuSelect.emit({originalEvent:Be,node:qt})}}findIndexInSelection(Be){let qt=-1;if(this.selectionMode&&this.selection)if(this.isSingleSelectionMode())qt=this.selection.key&&this.selection.key===Be.key||this.selection==Be?0:-1;else for(let gn=0;gn<this.selection.length;gn++){let Qt=this.selection[gn];if(Qt.key&&Qt.key===Be.key||Qt==Be){qt=gn;break}}return qt}syncNodeOption(Be,qt,gn,Qt){const Mn=this.hasFilteredNodes()?this.getNodeWithKey(Be.key,qt):null;Mn&&(Mn[gn]=Qt||Be[gn])}hasFilteredNodes(){return this.filter&&this.filteredNodes&&this.filteredNodes.length}getNodeWithKey(Be,qt){for(let gn of qt){if(gn.key===Be)return gn;if(gn.children){let Qt=this.getNodeWithKey(Be,gn.children);if(Qt)return Qt}}}propagateUp(Be,qt){if(Be.children&&Be.children.length){let Qt=0,Mn=!1;for(let Nt of Be.children)this.isSelected(Nt)?Qt++:Nt.partialSelected&&(Mn=!0);if(qt&&Qt==Be.children.length)this.selection=[...this.selection||[],Be],Be.partialSelected=!1;else{if(!qt){let Nt=this.findIndexInSelection(Be);Nt>=0&&(this.selection=this.selection.filter((rn,Bn)=>Bn!=Nt))}Be.partialSelected=!!(Mn||Qt>0&&Qt!=Be.children.length)}this.syncNodeOption(Be,this.filteredNodes,"partialSelected")}let gn=Be.parent;gn&&this.propagateUp(gn,qt)}propagateDown(Be,qt){let gn=this.findIndexInSelection(Be);if(qt&&-1==gn?this.selection=[...this.selection||[],Be]:!qt&&gn>-1&&(this.selection=this.selection.filter((Qt,Mn)=>Mn!=gn)),Be.partialSelected=!1,this.syncNodeOption(Be,this.filteredNodes,"partialSelected"),Be.children&&Be.children.length)for(let Qt of Be.children)this.propagateDown(Qt,qt)}isSelected(Be){return-1!=this.findIndexInSelection(Be)}isSingleSelectionMode(){return this.selectionMode&&"single"==this.selectionMode}isMultipleSelectionMode(){return this.selectionMode&&"multiple"==this.selectionMode}isCheckboxSelectionMode(){return this.selectionMode&&"checkbox"==this.selectionMode}isNodeLeaf(Be){return 0!=Be.leaf&&!(Be.children&&Be.children.length)}getRootNode(){return this.filteredNodes?this.filteredNodes:this.value}getTemplateForNode(Be){return this._templateMap?Be.type?this._templateMap[Be.type]:this._templateMap.default:null}onDragOver(Be){this.droppableNodes&&(!this.value||0===this.value.length)&&(Be.dataTransfer.dropEffect="move",Be.preventDefault())}onDrop(Be){if(this.droppableNodes&&(!this.value||0===this.value.length)){Be.preventDefault();let qt=this.dragNode;if(this.allowDrop(qt,null,this.dragNodeScope)){let gn=this.dragNodeIndex;this.value=this.value||[],this.validateDrop?this.onNodeDrop.emit({originalEvent:Be,dragNode:qt,dropNode:null,index:gn,accept:()=>{this.processTreeDrop(qt,gn)}}):(this.onNodeDrop.emit({originalEvent:Be,dragNode:qt,dropNode:null,index:gn}),this.processTreeDrop(qt,gn))}}}processTreeDrop(Be,qt){this.dragNodeSubNodes.splice(qt,1),this.value.push(Be),this.dragDropService.stopDrag({node:Be})}onDragEnter(){this.droppableNodes&&this.allowDrop(this.dragNode,null,this.dragNodeScope)&&(this.dragHover=!0)}onDragLeave(Be){if(this.droppableNodes){let qt=Be.currentTarget.getBoundingClientRect();(Be.x>qt.left+qt.width||Be.x<qt.left||Be.y>qt.top+qt.height||Be.y<qt.top)&&(this.dragHover=!1)}}allowDrop(Be,qt,gn){if(Be){if(this.isValidDragScope(gn)){let Qt=!0;if(qt)if(Be===qt)Qt=!1;else{let Mn=qt.parent;for(;null!=Mn;){if(Mn===Be){Qt=!1;break}Mn=Mn.parent}}return Qt}return!1}return!1}isValidDragScope(Be){let qt=this.droppableScope;if(qt){if("string"==typeof qt){if("string"==typeof Be)return qt===Be;if(Be instanceof Array)return-1!=Be.indexOf(qt)}else if(qt instanceof Array){if("string"==typeof Be)return-1!=qt.indexOf(Be);if(Be instanceof Array)for(let gn of qt)for(let Qt of Be)if(gn===Qt)return!0}return!1}return!0}_filter(Be){let qt=Be;if(""===qt)this.filteredNodes=null;else{this.filteredNodes=[];const gn=this.filterBy.split(","),Qt=f.gb.removeAccents(qt).toLocaleLowerCase(this.filterLocale),Mn="strict"===this.filterMode;for(let Nt of this.value){let rn=Object.assign({},Nt),Bn={searchFields:gn,filterText:Qt,isStrictMode:Mn};(Mn&&(this.findFilteredNodes(rn,Bn)||this.isFilterMatched(rn,Bn))||!Mn&&(this.isFilterMatched(rn,Bn)||this.findFilteredNodes(rn,Bn)))&&this.filteredNodes.push(rn)}}this.updateSerializedValue(),this.onFilter.emit({filter:qt,filteredValue:this.filteredNodes})}resetFilter(){this.filteredNodes=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}scrollToVirtualIndex(Be){this.virtualScroll&&this.scroller.scrollToIndex(Be)}scrollTo(Be){this.virtualScroll?this.scroller.scrollTo(Be):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(Be):(this.wrapperViewChild.nativeElement.scrollLeft=Be.left,this.wrapperViewChild.nativeElement.scrollTop=Be.top))}findFilteredNodes(Be,qt){if(Be){let gn=!1;if(Be.children){let Qt=[...Be.children];Be.children=[];for(let Mn of Qt){let Nt=Object.assign({},Mn);this.isFilterMatched(Nt,qt)&&(gn=!0,Be.children.push(Nt))}}if(gn)return Be.expanded=!0,!0}}isFilterMatched(Be,{searchFields:qt,filterText:gn,isStrictMode:Qt}){let Mn=!1;for(let Nt of qt)f.gb.removeAccents(String(f.gb.resolveFieldData(Be,Nt))).toLocaleLowerCase(this.filterLocale).indexOf(gn)>-1&&(Mn=!0);return(!Mn||Qt&&!this.isNodeLeaf(Be))&&(Mn=this.findFilteredNodes(Be,{searchFields:qt,filterText:gn,isStrictMode:Qt})||Mn),Mn}getIndex(Be,qt){const gn=Be.getItemOptions;return gn?gn(qt).index:qt}getBlockableElement(){return this.el.nativeElement.children[0]}ngOnDestroy(){this.dragStartSubscription&&this.dragStartSubscription.unsubscribe(),this.dragStopSubscription&&this.dragStopSubscription.unsubscribe()}}return ze.\u0275fac=function(Be){return new(Be||ze)(e.Y36(e.SBq),e.Y36(u.Y,8),e.Y36(u.b4))},ze.\u0275cmp=e.Xpm({type:ze,selectors:[["p-tree"]],contentQueries:function(Be,qt,gn){if(1&Be&&e.Suo(gn,u.jx,4),2&Be){let Qt;e.iGM(Qt=e.CRH())&&(qt.templates=Qt)}},viewQuery:function(Be,qt){if(1&Be&&(e.Gf(xe,5),e.Gf(we,5),e.Gf(Pe,5)),2&Be){let gn;e.iGM(gn=e.CRH())&&(qt.filterViewChild=gn.first),e.iGM(gn=e.CRH())&&(qt.scroller=gn.first),e.iGM(gn=e.CRH())&&(qt.wrapperViewChild=gn.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",selectionMode:"selectionMode",selection:"selection",style:"style",styleClass:"styleClass",contextMenu:"contextMenu",layout:"layout",draggableScope:"draggableScope",droppableScope:"droppableScope",draggableNodes:"draggableNodes",droppableNodes:"droppableNodes",metaKeySelection:"metaKeySelection",propagateSelectionUp:"propagateSelectionUp",propagateSelectionDown:"propagateSelectionDown",loading:"loading",loadingIcon:"loadingIcon",emptyMessage:"emptyMessage",ariaLabel:"ariaLabel",togglerAriaLabel:"togglerAriaLabel",ariaLabelledBy:"ariaLabelledBy",validateDrop:"validateDrop",filter:"filter",filterBy:"filterBy",filterMode:"filterMode",filterPlaceholder:"filterPlaceholder",filteredNodes:"filteredNodes",filterLocale:"filterLocale",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",indentation:"indentation",_templateMap:"_templateMap",trackBy:"trackBy",virtualNodeHeight:"virtualNodeHeight"},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onNodeContextMenuSelect:"onNodeContextMenuSelect",onNodeDrop:"onNodeDrop",onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange",onFilter:"onFilter"},features:[e.TTD],decls:2,vars:2,consts:[[3,"ngClass","ngStyle","class","drop","dragover","dragenter","dragleave",4,"ngIf"],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","ngStyle","drop","dragover","dragenter","dragleave"],["class","p-tree-loading-overlay p-component-overlay",4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tree-filter-container",4,"ngIf"],["styleClass","p-tree-wrapper",3,"items","style","itemSize","lazy","options","onScroll","onScrollIndexChange","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-tree-empty-message",4,"ngIf"],[1,"p-tree-loading-overlay","p-component-overlay"],[1,"p-tree-filter-container"],["type","text","autocomplete","off",1,"p-tree-filter","p-inputtext","p-component",3,"keydown.enter","input"],["filter",""],[1,"p-tree-filter-icon","pi","pi-search"],["styleClass","p-tree-wrapper",3,"items","itemSize","lazy","options","onScroll","onScrollIndexChange","onLazyLoad"],["scroller",""],["pTemplate","content"],["class","p-tree-container","role","tree",3,"ngClass","style",4,"ngIf"],["role","tree",1,"p-tree-container",3,"ngClass"],[3,"level","rowNode","node","firstChild","lastChild","index","itemSize","indentation",4,"ngFor","ngForOf","ngForTrackBy"],[3,"level","rowNode","node","firstChild","lastChild","index","itemSize","indentation"],["pTemplate","loader"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-tree-wrapper"],["wrapper",""],["class","p-tree-container","role","tree",4,"ngIf"],["role","tree",1,"p-tree-container"],[3,"node","firstChild","lastChild","index","level",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild","index","level"],[1,"p-tree-empty-message"],[4,"ngIf","ngIfElse"],["emptyFilter",""],[3,"ngClass","ngStyle"],["class","p-tree-loading-mask p-component-overlay",4,"ngIf"],[1,"p-tree-loading-mask","p-component-overlay"],[3,"node","root"]],template:function(Be,qt){1&Be&&(e.YNc(0,je,8,16,"div",0),e.YNc(1,_t,6,11,"div",1)),2&Be&&(e.Q6J("ngIf",!qt.horizontal),e.xp6(1),e.Q6J("ngIf",qt.horizontal))},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,u.jx,x.T,tt],styles:[".p-tree-container{margin:0;padding:0;list-style-type:none;overflow:auto}.p-treenode-children{margin:0;padding:0;list-style-type:none}.p-tree-wrapper{overflow:auto}.p-treenode-selectable{cursor:pointer;-webkit-user-select:none;user-select:none}.p-tree-toggler{cursor:pointer;-webkit-user-select:none;user-select:none;display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex-shrink:0}.p-treenode-leaf>.p-treenode-content .p-tree-toggler{visibility:hidden}.p-treenode-content{display:flex;align-items:center}.p-tree-filter{width:100%}.p-tree-filter-container{position:relative;display:block;width:100%}.p-tree-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-tree-loading{position:relative;min-height:4rem}.p-tree .p-tree-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-tree-flex-scrollable{display:flex;flex:1;height:100%;flex-direction:column}.p-tree-flex-scrollable .p-tree-wrapper{flex:1}.p-tree .p-treenode-droppoint{height:4px;list-style-type:none}.p-tree .p-treenode-droppoint-active{border:0 none}.p-tree-horizontal{width:auto;padding-left:0;padding-right:0;overflow:auto}.p-tree.p-tree-horizontal table,.p-tree.p-tree-horizontal tr,.p-tree.p-tree-horizontal td{border-collapse:collapse;margin:0;padding:0;vertical-align:middle}.p-tree-horizontal .p-treenode-content{font-weight:400;padding:.4em 1em .4em .2em;display:flex;align-items:center}.p-tree-horizontal .p-treenode-parent .p-treenode-content{font-weight:400;white-space:nowrap}.p-tree.p-tree-horizontal .p-treenode{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-x scroll center center transparent;padding:.25rem 2.5rem}.p-tree.p-tree-horizontal .p-treenode.p-treenode-leaf,.p-tree.p-tree-horizontal .p-treenode.p-treenode-collapsed{padding-right:0}.p-tree.p-tree-horizontal .p-treenode-children{padding:0;margin:0}.p-tree.p-tree-horizontal .p-treenode-connector{width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-table{height:100%;width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-line{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-y scroll 0 0 transparent;width:1px}.p-tree.p-tree-horizontal table{height:0}.p-scroller .p-tree-container{overflow:visible}\n"],encapsulation:2}),ze})(),Qe=(()=>{class ze{}return ze.\u0275fac=function(Be){return new(Be||ze)},ze.\u0275mod=e.oAB({type:ze}),ze.\u0275inj=e.cJS({imports:[d.ez,u.m8,P.T,x.v,u.m8,x.v]}),ze})()},5921:(hn,ht,b)=>{"use strict";b.d(ht,{P9:()=>_,Th:()=>u,gb:()=>e});class e{static equals(x,a,R){return R?this.resolveFieldData(x,R)===this.resolveFieldData(a,R):this.equalsByValue(x,a)}static equalsByValue(x,a){if(x===a)return!0;if(x&&a&&"object"==typeof x&&"object"==typeof a){var V,F,T,R=Array.isArray(x),L=Array.isArray(a);if(R&&L){if((F=x.length)!=a.length)return!1;for(V=F;0!=V--;)if(!this.equalsByValue(x[V],a[V]))return!1;return!0}if(R!=L)return!1;var y=x instanceof Date,D=a instanceof Date;if(y!=D)return!1;if(y&&D)return x.getTime()==a.getTime();var k=x instanceof RegExp,B=a instanceof RegExp;if(k!=B)return!1;if(k&&B)return x.toString()==a.toString();var N=Object.keys(x);if((F=N.length)!==Object.keys(a).length)return!1;for(V=F;0!=V--;)if(!Object.prototype.hasOwnProperty.call(a,N[V]))return!1;for(V=F;0!=V--;)if(!this.equalsByValue(x[T=N[V]],a[T]))return!1;return!0}return x!=x&&a!=a}static resolveFieldData(x,a){if(x&&a){if(this.isFunction(a))return a(x);if(-1==a.indexOf("."))return x[a];{let R=a.split("."),L=x;for(let V=0,F=R.length;V<F;++V){if(null==L)return null;L=L[R[V]]}return L}}return null}static isFunction(x){return!!(x&&x.constructor&&x.call&&x.apply)}static reorderArray(x,a,R){x&&a!==R&&(R>=x.length&&(R%=x.length,a%=x.length),x.splice(R,0,x.splice(a,1)[0]))}static insertIntoOrderedArray(x,a,R,L){if(R.length>0){let V=!1;for(let F=0;F<R.length;F++)if(this.findIndexInList(R[F],L)>a){R.splice(F,0,x),V=!0;break}V||R.push(x)}else R.push(x)}static findIndexInList(x,a){let R=-1;if(a)for(let L=0;L<a.length;L++)if(a[L]==x){R=L;break}return R}static contains(x,a){if(null!=x&&a&&a.length)for(let R of a)if(this.equals(x,R))return!0;return!1}static removeAccents(x){return x&&x.search(/[\xC0-\xFF]/g)>-1&&(x=x.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),x}static isEmpty(x){return null==x||""===x||Array.isArray(x)&&0===x.length||!(x instanceof Date)&&"object"==typeof x&&0===Object.keys(x).length}static isNotEmpty(x){return!this.isEmpty(x)}static compare(x,a,R,L=1){let V=-1;const F=this.isEmpty(x),T=this.isEmpty(a);return V=F&&T?0:F?L:T?-L:"string"==typeof x&&"string"==typeof a?x.localeCompare(a,R,{numeric:!0}):x<a?-1:x>a?1:0,V}static sort(x,a,R=1,L,V=1){return(1===V?R:V)*e.compare(x,a,L,R)}static merge(x,a){return null!=x&&"object"!=typeof x||null!=a&&"object"!=typeof a?null!=x&&"string"!=typeof x||null!=a&&"string"!=typeof a?a||x:[x||"",a||""].join(" "):Object.assign(Object.assign({},x||{}),a||{})}}var d=0;function u(){return"pr_id_"+ ++d}var _=function f(){let P=[];const L=V=>V&&parseInt(V.style.zIndex,10)||0;return{get:L,set:(V,F,T)=>{F&&(F.style.zIndex=String(((V,F)=>{let T=P.length>0?P[P.length-1]:{key:V,value:F},y=T.value+(T.key===V?0:F)+1;return P.push({key:V,value:y}),y})(V,T)))},clear:V=>{V&&((V=>{P=P.filter(F=>F.value!==V)})(L(V)),V.style.zIndex="")},getCurrent:()=>P.length>0?P[P.length-1].value:0}}()},5861:(hn,ht,b)=>{"use strict";function e(u,f,_,P,x,a,R){try{var L=u[a](R),V=L.value}catch(F){return void _(F)}L.done?f(V):Promise.resolve(V).then(P,x)}function d(u){return function(){var f=this,_=arguments;return new Promise(function(P,x){var a=u.apply(f,_);function R(V){e(a,P,x,R,L,"next",V)}function L(V){e(a,P,x,R,L,"throw",V)}R(void 0)})}}b.d(ht,{Z:()=>d})}},hn=>{hn(hn.s=8255)}]);